(()=>{var qd=Object.defineProperty;var v=(K,n)=>qd(K,"name",{value:n,configurable:!0});(window.webpackJsonp=window.webpackJsonp||[]).push([["client-boot"],{"+13P":function(K,n,e){"use strict";var s=e("R5WG");e.d(n,"b",function(){return s.b}),e.d(n,"a",function(){return s.a})},"+9Uj":function(K,n,e){"use strict";e.d(n,"a",function(){return a});var s=e("weKX");const t={},a=Object(s.c)("QuipEmbed",t)},"+F8K":function(K,n,e){"use strict";e.d(n,"b",function(){return x}),e.d(n,"a",function(){return M});var s=e("9oTK"),t=e.n(s),a=e("SQ0V"),r=e("Lgge"),c=e("yUYH"),o=e("KOcJ"),i=e("Yauy"),l=e("C3vN"),u=e("ehcD"),f=e("xwCZ"),d=e("y6S6"),O=e("eUIW"),m=e("bjy1"),g=e("DQNL"),E=e("Sl1j"),p=e("AIke"),h=e("Cwwo"),_=e("pu3F"),b=e("FdVR"),I=e("K7jq"),C=e("CaVW");const y=v((j,W)=>W.map(U=>U.pasted&&!U.entity?{value:U.value,entity:Object(f.g)(j,U.value)}:U),"getMemberInfoForPastedMembers"),P=v(j=>{const W=j.entity||{};return Object(O.a)(j==null?void 0:j.value)||Object(l.nb)(W)},"isAMember"),T=v(j=>{const W=j.entity||{};return Object(m.a)(j.value)||Object(g.x)(W)},"isAUserGroup"),S={[_.w.ALREADY_IN_CHANNEL]:!0,[_.w.CANNOT_INVITE_SELF]:!0,[_.w.ALREADY_IN_CHANNEL_UG]:!0},A={},R=v(j=>{let{shouldPreserve:W,teamId:U}=j;A[U]=W},"setShouldPreserveModalsOnNavigation"),x=v(j=>{let{teamId:W}=j;return A[W]},"getShouldPreserveModalsOnNavigation"),M=Object(a.c)("Add users and user groups to channel",function(){var j=Object(s.coroutine)(function*(W,U,B){let{selectedMembers:Y,addMemberMode:z,channel:F,keepChannelHistory:V,currentTeam:L,teamId:Q,shouldSkipInitialStage:ee}=B;const te={channelId:F.id,force:!0,reason:"submit-invite-channel-invite-modal"};let le,Oe;if(z===c.a.AllMembers)te.inviteAll=!0,le=[],Oe=[];else{const H=y(U(),Y),Z=Object(b.a)(U(),F),q=Object(i.z)(U(),F),k=Object(i.Eb)(U(),F),se=Object(C.a)(U(),F);le=H.reduce((re,X)=>{if(X&&P(X)&&X.entity){const w=X,ce=Object(d.c)(U(),F.id,w.value);if(!ce.isKnown||!ce.isMember){const ie=Object(u.e)(w.entity);(se||Object(I.a)(w.entity)&&ie&&Z.includes(ie)||Object(u.h)(w.entity,k)||Object(o.e)(w,L.id)&&!Object(o.a)(w,F,q))&&re.push(w.value)}}return re},[]),te.users=le.join(","),Oe=Y.reduce((re,X)=>(X&&T(X)&&re.push(X.value),re),[]),te.subteams=Oe.join(",")}const he=te.inviteAll||!!te.users||!!te.subteams,Ee={addedExistingMembers:he,userInviteResults:le.map(H=>({ok:!0,invitee:H,inviteeType:h.e.User,accessType:h.a.Member,error:""})),groupInviteResults:Oe.map(H=>({ok:!0,invitee:H,inviteeType:h.e.UserGroup,accessType:h.a.Member})),newChannelId:void 0};try{if(V)he&&(yield W(Object(E.B)(te)));else{R({shouldPreserve:!ee,teamId:Q}),te.propagateInviteResult=!0;const{channel:H}=yield W(Object(p.a)(te));Ee.newChannelId=H.id,R({shouldPreserve:!1,teamId:Q})}}catch(H){var ge;R({shouldPreserve:!1,teamId:Q});const Z=H==null||(ge=H.data)===null||ge===void 0?void 0:ge.errors;if(!Z){var J;if(!S[H==null||(J=H.data)===null||J===void 0?void 0:J.error])throw H}Z==null||Z.forEach(q=>{if(S[q.error])return;const k=Ee.userInviteResults.filter(re=>re.invitee===q.user);if(k.length)k[0].ok=!1,k[0].error=q.error;else if(Y.length===1&&!q.user&&ee){var se;Ee.userInviteResults=[{ok:!1,invitee:(se=Y[0])===null||se===void 0?void 0:se.value,inviteeType:h.e.User,error:q.error,accessType:h.a.Member}]}else Ee.userInviteResults.push({ok:!1,invitee:q.user,inviteeType:h.e.User,error:q.error,accessType:h.a.Member})})}return r.a.resolve(Ee)});return function(W,U,B){return j.apply(this,arguments)}}());M.meta={name:"createThunk",key:"createThunkaddUsersAndGroupsToChannel",description:"Add users and user groups to channel"}},"+GhL":function(K,n,e){"use strict";e.d(n,"x",function(){return C}),e.d(n,"z",function(){return P}),e.d(n,"A",function(){return S}),e.d(n,"y",function(){return A}),e.d(n,"g",function(){return R}),e.d(n,"h",function(){return x}),e.d(n,"l",function(){return j}),e.d(n,"n",function(){return U}),e.d(n,"j",function(){return B}),e.d(n,"r",function(){return Y}),e.d(n,"e",function(){return V}),e.d(n,"a",function(){return te}),e.d(n,"i",function(){return le}),e.d(n,"f",function(){return Oe}),e.d(n,"p",function(){return he}),e.d(n,"k",function(){return Ee}),e.d(n,"w",function(){return ge}),e.d(n,"c",function(){return H}),e.d(n,"d",function(){return Z}),e.d(n,"m",function(){return q}),e.d(n,"s",function(){return k}),e.d(n,"D",function(){return se}),e.d(n,"b",function(){return re}),e.d(n,"v",function(){return X}),e.d(n,"t",function(){return w}),e.d(n,"B",function(){return ce}),e.d(n,"C",function(){return ie}),e.d(n,"J",function(){return me}),e.d(n,"u",function(){return ue}),e.d(n,"q",function(){return _e}),e.d(n,"K",function(){return be}),e.d(n,"G",function(){return Ae}),e.d(n,"F",function(){return Ce}),e.d(n,"o",function(){return De}),e.d(n,"H",function(){return Pe}),e.d(n,"I",function(){return Ue}),e.d(n,"E",function(){return ae});var s=e("njXP"),t=e("Kmpi"),a=e("G0eX"),r=e("beVI"),c=e("xwCZ"),o=e("O86Y");function i(ne,Ie){if(ne.length<=Ie)return ne;const Te="\u2026",Me=ne.substring(0,Ie),Ne=Me.lastIndexOf(" ");return Ne>0&&Ne>Ie-15?Me.substring(0,Ne)+Te:Me.substring(0,Me.length-1)+Te}v(i,"truncateToNearestWordBoundary");var l=i,f=v(ne=>ne.trim().split(/\s+/).length,"getWordCount"),d=e("C3vN"),O=e("E3dU"),m=e("ptQX");function g(ne,Ie){const Te=Object(O.l)(ne,Ie&&Ie.id);return!(!Object(m.a)(ne,Ie&&Ie.id||"")&&!Te)&&!Object(d.Ab)(ne,Ie)}v(g,"isActionable");var E=e("5+iz"),p=e("yrot"),h=e("whaK"),_=e("nift"),b=e("V/As"),I=e("M4HD");const C=v(ne=>!!(ne&&ne.installation&&ne.installation.is_active),"isAppActive"),y=v(ne=>!!(ne&&ne.app_type===s.a.Slack),"isAppSlackIntegration"),P=v(ne=>!!(ne&&ne.app_type===s.a.CustomIntegration),"isAppCustomIntegration"),T=v(ne=>!!(ne&&ne.directory_profile&&ne.directory_profile.is_published),"isAppPublished"),S=v(ne=>!!(ne&&ne.directory_profile&&ne.directory_profile.is_distributed),"isAppDistributed"),A=v(ne=>!!(ne&&ne.directory_profile&&ne.directory_profile.is_approved),"isAppApproved"),R=v(ne=>ne&&ne.app_id,"getAppId"),x=v(ne=>{var Ie,Te;return(Ie=ne)===null||Ie===void 0||(Te=Ie.profile)===null||Te===void 0?void 0:Te.name},"getAppName"),M=v(ne=>ne&&ne.profile&&ne.profile.color,"getAppColor"),j=v(ne=>ne&&ne.profile&&ne.profile.tagline,"getAppTagline"),W=v(ne=>ne&&ne.profile&&ne.profile.custom_integration_type,"getAppCustomIntegrationType"),U=v(ne=>ne&&ne.app_type,"getAppType"),B=v(ne=>ne&&ne.service_id,"getAppServiceId"),Y=v(ne=>ne&&ne.installation&&ne.installation.installer_user_id,"getInstalledUserId"),z=v(ne=>ne&&ne.installation&&ne.installation.memberships_count||0,"getAppMembershipsCount"),F=v(ne=>ne&&ne.installation&&ne.installation.date_created,"getAppDateCreated"),V=v(ne=>ne&&ne.home_workspace_id,"getAppHomeWorkspaceId"),L=v(ne=>ne&&(ne.home_enterprise_id||ne.home_workspace_id),"getAppTopLevelTeamId"),Q=v(ne=>ne&&P(ne)&&ne.profile&&ne.profile.icons&&ne.profile.icons.emoji?ne.profile.icons.emoji:null,"getAppEmojiIcon"),ee=v((ne,Ie)=>{const Te=V(Ie)||Object(r.g)(ne).id,Me=Q(Ie);return Me?Object(p.j)(ne,{text:Me,teamId:Te,emojiMode:Object(h.a)(ne,{forceDisplay:!0}),emojiSize:_.a.LARGE}):Object(b.b)(Ie.profile,192)},"getAppAvatarUrl"),te=v(ne=>ne&&ne.commands||[],"getAppCommands"),le=v(ne=>ne&&ne.directory_profile&&ne.directory_profile.screenshots||[],"getAppScreenshots"),Oe=v(ne=>ne&&ne.directory_profile&&ne.directory_profile.home_url,"getAppHomepageUrl"),he=v(ne=>ne&&ne.directory_profile&&ne.directory_profile.youtube_url,"getAppYoutubeUrl"),Ee=v(ne=>ne&&ne.directory_profile&&ne.directory_profile.support_url,"getAppSupportUrl"),ge=v(ne=>{const Ie=ne.replace(/(>|<)/gi,"").split(/(vi\/|v=|\/v\/|youtu\.be\/|\/embed\/)/);return Ie[2]!==void 0?Ie[2].split(/[^0-9a-z_-]/i)[0]:""},"getYoutubeIdFromUrl"),J=v(ne=>ne&&ne.profile&&ne.profile.description||"","getAppDescription"),H=v(ne=>ne&&ne.profile&&ne.profile.formattedDescription||"","getAppFormattedDescription"),Z=v((ne,Ie)=>{let Te=_e(ne,Ie);if(!Te&&ie(ne,Ie)){const Me=V(Ie);Me&&(Te=Object(r.t)(ne,Me))}return Object(t.b)(Te)?Object(a.g)(Te):void 0},"getAppHomeTeamDisplayName"),q=v(ne=>l(J(ne),350),"getAppTruncatedDescription");function k(ne,Ie){const Te=Object(c.d)(ne),Me=Y(Ie);return Te.id===Me}v(k,"getInstallerIsYou");function se(ne){const Ie=!te(ne),Te=le(ne)&&he(ne);return y(ne)&&Ie||f(J(ne)||"")<350||!Te&&Ie}v(se,"shouldHideDescriptionExpansion");function re(ne,Ie){if(!Ie)return"";const Te=R(Ie);if(Te===Object(E.c)())return"";const Me=P(Ie),Ne=y(Ie);if(!Me&&!Ne){const He=ce(ne,Ie),Et=T(Ie),Je=S(Ie);if(!(He?Et:Je))return""}return Object(a.u)(Object(r.g)(ne),`/apps/${Te}`)}v(re,"getAppDirectoryUrl");function X(ne,Ie){if(!Ie)return"";const Te=V(Ie),Me=B(Ie),Ne=Object(r.t)(ne,Te),He=Object(c.d)(ne),Et=Object(d.ub)(He);return ce(ne,Ie)||Object(t.e)(Ne)||!Me||Et||R(Ie)===Object(E.c)()?"":Object(a.u)(Ne,`/services/${Me}?settings=1`)}v(X,"getSettingsUrl");function w(ne,Ie){if(!Ie)return"";const Te=R(Ie),Me=V(Ie),Ne=Object(r.t)(ne,Me);return Ne&&Te&&Object(a.u)(Ne,`/apps/${Te}`)}v(w,"getManageUrl");function ce(ne,Ie){const Te=Object(o.i)(ne),Me=L(Ie);return Te!==Me}v(ce,"isAppExternal");function ie(ne,Ie){const Te=Object(o.g)(ne);if(V(Ie)===Te)return!1;const Me=Object(o.i)(ne);return L(Ie)===Me}v(ie,"isAppOrgShared");function oe(ne){return ne&&ne.installation&&ne.installation.is_installed}v(oe,"isAppInstalled");function me(ne,Ie){return!Ie||Object(c.q)(ne)||ce(ne,Ie)||Object(I.w)(Ie)?!1:oe(Ie)&&!!(X(ne,Ie)||R(Ie))}v(me,"shouldShowSettingsButton");function ue(ne,Ie,Te){const Me=X(ne,Ie);if(Me)return Me;const Ne=R(Ie);if(Ne){const He=`/apps/${Ne}?settings=1`;if(Te){const Et=Object(r.t)(ne,Te);return Object(a.u)(Et,He)}return He}}v(ue,"getSettingsButtonUrl");function _e(ne,Ie){if(!Ie)return null;const Te=ce(ne,Ie),Me=L(Ie);return Te?Object(r.t)(ne,Me):null}v(_e,"getExternalTopLevelTeam");function be(ne,Ie){return!(!C(Ie)||ce(ne,Ie)||ie(ne,Ie))}v(be,"shouldShowSlashCommands");function Ae(ne,Ie){const Te=C(Ie),Me=ie(ne,Ie),Ne=Object(c.d)(ne),He=Object(d.ub)(Ne);return(Te||Me)&&!He}v(Ae,"shouldShowAppSettings");function Ce(ne,Ie){return!!re(ne,Ie)}v(Ce,"shouldShowAppDirectoryLink");function De(ne,Ie){var Te;if(Object(t.e)(Ie))return null;const Me=(Te=Ie.app_user)===null||Te===void 0?void 0:Te.id;if(Me){const Ne=Object(c.g)(ne,Me);return Object(d.qb)(Ne)?null:Ne}if(!Me&&!ce(ne,Ie)){const Ne=R(Ie);return Object(c.e)(ne,Ne)}return null}v(De,"getAppUser");function Pe(ne,Ie){if(Object(t.e)(Ie))return!1;const Te=De(ne,Ie);return ce(ne,Ie)?Te&&Ie.app_type===s.a.Xoxp&&C(Ie):!!Te}v(Pe,"shouldShowAppSpace");function Ue(ne,Ie){if(Object(t.e)(Ie))return!1;var Te;const Me=(Te=De(ne,Ie))!==null&&Te!==void 0?Te:void 0,Ne=g(ne,Me);return ce(ne,Ie)?Ne&&Ie.app_type===s.a.Xoxp:Ne}v(Ue,"shouldShowDirectMessageItem");function ae(ne,Ie){return Object(t.e)(Ie)||R(Ie)===Object(E.c)()?!1:ce(ne,Ie)?T(Ie)||Ue(ne,Ie):!0}v(ae,"shouldShowAboutApp")},"+HFy":function(K,n,e){"use strict";e.d(n,"a",function(){return g});var s=e("0VPD"),t=e("Wy5O"),a=e("Muja"),r=e("s4P+"),c=e("lhZz"),o=e("t4eE");const i={INCLUDE:"include",EXCLUDE:"exclude"};var l=e("KLFD"),u=e("j77i"),f=e("7xYR");const d="RTM-ROUTER";function O(E){if(!f.getBootedWorkspacesByOrg)return Object(r.a)({teamOrEnterpriseId:E,label:d}).error("RtmRouter called in a non-Gantry context"),[];const p=Object(c.getClientStoreInstance)().getState();return Object(f.getBootedWorkspacesByOrg)(p,E)}v(O,"getBootedTeamIdsForOrg");function m(E,p){return E.type===i.INCLUDE?Object(s.a)(p,E.ids):Object(t.a)(p,E.ids)}v(m,"filterTeamIds");class g{static get(p){let h=g.instances[p];return h||(h=new g(p),g.instances[p]=h),h}static clearForTest(){g.instances={}}static getFilters(p){return p.__filters}static isEqualFilters(p,h){return Object(a.a)(p,h)}getRouting(p){if(this.subscribedTeamIds.length===0)return this.logger.error("teamIds must be refreshed before routing"),{teamIds:[]};const h=O(this.enterpriseId),_=p==null?void 0:p.team;if(!_)return{enterpriseId:this.enterpriseId,teamIds:h};m(_,this.subscribedTeamIds).length===0&&this.logger.error(this.getFilterErrorLog("subscribed",this.subscribedTeamIds,_));const I=m(_,h);return I.length===0?(this.logger.warn(this.getFilterErrorLog("booted",h,_)),{teamIds:[]}):{teamIds:I}}refreshTeamIdsForSubscription(){const p=this.getSubscribedTeamIdsForOrg(this.enterpriseId);if(!Object(a.a)(this.subscribedTeamIds,p)){var h;this.logger.info(`Subscribed teamIds list has changed; Prev: (${(h=this.subscribedTeamIds)===null||h===void 0?void 0:h.join(",")}), Current: (${p==null?void 0:p.join(",")})`)}return this.subscribedTeamIds=p,this.subscribedTeamIds}getSubscribedTeamIds(){return this.subscribedTeamIds.length===0?(this.logger.error("teamIds must be refreshed before access"),[]):this.subscribedTeamIds}setTeamIdConnected(p){this.connectedTeamIds.add(p)}getSubscribedTeamIdsForOrg(p){return!l.c||!u.f?(this.logger.error("Attempting to call into RtmRouter from a non-Gantry context."),[]):Object(o.b)()?Object(l.c)(p):[Object(u.f)("lastActiveTeamId")]}getFilterErrorLog(p,h,_){return`No ${p} teamIds after filtering: ${h} with: { type: ${_.type}, ids: ${_.ids} }`}constructor(p){this.enterpriseId=p,this.connectedTeamIds=new Set,this.logger=Object(r.a)({teamOrEnterpriseId:p,label:d}),this.subscribedTeamIds=this.refreshTeamIdsForSubscription()}}v(g,"rtm_router_RtmRouter"),g.instances={}},"+KE1":function(K,n,e){"use strict";e.d(n,"a",function(){return re});var s=e("q1tI"),t=e.n(s),a=e("Muja"),r=e("m8R6"),c=e("3Hq1"),o=e("zmn3"),i=e("yM+I"),l=e("3REw"),u=e("WSQ4"),f=e("Cfcg"),d=e("9Gfp"),O=e("pFNT"),m=e("LZPg"),g=e("nNoG");const E=new g.b("calls"),p=v(X=>{let{displayName:w,id:ce,userId:ie,color:oe}=X;return t.a.createElement("div",{className:"p-huddles_draw__name_tag",style:oe?{background:oe}:{}},t.a.createElement(O.c,{className:"p-huddles_draw__name_tag_avatar",key:ce,size:24,userId:ie,isInteractive:!1,tabIndex:-1}),t.a.createElement("div",{className:"p-huddles_draw__name_tag_text"},w))},"NameTag"),h=v((X,w)=>{let{id:ce}=w;return{displayName:ce==="self"?E.t("You"):Object(m.G)(X,ce),userId:ce==="self"?Object(d.a)(X):Object(m.E)(X,ce).userId}},"mapStateToProps");var _=Object(f.a)(h)(p);const b=-21,I=-15,C=v(X=>{let{peerId:w,width:ce,height:ie,leftOffset:oe,topOffset:me,color:ue,renderNameTag:_e=!0,isWindowDrawMode:be=!1,xWindowPosition:Ae=0,yWindowPosition:Ce=0}=X;const De=Object(s.useRef)(null);let Pe,Ue;const ae=oe*ce,ne=me*ie;Pe=Math.round(ae+I),Ue=Math.round(ne+b),be&&(Pe+=Ae,Ue+=Ce);const Ie=Object(s.useMemo)(()=>[Pe,Ue],[Pe,Ue]),Te=v(Me=>{const Ne=De.current;Ne&&(Ne.style.setProperty("transform",`translate(${Me[0]}px, ${Me[1]}px)`),Ne.style.setProperty("visibility","initial"))},"updateCursorPosition");return Object(s.useEffect)(()=>{Te(Ie)},[Ie]),t.a.createElement("div",{className:"p-huddles_cursor_tracking__cursor_container"},t.a.createElement("div",{key:`cursor-${w}`,className:"p-huddles_cursor_tracking__cursor",ref:De},_e&&t.a.createElement(_,{key:`name-tag-${w}`,id:w,color:ue})))},"HuddlesCursor");C.displayName="HuddlesCursor";var y=t.a.memo(C,a.a),P=e("KciV"),T=e("uXea"),S=e("Atq3");function A(X,w,ce,ie){return`hsla(${X}, ${w}%, ${ce}%, ${ie})`}v(A,"makeColorString");const R=v((X,w)=>A(X,100,75,w),"makeBaseColorString"),x=v(X=>A(X,80,50,1),"makeShadowColorString"),M=3;class j{static renderBaseStyle(w){w.lineJoin="round",w.lineCap="round",w.shadowBlur=5}startFade(){this.startedFadingTimestamp=performance.now(),this.observer.requestRenderOnNextFrame()}resetFade(){this.startedFadingTimestamp&&(delete this.startedFadingTimestamp,this.width=j.initialWidth,this.opacity=1,this.color=R(this.hue,this.opacity))}setHue(w){this.hue=w,this.color=R(this.hue,this.opacity),this.shadowColor=x(this.hue),this.observer.requestRenderOnNextFrame()}render(w){this.fade(),w.lineWidth=this.width,w.strokeStyle=this.color,w.shadowColor=this.shadowColor}fade(){if(!this.startedFadingTimestamp)return;const w=Math.min(1,(performance.now()-this.startedFadingTimestamp)/j.fadeDuration);this.width=j.initialWidth-w*M,this.opacity=1-w/1,this.color=R(this.hue,this.opacity),w<1?this.observer.requestRenderOnNextFrame():this.observer.onFadeCompleted()}getColor(){return this.color}constructor(w){this.observer=w,this.width=j.initialWidth,this.opacity=1,this.hue=0,this.color=R(this.hue,this.opacity),this.shadowColor=x(this.hue)}}v(j,"LineStyle"),j.displayName="LineStyle",j.initialWidth=7,j.fadeDuration=3e3;let W=v(class{getSegments(){return this.segments}addNewSegment(w){this.segments.push(w)}editLastSegment(w){this.segments.pop(),this.segments.push(w)}constructor(){this.segments=[]}},"ProgressivePlotter");class U extends W{draw(w){let ce=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1,ie=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1;const oe=this.getSegments();w.beginPath();for(let me=0;me<oe.length;me++){const ue=oe[me];w.moveTo(ue.a[0]*ce,ue.a[1]*ie),w.lineTo(ue.b[0]*ce,ue.b[1]*ie)}w.stroke()}}v(U,"ProgressiveLineSegmentPlotter");class B extends W{draw(w){let ce=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1,ie=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1;const oe=this.getSegments();w.beginPath();for(let me=0;me<oe.length;me++){const ue=oe[me];w.moveTo(ue.a[0]*ce,ue.a[1]*ie),w.bezierCurveTo(ue.b[0]*ce,ue.b[1]*ie,ue.c[0]*ce,ue.c[1]*ie,ue.d[0]*ce,ue.d[1]*ie)}w.stroke()}}v(B,"ProgressiveBezierCurvePlotter");const Y=700,z=5e3;class F{onFadeCompleted(){this.plotter=new B,this.observer.onLineVisibilityChanged(!1),this.setLineVisibility({isFading:!1,isLineVisible:!1}),this.style.resetFade()}resetVestigialLineTimeout(){this.vestigialLineTimeout&&clearTimeout(this.vestigialLineTimeout),this.vestigialLineTimeout=window.setTimeout(this.onInactivity,z)}resetInactivityTimeout(){this.inactivityTimeout&&clearTimeout(this.inactivityTimeout),this.inactivityTimeout=window.setTimeout(this.onInactivity,Y)}update(w){if(this.resetVestigialLineTimeout(),w.type===l.c.New)this.visibilityState.isLineVisible||this.observer.onLineVisibilityChanged(!0),this.setLineVisibility({isFading:!1,isLineVisible:!0}),this.plotter.addNewSegment(w.segment),this.style.resetFade(),clearTimeout(this.inactivityTimeout);else if(w.type===l.c.Edit)this.plotter.editLastSegment(w.segment);else if(w.type===l.c.End)this.resetInactivityTimeout();else if(w.type===l.c.ChangeHue)this.style.setHue(w.hue);else{if(w.type===l.c.Position)return;Object(S.a)(w.type)}this.observer.requestRenderOnNextFrame()}render(w,ce,ie){this.style.render(w),this.plotter.draw(w,ce,ie)}setLineVisibility(w){Object.assign(this.visibilityState,w)}getColor(){return this.style.getColor()}constructor(w){this.observer=w,this.plotter=new B,this.visibilityState={isLineVisible:!1,isFading:!1},this.onInactivity=()=>{this.inactivityTimeout&&clearTimeout(this.inactivityTimeout),this.vestigialLineTimeout&&clearTimeout(this.vestigialLineTimeout),!(this.visibilityState.isFading||!this.visibilityState.isLineVisible)&&(this.setLineVisibility({isFading:!0}),this.style.startFade())},this.style=new j({onFadeCompleted:()=>this.onFadeCompleted(),requestRenderOnNextFrame:()=>this.observer.requestRenderOnNextFrame()})}}v(F,"line_DrawLine"),F.displayName="DrawLine";const V=v(X=>{let{refToForward:w,isHidden:ce,numVisibleLines:ie,top:oe,left:me,width:ue,height:_e,doNotApplyTargetRect:be}=X;if(be){const Ce={display:ce||ie===0?"none":"block"};return t.a.createElement("canvas",{ref:w,style:Ce})}const Ae={display:ce||ie===0?"none":"block",...Object(T.a)({left:me,top:oe,width:ue,height:_e})};return t.a.createElement("canvas",{ref:w,style:Ae})},"Canvas");V.displayName="Canvas";var L=t.a.memo(V,a.a),Q=e("uxre");const ee=new g.b("calls"),te=10,le=10,Oe=v(X=>{let{displayName:w,coord:[ce,ie]}=X;return t.a.createElement("div",{className:"p-calls_draw__name_tag",style:{left:`${ce+te}px`,top:`${ie+le}px`}},w)},"name_tag_NameTag"),he=v((X,w)=>{let{id:ce}=w;return{displayName:ce==="self"?ee.t("You"):Object(m.G)(X,ce)}},"name_tag_mapStateToProps");var Ee=Object(f.a)(he)(Oe);const ge=-33,J=-9,H=v(X=>{let{top:w,left:ce,width:ie,height:oe,leftOffset:me,topOffset:ue,id:_e}=X;const be=ce+me*ie,Ae=w+ue*oe,Ce={left:`${be+J}px`,top:`${Ae+ge}px`};return t.a.createElement(t.a.Fragment,null,_e!=="self"&&t.a.createElement("div",{key:`cursor-${_e}`,className:"p-calls_draw__pencil_cursor",style:Ce}),t.a.createElement(Ee,{key:`name-tag-${_e}`,id:_e,coord:[be,Ae]}))},"Cursor");H.displayName="Cursor";var Z=t.a.memo(H,a.a);function q(){return q=Object.assign||function(X){for(var w=1;w<arguments.length;w++){var ce=arguments[w];for(var ie in ce)Object.prototype.hasOwnProperty.call(ce,ie)&&(X[ie]=ce[ie])}return X},q.apply(this,arguments)}v(q,"_extends");var k;class se extends(k=t.a.Component){shouldComponentUpdate(w,ce){return!Object(a.a)(this.props,w)||!Object(a.a)(this.state,ce)}getOrCreatePeerLine(w){return this.peerLines[w]=this.peerLines[w]||new F({requestRenderOnNextFrame:()=>this.requestRenderOnNextFrame(),onLineVisibilityChanged:ce=>this.setState(ie=>({numVisibleLines:ie.numVisibleLines+(ce?1:-1)}))}),this.peerLines[w]}onIncomingPeerLine(w){if(this.props.itemId&&w.itemId&&w.itemId!==this.props.itemId)return;const ce=this.getOrCreatePeerLine(w.id);switch(ce.update(w),w.type){case l.c.New:{this.setState(ie=>{let{tagCoords:oe,userColors:me}=ie;return{tagCoords:{...oe,[w.id]:w.segment.d},userColors:{...me,[w.id]:ce.getColor()}}});break}case l.c.Edit:{this.setState(ie=>{let{tagCoords:oe}=ie;return{tagCoords:{...oe,[w.id]:w.segment.d}}});break}case l.c.ChangeHue:{this.setState(ie=>{let{userColors:oe}=ie;return{userColors:{...oe,[w.id]:ce.getColor()}}});break}case l.c.End:{this.setState(ie=>{let{tagCoords:oe}=ie;return{tagCoords:Object(r.a)(oe,w.id)}});break}case l.c.Position:{const ie=[w.x,w.y];this.setState(oe=>{let{tagCoords:me}=oe;return{tagCoords:{...me,[w.id]:ie}}});break}default:break}}componentDidMount(){i.a.subscribe(this.onIncomingPeerLine),this.ctx=this.props.refToForward.current.getContext("2d"),this.onResize()}componentDidUpdate(w,ce){w.targetRect!==this.props.targetRect&&this.onResize(),this.state.numVisibleLines<0&&Object(P.c)("DRAW-RENDERER").warn("Should not have a negative number of lines"),this.props.onRendererIsActive&&(this.state.numVisibleLines===0&&ce.numVisibleLines>0||this.state.numVisibleLines>0&&ce.numVisibleLines===0)&&this.props.onRendererIsActive(this.state.numVisibleLines!==0)}componentWillUnmount(){Object(c.a)(this.rafId)||this.context.window.cancelAnimationFrame(this.rafId),i.a.unsubscribe(this.onIncomingPeerLine)}onResize(){this.ctx&&(this.ctx.canvas.width=this.props.targetRect.width,this.ctx.canvas.height=this.props.targetRect.height,j.renderBaseStyle(this.ctx),this.requestRenderOnNextFrame())}requestRenderOnNextFrame(){this.dirty||(this.dirty=!0,this.rafId=this.context.window.requestAnimationFrame(this.draw))}draw(){if(this.rafId=void 0,!this.ctx)return;const w=this.props.targetRect.width,ce=this.props.targetRect.height;this.dirty=!1,this.ctx.clearRect(0,0,w,ce);const ie=Object.values(this.peerLines);for(let oe=0;oe<ie.length;oe++)ie[oe].render(this.ctx,w,ce)}renderCursor(w,ce,ie){const{targetRect:oe,useHuddlesCursor:me,itemId:ue,isHostDrawWindow:_e,isWindowDrawing:be}=this.props;if(me){const Ae=this.state.userColors[w],Ce=ue!=="self",De=_e&&be;return t.a.createElement(y,{key:w,peerId:w,topOffset:ce,leftOffset:ie,width:oe.width,height:oe.height,color:Ae,renderNameTag:Ce,isWindowDrawMode:De,xWindowPosition:oe.left,yWindowPosition:oe.top})}return t.a.createElement(Z,q({key:w,id:w,topOffset:ce,leftOffset:ie},oe))}render(){if(this.props.setPositionToMatchTargetRect){const{targetRect:w}=this.props,ce={...Object(T.a)({left:w.left,top:w.top,width:w.width,height:w.height})};return t.a.createElement("div",{className:"p-calls_draw__renderer",style:ce},t.a.createElement(L,q({refToForward:this.props.refToForward,isHidden:this.props.isHidden,numVisibleLines:this.state.numVisibleLines},this.props.targetRect,{doNotApplyTargetRect:!0})),Object(o.a)(this.state.tagCoords,(ie,oe)=>{let[me,ue]=ie;return this.renderCursor(oe,ue,me)}))}return t.a.createElement("div",{className:"p-calls_draw__renderer"},t.a.createElement(L,q({refToForward:this.props.refToForward,isHidden:this.props.isHidden,numVisibleLines:this.state.numVisibleLines},this.props.targetRect)),Object(o.a)(this.state.tagCoords,(w,ce)=>{let[ie,oe]=w;return this.renderCursor(ce,oe,ie)}))}constructor(w){super(w),this.dirty=!1,this.peerLines={},this.onResize=this.onResize.bind(this),this.onIncomingPeerLine=this.onIncomingPeerLine.bind(this),this.draw=this.draw.bind(this),this.renderCursor=this.renderCursor.bind(this),this.state={tagCoords:{},numVisibleLines:0,userColors:{}}}}v(se,"renderer_BaseDrawRenderer"),se.displayName="BaseDrawRenderer",se.contextType=u.a;const re=t.a.forwardRef((X,w)=>t.a.createElement(se,q({refToForward:w},X)))},"+OS1":function(K,n,e){K.exports=e.p+"office-98668ce.jpg"},"+StW":function(K,n,e){"use strict";e.d(n,"a",function(){return ts});var s=e("9oTK"),t=e("MXQz"),a=e("lhZz"),r=e("kBpe"),c=e("7xYR"),o=e("Sklr"),i=e("Lgge"),l=e("WhBi"),u=e("JJ34"),f=e("WdO3"),d=e("mEzS"),O=e("25cE"),m=e("xcHN"),g=e("qMw6"),E=e("bczA"),p=e("2VFn"),h=e("vGF+");function _(Zt,Rt,Dt){return!!Zt&&(!Zt.viewContext||Zt.viewContext===g.a.MESSAGE_PANE)&&Rt===Zt.channelId&&Dt!==Zt.channelId}v(_,"willEditChannelBecomeInvisible");function b(Zt,Rt,Dt,kt,wt){return!!Zt&&Zt.viewContext===g.a.THREAD&&Rt===O.w&&Dt===Object(m.c)(Zt.channelId,Zt.threadTs)&&(kt!==O.w||wt!==Object(m.c)(Zt.channelId,Zt.threadTs))}v(b,"willEditThreadBecomeInvisible");var I=v(Zt=>{let{params:Rt={},prevTeamId:Dt,nextTeamId:kt,routeName:wt}=Zt;if(Dt!==kt)return i.a.resolve();const ln=Object(a.getStoreInstanceByTeamId)(Dt),nn=ln.getState(),vn=Object(E.a)(nn),_n=Object(E.b)(nn),Un=Object(h.a)(nn),Jn=Un?Object(u.b)(nn,{ignoreViewContext:!0,windowId:String(p.c)}):Object(l.b)(nn,{ignoreViewContext:!0});return _(Jn,_n.entityId,Rt.entityId)||b(Jn,vn,_n.threadId,wt,Rt.threadId)?Un?ln.dispatch(Object(d.a)({cancelUnsavedEdits:!1,scroll:!0})):ln.dispatch(Object(f.a)({cancelUnsavedEdits:!1,scroll:!0})):i.a.resolve()},"route_listeners_attempt_to_stop_editing_in_channel"),C=e("E3dU"),y=e("Fqb6"),P=e("ohbk"),T=e("q1tI"),S=e.n(T),A=e("n3tL"),R=e("SQ0V"),x=e("oY18"),M=e("beVI"),j=e("G0eX"),W=e("rAyg"),U=e("nNoG");function B(){return B=Object.assign||function(Zt){for(var Rt=1;Rt<arguments.length;Rt++){var Dt=arguments[Rt];for(var kt in Dt)Object.prototype.hasOwnProperty.call(Dt,kt)&&(Zt[kt]=Dt[kt])}return Zt},B.apply(this,arguments)}v(B,"_extends");const Y=new U.b("unavailable_channel"),z={teamName:A.default.string.isRequired};let F=v(class extends T.PureComponent{render(){const{teamName:Rt,...Dt}=this.props,kt=Y.t("{teamName} is making some changes to their workspace, so content and conversations shared with them are temporarily unavailable.",{teamName:Rt});return S.a.createElement(W.a,B({fadeDelay:1e4,type:"error"},Dt),S.a.createElement("span",null,kt))}},"UnavailableMemberToast");F.displayName="UnavailableMemberToast",F.propTypes=z;var V=F;const L=Object(R.c)("Show unavailable member toast",function(Zt,Rt){let{teamId:Dt}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const kt=Rt(),wt=Object(M.t)(kt,Dt),ln=Object(j.g)(wt);return Zt(Object(x.a)({element:S.a.createElement(V,{type:"error",teamName:ln})}))});L.meta={name:"createThunk",key:"createThunkshowUnavailableMemberToast",description:"Show unavailable member toast"},L.propTypes={teamId:A.default.string.isRequired};var Q=L,ee=e("xwCZ"),te=e("C3vN"),le=e("ehcD"),Oe=e("Sl1j"),he=e("Yauy"),Ee=e("eUIW"),ge=v(Zt=>{let{nextTeamId:Rt,params:Dt={}}=Zt;const kt=Object(a.getStoreInstanceByTeamId)(Rt);if(!kt)return i.a.resolve(!0);const wt=kt.getState();if(!Dt.entityId||!Object(Ee.a)(Dt.entityId))return i.a.resolve();const ln=Dt.entityId,nn=Object(ee.g)(wt,ln),vn=Object(te.Ab)(wt,nn),_n=Object(C.l)(wt,ln);return _n&&Object(he.jb)(_n)?(kt.dispatch(Object(P.a)({id:_n.id})),i.a.resolve(!1)):vn?(kt.dispatch(Q({teamId:Object(le.c)(wt,nn)})),i.a.resolve(!1)):kt.dispatch(Object(Oe.r)({memberIds:[ln],reason:"sonic/route-listeners/open-conversation-with-member"})).then(function(){let{channel:Un}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{channel:void 0};return Un&&(kt.dispatch(Object(y.a)({channel:Un})),kt.dispatch(Object(P.a)({id:Un.id}))),i.a.resolve(!1)})},"open_conversation_with_member"),J=e("E97Y"),H=e("Zbwg"),Z=v(Zt=>{let{nextTeamId:Rt,params:Dt={}}=Zt;if(!Rt)return i.a.resolve();const kt=Object(a.getStoreInstanceByTeamId)(Rt),wt=kt.getState(),ln=Dt.entityId;if(!ln||!Object(H.a)(ln))return i.a.resolve();const nn=Object(C.c)(wt,ln);return!Object(J.i)(nn)&&!Object(J.g)(nn)||Object(he.jb)(nn)?i.a.resolve():kt.dispatch(Object(Oe.r)({channel:ln,reason:"sonic/route-listeners/open-conversation-with-ids",memberIds:[]})).then(function(){let{channel:vn}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{channel:void 0};vn&&kt.dispatch(Object(y.a)({channel:vn}))})},"open_conversation_with_ids"),q=e("XZo2"),k=e("JfJV");function se(Zt,Rt){return re.apply(this,arguments)}v(se,"ensureChannel");function re(){return re=Object(s.coroutine)(function*(Zt,Rt){const Dt=Zt.getState(),kt=Object(C.c)(Dt,Rt,!1);return Object(J.f)(kt)?kt:Zt.dispatch(Object(Oe.f)({ids:[Rt],reason:"sonic/route-listeners/ensure-channel",callSource:Oe.a.EnsureChannel})).then(wt=>{if(!wt)return;const{channels:ln,resolved:nn}=wt;if(!(!nn||!nn.includes(Rt)))return ln[0]})}),re.apply(this,arguments)}v(re,"_ensureChannel");var X=function(){var Zt=Object(s.coroutine)(function*(Rt){let{prevTeamId:Dt,nextTeamId:kt,routeName:wt,params:ln={}}=Rt;const nn=Object(a.getStoreInstanceByTeamId)(kt);if(!Object(H.a)(ln.entityId))return i.a.resolve(void 0);const vn=ln.entityId;return se(nn,vn).then(_n=>{if(_n&&!Object(he.Y)(_n))return i.a.resolve(void 0);if(Dt!==kt){const Un=Object(q.r)(nn.getState(),{mainView:!0});return Un===vn?i.a.reject(new Error("fallback channel ID === target channel ID, can\u2019t switch workspaces")):(Object(k.h)(wt,{...ln,entityId:Un},{shouldReplaceState:!0}),i.a.resolve(!1))}return _n?i.a.reject(new Error("tried to switch to a channel from another team")):i.a.resolve(!1)})});return function(Rt){return Zt.apply(this,arguments)}}(),w=e("m8R6"),ce=e("GV2D");const ie="clear_timestamp";var oe=v(Zt=>{let{prevTeamId:Rt,nextTeamId:Dt,routeName:kt,reason:wt,params:ln={}}=Zt;const nn=Object(a.getStoreInstanceByTeamId)(Dt),vn=nn.getState();if(wt===ie||kt===O.d)return;const _n=Object(H.a)(ln.entityId)&&ln.entityId,Un=ln.timestamp,Jn=Object(E.b)(vn),Xn=Object(H.a)(Jn.entityId)&&Jn.entityId;Dt===Rt&&Xn===_n&&!Un||_n===void 0||(nn.dispatch(Object(ce.a)({channelId:_n,startTs:Un})),Un&&Object(k.h)(kt,Object(w.a)(ln,"timestamp"),{reason:ie,shouldReplaceState:!0}))},"sync_message_pane"),me=e("2XL1"),ue=v(Zt=>{let{prevTeamId:Rt,nextTeamId:Dt,params:kt={}}=Zt;const wt=Object(a.getStoreInstanceByTeamId)(Dt),ln=wt.getState(),nn=Object(H.a)(kt.entityId)&&kt.entityId,vn=Object(E.b)(ln),_n=Object(H.a)(vn.entityId)&&vn.entityId;!Object(q.v)(ln)||Dt===Rt&&_n===nn||wt.dispatch(Object(me.h)(!1))},"close_app_space"),_e=e("4hjS"),be=e("JoR1"),Ae=e("T1zM"),Ce=e("b8K+"),De=v(Zt=>{let{prevTeamId:Rt,nextTeamId:Dt,params:kt={}}=Zt;if(Rt!==Dt)return;const wt=Object(a.getStoreInstanceByTeamId)(Dt),ln=wt.getState(),nn=kt.entityId,vn=Object(_e.l)(ln),_n=Object(be.u)(ln,Ce.a.PREF);_n===Ce.a.FLEXPANE&&nn==="activity-page"?wt.dispatch(Object(Ae.f)({pref:Ce.a.PREF,value:Ce.a.PAGE})):_n===Ce.a.PAGE&&vn==="activity"&&wt.dispatch(Object(Ae.f)({pref:Ce.a.PREF,value:Ce.a.FLEXPANE}))},"sync_activity_page_view"),Pe=e("arBb"),Ue=v(Zt=>{let{prevTeamId:Rt,nextTeamId:Dt,params:kt={}}=Zt;if(Rt!==Dt)return;const wt=Object(a.getStoreInstanceByTeamId)(Dt),ln=wt.getState(),nn=kt.entityId,vn=Object(_e.l)(ln),_n=Object(be.u)(ln,Pe.b.PREF);_n===Pe.b.FLEXPANE&&nn==="saved-page"?wt.dispatch(Object(Ae.f)({pref:Pe.b.PREF,value:Pe.b.PAGE})):_n===Pe.b.PAGE&&(vn==="starred_items"||vn==="saved")&&wt.dispatch(Object(Ae.f)({pref:Pe.b.PREF,value:Pe.b.FLEXPANE}))},"sync_saved_page_view"),ae=e("O2rC"),ne=v(Zt=>{let{prevTeamId:Rt,nextTeamId:Dt,params:kt}=Zt;if(Rt!==Dt)return;const wt=Object(a.getStoreInstanceByTeamId)(Dt),ln=wt.getState(),nn=kt.entityId,vn=Object(_e.l)(ln),_n=Object(be.u)(ln,ae.a.PREF);_n===ae.a.FLEXPANE&&nn==="notifications-page"?wt.dispatch(Object(Ae.f)({pref:ae.a.PREF,value:ae.a.PAGE})):_n===ae.a.PAGE&&vn==="notifications"&&wt.dispatch(Object(Ae.f)({pref:ae.a.PREF,value:ae.a.FLEXPANE}))},"sync_notifications_page_view"),Ie=e("Q+NC"),Te=e("PiXb"),Me=e("HPAj");const Ne="clear_thread_timestamp";var He=v(Zt=>{let{nextTeamId:Rt,routeName:Dt,reason:kt,params:wt={}}=Zt;const ln=Object(a.getStoreInstanceByTeamId)(Rt),nn=ln.getState(),vn=p.c;if(kt===Ne)return;const Un=Object(E.b)(nn).threadId;wt.replyTs?Object(Me.a)(nn)?ln.dispatch(Object(Te.g)({windowId:vn,threadKey:wt.threadId,ts:wt.replyTs})):ln.dispatch(Object(Ie.d)(wt.replyTs)):wt.threadId!==Un&&(Object(Me.a)(nn)?ln.dispatch(Object(Te.d)({windowId:vn,threadKey:wt.threadId})):ln.dispatch(Object(Ie.c)())),wt.replyTs&&Object(k.h)(Dt,Object(w.a)(wt,"replyTs"),{reason:Ne,shouldReplaceState:!0})},"sync_thread_flexpane");const Et={CLEAR_THREAD_TS_REASON:Ne};var Je=e("S36j"),qe=v(Zt=>{let{prevTeamId:Rt,nextTeamId:Dt,params:kt={}}=Zt;if(Rt!==Dt)return;const wt=Object(a.getStoreInstanceByTeamId)(Dt),ln=wt.getState(),nn=Object(E.a)(ln),_n=Object(E.b)(ln).entityId,Un=kt.entityId;if(_n!==Un){const Jn=Object(_e.b)(ln);Jn&&["channel_page","group_page","im_page"].includes(Jn)&&wt.dispatch(Object(Je.c)({flexOrigin:void 0}));const Xn=Object(_e.e)(ln);if(Object(H.a)(Un)&&Xn&&(nn===O.b||nn===O.e)){wt.dispatch(Object(Je.d)({flexRestore:void 0}));const Ks=Xn.routeName,us={...kt,...Xn.params};Object(k.h)(Ks,us,{reason:"flex-restore",shouldReplaceState:!0});return}nn===O.n&&Object(k.h)(O.b,kt,{reason:"close-productivity-packs-flexpane",shouldReplaceState:!0}),Un!=="browse-channels"&&nn===O.e&&Object(k.h)(O.b,kt,{reason:"close-inspector",shouldReplaceState:!0})}},"sync_flexpane"),ke=e("t4eE"),rt=e("Afhv"),pe=v(Zt=>{let{prevTeamId:Rt,nextTeamId:Dt,routeName:kt,params:wt}=Zt;if(Object(ke.b)()||Rt===Dt)return!0;const ln=Object(k.k)(kt,{...wt,teamId:Dt});if(!Dt)return!0;const nn=Object(a.getStateForClientStore)(),vn=Object(c.getWorkspacesMeta)(nn),_n=vn&&vn[Dt]&&vn[Dt].subdomain,Un=Object(ke.a)(_n)||`_team_${Dt}`;return Object(rt.a)(ln,Un),!1},"maybe_open_other_team_in_browser"),je=e("H9Gx"),xe=e("gE2U"),ze=v(Zt=>{let{prevTeamId:Rt,nextTeamId:Dt}=Zt;if(!Object(ke.b)()||Rt===Dt||!Dt)return!0;if(Object(xe.a)(Dt,Rt))return!1;const kt=Object(a.getStateForClientStore)();return Object(c.isWorkspaceExpired)(kt,Dt)||Object(c.isWorkspacePendingAuth)(kt,Dt)?(Object(je.a)(Dt),!1):!0},"maybe_finish_signin"),st=v(Zt=>{let{routeName:Rt,params:Dt={}}=Zt;const{entityId:kt}=Dt;return kt&&Object(O.C)(kt)?(Object(k.h)(Rt,{...Dt,entityId:O.a[kt]},{shouldReplaceState:!0}),!1):!0},"maybe_redirect_entity"),ct=e("0zWI"),dt=e("tstp"),bt=v(Zt=>{let{prevTeamId:Rt,nextTeamId:Dt}=Zt;return Rt!==Dt?Object(a.dispatchForClientStore)(Object(dt.d)(!0)):Object(a.dispatchForClientStore)(Object(dt.d)(!1))},"set_should_log_team_switch_metrics"),Ft=e("j77i"),Bt=v(Zt=>{let{nextTeamId:Rt,routeName:Dt,params:kt}=Zt;const wt={routeName:Dt,params:kt};return Rt&&Object(Ft.w)(Rt,"lastRoute",wt),!0},"save_route_to_local_config"),at=e("2Pfg"),Ht=e("qLhO"),Wt=e("KiUf");function yt(Zt){let{prevTeamId:Rt}=Zt;const Dt=Object(a.getStoreInstanceByTeamId)(Rt);return Object(Ht.b)(Dt.getState())&&(Dt.dispatch(Object(Wt.a)(!0)),at.a.delete("setNavigatedDuringWarmBoot")),i.a.resolve()}v(yt,"setNavigatedDuringWarmBoot");var Xt=e("r6fw"),cn=e("Kn+X"),mn=e("EzPs"),In=e("gCYc"),pt=e("fPvm");function Tt(Zt){let{params:Rt,prevRouteInfo:Dt,prevTeamId:kt}=Zt;const wt=Dt==null?void 0:Dt.params;if(!wt||wt.entityId!=="composer"||!wt.draftId||wt.draftId===(Rt==null?void 0:Rt.draftId))return!0;const{dispatch:ln,getState:nn}=Object(a.getStoreInstanceByTeamId)(kt),vn=nn(),_n=Object(Xt.a)(wt.draftId);if(!_n)return!0;const Un=Object(In.j)(vn,_n);return Object(cn.x)(Un,{trimWhitespace:!0})||Object(mn.a)(vn,Un)||ln(Object(pt.a)({ids:[_n],reason:"draftsListenerBefore"})),!0}v(Tt,"draftsListenerBefore");var Lt=e("lCmp"),gt=e("fujP"),it=e("m5fH"),ft=e("OZf9"),Ke=e("UthN");const Ve=Object(R.c)("Delete composer drafts without text, destination, or files",function(Zt,Rt){let{ignoredDraftIds:Dt=[]}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const kt=Rt(),wt=Object(In.k)(kt);if(Object(gt.a)(wt))return;const ln=[];Object(ft.a)(wt,(nn,vn)=>{var _n;Object(Ke.a)(kt,nn)&&(!(Dt==null||(_n=Dt.includes)===null||_n===void 0)&&_n.call(Dt,vn)||ln.push(vn))}),!Object(gt.a)(ln)&&Zt(Object(pt.a)({ids:ln,reason:"deleteEmptyDrafts"}))});Ve.meta={name:"createThunk",key:"createThunkdeleteEmptyDrafts",description:"Delete composer drafts without text, destination, or files"};var Be=Ve,Ye=e("Z9Pi"),we=e("59uo");function mt(Zt){let{prevTeamId:Rt,nextTeamId:Dt,params:kt={}}=Zt;const{dispatch:wt,getState:ln}=Object(a.getStoreInstanceByTeamId)(Dt);let nn=ln();const vn=Object(_e.l)(nn),_n=Object(In.m)(nn),{entityId:Un,threadId:Jn}=kt,{threadTs:Xn}=Object(Ye.a)(Jn);if(Dt===Rt){const us=Object(Xt.a)(kt.draftId);let Zs=us?[us]:[];Zs=[...Zs,...Object(we.d)(nn)],wt(Be({ignoredDraftIds:Zs})),nn=ln()}!Object(be.u)(nn,"has_drafted_message")&&(Object(Lt.a)(Object(In.k)(nn),us=>!Object(Ke.a)(nn,us))||Object(Lt.a)(Object(In.c)(nn),us=>!Object(Ke.a)(nn,us)))&&wt(Object(Ae.f)({pref:"has_drafted_message",value:!0}));const Ks=_n!=null&&_n.length?_n.filter(us=>{const{channelId:Zs,threadTs:Js}=Object(Ye.a)(us);return Object(we.d)(nn).includes(us)?!1:Js?vn!=="thread"||!Xn||Xn!==Js:Un!==Zs}):[];return Object(gt.a)(Ks)||wt(Object(it.e)({draftIds:Ks})),!0}v(mt,"draftsListenerAfter");var Pt=e("l1I1"),Nt=e("sjEp"),Ze=e("u+Mq"),Xe=e("KtMe"),Ct=e("n2bd"),G=e("qqLp"),de=e("PJXs"),Le=e("tBN+"),Re=e("pFY2"),Fe=e("hjzp"),tt=e("7ibc"),ut=e("HKYg"),St=e("CnKg"),tn=e("WUSA"),Yt=e("gPPH"),un=e("s4P+"),$t=e("Z6bF");const gn=new U.b("client");function et(Zt){let{entityId:Rt,routeName:Dt}=Zt;return!!(Rt==="browse-files"&&Dt===O.h||Rt==="browse-people"&&Dt===O.s||Rt==="browse-user-groups"&&Dt===O.x||Rt==="slack-connect"&&Dt===O.s||Object(Pt.a)(Rt)&&(Dt===O.w||Dt===O.d||Dt===O.o)||Object(H.a)(Rt)&&Dt===O.w||Object(H.a)(Rt)&&Dt===O.s||Object(H.a)(Rt)&&Dt===O.x||Object(H.a)(Rt)&&Dt===O.h||Object(H.a)(Rt)&&Dt===O.o||[O.j,O.k,O.A,O.u,O.g].includes(Dt))}v(et,"isSupportedRoute");function An(Zt){let{nextEntityId:Rt,routeName:Dt,threadId:kt,state:wt}=Zt;if(Object(H.a)(Rt)&&Dt===O.w&&kt){if(Object(he.Z)(wt,Rt))return!0;const{channelId:ln}=Object(m.a)(kt);if(ln===Rt)return!0;const nn=Object(C.c)(wt,Rt),{fileId:vn}=Object($t.a)(nn),_n=vn?Object(Fe.a)(vn):null;return _n?ln===_n:!1}return!0}v(An,"isRouteValidDetailViewForEntityId");function pn(Zt){return Pn.apply(this,arguments)}v(pn,"summaryDetailListener");function Pn(){return Pn=Object(s.coroutine)(function*(Zt){let{params:Rt,prevRouteInfo:Dt,reason:kt,routeName:wt,uuid:ln}=Zt;const{entityId:nn}=Rt,vn=Rt.teamId||Rt.teamOrEnterpriseId,{entityId:_n}=(Dt==null?void 0:Dt.params)||{},{dispatch:Un,getState:Jn}=Object(a.getStoreInstanceByTeamId)(vn),Xn=Jn();if(!Object(Nt.a)(Xn))return;if(kt===Xe.c){Object(un.a)({getState:Jn}).info("SUMMARY_DETAIL",`[${ln}]`,"Returning early"),wt===O.b&&Un(Object(tn.a)({message:gn.t("Secondary view has closed"),uuid:Object(Yt.a)()}));return}if(kt===Xe.a||kt===ie||kt===Ne||!vn||!nn)return;if(Object(Pt.a)(_n)&&Object(Pt.a)(nn)){const hs=Object(St.i)(_n),da=Object(St.i)(nn),pa=da.versionId,Fo=hs.fileIdOrQuipThreadId===da.fileIdOrQuipThreadId;if(pa&&Fo)return}let us;Object(we.l)(Xn)||(us=Object(de.b)(Xn,{entityId:nn}));const Zs=An({nextEntityId:nn,routeName:wt,threadId:Rt.threadId,state:Xn});if(_n===nn&&Zs){if(et({entityId:nn,routeName:wt})){let hs=Rt;if(wt===O.o&&Rt.quipDocId&&Object(Pt.a)(Rt.quipDocId)){const{fileIdOrQuipThreadId:da}=Object(St.i)(Rt.quipDocId),pa=Object(St.h)({id:da});hs={...Rt,quipDocId:pa,channelCanvasId:Rt.channelCanvasId?pa:void 0}}Un(Object(G.a)({entityId:nn,item:{params:hs,routeName:wt,origin:Object(ut.a)()?"channel_canvas":void 0}})),Object(un.a)({getState:Jn}).info("SUMMARY_DETAIL",`[${ln}]`,"Set detail view for",nn)}else if(us&&kt!=="open-primary-with-thread"&&(Un(Object(Ct.a)({entityId:nn})),Object(un.a)({getState:Jn}).info("SUMMARY_DETAIL",`[${ln}]`,"Removing detail view for",nn),Object(tt.pb)(Xn))){const hs=Object(Re.b)(Xn,{...Rt,entityId:nn,teamId:vn});if(hs&&!Object(Re.a)(Dt,hs)&&(Object(k.h)(hs.routeName,hs.params,{reason:Xe.a,shouldReplaceState:!0}),us.origin==="channel_canvas")){var Js;Un(Object(Ze.b)({params:{entityId:(Js=hs.params)===null||Js===void 0?void 0:Js.quipDocId},uiState:{reason:Ze.a.ChannelSpaceOriginRoute}}))}}return}const Is={...Rt,entityId:nn,teamId:vn};if(us&&kt!=="open-primary-with-thread"){Object(un.a)({getState:Jn}).info("SUMMARY_DETAIL",`[${ln}]`,"Opening detail view for",nn);const hs=yield Un(Object(Le.a)({entityId:nn,nextRouteParams:Rt}));hs!=null&&hs.expired&&(Object(un.a)({getState:Jn}).info("SUMMARY_DETAIL",`[${ln}]`,"Detail view expired for",nn),Object(k.h)(O.b,Is,{reason:Xe.c,shouldReplaceState:!0}));return}if(wt.includes("FLEX")&&_n!==nn&&kt==="open-primary-with-thread"){var Ma;if(nn===(Rt==null?void 0:Rt.entityId)&&(!(Rt==null||(Ma=Rt.threadId)===null||Ma===void 0)&&Ma.includes(nn))){Object(k.h)(wt,Is,{shouldReplaceState:!0,reason:"summaryDetailListener:openThread"});return}}if(Object(tt.pb)(Xn)){const hs=Object(Re.b)(Xn,Is);if(hs&&!Object(Re.a)(Dt,hs)){Object(k.h)(hs.routeName,hs.params,{reason:Xe.a,shouldReplaceState:!0});return}}wt!==O.b&&Object(k.h)(O.b,Is,{reason:Xe.c,shouldReplaceState:!0})}),Pn.apply(this,arguments)}v(Pn,"_summaryDetailListener");const Rn={isRouteValidDetailViewForEntityId:An};var an=e("1BWb");function Gt(Zt){let{params:Rt,routeName:Dt,reason:kt}=Zt;const wt=Rt.teamId||Rt.teamOrEnterpriseId,{dispatch:ln,getState:nn}=Object(a.getStoreInstanceByTeamId)(wt),vn=nn();Object(tt.pb)(vn)&&ln(Object(an.a)({routeName:Dt,routeParams:Rt,autoOpen:kt===Xe.c||kt===Xe.a}))}v(Gt,"channelCanvasListener");var kn=e("tfcd"),Mn=e("BcBz"),cs=e("pyq8"),Vn=e("oUrV");const bn=["comment_thread","activity_history","files","rimeto_profile","thread",O.p,O.w,O.h,O.s,O.z],Qn=Object(R.c)("Post activity history routing side effects",(Zt,Rt,Dt)=>{let{params:kt,prevRouteInfo:wt,routeName:ln}=Dt;var nn;const vn=kt==null?void 0:kt.entityId,_n=wt==null||(nn=wt.params)===null||nn===void 0?void 0:nn.entityId,Un=p.c;if(ln===O.b&&vn&&Object(kn.a)(vn)){const{fileIdOrQuipThreadId:Ks}=Object(St.i)(vn);bn.includes(wt==null?void 0:wt.routeName)&&Zt(Object(cs.a)({fileId:Ks,windowId:Un,source:Vn.a.QUIP_ACTIVITY_HISTORY_LISTENER,isFromCloseActivityHistory:!0}))}let Jn=vn,Xn=_n;Object(Pt.a)(_n)&&Object(Pt.a)(vn)&&(Jn=Object(St.i)(_n).fileIdOrQuipThreadId,Xn=Object(St.i)(vn).fileIdOrQuipThreadId),Jn!==Xn&&Zt(Object(Mn.b)({windowId:Un}))});Qn.meta={name:"createThunk",key:"createThunkpostQuipActivityHistoryRouting",description:"Post activity history routing side effects"};function es(Zt){let{params:Rt,prevRouteInfo:Dt,routeName:kt,reason:wt}=Zt;const ln=Rt.teamId||Rt.teamOrEnterpriseId,{dispatch:nn,getState:vn}=Object(a.getStoreInstanceByTeamId)(ln);Object(tt.Rc)(vn())&&nn(Qn({routeName:kt,params:Rt,prevRouteInfo:Dt,reason:wt}))}v(es,"quipActivityHistoryListener");var ms=e("BSe2"),ls=e("+kJ4"),fs=e("+F8K"),vs=e("stxl"),Gn=e("hwUI"),Ps=e("hTnU");function $s(Zt){let{prevTeamId:Rt}=Zt;const{dispatch:Dt,getState:kt}=Object(a.getStoreInstanceByTeamId)(Rt),wt=kt();return Object(vs.b)(wt)?new i.a((nn,vn)=>{Dt(Object(Ps.a)({openModalProps:{isStackable:!0},onConfirmClose:()=>{Dt(Object(Gn.b)(!1)),Dt(Object(ls.a)({closeAll:!0})),nn()},onCancelClose:()=>{vn()}}))}):(Rt&&!Object(fs.b)({teamId:Rt})&&Object(ms.g)(wt)&&Dt(Object(ls.a)({closeAll:!0})),!0)}v($s,"modalListenerBefore");var ks=e("O3Fi");function os(Zt){let{prevTeamId:Rt}=Zt;const{getState:Dt}=Object(a.getStoreInstanceByTeamId)(Rt),kt=Dt();if(Object(ms.g)(kt)){const wt=Object(ks.a)();wt!=null&&wt.onClose&&(wt==null||wt.onClose())}return!0}v(os,"pinsPopoverListenerAfter");var ps=e("spq4"),bs=e("ED1u"),fn=e("y8m0"),Gs=v(Zt=>{let{prevTeamId:Rt,nextTeamId:Dt}=Zt;if(Rt!==Dt)return;const wt=Object(a.getStoreInstanceByTeamId)(Dt).getState();Object(ps.a)()&&Object(fn.d)(wt)&&Object(a.dispatchForClientStore)(Object(bs.c)(!1))},"dismiss_floating_sidebar"),js=e("BeL+"),aa=v(Zt=>{let{prevTeamId:Rt,nextTeamId:Dt}=Zt;if(Rt===Dt||!Dt)return;const kt=Object(Ft.f)("recentlyUsedTeamIds")||[Rt];kt.unshift(Dt),Object(Ft.v)("recentlyUsedTeamIds",Object(js.a)(kt)),Object(Ft.w)(Dt,"mostRecentlyUsedDate",new Date)},"update_recently_used_teams"),As=e("sjOx"),ot=e("3mGd"),Qt=e("Jjuf"),en=e("dDdQ"),vt=v(Zt=>{let{prevTeamId:Rt,nextTeamId:Dt,params:kt={}}=Zt;const{dispatch:wt,getState:ln}=Object(a.getStoreInstanceByTeamId)(Dt),nn=ln();if(Rt!==Dt)return;const vn=Object(E.b)(nn),_n=vn.entityId,Un=kt.entityId;_n===As.y&&Un===As.y&&kt.searchQuery&&vn.searchQuery!==kt.searchQuery&&Object(ot.a)(nn)!==kt.searchQuery&&wt(Object(Qt.a)({encodedSearchString:kt.searchQuery})),_n!==Un&&Un===As.y&&(kt.searchQuery&&wt(Object(Qt.a)({encodedSearchString:kt.searchQuery})),wt(Object(en.a)())),_n!==Un&&_n===As.y&&wt(Object(en.b)())},"search_page_listener"),At=e("uPu8");function qt(Zt){let{nextTeamId:Rt,prevTeamId:Dt}=Zt;const{dispatch:kt}=Object(a.getStoreInstanceByTeamId)(Rt);Dt!==Rt&&kt(Object(At.c)({teamId:Rt}))}v(qt,"permissionsListener");var Vt=e("53Bt"),Ut=e("hHne"),on=e("HMe0"),rn=e("rZ8V");function Cn(Zt){let{nextTeamId:Rt,reason:Dt}=Zt;if(Dt===ie)return;const kt=Object(a.getStoreInstanceByTeamId)(Rt),wt=kt.getState();if(Object(rn.g)(wt))return;if(Dt===k.a){var ln;if(!((ln=window.history.state)===null||ln===void 0)&&ln.tileState){const Un=window.history.state.tileHistoryState;Un&&kt.dispatch(Object(Ut.a)({tileHistoryState:Un})),kt.dispatch(Object(Vt.a)({tilesState:window.history.state.tileState}))}return}const nn=wt==null?void 0:wt.tiles,vn=Object(on.c)(wt),_n={...window.history.state,tileState:nn,tileHistoryState:vn};window.history.replaceState(_n,document.title,location.href)}v(Cn,"syncTiles");var dn=e("KAVK"),yn=e("v7mh"),Hn=e("yVcz"),jn=e("YiLv");function hn(Zt){let{nextTeamId:Rt,uuid:Dt,shouldReplaceState:kt,reason:wt}=Zt;var ln;if(!Rt||!Dt)return;if(wt!==k.a)if(kt)Object(a.dispatchForClientStore)(Object(Hn.d)({windowId:p.c,entry:{id:Dt,ts:Date.now(),teamId:Rt,isIA4:!1}}));else{const Un=Object(jn.b)(Object(a.getStateForClientStore)());Un>0&&Object(a.dispatchForClientStore)(Object(Hn.a)({windowId:p.c,index:Un})),Object(a.dispatchForClientStore)(Object(Hn.b)({windowId:p.c,entry:{id:Dt,ts:Date.now(),teamId:Rt,isIA4:!1}}))}const nn=Object(a.getStoreInstanceByTeamId)(Rt),vn=nn.getState();if(!Object(rn.g)(vn)||!((ln=window.history.state)===null||ln===void 0)&&ln.isIA4)return;const _n=Object(yn.i)(vn);nn.dispatch(Object(dn.a)({windowId:p.c,entry:_n}))}v(hn,"updateIA4History");var Qe=e("Pf08"),nt=e("FFIf"),Ge=e("v5z3"),Ot=e("0Xjs");function lt(Zt){let{nextTeamId:Rt,prevRouteInfo:Dt,params:kt}=Zt;var wt;const ln=Object(a.getStoreInstanceByTeamId)(Rt),nn=ln.getState(),vn=Object(nt.h)(nn),_n=Object(C.c)(nn,kt.entityId),Un=(Dt==null||(wt=Dt.params)===null||wt===void 0?void 0:wt.entityId)||"";(Un===Ot.q.CHANNELS||Un===Ge.b)&&(kt!=null&&kt.entityId)&&_n&&!Object(he.db)(_n)&&ln.dispatch(Object(Qe.G)({channelId:kt.entityId,prevRoute:Un})),vn&&(Dt==null?void 0:Dt.routeName)==="ROUTE_ENTITY"&&Object(H.a)(Un)&&ln.dispatch(Object(Qe.G)({channelId:null,prevRoute:null}))}v(lt,"setPreviewingFromChannelBrowserOrLaunchpad");var ht=e("i6Ao"),jt=e("toaU"),_t=e("JvzI"),sn=e("Z7Ay");function En(Zt){let{nextTeamId:Rt,routeName:Dt,params:kt}=Zt;Rt&&(Object(a.dispatchForClientStore)(Object(o.a)({teamId:Rt,routeName:Dt,params:kt,fromNavigation:!0})),Object(a.getStoreInstanceByTeamId)(Rt)&&Object(a.dispatchForTeamId)(Rt,Object(Wt.b)({routeName:Dt,params:kt})))}v(En,"syncRouteStoreWithUrl");function Ln(Zt){return Bn.apply(this,arguments)}v(Ln,"navigateToLastSavedRoute");function Bn(){return Bn=Object(s.coroutine)(function*(Zt){let{prevTeamId:Rt,nextTeamId:Dt,navigationTimestamp:kt}=Zt;const wt=Object(a.getStateForClientStore)();if(!Dt||Object(c.hasWorkspaceFailedToBoot)(wt,Dt)||Object(c.doesWorkspaceNeed2FASetup)(wt,Dt)||Object(c.isWorkspaceExpired)(wt,Dt)||Object(c.isWorkspacePendingAuth)(wt,Dt))return!0;const ln=Object(a.getStoreInstanceByTeamId)(Dt),nn=ln&&ln.getState(),vn=Object(E.b)(nn),_n=Object(E.a)(nn)||O.b;if(Object(r.i)()&&_n===jt.a)return!0;const Un=!Rt;return yield Object(k.h)(_n,{...vn,teamId:Dt},{reason:"navigateToLastSavedRoute",shouldReplaceState:Un,navigationTimestamp:kt}),!1}),Bn.apply(this,arguments)}v(Bn,"_navigateToLastSavedRoute");function Wn(Zt){let{prevTeamId:Rt,nextTeamId:Dt}=Zt;if(!Rt||!Dt||Rt===Dt)return null;const kt=Zn(Dt);return Object(_t.c)(kt,Dt)}v(Wn,"ensureCorrectLocaleForTeam");function xn(Zt){let{prevTeamId:Rt,nextTeamId:Dt}=Zt;if(!Rt||!Dt||Rt===Dt)return null;const kt=Zn(Dt);return Object(_t.d)(kt)}v(xn,"ensureCorrectLocaleForExternalLibs");function Zn(Zt){const Rt=window.location.search.match(/[&?]locale=([a-zA-Z-]*)/);return Rt?Rt[1]:Object(Ft.h)(Zt,"user_locale")}v(Zn,"getLocaleForTeam");const ts=Object(t.a)(rs);function rs(){at.a.set("maybeOpenOtherTeamInBrowser",Object(k.c)(pe)),at.a.set("modalListenerBefore",Object(k.c)($s)),at.a.set("maybeFinishSignin",Object(k.c)(ze)),at.a.set("maybeRedirectEntity",Object(k.c)(st)),at.a.set("startTeamSwitchTiming",Object(k.c)(ct.a)),at.a.set("navigateToLastSavedRoute",Object(k.c)(Ln,[jt.a])),at.a.set("attemptToStopEditingInChannel",Object(k.c)(I,[])),at.a.set("openConversationWithMember",Object(k.c)(ge,[])),at.a.set("openConversationWithIds",Object(k.c)(Z,[])),at.a.set("ensureChannel",Object(k.c)(X,[])),at.a.set("draftsListenerBefore",Object(k.c)(Tt)),at.a.set("ensureCorrectLocaleForExternalLibs",Object(k.b)(xn)),at.a.set("searchPageListener",Object(k.b)(vt)),at.a.set("syncTiles",Object(k.b)(Cn)),at.a.set("updateIA4History",Object(k.b)(hn)),at.a.set("syncMessagePane",Object(k.b)(oe,[])),at.a.set("closeAppSpace",Object(k.b)(ue,[])),at.a.set("syncActivityPageView",Object(k.b)(De,[])),at.a.set("syncSavedPageView",Object(k.b)(Ue,[])),at.a.set("syncNotificationsPageView",Object(k.b)(ne,[])),at.a.set("syncThreadFlexpane",Object(k.b)(He,[O.w])),at.a.set("syncFlexpane",Object(k.b)(qe,[])),at.a.set("setNavigatedDuringWarmBoot",Object(k.b)(yt)),at.a.set("draftsListenerAfter",Object(k.b)(mt)),at.a.set("pinsPopoverListenerAfter",Object(k.c)(os)),at.a.set("syncRouteStoreWithUrl",Object(k.b)(En)),at.a.set("ensureCorrectLocaleForTeam",Object(k.b)(Wn)),at.a.set("setShouldLogTeamSwitchMetrics",Object(k.b)(bt)),at.a.set("setLocalConfigForTeamWithKey",Object(k.b)(Bt)),at.a.set("dismissFloatingSidebar",Object(k.b)(Gs)),at.a.set("updateRecentlyUsedTeams",Object(k.b)(aa)),at.a.set("maybeFetchClientPermissions",Object(k.b)(qt)),at.a.set("maybeIncrementHistoryLength",Object(k.b)(ht.d)),at.a.set("setPreviewingFromChannelBrowserOrLaunchpad",Object(k.b)(lt)),at.a.set("summaryDetailListener",Object(k.b)(pn)),at.a.set("channelCanvasListener",Object(k.b)(Gt)),at.a.set("quipActivityHistoryListener",Object(k.b)(es))}v(rs,"registerRouteListenersInner"),Object(sn.a)("router.listeners",()=>[...at.a.entries()]);const ys={syncRouteStoreWithUrl:En,navigateToLastSavedRoute:Ln,ensureCorrectLocaleForTeam:Wn,ensureCorrectLocaleForExternalLibs:xn,getLocaleForTeam:Zn};Object.defineProperty(ys,"syncRouteStoreWithUrl",{get:()=>En,set:Zt=>{En=Zt}}),Object.defineProperty(ys,"navigateToLastSavedRoute",{get:()=>Ln,set:Zt=>{Ln=Zt}}),Object.defineProperty(ys,"ensureCorrectLocaleForTeam",{get:()=>Wn,set:Zt=>{Wn=Zt}}),Object.defineProperty(ys,"ensureCorrectLocaleForExternalLibs",{get:()=>xn,set:Zt=>{xn=Zt}}),Object.defineProperty(ys,"getLocaleForTeam",{get:()=>Zn,set:Zt=>{Zn=Zt}})},"+bQA":function(K,n,e){"use strict"},"+fxZ":function(K,n,e){"use strict";e.d(n,"a",function(){return u});var s=e("q1tI"),t=e.n(s),a=e("zxER"),r=e("/MKj"),c=e("nNoG"),o=e("s9Q6"),i=e("stkM");const l=new c.b("trials");var u;(function(d){d.HuddlesFreemium="huddles_freemium"})(u||(u={}));const f=v(d=>{let{isFreemium:O,tooltipText:m,promoType:g,promoSubtype:E,variant:p}=d;const h=Object(r.useDispatch)(),_=30,b=Object(a.a)(o.i);Object(s.useEffect)(()=>{g&&h(Object(i.a)({campaignType:g,campaignSubType:E,reason:"trial_tooltip"}))},[h,g,E]);const I=Object(a.a)(S=>g?Object(o.b)(S,g,E):!1),C=Object(a.a)(S=>g?Object(o.c)(S,g,E):!1),y=v(()=>{if(b)switch(p){case u.HuddlesFreemium:return l.t("Huddles with more than two people are a paid feature, available with your free trial");default:return l.t("This is a paid feature, available with your free trial")}if(C)switch(p){case u.HuddlesFreemium:return l.t("Huddles with more than two people are a paid feature, available with a free, {trialLength}-day trial",{trialLength:_});default:return l.t("This is a paid feature, available with a free, {trialLength}-day trial",{trialLength:_})}switch(p){case u.HuddlesFreemium:return l.t("Huddles with more than two people are a paid feature, available with an upgrade");default:return l.t("This is a paid feature, available with an upgrade")}},"getTooltipText"),P=v(()=>b?l.t("This feature is unlimited with your free trial"):C?l.t("This feature is unlimited with a free trial, {trialLength}-day trial",{trialLength:_}):l.t("This feature is unlimited with an upgrade"),"getFreemiumTooltipText");if(I)return{};const T=O?P():y();return m?{tooltipTitle:m,tooltipBody:T}:{tooltipTitle:T}},"useTrialProBadgeTooltipText");n.b=f},"+nBv":function(K,n,e){"use strict";e.d(n,"a",function(){return l});var s=e("SQ0V"),t=e("1yap"),a=e("E3dU"),r=e("s4P+"),c=e("0iF4"),o=e("8z+9"),i=e("vr9t");const l=Object(s.c)("update a pin count for a channel",(u,f,d)=>{let{channelId:O,count:m,forceUpdate:g=!1}=d;const E=f(),p={...Object(a.c)(E,O)},h=Object(i.e)(E,O,{refetchIfNeeded:!1}),_=Object(i.c)(E,O),b=!g&&_===o.b.LOADED?h==null?void 0:h.length:m;if(b===p.pinned_items_count)return;Object(r.a)({state:E}).info("PINS",`Pins count updated for channel ${O}: ${b}`);const I={...p,pinned_items_count:b};u(Object(t.a)({channel:I})),Object(c.d)(p,m)});l.meta={name:"createThunk",key:"createThunkupdatePinCount",description:"update a pin count for a channel"}},"+nSQ":function(K,n,e){"use strict";e.d(n,"c",function(){return R}),e.d(n,"b",function(){return x}),e.d(n,"a",function(){return M});var s=e("74PA"),t=e("s4P+"),a=e("ktUG"),r=e("qAkX"),c=e("Pw4T"),o=e("M3pb"),i=e("S4vl"),l=e("mSpc"),u=e("ZvnG"),f=e("KciV");const d=new u.a;window.addEventListener("beforeunload",()=>{d.publish()});const O=["execute_boot_call","script_boot_imports"];let m;function g(V){Object(i.b)(!m,"setIntentToJoinTimeMs should only run once"),m=V}v(g,"setIntentToJoinTimeMs");function E(){return m}v(E,"getIntentToJoinFromSlackWindowTimeMs");const p=d.subscribe.bind(d);function h(V){let{windowCreatedTimeMs:L}=V;m&&C("window_create",L-m),O.forEach(ee=>{const te=performance.getEntriesByName(ee),le=Object(r.a)(te);le&&C(ee,le.duration)}),Object(c.d)(Object(o.a)()).logPerfTimingSections()}v(h,"sendBootMetrics");function _(V){Object(c.d)(Object(o.a)()).count(V)}v(_,"count");function b(V){let{name:L,startMark:Q,shouldLogstash:ee=!0}=V;performance.measure(L,Q);const te=performance.getEntriesByName(L),le=Object(r.a)(te);le&&(Object(f.c)("METRICS").info(L,le.duration),ee&&C(L,le.duration))}v(b,"measure");function I(){const V=performance.getEntries(),L=new l.a(["Time","Duration","Name"]);if(m){const Q=y(m);L.add([S(Q),"","intent_to_join_call_from_slack"])}V.forEach(Q=>{const{name:ee,entryType:te,startTime:le,duration:Oe}=Q;switch(te){case"paint":case"mark":L.add([S(le),"",ee]);break;case"measure":L.add(["",`(${S(Oe)})`,ee]);break;case"resource":{const he=T(ee);L.add([S(le),`(${S(Oe)})`,he]);break}default:}}),Object(f.c)("METRICS").info(`
Boot Timings:
${L.report()}`)}v(I,"reportBootTimingsToConsole");function C(V,L){Object(c.d)(Object(o.a)()).count(V,L)}v(C,"sendMetricToLogstash");function y(V){const L=Date.now()-performance.now();return V-L}v(y,"convertAbsoluteTimeToRelative");const P=document.createElement("a");function T(V){return P.href=V,Object(r.a)(P.pathname.split("/"))}v(T,"getFilenameOfUrl");function S(V){return`${Math.round(V)}ms`}v(S,"formatTime");const A=v(V=>{let{label:L,uiContext:Q,callsNativeArgs:ee,sendRoomId:te,sendImmediately:le=!1,clogger:Oe}=V;try{C(`${L}`,1);const he={contexts:{ui_context:Q,calls_native:ee}};Oe?Oe.track(L,he):Object(s.a)(L,he,te,le)}catch(he){Object(t.b)().error("CALLS",`error sending clog ${he}`)}},"handleClog"),R=v(V=>{let{source:L,clogger:Q,memberId:ee,mediaBackendType:te}=V;A({clogger:Q,label:a.EventId.CALLS_START_NATIVE_CALL,uiContext:{step:a.UiStep.CALLS_START,action:a.UiAction.CLICK,ui_properties:{element_type:L==="slash-command"?a.ElementType.INPUT:a.ElementType.BUTTON,element_name:L==="slash-command"?"calls_slash_command":"calls_start_button"}},callsNativeArgs:{user_id:ee||"",media_backend_type:te},sendRoomId:!1})},"handleStartNativeCallClog"),x=v(V=>{let{memberId:L,conversationId:Q,clogger:ee,call:te}=V;A({clogger:ee,label:a.EventId.CALLS_JOIN_NATIVE_CALL,uiContext:{step:a.UiStep.CALLS_JOIN,action:a.UiAction.CLICK,ui_properties:{element_type:a.ElementType.BUTTON,element_name:"calls_join"}},callsNativeArgs:{user_id:L||"",channel_id:Q||"",channel_type:te!=null&&te.isDmCall?"dm":"channel",room_id:te==null?void 0:te.id,media_backend_type:te==null?void 0:te.mediaBackendType},sendRoomId:!1})},"handleJoinNativeCallClog"),M=v(V=>{let{clogger:L,memberId:Q,conversationId:ee,roomId:te,call:le}=V;A({clogger:L,label:a.EventId.CALLS_DECLINE_NATIVE_CALL,uiContext:{step:a.UiStep.CALLS_JOIN,action:a.UiAction.CLICK,ui_properties:{element_type:a.ElementType.BUTTON,element_name:"calls_join"}},callsNativeArgs:{user_id:Q||"",channel_id:ee||"",channel_type:"invite",room_id:te,media_backend_type:le==null?void 0:le.mediaBackendType},sendRoomId:!1})},"handleDeclineNativeCallClog"),j=v(V=>{let{shouldEnable:L,mediaBackendType:Q}=V;A({label:L?a.EventId.CALLS_UNMUTE_NATIVE_CALL:a.EventId.CALLS_MUTE_NATIVE_CALL,uiContext:{step:L?a.UiStep.CALLS_UNMUTE:a.UiStep.CALLS_MUTE,action:a.UiAction.CLICK,ui_properties:{element_type:a.ElementType.BUTTON,element_name:L?"calls_unmute":"calls_mute"}},callsNativeArgs:{media_backend_type:Q},sendRoomId:!0})},"handleMuteNativeCallClog"),W=v(V=>{let{currentUserId:L,callId:Q,conversationId:ee,mediaBackendType:te}=V;A({label:a.EventId.CALLS_RECONNECT_ATTEMPT_NATIVE_CALL,uiContext:{step:a.UiStep.CALLS_RECONNECT_NATIVE,action:a.UiAction.IMPRESSION},callsNativeArgs:{call_type:"native",user_id:L||"",room_id:Q||"",channel_id:ee||"",media_backend_type:te||""},sendRoomId:!1})},"handleReconnectAttemptCallClog"),U=v(V=>{let{memberId:L,callId:Q,mediaBackendType:ee}=V;A({label:a.EventId.CALLS_RECONNECT_NATIVE_CALL,uiContext:{step:a.UiStep.CALLS_RECONNECT_NATIVE,action:a.UiAction.IMPRESSION},callsNativeArgs:{call_type:"native",user_id:L||"",room_id:Q||"",media_backend_type:ee},sendRoomId:!1})},"handleReconnectCallClog"),B=v(V=>{let{callId:L,mediaBackendType:Q,memberId:ee}=V;A({label:a.EventId.CALLS_SURVEY_IMPRESSION,uiContext:{step:a.UiStep.CALLS_SURVEY,action:a.UiAction.IMPRESSION},callsNativeArgs:{room_id:L,user_id:ee,media_backend_type:Q},sendRoomId:!1,sendImmediately:!0})},"handleSurveyImpressionClog"),Y=v(V=>{let{callId:L,mediaBackendType:Q,memberId:ee}=V;A({label:a.EventId.CALLS_SURVEY_CLOSE,uiContext:{step:a.UiStep.CALLS_SURVEY,action:a.UiAction.CLICK},callsNativeArgs:{room_id:L,user_id:ee,media_backend_type:Q},sendRoomId:!1,sendImmediately:!0})},"handleSurveyCloseClog"),z=v(V=>{let{callId:L,mediaBackendType:Q,memberId:ee}=V;A({label:a.EventId.CALLS_SURVEY_SUBMIT,uiContext:{step:a.UiStep.CALLS_SURVEY,action:a.UiAction.CLICK,ui_properties:{element_type:a.ElementType.BUTTON,element_name:"submit"}},callsNativeArgs:{room_id:L,user_id:ee,media_backend_type:Q},sendRoomId:!1,sendImmediately:!0})},"handleSurveySubmitClog"),F=v(V=>{let{callId:L,memberId:Q,mediaBackendType:ee,selectedValue:te,checkBoxState:le}=V;A({label:a.EventId.CALLS_SURVEY_SELECT,uiContext:{step:a.UiStep.CALLS_SURVEY,action:a.UiAction.CLICK,ui_properties:{element_type:a.ElementType.CHECKBOX,element_name:te,element_value:le}},callsNativeArgs:{room_id:L,user_id:Q,media_backend_type:ee},sendRoomId:!1,sendImmediately:!0})},"handleSurveySelectClog")},"+ono":function(K,n,e){"use strict";e.d(n,"a",function(){return r}),e.d(n,"c",function(){return o}),e.d(n,"b",function(){return i});var s=e("ktUG"),t=e("E97Y"),a=e("0JvK");const r={channelNavBar:"channel-nav-bar",mpimNavBar:"mpim-nav-bar",imNavBar:"im-nav-bar",profilePhoneField:"profile-phone-field",profileSideBar:"profile-side-bar",miniProfileCard:"mini-profile-card",memberContextMenu:"member-context-menu",profileHoverCard:"profile-hover-card"},c=v(l=>{let{cloggerContext:u,channel:f}=l;return Object(t.g)(f)?r.imNavBar:Object(t.i)(f)?r.mpimNavBar:Object(a.a)(f)?r.channelNavBar:u==null?void 0:u.entryPoint},"getEntryPoint"),o=v(l=>{let{clogger:u,cloggerContext:f,channel:d}=l;u.track(s.EventId.CALLS_MENU_PHONE_INTEGRATION,{contexts:{ui_context:{step:s.UiStep.CALLS_MENU_OPEN,action:s.UiAction.OPEN,entry_point:c({cloggerContext:f,channel:d})}}})},"clogCallMenuOpen"),i=v(l=>{let{clogger:u,cloggerContext:f,channel:d,appId:O,callType:m}=l;u.track(s.EventId.CALLS_MENU_PHONE_INTEGRATION,{contexts:{ui_context:{step:s.UiStep.CALLS_MENU_ITEM_CLICK,action:s.UiAction.CLICK,entry_point:c({cloggerContext:f,channel:d}),ui_properties:{element_type:s.ElementType.MENU,element_name:"calls_menu_phone_integration"}},core:{app_id:O,item_type:m}}})},"clogCallMenuItemClick")},"+ujC":function(K,n,e){"use strict";e.d(n,"a",function(){return u}),e.d(n,"b",function(){return f}),e.d(n,"c",function(){return O});var s=e("oTSI"),t=e("aVws"),a=e("uAML"),r=e("CQj+"),c=e("uubn");function o(m,g){return Object(r.a)(m,g).then(E=>Object(c.a)(m,E))}v(o,"fetchAndUpsertAppProfilesForTeam");const i=v(m=>Object(t.b)(m,"appProfiles"),"computeEffectiveTeamOrEnterpriseId"),l=Object(s.a)(()=>new a.b({fetch:o,isEnabled:()=>!0})),u=v((m,g)=>l().markObjectsAsFresh(i(m),g),"markObjectsAsFresh"),f=v((m,g)=>l().markObjectsAsStale(i(m),g),"markObjectsAsStale"),d=v(m=>l().getFreshObjects(i(m)),"getFreshObjects"),O=v((m,g)=>l().maybeRefetch(i(m),g),"maybeRefetch")},"/0iu":function(K,n,e){"use strict";e.d(n,"c",function(){return t}),e.d(n,"b",function(){return a}),e.d(n,"e",function(){return c}),e.d(n,"a",function(){return o}),e.d(n,"d",function(){return i});var s=e("2VFn");const t="QuipEmbed",a=[t,"QuipInsertionToolbar","QuipFloatingFormattingBar","QuipEmbeddeddUIToolbar"],r=["QuipHeaderView","QuipMegaphoneHeader","QuipActivityHistoryFloatingBar","QuipSystemMessageBanner","QuipFlexpaneFooter"],c=["WFBTemplatePreviewSidebar","WFBTemplatePreviewPrimary","WFBCanvas","WFBStepLibrary"],o=[...a,...r,"WorkspaceTabRail","WorkspaceSwitcher","TopNav","ControlStrip",s.h.Sidebar,s.h.Primary,s.h.Secondary,s.h.Modal,s.h.Tile,"HuddleWorkspace"],i=["PrimaryView","SecondaryView","SecondaryWorkspaceActions","HuddleSidebar","WorkspaceNavigation","CollapsedWorkspaceNavigation","TeamSidebar","TopNavToolbar","Composer",...o]},"/92K":function(K,n,e){"use strict";e.d(n,"a",function(){return s}),e.d(n,"b",function(){return c});var s;(function(o){o.Internal="internal",o.External="external",o.Invalid="invalid"})(s||(s={}));var t=e("9oTK"),a=e("WCk1"),r=e("2XU3");const c=Object(a.a)("Classifies a set of provided emails",function(){var o=Object(t.coroutine)(function*(i,l,u){const f=[];return(yield i(Object(r.a)({reason:"classify-emails",method:"emails.info",args:{emails:u.emails}}))).emails.forEach(O=>{let m;switch(O.classification){case"internal":m=s.Internal;break;case"external":m=s.External;break;default:m=s.Invalid;break}const g={email:O.email,classification:m};O.primary_sc_team&&(g.primaryScTeam=O.primary_sc_team),f.push(g)}),f});return function(i,l,u){return o.apply(this,arguments)}}());c.meta={name:"createFetcher",key:"createFetcherclassifyEmails",description:"Classifies a set of provided emails"}},"/DoU":function(K,n,e){"use strict";var s=e("q1tI"),t=e.n(s),a=e("iuhU"),r=e("cqtq"),c=e("nNoG"),o=e("WIr4"),i=e("Gs4e"),l=e("G7vT");const u=new c.b("form_inputs"),f={inline:"inline",multiline:"multiline"},d=v((h,_)=>h>_,"isCurrentCountInvalid"),O=v((h,_)=>_-h,"getCharacterCount"),m=v((h,_,b)=>!b||h>=b?O(h,_):"","getCharacterCountDisplay"),g=v(h=>h.toString().length,"getCharacterCountLength");let E=v(class extends s.Component{getSnapshotBeforeUpdate(_){if(_.currentCount!==this.props.currentCount){this.updateCharactersRemainingMessage(this.props.currentCount,this.props.maxCharacterLimit);const b=O(this.props.currentCount,this.props.maxCharacterLimit),I=g(b);this.shouldReadCharactersRemainingMessage=!1,this.state.characterCountLength!==I&&this.setCharacterCountLength(I)}return null}componentDidUpdate(_,b){this.props.type===f.inline&&b.characterCountLength!==this.state.characterCountLength&&this.measureCountWidth()}onBlur(){this.shouldReadCharactersRemainingMessage=!0,this.setState(()=>({hasFocus:!1}))}onFocus(){this.setState(()=>({hasFocus:!0}))}getCharacterCountWidth(){return this.characterCountWidth||this.measureCountWidth()}setCharacterCountLength(_){this.setState(()=>({characterCountLength:_}))}setCharactersRemainingMessage(_,b){const I=this.makeCharactersRemainingMessage(_,b);this.setState(()=>({charactersRemainingMessage:I}))}setCharactersRemainingRef(_){this.charactersRemainingElement=_}makeCharactersRemainingMessage(_,b){const I=O(_,b);return u.t("{count, plural, =1 {# character} other {# characters}} remaining",{count:I})}measureCountWidth(){const _=this.charactersRemainingElement&&this.charactersRemainingElement.offsetWidth||0;return this.characterCountWidth=_,_}renderCharactersRemaining(){if(!this.state.hasFocus)return null;const{currentCount:_,maxCharacterLimit:b,counterMinimumCharacters:I}=this.props,C=m(_,b,I);return t.a.createElement("div",{"aria-hidden":"true",className:"c-input_character_count__characters-remaining",ref:this.setCharactersRemainingRef},C)}render(){const{className:_,currentCount:b,maxCharacterLimit:I,children:C,isDisabled:y,size:P,type:T,id:S}=this.props,A=Object(a.default)(_,"c-input_character_count",{"c-input_character_count--multiline":T===f.multiline,"c-input_character_count--large":P===i.a.large,"c-input_character_count--small":P===i.a.small,"c-input_character_count--invalid":this.state.hasFocus&&d(b,I),"c-input_character_count--disabled":y}),R=this.shouldReadCharactersRemainingMessage&&t.a.createElement("div",{id:S,hidden:!0},this.state.charactersRemainingMessage);let x;return this.shouldReadCharactersRemainingMessage||(x=t.a.createElement(l.b,{assertive:!0,message:this.state.charactersRemainingMessage})),t.a.createElement("div",{role:"presentation",className:A,"data-qa":"input_character_count",onFocus:this.onFocus,onBlur:this.onBlur},C,this.renderCharactersRemaining(),x,R)}constructor(_){super(_);const b=this.makeCharactersRemainingMessage(_.currentCount,_.maxCharacterLimit);this.state={characterCountLength:0,charactersRemainingMessage:b,hasFocus:!1},this.characterCountWidth=0,this.shouldReadCharactersRemainingMessage=!0,Object(o.a)(this,["setCharactersRemainingRef","setCharactersRemainingMessage","onFocus","onBlur"]),this.updateCharactersRemainingMessage=Object(r.a)(this.setCharactersRemainingMessage,1500)}},"CharacterCount");E.displayName="CharacterCount",E.defaultProps={className:void 0,currentCount:0,isDisabled:!1,type:f.inline,size:i.a.medium,counterMinimumCharacters:0,id:void 0};var p=n.a=E},"/FOo":function(K,n,e){"use strict";e.d(n,"a",function(){return a});var s=e("y9ga"),t=e("uwTK");const a=v(r=>{const c=s.b.WHO_CAN_MANAGE_SHARED_CHANNELS;return Object(t.a)(r,c)},"getWhoCanManageSharedChannelsPref")},"/Hvu":function(K,n,e){"use strict";e.d(n,"a",function(){return m}),e.d(n,"b",function(){return E});var s=e("oTSI"),t=e("046c"),a=e("417x"),r=e("s4P+"),c=e("CWPp");const o=v((p,h,_)=>{var b,I,C;return{triggerId:(p==null?void 0:p.id)||"",workflowId:(p==null?void 0:p.workflow.workflow_id)||(h==null?void 0:h.id),appId:(p==null?void 0:p.workflow.app_id)||((b=p==null?void 0:p.workflow.app)===null||b===void 0?void 0:b.id),app:p==null?void 0:p.workflow.app,inputs:p==null?void 0:p.inputs,owningTeamId:p==null?void 0:p.owning_team_id,isWorkflowApp:(I=p==null?void 0:p.workflow.app)===null||I===void 0?void 0:I.is_workflow_app,isSalesHomeWorkflowApp:(C=p==null?void 0:p.workflow.app)===null||C===void 0?void 0:C.is_sales_home_workflow_app,title:(p==null?void 0:p.name)||(p==null?void 0:p.workflow.title)||(h==null?void 0:h.title)||(_==null?void 0:_.title),description:(p==null?void 0:p.description)||(p==null?void 0:p.workflow.description)||(h==null?void 0:h.description)||(_==null?void 0:_.description),appCollaborators:(h==null?void 0:h.collaborators)||(_==null?void 0:_.appCollaborators),shareUrl:(p==null?void 0:p.share_url)||(_==null?void 0:_.shareUrl)}},"getCommonMetadataFromTriggerAndWorkflow"),i=v((p,h,_)=>({...o(p,h,_),triggerType:t.a.Shortcut,url:p.shortcut_url}),"createLinkShortcut"),l=v((p,h,_)=>({...o(p,h,_),triggerType:t.a.Webhook}),"createWebhookShortcut"),u=v((p,h,_)=>({...o(p,h,_),triggerType:t.a.External}),"createExternalShortcut"),f=v((p,h,_)=>{const{eventType:b,channelIds:I,teamIds:C,filter:y}=Object(a.a)(p),P={eventType:b,channelIds:I,teamIds:C,filter:y};return{...o(p,h,_),triggerType:t.a.Event,event:P}},"createEventShortcut"),d=v((p,h,_)=>{const b=Object(a.a)(p.schedule);return{...o(p,h,_),triggerType:t.a.Scheduled,schedule:b}},"createScheduledShortcut"),O=v((p,h,_)=>o(p,h,_),"createUnknownShortcut"),m=v(p=>{let{passedShortcutInfo:h,trigger:_,workflow:b}=p;if(Object(c.a)(_)){const I=_;switch(I.type){case t.a.Shortcut:return i(I,b,h);case t.a.Event:return f(I,b,h);case t.a.Scheduled:return d(I,b,h);case t.a.External:return u(I,b,h);case t.a.Webhook:return l(I,b,h);default:return O(I,b,h)}}return O(void 0,b,h)},"createShortcutFromTriggerAndWorkflow"),g=v(p=>{try{return JSON.stringify(p)}catch(h){throw Object(r.b)().error("stringify failed for workflow/trigger obj shortcut info"),h}},"memoizeCacheKeyResolver"),E=Object(s.a)(m,g)},"/K2e":function(K,n,e){"use strict";var s=e("n3tL"),t=e("q1tI"),a=e.n(t),r=e("TGBA"),c=e("vJtL"),o=e("UHsu"),i=e("i9y5"),l=e("7JHn"),u=e("x5cI"),f=e("GFD/"),d=e("NPyv"),O=e("tv4y"),m=e("rq2v");function g(){return g=Object.assign||function(_){for(var b=1;b<arguments.length;b++){var I=arguments[b];for(var C in I)Object.prototype.hasOwnProperty.call(I,C)&&(_[C]=I[C])}return _},g.apply(this,arguments)}v(g,"_extends");const E={type:s.default.oneOf(Object(r.a)(O.a)),label:s.default.node,description:s.default.string,children:s.default.element,key:s.default.string,click:s.default.func,danger:s.default.bool,dataQa:s.default.string,checked:s.default.bool,indeterminate:s.default.bool,ariaHidden:s.default.bool,target:s.default.string,href:s.default.string,download:s.default.string,action:s.default.func,payload:s.default.object,autoClogProps:s.default.object},p={template:s.default.arrayOf(s.default.shape({...E,renderSubmenu:s.default.func,template:s.default.arrayOf(s.default.shape(E)),submenu:s.default.arrayOf(s.default.shape(E)),checked:s.default.bool})).isRequired};let h=v(class Si extends t.PureComponent{render(){const{template:b,...I}=this.props,C=b.map((y,P)=>{if(!y)return null;if(y.type===O.a.separator)return a.a.createElement(f.a,g({},y,{key:y.key||`separator-${P}`}));if(y.type===O.a.sub_separator)return a.a.createElement(f.a,g({},y,{className:"c-menu_separator__li--sub",key:y.key||`separator-${P}`}));if(y.type===O.a.header)return a.a.createElement(d.a,{key:y.key||`header-${P}`,label:y.label,className:y.className});if(y.type===O.a.loading)return a.a.createElement(i.a,{key:y.key||"loading",size:"large"});const T={children:y.children,className:y.className,classNameListItem:y.classNameListItem,label:y.label,description:y.description,icon:y.icon,badgeCount:y.badgeCount,badgeLabel:y.badgeLabel,badgeClassName:y.badgeClassName,shortcut:y.shortcut,showEnter:y.showEnter,onSelected:y.click,target:y.target,href:y.href,download:y.download,danger:y.danger,type:y.type,"data-qa":y.dataQa,disabled:y.disabled,showOfflineIcon:y.showOfflineIcon,showLinkIndicatorIcon:y.showLinkIndicatorIcon,checked:y.checked,indeterminate:y.indeterminate,width:y.submenuWidth,autoClogProps:y.autoClogProps,megaphoneSpaceName:y.megaphoneSpaceName,megaphoneNotificationName:y.megaphoneNotificationName,onMount:y.onMount,onUnmount:y.onUnmount,ariaDescribedBy:y.ariaDescribedBy},S=y.key||y.label;if(y.type===O.a.submenu){const R=Object(c.a)(y.renderSubmenu)?y.renderSubmenu:x=>a.a.createElement(Si,g({template:y.template||y.submenu},x,{width:y.submenuWidth}));return a.a.createElement(o.a,g({},T,{label:y.label,renderSubmenu:R,key:S}))}if(y.type===O.a.custom)return y.ariaHidden===!1?y.children:a.a.createElement("div",{"aria-hidden":"true",key:y.key},y.children);if(y.type===O.a.subheaderChild)return a.a.createElement(u.a,g({key:S,type:O.a.subheaderChild},T));const A=a.a.createElement(u.a,g({key:S},T));return y.megaphoneSpaceName&&y.megaphoneNotificationName?a.a.createElement(m.c,{key:S,spaceName:y.megaphoneSpaceName,notifications:{[y.megaphoneNotificationName]:{component:()=>A}}}):A});return a.a.createElement(l.a,g({},I),C)}},"MenuFromTemplate");h.displayName="MenuFromTemplate",h.propTypes=p,n.a=h},"/L4o":function(K,n,e){"use strict";var s=e("q1tI"),t=e.n(s),a=e("nNoG"),r=e("E/AO");const c=new a.b("message"),o=v(i=>{let{closeAndContinueEditing:l,closeAndCancelEditing:u}=i;const f=c.rt("You will lose any unsaved changes to your message."),d=c.t("Going somewhere else in Slack?"),O=c.t("Continue");return t.a.createElement(r.a,{title:d,submitButtonText:O,submitButtonType:"danger",cancelButtonText:c.t("Keep Editing"),onSubmit:u,onCancel:l,onClose:l},f)},"UnsavedEditsWarningModal");o.displayName="UnsavedEditsWarningModal",n.a=o},"/LVU":function(K,n,e){"use strict";e.d(n,"e",function(){return f}),e.d(n,"b",function(){return d}),e.d(n,"a",function(){return O}),e.d(n,"d",function(){return m}),e.d(n,"c",function(){return g});var s=e("n3tL"),t=e("X0TA"),a=e("WCk1"),r=e("2XU3"),c=e("s4P+"),o=e("m+KS"),i=e("beVI"),l=e("9Gfp");const u="DND",f=Object(a.a)("Snoozes notifications for a duration of time",function(E,p){let{duration:h,isIndefinite:_,reason:b}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return E(Object(r.a)({method:"dnd.setSnooze",args:{num_minutes:h,is_indefinite:_},reason:b})).then(()=>{Object(c.a)({getState:p}).info(u,`Snoozed notifications for ${h} minutes`)}).catch(()=>{Object(c.a)({getState:p}).error(u,`Failed to snooze notifications for ${h} minutes`)})});f.meta={name:"createFetcher",key:"createFetchersnoozeNotifications",description:"Snoozes notifications for a duration of time"},f.propTypes={duration:s.default.number,isIndefinite:s.default.bool,reason:s.default.string.isRequired};const d=Object(a.a)("Ends DND mode triggered by explicityly snoozing notifications",function(E,p){let{reason:h}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return E(Object(r.a)({method:"dnd.endSnooze",reason:h})).then(()=>{Object(c.a)({getState:p}).info(u,"Turned off DND (SNOOZE)")}).catch(_=>{var b;if(Object(c.a)({getState:p}).error(u,"Failed to turn off DND (SNOOZE)"),Object(c.a)({getState:p}).error(u,p().dnd),(_==null||(b=_.data)===null||b===void 0?void 0:b.error)===t.a.SnoozeNotActive){var I;const C=p(),y=Object(l.a)(C),P=(I=Object(i.g)(C))===null||I===void 0?void 0:I.id;E(Object(o.a)({teamOrEnterpriseId:P,ids:[y]}))}})});d.meta={name:"createFetcher",key:"createFetcherendDndSnooze",description:"Ends DND mode triggered by explicityly snoozing notifications"},d.propTypes={reason:s.default.string.isRequired};const O=Object(a.a)("Ends DND mode triggered by the DND schedule",function(E,p){let{reason:h}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return E(Object(r.a)({method:"dnd.endDnd",reason:h})).then(()=>{Object(c.a)({getState:p}).info(u,"Turned off DND (SCHEDULE)")}).catch(()=>{Object(c.a)({getState:p}).error(u,"Failed to turn off DND (SCHEDULE)"),Object(c.a)({getState:p}).error(u,p().dnd)})});O.meta={name:"createFetcher",key:"createFetcherendDndSchedule",description:"Ends DND mode triggered by the DND schedule"},O.propTypes={reason:s.default.string.isRequired};const m=Object(a.a)("Fetches the DND info for multiple users",function(E,p){let{memberIds:h,reason:_}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return E(Object(r.a)({method:"dnd.teamInfo",args:{users:h.join(",")},reason:_})).then(function(){let{users:b={}}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return Object(c.a)({getState:p}).info(u,`Fetched DND info for the following members: ${h}`),Object.keys(b).map(C=>({memberId:C,nextDndStartTs:b[C].next_dnd_start_ts,nextDndEndTs:b[C].next_dnd_end_ts,snoozeIsIndefinite:b[C].snooze_is_indefinite}))}).catch(b=>{throw Object(c.a)({getState:p}).warn(u,`Failed to fetch DND info for the following members: ${h}`),b})});m.meta={name:"createFetcher",key:"createFetcherfetchUsersDndInfo",description:"Fetches the DND info for multiple users"},m.propTypes={memberIds:s.default.arrayOf(s.default.string).isRequired,reason:s.default.string.isRequired};const g=Object(a.a)("Fetches the DND info for a single user",function(E,p){let{memberId:h,reason:_}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return E(Object(r.a)({method:"dnd.info",args:{user:h},reason:_})).then(function(){let{next_dnd_start_ts:b,next_dnd_end_ts:I,snooze_enabled:C,snooze_endtime:y,snooze_is_indefinite:P}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return Object(c.a)({getState:p}).info(u,`Fetched DND info for the following member: ${h}`),{nextDndStartTs:b,nextDndEndTs:I,snoozeEnabled:C,snoozeEndTs:y,snoozeIsIndefinite:P}}).catch(b=>{throw Object(c.a)({getState:p}).warn(u,`Failed to fetch DND info for the following member: ${h}`),b})});g.meta={name:"createFetcher",key:"createFetcherfetchUserDndInfo",description:"Fetches the DND info for a single user"},g.propTypes={memberId:s.default.string.isRequired,reason:s.default.string.isRequired}},"/Nz6":function(K,n,e){"use strict";e.d(n,"a",function(){return O});var s=e("q1tI"),t=e.n(s),a=e("SQ0V"),r=e("A1dN"),c=e("ICFZ"),o=e("PIf0"),i=e("oY18"),l=e("g3a/"),u=e("nNoG"),f=e("sgFo");const d=new u.b("huddles"),O=Object(a.c)("Copies Huddle link by Channel Id",(m,g,E,p)=>{let{channelId:h,suppressToast:_}=E;const{window:b}=p(o.a),I=Object(f.m)(g());h&&(m(Object(r.b)({reason:"copy",channelId:h})).then(C=>{Object(c.e)(C.link,b)}),I&&!_&&m(Object(i.a)({element:t.a.createElement(l.a,{icon:"check-large",duration:3e3},d.rt("Huddle link copied"))})))});O.meta={name:"createThunk",key:"createThunkcopyHuddleLinkByChannelId",description:"Copies Huddle link by Channel Id"}},"/Qyu":function(K,n,e){"use strict";var s=e("DwFS");const t=Object(s.a)("Triggers a side-effect that opens the ShareContactModal in client (noop)");t.meta={name:"createAction",key:"createActionopenShareContactModalCircular",description:"Triggers a side-effect that opens the ShareContactModal in client (noop)"},n.a=t},"/Rv1":function(K,n,e){"use strict";e.d(n,"a",function(){return I});var s=e("9oTK"),t=e.n(s),a=e("Z44y"),r=e("s4P+"),c=e("rZ8V"),o=e("25cE"),i=e("SQ0V"),l=e("BbyF"),u=e("2VFn"),f=e("bHpg"),d=e("ie1g"),O=e("4hjS"),m=e("cU/a"),g=e("S36j"),E=e("3qtv"),p=e("xcHN"),h=e("u09r"),_=e("2XjL");const b=Object(i.c)("Handle focus transitions when thread closes",function(){var C=Object(s.coroutine)(function*(y,P){const T=P(),S=Object(O.d)(T);if(!(S!=null&&S.length))return;const{threadTs:A,channelId:R}=Object(p.d)(T,S[0]);!R||!A||y(Object(h.a)({threadTs:A,channelId:R}))});return function(y,P){return C.apply(this,arguments)}}());b.meta={name:"createThunk",key:"createThunktransitionFocusOutOfThread",description:"Handle focus transitions when thread closes"};const I=Object(i.c)("Closes the flexpane",function(C,y){let{shouldReplaceState:P=!1}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const T=Object(r.a)({getState:y});if(T.info("FLEXPANE","Attempting to close flexpane"),Object(c.g)(y()))return C(Object(l.a)({windowId:u.c,container:u.h.Secondary}));if(Object(a.a)())return T.info("FLEXPANE","Closing docs flexpane"),C(Object(_.a)());const S=y(),A=Object(O.l)(S),R=Object(O.a)(S);if(R){if(T.info("FLEXPANE",`Handling docked section (${R})`),R!==A){if(R==="activity")return T.info("FLEXPANE","Replacing flexpane with docked activity"),C(Object(E.a)());if(R==="starred_items"||R==="saved")return T.info("FLEXPANE","Replacing flexpane with docked starred items"),C(Object(E.e)());if(R==="notifications")return T.info("FLEXPANE","Replacing flexpane with docked notifications"),C(Object(E.c)());if(R==="reactions")return T.info("FLEXPANE","Replacing flexpane with docked reactions"),C(Object(E.d)())}T.info("FLEXPANE","Clearing docked flexpane"),C(Object(g.b)(null))}if(T.info("FLEXPANE","Closing flexpane"),A==="help"){const x=Object(d.e)(S);x!=null&&x.categoryId&&C(Object(f.e)({categoryId:null}))}else A==="thread"&&C(b());return C(Object(m.a)({routeName:o.b,flexName:void 0,flexParams:void 0,replaceHistoryState:P}))});I.meta={name:"createThunk",key:"createThunkcloseFlexpane",description:"Closes the flexpane"}},"/S0L":function(K,n,e){"use strict";e.d(n,"a",function(){return o});var s=e("SQ0V"),t=e("T1zM"),a=e("s4P+");const r="IMPROVED_SEARCH",c="search_sort",o=Object(s.c)("Message Search: set sort method",(i,l,u)=>{let{sort:f}=u;Object(a.a)({getState:l}).info(r,`Set message sort method. messageSort: ${f}`),i(Object(t.f)({pref:c,value:f}))});o.meta={name:"createThunk",key:"createThunksetMessageSort",description:"Message Search: set sort method"}},"/ZHS":function(K,n,e){"use strict";e.d(n,"a",function(){return a});var s=e("m5Yc");const{COLOR:t}=s.b,a=v(r=>{var c;return((c=r)===null||c===void 0?void 0:c.type)===t},"isRichTextColorElement")},"/aHE":function(K,n,e){"use strict";e.d(n,"a",function(){return r}),e.d(n,"b",function(){return c}),e.d(n,"e",function(){return o}),e.d(n,"f",function(){return i}),e.d(n,"d",function(){return l}),e.d(n,"c",function(){return u}),e.d(n,"g",function(){return f});var s=e("SQ0V"),t=e("T1zM"),a=e("sjOx");const r=Object(s.c)("Channel search: set hide my channels",(d,O,m)=>{let{value:g}=m;d(Object(t.f)({pref:a.E,value:g}))});r.meta={name:"createThunk",key:"createThunksetChannelSearchHideMemberChannels",description:"Channel search: set hide my channels"};const c=Object(s.c)("Channel Search: set sort method",(d,O,m)=>{let{sort:g}=m;d(Object(t.f)({pref:a.B,value:g}))});c.meta={name:"createThunk",key:"createThunksetChannelSearchSort",description:"Channel Search: set sort method"};const o=Object(s.c)("People Search: set sort method",(d,O,m)=>{let{sort:g}=m;d(Object(t.f)({pref:a.G,value:g}))});o.meta={name:"createThunk",key:"createThunksetPeopleSearchSort",description:"People Search: set sort method"};const i=Object(s.c)("Setting result Count Toggle",(d,O,m)=>{let{count:g}=m;d(Object(t.f)({pref:"result_count_toggle",value:g}))});i.meta={name:"createThunk",key:"createThunksetResultCountToggle",description:"Setting result Count Toggle"};const l=Object(s.c)("People search: set hiding deactivated users",(d,O,m)=>{let{value:g}=m;d(Object(t.f)({pref:a.D,value:g}))});l.meta={name:"createThunk",key:"createThunksetPeopleSearchHideDeactivatedUsers",description:"People search: set hiding deactivated users"};const u=Object(s.c)("Message/File search: set exclude bots",(d,O,m)=>{let{value:g}=m;d(Object(t.f)({pref:a.C,value:g}))});u.meta={name:"createThunk",key:"createThunksetMessageAndFileSearchExcludeBots",description:"Message/File search: set exclude bots"};const f=Object(s.c)("Message/File search: search only my channels",(d,O,m)=>{let{value:g}=m;d(Object(t.f)({pref:a.F,value:g}))});f.meta={name:"createThunk",key:"createThunksetSearchOnlyMyChannelsChanged",description:"Message/File search: search only my channels"}},"/b8j":function(K,n,e){"use strict";e.d(n,"a",function(){return t});var s=e("GNAk");const t=v((a,r)=>{Object(s.a)().maybeRefetch(a,r)},"maybeRefetchChannelActionsForChannel")},"/cL/":function(K,n,e){"use strict";var s=e("q1tI"),t=e.n(s),a=e("nNoG"),r=e("Cfcg"),c=e("ktUG"),o=e("/0Xg"),i=e("zxER"),l=e("beVI"),u=e("s9Q6"),f=e("Trx9"),d=e("iUFw"),O=e("Tevt"),m=e("Tsh7");function g(){return g=Object.assign||function(b){for(var I=1;I<arguments.length;I++){var C=arguments[I];for(var y in C)Object.prototype.hasOwnProperty.call(C,y)&&(b[y]=C[y])}return b},g.apply(this,arguments)}v(g,"_extends");const E=new a.b("plan_change"),p=v(b=>{let{children:I,planLevel:C,entryPoint:y,feature:P,hash:T,action:S,useLink:A,refToForward:R,productId:x,productLevel:M,team:j,isTeamInTrial:W,tooltipProps:U,...B}=b;const Y=Object(i.a)(V=>Object(o.w)(V,{entryPoint:y,productId:x,productLevel:M,action:S,feature:P,hash:T})),z=A?O.a:d.a,F=t.a.createElement(z,g({ref:R},B,{href:Y}),I);return t.a.createElement(f.a,{eventId:c.EventId.UPGRDEXP_UPSELL_PROMPTS,clogImpression:!0},U?t.a.createElement(m.d,g({tip:E.t("Upgrade")},U),F):F)},"PlansPageCTABase");p.displayName="PlansPageCTABase";const h=v(b=>({team:Object(l.g)(b),isTeamInTrial:Object(u.i)(b)}),"mapStateToProps"),_=Object(r.a)(h)(p);n.a=t.a.forwardRef((b,I)=>t.a.createElement(_,g({},b,{refToForward:I})))},"/lqa":function(K,n,e){"use strict"},"/qcS":function(K,n,e){"use strict";var s=e("UnpP");e.d(n,"a",function(){return s.a}),n.b=s.b},"/vsG":function(K,n,e){"use strict";e.d(n,"a",function(){return O});var s=e("/1FC"),t=e("OZf9"),a=e("fujP"),r=e("Kyco"),c=e("vLZU"),o=e("yxNq"),i=e("m+KS"),l=e("clFD"),u=e("s4P+");const{upsertCurrentDndStatuses:f,upsertDndSchedules:d}=i.b,O="dndV2",m={currentStatuses:{},schedules:{},currentMemberSnooze:{snoozeEnabled:!1,snoozeEndTs:void 0,snoozeIsIndefinite:!1}},g=Object(r.b)({},m,{storeKey:O,scope:c.k.orgShared,persistenceEnabled:!1}).on(i.c,(E,p)=>{if(!p||!Object(s.a)(p)||!p.length)return Object(u.b)({label:l.a}).info("updateCurrentDndStatuses expects an array of statuses"),E;let h=!1;const _={...E,currentStatuses:{...E.currentStatuses}};return Object(t.a)(p,b=>{let{memberId:I,isInDnd:C}=b;var y;I&&(E==null||(y=E.currentStatuses)===null||y===void 0?void 0:y[I])!==C&&(h=!0,_.currentStatuses[I]=C)}),h?_:E}).on(i.e,(E,p)=>{if(!p||!Object(s.a)(p)||!p.length)return Object(u.b)({label:l.a}).info("updateDndSchedules expects an array of schedules"),E;let h=!1;const _={...E,schedules:{...E.schedules}};return Object(t.a)(p,b=>{let{memberId:I,nextDndStartTs:C,nextDndEndTs:y}=b;var P;I&&(Object(o.a)(E==null||(P=E.schedules)===null||P===void 0?void 0:P[I],{nextDndStartTs:C,nextDndEndTs:y})||(h=!0,_.schedules[I]={nextDndStartTs:C,nextDndEndTs:y}))}),h?_:E}).on(i.d,(E,p)=>{let{snoozeEnabled:h,snoozeEndTs:_,snoozeIsIndefinite:b}=p;return h===E.currentMemberSnooze.snoozeEnabled&&_===E.currentMemberSnooze.snoozeEndTs&&b===E.currentMemberSnooze.snoozeIsIndefinite?E:{...E,currentMemberSnooze:{snoozeEnabled:h,snoozeEndTs:_,snoozeIsIndefinite:b}}}).on(f,(E,p)=>!p||Object(a.a)(p)?E:{...E,currentStatuses:p}).on(d,(E,p)=>!p||Object(a.a)(p)?E:{...E,schedules:p});n.b=g},"04Cl":function(K,n,e){K.exports=e.p+"channel_message_2x-5cb3b49.mp3"},"04K9":function(K,n,e){"use strict";e.d(n,"a",function(){return a});var s=e("n3tL"),t=e("DwFS");const a=Object(t.a)("Start delete animation for a message");a.meta={name:"createAction",key:"createActionanimateDeleteMessage",description:"Start delete animation for a message"},a.propTypes={channelId:s.default.string.isRequired,ts:s.default.string.isRequired,isDeleting:s.default.bool}},"0QQP":function(K,n,e){"use strict";e.d(n,"b",function(){return t}),e.d(n,"a",function(){return a});const s=/^Aa[A-Z0-9]{8,}$/;function t(r){return s.test(r)}v(t,"looksLikeAppGlobalActionId");function a(r){return t(r)}v(a,"looksLikeAppActionId")},"0Tme":function(K,n,e){K.exports=e.p+"confirm_delivery-99baed3.mp3"},"0cEW":function(K,n,e){"use strict";e.d(n,"c",function(){return s}),e.d(n,"a",function(){return a}),e.d(n,"b",function(){return r});const s={Dark:"dark",Light:"light"},t={ASSERTIVE:"assertive",POLITE:"polite",OFF:"off"},a={Horizontal:"horizontal",Vertical:"vertical"},r={Top:"top",TopLeft:"top-left",TopRight:"top-right",Left:"left",LeftBottom:"left-bottom",LeftTop:"left-top",Right:"right",RightBottom:"right-bottom",RightTop:"right-top",Bottom:"bottom",BottomLeft:"bottom-left",BottomRight:"bottom-right"}},"0csk":function(K,n,e){"use strict";e.d(n,"a",function(){return c});var s=e("q1tI"),t=e.n(s),a=e("nNoG");const r=new a.b("error_boundary");function c(o){let{errCode:i}=o;return t.a.createElement("p",{className:"p-error_boundary__error_code_container"},t.a.createElement("span",{className:"p-error_boundary__error_code","data-qa":"error_code"},r.t("Error: "),i))}v(c,"ErrorCode")},"0i82":function(K,n,e){"use strict";e.d(n,"a",function(){return d});var s=e("q1tI"),t=e.n(s),a=e("Cfcg"),r=e("iuhU"),c=e("beVI"),o=e("G0eX"),i=e("w/U0"),l=e("DR7d"),u=e("nWdO");function f(E,p){if(!E)return null;const h=Object.keys(E).map(I=>+I.replace("image_","")).filter(I=>I>0),b=`image_${Object(l.a)(p,h)}`;return E[b]}v(f,"getIconImage");function d(E){let{icon:p,teamName:h="",showTooltip:_=!1,size:b=20,isPendingShared:I=!1,className:C,allowTeamInitials:y=!0,ariaHidden:P=!1,resetIA:T=!1}=E;const S=!p||p.image_default,A=!I&&!S&&f(p,b*2);let R="";const x=Object(i.a)(R)?`${Math.round(b/2.2)}px`:`${Math.round(b/1.8)}px`,M=Object(s.useMemo)(()=>({height:`${b}px`,width:`${b}px`,minWidth:`${b}px`,fontSize:x,lineHeight:`${b}px`,whiteSpace:"nowrap",backgroundImage:A?`url(${A})`:void 0}),[b,x,A]);if(S||I){if(!y)return null;R=Object(o.o)(h,{limit:2})}const j=Object(r.default)("c-team_icon",C,{"c-team_icon--default":S,"c-team_icon--pending":I,"c-team_icon--resetIA":T}),W=t.a.createElement("i",{className:j,style:M,role:"img","aria-hidden":P,"aria-label":h},R);return h&&_?t.a.createElement(u.c,{tip:h,position:"top",zIndex:"above_fs"},W):W}v(d,"BaseTeamIcon"),d.displayName="BaseTeamIcon";function O(E,p){const{id:h,team:_}=p,b=_||Object(c.t)(E,h);return!b||Object(o.R)(b)?{}:{teamName:Object(o.g)(b),icon:b.icon}}v(O,"mapStateToProps");const m=Object(a.a)(O)(d);var g=n.b=m},"0zWI":function(K,n,e){"use strict";e.d(n,"b",function(){return a});var s=e("Lgge");let t=null;function a(){return t}v(a,"getLastTeamSwitchTimestamp"),n.a=c=>{let{prevTeamId:o,nextTeamId:i,navigationTimestamp:l}=c;return o===i||!l||(t=l),s.a.resolve()},Object.defineProperty({lastTeamSwitchTimestamp:null},"lastTeamSwitchTimestamp",{get:()=>t,set:c=>{t=c}})},"1/Be":function(K,n,e){"use strict";e.d(n,"a",function(){return F});var s=e("m8R6"),t=e("SQ0V"),a=e("PJXs"),r=e("2VFn"),c=e("25cE"),o=e("37+L"),i=e("hjzp"),l=e("xcHN"),u=e("l1I1"),f=e("uiBO");function d(V){var L;return(V==null?void 0:V.id)==="comment_thread"&&Object(u.a)(V==null||(L=V.params)===null||L===void 0?void 0:L.entityId)}v(d,"isQuipCommentThread");function O(V){return(V==null?void 0:V.viewType)===f.a.QuipCommentStream}v(O,"isQuipCommentStream");var m=e("CnKg");function g(V){if(!V)return"";switch(V){case"thread":case"comment_thread":return c.w;case"files":return c.h;case"user_profile":case"rimeto_profile":return c.s;case"user_groups":return c.x;case"channel_canvas":return c.o;case"comment_stream":return c.q;case"activity_history":return c.p;default:return""}}v(g,"mapIdToRoute");function E(V){if(d(V)){const L=V.params,Q=Object(m.f)(L.entityId),ee=Q&&Object(i.a)(Q);if(ee)return{routeName:c.w,params:{threadId:Object(l.c)({channelId:ee,quipCommentThreadId:L.commentThreadId,threadTs:L.threadTs}),replyTs:V.params.highlightTs,isCommentThread:!0},viewType:V.viewType}}return{routeName:g(V.id),params:V.params,viewType:V.viewType}}v(E,"mapViewToRoute");function p(V){if(!V)return{id:"",viewType:f.a.Unknown};switch(V){case c.w:return{id:"thread",viewType:f.a.Thread};case c.h:return{id:"files",viewType:f.a.FileDetails};case c.s:return{id:"user_profile",viewType:f.a.Profile};case c.x:return{id:"user_groups",viewType:f.a.UserGroup};case c.o:return{id:"channel_canvas",viewType:f.a.ChannelCanvas};case c.q:return{id:"comment_stream",viewType:f.a.QuipCommentStream};case c.p:return{id:"activity_history",viewType:f.a.QuipActivityHistory};default:return{id:"",viewType:f.a.Unknown}}}v(p,"mapRouteToIdAndViewType");function h(V,L){if(V===c.w&&(L!=null&&L.threadId)&&(L!=null&&L.isCommentThread)){const{channelId:te,threadTs:le,quipCommentThreadId:Oe}=Object(l.a)(L.threadId);if(te&&le)return Object(o.O)({channelId:te,threadTs:le,highlightTs:L.replyTs});if(te&&Oe)return Object(o.O)({channelId:te,commentThreadId:Oe,highlightTs:L.replyTs})}const{id:Q,viewType:ee}=p(V);return{id:Q,viewType:ee,params:L}}v(h,"mapRouteToView");var _=e("HKYg"),b=e("Dn5J"),I=e("1BWb"),C=e("H40f"),y=e("qqLp"),P=e("gLZF"),T=e("UmHn"),S=e("Zbwg");const A=new Set([T.a.Drafts,T.a.Sent]);var x=v(V=>Object(S.a)(V.id)||A.has(V.id),"maybeUpdatePrimaryViewForThread"),M=e("v7mh"),j=e("n2bd"),W=e("E3dU"),U=e("Yauy"),B=e("s4P+");const Y="APPLY-DETAIL-VIEW",z=Object(t.c)("Applies the detail view to a given view set if applicable",(V,L,Q)=>{let{viewSet:ee,windowId:te,preserveExistingSecondaryView:le,origin:Oe,dangerouslyOverrideRouting:he=!1}=Q;const Ee=L(),ge=ee[r.h.Primary],J=ee[r.h.Secondary],H=te===r.c;if(ge&&!J){if(le&&!H){const Ce=Object(M.d)(Ee,{container:r.h.Secondary,windowId:te});if(Ce)return{[r.h.Primary]:ge,[r.h.Secondary]:Ce}}const oe=Object(a.b)(Ee,{entityId:ge.id,windowId:te});if(!oe)return ee;const me=Object(a.a)(Ee,{entityId:ge.id,windowId:te});if(oe.routeName!==c.o&&me&&Date.now()>me)return V(Object(j.a)({entityId:ge.id,windowId:te})),ee;const{id:_e,params:be,viewType:Ae}=h(oe.routeName,oe.params);return{[r.h.Primary]:ge,[r.h.Secondary]:{...Object(s.a)(oe,"routeName","origin"),id:_e,params:be!=null&&be.highlightRoot?{...be,highlightRoot:!1}:be,viewType:Ae}}}if(J&&!ge){var Z;if(J.id==="thread"&&(!((Z=J.params)===null||Z===void 0)&&Z.threadId)){const{channelId:oe,threadTs:me}=Object(l.a)(J.params.threadId);if(!oe)return ee;const{routeName:ue,params:_e}=E(J);return V(Object(y.a)({entityId:oe,item:{routeName:ue,params:_e??{},origin:Oe},windowId:te})),{[r.h.Primary]:{id:oe,params:{startTs:me},viewType:f.a.Channel},[r.h.Secondary]:J}}if(Object(b.a)(J)){var q;return{[r.h.Primary]:Object(o.m)((q=J.params)===null||q===void 0?void 0:q.channelId),[r.h.Secondary]:J}}if(d(J)){const oe=J.params.entityId;if(!oe)return ee;const{routeName:me,params:ue}=E(J);V(Object(y.a)({entityId:oe,item:{routeName:me,params:ue??{},origin:Oe},windowId:te}));const _e=Object(m.f)(oe),be=_e?Object(W.e)(Ee,_e):void 0;return!!be&&be?{[r.h.Primary]:Object(o.m)(be),[r.h.Secondary]:J}:{[r.h.Primary]:{id:oe,viewType:f.a.QuipCommentThread},[r.h.Secondary]:J}}return ee}if(J&&ge){var k,se,re;if(he&&Object(U.Z)(Ee,ge.id)&&J.id==="thread"&&(!((k=J.params)===null||k===void 0)&&k.threadId))return ee;if(J.id==="thread"&&(!((se=J.params)===null||se===void 0)&&se.threadId)&&x(ge)){const{channelId:me}=Object(l.a)(J.params.threadId);if(!me)return ee;if(me!==ge.id){const{routeName:ue,params:_e}=E(J);return V(Object(y.a)({entityId:me,item:{routeName:ue,params:_e??{},origin:Oe},windowId:te})),{[r.h.Primary]:{id:me,viewType:f.a.Channel},[r.h.Secondary]:J}}}if(Object(b.a)(J)){var X;const me=(X=J.params)===null||X===void 0?void 0:X.channelId;if(me&&me!==ge.id){const{routeName:ue,params:_e}=E(J);return V(Object(y.a)({entityId:me,item:{routeName:ue,params:_e??{},origin:Oe},windowId:te})),{[r.h.Primary]:Object(o.m)(me),[r.h.Secondary]:J}}}if(Object(u.a)((re=J.params)===null||re===void 0?void 0:re.entityId)){var w,ce,ie;const me=(w=J.params)===null||w===void 0?void 0:w.entityId,ue=Object(m.f)((ce=ge.params)===null||ce===void 0?void 0:ce.entityId)===Object(m.f)((ie=J.params)===null||ie===void 0?void 0:ie.entityId),_e=Object(m.f)(me),be=_e?Object(W.e)(Ee,_e):void 0,Ae=!!be;if(J.viewType===f.a.QuipActivityHistory&&!ue){if(!me)return ee;const{routeName:Ce,params:De}=E(J);return V(Object(y.a)({entityId:me,item:{routeName:Ce,params:De??{},origin:Oe},windowId:te})),{[r.h.Primary]:Object(o.i)({id:me}),[r.h.Secondary]:J}}if(d(J)&&!ue){if(!me)return ee;const{routeName:Ce,params:De}=E(J);return V(Object(y.a)({entityId:me,item:{routeName:Ce,params:De??{},origin:Oe},windowId:te})),Ae&&(ge.id!==be||H)?{[r.h.Primary]:Object(o.m)(be),[r.h.Secondary]:J}:{[r.h.Primary]:Object(o.i)({id:me}),[r.h.Secondary]:J}}}if(Object(P.a)({primaryViewId:ge.id,secondaryViewId:J.id})){const{routeName:me,params:ue}=E(J);V(Object(y.a)({entityId:ge.id,item:{routeName:me,params:ue??{},origin:Oe},windowId:te}))}return ee}return ee});z.meta={name:"createThunk",key:"createThunkapplyRawDetailViewToViewSet",description:"Applies the detail view to a given view set if applicable"};const F=Object(t.c)("Applies detail view + channel canvas",(V,L,Q)=>{let{viewSet:ee,windowId:te,preserveExistingSecondaryView:le,dangerouslyOverrideRouting:Oe=!1}=Q;const he=Object(_.a)(te)?"channel_canvas":void 0,Ee=V(z({viewSet:ee,windowId:te,preserveExistingSecondaryView:le,origin:he,dangerouslyOverrideRouting:Oe}));Object(B.b)().info(Y,"ViewSet with detail view applied",{viewSet:Ee});const ge=V(Object(C.a)({viewSet:Ee,windowId:te}));Object(B.b)().info(Y,"ViewSet with channel canvas applied",{viewSet:ge});const J=ee==null?void 0:ee[r.h.Primary],H=ee==null?void 0:ee[r.h.Secondary],Z=ge==null?void 0:ge[r.h.Primary],q=ge==null?void 0:ge[r.h.Secondary],k=Object(b.b)(Z),se=Object(b.a)(q);return V(Object(I.b)({channelId:Z==null?void 0:Z.id,isOverlay:k,isFlex:se,autoOpen:k&&!Object(b.b)(J)||se&&!Object(b.b)(H)})),ge});F.meta={name:"createThunk",key:"createThunkapplyDetailViewToViewSet",description:"Applies detail view + channel canvas"}},"19Yv":function(K,n,e){"use strict";e.d(n,"a",function(){return h}),e.d(n,"c",function(){return y}),e.d(n,"b",function(){return P});var s=e("E3dU"),t=e("RVJP"),a=e("xwCZ"),r=e("NjAx"),c=e("E97Y"),o=e("ISSR"),i=e("OOsk");const l={InvalidDm:Symbol("invalid_dm"),ArchivedChannel:Symbol("archived_channel"),RequiredChannel:Symbol("required_channel")},u={ok:!1,reason:l.ArchivedChannel},f={ok:!1,reason:l.InvalidDm},d={ok:!1,reason:l.RequiredChannel};function O(T,S){const A=Object(s.z)(T,S)?Object(s.c)(T,S):null;return Object(o.a)(A)?u:Object(c.g)(A)||Object(c.i)(A)?f:Object(c.n)(A)?d:i.a}v(O,"isChannelKickableWithReason");function m(T,S){return O(T,S).ok}v(m,"isChannelKickable");var g=e("C3vN"),E=e("clOX"),p=e("RTHw");const h={...l,InvalidParams:Symbol("invalid_params"),UserIsRestricted:Symbol("user_is_restricted"),RestrictedPublicChannel:Symbol("restricted_public_channel"),RestrictedPrivateChannel:Symbol("restricted_private_channel")},_={ok:!1,reason:h.InvalidParams},b={ok:!1,reason:h.UserIsRestricted},I={ok:!1,reason:h.RestrictedPublicChannel},C={ok:!1,reason:h.RestrictedPrivateChannel};function y(T,S){const A=Object(a.d)(T),R=Object(s.z)(T,S)?Object(s.c)(T,S):null;if(!Object(g.nb)(A)||!Object(c.e)(R))return _;if(Object(g.ub)(A))return b;const x=O(T,S);if(!x.ok)return{ok:!1,reason:x.reason};if(Object(t.d)(T,"channel_owner_role_expanded_permissions")==="on"&&Object(r.F)(T,{channelId:S}))return i.a;const j=Object(c.l)(R)?"public":"private",W=j==="private"?p.a:p.c,U=j==="private"?p.b:p.d,B=W(T)||U(T),Y=j==="private"?"who_can_kick_groups":"who_can_kick_channels",z=Object(E.a)(T,Y,R);return!B&&!z?j==="private"?C:I:i.a}v(y,"canUserKickFromChannelWithReason");function P(T,S){return y(T,S).ok}v(P,"canUserKickFromChannel")},"1EwG":function(K,n,e){"use strict";var s=e("q1tI"),t=e.n(s),a=e("iuhU"),r=e("BJra");function c(){return c=Object.assign||function(i){for(var l=1;l<arguments.length;l++){var u=arguments[l];for(var f in u)Object.prototype.hasOwnProperty.call(u,f)&&(i[f]=u[f])}return i},c.apply(this,arguments)}v(c,"_extends");function o(i){const{children:l,className:u}=i;return l?t.a.createElement("span",c({className:Object(a.default)(u,"c-base_entity__subtext")},Object(r.a)(i)),l):null}v(o,"BaseEntitySubtext"),o.displayName="BaseEntitySubtext",n.a=o},"1HOW":function(K,n,e){"use strict";e.d(n,"a",function(){return S}),e.d(n,"b",function(){return T}),e.d(n,"e",function(){return R}),e.d(n,"d",function(){return x}),e.d(n,"c",function(){return M});var s=e("ifKl"),t=e("oTSI"),a=e("WIr4"),r=e("vd/O"),c=e("q1tI"),o=e.n(c),i=e("iuhU"),l=e("Sf+H"),u=e("HP72"),f=e("YsXF"),d=e("FRd1"),O=e("ktUG"),m=e("yh68"),g=e("HUUN"),E=e("Pewd"),p=e("9ADk"),h=e("2K8U"),_=e("cRTT"),b=e("MYuU"),I=e("OmHH");function C(){return C=Object.assign||function(j){for(var W=1;W<arguments.length;W++){var U=arguments[W];for(var B in U)Object.prototype.hasOwnProperty.call(U,B)&&(j[B]=U[B])}return j},C.apply(this,arguments)}v(C,"_extends");const y={onOptionSelected:{action:O.UiAction.SELECT}},P=v(j=>j.map(W=>{let{id:U}=W;return U}),"getIdsFromHintOrErrors");let T=v(class extends c.Component{maybeRenderOptionsList(){const{selectState:W,setSelectState:U,renderOption:B,width:Y,inputRef:z,ariaLabel:F,resultsInPopover:V,overlayClassName:L,onOptionSelected:Q,classPrefix:ee,optionsRowHeight:te,onOpen:le,emptyStateMessage:Oe,minOptionsListWidth:he,maxOptionsListHeight:Ee,isLoading:ge,onOptionsListClose:J,onScrollablePage:H,enableLoadingState:Z,autoClogProps:q,shouldAllowUnselectInSingleSelectMode:k,optionsListFooterBannerContent:se}=this.props;if(V&&(!this.props.inputRef||!this.props.inputRef.current))return null;const re={key:`${W.selectId}-popover`};L&&(re.overlayClassName=L);const X=V?o.a.createElement(f.a,{selectState:W,setSelectState:U,renderOption:B,width:Y,inputRef:z,ariaLabel:F,onOptionSelected:Q,popoverProps:re,measurePopoverEventName:this.measurePopoverEventName,classPrefix:ee,selectDataQa:this.fallbackDataQa,optionsRowHeight:te,onOpen:le,emptyStateMessage:Oe,minOptionsListWidth:he,maxListHeight:Ee,isLoading:ge,onOptionsListClose:J,onScrollablePage:H,enableLoadingState:Z,autoClogProps:q,dropdownContainer:this.dropdownContainer,shouldAllowUnselectInSingleSelectMode:k,footerBannerContent:se}):o.a.createElement(u.b,{selectState:W,setSelectState:U,renderOption:B,width:Y,inputRef:z,ariaLabel:F,onOptionSelected:Q,classPrefix:ee,selectDataQa:this.fallbackDataQa,emptyStateMessage:Oe,maxListHeight:Ee,optionsRowHeight:te,onOptionsListClose:J,enableLoadingState:Z,shouldAllowUnselectInSingleSelectMode:k,footerBannerContent:se});return o.a.createElement(d.a,{elementType:O.ElementType.DROPDOWN,actionProps:y,autoClogProps:q},X)}render(){const{renderSelectedOption:W,className:U,classPrefix:B,placeholderText:Y,size:z,width:F,selectState:V,setSelectState:L,inputRef:Q,focusOnMount:ee,showDropdownIcon:te,isLoading:le,resultsInPopover:Oe,isDisabled:he,isRequired:Ee,onFocus:ge,onEsc:J,ariaLabelledBy:H,ariaDescribedBy:Z,inputIcon:q,maxCharacterLimit:k,onOptionsListClose:se,ariaLabel:re,expandOnClick:X,searchOnClick:w,autoClogProps:ce,errors:ie,hints:oe,expandOnFocus:me}=this.props,{isInvalid:ue}=V,_e=Object(r.a)(ie),be=Object(r.a)(oe);let Ae;ie&&(Ae=_e?P(ie):void 0);let Ce;oe&&(Ce=be?P(oe):void 0);const De=Object(b.e)([Z,Ae,Ce]),Pe=ue||_e;return o.a.createElement("div",{className:Object(i.default)(U,"c-search-select"),"data-qa":this.fallbackDataQa},o.a.createElement(l.a,{selectState:{...V,isInvalid:Pe,isRequired:Ee,isDisabled:he},setSelectState:L,renderSelectedOption:W,placeholderText:Y,size:z,width:F,selectDataQa:this.fallbackDataQa,inputRef:Q,focusOnMount:ee,showDropdownIcon:te,isLoading:le,resultsInPopover:Oe,measurePopoverEventName:Oe?this.measurePopoverEventName:void 0,classPrefix:B,onBlur:this.onBlur,onFocus:ge,onEsc:J,"aria-label":re,ariaLabelledBy:H,ariaDescribedBy:De,icon:q,maxCharacterLimit:k,onOptionsListClose:se,expandOnClick:X,autoClogProps:ce,searchOnClick:w,expandOnFocus:me}),_e&&ie&&o.a.createElement(E.a,{errors:ie}),be&&oe&&oe.map(Ue=>{let{id:ae,message:ne,className:Ie}=Ue;return ne&&o.a.createElement(p.a,{key:ae,id:ae,className:Ie},ne)}),this.maybeRenderOptionsList())}constructor(W){super(W),this.onBlur=B=>{if(this.dropdownContainer){const Y=this.dropdownContainer.current;if(Y&&Y.contains(B.relatedTarget)){this.props.setSelectState(()=>({isInvalid:!1}));return}}this.props.onBlur&&this.props.onBlur(B)};const{selectId:U}=W.selectState;this.measurePopoverEventName=`measureSelectPopover--${U}`,this.fallbackDataQa=W.selectDataQa||U,this.dropdownContainer=o.a.createRef()}},"ControlledSearchSelect");T.displayName="ControlledSearchSelect",T.defaultProps={autoClogProps:void 0,className:void 0,classPrefix:void 0,renderOption:j=>j.label,renderSelectedOption:j=>j.label,resultsInPopover:!0,overlayClassName:void 0,size:h.f.MEDIUM,width:360,optionsRowHeight:h.a,errors:[],hints:[],ariaLabel:null,ariaLabelledBy:void 0,ariaDescribedBy:void 0,placeholderText:void 0,onOptionSelected:s.a,selectDataQa:void 0,showDropdownIcon:!0,focusOnMount:!1,isLoading:!1,isDisabled:!1,isInvalid:!1,isRequired:!0,onBlur:s.a,onFocus:s.a,onEsc:s.a,onOpen:s.a,onOptionsListClose:s.a,emptyStateMessage:void 0,minOptionsListWidth:void 0,maxOptionsListHeight:void 0,inputIcon:void 0,maxCharacterLimit:void 0,onScrollablePage:!1,expandOnClick:!0,enableLoadingState:!0,searchOnClick:!1,shouldAllowUnselectInSingleSelectMode:!0};const S=Object(_.a)(T);let A=v(class extends c.Component{setSelectState(W,U){this.setState(B=>{let Y=W();const{filter:z,options:F}=this.props;return Y.filterQuery!==void 0&&Y.filterQuery!==B.filterQuery&&z&&(Y=z(F,Y)),Y},U)}render(){const{isRequired:W,isInvalid:U,isDisabled:B,showConfirmDialog:Y}=this.props,z=Y?S:T,F=Object(t.a)(()=>({...this.state,isInvalid:U,isRequired:W,isDisabled:B}));return o.a.createElement(z,C({},this.props,{selectState:F(),setSelectState:this.setSelectState,inputRef:this.inputRef}))}constructor(W){super(W),this.state={filterQuery:"",displayQuery:"",options:W.options,selectId:W.selectId,isExpanded:W.isExpanded,isInvalid:W.isInvalid,isDisabled:W.isDisabled,selectedOption:W.selectedOption},this.inputRef=this.props.inputRef?this.props.inputRef:o.a.createRef(),Object(a.a)(this,["setSelectState"])}},"SearchSelect");A.displayName="SearchSelect",A.defaultProps={autoClogProps:void 0,isDisabled:!1,isExpanded:!1,isInvalid:!1,isRequired:!0,errors:[],hints:[],filter:I.a,onOptionSelected:s.a,selectId:`search-select-${Object(b.d)()}`,selectedOption:void 0,showConfirmDialog:void 0,inputIcon:void 0,maxCharacterLimit:void 0,inputRef:void 0},n.f=A;const R=Object(m.a)(T),x=Object(m.a)(Object(_.a)(T)),M=Object(g.a)(T)},"1I7x":function(K,n,e){"use strict";e.d(n,"b",function(){return t}),e.d(n,"a",function(){return a});var s=e("F5gv");const t=v(r=>{const c=Object(s.a)(r);return!!c&&!c.closed},"isHuddleChildWindowOpen"),a=v(r=>{const c=Object(s.a)(r);return!!(c!=null&&c.document.hasFocus())},"isHuddleChildWindowFocused")},"1Mwh":function(K,n,e){"use strict";e.d(n,"i",function(){return t}),e.d(n,"e",function(){return a}),e.d(n,"a",function(){return r}),e.d(n,"b",function(){return c}),e.d(n,"g",function(){return o}),e.d(n,"h",function(){return i}),e.d(n,"f",function(){return l}),e.d(n,"d",function(){return u}),e.d(n,"c",function(){return f});var s=e("DwFS");const t=Object(s.a)("Set tile");t.meta={name:"createAction",key:"createActionsetTileInternal",description:"Set tile"};const a=Object(s.a)("Open tile");a.meta={name:"createAction",key:"createActionopenTileInternal",description:"Open tile"};const r=Object(s.a)("Close the active tile");r.meta={name:"createAction",key:"createActioncloseActiveTileInternal",description:"Close the active tile"};const c=Object(s.a)("Closes the specified tile");c.meta={name:"createAction",key:"createActioncloseTileInternal",description:"Closes the specified tile"};const o=Object(s.a)("Set active tile key");o.meta={name:"createAction",key:"createActionsetActiveTileKeyInternal",description:"Set active tile key"};const i=Object(s.a)("Set docked view to restore");i.meta={name:"createAction",key:"createActionsetDockedViewToRestore",description:"Set docked view to restore"};const l=Object(s.a)("Replace entire tile state");l.meta={name:"createAction",key:"createActionreplaceTileStateInternal",description:"Replace entire tile state"};const u=Object(s.a)("Minimize a tile");u.meta={name:"createAction",key:"createActionminimizeTileInternal",description:"Minimize a tile"};const f=Object(s.a)("Maximize a tile");f.meta={name:"createAction",key:"createActionmaximizeTileInternal",description:"Maximize a tile"}},"1N3M":function(K,n,e){"use strict"},"1Odg":function(K,n,e){"use strict";e.d(n,"a",function(){return O}),e.d(n,"b",function(){return g});var s=e("046c"),t=e("417x"),a=e("s4P+"),r=e("oTSI");const c=v(E=>{const{functionTriggerId:p,workflowId:h,title:_,description:b,isWorkflowApp:I,isSalesHomeWorkflowApp:C,owningTeamId:y,developerTraceId:P,botUserId:T,appCollaborators:S,appId:A,shareUrl:R}=Object(t.a)(E);return{triggerId:p,workflowId:h,title:_,description:b,isWorkflowApp:I,isSalesHomeWorkflowApp:C,owningTeamId:y,developerTraceId:P,botUserId:T,appCollaborators:S,appId:A,shareUrl:R}},"getCommonMetadataFromBlock"),o=v(E=>E.url?{...c(E),triggerType:s.a.Shortcut,url:E.url}:{...c(E),triggerType:s.a.Shortcut,url:""},"createLinkShortcutFromBlock"),i=v(E=>({...c(E),triggerType:s.a.Webhook}),"createWebhookShortcutFromBlock"),l=v(E=>({...c(E),triggerType:s.a.External}),"createExternalShortcutFromBlock"),u=v(E=>{const{triggerSubtype:p}=E,h={eventType:p||""};return{...c(E),triggerType:s.a.Event,event:h}},"createEventShortcutFromBlock"),f=v(E=>c(E),"createUnknownShortcutFromBlock"),d=v(E=>{const p={startTime:""};return{...c(E),triggerType:s.a.Scheduled,schedule:p}},"createScheduledShortcutFromBlock"),O=v(E=>{switch(E.triggerType){case s.a.Event:return u(E);case s.a.Scheduled:return d(E);case s.a.Shortcut:return o(E);case s.a.Webhook:return i(E);case s.a.External:return l(E);case void 0:return o(E);default:return f(E)}},"createShortcutFromBlock"),m=v(E=>{try{return JSON.stringify(E)}catch(p){throw Object(a.b)().error("stringify failed for workflow/trigger obj shortcut info"),p}},"memoizeCacheKeyResolver"),g=Object(r.a)(O,m)},"1Qjs":function(K,n,e){"use strict";var s=e("q1tI"),t=e.n(s),a=e("iuhU"),r=e("zxER"),c=e("YiJ7"),o=e("/lqa");function i(){return i=Object.assign||function(u){for(var f=1;f<arguments.length;f++){var d=arguments[f];for(var O in d)Object.prototype.hasOwnProperty.call(d,O)&&(u[O]=d[O])}return u},i.apply(this,arguments)}v(i,"_extends");const l=v(u=>{let{alt:f,className:d,height:O,width:m,src:g,src2x:E,...p}=u;const h=Object(r.a)(c.b),_=E?`${g} 1x, ${E} 2x`:void 0,b=Object(s.useMemo)(()=>({paddingTop:`${O/m*100}%`}),[O,m]),I=t.a.createElement("img",i({},p,{className:Object(a.default)("c-sk-modal_image",d),src:g,srcSet:_,alt:f,height:O,width:m}));return m&&O?t.a.createElement("div",{style:b,className:Object(a.default)("c-sk-modal_image__container",{"c-sk-modal_image--responsive":h})},I):t.a.createElement("div",{className:Object(a.default)({"c-sk-modal_image--responsive":h})},I)},"ModalImage");l.displayName="ModalImage",n.a=l},"1VgO":function(K,n,e){"use strict";e.d(n,"a",function(){return s}),e.d(n,"b",function(){return a});function s(r,c){const{ref:o}=c;return a(r,o)}v(s,"mergeRefWithChildRef");function t(r){return c=>{typeof r=="function"?r(c):r&&(r.current=c)}}v(t,"makeRefBackwardsCompatible");function a(){for(var r=arguments.length,c=new Array(r),o=0;o<r;o++)c[o]=arguments[o];return i=>{c.forEach(l=>{t(l)(i)})}}v(a,"mergeRefs")},"1Zcw":function(K,n,e){"use strict";e.d(n,"c",function(){return s}),e.d(n,"a",function(){return a}),e.d(n,"b",function(){return r});const s="HUDDLES",t="huddles_call_menu",a=864e5,r=2},"1jr5":function(K,n,e){"use strict";e.d(n,"b",function(){return _}),e.d(n,"d",function(){return C}),e.d(n,"c",function(){return T}),e.d(n,"a",function(){return P});var s=e("q1tI"),t=e.n(s),a=e("nNoG"),r=e("FWtP"),c=e("iuhU"),o=e("ifKl"),i=e("WIr4"),l=e("VymY"),u=e("nFQW"),f=e("ktUG"),d=e("C59p"),O=e("VFSv"),m=e("somW"),g=e("P8PK"),E=e("UL37");function p(){return p=Object.assign||function(S){for(var A=1;A<arguments.length;A++){var R=arguments[A];for(var x in R)Object.prototype.hasOwnProperty.call(R,x)&&(S[x]=R[x])}return S},p.apply(this,arguments)}v(p,"_extends");const h=new a.b("sk_banner");var _;(function(S){S.info="info",S.success="success",S.warning="warning",S.urgent="urgent",S.neutral="neutral"})(_||(_={}));const b={elementName:"close",elementType:f.ElementType.X,action:f.UiAction.CLOSE,onClick:{enableClogAction:!0}},I=Object(r.a)((S,A)=>({top:S,opacity:A})),C={type:"success",showCloseButton:!0,closeButtonSize:20,autoFadeout:!1,topOffset:0,className:null,isFixedPosition:!0,"data-qa":"banner",onClose:o.a,onFocus:o.a,onBlur:o.a,shouldDisableAlertRole:!1},y=2e3;let P=v(class extends s.PureComponent{componentDidMount(){this.fadeOutMaybe()}componentWillUnmount(){this.cancelAnimation()}fadeOutMaybe(){const{autoFadeout:A,onClose:R}=this.props;if(!A)return;const x=Object(d.a)({delay:y,fromValue:1,toValue:0,duration:y,easing:"easeOutQuad",onTick:M=>{let{value:j,nextTick:W}=M;this.setState(()=>({opacity:j})),W()},onComplete:()=>{this.setState(()=>({isShowing:!1})),R==null||R()}});this.cancelAnimation=x.cancel}focus(){const A=Object(l.d)(this.banner.current);A&&A.focus()}handleCloseButtonClick(){const{onClose:A}=this.props;this.setState(()=>({isShowing:!1})),A==null||A()}render(){const{type:A,children:R,showCloseButton:x,closeButtonSize:M,topOffset:j,className:W,isFixedPosition:U,customAriaLabelForDismissBtn:B,"data-qa":Y,shouldDisableAlertRole:z}=this.props,{isShowing:F,opacity:V}=this.state;if(!F)return!1;const L=Object(c.default)("c-banner",{[`c-banner--${A}`]:!!A,"c-banner--fixed":U},W),Q=A!=="warning"?"dark":"light",ee=z?void 0:"alert";return t.a.createElement("div",{role:ee,className:L,style:j?I(j,V):void 0,"data-qa":Y,ref:this.banner,onFocus:this.props.onFocus,onBlur:this.props.onBlur},t.a.createElement("div",{className:"c-banner__text"},R),x&&t.a.createElement(u.a,{className:"c-banner__close",onClick:this.handleCloseButtonClick,backgroundStyle:Q,"aria-label":B||h.t("Dismiss"),autoClogProps:b,"data-qa":"banner_close_btn"},t.a.createElement(O.a,{name:"close",size:M})))}constructor(A){super(A),this.state={isShowing:!0,opacity:1},Object(i.a)(this,["handleCloseButtonClick","focus"]),this.handleCloseButtonClick=this.handleCloseButtonClick.bind(this),this.cancelAnimation=o.a,this.banner=t.a.createRef()}},"Banner");P.displayName="Banner",P.displayName="Banner",P.defaultProps=C;const T=Object(s.forwardRef)((S,A)=>{let{enableSectionNavigation:R=!1,...x}=S;const j=`Banner_${Object(g.a)()}`,W=E.a.WORKSPACE_SWITCHER_TAB_LIST-.1;return t.a.createElement(m.a,{id:j,index:W,focusFn:o.a,enableSectionNavigation:R},t.a.createElement(P,p({ref:A},x)))})},"1o0K":function(K,n,e){"use strict";var s=e("SQ0V"),t=e("uwEJ"),a=e("59uo");const r=Object(s.c)("Updates params for the active tile",(c,o,i)=>{const l=o(),u=Object(a.b)(l);u&&c(Object(t.a)({key:u,params:i}))});r.meta={name:"createThunk",key:"createThunkupdateActiveTileParams",description:"Updates params for the active tile"},n.a=r},"1qRZ":function(K,n,e){"use strict";e.d(n,"a",function(){return s});const s=v(t=>{let{listId:a,viewId:r}=t;return`${a}-${r}`},"getSortsFiltersId")},"1yap":function(K,n,e){"use strict";e.d(n,"a",function(){return r});var s=e("SQ0V"),t=e("Fqb6"),a=e("u/Sz");const r=Object(s.c)(a.a.ADD_CHANNEL,function(c,o){let{channel:i}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};!i||!i.id||c(Object(t.a)({channel:i,reason:a.a.ADD_CHANNEL}))});r.meta={name:"createThunk",key:"createThunkaddChannel",description:a.a.ADD_CHANNEL}},"1zvf":function(K,n,e){"use strict";e.d(n,"a",function(){return r});var s=e("SQ0V"),t=e("kQBZ"),a=e("bHpg");const r=Object(s.c)("Fetch and upsert ticket stats into the store",c=>c(Object(t.De)({reason:"fetchAndUpsertTicketStats"})).then(o=>{const i={unreadCount:o.unread_count||0,openCount:o.open_count||0};return c(Object(a.n)(i)),i}));r.meta={name:"createThunk",key:"createThunkfetchAndUpsertTicketStats",description:"Fetch and upsert ticket stats into the store"}},"20l4":function(K,n,e){"use strict";e.d(n,"b",function(){return le}),e.d(n,"a",function(){return ge});var s=e("9oTK"),t=e.n(s),a=e("zmn3"),r=e("n3tL"),c=e("SQ0V"),o=e("Zbwg"),i=e("Wn1n"),l=e("x5lL"),u=e("E3dU"),f=e("Yauy"),d=e("gVOt"),O=e("PMNn"),m=e("E97Y"),g=e("2OfI"),E=e("rYtS"),p=e("3REw"),h=e("9Gfp"),_=e("kBpe"),b=e("5IZy"),I=e("ktUG"),C=e("d/xU"),y=e("KciV"),P=e("1Np4"),T=e("2XU3"),S=e("8f+r"),A=e("qHxF"),R=e("+nSQ"),x=e("nNoG"),M=e("jJRY"),j=e("Ufq/"),W=e("jMXC"),U=e("vYXD"),B=e("cxOH"),Y=e("6JGl"),z=e("2VFn"),F=e("v7mh"),V=e("rZ8V");const L=new x.b("start_call");function Q(J,H){const Z=Object(u.c)(J,H);if(Object(m.g)(Z))return[Object(d.a)(Z)];if(Object(m.i)(Z)){const q=Object(h.a)(J);return Object(f.E)(Z).filter(k=>k!==q)}}v(Q,"getUserIdsFromConversationId");function ee(J,H){const Z=Q(J,H);if(Z)return Object(a.a)(Z,q=>({direction:p.e.Outgoing,userId:q}))}v(ee,"maybeGetOutgoingInviteParamsFromConversationId");const te=v(J=>{let{callId:H,conversationId:Z,payload:q,state:k}=J;try{const se=Object(u.c)(k,Z);if(!H)Object(R.c)({clogger:Object(b.a)({state:k}),source:q==null?void 0:q.source,memberId:Object(d.a)(se),mediaBackendType:p.h.FREE_WILLY});else{const re=Object(l.f)(k,H);re&&Object(R.b)({call:re,conversationId:Z,clogger:Object(b.a)({state:k}),memberId:Object(d.a)(se)})}}catch(se){Object(y.c)("START-OR-JOIN-CALL").error("Error in sending clogs",se)}},"sendClogsForNativeCall"),le=Object(c.c)("Creates a new native call or joins an existing one, depending on the id passed",function(){var J=Object(s.coroutine)(function*(H,Z){let q=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};var k,se;const{debugServerName:re,debugRegions:X,readinessCheck:w,callId:ce,channelId:ie,isPermalinkCall:oe,mediaService:me}=q,ue=Z();Object(b.a)({state:ue}).track(I.EventId.CALLS_USER_JOIN_INTENT,{room_id:ce}),Object(y.c)("START-OR-JOIN-CALL").info("Attempting to start or join Slack call");const _e=w&&!ie?Object(u.l)(ue,Object(h.a)(ue)):null;let be;if(_e){const Me=Object(O.b)(ue,_e);Me&&Me.length&&(be=Me[0])}const Ae=_e==null?void 0:_e.id;Ae&&Object(y.c)("START-OR-JOIN-CALL").info("Initializing call readiness checker with self DM id");const Ce=Ae||ie||Object(i.a)(ue);if(!ce&&!Object(o.a)(Ce))return;if(ce){const Me=Object(l.f)(ue,ce);if(Me&&Me.dateEnd&&!oe)return}const De=Object(l.s)();if(De){De.focus();return}if(Object(U.b)()){H(Object(U.f)(Ce));return}if(!w&&Object(U.a)()||w&&Object(U.c)()){H(Object(U.e)(Ce));return}te({callId:ce,conversationId:Ce,payload:q,state:ue});let Pe;if(q&&q.traceOptions){var Ue;Pe=(Ue=q.traceOptions.trace)===null||Ue===void 0?void 0:Ue.startSpan("calls:open_call_window",{tags:{file:"start-or-join-call.ts",function:"startOrJoinCall"},parentSpanId:q.traceOptions.parentSpanId})}const ae=!ce&&!w?ee(ue,Ce):void 0,ne={...re?{debugServerName:re}:{},...X?{debugRegions:X}:{},...w?{readinessCheck:w}:{},...!(q==null||(k=q.traceOptions)===null||k===void 0)&&k.trace?{traceId:(se=q.traceOptions.trace)===null||se===void 0?void 0:se.getTraceId(),parentSpanId:Pe==null?void 0:Pe.getId(),isCallsTracingDisabled:Object(j.h)(ue).toString().toLowerCase()}:{}},Ie=q.callId||Ce,Te=yield H(Object(B.a)({viewId:Ie,outgoingInvites:ae,queryStringParams:ne,windowOptions:{...W.a},readinessCheck:w,teamId:be})).finally(()=>{Pe&&Pe.close()});Te&&(H(Object(Y.c)({params:{callId:q.callId,channelId:Ce,debugServerName:re,debugRegions:X,readinessCheck:w,mediaService:me},traceParams:ne,callWindow:Te})),Object(_.i)()&&Object(M.b)(Te,{width:W.a.minContentWidth,height:W.a.minContentHeight}))});return function(H,Z){return J.apply(this,arguments)}}());le.meta={name:"createThunk",key:"createThunkstartOrJoinCall",description:"Creates a new native call or joins an existing one, depending on the id passed"};const Oe=Object(c.c)("Handle calls.request error",(J,H,Z)=>{let{text:q,conversationId:k}=Z;J(Object(S.b)({temporary:!0,message:{text:q,channel:k}}))});Oe.meta={name:"createThunk",key:"createThunkhandleCallsRequestError",description:"Handle calls.request error"};function he(J,H){const Z=Object(E.e)(J);for(let q=0;q<Z.length;q++)if(Z[q].id===H)return Z[q].name}v(he,"getAppNameByAppId");const Ee=Object(c.c)("Creates a new platform call",function(){var J=Object(s.coroutine)(function*(H,Z){let q=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const{channelId:k}=q,se=Z(),X=Object(V.g)(se),w=Object(F.a)(se),ce=Object(i.a)(se),ie=X?Object(F.g)(se,{tab:w,container:z.h.Primary}):null,oe=X?ie==null?void 0:ie.id:ce,me=Object(o.a)(oe)?oe:null,ue=k||me,_e=q.appId||p.j,be=he(se,_e),Ae=["AD6B97QES","A9SD542KA","ABE6T3L7Q","ADHD298UB","A5P5FDK33"],Ce=["AN2CSGQUR","ANAAG9CKA","AN1CDQZKL","AN80VL39P"],Pe=Ae.concat(Ce).indexOf(_e)>=0;let Ue;try{var ae,ne;if(q&&q.traceOptions){var Ie;Ue=(Ie=q.traceOptions.trace)===null||Ie===void 0?void 0:Ie.startSpan("calls:initiate_calls_request",{tags:{http_method:"calls.request",file:"start-or-join-call.ts",function:"startPlatformCall"},parentSpanId:q.traceOptions.parentSpanId})}const Te=yield H(Object(T.a)({method:"calls.request",reason:"call-button-clicked",args:{channel:ue,app:_e,type:q.type,phone_number:q.type===p.a.audio?q.phoneNumber:void 0},traceId:q==null||(ae=q.traceOptions)===null||ae===void 0||(ne=ae.trace)===null||ne===void 0?void 0:ne.getTraceId(),parentSpanId:Ue==null?void 0:Ue.getId()})).finally(()=>{Ue&&Ue.close()});let Me,Ne;(yield Object(A.a)(Te.desktop_protocol_url))?(Me=Te.desktop_protocol_url,Ne=be):(Me=Pe?Te.url:encodeURI(Te.url),Ne=be);const Et=window.open(Me,Ne);try{Et.focus()}catch{if(!Object(_.i)()){const qe=L.t("Please allow pop-ups in your browser to make a call. You can <{url}|contact Slack> if you need help.",{url:`https://my.${Object(C.l)()}/help/requests/new`,fallbackHash:"3fdef2430e4c413f1c7ad15aa0f200067f6b0a5d",fallbackHashNs:"utility"});H(Oe({text:qe,conversationId:ue}))}}}catch(Te){const Me=Te.response||L.t("Darn, that didn\u2019t work. Try your call again or <{url}|contact us> if it\u2019s still not working.",{url:`https://my.${Object(C.l)()}/help/requests/new`,fallbackHash:"978df40dadeeb46bdb243a1f396d9233bc51c1b2",fallbackHashNs:"utility"});H(Oe({text:Me,conversationId:ue}))}});return function(H,Z){return J.apply(this,arguments)}}());Ee.meta={name:"createThunk",key:"createThunkstartPlatformCall",description:"Creates a new platform call"};const ge=Object(c.c)("Creates a new platform or native call",function(J,H){let Z=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const q=H();let k,se;Z.appId===p.j?(k=v(ce=>J(le({...Z,traceOptions:ce})),"dispatchStartCall"),se="calls:start_or_join_call"):(k=v(ce=>J(Ee({...Z,traceOptions:ce})),"dispatchStartCall"),se="calls:start_platform_call");const re=Object(P.a)({state:q}),X=re.createTrace({traceName:"calls:start_call",tags:{call_app_id:Z.appId,call_type:Z.type,has_phone_number:Object(g.a)(Z.phoneNumber||"")}}),w=X.startSpan(se,{tags:{filename:"start-or-join-call",function:"startCall"}});return k({trace:X,parentSpanId:w==null?void 0:w.getId()}).finally(()=>{w&&w.close(),X&&re.reportTrace(X)})});ge.meta={name:"createThunk",key:"createThunkstartCall",description:"Creates a new platform or native call"},ge.propTypes=r.default.shape({callId:r.default.string,debugServerName:r.default.string})},"20qZ":function(K,n,e){"use strict";e.d(n,"a",function(){return b});var s=e("9oTK"),t=e("OnlX"),a=e("Lgge"),r=e("5IZy"),c=e("ktUG"),o=e("8TXW"),i=e("KciV");function l(){return 2}v(l,"getVoiceFocusCacheVersion");var u;const f="voiceFocusCache";function d(){return{userAgent:"unknown",sdkVersion:"unknown",isSupported:"unknown"}}v(d,"createDefaultVoiceFocusCapability");function O(){return{vfConfig:"unknown",lastUpdateTimeMs:0}}v(O,"createDefaultVoiceFocusCachedConfig");function m(){let I=arguments.length>0&&arguments[0]!==void 0?arguments[0]:window==null||(u=window.navigator)===null||u===void 0?void 0:u.userAgent,C=arguments.length>1?arguments[1]:void 0;const y=localStorage.getItem(f),P={version:l(),voiceFocusCapability:d(),voiceFocusCachedConfig:O()};if(!y)return P;let T;try{T=JSON.parse(y)}catch(S){return Object(i.c)("VOICE-FOCUS-CACHE").error("Could not parse voice focus cache from localStorage: ",S.message),P}return T.version!==l()?P:(T.voiceFocusCapability&&(T.voiceFocusCapability.userAgent!==I||T.voiceFocusCapability.sdkVersion!==C)&&(T.voiceFocusCapability=P.voiceFocusCapability,T.voiceFocusCachedConfig=P.voiceFocusCachedConfig),{...P,...T})}v(m,"readVoiceFocusCache");function g(I){try{localStorage.setItem(f,JSON.stringify(I))}catch(C){Object(i.c)("VOICE-FOCUS-CACHE").error("Could not write voice focus cache to localStorage: ",C.message)}}v(g,"writeVoiceFocusCache");var E=e("bTZa"),p=e("i5QK");const h=1657647210615,_=1686248081659;let b=v(class{init(C){let{configOnly:y,shouldPreventAutoDisable:P}=C;var T=this;return Object(s.coroutine)(function*(){y||T.callLogger.info(`VF cache: ${!!T.cache}`),T.shouldPreventAutoDisable=!!P,T.isSupported=yield T.isCapable(!!y),T.isSupported&&T.prepare(y)})()}isAvailable(){return this.isSupported}getTransformDevice(){var C=this;return Object(s.coroutine)(function*(){if(C.isSupported&&(C.voiceFocusConfigPromise&&(yield C.voiceFocusConfigPromise),!!C.voiceFocusDeviceTransformerPromise)){try{yield C.voiceFocusDeviceTransformerPromise}catch{C.callLogger.error("Could not get VoiceFocusDeviceTransformer");return}if(C.voiceFocusTransformDevicePromise)try{return yield C.voiceFocusTransformDevicePromise}catch{C.callLogger.error("Could not get VoiceFocusTransformDevice")}}})()}shouldDisable(){if(this.shouldPreventAutoDisable)return!1;const C=Date.now();this.cpuWarningTimes.push(C);const y=C-6e4;this.cpuWarningTimes=this.cpuWarningTimes.filter(T=>T>y);const P=this.cpuWarningTimes.length;return P<2?!1:this.cpuWarningTimes[P-1]-this.cpuWarningTimes[P-2]<3e3||P>2}setMute(C){var y=this;return Object(s.coroutine)(function*(){const P=yield y.getTransformDevice();P&&(yield P.mute(C))})()}isCapable(C){var y=this;return Object(s.coroutine)(function*(){if(y.isIFramed())return C||y.callLogger.warn("not supported due to IFrame"),!1;let P=!1;switch(y.cache.voiceFocusCapability.isSupported){case"yes":C||y.callLogger.info("cache says supported"),P=!0;break;case"no":C||y.callLogger.info("cache says not supported"),P=!1;break;case"unknown":{C||y.callLogger.info("cache says unknown, determining support..."),y.cache.voiceFocusCapability.userAgent=Object(t.a)(),y.cache.voiceFocusCapability.sdkVersion=o.u.sdkVersion,P=yield Object(o.H)().isSupported(),P?y.cache.voiceFocusCapability.isSupported="yes":y.cache.voiceFocusCapability.isSupported="no",g(y.cache),C||y.callLogger.info(`determined supported=${y.cache.voiceFocusCapability.isSupported}, writing to cache`);break}default:y.callLogger.warn(`Voice Focus capability pref bad: ${y.cache.voiceFocusCapability.isSupported}`);break}return P})()}isIFramed(){try{var C;return((C=window.frameElement)===null||C===void 0?void 0:C.nodeName)==="IFRAME"||parent!==top}catch{return!0}}isStale(C){const P=this.cache.voiceFocusCachedConfig.lastUpdateTimeMs,T=this.allowMaxModelsToBeUsed?_:h;return P===0||C-P>6048e5||P<T}prepare(){let C=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;const y=Date.now(),P=this.cache.voiceFocusCachedConfig.vfConfig,T=this.isStale(y),S={},A={logger:this.chimeLogger};if(P!=="unknown"&&!T){if(C)return;if(!P.supported){this.callLogger.warn("Unsupported config was returned from the cache");return}this.setupDevice(S,A,P);return}this.voiceFocusConfigPromise||(this.callLogger.info("Initializing VoiceFocusDeviceTransformer afresh"),this.voiceFocusConfigPromise=a.a.resolve(Object(o.H)().configure(S,A)),this.voiceFocusConfigPromise.then(R=>{var x;if(!R.supported){this.callLogger.error(`VF Config was provided as unsupported Reason: ${R.reason}`);return}if(this.shouldPreventAutoDisable&&!(!(R==null||(x=R.model)===null||x===void 0)&&x.simd)){this.callLogger.error("VF not enabled because device is not expected to be able to perform adequately");return}const j=R;this.callLogger.info(`Got new config, variant: ${j.model.variant}, simd: ${j.model.simd}, executionQuanta: ${j.executionQuanta}`),this.storeVfConfig(y,j),C||this.setupDevice(S,A,j)}).catch(R=>{this.callLogger.info(`Could not get configuration of voice device transformer: ${R.name}: ${R.message}`),C||this.setupDevice(S,A)}))}storeVfConfig(C,y){this.cache.voiceFocusCachedConfig.vfConfig=y,this.cache.voiceFocusCachedConfig.lastUpdateTimeMs=C,g(this.cache)}updateCacheWithUpdatedConfig(C){var y=this;return Object(s.coroutine)(function*(){y.callLogger.info("Updating VF cache with new modified model");const P={logger:y.chimeLogger},T={variant:C},S=yield Object(o.H)().configure(T,P);S.supported&&y.storeVfConfig(Date.now(),S)})()}setupDevice(C,y,P){const T=C;let S=P,A,R;P?(A=P.model.variant,R=!0):(this.callLogger.info("No VFConfig provided defaulting base model to c10"),A="c10",R=!1);let x=!0;this.allowMaxModelsToBeUsed&&(x=!1);const M=this.chooseModelVariant(A,R,x);if(M.modelWasAdjusted&&(T.variant=M.chosenModel,S=void 0,this.callLogger.info(`VF Model was adjusted from ${P==null?void 0:P.model.variant} to ${M.chosenModel} Reason: ${M.adjustmentReason}`),this.updateCacheWithUpdatedConfig(M.chosenModel)),P){Object(r.a)().track(c.EventId.CALLS_VOICE_FOCUS_CONFIG,{model_variant_determined:P.model.variant,model_variant_override:T.variant,simd:P.model.simd,execution_quanta:P.executionQuanta,hw_concurrency:navigator==null?void 0:navigator.hardwareConcurrency});const W={...P};W.model.variant=M.chosenModel,p.a.publish({type:E.c.VoiceFocusConfig,update:W}),this.callLogger.info(`model_variant_determined: ${P.model.variant}, model_variant_override: ${M.chosenModel}, simd: ${P.model.simd}, execution_quanta: ${P.executionQuanta}, hw_concurrency: ${navigator==null?void 0:navigator.hardwareConcurrency}`)}this.voiceFocusDeviceTransformerPromise=a.a.resolve(Object(o.H)().create(T,y,S));var j=this;this.voiceFocusDeviceTransformerPromise.then(function(){var W=Object(s.coroutine)(function*(U){j.voiceFocusTransformDevicePromise=a.a.resolve(U.createTransformDevice(null))});return function(U){return W.apply(this,arguments)}}()).catch(W=>{this.callLogger.info(`Could not create voice device transformer exp: ${W.name}: ${W.message}`)})}chooseModelVariant(C,y,P){const T={c10:1,c20:2,c50:3,c100:4};if(this.modelVariant)return{modelWasAdjusted:this.wasModelAdjusted(this.modelVariant,C,y),chosenModel:this.modelVariant,adjustmentReason:"Model overridden with experiment value"};const S=navigator==null?void 0:navigator.hardwareConcurrency;if(!S)return this.callLogger.info(`Hardware concurrency not available, using self-determined model variant: ${C}`),{modelWasAdjusted:!1,chosenModel:C,adjustmentReason:""};let A;return S<=4?A="c10":S<=6?A="c20":S<=8?A="c50":A="c100",T[A]<T[C]&&!P?{modelWasAdjusted:this.wasModelAdjusted(A,C,y),chosenModel:A,adjustmentReason:"Using CPU restricted model variant which is weaker"}:T[A]>T[C]&&(this.callLogger.info(`using self-determined model variant which is weaker: ${C}`),A=C,!P)?{modelWasAdjusted:!1,chosenModel:C,adjustmentReason:""}:A==="c100"?{modelWasAdjusted:this.wasModelAdjusted("c20",C,y),chosenModel:"c20",adjustmentReason:"Model selection was determined to be c100 capping the model at C20"}:{modelWasAdjusted:this.wasModelAdjusted("c10",C,y),chosenModel:"c10",adjustmentReason:"Model selection was determined to be less than c100 capping the model at C10"}}wasModelAdjusted(C,y,P){return C===y&&!P||C!==y}tearDown(){var C=this;return Object(s.coroutine)(function*(){const y=yield C.getTransformDevice();y&&(C.callLogger.info("Attempting to destroyVoiceFocus"),o.w.destroyVoiceFocus(y))})()}constructor(C,y,P){this.chimeLogger=C,this.modelVariant=y,this.allowMaxModelsToBeUsed=P,this.callLogger=Object(i.a)("VOICE-FOCUS-MANAGER"),this.isSupported=!1,this.cpuWarningTimes=[],this.cache=m(Object(t.a)(),o.u.sdkVersion)}},"VoiceFocusManager")},"26k3":function(K,n,e){"use strict";var s=e("9oTK"),t=e.n(s),a=e("Lgge"),r=e("SQ0V"),c=e("E3dU"),o=e("eUIW"),i=e("Sl1j"),l=e("1yap"),u=e("to1N");const f=Object(r.c)("Start huddle with a member by member id",function(){var d=Object(s.coroutine)(function*(O,m,g){let{memberId:E,entryPoint:p}=g;if(!E||!Object(o.a)(E))return a.a.reject(new Error("Could not start huddle as incorrect memberId provided"));let h=Object(c.m)(m(),E);return!h&&(yield O(Object(i.r)({memberIds:[E],reason:"startHuddleByMemberId"})).then(_=>{const b=_&&_.channel;b&&(O(Object(l.a)({channel:b})),h=b.id)}),!h)?a.a.reject(new Error("could not open conversation")):O(Object(u.a)({channelId:h,entryPoint:p}))});return function(O,m,g){return d.apply(this,arguments)}}());f.meta={name:"createThunk",key:"createThunkstartHuddleByMemberId",description:"Start huddle with a member by member id"},n.a=f},"26vS":function(K,n,e){"use strict";e.d(n,"c",function(){return l}),e.d(n,"d",function(){return d}),e.d(n,"a",function(){return O}),e.d(n,"e",function(){return m}),e.d(n,"b",function(){return g});var s=e("uZL6"),t=e("ZKjC"),a=e("O86Y"),r=e("i5Ig"),c=e("/b8j");const o=Object(t.b)(E=>(E==null?void 0:E.channelActions)||r.b);o.meta={name:"createSelector",key:"createSelectorgetRawChannelActionsState",description:E=>(E==null?void 0:E.channelActions)||r.b};const i=Object(s.a)(o,E=>E),l=Object(s.a)(i,(E,p)=>p,(E,p)=>{const h=E.actions;return(h==null?void 0:h[p])||null}),u=Object(s.a)(i,(E,p)=>p,(E,p)=>{const{actionIdsByChannelId:h}=E,_=h==null?void 0:h[p];return Array.isArray(_)?_:r.a}),f=Object(s.a)(u,i,(E,p)=>{const{actions:h}=p||{};return E?E.map(_=>h==null?void 0:h[_]).filter(_=>_!==void 0):r.a}),d=Object(s.a)(i,(E,p)=>p,(E,p)=>{const{actionCountByChannelId:h}=E;return h&&h[p]||0}),O=Object(t.b)((E,p)=>d(E,p)>0);O.meta={name:"createSelector",key:"createSelectorchannelHasChannelActions",description:(E,p)=>d(E,p)>0};const m=Object(t.b)((E,p)=>{const h=i(E),{actionCountByChannelId:_}=h;return _?Number.isInteger(_[p]):!1});m.meta={name:"createSelector",key:"createSelectorselectChannelActionCountIsKnownForChannelId",description:(E,p)=>{const h=i(E),{actionCountByChannelId:_}=h;return _?Number.isInteger(_[p]):!1}};const g=Object(s.a)(a.g,d,f,m,(E,p)=>p,(E,p,h,_,b)=>((!_||p>0)&&Object(c.a)(E,b),h))},"2B42":function(K,n,e){K.exports=e.p+"slack-salesforce@2x-06b5868.png"},"2Ci3":function(K,n,e){"use strict";e.d(n,"d",function(){return d}),e.d(n,"b",function(){return O}),e.d(n,"a",function(){return m}),e.d(n,"f",function(){return g}),e.d(n,"c",function(){return E}),e.d(n,"e",function(){return p});var s=e("ZKjC"),t=e("9Gfp"),a=e("O+0r"),r=e("O86Y"),c=e("UOL+"),o=e("u3oV"),i=e("/vsG"),l;const u=Object(s.b)(h=>{var _;return(l=(_=Object(c.a)(h))===null||_===void 0?void 0:_[i.a])!==null&&l!==void 0?l:h==null?void 0:h[i.a]});var f;u.meta={name:"createSelector",key:"createSelectorgetAllDndV2State",description:h=>{var _;return(f=(_=Object(c.a)(h))===null||_===void 0?void 0:_[i.a])!==null&&f!==void 0?f:h==null?void 0:h[i.a]}};const d=Object(s.b)((h,_)=>{var b,I;const C=Object(r.h)(h);return C?(Object(a.c)(C,_),(b=u(h))===null||b===void 0||(I=b.schedules)===null||I===void 0?void 0:I[_]):{}});d.meta={name:"createSelector",key:"createSelectorgetDndScheduleByMemberId",description:(h,_)=>{var b,I;const C=Object(r.h)(h);return C?(Object(a.c)(C,_),(b=u(h))===null||b===void 0||(I=b.schedules)===null||I===void 0?void 0:I[_]):{}}};const O=Object(s.b)(h=>{const _=Object(t.a)(h),b=Object(r.h)(h);return!b||!_?{}:(Object(a.c)(b,_),d(h,Object(t.a)(h)))});O.meta={name:"createSelector",key:"createSelectorgetCurrentMemberDndSchedule",description:h=>{const _=Object(t.a)(h),b=Object(r.h)(h);return!b||!_?{}:(Object(a.c)(b,_),d(h,Object(t.a)(h)))}};const m=Object(s.b)(h=>{var _;return(_=u(h))===null||_===void 0?void 0:_.schedules});m.meta={name:"createSelector",key:"createSelectorgetAllDndSchedules",description:h=>{var _;return(_=u(h))===null||_===void 0?void 0:_.schedules}};const g=Object(s.b)(h=>{var _;const b=Object(r.h)(h),I=(_=u(h))===null||_===void 0?void 0:_.schedules,C=Object(a.a)(b);return Object(o.a)(I,(P,T)=>C.includes(T))});g.meta={name:"createSelector",key:"createSelectorgetFreshDndSchedules",description:h=>{var _;const b=Object(r.h)(h),I=(_=u(h))===null||_===void 0?void 0:_.schedules,C=Object(a.a)(b);return Object(o.a)(I,(P,T)=>C.includes(T))}};const E=Object(s.b)(h=>{var _;const b=Object(t.a)(h),I=Object(r.h)(h);return I?(Object(a.c)(I,b),(_=u(h))===null||_===void 0?void 0:_.currentMemberSnooze):{}});E.meta={name:"createSelector",key:"createSelectorgetCurrentMemberSnoozeSchedule",description:h=>{var _;const b=Object(t.a)(h),I=Object(r.h)(h);return I?(Object(a.c)(I,b),(_=u(h))===null||_===void 0?void 0:_.currentMemberSnooze):{}}};const p=v((h,_)=>{var b,I;const C=Object(r.h)(h);return C?(Object(a.c)(C,_),(b=u(h))===null||b===void 0||(I=b.currentStatuses)===null||I===void 0?void 0:I[_]):{}},"getDndStatusByMemberId")},"2IYT":function(K,n,e){"use strict";var s=e("q1tI"),t=e.n(s),a=e("TSHB"),r=e("ifKl"),c=e("vfQU"),o=e("gPPH"),i=e("c+dP"),l=e("gz6s"),u=e("YpEo");function f(){return f=Object.assign||function(O){for(var m=1;m<arguments.length;m++){var g=arguments[m];for(var E in g)Object.prototype.hasOwnProperty.call(g,E)&&(O[E]=g[E])}return O},f.apply(this,arguments)}v(f,"_extends");let d=v(class extends s.Component{onDesktopContextMenu(m){const{getTemplate:g,overrideDefaultMenu:E}=this.props,p=v(I=>({...I,id:Object(o.a)(),submenu:I.submenu&&I.submenu.map(p)}),"addIdsToItem"),h=g?g().map(p):[];if(!h.length)return;const{x:_,y:b}=Object(a.a)(this.getCoordinatesForContextMenu(m),I=>Object(c.Z)()*I);Object(c.rc)(h,{x:_,y:b,overrideDefaultMenu:E}),this.props.onClick&&this.props.onClick()}getCoordinatesForContextMenu(m){if(!this.props.hasKeyboardFocus||!m)return{};const{left:g,top:E,width:p,height:h}=m.currentTarget.getBoundingClientRect(),_=g+p/2,b=E+h/2;return{x:_,y:b}}renderMenuFromTemplate(m){const{getTemplate:g,width:E,showSlackKitContextMenuOnDesktop:p,menuAriaLabel:h}=this.props;function _(I){return I.replace(/&([\w&])/g,(C,y)=>y)}v(_,"removeKeyboardAccelerators");const b=g?g().map(I=>!I.label||p?I:{...I,label:_(I.label)}):[];return b.length?t.a.createElement(i.a,f({"aria-label":h,width:E},m,{template:b,isContextMenu:!0,stripTerminalSeparators:!0})):null}render(){if(Object(c.db)()&&!this.props.showSlackKitContextMenuOnDesktop)return Object(u.a)(this.props.children,{onContextMenu:this.onDesktopContextMenu});const{forceOpen:m,onClick:g,onClose:E,isDisabled:p,renderMenu:h,preventScroll:_}=this.props;return this.props.desktopAppOnly?Object(u.a)(this.props.children):t.a.createElement(i.e,{isContextMenu:!0,position:"right-bottom",tryOppositePosition:!0,forceOpen:m,shouldFade:!1,renderMenu:h||this.renderMenuFromTemplate,onClick:g,onClose:E,isDisabled:p,preventScroll:_},this.props.children)}constructor(m){super(m),this.onDesktopContextMenu=this.onDesktopContextMenu.bind(this),this.renderMenuFromTemplate=this.renderMenuFromTemplate.bind(this)}},"ContextMenuTrigger");d.displayName="ContextMenuTrigger",d.defaultProps={overrideDefaultMenu:!1,desktopAppOnly:!0,hasKeyboardFocus:!1,showSlackKitContextMenuOnDesktop:!1,onClick:r.a,onClose:r.a,isDisabled:!1,forceOpen:!1,stripTerminalSeparators:!1},n.a=Object(l.a)(d)},"2K8U":function(K,n,e){"use strict";e.d(n,"f",function(){return s}),e.d(n,"g",function(){return t}),e.d(n,"a",function(){return a}),e.d(n,"d",function(){return r}),e.d(n,"c",function(){return c}),e.d(n,"b",function(){return o}),e.d(n,"e",function(){return i});const s={SMALL:"small",MEDIUM:"medium",LARGE:"large"},t={BASIC:"basic",SEARCH:"search",MULTI:"multi"},a=28,r=2,c="12px 0",o=16,i=240},"2OfI":function(K,n,e){"use strict";e.d(n,"a",function(){return s});function s(t){return!!(t&&t!=="-")}v(s,"isValidFieldValue")},"2QQA":function(K,n,e){K.exports=e.p+"pop_v2-d2b79fa.mp3"},"2U/2":function(K,n,e){"use strict";e.d(n,"a",function(){return s});function s(t,a){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Number.EPSILON;return isNaN(t)||isNaN(a)?!1:t===a?!0:Math.abs(t-a)<r}v(s,"areNumbersNearlyEqual")},"2XjL":function(K,n,e){"use strict";e.d(n,"a",function(){return r});var s=e("SQ0V"),t=e("JfJV"),a=e("uNaj");const r=Object(s.c)("Close flexpane for docs",(c,o,i)=>{var l;!(i==null||(l=i.event)===null||l===void 0)&&l.preventDefault&&i.event.preventDefault();const u=Object(a.a)();return Object(t.h)("ROUTE_ENTITY",u.params)});r.meta={name:"createThunk",key:"createThunkcloseFlexpane",description:"Close flexpane for docs"},r.propTypes={}},"2kWh":function(K,n,e){"use strict";e.d(n,"b",function(){return k}),e.d(n,"c",function(){return se});var s=e("9oTK"),t=e.n(s),a=e("q1tI"),r=e.n(a),c=e("iuhU"),o=e("/MKj"),i=e("zxER"),l=e("DneB"),u=e("GJt6"),f=e("Kmpi"),d=e("7xYR"),O=e("x5lL"),m=e("9Gfp"),g=e("E3dU"),E=e("+CZ0"),p=e("to1N"),h=e("0dq7"),_=e("VKu5"),b=e("sgFo"),I=e("SIMs"),C=e("Wn1n"),y=e("Trx9"),P=e("qZ3p"),T=e("LqER"),S=e("t35X"),A=e("ejLy"),R=e("E97Y"),x=e("gVOt"),M=e("Yauy"),j=e("3vtZ"),W=e("VFSv"),U=e("G7vT"),B=e("pFNT"),Y=e("iUFw"),z=e("eBYm"),F=e("Ccc1"),V=e("HKlo"),L=e("g3a/"),Q=e("nNoG"),ee=e("ktUG"),te=e("zZZw"),le=e("mQiU"),Oe=e("2VFn"),he=e("v7mh"),Ee=e("Q0mH");function ge(){return ge=Object.assign||function(X){for(var w=1;w<arguments.length;w++){var ce=arguments[w];for(var ie in ce)Object.prototype.hasOwnProperty.call(ce,ie)&&(X[ie]=ce[ie])}return X},ge.apply(this,arguments)}v(ge,"_extends");const J=new Q.b("huddles"),H={elementName:"huddles_invite_decline",eventId:ee.EventId.CANVAS_EVENT,onClick:{enableClogAction:!0}},Z={elementName:"huddles_invite_joining_soon",eventId:ee.EventId.CANVAS_EVENT,onClick:{enableClogAction:!0}},q={elementName:"huddles_invite_join",eventId:ee.EventId.CANVAS_EVENT,onClick:{enableClogAction:!0}},k=v(X=>{let{topic:w,formattedTopic:ce,channel:ie,channelName:oe,otherMemberNamesString:me,imMemberName:ue,experimentHuddlesLaterGroupOn:_e}=X;if(!_e)return r.a.createElement(r.a.Fragment,null);let be=w?J.rt("Join the scheduled huddle about {topic}",{topic:ce}):J.rt("Join the scheduled huddle");return Object(R.g)(ie)&&ue?be=w?J.rt("Join the scheduled huddle with {imMemberName} about {topic}",{topic:ce,imMemberName:ue}):J.rt("Join the scheduled huddle with {imMemberName}",{imMemberName:ue}):Object(R.i)(ie)?be=w?J.rt("Join the scheduled huddle about {topic} with {otherMemberNamesString}",{topic:ce,otherMemberNamesString:me}):J.rt("Join the scheduled huddle with {otherMemberNamesString}",{otherMemberNamesString:me}):Object(f.b)(ie)&&!Object(R.g)(ie)&&(be=w?J.rt("Join the scheduled huddle in {channelName} about {topic}",{topic:ce,channelName:oe}):J.rt("Join the scheduled huddle in {channelName}",{channelName:oe})),be},"getScheduledHuddleInviteCopy");function se(X){let{channelId:w,senderUserId:ce,callId:ie,teamId:oe,isInviter:me}=X;const ue=Object(o.useDispatch)(),{shouldUseNavigate:_e,activeTab:be}=Object(a.useContext)(le.a),Ae=Object(i.a)(b.u),Ce=Object(i.a)(m.a),De=Object(i.a)(Wt=>Object(A.a)(Wt,ce)),Pe=Object(i.a)(Wt=>Object(g.c)(Wt,w)),Ue=Object(i.a)(Wt=>{if(!Pe||!Ae||!Object(R.g)(Pe))return;const yt=Object(x.a)(Pe);if(yt)return Object(A.a)(Wt,yt)}),ae=Object(i.a)(Wt=>Object(R.i)(Pe)?(Object(M.E)(Pe)||[]).filter(Xt=>Xt!==ce&&Xt!==Ce).map(Xt=>Object(A.a)(Wt,Xt)).filter(Xt=>Xt):[],o.shallowEqual),ne=Object(l.b)(E.s),Ie=Object(j.I)(ne),Me=Object(i.a)(Wt=>Object(O.o)(Wt,ie,Ce))==="joining_soon",Ne=Object(i.a)(Wt=>Object(O.f)(Wt,ie));var He;const Et=(He=Ne==null?void 0:Ne.isScheduled)!==null&&He!==void 0?He:!1,Je=Object(i.a)(C.a),qe=Object(i.a)(Wt=>{if(_e){var yt;return(yt=Object(he.g)(Wt,{tab:be,container:Oe.h.Primary}))===null||yt===void 0?void 0:yt.id}return Je}),ke=Object(l.b)(d.getFocusedWorkspace),rt=w===qe&&ke&&oe&&ke===oe,pe=Object(a.useCallback)(()=>{ue(Object(S.b)({callId:ie,channelId:w,inviteResponse:S.a.DECLINE}))},[ie,w,ue]),[je,xe]=Object(a.useState)(!1),[ze,st]=Object(a.useState)(!1),ct=Object(a.useCallback)(()=>{(function(){var yt=Object(s.coroutine)(function*(){st(!0),xe(!1);const Xt=ue(Object(S.b)({callId:ie,channelId:w,inviteResponse:S.a.JOINING_SOON}));if(Xt)try{yield Xt}catch{xe(!0)}finally{st(!1)}else st(!1)});return v(function(){return yt.apply(this,arguments)},"respondToInvite")})()()},[ie,w,ue]),dt=Object(a.useCallback)(()=>{ue(Object(p.a)({channelId:w,callId:ie,entryPoint:h.e.SIDEBAR_HUDDLE_INVITE}))},[w,ie,ue]),bt=Object(i.a)(Wt=>w&&Object(_.a)(Wt,w))||"",Ft=bt?r.a.createElement("span",{className:"p-huddle_invite__topic"},r.a.createElement(P.a,{text:bt})):null,Bt=r.a.createElement("span",{className:"p-huddle_invite__sender_name"},De);let at;if(Et){const Wt=r.a.createElement(F.a,{channelId:w,boldIcon:!0});at=k({topic:bt,formattedTopic:Ft,channel:Pe,channelName:Wt,experimentHuddlesLaterGroupOn:!0})}else if(Object(R.g)(Pe))me?at=k({topic:bt,formattedTopic:Ft,channel:Pe,imMemberName:Ue,experimentHuddlesLaterGroupOn:Ae}):at=J.rt("Join huddle with {senderName}",{senderName:Bt});else if(Object(R.i)(Pe)){const Wt=Object(te.a)(ae,{react:!0}).join("");if(me)at=k({topic:bt,formattedTopic:Ft,channel:Pe,otherMemberNamesString:Wt,experimentHuddlesLaterGroupOn:Ae});else{const yt=Object(te.a)([De].concat(ae),{react:!0}).join(""),Xt=r.a.createElement("span",{className:"p-huddle_invite__all_member_names"},yt);at=J.rt("Join huddle with {allMemberNames}",{allMemberNames:Xt})}}else{const Wt=r.a.createElement(F.a,{channelId:w,boldIcon:!0});me?at=k({topic:bt,formattedTopic:Ft,channel:Pe,channelName:Wt,experimentHuddlesLaterGroupOn:Ae}):rt?at=J.rt("{senderName} is inviting you to a huddle in this channel",{senderName:Bt}):at=J.rt("{senderName} is inviting you to a huddle in {channelName}",{senderName:Bt,channelName:Wt})}return{avatarOverflowBadgeCount:Object(R.i)(Pe)?ae.length+1:0,didRespondingToInviteFail:je,formattedTopic:Ft,handleDecline:pe,handleJoiningSoon:ct,handleJoin:dt,inviteText:at,isCurrentUserJoiningSoon:Me,isJoiningSoonResponsePending:ze,isLoading:Ie}}v(se,"useHuddleInviteProps"),se.displayName="useHuddleInviteProps";const re=v(X=>{let{channelId:w,senderUserId:ce,callId:ie,teamId:oe,isIA4EnabledForCurrentTeam:me}=X;const ue=Object(i.a)(b.u),_e=Object(i.a)(m.a),be=ue&&_e===ce,Ae=Object(T.b)(w),{avatarOverflowBadgeCount:Ce,didRespondingToInviteFail:De,formattedTopic:Pe,handleDecline:Ue,handleJoiningSoon:ae,handleJoin:ne,inviteText:Ie,isCurrentUserJoiningSoon:Te,isJoiningSoonResponsePending:Me,isLoading:Ne}=se({channelId:w,senderUserId:ce,callId:ie,teamId:oe,isInviter:be}),He=Object(a.useRef)(null),Et=Object(a.useCallback)(()=>{var ct;(ct=He.current)===null||ct===void 0||ct.focus()},[]);Object(u.a)(V.c.HUDDLE_INVITE_JOIN,Et);const Je="huddle-invite-text",qe=r.a.createElement(Y.d,{type:"outline",className:"p-huddle_invite__button",onClick:Ue,"data-qa":"huddle_invite_declined",disabled:Ne,autoClogProps:H},r.a.createElement("span",{className:"p-huddle_invite__label"},J.t("Decline"))),ke=r.a.createElement(z.a,{type:"outline",className:"p-huddle_invite__button p-huddle_invite__button--joining_soon",loading:Me,onClick:ae,disabled:Ne,autoClogProps:Z},r.a.createElement("span",{className:"p-huddle_invite__label"},J.t("Be there soon"))),[rt,pe]=Object(a.useState)(!1);Object(a.useEffect)(()=>{let ct=0;return Te&&(pe(!0),ct=window.setTimeout(()=>{pe(!1)},6e3)),()=>{ct&&clearTimeout(ct)}},[Te]);const je=rt?r.a.createElement("div",{className:"p-huddle_invite__header_notif"},r.a.createElement("div",{className:"p-huddle_invite__header_notif_content"},r.a.createElement(W.a,{name:"clock",size:"20"}),r.a.createElement("span",{className:"margin_left_50"},J.t("Join when you\u2019re ready!")))):null,xe=r.a.createElement(z.a,{ref:He,type:"primary",className:"p-huddle_invite__button p-huddle_invite__button--accept",loading:Ne,onClick:ne,"data-qa":"huddle_invite_join",autoClogProps:q},r.a.createElement("span",{className:"p-huddle_invite__label p-huddle_invite__label--join"},J.t("Join"))),ze=Object(i.a)(I.E),st=me&&ze?{width:ze}:null;return r.a.createElement(y.a,ge({eventId:ee.EventId.CANVAS_EVENT,uiComponentName:ee.UiComponentName.HUDDLES_INVITE,clogImpression:!0},Ae),r.a.createElement("div",ge({className:Object(c.default)("p-huddle_invite",{"p-huddle_invite--with_header":!!Pe,"p-huddle_invite--ia4":me})},st&&{style:st}),r.a.createElement("div",{className:"p-huddle_invite__content"},je,Pe&&r.a.createElement("div",{className:"p-huddle_invite__message_header"},Pe),r.a.createElement("div",{className:"p-huddle_invite__message"},!be&&r.a.createElement("div",{className:Object(c.default)("p-huddle_invite__avatar_container",{"p-huddle_invite__avatar_container--with_overflow":!!Ce})},r.a.createElement(B.c,{key:ce,className:"p-huddle_invite__avatar",size:Ce?14:20,userId:ce,isInteractive:!1}),!!Ce&&r.a.createElement("div",{className:"p-huddle_invite__avatar_overflow_overlay"},Ce)),r.a.createElement(U.a,null,r.a.createElement("div",{className:"p-huddle_invite__text",id:Je},Ie,r.a.createElement("span",{className:"offscreen"},J.rt("Press {key} to join",{key:Object(j.m)(),fallbackHash:"bd062cb22cea3388535c0f834ebf6df702757691",fallbackHashNs:"keyboard_keys"}))))),r.a.createElement("div",{className:"p-huddle_invite__buttons",role:"group","aria-labelledby":Je},xe,!Te&&ke,qe)),De&&r.a.createElement(L.a,{icon:"warning"},J.t("Something went wrong responding to the invite."))))},"HuddleInvite");re.displayName="HuddleInvite",n.a=re},"2nK1":function(K,n,e){"use strict";e.d(n,"a",function(){return a}),e.d(n,"b",function(){return r});var s=e("SQ0V"),t=e("wCNw");const a=v(c=>Object(t.b)(c),"promiseToHaveOpenWebSocket"),r=Object(s.c)("get a Promise that is resolved when we have an open WebSocket",(c,o)=>a(o()));r.meta={name:"createThunk",key:"createThunkpromiseToHaveOpenWebSocketAction",description:"get a Promise that is resolved when we have an open WebSocket"}},"2xcd":function(K,n,e){"use strict";var s=e("q1tI"),t=e.n(s),a=e("n3tL"),r=e("nNoG"),c=e("i9y5"),o=e("+bQA");const i=new r.b("form_inputs"),l={count:a.default.number,theme:a.default.oneOf(["light","dark"]),spinnerSize:a.default.string},u={count:0,theme:"light",spinnerSize:"large"},f=v(d=>{let{count:O,theme:m,spinnerSize:g}=d;return t.a.createElement("div",{className:"c-multi_select_helper_text c-multi_select_helper_text--loading"},t.a.createElement("span",{className:"c-multi_select_helper_text__icon_container"},t.a.createElement(c.a,{color:m==="dark"?"white":"blue",size:g,inline:!0})),i.t("Loading {count, plural, =1 {# entry} other {# entries}}",{count:O}))},"MultiSelectLoadingText");f.propTypes=l,f.defaultProps=u,n.a=f},"2xgR":function(K,n,e){"use strict";var s=e("9oTK"),t=e.n(s),a=e("Lgge"),r=e("n3tL"),c=e("SQ0V"),o=e("QOYf"),i=e("20l4"),l=e("E3dU"),u=e("1yap"),f=e("Sl1j");const d=Object(c.c)("Open a conversation with a member and then start a call",function(){var O=Object(s.coroutine)(function*(m,g){let{memberId:E,appId:p,type:h,phoneNumber:_}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(!E)return a.a.reject(new Error("invalid params"));if(!Object(o.a)())return a.a.resolve();const b=g();let I=Object(l.m)(b,E);return!I&&(yield m(Object(f.r)({memberIds:[E],reason:"startCallByMemberId"})).then(C=>{const y=C&&C.channel;y&&(m(Object(u.a)({channel:y})),I=y.id)}),!I)?a.a.reject(new Error("could not open conversation")):m(Object(i.a)({channelId:I,appId:p,type:h,phoneNumber:_}))});return function(m,g){return O.apply(this,arguments)}}());d.meta={name:"createThunk",key:"createThunkstartCallByMemberId",description:"Open a conversation with a member and then start a call"},d.propTypes={memberId:r.default.string.isRequired},n.a=d},3203:function(K,n,e){"use strict";e.d(n,"a",function(){return t}),e.d(n,"b",function(){return a});const s=/^p?(\d{10})\.?(\d{6})$/;function t(r){return!r||!s.test(r)?null:r.replace(s,"$1.$2")}v(t,"formatMessageTimestamp");function a(){let r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:Date.now();if(!r)return null;const c=String((+r/1e3).toFixed(6));return t(c)}v(a,"getFormattedMessageTimestamp")},"35RN":function(K,n,e){"use strict";e.d(n,"b",function(){return s}),e.d(n,"a",function(){return t});const s="huddles_play_music_when_last",t="huddles_play_music_timeout"},"37+L":function(K,n,e){"use strict";e.d(n,"J",function(){return O}),e.d(n,"p",function(){return m}),e.d(n,"m",function(){return g}),e.d(n,"I",function(){return E}),e.d(n,"K",function(){return p}),e.d(n,"X",function(){return h}),e.d(n,"R",function(){return _}),e.d(n,"Q",function(){return I}),e.d(n,"w",function(){return C}),e.d(n,"y",function(){return y}),e.d(n,"x",function(){return P}),e.d(n,"P",function(){return T}),e.d(n,"g",function(){return S}),e.d(n,"l",function(){return A}),e.d(n,"k",function(){return R}),e.d(n,"c",function(){return x}),e.d(n,"Z",function(){return M}),e.d(n,"v",function(){return j}),e.d(n,"C",function(){return W}),e.d(n,"D",function(){return U}),e.d(n,"z",function(){return B}),e.d(n,"A",function(){return Y}),e.d(n,"B",function(){return z}),e.d(n,"ab",function(){return V}),e.d(n,"bb",function(){return L}),e.d(n,"E",function(){return Q}),e.d(n,"F",function(){return ee}),e.d(n,"t",function(){return te}),e.d(n,"u",function(){return le}),e.d(n,"h",function(){return Oe}),e.d(n,"S",function(){return he}),e.d(n,"N",function(){return Ee}),e.d(n,"O",function(){return ge}),e.d(n,"M",function(){return J}),e.d(n,"L",function(){return H}),e.d(n,"i",function(){return Z}),e.d(n,"o",function(){return q}),e.d(n,"n",function(){return k}),e.d(n,"j",function(){return se}),e.d(n,"a",function(){return re}),e.d(n,"T",function(){return X}),e.d(n,"r",function(){return w}),e.d(n,"s",function(){return ce}),e.d(n,"U",function(){return ie}),e.d(n,"b",function(){return oe}),e.d(n,"Y",function(){return me}),e.d(n,"f",function(){return ue}),e.d(n,"W",function(){return _e}),e.d(n,"V",function(){return be}),e.d(n,"d",function(){return Ae}),e.d(n,"e",function(){return Ce}),e.d(n,"q",function(){return De}),e.d(n,"G",function(){return Pe}),e.d(n,"H",function(){return Ue});var s=e("xcHN"),t=e("hjzp"),a=e("CnKg"),r=e("2vQQ"),c=e("UmHn"),o=e("Ini6"),i=e("uiBO"),l=e("0Xjs"),u=e("ZTSm"),f=e("2VFn"),d=e("l1I1");function O(ae){if(!Object(o.a)(ae))throw new Error("not a valid page id");return{id:ae,viewType:Object(r.f)(ae)}}v(O,"toPage");function m(ae){if(!Object(u.a)(ae))throw new Error("toDraft requires a draftId");return{id:c.a.Composer,viewType:i.a.Page,params:{draftId:ae}}}v(m,"toDraft");function g(ae){return{id:ae,viewType:i.a.Channel}}v(g,"toChannel");function E(ae,ne,Ie){return{id:ae,viewType:i.a.Channel,params:{startTs:ne},uiState:{[ae]:{highlightTs:Ie}}}}v(E,"toMessage");function p(ae){return{id:"rimeto_profile",viewType:i.a.Profile,params:{memberId:ae}}}v(p,"toProfile");function h(ae){let{channelId:ne,threadTs:Ie,replyTs:Te,highlightRoot:Me=!1,dangerouslyOverrideRouting:Ne=!1}=ae;return{id:"thread",viewType:i.a.Thread,params:{threadId:Object(s.c)(ne,Ie),replyTs:Te,highlightRoot:Me,dangerouslyOverrideRouting:Ne},uiState:{highlightTs:Te}}}v(h,"toThread");function _(){return{id:i.a.RecentPlatform,viewType:i.a.RecentPlatform}}v(_,"toRecentPlatform");function b(){return{id:i.a.BrowseWorkflowTemplates,viewType:i.a.BrowseWorkflowTemplates}}v(b,"toWorkflowTemplates");function I(){return{id:i.a.RecentFiles,viewType:i.a.RecentFiles}}v(I,"toRecentFiles");function C(){return{id:i.a.BrowseFiles,viewType:i.a.BrowseFiles}}v(C,"toFilesBrowser");function y(){return{id:i.a.FilesSharedWithYou,viewType:i.a.FilesSharedWithYou}}v(y,"toFilesSharedWithYou");function P(){return{id:i.a.FilesCreatedByYou,viewType:i.a.FilesCreatedByYou}}v(P,"toFilesCreatedByYou");function T(){return{id:i.a.RecentCanvases,viewType:i.a.RecentCanvases}}v(T,"toRecentCanvases");function S(){return{id:i.a.BrowseCanvases,viewType:i.a.BrowseCanvases}}v(S,"toBrowseCanvases");function A(){return{id:i.a.CanvasesSharedWithYou,viewType:i.a.CanvasesSharedWithYou}}v(A,"toCanvasesSharedWithYou");function R(){return{id:i.a.CanvasesCreatedByYou,viewType:i.a.CanvasesCreatedByYou}}v(R,"toCanvasesCreatedByYou");function x(){return{id:"Vall_threads",viewType:i.a.Threads}}v(x,"toAllThreads");function M(ae){return{id:"user_groups",viewType:i.a.UserGroup,params:{userGroupId:ae}}}v(M,"toUserGroup");function j(ae){return{id:"files",viewType:i.a.FileDetails,params:{fileId:ae}}}v(j,"toFileDetails");function W(){return{id:"help",viewType:i.a.Help}}v(W,"toHelpHome");function U(){return{id:"help_browser",viewType:i.a.HelpBrowser}}v(U,"toHelpHomeBrowser");function B(ae,ne){return{id:"help",viewType:i.a.Help,params:{articleId:ae,focusKey:ne}}}v(B,"toHelpArticle");function Y(ae,ne){return{id:"help_browser",viewType:i.a.HelpBrowser,params:{articleId:ae,focusKey:ne}}}v(Y,"toHelpArticleBrowser");function z(ae){return{id:"help",viewType:i.a.Help,params:{categoryId:ae}}}v(z,"toHelpCategory");function F(ae){return{id:"help_browser",viewType:i.a.HelpBrowser,params:{categoryId:ae}}}v(F,"toHelpCategoryBrowser");function V(ae){return{id:"whats_new",viewType:i.a.WhatsNew,params:{focusKey:ae}}}v(V,"toWhatsNew");function L(ae){return{id:"whats_new_browser",viewType:i.a.WhatsNewBrowser,params:{focusKey:ae}}}v(L,"toWhatsNewBrowser");function Q(ae){return{id:"shortcuts",viewType:i.a.KeyboardShortcuts,params:{focusKey:ae}}}v(Q,"toKeyboardShortcuts");function ee(ae){return{id:"shortcuts_browser",viewType:i.a.KeyboardShortcutsBrowser,params:{focusKey:ae}}}v(ee,"toKeyboardShortcutsBrowser");function te(ae){return{id:"feedback",viewType:i.a.Feedback,params:{focusKey:ae}}}v(te,"toFeedback");function le(ae){return{id:"feedback",viewType:i.a.FeedbackBrowser,params:{focusKey:ae}}}v(le,"toFeedbackBrowser");function Oe(ae){return{id:ae,viewType:Object(l.y)(ae)}}v(Oe,"toBrowser");function he(ae){return{id:i.a.Search,viewType:i.a.Search,params:{searchId:ae}}}v(he,"toSearch");function Ee(ae){let{entityId:ne,commentThreadId:Ie,targetHighlightTs:Te}=ae;if(!Object(d.a)(ne))throw new Error("Invalid quip entityId passed toQuipCommentThread. It must be encoded with Qp:");return{id:"comment_thread",viewType:i.a.QuipCommentThread,params:{entityId:ne,commentThreadId:Ie,highlightTs:Te}}}v(Ee,"toQuipCommentThread");function ge(ae){const{channelId:ne,highlightTs:Ie}=ae,Te=Object(a.h)({id:Object(t.b)(ne)});return ae.commentThreadId?Ee({entityId:Te,commentThreadId:ae.commentThreadId,targetHighlightTs:Ie}):{id:"comment_thread",viewType:i.a.QuipCommentThread,params:{entityId:Te,threadTs:ae.threadTs,highlightTs:Ie}}}v(ge,"toQuipCommentThreadFromThreadIds");function J(ae,ne){return{id:"comment_stream",viewType:i.a.QuipCommentStream,params:{entityId:ae,filterType:ne}}}v(J,"toQuipCommentStream");function H(ae){if(!Object(d.a)(ae))throw new Error("Invalid quip entityId passed toQuipActivityHistory. It must be encoded with Qp:");return{id:"activity_history",viewType:i.a.QuipActivityHistory,params:{entityId:ae}}}v(H,"toQuipActivityHistory");function Z(ae){let{id:ne,versionId:Ie,sequence:Te,preserveExistingSecondaryView:Me,clogParams:Ne,scrollBehavior:He}=ae;return{id:ne,viewType:i.a.Canvas,params:{versionId:Ie,sequence:Te,scrollBehavior:He,entityId:ne,clogParams:Ne},options:{preserveExistingSecondaryView:Me}}}v(Z,"toCanvas");function q(ae,ne){return{id:ae,viewType:i.a.ChannelCanvas,params:{channelCanvasId:ne,isPopOut:!0}}}v(q,"toChannelCanvasPopout");function k(ae,ne,Ie){return{id:"channel_canvas",viewType:i.a.ChannelCanvas,params:{entityId:ae,channelId:ne,clogParams:Ie}}}v(k,"toChannelCanvas");function se(){return{id:"canvas_browser",viewType:i.a.CanvasBrowser}}v(se,"toCanvasBrowser");function re(ae){return{id:ae,viewType:i.a.AboutWorkspace}}v(re,"toAboutWorkspacePage");function X(){let{scTeamOrEnterpriseId:ae,viewName:ne,invitationsTabId:Ie}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return{id:"slack_connect",viewType:i.a.SlackConnect,params:{viewName:ne,scTeamOrEnterpriseId:ae,invitationsTabId:Ie}}}v(X,"toSlackConnect");function w(){return{id:i.a.ExternalOrganizations,viewType:i.a.ExternalOrganizations}}v(w,"toExternalOrganizations");function ce(){return{id:i.a.ExternalPeople,viewType:i.a.ExternalPeople}}v(ce,"toExternalPeople");function ie(){return{id:i.a.SlackConnectChannels,viewType:i.a.SlackConnectChannels}}v(ie,"toSlackConnectChannels");function oe(){return{id:i.a.AllEvents,viewType:i.a.AllEvents}}v(oe,"toAllEvents");function me(){return{id:i.a.UpcomingEvents,viewType:i.a.UpcomingEvents}}v(me,"toUpcomingEvents");function ue(){return{id:i.a.ArchivedEvents,viewType:i.a.ArchivedEvents}}v(ue,"toArchivedEvents");function _e(){return{id:i.a.SlackConnectInvitations,viewType:i.a.SlackConnectInvitations}}v(_e,"toSlackConnectInvitations");function be(ae){return{id:c.a.SlackConnectInvitation,viewType:i.a.Page,params:{invitationId:ae}}}v(be,"toSlackConnectInvitation");function Ae(ae){let{appId:ne,isUtaApp:Ie}=ae;return{id:ne,viewType:i.a.AppSpace,params:{isUtaApp:Ie}}}v(Ae,"toApp");function Ce(ae){let{channelId:ne,tabId:Ie}=ae;return{id:ne,viewType:i.a.Channel,params:{tabId:Ie}}}v(Ce,"toAppChannel");function De(ae){let{tab:ne}=ae;return ne===f.d.Search?{id:i.a.SearchEmpty,viewType:i.a.SearchEmpty}:{id:c.a.Empty,viewType:i.a.Page}}v(De,"toEmptyState");function Pe(ae){let{listId:ne,listViewId:Ie,focusRecordId:Te}=ae;return{id:ne,viewType:i.a.List,params:{listId:ne,listViewId:Ie,focusRecordId:Te}}}v(Pe,"toList");function Ue(ae){let{listId:ne,recordId:Ie,getNextRecordId:Te,getPreviousRecordId:Me}=ae;return{id:Ie||"",viewType:i.a.List,params:{listId:ne,recordId:Ie,getNextRecordId:Te,getPreviousRecordId:Me}}}v(Ue,"toListRecord")},3956:function(K,n,e){"use strict";e.d(n,"a",function(){return b});var s=e("SQ0V"),t=e("4hjS"),a=e("4iK2"),r=e("bcZH"),c=e("uNaj"),o=e("CnKg"),i=e("9Gfp"),l=e("PIf0"),u=e("6inW"),f=e("HoeF");const d=Object(s.c)("Opens member profile in the huddle window flexpane if the window is open",(I,C,y,P)=>{let{memberId:T}=y;const{window:S,windowId:A}=P(l.a);return Object(u.b)(A)&&!!S?(I(Object(f.C)({userId:T})),!0):!1});d.meta={name:"createThunk",key:"createThunkopenProfileInHuddleWindow",description:"Opens member profile in the huddle window flexpane if the window is open"};var O=e("iitH"),m=e("rZ8V"),g=e("I0j/"),E=e("37+L"),p=e("cU/a"),h=e("25cE"),_=e("uiBO");const b=Object(s.c)("Show the member profile",function(I,C){let{memberId:y,teamId:P}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const T=C(),S=Object(t.l)(T);let A,R;if(S===a.c||Object(r.a)(T)){var x;const W=Object(c.a)(),{fileIdOrQuipThreadId:U}=Object(o.i)(W==null||(x=W.params)===null||x===void 0?void 0:x.entityId);A=a.c,R=U}const M=y||Object(i.a)(T);if(!I(d({memberId:M}))){if(Object(O.a)(T)){if(Object(m.g)(T)){I(Object(g.a)(Object(E.K)(M)));return}return I(Object(p.a)({routeName:h.s,flexName:"rimeto_profile",flexParams:{memberId:M},flexOrigin:A,flexOriginId:R,teamId:P}))}if(Object(m.g)(T)){I(Object(g.a)({id:"user_profile",params:{memberId:M},viewType:_.a.Profile}));return}return I(Object(p.a)({routeName:h.z,flexName:"user_profile",flexParams:{memberId:M},flexOrigin:A,flexOriginId:R,teamId:P}))}});b.meta={name:"createThunk",key:"createThunkshowMemberProfile",description:"Show the member profile"}},"3K8Y":function(K,n,e){K.exports=e.p+"confirmation_v2-de3a4ae.mp3"},"3KJg":function(K,n,e){"use strict";e.d(n,"c",function(){return S}),e.d(n,"d",function(){return R}),e.d(n,"b",function(){return W}),e.d(n,"a",function(){return U});var s=e("fujP"),t=e("lhZz"),a=e("Z7Ay"),r=e("O86Y"),c=e("p+AA"),o=e("1Np4"),i=e("PLUl"),l=e("s4P+"),u=e("aVws"),f=e("rIJ2"),d=e("n0Pp"),O=e("4cU5");const m="RTM-EVENT-METRICS",g=4;let E=!1,p;const h=50;function _(){return E?!0:Object(c.a)()?(p===void 0&&(p=Object(f.a)(h),p&&Object(l.b)({label:m}).info("Metrics collection enabled for the current interval.")),p):!1}v(_,"shouldSampleForInterval");let b={},I={},C={},y={},P={},T={};function S(V){let{teamOrEnterpriseId:L,rtmEventType:Q,duration:ee,msgs:te,fromEvtLog:le}=V;var Oe;if(!_())return;const he=Object(r.i)((Oe=Object(t.getStoreOrSharedStoreInstanceByTeamOrEnterpriseId)(L))===null||Oe===void 0?void 0:Oe.getState());he&&(le&&A({bucket:P,teamOrEnterpriseId:he,eventType:Q,value:te.length}),A({bucket:I,teamOrEnterpriseId:he,eventType:Q,value:1}),A({bucket:C,teamOrEnterpriseId:he,eventType:Q,value:te.length}),A({bucket:y,teamOrEnterpriseId:he,eventType:Q,value:ee}))}v(S,"incrementMetrics");function A(V){let{bucket:L,teamOrEnterpriseId:Q,eventType:ee,value:te}=V;var le;const Oe=(le=L[Q])!==null&&le!==void 0?le:{};var he;const Ee=(he=Oe[ee])!==null&&he!==void 0?he:0;Oe[ee]=Ee+te,L[Q]=Oe}v(A,"incrementBucket");function R(V,L){if(Object(s.a)(C)&&Object(s.a)(b)){B();return}const Q=Object.keys({...C,...b}),ee=setInterval(()=>{const te=Object(l.b)({label:m}),le=Q.pop();if(!le){te.info("Completed metrics aggregation",{traceId:V.getTraceId()}),clearInterval(ee);return}te.info(`Sending metric report for id: ${le}`),j({teamOrEnterpriseId:le,clientMetricsTrace:V,performanceTracingMetatags:L}),M({teamOrEnterpriseId:le,clientMetricsTrace:V,performanceTracingMetatags:L}),Y(le)},1e3)}v(R,"reportRtmMetrics");function x(V,L){const Q=Object(u.a)(V),ee=Object(t.getStateByTeamId)(Q);return{...L,metric_version:g,slow_connection_count:Object(d.e)(ee)}}v(x,"getMetricsTraceMetatags");function M(V){let{teamOrEnterpriseId:L,clientMetricsTrace:Q,performanceTracingMetatags:ee}=V;const te=b[L];if(!te)return;const le=Object(o.a)({teamOrEnterpriseId:L}),Oe=le.createMetricsTrace({label:"rtm_incoming",tags:x(L,ee),traceId:Q.getTraceId(),parentSpanId:Q.getRootSpanId()});var he;const Ee=(he=T[L])!==null&&he!==void 0?he:{};let ge=0,J=0;Object.entries(te).forEach(H=>{let[Z,q=0]=H;var k;const se=(k=Ee[Z])!==null&&k!==void 0?k:0;ge+=q,J+=se,Oe.store({name:"rtm_incoming:event_count",value:q}).addTags({event_type:Z,eventlog_count:se,socket_count:q-se})}),Oe.store({name:"rtm_incoming:total_event_count",value:ge}),Oe.store({name:"rtm_incoming:total_event_count:socket",value:ge-J}),Oe.store({name:"rtm_incoming:total_event_count:eventlog",value:J}),Object(l.b)({label:m}).info(`${L} total incoming event count: ${ge}`),le.reportTrace(Oe)}v(M,"maybeReportRawEventCount");function j(V){let{teamOrEnterpriseId:L,clientMetricsTrace:Q,performanceTracingMetatags:ee}=V;const te=C[L];if(!te)return;const le=Object(o.a)({teamOrEnterpriseId:L}),Oe=le.createMetricsTrace({label:"rtm_dispatch",tags:x(L,ee),traceId:Q.getTraceId(),parentSpanId:Q.getRootSpanId()});var he;const Ee=(he=I[L])!==null&&he!==void 0?he:{};var ge;const J=(ge=y[L])!==null&&ge!==void 0?ge:{};var H;const Z=(H=P[L])!==null&&H!==void 0?H:{};let q=0,k=0;Object.entries(te).forEach(se=>{let[re,X]=se;const w=Ee[re],ce=J[re];if(w===void 0||ce===void 0)return;var ie;const oe=(ie=Z[re])!==null&&ie!==void 0?ie:0;q+=X,k+=oe,Oe.store({name:"rtm_dispatch:duration",value:ce}).addTags({event_type:re,total_events:X,total_batches:w,per_event_duration:ce/X,eventlog_count:oe,socket_count:X-oe})}),Oe.store({name:"rtm_dispatch:total_event_count",value:q}),Oe.store({name:"rtm_dispatch:total_event_count:socket",value:q-k}),Oe.store({name:"rtm_dispatch:total_event_count:eventlog",value:k}),Object(l.b)({label:m}).info(`${L} total dispatch event count: ${q}`),le.reportTrace(Oe)}v(j,"maybeReportEventMetrics");function W(V){let{teamId:L,msgs:Q}=V;if(!_())return;const ee=Object(t.getStateByTeamId)(L);var te;const le=(te=Object(r.i)(ee))!==null&&te!==void 0?te:L,Oe=Q.reduce((he,Ee)=>(!Ee||!Ee.type||(he[Ee.type]?he[Ee.type]+=1:he[Ee.type]=1),he),{});Object.entries(Oe).forEach(he=>{let[Ee,ge]=he;A({bucket:b,teamOrEnterpriseId:le,eventType:Ee,value:ge}),A({bucket:T,teamOrEnterpriseId:le,eventType:Ee,value:ge})})}v(W,"countRawEventsVolumeFromEventLog");function U(V){let{teamId:L,msg:Q}=V;if(!_()||!Q||!Q.type)return;const ee=Object(t.getStateByTeamId)(L);var te;const le=(te=Object(r.i)(ee))!==null&&te!==void 0?te:L;A({bucket:b,teamOrEnterpriseId:le,eventType:Q.type,value:1})}v(U,"countRawEventVolume");function B(){p=void 0,b={},C={},I={},y={},P={},T={},Object(l.b)({label:m}).info("Metrics collection sampling has been reset.")}v(B,"resetAllCollections");function Y(V){p=void 0,delete b[V],delete C[V],delete I[V],delete y[V],delete P[V],delete T[V],Object(l.b)({label:m}).info(`Metrics collection sampling has been reset for id: ${V}`)}v(Y,"resetCollections");const z=v(()=>({rawEventCountBuckets:b,eventCountBuckets:C,batchCountBuckets:I,durationBuckets:y,eventLogEventCountBuckets:P,eventLogRawEventCountBuckets:T}),"debugGetBuckets");Object(a.a)("rtmEventMetrics",{debugGetBuckets:z,debugToggleSampling:()=>{E=!E,B(),Object(l.b)({label:m}).info(`Interval sampling: ${E?"ON":"OFF"}`)},debugReportMetrics:()=>{const V=Object(i.a)(),L=V.createMetricsTrace({samplingOptions:{sampleType:O.g.ALWAYS}});R(L,{}),V.reportTrace(L)}}),Object.defineProperty({resetAllCollections:B,debugGetBuckets:z,reportRtmMetrics:R,intervalSampleCache:p},"intervalSampleCache",{get:()=>p,set:V=>{p=V}})},"3KdQ":function(K,n,e){"use strict";e.d(n,"a",function(){return t});var s=e("DwFS");const t=Object(s.a)("Upsert fetched ordered membership list for channel");t.meta={name:"createAction",key:"createActionupsertFetchedChannelOrderedMemberList",description:"Upsert fetched ordered membership list for channel"}},"3RMI":function(K,n,e){"use strict";e.d(n,"a",function(){return c}),e.d(n,"b",function(){return o});var s=e("Lgge"),t=e("ykb+"),a=e("s4P+"),r=e("G5NC");function c(i,l,u){const f="noversion",d=Date.now()/1e3,O=`/api/${i}?_x_id=${f}-${d}`,m=new XMLHttpRequest;m.onreadystatechange=()=>{if(m.readyState===4){m.onreadystatechange=null;let h={};if(m.status===200||m.status===429)try{h=JSON.parse(m.responseText)}catch{Object(a.b)().warn("API","Unable to do anything with api response")}h=h||{ok:!1},u?u(h.ok,h,l):Object(t.b)()&&(Object(a.b)().warn("API","No callback provided. Printing response"),Object(a.b)().warn("API",h.ok,h,l))}};const g=!0;m.open("POST",O,g);const E=new FormData;let p=!1;l?Object.keys(l).forEach(h=>{h[0]!=="_"&&(E.append(h,l[h]),p=!0)}):Object(t.b)()&&Object(a.b)().warn("API","No args provided. Bold, very bold."),p?m.send(E):m.send()}v(c,"callSlackApiUnauthed");const o=v((i,l)=>new s.a(u=>{c(i,l,(f,d)=>{u(d)})}),"callSlackApiUnauthedAsync");Object(r.a)()||(window.callSlackAPIUnauthed=(i,l,u)=>{Object(a.b)().warn("API","Don't use me directly! Please import callSlackApiUnauthed from api-unauthed.js"),c(i,l,u)})},"3RZE":function(K,n,e){"use strict";var s=e("q1tI"),t=e.n(s),a=e("Cfcg"),r=e("iuhU"),c=e("DQNL"),o=e("GhjL"),i=e("RVJP"),l=e("O86Y"),u=e("beVI"),f=e("G0eX"),d=e("nNoG"),O=e("CD4m"),m=e("sGXp"),g=e("VFSv"),E=e("dl0f"),p=e("JfyJ");function h(){return h=Object.assign||function(y){for(var P=1;P<arguments.length;P++){var T=arguments[P];for(var S in T)Object.prototype.hasOwnProperty.call(T,S)&&(y[S]=T[S])}return y},h.apply(this,arguments)}v(h,"_extends");const _=new d.b("user_group_entity");function b(y){let{className:P,invert:T,showDescription:S=!0,userGroup:A,userGroupTeamName:R,experimentXwsUsergroupDecoratorsGroupTreatment:x,isDeactivated:M}=y;const j=M||!Object(c.y)(A),W=Object(s.useCallback)(ee=>t.a.createElement("span",{className:"margin_right_50"},t.a.createElement(g.a,h({},ee,{name:"user-groups",size:"18"}))),[]);if(Object(c.v)(A)||Object(c.u)(A)){const ee=Object(r.default)("c-small_user_group__missing_icon",{"c-small_user_group__missing_icon--inverted":T});return t.a.createElement("div",{className:"c-small_user_group__missing"},t.a.createElement("div",{className:ee},t.a.createElement(g.a,{name:"user-groups",size:"18"})),t.a.createElement(E.a,{type:Object(c.v)(A)?"unknown":"non-existent",invert:T}))}const U=Object(c.j)(A),B=t.a.createElement("span",{className:"c-user_group__name c-small_user_group__name"},U),Y=Object(c.f)(A),z=Object(c.n)(A),F="\xB7",V="\xA0\xA0";let L;if(x){const ee=R&&t.a.createElement(t.a.Fragment,null,"\xA0\xA0",t.a.createElement("span",{className:"c-small_user_group__team"},R));L=t.a.createElement(t.a.Fragment,null,t.a.createElement("span",{className:"c-small_user_group__count"},"(",_.t("{userCount, plural, =1 {# member} other {# members}}",{userCount:z}),")"),ee)}else L=t.a.createElement(t.a.Fragment,null,t.a.createElement("span",{className:"c-small_user_group__count"},[F,V],_.t("{userCount, plural, =1 {# member} other {# members}}",{userCount:z}),Y&&[V,F,V]),t.a.createElement("span",{className:"c-small_user_group__description"},Y));let Q;return j?Q=m.d.dim:T&&(Q=m.d.highlightDark),t.a.createElement(O.d,{avatar:W,className:P,size:"small",style:Q,text:t.a.createElement(O.c,null,B,S&&L),"data-usergroup-id":A.id})}v(b,"SmallUserGroupEntity"),b.displayName="SmallUserGroupEntity";const I=v((y,P)=>{let{id:T,userGroup:S}=P;const A=S||Object(o.d)(y,T),R=Object(l.g)(y),x=Object(c.l)(A),M=x!==R&&Object(f.g)(Object(u.t)(y,x));return{userGroup:A,userGroupTeamName:M,experimentXwsUsergroupDecoratorsGroupTreatment:Object(i.d)(y,"xws_usergroup_decorators")==="treatment"}},"mapStateToProps");var C=n.a=Object(a.a)(I)(b)},"3V+Q":function(K,n,e){"use strict";e.d(n,"a",function(){return i});var s=e("q1tI"),t=e.n(s),a=e("iuhU"),r=e("nNoG");function c(){return c=Object.assign||function(d){for(var O=1;O<arguments.length;O++){var m=arguments[O];for(var g in m)Object.prototype.hasOwnProperty.call(m,g)&&(d[g]=m[g])}return d},c.apply(this,arguments)}v(c,"_extends");const o=new r.b("app_dialog"),i={block:"block",inline:"inline"};var l;let u=v(class extends(l=t.a.Component){getCursor(){const{cursor:O,htmlFor:m}=this.props;return typeof O>"u"&&m?"pointer":O}renderOptionalTextMaybe(){const{optional:O}=this.props,m=o.t("(optional)");return O?t.a.createElement("span",{className:"c-label__optional_tag","data-qa-label-optional-tag":!0},m):null}renderSubtextMaybe(){const{subtext:O}=this.props;return O?t.a.createElement("span",{className:"c-label__subtext","data-qa-label-subtext":!0},O):null}render(){const{className:O,cursor:m,htmlFor:g,optional:E,subtext:p,text:h,type:_,isDisabled:b,dataQaLabel:I,...C}=this.props,y=Object(a.default)("c-label",O,{"c-label--block":_===i.block,"c-label--inline":_===i.inline,"c-label--with_subtext":p,"c-label--pointer":this.getCursor()==="pointer","c-label--disabled":b,"c-label--with_formatted_text":typeof h!="string"});return t.a.createElement("label",c({},C,{htmlFor:g,className:y,"data-qa-label":I,"data-qa-label-type":_}),t.a.createElement("span",{className:"c-label__text","data-qa-label-text":!0},h,this.renderOptionalTextMaybe(),this.renderSubtextMaybe()),t.a.createElement("span",{className:"c-label__children","data-qa-label-children":!0},this.props.children))}},"Label");u.displayName="Label",u.defaultProps={children:null,className:null,cursor:void 0,htmlFor:null,optional:!1,subtext:null,type:"block",isDisabled:!1,dataQaLabel:"true"};var f=n.b=u},"3bXy":function(K,n,e){"use strict";e.d(n,"b",function(){return s}),e.d(n,"a",function(){return t});const s={Small:"small",Medium:"medium",Large:"large",Jumbo:"jumbo",Spotlight:"spotlight"},t={Unknown:"unknown",Nonexistent:"non-existent"}},"3cIe":function(K,n,e){K.exports=e.p+"slackbot_sad_surprise_192-3c6a8ea.png"},"3i7m":function(K,n,e){K.exports=e.p+"slackbot_frowny_32-8a50a23.png"},"3l96":function(K,n,e){"use strict";e.d(n,"a",function(){return h});var s=e("q1tI"),t=e.n(s),a=e("HI9p"),r=e("Z0Cl"),c=e("azFB"),o=e("s4P+"),i=e("gPPH"),l=e("SQ0V"),u=e("PIf0"),f=e("weKX");const d={isFromQuipModal:!1},O=Object(f.c)("Modal",d);var m=e("O86Y"),g=e("Dp5f"),E=e("hwUI"),p=e("ZhKk");const h=Object(l.c)("Open a modal",(_,b,I,C)=>{let{element:y,name:P,isStackable:T=!1,shouldAlwaysOpenInMainWindow:S=!1,forceTargetWindowId:A}=I;if(!t.a.isValidElement(y)){Object(o.a)({getState:b}).warn("openModal: element is invalid");return}const R=b(),x=Object(m.g)(R)||Object(m.d)(R);let M=x;if(!S){const Y=C(u.a);if((Y==null?void 0:Y.window)!==c.a&&(Y!=null&&Y.windowId)){const z=Y.windowId;M=`${x}-${z}`,Object(o.a)({getState:b}).info("OPEN-MODAL",`Opening modal for child window with ID ${M}`)}A&&(M=`${x}-${A}`,Object(o.a)({getState:b}).info("OPEN-MODAL",`Force opening modal for child window with ID ${M}`))}const j=p.b[M]?p.b[M].length:0,W=`modal-${Object(i.a)()}`;let U=t.a.cloneElement(y,{key:W});const B=C(O);return(T||B.isFromQuipModal)&&j>0?p.b[M]=[...p.b[M],{element:U,name:P}]:p.b[M]=[{element:U,name:P}],_(Object(E.a)()),Object(g.b)(),{render:Y=>{const z=[...p.b[M]],F=Object(a.a)(z,{element:U});F!==-1&&(U=t.a.cloneElement(U,Y),z[F]={element:U,name:P},p.b[M]=z,_(Object(E.a)()))},close:()=>{p.b[M]=Object(r.a)(p.b[M],Y=>Y.element!==U),_(Object(E.a)())}}});h.meta={name:"createThunk",key:"createThunkopenModal",description:"Open a modal"}},"3mGd":function(K,n,e){"use strict";e.d(n,"a",function(){return a});var s=e("ZKjC"),t=e("kZhr");const a=Object(s.b)(function(r){let c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:t.a;var o,i;return r==null||(o=r.searchHistory)===null||o===void 0||(i=o[c])===null||i===void 0?void 0:i.lastExecutedEncodedSearchString});a.meta={name:"createSelector",key:"createSelectorgetLastExecutedEncodedSearchString",description:function(r){let c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:t.a;var o,i;return r==null||(o=r.searchHistory)===null||o===void 0||(i=o[c])===null||i===void 0?void 0:i.lastExecutedEncodedSearchString}}},"3mLu":function(K,n,e){"use strict";e.d(n,"a",function(){return t});var s=e("7nxQ");function t(a){const r=Object(s.i)().toLowerCase();return r==="en-us"?a:`/intl/${r}${a}`}v(t,"getLocalizedPath")},"3mmX":function(K,n,e){"use strict";var s=e("fp5s"),t=e("SQ0V"),a=e("uwEJ"),r=e("59uo"),c=e("1o0K"),o=e("RV0M"),i=e("QKJg"),l=e("2VFn"),u=e("2XL1");const f=Object(t.c)("jumps to a timestamp in the message pane",(d,O,m,g)=>{let{ts:E,offset:p,highlight:h,highlightLazy:_,tileKey:b}=m;const{view:I,container:C,activeTab:y,windowId:P,shouldUseNavigate:T}=g(o.a);if(T&&I){const S=h?E:Object(s.a)();P===l.c?d(Object(i.g)({windowId:l.c,tab:y,container:C,params:{startTs:E,startTsOffset:p,highlightTs:S,highlightLazy:_,scrollmark:null}})):d(Object(i.g)({windowId:P,container:C,params:{startTs:E,startTsOffset:p,highlightTs:S,highlightLazy:_,scrollmark:null}}));return}if(Object(r.b)(O())){const S=h?E:Object(s.a)(),A={startTs:E,startTsOffset:p,highlightTs:S,highlightLazy:_,scrollmark:null};d(b?Object(a.a)({key:b,params:A}):Object(c.a)(A));return}d(Object(u.d)({ts:E,offset:p,highlight:h,highlightLazy:_}))});f.meta={name:"createThunk",key:"createThunkjumpToTimestamp",description:"jumps to a timestamp in the message pane"},n.a=f},"3qtv":function(K,n,e){"use strict";e.d(n,"a",function(){return h}),e.d(n,"c",function(){return _}),e.d(n,"d",function(){return b}),e.d(n,"e",function(){return I}),e.d(n,"b",function(){return C});var s=e("9oTK"),t=e.n(s),a=e("Lgge"),r=e("SQ0V"),c=e("4hjS"),o=e("25cE"),i=e("i9jZ"),l=e("RV0M"),u=e("2VFn"),f=e("cU/a"),d=e("S36j"),O=e("gpLM"),m=e("UAMj"),g=e("rZ8V"),E=e("uiBO");const p=Object(r.c)("Opens a given flexpane view or focuses if already open",(y,P,T,S)=>{let{routeName:A,view:R}=T;var x;const M=P(),{shouldUseNavigate:j,getSiblingView:W}=S(l.a),U=j?(x=W(M,{container:u.h.Secondary}))===null||x===void 0?void 0:x.id:Object(c.l)(M);return!U||!R.includes(U)?y(Object(f.a)({routeName:A,flexName:R[0]})):(Object(c.n)(M)||(y(Object(d.e)(!0)),y(Object(O.a)({id:U,container:u.h.Secondary}))),a.a.resolve())});p.meta={name:"createThunk",key:"createThunkshowOrFocusFlexpane",description:"Opens a given flexpane view or focuses if already open"};const h=Object(r.c)("Opens or focuses the Activity flexpane",function(){var y=Object(s.coroutine)(function*(P){return P(p({routeName:o.c,view:["activity"]}))});return function(P){return y.apply(this,arguments)}}());h.meta={name:"createThunk",key:"createThunkshowOrFocusActivityFlexPane",description:"Opens or focuses the Activity flexpane"};const _=Object(r.c)("Opens or focuses the Notifications flexpane",function(){var y=Object(s.coroutine)(function*(P){return P(p({routeName:o.m,view:["notifications"]}))});return function(P){return y.apply(this,arguments)}}());_.meta={name:"createThunk",key:"createThunkshowOrFocusNotificationsFlexPane",description:"Opens or focuses the Notifications flexpane"};const b=Object(r.c)("Opens or focuses the Reactions flexpane",function(){var y=Object(s.coroutine)(function*(P){return P(p({routeName:o.r,view:["reactions"]}))});return function(P){return y.apply(this,arguments)}}());b.meta={name:"createThunk",key:"createThunkshowOrFocusReactionsFlexPane",description:"Opens or focuses the Reactions flexpane"};const I=Object(r.c)("Opens or focuses the list of Starred Items",function(){var y=Object(s.coroutine)(function*(P){return P(p({routeName:o.t,view:["saved","starred_items"]}))});return function(P){return y.apply(this,arguments)}}());I.meta={name:"createThunk",key:"createThunkshowOrFocusStarredItemsList",description:"Opens or focuses the list of Starred Items"};const C=Object(r.c)("Opens or focuses the Feedback flexpane",(y,P)=>{const T=P();return Object(i.e)()||Object(g.g)(T)?y(Object(m.a)({id:"feedback",viewType:E.a.Feedback})):y(p({routeName:o.g,view:["feedback"]}))});C.meta={name:"createThunk",key:"createThunkshowOrFocusFeedbackFlexpane",description:"Opens or focuses the Feedback flexpane"}},"3vtZ":function(K,n,e){"use strict";e.d(n,"a",function(){return se}),e.d(n,"b",function(){return re}),e.d(n,"M",function(){return w}),e.d(n,"f",function(){return ce}),e.d(n,"x",function(){return ie}),e.d(n,"G",function(){return oe}),e.d(n,"e",function(){return ue}),e.d(n,"d",function(){return _e}),e.d(n,"g",function(){return De}),e.d(n,"Z",function(){return Ue}),e.d(n,"n",function(){return ae}),e.d(n,"o",function(){return ne}),e.d(n,"I",function(){return Ie}),e.d(n,"D",function(){return Te}),e.d(n,"K",function(){return Me}),e.d(n,"H",function(){return Ne}),e.d(n,"J",function(){return He}),e.d(n,"S",function(){return Et}),e.d(n,"v",function(){return Je}),e.d(n,"c",function(){return qe}),e.d(n,"A",function(){return ke}),e.d(n,"z",function(){return rt}),e.d(n,"ab",function(){return pe}),e.d(n,"u",function(){return je}),e.d(n,"m",function(){return xe}),e.d(n,"Y",function(){return ze}),e.d(n,"N",function(){return st}),e.d(n,"O",function(){return ct}),e.d(n,"p",function(){return dt}),e.d(n,"q",function(){return Bt}),e.d(n,"r",function(){return Ht}),e.d(n,"s",function(){return Wt}),e.d(n,"C",function(){return yt}),e.d(n,"U",function(){return Xt}),e.d(n,"bb",function(){return cn}),e.d(n,"t",function(){return mn}),e.d(n,"y",function(){return In}),e.d(n,"V",function(){return pt}),e.d(n,"T",function(){return Tt}),e.d(n,"E",function(){return Lt}),e.d(n,"F",function(){return gt}),e.d(n,"w",function(){return it}),e.d(n,"P",function(){return Ke}),e.d(n,"Q",function(){return Ve}),e.d(n,"k",function(){return we}),e.d(n,"j",function(){return mt}),e.d(n,"i",function(){return Pt}),e.d(n,"l",function(){return Nt}),e.d(n,"L",function(){return Ze}),e.d(n,"h",function(){return Xe}),e.d(n,"B",function(){return Ct}),e.d(n,"W",function(){return G}),e.d(n,"X",function(){return de}),e.d(n,"R",function(){return Le});var s=e("fujP"),t=e("3Hq1"),a=e("lCmp"),r=e("Z0Cl"),c=e("NFsq"),o=e("9068"),i=e("9Gfp"),l=e("C3vN"),u=e("V+O/"),f=e("E3dU"),d=e("4tnk"),O=e("RVJP"),m=e("LvvF"),g=e("ZOzc"),E=e("JoR1"),p=e("9MPI"),h=e("LZPg"),_=e("GNR7"),b=e("SIMs"),I=e("0dq7"),C=e("ISSR"),y=e("vfvl"),P=e("/JQq"),T=e("Yauy"),S=e("gVOt"),A=e("E97Y"),R=e("mzZe"),x=e("lhZz"),M=e("sgFo"),j=e("7ibc"),W=e("vYXD"),U=e("xwCZ"),B=e("dlm8"),Y=e("GlHf"),z=e("Cudo"),F=e("QIbu"),V=e("RBHu"),L=e("RpF1"),Q=e("kBpe"),ee=e("nNoG"),te=e("Enx8"),le=e("+CZ0"),Oe=e("3REw"),he=e("K7jq"),Ee=e("RcBX"),ge=e("ajVY"),J=e("UIWO"),H=e("SZMM"),Z=e("r6c4"),q=e("wNji"),k=e("qMw6"),se;(function(Re){Re.EXTERNALLY_SHARED_CHANNEL="externally_shared_channel",Re.ADMIN_DISABLED="admin_disabled",Re.UNSUPPORTED_BROWSER="unsupported_browser"})(se||(se={}));var re;(function(Re){Re[Re.BROWSER=1]="BROWSER",Re[Re.MAC=2]="MAC",Re[Re.WINDOWS=3]="WINDOWS"})(re||(re={}));const X=new ee.b("huddles"),w=Object(q.a)(Re=>(Object(J.a)(Re)?Ye(Re,"allow_huddles"):Object(g.a)(Re,"allow_huddles"))||!1);function ce(Re,Fe){if(!Fe)return[!1,void 0];if(!Object(j.mc)(Re)&&Object(T.X)(Fe))return[!1,void 0];const tt=w(Re),ut=tt||Object(Z.a)(Re,Fe.id);if(!tt&&!Object(Z.a)(Re,Fe.id))return[!1,se.ADMIN_DISABLED];if(!Object(o.a)(Fe)||Object(P.a)(Re,Fe)||Object(T.ab)(Re,Fe.id)||!Object(R.b)(Re,Fe.id)||Object(T.lb)(Fe)||Object(C.a)(Fe)||Object(y.a)(Fe)||Object(Ee.a)(Fe)||Object(T.cb)(Re,Fe)||!ut)return[!1,void 0];if(Object(W.c)())return[!1,se.UNSUPPORTED_BROWSER];const St=Object(O.d)(Re,"huddles_channel_properties")==="on";let tn=!1;if(St){var Yt;tn=!!(!(Fe==null||(Yt=Fe.properties)===null||Yt===void 0)&&Yt.huddles_restricted)}else{const $t=Object(p.a)(Re,Fe.id,"can_huddle");tn=$t&&($t==null?void 0:$t.enabled)===!1}const un=ft(Re,Fe.id);return tn?[!1,se.ADMIN_DISABLED]:un===!1?[!1,se.ADMIN_DISABLED]:[!0,void 0]}v(ce,"doesChannelSupportHuddlesWithReason");const ie=v(()=>{const Re=Object(x.getClientStoreInstance)();if(!Re)return!1;const Fe=Re.getState(),tt=Object(le.c)(Fe);return!Object(s.a)(tt)},"hasActiveHuddleReferenceInClientStore"),oe=v(Re=>{const Fe=w(Re),tt=ie();return Fe||tt},"isHuddleEnabledOrHasActiveHuddle");function me(Re,Fe){var tt;const ut=(tt=Object(U.g)(Re,Fe))!==null&&tt!==void 0?tt:void 0;return!Object(l.cb)(ut)&&!Object(u.b)(ut)&&!Object(he.a)(ut)}v(me,"canUserBeInvitedToHuddle");function ue(Re,Fe){return ce(Re,Fe)[0]}v(ue,"doesChannelSupportHuddles");function _e(Re,Fe){return w(Re)?Object(_.e)(Re,Fe)>0:!1}v(_e,"doesChannelHaveHuddle");function be(Re,Fe){const tt=Object(T.u)(Re,Fe,{publicChannelIncludeHashSign:!1,imIncludeAtSign:!1});let ut=[],St="";if(Object(A.i)(Fe))ut=Object(T.J)(Re,Fe)||[],St="Waiting for others...";else if(Object(A.g)(Fe)){const un=Object(S.a)(Fe);un&&ut.push(un),St=`Waiting for ${tt}`}else return tt;const tn=Object(_.h)(Re)||[];if(tn.length===0)return St;const Yt=tn.map(un=>un.userId);return ut.filter(un=>Yt.includes(un)).map(un=>Object(te.a)(Re,un)).join(", ")}v(be,"getDisplayNameActiveParticipants");const Ae=new Set([z.a.SpeakingWhenMuted,z.a.UpdateSlack,z.a.RemotePeerMuted,z.a.RemotePeerSlowConnection,z.a.ScreenShareFreeTeam,z.a.NoGroupCallsForFreeTeam,z.a.PeerMuteRequest]),Ce=new Set([z.a.SpeakingWhenMuted,z.a.UpdateSlack,z.a.RemotePeerMuted,z.a.RemotePeerSlowConnection,z.a.ScreenShareFreeTeam,z.a.NoGroupCallsForFreeTeam]);function De(Re){return Object(z.g)(Re).find(tt=>!Ae.has(tt.type))}v(De,"getAlertForHuddlesBanner");function Pe(Re){return oe(Re)&&!!De(Re)}v(Pe,"shouldShowHuddlesBanner");function Ue(Re){const Fe=Object(x.getStateForClientStore)();return Pe(Re)&&!Object(le.l)(Fe)}v(Ue,"shouldShowHuddlesBannerInWorkspace");function ae(Re,Fe,tt){const ut=Object(_.e)(Re,Fe),St=Object(f.c)(Re,Fe),tn=Object(A.d)(St)||void 0,Yt=Object(x.getStateForClientStore)(),{callId:un}=Object(le.p)(Yt)||{};return{channel_id:Fe,channel_type:tn,num_participants:ut,is_recommended:tt,room_id:un}}v(ae,"getHuddlesClogContext");function ne(Re,Fe){return{...ae(Re,Fe),window_focused:Object(Y.k)(Re),window_visible:Object(d.k)(Re)}}v(ne,"getHuddlesClogContextForBackgroundActions");function Ie(Re){return[I.a.STARTING,I.a.PENDING,I.a.COMPLETING_PRE_JOIN].includes(Re)}v(Ie,"isHuddleLoadingState");function Te(Re){return Ie(Re)||Re===I.a.STARTED}v(Te,"isHuddleActiveState");function Me(Re){return Ie(Re)||Re===I.a.ENDING}v(Me,"isHuddleTransitionState");function Ne(Re){return[I.a.NOT_STARTED,I.a.SURVEY,I.a.SURVEY_GOOD].includes(Re)}v(Ne,"isHuddleEndState");function He(Re){return[I.a.SURVEY,I.a.SURVEY_GOOD].includes(Re)}v(He,"isHuddleSurveyState");function Et(Re,Fe){const tt=Object(i.a)(Re);return!!Object(_.g)(Re,Fe).find(ut=>{let{id:St}=ut;return St===tt})}v(Et,"isUserHuddlingInChannel");function Je(Re){var Fe;const tt=Re==null||(Fe=Re.meeting)===null||Fe===void 0?void 0:Fe.ExternalMeetingId;var ut;return(ut=tt==null?void 0:tt.split("-")[1])!==null&&ut!==void 0?ut:null}v(Je,"getRoomIdFromCredentials");function qe(Re,Fe,tt){if(!Fe)return!1;const ut=Object(T.T)(Object(f.l)(Re,Fe.id));return!(!w(Re)||!Object(o.a)(Fe)||Object(l.vb)(Fe)&&!tt||!Object(l.W)(Fe)||ut)}v(qe,"canHuddleWithMember");function ke(Re){return Re===I.d.IN_PROGRESS_ALONE_NOTICE_ACTIVE||Re===I.d.INITIAL_ALONE_NOTICE_ACTIVE}v(ke,"isAloneInHuddleCoachmarkOpen");function rt(Re){return Re===I.d.INITIAL_ALONE_NOTICE_DISMISSED||Re===I.d.IN_PROGRESS_ALONE_NOTICE_DISMISSED}v(rt,"isAloneInHuddleCoachmarkDismissed");function pe(Re,Fe,tt){var ut,St;if(Object(_.e)(Re,Fe)>0||((ut=Object(le.f)(Object(x.getStateForClientStore)()))===null||ut===void 0?void 0:ut.channelId)===Fe)return!1;const tn=Object(f.c)(Re,Fe);if(!tn||!Object(o.a)(tn))return!1;if(tt)return!0;if(!tn||Object(A.h)(tn))return!1;const Yt=Object(B.d)(Re,Fe),un=Object(E.u)(Re,"huddles_show_shouty_rooster"),$t=Yt==null||(St=Yt.counts)===null||St===void 0?void 0:St.member_count;return!(!$t||$t<=V.p||un===!1)}v(pe,"shouldShowHuddlesShoutyRoosterWarning");function je(Re){switch(Object(O.d)(Re,"calls_max_participants")){case"number15":return 15;case"number25":return 25;case"number50":return 50;case"number100":return 100;default:return 15}}v(je,"getParticipantLimit");function xe(){return Object(Q.p)()?Object(Q.i)()?X.t("Command + Shift + H"):X.t("Command + Shift + Option + H"):Object(Q.i)()?X.t("Ctrl + Shift + H",{fallbackHash:"dd419ad8c41aa45554059b0e4a54e75fe21b1e1b"}):X.t("Ctrl + Shift + Alt + H",{fallbackHash:"6975e2b6527423e4f9f6019c7433b21d3222caf3"})}v(xe,"getHuddleToggleKeyboardShortcutString");const ze=v((Re,Fe,tt)=>{const ut=w(Re)&&Object(M.k)(Re);if(Fe)return ut&&qe(Re,Fe);if(tt){const St=Object(f.c)(Re,tt),tn=St&&ue(Re,St);return ut&&tn}return ut},"shouldShowCallMenuHuddleDiscoveryLink"),st=v((Re,Fe)=>Object(t.a)(Fe)?Object(g.a)(Re,"allow_huddles_transcriptions")||!1:Object(J.a)(Re)?Be(Re,"allow_huddles_transcriptions",Fe):Object(g.a)(Re,"allow_huddles_transcriptions")||!1,"isHuddlesTranscriptionsEnabledForChannel"),ct=v(Re=>Object(J.a)(Re)?Ye(Re,"allow_huddles_transcriptions"):Object(g.a)(Re,"allow_huddles_transcriptions")||!1,"isHuddlesTranscriptionsEnabledForOrgWorkspaces"),dt=v((Re,Fe)=>{const tt=Object(i.a)(Re);return Object(U.g)(Re,Object(h.Y)(Fe)?tt:Fe.userId)},"getMemberFromPeer"),bt=v((Re,Fe)=>{const tt=Object(m.b)(Re,Fe==null?void 0:Fe.id),ut=Object(O.d)(Re,"hide_user_v1")==="on";return tt&&ut?X.t("Name hidden"):Object(l.C)(Fe)||Object(l.v)(Fe)},"getMemberName"),Ft=v((Re,Fe)=>{const tt=Object(i.a)(Re);if(Object(h.Z)({id:Fe}))return Object(U.g)(Re,tt);const ut=Object(_.B)(Re,Fe);if(ut)return dt(Re,ut)},"getMemberFromPeerId"),Bt=v((Re,Fe)=>{const tt=dt(Re,Fe);return bt(Re,tt)},"getMemberNameFromPeer"),at=v((Re,Fe)=>{if(!Fe)return;const tt=Ft(Re,Fe);return bt(Re,tt)},"getMemberNameFromPeerId"),Ht=v((Re,Fe)=>{const tt=Object(U.g)(Re,Fe);return bt(Re,tt)},"getMemberNameFromUserId"),Wt=v((Re,Fe)=>{const tt=Object(U.g)(Re,Fe);return Object(l.B)(tt)},"getMemberPronounsFromUserId"),yt=v(Re=>{let{state:Fe,roomId:tt}=Re;const ut=Object(_.r)(Fe,tt);return!ut||ut.hasEnded?!1:ut.allParticipants.length===0?!0:!(ut.allParticipants.length>0&&ut.activeParticipants.length===0)},"isHuddleActive"),Xt=v(Re=>{let{state:Fe,roomId:tt,userId:ut}=Re;if(!tt||!ut||!yt({state:Fe,roomId:tt}))return!1;const St=Object(_.r)(Fe,tt);return St?Object(a.a)(St.activeParticipants,tn=>Object(Oe.g)(tn)&&tn.slackId===ut):!1},"isUserInActiveHuddle"),cn=v(Re=>{let{state:Fe,roomId:tt,userId:ut}=Re;if(!tt||!ut||yt({state:Fe,roomId:tt}))return!1;const St=Object(_.r)(Fe,tt);return St?Object(a.a)(St.allParticipants,tn=>Object(Oe.g)(tn)&&tn.slackId===ut):!1},"wasUserInEndedHuddle"),mn=v(Re=>{let{participantsIds:Fe,userIdsToExclude:tt}=Re;return!Fe||!Fe.length?[]:Object(r.a)(Fe,ut=>!Object(c.a)(tt,ut))},"getParticipantIdsFiltered"),In=v(Re=>{let{state:Fe,channel:tt,roomId:ut}=Re;if(!tt||!ut||!Object(A.g)(tt))return!1;const St=Object(S.a)(tt),tn=Object(_.r)(Fe,ut);return tn?!Xt({state:Fe,roomId:ut,userId:St})&&Object(a.a)(tn.allParticipants,Yt=>Object(Oe.g)(Yt)&&Yt.slackId===St):!1},"hasImUserJoinedAndLeft"),pt=v((Re,Fe)=>{if(!Fe)return!1;const tt=Object(f.c)(Re,Fe);if(!tt)return!1;const ut=ue(Re,tt);return!!tt&&!Object(T.pb)(tt)&&!Object(P.a)(Re,tt)&&!!ut},"isValidChannelForHuddleNux"),Tt=v((Re,Fe)=>{let{channelId:tt}=Fe;if(!tt)return!1;const ut=Object(x.getStateForClientStore)(),tn=Object(le.b)(ut)===tt;return Et(Re,tt)&&!tn},"isUserHuddlingOnAnotherDevice"),Lt=v(Re=>{let{isDM:Fe,escImOrMpimMemberIds:tt,huddlesDisabledUserIds:ut}=Re;return Fe&&tt&&ut&&ut.length===1&&ut[0]===tt[0]},"isHuddleDisabledForDM"),gt=v(Re=>{let{isMPDM:Fe,escImOrMpimMemberIds:tt,huddlesDisabledUserIds:ut}=Re;return Fe&&tt&&ut&&ut.length===tt.length-1},"isHuddleDisabledForMPDM"),it=v(()=>Object(H.d)()?Object(Q.p)()?re.MAC:re.WINDOWS:re.BROWSER,"getTitlebarVariant");function ft(Re,Fe){return Be(Re,"allow_huddles",Fe)}v(ft,"getIsHuddlesAllowedTeamPrefForChannel");function Ke(Re,Fe){return Object(t.a)(Fe)?Object(g.a)(Re,"allow_huddles_video")||!1:Object(J.a)(Re)?Be(Re,"allow_huddles_video",Fe):Object(g.a)(Re,"allow_huddles_video")||!1}v(Ke,"isHuddlesVideoEnabledForChannel");function Ve(Re){return Object(J.a)(Re)?Ye(Re,"allow_huddles_video"):Object(g.a)(Re,"allow_huddles_video")||!1}v(Ve,"isHuddlesVideoEnabledForOrgWorkspaces");function Be(Re,Fe,tt){if(Object(J.a)(Re)){const ut=Object(f.c)(Re,tt);return Object(A.j)(ut)?Object(ge.d)(Re,Fe):Object(ge.b)(Re,Fe,tt)}return Object(g.a)(Re,Fe)||!1}v(Be,"getIsHuddlesOrgAllowedPrefEnabledForChannel");function Ye(Re,Fe){return Object(ge.d)(Re,Fe)}v(Ye,"isCurrentUserWhoCanDoTeamPrefOnSelfWorkspaces");function we(Re,Fe){let{huddleId:tt}=Fe;var ut;const St=Object(b.P)(Re,{huddleId:tt});return{canvas_thread_channel_id:St==null?void 0:St.channelId,canvas_thread_id:St==null||(ut=St.ts)===null||ut===void 0?void 0:ut.replace(".","")}}v(we,"getHuddleClogContext");function mt(Re){return{canvas_huddle_session_id:Object(le.d)(Re)}}v(mt,"getHuddleClogClientContext");function Pt(Re){const Fe=Object(le.a)(Re),tt=Object(le.b)(Re);return{room_id:Fe,channel_id:tt}}v(Pt,"getHuddleClogCallsContext");function Nt(Re){return!Re||Re.closed?null:Re.innerWidth<=L.g?F.b.WINDOW_COMPACT:F.b.WINDOW_FULL}v(Nt,"getHuddleSurfaceFromWindowSize");function Ze(Re){const tt=Re.screen.availTop,ut=isNaN(tt)?!0:Math.abs(tt-Re.screenTop)<=20,St=Re.screen.availLeft,tn=isNaN(St)?!0:Math.abs(St-Re.screenLeft)<=20,Yt=Math.abs(Re.screen.availHeight-Re.outerHeight)<=20,un=Math.abs(Re.screen.availWidth-Re.outerWidth)<=20;return ut&&tn&&(Yt&&un)}v(Ze,"isHuddleWindowMaximized");function Xe(Re){let{self:Fe,peers:tt}=Re;const St=tt.filter(Yt=>Yt.isCameraEnabled).length||Fe.isCameraEnabled&&!Fe.isHidingSelf,tn=tt.length+(Fe.isHidingSelf?0:1);if(St){if(tn>=5)return L.c;if(tn===4)return L.d;if(tn===3)return L.b}return L.a}v(Xe,"getCompactWindowDefaultHeight");const Ct=v(Re=>Object(H.e)()?!!Re.document.fullscreenEnabled:!1,"isFullscreenEnabled"),G=v(Re=>!!Re.document.fullscreenElement,"isWindowFullscreen"),de=v((Re,Fe)=>Fe?Re.document.body.requestFullscreen():Re.document.exitFullscreen(),"setFullscreen");function Le(Re){let{message:Fe,parentMessage:tt,viewContext:ut}=Re;return!!(tt&&tt.room_id&&(!ut||k.a.MESSAGE_PANE===ut)&&(Fe==null?void 0:Fe.ts)!==(Fe==null?void 0:Fe.thread_ts))}v(Le,"isMessageHuddleRecapMessage")},"4+kD":function(K,n,e){K.exports=e.p+"slack_logo-ebd02d1.svg"},"4CqU":function(K,n,e){"use strict";e.d(n,"a",function(){return g});var s=e("Lgge"),t=e("n3tL"),a=e("S1sa"),r=e("4TP3"),c=e("SQ0V"),o=e("E97Y"),i=e("gVOt"),l=e("lhZz"),u=e("9Gfp"),f=e("O86Y"),d=e("E3dU"),O=e("y6S6"),m=e("yQzy");const g=Object(c.c)("Gets the channel membership for a set of users and returns a promise when the store is updated accordingly",function(E,p){let{channelId:h,userIds:_}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const b=p(),[I,C]=Object(a.a)(_,T=>Object(O.d)(b,h,T)),y=Object(d.c)(b,h);if(Object(o.g)(y)){const T=Object(i.a)(y),S=Object(u.a)(b);Object(r.a)(C,T,S),_!=null&&_.includes(T)&&I.push(T),_!=null&&_.includes(S)&&I.push(S)}const P={};return I.forEach(T=>{P[T]=Object(O.b)(b,h,T)}),C.length?Object(l.dispatchForTeamId)(Object(f.g)(b),Object(m.a)({channelId:h,userIds:C})).then(T=>T&&T.payload&&T.payload.membershipInfo?{membershipInfo:{...T.payload.membershipInfo,...P}}:{membershipInfo:P}):s.a.resolve({membershipInfo:P})});g.meta={name:"createThunk",key:"createThunkgetChannelMembershipInfoForUsers",description:"Gets the channel membership for a set of users and returns a promise when the store is updated accordingly"},g.propTypes={channelId:t.default.string.isRequired,userIds:t.default.array.isRequired}},"4Fy9":function(K,n,e){K.exports=e.p+"slackbot_frowny_24-2246c7b.png"},"4GGS":function(K,n,e){"use strict";var s=e("vJtL"),t=e("s4P+"),a=e("ykb+"),r=e("mXhK"),c=e("Z7Ay");let o=[];const i=Object(t.b)(),l=Object(r.b)("Allows devs to get console logging or trigger breakpoints when state they care about changes",(d,O,m)=>{const g=[],E=d.getState();o.forEach(_=>{g.push(_(E,m))});const p=O(m),h=d.getState();return o.forEach((_,b)=>{const I=_(h,m);if(g[b]!==I){const C=["Redux Watcher:",`Value has changed! 
Action: `,m,`
Before: `,g[b],`
After:  `,I];if(g[b]!==void 0&&I!==void 0){const y=g[b]===void 0?{}:g[b],P=I===void 0?{}:I;C.push(`
Diff: `,Object.keys({...y,...P}).filter(T=>y[T]!==P[T]).map(T=>({key:T,before:y[T],after:P[T]})))}if(i.warn(...C),Object(a.b)()||Object(a.c)())debugger}}),p});l.meta={name:"createMiddleware",key:"createMiddlewarereduxWatcherMiddleware",description:"Allows devs to get console logging or trigger breakpoints when state they care about changes"},n.a=l;function u(d){if(!Object(s.a)(d)){i.error("watcherFn passed in to addWatcher must be a function");return}o.push(d)}v(u,"addWatcher");function f(){o=[]}v(f,"clearAllWatchers"),Object(c.a)("reduxWatcher",{addWatcher:u,clearAllWatchers:f})},"4HNC":function(K,n,e){"use strict";var s=e("q1tI"),t=e.n(s),a=e("iuhU"),r=e("BJra"),c=e("sGXp");function o(){return o=Object.assign||function(u){for(var f=1;f<arguments.length;f++){var d=arguments[f];for(var O in d)Object.prototype.hasOwnProperty.call(d,O)&&(u[O]=d[O])}return u},o.apply(this,arguments)}v(o,"_extends");let i=v(class extends s.Component{render(){const{className:f,ariaLabel:d,primaryContent:O,secondaryContent:m,size:g=c.c.medium,style:E=c.d.normal,padding:p=c.b.normal}=this.props;return t.a.createElement("div",o({className:Object(a.default)(f,"c-base_list_entity",`c-base_list_entity--${g}`,{"c-base_list_entity--dim":E===c.d.dim,"c-base_list_entity--highlight-dark":E===c.d.highlightDark,"c-base_list_entity--highlight-dim":E===c.d.highlightDim,"c-base_list_entity--highlight-light":E===c.d.highlightLight,"c-base_list_entity--no-pad":p===c.b.none})},Object(r.a)(this.props),{"aria-label":d}),t.a.createElement("div",{className:"c-base_list_entity__primary_content"},O),m&&t.a.createElement("div",{className:"c-base_list_entity__secondary_content"},m))}},"BaseListEntity");i.displayName="BaseListEntity";var l=n.a=i},"4J92":function(K,n,e){"use strict";e.d(n,"b",function(){return u});var s=e("9oTK"),t=e.n(s),a=e("vfQU"),r=e("kBpe");const c=4*60*60*1e3,o=60*1e3;let i=v(class{constructor(){this.initializedRefreshOnInterval=!1,this.previousRefreshTimestamp=0,this.isFirefox=Object(r.m)();var d=this;this.confirmMicrophonePermissionGranted=Object(s.coroutine)(function*(){return d.isFirefox?!1:(yield navigator.permissions.query({name:"microphone"})).state==="granted"});var O=this;this.getMicrophone=function(){var m=Object(s.coroutine)(function*(g){const E=yield O.confirmMicrophonePermissionGranted();if(g&&!E)return E;let p=yield navigator.mediaDevices.getUserMedia({audio:!0});return p.getTracks().forEach(h=>h.stop()),p=void 0,E});return function(g){return m.apply(this,arguments)}}(),this.refreshNetworkInterfaceIps=m=>{this.getMicrophone(m)},this.initRefreshOnInterval=()=>{this.initializedRefreshOnInterval||(this.isSafeToRefreshOnInterval&&this.registerVisibilityStateChangeHandler(),this.initializedRefreshOnInterval=!0)},this.onVisibilityStateChange=()=>{const m=Date.now();(!this.previousRefreshTimestamp||m-this.previousRefreshTimestamp>c&&document.visibilityState==="visible")&&(this.refreshNetworkInterfaceIps(!0),this.previousRefreshTimestamp=m)},this.registerVisibilityStateChangeHandler=()=>{setTimeout(()=>{this.onVisibilityStateChange(),document.addEventListener("visibilitychange",this.onVisibilityStateChange)},o)},this.isSafeToRefreshOnInterval=Object(r.i)()&&Object(r.p)()?!Object(a.cb)():!0}},"NetworkInterfaceManager");const l=new i,u=v(()=>{l.initRefreshOnInterval()},"initNetworkInterfaceManager");n.a=l.refreshNetworkInterfaceIps},"4MOp":function(K,n,e){"use strict";e.d(n,"a",function(){return a});var s=e("Xfqj");let t=null;function a(){if(t===null){var r,c;t=(document==null||(r=document.documentElement)===null||r===void 0||(c=r.dataset)===null||c===void 0?void 0:c.app)===s.a.APP_POPOUTS}return t}v(a,"isAppPopouts")},"4Vim":function(K,n,e){"use strict";e.d(n,"b",function(){return r}),e.d(n,"a",function(){return c}),e.d(n,"c",function(){return o});var s=e("ZKjC"),t=e("UOL+");const a=Object(s.b)(i=>{var l;return(l=Object(t.a)(i))===null||l===void 0?void 0:l.quipDocEmbeds});a.meta={name:"createSelector",key:"createSelectorgetQuipDocEmbedsStoreState",description:i=>{var l;return(l=Object(t.a)(i))===null||l===void 0?void 0:l.quipDocEmbeds}};const r=Object(s.b)(i=>{const l=a(i);return l&&Object.keys(l).length>0});r.meta={name:"createSelector",key:"createSelectorisSpaceOpen",description:i=>{const l=a(i);return l&&Object.keys(l).length>0}};const c=Object(s.b)(i=>{const l=a(i);return Object.keys(l)});c.meta={name:"createSelector",key:"createSelectorgetOpenSpaces",description:i=>{const l=a(i);return Object.keys(l)}};const o=Object(s.b)((i,l)=>{const u=a(i);var f;return((f=u[l])!==null&&f!==void 0?f:0)>0});o.meta={name:"createSelector",key:"createSelectorisSpaceOpenForThreadId",description:(i,l)=>{const u=a(i);var f;return((f=u[l])!==null&&f!==void 0?f:0)>0}}},"4YJR":function(K,n,e){"use strict";e.d(n,"s",function(){return t}),e.d(n,"v",function(){return a}),e.d(n,"V",function(){return r}),e.d(n,"C",function(){return c}),e.d(n,"k",function(){return o}),e.d(n,"J",function(){return i}),e.d(n,"a",function(){return l}),e.d(n,"W",function(){return u}),e.d(n,"Q",function(){return f}),e.d(n,"R",function(){return d}),e.d(n,"N",function(){return O}),e.d(n,"l",function(){return m}),e.d(n,"e",function(){return g}),e.d(n,"b",function(){return E}),e.d(n,"z",function(){return p}),e.d(n,"f",function(){return h}),e.d(n,"B",function(){return _}),e.d(n,"L",function(){return b}),e.d(n,"K",function(){return I}),e.d(n,"M",function(){return C}),e.d(n,"j",function(){return y}),e.d(n,"F",function(){return P}),e.d(n,"E",function(){return T}),e.d(n,"D",function(){return S}),e.d(n,"d",function(){return A}),e.d(n,"c",function(){return R}),e.d(n,"h",function(){return x}),e.d(n,"g",function(){return M}),e.d(n,"T",function(){return j}),e.d(n,"U",function(){return W}),e.d(n,"H",function(){return U}),e.d(n,"I",function(){return B}),e.d(n,"P",function(){return Y}),e.d(n,"S",function(){return z}),e.d(n,"p",function(){return F}),e.d(n,"n",function(){return V}),e.d(n,"w",function(){return L}),e.d(n,"u",function(){return Q}),e.d(n,"O",function(){return ee}),e.d(n,"r",function(){return te}),e.d(n,"G",function(){return le}),e.d(n,"y",function(){return Oe}),e.d(n,"t",function(){return he}),e.d(n,"q",function(){return Ee}),e.d(n,"m",function(){return ge}),e.d(n,"x",function(){return J}),e.d(n,"o",function(){return H}),e.d(n,"A",function(){return Z}),e.d(n,"i",function(){return q});var s=e("DwFS");const t=Object(s.a)("Sets the isAddingProgressiveDisclosureTipTimestamp status");t.meta={name:"createAction",key:"createActionsetIsAddingProgressiveDisclosureTipTimestamp",description:"Sets the isAddingProgressiveDisclosureTipTimestamp status"};const a=Object(s.a)("Sets the isSetupCoachmarkShowing status");a.meta={name:"createAction",key:"createActionsetIsSetupCoachmarkShowing",description:"Sets the isSetupCoachmarkShowing status"};const r=Object(s.a)("Updates the team name");r.meta={name:"createAction",key:"createActionsetTeamNameValue",description:"Updates the team name"};const c=Object(s.a)("Updates current user full name");c.meta={name:"createAction",key:"createActionsetProfileStepFullNameValue",description:"Updates current user full name"};const o=Object(s.a)("Sets current step of the team creation setup wizard");o.meta={name:"createAction",key:"createActionsetCurrentStep",description:"Sets current step of the team creation setup wizard"};const i=Object(s.a)("Sets the current setup creation flow (ex: default vs shared channel vs. tada from pricing or promo)");i.meta={name:"createAction",key:"createActionsetSetupCreationFlow",description:"Sets the current setup creation flow (ex: default vs shared channel vs. tada from pricing or promo)"};const l=Object(s.a)("Add channels as users selects them");l.meta={name:"createAction",key:"createActionaddChannel",description:"Add channels as users selects them"};const u=Object(s.a)("Update the name of a channel");u.meta={name:"createAction",key:"createActionupdateChannel",description:"Update the name of a channel"};const f=Object(s.a)("Set skipped invites");f.meta={name:"createAction",key:"createActionsetSkippedInvites",description:"Set skipped invites"};const d=Object(s.a)("Set skipped select people");d.meta={name:"createAction",key:"createActionsetSkippedPeople",description:"Set skipped select people"};const O=Object(s.a)("Set shared invite link");O.meta={name:"createAction",key:"createActionsetSharedInviteLink",description:"Set shared invite link"};const m=Object(s.a)("Set invite emails");m.meta={name:"createAction",key:"createActionsetEmails",description:"Set invite emails"};const g=Object(s.a)("Remove email");g.meta={name:"createAction",key:"createActionremoveEmail",description:"Remove email"};const E=Object(s.a)("Clear invite emails");E.meta={name:"createAction",key:"createActionclearEmails",description:"Clear invite emails"};const p=Object(s.a)("Set selected members");p.meta={name:"createAction",key:"createActionsetMembers",description:"Set selected members"};const h=Object(s.a)("Remove selected member");h.meta={name:"createAction",key:"createActionremoveMember",description:"Remove selected member"};const _=Object(s.a)("Set Joiner setup people step is loading");_.meta={name:"createAction",key:"createActionsetPeopleStepIsLoading",description:"Set Joiner setup people step is loading"};const b=Object(s.a)("Sets the shared-invite details");b.meta={name:"createAction",key:"createActionsetSharedInviteDetails",description:"Sets the shared-invite details"};const I=Object(s.a)("Sets the shared-invite acceptance result");I.meta={name:"createAction",key:"createActionsetSharedInviteAcceptanceResult",description:"Sets the shared-invite acceptance result"};const C=Object(s.a)("Sets the error result for fetching shared-invite info");C.meta={name:"createAction",key:"createActionsetSharedInviteInfoError",description:"Sets the error result for fetching shared-invite info"};const y=Object(s.a)("Set store state for progressive disclosure tips");y.meta={name:"createAction",key:"createActionsetCurrentProgressiveDisclosureTip",description:"Set store state for progressive disclosure tips"};const P=Object(s.a)("Save a timer for delayed progressive disclosure tip");P.meta={name:"createAction",key:"createActionsetProgressiveDisclosureTipTimer",description:"Save a timer for delayed progressive disclosure tip"};const T=Object(s.a)("Set progressive disclosure sent message counter");T.meta={name:"createAction",key:"createActionsetProgressiveDisclosureSentMessageCounter",description:"Set progressive disclosure sent message counter"};const S=Object(s.a)("Set progressive disclosure last message timestamp for Megaphone controlled tip");S.meta={name:"createAction",key:"createActionsetProgressiveDisclosureLastMessageTsForMegaphoneControlledTip",description:"Set progressive disclosure last message timestamp for Megaphone controlled tip"};const A=Object(s.a)("Check if progressive disclosure is currently enabled");A.meta={name:"createAction",key:"createActioninitProgressiveDisclosure",description:"Check if progressive disclosure is currently enabled"};const R=Object(s.a)("Disable progressive disclosure");R.meta={name:"createAction",key:"createActiondisableProgressiveDisclosure",description:"Disable progressive disclosure"};const x=Object(s.a)("Set requestId from the contacts request");x.meta={name:"createAction",key:"createActionsetContactsRequestId",description:"Set requestId from the contacts request"};const M=Object(s.a)("Set calendar contact import step");M.meta={name:"createAction",key:"createActionsetCalendarContactImportStep",description:"Set calendar contact import step"};const j=Object(s.a)("Set teammate invitation suggestions from calendar app");j.meta={name:"createAction",key:"createActionsetSuggestedContactsFromImport",description:"Set teammate invitation suggestions from calendar app"};const W=Object(s.a)("Set teammate invitation external suggestions from calendar app");W.meta={name:"createAction",key:"createActionsetSuggestedExternalContactsFromImport",description:"Set teammate invitation external suggestions from calendar app"};const U=Object(s.a)("Set selected teammates to invite from calendar app suggestions");U.meta={name:"createAction",key:"createActionsetSelectedContacts",description:"Set selected teammates to invite from calendar app suggestions"};const B=Object(s.a)("Set selected external teammates to invite from calendar app suggestions");B.meta={name:"createAction",key:"createActionsetSelectedExternalContacts",description:"Set selected external teammates to invite from calendar app suggestions"};const Y=Object(s.a)("Set sidebarTipHeight value");Y.meta={name:"createAction",key:"createActionsetSidebarTipHeight",description:"Set sidebarTipHeight value"};const z=Object(s.a)("Set slackConnectAsBold value");z.meta={name:"createAction",key:"createActionsetSlackConnectAsBold",description:"Set slackConnectAsBold value"};const F=Object(s.a)("Set hasSuccessfullyHuddled value");F.meta={name:"createAction",key:"createActionsetHasSuccessfullyHuddled",description:"Set hasSuccessfullyHuddled value"};const V=Object(s.a)("Set hasSeenHuddlesExplainer value");V.meta={name:"createAction",key:"createActionsetHasSeenHuddlesExplainer",description:"Set hasSeenHuddlesExplainer value"};const L=Object(s.a)("Set isSwitchOnExplainerVisible value");L.meta={name:"createAction",key:"createActionsetIsSwitchOnExplainerVisible",description:"Set isSwitchOnExplainerVisible value"};const Q=Object(s.a)("Set isOnboardingHuddlesTipVisible value");Q.meta={name:"createAction",key:"createActionsetIsOnboardingHuddlesTipVisible",description:"Set isOnboardingHuddlesTipVisible value"};const ee=Object(s.a)("Set showSecondHuddlesTip value");ee.meta={name:"createAction",key:"createActionsetShowSecondHuddlesTip",description:"Set showSecondHuddlesTip value"};const te=Object(s.a)("Set inviterUserId value");te.meta={name:"createAction",key:"createActionsetInviterUserId",description:"Set inviterUserId value"};const le=Object(s.a)("Set sidebar index of click on recommended dm for clogging send action");le.meta={name:"createAction",key:"createActionsetRecommendedDmSidebarIndex",description:"Set sidebar index of click on recommended dm for clogging send action"};const Oe=Object(s.a)("Set recommended channels for the joiner launchpad page");Oe.meta={name:"createAction",key:"createActionsetLaunchpadRecommendedChannels",description:"Set recommended channels for the joiner launchpad page"};const he=Object(s.a)("Set the value of isFocusedOnEmailInvitesInput");he.meta={name:"createAction",key:"createActionsetIsFocusedOnEmailInvitesInput",description:"Set the value of isFocusedOnEmailInvitesInput"};const Ee=Object(s.a)("Set the value of hasUploadedPhoto");Ee.meta={name:"createAction",key:"createActionsetHasUploadedPhoto",description:"Set the value of hasUploadedPhoto"};const ge=Object(s.a)("Update the array of users for which we know whether the current user has invited or not");ge.meta={name:"createAction",key:"createActionsetHasInvitedUser",description:"Update the array of users for which we know whether the current user has invited or not"};const J=Object(s.a)("Set when Welcome DM message suggestion tip is visible");J.meta={name:"createAction",key:"createActionsetIsWelcomeDmTipOpen",description:"Set when Welcome DM message suggestion tip is visible"};const H=Object(s.a)("Set when PD First message flag was shown");H.meta={name:"createAction",key:"createActionsetHasSeenPDFirstMessageFlag",description:"Set when PD First message flag was shown"};const Z=Object(s.a)("Set when PD First message success coachmark was dismissed");Z.meta={name:"createAction",key:"createActionsetPDFirstMessageSuccessClosed",description:"Set when PD First message success coachmark was dismissed"};const q=Object(s.a)("set the current IA4 NFX step");q.meta={name:"createAction",key:"createActionsetCurrentIA4NFXStep",description:"set the current IA4 NFX step"}},"4ZsU":function(K,n,e){K.exports=e.p+"ava_0022-72-5a52d67.png"},"4cJY":function(K,n,e){"use strict";e.d(n,"a",function(){return M}),e.d(n,"b",function(){return Y});var s=e("7EGn"),t=e("q1tI"),a=e.n(t),r=e("/MKj"),c=e("nNoG"),o=e("zxER"),i=e("E/AO"),l=e("B4ch"),u=e("E97Y"),f=e("E3dU"),d=e("Ccc1"),O=e("dlm8"),m=e("A4eW"),g=e.n(m),E=e("s9Q6"),p=e("beVI"),h=e("G0eX"),_=e("AKIH"),b=e("ktUG"),I=e("Trx9"),C=e("eWGC"),y=e("uVZW"),P=e("rq2v"),T=e("69o4");function S(){return S=Object.assign||function(z){for(var F=1;F<arguments.length;F++){var V=arguments[F];for(var L in V)Object.prototype.hasOwnProperty.call(V,L)&&(z[L]=V[L])}return z},S.apply(this,arguments)}v(S,"_extends");const A=new c.b("huddles"),R={elementName:"cancel",onClick:{enableClogAction:!0}},x={elementName:"start-huddle",onClick:{enableClogAction:!0}},M=v(z=>{let{channelId:F,channelType:V,channelMembersCount:L,isTeamOnTrial:Q,isFreeTeam:ee,trialExpirationTS:te,handleOnSubmit:le,closeModal:Oe,UNSAFE_parentSelector:he}=z;const Ee=A.t("Continue this conversation in a huddle",{fallbackHash:"e5dda045c4edc7e85d1a347f7051533c494e1904"}),ge=a.a.createElement(d.a,{channelId:F});let J,H;switch(V){case u.b.mpim:Q?(J=A.rt("Use this message as a jumping off point for a huddle with anyone in this this conversation. Huddles with more than 2 people are a paid feature, available with your free trial through {trialEndDate}.",{trialEndDate:Object(_.a)(te)}),H=b.UiComponentVariant.TRIAL_TEAM):ee?(J=A.rt("Use this message as a jumping off point for a huddle. On the free version of Slack, one other person from the conversation will be able to join."),H=b.UiComponentVariant.FREE_TEAM):(J=A.rt("Use this message as a jumping off point for a huddle. All <strong>{channelMembersCount}</strong> members of this conversation will be able to join.",{channelMembersCount:L}),H=b.UiComponentVariant.PAID_TEAM);break;case u.b.im:J=A.t("Use this message as a jumping off point for a huddle.",{fallbackHash:"563c2f46cf094d773cfedd52e582a385faea3753"});break;default:Q?(J=A.rt("Use this message as a jumping off point for a huddle with anyone in <strong>{channelName}</strong>. Huddles with more than 2 people are a paid feature, available with your free trial through {trialEndDate}.",{channelName:ge,trialEndDate:Object(_.a)(te)}),H=b.UiComponentVariant.TRIAL_TEAM):ee?(J=A.rt("Use this message as a jumping off point for a huddle. On the free version of Slack, one other person from <strong>{channelName}</strong> will be able to join.",{channelName:ge}),H=b.UiComponentVariant.FREE_TEAM):(J=A.rt("Use this message as a jumping off point for a huddle. All <strong>{channelMembersCount}</strong> members of <strong>{channelName}</strong> will be able to join.",{channelMembersCount:L,channelName:ge}),H=b.UiComponentVariant.PAID_TEAM)}return a.a.createElement(I.a,{uiComponentName:b.UiComponentName.HUDDLES_IN_THREAD_SPEEDBUMP,eventId:b.EventId.CANVAS_EVENT,uiComponentVariant:H},a.a.createElement(i.a,{isOpen:!0,centered:!0,onClose:Oe,contentLabel:Ee,describedby:"huddle-in-thread-speed-bump-modal-body-text","data-qa":"huddle_in_thread_speed_bump_modal",submitButtonText:A.t("Start Huddle"),title:Ee,onSubmit:le,submitAutoClogProps:x,onCancel:Oe,cancelAutoClogProps:R,headerImageSrc:g.a,className:"p-huddle_in_thread_speed_bump_modal",headerImageAlt:A.t("Brainstorm, make decisions or have a lightweight catch-up with whoever\u2019s online."),UNSAFE_parentSelector:he},a.a.createElement("p",{className:"p-huddle_in_thread_speed_bump_modal__body_text",id:"huddle-in-thread-speed-bump-modal-body-text"},J)))},"BaseHuddleInThreadSpeedBumpModalBase");M.displayName="BaseHuddleInThreadSpeedBumpModalBase";const j=v(z=>{let{channelId:F,onConfirm:V,closeModal:L}=z;const Q=Object(r.useDispatch)(),ee=Object(o.a)(H=>Object(f.c)(H,F)),te=Object(u.d)(ee),le=Object(o.a)(H=>Object(O.d)(H,F)),Oe=Object(s.a)(le,"counts.member_count")||0,he=Object(h.C)(Object(o.a)(p.g)),Ee=Object(o.a)(E.i),ge=Object(o.a)(E.g);Object(t.useEffect)(()=>(Q(Object(C.a)({notificationName:y.h.HUDDLE_FROM_THREAD_EDUCATIONAL_MODAL,action:y.f.IMPRESSION})),()=>{Q(Object(T.a)({spaceName:y.g.LAUNCH_MODAL,action:y.f.DISMISS}))}),[Q]);const J=Object(t.useCallback)(()=>{V(),L==null||L()},[L,V]);return a.a.createElement(M,{channelType:te,channelMembersCount:Oe,isFreeTeam:he,isTeamOnTrial:Ee,trialExpirationTS:ge,handleOnSubmit:J,channelId:F,onConfirm:V,closeModal:L})},"HuddleInThreadSpeedBumpModalBase");j.displayName="HuddleInThreadSpeedBumpModalBase";const W={spaceName:y.g.LAUNCH_MODAL,notifications:{[y.h.HUDDLE_FROM_THREAD_EDUCATIONAL_MODAL]:{component:j}}},U=v(z=>{let{channelId:F,onConfirm:V,closeModal:L}=z;return a.a.createElement(P.c,S({},W,{channelId:F,onConfirm:V,closeModal:L}))},"HuddleInThreadSpeedBumpModal");U.displayName="HuddleInThreadSpeedBumpModal";var B=U;const Y=Object(l.a)(U)},"4man":function(K,n,e){"use strict";var s=e("TAzn");n.a=s.a},"4tnk":function(K,n,e){"use strict";e.d(n,"g",function(){return O}),e.d(n,"k",function(){return p}),e.d(n,"h",function(){return _}),e.d(n,"i",function(){return C}),e.d(n,"j",function(){return y}),e.d(n,"e",function(){return P}),e.d(n,"b",function(){return T}),e.d(n,"d",function(){return S}),e.d(n,"f",function(){return A}),e.d(n,"c",function(){return R}),e.d(n,"a",function(){return x});var s=e("ZKjC"),t=e("Z7Ay"),a=e("O86Y"),r=e("vfQU"),c=e("9Gfp"),o=e("kBpe"),i=e("QOYf"),l=e("BeUZ");const u=Object(s.b)(M=>{var j;return M==null||(j=M.desktop)===null||j===void 0?void 0:j.downloads});u.meta={name:"createSelector",key:"createSelectorgetDownloads",description:M=>{var j;return M==null||(j=M.desktop)===null||j===void 0?void 0:j.downloads}};const f=Object(s.b)(M=>{var j;return M==null||(j=M.desktop)===null||j===void 0?void 0:j.windows});f.meta={name:"createSelector",key:"createSelectorgetWindows",description:M=>{var j;return M==null||(j=M.desktop)===null||j===void 0?void 0:j.windows}};const d=Object(s.b)(M=>f(M)&&f(M)[Object(r.O)()]);d.meta={name:"createSelector",key:"createSelectorgetMainWindowState",description:M=>f(M)&&f(M)[Object(r.O)()]};const O=Object(s.b)(M=>!!u(M)&&!!Object(a.g)(M)&&!!Object(c.a)(M)&&Object.values(u(M)[Object(a.g)(M)]||{}).filter(j=>{const W=Object(l.b)(j.appVersion),U=Object(l.b)("4.0.0");return j.appVersion&&Object(l.a)(W,U)!==-1?j.userId&&j.userId===Object(c.a)(M):!0}));O.meta={name:"createSelector",key:"createSelectorgetTeamDownloads",description:M=>!!u(M)&&!!Object(a.g)(M)&&!!Object(c.a)(M)&&Object.values(u(M)[Object(a.g)(M)]||{}).filter(j=>{const W=Object(l.b)(j.appVersion),U=Object(l.b)("4.0.0");return j.appVersion&&Object(l.a)(W,U)!==-1?j.userId&&j.userId===Object(c.a)(M):!0})};const m=Object(s.b)(M=>{const j=O(M);return j&&j.map(W=>{let{id:U}=W;return U})});m.meta={name:"createSelector",key:"createSelectorgetTeamDownloadIds",description:M=>{const j=O(M);return j&&j.map(W=>{let{id:U}=W;return U})}};const g=Object(s.b)(M=>{var j,W;return(M==null||(j=M.desktop)===null||j===void 0||(W=j.environment)===null||W===void 0?void 0:W.titleBarStyle)||(Object(r.ib)()?"frameless":"default")});g.meta={name:"createSelector",key:"createSelectorgetTitleBarStyle",description:M=>{var j,W;return(M==null||(j=M.desktop)===null||j===void 0||(W=j.environment)===null||W===void 0?void 0:W.titleBarStyle)||(Object(r.ib)()?"frameless":"default")}};const E=Object(s.b)(M=>{const j=d(M);return j&&j.frame.isFullScreen});E.meta={name:"createSelector",key:"createSelectorisFullScreen",description:M=>{const j=d(M);return j&&j.frame.isFullScreen}};const p=Object(s.b)(M=>{const j=d(M);return j&&j.frame.isVisible});p.meta={name:"createSelector",key:"createSelectorisMainWindowVisible",description:M=>{const j=d(M);return j&&j.frame.isVisible}};const h=Object(s.b)(M=>{var j,W,U;const B=(j=window)===null||j===void 0?void 0:j.browserWindowId;return B?(W=f(M))===null||W===void 0||(U=W[B])===null||U===void 0?void 0:U.frame.isVisible:!1});h.meta={name:"createSelector",key:"createSelectorisCurrentWindowVisible",description:M=>{var j,W,U;const B=(j=window)===null||j===void 0?void 0:j.browserWindowId;return B?(W=f(M))===null||W===void 0||(U=W[B])===null||U===void 0?void 0:U.frame.isVisible:!1}};const _=Object(s.b)(M=>{var j;const W=d(M);return W==null||(j=W.frame)===null||j===void 0?void 0:j.hasVibrancy});_.meta={name:"createSelector",key:"createSelectorhasVibrancy",description:M=>{var j;const W=d(M);return W==null||(j=W.frame)===null||j===void 0?void 0:j.hasVibrancy}};let b=!1,I=!1;const C=Object(s.b)(M=>b||!I&&g(M)==="custom-extension"&&!E(M));C.meta={name:"createSelector",key:"createSelectorisCustomTitlebarShown",description:M=>b||!I&&g(M)==="custom-extension"&&!E(M)};const y=Object(s.b)(M=>I||!b&&g(M)==="frameless"&&Object(o.p)()&&Object(i.a)()&&!E(M));y.meta={name:"createSelector",key:"createSelectorisFrameless",description:M=>I||!b&&g(M)==="frameless"&&Object(o.p)()&&Object(i.a)()&&!E(M)};const P=Object(s.b)(M=>{var j;return M==null||(j=M.desktop)===null||j===void 0?void 0:j.settings});P.meta={name:"createSelector",key:"createSelectorgetSettings",description:M=>{var j;return M==null||(j=M.desktop)===null||j===void 0?void 0:j.settings}};const T=Object(s.b)((M,j)=>{const W=P(M);return!W||W[j]===void 0?Object(r.H)("settings",j):W[j]});T.meta={name:"createSelector",key:"createSelectorgetDesktopSetting",description:(M,j)=>{const W=P(M);return!W||W[j]===void 0?Object(r.H)("settings",j):W[j]}};const S=Object(s.b)(M=>{const j=T(M,"keyboardLayout");return j!==void 0?j:Object(r.nb)()&&Object(r.tb)().currentKeybordLayout});S.meta={name:"createSelector",key:"createSelectorgetKeyboardLayout",description:M=>{const j=T(M,"keyboardLayout");return j!==void 0?j:Object(r.nb)()&&Object(r.tb)().currentKeybordLayout}};const A=Object(s.b)(M=>{var j,W;return M==null||(j=M.desktop)===null||j===void 0||(W=j.app)===null||W===void 0?void 0:W.systemLockedStatus});A.meta={name:"createSelector",key:"createSelectorgetSystemLockedStatus",description:M=>{var j,W;return M==null||(j=M.desktop)===null||j===void 0||(W=j.app)===null||W===void 0?void 0:W.systemLockedStatus}};const R=Object(s.b)(M=>{var j,W;return!!(!(M==null||(j=M.desktop)===null||j===void 0||(W=j.debug)===null||W===void 0)&&W.isPerformanceMonitorEnabled)});R.meta={name:"createSelector",key:"createSelectorgetIsPerformanceMonitorEnabled",description:M=>{var j,W;return!!(!(M==null||(j=M.desktop)===null||j===void 0||(W=j.debug)===null||W===void 0)&&W.isPerformanceMonitorEnabled)}};const x=Object(s.b)(M=>{var j;return(j=M==null?void 0:M.desktop)===null||j===void 0?void 0:j.activeTeamId});x.meta={name:"createSelector",key:"createSelectorgetActiveTeamId",description:M=>{var j;return(j=M==null?void 0:M.desktop)===null||j===void 0?void 0:j.activeTeamId}},Object(t.a)("fakeCustomTitlebar",()=>{if(I){console.error("fakeFrameless is on -- reload first");return}if(!document.querySelector("window-chrome")){const M=document.createElement("window-chrome");M.style.cssText=["display: block","height: 31px","line-height: 31px","text-align: center","background: #000","color: #fff","-webkit-app-region: drag"].join(";"),M.innerText="Fake Windows Title Bar",document.body.prepend(M)}b=!0,I=!1,window.slackDebug.dispatchNoop()}),Object(t.a)("fakeFrameless",()=>{if(b){console.error("fakeCustomTitlebar is on -- reload first");return}const M="fake-mac-traffic-lights";if(!document.querySelector(`#${M}`)){const j=document.createElement("span");j.style.cssText=["position: fixed","top: 0","left: 0","padding: 5px 0 5px 8px","z-index: 9999","line-height: 1"].join(";");const W=v(U=>{const B=document.createElement("span");return B.style.cssText=["display: inline-block",`background: ${U}`,"margin-right: 8px","height: 12px","width: 12px","border-radius: 12px"].join(";"),B},"makeLight");j.appendChild(W("#ff6159")),j.appendChild(W("#ffbd2e")),j.appendChild(W("#28c941")),document.body.appendChild(j)}I=!0,window.slackDebug.dispatchNoop()})},"4unc":function(K,n,e){"use strict";var s=e("zNRp");e.d(n,"a",function(){return s.a}),n.b=s.b},"4w5y":function(K,n,e){"use strict";e.d(n,"a",function(){return m});var s=e("q1tI"),t=e.n(s),a=e("Cfcg"),r=e("WIr4"),c=e("nNoG"),o=e("G0eX"),i=e("beVI"),l=e("O86Y"),u=e("jWAO"),f=e("SgHf"),d=e("Ufq/");const O=new c.b("enterprise_calls");var m;(function(_){_.GLOBAL="GLOBAL",_.US="US"})(m||(m={}));const g=[{label:O.t("Global",{fallbackHash:"5f1184f7df96c5928092ad9c6b550699bf887826",fallbackHashNs:"enterprise_dashboard"}),value:m.GLOBAL},{label:O.t("US",{fallbackHash:"aa3093554472fd113135bed5b63e12f84c2e9fe8",fallbackHashNs:"enterprise_dashboard"}),value:m.US}];let E=v(class extends s.Component{render(){const{appsState:b,featureCallsLocationLock:I,isLockedByOrgAdmin:C,selectedCallLocation:y,isFreeTeam:P}=this.props,T=b&&b.video&&Object.keys(b.video).find(j=>j==="A00");if(!I||!T||P)return null;const S=g.find(j=>j.value===y),A=I?O.t("Slack Calls will be restricted and routed through selected regions only."):"Slack Calls will be restricted and routed through selected regions only.",R=I?O.t("Call location options"):"Call location options",x=I?O.t("Limiting to certain regions may reduce call performance or block joining calls in some circumstances."):"Limiting to certain regions may reduce call performance or block joining calls in some circumstances.",M=I?O.t("Slack calls are restricted by Org admin"):"Slack calls are restricted by Org admin";return t.a.createElement(t.a.Fragment,null,t.a.createElement("div",{"data-qa":"calls-location-container",className:"border_top padding_top_100 p-calls_location_lock__container"},t.a.createElement("span",{className:"p-calls_location_lock__title"},I?O.t("Calls location"):"Calls location"),t.a.createElement("span",{className:"p-calls_location_lock__description"},A),t.a.createElement("div",{className:"p-calls_location_lock__options_container"},t.a.createElement(f.d,{className:"p-calls_location_lock__options",size:"medium",isDisabled:C,options:g,selectedOption:S,onOptionSelected:this.handleOptionSelected,ariaLabel:R}),C&&t.a.createElement("span",{className:"p-calls_location_lock__options_disable_reason"},M))),y===m.US&&t.a.createElement(u.d,{type:u.c.boxed,level:u.b.warning,icon:"warning",align:u.a.left,className:"p-calls_location_lock__alert"},t.a.createElement("span",null,x)))}handleOptionSelected(b){this.props.setSelectedCallLocation(b.value)}constructor(b){super(b),Object(r.a)(this,["handleOptionSelected"])}},"CallsRegionLockOptions");E.displayName="CallsRegionLockOptions";const p=v(_=>{const b=Object(l.d)(_);return{isFreeTeam:!Object(o.G)(Object(i.g)(_))&&!b,featureCallsLocationLock:Object(d.e)(_)}},"mapStateToProps");var h=n.b=Object(a.a)(p)(E)},"5+iz":function(K,n,e){"use strict";e.d(n,"b",function(){return r}),e.d(n,"c",function(){return c}),e.d(n,"e",function(){return o}),e.d(n,"d",function(){return i}),e.d(n,"a",function(){return l});var s=e("ykb+"),t=e("nNoG"),a=e("MzqU");const r=v((u,f)=>{let d=null,O="",m={},g=!1;const{conversation_email_address:E,conversation_email_addresses:p}=u;if(E)d=E.address,O=E.name,m=E.icons,g=!0;else if(p&&p.length>0){const[h]=p;d=h.address,O=h.name,m=h.icons}return d&&f?{address:d,channelId:f,name:O,icons:m,createdNew:g,id:f}:{channelId:f}},"extractChannelEmailAddressFromApi"),c=v(()=>Object(s.e)()||Object(s.i)()?a.b:a.a,"getChannelEmailAddressesAppId"),o=v(u=>{if(u&&u.icons){const{image_36:f,image_48:d,image_72:O,image_original:m}=u.icons,g=f||d||O||m||null;if(g)return{url:g,src:g}}return null},"maybeExtractChannelEmailAddressIcon"),i=v(u=>u&&u.icons&&u.icons.emoji?u.icons.emoji:null,"maybeExtractChannelEmailAddressEmoji"),l=v(u=>[{type:"section",block_id:"cea_ephemeral_msg_blk",text:{type:"plain_text",text:new t.b("channel-email-addresses").t("Now that you have set an email address for {channelDisplayName}, would you like me to share it with everyone else in this channel? They\u2019ll see it along with some brief instructions for how to use it.",{channelDisplayName:u})}},{type:"actions",block_id:"cea_actions_blk",elements:[{type:"button",text:{type:"plain_text",text:"Dismiss"},value:"dismiss",action_id:"cea_dismiss_cta"},{type:"button",style:"primary",text:{type:"plain_text",text:"Share Email Address"},value:"share_email",action_id:"cea_share_email_cta"}]}],"createCeaEphemeralBlocks")},"52XJ":function(K,n,e){"use strict";e.d(n,"c",function(){return O}),e.d(n,"d",function(){return m}),e.d(n,"a",function(){return g}),e.d(n,"e",function(){return E}),e.d(n,"b",function(){return p});var s=e("q1tI"),t=e.n(s),a=e("SQ0V"),r=e("lhZz"),c=e("Z7Ay"),o=e("/MKj"),i=e("zxER"),l=e("MRve"),u=e("Cyb+"),f=e("u0LO");let d=1;const O=v((h,_)=>{let{experimentHuddlesDiscoveryCallsGroupTreatment:b=!1,component:I=f.c.HuddleCallNudgesBanner}=_;if(!b||!Object(u.f)(h,I,f.a.Click)&&!Object(u.f)(h,I,f.a.Dismiss))return!1;var C;const y=(C=Object(u.a)(h,I,f.a.Click))!==null&&C!==void 0?C:0;var P;const T=(P=Object(u.a)(h,I,f.a.Dismiss))!==null&&P!==void 0?P:0;return!(y>=d||T>=d)},"shouldShowHuddleDiscoveryBanner"),m=v(function(){let{experimentHuddlesDiscoveryCallsGroupTreatment:h=!1,component:_=f.c.HuddleCallNudgesBanner}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{experimentHuddlesDiscoveryCallsGroupTreatment:!1,component:f.c.HuddleCallNudgesBanner};const b=Object(o.useDispatch)();Object(s.useEffect)(()=>{h&&b(Object(l.a)({interactions:[{component:_,type:f.a.Click},{component:_,type:f.a.Dismiss}],useCache:!0,cacheFilter:u.f,reason:"huddle-discovery-calls"}))},[b,h,_])},"useHuddleDiscoveryCallsUserInteractions"),g=Object(a.c)("Send interaction to dismiss nudge",(h,_,b)=>{let{experimentHuddlesDiscoveryCallsGroupTreatment:I,interactionType:C}=b;if(!I)return;const y=_();Object(u.a)(y,f.c.HuddleCallNudgesBanner,C)>d||h(Object(l.b)({component:f.c.HuddleCallNudgesBanner,type:C,reason:"huddle-discovery-calls"}))});g.meta={name:"createThunk",key:"createThunkincrementUserInteractionCount",description:"Send interaction to dismiss nudge"};const E=v(h=>{let{component:_,type:b}=h;const I=Object(o.useDispatch)();return Object(s.useEffect)(()=>{I(Object(l.a)({interactions:[{component:_,type:b}],reason:_}))},[I,_,b]),Object(i.a)(C=>Object(u.f)(C,_,b)?Object(u.i)(C,_):null)},"useTrialProBannerInteraction"),p=Object(a.c)("Record trial pro banner interaction",(h,_,b)=>{let{component:I,type:C}=b;return h(Object(l.b)({component:I,type:C,reason:I}))});p.meta={name:"createThunk",key:"createThunkrecordTrialProBannerInteraction",description:"Record trial pro banner interaction"},Object(c.a)("huddleInteractionUtils",{addOneMoreThanClickCount:h=>{const _=Object(r.getStateByTeamId)(h);d=Object(u.a)(_,f.c.HuddleCallNudgesBanner,f.a.Click)+1},addOneMoreThanDismissCount:h=>{const _=Object(r.getStateByTeamId)(h);d=Object(u.a)(_,f.c.HuddleCallNudgesBanner,f.a.Dismiss)+1}})},"53Bt":function(K,n,e){"use strict";var s=e("SQ0V"),t=e("O86Y"),a=e("PWAB"),r=e("HMe0"),c=e("1Mwh"),o=e("j77i");const i=Object(s.c)("Entirely replaces tile state",(l,u,f)=>{let{tilesState:d}=f;if(!d)return;const O=Object(t.g)(u());Object(o.w)(O,a.a.TILES,d.tiles),Object(o.w)(O,a.a.LAYOUT,d.layout),Object(o.w)(O,a.a.ACTIVE_TILE,d.activeTile),Object(o.w)(O,a.a.MINIMIZED_LAYOUT,d.minimizedLayout),l(Object(c.f)({tilesState:d}));const m=Object(r.c)(u());Object(o.w)(O,a.a.HISTORY,m)});i.meta={name:"createThunk",key:"createThunkreplaceTileState",description:"Entirely replaces tile state"},n.a=i},"54tk":function(K,n,e){"use strict";var s=e("9oTK"),t=e("q1tI"),a=e.n(t),r=e("/MKj"),c=e("nNoG"),o=e("ktUG"),i=e("AKIH"),l=e("+kJ4"),u=e("ohbk"),f=e("q6Tz"),d=e("uVZW"),O=e("TiPP"),m=e("PFo8"),g=e("VFSv"),p=v(W=>{let{checklistItems:U,checklistHeading:B}=W;return a.a.createElement("div",{className:"p-modal_content_checklist__checklist"},a.a.createElement("div",{className:"p-modal_content_checklist__heading"},B),U.map(Y=>a.a.createElement("div",{key:Y,className:"p-modal_content_checklist__checklist_item"},a.a.createElement("div",{className:"p-modal_content_checklist__checklist_check"},a.a.createElement(g.a,{name:"check",size:"16",variation:"filled"})),a.a.createElement("div",null,Y))))},"ModalContentChecklist"),h=e("j/0O"),_=e("Trx9"),b=e("/cL/"),I=e("dHXs"),C=e("YUBf"),y=e("I0j/"),P=e("37+L"),T=e("mQiU"),S=e("UmHn");const A=new c.b("trials"),R={elementName:"start_trial",isPrimaryCTA:!0,onClick:{enableClogAction:!0}},x={elementName:"upgrade_link",isPrimaryCTA:!0,onClick:{enableClogAction:!0}},M=v(W=>{let{modalClassName:U,modalCloseButtonTheme:B,modalSubtitle:Y,modalTitle:z,modalVideoClassName:F,modalVideoFileName:V,modalVideoPosterExtension:L="",modalBannerBackgroundColor:Q="",modalChecklistHeading:ee="",modalChecklistItems:te=[],promoType:le,promoSubtype:Oe,imgSrc:he,isEligibleForTrial:Ee,startTrialContext:ge,uiPage:J,uiComponentVariant:H,onSpeedbumpContinue:Z,onSpeedbumpContinueLabel:q,onTrialStart:k,"data-qa":se}=W;const{shouldUseNavigate:re}=Object(t.useContext)(T.a),X=Object(r.useDispatch)(),[w,ce]=Object(t.useState)(!1),ie=Object(t.useRef)(""),oe=Object(t.useCallback)(()=>{X(Object(l.a)())},[X]),me=Object(t.useCallback)(Object(s.coroutine)(function*(){let{trialExpirationDate:ne}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};ne&&(ie.current=ne,yield X(Object(f.b)({event:{type:d.e.REQUEST_SPACES,spaces:[d.g.SIDEBAR_FOOTER]}})),k==null||k(),ce(!0))}),[X,k]),ue=Object(t.useCallback)(()=>{oe(),X(re?Object(y.a)(Object(P.J)(S.a.PaidBenefits)):Object(u.a)({id:O.a}))},[X,oe,re]),_e=Object(t.useCallback)(()=>{oe(),Z==null||Z()},[oe,Z]),be=a.a.createElement(p,{checklistHeading:ee,checklistItems:te}),Ae=a.a.createElement(I.a,{"data-qa":"trial_entry_point_modal_start_trial_button",autoClogProps:R,reason:"start_trial_from_trial_entry_point_modal",context:ge,promoType:le,promoSubtype:Oe,onRequestComplete:me},A.t("Start Free Trial")),Ce=a.a.createElement(b.a,{"data-qa":"trial_entry_point_modal_plans_page_button",type:"primary",autoClogProps:x,onClick:oe},A.t("See Upgrade Options")),De=Ee?Ae:Ce,Pe=v(()=>{if(!ie.current)return null;const ne=a.a.createElement("div",{className:"display_flex"},a.a.createElement(h.a,{className:"p-trial_entry_point_modal__speedbump_icon",type:"sparkles-filled"}),A.t("Ta-da! Your team\u2019s on a free trial")),Ie=a.a.createElement("div",{className:"p-trial_entry_point_modal__speedbump_description"},A.rt("You\u2019re on the most popular premium plan, Slack Pro \u2014 with features designed to help teams work better, together \u2014 through {trialExpirationDate}, absolutely free.",{trialExpirationDate:Object(i.a)(ie.current)})),Me=v(()=>q||(Z?A.t("Continue"):A.t("Find Out More")),"getContinueButtonLabel")();let Ne=A.t("Dismiss"),He=ue,Et=oe,Je="speedbump_learn_more",qe="speedbump_dismiss";return Z&&(Ne=A.t("Learn More"),He=_e,Et=ue,Je="speedbump_continue",qe="speedbump_learn_more"),a.a.createElement(C.k,{className:"p-trial_entry_point_modal__speedbump","data-qa":"trial_entry_point_modal_speedbump",heading:ne,description:Ie,continueButtonLabel:Me,cancelButtonLabel:Ne,onCancel:Et,onContinue:He,continueButtonType:"primary",autoFocusContinueButton:!0,autoClogProps:{continueButton:{elementName:Je,onClick:{enableClogAction:!0}},cancelButton:{elementName:qe,onClick:{enableClogAction:!0}}}})},"renderSpeedbump");Pe.displayName="renderSpeedbump";const Ue=a.a.createElement("div",{className:"p-trial_entry_point_modal__footer_text","data-qa":"trial_entry_point_modal_footer_text"},A.t("No credit card required.")),ae=a.a.createElement("div",{className:"p-trial_entry_point_modal__footer"},De,Ee&&Ue,w&&Pe());return a.a.createElement(_.a,{eventId:o.EventId.UPGRDEXP_TRIAL,uiComponentName:o.UiComponentName.TRIAL_ENTRY_POINT_MODAL,uiComponentVariant:H,uiPage:J},a.a.createElement(m.b,{bannerBackgroundColor:Q,"data-qa":se,imgSrc:he,title:z,subtitle:Y,bodyContent:be,footerContent:ae,onRequestClose:oe,maxWidth:"586px",className:U,closeButtonTheme:B,type:m.a.BANNER,videoFilename:V,videoPosterExtension:L,videoClassName:F}))},"TrialEntryPointModal");M.displayName="TrialEntryPointModal";var j=n.a=M},"55av":function(K,n,e){"use strict";var s=e("q1tI"),t=e.n(s),a=e("Cfcg"),r=e("iuhU"),c=e("n3tL"),o=e("Kmpi"),i=e("Yauy"),l=e("E3dU"),u=e("CD4m"),f=e("sGXp"),d=e("pFNT"),O=e("zNRp"),m=e("e7up"),g=e("Tsh7"),E=e("QaYX"),p=e("NK7x"),h=e("zm5I"),_=e("RVJP"),b=e("xwCZ"),I=e("C3vN"),C=e("Fn/R"),y=e("zUbs");const P=20,T={id:c.default.string.isRequired,invert:c.default.bool,isDeactivated:c.default.bool,isHidden:c.default.bool,member:c.default.object,memberPrimaryName:c.default.string},S={member:void 0,memberPrimaryName:void 0,invert:!1,isDeactivated:!1,isHidden:!1},A=t.a.forwardRef((ge,J)=>{const{id:H,invert:Z,member:q,memberPrimaryName:k,isDeactivated:se,isHidden:re}=ge,X=Object(C.a)(q),w=Object(I.eb)(q),ce=Object(o.c)(q),ie=Object(o.d)(q),oe=ce||ie,me=Z&&!se,ue=t.a.createElement(y.a,{"data-qa":"mpim-entity__name",name:k,invert:me,isAppOrBot:X,isDeleted:w,isNonExistent:ce,isUnknown:ie});let _e;oe?_e=t.a.createElement(m.a,{isNonExistent:ce,size:P}):_e=t.a.createElement(d.c,{className:"c-small_mpim_entity__member_avatar","data-qa":"mpim-entity__avatar",size:f.a.small,userId:H,tabIndex:-1,isInteractive:!1});const be=Object(r.default)("c-small_mpim_entity__member",{"c-small_mpim_entity__member--deleted":w,"c-small_mpim_entity__member--hidden":re});return t.a.createElement("div",{className:be,"data-id":H,ref:J},_e,ue)});A.propTypes=T,A.defaultProps=S;function R(ge,J){let{id:H}=J;const Z=Object(b.g)(ge,H);return{member:Z,memberPrimaryName:Object(I.N)(ge,Z,!1,!1)}}v(R,"mapStateToProps");var x=Object(a.a)(R,null,null,{forwardRef:!0})(A),M=e("zxER"),j=e("9Gfp"),W=e("VSuV"),U=e("nNoG");const B=new U.b("channel_token"),Y=10,z=v(ge=>{let{memberIds:J}=ge;var H;const Z=(H=Object(M.a)(j.a))!==null&&H!==void 0?H:void 0;let q=J.map((k,se)=>t.a.createElement(W.a,{key:k,userId:k,isFirst:se===0,isSelf:Z===k}));return J.length>Y+1&&(q=q.slice(0,Y).concat(B.rt("{count} others",{count:J.length-Y}))),t.a.createElement(t.a.Fragment,null,Object(U.h)(q))},"TooltipMemberNames");z.displayName="TooltipMemberNames";var F=z,V=e("swWY"),L=e("Hm4q");function Q(){return Q=Object.assign||function(ge){for(var J=1;J<arguments.length;J++){var H=arguments[J];for(var Z in H)Object.prototype.hasOwnProperty.call(H,Z)&&(ge[Z]=H[Z])}return ge},Q.apply(this,arguments)}v(Q,"_extends");const ee=f.a.small,te={className:c.default.string,"data-qa":c.default.string,"data-sk":c.default.string,mpim:c.default.object,id:c.default.string,invert:c.default.bool,isDeactivated:c.default.bool,memberIds:c.default.array,isActive:c.default.bool,clientTheme:c.default.oneOf(["light","dark"]),matchData:c.default.array,onlyBoldIfUnread:c.default.bool,showUnreadBadge:c.default.bool,unreadCount:c.default.number,shortenTooltipContents:c.default.bool,showAvatar:c.default.bool,experimentSidebarPrefsApplyToMenusGroupOn:c.default.bool},le={className:void 0,"data-qa":void 0,"data-sk":"small_mpim_entity",mpim:void 0,id:void 0,invert:!1,isDeactivated:!1,memberIds:[],isActive:!1,clientTheme:"light",matchData:[],onlyBoldIfUnread:!1,showUnreadBadge:!1,unreadCount:0,shortenTooltipContents:!1,showAvatar:!0,experimentSidebarPrefsApplyToMenusGroupOn:!1};function Oe(ge){let{className:J,"data-qa":H,"data-sk":Z,id:q,invert:k,isDeactivated:se,mpim:re,memberIds:X,isActive:w,clientTheme:ce,matchData:ie,onlyBoldIfUnread:oe,showUnreadBadge:me,unreadCount:ue,shortenTooltipContents:_e,showAvatar:be,experimentSidebarPrefsApplyToMenusGroupOn:Ae}=ge;const Ce=Object(o.c)(re),De=Object(o.d)(re),Pe=Object(i.H)(re),Ue=q||(re==null?void 0:re.id),ae=k&&!se,ne=me&&!!ue&&t.a.createElement(O.b,{className:"c-member__unread_count",count:ue,style:ae?"white":"red","data-qa":"member-entity__mention-badge"}),Ie=ne&&t.a.createElement("span",{className:"c-member__secondary_content"},ne),Te=Object(s.useCallback)(Et=>{if(Ce||De)return t.a.createElement(m.a,Q({},Et,{isNonExistent:Ce,size:ee,invert:ae}));const Je=X==null?void 0:X[0];return t.a.createElement("span",{className:Object(r.default)("c-small_mpim_entity__mpim_avatars","c-small_mpim_entity__count",J,{"c-small_mpim_entity__mpim_avatars--inverted":ae,[`c-small_mpim_entity__mpim_avatars--${ce}`]:ce!=="light"})},be&&t.a.createElement(d.c,{userId:Je,className:"c-small_mpim_entity__mpim_avatars_mpim1",size:14,isInteractive:!1,"data-qa":"small-mpim-entity-mpim-avatar"}),t.a.createElement("div",{className:Object(r.default)("c-small_mpim_entity__mpim_counter",{"c-small_mpim_entity__mpim_counter--count-only":!be&&Ae}),"data-qa":"small-mpim-entity-mpim-counter"},t.a.createElement("div",{"aria-hidden":!0,className:"c-small_mpim_entity__mpim_counter_inner"},Pe)))},[J,ce,Ce,De,Pe,ae,X,be,Ae]),Me=Object(s.useCallback)(()=>{let Et;return _e?Et=t.a.createElement(F,{memberIds:X}):Et=X.map(Je=>t.a.createElement(x,{id:Je,key:Je})),t.a.createElement(t.a.Fragment,null,Et)},[X,_e]);let Ne=se?f.d.dim:null;ae&&(Ne=f.d.highlightDark);const He=t.a.createElement(u.d,{"data-id":Ue,"data-qa":H,"data-sk":Z,avatar:Te,className:J,size:"small",style:Ne,subtext:Ie,text:t.a.createElement(V.a,{"data-qa":"name",id:Ue,mpim:re,invert:ae,matchData:ie,onlyBoldIfUnread:oe})});return t.a.createElement(g.d,{tip:Me(),tipClassName:_e?"":"c-small_mpim_entity__tooltip",position:"top-right",shouldForceVisible:w,shouldOnlyShowWhenTruncated:w,zIndex:"above_fs"},t.a.createElement("div",null,He))}v(Oe,"SmallMpimEntity"),Oe.displayName="SmallMpimEntity",Oe.propTypes=te,Oe.defaultProps=le;function he(ge,J){let{id:H,mpim:Z,matchData:q}=J;const k=Z||Object(l.c)(ge,H),se=Object(p.b)(ge,H),re=Object(_.d)(ge,"sidebar_prefs_apply_to_menus")==="on",X=Object(E.a)({state:ge,mpim:k,matchData:q}),w=Object(h.a)(ge),ce=Object(i.d)(k,se);return{mpim:k,experimentSidebarPrefsApplyToMenusGroupOn:re,memberIds:X,clientTheme:w,unreadCount:ce}}v(he,"small_mpim_entity_mapStateToProps");var Ee=n.a=Object(a.a)(he)(Oe)},"59s5":function(K,n,e){K.exports=e.p+"slackbot_neutral_48-9906623.png"},"5KsB":function(K,n,e){"use strict";var s=e("gSGL"),t=e("nNoG");const a=new t.b("emoji");n.a=function(r){const c=Object(s.a)(r)?r:r.toString(),o={1:()=>a.t("No skin tone"),2:()=>a.t("light skin tone"),3:()=>a.t("medium-light skin tone"),4:()=>a.t("medium skin tone"),5:()=>a.t("medium-dark skin tone"),6:()=>a.t("dark skin tone")},i={"2-3":()=>a.t("left light skin tone and right medium-light skin tone"),"2-4":()=>a.t("left light skin tone and right medium skin tone"),"2-5":()=>a.t("left light skin tone and right medium-dark skin tone"),"2-6":()=>a.t("left light skin tone and right dark skin tone"),"3-2":()=>a.t("left medium-light skin tone and right light skin tone"),"3-4":()=>a.t("left medium-light skin tone and right medium skin tone"),"3-5":()=>a.t("left medium-light skin tone and right medium-dark skin tone"),"3-6":()=>a.t("left medium-light skin tone and right dark skin tone"),"4-2":()=>a.t("left medium skin tone and right light skin tone"),"4-3":()=>a.t("left medium skin tone and right medium-light skin tone"),"4-5":()=>a.t("left medium skin tone and right medium-dark skin tone"),"4-6":()=>a.t("left medium skin tone and right dark skin tone"),"5-2":()=>a.t("left medium-dark skin tone and right light skin tone"),"5-3":()=>a.t("left medium-dark skin tone and right medium-light skin tone"),"5-4":()=>a.t("left medium-dark skin tone and right medium skin tone"),"5-6":()=>a.t("left medium-dark skin tone and right dark skin tone"),"6-2":()=>a.t("left dark skin tone and right light skin tone"),"6-3":()=>a.t("left dark skin tone and right medium-light skin tone"),"6-4":()=>a.t("left dark skin tone and right medium skin tone"),"6-5":()=>a.t("left dark skin tone and right medium-dark skin tone")},l=i[c]?i[c]():null;return l||o[c]&&o[c]()}},"5NQM":function(K,n,e){"use strict";e.d(n,"c",function(){return l}),e.d(n,"b",function(){return u}),e.d(n,"a",function(){return f});var s=e("9oTK"),t=e.n(s),a=e("oTSI"),r=e("ifKl"),c=e("Lgge");const o={didTimeout:!0,timeRemaining:()=>0},i=Object(a.a)(()=>!!(window.requestIdleCallback&&window.cancelIdleCallback));function l(O,m){return i()?window.requestIdleCallback(O,m):window.setTimeout(()=>O(o))}v(l,"requestIdleCallback");function u(O){return i()?window.cancelIdleCallback(O):window.clearTimeout(O)}v(u,"cancelIdleCallback");function f(O){return new c.a(function(m,g){let E=arguments.length>2&&arguments[2]!==void 0?arguments[2]:r.a;const p=l(function(){var h=Object(s.coroutine)(function*(_){try{const b=yield c.a.resolve(O(_));m(b)}catch(b){g(b)}});return function(_){return h.apply(this,arguments)}}());E(()=>{u(p)})})}v(f,"awaitIdleCallback");const d={IDLE_DEADLINE_FALLBACK:o}},"5RQ4":function(K,n,e){K.exports=e.p+"beach-33258eb.jpg"},"5U8P":function(K,n,e){"use strict";e.d(n,"a",function(){return s});function s(t,a){return!t||!a?!1:a(t)?!0:s(t.parentElement||void 0,a)}v(s,"isContainedBy")},"5Xve":function(K,n,e){"use strict";e.d(n,"a",function(){return l});var s=e("SQ0V"),t=e("lhZz"),a=e("Ufq/"),r=e("WWO7"),c=e("u0LO"),o=e("MRve"),i=e("A9I/");const l=Object(s.c)("Start huddle and maybe display discovery message for huddle",(u,f)=>{const d=f();Object(a.j)(d)&&(u(Object(o.b)({component:c.c.HuddleCallMenu,type:c.a.Click,reason:"start-huddle-from-calls-menu"})),Object(r.a)(d,u)&&Object(t.dispatchForClientStore)(Object(i.b)()))});l.meta={name:"createThunk",key:"createThunkmaybeUpdateHuddleFromCallsMenuNUX",description:"Start huddle and maybe display discovery message for huddle"}},"5YDL":function(K,n,e){"use strict";e.d(n,"a",function(){return a});var s=e("E3dU"),t=e("Yauy");function a(r,c){const o=Object(s.l)(r,c&&c.id);return o?Object(t.R)(o):null}v(a,"getImUnreadCountByMember")},"5Yu9":function(K,n,e){"use strict";var s=e("q1tI"),t=e.n(s),a=e("Cfcg"),r=e("n3tL"),c=e("7JUD"),o=e("AEEY"),i=e("9org"),l=e("i9y5"),u=e("+kJ4"),f=e("9v4y");const d={className:r.default.string,closeModal:r.default.func.isRequired},O={className:void 0};function m(g){return t.a.createElement(c.a,{className:g.className,closeModal:g.closeModal},t.a.createElement(o.a,null,t.a.createElement(i.a,null,t.a.createElement("div",{className:"c-lazy_modal"},t.a.createElement(l.a,null)))))}v(m,"LoadingModal"),m.displayName="LoadingModal",m.propTypes=d,m.defaultProps=O,n.a=Object(a.a)(null,g=>({closeModal:function(){for(var E=arguments.length,p=new Array(E),h=0;h<E;h++)p[h]=arguments[h];return g(Object(u.a)(...p))}}))(m)},"5c3X":function(K,n,e){"use strict";e.d(n,"a",function(){return f});var s=e("E3dU"),t=e("g05w"),a=e("y/Pn"),r=e("IMMN"),c=e("NjAx"),o=e("clOX"),i=e("nePV"),l=e("Vu8N"),u=e("n1Wy");function f(d,O){const m=Object(s.z)(d,O)&&Object(s.c)(d,O);if(!m||Object(u.a)(d,O)||Object(a.a)(m)&&!Object(r.a)(d,m))return!1;const g=Object(c.m)(d,{channelId:O});if(Object(t.a)(m)){if(g)return!0;if(!Object(i.a)(d))return!1}return g||Object(o.a)(d,"who_can_archive_channels",m)?Object(l.a)(d,O):!1}v(f,"canUserArchiveChannel")},"5ktH":function(K,n,e){K.exports=e.p+"focus_beats-d228ac2.mp3"},"5pIt":function(K,n,e){"use strict";e.d(n,"a",function(){return a}),e.d(n,"c",function(){return r}),e.d(n,"b",function(){return c});var s=e("ZKjC");const t=Object(s.b)((o,i)=>{var l;return(l=o.channelCanvas)===null||l===void 0?void 0:l.byChannelId[i]});t.meta={name:"createSelector",key:"createSelectorgetByChannelIdState",description:(o,i)=>{var l;return(l=o.channelCanvas)===null||l===void 0?void 0:l.byChannelId[i]}};const a=Object(s.b)((o,i)=>{var l;return(l=t(o,i))===null||l===void 0?void 0:l.tempId});a.meta={name:"createSelector",key:"createSelectorgetChannelCanvasTempId",description:(o,i)=>{var l;return(l=t(o,i))===null||l===void 0?void 0:l.tempId}};const r=Object(s.b)((o,i)=>{var l;return(l=o.channelCanvas)===null||l===void 0?void 0:l.byTempId[i]});r.meta={name:"createSelector",key:"createSelectorgetChannelIdForTempId",description:(o,i)=>{var l;return(l=o.channelCanvas)===null||l===void 0?void 0:l.byTempId[i]}};const c=Object(s.b)((o,i)=>{var l,u;return(u=(l=t(o,i))===null||l===void 0?void 0:l.waitingForLock)!==null&&u!==void 0?u:!1});c.meta={name:"createSelector",key:"createSelectorgetChannelCanvasWaitingForLock",description:(o,i)=>{var l,u;return(u=(l=t(o,i))===null||l===void 0?void 0:l.waitingForLock)!==null&&u!==void 0?u:!1}}},"5yS1":function(K,n,e){"use strict";e.d(n,"a",function(){return _});var s=e("BeL+"),t=e("fujP"),a=e("0VPD"),r=e("LrWZ"),c=e("zCzZ"),o=e("ZOzc"),i=e("O86Y"),l=e("VktL"),u=e("ZTSm"),f=e("UIWO"),d=e("s4P+"),O=e("4p6e");const m=["ra","regular","admin","owner","org_admin","org_owner"],g=v(b=>m.find(I=>b.includes(I)),"getMostPermissiveStringPrefValue"),E=v(b=>b.includes(!0),"getMostPermissiveBoolean"),p=v(b=>{const I=b.reduce((P,T)=>(Object(l.a)(T,"type")&&P.type.push(...T.type),Object(l.a)(T,"user")&&P.user.push(...T.user),Object(l.a)(T,"subteam")&&P.subteam.push(...T.subteam),P),{type:[],user:[],subteam:[]}),C=I.type.length>0?g(I.type):void 0,y={...C&&{type:C},...I.user.length>0&&{user:Object(s.a)(I.user)},...I.subteam.length>0&&{subteam:Object(s.a)(I.subteam)}};return Object(t.a)(y)?void 0:y},"getMostPermissiveTeamPrefForTeamPrefsWithFields"),h=v((b,I)=>{if(!I||!Object(f.a)(b)){const C=Object(i.g)(b);return C?[C]:[]}return I},"getTeamIdsToMapPrefsTo"),_=v((b,I,C)=>{const y=h(b,C);if(Object(i.a)(b).length>0){var P;const S=(P=Object(i.e)(b))!==null&&P!==void 0?P:[];if(!(Object(a.a)(S,y).length>0)){const R=Object(c.p)(b,I);if(!Object(r.a)(R))return R;const x=Object(c.i)(b,I);if(!Object(r.a)(x))return x}}const T=y.map(S=>Object(o.a)(b,I,S)).filter(u.a);return T.length!==y.length&&(Object(O.a)()||Object(d.a)({state:b}).warn(`Team ID's, ${y.join(", ")}, are currently not valid team ID's to retrieve team prefs.`)),typeof T[0]=="boolean"?E(T):typeof T[0]=="string"?g(T):p(T)},"getMostPermissiveTeamPrefForTeamIds")},"5ya7":function(K,n,e){"use strict";e.d(n,"a",function(){return I}),e.d(n,"c",function(){return C}),e.d(n,"b",function(){return S});var s=e("4qCO"),t=e("Bkx2"),a=e("i5Ig"),r=e("NqdB"),c=e("uZL6"),o=e("beVI"),i=e("WwBA"),l=e("G0eX"),u=e("9Gfp"),f=e("JQ3U"),d=e("zxER"),O=e("AFNo"),m=e("UIhb"),g=e("B+uu"),E=e("YBS9"),p=e("WXix");const h=v(A=>{var R;return Array.isArray((R=A)===null||R===void 0?void 0:R.elements)},"hasElements"),_=v((A,R)=>Object(s.a)(A.emojiName,R.emojiName),"emojiNameSort");function b(A,R,x){return decodeURIComponent(R).includes(Object(i.a)())?!1:!(x&&Object(t.a)(A,x))}v(b,"isCustomEmoji");const I=Object(O.c)((A,R,x)=>{if(!(R&&Object(u.h)(A)&&b(A,R,x)&&Object(r.a)(A)))return!1;const j=Object(o.j)(A);var W;const U=(W=j==null?void 0:j.id)!==null&&W!==void 0?W:"",B=Object(l.h)(j);return!!B&&R.indexOf(Object(l.b)(U,B))===-1&&R.indexOf(U.slice(1))===-1});I.meta={name:"createSelector",key:"createSelectorcanUserImportEmoji",description:(A,R,x)=>{if(!(R&&Object(u.h)(A)&&b(A,R,x)&&Object(r.a)(A)))return!1;const j=Object(o.j)(A);var W;const U=(W=j==null?void 0:j.id)!==null&&W!==void 0?W:"",B=Object(l.h)(j);return!!B&&R.indexOf(Object(l.b)(U,B))===-1&&R.indexOf(U.slice(1))===-1}};function C(A,R){return Object(d.a)(x=>I(x,A,R))}v(C,"useCanImportThisEmoji");function y(A,R){for(const x of R||[])Object(p.a)(x)?x.display_url&&A.set(x.display_url,{emojiName:x.name,emojiUrl:x.display_url}):h(x)&&y(A,x.elements)}v(y,"collectMessageEmojis");function P(A,R){for(const{name:x,url:M}of R||[])M&&A.set(M,{emojiName:x,emojiUrl:M})}v(P,"collectMessageReactjis");const T=Object(c.a)((A,R)=>R,(A,R)=>Object(E.a)(A,Object(g.a)(R)),(A,R)=>{const x=new Map;return P(x,R),y(x,A.blocks),[...x.values()].sort(_)}),S=Object(O.c)((A,R)=>{let{channelId:x,ts:M}=R;if(!Object(r.a)(A)||!Object(u.h)(A))return a.a;const j=Object(m.b)(A,x,M);return!j||Object(f.i)(j)?a.a:T(A,j).filter(W=>{let{emojiName:U,emojiUrl:B}=W;return I(A,B,U)})});S.meta={name:"createSelector",key:"createSelectorgetImportableEmojis",description:(A,R)=>{let{channelId:x,ts:M}=R;if(!Object(r.a)(A)||!Object(u.h)(A))return a.a;const j=Object(m.b)(A,x,M);return!j||Object(f.i)(j)?a.a:T(A,j).filter(W=>{let{emojiName:U,emojiUrl:B}=W;return I(A,B,U)})}}},"68qM":function(K,n,e){"use strict";e.d(n,"a",function(){return r});var s=e("q1tI"),t=e.n(s),a=e("ifKl");function r(){let c=arguments.length>0&&arguments[0]!==void 0?arguments[0]:a.a,o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];Object(s.useEffect)(()=>c(),o)}v(r,"useEffectDirty")},"69o4":function(K,n,e){"use strict";var s=e("s4P+"),t=e("SQ0V"),a=e("Lgge"),r=e("uVZW"),c=e("7+Lm"),o=e("u4cD"),i=e("eWGC");const l=Object(t.c)("record a dismissal on a megaphone notification",(u,f,d)=>{const{spaceName:O,...m}=d,g=d.channel_id,E=Object(s.b)();if(!O)return E.error(r.d,"spaceName is required when dispatching recordAndClearNotification."),a.a.resolve();const p=f(),h=Object(c.c)(p,O,g);return u(Object(o.c)({spaceName:O,channelId:g})),u(Object(i.a)({notificationName:h,...m}))});l.meta={name:"createThunk",key:"createThunkrecordAndClearNotification",description:"record a dismissal on a megaphone notification"},n.a=l},"6Bu2":function(K,n,e){"use strict";e.d(n,"a",function(){return r});var s=e("q1tI"),t=e.n(s),a=e("yxNq");let r=v(class extends s.Component{shouldComponentUpdate(o,i){return!Object(a.a)(o,this.props,3)||!Object(a.a)(i,this.state,3)}},"PureComponentDepth3")},"6DCH":function(K,n,e){"use strict";e.d(n,"a",function(){return h});var s=e("9oTK"),t=e.n(s),a=e("zmn3"),r=e("hbEN"),c=e("kQBZ"),o=e("SQ0V"),i=e("gsmS"),l=e("O86Y"),u=e("8j9e"),f=e("s4P+"),d=e("pgVm"),O=e("WA8N"),m=e("itAW");const g=Object(o.c)("Fetch triggers with query",function(){var b=Object(s.coroutine)(function*(I,C,y){let{query:P,currentChannelId:T,isShortcutsGallerySearch:S=!1,isWorkflowPickerSearch:A=!1}=y;const R=C(),x=Object(l.g)(R),M=Object(d.b)(R),j=Object(O.a)(R),B=!(M&&S||A);if(j.containsPrefixOf(P)){if(M&&S){const Y=Object(m.e)(R,P);return I(Object(u.h)({results:Y})),Y}else if(A){const Y=Object(m.k)(R,P);return I(Object(u.j)({results:Y})),Y}}else try{const z=(yield I(Object(c.ef)({query:P,currentChannelId:T,strictExposureRules:B,triggerTypes:A?["shortcut","event","webhook","scheduled"]:["shortcut"],reason:"hermes_triggers_store:fetch_and_upsert_triggers"}))).triggers,F=5;return z.length<F&&(j.addAsPrefix(P),j.clearRequestInFlight()),x&&Object(i.a)().markObjectsAsFresh(x,Object(a.a)(z,"id")),I(Object(u.k)({triggers:z})),M&&S&&I(Object(u.h)({results:z})),A&&I(Object(u.j)({results:z})),z}catch(Y){return Object(f.b)().error(Y,"There was an issue fetching triggers with query"),[]}return[]});return function(I,C,y){return b.apply(this,arguments)}}());g.meta={name:"createThunk",key:"createThunkfetchAndUpsertTriggersWithQuery",description:"Fetch triggers with query"};const E=500,p=Object(r.a)((b,I)=>b(g({query:I})),E,{leading:!0,trailing:!0}),h=Object(o.c)("debounced fetch and upsert triggers with query",(b,I,C)=>{let{query:y}=C;return p(b,y)});h.meta={name:"createThunk",key:"createThunkdebouncedFetchAndUpsertTriggersWithQuery",description:"debounced fetch and upsert triggers with query"},n.b=g;const _={DEBOUNCE_MS:E}},"6FZx":function(K,n,e){"use strict";e.d(n,"a",function(){return c}),e.d(n,"d",function(){return o}),e.d(n,"c",function(){return i}),e.d(n,"b",function(){return l});var s=e("n3tL"),t=e("OZf9"),a=e("s4P+"),r=e("ykb+");const c="_isSlackMenuItem",o={menuCallback:s.default.func,menuCallbackId:s.default.number,highlighted:s.default.bool};function i(u){return!!u[c]}v(i,"isMenuItem");function l(u){if(Object(r.b)()){const f=u.propTypes||{};let d;Object.defineProperty(u,"propTypes",{get:()=>d,set:O=>{const m=u.displayName||u.name||"Component";Object(t.a)(o,(g,E)=>{const p=O[E];p&&p!==g&&p!==g.isRequired&&Object(a.b)().warn(`${m}'s ${E} prop type doesn't match menu item`)}),d={...o,...O}}}),u.propTypes=f}return u[c]=!0,u}v(l,"wrapMenuItem")},"6J2H":function(K,n,e){"use strict";e.d(n,"b",function(){return l}),e.d(n,"a",function(){return u});var s=e("Z66H"),t=e("GlHf"),a=e("2VFn"),r=e("Wn1n"),c=e("59uo"),o=e("v7mh"),i=e("rZ8V");function l(f){var d;const O=Object(t.a)(f);if(!O)return{viewId:void 0,windowId:void 0};const m=O.find(p=>Object(t.k)(f,p));if(!m)return{viewId:void 0,windowId:void 0};if(m===a.c&&Object(c.b)(f)){var g;return{viewId:(g=Object(c.a)(f))===null||g===void 0?void 0:g.view,windowId:a.c}}if(m===a.c){if(Object(i.g)(f)){var E;return{viewId:(E=Object(o.g)(f,{tab:Object(o.a)(f),container:a.h.Primary}))===null||E===void 0?void 0:E.id,windowId:a.c}}return{viewId:Object(r.a)(f),windowId:a.c}}return Object(s.a)(f)?{viewId:(d=Object(o.d)(f,{windowId:m,container:a.h.Primary}))===null||d===void 0?void 0:d.id,windowId:m}:{viewId:void 0,windowId:m}}v(l,"getActiveViewAndWindow");function u(f){return l(f).viewId}v(u,"getActiveView")},"6JGl":function(K,n,e){"use strict";e.d(n,"c",function(){return le}),e.d(n,"d",function(){return Oe}),e.d(n,"b",function(){return Ee}),e.d(n,"a",function(){return ge});var s=e("9oTK"),t=e("KgyH"),a=e("Lgge"),r=e("SQ0V"),c=e("beVI"),o=e("AWyR"),i=e("3REw"),l=e("5TXe"),u=e("S4vl"),f=e("VHGx"),d=e("Omjo"),O=e("DN8O"),m=e("RzAz");const g=Object(m.a)(d.b,O.a.store),E=Object(m.a)(d.a,O.a.store);var p=e("5IZy"),h=e("ktUG"),_=e("mGaQ");function b(J,H,Z){return I.apply(this,arguments)}v(b,"fetchRegions");function I(){return I=Object(s.coroutine)(function*(J,H,Z){if(H===i.h.FREE_WILLY)return C(J,Z);const q=new f.b({url:"https://universal.slack-core.com/region.json"});try{const k=yield J.q(q);return JSON.parse(k).region_text}catch(k){return E("Region request error: ",k.name),""}}),I.apply(this,arguments)}v(I,"_fetchRegions");function C(J,H){return y.apply(this,arguments)}v(C,"fetchChimeRegion");function y(){return y=Object(s.coroutine)(function*(J,H){const Z=!!H&&Object(_.a)(H),q=new f.b({url:Z?"https://nearest-us-gov-media-region.l.chime.aws":"https://nearest-media-region.l.chime.aws"});try{const k=yield J.q(q),se=JSON.parse(k);return Object(p.a)().track(h.EventId.CALLS_CHIME_MEDIA_REGION,{media_region:se.region}),se.region}catch(k){return E("Chime region request error: ",k.name),Object(p.a)().track(h.EventId.CALLS_CHIME_MEDIA_REGION_ERROR,{error:k.name}),""}}),y.apply(this,arguments)}v(y,"_fetchChimeRegion");function P(J,H,Z,q,k,se){return T.apply(this,arguments)}v(P,"fetchRoom");function T(){return T=Object(s.coroutine)(function*(J,H,Z,q,k,se){var re;const X=new l.b({method:"rooms.join",args:{token:H,...q&&{id:q},...se&&{channel_id:se}},teamId:Z,tracer:k==null?void 0:k.traceInstance.getTracer(),traceId:(re=k==null?void 0:k.traceInstance.getTrace())===null||re===void 0?void 0:re.getTraceId(),parentSpanId:k==null?void 0:k.parentSpanId}),w=yield J.q(X);return{server:Object(i.s)(w.call),roomId:w.call.call_id,regions:"",inviteResponses:void 0,virtualRoomId:q}}),T.apply(this,arguments)}v(T,"_fetchRoom");function S(J){if(J)return J.map(H=>({userId:H.user_id,response:H.response}))}v(S,"getInviteResponses");function A(J,H,Z,q,k,se,re,X,w){return R.apply(this,arguments)}v(A,"fetchCall");function R(){return R=Object(s.coroutine)(function*(J,H,Z,q,k,se,re,X,w){return Object(i.t)(q)?(Object(u.b)(!se,"Cannot pick your server when joining a call."),Object(u.b)(!re,"Cannot pick your regions when joining a call."),j(J,H,Z,q,w)):Object(i.x)(q)?(Object(u.b)(!se,"Cannot pick your server when joining a room."),Object(u.b)(!re,"Cannot pick your regions when joining a room."),P(J,H,Z,q,w)):x(J,H,Z,q,re||(yield b(J,k,Z)),k,se,X,w)}),R.apply(this,arguments)}v(R,"_fetchCall");function x(J,H,Z,q,k,se,re,X,w){return M.apply(this,arguments)}v(x,"fetchNewCall");function M(){return M=Object(s.coroutine)(function*(J,H,Z,q,k,se,re,X,w){var ce;const ie=new l.b({method:"screenhero.rooms.create",args:{token:H,regions:k,channel:q,send_immediate_invite:!0,use_room_scoped_token:!0,call_server:re,media_backend_type:se,readiness_check:X},teamId:Z,tracer:w==null?void 0:w.traceInstance.getTracer(),traceId:(ce=w==null?void 0:w.traceInstance.getTrace())===null||ce===void 0?void 0:ce.getTraceId(),parentSpanId:w==null?void 0:w.parentSpanId}),oe=yield J.q(ie);return oe.immediately_rejected?{inviteResponses:S(oe.invite_responses)}:{server:Object(i.s)(oe),roomId:oe.room_id,regions:k,inviteResponses:S(oe.invite_responses),virtualRoomId:void 0}}),M.apply(this,arguments)}v(M,"_fetchNewCall");function j(J,H,Z,q,k){return W.apply(this,arguments)}v(j,"fetchCallWithId");function W(){return W=Object(s.coroutine)(function*(J,H,Z,q,k){var se;const re=new l.b({method:"screenhero.rooms.join",args:{token:H,room:q,use_room_scoped_token:!0,regions:""},teamId:Z,tracer:k==null?void 0:k.traceInstance.getTracer(),traceId:(se=k==null?void 0:k.traceInstance.getTrace())===null||se===void 0?void 0:se.getTraceId(),parentSpanId:k==null?void 0:k.parentSpanId}),X=yield J.q(re);return{server:Object(i.s)(X),roomId:X.room_id,regions:"",inviteResponses:void 0,virtualRoomId:void 0}}),W.apply(this,arguments)}v(W,"_fetchCallWithId"),Object.defineProperty({},"fetchCall",{get:()=>A,set:J=>{A=J}});var B=e("KciV"),Y=e("PLUl");let z=v(class{createSpan(H){let{parentSpanId:Z,spanName:q,tags:k}=H;return this.isCallsTracingDisabled||!this.trace?null:this.trace.startSpan(q,{tags:{...k,team_id:this.teamId},parentSpanId:Z})}maybeTraceFn(H){let{name:Z,parentSpanId:q,tracingFunction:k}=H;return this.isCallsTracingDisabled||!this.trace?k():this.trace.traceFn({name:Z,options:{parentSpanId:q,tags:{team_id:this.teamId}}},k)}getTrace(){return this.trace}getTracer(){return this.tracer}reportTrace(){this.tracer&&this.trace&&this.tracer.reportTrace(this.trace)}constructor({traceName:H,traceOptions:Z,teamId:q}){this.isCallsTracingDisabled=Z.isCallsTracingDisabled==="true",this.tracer=Object(Y.a)(),this.teamId=q,this.isCallsTracingDisabled?this.trace=null:this.trace=this.tracer.createTrace({traceName:H,traceId:Z.traceId,parentSpanId:Z.parentSpanId,tags:{team_id:this.teamId}})}},"TraceInstance");function F(J){var H,Z;let q=J.name;return q==="rooms_unauthorized_channel"&&((H=J.data)===null||H===void 0||(Z=H.msg)===null||Z===void 0?void 0:Z.indexOf("information barrier"))>-1&&(q="InformationBarrierActive"),q}v(F,"getErrorName");var V=e("pedv"),L=e("x5lL"),Q=e("0Pma");function ee(){return{server:Object(o.a)(),callId:Object(o.a)(),regions:Object(o.a)(),inviteResponses:Object(o.a)(),virtualRoomId:Object(o.a)(),error:Object(o.a)(),isJoiningExistingCall:Object(o.a)(),callWindow:Object(o.a)()}}v(ee,"getInitialAsyncCallInfo");const te=new Map,le=Object(r.c)("Fetches all the information required to join a call",function(){var J=Object(s.coroutine)(function*(H,Z,q){const{params:k,callWindow:se,traceParams:re}=q,X=k.callId||k.channelId;if(!X)return;const w=Object(c.g)(Z()).id,ce=Object(t.a)({},{teamId:w,method:""});let ie=null,oe=null,me;if(re){ie=new z({traceOptions:{traceId:re.traceId,parentSpanId:re.parentSpanId,isCallsTracingDisabled:re.isCallsTracingDisabled},traceName:"calls:free-willy:prefetch_call_info",teamId:w}),oe=ie.createSpan({spanName:"calls:prefetch_call_info",tags:{view_id:X,is_joining_existing_call:!!k.callId,filename:"prefetch-call-info.ts",function:"prefetchCallInfo",team_id:w}});const _e=oe==null?void 0:oe.getId();me={traceInstance:ie,parentSpanId:_e}}const ue=Ee(se.getId());return ue.callWindow.resolve(se),k.mediaService?(ue.server.isPending()&&ue.server.resolve(k.mediaService),ue.callId.isPending()&&k.callId&&ue.callId.resolve(k.callId),ue.regions.isPending()&&ue.regions.resolve(""),ue.inviteResponses.isPending()&&ue.inviteResponses.resolve(void 0),ue.virtualRoomId.isPending()&&ue.virtualRoomId.resolve(void 0),ue.isJoiningExistingCall.isPending()&&ue.isJoiningExistingCall.resolve(!!k.callId),ue.error.isPending()&&ue.error.resolve(null),a.a.resolve()):A(Object(Q.a)(),ce.token,w,X,he(Z(),k.callId),k.debugServerName,k.debugRegions,k.readinessCheck,me).then(_e=>{const{server:be,roomId:Ae,regions:Ce,inviteResponses:De,virtualRoomId:Pe}=_e;Ae&&(k.callId||H(Object(V.a)({roomId:Ae,windowId:se.getId()})),ue&&(ue.server.isPending()&&ue.server.resolve(be),ue.callId.isPending()&&ue.callId.resolve(Ae),ue.regions.isPending()&&ue.regions.resolve(Ce||""),ue.inviteResponses.isPending()&&ue.inviteResponses.resolve(De),ue.virtualRoomId.isPending()&&ue.virtualRoomId.resolve(Pe),ue.isJoiningExistingCall.isPending()&&ue.isJoiningExistingCall.resolve(!!k.callId),ue.error.isPending()&&ue.error.resolve(null)))}).catch(_e=>{const be=_e.data;be?(Object(B.c)("PREFETCH-CALL-INFO").error("Error while fetching call info: ",be.error),ue.error.isPending()&&ue.error.resolve({name:F(_e)})):(Object(B.c)("PREFETCH-CALL-INFO").error("Error while fetching call info, (error.data is undefined): ",_e),ue.error.isPending()&&ue.error.resolve({name:void 0}))})});return function(H,Z,q){return J.apply(this,arguments)}}());le.meta={name:"createThunk",key:"createThunkprefetchCallInfo",description:"Fetches all the information required to join a call"};function Oe(J,H,Z){const q=Ee(Z.getId());q.callId.resolve(J),q.server.resolve(H),q.regions.resolve(""),q.inviteResponses.resolve(void 0),q.virtualRoomId.resolve(void 0),q.isJoiningExistingCall.resolve(!0),q.error.resolve(null),q.callWindow.resolve(Z)}v(Oe,"saveIncomingInviteCallData");function he(J,H){let Z=null;return H&&(Z=Object(L.f)(J,H)),Z&&Z.mediaBackendType?Z.mediaBackendType:i.h.FREE_WILLY}v(he,"getMediaBackendType");function Ee(J){let H=te.get(J);return H||(H=ee(),te.set(J,H)),H}v(Ee,"getAsyncCallInfoForWindow");function ge(J){te.delete(J)}v(ge,"deleteAsyncCallInfoForWindow")},"6Kqi":function(K,n,e){"use strict";e.d(n,"d",function(){return Q}),e.d(n,"f",function(){return ee}),e.d(n,"e",function(){return te}),e.d(n,"a",function(){return he}),e.d(n,"b",function(){return Ee}),e.d(n,"c",function(){return ge});var s=e("9oTK"),t=e("n3tL"),a=e("SQ0V"),r=e("kBpe"),c=e("3REw"),o=e("AFNo"),i=e("2XU3"),l=e("S4vl"),u=e("e9jb");const f=Object(o.a)("Sends an invite response to the web API from the slack window",(H,Z,q)=>{let{id:k,response:se,toUserId:re}=q;return Object(l.b)(!Object(u.a)(),"Not a slack window context"),H(Object(i.a)({method:"screenhero.rooms.inviteResponse",reason:"calls-invite-response",args:{caller:re,room:k,response:se}}))});f.meta={name:"createFetcher",key:"createFetchersendInviteResponse",description:"Sends an invite response to the web API from the slack window"},f.propTypes=t.default.shape({id:t.default.string.isRequired,response:t.default.string.isRequired,toUserId:t.default.string.isRequired}).isRequired;const d=Object(o.a)("Reject a DM call from the slack window",(H,Z,q)=>{let{id:k,appId:se,channelId:re}=q;return Object(l.b)(!Object(u.a)(),"Not a slack window context"),H(Object(i.a)({method:"calls.reject",reason:"calls-invite-response",args:{id:k,app_id:se,channel_id:re}}))});d.meta={name:"createFetcher",key:"createFetchersendPartnerCallRejected",description:"Reject a DM call from the slack window"},d.propTypes=t.default.shape({id:t.default.string.isRequired,appId:t.default.string.isRequired,channelId:t.default.string.isRequired}).isRequired;var O=e("Lgge"),m=e("6l10"),g=e("KGIc"),E=e("2mvv");const p="screenhero.rooms.inviteCancel",h=Object(o.a)("Sends an invite cancel to the web API from the slack window",(H,Z,q)=>{let{id:k,type:se,responderUserIds:re,useSendBeacon:X=!1}=q;function w(ce){const ie=Z(),oe={responder:ce,room:k,cancel_type:se};return X?Object(m.a)({apiUrl:"/api/",method:p,token:Object(E.b)(ie),versionTs:Object(g.f)(),versionUid:Object(g.h)(),args:oe}):H(Object(i.a)({method:p,reason:"calls-invite-cancel",args:oe}))}return v(w,"cancelInviteForUser"),O.a.all([re.map(w)])});h.meta={name:"createFetcher",key:"createFetchersendInviteCancel",description:"Sends an invite cancel to the web API from the slack window"},h.propTypes=t.default.shape({id:t.default.string.isRequired,type:t.default.string.isRequired,responderUserIds:t.default.arrayOf(t.default.string).isRequired}).isRequired;var _=e("cxOH"),b=e("x5lL"),I=e("KciV"),C=e("t3jr"),y=e("jJRY"),P=e("vfQU"),T=e("5IZy"),S=e("+nSQ"),A=e("gVOt"),R=e("E3dU"),x=e("Wn1n");const M=30*1e3;function j(H,Z){return Object(l.b)(!Object(u.a)(),"Not a slack window context"),window.setTimeout(()=>{H(Ee({id:Z,response:c.f.Missed}))},M)}v(j,"startIncomingInviteTimeout");const W=Object(a.c)("Handles an invite response from the callee",(H,Z,q)=>{const k=Object(b.f)(Z(),q);if(!k)return;const se=Object(r.i)()&&Object(b.t)(k);se&&!se.isClosed()&&se.close()});W.meta={name:"createThunk",key:"createThunkcloseDesktopIncomingInviteWindow",description:"Handles an invite response from the callee"};const U=Object(a.c)("Inserts an incoming invite and starts a timer to cancel it",(H,Z,q)=>{let{roomId:k,userId:se,mediaBackendType:re}=q;const X={direction:c.e.Incoming,userId:se,timeout:j(H,k)};H(Object(b.E)({id:k,incomingInvite:X,mediaBackendType:re}))});U.meta={name:"createThunk",key:"createThunkinsertIncomingInvite",description:"Inserts an incoming invite and starts a timer to cancel it"};const B=Object(a.c)("Removes the invite and any pending timer",(H,Z,q)=>{var k;const se=(k=Object(b.f)(Z(),q))===null||k===void 0?void 0:k.incomingInvite;se&&se.timeout&&clearTimeout(se.timeout),H(Object(b.E)({id:q,incomingInvite:void 0}))});B.meta={name:"createThunk",key:"createThunkclearIncomingInvite",description:"Removes the invite and any pending timer"};var Y=e("vYXD"),z=e("jMXC"),F=e("6JGl");const V=Object(a.c)("Send an invite response message to the call window if needed",(H,Z,q)=>{let{roomId:k,userId:se,response:re}=q;const X=Object(b.f)(Z(),k);if(!X){H(Object(b.u)({id:k,userId:se,response:re}));return}const w=Object(b.t)(X);w&&!w.isClosed()&&Object(C.a)(w,"inviteResponse",{userId:se,response:re})});V.meta={name:"createThunk",key:"createThunkupdateOutgoingInviteInCallWindow",description:"Send an invite response message to the call window if needed"},window.allowMultipleCallWindowsForTesting=!1;function L(){return window.allowMultipleCallWindowsForTesting}v(L,"shouldAllowMultipleCallWindowsForTestingOnly");const Q=Object(a.c)("Opens a call invite window within sonic",function(){var H=Object(s.coroutine)(function*(Z,q,k){var se;Object(l.b)(!Object(u.a)(),"Not a slack window context");const re=k.room,X=k.caller,w=k.media_backend_type;if(Object(b.s)()&&!L()){Z(f({id:re,response:c.f.OnCall,toUserId:X}));return}if(Object(Y.a)()){Z(Object(Y.e)(k.channel));return}let ce;if(k.server?ce=Object(c.A)(k.server):k.free_willy&&(ce=Object(c.p)(k)),ce)try{window.localStorage.setItem(c.l,JSON.stringify(ce))}catch(oe){Object(I.c)("INVITE").error("Could not write calls server credentials to localStorage: ",oe.message)}Z(U({roomId:re,userId:X,mediaBackendType:w}));const ie=(se=Object(b.f)(q(),re))===null||se===void 0?void 0:se.incomingInvite;if(Object(r.i)()){if(Object(Y.b)()){Z(Object(Y.f)(k.channel));return}const oe=Object(y.c)(Object(P.X)()),me=yield Z(Object(_.a)({viewId:re,incomingInvite:ie,windowOptions:{height:Math.ceil(310*oe),width:Math.ceil(200*oe),maximizable:!1,minimizable:!1,resizable:!1,alwaysOnTop:!0,fullscreenable:!1,show:!1}}));me&&J(Z,re,k.channel,ce,me)}});return function(Z,q,k){return H.apply(this,arguments)}}());Q.meta={name:"createThunk",key:"createThunkhandleCallInvite",description:"Opens a call invite window within sonic"},Q.propTypes=t.default.shape({room:t.default.string,caller:t.default.string});const ee=Object(a.c)("Handles an invite response from the callee",(H,Z,q)=>{Object(l.b)(!Object(u.a)(),"Not a slack window context");const k=q.room,se=q.responder,re=q.response;H(V({roomId:k,...{userId:se,response:re}})),H(h({id:k,type:c.d.Cleanup,responderUserIds:[se]}))});ee.meta={name:"createThunk",key:"createThunkhandleCallInviteResponse",description:"Handles an invite response from the callee"},ee.propTypes=t.default.shape({room:t.default.string,response:t.default.string,responder:t.default.string});const te=Object(a.c)("Closes a corresponding call invite window within sonic",(H,Z,q)=>{var k;Object(l.b)(!Object(u.a)(),"Not a slack window context");const se=Z(),re=q.room;!Object(b.f)(se,re)||!(!((k=Object(b.f)(se,re))===null||k===void 0)&&k.incomingInvite)||(H(B(re)),H(W(re)))});te.meta={name:"createThunk",key:"createThunkhandleCallInviteCancel",description:"Closes a corresponding call invite window within sonic"},te.propTypes=t.default.shape({room:t.default.string});function le(H){if(!Object(r.i)()){Object(l.b)("Not in desktop");return}Object(y.a)(H,{width:z.a.width,height:z.a.height}),Object(y.b)(H,{width:z.a.minContentWidth,height:z.a.minContentHeight}),Object(P.ec)(H,!1),Object(P.mc)(H,!0),Object(P.kc)(H,!0),Object(P.lc)(H,!0),Object(P.ic)(H,!0)}v(le,"convertInviteWindowToFullWindow");const Oe=Object(a.c)("Respond to an invite within the slack window",(H,Z,q)=>{let{id:k,response:se}=q;const re=Object(b.f)(Z(),k);if(!re)return;const{incomingInvite:X}=re;if(X){if(X.direction!==c.e.Incoming){Object(l.b)("Did not have an incoming invite to respond to");return}H(f({id:k,response:se,toUserId:X.userId})),H(B(k))}});Oe.meta={name:"createThunk",key:"createThunkrespondToInvite",description:"Respond to an invite within the slack window"};const he=Object(a.c)("Accept an invite within the slack window",function(){var H=Object(s.coroutine)(function*(Z,q,k){var se;Object(l.b)(!Object(u.a)(),"Not a slack window context");const re=q(),X=(se=Object(b.e)(re))===null||se===void 0?void 0:se.byId[k];if(Object(r.i)()){const w=Object(b.t)(X);if(!w){Object(l.b)("No call window");return}le(w)}else{const w=yield Z(Object(_.a)({viewId:k,incomingInvite:X.incomingInvite})),ce=localStorage.getItem(c.l);try{const ie=JSON.parse(ce||"null");w&&J(Z,k,void 0,ie,w)}catch(ie){Object(I.c)("INVITE").warn("Could not parse server info",ie)}localStorage.removeItem(c.l)}try{const w=Object(x.a)(re),ce=Object(R.c)(re,w);Object(S.b)({call:X,conversationId:w,clogger:Object(T.a)({state:re}),memberId:Object(A.a)(ce)})}catch(w){Object(I.c)("INVITE").error("Could not write calls accept clog",w)}Z(Oe({id:k,response:c.f.Accept}))});return function(Z,q,k){return H.apply(this,arguments)}}());he.meta={name:"createThunk",key:"createThunkacceptInvite",description:"Accept an invite within the slack window"};const Ee=Object(a.c)("Decline an invite within the slack window",(H,Z,q)=>{let{id:k,response:se}=q;Object(l.b)(!Object(u.a)(),"Not a slack window context"),H(Oe({id:k,response:se})),H(W(k));try{const re=Z(),X=Object(x.a)(re),w=Object(R.c)(re,X),ce=Object(A.a)(w),ie=Object(b.e)(re).byId[k];Object(S.a)({memberId:ce,conversationId:X,roomId:k,clogger:Object(T.a)({state:re}),call:ie})}catch(re){Object(I.c)("DECLINE").error("Could not write calls decline clog",re)}Object(r.i)()||localStorage.removeItem(c.l)});Ee.meta={name:"createThunk",key:"createThunkdeclineInvite",description:"Decline an invite within the slack window"};const ge=Object(a.c)("Respond to the Decline button for a partner call",(H,Z,q)=>{let{id:k,app:se,channelId:re}=q;const X=se.id;Object(b.f)(Z(),k)&&H(d({id:k,appId:X,channelId:re}))});ge.meta={name:"createThunk",key:"createThunkdeclinePartnerCall",description:"Respond to the Decline button for a partner call"};function J(H,Z,q,k,se){k?Object(F.d)(Z,k,se):H(Object(F.c)({params:{callId:Z,channelId:q},callWindow:se}))}v(J,"saveOrPrefetchInviteCallData")},"6SBE":function(K,n,e){"use strict";var s=e("q1tI"),t=e.n(s),a=e("oSkh"),r=e("zxER"),c=e("9Gfp"),o=e("y6S6"),i=e("xwCZ"),l=e("x5lL"),u=e("rIOq"),f=e("VkPA"),d=e("ZMRP"),O=e("nV9L"),m=e("VFSv"),g=e("Yauy"),E=e("E97Y"),p=e("gVOt"),h=e("Fn/R"),_=e("aqbC"),b=e("rtjy"),I=e("nNoG"),C=e("yxNq");const y=new I.b("huddles");var P;(function(R){R.SUGGESTIONS="suggestions",R.INVITED="invited"})(P||(P={}));function T(R,x,M,j,W,U){return!(!R||x||R===M||j.includes(R)||W.includes(R)||U.includes(R))}v(T,"shouldSuggestMember");const S=v(R=>{let{activeHuddleCallId:x,channel:M,isFreeTeam:j,onSuggestedUserSelected:W,otherMembersInHuddle:U,selectedMemberIds:B}=R;const Y=Object(r.a)(c.a),z=Object(E.h)(M),F=Object(r.b)(X=>Object(l.p)(X,x)),V=Object(s.useMemo)(()=>F?Object.keys(F):[],[F]),L=V.length,Q=25,ee=Object(r.b)(X=>Object(_.a)(X,(M==null?void 0:M.id)||"",Q,Q,!0).map(ce=>ce.id));let te=[];if(Object(E.g)(M)){const X=Object(p.a)(M);X&&te.push(X)}else if(Object(E.i)(M)){const X=Object(g.E)(M);X&&X.length&&(te=[...X])}else te=ee;const le=Object(r.a)(X=>{if(!te||!te.length)return[];const w=[];return te.forEach(ce=>{const ie=Object(i.g)(X,ce);T(ce,Object(h.a)(ie),Y,U,V,B)&&w.push({id:ce,isMemberOfChannel:!0})}),w},C.b),Oe=Object(r.a)(b.c,C.b),he=Object(r.a)(X=>{if(!Oe||!Oe.length)return[];const w=[];return Oe.forEach(ce=>{const ie=Object(i.g)(X,ce.id);if(!T(ce.id,Object(h.a)(ie),Y,U,V,B)||te.includes(ce.id))return;const oe=M&&Object(o.c)(X,M.id,ce.id),me=oe&&oe.isKnown&&oe.isMember;w.push({id:ce.id,isMemberOfChannel:me})}),w},C.b),Ee=Object(s.useMemo)(()=>le.length>=Q?le.slice(0,Q):[...le,...he].slice(0,Q),[le,he]),ge=Object(s.useMemo)(()=>Ee.map(X=>X.id),[Ee]),J=Object(s.useMemo)(()=>Math.min(60*Math.max(L,ge.length),240),[ge,L]),H=Object(s.useCallback)(X=>{const w=Ee[X];if(!w)return;let ce=null;return w.isMemberOfChannel===!1&&(z?ce=y.t("Not in conversation"):ce=y.t("Not in channel")),t.a.createElement("div",{className:"p-huddle_invite_suggestion_tabs__menu_item_button__list_entity"},t.a.createElement(u.a,{id:w.id,secondaryContent:ce}))},[z,Ee]),Z=Object(s.useCallback)(X=>{X.id&&W(X.id)},[W]),q=Object(s.useCallback)(()=>t.a.createElement(a.a,{disableHeight:!0},X=>{let{width:w}=X;return t.a.createElement(d.b,{"aria-label":y.t("Suggested",{fallbackHash:"861edba00547bc9ce7a08df78d4378766418179f"}),keys:ge,rowRenderer:H,onItemClick:Z,width:w,height:J})}),[H,ge,Z,J]),k=Object(s.useCallback)(X=>{const w=V[X],ce=F==null?void 0:F[w];if(!ce)return null;const ie=ce==="joining_soon",oe=t.a.createElement("div",{className:"p-huddle_invite_suggestion_tabs__menu_item__pending_status_container"},t.a.createElement(m.a,{name:ie?"clock":"paper-plane",size:"20"}),t.a.createElement("span",null,ie?y.t("Joining soon"):y.t("Invited")));return t.a.createElement("div",{className:"p-huddle_invite_suggestion_tabs__menu_item__list_entity"},t.a.createElement(u.a,{id:w,secondaryContent:oe}))},[V,F]),se=Object(s.useCallback)(()=>t.a.createElement(a.a,{disableHeight:!0},X=>{let{width:w}=X;return t.a.createElement(O.b,{"aria-label":y.t("Invited"),keys:V,rowRenderer:k,width:w,height:J})}),[V,k,J]),re=Object(s.useMemo)(()=>{const X=[];return ge.length&&X.push({title:y.t("Suggested",{fallbackHash:"861edba00547bc9ce7a08df78d4378766418179f"}),id:P.SUGGESTIONS,content:q()}),X.push({title:y.t("Invited"),id:P.INVITED,titleCount:L,content:se()}),X},[ge,L,se,q]);return!x||j?null:t.a.createElement("div",{className:"p-huddle_invite_suggestion_tabs"},t.a.createElement(f.a,{fullHeight:!0,tabs:re,tabMenuClassnames:"p-huddle_invite_suggestion_tabs__tab_menu"}))},"HuddleInviteSuggestionTabs");S.displayName="HuddleInviteSuggestionTabs";var A=n.a=t.a.memo(S)},"6Tgc":function(K,n,e){"use strict";var s=e("q1tI"),t=e.n(s),a=e("iuhU"),r=e("ifKl"),c=e("oTSI"),o=e("WIr4"),i=e("vd/O"),l=e("ktUG"),u=e("Cfcg");const f={SMALL:"small",MEDIUM:"medium",LARGE:"large"},d={BASIC:"basic",SEARCH:"search",MULTI:"multi"},O=28,m=2,g="12px 0",E=16,p=240;var h=e("VFSv");function _(Ce,De){return`${Ce}_${De}`}v(_,"bentoGetInputBuddyId");const b=9,I=13,C=16,y=32,P=27,T=33,S=34,A=35,R=36,x=37,M=38,j=39,W=40,U=8,B=46,Y=68,z=75,F=48;function V(Ce,De){if(!Array.isArray(De))throw new Error("bindAll: methodNames must be an array of method name strings to bind to the object");for(let Pe=0;Pe<De.length;Pe++){const Ue=De[Pe],ae=Ce[Ue];typeof ae=="function"&&(Ce[Ue]=ae.bind(Ce))}return Ce}v(V,"bentoBindAll");function L(){return L=Object.assign||function(Ce){for(var De=1;De<arguments.length;De++){var Pe=arguments[De];for(var Ue in Pe)Object.prototype.hasOwnProperty.call(Pe,Ue)&&(Ce[Ue]=Pe[Ue])}return Ce},L.apply(this,arguments)}v(L,"_extends");let Q=v(class extends s.Component{componentDidMount(){const{focusOnMount:De=!1}=this.props;De&&this.onClick()}onEscPressed(De){const{selectState:Pe,setSelectState:Ue}=this.props;Pe.isExpanded&&(De.stopPropagation(),Ue(()=>({isExpanded:!1})))}onKeyDown(De){if(!(De.shiftKey||De.ctrlKey||De.metaKey||De.altKey))switch(De.keyCode){case P:this.onEscPressed(De);break;case I:case y:this.onClick();break;case M:case W:this.onUpOrDownPressed(De);break;case b:this.onTabPressed();break;default:break}}onTabPressed(){const{setSelectState:De}=this.props;De(()=>({isExpanded:!1}))}onClick(){const{onClick:De=r.a,setSelectState:Pe,selectState:Ue}=this.props;this.updateOptionsListPosition(),De&&De(),Pe(()=>({isExpanded:!Ue.isExpanded}))}onUpOrDownPressed(De){const{selectState:Pe,setSelectState:Ue}=this.props,{isExpanded:ae}=Pe;ae||(De.stopPropagation(),this.updateOptionsListPosition(),Ue(()=>({isExpanded:!0})))}getSelectedOptionIndex(){const{selectState:De}=this.props,{selectedOption:Pe,options:Ue}=De;return Pe?Ue.findIndex(ae=>ae.label===Pe.label&&ae.value===Pe.value):0}updateOptionsListPosition(){const{selectState:De}=this.props,{isExpanded:Pe}=De;if(!Pe&&this.measurePopoverEvent){var Ue;(Ue=this.props.window)===null||Ue===void 0||Ue.dispatchEvent(this.measurePopoverEvent)}}renderContent(De){const{renderSelectedOption:Pe,selectState:Ue,textSelect:ae=!1,textSelectLabel:ne=void 0,selectDataQa:Ie=void 0,placeholderText:Te=void 0}=this.props,{selectedOption:Me,options:Ne}=Ue,He=Me?Pe(Me):t.a.createElement("span",{className:"c-select_button__placeholder"},Te||"Please select an option"),Et=ae&&ne?t.a.createElement("span",{className:"c-select_button--text-select-label"},ne):void 0,Je=Ne&&Ne.length,qe=Je||void 0,ke=Je?this.getSelectedOptionIndex():void 0;return t.a.createElement("div",{id:De,role:"option","aria-selected":"true","aria-setsize":qe,"aria-posinset":ke,"data-qa":Ie?`${Ie}-button-content`:null,className:"c-select_button__content"},Et,He)}render(){const{ariaLabelledBy:De=void 0,ariaDescribedBy:Pe=void 0,ariaLabel:Ue=void 0,selectState:ae,size:ne,width:Ie,textSelect:Te=!1,selectDataQa:Me=void 0,classPrefix:Ne=void 0,onBlur:He=r.a,onMouseEnter:Et=void 0,onMouseLeave:Je=void 0,refToForward:qe}=this.props,{isDisabled:ke,isExpanded:rt,isInvalid:pe,selectId:je}=ae,xe=Object(a.default)("c-select_button",`c-select_button--${ne}`,{"c-select_button--disabled":ke,"c-select_button--expanded":rt,"c-select_button--text-select":Te,"c-select_button--invalid":pe,[`${Ne}__select_button`]:Ne}),ze=Te?{}:{width:Ie},st=ne===f.SMALL?"caret-down":"caret-down-full",ct=_(je,"button"),dt=`${ct}-option`;return t.a.createElement("div",{role:"listbox",tabIndex:0,className:xe,onClick:this.onClick,onKeyDown:this.onKeyDown,style:ze,"aria-disabled":ke?!0:void 0,"data-qa":Me?`${Me}-button`:null,id:ct,onBlur:He,onMouseEnter:Et,onMouseLeave:Je,"aria-labelledby":De,"aria-describedby":Pe,"aria-label":Ue,"aria-invalid":pe,"aria-activedescendant":pe?void 0:dt,ref:qe,"aria-expanded":rt,"aria-multiselectable":!1},this.renderContent(dt),t.a.createElement("div",{className:`c-select_button__icon c-select_button__icon--${ne}`},t.a.createElement(h.a,{name:st})))}constructor(De){super(De),V(this,["onUpOrDownPressed","onKeyDown","updateOptionsListPosition","onClick","onEscPressed","onTabPressed"]);const{measurePopoverEventName:Pe=null}=this.props;Pe&&(this.measurePopoverEvent=new Event(Pe))}},"AtomicSelectButton");Q.displayName="AtomicSelectButton";const ee=t.a.forwardRef((Ce,De)=>t.a.createElement(Q,L({},Ce,{refToForward:De})));var te=e("RVJP"),le=e("2K8U"),Oe=e("MYuU"),he=e("khnw"),Ee=e("1ufr"),ge=e("nNoG");function J(){return J=Object.assign||function(Ce){for(var De=1;De<arguments.length;De++){var Pe=arguments[De];for(var Ue in Pe)Object.prototype.hasOwnProperty.call(Pe,Ue)&&(Ce[Ue]=Pe[Ue])}return Ce},J.apply(this,arguments)}v(J,"select_button_extends");const H=new ge.b("select");let Z=v(class extends s.Component{componentDidMount(){const{focusOnMount:De=!1}=this.props;De&&this.onClick()}onEscPressed(De){const{selectState:Pe,setSelectState:Ue}=this.props;Pe.isExpanded&&(De.stopPropagation(),Ue(()=>({isExpanded:!1})))}onKeyDown(De){if(!(De.shiftKey||De.ctrlKey||De.metaKey||De.altKey))switch(De.keyCode){case he.f:this.onEscPressed(De);break;case he.e:case he.p:this.onClick();break;case he.r:case he.c:this.onUpOrDownPressed(De);break;case he.q:this.onTabPressed();break;default:break}}onTabPressed(){const{setSelectState:De}=this.props;De(()=>({isExpanded:!1}))}onClick(){const{onClick:De=r.a,setSelectState:Pe,selectState:Ue}=this.props;this.updateOptionsListPosition(),De&&De(),Pe(()=>({isExpanded:!Ue.isExpanded}))}onUpOrDownPressed(De){const{selectState:Pe,setSelectState:Ue}=this.props,{isExpanded:ae}=Pe;ae||(De.stopPropagation(),this.updateOptionsListPosition(),Ue(()=>({isExpanded:!0})))}getSelectedOptionIndex(){const{selectState:De}=this.props,{selectedOption:Pe,options:Ue}=De;return Pe?Ue.findIndex(ae=>ae.label===Pe.label&&ae.value===Pe.value):0}updateOptionsListPosition(){const{selectState:De}=this.props,{isExpanded:Pe}=De;if(!Pe&&this.measurePopoverEvent){var Ue;(Ue=this.props.window)===null||Ue===void 0||Ue.dispatchEvent(this.measurePopoverEvent)}}renderContent(De){const{renderSelectedOption:Pe,selectState:Ue,textSelect:ae=!1,textSelectLabel:ne=void 0,selectDataQa:Ie=void 0,placeholderText:Te=void 0}=this.props,{selectedOption:Me,options:Ne}=Ue,He=Me?Pe(Me):t.a.createElement("span",{className:"c-select_button__placeholder"},Te||H.t("Please select an option")),Et=ae&&ne?t.a.createElement("span",{className:"c-select_button--text-select-label"},ne):void 0,Je=Ne&&Ne.length,qe=Je||void 0,ke=Je?this.getSelectedOptionIndex():void 0;return t.a.createElement("div",{id:De,role:"option","aria-selected":"true","aria-setsize":qe,"aria-posinset":ke,"data-qa":Ie?`${Ie}-button-content`:null,className:"c-select_button__content"},Et,He)}render(){const{ariaLabelledBy:De=void 0,ariaDescribedBy:Pe=void 0,ariaLabel:Ue=void 0,selectState:ae,size:ne,width:Ie,textSelect:Te=!1,selectDataQa:Me=void 0,classPrefix:Ne=void 0,onBlur:He=r.a,onMouseEnter:Et=void 0,onMouseLeave:Je=void 0,refToForward:qe,experimentSkBentoGroupOn:ke}=this.props,{isDisabled:rt,isExpanded:pe,isInvalid:je,selectId:xe}=ae,ze=Object(a.default)("c-select_button",`c-select_button--${ne}`,{"c-select_button--disabled":rt,"c-select_button--expanded":pe,"c-select_button--text-select":Te,"c-select_button--invalid":je,[`${Ne}__select_button`]:Ne}),st=Te?{}:{width:Ie},ct=ne===le.f.SMALL?"caret-down":"caret-down-full",dt=Object(Oe.a)(xe,"button"),bt=`${dt}-option`,Ft=t.a.createElement("div",{role:"listbox",tabIndex:0,className:ze,onClick:this.onClick,onKeyDown:this.onKeyDown,style:st,"aria-disabled":rt?!0:void 0,"data-qa":Me?`${Me}-button`:null,id:dt,onBlur:He,onMouseEnter:Et,onMouseLeave:Je,"aria-labelledby":De,"aria-describedby":Pe,"aria-label":Ue,"aria-invalid":je,"aria-activedescendant":je?void 0:bt,ref:qe,"aria-expanded":pe,"aria-multiselectable":!1},this.renderContent(bt),t.a.createElement("div",{className:`c-select_button__icon c-select_button__icon--${ne}`},t.a.createElement(h.a,{name:ct})));return ke?t.a.createElement(ee,J({},this.props,{ref:qe})):Ft}constructor(De){super(De),Object(o.a)(this,["onUpOrDownPressed","onKeyDown","updateOptionsListPosition","onClick","onEscPressed","onTabPressed"]);const{measurePopoverEventName:Pe=null}=this.props;Pe&&(this.measurePopoverEvent=new Event(Pe))}},"SelectButton");Z.displayName="SelectButton";const q=v(Ce=>({experimentSkBentoGroupOn:Object(te.d)(Ce,"sk_bento")==="on"}),"mapStateToProps"),k=Object(u.a)(q)(Object(Ee.a)(Z));var se=t.a.forwardRef((Ce,De)=>t.a.createElement(k,J({},Ce,{refToForward:De}))),re=e("HP72"),X=e("YsXF"),w=e("Pewd"),ce=e("9ADk"),ie=e("FRd1");function oe(){return oe=Object.assign||function(Ce){for(var De=1;De<arguments.length;De++){var Pe=arguments[De];for(var Ue in Pe)Object.prototype.hasOwnProperty.call(Pe,Ue)&&(Ce[Ue]=Pe[Ue])}return Ce},oe.apply(this,arguments)}v(oe,"basic_select_extends");const me={onClick:{action:l.UiAction.CLICK}},ue=v(Ce=>Ce.map(De=>{let{id:Pe}=De;return Pe}),"getIdsFromHintOrErrors");let _e=v(class extends s.Component{renderOptionsList(){const{ariaLabel:De,onOptionSelected:Pe,onOptionsListClose:Ue,renderOption:ae,resultsInPopover:ne,overlayClassName:Ie,listClassName:Te,selectState:Me,setSelectState:Ne,width:He,classPrefix:Et,minOptionsListWidth:Je,optionsRowHeight:qe,maxListHeight:ke,onScrollablePage:rt,dynamicHeight:pe,forceMaxHeight:je,includePadding:xe,includeDividers:ze,preventScroll:st}=this.props,{isDisabled:ct}=Me;return ct?null:ne?t.a.createElement(X.a,{className:Te,selectState:Me,setSelectState:Ne,renderOption:ae,ariaLabel:De,onOptionSelected:Pe,onOptionsListClose:Ue,width:He,inputRef:this.inputContainerRef,measurePopoverEventName:this.measurePopoverEventName,classPrefix:Et,selectDataQa:this.fallbackDataQa,minOptionsListWidth:Je,optionsRowHeight:qe,focusOnMount:!0,popoverProps:Ie?{overlayClassName:Ie}:void 0,shouldAlwaysHaveActiveRow:!0,maxListHeight:ke,onScrollablePage:rt,dynamicHeight:pe,forceMaxHeight:je,includePadding:xe,includeDividers:ze,preventScroll:st}):t.a.createElement(re.b,{className:Te,selectState:Me,setSelectState:Ne,renderOption:ae,ariaLabel:De,onOptionSelected:Pe,onOptionsListClose:Ue,width:He,inputRef:this.inputContainerRef,classPrefix:Et,selectDataQa:this.fallbackDataQa,optionsRowHeight:qe,maxListHeight:ke,focusOnMount:!0,shouldAlwaysHaveActiveRow:!0,dynamicHeight:pe,forceMaxHeight:je,includePadding:xe,includeDividers:ze,preventScroll:st})}render(){const{resultsInPopover:De,selectState:Pe,setSelectState:Ue,className:ae,textSelect:ne,textSelectLabel:Ie,focusOnMount:Te,onBlur:Me,ariaLabel:Ne,ariaLabelledBy:He,ariaDescribedBy:Et,autoClogProps:Je,buttonRef:qe,errors:ke,hints:rt,size:pe,renderSelectedOption:je}=this.props,{isInvalid:xe}=Pe,ze=Object(i.a)(ke),st=Object(i.a)(rt);let ct;ke&&(ct=ze?ue(ke):void 0);let dt;rt&&(dt=st?ue(rt):void 0);const bt=Object(Oe.e)([Et,ct,dt]),Ft=t.a.createElement("div",{className:Object(a.default)(ae,"c-basic-select"),"data-qa":this.fallbackDataQa,ref:this.inputContainerRef},t.a.createElement(se,oe({},this.props,{size:pe,renderSelectedOption:je,selectDataQa:this.fallbackDataQa,selectState:Pe,setSelectState:Ue,measurePopoverEventName:De?this.measurePopoverEventName:void 0,textSelect:ne,textSelectLabel:Ie,focusOnMount:Te,onBlur:Me,ariaLabel:Ne,ariaLabelledBy:He,ariaDescribedBy:bt,"aria-invalid":xe,ref:qe})),ze&&ke&&t.a.createElement(w.a,{errors:ke}),st&&rt&&rt.map(Bt=>{let{id:at,message:Ht}=Bt;return t.a.createElement(ce.a,{key:at,id:at},Ht)}),this.renderOptionsList());return Je?t.a.createElement(ie.a,{autoClogProps:Je,actionProps:me,elementType:l.ElementType.DROPDOWN},Ft):Ft}constructor(De){super(De),Object(o.a)(this,["renderOptionsList"]),this.inputContainerRef=t.a.createRef();const{selectId:Pe}=De.selectState;this.measurePopoverEventName=`measureSelectPopover--${Pe}`,this.fallbackDataQa=De.selectDataQa||Pe}},"ControlledBasicSelect");_e.displayName="ControlledBasicSelect",_e.defaultProps={renderOption:Ce=>Ce.label,renderSelectedOption:Ce=>Ce.label,size:le.f.MEDIUM,width:225,optionsRowHeight:le.a,errors:[],hints:[],ariaLabelledBy:void 0,ariaDescribedBy:void 0,placeholderText:void 0,selectDataQa:void 0,resultsInPopover:!0,overlayClassName:void 0,listClassName:void 0,onClick:r.a,onOptionSelected:r.a,onOptionsListClose:r.a,className:void 0,classPrefix:void 0,textSelect:!1,textSelectLabel:void 0,minOptionsListWidth:void 0,focusOnMount:!1,onBlur:r.a,maxListHeight:void 0,autoClogProps:void 0,onScrollablePage:!1,buttonRef:void 0,dynamicHeight:!1,forceMaxHeight:!1,includePadding:!0,includeDividers:!0};let be=v(class extends s.Component{static getDerivedStateFromProps(De,Pe){const{selectedOption:Ue}=De,{selectedOption:ae}=Pe;return!ae||Ue!==void 0&&Ue!==ae?{selectedOption:Ue}:null}setSelectState(De,Pe){return this.setState(De,Pe)}render(){const{isDisabled:De,isInvalid:Pe,isRequired:Ue,errors:ae}=this.props,ne=Pe||Object(i.a)(ae),Ie=Object(c.a)(()=>({...this.state,isDisabled:De,isInvalid:ne,isRequired:Ue}));return t.a.createElement(_e,oe({},this.props,{selectState:Ie(),setSelectState:this.setSelectState}))}constructor(De){super(De),this.state={activeRowIndex:null,isDisabled:De.isDisabled,isExpanded:De.isExpanded,isInvalid:De.isInvalid,isRequired:De.isRequired,options:De.options,selectId:De.selectId,selectedOption:De.selectedOption,selectType:le.g.BASIC},Object(o.a)(this,["setSelectState"])}},"BasicSelect");be.displayName="BasicSelect",be.defaultProps={isDisabled:!1,isExpanded:!1,isRequired:!0,isInvalid:!1,errors:[],hints:[],onOptionSelected:r.a,onOptionsListClose:r.a,selectedOption:void 0,selectId:`basic-select-${Object(Oe.d)()}`,maxListHeight:void 0,autoClogProps:void 0};var Ae=n.a=be},"6VWW":function(K,n,e){"use strict";e.d(n,"a",function(){return O}),e.d(n,"b",function(){return m});var s=e("Zbwg"),t=e("tYiI");const a=/^P[a-z0-9-]{1,}$/;function r(g){return g?a.test(g):!1}v(r,"looksLikePageId");var c=e("2vQQ"),o=e("E3dU"),i=e("E97Y"),l=e("RWAF"),u=e("l1I1"),f=e("hwwf"),d=e("bJfW"),O;(function(g){g.Channel="channel",g.ChannelCanvas="channel_canvas",g.DM="dm",g.MPDM="mpdm",g.App="app",g.Page="page",g.Unknown="unknown",g.Doc="doc",g.List="list",g.ListRecord="list_record",g.Thread="thread",g.Help="help",g.AboutWorkspace="about_workspace"})(O||(O={}));function m(g,E){if(Object(s.a)(E)){const p=Object(o.c)(g,E);return Object(l.a)(g,p)?O.App:Object(i.g)(p)?O.DM:Object(i.i)(p)?O.MPDM:O.Channel}return E===O.ChannelCanvas?O.ChannelCanvas:E===O.Thread?O.Thread:Object(t.a)(E)?O.App:r(E)||Object(c.k)(E)||E&&E[0]==="V"?O.Page:Object(u.a)(E)?O.Doc:Object(f.r)(E)?O.List:Object(f.v)(E)?O.ListRecord:Object(d.a)(E)?O.AboutWorkspace:E===O.Help?O.Help:O.Unknown}v(m,"getViewType")},"6XI5":function(K,n,e){K.exports=e.p+"ava_0022-48-93db11d.png"},"6etV":function(K,n,e){"use strict";e.d(n,"a",function(){return f});var s=e("7EGn"),t=e("E3dU"),a=e("xwCZ"),r=e("dlm8"),c=e("ZOzc"),o=e("VOl3"),i=e("E97Y"),l=e("g05w"),u=e("9Gfp");const f=v((d,O,m)=>{const g=Object(t.z)(d,O)&&Object(t.c)(d,O),E=m?Object(a.g)(d,m):null;if(!O||!g||!Object(u.m)(d)||Object(i.g)(g)&&!Object(i.i)(g))return!1;const p=Object(r.d)(d,g.id),h=Object(s.a)(p,"counts.member_count")||0,_=Object(c.a)(d,"loud_channel_mentions_limit")||1/0,b=h>=_;return b&&E&&(Object(l.a)(g)&&Object(o.a)(E)||!Object(l.a)(g)&&Object(o.d)(d,E))?!1:b},"shouldStopChannelMentions")},"6inW":function(K,n,e){"use strict";e.d(n,"a",function(){return t}),e.d(n,"b",function(){return a});var s=e("RpF1");const t=v(r=>r?`${s.l}_${r}`:`${s.l}_unknownChannelId`,"getHuddleChildWindowId"),a=v(r=>r?r.startsWith(s.l):!1,"isHuddleChildWindowId")},"6kKm":function(K,n,e){"use strict";e.d(n,"a",function(){return a});var s=e("nNoG");const t=new s.b("broadcast_keywords");function a(r){if(!r)return"";switch(r.ms_name){case"channel":return t.t("channel");case"everyone":return t.t("everyone");case"here":return t.t("here");default:return r.ms_name||""}}v(a,"getBroadcastKeywordName")},"6kzs":function(K,n,e){"use strict";e.d(n,"a",function(){return c});var s=e("OZf9"),t=e("Muja"),a=e("ifKl"),r=e("fDBt");let c=v(class{layout(){const{keys:i}=this,l={};let u=0;Object(s.a)(i,f=>{l[f]=u;const d=this.getHeight(f);u+=d+(d>0?this.gutter:0)}),Object(t.a)(l,this.tops)||(this.tops=l),u!==this.totalHeight&&this.onTotalHeightChange(u),this.totalHeight=u}getHeight(i){return this.heightCache.get(i)}getHeightValidity(i){return this.heightCache.getValidity(i)}getTop(i){return this.tops[i]}getBottom(i){return this.tops[i]+this.getHeight(i)}getTops(){return this.tops}getTotalHeight(){return this.totalHeight}getOffsetForKey(i){return i?this.getTop(i):this.totalHeight}getBounds(i,l){const u=this.keys;let f=0;for(;f+1<u.length;){const O=u[f+1];if(this.getTop(O)>i)break;f+=1}let d=f;for(;d<u.length;){const O=u[d];if(this.getTop(O)>l)break;d+=1}return{start:f,end:d}}setHeight(i,l,u){this.heightCache.set(i,l),this.layout()}setKeys(i,l){this.keys=i,this.layout()}constructor({keys:i=[],gutter:l=0,heightCache:u=new r.a,onTotalHeightChange:f=a.a}={}){this.keys=i,this.heightCache=u,this.onTotalHeightChange=f,this.gutter=l,this.tops={},this.totalHeight=0,this.layout()}},"Layout")},"6rGi":function(K,n,e){"use strict";var s=e("9oTK"),t=e("oTSI"),a=e("LZPg"),r=e("4J92"),c=e("x5lL"),o=e("3REw"),i=e("lhZz"),l=e("9Gfp"),u=e("JoR1"),f=e("NKMX"),d=e("jj3I"),O=e("dKQz"),m=e("lpU5"),g=e("SQ0V"),E=e("4CqU");const p=Object(g.c)("Fetch channel membership info for huddle member",(rt,pe,je)=>{let{channelId:xe,userId:ze}=je;return rt(Object(E.a)({channelId:xe,userIds:[ze]})).then(st=>{let{membershipInfo:ct}=st;return ct[ze]&&"isMember"in ct[ze]?!ct[ze].isMember:!0})});p.meta={name:"createThunk",key:"createThunkisUserNotHuddleChannelMember",description:"Fetch channel membership info for huddle member"};var h=e("1Zcw"),_=e("HoeF"),b=e("GNR7"),I=e("sgFo"),C=e("beVI"),y=e("N1oM"),P=e("n3Lk"),T=e("0dq7"),S=e("RBHu"),A=e("q1tI"),R=e.n(A),x=e("/MKj"),M=e("zxER"),j=e("E/AO"),W=e("Tevt"),U=e("3vtZ"),B=e("nNoG"),Y=e("B4ch"),z=e("E3dU"),F=e("Yauy"),V=e("+CZ0"),L=e("Kmpi"),Q=e("0JvK"),ee=e("DneB");const te=new B.b("huddles");function le(rt){let{errorCode:pe,isJoinError:je,closeModal:xe}=rt;var ze;const st=Object(x.useDispatch)(),ct=(ze=Object(ee.b)(V.p))===null||ze===void 0?void 0:ze.channelId,dt=Object(M.a)(cn=>Object(z.c)(cn,ct)),bt=Object(M.a)(cn=>Object(L.b)(dt)?Object(F.u)(cn,dt,{publicChannelIncludeHashSign:!1,imIncludeAtSign:!1}):void 0),Ft=Object(A.useCallback)(()=>{st(Object(m.h)())},[st]),Bt=Object(A.useCallback)(()=>{st(Object(m.g)())},[st]),at=Object(Q.a)(dt);if(!Object(M.a)(U.G))return null;if(pe===T.c.FreemiumMaxParticipants)return Ft(),null;const Wt=(()=>{switch(pe){case T.c.MaxParticipants:return te.rt("This huddle already has 50 people, which is the maximum allowed.",{fallbackHash:"28bfe42ca3761e8197a5d5511e96f91f7a927e18"});case T.c.AudioJoinedFromAnotherDevice:return te.rt("To keep things nice and neat, you\u2019re no longer in the huddle here.",{fallbackHash:"8e6fe75ad31740e7f9241ccbe132b69a85735e2f"});case T.c.ChimeMeetingEnded:return je?te.rt("The Huddle has ended."):at?te.rt("We ended the huddle since you were the only one there for a bit."):te.rt("We ended your huddle since you were the only one there for a bit.");case T.c.PermissionDenied:case o.n.CallEnded:return te.rt("The Huddle has ended.");case T.c.DeviceLocked:return te.rt("When your computer locks, you automatically leave any huddle you\u2019re in. You can change this in <a>Preferences</a>.",null,cn=>{let{text:mn,tag:In}=cn;return In==="a"?R.a.createElement(W.a,{onClick:Bt},mn):null});default:return te.rt("You\u2019ll have to go back and give it another try.")}})(),yt=(()=>je?te.t("Can\u2019t join the huddle",{fallbackHash:"4bf244efc6267525220c0012ba0550f91176cc14"}):pe===T.c.AudioJoinedFromAnotherDevice?te.t("You\u2019ve joined the huddle on a different device"):pe===T.c.ChimeMeetingEnded&&!je?at?te.t("You\u2019re no longer in a huddle in #{channelDisplayName}",{channelDisplayName:bt}):te.t("You\u2019re no longer in a huddle"):pe===T.c.DeviceLocked?te.t("You\u2019re no longer in a huddle"):te.t("Something went wrong with your huddle"))(),Xt=(()=>pe===T.c.AudioInputStreamEnded||pe===T.c.MaxParticipants||pe===T.c.ChimeMeetingEnded&&!je?te.t("Got It"):te.t("OK"))();return R.a.createElement(j.a,{overlayClassName:"p-huddle_error_modal__overlay",onClose:xe,onSubmit:xe,showCancelButton:!1,showSubmitButton:!0,title:yt,submitButtonText:Xt},Wt)}v(le,"HuddleErrorModal"),le.displayName="HuddleErrorModal";const Oe={HuddleErrorModal:le},he="huddle_error_modal";var Ee=Object(Y.a)(le,{modalName:he,allowMultiple:!1,isStackable:!0}),ge=e("A1dN"),J=e("Lgge"),H=e("G0eX"),Z=e("5IZy"),q=e("ktUG"),k=e("AWyR"),se=e("WJHF"),re=e("QWPf"),X=e("Z7Ay"),w=e("TGBA"),ce=e("BEaa"),ie=e("s4P+"),oe=e("Pw4T"),me=e("tcZJ"),ue=e("gPPH");class _e{static getInstance(){if(!_e.wakeLockManager)try{_e.wakeLockManager=new _e}catch(pe){Object(ie.b)({label:h.c}).warn("Error instantiating WakeLockManager,",pe.message)}return _e.wakeLockManager}request(){var pe=this;return Object(s.coroutine)(function*(){if(pe.wakeLockSentinel)return J.a.resolve();pe.wakeLockSentinel=yield pe.wakeLock.request("screen").catch(je=>(pe.logger.warn("WakeLock acquire failed",je.message),null)),pe.addHandlers()})()}release(){var pe=this;return Object(s.coroutine)(function*(){if(!pe.wakeLockSentinel)return J.a.resolve();pe.shouldRemoveVisibilityHandler=!0,yield pe.wakeLockSentinel.release(),pe.logger.info("WakeLock released")})()}addHandlers(){this.wakeLockSentinel&&(this.wakeLockSentinel.addEventListener("release",this.handleWakeLockReleased),document.addEventListener("visibilitychange",this.handleDocumentVisibilityChange))}cleanupHandlers(){this.wakeLockSentinel&&(this.wakeLockSentinel.removeEventListener("release",this.handleWakeLockReleased),this.wakeLockSentinel=null,this.shouldRemoveVisibilityHandler&&(document.removeEventListener("visibilitychange",this.handleDocumentVisibilityChange),this.shouldRemoveVisibilityHandler=!1))}handleWakeLockReleased(){var pe=this;return Object(s.coroutine)(function*(){pe.logger.info("WakeLock released by browser"),pe.cleanupHandlers()})()}handleDocumentVisibilityChange(){var pe=this;return Object(s.coroutine)(function*(){document.visibilityState==="visible"&&pe.request()})()}constructor(){if(this.logger=Object(ie.b)({label:h.c}),this.shouldRemoveVisibilityHandler=!1,!navigator.wakeLock)throw Error("navigator.wakeLock undefined");this.wakeLock=navigator.wakeLock,this.handleDocumentVisibilityChange=this.handleDocumentVisibilityChange.bind(this),this.handleWakeLockReleased=this.handleWakeLockReleased.bind(this)}}v(_e,"wake_lock_manager_WakeLockManager");var be=e("35RN");const Ae=60*1e3,Ce=15*1e3,De=1e3*10,Pe=1e3*60,Ue=5e3;let ae=!1;const ne=500,Ie=25;let Te=v(class{setTargetState(pe){var je=this;return Object(s.coroutine)(function*(){je.targetState=pe;const{huddleState:xe,huddleSubState:ze}=je.targetState;je.isValidHuddleSubState(xe,ze)||(je.targetState.huddleSubState=je.getInitialSubStateForHuddleState(xe)),Object(i.dispatchForClientStore)(Object(O.Y)(je.getOptimisticState(pe))),yield je.process()})()}setTargetSubState(pe){var je=this;return Object(s.coroutine)(function*(){je.isValidHuddleSubState(je.targetState.huddleState,pe)&&(je.targetState.huddleSubState=pe,yield je.process())})()}transitionFromPrejoinToStarted(){this.setTargetState({huddleState:T.a.STARTED,teamId:this.targetState.teamId,channelId:this.targetState.channelId,muted:this.targetState.muted,callId:this.targetState.callId,experimentHuddlesLoungeMusicPlayerGroupOn:this.targetState.experimentHuddlesLoungeMusicPlayerGroupOn})}getTimeOfLastStateChange(){return this.timeOfLastStateChange}getTimeOfLastSubStateChange(){return this.timeOfLastSubStateChange}waitForStartStop(){var pe=this;return Object(s.coroutine)(function*(){return pe.startStopDeferred||J.a.resolve()})()}isProcessing(){var pe;return(pe=this.startStopDeferred)===null||pe===void 0?void 0:pe.isPending()}isTargetState(){const{teamId:pe,channelId:je,huddleState:xe}=this.getClientHuddleState();return Object(U.H)(this.targetState.huddleState)?xe===this.targetState.huddleState:pe===this.targetState.teamId&&je===this.targetState.channelId&&xe===this.targetState.huddleState}isTargetSubState(){return this.getClientHuddleState().huddleSubState===this.targetState.huddleSubState}hasBeenInSubStateForAtLeastApproxTime(pe){return this.timeOfLastSubStateChange?Date.now()-this.timeOfLastSubStateChange>pe-ne:!1}isValidHuddleSubState(pe,je){return pe===T.a.STARTED?je===void 0?!1:Object(w.a)(T.d).includes(je):je===void 0}getInitialSubStateForHuddleState(pe){if(pe===T.a.STARTED)return T.d.INITIAL_ALONE}process(){var pe=this;return Object(s.coroutine)(function*(){if(pe.isProcessing())return pe.waitForStartStop();pe.startStopDeferred=Object(k.a)();const je=setTimeout(Object(s.coroutine)(function*(){var xe;if(!((xe=pe.startStopDeferred)===null||xe===void 0)&&xe.isPending()){const ze=new J.a.TimeoutError("HuddleStateManager timeout");yield pe.handleErrorAndDisconnect(ze)}}),pe.startStopTimeout);try{yield pe.runLoop(),clearTimeout(je),pe.startStopDeferred.resolve()}catch(xe){yield pe.handleErrorAndDisconnect(xe)}finally{clearTimeout(je)}pe.startStopDeferred=null})()}runLoop(){var pe=this;return Object(s.coroutine)(function*(){let je=0;for(;!pe.isTargetState();){if(!pe.isProcessing())return;if(je+=1,je>Ie)throw new Error("runLoop was stuck");const{teamId:st,channelId:ct,huddleState:dt}=pe.getClientHuddleState(),{teamId:bt,channelId:Ft,huddleState:Bt,callId:at}=pe.targetState;if(st!==bt&&(delete pe.clogger,delete pe.logger,delete pe.telemeter),[T.a.STARTED,T.a.PRE_JOINED].includes(Bt)){if(st!==bt||ct!==Ft){switch(dt){case T.a.PENDING:case T.a.STARTED:case T.a.PRE_JOINED:yield pe.goToNext(T.a.ENDING);break;default:yield pe.goToNext(T.a.STARTING)}continue}switch(dt){case T.a.NOT_STARTED:yield pe.goToNext(T.a.STARTING);break;case T.a.STARTING:try{yield pe.goToNext(T.a.PENDING)}catch(Ht){var xe;if(!((xe=pe.credentials)===null||xe===void 0)&&xe.isQuickJoinCredentials){if(delete pe.credentials,yield pe.clearQuickJoinCredentials(),Ht.message===T.c.ChimeMeetingEnded)throw Ht;if(at){const Wt=Object(b.r)(pe.getState(),at);if(Wt&&Wt.hasEnded)throw new Error(T.c.ChimeMeetingEnded)}if(Object(I.f)(pe.getState())){const Wt=Date.now(),yt=!0;yield pe.disconnect(yt);const cn=Date.now()-Wt;pe.getLogger().info(`Disconnecting after failed attempt to join huddle added ${cn}ms to TTI`)}else pe.getLogger().warn("Initializing a new huddle without disconnecting the last one");yield pe.goToNext(T.a.STARTING)}else throw Ht}break;case T.a.PENDING:yield pe.goToNext(pe.targetState.huddleState);break;case T.a.PRE_JOINED:yield pe.goToNext(T.a.COMPLETING_PRE_JOIN);break;case T.a.COMPLETING_PRE_JOIN:yield pe.completePrejoin({isStartMuted:pe.targetState.muted}),yield pe.goToNext(T.a.STARTED);break;case T.a.STARTED:throw new Error("This should not be possible");case T.a.ENDING:case T.a.SURVEY:case T.a.SURVEY_GOOD:default:yield pe.goToNext(T.a.STARTING);break}continue}if([T.a.PENDING,T.a.STARTED,T.a.PRE_JOINED].includes(dt)){yield pe.goToNext(T.a.ENDING);continue}yield pe.goToNext(Bt)}let ze=0;for(;!pe.isTargetSubState();){if(ze+=1,ze>Ie)throw new Error("runLoop() for huddle substate was stuck");const{huddleState:st,huddleSubState:ct}=pe.getClientHuddleState(),{huddleSubState:dt}=pe.targetState;if(!pe.isValidHuddleSubState(st,dt)){const bt=pe.getInitialSubStateForHuddleState(st);pe.targetState.huddleSubState=bt,yield pe.goToNextSubState(bt),pe.getLogger().warn(h.c,`attempted to reach invalid huddleSubstate (${dt}) for the given huddleState (${st})`);continue}if(st===T.a.STARTED){switch(ct){case T.d.INITIAL_ALONE:if(dt===T.d.INITIAL_ALONE_NOTICE_ACTIVE){yield pe.goToNextSubState(dt);break}yield pe.goToNextSubState(T.d.IN_PROGRESS_TOGETHER);break;case T.d.INITIAL_ALONE_NOTICE_ACTIVE:if(dt===T.d.INITIAL_ALONE_NOTICE_DISMISSED){yield pe.goToNextSubState(dt);break}yield pe.goToNextSubState(T.d.IN_PROGRESS_TOGETHER);break;case T.d.INITIAL_ALONE_NOTICE_DISMISSED:yield pe.goToNextSubState(T.d.IN_PROGRESS_TOGETHER);break;case T.d.IN_PROGRESS_TOGETHER:yield pe.goToNextSubState(T.d.IN_PROGRESS_ALONE);break;case T.d.IN_PROGRESS_ALONE:if(dt===T.d.IN_PROGRESS_ALONE_NOTICE_ACTIVE){yield pe.goToNextSubState(dt);break}yield pe.goToNextSubState(T.d.IN_PROGRESS_TOGETHER);break;case T.d.IN_PROGRESS_ALONE_NOTICE_ACTIVE:if(dt===T.d.IN_PROGRESS_ALONE_NOTICE_DISMISSED){yield pe.goToNextSubState(dt);break}yield pe.goToNextSubState(T.d.IN_PROGRESS_TOGETHER);break;case T.d.IN_PROGRESS_ALONE_NOTICE_DISMISSED:yield pe.goToNextSubState(T.d.IN_PROGRESS_TOGETHER);break;default:yield pe.goToNextSubState(T.d.INITIAL_ALONE)}continue}yield pe.goToNextSubState(void 0)}})()}goToNext(pe){var je=this;return Object(s.coroutine)(function*(){var xe,ze,st,ct;je.getLogger().info(`Marking huddle as ${pe} [${(st=(xe=je.targetState)===null||xe===void 0?void 0:xe.teamId)!==null&&st!==void 0?st:"N/A"}, ${(ct=(ze=je.targetState)===null||ze===void 0?void 0:ze.channelId)!==null&&ct!==void 0?ct:"N/A"}]`);const dt=Date.now();je.timeOfLastStateChange=dt,je.timeOfLastSubStateChange=dt;const bt=je.getInitialSubStateForHuddleState(pe);if(pe===T.a.STARTING){var Ft,Bt;const Wt=je.assertTargetTeamAndChannel(T.a.STARTING),yt=je.getOptimisticState(je.targetState);je.getLogger().info(`Optimistic state: ${yt.optimisticHuddleState}`),Object(i.dispatchForClientStore)(Object(O.a)({huddleState:pe,huddleSubState:bt,...Wt,...yt,isPrejoin:((Ft=je.targetState)===null||Ft===void 0?void 0:Ft.huddleState)===T.a.PRE_JOINED,sessionId:Object(ue.a)()})),je.credentials=yield je.fetchCredentials(),(Bt=je.getTelemeter())===null||Bt===void 0||Bt.mark(S.d);return}if(pe===T.a.PENDING){const Wt=je.assert(je.credentials,"Expected credentials to be set before PENDING");Object(i.dispatchForClientStore)(Object(O.Y)({huddleState:pe,huddleSubState:bt,...je.assertTargetTeamAndChannel(T.a.PENDING),callId:Wt.roomId})),yield je.connectToChime(Wt,je.targetState),delete je.credentials;return}if(pe===T.a.STARTED){var at;const Wt=je.assertTargetTeamAndChannel(T.a.STARTED);Object(i.dispatchForClientStore)(Object(O.Y)({huddleState:pe,huddleSubState:bt,optimisticHuddleState:null,...Wt,isPrejoin:!1})),Object(u.u)(je.getState(),"huddles_set_status")&&je.scheduleHuddleStateExpirationIncrement(),je.setCoachmarkTimeout(bt),(at=_e.getInstance())===null||at===void 0||at.request()}else{var Ht;(Ht=_e.getInstance())===null||Ht===void 0||Ht.release()}if(pe===T.a.PRE_JOINED&&Object(i.dispatchForClientStore)(Object(O.Y)({huddleState:pe,huddleSubState:bt,optimisticHuddleState:null,...je.assertTargetTeamAndChannel(T.a.PRE_JOINED)})),pe===T.a.ENDING){Object(i.dispatchForClientStore)(Object(O.Y)({huddleState:pe,huddleSubState:bt})),yield je.disconnect();return}Object(i.dispatchForClientStore)(Object(O.Y)({huddleState:pe,huddleSubState:bt,optimisticHuddleState:null}))})()}goToNextSubState(pe){var je=this;return Object(s.coroutine)(function*(){pe===T.d.IN_PROGRESS_ALONE&&setTimeout(()=>{var xe;((xe=je.getClientHuddleState())===null||xe===void 0?void 0:xe.huddleSubState)===T.d.IN_PROGRESS_ALONE&&je.hasBeenInSubStateForAtLeastApproxTime(De)&&(je.isMicEnabled()||je.targetState.experimentHuddlesLoungeMusicPlayerGroupOn)&&je.setTargetSubState(T.d.IN_PROGRESS_ALONE_NOTICE_ACTIVE)},De),je.timeOfLastSubStateChange=Date.now(),Object(i.dispatchForClientStore)(Object(O.Y)({huddleSubState:pe}))})()}handleErrorAndDisconnect(pe){var je=this;return Object(s.coroutine)(function*(){var xe;je.getLogger().error(pe);const{huddleState:ze}=je.getClientHuddleState();if([T.a.PENDING,T.a.STARTED].includes(ze))try{yield J.a.race([new J.a((st,ct)=>{setTimeout(()=>ct(new Error("HuddleStateManager disconnect timeout")),je.disconnectTimeout)}),je.disconnect()])}catch(st){je.getLogger().error(st)}Object(i.dispatchForClientStore)(Object(O.Y)({huddleState:T.a.NOT_STARTED,optimisticHuddleState:null})),yield J.a.resolve(je.handleError(pe,ze)),(xe=je.startStopDeferred)===null||xe===void 0||xe.reject(pe)})()}getInitialAloneInHuddleTimeOutValue(){if(ae)return Ue;if(!this.targetState.experimentHuddlesLoungeMusicPlayerGroupOn)return Pe;const pe=this.getState(),je=Object(u.u)(pe,be.a);return je?je*1e3:(this.getLogger().info("User pref 'huddles_play_music_timeout' is undefined, using default 60 seconds"),Pe)}setCoachmarkTimeout(pe){pe===T.d.INITIAL_ALONE&&(setTimeout(()=>{var je;((je=this.getClientHuddleState())===null||je===void 0?void 0:je.huddleSubState)===T.d.INITIAL_ALONE&&this.hasBeenInSubStateForAtLeastApproxTime(this.getInitialAloneInHuddleTimeOutValue())&&(this.isMicEnabled()||this.targetState.experimentHuddlesLoungeMusicPlayerGroupOn)&&(this.setTargetSubState(T.d.INITIAL_ALONE_NOTICE_ACTIVE),this.getLogger().info("setTimeout executed on substate: initial_alone"))},this.getInitialAloneInHuddleTimeOutValue()),this.getLogger().info("setTimeout started on substate: initial_alone"))}isMicEnabled(){var pe;return!!(!((pe=Object(a.V)(this.getState()))===null||pe===void 0)&&pe.isMicrophoneEnabled)}getClientHuddleState(){const pe=Object(i.getStateForClientStore)(),je=Object(V.g)(pe),{channelId:xe,teamId:ze}=Object(V.p)(pe)||{};if(!je||je===T.a.NOT_STARTED)return{huddleState:T.a.NOT_STARTED,channelId:xe,teamId:ze};const st=Object(V.h)(pe);return{huddleState:je,huddleSubState:st,channelId:xe,teamId:ze}}assertTargetTeamAndChannel(pe){const{teamId:je,channelId:xe}=this.targetState;return{teamId:this.assert(je,`Expected teamId to be set for ${pe}`),channelId:this.assert(xe,`Expeted channelId to be set for ${pe}`)}}getChannelIdOrDie(){const{channelId:pe}=this.getClientHuddleState(),{channelId:je}=this.targetState,xe=pe||je;return this.assert(xe,"No channel ID or active huddle")}getThreadTsOrNothing(){const{threadTs:pe}=this.getClientHuddleState(),{threadTs:je}=this.targetState;return pe||je}getIsMultiDevice(){return!!this.targetState.isMultiDevice}getTeamIdOrDie(){const{teamId:pe}=this.getClientHuddleState(),{teamId:je}=this.targetState,xe=pe||je;return this.assert(xe,"No team ID or active huddle")}getCallIdOrDie(){const pe=Object(i.getStateForClientStore)(),je=Object(V.a)(pe);return this.assert(je,"No call ID or active huddle")}getHuddleState(){const{huddleState:pe}=this.getClientHuddleState();return pe}dispatch(pe){const je=this.getTeamIdOrDie();return Object(i.dispatchForTeamId)(je,pe)}getState(pe){const je=pe||this.getTeamIdOrDie();return Object(i.getStateByTeamId)(je)}assert(pe,je){if(pe==null)throw new Error(je);return pe}getClogger(){if(this.clogger)return this.clogger;const{teamId:pe}=this.getClientHuddleState();return this.clogger=pe?Object(Z.a)({state:Object(i.getStateByTeamId)(pe)}):Object(Z.a)(),this.clogger}getLogger(){return this.logger?this.logger:(this.logger=Object(ie.b)({label:this.logLabel}),this.logger)}getTelemeter(){if(this.telemeter)return this.telemeter;const{teamId:pe}=this.getClientHuddleState();return pe?this.telemeter=Object(oe.d)({state:Object(i.getStateByTeamId)(pe)}):this.telemeter=Object(oe.a)(),this.telemeter}constructor({logLabel:pe=h.c,startStopTimeout:je=Ae,disconnectTimeout:xe=Ce}={}){this.targetState={huddleState:T.a.NOT_STARTED},this.startStopDeferred=null;var ze=this;this.scheduleHuddleStateExpirationIncrement=Object(s.coroutine)(function*(){if(ze.isTargetState()&&ze.targetState.huddleState!==T.a.STARTED)return;const st=60*5,ct={huddle_state_expiration_ts:new Date().getTime()/1e3+st};yield ze.dispatch(Object(me.a)({profile:ct,reason:"increment-huddle-state-expiration-ts"})),setTimeout(ze.scheduleHuddleStateExpirationIncrement,Object(ce.a)(12e4,-.1,.1))}),this.logLabel=pe,this.startStopTimeout=je,this.disconnectTimeout=xe,this.timeOfLastStateChange=null,this.timeOfLastSubStateChange=null}},"BaseHuddleStateManager");Object(X.a)("baseHuddleStateManager",{setShortTimeoutValue:()=>{ae=!0},resetShortTimeoutValue:()=>{ae=!1}}),Object.defineProperty({shouldUseDebugTimeout:ae},"shouldUseDebugTimeout",{get:()=>ae,set:()=>{ae=!0}});var Ne=e("Erbp"),He=e("HPAj"),Et=e("ED8d");class Je extends Te{start(pe,je,xe,ze,st,ct,dt){var bt=this;return Object(s.coroutine)(function*(){yield bt.startHuddleWithTargetState(T.a.STARTED,pe,je,xe,ze,st,ct,dt)})()}prejoin(pe,je,xe,ze,st){var ct=this;return Object(s.coroutine)(function*(){yield ct.startHuddleWithTargetState(T.a.PRE_JOINED,pe,je,xe,ze,void 0,st)})()}setOthersInHuddle(){var pe=this;return Object(s.coroutine)(function*(){yield pe.setTargetSubState(T.d.IN_PROGRESS_TOGETHER)})()}setAloneInHuddle(){var pe=this;return Object(s.coroutine)(function*(){yield pe.setTargetSubState(T.d.IN_PROGRESS_ALONE)})()}dismissAloneInHuddleWarning(pe){var je=this;return Object(s.coroutine)(function*(){const xe=pe?T.d.INITIAL_ALONE_NOTICE_DISMISSED:T.d.IN_PROGRESS_ALONE_NOTICE_DISMISSED;yield je.setTargetSubState(xe)})()}startHuddleWithTargetState(pe,je,xe,ze,st,ct,dt,bt){var Ft=this;return Object(s.coroutine)(function*(){var Bt;Object(I.E)(Ft.getState(je))&&Object(r.a)(!1),!((Bt=Ft.currentHuddleDeferred)===null||Bt===void 0)&&Bt.isPending()||(Ft.currentHuddleDeferred=Object(k.a)()),yield Ft.setTargetState({huddleState:pe,teamId:je,channelId:xe,muted:ze,callId:st,threadTs:ct,experimentHuddlesLoungeMusicPlayerGroupOn:dt,isMultiDevice:bt})})()}stop(){var pe=this;return Object(s.coroutine)(function*(){var je;const xe=pe.getState(),ze=pe.getHuddleState()!==T.a.PRE_JOINED&&Object(b.F)(xe)&&!pe.isProcessing();ze&&(pe.getLogger().info(`Show huddle survey in ${pe.getChannelIdOrDie()}`),pe.dispatch(Object(P.c)({timeSeen:new Date().toISOString()}))),yield pe.setTargetState({huddleState:ze?T.a.SURVEY:T.a.NOT_STARTED}),pe.getHuddleState()===T.a.NOT_STARTED&&(!((je=pe.currentHuddleDeferred)===null||je===void 0)&&je.isPending())&&pe.currentHuddleDeferred.resolve()})()}enterTerminalState(pe){var je=this;return Object(s.coroutine)(function*(){var xe;!((xe=je.pendingHuddleStart)===null||xe===void 0)&&xe.isPending()?je.pendingHuddleStart.reject(pe):yield je.handleErrorAndDisconnect(pe)})()}waitForHuddleToEnd(){return J.a.resolve(this.currentHuddleDeferred)}handleError(pe,je){var xe;this.getLogger().error(pe);const ze=je===T.a.STARTING||je===T.a.PENDING;this.dispatch(Ee({errorCode:Object(T.f)(pe.name)?pe.name:pe.message,isJoinError:ze})),!((xe=this.currentHuddleDeferred)===null||xe===void 0)&&xe.isPending()&&this.currentHuddleDeferred.resolve()}getOptimisticState(pe){let{teamId:je,channelId:xe,huddleState:ze}=pe;if([T.a.NOT_STARTED].includes(ze))return{optimisticHuddleState:T.a.ENDING};if([T.a.SURVEY].includes(ze))return{optimisticHuddleState:null};if(ze===T.a.PRE_JOINED)return{optimisticHuddleState:T.a.PRE_JOINED,isPrejoin:!0};if(ze===T.a.STARTED&&je){var st,ct;const dt=Object(i.getStateByTeamId)(je),bt=Object(i.getStateForClientStore)(),Ft=Object(V.f)(bt),Bt=(Ft==null?void 0:Ft.channelId)===xe||!((st=Object(b.a)(dt,xe))===null||st===void 0||(ct=st.activeParticipants)===null||ct===void 0)&&ct.length?null:T.a.STARTED;return Object(u.u)(dt,"huddles_global_mute")&&Object(i.dispatchForClientStore)(Object(O.V)(!0)),{isPrejoin:!1,optimisticHuddleState:Bt}}return{}}fetchCredentials(){var pe=this;return Object(s.coroutine)(function*(){const je=pe.getTeamIdOrDie(),xe=pe.getChannelIdOrDie(),ze=pe.getThreadTsOrNothing(),st=Object(i.getStateForClientStore)(),ct=Object(b.a)(pe.getState(),xe),{ttiTrace:dt}=Object(Et.a)().getAllTraceHandlers(),bt=Object(V.r)(st,xe),Ft=pe.getIsMultiDevice(),Bt=Object(He.a)(pe.getState());if(dt==null||dt.createFetchCredentialsSpan(),bt){dt==null||dt.setCachedTag({cached:!0});const at=(ct==null?void 0:ct.id)||Object(U.v)(bt.credentials);if(at){const Ht=Object(b.r)(pe.getState(),at);if(Ht&&Ht.hasEnded)throw yield pe.clearQuickJoinCredentials(),new Error(T.c.ChimeMeetingEnded)}return pe.getTelemeter().count(S.k),dt==null||dt.closeFetchCredentialsSpan(),{roomId:at,server:bt.credentials,isQuickJoinCredentials:!0}}return pe.getTelemeter().mark(S.m),dt==null||dt.setCachedTag({cached:!1}),pe.dispatch(Object(ge.c)({teamId:je,channelId:xe,shouldFetchRegion:!ct,traceId:dt==null?void 0:dt.getTTITraceId(),parentSpanId:dt==null?void 0:dt.getFetchCredentialsSpanId(),...ze&&{threadTs:ze},...Ft&&{isMultiDevice:Ft}})).then(at=>{var Ht,Wt;if(!(!(at==null||(Ht=at.server)===null||Ht===void 0)&&Ht.meeting)||!(!(at==null||(Wt=at.server)===null||Wt===void 0)&&Wt.attendee))throw new Error("create_meeting_failed");dt==null||dt.closeFetchCredentialsSpan(),pe.getTelemeter().mark(S.l);const yt=pe.getTelemeter().measure(S.m,S.y,S.l);return pe.getTelemeter().count(S.y,yt),Object(i.dispatchForClientStore)(Object(O.Y)({metrics:{roomsJoinTime:yt}})),Object(i.dispatchForClientStore)(Object(O.bb)({channelId:xe,joinCredentials:at.server,expiry:Date.now()+h.a,fromInvite:!1})),at.rootThreadTs&&at.roomId&&(pe.dispatch(Object(_.I)({huddleId:at.roomId,thread:{channelId:xe,ts:at.rootThreadTs}})),pe.dispatch(Object(y.e)({channelId:xe,threadTs:at.rootThreadTs,lastRead:at.rootThreadTs,reason:"canvas-rooms-join-api"})),pe.dispatch(Bt?Object(re.a)({channelId:xe,threadTs:at.rootThreadTs,oldest:at.rootThreadTs}):Object(se.a)({channelId:xe,threadTs:at.rootThreadTs,oldest:at.rootThreadTs}))),at})})()}connectToChime(pe,je){let{server:xe,roomId:ze}=pe,{muted:st,huddleState:ct}=je;var dt=this;return Object(s.coroutine)(function*(){const{ttiTrace:bt}=Object(Et.a)().getAllTraceHandlers();return bt==null||bt.createConnectToMediaServiceSpan(),Object(i.dispatchForClientStore)(Object(O.e)({callResult:{server:xe,roomId:ze,regions:"",inviteResponses:[],virtualRoomId:""},isStartMuted:st,waitForHuddleStart:Object(k.a)(),isPrejoin:ct===T.a.PRE_JOINED})),dt.pendingHuddleStart=Object(k.a)(),ct===T.a.PRE_JOINED?J.a.resolve():dt.pendingHuddleStart})()}resolvePendingJoin(pe){var je=this;return Object(s.coroutine)(function*(){try{var xe;const st=je.getChannelIdOrDie(),{ttiTrace:ct}=Object(Et.a)().getAllTraceHandlers(),dt=je.getState(),bt=Object(i.getStateForClientStore)(),{callId:Ft,optimisticHuddleState:Bt}=Object(V.p)(bt)||{},at=Object(b.A)(dt);if(je.getLogger().info(`Resolve pending huddle (${st}, optimisticHuddleState: ${Bt}, has optimisticTopic: ${!!at})`),!(!((xe=je.pendingHuddleStart)===null||xe===void 0)&&xe.isPending()))throw new Error("No pending huddle start in resolvePendingJoin");const Ht=je.assert(Ft,"Room ID is not defined for pending join"),Wt=Object(u.u)(dt,"huddles_cc_by_default");if(Object(U.N)(dt,st)&&Wt&&(je.dispatch(Object(f.a)()),je.dispatch(Object(d.f)(!0)),je.dispatch(Object(d.d)(!0))),at){try{yield je.dispatch(Object(ge.e)({roomId:Ht,name:at})),je.dispatch(Object(c.E)({id:Ht,name:at}))}catch(Xt){je.getLogger().error(Xt)}je.dispatch(Object(m.e)(null))}Object(i.dispatchForClientStore)(Object(O.c)(st)),ct==null||ct.closeConnectToMediaServiceSpan(),Object(Z.a)({state:dt}).track(q.EventId.HUDDLES_TIME_AUDIO_SESSION_STARTED,{contexts:{calls:{room_id:Ht,duration_ms:Math.round(pe),channel_id:st}}}),Object(i.dispatchForClientStore)(Object(O.Y)({metrics:{audioConnectedTime:pe},isSelfJoined:!0})),je.pendingHuddleStart.resolve()}catch(st){var ze;(ze=je.pendingHuddleStart)===null||ze===void 0||ze.reject(st)}})()}completePrejoin(pe){var je=this;return Object(s.coroutine)(function*(){const xe=je.getChannelIdOrDie(),ze=Object(i.getStateForClientStore)(),{ttiTrace:st}=Object(Et.a)().getAllTraceHandlers(),ct=Object(V.r)(ze,xe);return st==null||st.setCachedTag({cached:!!ct}),st==null||st.createConnectToMediaServiceSpan(),Object(i.dispatchForClientStore)(Object(O.X)({...pe}))})()}clearQuickJoinCredentials(){return Object(s.coroutine)(function*(){const pe=Object(i.getStateForClientStore)(),{channelId:je}=Object(V.p)(pe)||{};return Object(i.dispatchForClientStore)(Object(O.d)({channelId:je}))})()}disconnect(){let pe=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;var je=this;return Object(s.coroutine)(function*(){var xe;const ze=je.getState(),st=Object(i.getStateForClientStore)(),{channelId:ct,teamId:dt}=Object(V.p)(st)||{};Object(i.dispatchForClientStore)(Object(O.V)(!1)),Object(I.y)(ze)&&(Object(i.dispatchForClientStore)(Object(O.P)()),Object(i.dispatchForClientStore)(Object(O.J)({song:void 0}))),Object(i.dispatchForClientStore)(Object(O.Y)({isSelfJoined:!1})),pe||Object(Et.a)().cleanup();const Ft=Object(l.a)(ze),Bt=ct&&Object(b.a)(ze,ct);if(Bt&&ct){const at=(Bt.activeParticipants||[]).filter(Wt=>!(Object(o.g)(Wt)&&Wt.slackId===Ft));je.dispatch(Object(c.E)({id:Bt.id,activeParticipants:at}));const Ht=Object(c.f)(je.getState(),Bt.id);Ht&&je.dispatch(Object(m.l)({call:Ht,channelId:ct}))}if(ct){const at=yield Object(i.dispatchForTeamId)(dt,p({channelId:ct,userId:Ft})),Ht=Object(C.g)(ze),Wt=Object(H.C)(Ht);(at||Wt)&&(yield je.clearQuickJoinCredentials()),Object(i.dispatchForClientStore)(Object(O.c)(ct))}try{const at=Object(k.a)();Object(i.dispatchForClientStore)(Object(O.f)({waitForHuddleEnd:at})),yield at}catch(at){je.getLogger().error(at)}je.dispatch(Object(a.gb)({huddlesVideoActive:!1})),je.dispatch(Object(_.c)()),Object(i.dispatchForClientStore)(Object(O.o)()),!((xe=je.pendingHuddleStart)===null||xe===void 0)&&xe.isPending()&&je.pendingHuddleStart.reject(new Error("HuddleStateManager shutdown"))})()}}v(Je,"huddle_state_manager_HuddleStateManager");const qe=Object(t.a)(()=>{const rt=new Je;return Object(Ne.b)(rt.waitForStartStop.bind(rt)),rt});var ke=n.a=qe},"6w/h":function(K,n,e){K.exports=e.p+"remote_work-preview-5fbbc32.jpg"},"74PA":function(K,n,e){"use strict";e.d(n,"a",function(){return c});var s=e("5IZy"),t=e("9Gfp"),a=e("S4nM"),r=e("M3pb");function c(o,i){let l=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,u=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;var f;const d=(f=Object(r.a)())===null||f===void 0?void 0:f.getState();if(!d)return;const O=Object(s.a)({state:d}).setUser(Object(t.a)(d));if(l){const m={...i,room_id:Object(a.c)(d)};O.track(o,m,{sendImmediately:u})}else O.track(o,i,{sendImmediately:u})}v(c,"trackCallsClog")},"7Bj1":function(K,n,e){"use strict";var s=e("9oTK"),t=e.n(s),a=e("n3tL"),r=e("SQ0V"),c=e("l1I1"),o=e("ktUG"),i=e("2VFn"),l=e("NV6F"),u=e("7ibc"),f=e("i9jZ"),d=e("6VWW"),O=e("xcHN"),m=e("37+L");const g=Object(r.c)("Opens a channel in a new window",function(){var E=Object(s.coroutine)(function*(p,h,_){let{viewSet:b,viewType:I,shouldNavigateInContext:C,shouldShowSearch:y,containerOrigin:P,initialColumnMode:T,clogParams:S}=_;const A=h(),R=b[i.h.Primary],x=b[i.h.Secondary];if(R){if(Object(u.H)(A)&&I===d.a.Doc){var M;const z=(M=b.primary)===null||M===void 0?void 0:M.id;if(!z||!Object(c.a)(z))return;p(Object(l.s)({viewSet:b,clogParams:{entryPoint:"quip",uiComponentName:o.UiComponentName.QUIP_NEW_WINDOW_EMBED},shouldShowSearch:y}));return}if(Object(f.a)(A)){var j,W,U;if((R.id==="thread"||R.id==="comment_thread")&&(!((j=R.params)===null||j===void 0)&&j.threadId)){const{channelId:z}=Object(O.a)(R.params.threadId),F=R.params.entityId,V=R.id==="comment_thread"?F:z;p(Object(l.s)({viewSet:{[i.h.Primary]:Object(m.m)(V??R.params.entityId),[i.h.Secondary]:{id:R.id,params:R.params,viewType:R.viewType}},shouldNavigateInContext:C,containerOrigin:P,initialColumnMode:T,clogParams:S}))}else if((x==null?void 0:x.id)==="channel_canvas"&&(!((W=x.params)===null||W===void 0)&&W.quipDocId||!((U=x.params)===null||U===void 0)&&U.entityId)){var B,Y;p(Object(l.s)({viewSet:{[i.h.Primary]:Object(m.m)(R.id),[i.h.Secondary]:Object(m.n)(((B=x.params)===null||B===void 0?void 0:B.quipDocId)||((Y=x.params)===null||Y===void 0?void 0:Y.entityId),R.id)},shouldNavigateInContext:C,containerOrigin:P,initialColumnMode:T,clogParams:S}))}else p(Object(l.s)({viewSet:b,shouldNavigateInContext:C,shouldShowSearch:y,clogParams:S}))}}});return function(p,h,_){return E.apply(this,arguments)}}());g.meta={name:"createThunk",key:"createThunkopenInDetachedWindow",description:"Opens a channel in a new window"},g.propTypes={viewSet:a.default.object,viewType:a.default.string,fromTileKey:a.default.string},n.a=g},"7HMQ":function(K,n,e){"use strict";e.d(n,"a",function(){return d});var s=e("qBqz"),t=e("xwCZ"),a=e("K7jq");function r(O){return O==null?void 0:O[s.a]}v(r,"getMemberWhoCanShareContactCardPref");function c(O,m){const g=Object(t.g)(O,m);if(!g)return!1;const E=r(g);return E===s.b.NO_ONE?!1:Object(a.a)(g)?E===s.b.EVERYONE:!0}v(c,"isMemberContactInfoShareableById");var o=e("Cnv9"),i=e("9Gfp"),l=e("C3vN");const u={...o.a,CONTACT_PREFS_RESTRICTED:"contact_prefs_restricted",CONTACT_IS_SELF:"contact_is_self",CONTACT_NOT_ACTIVE_MEMBER:"contact_not_active_member"};function f(O,m){let g=[];Object(i.a)(O)===m&&(g=g.concat(u.CONTACT_IS_SELF));const p=Object(t.g)(O,m);Object(l.W)(p)||(g=g.concat(u.CONTACT_NOT_ACTIVE_MEMBER));const h=Object(o.c)(O);return!h.ok&&h.reasons&&(g=g.concat(h.reasons)),c(O,m)||g.push(u.CONTACT_PREFS_RESTRICTED),g.length>0?{ok:!1,reasons:g}:{ok:!0}}v(f,"canUserShareContactByIdWithReasons");function d(O,m){return f(O,m).ok}v(d,"canUserShareContactById")},"7HXw":function(K,n,e){"use strict";e.d(n,"a",function(){return a});var s=e("m5Yc");const{LINK:t}=s.b,a=v(r=>{var c;return((c=r)===null||c===void 0?void 0:c.type)===t},"isRichTextLinkElement")},"7JHn":function(K,n,e){"use strict";e.d(n,"b",function(){return M});var s=e("q1tI"),t=e.n(s),a=e("gSGL"),r=e("/1FC"),c=e("XnHx"),o=e("ifKl"),i=e("iuhU"),l=e("Cfcg"),u=e("s4P+"),f=e("UHsu");function d(Y){return Y instanceof Array?Y.map(z=>d(z)):Y&&Y.type===t.a.Fragment?d(Y.props.children):Y}v(d,"defragment");function O(Y){return t.a.Children.toArray(d(Y))}v(O,"flattenChildren");var m=e("lYQS"),g=e("Trx9"),E=e("ktUG"),p=e("6FZx"),h=e("GFD/"),_=e("NPyv");const b=v(Y=>{let{"aria-labelledby":z,"aria-owns":F}=Y;return F?t.a.createElement("div",{className:"offscreen",role:"group","aria-owns":F,"aria-labelledby":z}):null},"MenuItemGroup");b.displayName="MenuItemGroup";var I=b,C=e("YiJ7"),y=e("1ufr");function P(){return P=Object.assign||function(Y){for(var z=1;z<arguments.length;z++){var F=arguments[z];for(var V in F)Object.prototype.hasOwnProperty.call(F,V)&&(Y[V]=F[V])}return Y},P.apply(this,arguments)}v(P,"_extends");function T(Y){const z=Y&&Y.type;return!!z&&Object(p.c)(z)}v(T,"isMenuItem");function S(Y){const z=Y&&Y.type;return!!z&&Object(f.b)(z)}v(S,"isSubmenu");function A(Y){const z=Y&&Y.type;return z&&Object(h.b)(z)}v(A,"isSeparator");function R(Y){const z=Y&&Y.type;return z&&Object(_.c)(z)}v(R,"isMenuItemHeader");let x=0;function M(){return x>0}v(M,"isMenuVisible");const j={ArrowUp:"selectprevious",Up:"selectprevious",ArrowDown:"selectnext",Down:"selectnext",ArrowLeft:"closesubmenu",Left:"closesubmenu",ArrowRight:"opensubmenu",Right:"opensubmenu",Escape:"closemenu",Enter:"select"};let W=v(class extends s.Component{componentDidMount(){this.focus(),x+=1}componentDidUpdate(z){this.props.kbNavActive&&!z.kbNavActive&&this.activateKBNav()}componentWillUnmount(){x-=1,this.props.onUnmount&&this.props.onUnmount()}onMenuItemSelected(z,F){this.props.onMenuItemSelected&&this.props.onMenuItemSelected(z,F)}onMenuKeyDown(z){var F;const{kbNavActive:V,onMenuKeyDown:L,onCloseSubmenu:Q,onTriggerClose:ee,window:te}=this.props;if(!V)return;const{key:le}=z,Oe=j[le],he=(F=this.keyboardShortcutsMap)===null||F===void 0?void 0:F[le],Ee=this.getSelectedMenuItem(),ge=Ee&&S(Ee);(Oe||he)&&(z.stopPropagation(),z.preventDefault()),(Oe==="selectnext"||Oe==="selectprevious")&&this.onMenuNavigation(Oe),Oe==="closesubmenu"&&(Q==null||Q(z)),(Oe==="select"||Oe==="opensubmenu")&&ge&&this.setState(()=>({highlightedMenuItemKbNavActive:!0})),Oe==="closemenu"&&(ee==null||ee(z));const J=`${this.activeMenuId}-${this.state.highlightedMenuItemIndex}`;if(Oe==="select"&&J&&!ge){var H;(H=te.document.getElementById(J))===null||H===void 0||H.click(),ee==null||ee(z)}if(he){var Z;(Z=te.document.getElementById(he))===null||Z===void 0||Z.click(),ee==null||ee(z)}L==null||L(z,{isCurrentItemSubmenu:ge,closeMenu:ee})}onMenuNavigation(z){const F=this.getIndexOfNextMenuItemInDirection(z);this.setState(()=>({highlightedMenuItemIndex:F,highlightedMenuItemKbNavActive:!1,isKeyboardHighlight:!0}))}onMouseEnterMenuItem(z){const F=this.state.highlightCanChangeOnMouseMovement?z:this.state.highlightedMenuItemIndex;if(this.setState(()=>({highlightedMenuItemIndex:F,contingentHighlightedMenuItemIndex:z,highlightedMenuItemKbNavActive:!1,isKeyboardHighlight:!1})),!!this.state.highlightCanChangeOnMouseMovement&&document.activeElement!==this.ariaMenuNode){var V;(V=this.ariaMenuNode)===null||V===void 0||V.focus()}}onMouseLeaveMenu(){const z=this.state.highlightCanChangeOnMouseMovement?-1:this.state.highlightedMenuItemIndex;this.setState(()=>({highlightedMenuItemIndex:z,contingentHighlightedMenuItemIndex:-1}))}getAllMenuItemIndices(){const z=[];return O(this.props.children).forEach((F,V)=>{(T(F)||S(F))&&z.push(V)}),z}getIndexOfNextMenuItemInDirection(z){const F=this.getAllMenuItemIndices(),V=F.indexOf(this.state.highlightedMenuItemIndex),L=F.length-1;if(z==="selectnext"){const ee=V<L?V+1:0;return F[ee]}const Q=V-1>=0?V-1:L;return F[Q]}setAriaMenuRef(z){this.ariaMenuNode=z}activateKBNav(){var z;(z=this.ariaMenuNode)===null||z===void 0||z.focus(),this.setState(F=>({highlightedMenuItemKbNavActive:!1,highlightedMenuItemIndex:F.highlightedMenuItemIndex===-1?this.getIndexOfNextMenuItemInDirection("selectnext"):F.highlightedMenuItemIndex}))}allowHighlightChange(){this.setState(z=>({highlightedMenuItemIndex:z.contingentHighlightedMenuItemIndex,highlightCanChangeOnMouseMovement:!0})),this.props.allowHighlightChange&&this.props.allowHighlightChange()}getSelectedMenuItem(){const{highlightedMenuItemIndex:z}=this.state;if(!(z<0)&&this.menuChildren)return this.menuChildren[z]}focus(){const{kbNavActive:z,isSubmenu:F}=this.props;if(!z)return;if(!F){this.ariaMenuNode&&this.ariaMenuNode.focus();return}const V=this.getAllMenuItemIndices();if(!V.length){var L;(L=this.ariaMenuNode)===null||L===void 0||L.focus();return}this.setState(()=>({highlightedMenuItemIndex:V[0]}),()=>{var Q;(Q=this.ariaMenuNode)===null||Q===void 0||Q.focus()})}preventHighlightChange(){this.setState(()=>({highlightCanChangeOnMouseMovement:!!this.props.resetHighlightOnChange})),this.props.preventHighlightChange&&this.props.preventHighlightChange()}registerKeyboardShortcutForMenuItem(z,F){if(!z||!F)return;const{label:V,key:L}=z;Object(a.a)(V)&&(Object(a.a)(L)||Object(r.a)(L))&&Object(c.a)(L).forEach(Q=>{this.keyboardShortcutsMap[Q]=F})}renderMenuItem(z,F){const V=this.onMouseEnterMenuItem.bind(this,F),{highlightedMenuItemIndex:L,highlightedMenuItemKbNavActive:Q,isKeyboardHighlight:ee}=this.state,{onMenuItemSelectedBefore:te,stripTerminalSeparators:le,isResponsive:Oe}=this.props;R(z)&&z.props.for&&(this.menuGroups||(this.menuGroups={}),this.menuGroups[z.props.for]={key:z.props.for,"aria-labelledby":Object(_.b)(z.props.for),"aria-owns":[]});const he={...z.props,onMouseEnter:V,key:F},Ee=`${this.activeMenuId}-${F}`,{shortcut:ge}=z.props;if(ge&&this.registerKeyboardShortcutForMenuItem(ge,Ee),T(z)||S(z)){const q=L===F;if(he.activeMenuId=Ee,q&&ee){var J,H,Z;(H=(J=this.ariaMenuNode)===null||J===void 0?void 0:J.querySelector(`#${he.activeMenuId}`))===null||H===void 0||(Z=H.scrollIntoView)===null||Z===void 0||Z.call(H)}he.menuCallbackBefore=te,he.menuCallback=this.onMenuItemSelected,he.menuCallbackId=F,he.highlighted=L===F,he.isKeyboardHighlight=he.highlighted&&ee,he.group&&(this.menuGroups||(this.menuGroups={}),this.menuGroups[he.group]||(this.menuGroups[he.group]={key:he.group,"aria-owns":[]}),this.menuGroups[he.group]["aria-owns"].push(he.activeMenuId))}if(S(z)&&(he.isOpen=he.highlighted&&!ee||he.highlighted&&Q,he.kbNavActive=he.highlighted&&Q,he.returnKBNav=this.activateKBNav,he.preventHighlightChange=this.preventHighlightChange,he.allowHighlightChange=this.allowHighlightChange),A(z)&&le)if(!this.menuChildren)Object(u.b)().warn("Menu.renderMenuItem called without this.menuChildren");else{const q=this.menuChildren[F-1];if(A(q))return null;he.noFirstChild=!0,he.noLastChild=!0}return T(z)&&(he.isResponsive=Oe),t.a.cloneElement(z,he)}renderMenuGroups(){return this.menuGroups?Object.values(this.menuGroups).filter(z=>z["aria-owns"].length>0).map(z=>t.a.createElement(I,{key:z.key,"aria-labelledby":z["aria-labelledby"],"aria-owns":z["aria-owns"].join(" ")})):[]}renderMenuItems(){this.menuChildren=O(this.props.children);const z=this.menuChildren.map(this.renderMenuItem,this);return[...this.renderMenuGroups(),...z]}renderMenu(){const{noMargin:z,menuClassNames:F,"data-qa":V,isUnstyled:L,isResponsive:Q,experimentSkResponsiveMenusGroupOn:ee}=this.props,te=Object(i.default)("c-menu__items",{"c-menu__items--no_margin":z}),le=this.state.highlightedMenuItemIndex!==-1?`${this.activeMenuId}-${this.state.highlightedMenuItemIndex}`:null,Oe=Object(i.default)({"c-menu":!L,"c-menu--responsive":Q&&ee},F);return t.a.createElement("div",{className:Oe,"data-qa":V,style:{width:this.props.width}},t.a.createElement("div",{className:"c-menu__items_scroller"},t.a.createElement("div",{"aria-activedescendant":le??void 0,ref:this.setAriaMenuRef,className:te,onKeyDown:this.onMenuKeyDown,onMouseLeave:this.onMouseLeaveMenu,"data-qa":"menu_items",role:"menu","aria-label":this.props["aria-label"],"aria-describedby":this.props["aria-describedby"],tabIndex:-1,"no-bootstrap":1},this.renderMenuItems())))}render(){const z=this.renderMenu(),{autoClogProps:F}=this.props;return F?t.a.createElement(g.a,P({elementType:E.ElementType.MENU},F),z):z}constructor(z){super(z),this.state={highlightedMenuItemIndex:-1,contingentHighlightedMenuItemIndex:-1,highlightedMenuItemKbNavActive:!1,highlightCanChangeOnMouseMovement:!0,isKeyboardHighlight:!1},this.setAriaMenuRef=this.setAriaMenuRef.bind(this),this.onMenuKeyDown=this.onMenuKeyDown.bind(this),this.onMouseLeaveMenu=this.onMouseLeaveMenu.bind(this),this.onMenuItemSelected=this.onMenuItemSelected.bind(this),this.allowHighlightChange=this.allowHighlightChange.bind(this),this.preventHighlightChange=this.preventHighlightChange.bind(this),this.activateKBNav=this.activateKBNav.bind(this),this.activeMenuId=`menu-${Object(m.a)()}`,this.menuChildren=[],this.keyboardShortcutsMap={},this.ariaMenuNode=void 0,this.menuGroups={}}},"Menu");W.displayName="Menu",W.defaultProps={menuClassNames:void 0,onMenuItemSelected:o.a,onMenuItemSelectedBefore:o.a,onTriggerClose:o.a,onCloseSubmenu:o.a,width:void 0,noMargin:!1,kbNavActive:!0,stripTerminalSeparators:!1,preventHighlightChange:o.a,allowHighlightChange:o.a,resetHighlightOnChange:!1,"data-qa":"menu","aria-label":void 0,onMenuKeyDown:o.a,onUnmount:o.a,isSubmenu:!1,isUnstyled:!1,autoClogProps:void 0,experimentSkResponsiveMenusGroupOn:!1,isResponsive:!0};const U=v(Y=>({experimentSkResponsiveMenusGroupOn:Object(C.a)(Y)}),"mapStateToProps");var B=n.a=Object(y.a)(Object(l.a)(U)(W))},"7JUD":function(K,n,e){"use strict";var s=e("q1tI"),t=e.n(s),a=e("iuhU"),r=e("ifKl"),c=e("vJtL"),o=e("C3Bw"),i=e("zxER"),l=e("YiJ7"),u=e("JBL2"),f=e("zrD9"),d=e("nFQW"),O=e("4t6+"),m=e("nNoG"),g=e("ktUG"),E=e("Trx9"),p=e("Nyfl"),h=e("MLXQ"),_=e("VFSv"),b=e("Jekp"),I=e("Cs2y"),C=e("UGXP");function y(){return y=Object.assign||function(A){for(var R=1;R<arguments.length;R++){var x=arguments[R];for(var M in x)Object.prototype.hasOwnProperty.call(x,M)&&(A[M]=x[M])}return A},y.apply(this,arguments)}v(y,"_extends");const P=new m.b("generic_dialog"),T=v(A=>{let{autoClogProps:R={},centered:x=!0,children:M,className:j,closeModal:W=r.a,contentLabel:U,describedby:B,fullscreen:Y=!1,isOpen:z=!0,labelledby:F,maxWidth:V,overlayClassName:L,bodyOpenClassName:Q,padding:ee=28,role:te="dialog",shouldCloseOnOverlayClick:le=!0,shouldFadeOut:Oe=!1,showCloseButton:he=!0,forceSpeedBumpEnabled:Ee=!1,dataQa:ge,shouldReturnFocusAfterClose:J=!0,onAfterOpen:H=r.a,onClose:Z,onAfterClose:q=r.a,overlayRef:k,modalContentRef:se,UNSAFE_parentSelector:re,closeButtonTone:X}=A;Object(u.a)({shouldRestoreFocus:()=>J,visible:z});const w=Object(h.a)(se),ce=Object(i.a)(l.b),[ie,oe]=Object(s.useState)({isEnabled:Ee,isVisible:!1}),me=Object(s.useCallback)(ke=>{oe(rt=>ke===rt.isEnabled?rt:{isEnabled:ke,isVisible:ke&&rt.isVisible})},[]);Object(s.useEffect)(()=>{me(Ee)},[Ee,me]);const ue=Object(s.useCallback)(ke=>{oe(rt=>ke===rt.isVisible?rt:{...rt,isVisible:ke})},[]),_e=Object(s.useCallback)(function(){let{force:ke=!1}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};ke||!ie.isEnabled?W():ie.isEnabled&&ue(!0)},[W,ue,ie]),be=Object(s.useCallback)(ke=>{_e(),Z==null||Z(ke)},[_e,Z]),Ae=Object(s.useCallback)(ke=>{ke.defaultPrevented||(Object(C.a)(ke)&&ke.key==="Escape"&&ke.preventDefault(),_e(),Z==null||Z(ke))},[_e,Z]),Ce=Object(s.useCallback)(ke=>{w.current=ke},[w]),De=Object(s.useCallback)(ke=>{if(k){if(Object(c.a)(k))return k(ke);k.current=ke}},[k]),Pe=Object(s.useCallback)(()=>{var ke;(ke=w.current)===null||ke===void 0||ke.focus()},[w]),Ue=Object(s.useCallback)((ke,rt)=>t.a.createElement(f.a,{onFocusedElementRemoved:Pe},t.a.createElement("div",y({},ke),rt)),[Pe]),ae=Object(p.a)(()=>{const ke=document.querySelectorAll(".c-sk-overlay");return ke[ke.length-1]});Object(s.useEffect)(()=>(ae==null||ae.classList.add("c-sk-overlay--hidden"),()=>{ae==null||ae.classList.remove("c-sk-overlay--hidden")}),[ae]);const ne=Object(a.default)("c-sk-modal",{"c-sk-modal--faded":ie.isVisible,"c-sk-modal--fullscreen":Y,"c-sk-modal--fixed":!Y,"c-sk-modal--responsive":ce&&!Y},j),Ie=Object(a.default)("c-sk-overlay",{"c-sk-overlay--align-start":!x,"c-sk-overlay--no_animation":!!ae},L),Te=Object(s.useMemo)(()=>({content:{maxWidth:typeof V=="number"?`${V}px`:V},overlay:{padding:typeof ee=="number"?`${ee}px`:ee,paddingTop:typeof ee=="number"?`${Object(O.a)(ee)}px`:ee}}),[V,ee]),{ariaModal:Me,ariaHidden:Ne}=Object(s.useContext)(b.a),He=Object(s.useMemo)(()=>({labelledby:F,describedby:B,modal:Me,hidden:Ne}),[Ne,Me,B,F]),Et=Object(s.useMemo)(()=>({qa:ge}),[ge]),Je=Object(s.useMemo)(()=>({closeButtonIsVisible:he,closeModal:_e,fullscreen:Y,enableSpeedBump:me,showSpeedBump:ue,isSpeedBumpVisible:ie.isVisible}),[me,Y,_e,he,ue,ie.isVisible]),qe=Object(s.useMemo)(()=>({elementName:"close",elementType:g.ElementType.X,action:g.UiAction.CLOSE,onClick:{enableClogAction:!0}}),[]);return t.a.createElement(E.a,y({disableValidationWarnings:!0,enableClogImpressionOffScreen:!0,clogImpression:z,elementType:g.ElementType.MODAL},R),t.a.createElement(o.a,{className:ne,contentLabel:U,isOpen:z,portalClassName:"c-sk-modal_portal",overlayClassName:Ie,bodyOpenClassName:Q,closeTimeoutMS:Oe?160:0,shouldCloseOnOverlayClick:le,onRequestClose:Ae,style:Te,role:te,aria:He,data:Et,contentRef:Ce,shouldReturnFocusAfterClose:!1,onAfterOpen:H,onAfterClose:q,overlayRef:De,contentElement:Ue,parentSelector:re},ie.isVisible&&t.a.createElement("div",{className:"c-sk-modal__speedbump_overlay","aria-hidden":"true"}),t.a.createElement(I.a.Provider,{value:Je},M),he&&t.a.createElement(d.a,{"aria-label":P.t("Close"),"data-qa":"sk_close_modal_button",onClick:be,className:Object(a.default)("c-sk-modal__close_button",{"c-sk-modal__close_button--light":X==="light","c-sk-modal__close_button--dark":X==="dark","c-sk-modal__close_button--responsive":ce}),autoClogProps:qe},t.a.createElement(_.a,{name:"close",size:"20"}))))},"BaseModal");T.displayName="BaseModal";var S=n.a=T},"7PnM":function(K,n,e){"use strict";e.d(n,"b",function(){return c}),e.d(n,"a",function(){return o}),e.d(n,"c",function(){return i});var s=e("n3tL"),t=e("2XU3"),a=e("WCk1"),r=e("e4zL");const c=Object(a.a)("Fetch all available and installed emoji collections from the API",function(l,u){let{reason:f}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return l(Object(t.a)({method:"emoji.collections.list",reason:f,args:{installed_only:"0"}}))});c.meta={name:"createFetcher",key:"createFetcherfetchEmojiCollections",description:"Fetch all available and installed emoji collections from the API"},c.propTypes={reason:s.default.string.isRequired};const o=Object(a.a)("Add an emoji collection",(l,u,f)=>{let{collectionId:d,reason:O}=f;return l(Object(t.a)({method:"emoji.addCollection",args:{collection_id:d},reason:O})).catch(m=>{if(m.name!=="already_installed")throw m})});o.meta={name:"createFetcher",key:"createFetcheraddEmojiCollection",description:"Add an emoji collection"},o.propTypes={collectionId:s.default.string.isRequired,reason:s.default.string.isRequired};const i=Object(a.a)("Remove an emoji collection",(l,u,f)=>{let{collectionId:d,reason:O}=f;return l(Object(r.h)({collectionId:d})),l(Object(t.a)({method:"emoji.removeCollection",reason:O,args:{collection_id:d}}))});i.meta={name:"createFetcher",key:"createFetcherremoveEmojiCollection",description:"Remove an emoji collection"},i.propTypes={collectionId:s.default.string.isRequired,reason:s.default.string.isRequired}},"7T78":function(K,n,e){"use strict";e.d(n,"c",function(){return l}),e.d(n,"b",function(){return u}),e.d(n,"a",function(){return f});var s=e("9oTK"),t=e.n(s),a=e("WCk1"),r=e("o+v5"),c=e("O86Y"),o=e("5W60"),i=e("Yg2s");const l=Object(a.a)("Queries Flannel for a list of external connected orgs/teams",(d,O,m)=>{let{count:g,filter:E,marker:p}=m;return Object(o.d)(Object(c.h)(O()),{method:o.c.EXTERNAL_TEAMS_LIST,args:{count:g,filter:E,marker:p}}).then(h=>h)});l.meta={name:"createFetcher",key:"createFetcherfetchExternalTeamsList",description:"Queries Flannel for a list of external connected orgs/teams"};const u=Object(a.a)("Queries Flannel for channel counts of external connected orgs/teams",(d,O,m)=>{let{teamIds:g,count:E,marker:p}=m;return Object(o.d)(Object(c.h)(O()),{method:o.c.EXTERNAL_TEAMS_COUNTS,args:{team_ids:g,count:E,marker:p}}).then(h=>h)});u.meta={name:"createFetcher",key:"createFetcherfetchExternalTeamsCounts",description:"Queries Flannel for channel counts of external connected orgs/teams"};const f=Object(a.a)("Fetches and upserts external teams that match a query",function(){var d=Object(s.coroutine)(function*(O,m,g){const E=Object(c.h)(m());return Object(i.j)(E,g).then(p=>{let{objects:h,next_marker:_}=p;return O(Object(r.g)({teams:h})),{externalTeams:h,nextMarker:_}})});return function(O,m,g){return d.apply(this,arguments)}}());f.meta={name:"createFetcher",key:"createFetcherfetchAndUpsertExternalTeamsWithQuery",description:"Fetches and upserts external teams that match a query"}},"7UGH":function(K,n,e){"use strict";e.d(n,"a",function(){return a});var s=e("ZKjC"),t=e("z/sp");const a=Object(s.b)((r,c)=>{var o;return(o=Object(t.a)(r))===null||o===void 0?void 0:o[c]});a.meta={name:"createSelector",key:"createSelectorgetPlaceholderByClientMsgId",description:(r,c)=>{var o;return(o=Object(t.a)(r))===null||o===void 0?void 0:o[c]}}},"7lBi":function(K,n,e){"use strict";e.d(n,"v",function(){return s}),e.d(n,"u",function(){return t}),e.d(n,"j",function(){return a}),e.d(n,"h",function(){return r}),e.d(n,"i",function(){return c}),e.d(n,"C",function(){return o}),e.d(n,"p",function(){return l}),e.d(n,"o",function(){return u}),e.d(n,"d",function(){return f}),e.d(n,"e",function(){return d}),e.d(n,"c",function(){return O}),e.d(n,"t",function(){return m}),e.d(n,"a",function(){return g}),e.d(n,"w",function(){return E}),e.d(n,"k",function(){return p}),e.d(n,"q",function(){return _}),e.d(n,"g",function(){return b}),e.d(n,"f",function(){return I}),e.d(n,"s",function(){return y}),e.d(n,"r",function(){return P}),e.d(n,"B",function(){return T}),e.d(n,"D",function(){return A}),e.d(n,"y",function(){return R}),e.d(n,"z",function(){return x}),e.d(n,"l",function(){return M}),e.d(n,"m",function(){return j}),e.d(n,"x",function(){return W}),e.d(n,"A",function(){return U}),e.d(n,"E",function(){return B}),e.d(n,"b",function(){return Y}),e.d(n,"n",function(){return z});const s=180,t=600,a=260,r=310,c=1e3,o=24,i=289,l=321,u=385,f=15;var d;(function(F){F.MANUAL="manual",F.AUTO="auto"})(d||(d={}));const O=500,m=140,g=[{minWidth:1420,sidebar:260,inspector:400},{minWidth:1200,sidebar:260,inspector:380},{minWidth:1080,sidebar:260,inspector:340},{minWidth:960,sidebar:220,inspector:320},{minWidth:860,sidebar:220,inspector:310},{minWidth:0,sidebar:200,inspector:310}],E=[{min:s,max:220,className:"p-workspace__sidebar--tiny"},{min:t-50,max:t,className:"p-workspace__sidebar--large"}],p=[{min:a,max:300,className:"p-workspace__secondary_view--tiny"},{min:301,max:399,className:"p-workspace__secondary_view--medium"},{min:400,max:c,className:"p-workspace__secondary_view--large"}],h=[{min:a,max:300,className:"p-workspace__tiles--tiny"},{min:301,max:499,className:"p-workspace__tiles--medium"},{min:500,max:c,className:"p-workspace__tiles--large"}],_=[{min:1,max:400,className:"p-workspace__primary_view--tiny"},{min:401,max:600,className:"p-workspace__primary_view--small"}],b=260,I=400,C=400,y=8,P=16,T=60,S=44,A=40,R="sidebarWidthIntent",x="sidebarWidthMode",M="inspectorWidthIntent",j="inspectorWidthMode",W="isSidebarVisible",U="isTeamSidebarVisible",B="userPrefersResponsiveSidebar",Y="calculatedSidebarWidth",z="LAYOUT"},"7nVj":function(K,n,e){"use strict";e.d(n,"a",function(){return a});var s=e("59uo"),t=e("4hjS");function a(r){return Object(s.l)(r)&&!!Object(t.l)(r)}v(a,"isFlexpaneOpenInPrimaryView")},"7pFd":function(K,n,e){"use strict";e.d(n,"a",function(){return ft});var s=e("q1tI"),t=e.n(s),a=e("/MKj"),r=e("zxER"),c=e("iuhU"),o=e("+kJ4"),i=e("YUBf"),l=e("VkPA");function u(Be){return Be&&Be.id}v(u,"getEmojiCollectionId");var f=e("k400");function d(Be){return Be&&Be.author}v(d,"getEmojiCollectionAuthor");var O=e("s9IP");function m(Be){return Be&&Be.localEmoji}v(m,"getEmojiCollectionLocalEmoji");var g=e("nNoG"),E=e("RVJP"),p=e("fujP"),h=e("Z0Cl"),_=e("TGBA"),b=e("1myf"),I=e("Fsnq"),C=e("ZBlo"),y=e("n3tL"),P=e("LvEQ"),T=e("8Vn2");function S(Be){return Be&&Be.date_create}v(S,"getEmojiCollectionDateCreate");var A=e("VfSx"),R=e("JoR1"),x=e("T1zM"),M=e("zmn3"),j=e("UnpP"),W=e("oEDn"),U=e("GWPn"),B=e("6R8Z");const Y=new g.b("custom_emoji_list"),z="emoji_packs_clicked_collection_cta",F=v(Be=>{let{id:Ye,name:we,author:mt,emoji:Pt,installed:Nt,onClick:Ze}=Be;const Xe=Object(a.useDispatch)(),Ct=Object(r.a)(tn=>Object(R.u)(tn,z)),G=Object(r.a)(P.h),de=Object(r.a)(P.e);if(!Pt)return null;const Re=u(de)===Ye&&G&&!Ct;function Fe(){Re&&Xe(Object(x.f)({pref:z,value:!0})),Ze()}v(Fe,"handleOnClick");const tt=Object(M.a)(Pt,(tn,Yt)=>({name:Yt,url:tn})),ut=Object(C.a)(tt,4),St=Y.t("by {author}",{author:mt});return t.a.createElement(B.a,{className:"p-emoji_pack_card p-emoji_pack_card--clickable",onClick:Fe},t.a.createElement("div",{className:"display_flex align_items_center margin_bottom_100"},t.a.createElement("div",{className:"flex_one"},t.a.createElement("div",{className:"p-emoji_pack_card__header"},we,Re&&t.a.createElement("span",{className:"margin_left_25"},t.a.createElement(U.a,null,Y.t("NEW")))),t.a.createElement("div",{className:"p-emoji_pack_card__subheader"},St)),Nt&&!Re&&t.a.createElement("div",{className:"flex_none"},t.a.createElement(W.a,{size:"inherit",type:"circle-checkbox-checked",className:"p-emoji_pack_card__checkmark"}))),t.a.createElement("div",{className:"p-emoji_pack_card_rows"},ut.map(tn=>t.a.createElement("div",{key:tn.map(Yt=>`${Yt.name}-card-`).join(),className:"p-emoji_pack_card__row"},tn.map(Yt=>t.a.createElement(j.b,{key:`emoji-pack-${Yt.name}`,showTooltip:!1,text:`:${Yt.name}:`,url:Yt.url,emojiSize:j.a.LARGE})),[...new Array(4-tn.length)].map((Yt,un)=>`emoji-pack-spacer-${un}`).map(Yt=>t.a.createElement("div",{key:Yt,className:"p-emoji_pack_card__spacer"}))))))},"EmojiPackCard");F.displayName="EmojiPackCard";var V=F;const L=new g.b("custom_emoji_list"),Q=v(()=>{const Be=L.t("STAY TUNED"),Ye=L.t("More emoji packs are on the way");return t.a.createElement("div",{className:"p-emoji_pack_card p-emoji_pack_coming_soon"},t.a.createElement(U.a,{className:"p-emoji_pack_coming_soon__pill"},Be),t.a.createElement("div",{className:"p-emoji_pack_coming_soon__text"},Ye),t.a.createElement("div",{className:"p-emoji_pack_coming_soon__illustrations"},t.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"198",height:"30",viewBox:"0 0 198 30",fill:"none"},t.a.createElement("g",{opacity:"0.8"},t.a.createElement("g",{clipPath:"url(#clip0)"},t.a.createElement("path",{d:"M22.7 30C35.2 30 45.3 19.9 45.3 7.3 45.3-5.2 35.2-15.3 22.7-15.3 10.1-15.3 0-5.2 0 7.3 0 19.9 10.1 30 22.7 30Z",fill:"#FFCC4D"}),t.a.createElement("path",{d:"M24 20C25.5 20 26.7 18.5 26.7 16.7 26.7 14.8 25.5 13.3 24 13.3 22.5 13.3 21.3 14.8 21.3 16.7 21.3 18.5 22.5 20 24 20Z",fill:"#664500"}),t.a.createElement("path",{d:"M10.8 10.5C10.6 10.5 10.3 10.4 10.1 10.3 9.5 9.9 9.3 9.1 9.7 8.5 10.9 6.5 14.6 3.2 19.9 4.5 20.7 4.7 21.1 5.4 20.9 6.1 20.7 6.8 20 7.3 19.3 7.1 14.5 5.9 12 9.8 11.9 9.9 11.7 10.3 11.3 10.5 10.8 10.5V10.5ZM26.8 5.5C26.4 5.5 26 5.4 25.7 5 25.3 4.5 25.4 3.6 25.9 3.2 30.2-0.3 34.9 1.1 36.9 2.3 37.5 2.7 37.7 3.5 37.3 4.1 36.9 4.8 36.1 4.9 35.5 4.6 35.3 4.4 31.4 2.1 27.6 5.2 27.4 5.4 27.1 5.5 26.8 5.5Z",fill:"#664500"}),t.a.createElement("path",{d:"M17.8 23.7C17.7 23.7 17.6 23.7 17.5 23.7 17 23.5 16.7 23 16.8 22.4 17.4 20.4 17.2 18.4 16.2 17 15.5 16 14.6 15.5 13.6 15.4 13 15.4 12.6 14.9 12.7 14.3 12.7 13.8 13.2 13.3 13.7 13.4 15.3 13.5 16.8 14.4 17.8 15.8 19.2 17.7 19.5 20.3 18.8 23 18.6 23.4 18.2 23.7 17.8 23.7ZM32.5 19.6C32.3 19.6 32.1 19.6 32 19.5 30.4 18.4 29.5 16.6 29.6 14.5 29.6 12.3 30.7 10.3 32.2 9.4 32.7 9.1 33.3 9.2 33.6 9.7 33.9 10.2 33.7 10.8 33.3 11.1 32.3 11.7 31.6 13.1 31.6 14.6 31.5 16 32.1 17.1 33.1 17.8 33.5 18.1 33.6 18.7 33.3 19.2 33.2 19.5 32.8 19.6 32.5 19.6V19.6Z",fill:"#E2A62D"}),t.a.createElement("path",{d:"M22.9-14.4C22.8-14.4 22.8-14.5 22.7-14.5 22.7-14.5 1.4-18.5 0.5-17.7 -0.4-16.9 1 4.7 1 4.7 1 4.8 1 4.9 1.1 4.9 1.9 5.8 7.4 2.3 13.4-3.1 19.5-8.4 23.7-13.5 22.9-14.4V-14.4Z",fill:"#DD2E44"}),t.a.createElement("path",{d:"M0.5-17.6C0.4-17.6 0.4-17.5 0.4-17.5 0.6-15.6 2.7-0.6 4 4.1 5.9 3 7.8 1.6 10.1-0.2 8.2-3.8 1.5-17.8 0.5-17.6Z",fill:"#EA596E"}),t.a.createElement("path",{d:"M39.9 21L25.8 19.2C24.3 19.1 21.6 19.1 21.8 16.7 21.9 14.5 24.5 14.9 26.4 15.2L40.6 17.5 39.9 21V21Z",fill:"#3B88C3"}),t.a.createElement("path",{d:"M40.6 17.5L34.9 16.6C34.3 16.4 33.7 17.4 33.7 18.5 33.6 19.6 34 20.2 34.6 20.3L40.2 21 40.6 17.5V17.5Z",fill:"#88C9F9"}),t.a.createElement("path",{d:"M46.6 17.1L43.1 20.3 36.8 13.5 40.3 10.3C42.1 8.7 45 8.8 46.6 10.6L46.8 10.8C48.5 12.6 48.4 15.5 46.6 17.1Z",fill:"#3B88C3"}),t.a.createElement("path",{d:"M43.1 20.3C44.6 19 44.4 16.3 42.7 14.4 40.9 12.6 38.3 12.2 36.8 13.5 35.3 14.9 35.5 17.6 37.2 19.4 38.9 21.3 41.6 21.7 43.1 20.3Z",fill:"#88C9F9"}),t.a.createElement("path",{d:"M41.8 19C42.6 18.3 42.3 16.8 41.3 15.7 40.3 14.6 38.8 14.2 38.1 14.9 37.3 15.6 37.5 17.1 38.6 18.2 39.6 19.3 41.1 19.7 41.8 19Z",fill:"#269"}),t.a.createElement("path",{d:"M3.3 28.7C4.4 28.7 5.3 27.8 5.3 26.7 5.3 25.6 4.4 24.7 3.3 24.7 2.2 24.7 1.3 25.6 1.3 26.7 1.3 27.8 2.2 28.7 3.3 28.7Z",fill:"#55ACEE"}),t.a.createElement("path",{d:"M6.5 21L3.4 13.5 0.5 21.6 6.5 21ZM34.7-11.3L29.3-10 30.7-15.3 34.7-11.3Z",fill:"#EA596E"}))),t.a.createElement("g",{opacity:"0.8"},t.a.createElement("path",{d:"M123 6C123 19.3 112.3 30 99 30 85.7 30 75 19.3 75 6 75-7.3 85.7-18 99-18 112.3-18 123-7.3 123 6Z",fill:"#FFCC4D"}),t.a.createElement("path",{d:"M99 11.3C94.2 11.3 91 10.8 87 10 86.1 9.8 84.3 10 84.3 12.7 84.3 18 90.5 24.7 99 24.7 107.5 24.7 113.7 18 113.7 12.7 113.7 10 111.9 9.8 111 10 107 10.8 103.8 11.3 99 11.3Z",fill:"#664500"}),t.a.createElement("path",{d:"M87 12.7C87 12.7 91 14 99 14 107 14 111 12.7 111 12.7 111 12.7 108.3 18 99 18 89.7 18 87 12.7 87 12.7Z",fill:"white"}),t.a.createElement("path",{d:"M115.8 6.3C115.6 6.2 113.2 4.4 109.6 3.1 109.6 3 109.7 2.8 109.7 2.7 109.7 2.2 109.5 1.7 109.2 1.4 111.6 0.7 113.6 0.7 113.7 0.7 114.4 0.7 115 0.1 115-0.7 115-1.4 114.4-2 113.7-2 113.4-2 106.4-1.9 102.1 2.4 101.7 2.8 101.6 3.3 101.8 3.8 102 4.3 102.5 4.7 103 4.7 109.1 4.7 114.2 8.4 114.2 8.4 114.4 8.6 114.7 8.7 115 8.7 115.4 8.7 115.8 8.5 116.1 8.1 116.5 7.5 116.4 6.7 115.8 6.3V6.3ZM95.9 2.4C91.6-1.9 84.6-2 84.3-2 83.6-2 83-1.4 83-0.7 83 0.1 83.6 0.7 84.3 0.7 84.4 0.7 86.4 0.7 88.8 1.4 88.5 1.7 88.3 2.2 88.3 2.7 88.3 2.8 88.4 3 88.4 3.1 84.8 4.4 82.4 6.2 82.2 6.3 81.6 6.7 81.5 7.5 81.9 8.1 82.2 8.5 82.6 8.7 83 8.7 83.3 8.7 83.6 8.6 83.8 8.4 83.8 8.4 88.8 4.7 95 4.7 95.5 4.7 96 4.3 96.2 3.8 96.4 3.3 96.3 2.8 95.9 2.4V2.4Z",fill:"#664500"})),t.a.createElement("g",{opacity:"0.8"},t.a.createElement("path",{d:"M198 6C198 19.3 187.3 30 174 30 160.7 30 150 19.3 150 6 150-7.3 160.7-18 174-18 187.3-18 198-7.3 198 6Z",fill:"#FFCC4D"}),t.a.createElement("path",{d:"M188.7 19.3C192.3 19.3 195.3 16.3 195.3 12.7 195.3 9 192.3 6 188.7 6 185 6 182 9 182 12.7 182 16.3 185 19.3 188.7 19.3Z",fill:"#FF7892"}),t.a.createElement("path",{d:"M159.3 19.3C163 19.3 166 16.3 166 12.7 166 9 163 6 159.3 6 155.7 6 152.7 9 152.7 12.7 152.7 16.3 155.7 19.3 159.3 19.3Z",fill:"#FF7892"}),t.a.createElement("path",{d:"M182.7 11.3C186.7 11.3 190 8.1 190 4 190-0.1 186.7-3.3 182.7-3.3 178.6-3.3 175.3-0.1 175.3 4 175.3 8.1 178.6 11.3 182.7 11.3Z",fill:"#F5F8FA"}),t.a.createElement("path",{d:"M165.3 11.3C169.4 11.3 172.7 8.1 172.7 4 172.7-0.1 169.4-3.3 165.3-3.3 161.3-3.3 158-0.1 158 4 158 8.1 161.3 11.3 165.3 11.3Z",fill:"#F5F8FA"}),t.a.createElement("path",{d:"M165.3 7.3C167.2 7.3 168.7 5.8 168.7 4 168.7 2.2 167.2 0.7 165.3 0.7 163.5 0.7 162 2.2 162 4 162 5.8 163.5 7.3 165.3 7.3Z",fill:"#664500"}),t.a.createElement("path",{d:"M182.7 7.3C184.5 7.3 186 5.8 186 4 186 2.2 184.5 0.7 182.7 0.7 180.8 0.7 179.3 2.2 179.3 4 179.3 5.8 180.8 7.3 182.7 7.3Z",fill:"#664500"}),t.a.createElement("path",{d:"M179.3 22H168.7C167.9 22 167.3 21.4 167.3 20.7 167.3 19.9 167.9 19.3 168.7 19.3H179.3C180.1 19.3 180.7 19.9 180.7 20.7 180.7 21.4 180.1 22 179.3 22ZM190-3.3C189.6-3.3 189.2-3.5 188.9-3.9 185.4-8.6 180.9-8.7 180.7-8.7 179.9-8.7 179.3-9.3 179.3-10 179.3-10.7 179.9-11.3 180.7-11.3 180.9-11.3 186.7-11.3 191.1-5.5 191.5-4.9 191.4-4 190.8-3.6 190.6-3.4 190.3-3.3 190-3.3V-3.3ZM158-3.3C157.7-3.3 157.4-3.4 157.2-3.6 156.6-4 156.5-4.9 156.9-5.5 161.3-11.3 167.1-11.3 167.3-11.3 168.1-11.3 168.7-10.7 168.7-10 168.7-9.3 168.1-8.7 167.3-8.7 167.1-8.7 162.6-8.6 159.1-3.9 158.8-3.5 158.4-3.3 158-3.3Z",fill:"#664500"})),t.a.createElement("defs",null,t.a.createElement("clipPath",null,t.a.createElement("rect",{y:"-18",width:"48",height:"48",fill:"white"})))),t.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"198",height:"30",viewBox:"0 0 198 30",fill:"none"},t.a.createElement("g",{opacity:"0.8"},t.a.createElement("path",{d:"M48 24C48 37.3 37.3 48 24 48 10.7 48 0 37.3 0 24 0 10.7 10.7 0 24 0 37.3 0 48 10.7 48 24Z",fill:"#DA2F47"}),t.a.createElement("path",{d:"M34 39.8C33.9 39.6 32.4 34 24 34 15.6 34 14.1 39.6 14 39.8 13.9 40.1 14.1 40.4 14.3 40.6 14.6 40.7 14.9 40.7 15.1 40.5 15.2 40.4 17.7 38 24 38 30.3 38 32.8 40.4 32.9 40.5 33 40.6 33.2 40.7 33.3 40.7 33.4 40.7 33.6 40.6 33.7 40.6 33.9 40.4 34.1 40.1 34 39.8V39.8ZM20.9 23.1C16.6 18.7 9.6 18.7 9.3 18.7 8.6 18.7 8 19.3 8 20 8 20.7 8.6 21.3 9.3 21.3 9.4 21.3 11.9 21.4 14.6 22.3 13.9 23.2 13.3 24.5 13.3 26 13.3 28.6 14.8 30.7 16.7 30.7 18.5 30.7 20 28.6 20 26 20 25.8 20 25.5 20 25.3 20 25.3 20 25.3 20 25.3 20.3 25.3 20.7 25.2 20.9 24.9 21.5 24.4 21.5 23.6 20.9 23.1V23.1ZM38.7 18.7C38.4 18.7 31.4 18.7 27.1 23.1 26.5 23.6 26.5 24.4 27.1 24.9 27.3 25.2 27.7 25.3 28 25.3 28 25.3 28 25.3 28 25.3 28 25.5 28 25.8 28 26 28 28.6 29.5 30.7 31.3 30.7 33.2 30.7 34.7 28.6 34.7 26 34.7 24.5 34.1 23.2 33.4 22.3 36.1 21.4 38.6 21.3 38.7 21.3 39.4 21.3 40 20.7 40 20 40 19.3 39.4 18.7 38.7 18.7V18.7Z",fill:"#292F33"})),t.a.createElement("g",{opacity:"0.8"},t.a.createElement("path",{d:"M198 24C198 37.3 187.3 48 174 48 160.7 48 150 37.3 150 24 150 10.7 160.7 0 174 0 187.3 0 198 10.7 198 24Z",fill:"#FFCC4D"}),t.a.createElement("path",{d:"M174 28C169.2 28 166 27.4 162 26.7 161.1 26.5 159.3 26.7 159.3 29.3 159.3 34.7 165.5 41.3 174 41.3 182.5 41.3 188.7 34.7 188.7 29.3 188.7 26.7 186.9 26.5 186 26.7 182 27.4 178.8 28 174 28Z",fill:"#664500"}),t.a.createElement("path",{d:"M162 29.3C162 29.3 166 30.7 174 30.7 182 30.7 186 29.3 186 29.3 186 29.3 183.3 34.7 174 34.7 164.7 34.7 162 29.3 162 29.3Z",fill:"white"}),t.a.createElement("path",{d:"M170.9 5.9L164.9 7 161.7 1.3C161.4 0.7 160.7 0.3 160 0.4 159.3 0.6 158.7 1.1 158.6 1.8L157.6 8.2 151.6 9.3C150.9 9.4 150.3 10 150.2 10.7 150.1 11.4 150.5 12.1 151.2 12.4L156.6 15 155.6 21.4C155.5 22.1 155.8 22.9 156.5 23.2 156.7 23.3 157 23.4 157.2 23.4 157.7 23.4 158.1 23.2 158.4 22.9L163.1 18.1 169.1 21C169.8 21.3 170.6 21.1 171.1 20.6 171.5 20.1 171.6 19.3 171.3 18.7L168.2 13 172.4 8.7C172.9 8.2 173 7.4 172.7 6.8 172.3 6.1 171.6 5.8 170.9 5.9V5.9ZM177.1 5.9L183.1 7 186.3 1.3C186.6 0.7 187.3 0.3 188 0.4 188.7 0.6 189.3 1.1 189.4 1.8L190.4 8.2 196.4 9.3C197.1 9.4 197.7 10 197.8 10.7 197.9 11.4 197.5 12.1 196.8 12.4L191.4 15 192.4 21.4C192.5 22.1 192.2 22.9 191.5 23.2 191.3 23.3 191 23.4 190.8 23.4 190.3 23.4 189.9 23.2 189.6 22.9L184.9 18.1 178.9 21C178.2 21.3 177.4 21.1 176.9 20.6 176.5 20.1 176.4 19.3 176.7 18.7L179.8 13 175.6 8.7C175.1 8.2 175 7.4 175.3 6.8 175.7 6.1 176.4 5.8 177.1 5.9V5.9Z",fill:"#E95F28"})),t.a.createElement("g",{opacity:"0.8"},t.a.createElement("path",{d:"M99 48C112.3 48 123 37.3 123 24 123 10.7 112.3 0 99 0 85.7 0 75 10.7 75 24 75 37.3 85.7 48 99 48Z",fill:"#FFCC4D"}),t.a.createElement("path",{d:"M98.1 22.1C97.8 22 97.5 22 97.3 22.1 97.3 22.1 95.6 23.3 92.3 23.3 89.1 23.3 87.4 22.1 87.4 22.1 87.2 22 86.8 22 86.6 22.1 86.3 22.3 86.3 22.7 86.4 22.9 86.5 23.1 88.4 27.3 92.3 27.3 96.3 27.3 98.2 23.1 98.3 22.9 98.4 22.7 98.3 22.3 98.1 22.1V22.1ZM111.4 22.1C111.2 22 110.8 22 110.6 22.1 110.6 22.1 108.9 23.3 105.7 23.3 102.4 23.3 100.7 22.1 100.7 22.1 100.5 22 100.2 22 99.9 22.1 99.7 22.3 99.6 22.7 99.7 22.9 99.8 23.1 101.7 27.3 105.7 27.3 109.6 27.3 111.5 23.1 111.6 22.9 111.7 22.7 111.7 22.3 111.4 22.1V22.1Z",fill:"#664500"}),t.a.createElement("path",{d:"M120.9 16.7C120.9 16.7 120.9 16.6 120.9 16.5 120.9 15.5 120.2 15 119.3 15H114.5L120.2 7C120.5 6.6 120.6 6.4 120.6 5.9 120.6 4.9 119.8 4.8 119.4 4.8H112.3L112.3 3.8C112.3 3.8 110.4 5 110.3 5 110.1 5.1 109.6 5.5 109.6 6.3 109.6 7.3 110.3 7.9 111.2 7.9H115.4L109.7 15.9C109.6 16.1 109.4 16.5 109.4 16.9 109.4 17.7 110.1 18.1 110.9 18.1H119.3C119.6 18.1 120 18 120.2 17.9L122.2 16.7H120.9V16.7Z",fill:"#FFAC33"}),t.a.createElement("path",{d:"M117.4 6.8H113.2C112.3 6.8 111.5 6.2 111.5 5.2 111.5 4.2 112.3 3.6 113.2 3.6H121.4C121.7 3.6 122.6 3.8 122.6 4.7 122.6 5.2 122.5 5.4 122.2 5.8L116.5 13.8H121.3C122.2 13.8 122.9 14.4 122.9 15.4 122.9 16.4 122.2 17 121.3 17H112.8C112 17 111.4 16.6 111.4 15.7 111.4 15.3 111.6 15 111.7 14.8L117.4 6.8V6.8Z",fill:"#2A6797"}),t.a.createElement("path",{d:"M108.2 10C108.2 9.9 108.2 9.9 108.2 9.9 108.2 9.1 107.7 8.7 107 8.7H103.4L107.7 2.7C107.9 2.4 108 2.2 108 1.9 108 1.1 107.3 1 107.1 1H101.7L101.7 0.3C101.7 0.3 100.3 1.2 100.2 1.2 100.1 1.3 99.7 1.6 99.7 2.2 99.7 3 100.2 3.4 100.9 3.4H104.1L99.8 9.4C99.7 9.5 99.6 9.8 99.6 10.1 99.6 10.7 100.1 11 100.7 11H107C107.2 11 107.5 11 107.7 10.9L109.2 10H108.2V10Z",fill:"#FFAC33"}),t.a.createElement("path",{d:"M105.5 2.5H102.4C101.7 2.5 101.2 2.1 101.2 1.4 101.2 0.6 101.7 0.2 102.4 0.2H108.5C108.8 0.2 109.4 0.3 109.4 1 109.4 1.4 109.3 1.5 109.1 1.8L104.9 7.8H108.4C109.1 7.8 109.7 8.2 109.7 9 109.7 9.7 109.1 10.2 108.4 10.2H102.1C101.5 10.2 101 9.9 101 9.3 101 9 101.2 8.7 101.3 8.5L105.5 2.5V2.5Z",fill:"#2A6797"}),t.a.createElement("path",{d:"M98.7 13.9C98.7 13.9 98.7 13.8 98.7 13.8 98.7 13.2 98.2 12.8 97.6 12.8H94.6L98.2 7.7C98.4 7.4 98.5 7.3 98.5 7 98.5 6.3 97.9 6.2 97.7 6.2H93.1L93.1 5.7 91.8 6.4C91.7 6.5 91.4 6.7 91.4 7.3 91.4 7.9 91.9 8.3 92.4 8.3H95.1L91.5 13.4C91.4 13.5 91.3 13.8 91.3 14 91.3 14.6 91.7 14.8 92.2 14.8H97.6C97.8 14.8 98.1 14.7 98.2 14.7L99.5 13.9H98.7Z",fill:"#FFAC33"}),t.a.createElement("path",{d:"M96.4 7.5H93.7C93.1 7.5 92.6 7.2 92.6 6.5 92.6 5.9 93.1 5.5 93.7 5.5H99C99.2 5.5 99.7 5.6 99.7 6.2 99.7 6.5 99.7 6.7 99.5 6.9L95.8 12H98.9C99.5 12 99.9 12.4 99.9 13.1 99.9 13.7 99.5 14.1 98.9 14.1H93.5C93 14.1 92.5 13.8 92.5 13.3 92.5 13 92.7 12.8 92.7 12.7L96.4 7.5V7.5Z",fill:"#2A6797"})))))},"EmojiPackComingSoon");Q.displayName="EmojiPackComingSoon";var ee=Q;const te=new g.b("custom_emoji_list");function le(Be){let{row:Ye,className:we,onPackClick:mt}=Be;return t.a.createElement("div",{key:Ye.map(Pt=>`${u(Pt)}-row`).join(),className:we},Ye.map(Pt=>{if(Pt.type==="coming_soon")return t.a.createElement(ee,{key:"emoji-pack-coming-soon"});if(Pt.type==="spacer")return t.a.createElement("div",{key:"emoji-pack-spacer",className:"p-emoji_pack__spacer"});const Nt=Object(A.a)(Pt);return t.a.createElement(V,{key:`emoji-pack-${u(Pt)}`,installed:Nt,id:u(Pt)||void 0,name:Object(f.a)(Pt),author:d(Pt),emoji:Object(O.a)(Pt),onClick:()=>mt(Pt,{installed:Nt})})}))}v(le,"Row"),le.displayName="Row",le.propTypes={row:y.default.arrayOf(y.default.object),className:y.default.string,onPackClick:y.default.func.isRequired},le.defaultProps={row:[],className:void 0};function Oe(Be){let{orgName:Ye,onPackClick:we}=Be;const mt=Object(a.useDispatch)(),Pt=Object(r.a)(P.b);if(Object(s.useEffect)(()=>{mt(Object(T.a)({reason:"emojiPack:dialog"}))},[mt]),Object(p.a)(Pt))return null;const Nt=Object(h.a)(Pt,G=>Object(A.a)(G)).length;let Ze=Object(_.a)(Pt);Ze=Object(b.a)(Ze,G=>-1*S(G)),Object(I.a)(Pt)<2&&Ze.push({type:"coming_soon"}),Ze.length%2!==0&&Ze.push({type:"spacer"});const Xe=Object(C.a)(Ze,2);let Ct;return Ye?Ct=te.rt("Emoji packs let you add a whole set new of emoji to every {orgName} workspace. They\u2019ll appear in the custom tab of the emoji picker (the one with the Slack icon!).",{orgName:t.a.createElement("b",null,Ye)}):Ct=te.t("Emoji packs let you add a whole set new of emoji for your team. They\u2019ll appear in the custom tab of the emoji picker (the one with the Slack icon!)."),t.a.createElement(i.d,null,t.a.createElement(i.e,null,t.a.createElement("div",null,Nt>0&&t.a.createElement("div",{className:"p-emoji_pack__header"},te.t("Added"),t.a.createElement("div",{className:"p-emoji_pack__pill"},Nt)),t.a.createElement("div",{className:"p-emoji_pack__list"},Xe.map(G=>t.a.createElement(le,{key:G.map(de=>`${u(de)}-rp-`).join(),className:"p-emoji_pack__pack_row",row:G,onPackClick:we}))),t.a.createElement("div",{className:"p-emoji_pack__help"},Ct))))}v(Oe,"AddEmojiPackDialogContent"),Oe.displayName="AddEmojiPackDialogContent";var he=Oe,Ee=e("Cfcg"),ge=e("7EGn"),J=e("ifKl"),H=e("hbEN"),Z=e("WIr4"),q=e("5IZy"),k=e("95ku"),se=e("/qcS"),re=e("rAyg"),X=e("jWAO"),w=e("qDEp"),ce=e("nWdO"),ie=e("9Gfp"),oe=e("oY18"),me=e("YlCL"),ue=e("ktUG"),_e=e("/1FC"),be=e("Z3Pq"),Ae=e("2XU3"),Ce=e("WCk1"),De=e("DmzU"),Pe=e("ZKjC");const Ue=Object(Pe.b)(Be=>!Be||!Be.customizeEmoji||!Be.customizeEmoji.customEmojiData||!Be.customizeEmoji.customEmojiData.length?[]:Be.customizeEmoji.customEmojiData);Ue.meta={name:"createSelector",key:"createSelectorgetCustomEmojiData",description:Be=>!Be||!Be.customizeEmoji||!Be.customizeEmoji.customEmojiData||!Be.customizeEmoji.customEmojiData.length?[]:Be.customizeEmoji.customEmojiData};const ae=Object(Pe.b)(Be=>Be&&Be.customizeEmoji&&Be.customizeEmoji.customEmojiTotalCount?Be.customizeEmoji.customEmojiTotalCount:0);ae.meta={name:"createSelector",key:"createSelectorgetCustomEmojiTotalCount",description:Be=>Be&&Be.customizeEmoji&&Be.customizeEmoji.customEmojiTotalCount?Be.customizeEmoji.customEmojiTotalCount:0};const ne=Object(Pe.b)(Be=>Be&&Be.customizeEmoji&&Be.customizeEmoji.currentPage?Be.customizeEmoji.currentPage:0);ne.meta={name:"createSelector",key:"createSelectorgetLastPageRetrieved",description:Be=>Be&&Be.customizeEmoji&&Be.customizeEmoji.currentPage?Be.customizeEmoji.currentPage:0};const Ie=Object(Pe.b)(Be=>Be&&Be.customizeEmoji&&Be.customizeEmoji.totalPages?Be.customizeEmoji.totalPages:0);Ie.meta={name:"createSelector",key:"createSelectorgetTotalPages",description:Be=>Be&&Be.customizeEmoji&&Be.customizeEmoji.totalPages?Be.customizeEmoji.totalPages:0};const Te=Object(Pe.b)(Be=>Be&&Be.customizeEmoji&&Be.customizeEmoji.isLoadingNewPage?Be.customizeEmoji.isLoadingNewPage:!1);Te.meta={name:"createSelector",key:"createSelectorgetIsLoadingNewPage",description:Be=>Be&&Be.customizeEmoji&&Be.customizeEmoji.isLoadingNewPage?Be.customizeEmoji.isLoadingNewPage:!1};const Me=Object(Pe.b)(Be=>Be&&Be.customizeEmoji&&Be.customizeEmoji.isLoadingNewSearchQuery?Be.customizeEmoji.isLoadingNewSearchQuery:!1);Me.meta={name:"createSelector",key:"createSelectorgetIsLoadingNewSearchQuery",description:Be=>Be&&Be.customizeEmoji&&Be.customizeEmoji.isLoadingNewSearchQuery?Be.customizeEmoji.isLoadingNewSearchQuery:!1};const Ne=Object(Pe.b)(Be=>Be&&Be.customizeEmoji&&Be.customizeEmoji.deletedEmojiList?Be.customizeEmoji.deletedEmojiList:[]);Ne.meta={name:"createSelector",key:"createSelectorgetDeletedEmojiList",description:Be=>Be&&Be.customizeEmoji&&Be.customizeEmoji.deletedEmojiList?Be.customizeEmoji.deletedEmojiList:[]};const He=Object(Pe.b)(Be=>Be&&Be.customizeEmoji&&Be.customizeEmoji.disabledEmoji?Be.customizeEmoji.disabledEmoji:{});He.meta={name:"createSelector",key:"createSelectorgetDisabledEmoji",description:Be=>Be&&Be.customizeEmoji&&Be.customizeEmoji.disabledEmoji?Be.customizeEmoji.disabledEmoji:{}};const Et=Object(Pe.b)(Be=>Be&&Be.customizeEmoji&&Be.customizeEmoji.sortDir?Be.customizeEmoji.sortDir:"asc");Et.meta={name:"createSelector",key:"createSelectorgetSortDirection",description:Be=>Be&&Be.customizeEmoji&&Be.customizeEmoji.sortDir?Be.customizeEmoji.sortDir:"asc"};const Je=Object(Pe.b)(Be=>Be&&Be.customizeEmoji&&Be.customizeEmoji.sortBy?Be.customizeEmoji.sortBy:"name");Je.meta={name:"createSelector",key:"createSelectorgetSortBy",description:Be=>Be&&Be.customizeEmoji&&Be.customizeEmoji.sortBy?Be.customizeEmoji.sortBy:"name"};const qe=Object(Ce.a)("Load the next page of custom emoji data",function(Be,Ye){let{count:we=100,queries:mt,userIds:Pt,reason:Nt="customize-emoji-next-page"}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const Ze=Ye();Be(Object(De.d)(!0));const Ct={page:ne(Ze)+1,count:we,sort_by:Je(Ze),sort_dir:Et(Ze)};return mt&&(Ct.queries=JSON.stringify(mt)),Pt&&(Ct.user_ids=JSON.stringify(Pt)),Be(Object(Ae.a)({method:"emoji.adminList",reason:Nt,args:Ct})).then(G=>{Be(Object(De.d)(!1));const de=Object(_e.a)(G.disabled_emoji)?Object(be.a)(G.disabled_emoji,"name"):G.disabled_emoji;Be(Object(De.a)({newCustomEmojiData:G.emoji,disabledEmoji:de,customEmojiTotalCount:G.custom_emoji_total_count,customEmojiSearchCount:G.paging.total,currentPage:G.paging.page,totalPages:G.paging.pages}))}).catch(G=>{throw G})});qe.meta={name:"createFetcher",key:"createFetcherfetchCustomEmojiNextPage",description:"Load the next page of custom emoji data"},qe.propTypes={queries:y.default.array,userIds:y.default.array};const ke=Object(Ce.a)("Load custom emoji data with a new search query",function(Be,Ye){let{queries:we,page:mt=1,count:Pt=100,sortBy:Nt,sortDir:Ze,userIds:Xe,reason:Ct="customize-emoji-new-query"}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Be(Object(De.e)(!0));const G={page:mt,count:Pt};return we&&(G.queries=JSON.stringify(we)),Xe&&(G.user_ids=JSON.stringify(Xe)),Nt&&Ze&&(G.sort_by=Nt,G.sort_dir=Ze),Be(Object(Ae.a)({method:"emoji.adminList",reason:Ct,args:G})).then(de=>{Be(Object(De.e)(!1));const Le=Object(_e.a)(de.disabled_emoji)?Object(be.a)(de.disabled_emoji,"name"):de.disabled_emoji;Be(Object(De.f)({newCustomEmojiData:de.emoji,disabledEmoji:Le,customEmojiTotalCount:de.custom_emoji_total_count,customEmojiSearchCount:de.paging.total,currentPage:de.paging.page,totalPages:de.paging.pages,sortBy:Nt,sortDir:Ze}))}).catch(de=>{throw de})});ke.meta={name:"createFetcher",key:"createFetcherfetchResetCustomEmoji",description:"Load custom emoji data with a new search query"},ke.propTypes={queries:y.default.array,page:y.default.number,count:y.default.number,sortBy:y.default.oneOf(["created","name"]),sortDir:y.default.oneOf(["asc","desc"]),userIds:y.default.array};const rt=Object(Ce.a)("Deletes the given custom emoji",function(Be,Ye){let{emojiName:we,isPrimaryEmoji:mt=!1,synonyms:Pt=[],reason:Nt="customize-emoji-remove"}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return Be(Object(De.b)({emojiName:we,isPrimaryEmoji:mt,synonyms:Pt})),Be(Object(Ae.a)({method:"emoji.remove",reason:Nt,args:{name:we}})).then(Ze=>Ze).then(()=>{Object(q.a)({state:Ye()}).track("PAGE_CUSTOMIZE_EMOJI",{contexts:{ui_context:{step:"delete",action:"remove",action_status:"success"}}})}).catch(Ze=>{throw Object(q.a)({state:Ye()}).track("PAGE_CUSTOMIZE_EMOJI",{contexts:{ui_context:{step:"delete",action:"remove",action_status:"fail"}}}),Ze})});rt.meta={name:"createFetcher",key:"createFetchersubmitRemoveCustomEmoji",description:"Deletes the given custom emoji"},rt.propTypes={emojiName:y.default.string,isPrimaryEmoji:y.default.bool,synonyms:y.default.array};const pe=Object(Ce.a)("Creates a new custom emoji or alias",function(Be,Ye){let{mode:we,name:mt,aliasFor:Pt,image:Nt,searchArgs:Ze={},reason:Xe="customize-emoji-add"}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return Be(Object(Ae.a)({method:"emoji.add",reason:Xe,args:{mode:we,name:mt,alias_for:Pt,image:Nt}})).then(Ct=>Ct).then(()=>{Be(ke(Ze))}).catch(Ct=>{throw Ct})});pe.meta={name:"createFetcher",key:"createFetchersubmitAddCustomEmoji",description:"Creates a new custom emoji or alias"},pe.propTypes={mode:y.default.string,name:y.default.string,aliasFor:y.default.string,image:y.default.object};const je=Object(Ce.a)("Gets the emoji data for a given emoji",function(Be,Ye){let{name:we,reason:mt="customize-emoji-get-info"}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return Be(Object(Ae.a)({method:"emoji.getInfo",reason:mt,args:{name:we}})).then(Pt=>Pt).catch(Pt=>{throw Pt})});je.meta={name:"createFetcher",key:"createFetchergetEmojiInfo",description:"Gets the emoji data for a given emoji"},je.propTypes={name:y.default.string};const xe=Object(Ce.a)("Renames the custom emoji with the new name",function(Be,Ye){let{oldName:we,newName:mt,reason:Pt="customize-emoji-rename"}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return Be(Object(Ae.a)({method:"emoji.rename",reason:Pt,args:{name:we,new_name:mt}})).then(Nt=>Nt).then(()=>{Be(ke()),Be(Object(De.c)(we))}).catch(Nt=>{throw Nt})});xe.meta={name:"createFetcher",key:"createFetchersubmitRenameEmoji",description:"Renames the custom emoji with the new name"},xe.propTypes={oldName:y.default.string,newName:y.default.string};var ze=e("HpkP"),st=e("E7hC");const ct=new g.b("custom_emoji_list"),dt={ADD_DIALOG_INPUT:"customize_emoji_add_dialog_input",ADD_DIALOG_ERROR:"customize_emoji_add_dialog_error",ADD_DIALOG_FILE_INPUT:"customize_emoji_add_dialog_file_input",ADD_DIALOG_FILE_INFO:"customize_emoji_add_dialog_file_info",ADD_DIALOG_IMAGE_PREVIEW:"customize_emoji_add_dialog_image_preview",ADD_DIALOG_IMAGE_PREVIEW_ERROR:"customize_emoji_add_dialog_image_preview_error",ADD_DIALOG_MESSAGE:"customize_emoji_add_dialog_message",ADD_DIALOG_UPLOAD:"customize_emoji_add_dialog_upload",ADD_DIALOG_UPLOAD_IMAGE_PROMPT:"customize_emoji_add_dialog_upload_image_prompt",ADD_DIALOG_UPLOAD_PREVIEW:"customize_emoji_add_dialog_upload_preview",ADD_DIALOG:"customize_emoji_add_dialog",ADD_DIALOG_DUPLICATE_PREVIEW:"customize_emoji_add_dialog_duplicate_preview"};let bt=v(class extends s.PureComponent{componentDidMount(){const{clogger:Ye}=this.props;Ye.track(this.eventId,{contexts:{ui_context:{step:"add_custom_emoji",action:"impression",ui_component:"dialog",ui_properties:{element_type:"dialog",element_name:"add_custom_emoji_dialog"}}}}),this.maybeLoadEmojiPreviewFromUrl(),this.props.emojiNameSuggestion&&this.state.newEmojiName&&this.checkIfEmojiNameAlreadyExistsImmediate(this.props.emojiNameSuggestion)}shouldPreventSubmit(){const{newEmojiName:Ye,uploadedImage:we,nameErrorText:mt}=this.state,{emojiUrl:Pt}=this.props,Nt=Ye.length>100;return!Ye||Nt||!!mt||!Pt&&!we}onDragOver(Ye){Ye.preventDefault(),Ye.dataTransfer.dropEffect="copy"}onDrop(Ye){Ye.preventDefault();const we=Ye.dataTransfer.files[0];if(we){const mt=we.name,Pt=URL.createObjectURL(we);this.updateAfterUpload({uploadedImage:we,fileName:mt,previewImageUrl:Pt})}else this.setState(()=>({uploadedImage:null,fileName:"",previewImageUrl:"",imagePreviewError:!1}))}onEmojiNameChange(Ye){const{standardEmojiData:we}=this.props;let mt="";this.setState(()=>({newEmojiName:Ye})),/[A-Z]/.test(Ye)||/[ .,;`\u2013~!@#$%^&*(){}=\\:"<>?|]/.test(Ye)?mt=ct.t("Names must be lowercase, and can\u2019t contain spaces, periods, or most punctuation."):Ye in we?mt=ct.t("An emoji with this name already exists. Check if the existing emoji is a duplicate, or try a different name."):Object(st.a)(Ye)?this.checkIfEmojiNameAlreadyExists(Ye):mt=ct.t("Names must be lowercase, and can\u2019t contain spaces, periods, or most punctuation."),this.setState(()=>({nameErrorText:mt}))}onImagePreviewError(){this.setState(()=>({imagePreviewError:!0}))}onSubmit(Ye){Ye&&Ye.preventDefault();const{newEmojiName:we,uploadedImage:mt}=this.state,{emojiUrl:Pt,experimentAddEmojiFiletypesGroupOn:Nt}=this.props;if(this.shouldPreventSubmit())return;this.setState(()=>({goButtonIsPending:!0}));const Xe={...{reason:"add-custom-emoji-dialog-content",name:we},...Pt?{mode:"url",url:Pt}:{mode:"data",searchArgs:this.props.searchArgs,...mt?{image:mt}:{}}};this.props.addCustomEmoji(Xe).then(()=>{this.props.closeModal();const Ct=this.renderToastMessage();this.props.enqueueToast({element:Ct}),this.setState(()=>({goButtonIsPending:!1})),this.props.clogger.track(this.eventId,{contexts:{ui_context:{step:Pt?"import_custom_emoji":"add_custom_emoji",action:Pt?"import":"add",action_status:"success",ui_component:"dialog",ui_properties:{element_type:"button",element_name:"save"}}}})}).catch(Ct=>{let G;const de=Object(ge.a)(Ct,"data.error");(de===ze.a.NoUrlProvided||de===ze.a.NoUrlImage)&&(G=ct.t("Something happened that prevented the image from being imported. Try again?")),de==="error_bad_upload"?G=ct.t("Something happened that prevented your file from being uploaded. Try again?"):de==="error_bad_format"?G=Nt?ct.t("Please make sure your file is a GIF, JPEG, PNG, or WEBP."):ct.t("Please make sure your file is a GIF, JPEG, or PNG."):de==="resized_but_still_too_large"||de==="too_many_frames"?G=ct.t("This image is a bit too big, even after resizing. A smaller file might help?"):de==="error_too_big"?G=ct.t("Please choose an image smaller than 64KB."):de==="error_name_taken_i18n"?G=ct.rt("Unfortunately, the international emoji set already includes an emoji named <b>{newEmojiName}</b>. Mind trying a different name?",{newEmojiName:we}):de==="error_name_taken"?G=ct.rt("The name <b>{newEmojiName}</b> is already in use by another emoji.",{newEmojiName:we}):(de==="error_bad_name"||de==="error_bad_name_i18n")&&(G=ct.t("Names must be lowercase, and can\u2019t contain spaces, periods, or most punctuation.")),this.setState(()=>({apiErrorText:G,goButtonIsPending:!1})),this.props.clogger.track(this.eventId,{contexts:{ui_context:{step:"add_custom_emoji",action:"add",action_status:"fail",ui_component:"dialog",ui_properties:{element_type:"button",element_name:"save"}}}})})}onTextBlur(){this.setState(()=>({placeholder:!0}))}onTextFocus(){this.setState(()=>({placeholder:!1}))}onUploadChange(){var Ye,we;const mt=!((Ye=this.fileInput)===null||Ye===void 0||(we=Ye.current)===null||we===void 0)&&we.files?this.fileInput.current.files[0]:null;if(mt){const Pt=mt.name,Nt=URL.createObjectURL(mt);this.updateAfterUpload({uploadedImage:mt,fileName:Pt,previewImageUrl:Nt})}else this.setState(()=>({uploadedImage:null,fileName:"",previewImageUrl:"",imagePreviewError:!1}))}maybeLoadEmojiPreviewFromUrl(){const{emojiUrl:Ye}=this.props;Ye&&this.setState(()=>({previewImageUrl:Ye,imagePreviewError:!1}))}convertFileNameToEmojiName(Ye){if(!Ye)return null;const we=Ye.lastIndexOf("."),mt=we>0?Ye.substring(0,we):Ye;return mt?mt.toLowerCase().replace(/\s/g,"-").replace(/[ .,;`\u2013~!@#$%^&*(){}=\\:"<>?|]/g,""):null}updateAfterUpload(Ye){let{uploadedImage:we,fileName:mt,previewImageUrl:Pt}=Ye;const{newEmojiName:Nt,fileName:Ze}=this.state;let Xe=Nt;(!Nt||Nt===this.convertFileNameToEmojiName(Ze))&&(Xe=this.convertFileNameToEmojiName(mt)||Xe),this.setState(()=>({uploadedImage:we,fileName:mt,previewImageUrl:Pt,imagePreviewError:!1}),()=>this.onEmojiNameChange(Xe))}fileUpload(){const Ye=document.getElementById("emojiimg");Ye==null||Ye.click(),this.props.clogger.track(this.eventId,{contexts:{ui_context:{step:"add_custom_emoji",action:"click",ui_component:"dialog",ui_properties:{element_type:"button",element_name:"upload_image"}}}})}renderChooseNamePrompt(){const{newEmojiName:Ye,nameErrorText:we}=this.state;return t.a.createElement("ol",{className:"black margin_bottom_0",start:2},t.a.createElement("li",{className:"margin_bottom_0"},t.a.createElement("div",null," ",ct.t("Give it a name")," "),t.a.createElement("div",{className:"normal sk_foreground_max p-add_custom_emoji_dialog__choose_name_container"},ct.t("This is also what you\u2019ll type to add this emoji to your messages.")),t.a.createElement("div",{className:"p_add_custom_emoji_dialog__name_input"},t.a.createElement(k.a,{id:"emojiname",name:"name",value:Ye,onChange:this.onEmojiNameChange,onFocus:this.onTextFocus,onBlur:this.onTextBlur,placeholder:this.renderPlaceholderText(),prefix:":",suffix:":",maxCharacterLimit:100,counterMinimumCharacters:101,errorText:we,"data-qa":dt.ADD_DIALOG_INPUT,useInlineAlert:!0}))))}maybeRenderDuplicateNameErrorPreview(){const{newEmojiName:Ye,nameErrorText:we}=this.state,mt=ct.t("An emoji with this name already exists. Check if the existing emoji is a duplicate, or try a different name.");return we===mt?t.a.createElement("div",{className:"inline_flex full_width","data-qa":dt.ADD_DIALOG_DUPLICATE_PREVIEW},t.a.createElement(se.b,{text:Ye,alt:Ye,emojiSize:"larger",className:"flex_shrink_none"}),t.a.createElement("div",{className:"padding_left_50 overflow_hidden"},t.a.createElement("strong",null,ct.t("Existing emoji")),t.a.createElement("span",{className:"block normal overflow_ellipsis"},":",Ye,":"))):null}renderDialogMessage(){const{orgName:Ye}=this.props;let we;return Ye?we=ct.rt("Your custom emoji will be available in every <b>{orgName}</b> workspace. You\u2019ll find it in the custom tab of the emoji picker. (Hint: it\u2019s the one with the Slack icon!)",{orgName:Ye}):we=ct.t("Your custom emoji will be available to everyone in your workspace. You\u2019ll find it in the custom tab of the emoji picker. (Hint: it\u2019s the one with the Slack icon!)"),t.a.createElement("div",{className:"p-add_custom_emoji_dialog","data-qa":dt.ADD_DIALOG_MESSAGE},t.a.createElement("div",null,we),t.a.createElement("div",null,this.renderErrorMessage()),t.a.createElement("form",{className:"p-add_custom_emoji_dialog__form",onSubmit:this.onSubmit},this.renderUploadImagePrompt(),t.a.createElement("hr",null),this.renderChooseNamePrompt(),this.maybeRenderDuplicateNameErrorPreview()))}renderErrorMessage(){const{apiErrorText:Ye}=this.state;return Ye?t.a.createElement(X.d,{level:"error",className:"margin_top_50 margin_bottom_100","data-qa":dt.ADD_DIALOG_ERROR},t.a.createElement("span",null," ",Ye," ")):null}renderImagePreview(){const{previewImageUrl:Ye}=this.state,we=t.a.createElement("img",{src:Ye,alt:ct.t("image preview"),className:"p-add_custom_emoji_dialog__image",onError:this.onImagePreviewError,draggable:!1}),{imagePreviewError:mt}=this.state;return mt?t.a.createElement("div",{className:"p-add_custom_emoji_dialog__icon_container","data-qa":dt.ADD_DIALOG_IMAGE_PREVIEW_ERROR},t.a.createElement(ce.c,{tip:ct.t("We couldn't preview your image. Make sure it's a GIF, JPEG, or PNG."),zIndex:"above_fs"},t.a.createElement(W.a,{type:"exclamation-circle",size:"inherit",className:"p-add_custom_emoji_dialog__icon_broken block"}))):t.a.createElement("div",{className:"align_center p-add_custom_emoji_dialog__image_container","data-qa":dt.ADD_DIALOG_IMAGE_PREVIEW},we)}renderPlaceholderText(){const{placeholder:Ye}=this.state;let we;return Ye?we=ct.t("avocado"):we="",we}renderToastMessage(){const{newEmojiName:Ye,previewImageUrl:we}=this.state,mt=t.a.createElement(se.b,{text:Ye,url:we,emojiSize:se.a.MEDIUM}),Pt=ct.rt("{emoji} :{newEmojiName}: has been added and is ready for use.",{emoji:mt,newEmojiName:Ye});return t.a.createElement(re.a,{toastClasses:"p-customize_emoji_list__toast"},t.a.createElement("span",null,Pt))}renderUploadImagePrompt(){const{emojiUrl:Ye}=this.props,we=ct.t("Square images under 128KB and with transparent backgrounds work best. If your image is too large, we\u2019ll try to resize it for you."),mt=t.a.createElement(t.a.Fragment,null,t.a.createElement("div",{className:"p-add_custom_emoji_dialog__upload_preview rounded bordered"},this.renderUploadPreview()),t.a.createElement("div",{className:"p-add_custom_emoji_dialog__upload_preview p-add_custom_emoji_dialog__upload_preview--dark rounded bordered margin_left_50"},this.renderUploadPreview())),Pt=Ye?ct.t("Import external emoji"):ct.t("Upload an image");return t.a.createElement("ol",{className:"black",onDragOver:this.onDragOver,onDrop:this.onDrop,"data-qa":dt.ADD_DIALOG_UPLOAD_IMAGE_PROMPT},t.a.createElement("li",{className:"large_bottom_margin"},t.a.createElement("div",null," ",Pt," "),!Ye&&t.a.createElement("div",{className:"normal sk_foreground_max"},we),t.a.createElement("div",{className:"normal p-add_custom_emoji_dialog__upload_container"},mt,!Ye&&t.a.createElement("div",{className:"p-add_custom_emoji_dialog__upload_button margin_left_100"},this.renderUploadedFileText(),t.a.createElement("input",{type:"file",className:"p-add_custom_emoji_dialog__upload_input",id:"emojiimg",name:"img",accept:"image/*;capture=camera",ref:this.fileInput,onChange:this.onUploadChange,"data-qa":dt.ADD_DIALOG_FILE_INPUT}),t.a.createElement(w.f,{type:"outline",size:"medium",onClick:this.fileUpload,"data-qa":dt.ADD_DIALOG_UPLOAD}," ",ct.t("Upload Image")," ")))))}renderUploadPreview(){const{fileName:Ye}=this.state,{emojiUrl:we}=this.props;let mt;return Ye||we?mt=this.renderImagePreview():mt=t.a.createElement("div",{className:"p-add_custom_emoji_dialog__icon_container","data-qa":dt.ADD_DIALOG_UPLOAD_PREVIEW},t.a.createElement(W.a,{type:"file-image",size:"inherit",className:"p-add_custom_emoji_dialog__icon block "})),mt}renderUploadedFileText(){const{fileName:Ye}=this.state;let we;return Ye?we=t.a.createElement("div",{className:"margin_bottom_25 p-add_custom_emoji_dialog__filename"}," ",Ye," "):we=t.a.createElement("div",{className:"sk_foreground_max margin_bottom_25"}," ",ct.t("Select an image")," "),we}render(){const{goButtonIsPending:Ye}=this.state,we=this.shouldPreventSubmit();return t.a.createElement(t.a.Fragment,null,t.a.createElement(i.d,null,t.a.createElement(i.e,{"data-qa":`${dt.ADD_DIALOG}_body`},this.renderDialogMessage())),t.a.createElement(i.g,null,t.a.createElement(i.h,null,t.a.createElement(i.c,{type:"outline"},ct.t("Cancel")),t.a.createElement(w.c,{type:"primary",onClick:this.onSubmit,loading:Ye,disabled:we,"data-qa":`${dt.ADD_DIALOG}_go`},ct.t("Save")))))}constructor(Ye){super(Ye),this.fileInput=t.a.createRef(),this.checkIfEmojiNameAlreadyExistsImmediate=we=>{this.props.getEmojiInfo({name:we}).then(()=>{this.state.newEmojiName===we&&this.setState(()=>({nameErrorText:ct.t("An emoji with this name already exists. Check if the existing emoji is a duplicate, or try a different name.")}))}).catch(J.a)},this.checkIfEmojiNameAlreadyExists=Object(H.a)(this.checkIfEmojiNameAlreadyExistsImmediate,200),this.state={uploadedImage:null,newEmojiName:this.props.emojiNameSuggestion,fileName:"",previewImageUrl:this.props.emojiUrl||"",placeholder:!0,nameErrorText:"",apiErrorText:null,imagePreviewError:!1,goButtonIsPending:!1},this.fileInput=t.a.createRef(),this.eventId=Ye.clientApp?ue.EventId.ADD_CUSTOM_EMOJI_IN_CLIENT:ue.EventId.PAGE_CUSTOMIZE_EMOJI,Object(Z.a)(this,["onEmojiNameChange","onTextFocus","onTextBlur","onUploadChange","onImagePreviewError","onSubmit","renderUploadedFileText","renderUploadPreview","renderUploadImagePrompt","renderPlaceholderText","renderChooseNamePrompt","renderDialogMessage","renderToastMessage","renderErrorMessage","renderImagePreview","fileUpload","onDrop","onDragOver","maybeLoadEmojiPreviewFromUrl","maybeRenderDuplicateNameErrorPreview"])}},"AddCustomEmojiDialogContent");bt.displayName="AddCustomEmojiDialogContent",bt.defaultProps={standardEmojiData:{},addCustomEmoji:J.a,enqueueToast:J.a,clientApp:!1,closeModal:J.a,getEmojiInfo:J.a,searchArgs:{},emojiNameSuggestion:"",experimentAddEmojiFiletypesGroupOn:!1};const Ft=v(Be=>({addCustomEmoji:Ye=>Be(Object(ze.b)(Ye)),enqueueToast:function(){for(var Ye=arguments.length,we=new Array(Ye),mt=0;mt<Ye;mt++)we[mt]=arguments[mt];return Be(Object(oe.a)(...we))},closeModal:()=>Be(Object(o.a)()),getEmojiInfo:function(){for(var Ye=arguments.length,we=new Array(Ye),mt=0;mt<Ye;mt++)we[mt]=arguments[mt];return Be(je(...we))}}),"mapDispatchToProps"),Bt=v(Be=>({standardEmojiData:Object(me.d)(Be),clientApp:Object(ie.h)(Be),clogger:Object(q.a)({state:Be})}),"mapStateToProps");var at=Object(Ee.a)(Bt,Ft)(bt),Ht=e("7PnM"),Wt=e("e4zL"),yt=e("q0lC"),Xt=e("ICFZ"),cn=e("nFQW"),mn=e("puGG");const In=new g.b("custom_emoji_list"),pt=v(Be=>{let{adding:Ye,name:we}=Be;const mt=Object(a.useDispatch)();return t.a.createElement(re.a,{onCloseComplete:()=>{Ye&&mt(Object(Wt.a)())}},t.a.createElement("span",{"data-qa":"emoji-pack-action"},Ye&&In.rt("The {name} emoji pack has been added to your workspace.",{name:t.a.createElement("b",null,we)}),!Ye&&In.rt("The {name} emoji pack has been removed from your workspace.",{name:t.a.createElement("b",null,we)})))},"InstallToast");pt.displayName="InstallToast";const Tt=v(Be=>{let{name:Ye,url:we,index:mt,copyToClipboard:Pt}=Be;const Nt=Object(a.useDispatch)(),Ze=t.a.createElement(j.b,{showTooltip:!0,text:Ye,url:we,emojiSize:j.a.LARGE});function Xe(){Object(Xt.e)(Ye),Nt(Object(o.a)()),Nt(Object(oe.a)({element:t.a.createElement(re.a,null,t.a.createElement("span",null,In.rt("Emoji copied to clipboard",{name:Ye})))}))}return v(Xe,"onClick"),Xe.displayName="onClick",Pt&&Object(Xt.a)()?t.a.createElement(B.a,{className:"p-emoji_pack_details__button","data-color-index":mt%mn.e,onClick:Xe},Ze):Ze},"EmojiButton");Tt.displayName="EmojiButton";const Lt=v(Be=>{let{collectionId:Ye,name:we,author:mt,installed:Pt,emoji:Nt,onCancelClick:Ze}=Be;const Xe=Object(a.useDispatch)(),Ct=Object(r.a)(yt.f),[G,de]=Object(s.useState)(!1),Le=Object(s.useCallback)(()=>{de(!0),Xe(Object(Ht.a)({collectionId:Ye,reason:"emojiPack:dialog"})).then(()=>{de(!1),Xe(Object(o.a)()),Xe(Object(oe.a)({element:t.a.createElement(pt,{adding:!0,name:we})}))})},[Xe,Ye,we]),[Re,Fe]=Object(s.useState)(!1),tt=Object(s.useCallback)(()=>{Fe(!0),Xe(Object(Ht.c)({collectionId:Ye,reason:"emojiPack:dialog"})).then(()=>{Fe(!1),Xe(Object(o.a)()),Xe(Object(oe.a)({element:t.a.createElement(pt,{adding:!1,name:we})}))})},[Xe,Ye,we]);if(!Nt)return null;const ut=Object(M.a)(Nt,(gn,et)=>({name:et,url:gn})).map((gn,et)=>({...gn,index:et})),St=Object(C.a)(ut,5),tn=In.t("{emojiCount, plural, =1 {# emoji} other {# emoji}}",{emojiCount:Object(I.a)(Nt)}),Yt=In.t("by {author}",{author:mt}),un=t.a.createElement(t.a.Fragment,null,t.a.createElement("span",{className:"p-emoji_pack_details__subtitle_author"},Yt),tn),$t=t.a.createElement(cn.a,{"aria-label":In.t("Go back"),icon:"chevron-large-left",onClick:()=>Ze()});return t.a.createElement("div",{className:"p-emoji_pack_details"},t.a.createElement(i.i,null,t.a.createElement(i.l,{icon:$t,title:we,subtitle:un})),t.a.createElement(i.d,{className:"p-emoji_pack_details__content"},t.a.createElement(i.e,null,St.map(gn=>t.a.createElement("div",{key:gn.map(et=>et.name).join("-details-"),className:"p-emoji_pack_details__emoji_row"},gn.map(et=>t.a.createElement(Tt,{key:`emoji-pack-details-${et.name}`,name:`:${et.name}:`,url:et.url,index:et.index,copyToClipboard:Pt})),[...new Array(5-gn.length)].map((et,An)=>`emoji-pack-details-spacer-${An}`).map(et=>t.a.createElement("div",{key:et,className:"p-emoji_pack_details__emoji_spacer"})))))),t.a.createElement(i.g,null,Pt&&Object(Xt.a)()&&t.a.createElement("span",{className:"p-emoji_pack_details__tip"},In.t("Click an emoji to copy to clipboard")),t.a.createElement(i.h,null,Pt&&Ct&&t.a.createElement(w.c,{autoFocus:!0,type:"danger",loading:Re,onClick:tt},In.t("Remove pack")),!Pt&&t.a.createElement(w.c,{autoFocus:!0,loading:G,onClick:Le},In.t("Add pack")))))},"EmojiPackDetails");Lt.displayName="EmojiPackDetails";var gt=Lt;const it=new g.b("custom_emoji_list"),ft={CUSTOM:"custom",PACKS:"packs"},Ke=v(Be=>{let{orgName:Ye="",searchArgs:we={},showEmojiPacks:mt,initialTab:Pt=ft.CUSTOM,emojiNameSuggestion:Nt="",emojiUrl:Ze}=Be;const Xe=Object(a.useDispatch)(),Ct=Object(r.a)(An=>Object(E.d)(An,"add_emoji_filetypes")==="on"),[G,de]=Object(s.useState)(Pt),[Le,Re]=Object(s.useState)(!1),[Fe,tt]=Object(s.useState)(null),ut=Ze?it.t("Add emoji to your organization"):void 0,St=mt?it.t("Add emoji"):it.t("Add custom emoji"),tn=ut??St,Yt=it.t("Emoji packs"),un=[{title:it.t("Custom emoji"),id:ft.CUSTOM,onClick:()=>de(ft.CUSTOM),"data-qa":"add_emoji_dialog_tab_custom"},{title:Yt,id:ft.PACKS,onClick:()=>de(ft.PACKS),"data-qa":"add_emoji_dialog_tab_packs"}],$t=mt&&G===ft.PACKS,gn=mt?t.a.createElement(l.a,{tabs:un,currentTabId:G,className:"p-add_custom_emoji_dialog__tabs"}):null,et=Object(c.default)("p-add_emoji_dialog",{"p-add_emoji_dialog--without_tabs":!mt});return mt&&Fe?t.a.createElement(i.a,{closeModal:()=>Xe(Object(o.a)()),isOpen:!0,className:et},t.a.createElement(gt,{collectionId:u(Fe),name:Object(f.a)(Fe),author:d(Fe),emoji:Le?m(Fe):Object(O.a)(Fe),installed:Le,onCancelClick:()=>{tt(null)}})):t.a.createElement(i.a,{overlayClassName:"p-add_emoji_dialog_overlay",closeModal:()=>Xe(Object(o.a)()),isOpen:!0,className:et},t.a.createElement(i.i,null,t.a.createElement(i.l,{title:tn,className:"no_min_height padding_bottom_50"}),gn),$t&&t.a.createElement(he,{orgName:Ye,onPackClick:(An,pn)=>{let{installed:Pn}=pn;Re(Pn),tt(An)}}),!$t&&t.a.createElement(at,{orgName:Ye,searchArgs:we,emojiNameSuggestion:Nt,emojiUrl:Ze,experimentAddEmojiFiletypesGroupOn:Ct}))},"AddEmojiDialog");Ke.displayName="AddEmojiDialog";var Ve=n.b=Ke},"7zTl":function(K,n,e){"use strict";e.d(n,"b",function(){return s}),e.d(n,"a",function(){return t});const s=2e3,t=2e3},"81ps":function(K,n,e){"use strict";var s=e("AFNo"),t=e("v7mh");const a=Object(s.c)((r,c)=>{let{viewType:o}=c;const i=Object(t.a)(r),l=Object(t.h)(r,{tab:i});return l?Object.keys(l).some(d=>{var O;return((O=l[d])===null||O===void 0?void 0:O.viewType)===o}):!1});a.meta={name:"createSelector",key:"createSelectorisViewTypeVisibleInMainWindow",description:(r,c)=>{let{viewType:o}=c;const i=Object(t.a)(r),l=Object(t.h)(r,{tab:i});return l?Object.keys(l).some(d=>{var O;return((O=l[d])===null||O===void 0?void 0:O.viewType)===o}):!1}},n.a=a},"895Y":function(K,n,e){"use strict";e.d(n,"a",function(){return a});var s=e("m5Yc");const{LIST:t}=s.b,a=v(r=>{var c;return((c=r)===null||c===void 0?void 0:c.type)===t},"isRichTextListElement")},"8K+h":function(K,n,e){K.exports=e.p+"No_Background-ad3fcdb.png"},"8POn":function(K,n,e){"use strict";var s=e("q1tI"),t=e.n(s),a=e("iuhU"),r=e("WIr4"),c=e("rcBr"),o=e("qDEp"),i=e("eBYm"),l=e("RMmo"),u=e("oWe6"),f=e("iUFw"),d=e("nNoG");function O(){return O=Object.assign||function(p){for(var h=1;h<arguments.length;h++){var _=arguments[h];for(var b in _)Object.prototype.hasOwnProperty.call(_,b)&&(p[b]=_[b])}return p},O.apply(this,arguments)}v(O,"_extends");const m=new d.b("speed_bump_modal");let g=v(class extends t.a.PureComponent{componentDidMount(){requestAnimationFrame(()=>{requestAnimationFrame(()=>{this.setState(()=>({isHidden:!1}))})}),this.keyCommands=new l.a;const h=[];h.push({keys:["tab","shift+tab"],handler:this.handleKeyPressedTab}),this.keyCommands.bindAll(h)}componentWillUnmount(){this.keyCommands&&this.keyCommands.reset()}onCancel(){this.setState(()=>({isHidden:!0}),()=>{var h,_;!((h=this)===null||h===void 0||(_=h.speedBump)===null||_===void 0)&&_.current&&Object(c.a)(this.speedBump.current,"transform").then(this.props.onCancel)})}handleKeyPressedTab(h){h.preventDefault();const{focusedElementIndex:_}=this.state,b=h.shiftKey?-1:1,I=this.focusableElements.length;for(let y=1;y<I;y++){var C;const P=(_+b*y+I)%I;if(!((C=this.focusableElements[P])===null||C===void 0)&&C.current){this.focusableElements[P].current.focus(),this.setState(()=>({focusedElementIndex:P}));break}}}render(){const h=m.t("Keep Editing",{fallbackHash:"ced7d4a794fd6efc3d61ca2a3200ec3d5798b6a0",fallbackHashNs:"edit_profile"}),_=m.t("Close & Discard",{fallbackHash:"d62027d41a16cfaaafd0346ec6757f302680dbda",fallbackHashNs:"edit_profile"}),b=m.rt("<r1>Discard changes?</r1> Closing this window will cancel any unsaved changes.",{fallbackHash:"682ac218f4b199ecb9feba5f1165f4159676f0dd",fallbackHashNs:"edit_profile"},he=>{let{text:Ee}=he;return t.a.createElement("strong",null,Ee)}),{cancelButtonLabel:I,continueButtonLabel:C,onContinue:y,autoClogProps:P,description:T=b,className:S,continueButtonIsLoading:A,continueButtonIsDisabled:R,continueButtonType:x,customContinueButton:M,customContinueButtonProps:j,heading:W,autoFocusContinueButton:U,"data-qa":B,aboveContent:Y,aboveContentClassName:z}=this.props,{isHidden:F}=this.state,V=Object(a.default)("c-modal_speed_bump_overlay",{"c-modal_speed_bump_overlay--hidden":F},{flex:!S}),L=Object(a.default)("c-modal_speed_bump",{"c-modal_speed_bump--hidden":F},`${S??"flex"}`),Q="speedbump_header",ee="speedbump_description",te={autoFocus:U,className:"c-modal_speed_bump__button",onClick:y,"data-qa":"modal_speed_bump_continue",type:x||f.c.danger,autoClogProps:P==null?void 0:P.continueButton,ref:this.continueButton,loading:A,disabled:R,...M?j:{}},le=M||i.a,Oe=t.a.createElement(le,O({},te),C||_);return t.a.createElement(t.a.Fragment,null,t.a.createElement("div",{className:V}),t.a.createElement("div",{className:"c-modal_speed_bump_wrapper",role:"dialog","aria-labelledby":W?Q:ee,"aria-describedby":W?ee:void 0,"data-qa":B},t.a.createElement("div",{className:L,ref:this.speedBump},t.a.createElement("div",{className:z},Y),t.a.createElement("div",{className:"c-modal_speed_bump_content"},t.a.createElement("div",{className:"c-modal_speed_bump__text_wrapper"},W&&t.a.createElement("span",{className:"c-modal_speed_bump__heading",id:Q},W),t.a.createElement("div",{id:ee},T)),t.a.createElement("div",{className:"c-modal_speed_bump__button_row"},this.props.onCancel&&t.a.createElement(o.f,{autoFocus:!U,className:"c-modal_speed_bump__button",onClick:this.onCancel,"data-qa":"modal_speed_bump_cancel",type:"outline",autoClogProps:P==null?void 0:P.cancelButton,ref:this.cancelButton},I||h),Oe)))))}constructor(h){super(h),this.speedBump=t.a.createRef(),this.cancelButton=t.a.createRef(),this.continueButton=t.a.createRef(),this.focusableElements=[this.cancelButton,this.continueButton],Object(r.a)(this,["handleKeyPressedTab","onCancel"]),this.state={isHidden:!0,focusedElementIndex:0},this.focusableElements.push(...h.focusableContents||[])}},"ModalSpeedBump");g.displayName="ModalSpeedBump";var E=n.a=Object(u.a)(g)},"8TXW":function(K,n,e){"use strict";e.d(n,"d",function(){return i}),e.d(n,"e",function(){return l}),e.d(n,"f",function(){return u}),e.d(n,"g",function(){return f}),e.d(n,"h",function(){return d}),e.d(n,"i",function(){return O}),e.d(n,"j",function(){return m}),e.d(n,"k",function(){return g}),e.d(n,"l",function(){return E}),e.d(n,"p",function(){return p}),e.d(n,"r",function(){return h}),e.d(n,"t",function(){return _}),e.d(n,"a",function(){return y}),e.d(n,"b",function(){return P}),e.d(n,"n",function(){return U}),e.d(n,"o",function(){return B}),e.d(n,"q",function(){return Y}),e.d(n,"s",function(){return L}),e.d(n,"u",function(){return ee}),e.d(n,"w",function(){return ge}),e.d(n,"m",function(){return J}),e.d(n,"c",function(){return k}),e.d(n,"v",function(){return re}),e.d(n,"J",function(){return ce}),e.d(n,"z",function(){return me}),e.d(n,"A",function(){return ue}),e.d(n,"B",function(){return _e}),e.d(n,"C",function(){return Ae}),e.d(n,"D",function(){return Ce}),e.d(n,"E",function(){return Pe}),e.d(n,"F",function(){return Ue}),e.d(n,"H",function(){return ae}),e.d(n,"G",function(){return ne}),e.d(n,"x",function(){return Ie}),e.d(n,"y",function(){return Te}),e.d(n,"I",function(){return Me});var s=e("9oTK"),t=e.n(s),a=e("tA0R"),r=e.n(a),c=e("hGh8"),o=e.n(c);let i=a.CheckAudioConnectivityFeedback,l=a.CheckAudioInputFeedback,u=a.CheckAudioOutputFeedback,f=a.CheckCameraResolutionFeedback,d=a.CheckContentShareConnectivityFeedback,O=a.CheckNetworkTCPConnectivityFeedback,m=a.CheckNetworkUDPConnectivityFeedback,g=a.CheckVideoConnectivityFeedback,E=a.CheckVideoInputFeedback,p=a.LogLevel,h=a.MeetingSessionStatusCode,_=a.TranscriptItemType,b=a.TranscriptionStatusType;const I=a.MeetingSessionStatus;let C=a.ClientVideoStreamReceivingReport;const y=a.AllHighestVideoBandwidthPolicy,P=a.AudioProfile;let T=a.ConnectionHealthData,S=a.DataMessage;const A=a.DefaultDeviceController;let R;const x=a.DefaultMeetingReadinessChecker;let M;const j=a.DefaultMeetingSession;let W,U=a.DefaultModality,B=a.DefaultVideoTile,Y=a.MeetingSessionConfiguration,z=a.MeetingSessionStatus,F=a.MeetingSessionVideoAvailability,V=a.MutableVideoPreferences,L=a.PermissionDeniedError,Q=a.TargetDisplaySize,ee=a.Versioning,te=a.VideoPreference,le=a.VideoPreferences,Oe=a.VideoPriorityBasedPolicy,he=a.VideoPriorityBasedPolicyConfig,Ee=a.VideoTileState,ge=a.VoiceFocusDeviceTransformer,J=a.DefaultBrowserBehavior,H=a.DefaultVideoTransformDevice,Z=a.BackgroundBlurVideoFrameProcessor,q=a.BackgroundReplacementVideoFrameProcessor,k=a.CSPMonitor;const se=a.ServerSideNetworkAdaption;let re=a.VideoFxProcessor,X=!1,w=!1;function ce(Ne){return ie.apply(this,arguments)}v(ce,"setUseExpSDK");function ie(){return ie=Object(s.coroutine)(function*(Ne){if(X=Ne,!X||w)return;const He=yield Promise.resolve().then(e.t.bind(null,"hGh8",7));i=He.CheckAudioConnectivityFeedback,l=He.CheckAudioInputFeedback,u=He.CheckAudioOutputFeedback,f=He.CheckCameraResolutionFeedback,d=He.CheckContentShareConnectivityFeedback,O=He.CheckNetworkTCPConnectivityFeedback,m=He.CheckNetworkUDPConnectivityFeedback,g=He.CheckVideoConnectivityFeedback,E=He.CheckVideoInputFeedback,C=He.ClientVideoStreamReceivingReport,T=He.ConnectionHealthData,S=He.DataMessage,R=He.DefaultDeviceController,M=He.DefaultMeetingReadinessChecker,W=He.DefaultMeetingSession,U=He.DefaultModality,B=He.DefaultVideoTile,p=He.LogLevel,Y=He.MeetingSessionConfiguration,z=He.MeetingSessionStatus,h=He.MeetingSessionStatusCode,F=He.MeetingSessionVideoAvailability,V=He.MutableVideoPreferences,L=He.PermissionDeniedError,Q=He.TargetDisplaySize,_=He.TranscriptItemType,b=He.TranscriptionStatusType,ee=He.Versioning,te=He.VideoPreference,le=He.VideoPreferences,Oe=He.VideoPriorityBasedPolicy,he=He.VideoPriorityBasedPolicyConfig,Ee=He.VideoTileState,ge=He.VoiceFocusDeviceTransformer,J=He.DefaultBrowserBehavior,H=He.DefaultVideoTransformDevice,Z=He.BackgroundBlurVideoFrameProcessor,q=He.BackgroundReplacementVideoFrameProcessor,k=He.CSPMonitor,re=He.VideoFxProcessor,w=!0}),ie.apply(this,arguments)}v(ie,"_setUseExpSDK");function oe(){return X}v(oe,"isUsingExpSDK");function me(){return R||A}v(me,"getDefaultDeviceController");function ue(){return A}v(ue,"getDefaultDeviceControllerDefault");function _e(){return R}v(_e,"getDefaultDeviceControllerExp");function be(){return M||x}v(be,"getDefaultMeetingReadinessChecker");function Ae(){return x}v(Ae,"getDefaultMeetingReadinessCheckerDefault");function Ce(){return M}v(Ce,"getDefaultMeetingReadinessCheckerExp");function De(){return W||j}v(De,"getDefaultMeetingSession");function Pe(){return j}v(Pe,"getDefaultMeetingSessionDefault");function Ue(){return W}v(Ue,"getDefaultMeetingSessionExp");function ae(){return ge}v(ae,"getVoiceFocusDeviceTransformer");function ne(){return H}v(ne,"getDefaultVideoTransformDevice");function Ie(){return Z}v(Ie,"getBackgroundBlurVideoFrameProcessor");function Te(){return c.BackgroundReplacementVideoFrameProcessor}v(Te,"getBackgroundReplacementVideoFrameProcessor");function Me(Ne){return!!Ne.type}v(Me,"isTranscriptEventTranscriptionStatus")},"8Vn2":function(K,n,e){"use strict";e.d(n,"a",function(){return g});var s=e("n3tL"),t=e("Z3Pq"),a=e("SQ0V"),r=e("7PnM"),c=e("ykb+"),o=e("LvEQ"),i=e("e4zL"),l=e("jF/p"),u=e("JoR1"),f=e("q0lC"),d=e("T1zM");const O=Object(a.c)("handle updating prefs if new emoji pack has become available",(E,p,h)=>{let{collections:_}=h;const b=p(),I=Object(f.f)(b),C=Object(u.u)(b,"emoji_packs_most_recent_available_time")||0,y=Object(l.a)(_,A=>A.date_create),{date_create:P,installed:T}=y||{};(I||T)&&P>C&&E(Object(d.e)({emoji_packs_most_recent_available_time:Date.now()/1e3,emoji_packs_clicked_picker_cta:!1,emoji_packs_clicked_picker_post_install_cta:!1,emoji_packs_clicked_collection_cta:!1}))});O.meta={name:"createThunk",key:"createThunkhandlePotentialNewPack",description:"handle updating prefs if new emoji pack has become available"};var m=O;O.propTypes={collections:s.default.arrayOf(s.default.object)};const g=Object(a.c)("Process and add emoji collections",(E,p,h)=>{let{reason:_}=h;const b=p();Object(o.g)(b)||(E(Object(i.g)({hasFetched:!0})),E(Object(r.b)({reason:_})).then(I=>{const C=I.installed||[],y=I.available||[],P=Object(t.a)(C,"id"),T=y.map(S=>({...S,installed:!!P[S.id],localEmoji:P[S.id]?P[S.id].emoji:S.emoji}));E(m({collections:T})),Object(c.b)()?E(Object(i.f)({collections:T.filter(S=>!["1044122771874","11"].includes(S.id))})):E(Object(i.f)({collections:T}))}).catch(()=>{E(Object(i.g)({hasFetched:!1}))}))});g.meta={name:"createThunk",key:"createThunkfetchAllEmojiCollections",description:"Process and add emoji collections"},g.propTypes={reason:s.default.string.isRequired}},"8Xig":function(K,n,e){"use strict";e.d(n,"a",function(){return u});var s=e("owWc"),t=e("Bw5p"),a=e("OZf9"),r=e("ZKjC"),c=e("s4P+"),o=e("UIhb");const i="EPHEMERAL MESSAGES",l=Object(r.b)(f=>f.ephemeralMessages);l.meta={name:"createSelector",key:"createSelectorgetEphemeralMessagesState",description:f=>f.ephemeralMessages};const u=Object(r.b)((f,d)=>{const{ephemeralType:O,channelId:m,threadTs:g}=d,E=Object(c.a)({state:f});if(g&&!m)return E.error(i,"Can't remove ephemeral messages by thread without channel ID"),[];d.channel&&!m&&E.warn(i,"`channel` passed to `getEphemeralMessagesByType`. Did you mean `channelId`?");const h=l(f)[O];return Object(s.a)(m?Object(t.a)(h,[m]):h,(_,b,I)=>(Object(a.a)(b,(C,y)=>{if(!C)return;const P=Object(o.b)(f,I,y);P&&(!g||P.thread_ts===g)&&_.push(P)}),_),[])});u.meta={name:"createSelector",key:"createSelectorgetEphemeralMessagesByType",description:(f,d)=>{const{ephemeralType:O,channelId:m,threadTs:g}=d,E=Object(c.a)({state:f});if(g&&!m)return E.error(i,"Can't remove ephemeral messages by thread without channel ID"),[];d.channel&&!m&&E.warn(i,"`channel` passed to `getEphemeralMessagesByType`. Did you mean `channelId`?");const h=l(f)[O];return Object(s.a)(m?Object(t.a)(h,[m]):h,(_,b,I)=>(Object(a.a)(b,(C,y)=>{if(!C)return;const P=Object(o.b)(f,I,y);P&&(!g||P.thread_ts===g)&&_.push(P)}),_),[])}}},"8aX7":function(K,n,e){"use strict";var s=e("q1tI"),t=e.n(s),a=e("Cfcg"),r=e("iuhU"),c=e("NZ+B"),o=e("Kmpi"),i=e("JoR1"),l=e("xwCZ"),u=e("C3vN"),f=e("Fn/R"),d=e("fi3B"),O=e("sGXp"),m=e("zUbs"),g=e("LvvF"),E=e("QcTi");function p(_){const{className:b,forceRealName:I=!1,id:C,member:y,truncate:P=!1,truncateWidth:T,withTruncationTooltip:S=!1,"data-qa":A="inline_member_entity",isBold:R=!0,showAppOrBotBadge:x,isUserHidden:M=!1}=_,j=Object(r.default)(b,"c-inline_member_entity"),W=Object(f.a)(y),U=Object(u.eb)(y),B=Object(o.c)(y),Y=Object(o.d)(y),z=Object(u.C)(y),F=Object(u.v)(y);let V;I||!F?V=z:V=F;const L=U?O.d.dim:void 0;return t.a.createElement(d.a,{className:j,"data-qa":A,"data-member-id":C||(y==null?void 0:y.id),style:L,truncate:P,truncateWidth:T,withTruncationTooltip:S,primaryContent:t.a.createElement("span",{className:"c-inline_member_entity__content"},t.a.createElement(m.a,{isBold:R,name:V,inline:!0,"data-qa":"inline_member_entity__name",isAppOrBot:W,isDeleted:U,isNonExistent:B,isUnknown:Y,showAppOrBotBadge:x,isUserHidden:M}))})}v(p,"InlineMemberEntity"),p.displayName="InlineMemberEntity";function h(_,b){let{forceRealName:I,member:C,id:y}=b;const P=C||Object(l.g)(_,y);return{member:P??void 0,forceRealName:Object(c.a)(I)?I:Object(i.v)(_),isUserHidden:P&&Object(g.b)(_,P.id)}}v(h,"mapStateToProps"),n.a=Object(a.a)(h)(p)},"8f+r":function(K,n,e){"use strict";e.d(n,"a",function(){return f});var s=e("otRl"),t=e("SQ0V"),a=e("O5bS"),r=e("Bi0v"),c=e("vlz8"),o=e("e33t"),i=e("RB1+"),l=e("qMw6"),u=e("WUSA"),f;(function(O){O.fancy="fancy",O.frowny="frowny",O.neutral="neutral",O.sadSurprise="sad_surprise"})(f||(f={}));const d=Object(t.c)("Add ephemeral feedback message to channel or thread",(O,m,g)=>{const{message:E,inputText:p,inputDelta:h,ephemeralType:_,ignoreExistingMessage:b}=g,I=g.temporary!==!1,C=E.channel,y=E.thread_ts,P=y?a.a.threadsTempSlashCmdFeedback:a.a.tempSlashCmdFeedback;if((p||h)&&C)if(y)Object(s.a)({inputText:p,inputDelta:h,channelId:C,threadTs:y});else{const T=Object(i.a)({viewContext:l.a.MESSAGE_PANE,channelId:C});T&&(h?T.setContents({contents:h.ops}):p&&T.setText(p))}I?O(Object(c.a)({ephemeralType:_||P,message:E,ignoreExistingMessage:b})):(O(Object(o.a)({ephemeralType:_||P,channelId:C})),O(Object(r.a)({message:E}))),E!=null&&E.text&&O(Object(u.a)({message:E.text}))});d.meta={name:"createThunk",key:"createThunkaddEphemeralFeedback",description:"Add ephemeral feedback message to channel or thread"},n.b=d},"8laU":function(K,n,e){K.exports=e.p+"knock_brush-338221a.mp3"},"8oj5":function(K,n,e){K.exports=e.p+"been_tree-294678b.mp3"},"8pYz":function(K,n,e){"use strict";e.d(n,"b",function(){return I}),e.d(n,"a",function(){return C});var s=e("nNoG"),t=e("yXH1"),a=e("IaLB"),r=e("UUKI"),c=e("LYDk"),o=e("UmHn"),i=e("rZ8V"),l=e("s4P+"),u=e("Atq3"),f=e("xuP/");const d=new s.b("channel_sidebar"),O=new s.b("crm"),m=new s.b("app_launcher"),g=new s.b("setup_page"),E=new s.b("client"),p=new s.b("search"),h=new s.b("modernselling"),_={[o.a.Composer]:()=>d.t("Composer"),[o.a.Notifications]:y=>Object(t.b)(y)?"Notifications":"Activity",[o.a.Reactions]:()=>"Reactions",[o.a.Drafts]:()=>d.t("Drafts",{ns:"channel_sidebar"}),[o.a.ScheduledMessages]:()=>d.t("Scheduled",{ns:"channel_sidebar"}),[o.a.Sent]:()=>d.t("Sent",{fallbackHash:"35f49dcfbfb2e03fdce327671e82bf173b1ccb8b",fallbackHashNs:"sent-page"}),Pthread:()=>d.t("Thread",{fallbackHash:"7863f7503e5377891a3b7452c7d6cc377d443fe7",fallbackHashNs:"thread"}),[o.a.Example]:()=>"Example Page",[o.a.Empty]:()=>{},[o.a.Unreads]:()=>d.t("Unreads"),[o.a.Apps]:()=>m.t("Apps",{fallbackHash:"d9a36850b7f3f78365a998cb16cb68b6fd79400d",fallbackHashNs:"channel_sidebar"}),[o.a.Shortcuts]:y=>Object(i.g)(y)?m.t("Workflows",{fallbackHash:"d9a36850b7f3f78365a998cb16cb68b6fd79400d",fallbackHashNs:"channel_sidebar"}):m.t("Shortcuts",{fallbackHash:"d9a36850b7f3f78365a998cb16cb68b6fd79400d",fallbackHashNs:"channel_sidebar"}),[o.a.BrowseWorkflowTemplates]:()=>m.t("Templates",{fallbackHash:"f25b700ed9f092123a43acb205a6869342cf9dd6",fallbackHashNs:"workflow_builder"}),[o.a.Activity]:()=>d.t("Mentions & reactions"),[o.a.Saved]:()=>d.t("Saved items",{fallbackHash:"c0ae8f6ea84111498894729659051ce9713aab42"}),[o.a.FunctionPermissions]:()=>"Function Permissions",[o.a.PaidBenefits]:()=>d.t("Paid Plan Benefits"),[o.a.BrowseChannels]:()=>d.t("All channels",{fallbackHash:"844df142c62832a202548680d3385ca47676ab85",fallbackHashNs:"channel_browser"}),[o.a.BrowseAllChannels]:y=>Object(a.lb)(y)?g.t("Browse all channels"):"",[o.a.SetupTeamName]:()=>g.t("Setup Team Name"),[o.a.SetupProfile]:()=>g.t("Profile"),[o.a.SetupChannels]:()=>g.t("Setup Channels"),[o.a.SetupInvites]:()=>g.t("Setup Invites"),[o.a.SetupCalendarContactImport]:()=>"Setup Contact Import",[o.a.SetupTada]:()=>"Setup Tada",[o.a.SetupWelcome]:()=>g.t("Setup Welcome"),[o.a.SetupPeople]:()=>g.t("Setup People"),[o.a.JoinerLaunchpad]:()=>d.t("Get started"),"Pbrowse-channels-prototype":()=>d.t("All channels"),[o.a.BrowseFiles]:y=>Object(i.g)(y)?p.t("All files"):d.t("Files"),[o.a.Calendar]:y=>Object(c.b)(y)?d.t("Calendar"):"",[o.a.BrowseChannelFiles]:()=>d.t("Channel file browser",{fallbackHash:"6ce6c512ea433a7fc5c8841628e7696cd0ff7f2b"}),[o.a.BrowsePeople]:y=>{const P=Object(a.tb)(y),T=Object(i.g)(y),S=P?g.t("People"):d.t("People & user groups");return T?g.t("All members"):S},[o.a.BrowseExternalContacts]:()=>d.t("External people",{fallbackHash:"3a2342a03de3fb3994d9c4fbdb18d17ec0367c35"}),[o.a.BrowseUserGroups]:()=>d.t("User groups"),[o.a.BrowseExternalWorkspaces]:y=>Object(f.a)(y)?d.t("NetworksTBD"):"",[o.a.AllDms]:()=>d.t("Direct messages"),[o.a.Search]:()=>E.t("Search Results",{fallbackHash:"bce06414177f72ab70e6387b6af9f8ceef0d6049",fallbackHashNs:"search"}),[o.a.SlackConnect]:()=>d.t("Slack Connect",{fallbackHash:"e21da9e565b1e32162650ed549e03eaf5b4364e5",fallbackHashNs:"slack_connect_hub"}),[o.a.SlackConnectInvitation]:()=>d.t("Slack Connect Invitation",{fallbackHash:"e21da9e565b1e32162650ed549e03eaf5b4364e5",fallbackHashNs:"slack_connect_hub"}),[o.a.OfflineOutbox]:()=>"Offline outbox",[o.a.Huddles]:()=>"Huddles",[o.a.Later]:()=>d.t("Later",{fallbackHash:"1d9c1a090774d038318b145c9edd2301568bdd93"}),[o.a.BrowseOrgChart]:y=>Object(i.g)(y)?p.t("Org chart"):"Org Chart",[o.a.CRM]:y=>Object(r.a)(y)?O.t("CRM"):"CRM","Pasync-modals":()=>"Modals",[o.a.BrowseCanvases]:()=>d.t("Canvases"),[o.a.BrowseLists]:()=>"Lists",[o.a.SalesHome]:()=>h.t("Sales"),[o.a.SalesNotifications]:()=>h.t("Sales notifications"),[o.a.SalesOpportunities]:()=>h.t("Sales"),[o.a.SalesAdministration]:()=>h.t("Sales administration"),[o.a.Recents]:y=>Object(i.g)(y)?p.t("Recently viewed"):p.t("Recents")};Object(u.b)(!0);const b={Pdms:()=>d.t("All direct messages",{fallbackHash:"781373373e6fe8d45de2a1edd8dd880aaff75bce"})};function I(y){return!y||!_[y]?(Object(l.b)().error(`getLabelFunctionForPage called with invalid pageId: ${y}`),null):_[y]}v(I,"getLabelFunctionForPage");function C(y){return y?b[y]:null}v(C,"getAriaLabelFunctionForPage")},"8z+9":function(K,n,e){"use strict";e.d(n,"a",function(){return s}),e.d(n,"b",function(){return t});const s={FILE:"file",FILE_COMMENT:"file_comment",MESSAGE:"message"},t={NOT_LOADED:void 0,LOADING:"loading",LOADED:"loaded"}},"92pD":function(K,n,e){"use strict";e.d(n,"b",function(){return E}),e.d(n,"a",function(){return h});var s=e("9oTK"),t=e.n(s),a=e("Lgge"),r=e("coh6"),c=e("05YS"),o=e("Tkkt"),i=e("Yauy"),l=e("gVOt"),u=e("E97Y"),f=e("Zbwg"),d=e("i26o"),O=e("wQ1d"),m=e("E3dU"),g=e("wmIu");function E(I,C){const y=Object(c.b)(I),P=new RegExp(`\\b(${Object(O.j)().in}|in):(#([^\\s]+))`,"g"),T=d.a.fromString(I,y),S={};return T.suggestionTokenList.forEach(R=>{if(R instanceof g.e){const{id:x,name:M}=R.getRawIdAndNameForXwsChannelWorkaround();x&&Object(f.a)(x)&&M&&(S[M]||(S[M]=[]),S[M].push({id:x,name:M}))}}),C.replace(P,(R,x,M,j)=>{if(S[j]&&S[j].length>0){const{id:W,name:U}=S[j].shift()||{};return`${x}:<#${W}|${U}>`}return R})}v(E,"convertUserQueryXwsChannelStringsForXwsChannelWorkaround");function p(I,C){if(Object(u.g)(C))return`<@${Object(l.a)(C)}>`;const y=Object(i.u)(I,C,{publicChannelIncludeHashSign:!1,imIncludeAtSign:!1});return y?`<#${C.id}|${y}>`:`<#${C.id}>`}v(p,"formatInChannelValue");function h(I,C,y){const P=C(),T={},S=[],A={};(Object(c.m)(P)||[]).forEach(M=>{const j=Object(m.c)(P,M);j&&S.push(j)});const x=new RegExp(`\\b(${Object(O.j)().in}|in):(#([^\\s]+))`,"g");return _(y,x,(M,j,W,U)=>{const B=S.find(z=>Object(i.K)(z)===U&&!T[z.id]&&!A[z.id]);if(B)return T[B.id]=!0,A[B.id]=!0,a.a.resolve(`${j}:${p(P,B)}`);const Y=Object(m.d)(P,U);return Y&&!T[Y.id]?(T[Y.id]=!0,a.a.resolve(`${j}:${p(P,Y)}`)):I(Object(r.F)({query:U,options:{fuzzyLimit:0,limit:150,entities:{channels:{includeArchived:!0,includeFromAnotherTeam:!0}},sort:{frecency:!1}}})).then(z=>{const F=C(),V=U&&U.replace("#",""),L=z.find(ee=>ee.name===V&&!T[ee.id]);if(!L)return`${j}:${W}`;T[L.id]=!0;const Q=Object(c.a)(F).queryFilter;return Q.in=Array.from(new Set([...Q.in||[],L.id])),I(Object(o.h)({queryFilter:Q})),`${j}:${p(P,L)}`})})}v(h,"convertContentsStringForEncodedXwsChannels");function _(I,C,y){return b.apply(this,arguments)}v(_,"replaceAsync");function b(){return b=Object(s.coroutine)(function*(I,C,y){const P=[];I.replace(C,function(S){for(var A=arguments.length,R=new Array(A>1?A-1:0),x=1;x<A;x++)R[x-1]=arguments[x];const M=y(S,...R);return P.push(M),I});const T=yield a.a.all(P);return I.replace(C,()=>T.shift()||"")}),b.apply(this,arguments)}v(b,"_replaceAsync")},"95ku":function(K,n,e){"use strict";var s=e("q1tI"),t=e.n(s),a=e("iuhU"),r=e("7EGn"),c=e("ifKl"),o=e("WIr4"),i=e("jWAO"),l=e("gZuW"),u=e("Gs4e"),f=e("9ADk");let d=v(class extends s.PureComponent{getOverlayText(){return this.props.value||this.props.placeholder}renderOverlay(){const{size:T,prefix:S,suffix:A}=this.props,R=Object(a.default)("c-input_text_overlay",{"c-input_text_overlay--large":T===u.a.large},this.props.className);return t.a.createElement("div",{className:R,"data-overlay-prefix":S,"data-overlay-suffix":A,"aria-hidden":"true","data-qa":"text_overlay_suffix"},this.getOverlayText())}render(){const{children:T,suffix:S}=this.props;return t.a.createElement("div",{className:"position_relative","aria-describedby":`Text input with ${S} appended to the text value.`},this.renderOverlay(),T)}},"TextInputOverlay");d.displayName="TextInputOverlay",d.defaultProps={className:"",placeholder:"",size:u.a.medium,value:"",prefix:"",suffix:""};var O=d,m=e("oEDn");const g={small:"small",medium:"medium",large:"large"},E=v(P=>{let{size:T,icon:S,children:A}=P;const R=Object(a.default)("c-input_text_icon",{"c-input_text_icon--small":T===g.small,"c-input_text_icon--large":T===g.large}),x=Object(a.default)("c-input_text_icon__icon",{"c-input_text_icon__icon--small":T===g.small,"c-input_text_icon__icon--large":T===g.large});return t.a.createElement("div",{className:R},t.a.createElement(m.a,{type:S,className:x,size:"inherit"}),A)},"TextInputIcon");E.displayName="TextInputIcon";var p=t.a.memo(E),h=e("/DoU"),_=e("MYuU");function b(){return b=Object.assign||function(P){for(var T=1;T<arguments.length;T++){var S=arguments[T];for(var A in S)Object.prototype.hasOwnProperty.call(S,A)&&(P[A]=S[A])}return P},b.apply(this,arguments)}v(b,"_extends");const I=12;let C=v(class extends s.PureComponent{componentDidMount(){this.maybeFocusAndSelectOnMount(this.props)}UNSAFE_componentWillReceiveProps(T){const S=T.value;T.maxCharacterLimit&&S!==this.props.value&&this.setInputLengthTooLong(S.length>T.maxCharacterLimit),T.minCharacterLimit&&S!==this.props.value&&this.setInputLengthTooShort(S.length<T.minCharacterLimit),!T.isRequired&&(S==null?void 0:S.length)===0&&this.setInputLengthTooShort(!1)}componentDidUpdate(T,S){(this.props.value!==T.value||this.state.isFocused!==S.isFocused)&&this.getTextStyle(),this.maybeFocusAndSelectOnMount(T)}onBlur(T){const{onBlur:S}=this.props;this.setState(()=>({isFocused:!1})),S&&S(T)}onFocus(T){const{onFocus:S}=this.props;this.setState(()=>({isFocused:!0,everFocused:!0})),S&&S(T)}getPrefixStyle(){const{size:T,prefix:S}=this.props;if(!S)return;let A;const x=document.createElement("canvas").getContext("2d");return x&&(T===u.a.medium?(x.font="15px Slack-Lato",A=x.measureText(S).width+I):T===u.a.small?(x.font="13px Slack-Lato",A=x.measureText(S).width+I):(x.font="18px Slack-Lato",A=x.measureText(S).width+I)),{paddingLeft:A}}getTextStyle(){var T;const{maxCharacterLimit:S}=this.props;if(!S){this.setTextStyle({});return}const R={paddingRight:(T=this.characterCount)===null||T===void 0?void 0:T.getCharacterCountWidth()};this.setTextStyle(R)}setInputLengthTooLong(T){this.setState(()=>({inputLengthIsTooLong:T}))}setInputLengthTooShort(T){this.setState(()=>({inputLengthIsTooShort:T}))}setTextStyle(T){this.setState(()=>({textStyle:T}))}focus(){this.input.current&&this.input.current.focus()}maybeFocusAndSelectOnMount(T){const{focusOnMount:S,forceSelectAll:A}=this.props;this.state.everFocused&&S&&T&&T.focusOnMount===S||!this.input||!this.input.current||!S||(this.props.focusOnMount&&this.props.preventScrollOnFocus?this.input.current.focus({preventScroll:!0}):this.input.current.focus(),A&&this.input.current.select())}renderDeprecatedErrorMaybe(){const{errorLevel:T,errorText:S,errorType:A,minCharacterLimit:R,maxCharacterLimit:x}=this.props;return S?t.a.createElement(i.d,{id:this.state.errorId,level:T,type:A,className:"margin_bottom_100"},S):this.state.inputLengthIsTooLong&&x?t.a.createElement(i.d,{id:this.state.errorId,level:i.b.error,type:A,className:"margin_bottom_100"},Object(_.b)(x)):this.state.inputLengthIsTooShort&&R?t.a.createElement(i.d,{id:this.state.errorId,level:i.b.error,type:A,className:"margin_bottom_100"},Object(_.c)(R)):null}renderErrorMaybe(){const{errorText:T,minCharacterLimit:S,maxCharacterLimit:A}=this.props;return T?t.a.createElement(l.a,{id:this.state.errorId,className:"margin_bottom_100","data-qa":"form-text-inline-alert"},T):this.state.inputLengthIsTooLong&&A?t.a.createElement(l.a,{id:this.state.errorId,className:"margin_bottom_100","data-qa":"form-text-max-char-alert"},Object(_.b)(A)):this.state.inputLengthIsTooShort&&S?t.a.createElement(l.a,{id:this.state.errorId,className:"margin_bottom_100","data-qa":"form-text-max-char-alert"},Object(_.c)(S)):null}renderHintMaybe(){const{hintText:T}=this.props;return T?t.a.createElement(f.a,{id:this.state.hintId,"data-qa":"form-text-hint"},T):null}renderTextInput(){const{className:T,errorId:S,errorLevel:A,errorText:R,errorType:x,hintId:M,hintText:j,id:W,isRequired:U,isInvalid:B,labelId:Y,name:z,onBlur:F,onChange:V,onCopy:L,forceSelectAll:Q,onFocus:ee,size:te,prefix:le,suffix:Oe,maxCharacterLimit:he,minCharacterLimit:Ee,counterMinimumCharacters:ge,icon:J,focusOnMount:H,useInlineAlert:Z,showError:q,inputRef:k,preventScrollOnFocus:se,ariaDescribedById:re,autoComplete:X,type:w,readOnly:ce,...ie}=this.props,{inputLengthIsTooShort:oe,inputLengthIsTooLong:me}=this.state,ue=!!R||me&&!!he||oe&&!!Ee||B,_e=Object(a.default)({[`c-input_text--with_${A}`]:ue,"c-input_text--with_hint":j,"c-input_text--with_icon":J},T),be=Object(_.e)([Y,ue?this.state.errorId:null]),Ae=Object(_.e)([re,this.state.hintId,this.characterCounterId]),Ce={...this.state.textStyle,...this.getPrefixStyle()};return t.a.createElement(u.b,b({},ie,{style:Ce,onFocus:this.onFocus,onBlur:this.onBlur,ariaDescribedby:Ae,isInvalid:ue,ariaLabelledby:be,ariaRequired:U,className:_e,id:W,name:z,onChange:V,onCopy:L,forceSelectAll:Q,ref:this.input,size:te,autoComplete:X,type:w,readOnly:ce??void 0}))}renderWrappedTextMaybe(){const{prefix:T,suffix:S,value:A,placeholder:R,maxCharacterLimit:x,counterMinimumCharacters:M,size:j,isDisabled:W,icon:U}=this.props;let B=this.renderTextInput();const Y=A;return x&&(B=t.a.createElement(h.a,{id:this.characterCounterId,currentCount:Y.length,isDisabled:W,maxCharacterLimit:x,counterMinimumCharacters:M,size:j,ref:z=>{this.characterCount=z}},B)),(T||S)&&(B=t.a.createElement(O,{className:U&&"c-input_text_overlay--icon",placeholder:R,size:j,prefix:T,suffix:S,value:A??void 0},B)),U&&(B=t.a.createElement(p,{icon:U,size:j},B)),B}render(){const T=this.props.useInlineAlert?this.renderErrorMaybe():this.renderDeprecatedErrorMaybe();return t.a.createElement("div",{"data-qa-formtext":!0,onMouseEnter:this.props.onMouseEnter,onMouseLeave:this.props.onMouseLeave},this.renderWrappedTextMaybe(),this.props.showError&&T,this.renderHintMaybe())}constructor(T){super(T),Object(o.a)(this,["onFocus","onBlur","getPrefixStyle"]);const{id:S}=T;this.state={errorId:Object(r.a)(this.props,"errorId",Object(_.a)(S,"error")),hintId:Object(r.a)(this.props,"hintId",Object(_.a)(S,"hint")),inputLengthIsTooShort:!1,inputLengthIsTooLong:!1,isFocused:!1,everFocused:!1,textStyle:{}},T.maxCharacterLimit&&(this.characterCounterId=Object(_.a)(S,"character-count")),this.input=T.inputRef||t.a.createRef()}},"FormTextInput");C.displayName="FormTextInput",C.defaultProps={className:null,errorId:void 0,errorLevel:i.b.error,errorText:null,errorType:i.c.nestedBox,useInlineAlert:!1,hintId:void 0,hintText:null,isDisabled:!1,isInvalid:!1,isRequired:!1,labelId:null,maxCharacterLimit:null,minCharacterLimit:null,counterMinimumCharacters:0,onBlur:c.a,onChange:c.a,onCopy:c.a,forceSelectAll:!1,readOnly:!1,onFocus:c.a,placeholder:void 0,size:u.a.medium,prefix:void 0,suffix:null,value:"",icon:void 0,focusOnMount:!1,preventScrollOnFocus:!1,showError:!0,inputRef:void 0,ariaDescribedById:void 0,onMouseEnter:c.a,onMouseLeave:c.a,autoComplete:"off",type:void 0,spellCheck:!1,min:0,max:0,autoCorrect:void 0,ariaLabel:void 0,width:0,autoClogProps:void 0,autoFocus:!1,role:void 0,onPaste:c.a,onKeyDown:c.a,onCompositionStart:c.a,onCompositionEnd:c.a};var y=n.a=C},"9ADk":function(K,n,e){"use strict";var s=e("q1tI"),t=e.n(s),a=e("iuhU");function r(){return r=Object.assign||function(i){for(var l=1;l<arguments.length;l++){var u=arguments[l];for(var f in u)Object.prototype.hasOwnProperty.call(u,f)&&(i[f]=u[f])}return i},r.apply(this,arguments)}v(r,"_extends");let c=v(class extends s.PureComponent{render(){const{children:l,className:u,id:f}=this.props,d=Object(a.default)("c-hint",u);return!!l&&t.a.createElement("div",r({},this.props,{className:d,id:f}),l)}},"Hint");c.displayName="Hint",c.defaultProps={className:void 0,id:void 0};var o=n.a=c},"9BZl":function(K,n,e){"use strict";e.d(n,"a",function(){return i});var s=e("q1tI"),t=e.n(s),a=e("nNoG"),r=e("VFSv"),c=e("5ya7");const o=new a.b("import-external-emoji");function i(l){let{emojiUrl:u,emojiName:f}=l;return Object(c.c)(u,f)?t.a.createElement("div",{className:"margin_top_50"},t.a.createElement(r.a,{name:"right-click",inline:!0,size:"18"}),t.a.createElement("span",{className:"margin_left_25"},o.t("Right click to add to your organization"))):null}v(i,"ImportExternalEmojiTooltipInfo"),i.displayName="ImportExternalEmojiTooltipInfo"},"9C2q":function(K,n,e){"use strict";var s=e("q1tI"),t=e.n(s),a=e("gz6s");function r(){return r=Object.assign||function(o){for(var i=1;i<arguments.length;i++){var l=arguments[i];for(var u in l)Object.prototype.hasOwnProperty.call(l,u)&&(o[u]=l[u])}return o},r.apply(this,arguments)}v(r,"_extends");const c=v(o=>{let i=v(class extends s.PureComponent{componentDidUpdate(f,d){if(!this.focusedElement)return;const O=this.props.hasKeyboardFocus;O&&!(d.hasKeyboardFocus||d.hasKeyboardFocusWithin)&&this.setFocus(),!O&&(d.hasKeyboardFocus||d.hasKeyboardFocusWithin)&&this.clearFocus()}componentWillUnmount(){this.mutationObserver&&(this.mutationObserver.disconnect(),this.mutationObserver=null)}onMutation(f){f.some(O=>Array.from(O.removedNodes).some(m=>m.contains(this.focusedElement)))&&(this.focusedElement=null,this.setState(()=>({hasKeyboardFocus:!1,hasKeyboardFocusWithin:!1})))}onFocus(){for(var f=arguments.length,d=new Array(f),O=0;O<f;O++)d[O]=arguments[O];const m=d[0],{target:g,currentTarget:E}=m;this.node=E,this.focusedElement=g,this.props.hasKeyboardFocus&&this.setFocus(),this.props.onFocus&&(m.persist(),this.props.onFocus(...d))}onBlur(){for(var f=arguments.length,d=new Array(f),O=0;O<f;O++)d[O]=arguments[O];const m=d[0],{currentTarget:g,relatedTarget:E}=m;g.contains(E)||this.clearFocus(),this.props.onBlur&&(m.persist(),this.props.onBlur(...d))}setFocus(){const f=this.node===this.focusedElement,d=!!this.node&&this.node!==this.focusedElement&&this.node.contains(this.focusedElement);this.setState(()=>({hasKeyboardFocus:f,hasKeyboardFocusWithin:d})),!this.mutationObserver&&this.node&&(this.mutationObserver=new MutationObserver(this.onMutation),this.mutationObserver.observe(this.node,{childList:!0,subtree:!0}))}clearFocus(){this.focusedElement=null,this.setState(()=>({hasKeyboardFocus:!1,hasKeyboardFocusWithin:!1})),this.mutationObserver&&(this.mutationObserver.disconnect(),this.mutationObserver=null)}render(){const{hasKeyboardFocus:f,hasKeyboardFocusWithin:d}=this.state,{refToForward:O,...m}=this.props;return t.a.createElement(o,r({ref:O},m,{hasKeyboardFocus:!!f,hasKeyboardFocusWithin:!!d,onFocus:this.onFocus,onBlur:this.onBlur}))}constructor(f){super(f),this.onFocus=this.onFocus.bind(this),this.onBlur=this.onBlur.bind(this),this.onMutation=this.onMutation.bind(this),this.state={hasKeyboardFocus:!1,hasKeyboardFocusWithin:!1},this.mutationObserver=null,this.focusedElement=null,this.node=null}},"KeyboardFocusPropsProvider");i.displayName="KeyboardFocusPropsProvider";const l=t.a.forwardRef((u,f)=>t.a.createElement(i,r({},u,{refToForward:f})));return Object(a.a)(l)},"withKeyboardFocusProps");c.displayName="withKeyboardFocusProps",n.a=c},"9I4P":function(K,n,e){"use strict";e.d(n,"a",function(){return u}),e.d(n,"b",function(){return d}),e.d(n,"c",function(){return O}),e.d(n,"d",function(){return m});var s=e("NFsq"),t=e("bJfW"),a=e("s4P+"),r=e("+lUI"),c=e("C3vN"),o=e("V+O/"),i=e("O86Y"),l=e("beVI");function u(g){return g==null?void 0:g.name}v(u,"getBotName");function f(g){return g==null?void 0:g.real_name}v(f,"getBotRealName");function d(g,E){if(!g||!g.team_id&&!g.enterprise_user||Object(o.b)(g))return E;if(g.team_id&&Object(t.a)(g.team_id))return g.team_id;if(g.team_id&&Object(t.b)(g.team_id)&&Object(c.eb)(g))return E;const p=g.enterprise_user&&g.enterprise_user.teams||[];if(p.length>0)return Object(s.a)(p,E)?E:p[0];if(E){const h=g.id;Object(r.a)(h,()=>{Object(a.a)({teamId:E}).warn("Cannot find workspace for app or bot user in this org.")})}return E}v(d,"getTeamIdFromBotAppUser");function O(){let{member:g,bot:E,botProfile:p,currentTeamId:h}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return E!=null&&E.team_id&&Object(t.a)(E.team_id)?E.team_id:p!=null&&p.team_id&&Object(t.a)(p.team_id)?p.team_id:d(g,h)}v(O,"getTeamIdFromBotOrUser");function m(g){let{member:E,bot:p,botProfile:h}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(E!=null&&E.team_id)return E.team_id;const _=(p==null?void 0:p.team_id)||(h==null?void 0:h.team_id);if(_){if(Object(t.b)(_))return _;const b=Object(l.t)(g,_);return b?b.enterprise_id||b.id:_}return Object(i.i)(g)}v(m,"getTopLevelTeamIdForBotOrUser")},"9MPI":function(K,n,e){"use strict";e.d(n,"a",function(){return t});var s=e("ZKjC");const t=Object(s.b)((a,r,c)=>{var o,i,l;return a==null||(o=a.prefs)===null||o===void 0||(i=o.channel)===null||i===void 0||(l=i[r])===null||l===void 0?void 0:l[c]});t.meta={name:"createSelector",key:"createSelectorgetChannelPref",description:(a,r,c)=>{var o,i,l;return a==null||(o=a.prefs)===null||o===void 0||(i=o.channel)===null||i===void 0||(l=i[r])===null||l===void 0?void 0:l[c]}}},"9Pu8":function(K,n,e){"use strict";e.d(n,"c",function(){return Y}),e.d(n,"a",function(){return z}),e.d(n,"d",function(){return F}),e.d(n,"b",function(){return V});var s=e("BlE4"),t=e("1Lli"),a=e("1myf"),r=e("RQuH"),c=e("NFsq"),o=e("Dpjh"),i=e("bPB8"),l=e("w/U0"),u=e("liSV"),f=e("FWtP"),d=e("mdQV"),O=e("/ZHS"),m=e("7HXw"),g=e("WXix"),E=e("895Y"),p=e("rVFV");const h=/[\p{N}\p{M}\p{L}a-z0-9]/u,_=/@[^\s]*$/,b=/<[^>]*$/,I=/^[^<]*>/,C=/^\s*$/;function y(L){return!(h.test(L)&&!Object(l.a)(L))}v(y,"isValidPrefix");function P(L){return!(h.test(L)&&!Object(l.a)(L))}v(P,"isValidSuffix");function T(L,Q){const ee=L.slice(0,Q);return _.test(ee)}v(T,"isIndexInMention");function S(L,Q,ee){const te=L.slice(0,Q);if(!b.test(te))return!1;const le=L.slice(Q+ee.length);return!!I.test(le)}v(S,"isIndexInAngleBrackets");function A(L,Q,ee){return Q==="&"&&(ee===";"||Object(s.a)(L,";"))}v(A,"isPartOfHtmlEntity");function R(L,Q,ee,te){let le=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1;const Oe=Q.charAt(0),he=Q.charAt(Q.length-1),Ee=Object(l.a)(Oe)&&Object(l.a)(he);if(te[ee]||T(L,ee)||!le&&S(L,ee,Q))return!1;const ge=L.charAt(ee-1),J=L.charAt(ee+Q.length);return!(A(Q,ge,J)||!y(ge)&&!Ee||!P(J)&&!Ee)}v(R,"isMatch");function x(L){return Object(t.a)(L,"length","desc")}v(x,"sortHighlights");function M(L){const Q=Object(a.a)(L,"index");let ee=0;for(;ee<Q.length-1;){const te=Q[ee],le=Q[ee+1],Oe=te.index+te.length;Object(r.a)(le.index,te.index,Oe)?(te.length+=le.length-(Oe-le.index),Q.splice(ee+1,1)):ee+=1}return Q}v(M,"combineOverlappingMatches");function j(L){const Q=L;return L.forEach(ee=>{const te=Object(u.a)(ee),le=Object(u.b)(ee);Object(c.a)(L,te)||Q.push(te),Object(c.a)(L,le)||Q.push(le)}),Q}v(j,"addKanaNormalizedHighlightVariants");function W(L){return L&&L.toLowerCase().replace(/[\u2018|\u2019]/g,"'").replace(/[\u201c|\u201d]/g,'"')}v(W,"normalizeText");const U=Object(f.a)((L,Q)=>{const ee=Q?L.map(te=>Object(o.a)(W(te))):L.map(te=>W(te));return j(ee)}),B=Object(f.a)(L=>{const Q=Object(i.a)(L.map(te=>C.test(te)?null:te)),ee=j(Q.map(te=>W(te)));return x(ee)});function Y(L){let Q=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];if(!L||!Q||!Q.length)return[];const ee=B(Q),te=[];let le="";function Oe(Ee){Object(d.a)(Ee)?le+=Ee.text:Object(O.a)(Ee)?(ee.indexOf(W(Ee.value))!==-1&&te.push({index:le.length,length:1}),le+=" "):Object(m.a)(Ee)?le+=Ee.text||Ee.url:(Object(g.a)(Ee)&&ee.indexOf(Ee.skin_tone?`:${Ee.name}::skin-tone-${Ee.skin_tone}:`:`:${Ee.name}:`)!==-1&&te.push({index:le.length,length:1}),le+=" ")}v(Oe,"processChunk"),L.elements.forEach(Ee=>{var ge,J;Object(E.a)(Ee)&&(!(Ee==null||(ge=Ee.elements)===null||ge===void 0)&&ge.length)?Ee.elements.forEach(H=>{var Z;H==null||(Z=H.elements)===null||Z===void 0||Z.forEach(q=>{Oe(q)}),le+=`
`}):!(Ee==null||(J=Ee.elements)===null||J===void 0)&&J.length&&(Ee.elements.forEach(H=>{Oe(H)}),le+=`
`)}),le=W(le);const he={};return ee.forEach(Ee=>{let ge=le.indexOf(Ee);for(;ge!==-1;){if(R(le,Ee,ge,he,!0)){const J=Ee.length;for(let H=0;H<J;H++)he[ge+H]=!0;te.push({index:ge,length:J})}ge=le.indexOf(Ee,ge+1)}}),M(te)}v(Y,"locateRichTextHighlightWords");function z(L){let{text:Q="",highlights:ee=[],inputIsEscaped:te=!1}=L;if(!Q)return"";if(!ee||!ee.length)return Q;const le=V(Q,ee,te);if(!le.length)return Q;const Oe=[];let he=0;return le.forEach(Ee=>{let{index:ge,length:J}=Ee;Oe.push(Q.slice(he,ge)),Oe.push(`\uE000${Q.slice(ge,ge+J)}\uE001`),he=ge+J}),he!==Q.length&&Oe.push(Q.slice(he)),Oe.join("")}v(z,"addHighlightMarkersToString");const F=Object(f.a)(function(){return(arguments.length>0&&arguments[0]!==void 0?arguments[0]:"").split(/\s*,\s*/)});function V(L){let Q=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],ee=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!L||!Q||!Q.length)return[];const te={},le=W(L),Oe=U(Q,ee),he=x(Oe).reduce((Ee,ge)=>{if(C.test(ge))return Ee;const J=ge;let H=le.indexOf(J);for(;H!==-1;){if(R(le,J,H,te,!1)){const Z=J.length;for(let q=0;q<Z;q++)te[H+q]=!0;Ee.push({index:H,length:Z})}H=le.indexOf(J,H+1)}return Ee},[]);return M(he)}v(V,"locateHighlightWords")},"9Sxv":function(K,n,e){"use strict";e.d(n,"a",function(){return o});var s=e("q1tI"),t=e.n(s),a=e("iuhU"),r=e("iJ8e"),c=e("oEDn");const o=v(i=>{let{type:l,spacing:u="medium"}=i;const f=Object(a.default)("three_fourths_opacity",{margin_right_0:u==="none",margin_right_25:u==="small",margin_right_50:u==="medium"});return l===r.a||l===r.j||l===r.d?t.a.createElement(c.a,{type:"channel",size:"inherit",className:f}):l===r.c?t.a.createElement(c.a,{type:"dm",size:"inherit",className:f}):l===r.f?t.a.createElement(c.a,{type:"gn-menu",size:"inherit",className:f}):l===r.b||l===r.g?t.a.createElement(c.a,{type:"shared-channels-outline",size:"inherit",className:f}):l===r.i?t.a.createElement(c.a,{type:"star-o",size:"inherit",className:f}):t.a.createElement(c.a,{type:"star-o",size:"inherit",className:f})},"InlineChannelSectionFallbackIcon");o.displayName="InlineChannelSectionFallbackIcon"},"9ToC":function(K,n,e){"use strict";e.d(n,"a",function(){return t}),e.d(n,"c",function(){return a}),e.d(n,"d",function(){return c}),e.d(n,"b",function(){return i}),e.d(n,"e",function(){return u});var s=e("ltDl");const t=new RegExp("^[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?$","i");function a(f){const d=typeof f=="string"&&f.match(t);return d&&d.length===1&&d[0]===f||!1}v(a,"isEmail");function r(f){const{pathname:d,protocol:O}=Object(s.a)(f);return O==="mailto:"&&a(d)}v(r,"isEmailUrl");function c(f){const{pathname:d,protocol:O}=f;return O==="mailto:"&&a(d)}v(c,"isEmailUrlFromUrlObject");const o=/^[\w.-]+(?:\.[\w.-]+)+[\w\-.]+$/i;function i(f){const d=typeof f=="string"&&f.match(o);return d&&d.length===1&&d[0]===f||!1}v(i,"isDomain");function l(f){return f.includes("@slack-bots.com")}v(l,"isSlackBotEmail");function u(f){let{csv:d,min:O=0,max:m=10}=f;const g=d.split(/\s*,\s*/).length;return{minViolation:g<O,maxViolation:g>m}}v(u,"validateCSV")},"9WS/":function(K,n,e){"use strict";var s=e("q1tI"),t=e.n(s),a=e("Cfcg"),r=e("iuhU"),c=e("fujP"),o=e("nNoG"),i=e("ISSR"),l=e("vfvl"),u=e("Yauy"),f=e("G0eX"),d=e("beVI"),O=e("MUi8"),m=e("QpNZ"),g=e("BJra"),E=e("sGXp"),p=e("nvPh"),h=e("fMsH");function _(){return _=Object.assign||function(P){for(var T=1;T<arguments.length;T++){var S=arguments[T];for(var A in S)Object.prototype.hasOwnProperty.call(S,A)&&(P[A]=S[A])}return P},_.apply(this,arguments)}v(_,"_extends");const b=new o.b("search"),I=new o.b("inline_channel");function C(P){const{bestFormerName:T,bold:S=!0,channel:A,channelName:R,overrideHiddenName:x,width:M,displayFormerNames:j=E.e.true,isChannelFrozenAndInGracePeriod:W,showTeam:U=!0,showTeamForLocalChannel:B=!1,showTeamName:Y}=P,z=Object(i.a)(A)&&!W;let F=`${x??R}${z?` ${b.t("(archived)")}`:""}`,V;if(j)if(T){const Q=t.a.createElement(m.a,{bold:S,className:"c-channel_name__former_channel_icon",channel:A}),ee=t.a.createElement("span",{className:"c-channel_name__former_name_text"},t.a.createElement(p.a,{text:T,showTooltips:!1}));V=T&&t.a.createElement("span",{className:"c-channel_name__suffix"},I.rt(" (formerly {icon}{name})",{icon:Q,name:ee,note:'Shown when a user is typing the old name of a channel, e.g. "#dogs (formerly #cats)" or "#dogs (archived) (formerly #cats)"',fallbackHash:"b574996f0134b62e0fae6797e7d969b04de6b482"}))}else{let Q;const ee=Object(u.q)(A);if(ee&&!Object(c.a)(ee)){const te=ee.map(Oe=>`#${Oe}`);Q=Object(o.h)(te,{noConj:!0}).join("")}Q&&(F+=` ${I.t("(formerly {names})",{names:Q,note:'Shown when a user is typing the old name of a channel, e.g. "#dogs (formerly #cats)" or "#dogs (archived) (formerly #cats)"'})}`)}const L=Object(r.default)("c-channel_entity__name",{"c-channel_entity__name--bold":S});return t.a.createElement(t.a.Fragment,null,t.a.createElement("span",_({className:L},Object(g.a)(P)),t.a.createElement(p.a,{text:F,showTooltips:!1}),j&&V),!M&&t.a.createElement(t.a.Fragment,null,U&&t.a.createElement(O.a,{className:"c-channel_entity__team",iconSize:E.a.inline,channel:A,"data-qa":"channel_entity__team",shouldRender:B,showTeamName:Y})))}v(C,"ChannelName"),C.displayName="ChannelName";function y(P,T){let{channel:S,includeChannelPrefix:A}=T;const R=Object(d.g)(P)||Object(d.p)(P),x=Object(f.m)(R);var M;return{channelName:(M=Object(u.u)(P,S,{publicChannelIncludeHashSign:!!A,imIncludeAtSign:!1}))!==null&&M!==void 0?M:void 0,isChannelFrozenAndInGracePeriod:Object(l.b)(x,S)}}v(y,"mapStateToProps"),n.a=Object(a.a)(y)(C)},"9cNQ":function(K,n,e){"use strict";e.d(n,"b",function(){return u}),e.d(n,"a",function(){return f}),e.d(n,"c",function(){return d});var s=e("n3tL"),t=e("jeQL"),a=e("3Hq1"),r=e("WCk1"),c=e("2XU3"),o=e("0iF4"),i=e("E3dU");const l={"pins.list":{}},u=Object(r.a)("Get pinned items for channel",function(m,g){let{channelId:E,reason:p}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const h=l["pins.list"];return h[E]||(h[E]=m(Object(c.a)({method:"pins.list",args:{channel:E},reason:p})),h[E].then(_=>{const b=g(),I=Object(i.c)(b,E);I&&Object(o.c)(_,I)}),h[E].finally(()=>delete h[E])),h[E]});u.meta={name:"createFetcher",key:"createFetcherpinsList",description:"Get pinned items for channel"},u.propTypes={channelId:s.default.string.isRequired,reason:s.default.string.isRequired};const f=Object(r.a)("Pin Message to channel",(m,g,E)=>{let{ts:p,fileId:h,fileCommentId:_,channelId:b,reason:I}=E;return m(Object(c.a)({method:"pins.add",reason:I,args:Object(t.a)({channel:b,timestamp:p,file:h,file_comment:_},a.a)}))});f.meta={name:"createFetcher",key:"createFetcherpinsAdd",description:"Pin Message to channel"},f.propTypes={channelId:s.default.string.isRequired,ts:s.default.string,fileId:s.default.string,fileCommentId:s.default.string,reason:s.default.string.isRequired};const d=Object(r.a)("Unpin Message from channel",(m,g,E)=>{let{ts:p,fileId:h,fileCommentId:_,channelId:b,reason:I}=E;return m(Object(c.a)({method:"pins.remove",reason:I,args:Object(t.a)({channel:b,timestamp:p,file:h,file_comment:_},a.a)}))});d.meta={name:"createFetcher",key:"createFetcherpinsRemove",description:"Unpin Message from channel"},d.propTypes={channelId:s.default.string.isRequired,ts:s.default.string,fileId:s.default.string,fileCommentId:s.default.string,reason:s.default.string.isRequired};const O={resetActiveCalls:()=>{Object.keys(l).forEach(m=>{l[m]={}})}}},"9gkt":function(K,n,e){"use strict";var s=e("q1tI"),t=e.n(s),a=e("iuhU"),r=e("YUBf");const c=v(o=>{let{headerClassName:i,titleClassName:l,children:u,title:f}=o;return t.a.createElement(r.i,{className:Object(a.default)("p-upgrades_modal__header",i)},u,t.a.createElement(r.l,{className:Object(a.default)("p-upgrades_modal__title",l),title:f}))},"ModalHeader");n.a=c},"9j5s":function(K,n,e){"use strict";e.d(n,"a",function(){return o});var s=e("lhZz"),t=e("LqbL"),a=e("7xYR"),r=e("toaU"),c=e("JfJV");function o(i){const l=Object(s.getClientStoreInstance)();var u;const f=(u=Object(a.getNavigateToUnbootedWorkspace)(l.getState()))!==null&&u!==void 0?u:{},{bootingTeamId:d,navigateToRouteProps:O}=f;return d===i?(Object(c.h)((O==null?void 0:O.routeName)||r.a,{teamId:i,...(O==null?void 0:O.params)||{}},{reason:"delayed-unbooted-team-switch",...(O==null?void 0:O.options)||{}}),l.dispatch(Object(t.setNavigateToUnbootedWorkspace)({})),!0):!1}v(o,"maybeNavigateToUnbootedWorkspace")},"9org":function(K,n,e){"use strict";var s=e("q1tI"),t=e.n(s),a=e("iuhU"),r=e("zxER"),c=e("YiJ7");function o(){return o=Object.assign||function(u){for(var f=1;f<arguments.length;f++){var d=arguments[f];for(var O in d)Object.prototype.hasOwnProperty.call(d,O)&&(u[O]=d[O])}return u},o.apply(this,arguments)}v(o,"_extends");const i=v(u=>{let{children:f,className:d,...O}=u;const m=Object(r.a)(c.b);return t.a.createElement("div",o({},O,{className:Object(a.default)("c-sk-modal_content_section",{"c-sk-modal_content_section--responsive":m},d)}),f)},"ModalContentSection");i.displayName="ModalContentSection";var l=n.a=i},"9tyN":function(K,n,e){"use strict";var s=e("lCmp"),t=e("NFsq"),a=e("nNoG");const r=["`","\xB4","\u02C6","\xA8","\u02DC"],c=new RegExp(`[${r.join("")}]$`);var o=v(function(){return(arguments.length>0&&arguments[0]!==void 0?arguments[0]:"").replace(c,"")},"trim_trailing_composition_char");const i={COMPOSITION_CHARS:r};var l=e("KPXh"),u=n.a=function(f,d){let{allowPartialMatches:O=!1}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(!d||!f)return!1;let m=d.toLowerCase().replace(/^\uFF0F/,"/");m=Object(a.a)(m),m=o(m);const g=[Object(l.g)(f),Object(l.e)(f),...Object(l.b)(f)||[]];return Object(s.a)(g,E=>{const p=Object(a.a)(E);return O?Object(t.a)(p,m):p===m})}},"9v4y":function(K,n,e){"use strict"},"9vpw":function(K,n,e){"use strict";e.d(n,"a",function(){return t}),e.d(n,"e",function(){return a}),e.d(n,"c",function(){return r}),e.d(n,"g",function(){return c}),e.d(n,"d",function(){return o}),e.d(n,"b",function(){return i}),e.d(n,"f",function(){return l});var s=e("DwFS");const t=Object(s.a)("Toggle display of the huddle troubleshooting panel");t.meta={name:"createAction",key:"createActiontoggleTroubleshootingPanelDisplay",description:"Toggle display of the huddle troubleshooting panel"};const a=Object(s.a)("Update the state of the active tab in the huddle troubleshooting panel");a.meta={name:"createAction",key:"createActionupdateTroubleshootingActiveTab",description:"Update the state of the active tab in the huddle troubleshooting panel"};const r=Object(s.a)("Update stable metrics state");r.meta={name:"createAction",key:"createActionupdateStableMetrics",description:"Update stable metrics state"};const c=Object(s.a)("Update unstable metrics and warnings state");c.meta={name:"createAction",key:"createActionupdateUnstableMetricsAndWarnings",description:"Update unstable metrics and warnings state"};const o=Object(s.a)("Update stable warnings state");o.meta={name:"createAction",key:"createActionupdateStableWarnings",description:"Update stable warnings state"};const i=Object(s.a)("Update stable alert state");i.meta={name:"createAction",key:"createActionupdateStableAlerts",description:"Update stable alert state"};const l=Object(s.a)("Update unstable alert state");l.meta={name:"createAction",key:"createActionupdateUnstableAlerts",description:"Update unstable alert state"}},"9wgI":function(K,n,e){"use strict";e.d(n,"a",function(){return u});var s=e("bPB8"),t=e("E3dU"),a=e("miM7"),r=e("E97Y"),c=e("0JvK"),o=e("wGfi"),i=e("aykK"),l=e("oNuo");function u(f,d){const O=Object(t.c)(f,d);if(!O)return[];const m=[];return Object(o.a)(f,d)&&m.push(Object(l.a)("BKeveryone")),(Object(c.a)(O)||Object(r.i)(O))&&(!Object(a.a)(O)||Object(o.a)(f,d))&&Object(i.a)(f,d)&&(m.push(Object(l.a)("BKchannel")),m.push(Object(l.a)("BKhere"))),Object(s.a)(m)}v(u,"getBroadcastKeywordsForUser")},"A+oD":function(K,n,e){"use strict";e.d(n,"a",function(){return g});var s=e("fujP"),t=e("ZKjC"),a=e("P9LH"),r=e("xwCZ"),c=e("QLhP"),o=e("C3vN"),i=e("Nnn3"),l=e("9I4P"),u=e("+GhL"),f=e("x/ke"),d=e("O86Y"),O=e("nNoG");const m=new O.b("files"),g=Object(t.b)((E,p)=>{if(!Object(a.Fb)(p))return null;let h=m.t("External App");const _=(p==null?void 0:p.bot_user_id)||(p==null?void 0:p.user);if(_){var b;const I=(b=Object(r.g)(E,_))!==null&&b!==void 0?b:void 0;if(Object(o.cb)(I)){const C=Object(i.a)(E,I),y=Object(c.b)(E,C)||void 0,P=Object(l.a)(y);if(h=P||h,Object(s.a)(P)&&C){const T=Object(f.c)(E,{serviceId:C,homeWorkspaceId:Object(l.c)({bot:y,member:I,currentTeamId:Object(d.g)(E)})});h=Object(u.h)(T)||h}}}return h});g.meta={name:"createSelector",key:"createSelectorgetAppNameForRemoteFile",description:(E,p)=>{if(!Object(a.Fb)(p))return null;let h=m.t("External App");const _=(p==null?void 0:p.bot_user_id)||(p==null?void 0:p.user);if(_){var b;const I=(b=Object(r.g)(E,_))!==null&&b!==void 0?b:void 0;if(Object(o.cb)(I)){const C=Object(i.a)(E,I),y=Object(c.b)(E,C)||void 0,P=Object(l.a)(y);if(h=P||h,Object(s.a)(P)&&C){const T=Object(f.c)(E,{serviceId:C,homeWorkspaceId:Object(l.c)({bot:y,member:I,currentTeamId:Object(d.g)(E)})});h=Object(u.h)(T)||h}}}return h}}},A1dN:function(K,n,e){"use strict";e.d(n,"a",function(){return u}),e.d(n,"c",function(){return f}),e.d(n,"d",function(){return d}),e.d(n,"e",function(){return O}),e.d(n,"b",function(){return m});var s=e("Z0Cl"),t=e("DxSU"),a=e("AFNo"),r=e("2XU3"),c=e("Lgge"),o=e("s4P+"),i=e("3REw"),l=e("gHj1");const u=Object(a.a)("Get call info from callId",(g,E,p)=>{let{callIds:h,reason:_}=p;const b=Object(o.a)({getState:E});return h.length>3&&b.warn(`fetchCallByIds being called for unexpectedly many calls at once: ${h.length}`),c.a.map(h,I=>g(Object(r.a)({method:"screenhero.rooms.info",args:{room:I},reason:_||"huddles-call-info"})).then(C=>{let{room:y}=C;return Object(t.b)(y)}).catch(C=>(b.error(C,`Error while fetching call: ${I}`),null))).then(s.a)});u.meta={name:"createFetcher",key:"createFetcherfetchCallsByIds",description:"Get call info from callId"};const f=Object(a.a)("Join a calls / huddle room",(g,E,p)=>{let{channelId:h,roomId:_,threadTs:b,shouldFetchRegion:I,teamId:C,traceId:y,parentSpanId:P,reason:T,isMultiDevice:S=!1}=p;return(I?l.a.getInstance().getNearestChimeMediaRegion(C):c.a.resolve("")).then(A=>g(Object(r.a)({method:"rooms.join",args:{..._&&{id:_},...h&&{channel_id:h},...b&&{thread_ts:b},regions:A,multidevice:S},traceId:y,parentSpanId:P,reason:T||"calls-api/joinRoom"})).then(R=>({server:Object(i.s)(R.call),roomId:R.call.call_id,regions:"",inviteResponses:void 0,virtualRoomId:_,...R.canvas&&R.canvas.root_thread_ts&&{rootThreadTs:R.canvas.root_thread_ts},...R.canvas&&R.canvas.canvas_file_id&&{canvasFileId:R.canvas.canvas_file_id}})))});f.meta={name:"createFetcher",key:"createFetcherjoinRoom",description:"Join a calls / huddle room"};const d=Object(a.a)("Notify member to join huddle",(g,E,p)=>{let{reason:h,channelId:_,userId:b}=p;return g(Object(r.a)({method:"rooms.notifyMember",args:{channel_id:_,user_id:b},reason:h}))});d.meta={name:"createFetcher",key:"createFetchernotifyMember",description:"Notify member to join huddle"};const O=Object(a.a)("Set a huddle topic / rename the call",(g,E,p)=>{let{roomId:h,name:_}=p;return g(Object(r.a)({method:"screenhero.rooms.rename",reason:"huddles-topic",args:{room:h,room_name:_}}))});O.meta={name:"createFetcher",key:"createFetcherrenameCall",description:"Set a huddle topic / rename the call"};const m=Object(a.a)("Get a link to a huddle",(g,E,p)=>{let{reason:h,channelId:_}=p;return g(Object(r.a)({method:"rooms.getLink",reason:h,args:{channel_id:_}}))});m.meta={name:"createFetcher",key:"createFetchergetLink",description:"Get a link to a huddle"}},A4eW:function(K,n,e){K.exports=e.p+"huddle-in-thread-da71b0e.png"},A6se:function(K,n,e){"use strict";e.d(n,"a",function(){return s}),e.d(n,"b",function(){return t});function s(a){return a>=48&&a<=57}v(s,"isNumericKey");function t(a){const r=String.fromCharCode(a);return!!/[a-zA-Z0-9]/.test(r)}v(t,"isAlphaNumericKey")},A7BO:function(K,n,e){"use strict";e.d(n,"a",function(){return l});var s=e("q1tI"),t=e.n(s),a=e("iuhU"),r=e("ifKl"),c=e("ktUG"),o=e("FRd1");function i(){return i=Object.assign||function(m){for(var g=1;g<arguments.length;g++){var E=arguments[g];for(var p in E)Object.prototype.hasOwnProperty.call(E,p)&&(m[p]=E[p])}return m},i.apply(this,arguments)}v(i,"_extends");const l={small:"small",medium:"medium",large:"large"},u={onBlur:{action:c.UiAction.SAVE}};var f;let d=v(class extends(f=t.a.Component){componentDidMount(){var g;this.props.focusOnMount&&(!((g=this.textAreaRef)===null||g===void 0)&&g.current)&&this.textAreaRef.current.focus()}onChange(g){this.props.onChange(g.target.value)}render(){const{ariaDescribedby:g,isInvalid:E,ariaLabelledby:p,ariaRequired:h,className:_,placeholder:b,id:I,isDisabled:C,name:y,resize:P,size:T,focusOnMount:S,autoClogProps:A,...R}=this.props,x=Object(a.default)("c-input_textarea",{"c-input_textarea--large":T===l.large,"c-input_textarea--small":T===l.small,"c-input_textarea--resize_none":P==="none","c-input_textarea--resize_both":P==="both","c-input_textarea--resize_h":P==="horizontal","c-input_textarea--with_error":E,"c-input_textarea--with_inline_alert":E},_),M=t.a.createElement("textarea",i({},R,{"aria-describedby":g,"aria-invalid":E,"aria-labelledby":p,"aria-required":h,className:x,disabled:C,id:I,name:y,onChange:this.onChange,onFocus:this.props.onFocus,onBlur:this.props.onBlur,placeholder:b,ref:this.textAreaRef,value:this.props.value,style:this.props.style,maxLength:this.props.maxLength}));return A?t.a.createElement(o.a,{autoClogProps:A,actionProps:u,elementType:c.ElementType.TEXTAREA},M):M}constructor(g){super(g),this.onChange=this.onChange.bind(this),this.textAreaRef=t.a.createRef()}},"TextareaInput");d.displayName="TextareaInput",d.defaultProps={ariaDescribedby:"",isInvalid:!1,ariaLabelledby:"",ariaRequired:!1,className:null,isDisabled:!1,onChange:r.a,onFocus:r.a,onBlur:r.a,placeholder:"",resize:null,size:l.medium,style:void 0,maxLength:void 0,value:"",focusOnMount:!1,autoClogProps:void 0};var O=n.b=d},A7Fl:function(K,n,e){"use strict"},"A9I/":function(K,n,e){"use strict";e.d(n,"b",function(){return a}),e.d(n,"a",function(){return r});var s=e("dKQz"),t=e("SQ0V");const a=Object(t.c)("Show discovery banner",(c,o)=>{c(Object(s.Z)(!0))});a.meta={name:"createThunk",key:"createThunkshowDiscoveryBanner",description:"Show discovery banner"};const r=Object(t.c)("Hide discovery banner",(c,o)=>{c(Object(s.Z)(!1))});r.meta={name:"createThunk",key:"createThunkhideDiscoveryBanner",description:"Hide discovery banner"}},ACY8:function(K,n,e){"use strict";e.d(n,"a",function(){return t});var s=e("2VFn");const t=v(function(a){let{channelId:r,ts:c,threadTs:o,viewContext:i,windowId:l=String(s.c)}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};a.warn("UNSAVED-EDITS",`unsaved edit in ${r}, ts: ${c}, threadTs: ${o}, viewContext: ${i}, window: ${l}`)},"logWarning")},AEEY:function(K,n,e){"use strict";var s=e("q1tI"),t=e.n(s),a=e("iuhU"),r=e("CMvH"),c=e("zrD9"),o=e("UQYs"),i=e("UXvI"),u=v(function(){let g=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,E=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;const[p,h]=Object(s.useState)(0),_=Object(s.useMemo)(()=>{const C=Object(i.a)(h,160);return v(P=>{const T=P.target;C(T.scrollTop)},"onScrollHandler")},[h]),b=E>g&&p>0,I=E>g&&p<E-g;return{onScroll:_,indicateTop:b,indicateBottom:I}},"useScrollIndicator"),f=e("muVS");function d(){return d=Object.assign||function(g){for(var E=1;E<arguments.length;E++){var p=arguments[E];for(var h in p)Object.prototype.hasOwnProperty.call(p,h)&&(g[h]=p[h])}return g},d.apply(this,arguments)}v(d,"_extends");const O=v(g=>{let{children:E,className:p,showScrollIndicatorTop:h=!0,showScrollIndicatorBottom:_=!0,contentInnerClassName:b,...I}=g;const[C,y]=Object(s.useState)(void 0),[{containerHeight:P,containerWidth:T},S]=Object(s.useState)({containerHeight:void 0,containerWidth:void 0}),A=Object(s.useCallback)(B=>{let{client:{height:Y,width:z}}=B;S({containerHeight:Y,containerWidth:z})},[]),{onScroll:R,indicateTop:x,indicateBottom:M}=u(P,C),j=Object(s.useRef)(),W=Object(s.useCallback)(()=>{var B;const Y=(B=j.current)===null||B===void 0?void 0:B.closest("[tabindex]");Y==null||Y.focus()},[]),U=Object(s.useCallback)(B=>{B.offset&&y(B.offset.height)},[]);return t.a.createElement(r.a,{client:!0,onResize:A},B=>{let{measureRef:Y}=B;return t.a.createElement(c.a,{onFocusedElementRemoved:W},t.a.createElement("div",d({},I,{"data-qa":"sk-modal-content",key:"c-sk-modal__content",className:Object(a.default)("c-sk-modal_content",{"c-sk-modal_content--indicateTop":x&&h,"c-sk-modal_content--indicateBottom":M&&_},p),ref:Object(f.a)(j,Y)}),t.a.createElement(o.b,{width:T||0,height:P||0,contentHeight:C,onScroll:R,inheritSize:!0},t.a.createElement(r.a,{offset:!0,onResize:U},z=>{let{measureRef:F}=z;return t.a.createElement("div",{className:Object(a.default)("c-sk-modal_content__inner",b),ref:F},E)}))))})},"ModalContent");O.displayName="ModalContent";var m=n.a=O},AFY6:function(K,n,e){"use strict";var s=e("q1tI"),t=e.n(s),a=e("iuhU");const r=v(c=>{let{className:o,subtitle:i}=c;return t.a.createElement("div",{className:Object(a.default)("p-upgrades_modal__subtitle",o)},i)},"ModalSubtitle");n.a=r},AIke:function(K,n,e){"use strict";e.d(n,"a",function(){return f});var s=e("Lgge"),t=e("SQ0V"),a=e("Sl1j"),r=e("ohbk"),c=e("Fqb6"),o=e("u/Sz"),i=e("I0j/"),l=e("37+L"),u=e("RV0M");const f=Object(t.c)("Archives a private channel, creates and upserts a new one with the same name, then adds users",(d,O,m,g)=>{let{channelId:E,users:p,subteams:h,inviteAll:_,force:b,propagateInviteResult:I}=m;return d(Object(a.e)({channelId:E,reason:o.a.CHILD_CHANNEL_CREATED})).then(function(){let{channel:C}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const{shouldUseNavigate:y}=g(u.a);return d(Object(c.a)({channel:C,reason:o.a.CHILD_CHANNEL_CREATED})),d(y?Object(i.a)(Object(l.m)(C.id)):Object(r.a)({id:C.id})),I?_||p||h?d(Object(a.B)({channelId:C.id,users:p,subteams:h,inviteAll:_,force:b})).then(P=>({channel:C,inviteResult:P})):s.a.resolve({channel:C,inviteResult:{ok:!0}}):(d(Object(a.B)({channelId:C.id,users:p,subteams:h})),s.a.resolve({channel:C}))})});f.meta={name:"createThunk",key:"createThunkcreateChildChannelAndAddMembers",description:"Archives a private channel, creates and upserts a new one with the same name, then adds users"}},AKQE:function(K,n,e){"use strict";e.d(n,"a",function(){return t}),e.d(n,"b",function(){return a});let s=null;const t=v(()=>s,"getOpenChannelId"),a=v(r=>{s=r},"setOpenChannelId")},AO5M:function(K,n,e){"use strict";e.d(n,"a",function(){return t}),e.d(n,"e",function(){return a}),e.d(n,"c",function(){return r}),e.d(n,"d",function(){return c}),e.d(n,"b",function(){return o});var s=e("DwFS");const t=Object(s.a)("Push a fresh tile history entry");t.meta={name:"createAction",key:"createActionpushHistoryEntryInternal",description:"Push a fresh tile history entry"};const a=Object(s.a)("Update history index when moving through a tile\u2019s history");a.meta={name:"createAction",key:"createActionupdateHistoryIndex",description:"Update history index when moving through a tile\u2019s history"};const r=Object(s.a)("Replace the current history entry");r.meta={name:"createAction",key:"createActionreplaceHistoryEntry",description:"Replace the current history entry"};const c=Object(s.a)("Replace the entire tile history state");c.meta={name:"createAction",key:"createActionreplaceHistoryStateInternal",description:"Replace the entire tile history state"};const o=Object(s.a)("Remove history for a tile when it\u2019s closed");o.meta={name:"createAction",key:"createActionremoveHistoryForTile",description:"Remove history for a tile when it\u2019s closed"}},AQWg:function(K,n,e){"use strict";e.d(n,"a",function(){return a});var s=e("q1tI"),t=e.n(s);function a(r,c){const o=Object(s.useRef)(c);o.current=c,Object(s.useEffect)(()=>{if(!r)return;const i=v((l,u)=>{if(u){var f;(f=o.current)===null||f===void 0||f.call(o,r)}},"renderListener");return i(void 0,r.rendered.get()),i.callbackRef=o,r.rendered.listen(i),()=>{r.rendered.unlisten(i)}},[r])}v(a,"useEmbedPartiallyRenderedEffect")},AaY3:function(K,n,e){"use strict";var s=e("9oTK"),t=e("vYXD"),a=e("AKQE"),r=e("q1tI"),c=e.n(r),o=e("zxER"),i=e("npde"),l=e("E/AO"),u=e("Tevt"),f=e("Trx9"),d=e("ktUG"),O=e("d/xU"),m=e("nNoG"),g=e("QcWC"),E=e("RVJP");const p=new m.b("huddles");function h(k){let{closeModal:se}=k;const re=Object(o.a)(g.a),X=Object(o.a)(ie=>Object(E.d)(ie,"adoption_instant_slack"))==="treatment";let w,ce;if(Object(t.c)())w=p.t("Your browser does not support Huddles"),ce=re&&X?p.rt("Unfortunately, Huddles aren\u2019t available in this browser. We recommend switching to <chrome-link>Chrome</chrome-link>.",{},ie=>{let{text:oe}=ie;return c.a.createElement(u.a,{href:"https://www.google.com/chrome"},oe)}):p.rt("Unfortunately, Huddles aren\u2019t available in this browser. We recommend downloading the <desktop-link>Slack desktop app</desktop-link>, or you can switch to <chrome-link>Chrome</chrome-link>.",{},ie=>{let{tag:oe,text:me}=ie;switch(oe){case"desktop-link":return c.a.createElement(u.a,{href:`https://${Object(O.l)()}/downloads`},me);case"chrome-link":return c.a.createElement(u.a,{href:"https://www.google.com/chrome"},me);default:return null}});else if(Object(t.d)())w=p.t("Please update Slack"),ce=p.t("Unfortunately, this version of Slack is out of date. Update your Slack app for access to Huddles \u2014 as well as bug fixes and an all-around smoother experience.");else return null;return c.a.createElement(f.a,{eventId:d.EventId.HUDDLES_ALERT_SHOWN,uiComponentName:d.UiComponentName.HUDDLES_UNSUPPORTED_ALERRT,clogImpression:!0},c.a.createElement(l.a,{onClose:se,onSubmit:se,showCancelButton:!1,showSubmitButton:!0,title:w,submitButtonText:p.t("OK")},ce))}v(h,"HuddleUnsupportedAlert"),h.displayName="HuddleUnsupportedAlert";var _=Object(i.a)(h),b=e("Lgge"),I=e("SQ0V"),C=e("lpU5"),y=e("6rGi"),P=e("jj3I"),T=e("O86Y"),S=e("7DVt"),A=e("H2ap"),R=e("v5z3"),x=e("x5lL"),M=e("t3jr");const j=Object(I.c)("End active call",(k,se)=>{const re=Object(x.b)(se());if(re){const X=Object(x.t)(re);X&&!X.isClosed()&&Object(M.a)(X,"endActiveCall")}});j.meta={name:"createThunk",key:"createThunkmaybeEndActiveCall",description:"End active call"};var W=e("gpLM"),U=e("HKlo"),B=e("u0LO"),Y=e("52XJ"),z=e("lhZz"),F=e("GNR7"),V=e("gHj1"),L=e("sgFo"),Q=e("9Gfp"),ee=e("+CZ0"),te=e("0dq7"),le=e("XM5t"),Oe=e("5IZy"),he=e("3vtZ"),Ee=e("bTZa"),ge=e("i5QK"),J=e("dKQz"),H=e("ED8d");const Z=Object(I.c)("Start huddle",function(){var k=Object(s.coroutine)(function*(se,re,X){let{channelId:w,threadTs:ce,muted:ie,callId:oe,forceFocus:me,entryPoint:ue=te.e.UNKNOWN,isMultiDevice:_e}=X;Object(z.dispatchForClientStore)(Object(J.y)(!1));const be=re();if(se(j()),se(Object(P.e)(!1)),se(Object(P.a)()),Object(t.d)()||Object(t.c)())return se(_()),b.a.resolve();Object(E.d)(be,"onbrd_1472")==="off"&&!Object(S.c)(be,R.f.Huddles)&&(yield se(Object(A.a)({skipShowExplainer:!0,tip:R.f.Huddles}))),se(Object(Y.a)({experimentHuddlesDiscoveryCallsGroupTreatment:Object(L.k)(be),interactionType:B.a.Click})),Object(a.a)()!==w&&se(Object(C.j)({channelId:w,open:!1}));const Ae=Object(Q.i)(be,"feature_tinyspeck"),Ce=Object(T.g)(be);Object(H.a)().initializeTraces({teamId:Ce,isTinySpeck:Ae});const De=!!Object(ee.w)(Object(z.getStateForClientStore)()),Pe=yield V.a.getInstance().getNearestChimeMediaRegion(Ce),{ttiTrace:Ue}=Object(H.a)().getAllTraceHandlers();Ue.addTTIMetaTags({entryPoint:ue,preferredMediaRegion:Pe,isPrejoin:De,isCreate:!Object(F.a)(be,w)}),ge.a.publish({type:Ee.c.PreferredMediaRegion,update:{mediaRegionPreferred:Pe}});const ae=Object(y.a)(),ne=Object(L.p)(be),Ie=Object(Q.a)(be);return ae.start(Ce,w,ie,oe,ce,ne,_e).then(Object(s.coroutine)(function*(){const Te=Object(z.getStateForClientStore)(),Me=Object(he.k)(be,{huddleId:oe}),Ne=Object(he.j)(Te),He=Object(he.i)(Te);Object(Oe.a)({state:be}).track(d.EventId.CANVAS_EVENT,{contexts:{ui_context:{entry_point:ue,ui_properties:{element_name:le.a.CANVAS_JOIN},action:d.UiAction.TOGGLE},calls:He},...Me,...Ne}),se(Object(W.c)({focusKey:U.c.HUDDLE_SIDEBAR_FOOTER,forceFocus:me})),se(Object(C.i)(!1)),oe&&se(Object(x.B)({callId:oe,userId:Ie}))}))});return function(se,re,X){return k.apply(this,arguments)}}());Z.meta={name:"createThunk",key:"createThunkstartHuddle",description:"Start huddle"};var q=n.a=Z},Aebc:function(K,n,e){"use strict";var s=e("q1tI"),t=e.n(s),a=e("iuhU"),r=e("nNoG"),c=e("nWdO"),o=e("6R8Z"),i=e("VFSv");function l(){return l=Object.assign||function(m){for(var g=1;g<arguments.length;g++){var E=arguments[g];for(var p in E)Object.prototype.hasOwnProperty.call(E,p)&&(m[p]=E[p])}return m},l.apply(this,arguments)}v(l,"_extends");const u=new r.b("presence");function f(m,g){return m?g?u.t("Active, notifications snoozed"):u.t("Active"):g?u.t("Away, notifications snoozed"):u.t("Away")}v(f,"getPresenceText");const d=v(m=>{let{inheritIconSize:g=!1,inline:E=!0,isActive:p=!1,isDnd:h=!1,isSelf:_=!1,isSlackbot:b=!1,invert:I=!1,userType:C="member",focusable:y=!1,showText:P=!1,resetIA:T=!1,className:S}=m,A=p?{name:"status-member",variation:"filled"}:{name:"status-member"};const R=Object(a.default)(S,"c-presence",{"c-presence--active":p&&!I,"c-presence--resetIA":T,"c-presence--away":!p&&!I,"c-presence--inverted":I,"is-inline":E,block:!E}),x=f(p,h);C==="member"?h?A=p?{name:"status-member-dnd",variation:"filled"}:{name:"status-member-dnd"}:b&&(A={name:"status-slackbot",variation:"filled"}):C==="ra"||C==="external"?h?A=p?{name:"status-guest-dnd",variation:"filled"}:{name:"status-guest-dnd"}:A=p?{name:"status-guest",variation:"filled"}:{name:"status-guest"}:C==="ura"&&(h?A=p?{name:"status-single-channel-guest-dnd",variation:"filled"}:{name:"status-single-channel-guest-dnd"}:A=p?{name:"status-single-channel-guest",variation:"filled"}:{name:"status-single-channel-guest"});const M=t.a.createElement("span",{className:R},t.a.createElement(i.a,l({},A,{title:x,"aria-label":x,"aria-hidden":"false",size:g?"inherit":"20",inline:E,"data-qa":"presence_indicator","data-qa-type":A.name,"data-qa-presence-self":_,"data-qa-presence-active":p,"data-qa-presence-dnd":h})));return y?t.a.createElement(t.a.Fragment,null,t.a.createElement(c.c,{tip:x},t.a.createElement(o.a,null,M)),P&&t.a.createElement("span",{className:"padding_left_50","aria-hidden":"true"},x)):t.a.createElement(t.a.Fragment,null,M,P&&t.a.createElement("span",{className:"padding_left_50","aria-hidden":"true"},x))},"Presence");d.displayName="Presence";var O=n.a=t.a.memo(d)},Aqju:function(K,n,e){"use strict";e.d(n,"a",function(){return o});var s=e("mLC8"),t=e("O86Y"),a=e("1Np4"),r=e("QBFz"),c=e("KQ0X");function o(i){let{state:l,channelId:u}=i;const f=Object(t.g)(l),d=Object(r.a)(l,"channel_switch");s.d.start({label:s.a.ChannelSwitch,id:Object(c.a)({teamId:f,channelId:u}),options:{phases:!0,tracer:Object(a.a)({state:l}),teamId:f,tags:{view_name:"chat"},onCleanup(){d.stop()}}})}v(o,"traceChannelSwitch")},"B+uu":function(K,n,e){"use strict";e.d(n,"a",function(){return a});var s=e("8agj"),t=e("jnGo");const a=v((r,c)=>{var o,i;let l,u,f;r&&(r.subtype==="file_comment"?[u,l]=["file_comment",r.comment]:Object(s.a)(r.subtype)?[u,l]=["file",c]:[u,l,f]=["message",r,r.channel]);const d=u==="message"?(o=l)===null||o===void 0?void 0:o.ts:(i=l)===null||i===void 0?void 0:i.id;return l&&(l._rxn_key||Object(t.a)(u,d,f))},"getReactionKey")},B4ch:function(K,n,e){"use strict";var s=e("q1tI"),t=e.n(s),a=e("/MKj"),r=e("SQ0V"),c=e("lhZz"),o=e("O86Y"),i=e("stxl"),l=e("3l96"),u=e("4hjS"),f=e("PIf0"),d=e("azFB");function O(){return O=Object.assign||function(g){for(var E=1;E<arguments.length;E++){var p=arguments[E];for(var h in p)Object.prototype.hasOwnProperty.call(p,h)&&(g[h]=p[h])}return g},O.apply(this,arguments)}v(O,"_extends");const m=v((g,E)=>Object(r.c)(`XWS open ${g.displayName} modal`,(p,h,_,b)=>{const{modalName:I,allowMultiple:C=!0,isStackable:y=!1,renderInChildWindow:P=!1}=E||{};let T,S=P;const A=b(f.a);if((A==null?void 0:A.window)!==d.a&&(A!=null&&A.windowId)&&(S=!0,T=A.windowId),!C&&I&&Object(i.a)(h(),T).find(Y=>{let{name:z}=Y;return z===I}))return;const R=Object(o.g)(h()),x=Object(u.f)(h()),M=Object(c.getStoreInstanceByTeamId)(R);let j,W=t.a.createElement(g,O({},_,{closeModal:()=>j==null?void 0:j()}));S||(W=t.a.createElement(a.Provider,{store:M},W));let U;return S?U=p(Object(l.a)({element:W,name:I||void 0,isStackable:y})):U=Object(c.dispatchForTeamId)(x,Object(l.a)({element:W,name:I||void 0,isStackable:y})),j=U.close,U}),"createXWSModalThunk");n.a=m},B5am:function(K,n,e){K.exports=e.p+"item_pickup-8845498.mp3"},BEQu:function(K,n,e){"use strict";e.d(n,"b",function(){return t}),e.d(n,"c",function(){return a}),e.d(n,"a",function(){return r}),e.d(n,"d",function(){return i});var s=e("Z7Ay");const t=450,a=450,r=25,c=500;let o;const i=v(()=>o||[a,t,r,c],"getHuddleCameraQualityConstants");Object(s.a)("huddlesVideoConstants",{resetCameraQualityToDefaults:()=>{o=void 0},maxOutCameraQuality:()=>{o=[1280,720,30,2500]}})},BHiC:function(K,n,e){"use strict";e.d(n,"a",function(){return t});var s=e("AFNo");const t=Object(s.c)((r,c)=>{let{windowId:o}=c;var i;return r==null||(i=r.viewSetMetadata)===null||i===void 0?void 0:i[o]});t.meta={name:"createSelector",key:"createSelectorgetViewSetMetadata",description:(r,c)=>{let{windowId:o}=c;var i;return r==null||(i=r.viewSetMetadata)===null||i===void 0?void 0:i[o]}};const a=Object(s.c)((r,c)=>{let{windowId:o}=c;var i,l;return!!(!(r==null||(i=r.viewSetMetadata)===null||i===void 0||(l=i[o])===null||l===void 0)&&l.forceSingleColumnMode)});a.meta={name:"createSelector",key:"createSelectorgetForceSingleColumnMode",description:(r,c)=>{let{windowId:o}=c;var i,l;return!!(!(r==null||(i=r.viewSetMetadata)===null||i===void 0||(l=i[o])===null||l===void 0)&&l.forceSingleColumnMode)}}},BJra:function(K,n,e){"use strict";e.d(n,"a",function(){return a});var s=e("u3oV"),t=e("X6iR");function a(r){return Object(s.a)(r,(c,o)=>Object(t.a)(o,"data-"))}v(a,"getDataProps")},BSP1:function(K,n,e){"use strict";e.d(n,"a",function(){return t}),e.d(n,"b",function(){return a});var s=e("Eh7F");const t=v(r=>{const c=Date.now();var o;return c-((o=r.updatedTimestamp)!==null&&o!==void 0?o:c)>=s.c},"isAwarenessEntryExpired"),a=v(r=>r?[s.a.HUDDLE_ACTIVE_SONG].includes(r):!1,"skipUniquenessCheck")},BTpy:function(K,n,e){"use strict";e.d(n,"c",function(){return i}),e.d(n,"a",function(){return l}),e.d(n,"b",function(){return u});var s=e("ZKjC"),t=e("dmdh"),a=e("6dQg"),r=e("CnKg"),c=e("9068");const o=Object(s.b)((f,d)=>{const{fileIdOrQuipThreadId:O}=Object(r.i)(d);if(Object(a.a)(O)){var m;return(m=Object(t.c)(f,O))!==null&&m!==void 0?m:null}return null});o.meta={name:"createSelector",key:"createSelectormaybeGetFileByCompoundId",description:(f,d)=>{const{fileIdOrQuipThreadId:O}=Object(r.i)(d);if(Object(a.a)(O)){var m;return(m=Object(t.c)(f,O))!==null&&m!==void 0?m:null}return null}};const i=Object(s.b)((f,d)=>{const O=o(f,d);return O&&Object(c.a)(O)?O:null});i.meta={name:"createSelector",key:"createSelectormaybeGetExistentFileByCompoundId",description:(f,d)=>{const O=o(f,d);return O&&Object(c.a)(O)?O:null}};function l(f){return f.linked_channel_id}v(l,"getLinkedChannelId");function u(f){return["spaces-example-onboarding-canvas","spaces-example-team-meeting"].includes(f)}v(u,"isSampleCanvas")},BbyF:function(K,n,e){"use strict";var s=e("9oTK"),t=e.n(s),a=e("Dn5J"),r=e("2VFn"),c=e("uiBO"),o=e("SQ0V"),i=e("f24l"),l=e("H40f"),u=e("u+Mq"),f=e("PJXs"),d=e("QKJg"),O=e("1BWb"),m=e("n2bd"),g=e("v7mh"),E=e("FceS"),p=e("gLZF"),h=e("7ibc"),_=e("CnKg"),b=e("u09r"),I=e("xcHN"),C=e("BcBz"),y=e("dmdh"),P=e("P9LH"),T=e("6dQg"),S=e("E3dU"),A=e("37+L"),R=e("4iK2"),x=e("LAdm"),M=e("W1L4"),j=e("PxW5"),W=e("iMEJ");const U=Object(o.c)("Handle focus transitions when thread closes",function(){var Y=Object(s.coroutine)(function*(z,F,V){let{view:L,id:Q}=V;var ee;const te=L==null||(ee=L.params)===null||ee===void 0?void 0:ee.threadId;if(!te)return;const{threadTs:le,channelId:Oe}=Object(I.d)(F(),te);!Oe||!le||z(Object(b.a)({threadTs:le,channelId:Oe,id:Q}))});return function(z,F,V){return Y.apply(this,arguments)}}());U.meta={name:"createThunk",key:"createThunktransitionFocusOutOfThread",description:"Handle focus transitions when thread closes"};const B=Object(o.c)("Removes view from the specified viewSet",(Y,z,F)=>{let{windowId:V,container:L}=F;const Q=z();let ee=!0;if(V===r.c){var te;const ge=Object(g.a)(Q);if(!ge)return;const J=Object(g.h)(Q,{tab:ge}),H={...J};let Z={};if(L===r.h.Secondary){var le;if(!H[r.h.Secondary])return;if(H[r.h.Secondary]=void 0,Z={id:H[r.h.Primary].id,viewType:H[r.h.Primary].viewType,params:H[r.h.Primary].params,sourceContainer:L},!(J==null||(le=J[r.h.Secondary])===null||le===void 0)&&le.id){var Oe;Y(Object(m.a)({entityId:J==null||(Oe=J[r.h.Primary])===null||Oe===void 0?void 0:Oe.id,windowId:V}))}}if(L===r.h.Primary){if(J!=null&&J[r.h.Secondary])return;H[r.h.Primary]=Object(A.q)({tab:ge})}Y(Object(M.a)({windowId:r.c,tab:ge,viewSet:H})),Y(Object(x.a)({prevViewSet:J,prevTab:ge,nextViewSet:H,nextTab:ge,navigateParams:Z,triggerType:W.a.NAVIGATION})),(J==null||(te=J[L])===null||te===void 0?void 0:te.id)==="thread"&&Y(U({view:J==null?void 0:J[L],id:Z.id}));return}if(L===r.h.Secondary){var he;const ge={...Object(g.e)(Q,{windowId:V})},J=ge[r.h.Primary],H=ge[r.h.Secondary];if(!H)return;const Z=J!=null&&J.id?Object(f.b)(Q,{entityId:J.id,windowId:V}):void 0,q=(Z==null?void 0:Z.origin)==="channel_canvas";Object(p.a)({primaryViewId:J==null?void 0:J.id,secondaryViewId:H==null?void 0:H.id})&&Y(Object(m.a)({entityId:J==null?void 0:J.id,windowId:V}));const k=(H==null?void 0:H.viewType)&&R.a.includes(H==null?void 0:H.viewType);if(Object(h.Rc)(Q)&&(J!=null&&J.id)&&(!(J==null||(he=J.params)===null||he===void 0)&&he.versionId)&&k){const{fileIdOrQuipThreadId:se}=Object(_.i)(Object(j.e)(J)),re=Object(y.c)(Q,se),X=Object(_.h)({id:se});ee=!1,Y(Object(m.a)({entityId:X,windowId:V}));let w=X,ce,ie=c.a.Canvas;if(Object(T.a)(se)&&Object(P.h)(re)){const oe=Object(S.e)(Q,se),me=Object(A.o)(oe,X);w=me.id,ce=me.params,ie=me.viewType}Y(Object(i.a)({windowId:V,id:w,params:ce,viewType:ie})),Y(Object(C.b)({windowId:V}))}else if(Object(h.pb)(Q)){const re=Y(Object(l.a)({viewSet:{[r.h.Primary]:J},windowId:V}))[r.h.Secondary];if(re&&Object(a.a)(re)&&!Object(a.a)(H)&&(Y(Object(i.a)({windowId:V,id:re.id,params:re.params,viewType:re.viewType})),Y(Object(O.b)({channelId:J==null?void 0:J.id,isOverlay:!1,isFlex:!0,autoOpen:!0})),q)){var Ee;Y(Object(u.b)({params:{entityId:(Ee=re.params)===null||Ee===void 0?void 0:Ee.quipDocId},uiState:{reason:u.a.ChannelSpaceOriginView}}))}}(H==null?void 0:H.id)==="thread"&&Y(U({view:ge[L],id:J==null?void 0:J.id}))}if(Y(Object(d.a)({windowId:V,container:L})),ee){const ge={...Object(g.e)(Q,{windowId:V})};Y(Object(E.a)({windowId:V,entry:ge}))}});B.meta={name:"createThunk",key:"createThunkremoveView",description:"Removes view from the specified viewSet"},n.a=B},BfA7:function(K,n,e){"use strict";var s=e("q1tI"),t=e.n(s),a=e("mQiU");function r(){return r=Object.assign||function(o){for(var i=1;i<arguments.length;i++){var l=arguments[i];for(var u in l)Object.prototype.hasOwnProperty.call(l,u)&&(o[u]=l[u])}return o},r.apply(this,arguments)}v(r,"_extends");function c(o){const i=o,l=t.a.forwardRef((u,f)=>t.a.createElement(a.a.Consumer,null,d=>{let{view:O,closeView:m,windowId:g,container:E,isMainWindow:p,isChildWindow:h,shouldUseNavigate:_,activeTab:b,forceTabWhenNavigating:I,getSiblingView:C,getViewSet:y}=d;return t.a.createElement(i,r({ref:f},u,{view:O,closeView:m,windowId:g,container:E,isMainWindow:p,isChildWindow:h,shouldUseNavigate:_,activeTab:b,forceTabWhenNavigating:I,getSiblingView:C,getViewSet:y}))}));return l.displayName=`withViewContainerContext(${i.displayName})`,l}v(c,"withViewContainerContext"),c.displayName="withViewContainerContext",n.a=c},Bi0V:function(K,n,e){K.exports=e.p+"ava_0002-48-d3ba4ec.png"},Bi0v:function(K,n,e){"use strict";e.d(n,"a",function(){return i});var s=e("SQ0V"),t=e("HxoY"),a=e("RkbV"),r=e("rRi9"),c=e("SRu2");const o=Object(s.c)("Add an ephemeral message to messages-store and ephemeral message map",(l,u,f)=>{let{ephemeralType:d,message:O}=f;const m=u(),g=Object(c.a)(m,O);g.ts||(g.ts=Object(t.a)()),d&&(g._ephemeral_type=d),l(Object(a.a)([g])),d&&l(Object(r.a)({ephemeralType:d,channelId:g.channel,ts:g.ts}))});o.meta={name:"createThunk",key:"createThunkaddEphemeralMessage",description:"Add an ephemeral message to messages-store and ephemeral message map"};const i=Object(s.c)("Add an ephemeral message from a bot (defaults to Slackbot)",(l,u,f)=>{let{ephemeralType:d,message:O}=f,m;O.username?m={...O,subtype:"bot_message"}:m={...O,user:"USLACKBOT"},l(o({ephemeralType:d,message:m}))});i.meta={name:"createThunk",key:"createThunkaddEphemeralBotMessage",description:"Add an ephemeral message from a bot (defaults to Slackbot)"}},BkpQ:function(K,n,e){"use strict";var s=e("9oTK"),t=e.n(s),a=e("SQ0V"),r=e("gPPH"),c=e("wHDZ"),o=e("bYrq"),i=e("YHGx"),l=e("S36j"),u=e("4hjS"),f=e("WhBi"),d=e("JJ34"),O=e("WdO3"),m=e("mEzS"),g=e("E3dU"),E=e("JoR1"),p=e("O86Y"),h=e("2VFn"),_=e("a372"),b=e("6VWW"),I=e("2vQQ"),C=e("7ibc"),y=e("xcHN"),P=e("NV6F"),T=e("Z66H"),S=e("uiBO"),A=e("GbR5"),R=e("s4P+"),x=e("5IZy"),M=e("ktUG"),j=e("Zbwg"),W=e("IsIP"),U=e("gpLM"),B=e("Yauy"),Y=e("PWAB"),z=e("sueV"),F=e("HXkx"),V=e("Erf5"),L=e("59uo"),Q=e("1Mwh"),ee=e("i9jZ"),te=e("rZ8V"),le=e("seWQ"),Oe=e("SQbT"),he=e("1/Be"),Ee=e("vGF+"),ge=e("PIf0"),J=e("/Rv1"),H=e("j77i"),Z=e("bczA");const q=Object(a.c)("Opens a new tile",function(){var k=Object(s.coroutine)(function*(se,re,X,w){let{tile:ce,origin:ie}=X;var oe,me,ue;const _e=re();if(!Object(ee.a)(_e)&&!Object(te.g)(_e)||Object(o.b)())return;const be=yield se(Object(le.a)({nextTile:ce}));if(!be)return;const Ae=Object(L.h)(_e),Ce=Object(L.i)(_e),De=Object(L.a)(_e),Pe=Object(L.b)(_e),Ue=Pe===null?Ce.length-1:Ce.indexOf(Pe),ae=Ce.slice(0,Ue+1),ne=Ce.slice(Ue+1);if(Object(j.a)(be.view)){var Ie,Te;const Ft=Object(g.c)(_e,be.view),Bt=Object(B.B)(_e,Ft),at=Object(B.R)(Ft),Ht=Object(E.u)(_e,"start_scroll_at_oldest")&&Object(E.u)(_e,"mark_msgs_read_immediately");!(!((Ie=be.params)===null||Ie===void 0)&&Ie.startTs)&&Bt&&at&&Ht&&(be.params||(be.params={}),be.params.startTs=Bt),Object(C.pb)(_e)&&(!((Te=be.params)===null||Te===void 0)&&Te.channelCanvasId)&&(be.params.checkChannelSpacePrimaryView=!0)}if(Object(ee.a)(_e)){let Ft=!1;if(Object(Oe.a)(_e,be.view)){var Me;let Bt,at={[h.h.Primary]:{id:be.view,params:be.params,viewType:Object(A.a)(be.view)}};at=se(Object(he.a)({viewSet:at,windowId:h.c}));const Ht=Object(i.b)(be.view),Wt=Ht;if(be.view==="thread"&&(!((Me=be.params)===null||Me===void 0)&&Me.threadId)){var Ne,He;const yt=Object(y.a)((Ne=be.params)===null||Ne===void 0?void 0:Ne.threadId).channelId;Ft=!0,at={[h.h.Primary]:{id:yt||((He=be.params)===null||He===void 0?void 0:He.entityId),params:void 0,viewType:S.a.Channel},[h.h.Secondary]:{id:be.view,params:be.params,viewType:S.a.Thread}},Bt=h.h.Secondary}if(be.view==="channel_canvas"){var Et;at={[h.h.Primary]:{id:(Et=be.params)===null||Et===void 0?void 0:Et.channelId,params:void 0,viewType:S.a.Channel},[h.h.Secondary]:{id:"channel_canvas",params:be.params,viewType:S.a.ChannelCanvas}}}se(Object(P.s)({viewSet:at,shouldNavigateInContext:Ht,shouldShowSearch:Wt,...Bt&&{containerOrigin:Bt},clogParams:{uiComponentName:ie,entryPoint:"cmd_click"},forceSingleColumnMode:Ft}))}else Object(R.a)({getState:re}).action("TILES","skipped opening a Conversation View because the ID is not supported:",be.view);return}if(Object(ee.b)(_e))return;const Je=Object(r.a)(),qe=[...ae,Je,...ne],ke={...Ae,[Je]:be},{windowId:rt}=w(ge.a),pe=Object(Ee.a)(_e);if(qe.length>V.a){const[Ft]=qe.splice(0,1);(pe?Object(d.c)(_e,{tileKey:Ft,windowId:rt}):Object(f.c)(_e,{tileKey:Ft}))&&(pe?yield se(Object(m.a)({})):yield se(Object(O.a)())),delete ke[Ft]}if(!(Ce!=null&&Ce.length)){const Ft=Object(u.a)(_e);if(Ft){const Bt=Object(Z.a)(_e);se(Object(Q.h)({flexName:Ft,routeName:Bt}))}se(Object(l.b)(null)),yield se(Object(J.a)({shouldReplaceState:!0}))}const je=be.view===z.a.HELP&&((oe=be.params)===null||oe===void 0?void 0:oe.articleId),xe=be.view==="shortcuts"||be.view==="whats_new";(je||xe)&&se(Object(c.a)({key:Je,activeTile:De,tile:{view:z.a.HELP}})),se(Object(c.a)({key:Je,activeTile:De,tile:!(be==null||(me=be.params)===null||me===void 0)&&me.checkChannelSpacePrimaryView?{...be,params:{...be.params,checkChannelSpacePrimaryView:!1}}:be})),Object(T.a)(_e)&&se(Object(_.a)({container:h.h.Tile,windowId:h.c,tab:h.d.Home,id:be.view,params:be.params}));const ze=Object(p.g)(_e);Object(H.w)(ze,Y.a.TILES,ke),Object(H.w)(ze,Y.a.LAYOUT,qe),se(Object(Q.e)({key:Je,layout:qe,tiles:ke}));const st=Object(W.d)({view:ce.view,tileKey:Je});se(Object(U.c)({focusKey:st,forceFocus:!0})),se(Object(F.a)());const ct=Object(b.b)(_e,ce.view),dt=ct===b.a.Page;let bt=dt?(ue=Object(I.d)(ce.view))===null||ue===void 0?void 0:ue.id:null;bt=ce.view==="Vall_threads"?"Vall_threads":bt,Object(x.a)({getState:re}).track(M.EventId.TILE_OPEN,{num_threads_loaded:qe.length,flex_origin:ie,flex_name:dt?bt:ct}),Object(R.a)({getState:re}).action("TILES","open",Je,be.view)});return function(se,re,X,w){return k.apply(this,arguments)}}());q.meta={name:"createThunk",key:"createThunkopenTile",description:"Opens a new tile"},n.a=q},Byhf:function(K,n,e){"use strict";e.d(n,"a",function(){return I});var s=e("SQ0V"),t=e("n3tL"),a=e("UIhb"),r=e("E3dU"),c=e("F294"),o=e("Wn1n"),i=e("4hjS"),l=e("GlHf"),u=e("04K9"),f=e("Q7We"),d=e("RV0M"),O=e("G5NC"),m=e("xcHN");const g=Object(s.c)("Checks if the message is in an active view before doing the animation",function(C,y){let{channelId:P,ts:T,threadTs:S}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},A=arguments.length>3?arguments[3]:void 0;const R=y(),{shouldUseNavigate:x,getViewSet:M}=A(d.a),j=!Object(O.a)()||Object(i.o)(R),W=Object(l.k)(R)&&j,U=Object(i.d)(R);let B=Object(i.l)(R),Y=Object(o.a)(R);if(x){var z;const{primary:V,secondary:L}=(z=M(R))!==null&&z!==void 0?z:{};Y=V==null?void 0:V.id,B=L==null?void 0:L.id}const F=v(()=>C(Object(u.a)({channelId:P,ts:T})),"doAnimation");if(W){if(S&&(B==="convo"||B==="thread")&&Object(c.a)(U)===Object(m.c)(P,S)){F();return}if(Y===P){F();return}}C(Object(f.a)({channelId:P,ts:T,threadTs:S}))});g.meta={name:"createThunk",key:"createThunkmaybeAnimateDeleteMessage",description:"Checks if the message is in an active view before doing the animation"};var E=g,p=e("hcyO"),h=e("2Zgd"),_=e("lmdu"),b=e("s4P+");const I=Object(s.c)("Delete a message by channel ID and timestamp",function(C,y){let{deleted_ts:P,channel:T,_from_evt_log:S,previous_message:A}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};var R;const x=y(),M=Object(b.a)({state:x});if(!P){M.error("Error in messageDeleted: no deleted_ts");return}const j=Object(r.z)(x,T)&&Object(r.c)(x,T);if(!j){M.error(`Unknown channelId: ${T}`);return}if((R=Object(_.a)(x,{channelId:T,ts:P}))===null||R===void 0?void 0:R.isDeleting)return;Object(h.b)(j,{deleted_ts:P});const U=!1,Y=Object(a.b)(x,T,P,U)||A;C(Y?E({channelId:T,ts:P,threadTs:Y.thread_ts,fromEvtLog:S}):Object(f.a)({channelId:T,ts:P})),C(Object(p.a)({channelId:T,ts:P}))});I.meta={name:"createThunk",key:"createThunksetMessageDeleted",description:"Delete a message by channel ID and timestamp"},I.propTypes={deletedTs:t.default.string,channelId:t.default.string,fromEvtLog:t.default.bool}},Bz4R:function(K,n,e){"use strict";var s=e("CpTu"),t=e("ZKjC"),a=e("xwCZ"),r=e("aLx5"),c=e("GHHW");const o=Object(t.b)((i,l)=>{const u=Object(a.g)(i,l),{status_text_canonical:f}=u.profile;if(f){let d;const O=Object(r.a)(i);return O&&(d=(Object(s.a)(O,m=>m.canonical===f)||{}).text||null),f.toLowerCase()==="on a call"&&(d=a.p.t("On a call")),d||u.profile.status_text||""}return Object(c.a)(i,u)?a.p.t("In a huddle"):u.profile.status_text||""});o.meta={name:"createSelector",key:"createSelectorgetMemberCustomStatusText",description:(i,l)=>{const u=Object(a.g)(i,l),{status_text_canonical:f}=u.profile;if(f){let d;const O=Object(r.a)(i);return O&&(d=(Object(s.a)(O,m=>m.canonical===f)||{}).text||null),f.toLowerCase()==="on a call"&&(d=a.p.t("On a call")),d||u.profile.status_text||""}return Object(c.a)(i,u)?a.p.t("In a huddle"):u.profile.status_text||""}},n.a=o},C0ks:function(K,n,e){"use strict";e.d(n,"a",function(){return t});var s=e("8z+9");const t=v(a=>{switch(a.type){case s.a.MESSAGE:var r;return{type:a.type,channel:a.channel,ts:(r=a.message)===null||r===void 0?void 0:r.ts};case s.a.FILE:var c,o;return{type:a.type,id:a.file?a.file.id:(c=a.files)===null||c===void 0||(o=c[0])===null||o===void 0?void 0:o.id};case s.a.FILE_COMMENT:var i;return{type:a.type,id:a.comment.id,fileId:(i=a.file)===null||i===void 0?void 0:i.id};default:return{}}},"formatPinFromAPI")},"C2+Y":function(K,n,e){"use strict";var s=e("q1tI"),t=e.n(s),a=e("ifKl"),r=e("68qM"),c=e("Fbvv");function o(){return o=Object.assign||function(u){for(var f=1;f<arguments.length;f++){var d=arguments[f];for(var O in d)Object.prototype.hasOwnProperty.call(d,O)&&(u[O]=d[O])}return u},o.apply(this,arguments)}v(o,"_extends");const i={PENDING:"pending",LOADED:"loaded",LOADING:"loading",ERROR:"error"},l=v(u=>{let{renderError:f=c.a,renderPending:d=c.a,srcSet:O="",...m}=u;const{src:g,...E}=m,[p,h]=Object(s.useState)(g),[_,b]=Object(s.useState)(O),I=Object(s.useRef)(new Image),[C,y]=Object(s.useState)(i.PENDING);switch(Object(r.a)(()=>(I.current.onload=()=>{h(I.current.src),b(I.current.srcset),y(i.LOADED)},I.current.onerror=()=>{y(i.ERROR)},I.current.src=g,I.current.srcset=O,()=>{I.current.onload=a.a,I.current.onerror=a.a,I.current.src="",I.current.srcset=""}),[]),Object(r.a)(()=>{C!==i.PENDING&&(y(i.LOADING),I.current.src=g,I.current.srcset=O)},[g,O]),C){case i.LOADED:case i.LOADING:return t.a.createElement("img",o({alt:"",src:p,srcSet:_},E));case i.ERROR:return f();default:return d()}},"AsyncImage");l.displayName="AsyncImage",n.a=Object(s.memo)(l)},C3NW:function(K,n,e){"use strict";e.d(n,"a",function(){return r});var s=e("SQ0V"),t=e("eBdR"),a=e("kZhr");const r=Object(s.c)("Sets a new ID for the query session",c=>{c(Object(t.a)({windowId:a.a}))});r.meta={name:"createThunk",key:"createThunkendQuerySession",description:"Sets a new ID for the query session"}},C59p:function(K,n,e){"use strict";e.d(n,"a",function(){return l});var s=e("7EGn"),t=e("ifKl"),a=e("vJtL");const r="easeInOutQuad",c={linear:u=>u,easeInQuad:u=>u*u,easeOutQuad:u=>u*(2-u),easeInOutQuad:u=>u<.5?2*u*u:-1+(4-2*u)*u,easeInCubic:u=>u*u*u,easeOutCubic:u=>--u*u*u+1,easeInOutCubic:u=>u<.5?4*u*u*u:(u-1)*(2*u-2)*(2*u-2)+1,easeInQuart:u=>u*u*u*u,easeOutQuart:u=>1- --u*u*u*u,easeInOutQuart:u=>u<.5?8*u*u*u*u:1-8*--u*u*u*u,easeInQuint:u=>u*u*u*u*u,easeOutQuint:u=>1+--u*u*u*u*u,easeInOutQuint:u=>u<.5?16*u*u*u*u*u:1+16*--u*u*u*u*u};function o(u){return Object(s.a)(c,u,c[r])}v(o,"getEasingFunction");function i(u){let{fromValue:f,toValue:d,duration:O=500,easing:m=r,delta:g=!1,onTick:E,onComplete:p=t.a}=u,h=!1;const _=performance.now();let b=f,I;const C=Object(a.a)(m)?m:o(m),y=v(()=>{h=!0},"cancelAnimation"),P=v(A=>A>O?d:f+(d-f)*C(A/O),"getTickValue"),T=v(A=>{const R=Math.min(A,O),x=P(R),M=x-b;return b=x,M},"getTickDelta"),S=v(A=>{const R=A-_;h||E({value:g?T(R):P(R),nextTick:R<=O?I:p,cancel:y})},"animateFrame");return I=v(()=>window.requestAnimationFrame(S),"tick"),I(),y}v(i,"animateWorker");function l(u){let{delay:f=0,...d}=u;if(f>0){let O;const m=setTimeout(()=>{O=i(d)},f);return{cancel:()=>{clearTimeout(m),O&&O()}}}return{cancel:i(d)}}v(l,"animate")},C84n:function(K,n,e){"use strict";var s=e("9oTK"),t=e.n(s),a=e("SQ0V"),r=e("iitH"),c=e("BkpQ"),o=e("QLhP");const i=Object(a.c)("Opens a member profile in a tile",function(){var l=Object(s.coroutine)(function*(u,f,d){const O=f(),m=Object(r.a)(O)?"rimeto_profile":"user_profile";Object(o.e)(f(),d)&&u(Object(c.a)({tile:{view:m,params:{memberId:d}},origin:"open-profile"}))});return function(u,f,d){return l.apply(this,arguments)}}());i.meta={name:"createThunk",key:"createThunkopenProfileInTile",description:"Opens a member profile in a tile"},n.a=i},CAOD:function(K,n,e){"use strict";e.d(n,"h",function(){return s}),e.d(n,"b",function(){return t}),e.d(n,"a",function(){return l}),e.d(n,"e",function(){return u}),e.d(n,"g",function(){return f}),e.d(n,"c",function(){return d}),e.d(n,"f",function(){return O}),e.d(n,"d",function(){return m}),e.d(n,"i",function(){return g});const s={REGULAR:"regular",RESTRICTED:"restricted",ULTRA_RESTRICTED:"ultra_restricted"},t=560,a=/[`~!@#$%^&*+=\\:"<>?|]/,r=654,c={LOADING:"loading",CAN_ADD:"can_add",LIMIT_REACHED:"limit_reached",REQUEST_NOT_ISSUED:"request_not_issued"},o="INVITE-MODAL",i={MODERN_INVITE:"INVITE_MODAL",LEGACY_INVITE:"INVITEMODAL_ACTION",INVITE_REQUEST:"INVITEMODAL_REQUEST_ACTION"},l=["user_type_mismatch","ura_limit_reached"],u="invite-modal",f="invite-to-workspace-modal",d={EXTERNAL_DIRECTORY_BACK:"external-directory-back",EXTERNAL_DIRECTORY_SWITCH_ACCOUNTS:"external-directory-switch-accounts",GOOGLE_DIRECTORY_ADD_BUTTON:"google-directory-add-button",GOOGLE_DIRECTORY_SEARCH_PAGE:"google-directory-search-page",GOOGLE_DIRECTORY_SHOW_SEARCH_PAGE_LINK:"google-directory-show-search-page-link",GOOGLE_DIRECTORY_START_OAUTH_LINK:"google-directory-start-oauth-link",GOOGLE_DIRECTORY_TOOLTIP:"google-directory-tooltip",OFFICE_DIRECTORY_ADD_BUTTON:"office-directory-add-button",OFFICE_DIRECTORY_SEARCH_PAGE:"office-directory-search-page"},O={GOOGLE_DIRECTORY:"google_directory",OFFICE_DIRECTORY:"office_directory"},m={ADD_BUTTON_CLICKED:"google_directory_add_button_clicked",BACK_BUTTON_CLICKED:"google_directory_back_button_clicked",SWITCH_ACCOUNTS_CLICKED:"google_directory_switch_accounts_clicked",MANUAL_SEARCH:"google_directory_manual_search",FETCH_MORE_USERS:"google_directory_fetch_more_users",PAGE_LOADED:"google_directory_view_loaded",USERS_ADDED_FROM_GOOGLE:"google_directory_users_added"},g={ADD_BUTTON_CLICKED:"office_directory_add_button_clicked",BACK_BUTTON_CLICKED:"office_directory_back_button_clicked",SWITCH_ACCOUNTS_CLICKED:"office_directory_switch_accounts_clicked",MANUAL_SEARCH:"office_directory_manual_search",FETCH_MORE_USERS:"office_directory_fetch_more_users",PAGE_LOADED:"office_directory_view_loaded",USERS_ADDED_FROM_OFFICE:"office_directory_users_added"}},CD4m:function(K,n,e){"use strict";var s=e("gv7z"),t=e("MC67");e.d(n,"c",function(){return t.a});var a=e("1EwG");e.d(n,"b",function(){return a.a});var r=e("iXLD");e.d(n,"a",function(){return r.a}),n.d=s.a},CDqL:function(K,n,e){"use strict";var s=e("A1dN"),t=e("Lgge"),a=e("SQ0V"),r=e("LZPg"),c=e("lhZz"),o=e("GNR7"),i=e("XM5t"),l=e("ktUG"),u=e("5IZy"),f=e("3vtZ");const d=Object(a.c)("Notify members to join huddle",(O,m,g)=>{let{channelId:E,userIds:p}=g;const h=[];if(p&&p.length>0){p.forEach(T=>{O(Object(r.b)({userId:T})),h.push(O(Object(s.d)({userId:T,channelId:E,reason:"huddle-notify-member"})))});const _=Object(c.getStateForClientStore)(),b=m(),I=Object(o.a)(b,E),C=Object(f.k)(b,{huddleId:I==null?void 0:I.id}),y=Object(f.j)(_),P=Object(f.i)(_);Object(u.a)({state:b}).track(l.EventId.CANVAS_EVENT,{contexts:{ui_context:{ui_properties:{element_name:i.a.INVITATION_SENT},action:l.UiAction.INVITE_PEOPLE},calls:P},invited_user_ids:p,...C,...y})}return t.a.all(h).then(_=>_)});d.meta={name:"createThunk",key:"createThunkinviteMembers",description:"Notify members to join huddle"},n.a=d},CJqd:function(K,n,e){"use strict";e.d(n,"a",function(){return c});var s=e("7lBi"),t=e("SQ0V"),a=e("ED1u"),r=e("j77i");const c=Object(t.c)("Set the user-specified sidebar width and mode",(o,i,l)=>{let{inspectorWidthIntent:u,inspectorWidthMode:f}=l;Object(r.v)(s.l,u),Object(r.v)(s.m,f),o(Object(a.a)({inspectorWidthIntent:u,inspectorWidthMode:f}))});c.meta={name:"createThunk",key:"createThunksetInspectorColumn",description:"Set the user-specified sidebar width and mode"}},"CMT/":function(K,n,e){"use strict";e.d(n,"a",function(){return b});var s=e("Lgge"),t=e("fujP"),a=e("BeL+"),r=e("SQ0V"),c=e("9Gfp"),o=e("Yauy"),i=e("Sl1j"),l=e("ohbk"),u=e("37+L"),f=e("E3dU"),d=e("G0eX"),O=e("beVI"),m=e("Fqb6"),g=e("RV0M"),E=e("I0j/"),p=e("NV6F"),h=e("Oeqe"),_=e("BkpQ");const b=Object(r.c)("Create or open an MPIM",function(I,C){let{memberIds:y,shouldNavigateToChannel:P=!0,isQuiet:T=!1,shouldOpenInTile:S=!1,reason:A="startMpimByMemberIds"}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},R=arguments.length>3?arguments[3]:void 0;if(Object(t.a)(y))return s.a.resolve();const{shouldUseNavigate:x}=R(g.a),M=C(),j=v(B=>{if(x)return I(Object(E.a)(Object(u.m)(B.id))),s.a.resolve(B);let Y;return S?Y=I(Object(_.a)({tile:{view:B.id},origin:A})):Object(c.h)(M)?Y=I(Object(l.a)({id:B.id})):Y=I(Object(p.q)({permalink:Object(d.u)(Object(O.g)(M),Object(h.a)({channelId:B.id}))})),Y.then(()=>B)},"navigateToChannel");let W,U;if(y.length===1)U=y,W=Object(f.l)(M,y[0]);else{const B=Object(c.a)(M);U=Object(a.a)([B,...y]),W=Object(f.p)(M,U)}return Object(o.jb)(W)?P?j(W):s.a.resolve(W):I(Object(i.r)({isQuiet:T,memberIds:U,reason:A})).then(B=>!B||!B.channel?s.a.reject(new Error("missing-channel")):(I(Object(m.a)({channel:B.channel})),P?j(B.channel):s.a.resolve(B.channel)))});b.meta={name:"createThunk",key:"createThunkstartMpimByMemberIds",description:"Create or open an MPIM"}},COQp:function(K,n,e){"use strict";e.d(n,"a",function(){return t});var s=e("DwFS");const t=Object(s.a)("Toggle if user is using a keyboard to navigate");t.meta={name:"createAction",key:"createActionsetHasKeyboardFocus",description:"Toggle if user is using a keyboard to navigate"}},"CQj+":function(K,n,e){"use strict";e.d(n,"a",function(){return d});var s=e("lhZz"),t=e("Z0Cl"),a=e("Lgge"),r=e("SQ0V"),c=e("s4P+"),o=e("vdXo"),i=e("zwKj"),l=e("TGfC");const u=Object(r.c)("Fetch multiple app profiles by combined IDs",(O,m,g)=>{const E=Object(c.a)({getState:m});return a.a.all(g.map(p=>{const{serviceId:h,homeWorkspaceId:_}=Object(l.b)(p);return h?O(Object(o.b)({serviceId:h,homeWorkspaceId:_})).then(b=>({...Object(i.a)(h,b),id:p})).catch(b=>(E.warn(b,`Error while fetching profile ${p}`),null)):a.a.resolve(null)})).then(t.a)});u.meta={name:"createThunk",key:"createThunkfetchAppProfiles",description:"Fetch multiple app profiles by combined IDs"};var f=u;function d(O,m){return Object(s.dispatchForTeamId)(O,f(m))}v(d,"fetchAppProfilesForTeamId")},CTEJ:function(K,n,e){"use strict";var s=e("lxlr");n.a=s.a},CVcN:function(K,n,e){K.exports=e.p+"waiting_muzak-48e0d82.mp3"},Cbpi:function(K,n,e){"use strict";var s=e("Lgge"),t=e("yIs4"),a=e("CpTu"),r=e("uXhx"),c=e("oTSI"),o=e("UXvI"),i=e("SQ0V"),l=e("lhZz"),u=e("9Gfp"),f=e("O86Y"),d=e("ZAxE"),O=e("J/RB"),m=e("E3dU"),g=e("cBLH"),E=e("E97Y"),p=e("+nBv"),h=e("xcHN"),_=e("Jhy3"),b=e("pOIg"),I=e("zADO"),C=e("s4P+"),y=e("n0Pp");const P=1e3,T=v((M,j,W)=>{if(j==="Vall_threads")return Object(l.dispatchForTeamId)(M,Object(b.e)()),s.a.resolve();const U=!1,B=Object(m.c)(Object(l.getStateByTeamId)(M),j,U);if(!B)return s.a.resolve();if(W)return S(M,j,W);const Y=Object(E.d)(B);return Object(l.dispatchForTeamId)(M,Object(d.b)({channelId:j,type:Y,oldest:null,latest:null,reason:"requestOfflineHistory"})).then(function(){let{msgs:z,hasMore:F,isLimited:V,pinCount:L,deleted:Q}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const ee=Object(l.getStateByTeamId)(M);Object(y.h)(ee)&&!Object(I.b)(ee,j)&&!Object(I.b)(ee,Object(u.a)(ee))||(Object(l.dispatchForTeamId)(M,Object(g.e)({channelId:j})),Object(l.dispatchForTeamId)(M,Object(O.a)({msgs:z,channelId:j,isLimited:V,pinCount:L,hasMore:{hasMoreStart:F,hasMoreEnd:!1},oldest:null,latest:null,deleted:Q})),Object(t.a)(L)&&Object(l.dispatchForTeamId)(M,Object(p.a)({channelId:j,count:L})))}).catch(z=>{Object(C.a)({state:Object(l.getStateByTeamId)(M)}).error(`Failed to fetch offline history for ${j}: ${z}`)})},"fetchOfflineHistory");function S(M,j,W){const U=Object(h.c)(j,W);return Object(l.dispatchForTeamId)(M,Object(d.e)({channelId:j,threadTs:W,oldest:null,latest:null,reason:"requestOfflineHistory"})).then(function(){let{msgs:B,deleted:Y,hasMore:z}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const F=Object(l.getStateByTeamId)(M);if(Object(y.h)(F)&&!Object(I.b)(F,j)&&!Object(I.b)(F,Object(u.a)(F)))return;let V=B;const L=Object(a.a)(B,{ts:W});z&&(V=Object(r.a)(B,{ts:W})),Object(l.dispatchForTeamId)(M,Object(g.e)({channelId:U})),Object(l.dispatchForTeamId)(M,Object(O.a)({msgs:V,channelId:U,hasMore:{hasMoreStart:z,hasMoreEnd:!1},oldest:null,latest:null,deleted:Y})),L&&Object(l.dispatchForTeamId)(M,Object(_.a)([L]))})}v(S,"fetchOfflineHistoryForThread");const A=(()=>{const M=Object(c.a)(()=>Object(o.a)(T,P),function(){for(var j=arguments.length,W=new Array(j),U=0;U<j;U++)W[U]=arguments[U];return JSON.stringify(W)});return function(){for(var j=arguments.length,W=new Array(j),U=0;U<j;U++)W[U]=arguments[U];return M(...W)(...W)}})(),R=Object(i.c)("Request offline history",function(M,j){let{channelId:W,threadTs:U}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return A(Object(f.g)(j()),W,U)});R.meta={name:"createThunk",key:"createThunkrequestOfflineHistory",description:"Request offline history"},R.propTypes={},n.a=R;const x={fetchOfflineHistory:T,fetchOfflineHistoryForThread:S}},Ccc1:function(K,n,e){"use strict";e.d(n,"b",function(){return h});var s=e("q1tI"),t=e.n(s),a=e("Cfcg"),r=e("iuhU"),c=e("E3dU"),o=e("ISSR"),i=e("E97Y"),l=e("s4P+"),u=e("fi3B"),f=e("sGXp"),d=e("fZDj"),O=e("QpNZ"),m=e("MUi8"),g=e("9WS/"),E=e("fMsH");function p(){return p=Object.assign||function(P){for(var T=1;T<arguments.length;T++){var S=arguments[T];for(var A in S)Object.prototype.hasOwnProperty.call(S,A)&&(P[A]=S[A])}return P},p.apply(this,arguments)}v(p,"_extends");function h(P){return!Object(i.g)(P)&&!Object(i.i)(P)}v(h,"shouldUseInlineChannelEntity");const _="INLINE-CHANNEL-ENTITY";function b(P){let{className:T,channel:S,bestFormerName:A,displayFormerNames:R=f.e.false,logger:x,boldIcon:M=!1,showTeam:j=!0,truncate:W=!1,truncateWidth:U,overrideHiddenName:B,overrideHiddenIcon:Y,withTruncationTooltip:z,channelNameClassName:F,omitNonExistentTooltip:V}=P;const L=Object(i.o)(S),Q=Object(i.j)(S||null),ee=Object(s.useCallback)(Ee=>{let{className:ge,...J}=Ee;return(!Q||Y)&&t.a.createElement(O.a,p({},J,{bold:M,className:ge,channel:S,overrideHiddenIcon:Y}))},[S,M,Q,Y]);if(!h(S||null))return x==null||x.warn(_,"InlineChannelEntity should not display IMs or MPIMs ... YET"),null;const te=Object(r.default)(T,"c-inline_channel_entity"),le=Object(o.a)(S)?f.d.dim:void 0,Oe=S&&B?{...S,name:B}:S||void 0,he=Object(r.default)(F,"c-inline_channel_entity__content");return t.a.createElement(u.a,{avatar:ee,className:te,"data-qa":"inline_channel_entity","data-channel-id":S&&S.id,style:le,truncate:W,truncateWidth:U,withTruncationTooltip:z,primaryContent:(L||Q)&&!B?t.a.createElement(d.a,{"data-qa":"inline_channel_entity__missing",type:L?"unknown":"non-existent",size:"small",width:U,omitNonExistentTooltip:V}):t.a.createElement("span",{className:he},t.a.createElement(g.a,{bold:M,channel:Oe,bestFormerName:A,displayFormerNames:R,showTeam:j,width:U,"data-qa":"inline_channel_entity__name",overrideHiddenName:B})),secondaryContent:U&&t.a.createElement(t.a.Fragment,null,j&&t.a.createElement(m.a,{className:"c-inline_channel_entity__team",iconSize:14,channel:Oe,"data-qa":"inline_channel_entity__team"}))})}v(b,"InlineChannelEntity"),b.displayName="InlineChannelEntity";function I(P){return Object.prototype.hasOwnProperty.call(P,"channel")}v(I,"propsContainsChannel");function C(P,T){return{channel:I(T)?T.channel:Object(c.c)(P,T.channelId),logger:Object(l.a)({state:P})}}v(C,"mapStateToProps");var y=n.a=Object(a.a)(C)(b)},"Ckp+":function(K,n,e){K.exports=e.p+"hi_flowers_hit-1b0583a.mp3"},Cnv9:function(K,n,e){"use strict";e.d(n,"a",function(){return i}),e.d(n,"c",function(){return l}),e.d(n,"b",function(){return u});var s=e("C3vN"),t=e("ehcD"),a=e("G0eX"),r=e("xwCZ"),c=e("9Gfp"),o=e("beVI");const i={RESTRICTED_USER:"user_is_restricted",USER_IS_ON_FREE_TEAM:"not_allowed_for_free_team"};function l(f){const d=[],O=Object(c.a)(f),m=Object(r.g)(f,O),g=Object(t.c)(f,m);var E;const p=(E=Object(o.t)(f,g))!==null&&E!==void 0?E:null;return Object(s.ub)(m)&&d.push(i.RESTRICTED_USER),Object(a.C)(p)&&d.push(i.USER_IS_ON_FREE_TEAM),d.length>0?{ok:!1,reasons:d}:{ok:!0}}v(l,"canUserShareContactsWithReasons");function u(f){return l(f).ok}v(u,"canUserShareContacts")},Cs2y:function(K,n,e){"use strict";e.d(n,"b",function(){return o});var s=e("q1tI"),t=e.n(s),a=e("ifKl");const r={closeButtonIsVisible:!0,closeModal:a.a,fullscreen:!1,enableSpeedBump:a.a,showSpeedBump:a.a,isSpeedBumpVisible:!1},c=Object(s.createContext)(r);n.a=c;const o=v(()=>Object(s.useContext)(c),"useModalContext")},Cudo:function(K,n,e){"use strict";e.d(n,"a",function(){return Q}),e.d(n,"d",function(){return Oe}),e.d(n,"f",function(){return Ee}),e.d(n,"b",function(){return ge}),e.d(n,"c",function(){return J}),e.d(n,"i",function(){return H}),e.d(n,"e",function(){return Z}),e.d(n,"g",function(){return se}),e.d(n,"h",function(){return re});var s=e("AFNo"),t=e("DwFS"),a=e("G4qV"),r=e("LZPg"),c=e("S4nM"),o=e("3REw"),i=e("ipyK"),l=e("1myf"),u=e("Z0Cl"),f=e("Muja"),d=e("3Hq1"),O=e("Fsnq"),m=e("CpTu"),g=e("KciV"),E=e("dqxO"),p=e("d3B0"),h=e("9oTK"),_=e("SQ0V"),b=e("SZMM"),I=e("pJ2S"),C=e("jUSB");const y=Object(t.a)("Start connecting to the media server");y.meta={name:"createAction",key:"createActionconnectToMediaServer",description:"Start connecting to the media server"};const P=Object(t.a)("Leave the room and stop media transmission");P.meta={name:"createAction",key:"createActiondisconnectFromMediaServer",description:"Leave the room and stop media transmission"};const T=Object(_.c)("Transition the UI to a terminal state and handle all teardown activities",(X,w,ce)=>{X(Object(c.j)()),X(Object(c.i)()),X(Object(c.k)({terminalState:ce})),X(P()),Object(C.e)(I.l,{logFailure:!1}),X(Object(r.nb)())});T.meta={name:"createThunk",key:"createThunkenterTerminalState",description:"Transition the UI to a terminal state and handle all teardown activities"};var S=e("syB0"),A=e("T1zM"),R=e("JoR1"),x=e("n9FT"),M=e("Ufq/");const j=.005,W=.02;let U=!1;function B(){return U}v(B,"isClosingWindow");let Y=!1;function z(X,w){X(Object(A.f)({pref:"calls_survey_last_seen",value:w}))}v(z,"setCallsLastSeenSurvey");function F(X,w){const ce=new Date().toISOString(),ie=Object(c.e)(X);if(!ie)return!1;const oe=Object(R.g)(X),me=new Date(ce).getTime()-new Date(oe).getTime();return ie&&ie.surveyInterval&&me<ie.surveyInterval?!1:(X.activeCall.hasVideoBeenEnabled||X.activeCall.hasScreenshareBeenEnabled)&&ie&&ie.surveyVideoSample&&Math.random()<ie.surveyVideoSample||ie&&ie.surveyAudioSample&&Math.random()<ie.surveyAudioSample?(z(w,ce),!0):!1}v(F,"dynamicallyShowSurvey");function V(X,w){return Object(M.i)(X)?F(X,w):Y||!Object(c.a)(X)?!1:Math.random()<(X.activeCall.hasVideoBeenEnabled||X.activeCall.hasScreenshareBeenEnabled?W:j)}v(V,"shouldShowSurvey");const L=Object(_.c)("Close the window and leave the call",function(){var X=Object(h.coroutine)(function*(w,ce){if(U=!0,w(Object(c.f)()),w(Object(c.b)()),w(Object(x.a)()),V(ce(),w)){Y=!0,w(T(o.n.ShowSurvey));return}Object(b.c)()?(w(Object(r.nb)()),Object(g.c)("CALL-WINDOW").info("dispatching disconnect"),yield w(P()),Object(S.a)(()=>{Object(g.c)("CALL-WINDOW").info("Closing call window (deferred)"),window.close()})):w(T(o.n.UserEndedOrphanedCall))});return function(w,ce){return X.apply(this,arguments)}}());L.meta={name:"createThunk",key:"createThunkcloseWindow",description:"Close the window and leave the call"};var Q;(function(X){X.Connecting="connecting",X.NoConnection="noConnection",X.NoUserAudioDevice="noUserAudioDevice",X.NoUserVideoDevice="noUserVideoDevice",X.NoSystemAudio="noSystemAudio",X.NoSystemVideo="noSystemVideo",X.NoSystemScreenShare="noSystemScreenShare",X.RemotePeerMuted="remotePeerMuted",X.PeerMuteRequest="peerMuteRequest",X.RemotePeerSlowConnection="remotePeerSlowConnection",X.DisplayDisconnected="displayDisconnected",X.UpdateSlack="updateSlack",X.ScreenShareFreeTeam="screenShareFreeTeam",X.NoGroupCallsForFreeTeam="noGroupCallsForFreeTeam",X.NoUserVideoStream="noUserVideoStream",X.NoUserAudioStream="noUserAudioStream",X.SlowNetwork="slowNetwork",X.NoAudioOutputAudioElementError="noAudioOutputAudioElementError",X.NoAudioOutputAudioLevelError="noAudioOutputAudioLevelError",X.NoOrLowInputAudioLevelError="noOrLowInputAudioLevelError",X.SpeakingWhenMuted="SpeakingWhenMuted",X.ScreenShareError="screenShareError",X.SSNotFoundError="ScreenShareNotFoundError",X.SSNotReadableError="ScreenShareNotReadableError",X.NoiseSuppressionCPUThrottled="NoiseSuppressionCPUThrottled",X.NoBrowserAudioPermission="NoBrowserAudioPermission",X.NoBrowserVideoPermission="NoBrowserVideoPermission",X.AudioInputTrackMuted="AudioInputTrackMuted",X.HiddenUserJoinedHuddle="HiddenUserJoinedHuddle",X.AudioOnlyModeRecommended="AudioOnlyRecommended",X.AudioOnlyModeActive="AudioOnlyModeActive"})(Q||(Q={}));const ee=[Q.RemotePeerMuted,Q.SlowNetwork];function te(X,w){switch(X){case Q.NoConnection:return{priority:0,type:X,icon:"cloud-offline",isWarning:!0};case Q.Connecting:return{priority:0,type:X,isWarning:!0};case Q.NoSystemAudio:return{priority:200,type:X,dismissible:!0,isWarning:!0};case Q.SpeakingWhenMuted:return{priority:200,type:X,dismissible:!0};case Q.AudioInputTrackMuted:return{priority:200,type:X,dismissible:!0,isWarning:!0};case Q.NoUserAudioDevice:return{priority:201,type:X,dismissible:!0,isWarning:!0};case Q.NoUserAudioStream:return{priority:202,type:X,dismissible:!0,isWarning:!0};case Q.NoiseSuppressionCPUThrottled:return{priority:203,type:X,dismissible:!0,isWarning:!0};case Q.NoBrowserAudioPermission:return{priority:204,type:X,dismissible:!0,isWarning:!0};case Q.AudioOnlyModeActive:return{priority:205,type:X,dismissible:!0,isWarning:!0};case Q.AudioOnlyModeRecommended:return{priority:206,type:X,dismissible:!0,isWarning:!0};case Q.NoSystemScreenShare:return{priority:300,type:X,dismissible:!0,isWarning:!0};case Q.ScreenShareError:return{priority:301,type:X,dismissible:!0,isWarning:!0};case Q.SSNotFoundError:return{priority:302,type:X,dismissible:!0,isWarning:!0};case Q.SSNotReadableError:return{priority:303,type:X,dismissible:!0,isWarning:!0};case Q.NoSystemVideo:return{priority:400,type:X,dismissible:!0,isWarning:!0};case Q.NoUserVideoDevice:return{priority:401,type:X,dismissible:!0,isWarning:!0};case Q.NoUserVideoStream:return{priority:402,type:X,dismissible:!0,isWarning:!0};case Q.NoBrowserVideoPermission:return{priority:403,type:X,dismissible:!0,isWarning:!0};case Q.ScreenShareFreeTeam:return{priority:500,type:X,dismissible:!0};case Q.NoGroupCallsForFreeTeam:return{priority:500,type:X,dismissible:!0};case Q.HiddenUserJoinedHuddle:return{priority:600,type:X,dismissible:!0,isWarning:!0};case Q.SlowNetwork:return{priority:700,type:X,dismissible:!0,isWarning:!0,icon:"slow-network"};case Q.NoAudioOutputAudioElementError:return{priority:701,type:X,dismissible:!0,isWarning:!0};case Q.NoAudioOutputAudioLevelError:return{priority:701,type:X,dismissible:!0,isWarning:!0};case Q.NoOrLowInputAudioLevelError:return{priority:701,type:X,dismissible:!0,isWarning:!0};case Q.RemotePeerSlowConnection:return{priority:800,type:X,id:w};case Q.RemotePeerMuted:return{priority:801,type:X,id:w,icon:"microphone-slash"};case Q.PeerMuteRequest:return{priority:802,type:X,id:w,dismissible:!0,isWarning:!0};case Q.DisplayDisconnected:return{priority:900,type:X,dismissible:!0};case Q.UpdateSlack:default:return{priority:1e3,type:X,dismissible:!0}}}v(te,"makeAlertObject");const le={alerts:[]};function Oe(X,w,ce){if(B())return Object(g.c)("ALERTS").info(`Not adding alert '${w}' because the window is closing`),X.alerts;const ie=te(w,ce);return ce?Object(i.a)(Object(l.a)([ie,...X.alerts],["priority"]),(oe,me)=>oe.id===me.id&&oe.type===me.type):Object(i.a)(Object(l.a)([ie,...X.alerts],["priority"]),(oe,me)=>oe.id?oe.id===me.id&&oe.type===me.type:oe.type===me.type)}v(Oe,"createArrayWithNewAlert");function he(X,w){return Object(u.a)(X.alerts,ce=>ce.type!==w)}v(he,"filterAlertType");function Ee(X,w){return Object(u.a)(X.alerts,ce=>!w.find(ie=>ce.type===ie))}v(Ee,"filterAlertTypes");const ge=Object(t.a)("Add an alert from the alerts array");ge.meta={name:"createAction",key:"createActionaddAlert",description:"Add an alert from the alerts array"};const J=Object(t.a)("Add an alert from the alerts array, specifying sender peer Id");J.meta={name:"createAction",key:"createActionaddPeerAlert",description:"Add an alert from the alerts array, specifying sender peer Id"};const H=Object(t.a)("Remove an alert from the alerts array");H.meta={name:"createAction",key:"createActionremoveAlert",description:"Remove an alert from the alerts array"};const Z=v(()=>Object(s.b)({},le,{storeKey:"alert",persistenceEnabled:!1}).on(ge,(X,w)=>{const ce=Oe(X,w);return Object(f.a)(X.alerts,ce)?X:(Object(g.c)("ALERTS").info(`Added alert type: '${w.toString()}'`),{alerts:ce})}).on(J,(X,w)=>{let{alert:ce,peerId:ie}=w;const oe=Oe(X,ce,ie);return Object(f.a)(X.alerts,oe)?X:(Object(g.c)("ALERTS").info(`Added peer alert type: '${ce.toString()}'`),{alerts:oe})}).on(H,(X,w)=>{const ce=he(X,w);return Object(f.a)(X.alerts,ce)?X:(Object(g.c)("ALERTS").info(`Removed alert type: '${w.toString()}'`),{alerts:ce})}),"createDefaultAlertReducer");var k=Z().on(E.a,(X,w)=>{let ce=X.alerts;return Object(p.h)(w)?ce=Object(u.a)(X.alerts,ie=>ie.type!==Q.NoUserAudioDevice):ce=Oe(X,Q.NoUserAudioDevice),{alerts:ce}}).on(r.c,(X,w)=>{let ce=X.alerts;return w.isMicrophoneEnabled===!1&&(ce=Oe(X,Q.RemotePeerMuted,w.id)),w.slowNetwork&&(ce=Oe(X,Q.RemotePeerSlowConnection,w.id)),{alerts:ce}}).on(r.fb,(X,w)=>({alerts:Object(u.a)(X.alerts,ie=>ie.id!==w)})).on(r.ob,(X,w)=>{let ce=X.alerts;return Object(r.ab)(w)?Object(d.a)(w.isConnected)||(w.isConnected?ce=he(X,Q.Connecting):ce=Oe(X,Q.Connecting,w.id)):(Object(d.a)(w.isMicrophoneEnabled)||(w.isMicrophoneEnabled?ce=he(X,Q.RemotePeerMuted):ce=Oe(X,Q.RemotePeerMuted,w.id)),Object(d.a)(w.slowNetwork)||(w.slowNetwork===!1?ce=he(X,Q.RemotePeerSlowConnection):w.slowNetwork&&(ce=Oe(X,Q.RemotePeerSlowConnection,w.id)))),{alerts:ce}});const se=Object(s.c)(X=>X.alert.alerts);se.meta={name:"createSelector",key:"createSelectorgetAllAlerts",description:X=>X.alert.alerts};const re=Object(a.a)(se,r.T,c.d,(X,w,ce)=>{let ie=X;ce===o.b.GALLERY&&(ie=Object(u.a)(X,ue=>!ee.includes(ue.type)));let oe=ie[0];return Object(O.a)(w)>1&&(oe=Object(m.a)(X,ue=>!ue.id)),oe})},Cwwo:function(K,n,e){"use strict";e.d(n,"a",function(){return s}),e.d(n,"e",function(){return t}),e.d(n,"b",function(){return a}),e.d(n,"c",function(){return r}),e.d(n,"d",function(){return c});const s={SharedChannel:"shared_channel",SingleChannelGuest:"ultra_restricted",MultiChannelGuest:"restricted",Member:"regular",ExternalSharedWorkspaceMember:"external_shared_workspace_member"},t={User:"user_invite",UserGroup:"user_group_invite",Email:"email_invite",Member:"member"},a={OpenConfirmationScreen:"add_to_channel_open_confirmation_screen"},r={OpenInviteTypeExternal:"comprehensible_invites_open_invite_type_external",InviteTypeExternalDefaultActionDisallowed:"comprehensible_invites_invite_type_external_default_action_disallowed",OpenSharedChannelNoteExternal:"comprehensible_invites_open_shared_channel_note_external",OpenSharedChannelExternalLimitedExternal:"comprehensible_invites_open_shared_channel_external_limited_external",OpenInviteTypeInternal:"comprehensible_invites_open_invite_type_internal",InviteTypeInternalDefaultActionDisallowed:"comprehensible_invites_invite_type_internal_default_action_disallowed",OpenSharedChannelNoteInternal:"comprehensible_invites_open_shared_channel_note_internal",OpenSharedChannelExternalLimitedInternal:"comprehensible_invites_open_shared_channel_external_limited_internal"};class c{constructor(i){this.ok=i.ok,this.invitee=i.email,this.inviteeType=t.Email,this.accessType=i.inviteType||s.Member,this.error=i.error}}v(c,"InviteResult")},D1k6:function(K,n,e){"use strict";e.d(n,"a",function(){return o});var s=e("LK2A"),t=e("SQ0V"),a=e("IsIP"),r=e("gpLM"),c=e("HKlo");const o=Object(t.c)("Focuses the flexpane according to focusTarget",(i,l,u)=>{let{focusTarget:f,tileKey:d,entityId:O,quipCommentThreadId:m}=u;if(f!==s.CommentFocusTarget.NONE){const g=f===s.CommentFocusTarget.THREAD_ROOT?c.c.THREAD_MESSAGE_LIST:Object(a.e)({focusKey:c.c.THREAD_MESSAGE_INPUT,tileKey:d});i(Object(r.c)({focusKey:g,focusMetadata:{id:"thread",params:{entityId:O,commentThreadId:m}},forceFocus:!0}))}});o.meta={name:"createThunk",key:"createThunkmaybeFocusThreadsFlexpane",description:"Focuses the flexpane according to focusTarget"}},D4ee:function(K,n,e){"use strict";e.d(n,"a",function(){return O});var s=e("SQ0V"),t=e("7ibc"),a=e("rZ8V"),r=e("CnKg"),c=e("E3dU"),o=e("I0j/"),i=e("37+L"),l=e("cU/a"),u=e("25cE"),f=e("u+Mq");const d="Qp:F0DELETED",O=Object(s.c)("Open the quip doc in the flexpane",(m,g,E)=>{let{quipDocId:p,inTile:h,replaceHistoryState:_,isChannelLinkedCanvasDeleted:b}=E;const I=g();if(Object(t.pb)(I)){if(Object(a.g)(I)&&p){const C=Object(r.f)(p),y=C?Object(c.e)(I,C):void 0;y&&m(Object(o.a)(Object(i.n)(p,y)))}m(Object(l.a)({routeName:u.o,flexName:"docs",flexParams:{quipDocId:b?d:p},shouldOpenInTile:h??!1,replaceHistoryState:_})),h||m(Object(f.b)({params:{entityId:p},uiState:{reason:f.a.ShowDocFlexpane}}))}});O.meta={name:"createThunk",key:"createThunkshowDocFlexpane",description:"Open the quip doc in the flexpane"}},D6Rr:function(K,n,e){"use strict";var s=e("Cfcg"),t=e("FUEd"),a=e("9Gfp"),r=e("FSos"),c=e("q1tI"),o=e.n(c),i=e("ifKl"),l=e("68qM"),u=e("Aebc");function f(){return f=Object.assign||function(b){for(var I=1;I<arguments.length;I++){var C=arguments[I];for(var y in C)Object.prototype.hasOwnProperty.call(C,y)&&(b[y]=C[y])}return b},f.apply(this,arguments)}v(f,"_extends");const d=Object(c.memo)(b=>{let{addMemberToPresenceSubscription:I=i.a,memberId:C,removeMemberFromPresenceSubscription:y=i.a,renderDoublePresence:P=!1,firstElementExtraClassName:T="",...S}=b;return Object(l.a)(()=>(I(C),()=>y(C)),[C]),P?o.a.createElement(o.a.Fragment,null,o.a.createElement(u.a,f({},S,{className:`${S.className||""} ${T}`})),o.a.createElement(u.a,f({},S))):o.a.createElement(u.a,f({},S))});d.displayName="PresenceWithSubscriptions";var O=d,m=e("XcRx"),g=e("ivl2"),E=e("pu3F");const p=v((b,I)=>{const C=Object(t.d)(b,I.memberId),y=Object(m.a)(b,I.memberId),P=Object(g.a)(b,I.memberId),T=Object(a.a)(b)===I.memberId;return{...I,userType:y,isDnd:P,isSelf:T,isSlackbot:I.memberId===E.W,isActive:C==="active"}},"mapStateToProps"),h=v(b=>({addMemberToPresenceSubscription:I=>b(Object(r.a)({memberId:I})),removeMemberFromPresenceSubscription:I=>b(Object(r.c)({memberId:I}))}),"mapDispatchToProps");var _=n.a=Object(s.a)(p,h)(O)},DDZn:function(K,n,e){"use strict";e.d(n,"a",function(){return a});var s=e("q1tI"),t=e.n(s);class a extends s.PureComponent{render(){return t.a.createElement(t.a.Fragment,null,this.props.children)}}v(a,"PassThrough"),a.displayName="PassThrough"},DNzI:function(K,n,e){"use strict";e.d(n,"a",function(){return o});var s=e("8TXW"),t=e("KciV"),a=e("Pw5n"),r=e("Z7Ay");const c={debug:0,info:1,warn:2,error:3,action:0};class o{debug(l){if(!(this.level>s.p.DEBUG||!o.debugLogsEnabled))if(typeof l=="string"){const u=l;this.consoleLogger.debug(u)}else{const u=l();this.consoleLogger.debug(u)}}info(l){this.level>s.p.INFO||this.consoleLogger.info(l)}warn(l){this.level>s.p.WARN||this.consoleLogger.warn(l)}error(l){this.level>s.p.ERROR||this.callLogger.error(l)}setLogLevel(l){this.level=l}getLogLevel(){return this.level}getName(){return this.name}constructor(l,u){this.name=l,this.level=u||c[Object(a.e)()],this.consoleLogger=Object(t.b)(l),this.callLogger=Object(t.a)(l)}}v(o,"FreeWillyLogger"),o.debugLogsEnabled=!1,Object(r.a)("toggleChimeDebugLogs",()=>{o.debugLogsEnabled=!o.debugLogsEnabled})},DPHH:function(K,n,e){"use strict";e.d(n,"b",function(){return u}),e.d(n,"c",function(){return f}),e.d(n,"a",function(){return d});var s=e("q1tI"),t=e.n(s),a=e("iuhU"),r=e("oEDn"),c=e("nNoG"),o=e("0cEW"),i=e("kBpe");const l=new c.b("keyboard_key");var u;(function(O){O.CmdOrCtrl="CmdOrCtrl",O.OptOrAlt="OptOrAlt",O.ArrowUp="\u2191",O.ArrowDown="\u2193",O.ArrowLeft="\u2190",O.ArrowRight="\u2192"})(u||(u={}));const f=v(O=>({"\u2191":l.t("up arrow"),"\u2193":l.t("down arrow"),"\u2190":l.t("left arrow"),"\u2192":l.t("right arrow"),Ctrl:l.t("Control"),Cmd:l.t("Command"),".":l.t("period"),"[":l.t("left bracket"),"]":l.t("right bracket"),"+":l.t("plus"),"-":l.t("minus"),Esc:l.t("Escape"),Strg:"Steuerung"})[O]||String(O).toLowerCase(),"getNameForKey"),d=v(O=>{let{label:m,className:g,slim:E=!1,theme:p=o.c.Light,tooltip:h=!1}=O,_=!1,b,I=m;switch(I===u.CmdOrCtrl?I=Object(i.p)()?"Cmd":"Ctrl":I===u.OptOrAlt&&(I=Object(i.p)()?"Option":"Alt"),I){case"Cmd":b="cmd-small";break;case u.ArrowUp:_=!0,b="caret-up";break;case u.ArrowDown:_=!0,b="caret-down";break;case u.ArrowLeft:_=!0,b="caret-left";break;case u.ArrowRight:_=!0,b="caret-right";break;default:break}const C=Object(a.default)(g,{"c-keyboard_key":!0,"c-keyboard_key__arrow_key":_,"c-keyboard_key--slim":E,"c-keyboard_key--dark":p===o.c.Dark,"c-keyboard_key__tooltip":h}),y=f(I),P=l.t("{keyName} key",{keyName:y});return t.a.createElement("div",{role:"img","aria-label":P,className:C},b?t.a.createElement(r.a,{type:b,size:E?"inherit":20,inline:E}):I)},"KeyboardKey");d.displayName="KeyboardKey"},DQKV:function(K,n,e){"use strict";var s=e("q1tI"),t=e.n(s),a=e("x91h"),r=e("wsJ+"),c=e("/qcS"),o=e("wA9Q");function i(l){let{text:u="",inputIsEscaped:f=!1,emojiSize:d=c.a.SMALL,showTooltips:O=!0,stopAnimations:m=!1,emojiDisplayInfo:g={}}=l;const E=[];let p=0;const h=f?Object(a.a)(u):u;if(h.replace(Object(r.a)(),(_,b,I)=>{if(I>p){const P=h.slice(p,I);E.push(t.a.createElement(t.a.Fragment,{key:`${I}-${P}`},P))}const{name:C=_,url:y=void 0}=Object(o.a)(_,g);return E.push(t.a.createElement(c.b,{text:C,emojiSize:d,key:`${I}-${C}`,showTooltip:O,stopAnimations:m,isEmojiInlineWithText:!0,url:y})),p=I+_.length,""}),!E.length)return t.a.createElement(t.a.Fragment,null,h);if(p<h.length){const _=h.substr(p);E.push(t.a.createElement(t.a.Fragment,{key:`last-${_}`},_))}return t.a.createElement(t.a.Fragment,null,E)}v(i,"FormatTextWithEmoji"),i.displayName="FormatTextWithEmoji",n.a=t.a.memo(i)},DS5W:function(K,n,e){"use strict";var s=e("ZKjC"),t=e("C3vN"),a=e("xwCZ"),r=e("GHHW");const c=Object(s.b)((o,i)=>{const l=Object(a.g)(o,i),{status_text_canonical:u}=l.profile;return u?Object(t.J)(l):Object(r.a)(o,l)?0:Object(t.J)(l)});c.meta={name:"createSelector",key:"createSelectorgetMemberCustomStatusExpiration",description:(o,i)=>{const l=Object(a.g)(o,i),{status_text_canonical:u}=l.profile;return u?Object(t.J)(l):Object(r.a)(o,l)?0:Object(t.J)(l)}},n.a=c},DWmQ:function(K,n,e){"use strict";var s=e("q1tI"),t=e.n(s),a=e("eBYm"),r=e("Cs2y");function c(){return c=Object.assign||function(i){for(var l=1;l<arguments.length;l++){var u=arguments[l];for(var f in u)Object.prototype.hasOwnProperty.call(u,f)&&(i[f]=u[f])}return i},c.apply(this,arguments)}v(c,"_extends");const o=v(i=>{let{children:l,onClick:u=v(m=>m(),"onClick"),...f}=i;const{closeModal:d}=Object(r.b)(),O=Object(s.useCallback)(()=>u(d),[d,u]);return t.a.createElement(a.a,c({},f,{onClick:O}),l)},"ModalCloseButton");o.displayName="ModalCloseButton",n.a=o},DXiN:function(K,n,e){"use strict";e.d(n,"a",function(){return l});var s=e("q1tI"),t=e.n(s),a=e("ifKl"),r=e("VymY"),c=e("9C2q");function o(){return o=Object.assign||function(u){for(var f=1;f<arguments.length;f++){var d=arguments[f];for(var O in d)Object.prototype.hasOwnProperty.call(d,O)&&(u[O]=d[O])}return u},o.apply(this,arguments)}v(o,"_extends");const i={display:"contents"},l=v(u=>{let{refToForward:f,children:d,onFirstHiddenTabStopFocus:O=a.a,onLastHiddenTabStopFocus:m=a.a,hasKeyboardFocus:g=!1,hasKeyboardFocusWithin:E=!1,onFocus:p=a.a,onBlur:h=a.a,..._}=u;const b=v(A=>{let{firstElementChild:R,lastElementChild:x}=A;return M=>M!==R&&M!==x},"makeFilterFn");function I(A,R){return R.querySelector(`input[type="radio"][name="${A.name}"]:checked`)||A}v(I,"findSelectedRadioButton");const C=Object(s.useCallback)(A=>{var R;const{currentTarget:x}=A,M=b(x);O(A);const j=Object(r.e)(x,M);if(!j)return;if(!(((R=j)===null||R===void 0?void 0:R.type)==="radio"&&j.name)){j.focus();return}I(j,x).focus()},[O]),y=Object(s.useCallback)(A=>{var R;const{currentTarget:x}=A,M=b(x);m(A);const j=Object(r.d)(x,M);if(!j)return;if(!(((R=j)===null||R===void 0?void 0:R.type)==="radio"&&j.name)){j.focus();return}I(j,x).focus()},[m]),P=Object(s.useCallback)(A=>{const{target:R,currentTarget:x}=A,{firstElementChild:M,lastElementChild:j}=x,W=R===M,U=W||R===j;if(p(A),!!U){if(W){C(A);return}y(A)}},[C,y,p]),T=Object(s.useCallback)(A=>{h(A)},[h]),S=E?0:-1;return t.a.createElement("div",o({role:"none",ref:f,onFocus:P,onBlur:T},_),t.a.createElement("div",{className:"offscreen","aria-hidden":"true",tabIndex:S}),d,t.a.createElement("div",{className:"offscreen","aria-hidden":"true",tabIndex:S}))},"ManagedTabNavigationContainer");l.displayName="ManagedTabNavigationContainer",l.defaultProps={style:i},n.b=Object(c.a)(t.a.forwardRef((u,f)=>t.a.createElement(l,o({},u,{refToForward:f}))))},DeaP:function(K,n,e){"use strict";e.d(n,"a",function(){return c});var s=e("nNoG"),t=e("A+oD"),a=e("RVJP");const r=new s.b("files");function c(o,i){if(!o.is_external)return null;if(Object(a.d)(i,"file_consistency")==="treatment"){let u="File";switch(o.external_type){case"gdrive":switch(o.filetype){case"gsheet":u=r.t("Google Sheet");break;case"gdoc":u=r.t("Google Doc");break;case"gpres":u=r.t("Google Slide");break;case"gdraw":u=r.t("Google Drawing");break;default:u=r.t("Google {fileType}",{fileType:o.pretty_type})}break;case"dropbox":case"box":case"onedrive":case"app":u=r.t("{fileType}",{fileType:o.pretty_type});break;default:u=r.t("File")}return u}switch(o.external_type){case"gdrive":switch(o.filetype){case"gsheet":return r.t("Spreadsheet from Google Drive");case"gdoc":return r.t("Document from Google Drive");case"gpres":return r.t("Presentation from Google Drive");case"gdraw":return r.t("Drawing from Google Drive");default:return r.t("{fileType} from Google Drive",{fileType:o.pretty_type})}case"dropbox":return r.t("{fileType} from Dropbox",{fileType:o.pretty_type});case"box":return r.t("{fileType} from Box",{fileType:o.pretty_type});case"onedrive":return r.t("{fileType} from OneDrive",{fileType:o.pretty_type});case"app":return r.t("{fileType} from {appName}",{fileType:o.pretty_type,appName:Object(t.a)(i,o)||""});default:return r.t("File")}}v(c,"getExternalFiletypeDescription")},DmzU:function(K,n,e){"use strict";e.d(n,"a",function(){return t}),e.d(n,"f",function(){return a}),e.d(n,"b",function(){return r}),e.d(n,"c",function(){return c}),e.d(n,"d",function(){return o}),e.d(n,"e",function(){return i}),e.d(n,"g",function(){return l});var s=e("DwFS");const t=Object(s.a)("Adds the new set of custom emoji to the existing store");t.meta={name:"createAction",key:"createActionaddCustomEmoji",description:"Adds the new set of custom emoji to the existing store"};const a=Object(s.a)("Resets the array of custom emoji in the store");a.meta={name:"createAction",key:"createActionsetNewCustomEmojiData",description:"Resets the array of custom emoji in the store"};const r=Object(s.a)("Removes the specified custom emoji from the store");r.meta={name:"createAction",key:"createActionremoveCustomEmoji",description:"Removes the specified custom emoji from the store"};const c=Object(s.a)("Renames a disabled custom emoji");c.meta={name:"createAction",key:"createActionrenameCustomEmoji",description:"Renames a disabled custom emoji"};const o=Object(s.a)("Set the loading status for the API request when a new page is loading");o.meta={name:"createAction",key:"createActionsetIsLoadingNewPage",description:"Set the loading status for the API request when a new page is loading"};const i=Object(s.a)("Set the loading status for the API request when a user searches for emojis");i.meta={name:"createAction",key:"createActionsetIsLoadingNewSearchQuery",description:"Set the loading status for the API request when a user searches for emojis"};const l=Object(s.a)("Set the current sort category and direction for the table");l.meta={name:"createAction",key:"createActionsetSort",description:"Set the current sort category and direction for the table"}},DneB:function(K,n,e){"use strict";e.d(n,"c",function(){return a}),e.d(n,"a",function(){return r}),e.d(n,"b",function(){return c});var s=e("/MKj"),t=e("FXSi");const a=Object(s.createStoreHook)(t.a),r=Object(s.createDispatchHook)(t.a),c=Object(s.createSelectorHook)(t.a)},Dp5f:function(K,n,e){"use strict";e.d(n,"b",function(){return b}),e.d(n,"a",function(){return y});var s=e("q1tI"),t=e.n(s),a=e("wSSu"),r=e("iuhU"),c=e("vJtL"),o=e("hbEN"),i=e("Cfcg"),l=e("nxhD"),u=e("gz6s"),f=e("YpEo"),d=e("ykb+"),O=e("s4P+"),m=e("khnw"),g=e("WSQ4");function E(P){return P.persist!==void 0}v(E,"isEventWithPersistMethod");var p=E;const h=150,_=[];function b(){_.forEach(P=>{P.closePopover()})}v(b,"forceClosePopovers");let I=v(class extends s.Component{componentDidMount(){if(_.push(this),this.props.startsOpen&&this.setTargetBounds(),this.state.isOpen){this.props.incrementOpenPopoverCount({windowId:this.context.windowId});return}this.installOrUninstallListener(),this.checkTriggerRef()}componentDidUpdate(T,S){if(this.installOrUninstallListener(),(!T.forceOpen&&this.props.forceOpen||T.isOpen!==this.props.isOpen)&&this.onTrigger(),T.targetBounds!==this.props.targetBounds&&this.setTargetBounds(),this.state.isOpen&&!S.isOpen){this.props.incrementOpenPopoverCount({windowId:this.context.windowId});return}!this.state.isOpen&&S.isOpen&&this.props.decrementOpenPopoverCount({windowId:this.context.windowId})}componentWillUnmount(){this.state.isOpen&&this.props.decrementOpenPopoverCount({windowId:this.context.windowId}),this.onResize.cancel(),this.listenerInstalled&&this.context.window.removeEventListener("resize",this.onResize);const T=_.indexOf(this);_.splice(T,1)}getTargetBounds(){const{targetBounds:T}=this.props;if(T)return T;const S=this.target&&Object(a.findDOMNode)(this.target).getBoundingClientRect();return{left:(S==null?void 0:S.left)||0,right:(S==null?void 0:S.right)||0,top:(S==null?void 0:S.top)||0,bottom:(S==null?void 0:S.bottom)||0,width:(S==null?void 0:S.width)||0,height:(S==null?void 0:S.height)||0}}setTargetBoundsForContextMenu(T){if(!this.props.hasKeyboardFocus&&T){this.setTargetBounds(T.x,T.y);return}const{top:S,left:A,width:R,height:x}=this.getTargetBounds(),M=A+R/2,j=S+x/2;this.setTargetBounds(M,j)}checkTriggerRef(){var T,S;if(!(!Object(d.b)()&&!Object(d.c)())&&this.target&&typeof this.props.forceOpen!="boolean"&&!this.props.dangerouslyQuietNonFocusableElementWarning&&this.target.tabIndex<0&&!(!((S=(T=this.target).hasAttribute)===null||S===void 0)&&S.call(T,"tabindex"))){var A;const R=(A=this.target.outerHTML)===null||A===void 0?void 0:A.slice(0,80);Object(O.b)().error(`PopoverTrigger is wrapping a non-focusable element: ${R}`)}}installOrUninstallListener(){this.state.isOpen&&!this.listenerInstalled&&(this.context.window.addEventListener("resize",this.onResize),this.listenerInstalled=!0),!this.state.isOpen&&this.listenerInstalled&&(this.onResize.cancel(),this.context.window.removeEventListener("resize",this.onResize),this.listenerInstalled=!1)}render(){var T;const S=this.props.children,{ariaHasPopup:A,customTrigger:R,isContextMenu:x,openOnDownArrow:M}=this.props,{isOpen:j,targetBounds:W,openedWithKeyboard:U}=this.state,B={ref:this.setTriggerRef,className:Object(r.default)((T=S.props)===null||T===void 0?void 0:T.className,{active:j}),"aria-haspopup":A,...this.props.triggerProps};R?B.onTrigger=this.onTrigger:x?B.onContextMenu=this.onTrigger:B.onClick=this.onTrigger,M&&(B.onKeyDown=this.onKeyDown);const Y=Object(f.a)(S,B),z=j&&this.props.renderPopover({...this.props,useTargetBoundsAsPosition:!!x,shouldCloseOnOverlayMouseDown:!!x||!!this.props.shouldCloseOnOverlayMouseDown,isOpen:j,onClose:this.closePopover,targetBounds:W,openedWithKeyboard:U});return t.a.createElement(t.a.Fragment,null,Y,z)}constructor(T){super(T),this.onTrigger=S=>{var A,R;const{isContextMenu:x,hasKeyboardFocus:M,shouldSetTargetBoundsForContextMenu:j}=this.props;if(x&&(S!=null&&S.altKey))return;S&&S.stopPropagation();const W=S&&S.nativeEvent;x&&j?W?(S&&S.preventDefault(),this.setTargetBoundsForContextMenu(W)):this.setTargetBoundsForContextMenu():this.setTargetBounds();const U=M;this.setState(B=>({isOpen:!B.isOpen,openedWithKeyboard:!!U}),()=>{if(!this.state.isOpen){var B,Y;(Y=(B=this.props).onClose)===null||Y===void 0||Y.call(B,S)}}),(R=(A=this.props).onClick)===null||R===void 0||R.call(A,S)},this.onKeyDown=S=>{const{hasKeyboardFocus:A,openOnDownArrow:R}=this.props;if(!(R&&(S==null?void 0:S.keyCode)===m.c&&!this.state.isOpen))return;S==null||S.stopPropagation(),S==null||S.preventDefault(),this.setTargetBounds();const M=A;this.setState(()=>({isOpen:!0,openedWithKeyboard:!!M}))},this.setTargetBounds=(S,A)=>{if(S&&A){this.setState(()=>({targetBounds:{left:S,top:A,right:S,bottom:A,width:0,height:0}}));return}this.setState(()=>({targetBounds:this.getTargetBounds()}))},this.setTriggerRef=S=>{this.target=S;const{ref:A}=this.props.children;if(A){if(Object(c.a)(A)){A(S);return}A.current=S}},this.closePopover=(S,A)=>{S&&p(S)&&S.persist(),this.state.isOpen&&this.setState(()=>({isOpen:!1,openedWithKeyboard:!1}),()=>{var R,x;(x=(R=this.props).onClose)===null||x===void 0||x.call(R,S,A),this.onResize.cancel(),this.context.window.removeEventListener("resize",this.onResize),this.listenerInstalled=!1})},this.state={isOpen:!!this.props.startsOpen,openedWithKeyboard:!1,targetBounds:void 0},this.listenerInstalled=!1,this.target=null,this.onResize=Object(o.a)(()=>this.setTargetBounds(),h,{maxWait:h,trailing:!0})}},"BasePopoverTrigger");I.displayName="BasePopoverTrigger",I.defaultProps={shouldSetTargetBoundsForContextMenu:!0},I.contextType=g.a;const C=v(P=>({incrementOpenPopoverCount:function(){for(var T=arguments.length,S=new Array(T),A=0;A<T;A++)S[A]=arguments[A];return P(Object(l.b)(...S))},decrementOpenPopoverCount:function(){for(var T=arguments.length,S=new Array(T),A=0;A<T;A++)S[A]=arguments[A];return P(Object(l.a)(...S))}}),"mapDispatchToProps"),y=Object(i.a)(null,C,null,{forwardRef:!0})(Object(u.a)(I))},DuRM:function(K,n,e){"use strict";e.d(n,"b",function(){return le}),e.d(n,"c",function(){return Oe}),e.d(n,"a",function(){return he}),e.d(n,"f",function(){return Ee}),e.d(n,"e",function(){return ge}),e.d(n,"d",function(){return J});var s=e("9oTK"),t=e("wSSu"),a=e.n(t),r=e("UXvI"),c=e("LDAF"),o=e("Kq+c"),i=e("SZMM"),l=e("kBpe"),u=e("s4P+"),f=e("Z7Ay"),d=e("Lgge");function O(H){return m.apply(this,arguments)}v(O,"waitForReadyState");function m(){return m=Object(s.coroutine)(function*(H){if(H.readyState!=="complete")return new d.a((Z,q)=>{const k=H.defaultView;if(!k){q(new Error("Document has no default view"));return}let se;const re=v(()=>{clearTimeout(se),k.removeEventListener("load",re),Z(H.readyState)},"loadListener");k.addEventListener("load",re),se=setTimeout(re,100)})}),m.apply(this,arguments)}v(m,"_waitForReadyState");function g(H){return E.apply(this,arguments)}v(g,"ensureDoctype");function E(){return E=Object(s.coroutine)(function*(H){const Z=H.document;if(Z.doctype)return;yield O(Z);const q=Z.documentElement.outerHTML;Z.open(),Z.write(`<!DOCTYPE html>${q}`),Z.close(),yield O(Z)}),E.apply(this,arguments)}v(E,"_ensureDoctype");var p=e("lhZz"),h=e("SQ0V"),_=e("mkcb"),b=e("MIV3");const I=Object(h.c)("Creates a window with the given ID and state across all booted teams",(H,Z,q)=>{H(Object(_.f)(q));const k=Object(_.f)(q);Object(b.a)(k)});I.meta={name:"createThunk",key:"createThunkcreateWindow",description:"Creates a window with the given ID and state across all booted teams"};var C=e("Pw4T");const y=Object(h.c)("Remove a window from the window-store across all booted teams",(H,Z,q)=>{let{windowId:k}=q;H(Object(_.a)({windowId:k})),Object(C.d)({getState:Z}).measureAndClear(`${k}_Opened`,"child_window_open_duration");const re=Object(_.a)({windowId:k});Object(b.a)(re)});y.meta={name:"createThunk",key:"createThunkremoveWindow",description:"Remove a window from the window-store across all booted teams"};const P=Object(h.c)("Sets window viewport (position and size) for a given windowId across all booted workspaces",(H,Z,q)=>{let{windowId:k,viewport:se}=q;H(Object(_.b)({windowId:k,viewport:se}));const re=Object(_.b)({windowId:k,viewport:se});Object(b.a)(re)});P.meta={name:"createThunk",key:"createThunksetViewport",description:"Sets window viewport (position and size) for a given windowId across all booted workspaces"};var T=e("Kenk"),S=e("pOPU"),A=e("Plsj"),R=e("+13P"),x=e("V2uK"),M=e("azFB"),j=e("Kdix"),W=e("vobO"),U=e("vfQU"),B=e("lKOk"),Y=e("RpF1");const z=Object(u.b)({label:"WINDOW-MGR"}),F="beforeunload",V=["huddles","quip","file-viewer",Y.l,"generic-child-window-view","generic-child-window"];class L{constructor(Z,q,k,se,re,X,w,ce=null){var ie,oe,me;this.cleanupInChildWindowManager=re,this.appContainerRef=null,this.childWindowRef=null,this.childWindowTokenRef=null,this.parentWindow=window,this.onCleanup=null,this.cleanupHasRun=!1,this.setAppContainer=be=>{this.appContainerRef=be},this.hasAppContainer=()=>!!this.appContainerRef,this.cleanup=()=>{if(z.debug(`Beginning cleanup for ${this.label} window/app`),this.cleanupHasRun){z.debug(`Cleanup already run for ${this.label} window/app. Exiting early`);return}this.appContainerRef&&this.cleanupAppContainer(),this.onCleanup&&this.onCleanup(this.childWindowTokenRef),this.onCleanup=null,this.childWindowRef&&this.cleanupChildWindow(),this.childWindowRef=null,z.debug(`Removing ${this.label} from the window store`),Object(p.dispatchForClientStore)(y({windowId:this.label})),z.debug("Requesting window restoration persistence to run shortly"),Object(p.dispatchForClientStore)(Object(T.a)()),this.cleanupInChildWindowManager(),this.cleanupHasRun=!0,z.debug(`Finished cleaning up ${this.label} child window and app container`)},this.cleanupChildWindow=()=>{var be;if(!this.childWindowRef){z.warn(`No ${this.label} child window ref to clean up.`);return}z.debug(`Beginning child window cleanup for ${this.label}`),R.b.removeListeners(this.childWindowRef),this.childWindowRef.removeEventListener(F,this.cleanup),this.childWindowRef.removeEventListener("blur",this.onBlur),this.childWindowRef.removeEventListener("focus",this.onFocus),this.childWindowRef.removeEventListener("mousedown",this.onMousedown),this.childWindowRef.removeEventListener("keydown",this.onKeydown),this.onKeydown.cancel(),this.childWindowRef.close(),Object(x.b)(this.childWindowRef),this.leakMonitor.expectGC(this.childWindowRef),this.childWindowRef=null,this.childWindowTokenRef=null,(be=this.parentWindow)===null||be===void 0||be.removeEventListener(F,this.cleanup),this.parentWindow=null,z.debug(`Finished cleaning up ${this.label} child window`)},this.cleanupAppContainer=()=>{z.debug(`Beginning appContainer cleanup for ${this.label} child window`),this.appContainerRef&&(a.a.unmountComponentAtNode(this.appContainerRef),this.appContainerRef=null,z.debug(`Finished cleaning up ${this.label} app container`))};var ue=this;this.onBlur=Object(s.coroutine)(function*(){var be,Ae,Ce,De,Pe,Ue;if(!((be=ue.childWindowRef)===null||be===void 0||(Ae=be.document)===null||Ae===void 0)&&Ae.hasFocus())return;z.debug(`Handling a blur event for ${ue.label} child window`),Object(p.dispatchForClientStore)(Object(A.a)({isFocused:!1,windowId:ue.label}));var ae,ne,Ie,Te;const Me=ue.childWindowTokenRef?yield Object(U.L)(ue.childWindowTokenRef):{width:(ae=(Ce=ue.childWindowRef)===null||Ce===void 0?void 0:Ce.outerWidth)!==null&&ae!==void 0?ae:B.j,height:(ne=(De=ue.childWindowRef)===null||De===void 0?void 0:De.outerHeight)!==null&&ne!==void 0?ne:B.i,x:(Ie=(Pe=ue.childWindowRef)===null||Pe===void 0?void 0:Pe.screenX)!==null&&Ie!==void 0?Ie:0,y:(Te=(Ue=ue.childWindowRef)===null||Ue===void 0?void 0:Ue.screenY)!==null&&Te!==void 0?Te:0};Object(p.dispatchForClientStore)(P({windowId:ue.label,viewport:Me})),Object(p.dispatchForClientStore)(Object(T.a)())}),this.onFocus=()=>{z.debug(`Handling a focus event for ${this.label} child window`),Object(p.dispatchForClientStore)(Object(A.a)({isFocused:!0,windowId:this.label}))},this.onMousedown=()=>{Object(p.dispatchForClientStore)(Object(A.c)())},this.onKeydown=Object(r.a)(()=>{Object(p.dispatchForClientStore)(Object(A.b)())},10*1e3,{leading:!0,trailing:!1}),this.label=Z,this.childWindowRef=k,this.childWindowTokenRef=se,this.onCleanup=ce,this.leakMonitor=X,this.leakMonitor.watch(this.childWindowRef),Object(S.a)(this.childWindowRef,q),(ie=this.parentWindow)===null||ie===void 0||ie.addEventListener(F,this.cleanup);const _e=k.document.readyState;_e!=="interactive"&&_e!=="complete"?k.addEventListener("load",()=>{k.addEventListener("unload",this.cleanup)}):k.addEventListener("unload",this.cleanup),R.b.addListeners(this.childWindowRef),k.addEventListener("blur",this.onBlur),k.addEventListener("focus",this.onFocus),k.addEventListener("mousedown",this.onMousedown),k.addEventListener("keydown",this.onKeydown),z.debug(`Adding ${this.label} to the window store`),Object(p.dispatchForClientStore)(I({windowId:Z,isFocused:(oe=k.document)===null||oe===void 0?void 0:oe.hasFocus(),timeCreation:Date.now(),timeLastBlurEvent:0,timeLastFocusEvent:!((me=k.document)===null||me===void 0)&&me.hasFocus()?Date.now():0,isUnloading:!1,viewport:w})),z.debug("Requesting window restoration persistence to run shortly"),Object(p.dispatchForClientStore)(Object(T.a)()),z.debug(`Initialized child window manager for ${this.label} window/app`)}}v(L,"child_window_manager_ChildWindowApp");let Q=v(class No{static getWindowType(Z){for(const q of V)if(Z.startsWith(q))return q;return"other"}constructor(){this.windowCache={},this.leakMonitors=new Map,this.findWindowLabel=Z=>Object(c.a)(this.windowCache,q=>q&&Z&&q.childWindowRef===Z),this.removeWindow=Z=>{this.windowCache[Z]&&delete this.windowCache[Z],this.logChildWindowsInMemory()},this.cleanupWindowApp=Z=>{this.removeWindow(Z)},this.getOrCreateLeakMonitor=Z=>{const q=No.getWindowType(Z),k=this.leakMonitors.get(q);if(k)return k;const se=j.a.create({name:`${q}-window`});return this.leakMonitors.set(q,se),se},this.addWindow=(Z,q,k,se,re)=>{const X=this.windowCache[Z];X&&(z.warn(`Cleaning up zombie child window of type ${Z}`),X.cleanup(),this.removeWindow(Z));const w=this.cleanupWindowApp.bind(this,Z);this.windowCache[Z]=new L(Z,No.getWindowType(Z),q,k,w,this.getOrCreateLeakMonitor(Z),se,re),z.debug(`Added ${Z} child window to child window manager cache`),this.logChildWindowsInMemory()},this.addAppContainer=(Z,q)=>{var k;const se=this.windowCache[Z];if(!se){z.error("Tried rendering app in nonexistant child window");return}return se.hasAppContainer()&&(z.warn(`Zombie ${Z} app running in the background. Cleaning it up now.`),se.cleanupAppContainer()),(k=this.windowCache[Z])===null||k===void 0||k.setAppContainer(q),()=>{se.cleanup(),this.removeWindow(Z)}},this.logChildWindowsInMemory=()=>{const Z=Object.keys(this.windowCache).length;z.debug(`Currently ${Z} child window(s) in memory`)}}},"ChildWindowManager"),ee=new Q;const te=v(()=>(ee=new Q,ee),"resetChildWindowManager"),le=v(H=>{if(H!==M.a)return ee.findWindowLabel(H)},"getIdForWindow"),Oe=v(H=>{var Z;return H?ee==null||(Z=ee.windowCache)===null||Z===void 0?void 0:Z[H]:void 0},"getWindowById"),he=v(()=>Object.keys(ee==null?void 0:ee.windowCache).filter(Z=>Z.startsWith(W.d)).length,"getCanvasWindowCount"),Ee=function(){var H=Object(s.coroutine)(function*(Z,q){const k=yield Object(o.a)(Z,q,{useContainer:!0}),se=ee.findWindowLabel(Z);return!k||!se?void 0:(z.debug(`Rendered ${se} application in child window`),ee.addAppContainer(se,k))});return v(function(q,k){return H.apply(this,arguments)},"renderInManagedWindow")}(),ge=function(){var H=Object(s.coroutine)(function*(Z,q,k){const se=q.type||"unknown child window label",{window:re,windowToken:X}=yield Object(i.g)(Z,q);z.debug(`Created ${se} child window`);const w=yield Object(U.L)(X);return ee.addWindow(se,re,X,w,k),{window:re,windowToken:X}});return v(function(q,k,se){return H.apply(this,arguments)},"openManagedChildWindowForDesktop")}(),J=function(){var H=Object(s.coroutine)(function*(Z,q,k){let{shouldEnsureDoctype:se,...re}=q;const X=re.type||"unknown child window label";let w=null,ce=null;if(Object(l.i)()){const me=yield Object(i.g)(Z,re);w=me.window,ce=me.windowToken}else w=Object(i.i)(Z,re);if(!w)throw new Error("Unable to create window");z.debug(`Created ${X} child window`),se&&(yield g(w),Object(i.j)(w));const ie=ce?yield Object(U.L)(ce):{width:w.outerWidth,height:w.outerHeight,x:w.screenX,y:w.screenY};return ee.addWindow(X,w,ce,ie,k),z.info("Added window with dimensions: ",ie),{window:w,windowId:X,windowToken:ce}});return v(function(q,k,se){return H.apply(this,arguments)},"openManagedChildWindow")}();Object(f.a)("childWindowManager",ee)},"E/AO":function(K,n,e){"use strict";var s=e("q1tI"),t=e.n(s),a=e("n3tL"),r=e("ifKl"),c=e("nNoG"),o=e("7JUD"),i=e("lvWT"),l=e("1Qjs"),u=e("tYRW"),f=e("AEEY"),d=e("9org"),O=e("zKrX"),m=e("YyjR"),g=e("iUFw"),E=e("eBYm");const p=new c.b("generic_dialog"),h={title:a.default.oneOfType([a.default.string,a.default.element]),headerImageSrc:a.default.string,headerImageAlt:a.default.string,children:a.default.node,footerText:a.default.oneOfType([a.default.string,a.default.element]),submitButtonType:a.default.oneOf(["primary","danger"]),submitButtonText:a.default.string,cancelButtonText:a.default.string,showCancelButton:a.default.bool,showSubmitButton:a.default.bool,isSubmitButtonALoadingButton:a.default.bool,isSubmitting:a.default.bool,onSubmit:a.default.func,onCancel:a.default.func,onClose:a.default.func,"data-qa":a.default.string,className:a.default.string,overlayClassName:a.default.string,submitAutoClogProps:a.default.object,cancelAutoClogProps:a.default.object,shouldReturnFocusAfterClose:a.default.bool,headerImage:a.default.node,showDarkModeCloseButton:a.default.bool,UNSAFE_parentSelector:a.default.func},_={title:"",headerImageSrc:"",headerImageAlt:"",children:null,footerText:"",submitButtonType:"primary",submitButtonText:null,showCancelButton:!0,showSubmitButton:!0,isSubmitButtonALoadingButton:!1,isSubmitting:!1,cancelButtonText:null,onSubmit:r.a,onCancel:r.a,onClose:r.a,"data-qa":"alertdialog",className:"",overlayClassName:void 0,submitAutoClogProps:void 0,cancelAutoClogProps:void 0,shouldReturnFocusAfterClose:!0,headerImage:null,showDarkModeCloseButton:!1,UNSAFE_parentSelector:void 0};let b=v(class extends s.PureComponent{renderImage(){const{headerImageSrc:C,headerImageAlt:y,headerImage:P}=this.props;return P||(C?t.a.createElement(l.a,{alt:y,src:C}):null)}render(){const{"data-qa":C,title:y,children:P,footerText:T,submitButtonType:S,submitButtonText:A,cancelButtonText:R,showCancelButton:x,showSubmitButton:M,isSubmitButtonALoadingButton:j,isSubmitting:W,onCancel:U,onClose:B,onSubmit:Y,className:z,overlayClassName:F,submitAutoClogProps:V,cancelAutoClogProps:L,shouldReturnFocusAfterClose:Q,showDarkModeCloseButton:ee,UNSAFE_parentSelector:te}=this.props;return t.a.createElement(o.a,{labelledby:"base_dialog_title",describedby:"base_dialog_content",closeModal:B,role:"alertdialog",className:z,overlayClassName:F,dataQa:C,shouldReturnFocusAfterClose:Q,showDarkModeCloseButton:ee,UNSAFE_parentSelector:te},t.a.createElement(i.a,null,this.renderImage(),t.a.createElement(u.a,{title:y,id:"base_dialog_title","data-qa":`${C}_header`})),t.a.createElement(f.a,null,t.a.createElement(d.a,{"data-qa":`${C}_body`,id:"base_dialog_content"},P)),t.a.createElement(O.a,{"data-qa":`${C}_footer`},T&&t.a.createElement("div",null,T),t.a.createElement(m.a,null,x&&t.a.createElement(g.d,{type:"outline",onClick:U,"data-qa":`${C}_cancel`,autoClogProps:L},R||p.t("Cancel")),M&&(j?t.a.createElement(E.a,{type:S,onClick:Y,loading:W,disabled:W,"data-qa":`${C}_go`,autoClogProps:V,autoFocus:!0},A||p.t("Confirm")):t.a.createElement(g.d,{type:S,onClick:Y,"data-qa":`${C}_go`,autoClogProps:V,autoFocus:!0},A||p.t("Confirm"))))))}},"BaseDialog");b.displayName="BaseDialog",b.propTypes=h,b.defaultProps=_,n.a=b},E7hC:function(K,n,e){"use strict";e.d(n,"a",function(){return s});function s(t){return/^[a-zA-Z0-9\u00E0\u00E1\u00E2\u00E4\u00E3\u00E8\u00E9\u00EA\u00EB\u00ED\u00EE\u00EF\u00F3\u00F6\u00F4\u00F5\u0153\u00FA\u00F9\u00FB\u00FC\u00FF\u00E7\u00DF\u00F1\u00C0\u00C1\u00C2\u00C4\u00C3\u00C8\u00C9\u00CA\u00CB\u00CD\u00CE\u00CF\u00D3\u00D6\u00D4\u00D5\u0152\u00DA\u00D9\u00DB\u00DC\u0178\u00C7\u00D1\uFF41-\uFF5A\uFF10-\uFF19-_+'\uFF3F\uFF0B\u30FC\u3005\u3041-\u3096\u30A0-\u30FF\uFF61-\uFF9F\u3400-\u4DB5\u4E00-\u9FFF\u2E80-\u2FD5\u1100-\u11FF\uA960-\uA97F\uAC00-\uD7A3\uD7B0-\uD7FF\u3139-\u318F\uF900-\uFAFF\u0400-\u04FF\u0500-\u052F]*$/.test(t)}v(s,"isValidEmojiName")},ED1u:function(K,n,e){"use strict";e.d(n,"e",function(){return t}),e.d(n,"a",function(){return a}),e.d(n,"d",function(){return r}),e.d(n,"b",function(){return c}),e.d(n,"c",function(){return o}),e.d(n,"f",function(){return i});var s=e("DwFS");const t=Object(s.a)("Set the user-specified sidebar width and mode (use setSidebarColumn instead)");t.meta={name:"createAction",key:"createActionsetSidebarColumnInternal",description:"Set the user-specified sidebar width and mode (use setSidebarColumn instead)"};const a=Object(s.a)("Set the user-specified sidebar width and mode (use setInspectorColumn instead)");a.meta={name:"createAction",key:"createActionsetInspectorColumnInternal",description:"Set the user-specified sidebar width and mode (use setInspectorColumn instead)"};const r=Object(s.a)("Sets whether or not the team sidebar is part of the grid layout (use setIsTeamSidebarVisible instead)");r.meta={name:"createAction",key:"createActionsetIsTeamSidebarVisibleInternal",description:"Sets whether or not the team sidebar is part of the grid layout (use setIsTeamSidebarVisible instead)"};const c=Object(s.a)("Sets whether or not the sidebar is part of the grid layout at normal window sizes (use setIsSidebarVisible instead)");c.meta={name:"createAction",key:"createActionsetIsSidebarVisibleInternal",description:"Sets whether or not the sidebar is part of the grid layout at normal window sizes (use setIsSidebarVisible instead)"};const o=Object(s.a)("Sets whether or not the sidebar is currently visible when in collapsed mode");o.meta={name:"createAction",key:"createActionsetIsSidebarVisibleWhenFloating",description:"Sets whether or not the sidebar is currently visible when in collapsed mode"};const i=Object(s.a)("Sets whether the user prefers a responsive sidebar");i.meta={name:"createAction",key:"createActionsetUserPrefersResponsiveSidebarInternal",description:"Sets whether the user prefers a responsive sidebar"}},ED8d:function(K,n,e){"use strict";var s=e("oTSI"),t=e("kBpe"),a=e("ykb+"),r=e("s4P+"),c=e("1Np4"),o=e("4cU5"),i=e("RBHu");let l=v(class{initializeHuddleReconnectTracer(){var nt,Ge,Ot;this.reconnectSpan=(nt=this.trace)===null||nt===void 0?void 0:nt.startSpan(i.E),this.reconnectSuccessSpan=(Ge=this.trace)===null||Ge===void 0?void 0:Ge.startSpan(i.G),this.reconnectFailureSpan=(Ot=this.trace)===null||Ot===void 0?void 0:Ot.startSpan(i.F)}traceReconnectAttemptOutcome(nt){let{isSuccess:Ge}=nt;var Ot;Ge?this.reconnectSuccessCount+=1:this.reconnectFailureCount+=1,(Ot=this.logger)===null||Ot===void 0||Ot.info(`Registered huddle reconnect attempt outcome - isSuccess: ${Ge}`)}traceReconnectAttempt(){var nt;this.reconnectCount+=1,(nt=this.logger)===null||nt===void 0||nt.info("Counted huddle reconnect attempt")}report(){var nt,Ge,Ot,lt,ht;(nt=this.reconnectSpan)===null||nt===void 0||nt.addTags({metric_value:this.reconnectCount}).close(),(Ge=this.reconnectSuccessSpan)===null||Ge===void 0||Ge.addTags({metric_value:this.reconnectSuccessCount}).close(),(Ot=this.reconnectFailureSpan)===null||Ot===void 0||Ot.addTags({metric_value:this.reconnectFailureCount}).close(),(lt=this.tracer)===null||lt===void 0||lt.reportSpans([this.reconnectSpan,this.reconnectSuccessSpan,this.reconnectFailureSpan]),(ht=this.logger)===null||ht===void 0||ht.info("Reported reconnect attempt metric trace")}constructor({tracer:nt,trace:Ge,logger:Ot}){this.reconnectCount=0,this.reconnectSuccessCount=0,this.reconnectFailureCount=0,this.tracer=nt,this.trace=Ge,this.logger=Ot,this.initializeHuddleReconnectTracer()}},"HuddleReconnectTracer");var u=e("OZf9"),f=e("TGBA"),d=e("yIs4");const O={SELF_SCREENSHARE:"self_screenshare",HOST_DRAW_ENABLED:"host_draw_enabled",HOST_DRAW_ACTIVE:"host_draw_active",AUDIO_ONLY:"audio_only",SELF_VIDEO_ENABLED:"self_video_enabled",PEER_VIDEO_ENABLED:"peer_video_enabled",BACKGROUND_BLUR_ENABLED:"background_blur_enabled"},m={AVERAGE_MEMORY:"average_memory",AVERAGE_CPU:"average_cpu_percent",AVERAGE_CPU_SCREENSHARE:"average_cpu_percent_when_sharing_screen",AVERAGE_CPU_DRAW_ACTIVE:"average_cpu_percent_when_host_draw_active",AVERAGE_CPU_DRAW_ENABLED:"average_cpu_percent_when_host_draw_enabled",AVERAGE_CPU_AUDIO_ONLY:"average_cpu_percent_when_audio_only",AVERAGE_CPU_SELF_VIDEO_ENABLED:"average_cpu_percent_when_self_video_enabled",AVERAGE_CPU_PEER_VIDEO_ENABLED:"average_cpu_percent_when_peer_video_enabled",AVERAGE_CPU_BACKGROUND_BLUR_ENABLED:"average_cpu_percent_when_background_blur_enabled",AVERAGE_PEERS_WITH_VIDEO_ENABLED:"average_peers_with_video_enabled",AVERAGE_BYTES_SENT_PER_SECOND:"average_bytes_sent_per_second",AVERAGE_BYTES_RECEIVED_PER_SECOND:"average_bytes_received_per_second",AVERAGE_PACKETS_LOST_PER_SECOND:"average_packets_lost_per_second",AVERAGE_JITTER:"average_jitter",PERCENT_WITH_CANVAS_VISIBLE:"percent_with_canvas_visible",PERCENT_WITH_NOISE_SUPPRESSION_ENABLED:"percent_with_noise_suppression_enabled",PERCENT_IN_WINDOW:"percent_in_window"};var g=e("f8fv"),E=e("ZGcR"),p=e("Lgge");const h=v(Qe=>Object(g.a)(Qe),"formatTag"),_=v(function(Qe){let nt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"peer_video";return Object(E.a)(Qe,(Ge,Ot)=>Ot.indexOf(nt)>-1?Ot:h(Ot))},"formatTags"),b=v(()=>new p.a(Qe=>{setTimeout(Qe,0)}),"waitForNextTick");let I=0;const{SELF_SCREENSHARE:C,HOST_DRAW_ENABLED:y,HOST_DRAW_ACTIVE:P,SELF_VIDEO_ENABLED:T,PEER_VIDEO_ENABLED:S,AUDIO_ONLY:A,BACKGROUND_BLUR_ENABLED:R}=O,{AVERAGE_MEMORY:x,AVERAGE_CPU:M,AVERAGE_CPU_SCREENSHARE:j,AVERAGE_CPU_DRAW_ACTIVE:W,AVERAGE_CPU_DRAW_ENABLED:U,AVERAGE_CPU_AUDIO_ONLY:B,AVERAGE_CPU_SELF_VIDEO_ENABLED:Y,AVERAGE_CPU_PEER_VIDEO_ENABLED:z,AVERAGE_CPU_BACKGROUND_BLUR_ENABLED:F,AVERAGE_PEERS_WITH_VIDEO_ENABLED:V,AVERAGE_BYTES_SENT_PER_SECOND:L,AVERAGE_BYTES_RECEIVED_PER_SECOND:Q,AVERAGE_PACKETS_LOST_PER_SECOND:ee,AVERAGE_JITTER:te,PERCENT_WITH_CANVAS_VISIBLE:le,PERCENT_WITH_NOISE_SUPPRESSION_ENABLED:Oe,PERCENT_IN_WINDOW:he}=m,Ee=window.navigator.hardwareConcurrency,ge={[M]:null,[j]:null,[U]:null,[W]:null,[B]:null,[x]:null,[Y]:null,[z]:null,[F]:null,[V]:0,[L]:0,[Q]:0,[ee]:0,[te]:0,[le]:0,[Oe]:0,[he]:0},J={[j]:null,[U]:null,[W]:null,[B]:null,[Y]:null,[z]:null,[F]:null},H={cpuCount:Ee,activities:[],huddlesCountSinceRefresh:I},Z=2e3;class q{isSampled(){return this.trace.isSampled()}report(){Object(u.a)(this.spans,(Ge,Ot)=>{this.finalizeSpanBeforeReporting({span:Ge,spanKey:Ot,metricValue:this.derivedStats[Ot]})});const nt=Object(f.a)(this.spans);this.tracer.reportSpans(nt),this.logger.info(`Reported ${nt.length} app CPU and memory usage spans for huddle`)}constructor({tracer:nt,trace:Ge,logger:Ot}){this.spans={},this.appMetricCount=0,this.spanDurations=J,this.derivedStats=ge,this.sharedTags=H,this.getNextAverage=lt=>{let{currentAverage:ht,newMetric:jt}=lt;return Object(d.a)(jt)?Object(d.a)(ht)?(ht*(this.appMetricCount-1)+jt)/this.appMetricCount:jt:ht},this.maybeAddToActivitiesList=lt=>{this.sharedTags.activities.includes(lt)||this.sharedTags.activities.push(lt)},this.maybeCreateSpan=lt=>(this.spans[lt]||(this.spans[lt]=this.trace.startSpan(lt)),this.spans[lt]),this.getActivitySpanToLog=lt=>lt.isHostDrawActive?P:lt.isHostDrawEnabled?y:lt.isSharingScreen?C:lt.isPeerVideoEnabled?S:lt.isSelfVideoEnabled?T:A,this.updateAverageForTotalMetric=lt=>{let{metricKey:ht,metric:jt}=lt;const _t=this.spans[ht],sn=(Date.now()-_t.getStartTimeMs())/1e3;this.derivedStats[ht]=jt/sn},this.updateAverageForMetric=lt=>{let{metricKey:ht,metric:jt}=lt;const _t=this.derivedStats[ht],sn=this.getNextAverage({currentAverage:_t,newMetric:jt});this.derivedStats[ht]=sn},this.incrementSpanDuration=lt=>{const ht=Z;this.spanDurations[lt]?this.spanDurations[lt]+=ht:this.spanDurations[lt]=ht},this.setScreenshareTrackSettings=lt=>{if(!lt)return;const{height:ht,width:jt,frameRate:_t,resizeMode:sn,aspectRatio:En}=lt,Bn={screenshareTotalPixels:ht*jt,screenshareHeight:ht,screenshareWidth:jt,screenshareFrameRate:_t,screenshareResizeMode:sn,screenshareAspectRatio:En};Object.assign(this.sharedTags,Bn)},this.recordNetworkStats=lt=>{var ht;const{totalBytesSent:jt,totalBytesReceived:_t}=lt;if(Object(d.a)(jt)&&(this.maybeCreateSpan(L),this.updateAverageForTotalMetric({metricKey:L,metric:jt})),Object(d.a)(_t)&&(this.maybeCreateSpan(Q),this.updateAverageForTotalMetric({metricKey:Q,metric:_t})),!(!((ht=lt.recv)===null||ht===void 0)&&ht[0]))return;const{packetsLost:sn,jitter:En}=lt.recv[0];Object(d.a)(sn)&&(this.maybeCreateSpan(ee),this.updateAverageForTotalMetric({metricKey:ee,metric:sn})),Object(d.a)(En)&&(this.maybeCreateSpan(te),this.updateAverageForMetric({metricKey:te,metric:En}))},this.recordAppMetrics=lt=>{const{cpuUse:ht,memoryUse:jt}=lt;if(!ht||!jt)return;const _t=lt;switch(this.appMetricCount+=1,this.getActivitySpanToLog(_t)){case C:this.maybeAddToActivitiesList(C),this.maybeCreateSpan(j),this.updateAverageForMetric({metricKey:j,metric:ht}),this.incrementSpanDuration(j);break;case y:this.maybeAddToActivitiesList(y),this.maybeCreateSpan(U),this.updateAverageForMetric({metricKey:U,metric:ht}),this.incrementSpanDuration(U);break;case P:this.maybeAddToActivitiesList(P),this.maybeCreateSpan(W),this.updateAverageForMetric({metricKey:W,metric:ht}),this.incrementSpanDuration(W);break;case S:this.maybeAddToActivitiesList(S),this.maybeCreateSpan(z),this.updateAverageForMetric({metricKey:z,metric:ht}),this.incrementSpanDuration(z);break;case R:this.maybeAddToActivitiesList(R),this.maybeCreateSpan(F),this.updateAverageForMetric({metricKey:F,metric:ht}),this.incrementSpanDuration(F);break;case T:this.maybeAddToActivitiesList(T),this.maybeCreateSpan(Y),this.updateAverageForMetric({metricKey:Y,metric:ht}),this.incrementSpanDuration(Y);break;case A:this.maybeAddToActivitiesList(A),this.maybeCreateSpan(B),this.updateAverageForMetric({metricKey:B,metric:ht}),this.incrementSpanDuration(B);break;default:}this.updateAverageForMetric({metricKey:M,metric:ht}),this.updateAverageForMetric({metricKey:x,metric:jt}),this.logger.debug("Recorded new app CPU and memory app metrics for huddle and updated derived stats")},this.getSpanCloseTimeMs=lt=>{let{span:ht,spanKey:jt}=lt;const _t=this.spanDurations[jt];if(!_t)return;const sn=ht.getStartTimeMs()+_t,En=Date.now(),Ln=sn>En?En:sn;return Ln!==En&&this.logger.debug(`Overriding close time for ${jt} with ${Ln} instead of ${En}`),Ln},this.finalizeSpanBeforeReporting=lt=>{let{span:ht,spanKey:jt,metricValue:_t}=lt;if(!ht||!Object(d.a)(_t))return;const sn=this.derivedStats[V],En=v(rs=>Object(d.a)(rs)?rs*100:0,"makePercent"),Ln=En(this.derivedStats[le]),Bn=En(this.derivedStats[he]),Wn=En(this.derivedStats[Oe]),xn={...this.sharedTags,activities:this.sharedTags.activities.join("|"),huddlesCountSinceRefresh:I,averagePeersWithVideoEnabled:sn,percentWithCanvasVisible:Ln,percentWithNoiseSuppressionEnabled:Wn,percentInWindow:Bn},Zn=this.getSpanCloseTimeMs({span:ht,spanKey:jt}),ts=_({...xn,metric_value:_t});ht.addTags(ts).close(Zn)},this.tracer=nt,this.trace=Ge,this.logger=Ot,this.spans[M]=this.trace.startSpan(M),this.spans[x]=this.trace.startSpan(x),I+=1,this.logger.info("Initialized app metrics tracer for huddle")}}v(q,"huddle_app_metrics_tracer_HuddleAppMetricsTracer");var k=q;let se=v(class{initializeHuddleNoAudioTracer(){var nt;this.noAudioSpan=(nt=this.trace)===null||nt===void 0?void 0:nt.startSpan(i.D)}incNoAudioInputCounter(){this.noAudioInputCount+=1}resetNoAudioInputCounter(){this.noAudioInputCount=0}closeHuddleNoAudioSpan(){var nt;(nt=this.noAudioSpan)===null||nt===void 0||nt.close()}report(){var nt,Ge,Ot;(nt=this.noAudioSpan)===null||nt===void 0||nt.addTags({metric_value:this.noAudioInputCount}),this.closeHuddleNoAudioSpan(),(Ge=this.tracer)===null||Ge===void 0||Ge.reportSpans([this.noAudioSpan]),this.resetNoAudioInputCounter(),(Ot=this.logger)===null||Ot===void 0||Ot.info("Reported no audio input span")}constructor({tracer:nt,trace:Ge,logger:Ot}){this.noAudioInputCount=0,this.tracer=nt,this.trace=Ge,this.logger=Ot,this.initializeHuddleNoAudioTracer()}},"HuddleNoAudioTracer"),re=v(class{addTTIMetaTags(nt){let{entryPoint:Ge,preferredMediaRegion:Ot,isPrejoin:lt,isCreate:ht}=nt;var jt;(jt=this.trace)===null||jt===void 0||jt.addTags({entry_point:Ge,preferred_media_region:Ot,is_prejoin:lt,is_create:ht,success:!1})}createFetchCredentialsSpan(){var nt;this.fetchCredentialsSpan=(nt=this.trace)===null||nt===void 0?void 0:nt.startSpan(i.b)}setCachedTag(nt){let{cached:Ge}=nt;var Ot;(Ot=this.trace)===null||Ot===void 0||Ot.addTags({cached:Ge})}closeFetchCredentialsSpan(){var nt;(nt=this.fetchCredentialsSpan)===null||nt===void 0||nt.close()}createConnectToMediaServiceSpan(){var nt;this.connectToMediaServiceSpan=(nt=this.trace)===null||nt===void 0?void 0:nt.startSpan(i.a)}closeConnectToMediaServiceSpan(){var nt,Ge,Ot,lt;(nt=this.connectToMediaServiceSpan)===null||nt===void 0||nt.close(),(Ge=this.trace)===null||Ge===void 0||Ge.addTags({success:!0}),(Ot=this.tracer)===null||Ot===void 0||Ot.reportTrace(this.trace),this.traceReported=!0,(lt=this.logger)===null||lt===void 0||lt.info("Reported TTI metric trace")}getTTITraceId(){var nt;return(nt=this.trace)===null||nt===void 0?void 0:nt.getTraceId()}getFetchCredentialsSpanId(){var nt;return(nt=this.fetchCredentialsSpan)===null||nt===void 0?void 0:nt.getId()}setMediaRegionTag(nt){var Ge,Ot;const lt=(Ge=this.trace)===null||Ge===void 0?void 0:Ge.getTags().preferred_media_region;(Ot=this.trace)===null||Ot===void 0||Ot.addTags({media_region:nt,media_region_matches:nt===lt})}report(){var nt,Ge;if(!this.traceReported){var Ot,lt;(Ot=this.tracer)===null||Ot===void 0||Ot.reportTrace(this.trace),this.traceReported=!0,(lt=this.logger)===null||lt===void 0||lt.info("Reported TTI metric trace in final clean up")}(nt=this.tracer)===null||nt===void 0||nt.clearTrace(this.trace),(Ge=this.logger)===null||Ge===void 0||Ge.info("Cleaned up TTI metric trace")}constructor({teamId:nt,logger:Ge}){this.traceReported=!1,this.tracer=Object(c.a)({teamOrEnterpriseId:nt}),this.trace=this.tracer.createTrace({traceName:i.o,samplingOptions:{sampleRate:Object(a.b)()?1:.05,sampleType:o.g.SESSION}}),this.logger=Ge}},"HuddleTTITracer");var X=e("9oTK"),w=e("bTZa");const ce=10*1e3,ie=1e3,oe=1e3,me="1.9",ue=450*450,_e=25,be=15,Ae="huddles_perf",Ce="app_metrics",De=6;let Pe=v(class{recordAppMetrics(nt){var Ge=this;return Object(X.coroutine)(function*(){const Ot=Date.now();if(Ot-Ge.lastRecordedSpanTs<Ge.reportingInterval)return;Ge.logger.debug(`Adding new ${Ae}:${Ce} span`);const ht=Ge.trace.startSpan(Ce);ht.addTags(_(nt)),ht.close(),Ge.getSpanCount()>De&&Ge.report(),Ge.lastRecordedSpanTs=Ot})()}constructor({teamId:nt,logger:Ge,callLogger:Ot,isTinySpeck:lt}){var ht=this;this.traceReported=!1,this.lastRecordedSpanTs=0,this.getMetricsCollectionInterval=()=>Object(a.b)()?ie:this.isTinyspeck?oe:ce,this.createNewTrace=()=>(this.trace=this.tracer.createTrace({traceName:Ae,tags:{__dataset:this.getDataSet()},samplingOptions:{sampleType:o.g.ALWAYS}}),this.trace),this.getDataSet=()=>{if(!Object(a.b)())return"client_metrics"},this.getSpanCount=()=>{var jt;const _t=(jt=this.trace)===null||jt===void 0?void 0:jt.getSpans();return _t?Object.keys(_t).length:0},this.report=function(){let jt=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;if(jt&&ht.callLogger.debug(`Huddle ${ht.callId} is ending. Reporting ${ht.getSpanCount()} remaining spans`),!ht.traceReported&&ht.getSpanCount()>0){var _t,sn;(_t=ht.tracer)===null||_t===void 0||_t.reportTrace(ht.trace),(sn=ht.tracer)===null||sn===void 0||sn.clearTrace(ht.trace),ht.logger.debug(`Cleared ${Ae}:${Ce} event trace`),jt?ht.traceReported=!0:ht.createNewTrace()}else ht.logger.debug(`Attempted to report ${Ae}:${Ce} trace but there was nothing to report`)},this.tracer=Object(c.a)({teamOrEnterpriseId:nt}),this.isTinyspeck=lt,this.reportingInterval=this.getMetricsCollectionInterval(),this.createNewTrace(),this.logger=Ge,this.callLogger=Ot}},"HuddlePerfTracer");const Ue=Pe;var ae=e("TSHB"),ne=e("Muja"),Ie=e("9vpw");const Te=500*1e3,Me=450*1e3,Ne=30,He=200,Et=200,Je=30,qe=v(Qe=>function(nt){for(var Ge=arguments.length,Ot=new Array(Ge>1?Ge-1:0),lt=1;lt<Ge;lt++)Ot[lt-1]=arguments[lt];if(!(typeof nt!="string"&&typeof nt!="number"))return Qe(nt,...Ot)},"makeDeduction"),ke=qe(Qe=>Qe>Je?Qe/5:void 0),rt=qe(Qe=>Qe>400?Qe/20:void 0),pe=qe((Qe,nt,Ge)=>!nt&&!Ge&&Qe<Me?(Te-Qe)/1e4:void 0),je=qe(Qe=>Qe>1?Qe*10:void 0),xe=qe(Qe=>Qe>Et?Qe/7.5:void 0),ze=qe(Qe=>Qe>1?Qe*10:void 0),st=qe(Qe=>Qe>Ne?Qe/2:void 0),ct=qe(Qe=>Qe>0?Qe*20:void 0),dt=qe(Qe=>Qe>He?Qe/7.5:void 0),bt=qe(Qe=>Qe>0?Qe*10:void 0),Ft=qe(Qe=>Qe*2),Bt=qe(Qe=>Qe&&Qe!=="udp"?40:void 0),at=qe(Qe=>Qe&&Qe>500?Qe/100:void 0),Ht=qe(Qe=>Qe>150?Qe/5:void 0),Wt=qe(Qe=>Qe>15?Qe*2:void 0),yt=qe(Qe=>Qe>5?Qe:void 0),Xt=qe(Qe=>Qe>50?Qe/5:void 0),cn=qe(Qe=>Qe>5?Qe*5:void 0),mn=qe(Qe=>!Qe||Qe==="none"?void 0:25),In=qe(Qe=>Qe>0?Qe*20:void 0),pt=qe(Qe=>Qe>1?Qe*25:void 0),Tt=qe(Qe=>{const Ge=16-Qe;if(!(Ge<=0))return Ge*2}),Lt=v(Qe=>{const{audioDownstreamQualityScore:nt,networkQualityScore:Ge,networkType:Ot,networkProtocol:lt,networkRelayProtocol:ht,networkAvailableOutgoingBitrate:jt,audioDownstreamJitterMs:_t,audioDownstreamPacketLossPercent:sn,audioDownstreamJitterBufferDelay:En,networkCurrentRoundTripTimeMs:Ln,mediaRegionSelected:Bn,mediaRegionPreferred:Wn,cpuUse:xn,cpuUseRelative:Zn,cpuCompetitionScore:ts,gpuUse:rs,batteryIsUsing:ys,selectedMicrophone:Zt,selectedCamera:Rt,selectedSpeakers:Dt,cameraIsBlocked:kt,cameraIsAvailable:wt,microphoneIsBlocked:ln,microphoneIsAvailable:nn,isMicrophoneBluetooth:vn,isSpeakerBluetooth:_n,isMicrophoneAndSpeakerOnSameDevice:Un,isHardwareAccelerationEnabled:Jn,isDisconnected:Xn,noAudioInput:Ks}=Qe;return{metrics:{stable:{mediaRegionSelected:Bn,mediaRegionPreferred:Wn,selectedMicrophone:Zt,selectedCamera:Rt,selectedSpeakers:Dt},unstable:{cpuCompetitionScore:ts,cpuUse:xn,gpuUse:rs,cpuUseRelative:Zn,audioQualityScore:nt,jitterMs:_t,audioDelayMs:En,roundTripTimeMs:Ln,packetLossPercent:sn,incomingBandwidth:jt,networkQualityScore:Ge}},warnings:{stable:{isVpnEnabled:Ot==="vpn",isSuboptimalProtocol:!!Bt(lt)||!!Bt(ht),isMediaRegionSuboptimal:!!Bn&&!!Wn&&Bn!==Wn,isUsingBatteryPower:ys,isMicrophoneBluetooth:vn,isMicrophoneAndSpeakerOnSameDevice:Un,isSpeakerBluetooth:_n,isCameraProbablyIphone:/iphone/.test(Rt.toLowerCase()),isHardwareAccelerationDisabled:Jn===!1},unstable:{isCpuUsePoor:!!Ht(xn),isCpuUseRelativePoor:!!Wt(Zn),isGpuUsePoor:!!Xt(rs),isJitterPoor:!!st(_t),isRTTPoor:!!xe(Ln),isAudioDelayPoor:!!dt(En),isPacketLossPoor:!!bt(sn)}},alerts:{stable:{isCameraBlocked:kt||!wt,isMicrophoneBlocked:ln||!nn,isMicrophoneNotSendingAudio:!!Ks,isDisconnected:Xn},unstable:{isAudioQualityPoor:nt<=3,isNetworkQualityPoor:Ge<=3,isCpuCompetitionPoor:ts<=3}}}},"getTroubleshootingMetricsFromTags");var gt=e("okoL");const it=10*1e3,ft=30*1e3,Ke=.2;class Ve{constructor(nt){this.logger=nt,this.currentStableAlerts={},this.currentAlerts={},this.updateInterval=it,this.updateIntervalIncrements=0,this.countRecentTimestamps=(Ge,Ot)=>{if(!Ge.length)return 0;const lt=Date.now(),ht=[...Ge].reverse().findIndex(jt=>lt-jt>Ot);return ht===-1?Ge.length:ht},this.maybeIncrementUpdateInterval=()=>{this.updateIntervalIncrements+=1,this.updateIntervalIncrements%3===0&&(this.updateInterval=Math.min(ft,this.updateInterval+1e3))},this.getStableAlerts=(Ge,Ot)=>{const lt={};return Object(u.a)(Ge,(ht,jt)=>{if(ht===void 0)return;const _t=this.currentAlerts[jt]||[];ht&&(_t.push(Date.now()),this.currentAlerts[jt]=Object(gt.a)(_t,30));const sn=this.countRecentTimestamps(_t,Ot.interval);lt[jt]=sn>=Ot.threshold}),lt},this.getStabilityConfig=()=>{const Ge=Math.floor(this.updateInterval/1e3*Ke);return{interval:this.updateInterval,threshold:Ge}},this.getAlertUpdates=Ge=>{let{alerts:Ot}=Ge;const lt=this.getStableAlerts(Ot,this.getStabilityConfig()),ht=!Object(ne.a)(lt,this.currentStableAlerts);if(this.maybeIncrementUpdateInterval(),ht)return this.currentStableAlerts=lt,this.logger.debug("Updated alerts and metrics will be dispatched to redux"),lt}}}v(Ve,"alert_updater_AlertUpdater");const Be=Ve,Ye="https://slack.com/help/articles/115003538426-Troubleshoot-audio-and-video-issues-in-Slack",we={isMicrophoneBluetooth:"The user is using a Bluetooth microphone, which could cause audio delays, reduce audio quality, or cause audio and video to fall out of sync. If these problems occur, suggest they switch to a wired or built-in microphone.",isCameraProbablyIphone:'The user might be unknowingly using their iPhone camera, which could lead to issues like a black screen or missing video. To prevent this, they can disable the "Continuity Camera" feature on their device. Guide them to go to Settings > Camera > Continuity and turn off the option.',isVpnEnabled:`The user is connected via a VPN, which can increase latency or cause connectivity issues if the VPN isn't optimized for video conferencing. Suggest they disable the VPN or ask their IT team to allow Slack traffic to bypass it. More details can be found here: ${Ye}`,isSuboptimalProtocol:`The user's connection protocol is TLS, not TCP, which may be due to a VPN, proxy, or firewall not configured for video conferencing. Suggest they disable their VPN or proxy, or ask their IT team to allow Slack traffic to bypass it. More details can be found here: ${Ye}`,isHardwareAccelerationDisabled:"Hardware acceleration seems to be disabled on the user's device, which could degrade performance. Suggest they re-enable hardware acceleration in their Slack preferences. They can do this by going to Preferences > Advanced > Enable hardware acceleration.",isUsingBatteryPower:"The user's device is running on battery power, which could limit device performance and cause audio, video, or application lag. If they report such issues, suggest they connect their device to a power source.",isMediaRegionSuboptimal:"The user is in a different region from the Huddle host, potentially causing increased latency and instability. This geographical disparity can't be controlled by users but network stability and connectivity can be improved. Suggest that they move closer to their Wi-Fi router, switch to a wired connection if possible, limit other bandwidth-intensive activities on their computer or network, or try connecting with a different network."},Nt={...{isNetworkQualityPoor:"The user's network quality is poor, which can cause delays or degraded audio or video, drops in connectivity, and audio/video desynchronization. Guide them through improving network stability, for instance, moving closer to their Wi-Fi router, switching to a wired connection if possible, limiting other bandwidth-intensive activities, or trying to connect with a different network.",isCpuCompetitionPoor:"The user\u2019s device is experiencing high CPU usage, causing audio or video delays, connectivity drops, or desynchronization. Suggest they close unnecessary applications, tabs, limit other CPU-intensive activities, ensure their computer has adequate airflow around it, and check if their hardware meets the recommended specifications."},...{isDisconnected:"The user is disconnected from the Huddle and can't send or receive audio or video. This might be due to network instability, incorrect configurations, hardware issues, or connectivity problems. Guide them through checking their network connection, suggest they limit other bandwidth-intensive activities, try connecting with a different network, move closer to their router, and suggest restarting the call.",isMicrophoneBlocked:"Slack can't access the user's microphone, possibly due to permission or settings issues. Verify that Slack has been granted permission to use the microphone, and ensure no other application is using it. They can check this by going to System Preferences (on macOS) or Sound settings (on Windows) and ensuring that Slack is checked.",isMicrophoneNotSendingAudio:"The user's microphone is connected, but isn't sending any audio, possibly due to another application using it, being muted, or system-level settings. Suggest they unplug and replug their device, restart Slack, limit other CPU-intensive activities, ensure their computer has adequate airflow around it, close unnecessary applications or tabs, and check for conflicting settings.",isCameraBlocked:"Slack can't access the user's camera, likely due to settings or permissions issues. Verify that Slack has permission to use their camera, and ensure no other application is using it. They can check this by going to System Preferences (on macOS) or Camera Privacy Settings (on Windows) and ensuring that Slack is checked."},...we};class Ze{constructor({callLogger:nt,logger:Ge,dispatch:Ot}){this.loggedHuddleConfigInfo=!1,this.lastProcessedTagsTs=null,this.lastProcessedStats=null,this.lastUnstableMetricsUpdateTs=0,this.lastLoggedTagsTs=Date.now(),this.logHuddleConfigInfo=lt=>{if(this.loggedHuddleConfigInfo||!this.lastProcessedTagsTs)return;const{isIA4Prod:ht,isUnifiedGrid:jt,visibleSidebarItemCount:_t,networkType:sn,networkProtocol:En,networkRelayProtocol:Ln,isHardwareAccelerationEnabled:Bn,batteryIsUsing:Wn}=lt;this.callLogger.info(`Initial Huddle Config: Network Type=${sn}; Network Protocol=${En}; Network Relay Protocol=${Ln}; IA4=${ht}; Unified Grid=${jt}; Hardware Acceleration=${Bn??"unknown (browser)"}; Using Battery Power=${Wn}; Sidebar Size=${_t};`),this.loggedHuddleConfigInfo=!0},this.logWarningAndAlertUpdates=lt=>{Object.entries(lt).forEach(ht=>{let[jt,_t]=ht;_t&&this.isRelevantWarning(jt,lt)&&Nt[jt]&&this.callLogger.warn(`\u{1F6A8} WARNING! ${Nt[jt]}`)})},this.isRelevantWarning=(lt,ht)=>lt==="isNetworkQualityPoor"||lt==="isCpuCompetitionPoor"?"isAudioQualityPoor"in ht&&!!ht.isAudioQualityPoor:!0,this.logTags=lt=>{const ht=Date.now();ht-this.lastLoggedTagsTs>10*1e3&&(this.logger.info(`Recorded ${Ae}:${Ce} event span tags`,lt),this.lastLoggedTagsTs=ht)},this.getStatsDiff=lt=>{const ht=this.lastProcessedStats;return Object(ae.a)(lt,(jt,_t)=>{var sn,En;return{stable:ht?!Object(ne.a)((sn=ht[_t])===null||sn===void 0?void 0:sn.stable,jt==null?void 0:jt.stable):null,unstable:ht?!Object(ne.a)((En=ht[_t])===null||En===void 0?void 0:En.unstable,jt==null?void 0:jt.unstable):null}})},this.maybeUpdateTroubleshootingPanel=lt=>{const ht=Date.now(),{isTroubleshootingPanelEnabled:jt}=lt,_t=Lt(lt),sn=this.getStatsDiff(_t);if(this.lastProcessedStats=_t,jt){var En,Ln,Bn,Wn,xn,Zn,ts,rs,ys;if((!((En=sn.alerts)===null||En===void 0)&&En.stable||((Ln=sn.alerts)===null||Ln===void 0?void 0:Ln.stable)===null)&&_t.alerts.stable&&(this.dispatch(Object(Ie.b)(_t.alerts.stable)),sn.alerts.stable&&this.logWarningAndAlertUpdates(_t.alerts.stable)),(!((Bn=sn.metrics)===null||Bn===void 0)&&Bn.stable||((Wn=sn.metrics)===null||Wn===void 0?void 0:Wn.stable)===null)&&_t.metrics.stable&&this.dispatch(Object(Ie.c)(_t.metrics.stable)),(!((xn=sn.warnings)===null||xn===void 0)&&xn.stable||((Zn=sn.warnings)===null||Zn===void 0?void 0:Zn.stable)===null)&&_t.warnings.stable&&(this.dispatch(Object(Ie.d)(_t.warnings.stable)),sn.warnings.stable&&this.logWarningAndAlertUpdates(_t.warnings.stable)),!((ts=_t.alerts)===null||ts===void 0)&&ts.unstable){const Zt=this.alertUpdater.getAlertUpdates({alerts:_t.alerts.unstable});Zt&&(this.dispatch(Object(Ie.f)(Zt)),this.logWarningAndAlertUpdates(Zt))}_t.metrics.unstable&&_t.warnings.unstable&&(!this.lastUnstableMetricsUpdateTs||ht-this.lastUnstableMetricsUpdateTs>1e4&&(!((rs=sn.warnings)===null||rs===void 0)&&rs.unstable||!((ys=sn.metrics)===null||ys===void 0)&&ys.unstable))&&(this.dispatch(Object(Ie.g)({metrics:_t.metrics.unstable,warnings:_t.warnings.unstable})),this.lastUnstableMetricsUpdateTs=ht)}},this.processTags=lt=>{this.maybeUpdateTroubleshootingPanel(lt),this.logHuddleConfigInfo(lt),this.logTags(lt),this.lastProcessedTagsTs=Date.now()},this.callLogger=nt,this.logger=Ge,this.dispatch=Ot,this.alertUpdater=new Ve(Ge),this.callLogger.info("huddle perf observer initialized")}}v(Ze,"observer_HuddlePerfObserver");const Xe=Ze;var Ct=Ze;const G=v(Qe=>{const{audioUpstreamAudioLevel:nt,audioUpstreamTotalAudioEnergy:Ge,audioUpstreamTotalSamplesDuration:Ot,audioDownstreamLevel:lt}=Qe;return{send:[{audioStats:{audioLevel:nt,totalAudioEnergy:Ge,totalSamplesDuration:Ot}}],recv:[{audioStats:{audioLevel:lt}}]}},"getStatsForAnomalyDetectorFromTags");var de=e("KciV"),Le=e("DKof"),Re=e("xnu4");const Fe=v(Qe=>{if(!isNaN(Qe)&&!(typeof Qe>"u"||Qe===null))return Math.round(Qe)},"getScrubbedMetricValue"),tt=v(Qe=>{let{clientMetricReport:nt,direction:Ge}=Qe;const Ot=Object.keys(nt.streamMetricReports);let lt;return Ot.forEach(ht=>{const jt=Number(ht),_t=nt.streamMetricReports[jt];_t.direction===Ge&&_t.mediaType===w.d.AUDIO&&(lt=jt)}),lt},"getAudioSsrcId"),ut=v((Qe,nt,Ge,Ot,lt)=>{const ht=Qe==null?void 0:Qe.getMetricMap(nt,Ge)[Ot];if(ht!=null&&ht.transform)return ht.transform(Ot,lt)},"getNonObservedMetric"),St=v((Qe,nt)=>{const Ge=nt?Qe.replace(nt,""):Qe;return Ge.charAt(0).toUpperCase()+Ge.slice(1)},"removeSubstringAndCapitalize");var tn;(function(Qe){Qe[Qe.UPSTREAM=0]="UPSTREAM",Qe[Qe.DOWNSTREAM=1]="DOWNSTREAM"})(tn||(tn={}));var Yt;(function(Qe){Qe[Qe.AUDIO=0]="AUDIO",Qe[Qe.VIDEO=1]="VIDEO"})(Yt||(Yt={}));const un=v(Qe=>{let{clientMetricReport:nt,selfAttendeeId:Ge}=Qe;const Ot=nt.getObservableVideoMetrics();if(!Ot||!Ge)return;let lt=0;const ht={};return Object(u.a)(Ot,(jt,_t)=>{var sn;const En=Number((sn=Object.keys(jt))===null||sn===void 0?void 0:sn[0]);if(!En)return;const Ln=jt[En];_t.endsWith("#content")&&(lt+=1,Object(u.a)(Ln,(Bn,Wn)=>{ht[Object(Re.a)(`screenshare_${h(Wn)}${lt>1?`${lt}_`:""}`)]=Fe(Bn)}),Object.assign(ht,{screenshareDownstreamVideoQpSum:ut(nt,Yt.VIDEO,tn.DOWNSTREAM,"qpSum",En),screenshareDownstreamVideoTotalDecodeTime:ut(nt,Yt.VIDEO,tn.DOWNSTREAM,"totalDecodeTime",En),screenshareDownstreamVideoHardwareDecoder:ut(nt,Yt.VIDEO,tn.DOWNSTREAM,"decoderImplementation",En)})),Ge===_t&&Ln.videoUpstreamBitrate!==0&&(Object(u.a)(Ln,(Bn,Wn)=>{ht[`self${St(Wn,"Upstream")}`]=Fe(Bn)}),Object.assign(ht,{selfVideoQpSum:ut(nt,Yt.VIDEO,tn.UPSTREAM,"qpSum",En),selfVideoTotalEncodeTime:ut(nt,Yt.VIDEO,tn.UPSTREAM,"totalEncodeTime",En),selfVideoHardwareEncoder:ut(nt,Yt.VIDEO,tn.UPSTREAM,"encoderImplementation",En)}))}),ht},"getVideoMetricTags"),$t=["nackCountReceivedPerSecond","currentRoundTripTimeMs","availableOutgoingBitrate","availableIncomingBitrate"],gn=v(Qe=>{let{clientMetricReport:nt}=Qe;const{audioDecoderLoss:Ge,audioPacketLossPercent:Ot,audioPacketsReceived:lt,audioPacketsReceivedFractionLoss:ht,audioPacketsSent:jt,audioSpeakerDelayMs:_t,audioDownstreamJitterMs:sn,videoUpstreamBitrate:En,videoPacketSentPerSecond:Ln,currentRoundTripTimeMs:Bn,availableIncomingBitrate:Wn,availableOutgoingBitrate:xn,nackCountReceivedPerSecond:Zn,audioUpstreamRoundTripTimeMs:ts,audioUpstreamJitterMs:rs}=nt.getObservableMetrics(),ys={audioDownstreamDecoderLoss:Ge,audioUpstreamPacketLossPercent:Ot,audioDownstreamPacketsReceived:lt,audioDownstreamPacketLossPercent:ht,audioDownstreamJitterMs:sn,audioUpstreamPacketsSent:jt,audioDownstreamJitterBufferDelay:_t,selfVideoBitrate:En,selfVideoPacketsSentPerSecond:Ln,audioUpstreamRoundTripTimeMs:ts,audioUpstreamJitterMs:rs,networkCurrentRoundTripTimeMs:Bn,networkAvailableIncomingBitrate:Wn,networkAvailableOutgoingBitrate:xn,networkNackCountReceivedPerSecond:Zn},Zt=Object(E.a)(ys,(nn,vn)=>$t.indexOf(vn)>-1?Object(Re.a)(`network_${vn}`):vn),Dt={networkSocketPacketsDiscardedOnSend:nt.globalMetricReport.currentMetrics.packetsDiscardedOnSend},kt=tt({clientMetricReport:nt,direction:tn.DOWNSTREAM});let wt;if(kt){const nn=ut(nt,Yt.AUDIO,tn.DOWNSTREAM,"concealedSamples",kt);wt={audioDownstreamTotalSamplesReceived:ut(nt,Yt.AUDIO,tn.DOWNSTREAM,"totalSamplesReceived",kt),audioDownstreamConcealedSamples:nn}}return Object(ae.a)({...Zt,...Dt,...wt},nn=>Fe(nn))},"getAudioMetricTags"),et=v(Qe=>{const nt={},Ge=[];let Ot;if(!Qe)return nt;Qe.forEach(ht=>{ht.type==="local-candidate"&&Ge.push(ht),ht.type==="media-source"&&ht.kind==="audio"&&(nt.audioUpstreamTotalSamplesDuration=ht.totalSamplesDuration,nt.audioUpstreamAudioLevel=ht.audioLevel,nt.audioUpstreamTotalAudioEnergy=ht.totalAudioEnergy),ht.type==="candidate-pair"&&ht.state==="succeeded"&&ht.nominated&&ht.localCandidateId&&(Ot=ht.localCandidateId),ht.type==="inbound-rtp"&&ht.kind==="audio"&&(nt.audioDownstreamLevel=ht.audioLevel)});const lt=Ge.find(ht=>ht.id===Ot);if(lt){const{networkType:ht,protocol:jt,relayProtocol:_t}=lt;nt.networkType=ht,nt.networkProtocol=jt,nt.networkRelayProtocol=_t}return nt},"getRtcStatsTags");let An;const pn=v(Qe=>{if(!Qe){An=void 0;return}const nt={};return Qe.forEach(Ge=>{const Ot=v(function(lt){let ht=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(!An)return;const jt=(Ge.timestamp-An.timestamp)/1e3,_t=Ge[lt]-An[lt];return ht?_t/jt:_t},"getNextStat");if(Ge.type==="remote-inbound-rtp"&&Ge.kind==="video"){const{fractionLost:lt,jitter:ht,roundTripTime:jt}=Ge;Object.assign(nt,{screenshareUpstreamJitter:ht*1e3,screenshareUpstreamPacketLossPercent:lt*100,screenshareUpstreamRoundTripTime:jt*1e3})}if(Ge.type==="outbound-rtp"&&Ge.kind==="video"){const{qpSum:lt,frameHeight:ht,frameWidth:jt,framesPerSecond:_t,qualityLimitationReason:sn,targetBitrate:En}=Ge;if(Object.assign(nt,{screenshareUpstreamTargetBitrate:En,screenshareUpstreamFrameWidth:jt,screenshareUpstreamFrameHeight:ht,screenshareUpstreamFramesPerSecond:_t,screenshareUpstreamQpSum:lt,screenshareUpstreamQualityLimitationReason:sn}),!An){An=Ge;return}Object.assign(nt,{screenshareUpstreamPacketsSent:Ot("packetsSent"),screenshareUpstreamPacketSendDelay:Ot("totalPacketSendDelay"),screenshareUpstreamKeyFramesEncoded:Ot("keyFramesEncoded"),screenshareUpstreamBitrate:Ot("bytesSent",!0)}),An=Ge}}),Object(ae.a)(nt,Ge=>Fe(Ge))},"getScreenshareRtcStatsTags"),Pn=v(Qe=>{let{clientMetricReport:nt,selfAttendeeId:Ge}=Qe;const Ot=un({clientMetricReport:nt,selfAttendeeId:Ge}),lt=gn({clientMetricReport:nt});return{...Ot,...lt}},"getClientMetricReportTags"),Rn={getVideoMetricTags:un,getAudioMetricTags:gn,getClientMetricReportTags:Pn,getScreenshareRtcStatsTags:pn,getRtcStatsTags:et},an=v(Qe=>{if(Qe<=0)return 1;const nt=Math.floor(Qe/20);return nt>=5?5:nt+1},"normalizeQualityScore");function Gt(Qe){return Qe.endsWith(",")?Qe.slice(0,-1):Qe}v(Gt,"trimComma");const kn=v(()=>{let Qe=100,nt="";return{deductFromScoreForReason:(Ge,Ot)=>{Ge&&(Qe-=Ge,nt+=`${Ot},`)},getScore:()=>an(Qe),getReasons:()=>Gt(nt)}},"trackScoreAndReasons"),Mn=v(Qe=>{const{deductFromScoreForReason:nt,getScore:Ge,getReasons:Ot}=kn(),{screenshareUpstreamBitrate:lt,screenshareUpstreamPacketLossPercent:ht,screenshareUpstreamJitter:jt,screenshareUpstreamRoundTripTime:_t,screenshareUpstreamFramesPerSecond:sn,screenshareUpstreamPacketSendDelay:En,screenshareUpstreamQualityLimitationReason:Ln}=Qe;if(lt)return nt(bt(ht),"screenshareUpstreamPacketLossPercent"),nt(st(jt),"screenshareUpstreamJitter"),nt(xe(_t),"screenshareUpstreamRoundTripTime"),nt(ke(En),"screenshareUpstreamPacketSendDelay"),nt(cn(be-sn),"screenshareUpstreamFramesPerSecond"),nt(mn(Ln),"screenshareUpstreamQualityLimitationReason"),{screenshareUpstreamQualityScore:Ge(),screenshareUpstreamQualityScoreReasons:Ot()}},"getScreenshareUpstreamQualityScore"),cs=v(Qe=>{const{selfVideoBitrate:nt,selfVideoPacketLossPercent:Ge,selfVideoFrameHeight:Ot,selfVideoFrameWidth:lt,selfVideoRoundTripTime:ht,selfVideoJitterMs:jt,selfVideoFramesEncodedPerSecond:_t,isBackgroundBlurActive:sn,isCustomBackgroundActive:En,isSelfVideoEnabled:Ln}=Qe;if(!Ln||!lt)return;const{deductFromScoreForReason:Bn,getScore:Wn,getReasons:xn}=kn();Bn(pe(nt,sn,En),"selfVideoBitrate"),Bn(bt(Ge),"selfVideoPacketLossPercent");const Zn=Ot*lt;return Bn(je(ue/Zn),"selfVideoFrameHeight,selfVideoFrameWidth"),Bn(st(jt),"selfVideoJitterMs"),Bn(xe(ht),"selfVideoRoundTripTime"),Bn(cn(_e-_t),"selfVideoFramesEncodedPerSecond"),{selfVideoQualityScore:Wn(),selfVideoQualityScoreReasons:xn()}},"getSelfVideoQualityScore"),Vn=v(function(Qe){let nt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;const{deductFromScoreForReason:Ge,getScore:Ot,getReasons:lt}=kn();if(nt){const{screenshareVideoDownstreamPacketLossPercent2:En,screenshareVideoDownstreamJitterMs2:Ln,screenshareVideoDownstreamDelayMs2:Bn,screenshareVideoDownstreamFrameHeight2:Wn}=Qe;return Wn?(Ge(bt(En),"screenshareVideoDownstreamPacketLossPercent2"),Ge(st(Ln),"screenshareVideoDownstreamJitterMs2"),Ge(dt(Bn),"screenshareVideoDownstreamDelayMs2"),{screenshareVideoDownstreamQualityScore2:Ot(),screenshareVideoDownstreamQualityScoreReasons2:lt()}):void 0}const{screenshareVideoDownstreamPacketLossPercent:ht,screenshareVideoDownstreamJitterMs:jt,screenshareVideoDownstreamDelayMs:_t,screenshareVideoDownstreamFrameHeight:sn}=Qe;if(sn)return Ge(bt(ht),"screenshareVideoDownstreamPacketLossPercent"),Ge(st(jt),"screenshareVideoDownstreamJitterMs"),Ge(dt(_t),"screenshareVideoDownstreamDelayMs"),{screenshareVideoDownstreamQualityScore:Ot(),screenshareVideoDownstreamQualityScoreReasons:lt()}},"getScreenshareDownstreamQualityScore"),bn=v(Qe=>{const{audioUpstreamPacketLossPercent:nt,audioUpstreamRoundTripTimeMs:Ge,audioUpstreamJitterMs:Ot}=Qe;if(!Ge)return;const{deductFromScoreForReason:lt,getScore:ht,getReasons:jt}=kn();return lt(bt(nt),"audioUpstreamPacketLossPercent"),lt(xe(Ge),"audioUpstreamRoundTripTimeMs"),lt(st(Ot),"audioUpstreamJitterMs"),{audioUpstreamQualityScore:ht(),audioUpstreamQualityScoreReasons:jt()}},"getAudioUpstreamQualityScore"),Qn=v(Qe=>{const nt={};return Qe.screenshareVideoDownstreamFrameHeight2&&Object.assign(nt,Vn(Qe,!0)),{...Vn(Qe),...nt}},"getScreenshareDownstreamQualityScores"),es=v(Qe=>{const{cpuUse:nt,gpuUse:Ge,cpuUseRelative:Ot,audioDownstreamPacketsReceived:lt,audioUpstreamPacketsSent:ht,uiRenderTimePercent:jt,computePressure:_t}=Qe,{deductFromScoreForReason:sn,getScore:En,getReasons:Ln}=kn(),Bn=Math.abs(50-ht),Wn=Math.abs(50-lt);return sn(Ft(Wn),"audioDownstreamPacketsReceived"),sn(Ft(Bn),"audioUpstreamPacketsSent"),sn(yt(jt),"uiRenderTimePercent"),sn(Ht(nt),"cpuUse"),sn(Xt(Ge),"gpuUse"),sn(Wt(Ot),"cpuUseRelative"),sn(pt(_t),"computePressure"),{cpuCompetitionScore:En(),cpuCompetitionScoreReasons:Ln()}},"getCpuCompetitionScoreTags"),ms=v(Qe=>{const{networkCurrentRoundTripTimeMs:nt,networkNackCountReceivedPerSecond:Ge,networkSocketPacketsDiscardedOnSend:Ot,networkProtocol:lt,networkRelayProtocol:ht,audioDownstreamJitterMs:jt,audioDownstreamPacketLossPercent:_t}=Qe,{deductFromScoreForReason:sn,getScore:En,getReasons:Ln}=kn();return sn(Bt(lt),"networkProtocol"),sn(Bt(ht),"networkRelayProtocol"),sn(In(Ot),"networkSocketPacketsDiscardedOnSend"),sn(xe(nt),"networkCurrentRoundTripTimeMs"),sn(st(jt),"audioDownstreamJitterMs"),sn(ze(Ge),"networkNackCountReceivedPerSecond"),sn(bt(_t),"audioDownstreamPacketLossPercent"),{networkQualityScore:En(),networkQualityScoreReasons:Ln()}},"getNetworkQualityScoreTags"),ls=v(Qe=>{const{audioDownstreamDecoderLoss:nt,audioDownstreamJitterBufferDelay:Ge,audioDownstreamPacketLossPercent:Ot}=Qe,{deductFromScoreForReason:lt,getScore:ht,getReasons:jt}=kn();return lt(ct(nt),"audioDownstreamDecoderLoss"),lt(dt(Ge),"audioDownstreamJitterBufferDelay"),lt(bt(Ot),"audioDownstreamPacketLossPercent"),{audioDownstreamQualityScore:ht(),audioDownstreamQualityScoreReasons:jt()}},"getAudioDownstreamQualityTags");var vs=v(Qe=>({...ls(Qe),...ms(Qe),...bn(Qe),...cs(Qe),...Qn(Qe),...Mn(Qe),...es(Qe),qualityScoringVersion:me}),"getQualityScoreTags");const Gn={[w.c.BluetoothDevices]:(Qe,nt)=>{let{sharedTags:Ge}=nt;Object.assign(Ge,Qe)},[w.c.MemoryLeaks]:(Qe,nt)=>{let{name:Ge,leakCount:Ot}=Qe,{sharedTags:lt}=nt;const ht=lt.memoryLeakCount;Object.assign(lt,{type:"shared",tags:{[`memoryLeaks-${Ge}`]:Ot,memoryLeakCount:ht?ht+Ot:Ot}})},[w.c.SelectedMediaRegion]:(Qe,nt)=>{let{mediaRegionSelected:Ge}=Qe,{sharedTags:Ot}=nt;const{mediaRegionPreferred:lt}=Ot;Object.assign(Ot,{mediaRegionSelected:Ge,mediaRegionMatchesPreference:lt&&Ge?lt===Ge:!0})},[w.c.PreferredMediaRegion]:(Qe,nt)=>{let{sharedTags:Ge}=nt;Object.assign(Ge,Qe)},[w.c.VoiceFocusWarning]:(Qe,nt)=>{let{transientTags:Ge}=nt;const Ot=Ge.vfWarnings||0;Object.assign(Ge,{vfWarnings:Ot+1})},[w.c.VoiceFocusConfig]:(Qe,nt)=>{let{sharedTags:Ge}=nt;Qe&&Object.assign(Ge,{vfSimdSupported:Qe.model.simd,vfModelVariant:Qe.model.variant,vfProcessor:Qe.processor,vfSupported:Qe.supported})},[w.c.NetworkDisconnect]:(Qe,nt)=>{let{peerId:Ge}=Qe,{transientTags:Ot}=nt;Ge==="self"?Object.assign(Ot,{selfDisconnectCount:(Ot.selfDisconnectCount||0)+1}):Object.assign(Ot,{peerDisconnectCount:(Ot.peerDisconnectCount||0)+1,peerDisconnectId:Ge})},[w.c.CallId]:(Qe,nt)=>{let{sharedTags:Ge}=nt;Object.assign(Ge,Qe)},[w.c.ScreenshareContentType]:(Qe,nt)=>{let{sharedTags:Ge}=nt;Object.assign(Ge,Qe)},[w.c.NoAudio]:(Qe,nt)=>{let{sharedTags:Ge}=nt;Qe.direction==="send"?Object.assign(Ge,{noAudioInput:Qe.noAudio}):Object.assign(Ge,{noAudioOutput:Qe.noAudio})}},Ps=Gn;var $s=Gn,ks=e("ZvnG");const os=Object(r.b)({label:"COMPUTE-PRESSURE"}),ps={nominal:1,fair:2,serious:3,critical:4};class bs{constructor(){this.defaultSampleRate=.5,this.pubSub=new ks.a,this.isObserving=!1,this.currentLevel=null;var nt=this;this.startObserving=Object(X.coroutine)(function*(){if(!nt.isObserving){try{var Ot;nt.isObserving=!0,yield(Ot=nt.pressureObserver)===null||Ot===void 0?void 0:Ot.observe("cpu")}catch(lt){nt.isObserving=!1,os.error("An error occurred while attempting to observe compute pressure",lt)}os.info("Observing compute pressure")}}),this.getPressureLevelFromRecord=Ot=>Ot?ps[Ot.state]:void 0,this.pressureObserverCallback=Ot=>{const lt=Ot.pop();if(!lt)return;const ht=this.getPressureLevelFromRecord(lt);ht&&(this.currentLevel=ht,ht===1?os.debug(`Compute pressure updated to ${lt.state} (${ht} of 4)`):os.warn(`Compute pressure updated to ${lt.state} (${ht} of 4)`),this.pubSub.publish(ht))};var Ge=this;this.subscribe=function(){var Ot=Object(X.coroutine)(function*(lt){Ge.pubSub.subscribe(lt),yield Ge.startObserving()});return function(lt){return Ot.apply(this,arguments)}}(),this.unsubscribe=Ot=>{if(this.pubSub.unsubscribe(Ot),!this.pubSub.subscriberCount)try{var lt;(lt=this.pressureObserver)===null||lt===void 0||lt.disconnect(),os.debug("No longer observing compute pressure.")}catch(ht){os.error("An error occurred attempted to disconnect from the compute pressure observer",ht)}},this.getCurrentLevel=()=>{if(this.currentLevel)return this.currentLevel;let Ot;try{var lt;Ot=(lt=this.pressureObserver)===null||lt===void 0?void 0:lt.takeRecords()}catch(jt){os.error("An error occurred attempting to get latest compute pressure reports",jt)}const ht=Ot?this.getPressureLevelFromRecord(Ot.pop()):void 0;return ht&&(this.currentLevel=ht),ht},os.info("Compute Pressure API is supported. Initializing pressure observer.");try{this.pressureObserver=new PressureObserver(this.pressureObserverCallback,{sampleRate:this.defaultSampleRate})}catch(Ot){os.error("An error occurred creating a new instance of the PressureObserver",Ot)}if(!this.pressureObserver){os.error("Compute pressure observer not created, though PressureObserver API should be supported");return}this.startObserving()}}v(bs,"compute_pressure_observer_ComputePressureObserver"),bs.isSupported=()=>"PressureObserver"in globalThis;let fn;const Gs=v(()=>{if(fn)return fn;if(!bs.isSupported()){os.info("Compute Pressure API is not supported.");return}try{fn=new bs}catch(Qe){os.error("An error occurred while attempting to create compute pressure observer",Qe);return}return fn},"getComputePressureObserver"),js=bs,aa=Gs;var As=Gs;let ot=0;const Qt={traceName:Ae};let en=v(class{constructor(nt){this.callLogger=nt,this.sharedTags=Qt,this.transientTags={},this.renderTimings=[],this.rtmProcessingTimings=[],this.lastAppMetricsRecordingTs=Date.now(),this.currentTags={},this.computePressure=null,this.initSharedTags=()=>{ot+=1,this.updateSharedTags({huddlesCountSinceRefresh:ot})},this.initComputePressureObserver=()=>{this.computePressureObserver=As(),this.computePressureObserver&&this.computePressureObserver.subscribe(this.updateComputePressure).then(()=>{var Ge;const Ot=(Ge=this.computePressureObserver)===null||Ge===void 0?void 0:Ge.getCurrentLevel();Ot&&(this.computePressure=Ot)})},this.updateSharedTags=Ge=>{this.sharedTags={...this.sharedTags,...Ge}},this.updateTransientTags=Ge=>{this.transientTags={...this.transientTags,...Ge}},this.updateComputePressure=Ge=>{this.computePressure=Ge,Ge>1?this.callLogger.warn(`Compute pressure updated to ${Ge} of 4. This is very likely degrading audio/video quality.`):this.callLogger.info(`Compute pressure updated to ${Ge} of 4.`)},this.updateState=(Ge,Ot)=>{if(Ge===w.c.RenderTiming)this.renderTimings.push(Ot);else if(Ge===w.c.RtmMetrics)this.rtmProcessingTimings.push(Ot);else if(Ge===w.c.AppMetrics)this.updateMetrics(Ot);else{const lt=Gn[Ge];if(!lt)return;const{sharedTags:ht,transientTags:jt}=this;lt(Ot,{sharedTags:ht,transientTags:jt})}},this.updateMetrics=Ge=>{let{huddleStateSnapshot:Ot,clientMetricReport:lt,screenshareRtcStats:ht}=Ge;const jt=lt?Pn({clientMetricReport:lt,selfAttendeeId:lt.selfAttendeeId}):{},_t=lt?et(lt.getRTCStatsReport()):{},sn=pn(ht),En={...Ot,...jt,...sn,..._t,...this.sharedTags,...this.transientTags,...this.getRtmMetricTags(),...this.getRenderTimingTags(),...this.getTimestampTags(),...this.getComputePressureTags()};this.currentTags={...En,...vs(En)},this.clearTransientTags(),this.lastAppMetricsRecordingTs=Date.now()},this.getCurrentTags=()=>({...this.currentTags}),this.clearTransientTags=()=>{this.transientTags={}},this.getTimestampTags=()=>{const{huddleStartTimestamp:Ge}=this.currentTags;return Ge?{secondsSinceJoining:Math.floor((Date.now()-Ge)/1e3)}:{}},this.getRtmMetricTags=()=>{const Ge=Date.now()-this.lastAppMetricsRecordingTs,Ot=Object(Le.a)(this.rtmProcessingTimings);return!Ot||!Ge?{rtmProcessingTimeMs:0,rtmProcessingTimePercent:0}:(this.rtmProcessingTimings=[],{rtmProcessingTimeMs:Ot,rtmProcessingTimePercent:Number((Ot/Ge*100).toFixed(1))})},this.getComputePressureTags=()=>({computePressure:this.computePressure}),this.getRenderTimingTags=()=>{const Ge=Date.now()-this.lastAppMetricsRecordingTs,Ot=Object(Le.a)(this.renderTimings);return!Ot||!Ge?{uiRenderTimePercent:0,uiRenderTimeMs:0}:(this.renderTimings=[],{uiRenderTimePercent:Number((Ot/Ge*100).toFixed(1)),uiRenderTimeMs:Ot})},this.cleanup=()=>{var Ge;(Ge=this.computePressureObserver)===null||Ge===void 0||Ge.unsubscribe(this.updateComputePressure),delete this.computePressureObserver},this.initSharedTags(),this.initComputePressureObserver()}},"HuddlePerfStateInternal");const vt=en;var At=en,qt=e("i5QK"),Vt=e("Pv5J");let Ut=v(class{constructor({teamId:nt,logger:Ge,isTinySpeck:Ot,dispatch:lt}){this.isRecordingNextMetrics=!1,this.errorReported=!1,this.reportUpdate=jt=>{let{type:_t,update:sn}=jt;_t===w.c.AppMetrics?this.recordAppMetrics(sn):this.huddlePerfState.updateState(_t,sn)};var ht=this;this.recordAppMetrics=function(){var jt=Object(X.coroutine)(function*(_t){if(ht.isRecordingNextMetrics){ht.callLogger.warn("App metrics recording is backed up. Skipping incoming recording");return}ht.isRecordingNextMetrics=!0,yield b(),ht.huddlePerfState.updateMetrics(_t);const sn=ht.huddlePerfState.getCurrentTags();ht.runAnomalyDetectorOnNextTags(sn),ht.huddlePerfTrace.recordAppMetrics(sn);try{ht.huddlePerfObserver.processTags(sn)}catch(En){ht.errorReported||(ht.callLogger.error("An error occurred while processing tags",En),ht.errorReported=!0)}ht.isRecordingNextMetrics=!1});return function(_t){return jt.apply(this,arguments)}}(),this.runAnomalyDetectorOnNextTags=jt=>{try{Vt.a.run(G(jt))}catch(_t){this.callLogger.error("An error occurred while running the anomaly detector",_t)}},this.report=jt=>{this.huddlePerfTrace.report(jt),Vt.a.cleanup(),qt.a.unsubscribe(this.reportUpdate),this.huddlePerfState.cleanup()},this.callLogger=Object(de.c)("HUDDLES-PERF"),this.huddlePerfTrace=new Pe({teamId:nt,logger:Ge,callLogger:this.callLogger,isTinySpeck:Ot}),this.huddlePerfObserver=new Ct({logger:Ge,callLogger:this.callLogger,dispatch:lt}),this.huddlePerfState=new At(this.callLogger),qt.a.subscribe(this.reportUpdate)}},"HuddlePerfManager");const on=Ut;var rn=Ut,Cn=e("lhZz");const dn="HUDDLE-TRACE-MANAGER",yn=Object(r.b)({label:dn});let Hn=v(class{initializeTraces(nt){let{teamId:Ge,isTinySpeck:Ot}=nt;const lt=Object(Cn.getStoreInstanceByTeamId)(Ge);this.teamId=Ge,this.tracer=Object(c.a)({teamOrEnterpriseId:this.teamId}),this.trace=this.tracer.createTrace({traceName:i.g,samplingOptions:{sampleRate:Object(a.b)()||Ot?1:.05,sampleType:o.g.SESSION},tags:{__dataset:"client_metrics"}}),this.reconnectTrace=new l({tracer:this.tracer,trace:this.trace,logger:yn}),this.ttiTrace=new re({teamId:this.teamId,logger:yn}),Object(t.i)()&&(this.appMetricsTrace=new k({tracer:this.tracer,trace:this.trace,logger:yn})),this.huddlePerfTraceManager=new rn({teamId:this.teamId,logger:yn,isTinySpeck:Ot,dispatch:lt.dispatch}),this.noAudioInputTrace=new se({tracer:this.tracer,trace:this.trace,logger:yn})}setCallId(nt){var Ge;this.callId=nt,(Ge=this.trace)===null||Ge===void 0||Ge.addTags({callId:this.callId}),nt&&qt.a.publish({type:w.c.CallId,update:{callId:nt}})}getAllTraceHandlers(){return{reconnectTrace:this.reconnectTrace,appMetricsTrace:this.appMetricsTrace,noAudioInputTrace:this.noAudioInputTrace,ttiTrace:this.ttiTrace,huddlePerfTraceManager:this.huddlePerfTraceManager}}cleanup(){var nt,Ge,Ot,lt,ht,jt,_t;(nt=this.reconnectTrace)===null||nt===void 0||nt.report(),(Ge=this.appMetricsTrace)===null||Ge===void 0||Ge.report(),(Ot=this.noAudioInputTrace)===null||Ot===void 0||Ot.report(),(lt=this.ttiTrace)===null||lt===void 0||lt.report(),(ht=this.huddlePerfTraceManager)===null||ht===void 0||ht.report(!0),(jt=this.tracer)===null||jt===void 0||jt.reportTrace(this.trace),(_t=this.tracer)===null||_t===void 0||_t.clearTrace(this.trace),yn.info("Reported and cleared huddle parent trace"),delete this.reconnectTrace,delete this.appMetricsTrace,delete this.noAudioInputTrace,delete this.ttiTrace,delete this.huddlePerfTraceManager,this.callId=null}constructor(){yn.info("Huddle Trace Manager created")}},"HuddleTraceManager");const jn=Object(s.a)(()=>new Hn);var hn=n.a=jn},EDdb:function(K,n,e){"use strict";e.d(n,"a",function(){return t});var s=e("kBpe");const t=Object(s.i)()||window.Notification||window.webkitNotifications},EIVZ:function(K,n,e){K.exports=e.p+"slack_logo_mark-01b46d3.svg"},EQgQ:function(K,n,e){"use strict";e.d(n,"a",function(){return c}),e.d(n,"b",function(){return i}),e.d(n,"c",function(){return u});var s=e("owWc"),t=e("S4vl");const a=window.AudioContext||window.webkitAudioContext,r=window.AnalyserNode,c=6;function o(f){let d=1;for(;d*2<f;)d*=2;return d}v(o,"getPowerof2LessThan");function i(f){let O=.01;for(const g of f)O=Math.max(O,(g-128)/128);const m=(Math.log(.01)-Math.log(O))/Math.log(.01);return Math.min(Math.max(m,0),1)}v(i,"computeStrength");function l(f){return Object(s.a)(f,(d,O)=>{const m=O.getSettings().sampleRate;return m!==void 0&&d!==void 0?Math.max(d,m):m},void 0)}v(l,"getMaxTrackSampleRate");let u=v(class{getLevel(){var d;return(d=this.analyserNode)===null||d===void 0||d.getByteTimeDomainData(this.data),i(this.data)/c}stop(){var d;if(this.analyserNode){var O;(O=this.audioNode)===null||O===void 0||O.disconnect(this.analyserNode)}delete this.audioNode,this.audioNode=void 0,delete this.analyserNode,this.analyserNode=void 0,(d=this.audioCtx)===null||d===void 0||d.close(),delete this.audioCtx,this.audioCtx=void 0}constructor(d,O){Object(t.b)(O>=0,"Level poll interval must be positive"),this.audioCtx=new a;const m=d.getAudioTracks();Object(t.b)(!!m.length,"Need audio tracks to run analyser");const E=(l(m)||48e3)*O/1e3,p=Math.max(32,Math.min(32768,o(E)));this.data=new Uint8Array(p),this.analyserNode=this.audioCtx.createAnalyser(),this.analyserNode.fftSize=p,this.audioNode=this.audioCtx.createMediaStreamSource(d),this.audioNode.connect(this.analyserNode)}},"AudioAnalyser")},EbWb:function(K,n,e){"use strict";var s=e("Kyco"),t=e("mkcb"),a=e("2VFn");const r={[a.c]:{isFocused:void 0,isUnloading:!1,timeCreation:0,timeLastBlurEvent:0,timeLastFocusEvent:0}},c=Object(s.b)({},r,{storeKey:"window",persistenceEnabled:!1}).on(t.c,(o,i)=>{let{windowId:l=a.c,...u}=i;if(!o[l])return o;const f={[a.c]:{...o[a.c]}};return f[l]={...o[l],...u},Reflect.ownKeys(o).forEach(d=>{d!==l&&u.isFocused&&(f[d]={...o[d],isFocused:!1})}),{...o,...f}}).on(t.e,(o,i)=>{let{windowId:l=a.c,...u}=i;return o[l]?{...o,[l]:{...o[l],isUnloading:u.isUnloading}}:o}).on(t.f,(o,i)=>{let{windowId:l=a.c,...u}=i;return{...o,[l]:{...o[l],...u}}}).on(t.d,(o,i)=>{let{windowId:l=a.c,...u}=i;return o[l]?{...o,[l]:{...o[l],bootType:u.bootType}}:o}).on(t.a,(o,i)=>{let{windowId:l}=i;if(l===a.c||!o[l])return o;const u={...o};return delete u[l],u}).on(t.b,(o,i)=>{let{windowId:l,viewport:u}=i;return o[l]?{...o,[l]:{...o[l],viewport:u}}:o});n.a=c},Efzj:function(K,n,e){"use strict";var s=e("q1tI"),t=e.n(s),a=e("iuhU"),r=e("i7LB"),c=e("gz6s"),o=e("FRd1"),i=e("ktUG"),l=e("sBXg"),u=e("KETS");function f(){return f=Object.assign||function(m){for(var g=1;g<arguments.length;g++){var E=arguments[g];for(var p in E)Object.prototype.hasOwnProperty.call(E,p)&&(m[p]=E[p])}return m},f.apply(this,arguments)}v(f,"_extends");const d={onClick:{action:i.UiAction.CLICK}},O=t.a.forwardRef(v(function(g,E){let{autoClogProps:p,className:h,href:_,invert:b=!1,children:I,hasKeyboardFocus:C=!1,...y}=g;const P=Object(a.default)("c-link",{"c-link--focus-visible":C,"c-link--invert":b},h),T=y.target==="_blank"||(_==null?void 0:_.startsWith("mailto:")),S=t.a.createElement("a",f({},Object(r.a)(y),{className:P,href:_,ref:E}),I,T&&t.a.createElement(l.a,null));return p?t.a.createElement(o.a,{autoClogProps:p,actionProps:d,elementType:i.ElementType.LINK},S):S},"BaseLink"));O.displayName="BaseLink",n.a=Object(c.a)(O)},Eh7F:function(K,n,e){"use strict";e.d(n,"b",function(){return s}),e.d(n,"a",function(){return t}),e.d(n,"c",function(){return a});var s;(function(r){r.BROADCAST="broadcast",r.QUERY="query",r.CLOSE="close"})(s||(s={}));var t;(function(r){r.CONTENTVIEW="contentView",r.STICKYEMOJI="stickyEmoji",r.ACTIVE_CELL="activeCell",r.HUDDLE_ACTIVE_SONG="huddleActiveSong",r.STEPS="steps"})(t||(t={}));const a=60*1e3},Eoji:function(K,n,e){"use strict";e.d(n,"a",function(){return h});var s=e("q1tI"),t=e.n(s),a=e("iuhU"),r=e("7EGn"),c=e("ifKl"),o=e("WIr4"),i=e("jWAO"),l=e("gZuW"),u=e("A7BO"),f=e("9ADk"),d=e("/DoU"),O=e("MYuU"),m=e("FRd1"),g=e("ktUG");function E(){return E=Object.assign||function(_){for(var b=1;b<arguments.length;b++){var I=arguments[b];for(var C in I)Object.prototype.hasOwnProperty.call(I,C)&&(_[C]=I[C])}return _},E.apply(this,arguments)}v(E,"_extends");const p={onChange:{action:g.UiAction.ENTER_TEXT}};let h=v(class extends s.PureComponent{componentDidMount(){if(this.getTextStyle(),this.props.focusOnMount){var b;(b=this.input.current)===null||b===void 0||b.focus()}if(this.props.maxCharacterLimit){const I=this.props.value.length>this.props.maxCharacterLimit;this.setState(()=>({inputLengthIsTooLong:I}))}}UNSAFE_componentWillReceiveProps(b){b.maxCharacterLimit&&b.value!==this.props.value&&this.setInputLengthTooLong(b.value.length>b.maxCharacterLimit),b.minCharacterLimit&&b.value!==this.props.value&&this.setInputLengthTooShort(b.value.length<b.minCharacterLimit),!b.isRequired&&b.value.length===0&&this.setInputLengthTooShort(!1)}componentDidUpdate(b,I){if((this.props.value!==b.value||this.state.isFocused!==I.isFocused)&&this.getTextStyle(),this.props.focusOnMount&&b.focusOnMount!==this.props.focusOnMount&&!this.state.isFocused){var C;(C=this.input.current)===null||C===void 0||C.focus()}}onBlur(){const{onBlur:b}=this.props;this.setFocus(!1),b&&b()}onFocus(){const{onFocus:b}=this.props;this.setFocus(!0),b&&b()}getTextStyle(){var b;const{maxCharacterLimit:I}=this.props;if(!I){this.setTextStyle({});return}const y={paddingRight:(b=this.characterCount)===null||b===void 0?void 0:b.getCharacterCountWidth()};this.setTextStyle(y)}setCharacterCountRef(b){this.characterCount=b}setFocus(b){this.setState(()=>({isFocused:b}))}setInputLengthTooLong(b){this.setState(()=>({inputLengthIsTooLong:b}))}setInputLengthTooShort(b){this.setState(()=>({inputLengthIsTooShort:b}))}setInputRef(b){this.input=b}setTextStyle(b){this.setState(()=>({textStyle:b}))}blur(){this.input.current&&this.input.current.blur()}focus(){this.input.current&&this.input.current.focus()}renderDeprecatedErrorMaybe(){const{showError:b,errorLevel:I,errorText:C,errorType:y,isRequired:P,maxCharacterLimit:T,minCharacterLimit:S,value:A}=this.props;return b?C?t.a.createElement(i.d,{id:this.state.errorId,level:I,type:y,className:"margin_bottom_100"},C):!P&&A.length===0?null:T&&this.state.inputLengthIsTooLong?t.a.createElement(i.d,{id:this.state.errorId,level:i.b.error,type:y,className:"margin_bottom_100"},Object(O.b)(T)):S&&this.state.inputLengthIsTooShort&&!this.state.isFocused?t.a.createElement(i.d,{id:this.state.errorId,level:i.b.error,type:y,className:"margin_bottom_100"},Object(O.c)(S)):null:null}renderErrorMaybe(){const{showError:b,errorText:I,isRequired:C,maxCharacterLimit:y,minCharacterLimit:P,value:T}=this.props;return b?I?t.a.createElement(l.a,{"data-qa":"form-text-area-inline-alert",id:this.state.errorId},I):!C&&T.length===0?null:y&&this.state.inputLengthIsTooLong?t.a.createElement(l.a,{id:this.state.errorId,"data-qa":"form-text-area-max-char-alert"},Object(O.b)(y)):P&&this.state.inputLengthIsTooShort&&!this.state.isFocused?t.a.createElement(l.a,{id:this.state.errorId,"data-qa":"form-text-area-min-char-alert"},Object(O.c)(P)):null:null}renderHintMaybe(){const{hintText:b}=this.props;return b?t.a.createElement(f.a,{id:this.state.hintId},b):null}renderTextArea(){const{className:b,showError:I,errorId:C,errorLevel:y,errorText:P,errorType:T,hintId:S,hintText:A,useInlineAlert:R,id:x,isRequired:M,isInvalid:j,labelId:W,name:U,onChange:B,onFocus:Y,onBlur:z,maxCharacterLimit:F,minCharacterLimit:V,focusOnMount:L,autoClogProps:Q,ariaDescribedById:ee,inputRef:te,...le}=this.props,{inputLengthIsTooShort:Oe,inputLengthIsTooLong:he,textStyle:Ee}=this.state,ge=!!P||he&&!!F||Oe&&!!V||j,J=Object(a.default)({[`c-input_textarea--with_${y}`]:ge,"c-input_textarea--with_hint":A,"c-input_textarea--with_character_count":!!F,"c-input_text--with_inline_alert":R},b),H=Object(O.e)([W,ge?this.state.errorId:void 0]),Z=Object(O.e)([ee,this.state.hintId,this.characterCounterId]),q=t.a.createElement(u.b,E({},le,{ref:this.setInputRef,style:Ee,ariaDescribedby:Z,isInvalid:ge,ariaLabelledby:H,ariaRequired:M,className:J,id:x,"data-qa":le["data-qa"]||x,name:U,onChange:B,onFocus:this.onFocus,onBlur:this.onBlur}));return Q?t.a.createElement(m.a,{autoClogProps:Q,actionProps:p,elementType:g.ElementType.TEXTAREA},q):q}renderWrappedTextareaMaybe(){const{value:b,maxCharacterLimit:I,size:C,isDisabled:y}=this.props;let P=this.renderTextArea();return I&&(P=t.a.createElement(d.a,{id:this.characterCounterId,ref:this.setCharacterCountRef,currentCount:b==null?void 0:b.length,isDisabled:y,maxCharacterLimit:I,type:"multiline",size:C},P)),P}render(){const b=this.props.useInlineAlert?this.renderErrorMaybe():this.renderDeprecatedErrorMaybe();return t.a.createElement("div",{"data-qa-formtextarea":!0,className:"c-input_textarea__wrapper"},this.renderWrappedTextareaMaybe(),b,this.renderHintMaybe())}constructor(b){super(b);const{id:I}=this.props;Object(o.a)(this,["onFocus","onBlur","setInputRef","setCharacterCountRef"]),this.state={errorId:Object(r.a)(this.props,"errorId",Object(O.a)(I,"error")),hintId:Object(r.a)(this.props,"hintId",Object(O.a)(I,"hint")),inputLengthIsTooLong:!1,inputLengthIsTooShort:!1,isFocused:!1,textStyle:{}},this.props.maxCharacterLimit&&(this.characterCounterId=Object(O.a)(I,"character-count")),this.input=t.a.createRef()}},"FormTextareaInput");h.displayName="FormTextareaInput",h.defaultProps={className:null,showError:!0,errorId:void 0,errorLevel:i.b.error,errorText:null,errorType:i.c.nestedBox,useInlineAlert:!1,hintText:null,hintId:void 0,isDisabled:!1,isRequired:!1,isInvalid:!1,labelId:null,onChange:c.a,onFocus:c.a,onBlur:c.a,placeholder:void 0,size:u.a.medium,value:"",maxCharacterLimit:null,minCharacterLimit:null,focusOnMount:!1,autoClogProps:void 0,type:void 0,ariaDescribedById:void 0,role:void 0,inputRef:void 0}},Erbp:function(K,n,e){"use strict";e.d(n,"b",function(){return a});var s=e("Lgge");let t;const a=v(r=>{t=r},"setWaitForStartStop");n.a=()=>t?t():s.a.resolve()},Erf5:function(K,n,e){"use strict";e.d(n,"a",function(){return a});var s=e("Kyco"),t=e("1Mwh");const a=1,r={tiles:{},layout:[],activeTile:null,minimizedLayout:[],dockedViewToRestore:null},c=Object(s.b)({},r,{storeKey:"tiles",persistenceEnabled:!1}).on(t.i,(o,i)=>{let{tiles:l}=i;return{...o,tiles:l}}).on(t.e,(o,i)=>{let{key:l,layout:u,tiles:f}=i;return{...o,activeTile:l,tiles:f,layout:u}}).on(t.a,(o,i)=>{let{activeTileKey:l,layout:u,tiles:f}=i;return{...o,activeTile:l,layout:u,tiles:f}}).on(t.b,(o,i)=>{let{activeTileKey:l,layout:u,minimizedLayout:f,tiles:d}=i;return{...o,activeTile:l,minimizedLayout:f,layout:u,tiles:d}}).on(t.g,(o,i)=>({...o,activeTile:i})).on(t.h,(o,i)=>({...o,dockedViewToRestore:i})).on(t.f,(o,i)=>{let{tilesState:l}=i;return{...o,...l}}).on(t.d,(o,i)=>{let{activeTileKey:l,layout:u,tiles:f,minimizedLayout:d}=i;return{...o,activeTile:l,layout:u,minimizedLayout:d,tiles:f}}).on(t.c,(o,i)=>{let{activeTileKey:l,layout:u,tiles:f,minimizedLayout:d}=i;return{...o,activeTile:l,layout:u,minimizedLayout:d,tiles:f}});n.b=c},Evpj:function(K,n,e){"use strict";e.d(n,"a",function(){return r});var s=e("oTSI"),t=e("kBpe"),a=e("EDdb");const r=Object(s.a)(()=>Object(t.i)()||!a.a?"na":window.Notification?window.Notification.permission:"na")},EzMJ:function(K,n,e){"use strict";e.d(n,"a",function(){return s}),e.d(n,"b",function(){return t});const s=v(r=>(r||"").split(/\s+/)[0],"getFirstWord"),t=v(r=>["/","\uFF0F"].includes((r||"").charAt(0))?r:`/${r}`,"prependSlashToStr"),a=v(r=>((r||"").split(/[^\S\n\r]+/g)||[]).length>1,"strHasSpace")},F0YV:function(K,n,e){"use strict";var s=e("0i82");e.d(n,"a",function(){return s.a}),n.b=s.b},"F0b/":function(K,n,e){"use strict";e.d(n,"a",function(){return t});var s=e("d/xU");function t(){return`https://${Object(s.n)()}`}v(t,"getSlackRootUrl")},F5gv:function(K,n,e){"use strict";e.d(n,"a",function(){return a});var s=e("6inW"),t=e("DuRM");const a=v(r=>{var c;const o=Object(s.a)(r);return(c=Object(t.c)(o))===null||c===void 0?void 0:c.childWindowRef},"getHuddleChildWindow")},FFTZ:function(K,n,e){"use strict";e.d(n,"a",function(){return u});var s=e("ANjH"),t=e("ykb+"),a=e("QOYf"),r=e("M9qL");const c=v(f=>{switch(f.type){case r.a.getType():return{...f,payload:"Channel bulk add payload is too big to output to redux devtools"};default:return f}},"actionSanitizer"),o=Object(a.a)()?void 0:()=>({apologies:"Serializing our large state kept crashing redux devtools. I hope to bring it back someday, but for now you can see the state by using `TS.redux.getState()` in the console"});var l={autoPause:!0,actionSanitizer:c,stateSanitizer:o,maxAge:1e3,features:{pause:!0}};function u(f){let{teamOrEnterpriseId:d,appName:O="",customEnhancers:m,middlewares:g,disableDevTools:E}=f;return(window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__&&!E&&(Object(t.b)()||Object(t.c)())?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__({...l,name:["Slack",d,O].filter(_=>_&&_.length>0).join("-")}):s.d)(Object(s.a)(...g??[]),...m??[])}v(u,"configureEnhancers")},FN5i:function(K,n,e){"use strict"},FSos:function(K,n,e){"use strict";e.d(n,"d",function(){return h}),e.d(n,"a",function(){return _}),e.d(n,"c",function(){return b}),e.d(n,"b",function(){return I});var s=e("n3tL"),t=e("UXvI"),a=e("SQ0V"),r=e("PqaZ"),c=e("s4P+"),o=e("O86Y"),i=e("Z7Ay"),l=e("jKkg"),u=e("6TBL"),f=e("n0Pp"),d=e("8lFY");const O="PRESENCE-MANAGER",m={},g=v((P,T)=>{const S=Object(o.g)(T()),A=Object.keys(m[S]),R={type:"presence_sub",ids:A},x=Object(c.a)({getState:T});x.debug(O,`Sending a 'presence_sub' event with the following ids: ${A}`),P(Object(r.h)(R)).catch(M=>{M&&M.message===u.c||x.error(`Received an error while trying to send 'presence_sub' with the following ids: ${A}, error = ${M}`)})},"sendMessageEvent");let E;function p(){return E||(E=Object(t.a)(g,100,{leading:!1})),E}v(p,"getThrottledSendMessageEvent");const h=Object(a.c)("Send a presence_sub event with the list of members we want to subscribe to receive presence_change events for",(P,T)=>{if(!Object(f.f)(T())){Object(c.a)({getState:T}).debug(O,"The presence subscription changed while the WebSocket disconnected; will send the updated subscription once we are connected");return}p()(P,T)});h.meta={name:"createThunk",key:"createThunksendPresenceSubEvent",description:"Send a presence_sub event with the list of members we want to subscribe to receive presence_change events for"};const _=Object(a.c)("Adds the member to the presence subscription or increments the associated count",function(P,T){let{memberId:S}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(!S||S==="USLACKBOT")return;const A=T(),R=Object(o.g)(T());if(m[R]||(m[R]={}),m[R][S]){Object(c.a)({getState:T}).debug(O,`Increasing the count for ${S} by 1`),m[R][S]+=1;return}Object(c.a)({getState:T}).debug(O,`Adding ${S} to the presence subscription`),m[R][S]=1,P(h()),Object(d.a)(A)||Object(l.c)(P)});_.meta={name:"createThunk",key:"createThunkaddMemberToPresenceSubscription",description:"Adds the member to the presence subscription or increments the associated count"},_.propTypes={memberId:s.default.string.isRequired};const b=Object(a.c)("Removes the member from the presence subscription or decrements the associated count",function(P,T){let{memberId:S}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(!S)return;const A=Object(o.g)(T());if(!(!m[A]||!m[A][S])){if(m[A][S]>1){Object(c.a)({getState:T}).debug(O,`Decreasing the count for ${S} by 1`),m[A][S]-=1;return}Object(c.a)({getState:T}).debug(O,`Removing ${S} from the presence subscription`),delete m[A][S],P(h())}});b.meta={name:"createThunk",key:"createThunkremoveMemberFromPresenceSubscription",description:"Removes the member from the presence subscription or decrements the associated count"},b.propTypes={memberId:s.default.string.isRequired};const I=v(P=>m[P],"getPresenceSubscriptionByTeamId"),C=v(P=>{delete m[P]},"deletePresenceSubscriptionByTeamId"),y={sendMessageEvent:g};Object(i.a)("presenceManager",{getPresenceSubscriptionByTeamId:I})},FSsA:function(K,n,e){"use strict";e.d(n,"a",function(){return o}),e.d(n,"b",function(){return i});var s=e("E97Y"),t=e("ISSR"),a=e("Yauy"),r=e("NK7x"),c=e("+QlI");function o(l,u){return!u||Object(r.b)(l,u.id)?!1:Object(s.g)(u)?!0:!(Object(t.a)(u)||!Object(a.db)(u)||!Object(c.b)(l,u)||Object(a.X)(u))}v(o,"shouldCountUnreadsInModel");function i(l,u){return Object(s.g)(u)||Object(s.i)(u)&&!Object(r.b)(l,u.id)}v(i,"useUnreadCountAsMentionCount")},FXSi:function(K,n,e){"use strict";var s=e("q1tI"),t=e.n(s);const a=t.a.createContext(null);n.a=a},FZZA:function(K,n,e){"use strict";e.d(n,"c",function(){return o}),e.d(n,"b",function(){return i});var s=e("SQ0V"),t=e("lhZz"),a=e("oBB2"),r=e("+CZ0");const c=Object(s.c)("End huddle for channelId if any",(l,u,f)=>{const d=Object(t.getStateForClientStore)(),O=Object(r.b)(d);O&&O===f&&l(Object(a.a)())});c.meta={name:"createThunk",key:"createThunkmaybeEndHuddle",description:"End huddle for channelId if any"};const o=Object(s.c)("End last active huddle for channelId if any",(l,u,f)=>{var d;const O=Object(t.getStateForClientStore)(),m=(d=Object(r.p)(O))===null||d===void 0?void 0:d.channelId;m&&m===f&&l(Object(a.a)())});o.meta={name:"createThunk",key:"createThunkmaybeEndLastActiveHuddleByChannelId",description:"End last active huddle for channelId if any"};const i=Object(s.c)("End huddle for call Id and channelId if any",(l,u,f)=>{let{channelId:d,callId:O}=f;const m=Object(t.getStateForClientStore)(),{channelId:g,callId:E}=Object(r.p)(m)||{};g&&g===d&&E===O&&l(Object(a.a)())});i.meta={name:"createThunk",key:"createThunkmaybeEndHuddleByChannelAndCallId",description:"End huddle for call Id and channelId if any"},n.a=c},Fbsn:function(K,n,e){"use strict";e.d(n,"a",function(){return _});var s=e("Olm7"),t=e("lCmp"),a=e("9ndk"),r=e("HKE1"),c=e("rtjy"),o=e("ISSR"),i=e("Yauy"),l=e("E97Y"),u=e("E3dU"),f=e("G0eX"),d=e("C3vN"),O=e("xwCZ"),m=e("9Gfp"),g=e("Pw4T"),E=e("4qCO"),p=e("IeI6");const h={starredChannel:10,memberOfThisChannel:25,archivedChannel:-50,deactivatedMember:-50,mpimWithDeactivatedMember:-50,channelFromAnotherTeam:-15,notInChannel:-25,userGroupOrKeyword:-25,fuzzyMatch:50,emojiMatch:150,exactMatch:100,matchesPreviousName:-50,workflowAssociatedWithChannel:250};let _=v(class{sort(I,C){const y=Object(g.d)({state:I});y.mark("modern-searcher-sorting-mark");const{members:P,channels:T,mpims:S,ims:A,teams:R,userGroups:x,emoji:M,broadcastKeywords:j,views:W,modals:U,appActions:B,channelSections:Y,emails:z,files:F,links:V,lists:L,listRecords:Q,slashCommands:ee,slackGlobalActions:te,channelActions:le,fakeGlobalActions:Oe,callActions:he,apps:Ee,helpArticles:ge,workflowTriggers:J}=C,H={memberChannels:[],nonmemberChannels:[],archivedChannels:[]};T&&T.reduce((X,w)=>Object(o.a)(w.item)?(X.archivedChannels.push(w),X):(Object(i.db)(w.item)?X.memberChannels.push(w):X.nonmemberChannels.push(w),X),H);let Z=[...P||[],...H.memberChannels,...S||[],...A||[],...M||[],...x||[],...j||[],...W||[],...U||[],...B||[],...Y||[],...z||[],...F||[],...V||[],...L||[],...Q||[],...he||[],...le||[],...Oe||[],...Ee||[],...ge||[],...J||[]],q=[...H.nonmemberChannels,...R||[],...ee||[],...te||[]],k=H.archivedChannels;const se=this.getSortFuzzyFunction(I,{localeAware:!0});this.options.flat||(Z=this.precomputeMatchNames(I,Z).sort(se),q=this.precomputeMatchNames(I,q).sort(se),k=this.precomputeMatchNames(I,k).sort(se));let re=[...Z,...q,...k];return this.options.flat&&re.sort(se),this.options.preferExactMatch&&(re=[...Object(s.a)(re,w=>w.isExactMatch),...re]),this.options.frecency&&(this.options.normalize=!0,y.mark("modern-searcher-frecency-sort-mark"),this.options.modelOnly?re=Object(c.i)(I,{query:this.query,list:re,bonusPoints:this.getFrecencyBonusPointsFunction(I,this.options)}):re=Object(c.j)(I,{query:this.query,list:re,bonusPoints:this.getFrecencyBonusPointsFunction(I,this.options)}),y.measureAndClear("modern-searcher-frecency-sort-mark","modern-searcher-frecency-sort")),y.measureAndClear("modern-searcher-sorting-mark","modern-searcher-sorting"),re}precomputeMatchNames(I,C){return C.map(y=>({...y,name:this.getNameForComparison(I,y)}))}getSortFuzzyFunction(I,C){let{localeAware:y}=C;return(P,T)=>{if(Object(l.i)(P.item)&&!Object(l.i)(T.item))return 1;if(Object(l.i)(T.item)&&!Object(l.i)(P.item)||Object(l.g)(P.item)&&!Object(l.g)(T.item))return-1;if(Object(l.g)(T.item)&&!Object(l.g)(P.item))return 1;if(!Object(l.i)(P.item)&&!Object(l.i)(T.item)){const R=P.score-T.score;if(R!==0)return R}if(Object(l.i)(P.item)&&Object(l.i)(T.item)){const R=P.score-T.score;if(R!==0)return R;const x=Object(i.H)(P.item)-Object(i.H)(T.item);if(x!==0)return x}const S=P.name,A=T.name;return y?Object(E.a)(S,A):S>A?1:A>S?-1:0}}getFrecencyBonusPointsFunction(I){return C=>{var y,P;const{item:T}=C,S={};if(Object(l.i)(T)){if(S.isMpim=0,this.options.preferMpimsWithActiveMembers){const A=Object(i.E)(T);if(!A)return S;const R=A.map(x=>Object(O.g)(I,x));Object(t.a)(R,x=>Object(d.eb)(x)||Object(d.xb)(x))&&(S.isMpimWithDeactivatedMember=h.mpimWithDeactivatedMember)}return S}if(C.isExactMatch?(S.isExactMatch=h.exactMatch,C.isEmojiExactMatch&&(S.isEmojiExactMatch=h.exactMatch)):C.emojiScore?S.emojiScoreBonus=this.calculateNormalizedFuzzyBonusPoints(C,"emojiScore",h.emojiMatch):Object(o.a)(T)||Object(d.eb)(T)||Object(d.xb)(T)||(S.fuzzyScoreBonus=this.calculateNormalizedFuzzyBonusPoints(C,"score",h.fuzzyMatch)),C.bestPreviousNameMatch&&(S.onlyMatchesPreviousName=h.matchesPreviousName),this.options.preferChannelMembers&&T.presence&&this.options.currentChannel&&Object(p.a)(I,T,this.options.currentChannel)&&(S.isMemberOfThisChannel=h.memberOfThisChannel),Object(l.e)(T)&&Object(i.qb)(I,T)&&(S.isStarred=h.starredChannel),Object(d.nb)(T)){const A=Object(u.l)(I,T.id);A&&Object(i.qb)(I,A)&&(S.isStarred=h.starredChannel)}return T.is_emoji&&(T.name==="thumbsup"||T.name==="point_up")&&(S.isPopularEmojiVariant=1),this.options.selfFirst&&Object(d.vb)(T)&&(S.isSelf=1/0),this.options.preferChannelWorkflows&&T.type==="channel_action"&&T.channelId===((y=this.options)===null||y===void 0||(P=y.currentChannel)===null||P===void 0?void 0:P.id)&&(S.isWorkflowAssociatedWithChannel=h.workflowAssociatedWithChannel),(Object(l.l)(T)||Object(l.k)(T))&&(Object(o.a)(T)&&(S.isArchived=h.archivedChannel),Object(l.l)(T)&&this.options.preferChannelsUserBelongsTo&&!Object(o.a)(T)&&!Object(i.db)(T)&&(S.isNotChannelMember=h.notInChannel),Object(m.m)(I)&&Object(i.Y)(T)&&(S.isChannelFromAnotherTeam=h.channelFromAnotherTeam)),Object(d.nb)(T)&&(Object(d.eb)(T)||Object(d.xb)(T))&&(S.isDeactivatedMember=h.deactivatedMember),(T.is_usergroup||T.is_broadcast_keyword)&&(S.isUserGroupOrKeyword=h.userGroupOrKeyword),S}}calculateNormalizedFuzzyBonusPoints(I,C,y){const P=I[C];if(!Object(a.a)(P))return 0;const T=.5**P;return Math.round(y*T)}getNameForComparison(I,C){let y;const P=C.item;return Object(l.i)(P)?y=P.name_normalized:Object(l.d)(P)?y=Object(r.a)(Object(i.u)(I,P,{publicChannelIncludeHashSign:!1})):Object(d.nb)(P)?y=Object(d.N)(I,P):P.is_usergroup?y=P.handle||P.name:P.team_name?y=Object(r.a)(Object(f.g)(P)):P.isEmail?y=Object(r.a)(P.value):P.title?y=P.title:y=P.name,y}constructor({query:I,options:C={}}){this.options=C,this.query=I}},"SearcherSorter")},Fbvv:function(K,n,e){"use strict";e.d(n,"a",function(){return s});const s=v(()=>null,"noopNull")},FcR8:function(K,n,e){"use strict";var s=e("SQ0V"),t=e("7ibc"),a=e("2VFn"),r=e("CnKg"),c=e("+9Uj"),o=e("E3dU"),i=e("5pIt"),l=e("BkpQ"),u=e("Qmy9"),f=e("59uo"),d=e("7Bj1"),O=e("Ki3U"),m=e("wXOV"),g=e("ohbk"),E=e("JoR1"),p=e("akkM"),h=e("q1tI"),_=e.n(h),b=e("npde"),I=e("nNoG"),C=e("KkHf"),y=e("qiCS"),P=e("Fvov");const T=new I.b("slack_docs");function S(ie){let{closeModal:oe}=ie;const me=Object(h.useCallback)(()=>{let ue=window.location.href;ue=Object(y.d)(window.location.href,"force_cold_boot",1),Object(P.c)().finally(()=>{window.location.href=ue})},[]);return _.a.createElement(C.a,{title:T.t("Can\u2019t open this canvas right now",{fallbackHash:"6c9801bf2fe1381f42c55cc723906b68d1ee3c1d"}),onClose:oe,onCancel:oe,onSubmit:me,submitButtonText:T.t("Reload")},T.t("This could be because you need to update to the latest version, or you don\u2019t have permission to open this canvas. Try refreshing Slack. If that doesn\u2019t work, ask an owner or admin for help.",{fallbackHash:"99298f7977730686a63a0271573a95c15325934e"}))}v(S,"QuipUpdateModal"),S.displayName="QuipUpdateModal";var A=Object(b.a)(S),R=e("6VWW"),x=e("6dQg"),M=e("37+L"),j=e("I0j/"),W=e("i9jZ"),U=e("RV0M"),B=e("v7mh"),Y=e("PIf0"),z=e("6inW"),F=e("xY6W"),V=e("HoeF"),L=e("lhZz"),Q=e("+CZ0"),ee=e("QIbu"),te=e("PfQc"),le=e("gpLM"),Oe=e("HKlo"),he=e("SIMs"),Ee=e("HHxC"),ge=e("LZPg");const J=Object(s.c)("Opens the canvas within the huddle window",(ie,oe,me)=>{let{fileId:ue}=me;const _e=oe(),be=Object(he.w)(_e),Ae=Object(ge.o)(_e),Ce=Object(L.getStateForClientStore)(),De=Object(Q.a)(Ce);!(!!De&&Object(he.r)(_e,{huddleId:De}))&&be&&ue===Ae?ie(Object(le.c)({focusKey:Oe.c.QUIP_EMBED})):(ie(Object(te.a)({peerId:"self",contentViewType:ee.a.QuipFile,contentViewConfig:{item:{type:ee.a.QuipFile,fileId:ue,id:ue}}})),ie(Object(Ee.a)({surface:ee.b.WINDOW_FULL})),ie(Object(V.r)({isNotesOpen:!0})))});J.meta={name:"createThunk",key:"createThunkopenHuddleCanvas",description:"Opens the canvas within the huddle window"};var H=e("rZ8V"),Z=e("i5Ig"),q=e("ETR2"),k=e("GoiD"),se=e("D4ee");const re=Object(s.c)("Opens the doc in a new window",(ie,oe,me)=>{let{id:ue,commentThreadId:_e,shouldOpenCommentStream:be,shouldOpenActivityHistory:Ae}=me,Ce;_e&&(Ce=Object(M.N)({entityId:ue,commentThreadId:_e})),Ae&&(Ce=Object(M.L)(ue)),be&&(Ce=Object(M.M)(ue));const De={[a.h.Primary]:Object(M.i)({id:ue}),[a.h.Secondary]:Ce};return ie(Object(d.a)({viewSet:De,viewType:R.a.Doc,shouldShowSearch:!1}))});re.meta={name:"createThunk",key:"createThunkopenDocInNewWindow",description:"Opens the doc in a new window"};const X=Object(s.c)("Open a Slack doc in IA4",(ie,oe,me,ue)=>{let{id:_e,commentThreadId:be,clogParams:Ae,versionId:Ce,sequence:De,isFromQuipActivityHistory:Pe,shouldOpenActivityHistory:Ue,shouldOpenCommentStream:ae}=me;const{container:ne}=ue(U.a),Ie=ne===a.h.Sidebar,Te=Object(t.Kb)(oe())&&be?{scrollBehavior:"scroll_to_section"}:Z.b;return Ie?ie(be?Object(j.a)(Object(M.N)({entityId:_e,commentThreadId:be})):Object(j.a)(Object(M.i)({id:_e,versionId:Ce,sequence:De,preserveExistingSecondaryView:Pe||!!be,clogParams:Ae,...Te}))):Object(W.e)()?(ie(Object(q.a)(Ae)),ie(re({id:_e,commentThreadId:be,shouldOpenCommentStream:ae,shouldOpenActivityHistory:Ue}))):ie(Object(j.a)(Object(M.i)({id:_e,versionId:Ce,sequence:De,preserveExistingSecondaryView:Pe||!!be,clogParams:Ae,...Te})))});X.meta={name:"createThunk",key:"createThunkopenDocIA4",description:"Open a Slack doc in IA4"};const w=Object(s.c)("Open a Slack doc",(ie,oe,me,ue)=>{let{fileId:_e,inTile:be,tileKey:Ae,forceNewWindow:Ce,origin:De,source:Pe,sectionId:Ue,commentThreadId:ae,resetScroll:ne=!0,replaceHistoryState:Ie=!1,inFlexpane:Te,isFromQuipActivityHistory:Me,quipSyntheticViewSort:Ne,quipSyntheticViewFilter:He,versionId:Et,sequence:Je,openedFromId:qe,shouldOpenActivityHistory:ke,shouldOpenCommentStream:rt}=me;var pe;const je=oe();if(!Object(t.gc)(je)){Object(t.W)(je)&&ie(A());return}const{fileId:xe,focusSection:ze,openVersion:st}=ue(c.a),{windowId:ct}=ue(Y.a),dt=Object(B.e)(je,{windowId:ct||""}),{isChildWindow:bt}=ue(U.a);if(_e===xe||_e===Object(r.i)((dt==null||(pe=dt.primary)===null||pe===void 0?void 0:pe.id)||"").fileIdOrQuipThreadId){if(Ue&&ze){ze(Ue);return}if(ae&&ie(Object(k.a)({fileId:_e,quipCommentThreadId:ae})),Me&&st){st(Et,Je);return}}const Bt=Object(r.h)({id:_e,sectionId:Ue,commentThreadId:ae,versionId:Et,sequence:Je}),at={fileId:_e,forceNewWindow:Ce,source:Pe,quipSyntheticViewSort:Ne,quipSyntheticViewFilter:He,isChannelCanvas:!1},Ht=Object(x.a)(_e)?Object(o.e)(je,_e):Object(i.c)(je,_e);if(Ht&&!Me&&!Et&&!Je){const cn=Ue||ae;return ie(Object(O.a)({channelId:Ht,commentThreadId:ae,forceNewWindow:Ce||be,focusSectionId:cn,source:Pe,shouldOpenActivityHistory:ke,shouldOpenCommentStream:rt,quipSyntheticViewSort:Ne,quipSyntheticViewFilter:He}))}const Wt=Object(f.l)(je);if(Object(H.g)(je)||ie(Object(q.a)(at)),ne){const mn=Object(m.a)(je,_e,!1);mn&&Object(p.d)(mn)}if(Object(t.Hb)(je)&&Object(z.b)(ct))if(Ce)ie(Object(F.a)());else return ie(J({fileId:_e}));if(bt&&!Ce&&Object(t.H)(je)){const cn=Object(t.Kb)(je)&&ae?{scrollBehavior:"scroll_to_section"}:Z.b;return ie(Object(j.a)(Object(M.i)({id:Bt,versionId:Et,sequence:Je,preserveExistingSecondaryView:Me||!!ae,clogParams:at,...cn})))}if(Object(H.g)(je))return ie(X({id:Bt,commentThreadId:ae,clogParams:at,versionId:Et,sequence:Je,isFromQuipActivityHistory:Me,shouldOpenActivityHistory:ke,shouldOpenCommentStream:rt}));if(Object(t.H)(je)&&Object(W.e)())return Object(H.g)(je)&&ie(Object(q.a)(at)),ie(re({id:Bt,shouldOpenActivityHistory:ke,shouldOpenCommentStream:rt,commentThreadId:ae}));if(be){if(Object(W.a)(je)){const cn={[a.h.Primary]:Object(M.i)({id:Bt})};return ie(Object(d.a)({viewSet:cn,viewType:R.a.Doc}))}return ie(Ae?Object(u.a)({key:Ae,tile:{view:Bt}}):Object(l.a)({tile:{view:Bt},origin:De}))}const Xt=!Object(t.cc)(je)&&Object(E.u)(je,"open_quip_doc_in_flexpane")&&!Wt;return Te||Xt?ie(Object(se.a)({quipDocId:Bt})):Wt&&ae?ie(Object(k.a)({fileId:_e,quipCommentThreadId:ae,replaceHistoryState:!0,openInPrimaryTile:!0})):ie(Object(g.a)({id:Bt,replaceHistoryState:Ie,routeParams:{canvasOpenedFromId:qe}})).then(()=>{if(ae)return Object(t.Kb)(je)&&Object(p.c)(ae),ie(Object(k.a)({fileId:_e,quipCommentThreadId:ae,replaceHistoryState:!0}))})});w.meta={name:"createThunk",key:"createThunkopenDoc",description:"Open a Slack doc"};var ce=n.a=w},FceS:function(K,n,e){"use strict";var s=e("SQ0V"),t=e("l2Je"),a=e("XnQF"),r=e("2VFn"),c=e("nOgk"),o=e("O86Y"),i=e("gPPH"),l=e("rZ8V"),u=e("yVcz"),f=e("YiLv"),d=e("lhZz");const O=Object(s.c)("Add a new entry to this windows history stack",(m,g,E)=>{const{windowId:p,entry:h}=E,_=g();if(!(!p||!h)){if(p===r.c){const b=Object(f.b)(Object(d.getStateForClientStore)());b>0&&Object(d.dispatchForClientStore)(Object(u.a)({windowId:p,index:b}))}else{const b=Object(a.b)(_,{windowId:p});b>0&&m(Object(t.b)({windowId:p,index:b}))}if(p===r.c){if(!Object(l.g)(_))return;const b=Object(i.a)(),I=Date.now(),C=Object(o.g)(_)||"";Object(d.dispatchForClientStore)(Object(u.b)({windowId:p,entry:{...h,id:b,ts:I,teamId:C,isIA4:!0}})),Object(c.c)(C,b,h);return}m(Object(t.c)(E))}});O.meta={name:"createThunk",key:"createThunkpushHistoryEntryForWindow",description:"Add a new entry to this windows history stack"},n.a=O},FeIc:function(K,n,e){"use strict";e.d(n,"a",function(){return a});var s=e("nNoG");const t=new s.b("channel_details");var a;(function(c){c[c.everything=0]="everything",c[c.mentions_dms=1]="mentions_dms",c[c.nothing=2]="nothing"})(a||(a={}));function r(c){let{experimentIaDetailsPopoverGroupTreatmentName:o=!0,isMuted:i=!1,setting:l}=c;return o?i?t.t("Muted"):l===a.everything?t.t("Notifications for all messages"):l===a.mentions_dms?t.t("Notifications for mentions"):l===a.nothing?t.t("Notifications off"):null:null}v(r,"getNotificationsLabel")},FeOl:function(K,n,e){"use strict";e.d(n,"a",function(){return i}),e.d(n,"b",function(){return l});var s=e("bTOH");const t=[",","\uFF0C","\u3001",";","\uFF1B","|","\uFF5C","\\t","\\n","\\r"],a=new RegExp(`[${t}]`),r=new RegExp(`<(${s.c})>`,"i"),c=new RegExp(`\\((${s.c})\\)`,"i"),o=/(?=\s+[@\uFF20])/g;function i(u){let f=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},d=[];return f.entities&&f.entities.members&&f.entities.members.matchEmailField&&(r.test(u)||c.test(u))?d=u.match(new RegExp(s.b.CONTAINS_EMAIL,"gi")):a.test(u)?d=u.split(a):f.fromMetadata?d=u.split(/\s+/):f.entities&&f.entities.members&&o.test(u)&&(d=u.split(o)),(!d||!d.length)&&(d=u.split(/\s+/)),d.map(O=>O.trim()).filter(O=>Boolean(O))}v(i,"defaultSplitQuery");function l(u){let f=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},d=u;return f.entities&&f.entities.members&&f.entities.members.matchEmailField&&s.b.CONTAINS_EMAIL.test(u)&&(d=u.match(s.b.CONTAINS_EMAIL)[0]),d}v(l,"parseQueryForSearch")},Fk5v:function(K,n,e){"use strict";var s=e("NZ+B"),t=e("mx2s"),a=e("Kyco"),r=e("E4z0"),c=e("7lBi"),o=e("j77i");const i={persistenceEnabled:!1,storeKey:"viewLayout"},l={sidebarWidthIntent:void 0,sidebarWidthMode:c.e.AUTO,sidebarWideWidthIntent:void 0,sidebarWideWidthMode:c.e.AUTO,sidebarExtraWideWidthIntent:void 0,sidebarExtraWideWidthMode:c.e.AUTO,secondaryWidthIntent:void 0,secondaryWidthMode:c.e.AUTO,isSidebarVisible:!0,isSidebarVisibleWhenFloating:!1};try{l.sidebarWidthIntent=Object(o.f)(t.h)||void 0,l.sidebarWideWidthIntent=Object(o.f)(t.f)||void 0,l.sidebarExtraWideWidthIntent=Object(o.f)(t.c)||void 0,l.secondaryWidthIntent=Object(o.f)(t.a)||void 0,l.sidebarWidthMode=Object(o.f)(t.i)||c.e.AUTO,l.sidebarWideWidthMode=Object(o.f)(t.g)||c.e.AUTO,l.sidebarExtraWideWidthMode=Object(o.f)(t.d)||c.e.AUTO,l.secondaryWidthMode=Object(o.f)(t.b)||c.e.AUTO;const f=Object(o.f)(t.e);l.isSidebarVisible=Object(s.a)(f)?f:!0}catch{}const u=Object(a.b)({},l,i).on(r.d,(f,d)=>{let{sidebarWidthIntent:O,sidebarWidthMode:m}=d;return{...f,sidebarWidthIntent:O,sidebarWidthMode:m}}).on(r.f,(f,d)=>{let{sidebarWideWidthIntent:O,sidebarWideWidthMode:m}=d;return{...f,sidebarWideWidthIntent:O,sidebarWideWidthMode:m}}).on(r.e,(f,d)=>{let{sidebarExtraWideWidthIntent:O,sidebarExtraWideWidthMode:m}=d;return{...f,sidebarExtraWideWidthIntent:O,sidebarExtraWideWidthMode:m}}).on(r.c,(f,d)=>{let{secondaryWidthIntent:O,secondaryWidthMode:m}=d;return{...f,secondaryWidthIntent:O,secondaryWidthMode:m}}).on(r.a,(f,d)=>({...f,isSidebarVisible:d})).on(r.b,(f,d)=>({...f,isSidebarVisibleWhenFloating:d}));n.a=u},FlEr:function(K,n,e){"use strict";var s=e("ZKjC"),t=e("xwCZ");const a=Object(s.b)((r,c)=>Object(t.g)(r,c).profile.statusEmojiDisplayInfo||void 0);a.meta={name:"createSelector",key:"createSelectorgetMemberCustomStatusEmojiDisplayInfo",description:(r,c)=>Object(t.g)(r,c).profile.statusEmojiDisplayInfo||void 0},n.a=a},"G/rR":function(K,n,e){K.exports=e.p+"slackbot_frowny_192-a0b99ba.png"},G0Vk:function(K,n,e){K.exports=e.p+"slackbot_fancy_360-29e9a8a.png"},G4FP:function(K,n,e){"use strict";var s=e("q1tI"),t=e.n(s),a=e("Cfcg"),r=e("4HNC"),c=e("E3dU"),o=e("sGXp"),i=e("4unc"),l=e("Iy3M"),u=e("fMsH");function f(){return f=Object.assign||function(E){for(var p=1;p<arguments.length;p++){var h=arguments[p];for(var _ in h)Object.prototype.hasOwnProperty.call(h,_)&&(E[_]=h[_])}return E},f.apply(this,arguments)}v(f,"_extends");function d(E,p,h){if(E)return p||h?o.d.highlightDim:o.d.highlightDark;if(p||h)return o.d.dim}v(d,"getBaseStyle");function O(E){let{className:p,secondaryContent:h,isActive:_=!1,isDeactivated:b=!1,isDisabled:I=!1,showUnreadBadge:C=!1,badgeCount:y=0,onlyBoldIfUnread:P=!1,...T}=E,S=h;C&&(S=t.a.createElement("div",{className:"c-small_channel_entity__secondary-content-badge"},h,t.a.createElement(i.b,{count:y,className:"c-channel_entity__mentions",style:_?"white":"red"})));const A=d(_,I,b);return t.a.createElement(r.a,{className:p,primaryContent:t.a.createElement(l.a,f({invert:A===o.d.highlightDark,onlyBoldIfUnread:P},T)),secondaryContent:S,size:"small",style:A})}v(O,"SmallChannelListEntity"),O.displayName="SmallChannelListEntity";function m(E){return Object.prototype.hasOwnProperty.call(E,"channel")}v(m,"propsContainsChannel");function g(E,p){const h=m(p)?p.channel:Object(c.c)(E,p.channelId),_=p.showUnreadBadge?p.badgeCount||Object(c.b)(E,h):0;return{channel:h,badgeCount:_}}v(g,"mapStateToProps"),n.a=Object(a.a)(g)(O)},GCXW:function(K,n,e){K.exports=e.p+"slackbot_fancy_32-176771b.png"},"GFD/":function(K,n,e){"use strict";e.d(n,"b",function(){return l});var s=e("q1tI"),t=e.n(s),a=e("ifKl"),r=e("iuhU");const c="_isSlackMenuSeparator";function o(u){let{className:f,onMouseEnter:d=a.a,noPadding:O,noPaddingAbove:m,noPaddingBelow:g,noFirstChild:E,noLastChild:p}=u;const h=Object(r.default)("c-menu_separator__li",{padding_0:O,padding_top_0:m,padding_bottom_0:g,"c-menu_separator__li--no_first_child":E,"c-menu_separator__li--no_last_child":p},f);return t.a.createElement("div",{"aria-hidden":"true",className:h,onMouseEnter:d},t.a.createElement("hr",{className:"c-menu_separator__separator"}))}v(o,"MenuSeparator"),o.displayName="MenuSeparator",o[c]=!0;var i=n.a=o;function l(u){return!!(u!=null&&u[c])}v(l,"isMenuSeparator")},GJt6:function(K,n,e){"use strict";e.d(n,"a",function(){return o});var s=e("q1tI"),t=e.n(s),a=e("g3+L"),r=e("IsIP"),c=e("KWBv");function o(i,l){const{tileKey:u}=Object(c.c)(),{addFocusTransitionListener:f,removeFocusTransitionListener:d}=Object(s.useContext)(a.a),O=Object(s.useMemo)(()=>Object(r.e)({focusKey:i,tileKey:u}),[i,u]);Object(s.useEffect)(()=>(f(O,l),()=>{d(O,l)}),[f,O,l,d])}v(o,"useFocusTransitionListener")},GKly:function(K,n,e){"use strict";e.d(n,"a",function(){return a});var s=e("Xfqj");let t=null;function a(){if(t===null){var r,c;t=(document==null||(r=document.documentElement)===null||r===void 0||(c=r.dataset)===null||c===void 0?void 0:c.app)===s.a.WORKFLOW_BUILDER}return t}v(a,"isWorkflowBuilder")},GNAk:function(K,n,e){"use strict";e.d(n,"a",function(){return O});var s=e("oTSI"),t=e("Lgge"),a=e("uAML"),r=e("s4P+"),c=e("lhZz"),o=e("7EGn"),i=e("vhAc"),l=e("lsLQ");const u=v((m,g)=>(Object(r.a)({teamId:m}).info(l.a,`fetching channel actions for channel ${g}`),Object(c.dispatchForTeamId)(m,Object(i.b)({resourceType:"channel",resourceId:g})).then(E=>E.map(p=>({appId:Object(o.a)(p,"app.app_id"),id:Object(o.a)(p,"action_id"),name:Object(o.a)(p,"name"),description:Object(o.a)(p,"description"),type:Object(o.a)(p,"type"),app:Object(o.a)(p,"app"),installTeamId:Object(o.a)(p,"install_team_id"),installTeamName:Object(o.a)(p,"install_team_name"),channelId:g})))),"fetchChannelActionsForChannel");var f=e("JV3N");const d=v((m,g)=>u(m,g).then(E=>{Object(r.a)({teamId:m}).info(l.a,`received ${E.length} channel action(s) for channel ${g}. Upserting arction(s) and marking channel as fresh.`),O().markObjectsAsFresh(m,[g]),Object(c.dispatchForTeamId)(m,Object(f.a)({channelId:g,actions:E}))}).catch(E=>{Object(r.a)({teamId:m}).error(l.a,`failed to fetch channel actions for channel ${g}`,E,{subtype:"channel_action_fetch_failure"})}),"fetchAndUpsertChannelActionsForChannel"),O=Object(s.a)(()=>new a.b({fetch:(m,g)=>t.a.map(g,E=>d(m,E)),isEnabled:()=>!0}))},GTsZ:function(K,n,e){"use strict";e.d(n,"a",function(){return t}),e.d(n,"b",function(){return a});var s=e("DwFS");const t=Object(s.a)("add an app profile to the store");t.meta={name:"createAction",key:"createActionaddAppProfile",description:"add an app profile to the store"};const a=Object(s.a)("add multiple app profiles to the store");a.meta={name:"createAction",key:"createActionbulkAddAppProfiles",description:"add multiple app profiles to the store"}},GV2D:function(K,n,e){"use strict";e.d(n,"a",function(){return T});var s=e("SQ0V"),t=e("UEGZ"),a=e("E3dU"),r=e("GlHf"),c=e("JoR1"),o=e("Wn1n"),i=e("s4P+"),l=e("Pw4T"),u=e("yZZd"),f=e("O86Y"),d=e("1o0K"),O=e("Yauy"),m=e("E97Y"),g=e("ZAxE"),E=e("tUtw"),p=e("p5o1");const h=Object(s.c)("Cancel history request for a channel",(S,A,R)=>{const{channelId:x}=R||{},M=Object(E.a)(A(),x);M&&M.loading&&M.request&&M.request.cancel(),S(Object(p.b)({ids:[x]}))});h.meta={name:"createThunk",key:"createThunkcancelLoading",description:"Cancel history request for a channel"};var _=e("XZo2"),b=e("2XL1"),I=e("Aqju");const C=v(S=>{let{sourceTeam:A,sourceChannel:R,targetTeam:x,targetChannel:M}=S;return`start_channel_change_${[A,R,x,M].join("_")}`},"formatStartChannelChangeMark");var y=e("RV0M"),P=e("2VFn");const T=Object(s.c)("Switch to a channel",(S,A,R,x)=>{let{channelId:M,startTs:j}=R;var W;const U=A(),{shouldUseNavigate:B,getSiblingView:Y}=x(y.a),z=B?(W=Y(U,{container:P.h.Primary}))===null||W===void 0?void 0:W.id:Object(o.a)(U),F=Object(f.g)(U),V=Object(i.a)({getState:A,label:"SWITCH-TO-CHANNEL"});if(M){try{Object(I.a)({state:U,channelId:M})}catch(he){V.warn(he,`Could not trace channel switch from ${z} to ${M}`)}const L=C({sourceTeam:F,sourceChannel:z,targetTeam:F,targetChannel:M});Object(l.d)({state:U}).mark(L),S(Object(u.a)({lastFocus:Object(r.h)(U),objId:M}));const Q=Object(a.c)(U,M),ee=Object(O.R)(Q),te=Object(O.B)(U,Q);Object(g.a)(M),S(h({channelId:M}));const le=Object(c.u)(U,"start_scroll_at_oldest")&&Object(c.u)(U,"mark_msgs_read_immediately"),Oe=ee?te:null;if(j)V.info(`Switching to ${M} at specified startTs ${j}`),S(Object(b.f)({channelId:M,startTs:j,highlightTs:j,prevChannelId:z,ghostLastRead:Oe})),S(Object(d.a)({startTs:j,highlightTs:j}));else{if(te&&ee&&le)V.info(`Switching to ${M} at last_read ${te}`),S(Object(b.f)({channelId:M,startTs:te,prevChannelId:z,ghostLastRead:Oe})),S(Object(d.a)({startTs:te}));else{const he=Object(_.t)(U,M);le&&he?(V.info(`Switching to ${M} at scrollmark ${he.mark} offset ${he.offset}`),S(Object(b.f)({channelId:M,startTs:he.mark,startTsOffset:he.offset,prevChannelId:z,ghostLastRead:Oe})),S(Object(d.a)({startTs:he.mark,startTsOffset:he.offset}))):(V.info(`Switching to ${M} at end`),S(Object(b.f)({channelId:M,startTs:null,prevChannelId:z,ghostLastRead:Oe})),S(Object(d.a)({startTs:null})))}Object(m.l)(Q)&&!Object(O.db)(Q)&&!Object(O.Db)(Q)&&S(Object(t.a)({id:Q==null?void 0:Q.id,never_needs_joined_msg:!0}))}}else S(Object(b.f)({channelId:null,startTs:null,prevChannelId:z}))});T.meta={name:"createThunk",key:"createThunkswitchToChannel",description:"Switch to a channel"}},GWPn:function(K,n,e){"use strict";var s=e("HCZ2");n.a=s.a},GYPw:function(K,n,e){"use strict";e.d(n,"e",function(){return s}),e.d(n,"i",function(){return t}),e.d(n,"a",function(){return a}),e.d(n,"g",function(){return r}),e.d(n,"f",function(){return c}),e.d(n,"h",function(){return o}),e.d(n,"c",function(){return i}),e.d(n,"d",function(){return l}),e.d(n,"b",function(){return u});const s="(prefers-contrast: more)",t="useAriaApplicationForListViews",a="composerUpArrowShortcutBehavior",r="messageTextLineSpacing",c="messageSpacing",o="messageTextWordSpacing",i="conversationIncomingMessageSound",l="conversationSentMessageSound",u="conversationIncomingMessageAnnouncement"},GbR5:function(K,n,e){"use strict";var s=e("uiBO"),t=e("tYiI"),a=e("l1I1"),r=e("Zbwg"),c=e("OCIX"),o=e("bjy1"),i=e("Ini6"),l=e("2vQQ");const u={activity:s.a.ActivityList,threads:s.a.Threads,rimeto_profile:s.a.Profile,files:s.a.FileDetails,help:s.a.Help,shortcuts:s.a.KeyboardShortcuts,whats_new:s.a.WhatsNew,feedback:s.a.Feedback,comment_thread:s.a.QuipCommentThread,comment_stream:s.a.QuipCommentStream,activity_history:s.a.QuipActivityHistory,channel_canvas:s.a.ChannelCanvas,thread:s.a.Thread},f=v(d=>d?Object(t.a)(d)?s.a.AppSpace:Object(a.a)(d)?s.a.Quip:Object(r.a)(d)?s.a.Channel:Object(i.a)(d)?Object(l.f)(d):Object(c.a)(d)?s.a.Thread:Object(o.a)(d)?s.a.UserGroup:u[d]?u[d]:s.a.Unknown:s.a.Unknown,"convertIdToViewType");n.a=f},GiOu:function(K,n,e){"use strict";e.d(n,"a",function(){return f});var s=e("q1tI"),t=e.n(s),a=e("fujP"),r=e("iuhU"),c=e("nNoG"),o=e("Trx9"),i=e("ktUG");function l(){return l=Object.assign||function(g){for(var E=1;E<arguments.length;E++){var p=arguments[E];for(var h in p)Object.prototype.hasOwnProperty.call(p,h)&&(g[h]=p[h])}return g},l.apply(this,arguments)}v(l,"_extends");const u=new c.b("trials");var f;(function(g){g.Purple="purple",g.White="white"})(f||(f={}));const d={eventId:i.EventId.UPGRDEXP_TRIAL,uiComponentName:i.UiComponentName.TRIAL_PRO_BADGE,clogImpression:!0},O=v(g=>{let{className:E,autoClogProps:p,badgeTheme:h=f.Purple}=g;const _=u.t("PRO"),b=t.a.createElement("div",{className:Object(r.default)("p-pro_badge",`p-pro_badge--${h}`,E),"data-qa":"pro_badge","aria-label":_},u.t("PRO"));return Object(a.a)(p)?b:t.a.createElement(o.a,l({},d,p),b)},"ProBadge");O.displayName="ProBadge";var m=n.b=O},GkJf:function(K,n,e){"use strict";var s=e("q1tI"),t=e.n(s),a=e("/MKj"),r=e("Trx9"),c=e("ktUG"),o=e("Tevt"),i=e("d/xU"),l=e("bHpg"),u=e("uiBO"),f=e("+kJ4"),d=e("G5NC"),O=e("i9jZ"),m=e("zxER"),g=e("kBpe"),E=e("UAMj"),p=e("ap5V");function h(){return h=Object.assign||function(b){for(var I=1;I<arguments.length;I++){var C=arguments[I];for(var y in C)Object.prototype.hasOwnProperty.call(C,y)&&(b[y]=C[y])}return b},h.apply(this,arguments)}v(h,"_extends");function _(b){let{className:I,children:C,articleId:y,autoClogProps:P,"data-qa":T,refToForward:S,ariaLabel:A,ariaDescribedBy:R,forceDisplayAsButton:x,skipCloseModal:M,onClick:j,hash:W,urlParams:U,forceOpenInBrowser:B,showUnderlineLink:Y}=b;const z=Object(a.useDispatch)(),F=Object(m.a)(O.a),V=`https://${Object(i.n)()}/help/articles/${y}`,L=Object(s.useCallback)(Q=>{if(Q.preventDefault(),!M&&!B&&!F&&z(Object(f.a)()),F&&Object(d.a)()&&!B&&Object(g.i)())W&&z(Object(l.a)(W)),z(Object(E.a)({id:"help",params:{articleId:y},viewType:u.a.Help}));else if(Object(d.a)()&&!B)W&&z(Object(l.a)(W)),z(Object(p.a)({articleId:y}));else{let ee="",te=V;U&&Object.entries(U).forEach(le=>{let[Oe,he]=le;ee.length&&(ee=`${ee}&`),ee=`${ee}${Oe}=${he}`}),ee.length&&(te=`${te}?${ee}`),W&&(te=`${te}#${W}`),window.open(te)}j&&j(Q)},[y,V,z,B,W,F,j,M,U]);return t.a.createElement(r.a,{uiStep:c.UiStep.HC_HELP_LINK,articleId:y},t.a.createElement(o.a,{ref:S,"data-qa":T,className:I,autoClogProps:P,onClick:L,"aria-label":A,"aria-describedby":R,href:x?void 0:V,showUnderlineLink:Y},C))}v(_,"HelpLink"),_.displayName="HelpLink",n.a=t.a.forwardRef((b,I)=>t.a.createElement(_,h({refToForward:I},b)))},GoiD:function(K,n,e){"use strict";e.d(n,"a",function(){return p});var s=e("SQ0V"),t=e("hjzp"),a=e("CnKg"),r=e("4hjS"),c=e("RV0M"),o=e("4iK2"),i=e("bcZH"),l=e("I0j/"),u=e("37+L"),f=e("59uo"),d=e("D1k6"),O=e("6dQg"),m=e("E3dU"),g=e("5pIt"),E=e("KcWJ");const p=Object(s.c)("Opens the Quip doc comment thread in the side or flexpane",(h,_,b,I)=>{let{fileId:C,quipCommentThreadId:y,shouldIncludeBack:P=!0,shouldOpenInTile:T,replaceHistoryState:S,openInPrimaryTile:A,focusTarget:R}=b;const x=Object(t.a)(C),M=Object(a.c)(y),j=Object(r.l)(_()),{shouldUseNavigate:W}=I(c.a),U=Object(O.a)(C)?Object(m.e)(_(),C):Object(g.c)(_(),C);let B,Y;if(j===o.c||Object(i.a)(_())?(B=o.c,Y=C):P&&(U?(B="channel_canvas",Y=U):(B="comments",Y=C)),W)return h(Object(l.a)(Object(u.N)({entityId:Object(a.a)(C),commentThreadId:y})));var z;const F=(z=Object(f.b)(_()))!==null&&z!==void 0?z:null;return h(Object(d.a)({focusTarget:R,tileKey:F,entityId:C,quipCommentThreadId:y})),h(Object(E.a)({channelId:x,threadTs:M,origin:B,originId:Y,shouldOpenInTile:T,replaceHistoryState:S,openInPrimaryTile:A}))});p.meta={name:"createThunk",key:"createThunkshowQuipCommentThread",description:"Opens the Quip doc comment thread in the side or flexpane"}},Gs4e:function(K,n,e){"use strict";e.d(n,"a",function(){return l});var s=e("q1tI"),t=e.n(s),a=e("iuhU"),r=e("ifKl"),c=e("FRd1"),o=e("ktUG");function i(){return i=Object.assign||function(O){for(var m=1;m<arguments.length;m++){var g=arguments[m];for(var E in g)Object.prototype.hasOwnProperty.call(g,E)&&(O[E]=g[E])}return O},i.apply(this,arguments)}v(i,"_extends");const l={small:"small",medium:"medium",large:"large"};var u;let f=v(class extends(u=t.a.Component){componentDidMount(){if(this.props.focusOnMount){var m;(m=this.props.refToForward.current)===null||m===void 0||m.focus()}}onChange(m){this.props.onChange&&this.props.onChange(m.target.value)}onCopy(){this.props.onCopy&&this.props.onCopy()}onClick(m){this.props.readOnly&&this.props.forceSelectAll&&m.currentTarget.select()}blur(){var m;(m=this.props.refToForward.current)===null||m===void 0||m.blur()}focus(){var m;(m=this.props.refToForward.current)===null||m===void 0||m.focus()}render(){const{ariaDescribedby:m,isInvalid:g,ariaLabelledby:E,ariaRequired:p,className:h,id:_,isDisabled:b,name:I,placeholder:C,size:y,type:P,refToForward:T,ariaLabel:S,forceSelectAll:A,focusOnMount:R,autoClogProps:x,autoComplete:M,...j}=this.props,W=Object(a.default)("c-input_text",{"c-input_text--large":y===l.large,"c-input_text--small":y===l.small,"c-input_text--with_error":g,"c-input_text--with_inline_alert":g},h),U=t.a.createElement("input",i({},j,{"aria-describedby":j["aria-describedby"]||m,"aria-invalid":j["aria-invalid"]||g,"aria-labelledby":j["aria-labelledby"]||E,"aria-required":j["aria-required"]||p,"aria-label":j["aria-label"]||S,autoComplete:M,className:W,disabled:b,id:_,name:I,onChange:this.onChange,onCopy:this.onCopy,onClick:this.onClick,placeholder:C,ref:T,type:P}));return x?t.a.createElement(c.a,{autoClogProps:x,actionProps:{onChange:{action:o.UiAction.ENTER_TEXT},onCopy:{action:o.UiAction.COPY_TO_CLIPBOARD}},elementType:o.ElementType.INPUT},U):U}constructor(m){super(m),this.onChange=this.onChange.bind(this),this.onCopy=this.onCopy.bind(this),this.onClick=this.onClick.bind(this)}},"TextInput");f.displayName="TextInput",f.defaultProps={ariaDescribedby:"",isInvalid:!1,ariaLabelledby:"",ariaRequired:!1,ariaLabel:"",className:null,isDisabled:!1,onChange:r.a,onCopy:r.a,forceSelectAll:!1,readOnly:!1,placeholder:"",size:"medium",value:"",type:"text",focusOnMount:!1,autoComplete:"off"};var d=n.b=t.a.forwardRef((O,m)=>t.a.createElement(f,i({},O,{refToForward:m||t.a.createRef()})))},H2ap:function(K,n,e){"use strict";e.d(n,"a",function(){return f});var s=e("9oTK"),t=e("SQ0V"),a=e("q6Tz"),r=e("uVZW"),c=e("7+Lm"),o=e("v5z3"),i=e("RVJP");const l=Object(t.c)("Register organic use of progressive disclosure tip with Megaphone",function(){var d=Object(s.coroutine)(function*(O,m,g){var E,p;const h={[o.f.AddTeammates]:r.e.PD_FIRST_USER_INVITED,[o.f.FirstMessage]:r.e.PD_FIRST_MESSAGE_SENT,[o.f.Reacji]:r.e.PD_REACJI_ICON_CLICKED,[o.f.AtMention]:r.e.PD_MENTION_ICON_CLICKED,...Object(i.d)(m(),"onbrd_1472")==="on"&&{[o.f.Threads]:r.e.REPLY_IN_THREAD_CLICKED,[o.f.AddChannels]:r.e.ADD_CHANNELS_CLICKED,[o.f.Status]:r.e.PROFILE_PICTURE_CLICKED,[o.f.CompletedAll]:r.e.HELP_HOME_OPENED,[o.f.Huddles]:r.e.HUDDLE_MINI_PLAYER_OPEN}};if(Object(c.c)(m(),r.g.PROGRESSIVE_DISCLOSURE)&&o.v.includes(g)&&(!((E=Object(c.b)(m(),r.g.PROGRESSIVE_DISCLOSURE))===null||E===void 0||(p=E.eligibleTips)===null||p===void 0)&&p.includes(o.h[g]))){const _=h[g];_&&O(Object(a.b)({event:{type:_,current_notification:Object(c.c)(m(),r.g.PROGRESSIVE_DISCLOSURE)}}))}});return function(O,m,g){return d.apply(this,arguments)}}());l.meta={name:"createThunk",key:"createThunkmaybeRegisterProgressiveDisclosureTipOrganicUseWithMegaphone",description:"Register organic use of progressive disclosure tip with Megaphone"};var u=e("IaLB");const f=Object(t.c)("handle progressive disclosure organic use",function(){var d=Object(s.coroutine)(function*(O,m,g){let{tip:E}=g;const p=m();Object(u.db)(p)&&O(l(E))});return function(O,m,g){return d.apply(this,arguments)}}());f.meta={name:"createThunk",key:"createThunkhandleProgressiveDisclosureOrganicUse",description:"handle progressive disclosure organic use"}},H40f:function(K,n,e){"use strict";e.d(n,"a",function(){return u});var s=e("SQ0V"),t=e("37+L"),a=e("Dn5J"),r=e("2VFn"),c=e("v7mh"),o=e("7ibc"),i=e("pFY2"),l=e("Zbwg");const u=Object(s.c)("Maybe set channel canvas in view set",(f,d,O)=>{let{viewSet:m,windowId:g}=O;const E=d(),p=m[r.h.Primary],h=m[r.h.Secondary];if(!Object(o.pb)(E))return m;if(Object(a.a)(h)&&(Object(a.f)(p)||Object(a.b)(p)))return{[r.h.Primary]:p};if(h){if(h.id==="channel_canvas"){var _,b,I,C,y,P;return{[r.h.Primary]:(p==null?void 0:p.id)!==((_=h.params)===null||_===void 0?void 0:_.channelId)?Object(t.m)((b=h.params)===null||b===void 0?void 0:b.channelId):p,[r.h.Secondary]:Object(t.n)(((I=h.params)===null||I===void 0?void 0:I.quipDocId)||((C=h.params)===null||C===void 0?void 0:C.entityId),((y=h.params)===null||y===void 0?void 0:y.channelId)||((P=h.params)===null||P===void 0?void 0:P.entityId))}}return m}if(!(p!=null&&p.id)||!Object(l.a)(p.id)||Object(a.f)(p)||Object(a.b)(p))return m;const T=Object(c.e)(d(),{windowId:g}),S=T==null?void 0:T[r.h.Primary];if((S==null?void 0:S.id)===p.id){if(Object(a.b)(S))return m;const R=T==null?void 0:T[r.h.Secondary];if(Object(a.a)(R))return m}const A=Object(i.b)(E,{channelId:p.id,...p.params});return A?{[r.h.Primary]:p,[r.h.Secondary]:Object(t.n)(A.params.quipDocId,A.params.entityId)}:m});u.meta={name:"createThunk",key:"createThunkapplyChannelCanvasToViewSet",description:"Maybe set channel canvas in view set"}},H9m0:function(K,n,e){"use strict";var s=e("n3tL"),t=e("I27i"),a=e("g3FH"),r=e("SQ0V"),c=e("PqaZ"),o=e("xwCZ"),i=e("C3vN"),l=e("s4P+"),u=e("6TBL"),f=e("n0Pp"),d=e("2nK1");const O=1e3*19,m="TICKLE-MS",g=Object(r.c)("Ping the message server if necessary",(E,p)=>{const h=p(),_=Object(o.d)(h),b=Object(l.a)({state:h});!Object(f.h)(h)||Object(i.p)(_)===a.b||Date.now()-Object(t.g)(h)<O||E(Object(c.h)({type:"tickle"})).catch(C=>{if(!(C&&C.message===u.c)){b.warn(m,`Send tickle event failed with error = ${C}`);return}b.warn(m,"Sending tickle event failed; will try again the next time we get reconnected"),Object(d.a)(p()).then(()=>{b.info(m,"Retrying tickle event that failed earlier"),E(Object(c.h)({type:"tickle"})).then(()=>{b.info(m,"Tickle sent successfully after retry")}).catch(P=>{b.warn(m,`Tickle retry failed with error: ${P}`)})})})});g.meta={name:"createThunk",key:"createThunkmaybeTickleMS",description:"Ping the message server if necessary"},g.propTypes=s.default.shape({reason:s.default.string.isRequired}),n.a=g},HCZ2:function(K,n,e){"use strict";var s=e("q1tI"),t=e.n(s),a=e("ifKl"),r=e("iuhU"),c={callout:"callout__G9Iwc"};function o(l){let{children:u,className:f,dataQa:d,onClick:O=a.a,onKeyDown:m=a.a,role:g=void 0,tabIndex:E=void 0,ariaLabel:p=void 0}=l;return t.a.createElement("div",{className:Object(r.default)(f,c.callout),"data-sk":"callout","data-qa":d,onClick:O,onKeyDown:m,role:g,tabIndex:E,"aria-label":p},u)}v(o,"Callout"),o.displayName="Callout",o.displayName="Callout";var i=n.a=o},HEqF:function(K,n,e){K.exports=e.p+"slackbot_neutral_32-44a4c24.png"},HHxC:function(K,n,e){"use strict";e.d(n,"a",function(){return E});var s=e("LZPg"),t=e("PIf0"),a=e("vfQU"),r=e("SZMM"),c=e("RpF1"),o=e("6inW"),i=e("SQ0V"),l=e("lhZz"),u=e("+CZ0"),f=e("SIMs"),d=e("GNR7"),O=e("3vtZ"),m=e("QIbu"),g=e("kBpe");const E=Object(i.c)("Resizes the huddle window",(p,h,_,b)=>{let{surface:I}=_;const C=h(),{window:y,windowId:P}=b(t.a);if(!Object(o.b)(P))return;const S=y.outerWidth,A=Object(l.getStateForClientStore)(),R=Object(u.a)(A);let x,M;if(I===m.b.WINDOW_COMPACT){const z=Object(s.V)(C),F=Object(d.h)(C);x=Object(O.h)({self:z,peers:F}),M=c.f}else I===m.b.WINDOW_FULL&&(x=c.m,M=c.n);let j=1;if(Object(g.i)()?j=Object(a.Z)():Object(g.h)()&&(j=S/y.innerWidth),x&&(x*=j),!Object(r.d)()&&x){const z=y.outerHeight-y.innerHeight*j;z>0&&(x+=z)}const W=Object(f.g)(C,{huddleId:R,surface:I}),U=(W==null?void 0:W.height)||x,B=(W==null?void 0:W.width)||M;if(!U||!B)return;let Y=0;I===m.b.WINDOW_COMPACT&&B<S&&(Y=S-B),y.resizeTo(B,U),Y&&y.moveBy(Y,0)});E.meta={name:"createThunk",key:"createThunkresizeHuddleWindow",description:"Resizes the huddle window"}},HKYg:function(K,n,e){"use strict";e.d(n,"a",function(){return r});var s=e("2VFn"),t=e("DuRM");function a(c){var o;if(c===s.c)return window;var i;return(i=(o=Object(t.c)(c))===null||o===void 0?void 0:o.childWindowRef)!==null&&i!==void 0?i:window}v(a,"getWindow");function r(){let c=arguments.length>0&&arguments[0]!==void 0?arguments[0]:s.c;const o=a(c),i=o.document.activeElement,l=o.document.querySelectorAll('[data-channel-canvas="true"]');return!!Array.from(l).find(u=>u.contains(i))}v(r,"isChannelCanvasFocused")},HMe0:function(K,n,e){"use strict";e.d(n,"c",function(){return i}),e.d(n,"b",function(){return l}),e.d(n,"a",function(){return u}),e.d(n,"d",function(){return d});var s=e("Bw5p"),t=e("G4qV"),a=e("ZKjC"),r=e("59uo"),c=e("O86Y"),o=e("G5NC");const i=Object(a.b)(m=>{if(!Object(o.a)())return{};const g=Object(r.i)(m);return g?Object(s.a)(m.tileHistory,g):{}});i.meta={name:"createSelector",key:"createSelectorgetHistoryStateForSerialization",description:m=>{if(!Object(o.a)())return{};const g=Object(r.i)(m);return g?Object(s.a)(m.tileHistory,g):{}}};const l=Object(a.b)(m=>{var g,E;const p=Object(r.b)(m);if(!p)return null;var h;return(h=(g=m.tileHistory)===null||g===void 0||(E=g[p])===null||E===void 0?void 0:E.historyStack)!==null&&h!==void 0?h:null});l.meta={name:"createSelector",key:"createSelectorgetHistoryStackForActiveTile",description:m=>{var g,E;const p=Object(r.b)(m);if(!p)return null;var h;return(h=(g=m.tileHistory)===null||g===void 0||(E=g[p])===null||E===void 0?void 0:E.historyStack)!==null&&h!==void 0?h:null}};const u=Object(a.b)(m=>{var g,E;const p=Object(r.b)(m);if(!p)return null;var h;return(h=(g=m.tileHistory)===null||g===void 0||(E=g[p])===null||E===void 0?void 0:E.historyIndex)!==null&&h!==void 0?h:null});u.meta={name:"createSelector",key:"createSelectorgetHistoryIndexForActiveTile",description:m=>{var g,E;const p=Object(r.b)(m);if(!p)return null;var h;return(h=(g=m.tileHistory)===null||g===void 0||(E=g[p])===null||E===void 0?void 0:E.historyIndex)!==null&&h!==void 0?h:null}};const f=Object(a.b)((m,g)=>{let{tileKey:E}=g;var p,h;return(p=m.tileHistory)===null||p===void 0||(h=p[E])===null||h===void 0?void 0:h.historyStack});f.meta={name:"createSelector",key:"createSelectorgetHistoryForTile",description:(m,g)=>{let{tileKey:E}=g;var p,h;return(p=m.tileHistory)===null||p===void 0||(h=p[E])===null||h===void 0?void 0:h.historyStack}};const d=Object(a.b)((m,g)=>{let{tileKey:E}=g;var p,h,_,b;const I=(p=m.tileHistory)===null||p===void 0||(h=p[E])===null||h===void 0?void 0:h.historyStack,C=(_=m.tileHistory)===null||_===void 0||(b=_[E])===null||b===void 0?void 0:b.historyIndex;return I&&(C??0)+1===I.length});d.meta={name:"createSelector",key:"createSelectorisBackDisabledForTile",description:(m,g)=>{let{tileKey:E}=g;var p,h,_,b;const I=(p=m.tileHistory)===null||p===void 0||(h=p[E])===null||h===void 0?void 0:h.historyStack,C=(_=m.tileHistory)===null||_===void 0||(b=_[E])===null||b===void 0?void 0:b.historyIndex;return I&&(C??0)+1===I.length}};const O=Object(t.a)(m=>l(m),m=>u(m),m=>Object(c.g)(m),(m,g,E)=>(m||[]).slice(g??0).map(p=>({primaryView:p.view,teamId:E})))},HP72:function(K,n,e){"use strict";e.d(n,"a",function(){return se});var s=e("iuhU"),t=e("HI9p"),a=e("Yk7g"),r=e("ifKl"),c=e("HiDb"),o=e("qAkX"),i=e("yIs4"),l=e("7EGn"),u=e("vfWj"),f=e("Muja"),d=e("oTSI"),O=e("hbEN"),m=e("WIr4"),g=e("3zPy"),E=e.n(g),p=e("q1tI"),h=e.n(p),_=e("c7k8"),b=e("RqXZ"),I=e("yxNq"),C;(function(ie){ie[ie.ELEMENT=1]="ELEMENT",ie[ie.ATTRIBUTE=2]="ATTRIBUTE",ie[ie.TEXT=3]="TEXT",ie[ie.CDATA_SECTION=4]="CDATA_SECTION",ie[ie.ENTITY_REFERENCE=5]="ENTITY_REFERENCE",ie[ie.ENTITY=6]="ENTITY",ie[ie.PROCESSING_INSTRUCTION=7]="PROCESSING_INSTRUCTION",ie[ie.COMMENT=8]="COMMENT",ie[ie.DOCUMENT=9]="DOCUMENT",ie[ie.DOCUMENT_TYPE=10]="DOCUMENT_TYPE",ie[ie.DOCUMENT_FRAGMENT=11]="DOCUMENT_FRAGMENT",ie[ie.NOTATION=12]="NOTATION"})(C||(C={}));const y=new Set(["INPUT","TEXTAREA","SELECT"]),P=new Set([...y,"BUTTON"]),T="http://www.w3.org/1999/xhtml",S="http://www.w3.org/2000/svg";function A(ie){return(ie==null?void 0:ie.nodeType)===C.TEXT}v(A,"isTextNode");function R(ie){return(ie==null?void 0:ie.nodeType)===C.ELEMENT}v(R,"isElement");function x(ie){return R(ie)&&ie.namespaceURI===T}v(x,"isHtmlElement");function M(ie){return R(ie)&&ie.namespaceURI===S}v(M,"isSvgElement");function j(ie){return x(ie)||M(ie)}v(j,"isHtmlOrSvgElement");function W(ie){return x(ie)||M(ie)}v(W,"isElementCssInlineStyle");function U(ie){return Y(ie,"a")}v(U,"isAnchorElement");function B(ie){return x(ie)&&P.has(ie.tagName)}v(B,"isInteractiveElement");function Y(ie,oe){return x(ie)&&ie.localName===oe}v(Y,"isHtmlElementWithTagName");function z(ie){return A(ie)?ie:null}v(z,"asTextNode");function F(ie){return R(ie)?ie:null}v(F,"asElement");function V(ie){return x(ie)?ie:null}v(V,"asHtmlElement");function L(ie,oe){const me=ie;return me.hasAttribute&&me.hasAttribute(oe)}v(L,"hasAttribute");function Q(ie,oe){return L(ie,`data-${oe}`)}v(Q,"hasData");var ee=e("RMmo"),te=e("2K8U"),le=e("lYQS"),Oe=e("FWtP"),he=e("oEDn"),Ee=e("nNoG"),ge=e("LpvA"),J=e("MYuU"),H=e("1ufr");function Z(){return Z=Object.assign||function(ie){for(var oe=1;oe<arguments.length;oe++){var me=arguments[oe];for(var ue in me)Object.prototype.hasOwnProperty.call(me,ue)&&(ie[ue]=me[ue])}return ie},Z.apply(this,arguments)}v(Z,"_extends");const q=new Ee.b("select"),k="-",se="sk-select-clear",re={label:"Clear selection",value:se},X=E()("esc");let w=v(class Pi extends ge.a{getCurrentActiveElement(){var oe,me;return(me=(oe=this.props.window)===null||oe===void 0?void 0:oe.document.activeElement)!==null&&me!==void 0?me:null}componentDidUpdate(oe){var me;const{selectState:ue,setSelectState:_e,shouldIncludeActiveOption:be=!1,dynamicHeight:Ae=!1,optionsShallowEqualComparisonDepth:Ce=4,shouldRerenderOnOptionChange:De=!1}=this.props,{filterQuery:Pe,options:Ue,initialActiveOption:ae}=ue,ne=!Object(I.a)(oe.selectState.options,Ue,Ce),Ie=Pe!==oe.selectState.filterQuery;if(ne||Ie){const Ne=typeof ae<"u"?this.getInitialActiveRowIndex():this.getFirstSelectableRowIndex();_e(()=>({activeRowIndex:Ne,...be?{activeOption:this.getOptionFromList(Ne)}:null}));const He=Ne||Ne===0;this.list.current&&He&&(this.list.current.forceUpdateGrid(),this.list.current.scrollToRow(Ne))}if(ne&&!Ie&&De){var Te;(Te=this.list.current)===null||Te===void 0||Te.recomputeRowHeights()}if(Ae&&(ue==null?void 0:ue.options)!==((me=oe.selectState)===null||me===void 0?void 0:me.options)){var Me;(Me=this.cellMeasurerCache)===null||Me===void 0||Me.clearAll(),this.list.current&&this.list.current.recomputeRowHeights()}this.removeAriaAttrsFromGridNode()}clearDynamicRowHeight(oe){var me;(me=this.cellMeasurerCache)===null||me===void 0||me.clear(oe,0),this.list.current&&this.list.current.recomputeRowHeights(oe)}getInitialActiveRowIndex(){const{selectState:oe}=this.props,{initialActiveOption:me}=oe;if(!me)return null;const ue=Object(t.a)(this.getOptionsList(),["option.value",me.value]);return ue>=0?ue:null}getFirstSelectableRowIndex(){const{selectState:oe,multiSelectMode:me=!1,customOptionCompare:ue,shouldAlwaysHaveActiveRow:_e=!1}=this.props,{filterQuery:be}=oe,Ae=this.getOptionsList();let Ce=null;if((be||_e)&&Ae.length){const De=Object(t.a)(Ae,Pe=>Pe.type!=="heading"&&Pe.type!=="divider"&&!this.isOptionSelected(oe,Pe.option,me,ue),0);De!==-1&&(Ce=De)}return Ce}componentDidMount(){this.keyCommands=this.initKeyCommands();const{focusOnMount:oe=!1,selectState:me,setSelectState:ue,shouldIncludeActiveOption:_e=!1,multiSelectMode:be=!1}=this.props,{selectedOption:Ae,selectType:Ce}=me;Ce===te.g.BASIC&&oe&&this.open();let De=null;if(!be&&Ae){const Pe=Object(t.a)(this.getOptionsList(),["option.value",Ae.value]);Pe!==-1&&(De=Pe)}else De=this.getFirstSelectableRowIndex();ue(()=>({activeRowIndex:De,..._e?{activeOption:this.getOptionFromList(De)}:null})),this.list.current&&typeof De=="number"&&this.list.current.scrollToRow(De),this.removeAriaAttrsFromGridNode()}componentWillUnmount(){const{focusOnMount:oe=!1,preventScroll:me=!1}=this.props,{selectType:ue}=this.props.selectState;this.keyCommands&&this.keyCommands.reset(),oe&&ue===te.g.BASIC&&this.previousFocus&&this.getCurrentActiveElement()!==this.previousFocus&&this.previousFocus.focus({preventScroll:me})}open(){const{focusOnMount:oe=!1,selectState:me}=this.props,{selectType:ue}=me;!oe&&ue!==te.g.BASIC||(this.previousFocus=this.getCurrentActiveElement(),this.listBody&&this.listBody.current&&this.listBody.current.focus())}close(oe){X===oe.keyCode&&this.onKeyPressedEsc(oe);const{focusOnMount:me=!1,preventScroll:ue=!1}=this.props,{selectType:_e}=this.props.selectState;!me&&_e!==te.g.BASIC||this.previousFocus&&this.getCurrentActiveElement()!==this.previousFocus&&this.previousFocus.focus({preventScroll:ue})}onKeyPressedDown(oe){if(this.isMouseMoveEnabled=!1,!this.shouldInterceptKeyEvent(oe))return;const{selectState:me,setSelectState:ue,shouldIncludeActiveOption:_e=!1}=this.props,{isExpanded:be,activeRowIndex:Ae}=me,Ce=this.getNextActiveRowIndex(Ae);be&&oe.preventDefault(),ue(()=>{var De;return{activeRowIndex:Ce,..._e?{activeOption:this.getOptionFromList(Ce)}:null,displayQuery:(De=this.getOptionFromList(Ce))===null||De===void 0?void 0:De.value}}),this.debouncedEnableMouseMove(),this.list.current&&(this.list.current.forceUpdateGrid(),Ce===1&&this.isFirstItemUnselectable()?this.list.current.scrollToRow(0):this.list.current.scrollToRow(Ce))}onKeyPressedUp(oe){if(this.isMouseMoveEnabled=!1,!this.shouldInterceptKeyEvent(oe))return;const{selectState:me,setSelectState:ue,shouldIncludeActiveOption:_e=!1}=this.props,{isExpanded:be,activeRowIndex:Ae}=me,Ce=this.getPreviousActiveRowIndex(Ae);if(be&&oe.preventDefault(),ue(()=>{var Ue;return{activeRowIndex:Ce,..._e?{activeOption:this.getOptionFromList(Ce)}:null,displayQuery:(Ue=this.getOptionFromList(Ce))===null||Ue===void 0?void 0:Ue.value}}),this.debouncedEnableMouseMove(),this.list.current){this.list.current.forceUpdateGrid();const Ue=this.getOptionsList();if(Ce){var De,Pe;if(((De=Ue[Ce])===null||De===void 0||(Pe=De.option)===null||Pe===void 0?void 0:Pe.height)!==0)this.list.current.scrollToRow(Ce);else{const ae=Object(a.a)(Ue.slice(0,Ce)).findIndex(ne=>{var Ie;return(ne==null||(Ie=ne.option)===null||Ie===void 0?void 0:Ie.height)!==0});this.list.current.scrollToRow(Ce-ae-1)}}}}onKeyPressedEsc(oe){const{shouldIncludeActiveOption:me=!1}=this.props;if(!this.props.selectState.isExpanded||!this.shouldInterceptKeyEvent(oe))return;oe.preventDefault();const{onOptionsListClose:ue=r.a}=this.props;ue&&ue(),this.props.setSelectState(()=>({isExpanded:!1,activeRowIndex:null,...me?{activeOption:null}:null,filterQuery:"",displayQuery:""}))}onMouseEnteredOption(oe){const{shouldIncludeActiveOption:me=!1}=this.props;this.isMouseMoveEnabled&&(this.props.setSelectState(()=>({activeRowIndex:oe,...me?{activeOption:this.getOptionFromList(oe)}:null})),this.list.current&&this.list.current.forceUpdateGrid())}onMouseLeftOption(){const{shouldAlwaysHaveActiveRow:oe=!1}=this.props;!this.isMouseMoveEnabled||oe||this.clearActive()}onKeyPressedEnter(oe){if(this.props.shouldDisableKeyPressedEnter||!this.shouldInterceptKeyEvent(oe))return;oe.preventDefault();const{activeRowIndex:me,initialActiveOption:ue}=this.props.selectState,_e=this.getOptionsList();let be;typeof me=="number"&&(be=_e[me]&&_e[me].option||_e[me]),be=be||ue,!(be&&(be.isDisabled||be.nonInteractive))&&(this.onOptionSelected(be),this.close(oe))}onKeyPressedShiftTab(oe){if(!this.shouldInterceptKeyEvent(oe))return;const{onKeyPressedShiftTab:me=r.a}=this.props;me&&me!==r.a&&me(oe)}onKeyPressedTab(oe){const{selectState:me,disableSelectOnTab:ue=!1}=this.props;if(ue||!this.shouldInterceptKeyEvent(oe)||!me.isExpanded)return;const{onKeyPressedTab:_e=r.a}=this.props;if(_e&&_e!==r.a){_e(oe);return}const{activeRowIndex:be,initialActiveOption:Ae}=me,Ce=this.getOptionsList();let De;typeof be=="number"&&(De=Ce[be]&&Ce[be].option||Ce[be]),De=De||Ae,De&&oe.preventDefault(),!(De&&(De.isDisabled||De.nonInteractive))&&this.onOptionSelected(De)}onOptionClicked(oe){this.onOptionSelected(oe,!0)}onScroll(oe){const{onScroll:me=r.a}=this.props;me&&me(oe)}static formatOptions(oe){let me=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return Object(c.a)(oe,(_e,be)=>{if(_e.type==="divider")return{type:"divider"};if(_e.options){const{options:Ae,label:Ce,...De}=_e,Pe=`${_e.label.toLowerCase()}${k}${Object(le.a)()}`,Ue=[{type:"heading",label:_e.label,group:Pe,optionsCount:_e.options&&_e.options.length||0,extras:De}].concat(_e.options.map((ae,ne)=>{const Ie={type:"option",option:ae,optgroup:Pe};return ne===0&&(Ie.isFirstChild=!0),ne===_e.options.length-1&&(Ie.isLastChild=!0),Ie}));if(me){if(oe[be-1]&&oe[be-1].value&&!oe[be-1].options&&Ue.unshift({type:"divider"}),Object(o.a)(oe)===_e)return Ue;Ue.push({type:"divider"})}return Ue}return{type:"option",option:_e}})}getClassName(oe,me){const{unstyled:ue=!1}=this.props;return ue&&me?Object(s.default)(me):Object(s.default)(me,oe)}getRowHeight(oe){var me;const{optionsRowHeight:ue=te.a,headingRowHeight:_e=null,dividerRowHeight:be=te.b}=this.props;return oe.option&&Object(i.a)(oe.option.height)?Number(oe.option.height):oe.type&&oe.type==="divider"?be:oe.type==="heading"&&Object(i.a)((me=oe.extras)===null||me===void 0?void 0:me.height)?Number(oe.extras.height):oe.type&&oe.type==="heading"&&_e!==null?_e:ue}clearActive(){const{shouldIncludeActiveOption:oe=!1}=this.props;this.props.setSelectState(()=>({activeRowIndex:null,...oe?{activeOption:null}:null})),this.list.current&&this.list.current.forceUpdateGrid()}focusNode(oe){oe&&this.getCurrentActiveElement()!==oe&&oe.focus()}getOptionFromList(oe){const me=this.getOptionsList();return Object(l.a)(me,`[${oe}].option`,null)}getOptionsList(){const{multiSelectMode:oe=!1,selectState:me,includeDividers:ue=!0}=this.props,{options:_e,isRequired:be,selectedOption:Ae}=me;let Ce=[];return _e&&_e.length&&(!oe&&Ae&&!be?Ce=[re,..._e]:Ce=_e,Ce=[...this.formatOptions(Ce,ue)]),Ce}enableMouseMove(){this.isMouseMoveEnabled=!0}getDataQaTag(oe,me){const{selectDataQa:ue=void 0,selectState:_e}=this.props,{isRequired:be}=_e,Ae=oe.value?oe.value:oe.label;let Ce="";typeof Ae=="string"&&(Ce=Ae.replace(/[^\w\s]/g,"").replace(/\s/g,"_").toLowerCase());const De=be?me:me-1;return oe.value?`${ue}_option_${De}`:`${ue}_option_header_${Ce}`}isFirstItemUnselectable(){var oe,me,ue;const _e=this.getOptionsList();return((oe=_e[0])===null||oe===void 0?void 0:oe.type)==="heading"||((me=_e[0])===null||me===void 0||(ue=me.option)===null||ue===void 0?void 0:ue.nonInteractive)}getNextActiveRowIndex(oe){const me=this.getOptionsList(),ue=this.isFirstItemUnselectable();if(oe===null&&!ue)return 0;if(oe===null&&ue)return 1;let _e=null;return typeof oe=="number"&&(_e=Object(t.a)(me,be=>{var Ae;return be.type!=="heading"&&be.type!=="divider"&&!(!(be==null||(Ae=be.option)===null||Ae===void 0)&&Ae.nonInteractive)},oe+1)),typeof _e=="number"&&me[_e]?_e:ue?1:0}getPreviousActiveRowIndex(oe){const me=this.getOptionsList();let ue,_e;return typeof oe=="number"&&(ue=Object(a.a)(me.slice(0,oe)).findIndex(be=>{var Ae;return be.type!=="heading"&&be.type!=="divider"&&!(!(be==null||(Ae=be.option)===null||Ae===void 0)&&Ae.nonInteractive)}),_e=oe-ue-1),me&&!me.length?null:_e===oe?me.length-1:typeof _e=="number"&&typeof oe=="number"&&me[_e]&&oe>0?_e:me.length-1}initKeyCommands(){var oe;const{shouldTokenizeOnComma:me,shouldTokenizeOnSpace:ue}=this.props,_e=new ee.a((oe=this.props.window)===null||oe===void 0?void 0:oe.document),be=["enter"];return me&&be.push("comma"),ue&&be.push("space"),_e.bindAll([{keys:["down"],handler:this.onKeyPressedDown},{keys:be,handler:this.onKeyPressedEnter,filter:Ae=>Ae.code.toLowerCase()==="comma"&&Ae.key!==","},{keys:["up"],handler:this.onKeyPressedUp},{keys:["tab"],handler:this.onKeyPressedTab},{keys:["shift+tab"],handler:this.onKeyPressedShiftTab}]),_e}handleClear(){const{selectState:oe,setSelectState:me,onOptionSelected:ue=r.a,multiSelectMode:_e=!1,onMultiSelectClear:be=void 0}=this.props,{selectedOption:Ae,selectedOptions:Ce}=oe;let De=!1;Ae?(me(()=>({selectedOption:null,isExpanded:!1,filterQuery:"",displayQuery:""}),()=>{ue&&ue({value:null})}),De=!0):_e&&Ce&&Ce.length&&(me(()=>({selectedOptions:[],isExpanded:!1,filterQuery:"",displayQuery:""}),()=>{be&&be()}),De=!0),this.list.current&&De&&this.list.current.forceUpdateGrid()}onOptionSelected(oe){let me=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;const{onOptionSelected:ue=r.a,onOptionUnselected:_e=r.a,selectState:be,setSelectState:Ae,multiSelectMode:Ce=!1,inputRef:De,customOptionCompare:Pe,shouldIncludeActiveOption:Ue=!1,shouldOptionBeSelected:ae,shouldAllowUnselectInMultiSelectMode:ne=!1,shouldAllowUnselectInSingleSelectMode:Ie=!0,stayExpandedAfterSelection:Te=!1}=this.props;if(oe&&!oe.isDisabled&&!oe.nonInteractive){if(ae&&ae(oe)===!1){Ae(()=>({activeRowIndex:null,filterQuery:"",isExpanded:!1}),()=>{ue(oe)});return}if(oe.value===se)this.handleClear();else if(Ce){const{selectedOptions:Me,shouldRefocusInputAfterSelection:Ne}=be;if(!this.isOptionSelected(be,oe,Ce,Pe)&&Me)Ae(()=>({selectedOptions:[...Me,oe],activeRowIndex:null,...Ue?{activeOption:null}:null,filterQuery:"",isExpanded:Te}),()=>{ue&&ue(oe)});else if(ne){const Et=Object(u.a)(Me,[oe],(Je,qe)=>Je.value===qe.value);Ae(()=>({selectedOptions:Et,activeRowIndex:null,...Ue?{activeOption:null}:null,filterQuery:"",isExpanded:Te}),()=>{_e&&_e(oe)})}!Ne&&!oe.fromUnknown&&De&&De.current&&De.current.focus()}else{const Me={isExpanded:!1,filterQuery:"",displayQuery:"",selectedOption:Ie?null:be.selectedOption};!Object(f.a)(be.selectedOption,oe)&&(Me.selectedOption=oe),Ae(()=>Me,()=>{ue&&ue(oe,me)}),be.shouldRefocusInputAfterSelection&&De&&De.current&&De.current.focus()}}}getArialabelForItem(oe){var me,ue,_e,be;const{isFirstChild:Ae,isLastChild:Ce,optgroup:De}=oe;if(!De)return null;const Pe=q.t("First item in group {group}, {value}",{group:De&&De.split(k).slice(0,-1).join("-"),value:typeof((me=oe.option)===null||me===void 0?void 0:me.label)=="string"?(ue=oe.option)===null||ue===void 0?void 0:ue.label:""}),Ue=q.t("Last item in group {group}, {value}",{group:De&&De.split(k).slice(0,-1).join("-"),value:typeof((_e=oe.option)===null||_e===void 0?void 0:_e.label)=="string"?(be=oe.option)===null||be===void 0?void 0:be.label:""});return Ae?Pe:Ce?Ue:null}shouldInterceptKeyEvent(oe){return!oe.target||!R(oe.target)?!1:!!(L(oe.target,"aria-autocomplete")||L(oe.target,"aria-haspopup")||this.listBody.current&&this.listBody.current.contains(oe.target))}removeAriaAttrsFromGridNode(){const oe=this.listBody.current,me=oe&&oe.querySelector(".ReactVirtualized__Grid");me&&(me.removeAttribute("aria-label"),me.removeAttribute("aria-readonly"))}renderEmptyState(){const{emptyStateMessage:oe,unstyled:me=!1,width:ue,selectState:_e,isLoading:be=!1,selectDataQa:Ae=void 0,includeWrapper:Ce=!0}=this.props;if(be)return h.a.createElement(h.a.Fragment,null);const{filterQuery:De}=_e;let Pe=q.t("No items");if(oe&&(Pe=oe(De),Pe===null))return h.a.createElement(h.a.Fragment,null);const Ue=me||!Ce?+ue:+ue-te.d;return h.a.createElement("div",{"data-qa":Ae?`${Ae}-empty-state`:null,className:this.getClassName("c-select_options_list__empty_state"),style:{width:Ue}},h.a.createElement("div",{role:"alert",className:this.getClassName("c-select_options_list__option c-select_options_list__option--empty-state")},Pe))}getContainerStyle(){return{position:"relative",overflow:"visible"}}getListStyle(oe){return{padding:oe?te.c:void 0,boxSizing:"content-box"}}renderList(){const{maxListHeight:oe,width:me,includePadding:ue,unstyled:_e=!1,useSlackScrollbar:be,dynamicHeight:Ae=!1,forceMaxHeight:Ce,includeWrapper:De=!0,classPrefix:Pe=void 0}=this.props,Ue=this.getOptionsList(),ae=oe||te.e,ne=Ue.map(He=>this.getRowHeight(He)||0).reduce((He,Et)=>He+Et,0),Ie=Ce||ne>=ae?ae:ne,Te=_e||!De?+me:+me-te.d,Me=Object(s.default)("c-select_options_list__virtual_list",{"c-select_options_list__virtual_list--slack_scrollbar":be,[`${Pe}__virtual_list`]:!!Pe}),Ne=Ae&&this.cellMeasurerCache?this.cellMeasurerCache.rowHeight:He=>{let{index:Et}=He;return this.getRowHeight(Ue[Et])};return this.cellMeasurerCache?h.a.createElement(b.a,{className:Me,containerRole:"presentation",containerStyle:this.getContainerStyle(),style:this.getListStyle(ue),height:Ie,deferredMeasurementCache:this.cellMeasurerCache,noRowsRenderer:this.renderEmptyState,onScroll:this.debouncedOnScroll,ref:this.list,rowCount:Ue?Ue.length:0,rowHeight:Ne,rowRenderer:this.renderRow,tabIndex:null,role:"presentation","no-bootstrap":1,width:Te}):h.a.createElement(b.a,{className:Me,containerRole:"presentation",containerStyle:this.getContainerStyle(),style:this.getListStyle(ue),height:Ie,noRowsRenderer:this.renderEmptyState,onScroll:this.debouncedOnScroll,ref:this.list,rowCount:Ue?Ue.length:0,rowHeight:Ne,rowRenderer:this.renderRow,tabIndex:null,role:"presentation","no-bootstrap":1,width:Te})}renderListBody(){const{enableLoadingState:oe=!0,isLoading:me=!1}=this.props;if(me&&oe)return this.renderLoadingState();const ue=this.getOptionsList();return!ue||ue&&!ue.length?this.renderEmptyState():this.renderList()}renderLoadingState(){const{width:oe}=this.props,me=q.t("Loading results\u2026");return h.a.createElement("div",{className:this.getClassName("c-select_options_list__loading_state"),style:{width:oe}},h.a.createElement(he.a,{type:"spinner",animation:"spin"}),h.a.createElement("div",{className:this.getClassName("c-select_options_list__loading_state_message")},me))}renderRow(oe){let{index:me,key:ue,style:_e,parent:be}=oe;var Ae;const{classPrefix:Ce=void 0,selectState:De,multiSelectMode:Pe=!1,customOptionCompare:Ue,unstyled:ae=!1,dynamicHeight:ne=!1}=this.props,{selectId:Ie}=De,Te=this.getOptionsList();let Me;Te[me].option?Me=Te[me].option:Me=Te[me];const{isPlaceholder:Ne}=Me,{activeRowIndex:He}=De,{selectedOption:Et,selectedOptions:Je}=De;let qe;typeof He=="number"&&(qe=this.isOptionActive({activeRowIndex:He},Te,Me));const ke=this.isOptionSelected({selectedOptions:Je,selectedOption:Et},Me,Pe,Ue),rt=Me.value===se,pe=Te[me].type==="heading",je=!!Te[me].optgroup,xe=Te[me].type==="divider",ze=!!Me.isDisabled,st=!!Me.nonInteractive,ct=pe||st||xe,dt=Te.filter(mn=>mn.type!=="heading"&&mn.type!=="divider"&&!mn.nonInteractive),bt=Object(t.a)(dt,mn=>mn.option===Me,0),Ft=Ce?`${Ce}__option`:"",Bt=Object(s.default)("c-select_options_list__option",Ft,Object(l.a)(Me,"overrides.className",!1),{"c-select_options_list__option--active":qe&&Object(l.a)(Me,"overrides.useHoverStyles",!0),"c-select_options_list__option--placeholder":Ne,"c-select_options_list__option--selected":ke&&!pe&&!xe,"c-select_options_list__option--disabled":ze,"c-select_options_list__group_header":pe,"c-select_options_list__group_option":je,"c-select_options_list__divider":xe,"c-select_options_list__clear_option":rt});let at=rt?Me.label:h.a.createElement("hr",{className:this.getClassName("c-select_options__divider")});!xe&&!rt&&(at=this.props.renderOption(Me,{index:me,isActive:qe,isGroupHeader:pe,isClearOption:rt,isSelected:ke&&!pe&&!xe,clearDynamicRowHeight:this.clearDynamicRowHeight}));let Ht;if(ae||!((Ae=Me.overrides)===null||Ae===void 0)&&Ae.unstyled)Ht=at;else{var Wt;Ht=h.a.createElement("span",{"data-qa":Me.value,className:this.getClassName("c-select_options_list__option_label",{normal_wrap:(Wt=Me.extras)===null||Wt===void 0?void 0:Wt.forceHeaderWrap})},at)}const yt=dt.length,Xt=bt===-1?void 0:bt+1,cn=h.a.createElement("div",Z({"aria-hidden":ct?"true":null,"aria-selected":Pe?ke:qe,"aria-label":pe?null:this.getArialabelForItem(Te[me]),className:this.getClassName(Bt,Ft),"data-qa":xe?void 0:this.getDataQaTag(Me,me),id:Object(J.a)(Ie,`option_${me}`),key:ue},_e?{style:_e}:{},{onClick:ze||st?Object(d.a)(()=>this.onOptionSelected(Me)):Object(d.a)(()=>{this.onOptionClicked(Me)}),onMouseEnter:ze||st?r.a:Object(d.a)(()=>{this.onMouseEnteredOption(me)}),onMouseLeave:ze||st?r.a:this.onMouseLeftOption,role:"option",tabIndex:-1,"data-is-active":qe?"true":void 0,ref:qe?this.currentRow:null,optgroup:je?Te[me].optgroup:void 0,"aria-disabled":ze||null,"aria-setsize":yt,"aria-posinset":Xt}),Ht);return!ne||!this.cellMeasurerCache?cn:h.a.createElement(_.c,{cache:this.cellMeasurerCache,columnIndex:0,rowIndex:me,key:ue,parent:be},cn)}isOptionSelected(oe,me,ue,_e){let{selectedOptions:be,selectedOption:Ae}=oe;return ue&&(!be||be&&!be.length)||!ue&&!Ae?!1:ue?!_e&&me?be&&be.some(Ce=>Ce.value===me.value):be&&be.some(Ce=>_e({selectedOption:Ce,listOption:me})):Ae&&me&&Ae.value===me.value}isOptionActive(oe,me,ue){let{activeRowIndex:_e}=oe;if(!_e&&_e!==0)return!1;const Ae=me[_e];return(Ae&&Ae.option?Ae.option:Ae)===ue}render(){const{className:oe,ariaLabel:me,classPrefix:ue=void 0,multiSelectMode:_e=!1,selectDataQa:be=void 0,selectState:Ae,dropdownContainer:Ce=void 0,footerBannerContent:De}=this.props,{isExpanded:Pe,activeRowIndex:Ue,selectId:ae,selectType:ne}=Ae,Ie=Object(s.default)("c-select_options_list",{[`${ue}_options_list`]:ue}),Te=ne===te.g.BASIC&&Pe&&Object(i.a)(Ue)?Object(J.a)(ae,`option_${Ue}`):void 0,Me=h.a.createElement("div",{className:Ie,ref:this.listBody,"data-qa":be?`${be}-options-list`:null,id:Object(J.a)(ae,"listbox"),"aria-activedescendant":Te,"aria-label":me,"aria-multiselectable":!!_e,role:"listbox",tabIndex:-1,onMouseMove:this.enableMouseMove},this.renderListBody()),{includeWrapper:Ne=!0}=this.props;if(!Ne)return Me;const He=Object(s.default)("c-select_options_list__wrapper",{[`${oe}`]:oe,[`${ue}_options_list_wrapper`]:ue});return h.a.createElement("div",Z({className:this.getClassName(He),"data-qa":be?`${be}-options-list-wrapper`:null},Ce?{ref:Ce}:{}),Me,De&&h.a.createElement("div",{className:"c-select_options_list__footer_banner"},De))}constructor(oe){super(oe),this.isMouseMoveEnabled=!1,Object(m.a)(this,["getOptionsList","getOptionFromList","handleClear","onKeyPressedDown","onKeyPressedEnter","onKeyPressedTab","onKeyPressedShiftTab","onKeyPressedUp","onMouseLeftOption","onScroll","renderRow","clearDynamicRowHeight","initKeyCommands"]),this.listBody=h.a.createRef(),this.list=h.a.createRef(),this.currentRow=h.a.createRef(),this.keyCommands=void 0,this.previousFocus=null,this.cellMeasurerCache=void 0,this.formatOptions=Object(Oe.a)(Pi.formatOptions),this.enableMouseMove=this.enableMouseMove.bind(this),this.debouncedEnableMouseMove=Object(O.a)(this.enableMouseMove,200),this.debouncedOnScroll=Object(O.a)(this.onScroll.bind(this),200),re.label=q.t("Clear selection");const{optionsRowHeight:me=te.a,dynamicHeight:ue=!1}=oe;ue&&(this.cellMeasurerCache=new _.d({defaultHeight:me,fixedWidth:!0}))}},"SelectOptionsList");w.displayName="SelectOptionsList";var ce=n.b=Object(H.a)(w)},HRmD:function(K,n,e){"use strict";e.d(n,"a",function(){return u});var s=e("HYaO"),t=e("C3vN"),a=e("+l5E"),r=e("lhZz"),c=e("DQNL"),o=e("2vLX");function i(f,d){const O=new RegExp(c.a);let m=O.exec(d);for(;m;){const g=m[1];if(Object(o.b)(f,g))return!0;m=O.exec(d)}return!1}v(i,"checkForUserGroupMention");var l=e("9Pu8");function u(f){let{text:d,msg:O,memberId:m,highlightWords:g,teamId:E,options:p}=f;if(!d)return!1;const h=Object(s.a)(O);if(!p.ignoreUserAndUserGroupMentions&&m){const I=Object(t.r)(m);if(I&&I.test(d))return!0}if(!p.ignoreAtHereMentions&&a.d.test(d)||!p.ignoreAtEveryoneMentions&&!h&&a.b.test(d)||!p.ignoreAtChannelMentions&&!h&&a.a.test(d)||!p.ignoreAtChannelMentions&&!h&&a.c.test(d))return!0;const _=Object(r.getStateByTeamId)(E);return!!(i(_,d)||!p.ignoreHighlightWords&&Object(l.b)(d,g).length>0)}v(u,"checkForMention")},HUUN:function(K,n,e){"use strict";e.d(n,"a",function(){return d});var s=e("Lgge"),t=e("q1tI"),a=e.n(t),r=e("Muja"),c=e("fujP"),o=e("ifKl"),i=e("hbEN"),l=e("s4P+");function u(){return u=Object.assign||function(O){for(var m=1;m<arguments.length;m++){var g=arguments[m];for(var E in g)Object.prototype.hasOwnProperty.call(g,E)&&(O[E]=g[E])}return O},u.apply(this,arguments)}v(u,"_extends");const f=Object(l.b)();function d(O){let m=v(class extends t.Component{componentDidMount(){const{searchOnClick:E,disableSearchOnMount:p,expandOnFocus:h}=this.props;(!E&&!p||h)&&this.state.filterQuery!==void 0&&this.search(this.state.filterQuery)}componentDidUpdate(E){const{isInvalid:p,selectedOption:h,selectedOptions:_,isDisabled:b}=this.props,I={};E.isInvalid!==p&&(I.isInvalid=p),E.isDisabled!==b&&(I.isDisabled=b),Object(r.a)(E.selectedOption,h)||(I.selectedOption=h),Object(r.a)(E.selectedOptions,_)||(I.selectedOptions=_),Object(c.a)(I)||this.setSelectState(()=>I)}componentWillUnmount(){this.searchPromise&&this.searchPromise.cancel&&this.searchPromise.cancel()}setSelectState(E,p){const h=E();(h.filterQuery!==void 0&&h.filterQuery!==this.state.filterQuery||h.searchOnClick)&&(this.searchPromise&&this.searchPromise.cancel&&this.searchPromise.cancel(),this.setState(()=>({isLoading:!0,searchOnClick:!1})),this.search(h.filterQuery)),this.setState(()=>h,p)}search(E){const{search:p,onSearch:h=o.a,onSearchError:_=o.a,selectId:b,processOptions:I=v(C=>s.a.resolve(C),"processOptions")}=this.props;h(E),this.searchPromise=p(E).then(C=>{I(C,E).then(y=>{this.setSelectState(()=>({options:y})),this.setState(()=>({isLoading:!1}))})}).catch(C=>{this.setState(()=>({isLoading:!1})),f.error(`Error when searching for select id: ${b}, error: ${C}`),_(C)})}render(){const E=this.props.inputRef||this.inputRef;return a.a.createElement(O,u({},this.props,{selectState:this.state,setSelectState:this.setSelectState,inputRef:E,isLoading:this.state.isLoading}))}constructor(E){super(E),this.inputRef=a.a.createRef(),this.searchPromise=null,this.setSelectState=this.setSelectState.bind(this),this.state={filterQuery:"",displayQuery:"",options:[],isExpanded:E.isExpanded,expandOnFocus:E.expandOnFocus,selectId:E.selectId,selectedOptions:E.selectedOptions||[],selectedOption:E.selectedOption||null,isRequired:E.isRequired,isLoading:!1,isDisabled:E.isDisabled,isInvalid:E.isInvalid,searchOnClick:E.searchOnClick},this.search=Object(i.a)(this.search,E.debounceWaitPeriod)}},"CustomSearchWrapper");return m.displayName="CustomSearchWrapper",m.defaultProps={isRequired:!0,selectedOptions:null,selectedOption:null,isExpanded:!1,expandOnFocus:!1,isDisabled:!1,isInvalid:!1,debounceWaitPeriod:50,onSearch:o.a,onSearchError:o.a,searchOnClick:!1,disableSearchOnMount:!1,processOptions:g=>s.a.resolve(g)},m}v(d,"withCustomSearch")},HXkx:function(K,n,e){"use strict";e.d(n,"a",function(){return l});var s=e("SQ0V"),t=e("i6Ao"),a=e("O86Y"),r=e("PWAB"),c=e("HMe0"),o=e("G5NC"),i=e("j77i");const l=Object(s.c)("Push current tile history state into browser history",function(u,f){let{replaceHistory:d=!1}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(!Object(o.a)())return;const O=f(),m=Object(a.g)(O),g=Object(c.c)(O);Object(i.w)(m,r.a.HISTORY,g),d?window.history.replaceState({tileState:f().tiles,tileHistoryState:g},document.title):(window.history.pushState({tileState:f().tiles,tileHistoryState:g},document.title),Object(t.a)())});l.meta={name:"createThunk",key:"createThunkpushBrowserHistoryState",description:"Push current tile history state into browser history"}},HYaG:function(K,n,e){K.exports=e.p+"disco_party-e00fcb6.mp3"},HYaO:function(K,n,e){"use strict";e.d(n,"a",function(){return a});var s=e("3TsL"),t=e("ccuj");function a(r){if(!r)return!1;const c=Object(s.a)(r),o=Object(t.a)(r);return!!o&&o!==c}v(a,"isReply")},HaWS:function(K,n,e){"use strict";e.d(n,"e",function(){return f}),e.d(n,"d",function(){return d}),e.d(n,"a",function(){return O}),e.d(n,"b",function(){return m}),e.d(n,"c",function(){return g});var s=e("ZKjC"),t=e("ctiz"),a=e("UOL+"),r=e("E3dU"),c;const o=Object(s.b)(E=>{var p;return(c=(p=Object(a.a)(E))===null||p===void 0?void 0:p.recentMention)!==null&&c!==void 0?c:E==null?void 0:E.recentMention});var i;o.meta={name:"createSelector",key:"createSelectorgetRecentMentionState",description:E=>{var p;return(i=(p=Object(a.a)(E))===null||p===void 0?void 0:p.recentMention)!==null&&i!==void 0?i:E==null?void 0:E.recentMention}};const l=Object(s.b)(E=>{var p;const h=(p=o(E))===null||p===void 0?void 0:p.channelId;return h?Object(r.c)(E,h):{}});l.meta={name:"createSelector",key:"createSelectorgetRecentMentionChannel",description:E=>{var p;const h=(p=o(E))===null||p===void 0?void 0:p.channelId;return h?Object(r.c)(E,h):{}}};const u=Object(s.b)(E=>{var p;return(p=o(E))===null||p===void 0?void 0:p.channelId});u.meta={name:"createSelector",key:"createSelectorgetRecentMentionChannelId",description:E=>{var p;return(p=o(E))===null||p===void 0?void 0:p.channelId}};const f=Object(s.b)((E,p)=>{var h,_,b;return E==null||(h=E.prefs)===null||h===void 0||(_=h.notifications)===null||_===void 0||(b=_.global)===null||b===void 0?void 0:b[p]});f.meta={name:"createSelector",key:"createSelectorgetNotificationsGlobalPref",description:(E,p)=>{var h,_,b;return E==null||(h=E.prefs)===null||h===void 0||(_=h.notifications)===null||_===void 0||(b=_.global)===null||b===void 0?void 0:b[p]}};const d=Object(s.b)((E,p,h)=>{var _,b,I,C;return E==null||(_=E.prefs)===null||_===void 0||(b=_.notifications)===null||b===void 0||(I=b.channels)===null||I===void 0||(C=I[p])===null||C===void 0?void 0:C[h]});d.meta={name:"createSelector",key:"createSelectorgetNotificationsChannelPref",description:(E,p,h)=>{var _,b,I,C;return E==null||(_=E.prefs)===null||_===void 0||(b=_.notifications)===null||b===void 0||(I=b.channels)===null||I===void 0||(C=I[p])===null||C===void 0?void 0:C[h]}};const O=Object(s.b)(E=>{var p,h;return(E==null||(p=E.prefs)===null||p===void 0||(h=p.notifications)===null||h===void 0?void 0:h.channels)||{}});O.meta={name:"createSelector",key:"createSelectorgetAllNotificationOverrides",description:E=>{var p,h;return(E==null||(p=E.prefs)===null||p===void 0||(h=p.notifications)===null||h===void 0?void 0:h.channels)||{}}};const m=Object(s.b)((E,p)=>{var h,_,b;return E==null||(h=E.prefs)===null||h===void 0||(_=h.notifications)===null||_===void 0||(b=_.channels)===null||b===void 0?void 0:b[p]});m.meta={name:"createSelector",key:"createSelectorgetChannelNotificationOverride",description:(E,p)=>{var h,_,b;return E==null||(h=E.prefs)===null||h===void 0||(_=h.notifications)===null||_===void 0||(b=_.channels)===null||b===void 0?void 0:b[p]}};const g=Object(s.b)(E=>{const p=u(E),h=p?Object(t.g)(E,p):null,_=f(E,"global_desktop");return h||_});g.meta={name:"createSelector",key:"createSelectorgetDesktopOrGlobalNotificationSetting",description:E=>{const p=u(E),h=p?Object(t.g)(E,p):null,_=f(E,"global_desktop");return h||_}}},Hm4q:function(K,n,e){"use strict"},HpvR:function(K,n,e){"use strict";e.d(n,"b",function(){return l}),e.d(n,"a",function(){return u});var s=e("ZKjC"),t=e("E3dU"),a=e("dmdh"),r=e("hjzp"),c=e("6dQg"),o=e("l1I1"),i=e("CnKg");const l=v(f=>{if(Object(o.a)(f)){const{fileIdOrQuipThreadId:m=null}=Object(i.i)(f)||{};if(m&&Object(c.a)(m)){const g=m,E=Object(r.a)(g);return{fileId:g,channelId:E}}}if(Object(c.a)(f)){const m=f,g=Object(r.a)(m);return{fileId:m,channelId:g}}const d=f;return{fileId:Object(r.b)(d),channelId:d}},"getIds"),u=Object(s.b)(function(f,d){let O=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;const{channelId:m,fileId:g}=l(d);return Object(a.c)(f,g,O),Object(t.c)(f,m,O)});u.meta={name:"createSelector",key:"createSelectorgetFileChannelById",description:function(f,d){let O=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;const{channelId:m,fileId:g}=l(d);return Object(a.c)(f,g,O),Object(t.c)(f,m,O)}}},"HsT/":function(K,n,e){K.exports=e.p+"whistle_tune-2d9d88e.mp3"},I0SW:function(K,n,e){"use strict";e.d(n,"a",function(){return t});var s=e("ZKjC");const t=Object(s.b)((a,r)=>{let{channelId:c,ts:o}=r;return a&&a.deletedMessages&&a.deletedMessages[c]&&!!a.deletedMessages[c][o]});t.meta={name:"createSelector",key:"createSelectorwasMessageDeleted",description:(a,r)=>{let{channelId:c,ts:o}=r;return a&&a.deletedMessages&&a.deletedMessages[c]&&!!a.deletedMessages[c][o]}}},"I0j/":function(K,n,e){"use strict";e.d(n,"a",function(){return f});var s=e("SQ0V"),t=e("RV0M"),a=e("PIf0"),r=e("2VFn"),c=e("rZ8V"),o=e("MgkY"),i=e("f24l"),l=e("Qttk"),u=e("SQbT");const f=Object(s.c)("Navigate to an ID with optional params using the multi-view architecture",(d,O,m,g)=>{let{id:E,viewType:p,params:h,uiState:_,options:b}=m;const{isChildWindow:I,shouldNavigateInContext:C,container:y,forceTabWhenNavigating:P}=g(t.a),S=g(a.a).windowId||r.c,A=Object(c.g)(O()),R=I&&(!C||A&&!Object(u.a)(O(),E)),x=(S===r.c||R)&&A,M=S&&typeof S=="string"&&I;if(x){R&&d(Object(l.a)());var j;return d(Object(o.a)({windowId:S,sourceContainer:y,id:E,viewType:p,params:h,uiState:_,options:{...b,forceTab:(j=b==null?void 0:b.forceTab)!==null&&j!==void 0?j:P}}))}return M?d(Object(i.a)({windowId:S,id:E,viewType:p,params:h,uiState:_,options:b,shouldNavigateInContext:C,sourceContainer:y})):null});f.meta={name:"createThunk",key:"createThunknavigate",description:"Navigate to an ID with optional params using the multi-view architecture"}},I6n1:function(K,n,e){"use strict";e.d(n,"d",function(){return s}),e.d(n,"i",function(){return t}),e.d(n,"j",function(){return a}),e.d(n,"g",function(){return r}),e.d(n,"h",function(){return c}),e.d(n,"f",function(){return o}),e.d(n,"e",function(){return i}),e.d(n,"b",function(){return l}),e.d(n,"a",function(){return u}),e.d(n,"c",function(){return d});const s="notifications",t="all_notifications_prefs",a="user_colors",r="frecency_jumper",c="ia_theme",o="frecency_ent_jumper",i="emoji_use",l="channel_sections",u="channel_canvas_layouts",f=["should_show_contextual_help_for_section_navigation"],d={should_show_contextual_help_for_section_navigation:!0}},IHnR:function(K,n,e){"use strict";e.d(n,"b",function(){return t}),e.d(n,"a",function(){return r});var s=e("ZKjC");const t=Object(s.b)((o,i)=>{var l;return!!(!((l=o.externalTeamIds)===null||l===void 0)&&l[i])});t.meta={name:"createSelector",key:"createSelectorisTeamExternalById",description:(o,i)=>{var l;return!!(!((l=o.externalTeamIds)===null||l===void 0)&&l[i])}};var a;const r=Object(s.b)(o=>!!Object.keys((a=o.externalTeamIds)!==null&&a!==void 0?a:{}).length);var c;r.meta={name:"createSelector",key:"createSelectorhasAnyExternalTeam",description:o=>!!Object.keys((c=o.externalTeamIds)!==null&&c!==void 0?c:{}).length}},IIEv:function(K,n,e){"use strict";e.d(n,"a",function(){return l});var s=e("9oTK"),t=e.n(s),a=e("SQ0V"),r=e("AqXs"),c=e("s4P+"),o=e("hwwf"),i=e("uoFi");const l=Object(a.c)("Fetch list records",function(){var u=Object(s.coroutine)(function*(f,d,O){let{listId:m}=O;try{const E=(yield f(Object(r.a)({listId:m,reason:"get-list-records"}))).records.map(p=>{var h,_,b,I;return Object(o.o)({id:p.id,fields:p.fields,dateCreated:p.date_created,threadTs:(h=p.thread_ts)!==null&&h!==void 0?h:"",position:(_=p.position)!==null&&_!==void 0?_:"",updatedTimestamp:(b=p.updated_timestamp)!==null&&b!==void 0?b:"",updatedBy:(I=p.updated_by)!==null&&I!==void 0?I:"",viewPositions:p.view_positions})});f(Object(i.c)({listId:m,records:E}))}catch(g){Object(c.a)({label:"lists"}).error("error fetching list records",g)}});return function(f,d,O){return u.apply(this,arguments)}}());l.meta={name:"createThunk",key:"createThunkfetchRecords",description:"Fetch list records"}},IMMN:function(K,n,e){"use strict";e.d(n,"a",function(){return u});var s=e("beVI"),t=e("E97Y"),a=e("y/Pn"),r=e("miM7");const c=v((f,d)=>!Object(t.h)(d)&&Object(a.a)(d)&&!Object(r.a)(d),"canBeDisconnected");var o=e("Qrgz"),i=e("G0eX"),l=e("MPQZ");function u(f,d){if(d&&!c(f,d))return!1;if(d&&Object(o.N)(f,{channel:d}))return!0;const O=Object(s.g)(f);return Object(i.C)(O)?!0:Object(l.a)(f)}v(u,"canUserDisconnectExternalSharedChannel")},IPMH:function(K,n,e){K.exports=e.p+"gym-4d948fc.jpg"},ITwW:function(K,n,e){K.exports=e.p+"tokyo_sight-preview-3554da9.jpg"},IXWQ:function(K,n,e){K.exports=e.p+"living_room-preview-1b54428.jpg"},IXzp:function(K,n,e){"use strict";e.d(n,"i",function(){return R}),e.d(n,"a",function(){return x}),e.d(n,"h",function(){return M}),e.d(n,"g",function(){return j}),e.d(n,"b",function(){return W}),e.d(n,"e",function(){return U}),e.d(n,"d",function(){return F}),e.d(n,"f",function(){return Q}),e.d(n,"c",function(){return ee}),e.d(n,"j",function(){return te}),e.d(n,"k",function(){return le});var s=e("ZOzc"),t=e("ISSR"),a=e("vfvl"),r=e("Yauy"),c=e("gVOt"),o=e("E97Y"),i=e("0JvK"),l=e("G0eX"),u=e("mzZe"),f=e("xwCZ"),d=e("I27i"),O=e("Enx8"),m=e("C3vN"),g=e("beVI"),E=e("nNoG"),p=e("E3dU"),h=e("rYtS"),_=e("fEaq"),b=e("3REw"),I=e("y/Pn"),C=e("Ufq/"),y=e("sgFo"),P=e("3vtZ");const T="Slack",S=new E.b("calls");function A(he){return!!Object(s.a)(he,"allow_calls")}v(A,"isCallsAllowedByAdmin");function R(he,Ee){return Object(P.M)(he)&&Object(y.e)(he)&&Object(P.e)(he,Ee)}v(R,"isCallsDeprecatedAndHuddlesAllowed");function x(he,Ee,ge){const J=Object(p.l)(he,Ee.id);return!(!A(he)&&!R(he,J)||Object(m.vb)(Ee)&&!ge||!Object(m.X)(Ee)||!Object(_.a)(he,Ee.id)||Object(r.T)(J))}v(x,"canCallMember");function M(he,Ee){let ge=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;const J=Object(f.g)(he,Object(c.a)(Ee)),H=ge&&L(he);return!A(he)&&!R(he,Ee)&&!H||Object(a.a)(Ee)||Object(o.g)(Ee)&&(!J||!x(he,J))?!1:Object(u.a)(he,Ee)}v(M,"isCallButtonVisibleForChannel");function j(he,Ee){let ge=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;const J=Object(g.g)(he);let H=!Object(l.G)(J)&&!Object(o.g)(Ee);return ge&&(H=H&&!L(he)),Object(d.c)(he)?(H||Object(r.lb)(Ee)||Object(t.a)(Ee))&&!Oe(Ee):!0}v(j,"isCallButtonDisabledForChannel");function W(he,Ee){const ge=Object(p.c)(he,Ee);return ge&&!j(he,ge,!1)&&M(he,ge)}v(W,"canStartCallInChannel");function U(he,Ee,ge){const J=Object(i.a)(Ee),H=Object(h.d)(he,J),Z=Object(f.g)(he,ge,{preferNonExistentToNull:!1,fetchIfMissing:!0}),q=Object(m.t)(Z),k=Object(h.b)({callsApp:H,memberPhoneNumber:q,hideVideoApps:!1}),se=k.length,re=R(he,Ee);let X=se;return re&&(X+=1),X>1?S.t("{numCallApps} calling options",{numCallApps:X}):X===1?se===0?"":S.t("using {appName}",{appName:k[0].name}):""}v(U,"getTipSubtitleForStartCall");function B(he,Ee,ge){const J=Object(O.a)(he,Object(c.a)(Ee));return ge?S.rt("Huddle with {name}",{name:J,fallbackHash:"8e987d72e71ed558e674143b7f1cde8c0e13d4aa",fallbackHashNs:"huddles"}):S.rt("Call {name}",{name:J})}v(B,"getTipForIm");function Y(he,Ee,ge){const J=Object(r.F)(he,Ee).map(Z=>Object(m.N)(he,Z)),H=Object(E.h)(J,{noEscape:!0}).join("");return ge?S.rt("Huddle with {listOfNamesWithConjunction}",{listOfNamesWithConjunction:H,fallbackHash:"8e987d72e71ed558e674143b7f1cde8c0e13d4aa",fallbackHashNs:"huddles"}):S.rt("Call {listOfNamesWithConjunction}",{listOfNamesWithConjunction:H})}v(Y,"getTipForMpim");function z(he,Ee,ge){return Object(o.g)(Ee)?B(he,Ee,ge):Object(o.i)(Ee)?Y(he,Ee,ge):ge?S.t("Huddle in {channelName}",{channelName:Object(r.u)(he,Ee),fallbackHash:"2e4c8c4a478aa889a4b6fe33316b3d0a6d93301d",fallbackHashNs:"huddles"}):S.t("Start a call")}v(z,"getTipForChannel");function F(he,Ee){const ge=Object(g.g)(he),J=Object(l.G)(ge),H=Object(o.i)(Ee),Z=L(he),q=J||Z,k=R(he,Ee)&&!Q(he),se=Object(y.e)(he);return Object(d.c)(he)?q&&Object(t.a)(Ee)?k&&se?S.t("Unarchive this channel to start a huddle"):S.t("Unarchive this channel to start a call"):q&&Object(r.lb)(Ee)?k&&se?S.t("Join this channel to start a huddle"):S.t("Join this channel to start a call"):Z||Oe(Ee)?z(he,Ee,k):!J&&H?S.t("To start a group call, check out our paid plans."):!J&&Object(i.a)(Ee)?S.t("To start a call in a channel, check out our paid plans."):z(he,Ee,k):k&&se?S.t("Go online to start a huddle"):S.t("Go online to start a call")}v(F,"getTipForStartCall");function V(he,Ee){const ge=Object(g.g)(he),J=Object(l.G)(ge),H=Object(o.i)(Ee),Z=L(he),q=J||Z;return!Object(d.c)(he)||q&&Object(t.a)(Ee)||q&&Object(r.lb)(Ee)||Z?!1:!!(!J&&H||!J&&Object(i.a)(Ee))}v(V,"isFreeTeamAndInChannelOrMpim");function L(he){const Ee=Object(h.e)(he);for(let ge=0;ge<Ee.length;ge++)if(Ee[ge].id!==b.j)return!0;return!1}v(L,"isThirdPartyCallEnabled");function Q(he){return Object(h.e)(he).length>0}v(Q,"isAnyCallAppEnabled");function ee(he){const Ee=S.t("Start a call?",{fallbackHash:"04d5cae8ffd5cbdfd97d6ea2c1afe3e969b3eed7"}),ge=S.t("You\u2019ll be starting a call that all {count} members of this channel can join.",{count:he,fallbackHash:"225ecb6662087bf4b09285688dc46d8ecb5ed2aa"}),J=S.t("Start Call",{fallbackHash:"291a0a58dfa6c640a90c1d868d2af190775ea219"});return{title:Ee,description:ge,confirm:J,cancel:S.t("Cancel")}}v(ee,"getCallConfirmationStrings");function te(he){if(Object(y.e)(he))return!1;const Ee=Object(s.a)(he,"calls_apps");return!!(Ee&&Ee.video&&Ee.video.findIndex(ge=>(ge==null?void 0:ge.id)===b.j)!==-1)}v(te,"isNativeSlackCallEnabled");function le(he){return Object(C.b)(he)&&!te(he)||Object(y.e)(he)}v(le,"isSlackCallSlashCommandDisabled");function Oe(he){return Object(I.a)(he)&&!Object(o.g)(he)}v(Oe,"shouldEnableForSponsoredConnections")},IYwZ:function(K,n,e){"use strict";e.d(n,"c",function(){return c}),e.d(n,"b",function(){return o}),e.d(n,"d",function(){return i}),e.d(n,"a",function(){return u}),e.d(n,"e",function(){return f});var s=e("ZKjC"),t=e("9Gfp"),a=e("8lFY"),r=e("2Ci3");const c=Object(s.b)((d,O)=>Object(a.a)(d)?Object(r.e)(d,O):d&&d.dnd&&d.dnd.currentStatuses&&d.dnd.currentStatuses[O]);c.meta={name:"createSelector",key:"createSelectorgetDndByMemberId",description:(d,O)=>Object(a.a)(d)?Object(r.e)(d,O):d&&d.dnd&&d.dnd.currentStatuses&&d.dnd.currentStatuses[O]};const o=Object(s.b)(d=>Object(a.a)(d)?Object(r.e)(d,Object(t.a)(d)):c(d,Object(t.a)(d)));o.meta={name:"createSelector",key:"createSelectorgetCurrentMemberDnd",description:d=>Object(a.a)(d)?Object(r.e)(d,Object(t.a)(d)):c(d,Object(t.a)(d))};const i=Object(s.b)((d,O)=>Object(a.a)(d)?Object(r.d)(d,O):d&&d.dnd&&d.dnd.schedule&&d.dnd.schedule[O]);i.meta={name:"createSelector",key:"createSelectorgetDndScheduleByMemberId",description:(d,O)=>Object(a.a)(d)?Object(r.d)(d,O):d&&d.dnd&&d.dnd.schedule&&d.dnd.schedule[O]};const l=Object(s.b)(d=>Object(a.a)(d)?Object(r.b)(d):i(d,Object(t.a)(d)));l.meta={name:"createSelector",key:"createSelectorgetCurrentMemberDndSchedule",description:d=>Object(a.a)(d)?Object(r.b)(d):i(d,Object(t.a)(d))};const u=Object(s.b)(d=>Object(a.a)(d)?Object(r.a)(d):d&&d.dnd&&d.dnd.schedule);u.meta={name:"createSelector",key:"createSelectorgetAllDndSchedules",description:d=>Object(a.a)(d)?Object(r.a)(d):d&&d.dnd&&d.dnd.schedule};const f=Object(s.b)(d=>Object(a.a)(d)?Object(r.c)(d):d&&d.dnd&&d.dnd.snooze);f.meta={name:"createSelector",key:"createSelectorgetSnoozeScheduleForCurrentUser",description:d=>Object(a.a)(d)?Object(r.c)(d):d&&d.dnd&&d.dnd.snooze}},Icpd:function(K,n,e){"use strict";var s=e("fujP"),t=e("lCmp"),a=e("6ysl");n.a=function(){let r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return Object(s.a)(r)?!1:Object(t.a)(r,c=>Object(a.g)(c))}},IeI6:function(K,n,e){"use strict";e.d(n,"a",function(){return r});var s=e("Yauy"),t=e("C3vN"),a=e("y6S6");function r(c,o,i){if(Object(t.vb)(o))return Object(s.db)(i);const l=Object(a.b)(c,i.id,o.id);return!!(l.isKnown&&l.isMember)}v(r,"isUserKnownToBeMemberOfChannel")},Ini6:function(K,n,e){"use strict";e.d(n,"a",function(){return t});var s=e("UmHn");function t(a){return Object.values(s.a).includes(a)}v(t,"isValidPageId")},IqnQ:function(K,n,e){"use strict";e.d(n,"a",function(){return r}),e.d(n,"c",function(){return c}),e.d(n,"e",function(){return o}),e.d(n,"b",function(){return i}),e.d(n,"d",function(){return l});var s=e("nNoG"),t=e("pJ2S");const a=new s.b("sounds"),r="knock_brush.mp3";var c;(function(u){u.B2="b2.mp3",u.AnimalStick="animal_stick.mp3",u.BeenTree="been_tree.mp3",u.CompleteQuestRequirement="complete_quest_requirement.mp3",u.ConfirmDelivery="confirm_delivery.mp3",u.Flitterbug="flitterbug.mp3",u.HereYouGoLighter="here_you_go_lighter.mp3",u.HiFlowersHit="hi_flowers_hit.mp3",u.KnockBrush="knock_brush.mp3",u.SaveAndCheckout="save_and_checkout.mp3",u.ItemPickup="item_pickup.mp3",u.Hummus="hummus.mp3",u.Boop="boop.mp3"})(c||(c={}));const o=v(()=>({[c.B2]:{display:()=>a.t("Ding"),url:t.e},[c.AnimalStick]:{display:()=>a.t("Boing"),url:t.a},[c.BeenTree]:{display:()=>a.t("Drop"),url:t.g},[c.CompleteQuestRequirement]:{display:()=>a.t("Ta-da"),url:t.v},[c.ConfirmDelivery]:{display:()=>a.t("Plink"),url:t.s},[c.Flitterbug]:{display:()=>a.t("Wow"),url:t.C},[c.HereYouGoLighter]:{display:()=>a.t("Here you go"),url:t.i},[c.HiFlowersHit]:{display:()=>a.t("Hi"),url:t.j},[c.KnockBrush]:{display:()=>a.t("Knock Brush"),url:t.m},[c.SaveAndCheckout]:{display:()=>a.t("Whoa!"),url:t.B},[c.ItemPickup]:{display:()=>a.t("Yoink"),url:t.D},[c.Hummus]:{display:()=>a.t("Hummus"),url:t.k},[c.Boop]:{display:()=>a.t("Boop"),url:t.b}}),"getNotificationPrefsToSounds");var i;(function(u){u.BoopRemix="boop_remix.mp3"})(i||(i={}));const l=v(()=>({[i.BoopRemix]:{display:()=>a.t("Boop Plus"),url:t.c}}),"getHuddleNotificationPrefsToSounds")},Iqnp:function(K,n,e){"use strict";e.d(n,"e",function(){return A}),e.d(n,"f",function(){return R}),e.d(n,"c",function(){return M}),e.d(n,"a",function(){return j}),e.d(n,"d",function(){return U}),e.d(n,"b",function(){return B});var s=e("9oTK"),t=e.n(s),a=e("Uqsd"),r=e("PqaZ"),c=e("n0Pp"),o=e("s4P+"),i=e("lhZz"),l=e("Eh7F"),u=e("t890"),f=e("9Gfp"),d=e("sEtg"),O=e("BEaa"),m=e("Dn8e"),g=e("HlBM"),E=e("SQ0V"),p=e("sgFo");const h="AWARENESS-MANAGER",_="AWARENESS-MANAGER-CHIME",b=`[${h}] unknown awareness subtype`,I=3e4,C=250,y=5e3,P=15,T=Object(E.c)("Query for awareness state from other users who are subscribed to the topic",function(){var z=Object(s.coroutine)(function*(F,V,L){const Q=V();if(!Object(c.f)(Q))return;const ee=Object(f.a)(Q),te={channel:L,type:"awareness",subtype:l.b.QUERY,user:ee};try{F(Object(r.h)(te))}catch(le){Object(o.a)({getState:V}).warn("Failed to send awareness query: ",le)}});return function(F,V,L){return z.apply(this,arguments)}}());T.meta={name:"createThunk",key:"createThunkmaybeSendAwarenessQuery",description:"Query for awareness state from other users who are subscribed to the topic"};const S=Object(E.c)("Send awareness state to other users who are subscribed to the topic",function(){var z=Object(s.coroutine)(function*(F,V,L){const Q=V();if(!Object(c.f)(Q))return;const ee=Object(f.a)(Q),te=Object(d.c)(Q,L,ee),le={channel:L,type:"awareness",subtype:l.b.BROADCAST,user:ee,awareness_state:te};try{F(Object(r.h)(le))}catch(Oe){Object(o.a)({getState:V}).warn("Failed to send awareness query: ",Oe)}});return function(F,V,L){return z.apply(this,arguments)}}());S.meta={name:"createThunk",key:"createThunkmaybeSendCurrentAwarenessState",description:"Send awareness state to other users who are subscribed to the topic"};const A=Object(E.c)("Temporarily subscribe to a topic for updates",(z,F,V)=>{const L=F();if(Object(c.f)(L))try{z(Object(r.h)({channel_id:V,type:"temp_channel_sub"}))}catch(Q){Object(o.a)({getState:F}).warn("Failed to subscribe to awareness topic: ",Q)}});A.meta={name:"createThunk",key:"createThunksubscribeToAwarenessTopic",description:"Temporarily subscribe to a topic for updates"};const R=Object(E.c)("Temporarily unsubscribe from topic updates",(z,F,V)=>{const L=F();if(Object(c.f)(L))try{z(Object(r.h)({channel_id:V,type:"temp_channel_unsub"}))}catch(Q){Object(o.a)({getState:F}).warn("Failed to unsubscribe from awareness topic: ",Q)}});R.meta={name:"createThunk",key:"createThunkunsubscribeFromAwarenessTopic",description:"Temporarily unsubscribe from topic updates"};const x=Object(E.c)("Alert other users who are subscribed to the topic that a subscriber has left",function(){var z=Object(s.coroutine)(function*(F,V,L){const Q=V();if(!Object(c.f)(Q))return;const ee=Object(f.a)(Q),te={channel:L,type:"awareness",subtype:l.b.CLOSE,user:ee};try{F(Object(r.h)(te))}catch(le){Object(o.a)({getState:V}).warn("Failed to send awareness query: ",le)}});return function(F,V,L){return z.apply(this,arguments)}}());x.meta={name:"createThunk",key:"createThunkmaybeSendCloseState",description:"Alert other users who are subscribed to the topic that a subscriber has left"};class M{maybeSendCurrentAwarenessState(F){const V=Object(i.getStoreInstanceByTeamId)(this.teamId);return V?(V.dispatch(S(F)),!0):!1}maybeSendAwarenessQuery(F){const V=Object(i.getStoreInstanceByTeamId)(this.teamId);return V?(V.dispatch(T(F)),!0):!1}maybeSendAwarenessCloseState(F){const V=Object(i.getStoreInstanceByTeamId)(this.teamId);return V?(V.dispatch(x(F)),!0):!1}constructor({teamId:F}){this.onShutdownDataChannelSubscriber=()=>{},this.teamId=F}}v(M,"RtmBroadcaster");class j{onDisconnectDataChannel(){var F;(F=this.audioVideoFacade)===null||F===void 0||F.realtimeUnsubscribeFromReceiveDataMessage(this.dataChannelTopic),this.connected=!1}onConnectDatachannel(F){this.audioVideoFacade=F,this.audioVideoFacade.realtimeSubscribeToReceiveDataMessage(this.dataChannelTopic,this.realtimeReceiveDataMessageCallback),this.connected=!0,Object(o.b)().warn(_,`broadcaster connected ${this.peerId}`),this.maybeSendAwarenessQuery(this.topicId)}onInitializeDataChannelSubscriber(){}realtimeReceiveDataMessageCallback(F){}maybeSendCurrentAwarenessState(F){var V;if(!this.connected)return Object(o.b)().info(_,`${this.connected} ${F} Can't send yet, not connected`),!1;const L=Object(i.getStoreInstanceByTeamId)(this.teamId);if(!L)return Object(o.b)().warn(_,`${this.connected} ${F} Can't find teamstore for ${this.teamId}, not sending awareness state`),!1;const Q=L.getState(),ee=Object(f.a)(Q);L.dispatch(Object(u.f)({topicId:F,userId:ee}));const te=Object(p.x)(Q),Oe=Object(d.c)(Q,F,ee,te?"self":void 0).map(Ee=>new g.a.AwarenessPayload({fieldName:Ee.field_name,fieldValue:Ee.field_value,...this.isHuddlesAwarenessTimestampEnabled&&!!Ee.field_timestamp_ms&&{fieldTimestampMs:Ee.field_timestamp_ms}})),he=new g.a.AwarenessBroadcast({channel:F,user:Object(f.a)(L.getState()),awarenessState:Oe});return(V=this.audioVideoFacade)===null||V===void 0||V.realtimeSendDataMessage(this.dataChannelTopic,g.a.encode(new g.a({awarenessBroadcast:he})).finish()),!0}maybeSendAwarenessQuery(F){var V;if(!this.connected)return Object(o.b)().info(_,`${this.connected} ${F} Can't send yet, not connected`),!1;Object(o.b)().warn(_,`${this.connected} ${F} Sending awareness query`);const L=Object(i.getStoreInstanceByTeamId)(this.teamId);if(!L)return Object(o.b)().warn(_,`${this.connected} ${F} Can't find teamstore for ${this.teamId}, not sending awareness query`),!1;const Q=new g.a.AwarenessQuery({channel:F,user:Object(f.a)(L.getState())});return(V=this.audioVideoFacade)===null||V===void 0||V.realtimeSendDataMessage(this.dataChannelTopic,g.a.encode(new g.a({awarenessQuery:Q})).finish()),!0}maybeSendAwarenessCloseState(F){var V;if(!this.connected)return Object(o.b)().info(_,`${this.connected} ${F} Can't send yet, not connected`),!1;Object(o.b)().warn(_,`${this.connected} ${F} Sending awareness query`);const L=Object(i.getStoreInstanceByTeamId)(this.teamId);if(!L)return Object(o.b)().warn(_,`${this.connected} ${F} Can't find teamstore for ${this.teamId}, not sending awareness query`),!1;const Q=new g.a.AwarenessClose({channel:F,user:Object(f.a)(L.getState())});return(V=this.audioVideoFacade)===null||V===void 0||V.realtimeSendDataMessage(this.dataChannelTopic,g.a.encode(new g.a({awarenessClose:Q})).finish()),!0}constructor({teamId:F,peerId:V,topicId:L,isHuddlesAwarenessTimestampEnabled:Q}){this.dataChannelTopic="awareness-sync-channel",this.isHuddlesAwarenessTimestampEnabled=!1,this.onShutdownDataChannelSubscriber=()=>{this.maybeSendAwarenessCloseState(this.topicId),this.connected=!1},this.teamId=F,this.peerId=V,this.connected=!1,this.topicId=L,this.isHuddlesAwarenessTimestampEnabled=!!Q}}v(j,"ChimeChannelBroadcaster");class W{maybeTTL(){[...new Set(this.topicToTeamMap.values())].forEach(V=>{Object(o.b)().debug(h,`Running TTL for ${V}`);const L=Object(i.getStoreInstanceByTeamId)(V);L&&L.dispatch(Object(u.l)())}),this.watchedTopics.size===0&&(Object(o.b)().info(h,"Stopping the TTL timer, nothing to watch"),clearInterval(this.periodicTTLId),this.periodicTTLId=null)}broadcastChanges(){if(Date.now()-this.lastDirtyBroadcastTime<500)return;const F=Object(O.a)(P,-.25,.25);this.dirtyTopics.forEach(V=>{Object(m.a)(()=>{const L=this.dataChannels.get(V);L&&L.maybeSendCurrentAwarenessState(V)&&this.dirtyTopics.delete(V)},F)}),this.lastDirtyBroadcastTime=Date.now(),this.watchedTopics.size===0&&(Object(o.b)().info(h,"Stopping the dirty broadcast timer, nothing to watch"),clearInterval(this.dirtyBroadcastTimeoutId),this.dirtyBroadcastTimeoutId=null)}broadcastPerodicallyToWatchedTopics(){this.watchedTopics.forEach(F=>{const V=this.dataChannels.get(F);V&&V.maybeSendCurrentAwarenessState(F)&&this.dirtyTopics.delete(F)}),this.watchedTopics.size===0&&(Object(o.b)().info(h,"Stopping the periodic broadcast timer, nothing to watch"),clearInterval(this.perodicBroadcastTimeoutId),this.perodicBroadcastTimeoutId=null)}query(){Date.now()-this.lastQueryTime<15e3||(this.watchedTopics.forEach(F=>{if(this.topicToTeamMap.get(F)){const L=this.dataChannels.get(F);L&&L.maybeSendAwarenessQuery(F)&&this.dirtyTopics.delete(F)}}),this.broadcastChanges(),this.lastQueryTime=Date.now())}markTopicChanged(F){if(!this.watchedTopics.has(F)){Object(o.b)().info(h,`Ignoring topic change for unwatched topic ${F}`);return}this.dirtyTopics.add(F),this.dirtyBroadcastTimeoutId||(Object(o.b)().info(h,"Starting the dirty broadcast timer"),this.dirtyBroadcastTimeoutId=setInterval(this.broadcastChanges.bind(this),C)),this.perodicBroadcastTimeoutId||(Object(o.b)().info(h,"Starting the periodic broadcast timer"),this.perodicBroadcastTimeoutId=setInterval(this.broadcastPerodicallyToWatchedTopics.bind(this),I)),this.periodicTTLId||(Object(o.b)().info(h,"Starting the TTL timer"),this.periodicTTLId=setInterval(this.maybeTTL.bind(this),y))}removeTopicId(F){this.dirtyTopics.delete(F),this.watchedTopics.delete(F)}watch(F,V,L){this.watchedTopics.add(V),this.topicToTeamMap.set(V,F),this.dataChannels.set(V,L),this.markTopicChanged(V),this.query()}unwatch(F){this.broadcastChanges(),this.removeTopicId(F)}unwatchAll(){if(this.watchedTopics.size){const F=[...this.watchedTopics].join(" ");Object(o.b)().warn(h,`Clearing unexpected remaining topics: ${F}`),this.broadcastChanges(),this.watchedTopics.clear()}this.dataChannels.clear()}constructor(){this.dirtyTopics=new Set,this.watchedTopics=new Set,this.topicToTeamMap=new Map,this.dataChannels=new Map,this.lastDirtyBroadcastTime=0,this.lastQueryTime=0}}v(W,"AwarenessManager");const U=new W;class B{onConnectDatachannel(F){this.audioVideoFacade=F,this.audioVideoFacade.realtimeSubscribeToReceiveDataMessage(this.dataChannelTopic,this.realtimeReceiveDataMessageCallback.bind(this)),Object(o.b)().warn(_,"listener connected")}onDisconnectDataChannel(){}onInitializeDataChannelSubscriber(){}onShutdownDataChannelSubscriber(){}realtimeReceiveDataMessageCallback(F){let V;try{V=g.a.decode(F.data)}catch(L){Object(o.b)().debug(_,`Peer Message failed during decode, ignoring peer message.
				| Error: ${L}
				| Data Sender Attendee ID: ${F.senderAttendeeId}
				| Data Sender External Attendee ID: ${F.senderExternalUserId}
				| Topic: ${F.topic}`);return}if(V.awarenessQuery&&V.awarenessQuery.channel)U.markTopicChanged(V.awarenessQuery.channel);else if(V.awarenessBroadcast){const L=Object(i.getStoreInstanceByTeamId)(this.teamId),Q=Object(p.x)(L.getState()),ee=V.awarenessBroadcast.user,te=V.awarenessBroadcast.channel,le=V.awarenessBroadcast.awarenessState;if(ee&&te&&le){const Oe=le.map(Ee=>{var ge,J;return{field_name:(ge=Ee.fieldName)!==null&&ge!==void 0?ge:"unknown_field",field_value:(J=Ee.fieldValue)!==null&&J!==void 0?J:"unknown_value",...!!Ee.fieldTimestampMs&&{field_timestamp_ms:Ee.fieldTimestampMs}}}),he={user:ee,channel:te,awarenessEntries:Oe,...Q&&{uniqueId:F.senderAttendeeId}};L&&L.dispatch(Object(u.g)(he))}}else if(V.awarenessClose){const L=Object(i.getStoreInstanceByTeamId)(this.teamId),Q=Object(p.x)(L.getState()),ee=V.awarenessClose.user,te=V.awarenessClose.channel;ee&&te&&L&&L.dispatch(Object(u.a)({topicId:te,userId:ee,...Q&&{uniqueId:F.senderAttendeeId}}))}}constructor({teamId:F}){this.dataChannelTopic="awareness-sync-channel",this.teamId=F}}v(B,"ChimeChannelListener");const Y=v((z,F,V)=>{const L=V(),Q=Object(f.a)(L),ee=z.awareness_state;switch(z.subtype){case"query":Q!==z.user&&U.markTopicChanged(z.channel);break;case"broadcast":if(ee&&Q!==z.user){const te={user:z.user,channel:z.channel,awarenessEntries:ee};F(Object(u.g)(te))}break;case"close":Q!==z.user&&F(Object(u.a)({topicId:z.channel,userId:z.user}));break;default:throw new Error(b)}},"onAwarenessEvent");Object(a.b)("awareness",Y)},Iquu:function(K,n,e){"use strict";var s=e("q1tI"),t=e.n(s),a=e("nNoG"),r=e("oEDn"),c=e("+bQA");const o=new a.b("form_inputs"),i=v(l=>{let{count:u}=l;return t.a.createElement("div",{className:"c-multi_select_helper_text"},t.a.createElement("span",{className:"c-multi_select_helper_text__icon_container c-multi_select_helper_text__icon_container--unknown"},t.a.createElement(r.a,{size:"inherit",type:"missing-emoji",inline:!0})),o.t("{count, plural, =1 {# entry has} other {# entries have}} multiple matches. Select entry to resolve.",{count:u}))},"MultiSelectUnknownText");n.a=i},ItXa:function(K,n,e){"use strict";var s=e("q1tI"),t=e.n(s),a=e("nNoG"),r=e("JoAr"),c=e("Cfcg"),o=e("DS5W"),i=e("JoR1");const l=new a.b("current_status");function u(d){let{className:O,expiration:m,time24:g}=d;if(!m)return null;const E=m*1e3,p=l.t("Until {expirationDate}",{expirationDate:Object(r.a)(E,"{status_expiration}",{do24hrTime:g,shouldCapitalize:!1})});return t.a.createElement("span",{className:O,"data-qa-status-expiration":m},p)}v(u,"CustomStatusExpiration"),u.displayName="CustomStatusExpiration";function f(d,O){let{memberId:m}=O;return{expiration:Object(o.a)(d,m||"")||0,time24:!!Object(i.u)(d,"time24")}}v(f,"mapStateToProps"),n.a=Object(c.a)(f)(u)},IuTd:function(K,n,e){"use strict";e.d(n,"a",function(){return r});var s=e("SQ0V"),t=e("tUtw"),a=e("p5o1");const r=Object(s.c)("Started loading history for a channel",(c,o,i)=>{const{channelId:l,loadingOlder:u,request:f}=i||{},d=Object(t.a)(o(),l);d&&d.loading&&d.request&&d.request.cancel(),c(Object(a.a)({objects:[{channelId:l,loading:!0,loadingOlder:u,request:f}]}))});r.meta={name:"createThunk",key:"createThunkstartLoading",description:"Started loading history for a channel"}},Iy3M:function(K,n,e){"use strict";var s=e("q1tI"),t=e.n(s),a=e("Cfcg"),r=e("iuhU"),c=e("yIs4"),o=e("CD4m"),i=e("sGXp"),l=e("E3dU"),u=e("ISSR"),f=e("Yauy"),d=e("E97Y"),O=e("s4P+"),m=e("dlm8"),g=e("nNoG"),E=e("fZDj"),p=e("woMp"),h=e("9WS/"),_=e("fMsH");function b(){return b=Object.assign||function(A){for(var R=1;R<arguments.length;R++){var x=arguments[R];for(var M in x)Object.prototype.hasOwnProperty.call(x,M)&&(A[M]=x[M])}return A},b.apply(this,arguments)}v(b,"_extends");const I=new g.b("channel_entity"),C="SMALL-CHANNEL-ENTITY";function y(A){let{className:R,channel:x,bestFormerName:M,inlineNameSuffix:j,invert:W=!1,logger:U,displayFormerNames:B=i.e.false,showTeamForLocalChannel:Y,showDraftIcon:z=!1,showFilledIcon:F=!1,showTeam:V,memberCount:L,onlyBoldIfUnread:Q=!1,showTruncatedChannelNameTooltip:ee=!1,"data-qa":te="small_channel_entity"}=A;const le=Object(s.useCallback)(se=>t.a.createElement(p.a,b({},se,{className:"c-small_channel_entity__icon",channel:x,size:i.a.small,showDraftIcon:z,showFilledIcon:F})),[x,z,F]);if(Object(d.g)(x)||Object(d.i)(x))return U==null||U.warn(C,"SmallChannelEntity should not display IMs or MPIMs"),null;const Oe=Object(r.default)(R,"c-small_channel_entity"),he=!Q||Object(f.ub)(x),Ee=Object(d.o)(x),ge=Object(d.j)(x);let J=Object(u.a)(x)?i.d.dim:void 0;W&&(J=i.d.highlightDark);let H=null;if(Object(c.a)(L)){const se=I.t("{userCount, plural, =1 {# member} other {# members}}",{userCount:L,fallbackHash:"c8e3bc8a761a13ce8f87cea7ebb3009bccee1a21",fallbackHashNs:"user_group_entity"});H=t.a.createElement("span",{className:"c-small_channel_entity__inline_name_suffix normal","aria-label":se},"(",L,")")}const Z=t.a.createElement(h.a,{channel:x,bestFormerName:M,inlineNameSuffix:j,displayFormerNames:B,showTeamForLocalChannel:Y,showTeam:V,bold:!!he}),q=ee?t.a.createElement(o.c,{withTruncationTooltip:!0},Z):Z,k=Object(r.default)("c-small_channel_entity__content","c-small_channel_entity__content--xws",{"c-small_channel_entity__content--show-truncated-tooltip":ee});return t.a.createElement(o.d,{avatar:le,className:Oe,"data-qa":te,size:"small",style:J,text:t.a.createElement(o.c,null,Ee||ge?t.a.createElement(E.a,{type:Ee?"unknown":"non-existent",invert:W,size:"small"}):t.a.createElement("span",{className:k},q,j&&t.a.createElement("span",{className:"c-small_channel_entity__inline_name_suffix"},j),H))})}v(y,"SmallChannelEntity"),y.displayName="SmallChannelEntity";function P(A){return Object.prototype.hasOwnProperty.call(A,"channel")}v(P,"propsContainsChannel");function T(A,R){let x;if(R.showMemberCounts){var M;const j=Object(m.d)(A,P(R)?Object(f.i)(R.channel):R.channelId);x=j?j==null||(M=j.counts)===null||M===void 0?void 0:M.member_count:null}return{memberCount:x,channel:P(R)?R.channel:Object(l.c)(A,R.channelId),logger:Object(O.a)({state:A,label:C})}}v(T,"mapStateToProps");var S=n.a=Object(a.a)(T)(y)},"J/RB":function(K,n,e){"use strict";var s=e("Z0Cl"),t=e("zmn3"),a=e("NZ+B"),r=e("SQ0V"),c=e("cBLH"),o=e("ZYJ2"),i=e("Jhy3"),l=e("Byhf"),u=e("O86Y"),f=e("xcHN"),d=e("Zbwg"),O=e("I0SW"),m=e("9Gfp"),g=e("l/Qw"),E=e("s4P+"),p=e("Pw4T"),h=e("IuTd"),_=e("Lcgj");const b=Object(r.c)("Add messages from history",(I,C,y)=>{let{msgs:P,channelId:T,isLimited:S,latest:A,oldest:R,hasMore:x,loading:M,forceUnreadCount:j,deleted:W=[]}=y;const U=C(),B=Object(p.d)({getState:C});Object(m.i)(U,"feature_tinyspeck")&&B.mark("rmsgs_addMessagesFromHistory");const Y=Object(s.a)(P,V=>{const L=Object(O.a)(U,{channelId:T,ts:V.ts});return L&&Object(E.a)({getState:C}).warn(`Filtering out ${V.ts} in ${T} history response because it was deleted`),!L}),z=Object(t.a)(Y,"ts"),F=Object(d.a)(T)?T:Object(f.a)(T).channelId;F&&Object(o.c)(Object(u.g)(U),F,z),I(Object(i.i)(Y)),I(Object(c.a)({channelId:T,timestamps:z,isLimited:S,latest:A,oldest:R,hasMore:x,loading:M,forceUnreadCount:j})),Object(a.a)(M)&&I(M?Object(h.a)({channelId:T,loadingOlder:!!A}):Object(_.a)({channelId:T})),Object(m.i)(U,"feature_tinyspeck")&&B.measureAndClear("rmsgs_addMessagesFromHistory","rmsgs_addMessagesFromHistory"),W.forEach(V=>I(Object(l.a)({deleted_ts:V,channel:F}))),Y.forEach(V=>Object(g.c)(C,I,V,V))});b.meta={name:"createThunk",key:"createThunkaddMessagesFromHistory",description:"Add messages from history"},n.a=b},J47P:function(K,n,e){"use strict";e.d(n,"b",function(){return l}),e.d(n,"a",function(){return u});var s=e("n3tL"),t=e("OZf9"),a=e("6FZx"),r=e("s4P+"),c=e("ykb+");const o="_isSlackSubmenuItem",i={...a.d,kbNavActive:s.default.bool,stealKBNav:s.default.func,returnKBNav:s.default.func,preventHighlightChange:s.default.func,allowHighlightChange:s.default.func};function l(f){return!!f[o]}v(l,"isSubmenu");function u(f){if(Object(c.b)()){const d=f.propTypes||{};let O;Object.defineProperty(f,"propTypes",{get:()=>O,set:m=>{const g=f.displayName||f.name||"Component";Object(t.a)(i,(E,p)=>{const h=m[p];h&&h!==E&&h!==E.isRequired&&Object(r.b)().warn(`${g}'s ${p} prop type doesn't match submenu`)}),O={...i,...m}}}),f.propTypes=d}return f[o]=!0,f[a.a]=!0,f}v(u,"wrapSubmenu")},JBL2:function(K,n,e){"use strict";e.d(n,"a",function(){return p});var s=e("q1tI"),t=e.n(s),a=e("/MKj"),r=e("zxER"),c=e("Nyfl"),o=e("g3+L"),i=e("Wn1n"),l=e("gpLM"),u=e("Pw4T"),f=e("68qM"),d=e("WMzb"),O=e("WSQ4");const m="[RESTORE_FOCUS]";let g=[];const E=v(()=>!0,"defaultShouldRestoreFocus");function p(){let{visible:_=!0,shouldRestoreFocus:b=E}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const I=Object(d.a)(),C=Object(r.a)(F=>Object(u.d)({state:F})),{window:y}=Object(s.useContext)(O.a),{isFocusTransitioning:P,transitionFocusTo:T}=Object(s.useContext)(o.a),S=Object(s.useRef)(!1),A=Object(s.useRef)(!1),R=Object(s.useCallback)(b,[]);Object(s.useEffect)(()=>{if(!S.current){S.current=!0;return}_&&A.current?A.current=!1:!_&&!A.current&&(A.current=!0)},[_]);const x=Object(c.a)(()=>{if(!_)return;const F=y.document.activeElement,V={element:F,focusKey:F==null?void 0:F.getAttribute("data-focus-key"),focusMetadata:F==null?void 0:F.getAttribute("data-focus-metadata")};return g.push(V),V},[_,y]);Object(f.a)(()=>{_&&I.debug(m,"Active element on open",x)},[_]);const M=Object(a.useDispatch)(),j=Object(r.a)(i.a),W=Object(s.useCallback)(F=>{if(!F)return null;try{return JSON.parse(F)}catch{return I.error(m,`Unable to parse metadata: ${F}`),null}},[I]),U=Object(s.useCallback)((F,V)=>{if(I.debug(m,"Restoring focus to key",F,V),P())return;const L=W(V);C.count(`${m}_focus_manager`),T({focusKey:F,focusMetadata:L})},[I,P,W,C,T]),B=Object(s.useCallback)(F=>{if(!y.document.contains(F))return C.count(`${m}_element_not_in_dom`),I.debug(m,"No longer in DOM"),!1;try{var V;return I.debug(m,"Restoring focus to element",F),(V=F.focus)===null||V===void 0||V.call(F),C.count(`${m}_focus_element`),!0}catch(L){return C.count(`${m}_unable_to_focus_element`),I.debug(m,"Unable to re-focus element",L),!1}},[y,C,I]),Y=Object(s.useCallback)(()=>{var F;if(P())return;const V=x?g.indexOf(x):0,L=V>=0&&g[V+1],Q=!L;L&&(L.invalid=!0);const ee=Q&&g.pop();for(;!((F=g.slice(-1)[0])===null||F===void 0)&&F.invalid;)g.pop();if(!ee)return;const{focusKey:te,element:le,focusMetadata:Oe}=ee;if(te){U(te,Oe);return}le&&B(le)||(C.count(`${m}_fallback_primary_view`),I.debug(m,`Falling back to primary view: ${j}`),M(Object(l.d)()))},[P,x,U,B,C,I,M]),z=Object(s.useCallback)(()=>{R()&&y.requestAnimationFrame(Y)},[R,y,Y]);Object(f.a)(()=>{A.current&&z()},[_]),Object(f.a)(()=>z,[])}v(p,"useRestoreFocus");const h={reset(){g=[]}}},JJ34:function(K,n,e){"use strict";e.d(n,"b",function(){return E}),e.d(n,"c",function(){return p}),e.d(n,"a",function(){return _});var s=e("fujP"),t=e("3Hq1"),a=e("ZKjC"),r=e("UIhb"),c=e("6CnZ"),o=e("E3dU"),i=e("9Gfp"),l=e("+l5E"),u=e("ptUg"),f=e("rebY"),d=e("E97Y"),O=e("xcHN"),m=e("2VFn"),g=e("m8zz");const E=Object(a.b)((b,I)=>{let{channelId:C,ts:y,viewContext:P,ignoreViewContext:T=!1,tileKey:S,windowId:A=String(m.c)}=I;var R,x;const M=b==null||(R=b.messageEditWindow)===null||R===void 0?void 0:R[String(A)];if(Object(s.a)(M)||C&&(M==null?void 0:M.channelId)!==C||y&&(M==null?void 0:M.ts)!==y||!T&&(M==null?void 0:M.viewContext)!==P||!T&&(M!=null&&M.tileKey)&&!S||!T&&!Object(t.a)(S)&&S!==(M==null?void 0:M.tileKey))return null;var j;return(j=(x=b.messageEditWindow)===null||x===void 0?void 0:x[String(A)])!==null&&j!==void 0?j:{}});E.meta={name:"createSelector",key:"createSelectorgetMessageEditData",description:(b,I)=>{let{channelId:C,ts:y,viewContext:P,ignoreViewContext:T=!1,tileKey:S,windowId:A=String(m.c)}=I;var R,x;const M=b==null||(R=b.messageEditWindow)===null||R===void 0?void 0:R[String(A)];if(Object(s.a)(M)||C&&(M==null?void 0:M.channelId)!==C||y&&(M==null?void 0:M.ts)!==y||!T&&(M==null?void 0:M.viewContext)!==P||!T&&(M!=null&&M.tileKey)&&!S||!T&&!Object(t.a)(S)&&S!==(M==null?void 0:M.tileKey))return null;var j;return(j=(x=b.messageEditWindow)===null||x===void 0?void 0:x[String(A)])!==null&&j!==void 0?j:{}}};const p=Object(a.b)((b,I)=>{let{tileKey:C,windowId:y=String(m.c)}=I;const P=b==null?void 0:b.messageEditWindow;return Object(s.a)(P)||Object(s.a)(P[String(y)])||P[String(y)].tileKey&&!C||!Object(t.a)(C)&&C!==P[String(y)].tileKey?null:b.messageEditWindow});p.meta={name:"createSelector",key:"createSelectorisMessageBeingEditedInTile",description:(b,I)=>{let{tileKey:C,windowId:y=String(m.c)}=I;const P=b==null?void 0:b.messageEditWindow;return Object(s.a)(P)||Object(s.a)(P[String(y)])||P[String(y)].tileKey&&!C||!Object(t.a)(C)&&C!==P[String(y)].tileKey?null:b.messageEditWindow}};const h=Object(a.b)((b,I)=>{let{windowId:C=String(m.c)}=I;return!!(b!=null&&b.messageEditWindow&&b.messageEditWindow[String(C)].hasUnsavedChanges)});h.meta={name:"createSelector",key:"createSelectorhasUnsavedMessageEditChanges",description:(b,I)=>{let{windowId:C=String(m.c)}=I;return!!(b!=null&&b.messageEditWindow&&b.messageEditWindow[String(C)].hasUnsavedChanges)}};const _=Object(a.b)(function(b){let{channelId:I,threadTs:C}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!b||!I)return null;const y=Object(i.a)(b),P=Object(o.c)(b,I);if(!P||Object(d.p)(P))return null;const T=C?Object(O.c)(I,C):I,{timestamps:S}=Object(c.h)(b,T,null),A=S.map(j=>Object(r.b)(b,I,j)).filter(j=>Object(f.a)(j)?!1:C?!Object(l.eb)(j):!Object(l.db)(j)),R=Object(l.r)(A,y);if(!R)return null;const x=Object(g.a)(b,P);return Object(u.a)(b,y,R,P,x)?R:null});_.meta={name:"createSelector",key:"createSelectorgetLastEditableMessageInChannel",description:function(b){let{channelId:I,threadTs:C}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!b||!I)return null;const y=Object(i.a)(b),P=Object(o.c)(b,I);if(!P||Object(d.p)(P))return null;const T=C?Object(O.c)(I,C):I,{timestamps:S}=Object(c.h)(b,T,null),A=S.map(j=>Object(r.b)(b,I,j)).filter(j=>Object(f.a)(j)?!1:C?!Object(l.eb)(j):!Object(l.db)(j)),R=Object(l.r)(A,y);if(!R)return null;const x=Object(g.a)(b,P);return Object(u.a)(b,y,R,P,x)?R:null}}},JJe3:function(K,n,e){K.exports=e.p+"boop_remix-758f078.mp3"},JLdd:function(K,n,e){K.exports=e.p+"complete_quest_requirement-1f77685.mp3"},JMq3:function(K,n,e){"use strict";e.d(n,"a",function(){return a});var s=e("xwCZ"),t=e("C3vN");function a(r,c){if(!c.bot_id)return!1;const o=!1,i=Object(s.g)(r,c.user,{preferNonExistentToNull:!1,fetchIfMissing:o});return Object(t.bb)(i)}v(a,"isAppMessage")},JV3N:function(K,n,e){"use strict";e.d(n,"e",function(){return r}),e.d(n,"d",function(){return c}),e.d(n,"c",function(){return o}),e.d(n,"b",function(){return i}),e.d(n,"a",function(){return l});var s=e("n3tL"),t=e("DwFS"),a=e("yPgC");const r=Object(t.a)("Update or insert one or more app action associated with a channelId");r.meta={name:"createAction",key:"createActionupsertChannelActionsForChannelId",description:"Update or insert one or more app action associated with a channelId"},r.propTypes={channelId:s.default.string.isRequired,actions:s.default.arrayOf(a.a.maybeUnknown(a.a.AppAction)).isRequired};const c=Object(t.a)("Set the count of app actions associated with a given channelId");c.meta={name:"createAction",key:"createActionsetChannelActionCountForChannelId",description:"Set the count of app actions associated with a given channelId"},c.propTypes={channelId:s.default.string.isRequired,count:s.default.number.isRequired};const o=Object(t.a)("Remove specific app actions by ID");o.meta={name:"createAction",key:"createActionremoveChannelActionsForChannelId",description:"Remove specific app actions by ID"},o.propTypes={actionIds:s.default.arrayOf(s.default.string).isRequired,channelId:s.default.string.isRequired};const i=Object(t.a)("Remove all app actions tied to a given channelId");i.meta={name:"createAction",key:"createActionremoveAllChannelActionsForChannelId",description:"Remove all app actions tied to a given channelId"},i.propTypes={channelId:s.default.string.isRequired};const l=Object(t.a)("Remove all app actions tied to a given channelId, and replace with given actions");l.meta={name:"createAction",key:"createActionclearAndInsertChannelActionsForChannelId",description:"Remove all app actions tied to a given channelId, and replace with given actions"},l.propTypes={channelId:s.default.string.isRequired,actions:s.default.arrayOf(a.a.maybeUnknown(a.a.AppAction)).isRequired}},JYsB:function(K,n,e){"use strict";var s=e("q1tI"),t=e.n(s),a=e("n3tL"),r=e("ifKl"),c=e("nNoG"),o=e("oEDn"),i=e("m40f"),l=e("+bQA");const u=new c.b("form_inputs"),f={onCtaClick:a.default.func,errorCopy:a.default.string,ctaCopy:a.default.string},d={onCtaClick:r.a,errorCopy:void 0,ctaCopy:void 0},O=v(m=>{let{onCtaClick:g=r.a,errorCopy:E,ctaCopy:p}=m;return t.a.createElement("div",{className:"c-multi_select_helper_text"},t.a.createElement("span",{className:"c-multi_select_helper_text__icon_container c-multi_select_helper_text__icon_container--error"},t.a.createElement(o.a,{size:"inherit",type:"exclamation-circle",inline:!0})),t.a.createElement("span",null,E||u.t("Selected entries contain errors."),t.a.createElement(i.a,{onClick:g,type:"button",className:"margin_left_25"},p||u.t("Delete all errors"))))},"MultiSelectErrorText");O.displayName="MultiSelectErrorText",O.propTypes=f,O.defaultProps=d,n.a=O},Jc4w:function(K,n,e){"use strict";e.d(n,"a",function(){return s});var s;(function(t){t[t.LIST=1]="LIST",t[t.LIST_IF_EMPTY=2]="LIST_IF_EMPTY",t[t.EDIT=3]="EDIT"})(s||(s={}))},Jekp:function(K,n,e){"use strict";var s=e("q1tI"),t=e.n(s);const a=t.a.createContext({ariaHidden:!1,ariaModal:!0});n.a=a},JfyJ:function(K,n,e){"use strict"},Jjuf:function(K,n,e){"use strict";e.d(n,"a",function(){return j}),e.d(n,"b",function(){return W});var s=e("Muja"),t=e("SQ0V"),a=e("TU0B"),r=e("3fJ/"),c=e("/aHE"),o=e("6qYK"),i=e("/S0L"),l=e("PCpP"),u=e("/5cg"),f=e("Mtxo"),d=e("Tkkt"),O=e("05YS"),m=e("pQQO"),g=e("sjOx");const E=v((U,B,Y)=>U&&Object.values(B).includes(U)?U:B[Y],"validateMessageSearchSort"),p=v((U,B,Y)=>U&&Object.values(B).includes(U)?U:B[Y],"validateFileSearchSort"),h=v((U,B,Y)=>U&&Object.values(B).includes(U)?U:B[Y],"validateChannelSearchSort"),_=v((U,B,Y)=>U&&Object.values(B).includes(U)?U:B[Y],"validatePeopleSearchSort"),b=v((U,B,Y)=>U&&Object.values(B).includes(U)?U:B[Y],"validateResultCountToggle");var I=e("lUvW"),C=e("blur"),y=e("bsvk"),P=e("vkL2"),T=e("3mGd"),S=e("i26o"),A=e("xgMo"),R=e("rZ8V"),x=e("O86Y"),M=e("bczA");const j=Object(t.c)("Runs search from given encoded search state string",(U,B,Y)=>{let{encodedSearchString:z}=Y;if(!z)return;const F=B(),V=Object(T.a)(B()),L=Object(A.c)(F),ee=Object(R.g)(F)?g.w.SEARCH_PAGE:g.w.OMNISWITCHER;if(L&&z===V)return;const te=Object(a.b)(z),{displayQuery:le,requestQuery:Oe,tab:he,page:Ee,messageAndFileSearchExcludeBots:ge,messageAndFileSearchOnlyMyChannels:J,activeEnterpriseTeamIdFilter:H,channelSearchFilterType:Z,channelSearchOrgFilters:q,channelSearchHideMemberChannels:k,peopleSearchFilterType:se,peopleSearchOrgFilters:re,peopleSearchHideDeactivatedUsers:X,messageSearchSort:w,fileSearchSort:ce,channelSearchSort:ie,peopleSearchSort:oe,resultCountToggle:me}=te;U(Object(m.c)({query:le,inputId:ee}));const ue=Object(y.c)(F,Oe);U(Object(d.h)({queryFilter:ue}));const _e=E(w,g.h,"relevantMessages"),be=p(ce,g.d,"relevant"),Ae=h(ie,g.b,"relevant"),Ce=_(oe,g.l,"relevant"),De=b(me,g.m,20);_e!==Object(o.c)(F)&&U(Object(i.a)({sort:_e})),be!==Object(l.a)(F)&&U(Object(u.b)({sort:be})),Ae!==Object(o.b)(F)&&U(Object(c.b)({sort:Ae})),Ce!==Object(o.e)(F)&&U(Object(c.e)({sort:Ce})),De!==Object(o.f)(F)&&U(Object(c.f)({count:De})),U(Object(r.K)({tab:he})),U(Object(r.u)({moduleType:he,page:Ee}));const{displayQuery:Pe,requestQuery:Ue,messageAndFileSearchExcludeBots:ae,messageAndFileSearchOnlyMyChannels:ne,activeEnterpriseTeamIdFilter:Ie,channelSearchFilterType:Te,channelSearchOrgFilters:Me,channelSearchHideMemberChannels:Ne,peopleSearchFilterType:He,peopleSearchOrgFilters:Et,peopleSearchHideDeactivatedUsers:Je,messageSearchSort:qe,fileSearchSort:ke,channelSearchSort:rt,peopleSearchSort:pe,resultCountToggle:je}=Object(a.b)(V||""),xe=Object(O.A)(F,{module:he});if(he===g.z.CHANNELS&&(Z&&U(Object(r.j)({type:Z})),q&&U(Object(r.l)({orgFilters:q}))),he===g.z.PEOPLE&&(se&&U(Object(r.w)({type:se})),re&&U(Object(r.y)({orgFilters:re}))),ge!==ae&&U(Object(c.c)({value:!!ge})),J!==ne&&U(Object(c.g)({value:!!J})),H!==Ie&&H&&U(Object(r.g)({selectedEnterpriseTeamId:H})),se===g.k.guests){const bt=Object(x.b)(F);bt&&U(Object(r.g)({selectedEnterpriseTeamId:bt}))}k!==Ne&&U(Object(c.a)({value:!!k})),X!==Je&&U(Object(c.d)({value:!!X})),_e!==qe&&U(Object(i.a)({sort:_e})),be!==ke&&U(Object(u.b)({sort:be})),Ae!==rt&&U(Object(c.b)({sort:Ae})),Ce!==pe&&U(Object(c.e)({sort:Ce})),De!==je&&U(Object(c.f)({count:De}));const ze=ge!==ae||J!==ne||H!==Ie||Z!==Te||!Object(s.a)(q,Me)||k!==Ne||se!==He||!Object(s.a)(re,Et)||X!==Je;let st=null;Oe!==Ue||le!==Pe?st=U(Object(f.a)({query:Oe,page:Ee,encodedSearchString:z})):xe!=null&&xe.items&&(xe!=null&&xe.items[Ee])?ze?(st=Object(I.j)(U,B,"search-filters-history-stack"),U(Object(P.a)({value:z}))):_e!==qe?(st=U(Object(C.d)({module:"messages",reason:"search-message-sort-changed-history-stack"})),U(Object(P.a)({value:z}))):be!==ke?(st=U(Object(C.d)({module:"files",reason:"search-files-sort-changed-history-stack"})),U(Object(P.a)({value:z}))):Ae!==rt?(st=U(Object(C.d)({module:"channels",reason:"search-channels-sort-changed-history-stack"})),U(Object(P.a)({value:z}))):Ce!==pe?(st=U(Object(C.d)({module:"people",reason:"search-people-sort-changed-history-stack"})),U(Object(P.a)({value:z}))):De!==je?(Object(I.j)(U,B,"result-count-toggle-history-stack"),U(Object(P.a)({value:z}))):U(Object(P.a)({value:z})):st=U(Object(f.a)({query:Oe,module:he,page:Ee,encodedSearchString:z}));const dt=S.a.fromString(F,Oe).toTextyString();st?st.then(()=>{le!==dt&&U(Object(m.c)({query:dt,inputId:ee}))}):le!==dt&&U(Object(m.c)({query:dt,inputId:ee}))});j.meta={name:"createThunk",key:"createThunkrunSearchFromEncodedSearchState",description:"Runs search from given encoded search state string"};const W=Object(t.c)("Runs search from current URL param",(U,B)=>{const Y=B(),z=Object(M.b)(Y);z.entityId===g.y&&U(j({encodedSearchString:z.searchQuery}))});W.meta={name:"createThunk",key:"createThunkrunSearchFromURL",description:"Runs search from current URL param"}},Jk7K:function(K,n,e){"use strict";var s=e("q1tI"),t=e.n(s),a=e("ifKl"),r=e("Fbvv");n.a=t.a.createContext({registerSection:a.a,unregisterSection:a.a,setActiveSection:a.a,getActiveSection:r.a,resetSectionNavigation:a.a})},Jn9h:function(K,n,e){"use strict";var s=e("C2+Y");n.a=s.a},K5Ez:function(K,n,e){K.exports=e.p+"slackbot_fancy_1024-9020761.png"},KKcr:function(K,n,e){K.exports=e.p+"slackbot_fancy_512-8ab1a43.png"},KOcJ:function(K,n,e){"use strict";e.d(n,"d",function(){return l}),e.d(n,"e",function(){return u}),e.d(n,"a",function(){return f}),e.d(n,"b",function(){return O}),e.d(n,"c",function(){return m});var s=e("0VPD"),t=e("C3vN"),a=e("K7jq"),r=e("ehcD"),c=e("9x2x"),o=e("nuzi");function i(g){return Object(o.d)(g)?Object(a.a)(g.entity):!1}v(i,"isExternalMember");function l(g,E){if(!Object(o.d)(g))return!1;const p=Object(r.e)(g.entity);return!!(Object(a.a)(g.entity)&&p&&!E.includes(p))}v(l,"isExternalMemberTeamNotConnectedOnChannel");function u(g,E){var p,h;return Object(o.d)(g)?!!(!Object(a.a)(g.entity)&&!Object(r.h)(g.entity,E)&&(!((p=g.entity)===null||p===void 0||(h=p.profile)===null||h===void 0)&&h.email)):!1}v(u,"isNonTeamOrgMember");function f(g,E,p){const h=Object(s.a)(Object(r.a)(g.entity),p||[]);return!(Object(c.a)(E)||h.length)}v(f,"doesOrgMemberNeedWorkspaceInvite");function d(g){let{selectedMembers:E,currentTeamId:p,channel:h,internalTeamIds:_,options:b={forDisplay:!1,shouldDisplayRealNames:!1}}=g;const{forDisplay:I,shouldDisplayRealNames:C}=b;return E.reduce((y,P)=>{if(Object(o.b)(P)&&(y.externalCount+=1,y.userActionableCount+=1,y.userActionableExternalCount+=1,y.externalEmails.push(P.entity.value)),Object(o.c)(P)&&(y.userActionableInternalCount+=1,y.internalCount+=1,y.userActionableCount+=1,y.internalEmails.push(P.entity.value)),i(P)){y.externalCount+=1;const A=I?Object(t.P)({displayRealNames:C,member:P.entity}):P.value;y.externalMembers.push(A)}if(u(P,p)&&f(P,h,_)){var T;y.internalCount+=1;var S;y.nonTeamOrgMembers.push(I?Object(t.P)({displayRealNames:C,member:P.entity}):(S=(T=P.entity.profile)===null||T===void 0?void 0:T.email)!==null&&S!==void 0?S:"")}return y},{externalEmails:[],internalEmails:[],externalMembers:[],nonTeamOrgMembers:[],userActionableExternalCount:0,externalCount:0,userActionableInternalCount:0,internalCount:0,userActionableCount:0})}v(d,"getClassifiedStrings");function O(g){let{selectedMembers:E,currentTeamId:p,channel:h,internalTeamIds:_,options:b={forDisplay:!1,shouldDisplayRealNames:!1}}=g;const{forDisplay:I,shouldDisplayRealNames:C}=b,y=new Set,P=E.reduce((T,S)=>{if(Object(o.b)(S,p)&&(T.externalCount+=1,T.userActionableCount+=1,Object(o.e)(S)?(T.externalPrimaryScIdentityTokens.push(S),y.add(S.emailTeam.id),T.userActionableExternalPrimaryScIdentityCount+=1):(T.userActionableExternalCount+=1,T.externalEmails.push(S.entity.value))),Object(o.c)(S,p)&&(Object(o.e)(S)||(T.userActionableInternalCount+=1,T.userActionableCount+=1),T.internalCount+=1,T.internalEmails.push(S.entity.value)),i(S)){T.externalCount+=1;const x=I?Object(t.P)({displayRealNames:C,member:S.entity}):S.value,M=S.entity.team_id;T.externalMembers.push(x),y.add(M),T.externalMemberTokens.push({name:x,teamId:M})}if(u(S,p)&&f(S,h,_)){var A;T.internalCount+=1;var R;T.nonTeamOrgMembers.push(I?Object(t.P)({displayRealNames:C,member:S.entity}):(R=(A=S.entity.profile)===null||A===void 0?void 0:A.email)!==null&&R!==void 0?R:"")}return T},{externalEmails:[],externalPrimaryScIdentityTokens:[],internalEmails:[],externalMembers:[],externalMemberTokens:[],nonTeamOrgMembers:[],userActionableExternalPrimaryScIdentityCount:0,userActionableExternalCount:0,externalCount:0,userActionableInternalCount:0,internalCount:0,userActionableCount:0,externalTeamIds:[]});return P.externalTeamIds=[...y],P}v(O,"getClassifiedTokens");function m(g,E,p,h){let _=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{includeAllExternalTokens:!1};const{includeAllExternalTokens:b}=_;return{externalPrimaryScIdentityTokens:p===E||b?g.externalPrimaryScIdentityTokens:[],externalMemberTokens:b?g.externalMemberTokens:[],externalEmails:p===E?g.externalEmails:[],internalEmails:h===E?g.internalEmails:[]}}v(m,"getEffectiveClassifiedTokens")},KPXh:function(K,n,e){"use strict";e.d(n,"a",function(){return V}),e.d(n,"g",function(){return L}),e.d(n,"f",function(){return Q}),e.d(n,"i",function(){return ee}),e.d(n,"e",function(){return te}),e.d(n,"b",function(){return le}),e.d(n,"h",function(){return Oe}),e.d(n,"c",function(){return he}),e.d(n,"d",function(){return Ee}),e.d(n,"j",function(){return ge}),e.d(n,"k",function(){return Z});var s=e("NFsq"),t=e("vfQU"),a=e("ZOzc"),r=e("xwCZ"),c=e("E3dU"),o=e("C3vN"),i=e("pu3F"),l=e("9Gfp"),u=e("19Yv"),f=e("PB3L"),d=e("pzLM"),O=e("5c3X"),m=e("WvVy"),g=e("UEyp"),E=e("Yauy"),p=e("VjAc"),h=e("E97Y"),_=e("kBpe"),b=e("nNoG"),I=e("IXzp"),C=e("RVJP");const y=v(k=>k&&Object(C.d)(k,"feedback_disabled_orgs")==="treatment","isOrgInFeedbackDisabledList");var P=e("olrC"),T=e("l2BV"),S=e("PMNn"),A=e("rZ8V");const R=new b.b("cmd_handlers"),{UNKNOWN_COMMAND:x,UNSUPPORTED_IN_THREAD:M,UNSUPPORTED_IN_SHORTCUTS_MENU:j,CUSTOM_ERROR:W}=i.bb,U=["/away","/collapse","/color","/colour","/dm","/expand","/feedback","/keys","/msg","/s","/search","/shortcuts","/shrug","/slack_diagnostic_report","/slackdevtools","/star","/active","/giphy","/mute","/remind"],B=["/away","/active","/keys","/shortcuts","/apps","/rename","/feedback","/mute","/dnd","/leave","/part","/close","/call"],Y=["/slackdebugunreads","/slackgov","/slackjspath","/slackstaging"],z=["/slackaccessibility","/slackgov"],F=["/leave","/close","/part","/archive","/topic"],V=v(k=>k&&k.alias_of,"getCommandAliasOf"),L=v(k=>k&&k.name,"getCommandName"),Q=v(k=>k&&(k.desc||k.description),"getCommandDesc"),ee=v(k=>k&&k.usage,"getCommandUsage"),te=v(k=>k&&(k.canonical_name||k.name),"getCommandCanonicalName"),le=v(k=>k&&k.aliases,"getCommandAliases"),Oe=v(k=>k&&k.type,"getCommandType"),he=v(k=>k&&k.app,"getCommandApp"),Ee=v(k=>k==null?void 0:k.appName,"getCommandAppName"),ge=v(function(k,se){let{channelId:re}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(!se)return!1;const X=te(se);if(X==="/leave")return Object(f.b)(k,re);if(X==="/remove")return Object(u.b)(k,re);const w=["/topic","/search","/invite","/invite_people","/status","/dm","/msg"];return Object(T.a)(k)&&w.indexOf(X)>-1?!1:!!se.autocomplete},"isAutocompleteCommand"),J=v(k=>!!(k&&k.isServer),"isServerCommand"),H=v(function(k){let se=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;switch(k){case m.a.InvalidDm:return R.t("Direct messages don\u2019t even have a name! Ergo, regrettably, you can\u2019t change it.");case m.a.OwnerRequired:return R.t("Only Workspace Admins (or the channel creator) are allowed to rename channels.");case m.a.InvalidParams:return se?R.t("Channel names can\u2019t contain spaces, periods, or most punctuation. Try again?"):R.t("You don\u2019t have permission to rename.");case m.a.RestrictedUser:return se?R.t("Your admins have limited who can rename multi-workspace channels."):R.t("You don\u2019t have permission to rename.");case m.a.OrgSharedSettings:return se?R.t("Your admins have limited who can rename multi-workspace channels."):R.t("You don\u2019t have permission to rename.");default:return R.t("You don\u2019t have permission to rename.")}},"getRenameDisabledFeedback"),Z=v(function(k,se){let{channelId:re,isThread:X,isShortcutsMenu:w}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(!k||!se)return{isEnabled:!1,reason:x};const ce=te(se),ie=Oe(se),oe=Object(c.c)(k,re);if(!Object(l.i)(k,"feature_tinyspeck")&&Object(s.a)(Y,ce))return{isEnabled:!1,reason:x};if(!Object(_.i)()&&Object(s.a)(z,ce))return{isEnabled:!1,reason:x};if(Object(E.X)(oe)&&Object(s.a)(F,ce))return{isEnabled:!1,reason:x};if(X&&!Object(s.a)(U,ce))return{isEnabled:!1,reason:M};if(w&&Object(s.a)(B,ce))return{isEnabled:!1,reason:j};if(ie==="custom"||ie==="service"){const ue=Object(a.a)(k,"commands_only_regular"),_e=Object(r.d)(k);if(ue&&Object(o.ub)(_e))return{isEnabled:!1,reason:x}}if(A.g&&se.teams){const ue=Object(S.b)(k,oe)||[];if(!se.teams.filter(be=>ue.includes(be)).length)return{isEnabled:!1,reason:W,feedback:R.t("This command is not available in this channel")}}if(ce==="/open"||ce==="/feed"){const ue=Object(r.d)(k);if(Object(o.ub)(ue))return{isEnabled:!1,reason:x}}else if(ce==="/topic"){const{ok:ue,reason:_e}=Object(d.b)(k,re);if(!ue)return{isEnabled:!1,reason:W,feedback:Object(p.k)(_e)}}else if(ce==="/invite"){const ue=Object(r.d)(k);if(Object(o.zb)(ue))return{isEnabled:!1,reason:x};if(!Object(E.db)(oe))return{isEnabled:!1,reason:W,feedback:R.t("You don\u2019t have permission to invite people.")};if(Object(o.ub)(ue)&&!Object(h.k)(oe)||Object(P.a)(k,ue,oe))return{isEnabled:!1,reason:W,feedback:R.t("You don\u2019t have permission to invite people.")}}else if(ce==="/invite_people"){if(!Object(g.e)(k))return{isEnabled:!1,reason:W,feedback:R.t("You don\u2019t have permission to invite people.")}}else if(ce==="/rename"){const{ok:ue,reason:_e}=Object(m.d)(k,re);if(!ue)return{isEnabled:!1,reason:W,feedback:H(_e)}}else if(ce==="/archive"){if(!Object(O.a)(k,re))return{isEnabled:!1,reason:x}}else if(ce==="/call"){if(!Object(I.b)(k,re)||Object(I.k)(k))return{isEnabled:!1,reason:x}}else if(ce==="/slacktrace"){if(!Object(t.ob)())return{isEnabled:!1,reason:W,feedback:R.t("Please run /slacktrace in the latest version of the Slack desktop app.")}}else if(ce==="/feedback"&&y(k))return{isEnabled:!1,reason:x};return{isEnabled:!0}},"isSlashCommandEnabled"),q={getRenameDisabledFeedback:H,TS_ONLY_COMMANDS:Y,DESKTOP_APP_ONLY_COMMANDS:z}},KQ0X:function(K,n,e){"use strict";e.d(n,"a",function(){return s});function s(t){let{teamId:a,channelId:r}=t;return[a,r].join("-")}v(s,"getPendingChannelSwitchKey")},KWBv:function(K,n,e){"use strict";e.d(n,"a",function(){return r}),e.d(n,"b",function(){return c}),e.d(n,"d",function(){return o}),e.d(n,"c",function(){return i});var s=e("q1tI"),t=e.n(s);function a(){return a=Object.assign||function(l){for(var u=1;u<arguments.length;u++){var f=arguments[u];for(var d in f)Object.prototype.hasOwnProperty.call(f,d)&&(l[d]=f[d])}return l},a.apply(this,arguments)}v(a,"_extends");const r=["tile","tileKey","tileIndex","updateTileParams","mutateTileParams"],c=t.a.createContext({updateTileParams:()=>{throw new Error("updateTileParams failed: Not within Tile context")},mutateTileParams:()=>{throw new Error("mutateTileParams failed: Not within Tile context")}});function o(l){const u=t.a.forwardRef((f,d)=>t.a.createElement(c.Consumer,null,O=>{let{tile:m,tileKey:g,tileIndex:E,updateTileParams:p,mutateTileParams:h}=O;return t.a.createElement(l,a({tile:m,tileKey:g,tileIndex:E,updateTileParams:p,mutateTileParams:h,ref:d},f))}));return u.displayName=`withTileContext(${l.displayName})`,u}v(o,"withTileContext"),o.displayName="withTileContext";function i(){return Object(s.useContext)(c)}v(i,"useTileContext")},KZ1R:function(K,n,e){"use strict";e.d(n,"a",function(){return f});var s=e("9oTK"),t=e.n(s),a=e("SQ0V"),r=e("s4P+"),c=e("417x"),o=e("uoFi"),i=e("Mqk2"),l=e("blur"),u=e("sjOx");const f=Object(a.c)("Fetch lists",function(){var d=Object(s.coroutine)(function*(O,m){let{query:g,sort:E,reason:p}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};try{const b=(yield g?O(Object(i.i)({query:`type:list ${g}`,includeShares:!0,reason:p||"get-lists",bypassCache:!0})):O(Object(l.c)({module:"files",query:"type:list",sort:E||u.d.lastRead,reason:p||"get-lists"})).then(I=>{let{items:C}=I;return C})).map(I=>Object(c.a)(I,100)).map(I=>{var C,y,P,T,S;return{id:I.id,isPublic:!!I.isPublic,title:I.title||"",description:((C=I.listMetadata)===null||C===void 0?void 0:C.description)||"",icon:((y=I.listMetadata)===null||y===void 0?void 0:y.icon)||"",schema:((P=I.listMetadata)===null||P===void 0?void 0:P.schema)||[],views:((T=I.listMetadata)===null||T===void 0?void 0:T.views)||[],integrations:((S=I.listMetadata)===null||S===void 0?void 0:S.integrations)||[]}});O(Object(o.b)({lists:b}))}catch(h){Object(r.a)({label:"lists"}).error("error fetching lists",h)}});return function(O,m){return d.apply(this,arguments)}}());f.meta={name:"createThunk",key:"createThunkfetchLists",description:"Fetch lists"}},Kacs:function(K,n,e){"use strict";var s=e("Z7Ay"),t=e("Kyco"),a=e("DwFS");const r=Object(a.a)("NOOP");r.meta={name:"createAction",key:"createActionnoopAction",description:"NOOP"};var c=e("lhZz"),o=e("EXbH");const i=0,l=Object(t.b)({},i,{storeKey:"noop",persistenceEnabled:!1}).on(r,f=>f+1);var u=n.a=l;Object(s.a)("dispatchNoop",()=>{Object(c.dispatchForTeamId)(Object(o.d)(),r())})},KcWJ:function(K,n,e){"use strict";e.d(n,"a",function(){return l});var s=e("SQ0V"),t=e("lhZz"),a=e("O86Y"),r=e("xcHN"),c=e("cU/a"),o=e("25cE"),i=e("Sklr");const l=Object(s.c)("Opens the threads flexpane",function(u,f){let{channelId:d,threadTs:O,highlightTs:m,origin:g,originId:E,shouldOpenInTile:p=!1,replaceHistoryState:h=!1,openInPrimaryTile:_=!1}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return Object(t.dispatchForClientStore)(Object(i.a)({teamId:Object(a.g)(f())})).then(()=>{const I={threadId:Object(r.c)(d,O)};m&&(I.replyTs=m),u(Object(c.a)({routeName:o.w,flexName:"thread",flexParams:I,flexOrigin:g,flexOriginId:E,shouldOpenInTile:p,replaceHistoryState:h,openInPrimaryTile:_}))})});l.meta={name:"createThunk",key:"createThunkshowThread",description:"Opens the threads flexpane"}},Kdix:function(K,n,e){"use strict";e.d(n,"b",function(){return i}),e.d(n,"a",function(){return f});var s=e("p+AA"),t=e("Z7Ay");let a=Symbol.toStringTag,r=Symbol.iterator;class c{static isSupported(){return"WeakMap"in window&&"WeakRef"in window&&"FinalizationRegistry"in window}static cleanup(O){let{set:m,ref:g}=O;m.delete(g)}set(O,m){const g=this.weakMap.get(O);var E;const p=(E=g==null?void 0:g.ref)!==null&&E!==void 0?E:new WeakRef(O);return this.refSet.add(p),this.weakMap.set(O,{value:m,ref:p}),this.finalizationGroup.register(O,{set:this.refSet,ref:p},p),this}get(O){var m;return(m=this.weakMap.get(O))===null||m===void 0?void 0:m.value}has(O){return this.weakMap.has(O)}delete(O){const m=this.weakMap.get(O);return m?(this.weakMap.delete(O),this.refSet.delete(m.ref),this.finalizationGroup.unregister(m.ref),!0):!1}*[r](){for(const O of this.refSet){const m=O.deref();if(!m){this.refSet.delete(O);continue}const{value:g}=this.weakMap.get(m);yield[m,g]}}entries(){return this[Symbol.iterator]()}*keys(){for(const[O]of this)yield O}*values(){for(const[,O]of this)yield O}constructor(O){if(this.weakMap=new WeakMap,this.refSet=new Set,this.finalizationGroup=new FinalizationRegistry(c.cleanup),this[a]="IterableWeakMap",O)for(const[m,g]of O)this.set(m,g)}}v(c,"IterableWeakMap");const o=new Set;function i(){return o}v(i,"getAllLeakMonitors");let l=v(class{},"LeakyInstanceTag"),u=v(class{constructor(){this.getName=()=>"dummy",this.watch=()=>{},this.expectGC=()=>{},this.expectGCAll=()=>{},this.getMetrics=()=>{},this.tagForHeapDump=()=>{},this.consoleDebug=void 0}},"DummyLeakMonitor");class f{static create(O){let{name:m,expectSingleInstance:g}=O;return c.isSupported()&&f.isEnabled()?new f({name:m,expectSingleInstance:g}):new u}static isEnabled(){return!Object(t.e)()||Object(s.a)()}getName(){return this.name}watch(O){if(!this.instances.get(O)&&(this.instances.set(O,{registeredAt:Date.now(),expectedGCAt:void 0}),this.expectSingleInstance)){var m;const g=(m=this.lastWatched)===null||m===void 0?void 0:m.deref();this.expectGC(g),this.lastWatched=new WeakRef(O)}}expectGCAll(){for(const[O]of this.instances)this.expectGC(O)}expectGC(O){if(!O)return;const m=this.instances.get(O);m&&(m.expectedGCAt=Date.now(),this.instances.set(O,m))}getMetrics(){const O=Date.now();let m=0,g=0,E=0,p=0;for(const[,h]of this.instances){if(!h)continue;const{registeredAt:_,expectedGCAt:b}=h,I=O-_;g+=1,b&&(O-b>m&&(m=I),E+=I,p+=1)}return{numberOfObjects:g,numberOfExpiredObjects:p,averageAgePastGC:p?E/p:0,largestAgePastGC:m}}tagForHeapDump(){for(const[O]of this.instances)O[f.tagProp]=new l}get consoleDebug(){return this.instances.keys()}constructor({name:O,expectSingleInstance:m=!1}){this.instances=new c,this.name=O,this.expectSingleInstance=m,o.add(this)}}v(f,"leak_monitor_LeakMonitor"),f.tagProp=Symbol("leak-tag"),Object(t.a)("getLeakMonitorByName",d=>{for(const O of i())if(O.getName()===d)return O}),Object(t.b)("leakMetrics",()=>{const d=[...i()].reduce((O,m)=>(O[m.getName()]=m.getMetrics(),O),{});console.table(d)})},Kenk:function(K,n,e){"use strict";e.d(n,"a",function(){return _});var s=e("hbEN"),t=e("SQ0V"),a=e("GlHf"),r=e("v7mh"),c=e("2VFn"),o=e("lhZz"),i=e("s4P+"),l=e("Z66H"),u=e("ljyh"),f=e("v9TI"),d=e("BHiC"),O=e("kBpe"),m=e("j77i"),g=e("7xYR");const E=2e3,p=Object(t.c)("Set localStorage data to reconstructing a multi-window layout (internal)",(b,I)=>{if(!Object(l.b)()||!Object(O.i)()&&!Object(u.a)())return;const C=I(),y=Object(i.b)({label:"WIN-RESTORE"}),P=Object(a.a)(C).filter(x=>x!==c.c);if(!P.length){y.info("There are no open windows, persisting an empty scene."),Object(m.v)(f.c,{});return}const T=Object(g.getBootedWorkspaces)(C),S={},A={};T.forEach(x=>{const M=Object(o.getStateByTeamId)(x);if(!Object(l.a)(M))return;const j=Object(r.b)(M);S[x]=j,Object.keys(j.children).forEach(W=>{A[W]=x})});const R={};if(P.forEach(x=>{if(A[x]){var M;const j=A[x],W=Object(o.getStateByTeamId)(j),U=Object(d.a)(W,{windowId:x}),B=(M=Object(a.f)(C,x))===null||M===void 0?void 0:M.viewport;R[j]=R[j]||{},R[j][x]={viewSet:S[j].children[x],windowViewport:B,shouldNavigateInContext:U==null?void 0:U.shouldNavigateInContext,shouldShowSearch:U==null?void 0:U.shouldShowSearch},y.info(`Persisting window ${x} in team ${j} with dimensions:`,B)}}),!Object.keys(A).length){y.info("Did not find any windows to persist among the open ones.");return}y.info("Found",Object.keys(A).length,"window(s) to restore later. Writing to localStorage\u2026"),Object(m.v)(f.c,R),y.info("Sucessfully persisted windows to the window-restoration localConfig")});p.meta={name:"createThunk",key:"createThunkmaybeSaveWindowRestorationDataInternal",description:"Set localStorage data to reconstructing a multi-window layout (internal)"};const h=Object(s.a)(b=>{b(p())},E),_=Object(t.c)("Set localStorage data to reconstructing a multi-window layout",b=>{h(b)});_.meta={name:"createThunk",key:"createThunkmaybeSaveWindowRestorationData",description:"Set localStorage data to reconstructing a multi-window layout"}},Ki3U:function(K,n,e){"use strict";var s=e("9oTK"),t=e.n(s),a=e("SQ0V"),r=e("Lgge"),c=e("O86Y"),o=e("ohbk"),i=e("i9jZ"),l=e("CnKg"),u=e("E3dU"),f=e("5pIt"),d=e("7ibc"),O=e("RV0M"),m=e("7Bj1"),g=e("I0j/"),E=e("37+L"),p=e("Wn1n"),h=e("Z6bF"),_=e("rZ8V"),b=e("Zbwg"),I=e("v7mh"),C=e("2VFn"),y=e("f24l"),P=e("uiBO"),T=e("D4ee"),S=e("GoiD"),A=e("ETR2"),R=e("oUrV");const x=Object(a.c)("Opens the channel space for the given channel",function(){var M=Object(s.coroutine)(function*(j,W,U,B){let{channelId:Y,focusSectionId:z,forceNewWindow:F,commentThreadId:V,shouldOpenActivityHistory:L,shouldOpenCommentStream:Q,fromKeyboardShortcut:ee=!1,source:te,windowId:le,isFromQuipAutocomplete:Oe,isFromQuipSearchList:he,isFromQuipActivityHistory:Ee,quipViewFormat:ge,quipSyntheticViewSort:J,quipSyntheticViewFilter:H}=U;const Z=W(),q=Object(c.g)(Z),k=Object(p.a)(Z),{shouldUseNavigate:se,isChildWindow:re,isMainWindow:X}=B(O.a);let w=Y;if(Object(d.ub)(Z)&&ee&&!Y){var ce;w=le?(ce=Object(I.d)(Z,{container:C.h.Primary,windowId:le}))===null||ce===void 0?void 0:ce.id:k}if(!w||!Object(b.a)(w)||!Object(d.pb)(Z))return;const ie=Object(u.c)(Z,w),{fileId:oe,isLinkedCanvasDeleted:me}=Object(h.a)(ie),ue=oe||Object(f.a)(Z,w);if(!ue)return me?j(Object(T.a)({quipDocId:void 0,isChannelLinkedCanvasDeleted:me})):null;const _e={fileId:ue,forceNewWindow:F,source:te??R.a.CHANNEL_CANVAS_GENERIC_SOURCE,isFromQuipAutocomplete:Oe,isFromQuipSearchList:he,isFromQuipActivityHistory:Ee,quipViewFormat:ge,quipSyntheticViewSort:J,quipSyntheticViewFilter:H,isChannelCanvas:!0};let be;if(ue){const Ce={id:ue};z&&(Ce.sectionId=z),be=Object(l.h)(Ce)}if(!be)return r.a.reject(new Error("Attempted to open a channel canvas without an entityId"));if(F&&Object(i.a)(Z)){const Ce={[C.h.Primary]:Object(E.n)(be,w)};return L&&(Ce[C.h.Secondary]=Object(E.L)(be)),Q&&(Ce[C.h.Secondary]=Object(E.M)(be)),V&&(Ce[C.h.Secondary]=Object(E.N)({entityId:be,commentThreadId:V})),j(Object(A.a)(_e)),j(Object(m.a)({viewSet:Ce}))}if(Object(_.g)(Z))return j(X&&V?Object(g.a)(Object(E.N)({entityId:be,commentThreadId:V})):Object(g.a)(Object(E.n)(be,w,_e)));if(re||se)return j(Object(g.a)(Object(E.n)(be,w,_e)));if(ee&&le)return j(Object(y.a)({windowId:le,id:"channel_canvas",viewType:P.a.ChannelCanvas,params:{entityId:be,channelId:w},shouldNavigateInContext:!0}));let Ae=!1;return k!==w&&(yield j(Object(o.a)({id:w,teamId:q})),Ae=!0),V?j(Object(S.a)({fileId:ue,quipCommentThreadId:V,replaceHistoryState:Ae})):(j(Object(A.a)(_e)),j(Object(T.a)({quipDocId:be,replaceHistoryState:Ae})))});return function(j,W,U,B){return M.apply(this,arguments)}}());x.meta={name:"createThunk",key:"createThunkopenChannelSpace",description:"Opens the channel space for the given channel"},n.a=x},KkHf:function(K,n,e){"use strict";var s=e("q1tI"),t=e.n(s),a=e("ifKl"),r=e("nNoG"),c=e("7JUD"),o=e("lvWT"),i=e("tYRW"),l=e("AEEY"),u=e("9org"),f=e("zKrX"),d=e("YyjR"),O=e("qDEp");const m=new r.b("generic_dialog"),g=v(E=>{let{title:p,children:h,submitButtonType:_="primary",submitButtonText:b=m.t("Confirm"),submitButtonIsDisabled:I=!1,submitButtonIsLoading:C=!1,showCancelButton:y=!0,showCloseButton:P=!0,showSubmitButton:T=!0,cancelButtonText:S=m.t("Cancel"),onSubmit:A=a.a,onCancel:R=a.a,onClose:x=a.a,"aria-describedby":M,"data-qa":j="dialog",className:W,overlayClassName:U,submitAutoClogProps:B,cancelAutoClogProps:Y,shouldReturnFocusAfterClose:z=!0}=E;return t.a.createElement(c.a,{describedby:M,closeModal:x,role:"dialog",className:W,overlayClassName:U,dataQa:j,shouldReturnFocusAfterClose:z,showCloseButton:P},t.a.createElement(o.a,null,t.a.createElement(i.a,{title:p,"data-qa":`${j}_header`})),t.a.createElement(l.a,null,t.a.createElement(u.a,{"data-qa":`${j}_body`},h)),(y||T)&&t.a.createElement(f.a,{"data-qa":`${j}_footer`},t.a.createElement(d.a,null,y&&t.a.createElement(O.f,{type:"outline",onClick:R,"data-qa":`${j}_cancel`,autoClogProps:Y},S),T&&t.a.createElement(O.c,{type:_,onClick:A,loading:C,disabled:I,"data-qa":`${j}_go`,autoClogProps:B},b))))},"DialogModalProps");g.displayName="DialogModalProps",n.a=g},Kpab:function(K,n,e){"use strict";e.d(n,"a",function(){return i});var s=e("HYaO"),t=e("lhZz"),a=e("9Pu8"),r=e("m5Yc"),c=e("2vLX"),o=e("abwp");function i(u,f,d){if(!d)return l(u,u.blocks[0],f);const O=Object(o.a)(u.blocks);for(const m of O)if(l(u,m,f))return!0;return!1}v(i,"richTextMessageContainMention");function l(u,f,d){const O=Object(s.a)(u),m=!d.options.ignoreUserAndUserGroupMentions,g=!d.options.ignoreAtHereMentions,E=!O&&!d.options.ignoreAtChannelMentions,p=!O&&!d.options.ignoreAtEveryoneMentions,h=Object(t.getStateByTeamId)(d.teamId);let _=!1,b=!1;const I={here:!1,channel:!1,everyone:!1};function C(y){y.forEach(P=>{switch(P.type){case r.b.USER:!_&&P.user_id===d.memberId&&(_=!0);break;case r.b.USERGROUP:!b&&Object(c.b)(h,P.usergroup_id)&&(b=!0);break;case r.b.BROADCAST:I[P.range]=!0;break;default:break}})}v(C,"getMentions");for(let y=0;y<f.elements.length;y++){const P=f.elements[y];if(P.type===r.b.LIST)for(let T=0;T<P.elements.length;T++)C(P.elements[T].elements);else C(P.elements)}return!!(m&&(_||b)||g&&I.here||E&&I.channel||p&&I.everyone||!d.options.ignoreHighlightWords&&Object(a.c)(f,d.highlightWords).length)}v(l,"richTextBlockContainMention")},"Kq+c":function(K,n,e){"use strict";e.d(n,"a",function(){return g});var s=e("9oTK"),t=e("Lgge"),a=e("U27P");function r(p,h){return c.apply(this,arguments)}v(r,"copyDocumentStylesheets");function c(){return c=Object(s.coroutine)(function*(p,h){h.documentElement.setAttribute("lang",p.documentElement.getAttribute("lang"));const _=Array.from(p.querySelectorAll("link[rel=stylesheet]")).map(b=>new t.a((I,C)=>{var y;if(!((y=b.dataset)===null||y===void 0)&&y.noCopyIntoChildWindow){I();return}const P=h.createElement("link");P.onload=I,P.onerror=C;for(const T of Array.from(b.attributes))P.setAttribute(T.name,T.value);h.head.appendChild(P)}));yield t.a.all(_)}),c.apply(this,arguments)}v(c,"_copyDocumentStylesheets");var o=e("azFB");function i(p){const h=p.document.createElement("base");h.href=o.a.location.origin,p.document.head.appendChild(h)}v(i,"setUrlBase");var l=e("oTSI"),u=e("g8rC"),f=e("4p6e"),d=e("lhZz"),O=e("G5NC");const m=Object(l.a)(()=>Object(O.a)()&&(Object(f.a)()||Object(u.a)(Object(d.getStateForClientStore)(),"document_write_child_window","on")));function g(p,h){return E.apply(this,arguments)}v(g,"renderInWindow");function E(){return E=Object(s.coroutine)(function*(p,h){let{useContainer:_=!1}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const b=p.document.readyState;if(b!=="complete"&&b!=="interactive"&&(yield new t.a((C,y)=>{const P=setTimeout(()=>{y(new Error("Timeout in waiting for child window to load"))},1e4);p.addEventListener("load",()=>{clearTimeout(P),C()})})),p.closed)return null;i(p),yield r(document,p.document);let I=p.document.body;return _&&(I=p.document.createElement("div"),I.setAttribute("data-reactroot",""),m()&&(I.style.height="100vh"),p.document.body.appendChild(I)),Object(a.a)(h,I),I}),E.apply(this,arguments)}v(E,"_renderInWindow")},KtMe:function(K,n,e){"use strict";e.d(n,"c",function(){return s}),e.d(n,"a",function(){return t}),e.d(n,"b",function(){return a});const s="summaryDetailListener",t="channelCanvasAutoOpen",a=10},"L/89":function(K,n,e){"use strict";var s=e("fujP"),t=e("SQ0V"),a=e("wnRj"),r=e("E3dU"),c=e("OKyS");const o=Object(t.c)('Unset "dndOverride" by member id',(i,l,u)=>{let{memberId:f}=u;const d=l(),O=Object(r.m)(d,f),m=Object(a.a)(d,O);Object(s.a)(m)||i(Object(c.d)({channelId:O}))});o.meta={name:"createThunk",key:"createThunkunsetContextBarDndOverrideByMemberId",description:'Unset "dndOverride" by member id'},n.a=o},L1AX:function(K,n,e){"use strict";e.d(n,"b",function(){return c}),e.d(n,"a",function(){return o});var s=e("Oy0v"),t=e("XOse"),a=e("SQ0V"),r=e("5ya7");const c=Object(a.c)("Opens the AddCustomEmojiModal for importing a custom emoji",(i,l,u)=>{let{emojiName:f,emojiUrl:d}=u;var O;i(Object(t.a)({emojiNameSuggestion:f&&((O=Object(s.a)(f))===null||O===void 0?void 0:O.name),emojiUrl:d}))});c.meta={name:"createThunk",key:"createThunkopenImportExternalEmojiModal",description:"Opens the AddCustomEmojiModal for importing a custom emoji"};const o=Object(a.c)("Opens the AddCustomEmojiModal if an emoji can be imported",(i,l,u)=>{const f=l(),{event:d,emojiName:O,emojiUrl:m}=u;m&&Object(r.a)(f,m,O)&&(d==null||d.preventDefault(),d==null||d.stopPropagation(),i(c(u)))});o.meta={name:"createThunk",key:"createThunkmaybeOpenImportExternalEmojiModal",description:"Opens the AddCustomEmojiModal if an emoji can be imported"}},LAqm:function(K,n,e){K.exports=e.p+"slackbot_neutral_72-79b9eaa.png"},LDoU:function(K,n,e){"use strict";e.d(n,"a",function(){return u}),e.d(n,"b",function(){return f});var s=e("q1tI"),t=e.n(s),a=e("AQWg"),r=e("yVpb"),c=e("WSQ4"),o=e("GJt6"),i=e("CnKg"),l=e("akkM"),u;(function(d){d.Auto="auto",d.Managed="managed",d.Restore="restore",d.AutocompleteClose="autocomplete",d.ChannelSpaceOriginRoute="channelSpaceOriginRoute",d.ChannelSpaceOriginView="channelSpaceOriginView",d.ShowDocFlexpane="showDocFlexpane",d.Transition="transition"})(u||(u={}));function f(d){let{autoFocus:O,docEmbed:m,fileId:g,quipThreadId:E,focusKey:p,isCommentOpen:h,isFromTypeToStartTemplateOverlayState:_,isTemplateOverlayShowing:b,hasHadFocus:I}=d;const C=Object(r.a)(E),y=Object(s.useRef)(m);y.current=m;const P=Object(s.useRef)(new Set(O?[u.Auto]:[])),{window:T}=Object(s.useContext)(c.a),S=Object(s.useRef)(T.document.activeElement),A=Object(s.useCallback)((j,W)=>{if(b||_)return;const U=Object(l.f)(E),B=j.docEditor;!I&&U?(C.info(`applying focus state; sectionId: ${U.sectionId}`),B.applyFocusState(U)):B.focusEditor({skipSectionFocusIfCaretNotSupported:W})},[E,b,I,C,_]),R=Object(s.useCallback)(j=>{const W=P.current;if(h){W.clear();return}if(W.has(u.Auto)){const U=T.document.activeElement;U&&U!==T.document.body&&U!==S.current&&(C.warn("Abandon autoFocus, active element changed"),W.delete(u.Auto)),U!=null&&U.classList.contains("ql-editor")&&(C.warn("Abandon autoFocus, Quill focused"),W.delete(u.Auto))}W.size&&(C.info(`focus on render: ${Array.from(W).join(",")}`),A(j,!0))},[C,T,h,A]);Object(a.a)(m,R),Object(s.useEffect)(()=>{const j=P.current;if(O){var W;j.add(u.Auto),!((W=y.current)===null||W===void 0)&&W.incrementalRendered.get()&&R(y.current)}else{var U;j.delete(u.Auto),!((U=y.current)===null||U===void 0)&&U.incrementalRendered.get()&&C.info("Autofocus off after render")}},[O,C,R]);const x=Object(s.useCallback)(j=>{var W;!((W=y.current)===null||W===void 0)&&W.incrementalRendered.get()?(A(y.current),C.info(`focus: ${j}`)):P.current.add(j)},[A,C]),M=Object(s.useCallback)(j=>{var W,U;const{entityId:B}=((W=j)===null||W===void 0?void 0:W.params)||{},{reason:Y}=((U=j)===null||U===void 0?void 0:U.uiState)||{};if(B){const z=Object(i.f)(B);if(z?z!==g:B!==E)return!1}return x(Y||u.Transition),!0},[g,x,E]);return Object(o.a)(p,M),x}v(f,"useEmbedFocus")},LOcX:function(K,n,e){"use strict";var s=e("q1tI"),t=e.n(s),a=e("iuhU"),r=e("7JUD"),c=e("WMzb");function o(){return o=Object.assign||function(u){for(var f=1;f<arguments.length;f++){var d=arguments[f];for(var O in d)Object.prototype.hasOwnProperty.call(d,O)&&(u[O]=d[O])}return u},o.apply(this,arguments)}v(o,"_extends");function i(u){let{defaultPane:f,panes:d,forceFullRerenderOnPageChange:O=!0,...m}=u;const g=Object(c.a)(),[E,p]=Object(s.useState)({pane:f}),h=Object(s.useCallback)((I,C)=>p({pane:I,props:C}),[]),{render:_,modalProps:b}=d[E.pane];return _||g.error("MULTI_PANE_MODAL",`Unknown pane "${E.pane}"`),t.a.createElement(r.a,o({},m,b,{className:Object(a.default)(m.className,b==null?void 0:b.className,"c-multi_pane_modal")}),O?t.a.createElement(t.a.Fragment,{key:E.pane},_({switchPane:h,...E.props})):_({switchPane:h,...E.props}))}v(i,"MultiPaneModal"),i.displayName="MultiPaneModal";var l=n.a=i},LPwq:function(K,n,e){K.exports=e.p+"home-9e29930.jpg"},LTG1:function(K,n,e){"use strict";var s=e("ZvnG");class t{createPublisher(c){return this.publishers[c]=new s.a,this.publishers[c]}createAllPublisher(){return this.allPublisher=new s.a,this.allPublisher}publish(c,o){const i=this.publishers[c];i&&i.publish(o)}publishAll(c,o){var i;const l={peerId:c,value:o};(i=this.allPublisher)===null||i===void 0||i.publish(l)}subscribe(c,o){(this.publishers[c]||this.createPublisher(c)).subscribe(o)}subscribeAll(c){this.createAllPublisher().subscribe(c)}unsubscribe(c,o){const i=this.publishers[c];i&&i.unsubscribe(o)}constructor(){this.publishers={}}}v(t,"peer_pub_sub_PeerPubSub");var a=n.a=new t},Lcgj:function(K,n,e){"use strict";e.d(n,"a",function(){return a});var s=e("SQ0V"),t=e("p5o1");const a=Object(s.c)("Finished loading history for a channel",(r,c,o)=>{const{channelId:i}=o||{};r(Object(t.b)({ids:[i]}))});a.meta={name:"createThunk",key:"createThunkdoneLoading",description:"Finished loading history for a channel"}},Lizi:function(K,n,e){"use strict";e.d(n,"b",function(){return m}),e.d(n,"a",function(){return g});var s=e("j77i"),t=e("Qe/g"),a=e("bYrq"),r=e("t4eE"),c=e("0VB0"),o=e("kBpe"),i=e("7lBi"),l=e("vfQU"),u=e("Cgcc");const f=".p-client_container_placeholder",d=".p-client_container_placeholder__nav";function O(p){const h=document.createElement("div");h.classList.add("p-view_header_placeholder"),p.appendChild(h);const _=document.createElement("div");_.classList.add("p-message_input_placeholder"),p.appendChild(_),p.classList.add("p-client_container_placeholder--channel-popout")}v(O,"renderChannelPopoutPlaceholder");function m(p){let{teamId:h,showTeamSwitcher:_=!1}=p;const b=Object(s.h)(h,"is_unified_user_client_enabled"),I=Object(s.h)(h,"channelSidebarBackground"),C=Object(s.h)(h,"teamSwitcherBackground"),y=Object(s.h)(h,"textColor"),P=Object(s.h)(h,"topNavBackground")||I,T=Object(s.h)(h,"topNavTextColor")||y,S=document.querySelector(f),A=Object(s.h)(h,"iaTheming");if(!S)return;if(Object(t.a)()){O(S);return}if(Object(a.b)())return;const R=S.querySelector(d);if(!I){g();return}if(b){if(R&&y&&I){const M=document.createElement("div");M.classList.add("p-ia4_client_container_placeholder--sidebar");const j=document.createElement("div");if(j.classList.add("p-ia4_client_container_placeholder--content"),S.appendChild(M),S.appendChild(j),S.classList.add("p-ia4_client_container_placeholder--theme-background"),A){let W="#ffffffB3";A.mode==="dark"&&(W="#1212138C",S.classList.add("sk-client-theme--dark")),M.style.backgroundColor=W,S.style.background=Object(u.c)({mode:A.mode,primary:A.primary.palette,highlight1:A.highlight1.palette})}else if(M.style.backgroundColor=I,P){const W=P,U=Object(c.k)(P,25);S.style.background=`conic-gradient(
            from 45deg at 50% 50%,
            ${U} 0%,
            ${W} 25%,
            ${U} 50%,
            ${W} 75%,
            ${U} 100%
          )`}R.classList.add("p-ia4_client_container_placeholder--top-nav"),Object(o.x)()&&Object(o.i)()&&(R.style.height="13px",Object(o.j)("4.32.0")&&P&&l.nc.isAvailable()&&Object(l.nc)(Object(l.O)(),{color:P,symbolColor:T}))}S.style.opacity="1"}else{if(Object(r.b)()&&_&&(S.classList.add("p-client_container_placeholder--with-team-switcher"),C&&(S.style.borderLeftColor=C)),R&&y&&I){const U=Object(c.l)(y,I,.1),B=Object(c.r)(y,.1);S.style.borderRightColor=U,Object(o.x)()&&Object(o.i)()&&(R.style.height="13px",Object(o.j)("4.32.0")&&P&&l.nc.isAvailable()&&Object(l.nc)(Object(l.O)(),{color:P,symbolColor:T})),P&&(R.style.backgroundColor=P),R.style.color=B,Object(r.b)()&&_&&(S.style.removeProperty("border-left-color"),S.style.boxShadow=`-60px 0px 0px 0px ${I}`,R.classList.add("p-client_container_placeholder__nav--with-team-switcher"))}let M=I;var x;const j=(x=Object(s.h)(h,i.b))!==null&&x!==void 0?x:"",W=parseInt(j,10);isNaN(W)||(S.style.width=`${j+1}px`,Object(r.b)()&&_&&W===0&&(S.style.width="60px",M="none",S.style.borderRight="none")),S.style.backgroundColor=M,S.style.opacity="1"}}v(m,"renderBootPlaceholder");function g(){const p=document.querySelector(f);p&&p.remove()}v(g,"removeBootPlaceholder"),Object.defineProperty({removeBootPlaceholder:g},"removeBootPlaceholder",{get:()=>g,set:p=>{g=p}})},LpvA:function(K,n,e){"use strict";e.d(n,"a",function(){return a}),e.d(n,"b",function(){return r.a});var s=e("q1tI"),t=e("yxNq");let a=v(class extends s.Component{shouldComponentUpdate(o,i){return!Object(t.a)(o,this.props,2)||!Object(t.a)(i,this.state,2)}},"PureComponentDepth2");var r=e("6Bu2")},LqER:function(K,n,e){"use strict";e.d(n,"a",function(){return o}),e.d(n,"b",function(){return i});var s=e("q1tI"),t=e.n(s),a=e("/MKj"),r=e("zxER"),c=e("3vtZ"),o;(function(l){l.HUDDLES_SCHEDULED_ADD="huddles_scheduled_add",l.HUDDLES_SCHEDULED_NUX="huddles_scheduled_nux",l.HUDDLES_SCHEDULED_CANCEL="huddles_scheduled_cancel"})(o||(o={}));function i(l){const u=Object(r.a)(f=>l?Object(c.n)(f,l):{},a.shallowEqual);return Object(s.useMemo)(()=>({callsChannelId:u.channel_id,callsChannelType:u.channel_type,callsNumParticipants:u.num_participants,callsRoomId:u.room_id}),[u.channel_id,u.channel_type,u.num_participants,u.room_id])}v(i,"useHuddlesClogContext")},LvEQ:function(K,n,e){"use strict";e.d(n,"b",function(){return d}),e.d(n,"d",function(){return O}),e.d(n,"g",function(){return m}),e.d(n,"c",function(){return g}),e.d(n,"f",function(){return E}),e.d(n,"a",function(){return p}),e.d(n,"e",function(){return h}),e.d(n,"h",function(){return _});var s=e("Z0Cl"),t=e("fujP"),a=e("TGBA"),r=e("jF/p"),c=e("yIs4"),o=e("ZKjC"),i=e("G4qV"),l=e("JoR1");const u=60*60*24*14,f=Object(o.b)((b,I)=>b&&b.emojiCollections&&b.emojiCollections.collections&&b.emojiCollections.collections[I]);f.meta={name:"createSelector",key:"createSelectorgetEmojiCollection",description:(b,I)=>b&&b.emojiCollections&&b.emojiCollections.collections&&b.emojiCollections.collections[I]};const d=Object(o.b)(b=>b&&b.emojiCollections&&b.emojiCollections.collections);d.meta={name:"createSelector",key:"createSelectorgetEmojiCollections",description:b=>b&&b.emojiCollections&&b.emojiCollections.collections};const O=Object(i.a)(d,b=>Object(s.a)(b,I=>I.installed)),m=Object(o.b)(b=>b&&b.emojiCollections&&b.emojiCollections.hasFetched);m.meta={name:"createSelector",key:"createSelectorhasFetchedEmojiCollections",description:b=>b&&b.emojiCollections&&b.emojiCollections.hasFetched};const g=Object(o.b)(b=>b&&b.emojiCollections&&b.emojiCollections.inputBadge);g.meta={name:"createSelector",key:"createSelectorgetInputBadge",description:b=>b&&b.emojiCollections&&b.emojiCollections.inputBadge};const E=Object(o.b)(b=>b&&b.emojiCollections&&b.emojiCollections.tabBadge);E.meta={name:"createSelector",key:"createSelectorgetTabBadge",description:b=>b&&b.emojiCollections&&b.emojiCollections.tabBadge};const p=Object(o.b)(b=>b&&b.emojiCollections&&b.emojiCollections.emojiClickCount);p.meta={name:"createSelector",key:"createSelectorgetEmojiClickCount",description:b=>b&&b.emojiCollections&&b.emojiCollections.emojiClickCount};const h=Object(o.b)(b=>{const I=d(b);if(Object(t.a)(I))return null;const C=Object(a.a)(I);return Object(r.a)(C,y=>y.date_create)});h.meta={name:"createSelector",key:"createSelectorgetMostRecentPack",description:b=>{const I=d(b);if(Object(t.a)(I))return null;const C=Object(a.a)(I);return Object(r.a)(C,y=>y.date_create)}};const _=Object(o.b)(b=>{const I=Object(l.u)(b,"emoji_packs_most_recent_available_time");if(!Object(c.a)(I))return!1;const C=I+u;return Date.now()/1e3<C});_.meta={name:"createSelector",key:"createSelectorisWithinExpirationDateOfNewPack",description:b=>{const I=Object(l.u)(b,"emoji_packs_most_recent_available_time");if(!Object(c.a)(I))return!1;const C=I+u;return Date.now()/1e3<C}}},LxFC:function(K,n,e){"use strict";e.d(n,"c",function(){return s}),e.d(n,"d",function(){return t}),e.d(n,"a",function(){return a}),e.d(n,"b",function(){return r});const s="output";var t;(function(c){c.Denied="denied",c.Granted="granted",c.NotDetermined="not-determined"})(t||(t={}));var a;(function(c){c.NONE="none",c.Blur="blur",c.Both="both"})(a||(a={}));var r;(function(c){c.Camera="camera",c.Microphone="microphone"})(r||(r={}))},"M1/X":function(K,n,e){"use strict";e.d(n,"a",function(){return f}),e.d(n,"d",function(){return E}),e.d(n,"b",function(){return h}),e.d(n,"c",function(){return _});var s=e("OtLZ"),t=e("E3dU"),a=e("beVI"),r=e("oU7v"),c=e("E97Y"),o=e("rKeN"),i=e("y3Vx"),l=e("G0eX"),u=e("OOsk");const f={InvalidParams:Symbol("invalid_params"),FreeTeam:Symbol("free_team"),CannotRequest:Symbol("cannot_request_ext_shared"),InvalidChannel:Symbol("invalid_channel")},d={ok:!1,reason:f.InvalidParams},O={ok:!1,reason:f.FreeTeam},m={ok:!1,reason:f.CannotRequest},g={ok:!1,reason:f.InvalidChannel},E=v((b,I)=>{if(!Object(c.e)(I))return d;const C=Object(o.a)(b),y=Object(l.G)(Object(a.g)(b));if(!C&&!y)return O;const T=Object(i.c)(b);return!(T!=null&&T.ok)&&!Object(i.b)(b)&&Object(s.a)(T==null?void 0:T.reasons,i.a.UserCannotCreateChannel).length>0?m:Object(r.a)(b,I)?u.a:g},"canUserInviteExternalMembersToChannelWithReason"),p=v((b,I)=>{const y=Object(t.c)(b,I,!1);return y?E(b,y):d},"canUserInviteExternalMembersToChannelWithReasonById"),h=v((b,I)=>E(b,I).ok,"canUserInviteExternalMembersToChannel"),_=v((b,I)=>p(b,I).ok,"canUserInviteExternalMembersToChannelById")},"M2+7":function(K,n,e){"use strict";e.d(n,"a",function(){return Y});var s=e("q1tI"),t=e.n(s),a=e("Cfcg"),r=e("iuhU"),c=e("NZ+B"),o=e("LvvF"),i=e("VFSv"),l=e("Kmpi"),u=e("JoR1"),f=e("E3dU"),d=e("xwCZ"),O=e("Yauy"),m=e("C3vN"),g=e("5YDL"),E=e("Fn/R"),p=e("K7jq"),h=e("ehcD"),_=e("pFNT"),b=e("CD4m"),I=e("MC67"),C=e("nNoG"),y=e("g/kD"),P=e("oEDn"),T=e("zUbs"),S=e("zNRp"),A=e("e7up"),R=e("NPtR"),x=e("0i82"),M=e("sGXp"),j=e("RVJP"),W=e("QcTi");function U(){return U=Object.assign||function(L){for(var Q=1;Q<arguments.length;Q++){var ee=arguments[Q];for(var te in ee)Object.prototype.hasOwnProperty.call(ee,te)&&(L[te]=ee[te])}return L},U.apply(this,arguments)}v(U,"_extends");const B=20,Y=16,z=new C.b("members");function F(L){const{className:Q,id:ee,invert:te=!1,member:le,teamId:Oe,showAvatar:he=!0,showDraftIcon:Ee=!1,showPresence:ge=!0,showBadge:J=!0,showStatus:H=!0,showTooltip:Z=!0,showUnreadCount:q=!1,showDeactivated:k=!0,isDeactivated:se=!1,unreadCount:re,useShortMode:X=!1,forceRealName:w=!1,tokenSize:ce,truncateStatus:ie=!1,withTruncationTooltip:oe,"data-sk":me="small_member_entity","data-qa":ue="small_member_entity",isBold:_e,experimentHideUserV1GroupOn:be=!1,experimentSidebarPrefsApplyToMenusGroupOn:Ae=!1,isUserHidden:Ce=!1}=L,De=Object(E.a)(le),Pe=Object(m.eb)(le),Ue=Object(p.a)(le),ae=Object(m.vb)(le),ne=Object(m.tb)(le),Ie=Object(l.c)(le),Te=Object(l.d)(le),Me=Ie||Te,Ne=te&&!se,He=k&&Pe,Et=Object(m.C)(le),Je=Object(m.v)(le);let qe,ke;be&&Ce?(qe=z.t("Name hidden"),ke=z.t("Name hidden")):w||!Je?(qe=Et,ke=Je):(qe=Je,ke=Et);const rt=t.a.createElement(T.a,{"data-qa":"member-entity__primary-name",className:"c-member__member-name",name:qe,invert:Ne,isAppOrBot:De,isDeleted:He,isSelf:ae,isNonExistent:Ie,isUnknown:Te,withTruncationTooltip:oe,isBold:_e}),pe=!(be&&Ce)&&!ne&&t.a.createElement(I.a,{className:"c-member__secondary-name","data-qa":"member-entity__secondary-name"},ke),je=Object(s.useMemo)(()=>!(be&&Ce)&&!Pe&&!ne&&t.a.createElement(R.a,{memberId:ee||(le==null?void 0:le.id),className:"c-member__presence",invert:Ne,inline:!1}),[be,Ce,Pe,ne,ee,Ne,le]),xe=Object(s.useCallback)(at=>he?be&&Ce?t.a.createElement("span",{className:"c-search_autocomplete__hidden_member_icon "},t.a.createElement(i.a,{size:"20",name:"user-hide"})):Me?t.a.createElement(A.a,U({},at,{"data-qa":"member-entity__missing",isNonExistent:Ie,size:B})):Ee?t.a.createElement(P.a,{type:"pencil",size:"inherit",className:"c-member__draft_icon","aria-hidden":!0,"data-qa":"member-entity__draft"}):t.a.createElement(_.c,U({},at,{"data-qa":"member-entity__avatar",size:M.a.small,userId:ee,user:le,showBadge:J,tabIndex:-1,isInteractive:!1,tokenSize:ce})):ge&&Ae?je:null,[he,ee,Ie,Me,le,ce,Ee,be,Ce,je,ge,J,Ae]),ze=Ue&&t.a.createElement(x.b,U({},L,{"data-qa":"member-entity__team-icon",id:Oe,size:Y,className:"c-member__team_icon"})),st=t.a.createElement(y.a,{memberId:ee||"",tooltip:Z,animated:X,className:Object(r.default)("c-member__current-status","c-member__current-status--small",{overflow_ellipsis:ie}),"data-qa":"member-entity__status"}),ct=q&&!!re&&t.a.createElement(S.b,{className:"c-member__unread_count",count:re,style:Ne?"white":"red","data-qa":"member-entity__mention-badge"}),dt=t.a.createElement("span",{className:"c-member__primary_content"},rt,ge&&!Me&&he&&je,!X&&pe,H&&st),bt=(ze||ct)&&t.a.createElement("span",{className:"c-member__secondary_content"},ze,ct),Ft=Pe&&!te?M.d.dim:void 0,Bt=Object(r.default)(Q,"c-member","c-member--small",{"c-member--with-presence":ge,"c-member--deleted":Pe,"c-base_entity--dim":be&&Ce});return t.a.createElement(b.d,{avatar:xe,className:Bt,text:dt,size:"small",style:Ft,subtext:bt,"data-qa":ue,"data-sk":me})}v(F,"SmallMemberEntity"),F.displayName="SmallMemberEntity";function V(L,Q){let{forceRealName:ee,member:te,id:le,isDraftContext:Oe,showStatus:he,onlyBoldIfUnread:Ee,useShortMode:ge,neverBold:J}=Q;const H=te||Object(d.g)(L,le);let Z;const q=le||(H==null?void 0:H.id);q&&(Oe||Ee)&&(Z=Object(f.l)(L,q));const k=Object(j.d)(L,"hide_user_v1")==="on",se=Object(o.b)(L,q);let re=!0;k&&se?re=!!ge:Ee?re=!!(Z&&Object(O.ub)(Z)):J&&(re=!1);let X;return Oe&&(X=!!(Z&&Object(O.w)(L,Z.id))),{id:le||(H==null?void 0:H.id),member:H??void 0,teamId:Object(h.c)(L,H),forceRealName:Object(c.a)(ee)?ee:Object(u.v)(L),unreadCount:Object(g.a)(L,H),showDraftIcon:X,showStatus:he&&Object(m.T)(H),isBold:re,experimentSidebarPrefsApplyToMenusGroupOn:Object(j.d)(L,"sidebar_prefs_apply_to_menus")==="on",experimentHideUserV1GroupOn:k,isUserHidden:se}}v(V,"mapStateToProps"),n.b=Object(a.a)(V)(F)},MC67:function(K,n,e){"use strict";var s=e("q1tI"),t=e.n(s),a=e("iuhU"),r=e("aBhT"),c=e("BJra");function o(){return o=Object.assign||function(l){for(var u=1;u<arguments.length;u++){var f=arguments[u];for(var d in f)Object.prototype.hasOwnProperty.call(f,d)&&(l[d]=f[d])}return l},o.apply(this,arguments)}v(o,"_extends");function i(l){const{children:u=null,className:f="",multiline:d=!1,inline:O=!1,breakWords:m=!0,withTruncationTooltip:g=!1}=l;if(!u)return null;const E=d?2:1;return O?t.a.createElement("span",o({className:Object(a.default)(f,"c-base_entity__text")},Object(c.a)(l)),u):t.a.createElement("span",o({className:Object(a.default)(f,"c-base_entity__text")},Object(c.a)(l)),t.a.createElement(r.a,{lines:E,breakWords:m,withTooltip:g},u))}v(i,"BaseEntityText"),i.displayName="BaseEntityText",n.a=i},MKPB:function(K,n,e){"use strict";e.d(n,"a",function(){return ce});var s=e("Lgge"),t=e("/1FC"),a=e("fujP"),r=e("xWuZ"),c=e("ifKl"),o=e("lCmp"),i=e("TGBA"),l=e("wBxZ"),u=e("E3dU"),f=e("i5Ig"),d=e("g4Nj"),O=e("dmdh"),m=e("y23z"),g=e("WXkz"),E=e("xwCZ"),p=e("9wgI"),h=e("od0p"),_=e("GhjL"),b=e("O86Y"),I=e("I27i"),C=e("fTzy"),y=e("yrot"),P=e("bqbz"),T=e("isHU"),S=e("26vS"),A=e("NV6F"),R=e("l2BV"),x=e("rKeN"),M=e("mLC8"),j=e("Pw4T"),W=e("gPPH"),U=e("Z7Ay"),B=e("lhZz"),Y=e("ktUG"),z=e("RVJP"),F=e("ptZ7"),V=e("P+mv"),L=e("Fbsn"),Q=e("oZth"),ee=e("Y3/F"),te=e("ie1g"),le=e("KZ1R"),Oe=e("hwwf"),he=e("9oTK"),Ee=e("SQ0V"),ge=e("IIEv");const J=Object(Ee.c)("Fetch list records for lists mentions",function(){var ie=Object(he.coroutine)(function*(oe,me,ue){let{query:_e}=ue;const be=Object(Oe.w)(_e);if(!be)return;const{listTitle:Ae}=be,Ce=Object.values(Object(g.q)(me())),De=Object(Oe.i)(Ce,Ae);if(!De)return;const Pe=De.id;yield oe(Object(ge.a)({listId:Pe}))});return function(oe,me,ue){return ie.apply(this,arguments)}}());J.meta={name:"createThunk",key:"createThunkfetchForMentions",description:"Fetch list records for lists mentions"};var H=e("046c"),Z=e("coh6"),q=e("nNoG"),k=e("G5NC"),se=e("ptQX"),re=e("R4JA");class X{search(oe){let{query:me,options:ue}=oe;var _e;if(this.maybeStartSession(me),!me.length&&!ue.allowEmptyQuery)return s.a.resolve([]);if(Object(t.a)(me))return this.bulkSearch({queryRecords:me,options:ue});const be=Object(B.getStateByTeamId)(this.teamId),Ae=Object(j.d)({state:be}),Ce=Object(W.a)();Ae.mark(`modern-searcher-search-mark-${Ce}`);const De=Object(F.a)(me);M.d.start({label:M.a.Searcher,id:Ce,options:{teamId:Object(b.g)(be),tags:this.getTraceTags({query:De,options:ue})}});const Pe=(_e=M.d.get({label:M.a.Searcher,id:Ce}))===null||_e===void 0?void 0:_e.createChildSpan({name:"searcher:search"}),Ue=Object(Z.e)(be,ue,Z.a,me);if(Object(a.a)(Ue))return s.a.resolve();if(Object(C.a)(be)!==I.a.ONLINE||!(ue!=null&&ue.allowEmptyQueryRemoteSearch)&&!De.length&&Object(k.a)()&&Object(z.d)(be,"searcher_local_empty_string")==="treatment"&&!ue.entities.lists)return s.a.resolve(this.searchLocal({query:De,options:Ue,autoTraceId:Ce,parentSpanId:Pe==null?void 0:Pe.getId()}));const ae=this.fetchRemote({query:De,options:Ue,autoTraceId:Ce,parentSpanId:Pe==null?void 0:Pe.getId()}).then(ne=>this.processFetchedEntities({query:De,data:ne,options:Ue,autoTraceId:Ce,parentSpanId:Pe==null?void 0:Pe.getId()}));if(Ue.tiered){const ne=this.searchLocal({query:De,options:Ue,autoTraceId:Ce,parentSpanId:Pe==null?void 0:Pe.getId()});return ne.promise=ae.finally(()=>{Pe==null||Pe.close(),M.d.stop({label:M.a.Searcher,id:Ce})}),s.a.resolve(ne).finally(()=>{Ae.measureAndClear(`modern-searcher-search-mark-${Ce}`,"modern-searcher-search-tiered")})}return ae.finally(()=>{Ae.measureAndClear(`modern-searcher-search-mark-${Ce}`,"modern-searcher-search"),Pe==null||Pe.close(),M.d.stop({label:M.a.Searcher,id:Ce})})}flattenResultsWithQueryId(oe){let{returnedResults:me,queryIds:ue}=oe;const _e=me;for(let be=0;be<me.length;be++)for(let Ae=0;Ae<me[be].length;Ae++)_e[be][Ae].queryId=ue[be];return Object(r.a)(_e)}bulkSearch(oe){let{queryRecords:me,options:ue}=oe;const _e=Object(B.getStateByTeamId)(this.teamId),be=Object(j.d)({state:_e}),Ae=Object(W.a)();be.mark(`modern-searcher-search-mark-${Ae}`);const Ce=Object(Z.e)(_e,ue,Z.a,"");if(Object(a.a)(Ce))return s.a.resolve();const De=me.map(Te=>Te.query),Pe=me.map(Te=>Te.queryId),Ue=De.map(Te=>Object(F.a)(Te));let ae,ne;if(Object(C.a)(_e)!==I.a.ONLINE)return ne=Ue.map(Te=>this.searchLocal({query:Te,options:Ce})),ae=this.flattenResultsWithQueryId({returnedResults:ne,queryIds:Pe}),s.a.resolve(ae);const Ie=this.fetchRemote({query:Ue,options:Ce}).then(Te=>(ne=Te.map((Me,Ne)=>this.processFetchedEntities({query:Ue[Ne],data:Me,options:Ce})),this.flattenResultsWithQueryId({returnedResults:ne,queryIds:Pe})));return Ce.tiered?(ne=Ue.map(Te=>this.searchLocal({query:Te,options:Ce})),ae=this.flattenResultsWithQueryId({returnedResults:ne,queryIds:Pe}),ae.promise=Ie,s.a.resolve(ae).finally(()=>{be.measureAndClear(`modern-searcher-search-mark-${Ae}`,"modern-searcher-search-tiered")})):Ie.finally(()=>{be.measureAndClear(`modern-searcher-search-mark-${Ae}`,"modern-searcher-search")})}searchLocal(oe){let{query:me,options:ue,autoTraceId:_e,parentSpanId:be}=oe;var Ae;const Ce=Object(B.getStateByTeamId)(this.teamId);let De=_e;De||(De=Object(W.a)(),M.d.start({label:M.a.Searcher,id:De,options:{teamId:Object(b.g)(Ce),tags:this.getTraceTags({query:me,options:ue})}}));const Pe=(Ae=M.d.get({label:M.a.Searcher,id:De}))===null||Ae===void 0?void 0:Ae.createChildSpan({name:"searcher:search_local",additionalSpanOptions:{parentSpanId:be}});if(!me.length&&!ue.allowEmptyQuery)return[];const Ue=Object(Z.e)(Ce,ue,Z.a,me);if(Object(a.a)(Ue))return[];const ae=Object(F.a)(me),ne=this.fetchLocal({query:me,options:Ue}),Ie=this.processFetchedEntities({query:ae,data:ne,options:Ue,autoTraceId:De,parentSpanId:Pe==null?void 0:Pe.getId()});return Pe==null||Pe.close(),Ie}fetchRemote(){let{query:oe,options:me={},autoTraceId:ue,parentSpanId:_e}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};var be;const Ae=Object(B.getStateByTeamId)(this.teamId),Ce=(be=M.d.get({label:M.a.Searcher,id:ue}))===null||be===void 0?void 0:be.createChildSpan({name:"searcher:fetch_remote",additionalSpanOptions:{parentSpanId:_e}});this.pendingRequests.forEach(ke=>ke.cancel()),this.pendingRequests=[];const De=[],Pe=[],{channels:Ue,emoji:ae,files:ne,lists:Ie,members:Te,teams:Me,userGroups:Ne,appActions:He,workflowTriggers:Et}=me.entities;if(Te){let ke;Object(t.a)(oe)?ke=Object(B.dispatchForTeamId)(this.teamId,Object(Z.g)({queries:oe,options:me})):ke=Object(B.dispatchForTeamId)(this.teamId,Object(Z.x)({query:oe,options:me})),this.pendingRequests.push(ke),Te.runaway?Pe.push(ke):De.push(ke)}if(Ue){const ke=Object(B.dispatchForTeamId)(this.teamId,Object(Z.t)({query:oe,options:me}));this.pendingRequests.push(ke),Ue.runaway?Pe.push(ke):De.push(ke)}if(ae){const ke=Object(B.dispatchForTeamId)(this.teamId,Object(Z.u)({query:oe,options:me}));this.pendingRequests.push(ke),ae.runaway?Pe.push(ke):De.push(ke)}if(ne&&(Object(q.d)(oe)||oe.length>3)){const ke=Object(B.dispatchForTeamId)(this.teamId,Object(Z.v)({query:oe,options:me}));this.pendingRequests.push(ke),ne.runaway?Pe.push(ke):De.push(ke)}if(Ie){const ke=Object(B.dispatchForTeamId)(this.teamId,oe.indexOf(">")<0?Object(le.a)({query:oe}):J({query:oe}));this.pendingRequests.push(ke),Ie.runaway?Pe.push(ke):De.push(ke)}if(Ne){let ke;Object(t.a)(oe)?ke=Object(B.dispatchForTeamId)(this.teamId,Object(Z.h)({queries:oe,options:me})):ke=Object(B.dispatchForTeamId)(this.teamId,Object(Z.z)({query:oe,options:me})),this.pendingRequests.push(ke),Ne.runaway?Pe.push(ke):De.push(ke)}if(Object(x.a)(Ae)&&Me){const ke=Object(B.dispatchForTeamId)(this.teamId,Object(Z.y)({query:oe,options:me}));this.pendingRequests.push(ke),Me.runaway?Pe.push(ke):De.push(ke)}if(Object(T.a)(Ae)&&He){const ke=Object(B.dispatchForTeamId)(this.teamId,Object(d.a)()).timeout(2e3).catch(c.a);this.pendingRequests.push(ke),He.runaway?Pe.push(ke):De.push(ke)}if(Et&&Object(R.a)(Ae)){var Je,qe;const ke=Object(B.dispatchForTeamId)(this.teamId,Object(Z.A)({query:oe,currentChannelId:(Je=me.entities)===null||Je===void 0||(qe=Je.shortcuts)===null||qe===void 0?void 0:qe.channel}));Et.runaway?Pe.push(ke):De.push(ke)}return s.a.all(De).then(ke=>{let rt;if(Object(t.a)(oe))rt=oe.map(ze=>this.fetchLocal({query:ze,options:me})).map(ze=>{const st={...ze};return st.remoteIds=Object(Z.w)(ke),st});else{if(rt=this.fetchLocal({query:oe,options:me}),rt.remoteIds=Object(Z.w)(ke),Te&&Te.onlyFromExternalWorkspaceId){var pe,je;rt.members=(je=(pe=ke.find(ze=>!!ze.members))===null||pe===void 0?void 0:pe.members)!==null&&je!==void 0?je:f.a}const xe=Object(o.a)(Object(i.a)(rt),"length");if(Pe.length&&!xe)return s.a.all(Pe).then(()=>this.fetchLocal({query:oe,options:me}))}return Ce==null||Ce.close(),rt}).finally(()=>{this.pendingRequests=[]})}fetchLocal(oe){let{query:me,options:ue}=oe;const _e=Object(B.getStateByTeamId)(this.teamId);Object(Z.E)(ue);const be={},{members:Ae,channels:Ce,teams:De,userGroups:Pe,appActions:Ue,views:ae,broadcastKeywords:ne,emoji:Ie,files:Te,links:Me,lists:Ne,channelSections:He,emails:Et,modals:Je,shortcuts:qe,workflowTriggers:ke,helpArticles:rt}=ue.entities;if(Ce&&(Ce.includePublic||Ce.includePrivate)&&(be.channels=Object(Z.l)(_e,ue)),Ce&&Ce.includeMpims&&(be.mpims=Object(u.q)(_e)),Ce&&Ce.includeIms&&(be.ims=Object(u.n)(_e)),Ae&&(be.members=Ae.onlyFromExternalWorkspaceId?f.a:Object(E.b)(_e).filter(xe=>Object(se.a)(_e,xe.id)&&!Object(re.a)(_e,xe.id))),De&&(be.teams=Object(Z.o)(_e,ue)),Pe&&(be.userGroups=Object(_.c)(_e)),Ue&&(be.appActions=Object(Z.f)(_e,Ue.channel)),Te&&(be.files=Object(O.a)(_e)),Me&&(be.links=Object(m.a)(_e)),Ne&&(me.indexOf(">")<0?be.lists=Object(g.m)(_e):be.listRecords=Object(g.n)(_e,me)),ae&&(be.views=Object(Z.p)(_e)),Je&&(be.modals=Object(Z.n)()),ne){var pe;const xe=ne.currentChannel?ne.currentChannel.id:null;be.broadcastKeywords=!((pe=ue.entities.broadcastKeywords)===null||pe===void 0)&&pe.includeAll?Object(h.a)():Object(p.a)(_e,xe)}if(Ie&&(be.emoji=Object(y.e)(_e)),He&&(be.channelSections=Object(i.a)(Object(P.b)(_e))),(qe!=null&&qe.slashCommands||qe!=null&&qe.fakeGlobalActions)&&!(qe!=null&&qe.isAnnounceOnly)&&(be.slashCommands=Object(Z.B)(_e,qe.channel,qe.threadTs)),qe!=null&&qe.slackGlobalActions&&(be.slackGlobalActions=Object(A.h)(_e,qe.channel,qe.threadTs)),qe!=null&&qe.channelActions&&(be.channelActions=Object(S.b)(_e,qe.channel)),qe!=null&&qe.fakeGlobalActions&&(be.fakeGlobalActions=Object(A.g)(_e,qe.channel,qe.threadTs,be.slashCommands)),qe!=null&&qe.callActions&&(be.callActions=Object(A.f)(_e,qe.channel,qe.threadTs,qe.isAnnounceOnly)),ke){const xe=Object(A.e)(_e);ke.includeAutomated?be.workflowTriggers=xe:be.workflowTriggers=xe.filter(ze=>ze.type===H.a.Shortcut)}Et&&(be.emails=Object(Z.m)(me));const je=Object(ee.a)(_e);return rt&&je&&(be.helpArticles=Object(te.c)(_e,"searcher/fetch_all_articles")),Object(Z.H)(),be}processFetchedEntities(oe){let{query:me,data:ue,options:_e,autoTraceId:be,parentSpanId:Ae}=oe;var Ce,De;const Pe=Object(B.getStateByTeamId)(this.teamId),Ue=(Ce=M.d.get({label:M.a.Searcher,id:be}))===null||Ce===void 0?void 0:Ce.createChildSpan({name:"searcher:process",additionalSpanOptions:{parentSpanId:Ae}});Object(Z.E)(_e);const ae={},ne=new V.a({query:me,options:_e}),Ie=Object(j.d)({state:Pe});Ie.mark("modern-searcher-matching-mark");const Te=(De=M.d.get({label:M.a.Searcher,id:be}))===null||De===void 0?void 0:De.createChildSpan({name:"searcher:searcher_match",additionalSpanOptions:{parentSpanId:Ue==null?void 0:Ue.getId()}});if(ue.channels&&(ae.channels=ne.filterChannels(Pe,ue.channels,Object(Z.i)(Pe,_e.entities.channels))),ue.members&&(ae.members=ne.filterMembers(Pe,ue.members,Object(Z.q)(Pe,_e.entities.members))),ue.emails&&ue.members&&!ae.members.length&&(ae.emails=ue.emails),ue.mpims&&(ae.mpims=ne.filterMpims(Pe,ue.mpims,Object(Z.r)(Pe,_e.entities.channels))),ue.ims&&(ae.ims=ne.filterIms(Pe,ue.ims,Object(Z.k)(Pe,_e.entities.channels))),ue.userGroups&&(ae.userGroups=ne.filterUserGroups(Pe,ue.userGroups,Object(Z.D)(Pe,_e.entities.userGroups))),ue.teams&&(ae.teams=ne.filterTeams(Pe,ue.teams,Object(Z.C)(Pe,_e.entities.teams))),ue.views&&(ae.views=ne.filterViews(Pe,ue.views)),ue.modals&&(ae.modals=ne.filterModals(Pe,ue.modals)),ue.appActions&&(ae.appActions=ne.filterAppActions(Pe,ue.appActions)),ue.slashCommands&&(ae.slashCommands=ne.filterShortcuts(Pe,ue.slashCommands,!0)),ue.slackGlobalActions&&(ae.slackGlobalActions=ne.filterShortcuts(Pe,ue.slackGlobalActions)),ue.channelActions&&(ae.channelActions=ne.filterShortcuts(Pe,ue.channelActions)),ue.fakeGlobalActions&&(ae.fakeGlobalActions=ne.filterShortcuts(Pe,ue.fakeGlobalActions)),ue.callActions&&(ae.callActions=ne.filterShortcuts(Pe,ue.callActions)),ue.workflowTriggers&&(ae.workflowTriggers=ne.filterWorkflowTriggers(Pe,ue.workflowTriggers)),ue.broadcastKeywords&&(ae.broadcastKeywords=ne.filterBroadcastKeywords(Pe,ue.broadcastKeywords)),ue.emoji&&(ae.emoji=ne.filterEmoji(Pe,ue.emoji)),ue.channelSections&&(ae.channelSections=ne.filterChannelSections(Pe,ue.channelSections,qe=>{var ke,rt;return!!(!((ke=_e.entities.channelSections)===null||ke===void 0||(rt=ke.includeTypes)===null||rt===void 0)&&rt[qe.type])})),ue.files&&(ae.files=ne.filterFiles(Pe,ue.files,Object(Z.j)(_e.entities.files))),ue.links&&(ae.links=ne.filterLinks(Pe,ue.links)),ue.lists&&(ae.lists=ne.filterLists(Pe,ue.lists)),ue.listRecords){const{recordQuery:qe}=Object(Oe.w)(me),ke=new V.a({query:qe,options:_e});ae.listRecords=ke.filterListRecords(Pe,ue.listRecords)}ue.helpArticles&&(ae.helpArticles=ne.filterHelpArticles(Pe,ue.helpArticles)),Ie.measureAndClear("modern-searcher-matching-mark","modern-searcher-matching"),Te==null||Te.close();let Me=ae;Me=Object(Z.b)(Me,ue.remoteIds||{});const Ne=500,He=3;if(_e.sort){var Et;let qe=!1;(Me.length<_e.limit*He||Me.length<Ne)&&(qe=!0);const ke=new L.a({query:me,options:{modelOnly:qe,..._e.sort}}),rt=(Et=M.d.get({label:M.a.Searcher,id:be}))===null||Et===void 0?void 0:Et.createChildSpan({name:"searcher:searcher_sort",additionalSpanOptions:{parentSpanId:Ue==null?void 0:Ue.getId()}});Me=ke.sort(Pe,Me),rt==null||rt.close()}else Me=Object(r.a)(Object.values(Me));if(_e.sort&&_e.sort.frecency){var Je;const qe=Object(z.d)(Pe,"snd_autocomplete_model_cache"),ke=qe&&qe.startsWith("treatment"),rt=(Je=M.d.get({label:M.a.Searcher,id:be}))===null||Je===void 0?void 0:Je.createChildSpan({name:"searcher:sorter_sort",additionalSpanOptions:{parentSpanId:Ue==null?void 0:Ue.getId()}});Me=new Q.a({query:me,options:_e.sort,modelRemote:ke,teamId:Object(b.g)(Pe),enterpriseId:Object(x.a)(Pe)&&Object(b.d)(Pe)}).sort(Pe,Object(r.a)(Object.values(Me.slice(0,Math.min(_e.limit*He,Ne))))),rt==null||rt.close()}else Me=Object(r.a)(Object.values(Me));return _e.limit&&(Me=Object(l.a)(Me,_e.limit)),_e.returnMetadata||(Me=Me.map(qe=>qe.item)),Object(Z.H)(),Me||[]}clogSearcherAccept(oe){let{clogger:me,data:ue}=oe;const{source:_e,query:be,results:Ae,selectedItemId:Ce,displayedItemIds:De}=ue,Pe=15,Ue=De?De.length:Ae.length,ae=De?De.indexOf(Ce):Ae.findIndex(ke=>ke.item.id===Ce);if(ae<0)return;const ne=Ae.find(ke=>ke.item.id===Ce);if(!ne)return;const Ie=ne.type||"other",Te=Object(F.a)(be),Me=ne.source||"local";let Ne;ne.type==="mpim"?Ne=ne.scoreDetailsByMember:ne.type==="member"?Ne={[Ce]:{is_exact_match:ne.isExactMatch,exact_match_details:ne.exactMatchDetails,score_details:ne.scoreDetails}}:ne.type==="emoji"&&(Ne={[Ce]:{is_exact_match:ne.isExactMatch}});let He=[];Ae.some(ke=>ke.featureVector)&&(De?He=De.map(ke=>{const rt=Ae.find(pe=>pe.item.id===ke);return rt&&rt.featureVector.serialize()||""}):He=Ae.map(ke=>{var rt,pe;return ke==null||(rt=ke.featureVector)===null||rt===void 0||(pe=rt.serialize)===null||pe===void 0?void 0:pe.call(rt)}));let Je;Object(t.a)(be)?Je=Te.reduce((ke,rt)=>ke+Object(Z.s)(Object(F.a)(rt)),0):Je=Object(Z.s)(Te);const qe={source:_e,query_length:Te.length?Te.length:0,query_terms_length:Je,results_length:Ue,selected_position:ae,selected_type:Ie,selected_source:Me,selected_match_details:Ne,feature_vector_list:He.slice(0,Pe),session_length:Date.now()-this.sessionTs};me.track(Y.EventId.SEARCHER_ACCEPT,qe),this.endSession()}clogSearcherReject(oe){let{clogger:me,data:ue}=oe;const{source:_e,query:be,results:Ae,displayedItemIds:Ce}=ue,De=Ce!==void 0?Ce.length:Ae.length,Pe=Object(F.a)(be);let Ue;Object(t.a)(be)?Ue=Pe.reduce((ne,Ie)=>ne+Object(Z.s)(Object(F.a)(Ie)),0):Ue=Object(Z.s)(Pe);const ae={source:_e,query_length:Pe.length?Pe.length:0,query_terms_length:Ue,results_length:De,session_length:Date.now()-this.sessionTs};me.track(Y.EventId.SEARCHER_REJECT,ae),this.endSession()}maybeStartSession(oe){!this.sessionId&&oe.length&&(this.sessionTs=Date.now(),this.sessionId=Object(W.a)())}endSession(){this.sessionTs=null,this.sessionId=null}getTraceTags(oe){let{query:me,options:ue}=oe;var _e;const be=ue.entities;return{source:(ue==null?void 0:ue.searchViewContext)||((_e=ue.sort)===null||_e===void 0?void 0:_e.source),tiered:ue.tiered,is_searcher_sessions:!0,entities:Object.keys(be).filter(Ae=>!!be[Ae]).sort().toString(),query_length:me.length}}constructor(oe){this.teamId=oe,this.pendingRequests=[],this.sessionId=null,this.sessionTs=null}}v(X,"searcher_Searcher");const w={};function ce(ie){let{teamId:oe,key:me}=ie;return w[oe]&&!w[oe][me]&&(w[oe][me]=new X(oe)),w[oe]||(w[oe]={},w[oe][me]=new X(oe)),w[oe][me]}v(ce,"getSearcher"),Object(U.a)("searcherObj",{search:(ie,oe)=>new X(ie).search(oe),searchLocal:(ie,oe)=>{new X(ie).searchLocal(oe)}})},MLXQ:function(K,n,e){"use strict";e.d(n,"a",function(){return a});var s=e("q1tI"),t=e.n(s);function a(r){const c=Object(s.useRef)(null);return Object(s.useEffect)(()=>{r&&(typeof r=="function"?r(c.current):r.current=c.current)}),c}v(a,"useCombineRefs")},MMa9:function(K,n,e){"use strict";e.d(n,"a",function(){return t});var s=e("0QQP");const t=v(r=>r&&r.name||"","getActionName"),a=v(r=>r&&r.id&&Object(s.a)(r.id),"isAppAction")},MO4o:function(K,n,e){"use strict";e.d(n,"a",function(){return t});function s(a){if((a==null?void 0:a.nodeType)!==Node.ELEMENT_NODE)return!1;const r=a.getAttribute("data-contenteditable-override");return r?r==="true":a.contentEditable==="true"}v(s,"isContenteditableElement");function t(a){return a?a.nodeName==="INPUT"||a.nodeName==="SELECT"||a.nodeName==="TEXTAREA"?!0:s(a):!1}v(t,"isInputElement")},MPQZ:function(K,n,e){"use strict";e.d(n,"a",function(){return m});var s=e("NFsq"),t=e("0VPD"),a=e("xwCZ"),r=e("G0eX"),c=e("rKeN"),o=e("/FOo"),i=e("beVI"),l=e("y9ga"),u=e("VOl3"),f=e("C3vN"),d=e("q0lC"),O=e("2vLX");function m(g){const E=Object(a.d)(g),p=Object(i.g)(g),h=Object(o.a)(g);if(!(h!=null&&h.value))return!1;if(Object(c.a)(g)){let _=[];switch(h.value){case l.c.ALL_ADMINS_AND_OWNERS:return Object(d.g)(g)||Object(d.e)(g)||Object(u.a)(E)||Object(u.b)(E);case l.c.TOPLEVEL_ADMINS_AND_OWNERS_AND_SELECTED:return Object(u.a)(E)||Object(u.b)(E)?!0:(_=Object(O.a)(g),!!(Object(s.a)(h.users,E==null?void 0:E.id)||Object(t.a)(h.userGroups,_).length));case l.c.EVERYONE:return!Object(f.ub)(E);case l.c.TOPLEVEL_ADMINS_AND_OWNERS:default:return Object(u.a)(E)||Object(u.b)(E)}}if(Object(r.G)(p))switch(h.value){case l.c.TOPLEVEL_OWNERS:return Object(d.g)(g);case l.c.EVERYONE:return!Object(f.ub)(E);case l.c.TOPLEVEL_ADMINS_AND_OWNERS:default:return Object(d.g)(g)||Object(d.e)(g)}return!1}v(m,"canUserManageExternalSharedChannels")},MRve:function(K,n,e){"use strict";e.d(n,"a",function(){return i}),e.d(n,"b",function(){return l});var s=e("Lgge"),t=e("SQ0V"),a=e("OdWA"),r=e("JXEU"),c=e("MQqT"),o=e("Cyb+");const i=Object(t.c)("Fetches and updates user interactions for the given types and subtypes",(u,f,d)=>{const O=f();let m;if(d.useCache){var g;const p=(g=d.cacheFilter)!==null&&g!==void 0?g:o.g;m=d.interactions.filter(h=>!p(O,h.component,h.type))}else m=d.interactions;if(m.length===0)return s.a.resolve();const E={components:m.map(p=>p.component),types:m.map(p=>p.type),reason:d.reason};return u(Object(a.a)(E)).then(p=>{u(Object(c.c)(m)),p.interactions.length&&u(Object(c.b)(p.interactions))})});i.meta={name:"createThunk",key:"createThunkloadUserInteractions",description:"Fetches and updates user interactions for the given types and subtypes"};const l=Object(t.c)("Record that a user has taken an action on a UI component",(u,f,d)=>(u(Object(c.a)(d)),u(Object(r.a)(d))));l.meta={name:"createThunk",key:"createThunkrecordUserInteraction",description:"Record that a user has taken an action on a UI component"}},MUHj:function(K,n,e){"use strict";e.d(n,"a",function(){return a});var s=e("SQ0V"),t=e("CMT/");const a=Object(s.c)("Create or open an IM",function(r,c){let{memberId:o,shouldNavigateToChannel:i=!0,shouldOpenInTile:l=!1,reason:u}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const f=o?[o]:[];return r(Object(t.a)({memberIds:f,shouldNavigateToChannel:i,shouldOpenInTile:l,reason:u}))});a.meta={name:"createThunk",key:"createThunkstartImByMemberId",description:"Create or open an IM"}},MUi8:function(K,n,e){"use strict";var s=e("q1tI"),t=e.n(s),a=e("Cfcg"),r=e("iuhU"),c=e("E3dU"),o=e("beVI"),i=e("Yauy"),l=e("mZIY"),u=e("G0eX");let f=v(class extends s.Component{render(){const{shouldRender:g,team:E,className:p}=this.props;return!g||!E?null:t.a.createElement("div",{className:Object(r.default)("c-channel_team","c-channel_team--xws",p)},t.a.createElement("span",{className:"c-channel_team__name"},Object(u.g)(E)))}},"ChannelTeam");f.displayName="ChannelTeam";const d=v((m,g)=>{let{channel:E,channelId:p,shouldRender:h}=g;const _=E||Object(c.c)(m,p),b=!!(_!=null&&_.context_team_id&&Object(l.b)(m,_.context_team_id));let I;if(Object(i.Y)(_))I=Object(o.t)(m,Object(i.Fb)(m,_));else if(h||b){const C=Object(i.Eb)(m,_);I=(C?Object(o.t)(m,C):void 0)||Object(o.g)(m)}return{shouldRender:h||b||!!Object(i.Y)(_),team:I??void 0}},"mapStateToProps");var O=n.a=Object(a.a)(d)(f)},MYuU:function(K,n,e){"use strict";e.d(n,"a",function(){return t}),e.d(n,"d",function(){return a}),e.d(n,"b",function(){return u}),e.d(n,"c",function(){return f}),e.d(n,"e",function(){return r});var s=e("nNoG");function t(d,O){return`${d}_${O}`}v(t,"getInputBuddyId");function a(){return Math.random().toString(36).substring(2,10)}v(a,"getRandomId");const r=v(d=>{const O=d.filter(m=>m);if(O.length!==0)return O.join(" ")},"makeAriaComboIds");var i={getInputBuddyId:t,getRandomId:a,makeAriaComboIds:r,atomicGetMaximumCharacterErrorText:v(d=>`You can\u2019t enter more than ${d} ${d===1?"character":"characters"}.`,"atomicGetMaximumCharacterErrorText"),atomicGetMinimumCharacterErrorText:v(d=>`You must enter at least ${d} ${d===1?"character":"characters"}.`,"atomicGetMinimumCharacterErrorText")};const l=new s.b("form_inputs"),u=v(d=>l.t("You can\u2019t enter more than {maxCharacterLimit, plural, =1 {# character} other {# characters}}.",{maxCharacterLimit:d}),"getMaximumCharacterErrorText"),f=v(d=>l.t("You must enter at least {minCharacterLimit, plural, =1 {# character} other {# characters}}.",{minCharacterLimit:d}),"getMinimumCharacterErrorText")},MeLy:function(K,n,e){"use strict";var s=e("q1tI"),t=e.n(s),a=e("Cfcg"),r=e("iuhU"),c=e("Fjja"),o=e("QOYf"),i=e("ykb+"),l=e("nNoG"),u=e("qDEp"),f=e("Tevt"),d=e("s4P+"),O=e("qiCS"),m=e("Pw4T"),g=e("d/xU"),E=e("84QN"),p=e("0csk"),h=e("YKpg"),_=e("Fvov");const b=new l.b("error_boundary"),I="REB";let C=v(class extends s.Component{componentDidUpdate(T){this.state.hasError&&T.id!==this.props.id&&this.resetHasError()}componentDidCatch(T,S){let A=null;try{A=`${I}${Object(c.a)(Object(h.a)(T.message)).substr(0,9).toUpperCase()}`}catch{}this.setState(()=>({hasError:!0,errCode:A}),()=>{var R,x;return(x=(R=this.props).onError)===null||x===void 0?void 0:x.call(R,T)}),Object(i.b)()||this.props.logger.error("ERROR-BOUNDARY",T,A,S.componentStack,{subtype:this.props.subtype||"component_error_boundary"})}onClickReloadButton(T){T.preventDefault();let S=window.location.href;this.props.telemeter.count("react_error_boundary_reload_click"),Object(o.a)()?(S=Object(O.d)(window.location.href,"force_cold_boot",1),this.props.logger.info("GANTRY",`Reloading at ${S} after hitting ErrorBoundary`),Object(_.c)().finally(()=>{window.location.href=S})):(this.props.logger.info("LEGACY",`Reloading at ${S} after hitting ErrorBoundary`),window.location.href=S)}resetHasError(){this.setState(()=>({hasError:!1,errCode:null}))}renderReloadLinkMsg(){const T=v(S=>{let{text:A,key:R}=S;return t.a.createElement(f.a,{href:`https://${Object(g.l)()}/help/contact`,rel:"noopener noreferrer",key:R},A)},"renderLink");return this.state.errCode==="REBD7A8C1099"?b.rt("This particular hiccup is something we know about and are working to fix. Please reload and things should be cleared up. If this issue persists, please <a>drop us a line.</a>",{fallbackHash:"e429542887f26442dba7a085bd05bea15803edd9",fallbackHashNs:"error_boundary"},T):b.rt("Reloading Slack might clear things up. If it doesn\u2019t, <a>drop us a line.</a>",null,T)}render(){if(this.state.hasError){if(this.props.telemeter.count("react_error_boundary_rendered"),this.props.renderError)return this.props.renderError({errCode:this.state.errCode});const T=Object(r.default)("p-error_boundary",this.props.className,{"p-error_boundary--short":this.props.variant==="short"});return t.a.createElement("div",{className:T},t.a.createElement("div",{className:"p-error_boundary__content"},t.a.createElement("div",{className:"p-error_boundary__message"},t.a.createElement("h1",{className:"p-error_boundary__heading"},t.a.createElement("span",null,b.t("Something went wrong")),t.a.createElement("span",{className:"p-error_boundary__icon p-error_boundary__icon--turtle",role:"img","aria-label":b.t("Something went wrong")},"\u{1F422}")),t.a.createElement("p",{className:"p-error_boundary__contact_msg"},this.renderReloadLinkMsg())),this.state.errCode&&t.a.createElement(p.a,{errCode:this.state.errCode}),t.a.createElement(u.f,{type:"primary",className:"margin_right_50",onClick:this.onClickReloadButton,"data-qa":"error_reload"},b.t("Reload"))))}return this.props.children}constructor(T){super(T),this.state={hasError:!1,errCode:null},this.onClickReloadButton=this.onClickReloadButton.bind(this)}},"ErrorBoundary");C.displayName="ErrorBoundary";var y=n.a=Object(a.a)(P=>({logger:Object(E.a)(P)?Object(d.a)({state:P}):Object(d.b)(),telemeter:Object(E.a)(P)?Object(m.d)({state:P}):Object(m.a)()}))(C)},MgkY:function(K,n,e){"use strict";e.d(n,"a",function(){return Lt});var s=e("9oTK"),t=e("SQ0V"),a=e("uiBO"),r=e("2VFn"),c=e("v7mh"),o=e("Zrm2"),i=e("W1L4"),l=e("BHiC"),u=e("9sUu"),f=e("1/Be"),d=e("OaiI"),O=e("rZ8V"),m=e("xcHN"),g=e("E3dU"),E=e("E97Y"),p=e("Zbwg"),h=e("eUIW"),_=e("UmHn"),b=e("xwCZ"),I=e("gVOt"),C=e("C3vN"),y=e("Nnn3"),P=e("RVJP");const T=[a.a.Profile,a.a.FileDetails,a.a.UserGroup],S={[a.a.Channel]:[a.a.Thread,a.a.ChannelCanvas,...T],[a.a.Thread]:[...T],[a.a.BrowsePeople]:[a.a.Profile],[a.a.BrowseChannels]:[],[a.a.BrowseFiles]:[a.a.FileDetails],[a.a.Page]:[...T],[a.a.BrowseUserGroups]:[a.a.UserGroup],[a.a.OrgDirectory]:[a.a.Profile],[a.a.SlackConnect]:[a.a.Profile],[a.a.Canvas]:[a.a.QuipCommentThread,a.a.QuipCommentStream,a.a.QuipActivityHistory],[a.a.BrowseCanvases]:[a.a.FileDetails],[a.a.RecentCanvases]:[a.a.FileDetails],[a.a.CanvasesCreatedByYou]:[a.a.FileDetails],[a.a.CanvasesSharedWithYou]:[a.a.FileDetails],[a.a.QuipCommentThread]:[a.a.QuipCommentStream],[a.a.QuipCommentStream]:[a.a.QuipCommentThread]},A=[a.a.BrowseCanvases,a.a.RecentCanvases,a.a.CanvasesCreatedByYou,a.a.CanvasesSharedWithYou,a.a.BrowseExternalWorkspace],R=[a.a.BrowseLists],x=[a.a.BrowseCanvases,a.a.BrowseFiles,a.a.RecentFiles,a.a.FilesCreatedByYou,a.a.FilesSharedWithYou,a.a.Page],M=[a.a.BrowseChannels,a.a.SlackConnect,a.a.Page],j=[a.a.ExternalOrganizations,a.a.ExternalPeople,a.a.SlackConnectChannels,a.a.AllEvents,a.a.UpcomingEvents,a.a.ArchivedEvents,a.a.SlackConnectInvitations],W=[a.a.BrowsePeople,a.a.BrowseUserGroups,a.a.OrgDirectory,a.a.Page],U=[a.a.BrowseApps,a.a.RecentPlatform,a.a.BrowseShortcuts],B=[_.a.Recents,_.a.BrowseCanvases,_.a.BrowseFiles],Y=[_.a.BrowsePeople,_.a.BrowseExternalContacts,_.a.BrowseUserGroups,_.a.BrowseOrgChart],z=[_.a.BrowseChannels],F=[_.a.Apps],V=[_.a.Huddles],L=[_.a.BrowseLists],Q=[_.a.BrowseCanvases],ee=[a.a.AboutWorkspace],te=v((gt,it)=>{let{id:ft,activeTab:Ke}=it;if(Ke===r.d.DMs&&ft===_.a.Composer||Ke===r.d.DMs&&Object(h.a)(ft))return r.d.DMs;if(!Object(p.a)(ft))return r.d.Home;const Ve=Ke===r.d.Home,Be=Object(g.c)(gt,ft);if(Object(E.i)(Be))return Ve?r.d.Home:r.d.DMs;if(Object(E.g)(Be)){const Ye=Object(I.a)(Be),we=Object(b.g)(gt,Ye),mt=Object(y.a)(gt,we)||void 0,Pt=Object(C.d)(we)||void 0;return Ve||(mt||Pt)?r.d.Home:r.d.DMs}return r.d.Home},"getHomeOrDMsTabByEntityId"),le=v((gt,it)=>{let{id:ft,params:Ke,viewType:Ve,sourceContainer:Be,destinationContainer:Ye,currentViewSet:we,activeTab:mt}=it;var Pt,Nt,Ze;const Xe=Object(O.j)(gt),Ct=Object(d.m)(gt);if(A.includes(Ve)&&Ve!==a.a.Page||Ve===a.a.Page&&Q.includes(ft))return r.d.Canvases;if(Ct&&(R.includes(Ve)&&Ve!==a.a.Page||Ve===a.a.Page&&L.includes(ft)))return r.d.Lists;if(x.includes(Ve)&&Ve!==a.a.Page||Ve===a.a.Page&&B.includes(ft))return r.d.Files;if(M.includes(Ve)&&Ve!==a.a.Page||Ve===a.a.Page&&z.includes(ft))return r.d.Channels;if(W.includes(Ve)&&Ve!==a.a.Page||Ve===a.a.Page&&Y.includes(ft)||mt===r.d.People&&Ve===a.a.UserGroup)return r.d.People;if(U.includes(Ve)&&Ve!==a.a.Page||Ve===a.a.Page&&F.includes(ft))return r.d.Platform;if(Ve===a.a.Page&&V.includes(ft))return r.d.Huddles;if(Object(P.d)(gt,"external_connections_browser")==="on"&&j.includes(Ve)&&Ve!==a.a.Page)return r.d.ExternalConnections;if(Ve===a.a.ActivityList)return r.d.Activity;if(Ve===a.a.SalesHome)return r.d.SalesHome;if(Ve===a.a.LaterList)return r.d.Later;if(Xe&&ee.includes(Ve))return r.d.ExternalWorkspace;if(Ve===a.a.CRM)return r.d.CRM;if(Ve===a.a.Search||Ve===a.a.SearchEmpty)return r.d.Search;if(Be===r.h.Sidebar&&((Pt=we[r.h.Sidebar])===null||Pt===void 0?void 0:Pt.viewType)===a.a.Search&&Ve===a.a.Channel&&!(Ke!=null&&Ke.startTs))return te(gt,{id:ft,activeTab:mt});if(!Be||Be===r.h.Modal)return te(gt,{id:ft,activeTab:mt});if(Be===r.h.Sidebar&&Ye===r.h.Primary)return mt;if(Be===r.h.Primary&&Ye===r.h.Primary&&((Nt=we[r.h.Primary])===null||Nt===void 0?void 0:Nt.id)!==ft)return te(gt,{id:ft,activeTab:mt});if(Be===r.h.Secondary&&Ye===r.h.Primary&&((Ze=we[r.h.Primary])===null||Ze===void 0?void 0:Ze.id)!==ft)return te(gt,{id:ft,activeTab:mt});if((Be===r.h.Primary&&Ye===r.h.Secondary||Be===r.h.Secondary&&Ye===r.h.Secondary)&&mt!==r.d.Home){var de,Le;const Fe=we==null||(de=we[Be])===null||de===void 0?void 0:de.viewType;if(!(Fe&&S[Fe]&&((Le=S[Fe])===null||Le===void 0?void 0:Le.includes(Ve))))return te(gt,{id:ft,activeTab:mt});if(Fe===a.a.Channel&&Ve===a.a.Thread){var Re;const{channelId:ut}=Object(m.a)(Ke==null?void 0:Ke.threadId);if(ut!==(we==null||(Re=we[Be])===null||Re===void 0?void 0:Re.id))return te(gt,{id:ft,activeTab:mt})}}return mt},"getTargetTabForNavigationRequest");var Oe=e("LAdm"),he=e("fujP"),Ee=e("Lgge"),ge=e("s4P+");const J="NAVIGATION-MIDDLEWARES",H=5,Z=[r.h.Sidebar,r.h.Primary,r.h.Secondary];var q=e("i5Ig"),se=v(class{executeAsyncActions(it,ft,Ke){var Ve=this;return Object(s.coroutine)(function*(){if(!Ke||!Ve.navigationMiddlewares)return!0;const Be=[],Ye=performance.now();try{for(const we of Ve.navigationMiddlewares){const mt=we.runAsyncAction(it,ft,Ke,Ve.dispatch,Ve.getState);if(mt.isFulfilled()&&mt.value()===!0)return!0;Be.push(mt)}}catch(we){return Object(ge.b)().error(J,"navigation prevented by an exception in the middleware async action execution",we),!0}try{const we=yield Ee.a.all(Be),mt=we.some(Nt=>Nt===!0),Pt=performance.now();return Object(ge.b)().info(J,"Async action execution is complete for a view",{nextView:it,results:we,shouldTerminateNavigation:mt,executionTime:Pt-Ye}),mt}catch(we){return Object(ge.b)().error(J,"navigation prevented by a promise rejection",we),!0}})()}executeDataTransformers(it,ft,Ke){if(!Ke||!this.navigationMiddlewares)return null;let Ve=it;try{for(const Be of this.navigationMiddlewares)Ve=Be.runDataTransformer(Ve,ft,Ke,this.dispatch,this.getState)}catch(Be){return Object(ge.b)().error(J,"navigation prevented by an exception in the data transformers",Be),null}return Ve}hasViewTransformed(it,ft,Ke,Ve,Be){var Ye=this;return Object(s.coroutine)(function*(){if(it!==ft){const we=Ve.nextTab===r.d.Home,mt={...Ve.nextViewSet,[Ke]:ft},Pt=we?Ye.dispatch(Object(f.a)({viewSet:mt,windowId:Ve.windowId})):mt,Nt={...Ve,nextViewSet:Pt};return Object(ge.b)().info(J,"View has been transformed",{container:Ke,initialView:it,transformedView:ft,iterationCount:Be}),{...yield Ye.run(Nt,Be+1),isViewTransformed:!0}}return{viewSet:Ve.nextViewSet,terminateNavigation:!1,isViewTransformed:!1}})()}run(it){let ft=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;var Ke=this;return Object(s.coroutine)(function*(){const{nextViewSet:Ve,prevViewSet:Be}=it||q.b;if(Object(he.a)(Ve))return{viewSet:Ve,terminateNavigation:!0};if(ft>=H)return Object(ge.b)().error(J,"navigation prevented by infinite data transforms loops"),{viewSet:Ve,terminateNavigation:!0};for(const Ye of Z){const we=Ve==null?void 0:Ve[Ye],mt=Be==null?void 0:Be[Ye];if(!we&&!mt)continue;const Pt=performance.now();if(Ke.middlewareResultByContainer.has(Ye)&&Ke.middlewareResultByContainer.get(Ye)===we){Object(ge.b)().info(J,`Skipping middleware execution for ${Ye} container as we have cached value`,{initialView:we,iterationCount:ft});continue}if(yield Ke.executeAsyncActions(we,mt,it))return{viewSet:Ve,terminateNavigation:!0};const Ze=Ke.executeDataTransformers(we,mt,it);if(Ze===null)return{viewSet:Ve,terminateNavigation:!0};const{viewSet:Xe,terminateNavigation:Ct,isViewTransformed:G}=yield Ke.hasViewTransformed(we,Ze,Ye,it,ft),de=performance.now();if(Object(ge.b)().info(J,`Finish middleware execution for ${Ye} container`,{maybeTransformedViewSet:Xe,terminateNavigation:Ct,isViewTransformed:G,iterationCount:ft,executionTime:de-Pt}),Ct)return{viewSet:Xe,terminateNavigation:!0};if(G)return{viewSet:Xe,terminateNavigation:!1};Ke.middlewareResultByContainer.set(Ye,Ze||void 0)}return{viewSet:Ve,terminateNavigation:!1}})()}constructor(it,ft,Ke){this.navigationMiddlewares=it,this.dispatch=ft,this.getState=Ke,this.middlewareResultByContainer=new Map}},"NavigationMiddlewareManager"),X=v(class{asyncAction(it,ft,Ke,Ve,Be,Ye){let{continueNavigation:we}=Ye;return we()}dataTransformer(it,ft,Ke,Ve,Be,Ye){return it}continueNavigation(){return Ee.a.resolve(!1)}terminateNavigation(){return Ee.a.resolve(!0)}getMiddlewareContext(){return this.context}setMiddlewareContext(it){this.context=it}runAsyncAction(it,ft,Ke,Ve,Be){return this.context={},Ee.a.method(this.asyncAction)(it,ft,Ke,Ve,Be,{getMiddlewareContext:this.getMiddlewareContext,setMiddlewareContext:this.setMiddlewareContext,continueNavigation:this.continueNavigation,terminateNavigation:this.terminateNavigation})}runDataTransformer(it,ft,Ke,Ve,Be){return this.dataTransformer(it,ft,Ke,Ve,Be,{getMiddlewareContext:this.getMiddlewareContext,setMiddlewareContext:this.setMiddlewareContext})}constructor(){this.context={},this.getMiddlewareContext=this.getMiddlewareContext.bind(this),this.setMiddlewareContext=this.setMiddlewareContext.bind(this)}},"NavigationMiddleware"),w=e("Yauy"),ce=e("Sl1j"),ie=e("Fqb6"),me=v(class extends X{isEligible(it,ft){if(!it)return!1;const{id:Ke}=it;if(!Object(h.a)(Ke))return!1;const Ve=Object(g.l)(ft(),Ke);return!(Ve&&Object(w.jb)(Ve))}asyncAction(it,ft,Ke,Ve,Be,Ye){let{setMiddlewareContext:we,continueNavigation:mt,terminateNavigation:Pt}=Ye;var Nt=this;return Object(s.coroutine)(function*(){if(!Nt.isEligible(it,Be))return mt();const{id:Ze}=it,{channel:Xe}=yield Ve(Object(ce.r)({memberIds:[Ze],reason:"navigateInMainWindow/UserIdToDMIdMiddleware"}));return Xe!=null&&Xe.id?(Ve(Object(ie.a)({channel:Xe})),we({fetchedDMId:Xe.id}),mt()):Pt()})()}dataTransformer(it,ft,Ke,Ve,Be,Ye){let{getMiddlewareContext:we}=Ye;if(!it||!Object(h.a)(it.id))return it;const{fetchedDMId:mt}=we();return mt?{...it,id:mt}:it}constructor(){super(),this.asyncAction=this.asyncAction.bind(this),this.dataTransformer=this.dataTransformer.bind(this)}},"UserIdToDMIdMiddleware"),ue=e("vGF+"),_e=e("JJ34"),be=e("WhBi"),Ae=e("qMw6"),Ce=e("OCIX"),De=e("WdO3"),Pe=e("mEzS");const Ue=[a.a.Channel,a.a.Thread];function ae(gt,it,ft){const{id:Ke,viewType:Ve}=ft||{},{id:Be}=it||{};return Ve!==a.a.Channel||!Object(p.a)(Ke)?!1:!!gt&&(!gt.viewContext||gt.viewContext===Ae.a.MESSAGE_PANE)&&Ke===gt.channelId&&Be!==gt.channelId}v(ae,"willEditChannelBecomeInvisible");function ne(gt,it,ft){const{params:Ke,viewType:Ve}=ft||{},{params:Be,viewType:Ye}=it||{},{threadId:we}=Ke||{},{threadId:mt}=Be||{};return Ve!==a.a.Thread||!Object(Ce.a)(we)?!1:!!gt&&gt.viewContext===Ae.a.THREAD&&we===Object(m.c)(gt.channelId,gt.threadTs)&&(Ye!==a.a.Thread||mt!==Object(m.c)(gt.channelId,gt.threadTs))}v(ne,"willEditThreadBecomeInvisible");var Te=v(class extends X{isEligible(it){const{viewType:ft}=it||{};return!!(ft&&Ue.includes(ft))}asyncAction(it,ft,Ke,Ve,Be,Ye){let{continueNavigation:we,terminateNavigation:mt}=Ye;var Pt=this;return Object(s.coroutine)(function*(){if(!Pt.isEligible(ft))return we();const Nt=Be(),Ze=Object(ue.a)(Nt),Xe=Ze?Object(_e.b)(Nt,{ignoreViewContext:!0,windowId:String(r.c)}):Object(be.b)(Nt,{ignoreViewContext:!0});if(ae(Xe,it,ft)||ne(Xe,it,ft))try{return yield Ve(Ze?Object(Pe.a)({cancelUnsavedEdits:!1,scroll:!0}):Object(De.a)({cancelUnsavedEdits:!1,scroll:!0})),we()}catch{return mt()}return we()})()}constructor(){super(),this.asyncAction=this.asyncAction.bind(this)}},"AttemptToStopEditingInChannel"),Me=e("hTnU"),Ne=e("stxl"),He=e("hwUI"),Et=e("+kJ4"),qe=v(class extends X{asyncAction(it,ft,Ke,Ve,Be,Ye){let{continueNavigation:we}=Ye;const mt=Be();return Object(Ne.b)(mt)?new Ee.a((Nt,Ze)=>{Ve(Object(Me.a)({openModalProps:{isStackable:!0},onConfirmClose:()=>{Ve(Object(He.b)(!1)),Ve(Object(Et.a)({closeAll:!0})),Nt()},onCancelClose:()=>{Ze()}}))}):we()}constructor(){super(),this.asyncAction=this.asyncAction.bind(this)}},"PreventVideoRecorderModalClose"),rt=v(class extends X{asyncAction(it,ft,Ke,Ve,Be,Ye){let{continueNavigation:we}=Ye;return Object(s.coroutine)(function*(){const mt=Be();if(!it||it.viewType!==a.a.Channel)return we();const{id:Pt}=it,Nt=Object(g.c)(mt,Pt);return!Object(E.i)(Nt)&&!Object(E.g)(Nt)||Object(w.jb)(Nt)?we():Ve(Object(ce.r)({channel:Pt,reason:"navigateInMainWindow/OpenConversationWithIds",memberIds:[]})).then(function(){let{channel:Ze}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{channel:void 0};Ze&&Ve(Object(ie.a)({channel:Ze}))}).catch(()=>we())})()}constructor(){super(),this.asyncAction=this.asyncAction.bind(this)}},"OpenConversationWithIds"),je=v(class extends X{asyncAction(it,ft,Ke,Ve,Be,Ye){let{continueNavigation:we,terminateNavigation:mt}=Ye;return Object(s.coroutine)(function*(){const Pt=Be();if(!it||it.viewType!==a.a.Channel||!Object(p.a)(it.id))return we();const{id:Nt}=it,Ze=Object(g.c)(Pt,Nt,!1);if(Object(E.f)(Ze))return we();try{const Xe=yield Ve(Object(ce.f)({ids:[Nt],reason:"navigateInMainWindow/middleware/ensure-channel",callSource:ce.a.EnsureChannel}));if(!Xe)return mt();const{channels:Ct,resolved:G}=Xe;return!G||!G.includes(Nt)?mt():Ct[0]?we():mt()}catch{return mt()}})()}constructor(){super(),this.asyncAction=this.asyncAction.bind(this)}},"EnsureChannel"),ze=v(()=>{const gt=[];return gt.push(new me),gt.push(new Te),gt.push(new qe),gt.push(new rt),gt.push(new je),gt},"registerNavigationMiddlewares");const st=Object(t.c)("Run navigation middlewares",function(){var gt=Object(s.coroutine)(function*(it,ft,Ke){const Ve=ft();if(!Object(O.g)(Ve))return{viewSet:null,terminateNavigation:!0};try{const Ye=ze();Object(ge.b)().info(J,"Starting a new navigation middleware execution",{nextViewSet:Ke.nextViewSet,middlewareCount:Ye.length});const we=new se(Ye,it,ft),mt=performance.now(),Pt=yield we.run(Ke),Nt=performance.now();return Object(ge.b)().info(J,"Navigation middleware execution is complete",{maybeUpdatedViewSet:Pt.viewSet,terminateNavigation:Pt.terminateNavigation,executionTime:Nt-mt}),Pt}catch(Ye){return Object(ge.b)().warn(J,"navigation prevented by a generic exception",Ye),{viewSet:null,terminateNavigation:!0}}});return function(it,ft,Ke){return gt.apply(this,arguments)}}());st.meta={name:"createThunk",key:"createThunkmaybeRunNavigationMiddlewares",description:"Run navigation middlewares"};var ct=e("RV0M"),dt=e("iMEJ"),bt=e("mLC8"),Ft=e("O86Y"),Bt=e("1Np4"),at=e("m28s"),Ht=e("QBFz"),Wt=e("QKJg"),yt=e("gXfi");const Xt="NAVIGATE-IN-MAIN-WINDOW",cn=[a.a.Thread,a.a.Profile,a.a.FileDetails,a.a.UserGroup,a.a.KeyboardShortcuts,a.a.Feedback,a.a.QuipCommentThread,a.a.QuipCommentStream,a.a.QuipActivityHistory,a.a.ChannelCanvas,a.a.HelpBrowser,a.a.WhatsNewBrowser,a.a.KeyboardShortcutsBrowser,a.a.FeedbackBrowser],mn=[a.a.Thread,a.a.Profile,a.a.QuipCommentThread],In=[r.d.Activity,r.d.Search,r.d.Later],pt=[a.a.ChannelList,a.a.DmsList,a.a.ActivityList,a.a.LaterList,a.a.BrowseList,a.a.Search,a.a.MoreFilesSidebar,a.a.MorePeopleSidebar,a.a.MoreChannelsSidebar,a.a.MorePlatformSidebar,a.a.MoreHuddlesSidebar,a.a.MoreCanvasesSidebar,a.a.MoreExternalConnectionsSidebar],Tt=v(gt=>{let{viewType:it,sourceContainer:ft,tab:Ke}=gt;return it&&mn.includes(it)&&In.includes(Ke)&&(ft===r.h.Sidebar||ft===r.h.Modal)?r.h.Primary:it&&cn.includes(it)?r.h.Secondary:it&&pt.includes(it)?r.h.Sidebar:r.h.Primary},"getTargetContainerForNavigationRequest"),Lt=Object(t.c)("Call the navigate method of a specific ViewContainer",function(){var gt=Object(s.coroutine)(function*(it,ft,Ke,Ve){let{windowId:Be,id:Ye,viewType:we,params:mt,uiState:Pt,sourceContainer:Nt,options:Ze}=Ke;const Xe=ft();Object(ge.b)().info(Xt,"Starting a new navigation event",{id:Ye,viewType:we,viewParams:mt});const Ct=Object(at.a)({viewType:we,id:Ye,state:ft()});let G;if(we===a.a.Channel){const an=Object(Ht.a)(Xe,"channel_switch");G=bt.d.start({label:bt.a.Navigation,id:Ct,options:{phases:!0,tracer:Object(Bt.a)({state:Xe}),teamId:Object(Ft.g)(Xe),tags:{view:we},onCleanup:()=>an.stop()}})}const de=G==null?void 0:G.createChildSpan({name:"navigation:framework",closeImmediately:!1}),Le=de==null?void 0:de.getId(),Re=G==null?void 0:G.createChildSpan({name:"navigation:build_viewset",closeImmediately:!1,additionalSpanOptions:{parentSpanId:Le}}),Fe=Ve(ct.a);let tt=null;const ut=Object(c.a)(Xe);let St=Object(c.h)(Xe,{tab:ut});const tn=Tt({viewType:we,sourceContainer:Nt,tab:ut});var Yt,un;const $t=(un=(Yt=Ze==null?void 0:Ze.forceTab)!==null&&Yt!==void 0?Yt:Ze!=null&&Ze.bumpPrimaryToSecondary?ut:void 0)!==null&&un!==void 0?un:le(Xe,{id:Ye,params:mt,viewType:we,currentViewSet:St,sourceContainer:Fe.container,destinationContainer:tn,activeTab:ut});$t!==ut&&(St=Object(c.h)(Xe,{tab:$t})),G==null||G.getTrace().addTags({active_tab:ut,next_tab:$t,is_tab_switch:ut!==$t});const gn=Tt({viewType:we,sourceContainer:Nt,tab:$t});if(gn===r.h.Sidebar&&(tt={...St,[r.h.Sidebar]:{id:Ye,viewType:we,params:mt}},Object(ge.b)().info(Xt,"Applying changes to the sidebar container",{viewSet:tt})),gn===r.h.Secondary){const an={id:Ye,viewType:we,params:mt};Nt===r.h.Secondary&&(St!=null&&St[r.h.Secondary])&&(an.prev=St[r.h.Secondary]);const Gt={[r.h.Primary]:St==null?void 0:St[r.h.Primary],[r.h.Secondary]:an},kn=it(Object(f.a)({viewSet:Gt,windowId:Be,dangerouslyOverrideRouting:mt==null?void 0:mt.dangerouslyOverrideRouting}));tt={...St,...kn},Object(ge.b)().info(Xt,"Applying changes to the secondary container",{viewSet:tt})}if(gn===r.h.Primary){const an={id:Ye,viewType:we,params:mt},Gt=Object(l.a)(Xe,{windowId:r.c}),kn=Gt==null?void 0:Gt.columnMode;Nt===r.h.Primary&&(St!=null&&St[r.h.Primary])&&(an.prev=St[r.h.Primary]);const Mn={[r.h.Primary]:an},cs=$t===r.d.Home&&kn===u.c.Multi?it(Object(f.a)({viewSet:Mn,windowId:Be,dangerouslyOverrideRouting:mt==null?void 0:mt.dangerouslyOverrideRouting})):Mn,Vn=Ze!=null&&Ze.bumpPrimaryToSecondary?{[r.h.Secondary]:St==null?void 0:St.primary}:{};tt={...St,...cs,...Vn},tt[r.h.Secondary]&&!cs[r.h.Secondary]&&!Vn[r.h.Secondary]&&delete tt[r.h.Secondary],Object(ge.b)().info(Xt,"Applying changes to the primary container",{viewSet:tt})}if(Re==null||Re.close(),!tt){bt.d.remove({label:bt.a.Navigation,id:Ct});return}const et=G==null?void 0:G.createChildSpan({name:"navigation:middleware",closeImmediately:!1,additionalSpanOptions:{parentSpanId:Le}}),{viewSet:An,terminateNavigation:pn}=yield it(st({prevViewSet:St,prevTab:ut,nextViewSet:tt,nextTab:$t,windowId:Be,navigateParams:{id:Ye,viewType:we,params:mt,uiState:Pt,sourceContainer:Nt}}));if(et==null||et.close(),pn||!An)return;const Pn=G==null?void 0:G.createChildSpan({name:"navigation:commit_viewset",closeImmediately:!1,additionalSpanOptions:{parentSpanId:Le}}),Rn=Object(c.k)(Xe,{tab:$t,viewSet:An})?yt.a:i.a;if(it(Rn({windowId:r.c,tab:$t,viewSet:An})),ut!==$t){const an=G==null?void 0:G.createChildSpan({name:"navigation:tab_switch",closeImmediately:!1,additionalSpanOptions:{parentSpanId:Le}});it(Object(o.b)({tab:$t,reason:o.a.AutoSwitch,preventHistoryEntry:!0})),an==null||an.close()}Pt&&it(Object(Wt.h)({windowId:r.c,tab:$t,container:gn,uiState:Pt})),it(Object(Oe.a)({prevViewSet:St,prevTab:ut,nextViewSet:An,nextTab:$t,navigateParams:{id:Ye,viewType:we,params:mt,uiState:Pt,sourceContainer:Nt},triggerType:dt.a.NAVIGATION})),Pn==null||Pn.close(),de==null||de.close()});return function(it,ft,Ke,Ve){return gt.apply(this,arguments)}}());Lt.meta={name:"createThunk",key:"createThunknavigateInMainWindow",description:"Call the navigate method of a specific ViewContainer"}},Mtna:function(K,n,e){"use strict";e.d(n,"h",function(){return l}),e.d(n,"i",function(){return u}),e.d(n,"m",function(){return f}),e.d(n,"n",function(){return d}),e.d(n,"j",function(){return O}),e.d(n,"o",function(){return m}),e.d(n,"p",function(){return g}),e.d(n,"q",function(){return E}),e.d(n,"r",function(){return p}),e.d(n,"s",function(){return h}),e.d(n,"k",function(){return _}),e.d(n,"f",function(){return b}),e.d(n,"e",function(){return I}),e.d(n,"u",function(){return C}),e.d(n,"t",function(){return y}),e.d(n,"c",function(){return P}),e.d(n,"b",function(){return T}),e.d(n,"a",function(){return S}),e.d(n,"d",function(){return A}),e.d(n,"l",function(){return R}),e.d(n,"g",function(){return x});var s=e("nNoG"),t=e("sjOx"),a=e("HP72"),r=e("uiBO"),c=e("2VFn");const o=new s.b("search"),i=new s.b("files"),l=v(M=>{const j={[t.k.all]:o.t("Any account type"),[t.k.owners]:o.t("Org owners",{fallbackHash:"cbde311e30897fd65ef95aae9c46db5f109f38ea",fallbackHashNs:"enterprise_dashboard"}),[t.k.admins]:o.t("Org admins",{fallbackHash:"f4568dd7fb42f645e75d5271f550c15c6175a9db",fallbackHashNs:"member_directory"}),[t.k.full]:o.t("Regular members",{fallbackHash:"bce1a945bb880998a300bbaec1dbeef0a0ab5e9b",fallbackHashNs:"enterprise_dashboard"}),[t.k.guests]:o.t("Guests"),[t.k.deactivated]:o.t("Deactivated",{fallbackHash:"314a1adcc8b57b30a6122706d38c91effe82d96c",fallbackHashNs:"enterprise_dashboard"})};return M&&(j[t.k.profile_only]=o.t("Not on Slack")),j},"getAccountTypeLabels"),u=v(M=>{const j=l(M),W=[{label:j[t.k.all],value:t.k.all},{label:j[t.k.owners],value:t.k.owners},{label:j[t.k.admins],value:t.k.admins},{label:j[t.k.full],value:t.k.full},{label:j[t.k.guests],value:t.k.guests},{label:j[t.k.deactivated],value:t.k.deactivated}];return M&&W.push({label:j[t.k.profile_only],value:t.k.profile_only}),W},"getAccountTypeSelectOptions"),f=v(()=>({[t.a.all]:o.t("Any channel type"),[t.a.public]:o.t("Public channels",{fallbackHash:"6f83170df1431fc241b0c9c611d01a47d3a52493",fallbackHashNs:"enterprise_dashboard"}),[t.a.private]:o.t("Private channels"),[t.a.archived]:o.t("Archived channels"),[t.a.shared]:o.t("Slack Connect channels",{ns:"member_profile"})}),"getChannelTypeLabels"),d=v(function(){let{shouldDisablePrivateChannelOption:M=!1}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const j=f();return[{label:j[t.a.all],value:t.a.all},{label:j[t.a.public],value:t.a.public},{label:j[t.a.private],value:t.a.private,isDisabled:M},{label:j[t.a.archived],value:t.a.archived},{label:j[t.a.shared],value:t.a.shared}]},"getChannelTypeSelectOptions"),O=v(function(){let{shouldDisableOtherChannelsOption:M=!1}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return[{label:o.t("All channels"),value:t.q.all_channels},{label:o.t("My channels",{fallbackHash:"f8d4a704644c1606400d6d4ba80d47a43a66f3b9"}),value:t.q.my_channels},{label:o.t("Other channels",{ns:"slack_connect_hub_next"}),value:t.q.other_channels,isDisabled:M}]},"getAllChannelsSelectOptions"),m=v(M=>{let{isCanvasEnabled:j,isListsEnabled:W}=M;return{[t.e.ALL]:o.t("Any file type"),[t.e.POSTS]:i.t("Posts"),[t.e.SNIPPETS]:i.t("Snippets"),[t.e.EMAILS]:i.t("Emails"),[t.e.IMAGES]:i.t("Images"),[t.e.AUDIO]:i.t("Audio"),[t.e.VIDEOS]:i.t("Videos"),[t.e.PDFS]:i.t("PDFs",{fallbackHash:"8c85c119d1cd8e0acfc82505e49fce77f2339f5f",fallbackHashNs:"includes_billing"}),[t.e.SPREADSHEETS]:i.t("Spreadsheets"),[t.e.PRESENTATIONS]:i.t("Presentations"),[t.e.DOCUMENTS]:i.t("Documents"),[t.e.CANVASES]:j?i.t("Canvases & Posts"):i.t("Canvases",{ns:"channel_sidebar"}),[t.e.LISTS]:W?i.t("Lists"):"Lists"}},"getFileTypeLabels"),g=v(M=>{let{isCanvasEnabled:j,isListsEnabled:W,fileTypes:U}=M;const B=m({isCanvasEnabled:j,isListsEnabled:W}),Y=v(()=>j?{label:B[t.e.CANVASES],value:t.e.CANVASES}:{label:B[t.e.POSTS],value:t.e.POSTS},"getPostsOrCanvasesOption"),z=[];return z.push(Y(),{label:B[t.e.DOCUMENTS],value:t.e.DOCUMENTS},{label:B[t.e.EMAILS],value:t.e.EMAILS},{label:B[t.e.IMAGES],value:t.e.IMAGES},{label:B[t.e.PDFS],value:t.e.PDFS},{label:B[t.e.PRESENTATIONS],value:t.e.PRESENTATIONS},{label:B[t.e.SNIPPETS],value:t.e.SNIPPETS},{label:B[t.e.SPREADSHEETS],value:t.e.SPREADSHEETS},{label:B[t.e.AUDIO],value:t.e.AUDIO},{label:B[t.e.VIDEOS],value:t.e.VIDEOS}),W&&z.unshift({label:B[t.e.LISTS],value:t.e.LISTS}),U.length&&U.length>1&&z.push({label:o.t("Clear all",{fallbackHash:"c043160a89ba0acd714977735d49455f662b1c79",fallbackHashNs:"current_status"}),value:a.a}),z},"getFileTypeSelectOptions"),E=v(()=>({[t.g.FROM]:o.t("People filter"),[t.g.IN]:o.t("Channels and direct messages filter",{fallbackHash:"07c59b44128dbdb6c2e5604a9dc5b65e1b865e49",fallbackHashNs:"external_shared_channels"}),[t.g.DATE]:o.t("Date filter"),[t.g.FILE_TYPE]:o.t("File type filter"),[t.g.CHANNEL_TYPE]:o.t("Channel type filter"),[t.g.ACCOUNT_TYPE]:o.t("Account type filter"),[t.g.ORG]:o.t("Organization filter"),[t.g.WORKSPACE]:o.t("Workspace filter"),[t.g.ONLY_MY_CHANNELS]:o.t("Only include channels I\u2019m in",{fallbackHash:"82d4760dc89b7552ab75e38a288da88b6516cfa1"}),[t.g.EXCLUDE_BOTS]:o.t("Exclude apps, bots, and workflows",{fallbackHash:"7cee0df0b06bfc9d156ece6d51adc83630ff203b"}),[t.g.HIDE_MY_CHANNELS]:o.t("Exclude channels I\u2019m in",{fallbackHash:"f094aaf4e10c9283ea67ee6e82f423dbeea56379"}),[t.g.HIDE_DEACTIVATED_USERS]:o.t("Exclude deactivated accounts",{fallbackHash:"f83cfb23c3c690fc9a6638d4a742d1e6f1f2fb91"}),[t.g.HAS_FILE]:o.t("Has file"),[t.g.HAS_LINK]:o.t("Has link"),[t.g.HAS_ACTION]:o.t("Has action"),[t.g.HAS_PIN]:o.t("Has pin"),[t.g.IS_SAVED]:o.t("Is saved"),[t.g.REACTION]:o.t("Reaction filter"),[t.g.WITH]:o.t("With filter"),[t.g.ALL_FILES]:o.t("All files"),[t.g.ALL_CHANNELS]:o.t("All channels")}),"getFilterAriaLabels"),p=v(()=>({[t.g.FROM]:o.t("Search people"),[t.g.IN]:o.t("Search conversations"),[t.g.ORG]:o.t("Search organizations"),[t.g.WORKSPACE]:o.t("Search workspaces"),[t.g.WITH]:o.t("Search people")}),"getFilterInputAriaLabels"),h=v(M=>`${M}-label`,"getTriggerLabelId"),_=v(M=>{let{filter:j,isOpen:W,isActive:U,isSwitch:B}=M;const Y={};return Y["aria-labelledby"]=U&&!B?`${h(j)} ${j}`:void 0,B&&(Y.role="switch",Y["aria-checked"]=U.toString()),B||(Y["aria-expanded"]=W),Y},"getAriaPropsForTrigger"),b={messages:[t.g.FROM,t.g.IN],files:[t.g.FROM,t.g.FILE_TYPE],channels:[t.g.ALL_CHANNELS,t.g.CHANNEL_TYPE],people:[t.g.ACCOUNT_TYPE,t.g.WORKSPACE],user_groups:[],triggers:[]},I={messages:[t.g.FROM,t.g.IN,t.g.WITH,t.g.DATE],files:[t.g.FROM,t.g.IN,t.g.DATE,t.g.FILE_TYPE],channels:[t.g.WORKSPACE,t.g.ORG,t.g.CHANNEL_TYPE,t.g.HIDE_MY_CHANNELS],people:[t.g.WORKSPACE,t.g.ORG,t.g.ACCOUNT_TYPE,t.g.HIDE_DEACTIVATED_USERS],user_groups:[t.g.WORKSPACE,t.g.HIDE_DEACTIVATED_USERS],triggers:[]},C=[r.a.BrowseApps,r.a.BrowseShortcuts,r.a.BrowseCanvases,r.a.BrowseChannels,r.a.BrowseFiles,r.a.BrowseLists,r.a.BrowsePeople,r.a.BrowseUserGroups,r.a.OrgDirectory,r.a.RecentFiles,r.a.FilesCreatedByYou,r.a.FilesSharedWithYou,r.a.ExternalOrganizations,r.a.ExternalPeople,r.a.SlackConnectChannels,r.a.AllEvents,r.a.UpcomingEvents,r.a.ArchivedEvents,r.a.SlackConnectInvitations,r.a.RecentPlatform,r.a.SlackConnect,r.a.RecentCanvases,r.a.CanvasesSharedWithYou,r.a.CanvasesCreatedByYou],y=[c.d.Home,c.d.DMs,c.d.Activity,c.d.SalesHome,c.d.Later,c.d.Files,c.d.Channels,c.d.People,c.d.Platform,c.d.Canvases,c.d.Huddles],P=[t.g.FROM,t.g.IN,t.g.WITH,t.g.DATE,t.g.FILE_TYPE,t.g.ONLY_MY_CHANNELS,t.g.EXCLUDE_BOTS,t.g.REACTION,t.g.HAS_FILE,t.g.HAS_ACTION,t.g.HAS_LINK,t.g.IS_DM,t.g.IS_SAVED,t.g.IS_THREAD,t.g.HAS_PIN],T=[t.g.FROM,t.g.IN,t.g.WITH,t.g.DATE,t.g.FILE_TYPE,t.g.IS_DM,t.g.IS_SAVED,t.g.IS_THREAD],S=[t.g.ALL_CHANNELS,t.g.CHANNEL_TYPE,t.g.WORKSPACE,t.g.ORG],A=[t.g.ACCOUNT_TYPE,t.g.WORKSPACE,t.g.ORG],R=v(M=>{let{maybeRenderString:j,experimentDesktopIa4GroupOn:W,isActive:U}=M;return U?j(o.t("Any channel type")):W?o.t("Type",{fallbackHash:"3deb7456519697ecf4eefc455516c969a3681bae",fallbackHashNs:"enterprise_dashboard"}):o.t("Channel type",{fallbackHash:"3dee1eeb68531be3322bdc42a77526b09922b4fb"})},"getChannelTypeFilterLabel"),x=v(M=>{let{maybeRenderString:j,experimentDesktopIa4GroupOn:W,isActive:U}=M;return U?j(o.t("Any account type")):W?o.t("Type",{fallbackHash:"3deb7456519697ecf4eefc455516c969a3681bae",fallbackHashNs:"enterprise_dashboard"}):o.t("Account type",{fallbackHash:"30c8a0fc9c1a2d13c8f0991ce4c53c98aa41720c"})},"getAccountTypeFilterLabel")},Mtxo:function(K,n,e){"use strict";var s=e("SQ0V"),t=e("Tkkt"),a=e("Wn1n"),r=e("3fJ/"),c=e("bsvk"),o=e("Vfgr"),i=e("92pD"),l=e("owWc"),u=e("aXcD"),f=e("kzMN"),d=e("tvJC"),O=e("G2FQ");function m(y){let{highlightWords:P,shouldRenderEmojiAsText:T,emojiNames:S,locale:A}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const R=Object(u.b)(y,{highlightWords:P,shouldRenderEmojiAsText:T,emojiNames:S,locale:A,useChannelTagging:!1});return Object(l.a)(R.contents,(x,M)=>{if(M.attributes&&M.attributes.slackmention){const j=M.attributes.slackmention.id;return Object(f.a)(j)?`${x}@${Object(O.a)(j)}`:Object(d.a)(j)?`${x}${M.attributes.slackmention.label}`:j.charAt(0)==="S"?`${x}<!subteam^${j}|${M.attributes.slackmention.label}>`:`${x}<@${j}>`}return M.insert&&M.insert.slackemoji?x+M.insert.slackemoji.text:x+M.insert},"")}v(m,"convertContentsStringForEncodedMembers");function g(y,P,T){let S=Object(o.a)(T);return S=m(S,{shouldRenderEmojiAsText:!0}),Object(i.a)(y,P,S)}v(g,"convertClientQueryToAPIQuery");var E=e("VXST"),p=e("kZhr"),h=e("RV0M"),_=e("uiBO"),b=e("NaT4");const I=Object(s.c)("Set the query in the request which is being edited",(y,P,T,S)=>{let{query:A,mode:R,module:x,page:M,encodedSearchString:j,preventQueryRewrite:W}=T;const U=P(),B=!!j,{shouldUseNavigate:Y}=S(h.a);let z=!1;Y?z=Object(b.a)(U,{viewType:_.a.Search}):z=Object(a.a)(U)==="Psearch",y(Object(t.c)({windowId:p.a})),!B&&!z&&y(Object(r.m)({windowId:p.a})),y(Object(r.f)({windowId:p.a})),y(Object(r.d)({windowId:p.a})),y(Object(r.s)({moduleType:"messages",loading:!0})),y(Object(r.s)({moduleType:"files",loading:!0}));const F=Object(c.c)(U,A);return y(Object(t.h)({queryFilter:F})),g(y,P,A).then(V=>(y(Object(t.i)({query:V})),y(Object(E.a)({query:V,fetchSuggestions:!0,mode:R,module:x,page:M,preventQueryRewrite:W}))))});I.meta={name:"createThunk",key:"createThunksetEditableRequestQueryThenRequest",description:"Set the query in the request which is being edited"};var C=n.a=I},Mxtj:function(K,n,e){"use strict";var s=e("6H+D"),t=e("uiBO"),a=e("xwCZ"),r=e("I3z+"),c=e("OaiI"),o=e("UUKI"),i=e("C3vN"),l=e("G0eX"),u=e("beVI"),f=e("eVCY"),d=e("7ibc"),O=e("TdVx"),m=e("pgVm"),g=e("xuP/"),E=e("RVJP");const p={[t.a.KeyboardShortcuts]:()=>!0,[t.a.WhatsNew]:()=>!0,[t.a.RecentCanvases]:_=>Object(d.Sb)(_)&&Object(O.a)(_),[t.a.CanvasesSharedWithYou]:_=>Object(d.Sb)(_)&&Object(O.a)(_),[t.a.CanvasesCreatedByYou]:_=>Object(d.Sb)(_)&&Object(O.a)(_),[t.a.BrowseCanvases]:_=>Object(d.Sb)(_)&&Object(O.a)(_),[t.a.RecentFiles]:()=>!0,[t.a.FilesCreatedByYou]:()=>!0,[t.a.FilesSharedWithYou]:()=>!0,[t.a.BrowseExternalWorkspace]:g.a,[t.a.BrowseChannels]:()=>!0,[t.a.BrowsePeople]:()=>!0,[t.a.ExternalOrganizations]:_=>Object(E.d)(_,"external_connections_browser")==="on",[t.a.ExternalPeople]:_=>Object(E.d)(_,"external_connections_browser")==="on",[t.a.SlackConnectChannels]:_=>Object(E.d)(_,"external_connections_browser")==="on",[t.a.AllEvents]:_=>Object(E.d)(_,"external_connections_browser")==="on",[t.a.UpcomingEvents]:_=>Object(E.d)(_,"external_connections_browser")==="on",[t.a.ArchivedEvents]:_=>Object(E.d)(_,"external_connections_browser")==="on",[t.a.SlackConnectInvitations]:_=>Object(E.d)(_,"external_connections_browser")==="on",[t.a.BrowseUserGroups]:_=>!Object(i.ub)(Object(a.d)(_))&&Object(l.G)(Object(u.g)(_)),[t.a.RecentPlatform]:_=>Object(E.d)(_,"hermes_stable")==="on"||Object(E.d)(_,"hermes_free_teams")==="on",[t.a.SlackConnect]:_=>Object(s.a)(_),[t.a.BrowseApps]:_=>Object(a.q)(_),[t.a.Channel]:()=>!0,[t.a.AppSpace]:()=>!0,[t.a.Quip]:()=>!0,[t.a.BrowseShortcuts]:_=>Object(m.a)(_),[t.a.BrowseWorkflowTemplates]:_=>Object(m.c)(_),[t.a.OrgDirectory]:()=>!0,[t.a.Page]:()=>!0,[t.a.Threads]:()=>!0,[t.a.Thread]:()=>!0,[t.a.Profile]:()=>!0,[t.a.FileDetails]:()=>!0,[t.a.Help]:()=>!0,[t.a.UserGroup]:()=>!0,[t.a.Feedback]:()=>!0,[t.a.List]:_=>Object(c.m)(_),[t.a.ComposeList]:()=>!0,[t.a.Compose]:()=>!0,[t.a.QuipCommentThread]:()=>!0,[t.a.QuipCommentStream]:()=>!0,[t.a.QuipActivityHistory]:()=>!0,[t.a.Canvas]:()=>!0,[t.a.ChannelCanvas]:()=>!0,[t.a.CanvasBrowser]:_=>Object(d.Sb)(_)&&Object(O.a)(_),[t.a.PaidBenefits]:()=>!0,[t.a.Setup]:()=>!0,[t.a.SearchEmpty]:()=>!0,[t.a.AboutWorkspace]:g.a,[t.a.Unknown]:()=>!0,[t.a.MorePeopleSidebar]:()=>!0,[t.a.MoreCanvasesSidebar]:()=>!0,[t.a.SalesHome]:_=>Object(f.e)(_),[t.a.SalesHomeSidebar]:()=>!0,[t.a.CRM]:_=>Object(o.a)(_),[t.a.CRMSidebar]:()=>!0,[t.a.AppPopout]:()=>!0,[t.a.ChannelList]:()=>!0,[t.a.BrowseFiles]:()=>!0,[t.a.BrowseLists]:_=>Object(c.m)(_),[t.a.DmsList]:()=>!0,[t.a.BrowseList]:()=>!0,[t.a.ActivityList]:()=>!0,[t.a.LaterList]:_=>Object(r.b)(_),[t.a.Search]:()=>!0,[t.a.MoreFilesSidebar]:()=>!0,[t.a.MoreChannelsSidebar]:()=>!0,[t.a.MorePlatformSidebar]:()=>!0,[t.a.MoreHuddlesSidebar]:()=>!0,[t.a.MoreExternalConnectionsSidebar]:_=>Object(E.d)(_,"external_connections_browser")==="on",[t.a.HelpBrowser]:()=>!0,[t.a.KeyboardShortcutsBrowser]:()=>!0,[t.a.WhatsNewBrowser]:()=>!0,[t.a.FeedbackBrowser]:()=>!0,[t.a.ExternalWorkspaceSidebar]:g.a},h=v((_,b)=>p[b](_),"getViewTypeVisibility");n.a=h},MzqU:function(K,n,e){"use strict";e.d(n,"a",function(){return s}),e.d(n,"b",function(){return t});const s="A01126R8Y2X",t="A0112L5RZ5E"},N8ug:function(K,n,e){"use strict";var s=e("q1tI"),t=e.n(s),a=e("ifKl"),r=e("ZBlo"),c=e("Muja"),o=e("yIs4"),i=e("CMvH");const l=4;function u(f){let{children:d,fallbackWidth:O=void 0,onResize:m=a.a}=f;const[g,E]=Object(s.useState)({width:0,height:0}),[p,h]=Object(s.useState)(!1),_=Object(s.useRef)([]);function b(C){let{width:y}=C;if(_.current.unshift(y),_.current.length<l)return!1;_.current.length>l&&(_.current.length=l);const P=Object(r.a)(_.current,2);return P.slice(1).every(T=>Object(c.a)(T,P[0]))}v(b,"looksLikeResizeLoop");const I=Object(s.useCallback)(C=>{m(C),E(C.bounds),Object(o.a)(O)&&!p&&h(b(C.bounds))},[O,m,p]);return t.a.createElement(i.a,{bounds:!0,onResize:I},C=>{let{measureRef:y}=C;return d({...g,width:p&&O?O:g.width,measureRef:y})})}v(u,"Measure"),u.displayName="Measure",n.a=u},NH62:function(K,n,e){"use strict";e.d(n,"a",function(){return r});var s;(function(o){o[o.XSMALL_THRESHOLD=16]="XSMALL_THRESHOLD",o[o.SMALL_THRESHOLD=100]="SMALL_THRESHOLD",o[o.MEDIUM_THRESHOLD=300]="MEDIUM_THRESHOLD",o[o.LARGE_THRESHOLD=500]="LARGE_THRESHOLD",o[o.XLARGE_THRESHOLD=1e3]="XLARGE_THRESHOLD"})(s||(s={}));const t=[s.XSMALL_THRESHOLD,s.SMALL_THRESHOLD,s.MEDIUM_THRESHOLD,s.LARGE_THRESHOLD,s.XLARGE_THRESHOLD].sort((o,i)=>i-o),a={[s.XSMALL_THRESHOLD]:"16_100",[s.SMALL_THRESHOLD]:"100_300",[s.MEDIUM_THRESHOLD]:"300_500",[s.LARGE_THRESHOLD]:"500_1000",[s.XLARGE_THRESHOLD]:"1000_"};class r{ensure(i){let l=this.metrics.get(i);return l||(l=new c(i),this.metrics.set(i,l)),l}increment(i,l){this.ensure(i).increment(l)}count(i){const l=this.counts.get(i)||0;this.counts.set(i,l+1)}getDebug(){const i=Object.fromEntries(this.counts),l={};for(const[u,f]of this.metrics)l[u]=f.getRaw();return{counts:i,metrics:l}}report(i){for(const[l,u]of this.counts)i.store({name:`${l}:count`,value:u});for(const[,l]of this.metrics)l.report(i);this.metrics=new Map,this.counts=new Map}constructor(){this.metrics=new Map,this.counts=new Map}}v(r,"BucketedMetrics");let c=v(class{createThresholdBuckets(){return t.reduce((i,l)=>(i[l]=0,i),{})}increment(i){for(const l of t)if(i>l){this.buckets[l]+=1;break}}getRaw(){return{...this.buckets}}report(i){for(const u of t)this.buckets[u]&&i.store({name:`${this.name}:${a[u]}:count`,value:this.buckets[u]});const l=Object.values(this.buckets).reduce((u,f)=>u+f,0);l!==0&&i.store({name:`${this.name}:${s.XSMALL_THRESHOLD}_:count`,value:l})}constructor(i){this.buckets=this.createThresholdBuckets(),this.name=i}},"BucketedMetric")},NKMX:function(K,n,e){"use strict";var s=e("9oTK"),t=e.n(s),a=e("SQ0V"),r=e("cm7I"),c=e("Lgge"),o=e("gpLM"),i=e("HKlo"),l=e("jj3I"),u=e("r9F4"),f=e("Erbp"),d=e("lhZz"),O=e("s4P+"),m=e("+CZ0"),g=e("wVLq"),E=e("oCIk");const p=Object(a.c)("Start transcription for current huddle",function(){var h=Object(s.coroutine)(function*(_,b){if(Object(u.a)(b())||Object(u.b)(b()))return c.a.resolve();const I=Object(d.getStateForClientStore)(),C=Object(m.a)(I);return C?(_(Object(l.b)()),_(Object(l.e)(!0)),yield Object(f.a)(),_(Object(E.a)({clearOnEndedCallback:!0,logContext:"huddles-captions-turned-on",isStoppedByUser:!0})),_(Object(r.a)({reason:"start-event-log",callId:C})).catch(y=>{var P;if(((P=y.data)===null||P===void 0?void 0:P.error)==="permission_denied")return c.a.delay(5e3).then(()=>_(Object(r.a)({reason:"start-event-log/retry",callId:C})));throw y}).catch(y=>{Object(O.a)({getState:b}).error(y),_(Object(l.a)())}).finally(()=>{_(Object(l.e)(!1)),_(Object(o.c)({focusKey:i.c.HUDDLE_CAPTIONS_TAB})),_(Object(l.c)({type:g.a.START_TRANSCRIPTION,memberId:"USLACKBOT",timestampMs:Date.now()}))})):c.a.reject(new Error("No active call ID for huddle"))});return function(_,b){return h.apply(this,arguments)}}());p.meta={name:"createThunk",key:"createThunkstartEventLog",description:"Start transcription for current huddle"},n.a=p},NPtR:function(K,n,e){"use strict";var s=e("D6Rr"),t=e("Aebc");n.a=s.a},NPyv:function(K,n,e){"use strict";e.d(n,"c",function(){return u}),e.d(n,"b",function(){return f});var s=e("q1tI"),t=e.n(s),a=e("ifKl"),r=e("iuhU");function c(){return c=Object.assign||function(d){for(var O=1;O<arguments.length;O++){var m=arguments[O];for(var g in m)Object.prototype.hasOwnProperty.call(m,g)&&(d[g]=m[g])}return d},c.apply(this,arguments)}v(c,"_extends");const o="_isSlackMenuItemHeader";function i(d){let{for:O,label:m,className:g,onMouseEnter:E=a.a}=d;return t.a.createElement("div",c({},O&&{id:f(O)},{"aria-hidden":"true",className:Object(r.default)("c-menu_item__header",g),onMouseEnter:E}),m)}v(i,"MenuItemHeader"),i.displayName="MenuItemHeader",i[o]=!0;var l=n.a=i;function u(d){return!!(d!=null&&d[o])}v(u,"isMenuItemHeader");function f(d){return`${d}-label`}v(f,"getMenuItemHeaderIdForGroup")},NQg3:function(K,n,e){K.exports=e.p+"waiting_room-d15ff3e.mp3"},NYuI:function(K,n,e){K.exports=e.p+"slackbot_sad_surprise_20-5bfbe5a.png"},NaT4:function(K,n,e){"use strict";var s=e("AFNo"),t=e("v7mh");const a=Object(s.c)((l,u)=>{let{viewType:f}=u;const d=Object(t.f)(l);return Object.keys(d).map(E=>d[E]).some(E=>Object.keys(E).some(h=>{var _;return((_=E[h])===null||_===void 0?void 0:_.viewType)===f}))});a.meta={name:"createSelector",key:"createSelectorisViewTypeVisibleInChildWindow",description:(l,u)=>{let{viewType:f}=u;const d=Object(t.f)(l);return Object.keys(d).map(E=>d[E]).some(E=>Object.keys(E).some(h=>{var _;return((_=E[h])===null||_===void 0?void 0:_.viewType)===f}))}};var r=a,c=e("81ps");const o=Object(s.c)((l,u)=>{let{viewType:f}=u;return r(l,{viewType:f})||Object(c.a)(l,{viewType:f})});o.meta={name:"createSelector",key:"createSelectorisViewTypeVisible",description:(l,u)=>{let{viewType:f}=u;return r(l,{viewType:f})||Object(c.a)(l,{viewType:f})}};var i=n.a=o},Nnn3:function(K,n,e){"use strict";e.d(n,"a",function(){return W});var s=e("C3vN"),t=e("Fn/R"),a=e("ZKjC"),r=e("eUIW"),c=e("O86Y"),o=e("oF0q"),i=e("oTSI"),l=e("uAML"),u=e("lhZz");const{addObjects:f,removeObjects:d,clearObjects:O}=o.a;var m=e("9oTK"),g=e("Lgge"),E=e("NOj5"),p=e("n3tL"),h=e("WCk1"),_=e("CPJ1"),b=e("9Gfp"),I=e("Yg2s");const C=Object(h.a)("Fetches raw bot members",function(){var U=Object(m.coroutine)(function*(B,Y,z){let{ids:F,updated:V,reason:L="fetchRawBotMembersById"}=z;if(!F||!F.length)return g.a.resolve({members:[]});const Q=Object(I.l)(Object(c.g)(Y()),{ids:F,updated:V}),{objects:ee,failedIds:te,canInteract:le}=yield Q,Oe=Object(_.a)(ee,le,Y());if(Object(b.o)(Y())&&te&&te.length){const{members:he}=yield B(Object(_.h)({ids:te,reason:`fallback:${L}`}));return{members:Object(E.a)(Oe,he,"id")}}return{members:Oe}});return function(B,Y,z){return U.apply(this,arguments)}}());C.meta={name:"createFetcher",key:"createFetcherfetchRawBotMembersById",description:"Fetches raw bot members"},C.propTypes={ids:p.default.arrayOf(p.default.string).isRequired,reason:p.default.string,fetchConditionally:p.default.bool,andSubscribe:p.default.bool};const y=Object(i.a)(()=>new l.b({fetch:(U,B)=>{const Y={},z=Object(u.getStateByTeamId)(U);return B.forEach(F=>{var V;Y[F]=((V=x(z,F))===null||V===void 0?void 0:V.updated)||0}),Object(u.dispatchForTeamId)(U,C({ids:B,updated:Y,reason:"bots-metadata-store CFM"})).catch(()=>({members:[]})).then(function(){let{members:F=[]}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const V=F.map(function(){let{id:L,updated:Q,profile:{bot_id:ee}}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{profile:{}};return{id:L,botId:ee,updated:Q}});Object(u.dispatchForTeamId)(U,f({objects:V}))})},isEnabled:()=>!0,metricsName:"bot-ids"})),P=v((U,B)=>y().maybeRefetch(U,B),"maybeRefetch"),T=v((U,B)=>y().markObjectsAsFresh(U,B),"markObjectsAsFresh"),S=v((U,B)=>y().markObjectsAsStale(U,B),"markObjectsAsStale"),A=v((U,B)=>y().isObjectFresh(U,B),"isObjectFresh"),R=v(U=>y().getFreshObjects(U),"getFreshObjects"),{getObjectById:x}=o.c,M=Object(a.b)((U,B)=>{const Y=Object(c.g)(U);if(Y&&Object(r.a)(B)){var z;return P(Y,B),(z=x(U,B))===null||z===void 0?void 0:z.botId}});M.meta={name:"createSelector",key:"createSelectorgetBotIdForMemberId",description:(U,B)=>{const Y=Object(c.g)(U);if(Y&&Object(r.a)(B)){var z;return P(Y,B),(z=x(U,B))===null||z===void 0?void 0:z.botId}}};var j=e("DOHs");function W(U,B){return Object(s.qb)(B)||!Object(t.a)(B)?null:Object(j.a)(U)?M(U,Object(s.n)(B)):B&&B.profile&&B.profile.bot_id}v(W,"getBotIdFromMember")},Nq3N:function(K,n,e){"use strict";var s=e("9oTK"),t=e.n(s),a=e("3Hq1"),r=e("SQ0V"),c=e("lhZz"),o=e("O86Y"),i=e("1Zcw"),l=e("dKQz"),u=e("oCIk"),f=e("+CZ0"),d=e("kBpe"),O=e("s4P+"),m=e("3REw"),g=e("HoeF"),E=e("SIMs"),p=e("LZPg"),h=e("d3B0"),_=e("sOAz"),b=e("dqxO");const I=Object(r.c)("Enable or disable local microphone",function(){var C=Object(s.coroutine)(function*(y,P,T){const S=Object(c.getStateForClientStore)(),A=P(),R=Object(O.a)({state:A}),x=Object(h.i)(A);if(Object(E.i)(A)||y(Object(g.g)({canShowMutedBanner:!0})),Object(d.i)()||(yield Object(c.dispatchForClientStore)(Object(b.c)({mediaResourceType:m.i.MICROPHONE}))),R.info(i.c,`Set microphone to ${T}`),x&&T){R.warn(i.c,"Microphone could not be set to enabled as access to the device was blocked"),Object(d.i)()?y(Object(_.b)({alert:_.a.NoSystemAudio})):y(Object(_.b)({alert:_.a.NoBrowserAudioPermission}));return}const{teamId:j}=Object(f.p)(S)||{};if(j&&j!==Object(o.g)(A)){Object(c.dispatchForTeamId)(j,I(T));return}Object(a.a)(T)||(Object(c.dispatchForClientStore)(Object(l.g)(T)),T&&Object(f.m)(S)&&y(Object(u.a)({clearOnEndedCallback:!0,logContext:"huddle-set-self-microphone"}))),y(Object(p.ob)({id:"self",isMicrophoneEnabled:T}))});return function(y,P,T){return C.apply(this,arguments)}}());I.meta={name:"createThunk",key:"createThunksetSelfMicrophone",description:"Enable or disable local microphone"},n.a=I},NqdB:function(K,n,e){"use strict";e.d(n,"a",function(){return r});var s=e("xwCZ"),t=e("C3vN"),a=e("nfxS");const r=v(c=>{const o=Object(s.d)(c);return!Object(t.ub)(o)&&Object(a.a)(c,"emoji_only_admins")},"canUserAddEmoji")},Nyj0:function(K,n,e){"use strict";e.d(n,"a",function(){return x});var s=e("q1tI"),t=e.n(s),a=e("iuhU"),r=e("ifKl"),c=e("yxNq"),o=e("RVJP"),i=e("zxER"),l=e("WSQ4"),u=e("s4P+"),f=e("PLUl"),d=e("4cU5"),O=e("2U/2"),m=e("cqtq"),g=e("iBeP"),E=e("UQYs");const p=50,h=8,_=4,b=4,I=50;let C=v(class extends s.PureComponent{componentDidMount(){this.props.initialScrollTop&&this.scrollRef.current&&(this.scrollRef.current.scrollTop=this.props.initialScrollTop)}onThumbDown(U){U.preventDefault(),U.stopPropagation();const B=this.props.contentHeight||0,Y=this.props.height;this.delta.y=U.clientY,this.delta.top=this.scrollTop(),this.delta.speed=B/Y,this.props.window.document.addEventListener("mousemove",this.onThumbDrag),this.props.window.document.addEventListener("mouseup",this.onThumbUp),this.props.window.document.addEventListener("mouseleave",this.onThumbUp)}onThumbDrag(U){U.preventDefault(),U.stopPropagation();const Y=(U.clientY-this.delta.y)*this.delta.speed,z=this.delta.top+Y;this.scrollTop(z)}onThumbUp(){this.props.window.document.removeEventListener("mousemove",this.onThumbDrag),this.props.window.document.removeEventListener("mouseup",this.onThumbUp),this.props.window.document.removeEventListener("mouseleave",this.onThumbUp)}onTrackDown(U){const B=U.nativeEvent.offsetY-this.scrollTop(),Y=this.props.contentHeight,z=Y?Math.max(this.props.height**2/Y,p):p,F=(B-z/2)/(this.props.height-z);this.scrollRef.current.scrollTop=Y?F*(Y-this.props.height):0}getBoundingClientRect(){var U;return(U=this.scrollRef.current)===null||U===void 0?void 0:U.getBoundingClientRect()}scrollTop(U){return this.scrollRef.current?(U!==void 0&&(this.scrollRef.current.scrollTop=U),this.scrollRef.current.scrollTop):0}render(){const{width:U,height:B,contentHeight:Y,className:z,inheritSize:F,trackTop:V,trackBottom:L,alwaysVisible:Q,id:ee,role:te,onScroll:le,children:Oe,color:he}=this.props,Ee=Y?Math.max(B**2/Y,p):p,ge=B-Ee-(V||0)-(L||0),H=(Y?Y-B:0)/ge,Z=F?void 0:{width:U,height:B};return t.a.createElement("div",{className:Object(a.default)(z,"c-scrollbar2",{"c-scrollbar2--hidden":B>=(Y||0),"c-scrollbar2--visible":Q}),id:ee,style:Z,role:te,"aria-label":this.props["aria-label"],"aria-describedby":this.props["aria-describedby"]},t.a.createElement("div",{className:"c-scrollbar2__hider",style:{width:U+I},role:"presentation",onScroll:le,ref:this.scrollRef},t.a.createElement("div",{className:"c-scrollbar2__content"},Oe,t.a.createElement("div",{className:"c-scrollbar2__track",role:"presentation",onMouseDown:this.onTrackDown})),t.a.createElement("div",{className:"c-scrollbar2__thumb",style:{height:Ee,background:he,transform:`
							scale(${H})
							matrix3d(
								1,0,0,0,
								0,1,0,0,
								0,0,1,0,
								0,0,0,-1
							)
							translateZ(-${H+1}px)
							translateX(${U-h-_}px)
							translateY(${V}px)
						`},role:"presentation",onMouseDown:this.onThumbDown})))}constructor(U){super(U),this.onTrackDown=this.onTrackDown.bind(this),this.onThumbDown=this.onThumbDown.bind(this),this.onThumbDrag=this.onThumbDrag.bind(this),this.onThumbUp=this.onThumbUp.bind(this),this.scrollRef=t.a.createRef(),this.delta={y:0,top:0,speed:0}}},"ScrollbarV2");C.displayName="ScrollbarV2",C.defaultProps={children:void 0,contentHeight:void 0,trackTop:b,trackBottom:b,color:void 0,className:void 0,alwaysVisible:!1,role:"presentation","aria-label":void 0,"aria-describedby":void 0,onScroll:void 0,initialScrollTop:0,id:void 0,inheritSize:!1,window};var y=e("TxvE"),P=e("6kzs"),T=e("oWj6");function S(){return S=Object.assign||function(W){for(var U=1;U<arguments.length;U++){var B=arguments[U];for(var Y in B)Object.prototype.hasOwnProperty.call(B,Y)&&(W[Y]=B[Y])}return W},S.apply(this,arguments)}v(S,"_extends");const A=50,R="VIRTUALIZED_LIST";class x extends s.Component{componentDidMount(){this.props.window.document.addEventListener("selectionchange",this.onSelectionChange)}shouldComponentUpdate(U,B){return!Object(c.a)(U,this.props)||!Object(c.a)(B,this.state)}UNSAFE_componentWillReceiveProps(U){!this.props.useStaticHeightForListItems&&U.width!==this.props.width&&this.layout.heightCache.invalidate(),this.layout.setKeys(U.keys),this.relayout()}componentWillUnmount(){this.scrollStartTimeout&&clearTimeout(this.scrollStartTimeout),this.props.window.document.removeEventListener("selectionchange",this.onSelectionChange),this.resizeObserver&&(this.resizeObserver.disconnect(),this.resizeObserver=null)}onContentScroll(U){this.props.onContentScroll(U)}onScroll(U){this.onScrollEnd();const{start:B,end:Y}=this.state,{keys:z}=this.props;if(!(B===0&&Y===z.length)){const V=this.getScrollTop();if(this.props.metricsTag){const[L,Q]=this.prevBounds;let ee;V<L?ee=Math.abs(L-V):V>Q&&(ee=Math.abs(V-Q)),ee&&this.janks.push(ee)}this.relayout()}!this.scrollStartTimeout&&!this.isScrolling()&&U.target===this.getScrollerRef()&&(this.scrollStartTimeout=setTimeout(this.onScrollStart,A*2)),this.props.onScroll(U,{scrollTop:this.getScrollTop(),scrollHeight:this.getContentHeight(),clientHeight:this.props.height})}onScrollEnd(){if(this.scrollStartTimeout&&(clearTimeout(this.scrollStartTimeout),this.scrollStartTimeout=null),this.props.metricsTag){const U=Object(f.a)(),B=U.createMetricsTrace({label:"virtual-list",samplingOptions:{sampleRate:.01,sampleType:d.g.CALL},tags:{list_type:this.props.metricsTag,overscan_ratio:this.props.overscanRatio}});let Y=0,z=0;for(const V of this.janks)Y+=V,V>z&&(z=V);const F=this.janks.length;B.count({name:"jank",value:F}),B.store({name:"jank-px:avg",value:F?Math.round(Y/F):0}),B.store({name:"jank-px:max",value:z}),U.reportTrace(B),this.janks=[]}this.setState(U=>U.scrolling?{scrolling:!1}:null)}onScrollStart(){this.setState(()=>({scrolling:!0}),this.onScrollEnd),this.scrollStartTimeout=null}onSelectionChange(){if(!this.node)return;const U=this.props.window.getSelection&&this.props.window.getSelection();U&&U.type==="Range"&&this.contentNode&&this.contentNode.contains(U.anchorNode)?(this.isSelecting=!0,this.selectionStart=this.props.keys[this.state.start],this.selectionEnd=this.props.keys[this.state.end-1]):(this.isSelecting=!1,this.selectionStart=null,this.selectionEnd=null),this.props.onSelectionChange(this.isSelecting)}onItemContextMenu(U,B,Y){let{hasKeyboardFocus:z}=Y;this.props.onItemContextMenu(U,B,{hasKeyboardFocus:z})}getBottom(U){return this.layout.getBottom(U)}getBounds(U,B){this.onSelectionChange();let Y=U,z=B;return this.selectionStart&&(Y=Math.min(Y,this.layout.getTop(this.selectionStart))),this.selectionEnd&&(z=Math.max(z,this.layout.getTop(this.selectionEnd))),this.layout.getBounds(Y,z)}getBoundingClientRect(){return this.getScrollerRef().getBoundingClientRect()}getClassName(){return Object(a.default)("c-virtual_list","c-virtual_list--scrollbar",this.props.className)}getContainerHeight(){return this.props.height}getContentHeight(){return this.layout.getTotalHeight()}getContentsClassName(){return Object(a.default)("c-virtual_list__scroll_container",this.props.containerClassName,{"c-virtual_list__scroll_container--scrolling":this.isScrolling()&&!this.isSelecting})}getScrollTop(){return this.node&&this.node.scrollTop()||0}getScrollerRef(){var U;if(this.props.useScrollbarV2){var B,Y;return(B=this.node)===null||B===void 0||(Y=B.scrollRef)===null||Y===void 0?void 0:Y.current}return(U=this.node)===null||U===void 0?void 0:U.scroller}getTop(U){return this.layout.getTop(U)}getVisibleRange(){let U=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.getScrollTop(),B=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;const{keys:Y,height:z}=this.props,{start:F,end:V}=this.layout.getBounds(U,U+z);if(B)return{start:F,end:V};const L=this.layout.getTop(Y[F])<U-1?F+1:F,Q=this.layout.getBottom(Y[V-1])>U+z+1?V-1:V,ee=Math.min(L,Y.length-1),te=Math.max(Q,ee);return{start:ee,end:te}}setContentRef(U){this.contentNode=U}setHeight(U,B){let Y=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;if(!U)return Object(u.b)({label:R}).info("Attempted to setHeight on row without key"),!1;const z=this.layout.getHeight(U);if(this.props.useResizeObserver){if(Object(O.a)(B,z,1))return!1}else if(Math.abs(B-z)<.5)return!1;return this.layout.setHeight(U,B),Y||this.relayout(),!0}resizeObserverCallback(U){let B=!1;U.forEach(Y=>{const z=Y.target.getAttribute("data-item-key");if(!z){Object(u.b)({label:R}).info("ResizeObserverEntry target missing data-item-key attribute, returning early from callback");return}let F;Y.borderBoxSize&&Y.borderBoxSize[0]?F=Y.borderBoxSize[0].blockSize:Y.contentRect?F=Y.contentRect.height:F=Y.target.getBoundingClientRect().height,this.setHeight(z,F,!0)&&(B=!0)}),B&&this.relayout()}setRef(U){this.node=U}setScrollTop(U){this.node&&this.node.scrollTop(Math.ceil(U))}getItemsToRender(){const{keys:U,persistentKeys:B,usePersistentOrder:Y}=this.props,{start:z,end:F}=this.state,V=[];if(Y){const ee={};for(let te=0;te<B.length;te++)ee[B[te]]=!0;this.layout instanceof T.a&&this.layout.anchor&&!ee[this.layout.anchor]&&(ee[this.layout.anchor]=!0);for(let te=0;te<U.length;te++){const le=U[te];le&&(ee[le]||te>=z&&te<=F)&&V.push({key:le,index:te})}}else{for(let ee=z;ee<F;ee++){const te=U[ee];te&&V.push({key:te,index:ee})}B.forEach(ee=>{const te=U.indexOf(ee);te<0||te>=z&&te<F||V.push({key:ee,index:te})}),this.layout instanceof T.a&&this.layout.anchor&&!B.includes(this.layout.anchor)&&V.push({key:this.layout.anchor,index:U.indexOf(this.layout.anchor)})}const L=U[z],Q=U[F];return L&&Q&&(this.prevBounds=[this.layout.getTop(L),this.layout.getBottom(Q)]),V}getTabIndex(){}bracketScrollTop(U){return Math.max(0,Math.min(this.getContentHeight()-this.props.height,U))}isItemAboveView(U){let B=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;const Y=this.getScrollTop()+B;return this.layout.getBottom(U)<Y}isItemBelowView(U){let B=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;const Y=this.getScrollTop();return this.layout.getTop(U)>Y+(this.props.height-B)}isItemInView(U){let B=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;const Y=this.getScrollTop(),z=this.layout.getTop(U);return z>=Y+B&&z<=Y+(this.props.height-B)}isScrolledToBottom(){return this.getScrollTop()+this.getContainerHeight()>=this.layout.getTotalHeight()-1}isScrolledToTop(){return Math.floor(this.getScrollTop())<=1}isScrolling(){return this.state.scrolling}relayout(){this.setState((U,B)=>{const Y=this.getScrollTop(),z=B.height*B.overscanRatio,F=Y-z,V=Y+B.height+z,{start:L,end:Q}=this.getBounds(F,V),ee=this.layout.getTops(),te=this.layout.getTotalHeight();return L===U.start&&Q===U.end&&ee===U.tops&&te===U.totalHeight?null:{start:L,end:Q,tops:ee,totalHeight:te}})}scrollToKey(U){let{lazy:B,animate:Y,offset:z=0}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(B&&this.isItemInView(U))return;const F=this.layout.getOffsetForKey(U);this.scrollToOffset(F+z,{animate:Y})}scrollToOffset(U){let{animate:B}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!this.node)return;const Y=this.bracketScrollTop(U);if(B){this.node.scrollWithAnimation(Y);return}this.scrollTop=Y,this.setScrollTop(Y)}renderContents(){const U=this.getContentsClassName(),B=this.getContentHeight(),Y=this.renderItems();return t.a.createElement("div",{"data-qa":"slack_kit_list",ref:this.setContentRef,className:U,role:this.props.role,tabIndex:this.getTabIndex(),"aria-label":this.props["aria-label"],"aria-describedby":this.props["aria-describedby"],style:{position:"relative",height:B}},Y)}renderItem(U,B){const Y=this.getTop(U),z=this.layout.getHeight(U),F=this.layout.getHeightValidity(U),{rowRenderer:V,getPropsForItem:L,shouldHorizontallyScroll:Q}=this.props,ee=L({key:U,index:B})||{};return t.a.createElement(y.a,S({},ee,{id:U,itemKey:U,key:U,height:z,top:Y,onHeightChange:this.setHeight,onContextMenu:this.onItemContextMenu,validity:F,shouldHorizontallyScroll:Q,useStaticHeight:this.props.useStaticHeightForListItems,resizeObserver:this.resizeObserver,"aria-setsize":"-1"}),V(B,{key:U,isExpanded:ee["aria-expanded"]}))}renderItems(){return this.getItemsToRender().map(B=>{let{key:Y,index:z}=B;return this.renderItem(Y,z)})}render(){const{width:U,height:B}=this.props;if(!U||!B)return null;const Y=this.getClassName(),z=this.renderContents(),F=this.props.useScrollbarV2?C:g.a;return t.a.createElement(F,{className:Y,width:U,height:this.getContainerHeight(),contentHeight:this.getContentHeight(),trackTop:12,onTrackClick:E.a.track.page,onScroll:this.onScroll,onContentScroll:this.onContentScroll,anchor:"bottom",role:"presentation",id:this.props.id,ref:this.setRef,fade:this.props.fadeScrollbar,useFixedTrackHeight:this.props.useFixedTrackHeightForScrollbar,alwaysVisible:this.props.scrollbarAlwaysVisible||this.state.hasKeyboardFocus,initialScrollTop:this.props.initialScrollTop},z,this.props.siblingNode)}constructor(U){super(U),this.prevBounds=[-1/0,1/0],this.janks=[],this.onScroll=this.onScroll.bind(this),this.onContentScroll=this.onContentScroll.bind(this),this.onSelectionChange=this.onSelectionChange.bind(this),this.setRef=this.setRef.bind(this),this.setContentRef=this.setContentRef.bind(this),this.setHeight=this.setHeight.bind(this),this.getScrollTop=this.getScrollTop.bind(this),this.getVisibleRange=this.getVisibleRange.bind(this),this.isItemInView=this.isItemInView.bind(this),this.onScrollStart=this.onScrollStart.bind(this),this.onScrollEnd=Object(m.a)(this.onScrollEnd.bind(this),A,U.window),this.onItemContextMenu=this.onItemContextMenu.bind(this),this.resizeObserverCallback=this.resizeObserverCallback.bind(this),this.layout=U.layout||new P.a({}),this.node=null,this.contentNode=null,this.isSelecting=!1,this.selectionStart=null,this.selectionEnd=null,this.scrollStartTimeout=null,this.layout.setKeys(U.keys);const{start:B,end:Y}=this.getBounds(0,U.height);this.state={start:B,end:Y,scrolling:!1},this.resizeObserver=U.useResizeObserver&&!U.useStaticHeightForListItems?new U.window.ResizeObserver(this.resizeObserverCallback):void 0}}v(x,"list_BaseList"),x.displayName="BaseList",x.defaultProps={className:"",containerClassName:"",layout:void 0,role:"list","aria-label":void 0,"aria-describedby":void 0,persistentKeys:[],usePersistentOrder:!0,fadeScrollbar:!1,onScroll:r.a,onContentScroll:r.a,onSelectionChange:r.a,onItemContextMenu:r.a,getPropsForItem:r.a,shouldHorizontallyScroll:!1,scrollbarAlwaysVisible:!1,id:void 0,useStaticHeightForListItems:!1,useFixedTrackHeightForScrollbar:!1,useScrollbarV2:!1,initialScrollTop:0,overscanRatio:.5,siblingNode:null,useResizeObserver:!1,metricsTag:null,window};const M=t.a.memo(t.a.forwardRef(v(function(U,B){const{window:Y,windowId:z,windowToken:F}=Object(s.useContext)(l.a),V=Object(i.a)(L=>Object(o.d)(L,"vlist_observe")==="treatment");return t.a.createElement(x,S({},U,{ref:B,window:Y,windowId:z,windowToken:F,useResizeObserver:V}))},"List")));var j=n.b=M},"O+0r":function(K,n,e){"use strict";e.d(n,"c",function(){return B}),e.d(n,"b",function(){return z}),e.d(n,"a",function(){return V});var s=e("oTSI"),t=e("uAML"),a=e("BeL+"),r=e("fujP"),c=e("S1sa"),o=e("ZBlo"),i=e("xWuZ"),l=e("OZf9"),u=e("Lgge"),f=e("SQ0V"),d=e("/LVU"),O=e("m+KS"),m=e("8lFY"),g=e("9Gfp"),E=e("lDps");const p=Object(f.c)("Updates the DND schedule and snooze info for the current member",(L,Q,ee)=>{let{nextDndStartTs:te,nextDndEndTs:le,snoozeEnabled:Oe,snoozeEndTs:he,snoozeIsIndefinite:Ee}=ee;const ge=Q(),J=Object(g.a)(ge);L(Object(O.d)({snoozeEnabled:Oe,snoozeEndTs:he,snoozeIsIndefinite:Ee})),L(Object(O.e)([{memberId:J,nextDndStartTs:te,nextDndEndTs:le}])),L(Object(O.c)([{memberId:J,isInDnd:Object(E.a)({snoozeEnabled:Oe,nextDndStartTs:te,nextDndEndTs:le,snoozeIsIndefinite:Ee})}]))});p.meta={name:"createThunk",key:"createThunkupdateDndForCurrentMember",description:"Updates the DND schedule and snooze info for the current member"};var h=e("xwCZ"),_=e("s4P+"),b=e("C3vN"),I=e("Fn/R"),C=e("vC6O"),y=e("clFD");const P=30,T=Object(f.c)("Gets dnd info for a given set of user ids",(L,Q,ee)=>{let{users:te}=ee;const le=Q(),Oe=Object(_.a)({state:le});if(!Object(m.a)(le))return Oe.warn(y.a,"fetchAndUpsertDndForUsers is part of the v2 dnd store, which is currently in development. It should not be used outside of the dnd_cfm_store experiment."),u.a.resolve();const Ee=Object(a.a)(te).map(q=>Object(h.g)(le,q)).filter(q=>q&&!Object(I.a)(q)&&!Object(b.eb)(q)).map(q=>q==null?void 0:q.id);if(Object(r.a)(Ee))return Oe.info(y.a,"fetchAndUpsertDndForUsers - There are no valid members that we need to fetch DND times for"),u.a.resolve();Oe.info(y.a,`fetchAndUpsertDndForUsers - Preparing to fetch DND times for the following members: ${Ee}`);const ge=Object(g.a)(le),[J,H]=Object(c.a)(Ee,q=>q===ge),Z=[];if(Object(r.a)(J)||Z.push(L(Object(d.c)({memberId:ge,reason:"fetchAndUpsertDndForUsers-getDndTimesFor:self"})).then(function(){let q=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};L(p(q)),L(Object(C.a)())})),!Object(r.a)(H)){const q=Object(o.a)(H,P);(q==null?void 0:q.length)>1&&Oe.info(y.a,`fetchAndUpsertDndForUsers - batching requests into ${q==null?void 0:q.length} batches`),Z.push(u.a.map(q,k=>L(Object(d.d)({memberIds:k,reason:"fetchAndUpsertDndForUsers-getDndTimesFor:others"}))).then(k=>{const se=Object(i.a)(k);L(Object(O.e)(se));const re=[];Object(l.a)(se,X=>{re.push({memberId:X.memberId,isInDnd:Object(E.a)(X)})}),L(Object(O.c)(re)),L(Object(C.a)())}))}return Z.length>0?u.a.all(Z):u.a.resolve()});T.meta={name:"createThunk",key:"createThunkfetchAndUpsertDndForUsers",description:"Gets dnd info for a given set of user ids"};var S=e("lhZz"),A=e("aVws"),R=e("Z7Ay"),x=e("L/89"),M=e("/vsG");const j=3600*24,W=Object(s.a)(()=>new t.b({fetch:(L,Q)=>Object(S.dispatchForTeamId)(L,T({users:Q})),metricsName:M.a,maxAge:()=>j})),U=v(L=>Object(A.b)(L,M.a),"computeEffectiveTeamOrEnterpriseId"),B=v((L,Q)=>W().maybeRefetch(U(L),Q),"maybeRefetch"),Y=v((L,Q)=>W().markObjectsAsFresh(U(L),Q),"markObjectsAsFresh"),z=v((L,Q)=>{W().markObjectsAsStale(U(L),Q),Q.forEach(ee=>{ee&&Object(S.dispatchForTeamId)(L,Object(x.a)({memberId:ee}))})},"markObjectsAsStale"),F=v((L,Q)=>W().isObjectFresh(U(L),Q),"isObjectFresh"),V=v(L=>W().getFreshObjects(U(L)),"getFreshObjects");Object(R.b)("conditionalFetchManagerDndV2",W)},"O/xh":function(K,n,e){"use strict";var s=e("q1tI"),t=e.n(s),a=e("n3tL"),r=e("Cfcg"),c=e("c+dP"),o=e("zxER"),i=e("2IYT"),l=e("x/ke"),u=e("9Gfp"),f=e("MUHj"),d=e("+GhL"),O=e("ICFZ"),m=e("YpEo"),g=e("5IZy"),E=e("ktUG"),p=e("nNoG"),h;(function(B){B.GO_TO_APP="go_to_app",B.VIEW_DIRECTORY="view_directory",B.COPY_APP_NAME="copy_app_name",B.COPY_APP_LINK="copy_app_link"})(h||(h={}));const _=new p.b("menu"),b=v(B=>{var Y;const{memberId:z,serviceId:F,homeWorkspaceId:V,children:L}=B,Q=Object(o.a)(w=>Object(l.c)(w,{serviceId:F,homeWorkspaceId:V,memberId:z})),ee=z||(Q==null||(Y=Q.app_user)===null||Y===void 0?void 0:Y.id),te=Object(d.h)(Q),le=Object(o.a)(w=>Object(d.E)(w,Q)),Oe=Object(o.a)(w=>Object(d.v)(w,Q)),he=Object(o.a)(w=>Object(d.b)(w,Q)),Ee=le&&Oe||he,ge=Object(o.a)(w=>Object(d.I)(w,Q)),J=Object(o.a)(u.h),H=Object(o.a)(w=>Object(g.a)({state:w})),Z=Object(s.useCallback)(w=>{H.track(E.EventId.CONTEXT_MENU_ACTION,{label:w,is_iap1:!0})},[H]),q=Object(s.useCallback)(()=>{Z(h.VIEW_DIRECTORY)},[Z]),k=Object(s.useCallback)(()=>{Z(h.GO_TO_APP),Object(f.a)({memberId:ee})},[Z,ee]),se=Object(s.useCallback)(()=>{Z(h.COPY_APP_NAME),Object(O.e)(te)},[Z,te]),re=Object(s.useCallback)(()=>{Z(h.COPY_APP_LINK),Object(O.e)(Ee)},[Z,Ee]),X=Object(s.useCallback)(()=>{const w=[];return Ee&&(w.push({label:_.t("View in App Directory"),href:Ee,click:q,dataQa:"bot_context_menu_app_directory"}),w.push({type:"separator"})),ee&&ge&&(w.push({label:_.t("Go to app"),click:k}),w.push({type:"separator"})),w.push({label:_.t("Copy name"),click:se}),Ee&&w.push({label:_.t("Copy link"),click:re}),w},[Ee,ee,re,se,k,ge,q]);return!J||!F?Object(m.a)(L):t.a.createElement(i.a,{getTemplate:X,overrideDefaultMenu:!0,desktopAppOnly:!1,showSlackKitContextMenuOnDesktop:!0},L)},"BotContextMenu");b.displayName="BotContextMenu";var I=b,C=e("SI/f"),y=e("QLhP"),P=e("O86Y"),T=e("9I4P"),S=e("NV6F");function A(){return A=Object.assign||function(B){for(var Y=1;Y<arguments.length;Y++){var z=arguments[Y];for(var F in z)Object.prototype.hasOwnProperty.call(z,F)&&(B[F]=z[F])}return B},A.apply(this,arguments)}v(A,"_extends");const R={children:a.default.oneOfType([a.default.element.isRequired,a.default.func.isRequired]).isRequired,menuProps:a.default.object,serviceId:a.default.string,memberId:a.default.string,homeWorkspaceId:a.default.string,memberIsHuman:a.default.bool,includeRemoveFromChannelAction:a.default.bool,profileCardProps:a.default.object},x={serviceId:void 0,memberId:void 0,homeWorkspaceId:void 0,menuProps:void 0,memberIsHuman:!1,includeRemoveFromChannelAction:!1,profileCardProps:void 0};let M=v(class extends s.Component{render(){const{serviceId:Y,memberId:z,homeWorkspaceId:F,memberIsHuman:V}=this.props;return z&&V?t.a.createElement(C.a,{id:z},L=>this.renderTrigger(L)):Y&&!V?t.a.createElement(I,{serviceId:Y,memberId:z,homeWorkspaceId:F},L=>this.renderTrigger(L)):this.renderTrigger()}constructor(...Y){var z;super(...Y),z=this,this.renderProfileCard=F=>{const{serviceId:V,memberId:L,homeWorkspaceId:Q,memberIsHuman:ee,includeRemoveFromChannelAction:te}=this.props;return Object(S.x)({menuProps:F,serviceId:V,memberId:L,homeWorkspaceId:Q,memberIsHuman:ee,includeRemoveFromChannelAction:te})},this.renderTrigger=function(){let F=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const{children:V,serviceId:L,memberId:Q,homeWorkspaceId:ee,memberIsHuman:te,includeRemoveFromChannelAction:le,...Oe}=z.props;return t.a.createElement(c.e,A({renderMenu:z.renderProfileCard,position:"right-bottom",allowanceY:24,offsetX:8},Oe),he=>Object(m.a)(V,he,F))}}},"ProfileCardTrigger");M.displayName="ProfileCardTrigger",M.propTypes=R,M.defaultProps=x;const j=v((B,Y)=>{const{userId:z,botId:F,botProfile:V,serviceId:L}=Y,{member:Q,bot:ee,memberIsHuman:te}=Object(y.f)(B,{userId:z,botId:F,botProfile:V});let le=null;if(!te||L){const Oe=Object(P.g)(B);le=Object(T.c)({member:Q,bot:ee,botProfile:V,currentTeamId:Oe})}return{serviceId:ee&&ee.id||L,memberId:Q&&Q.id,homeWorkspaceId:le,memberIsHuman:te}},"mapStateToProps");var W=Object(r.a)(j)(M),U=n.a=W},O0Iw:function(K,n,e){"use strict";e.d(n,"a",function(){return u}),e.d(n,"b",function(){return f}),e.d(n,"c",function(){return d}),e.d(n,"d",function(){return O});var s=e("PMNn"),t=e("q0lC"),a=e("O86Y"),r=e("beVI");const c=v((m,g)=>Object(t.a)(m,g)||Object(t.g)(m,g),"canUserActAsWorkspaceOwner"),o=v((m,g)=>{const E=Object(s.b)(m,g);return E?E.some(p=>c(m,p)):!1},"canUserActAsWorkspaceOwnerInChannel"),i=v(m=>Object(a.a)(m).filter(E=>c(m,E)),"getWorkspaceIdsOnWhichUserCanActAsWorkspaceOwner"),l=v(m=>Object(r.u)(m,i(m)),"getWorkspacesOnWhichUserCanActAsWorkspaceOwner"),u=v((m,g)=>Object(t.a)(m,g)||Object(t.e)(m,g),"canUserActAsWorkspaceAdmin"),f=v((m,g)=>{const E=Object(s.b)(m,g);return E?E.some(p=>u(m,p)):!1},"canUserActAsWorkspaceAdminInChannel"),d=v(m=>Object(a.a)(m).filter(E=>u(m,E)),"getWorkspaceIdsOnWhichUserCanActAsWorkspaceAdmin"),O=v(m=>Object(r.u)(m,d(m)),"getWorkspacesOnWhichUserCanActAsWorkspaceAdmin")},O2rC:function(K,n,e){"use strict";e.d(n,"a",function(){return s});const s={PREF:"notifications_view",PAGE:"page",FLEXPANE:"flexpane"}},O5Ce:function(K,n,e){K.exports=e.p+"slackbot_fancy_36-d921f9d.png"},O5bS:function(K,n,e){"use strict";e.d(n,"a",function(){return s});const s={disconnectedFeedback:"disconnected_feedback",createdGoogleDriveDocument:"created_google_drive_document",enablePopups:"enable_popups",generalPostingRestricted:"general_posting_restricted",genericPostingRestricted:"generic_posting_restricted",fileTypeHasNoHandler:"file_type_has_no_handler",boxFilePickerError:"box_file_picker_error",gdriveShareFileError:"gdrive_share_file_error",onedriveSdkError:"onedrive_sdk_error",tempSlashCmdFeedback:"temp_slash_cmd_feedback",threadsTempSlashCmdFeedback:"threads_temp_slash_cmd_feedback",uncaughtThirdPartyCallError:"uncaught_third_party_call_error",findAnAdminPrompt:"find_an_admin_prompt",unhandledGdriveCreate:"unhandled_gdrive_create",fileCreatedViaBookmark:"file_created_via_bookmark",scheduleSendError:"schedule_send_error"}},O62x:function(K,n,e){"use strict";e.d(n,"a",function(){return o});var s=e("mx2s"),t=e("SQ0V"),a=e("lhZz"),r=e("E4z0"),c=e("j77i");const o=Object(t.c)("Sets whether or not the sidebar is part of the grid layout at normal window sizes",(i,l,u)=>{Object(c.v)(s.e,u),i(Object(r.a)(u)),Object(a.dispatchForClientStore)(Object(r.a)(u))});o.meta={name:"createThunk",key:"createThunksetIsSidebarVisible",description:"Sets whether or not the sidebar is part of the grid layout at normal window sizes"}},O9MH:function(K,n,e){"use strict";e.d(n,"b",function(){return g}),e.d(n,"a",function(){return E});var s=e("kBpe"),t=e("IGJb"),a=e("KciV"),r=e("e9jb"),c=e("s4P+"),o=e("Ufq/");const i=2e3,l=6,u=0/265,f=255/265,d=53/265,O=1,m="SCREEN-SHARE",g=v((p,h)=>{!Object(s.o)()&&Object(s.j)("4.13.1")&&!Object(o.g)(h)&&(Object(t.a)(p,i),Object(t.f)(p),Object(t.e)(l),Object(t.d)(u,f,d,O),Object(t.g)(),(Object(r.a)()?Object(a.c)(m):Object(c.b)({label:m})).info("Screenshare border added"))},"showBorderForWindowOrScreenId"),E=v(()=>{!Object(s.o)()&&Object(s.j)("4.13.1")&&(Object(t.c)(),(Object(r.a)()?Object(a.c)(m):Object(c.b)({label:m})).info("Screenshare border removed"))},"hideScreenShareWindowBorder")},OB5f:function(K,n,e){"use strict";e.d(n,"a",function(){return p});var s=e("mXhK"),t=e("weKX"),a=e("ZKjC");const r=Object(a.b)(h=>{var _;return h==null||(_=h.sideEffects)===null||_===void 0?void 0:_.sideEffectsMap});r.meta={name:"createSelector",key:"createSelectorgetSideEffectsMap",description:h=>{var _;return h==null||(_=h.sideEffects)===null||_===void 0?void 0:_.sideEffectsMap}};const c=Object(a.b)(h=>{var _;return h==null||(_=h.sideEffects)===null||_===void 0?void 0:_.orgSharedSideEffectsMap});c.meta={name:"createSelector",key:"createSelectorgetOrgSharedSideEffectsMap",description:h=>{var _;return h==null||(_=h.sideEffects)===null||_===void 0?void 0:_.orgSharedSideEffectsMap}};const o=Object(a.b)(h=>{var _;return h==null||(_=h.clientSideEffects)===null||_===void 0?void 0:_.clientSideEffectsMap});o.meta={name:"createSelector",key:"createSelectorgetClientSideEffectsMap",description:h=>{var _;return h==null||(_=h.clientSideEffects)===null||_===void 0?void 0:_.clientSideEffectsMap}};var i=e("s4P+"),l=e("Lgge"),u=e("UOL+");const f=Object(a.b)(h=>{var _,b;return(_=Object(u.a)(h))===null||_===void 0||(b=_.orgSharedSideEffects)===null||b===void 0?void 0:b.orgSharedSideEffectsMap});f.meta={name:"createSelector",key:"createSelectorgetOrgSharedSideEffectsMap",description:h=>{var _,b;return(_=Object(u.a)(h))===null||_===void 0||(b=_.orgSharedSideEffects)===null||b===void 0?void 0:b.orgSharedSideEffectsMap}};var d=e("+dHK");function O(){return Object(s.b)("Handle client side effects",(h,_,b)=>{var I;if(!((I=b.__test)===null||I===void 0)&&I.disableSideEffects)return _(b);const C=h.getState(),y=o(C);return g({store:h,action:b,sideEffectsMap:y}),_(b)})}v(O,"createClientSideEffectsMiddleware");function m(){return Object(s.b)("Handle side effects",(h,_,b)=>{var I;if(!((I=b.__test)===null||I===void 0)&&I.disableSideEffects)return _(b);const C=h.getState(),y=C.isShared;if(y&&b[d.d])return _(b);if(y){const P=f(C);g({store:h,action:b,sideEffectsMap:P})}else{const P=r(C);if(g({store:h,action:b,sideEffectsMap:P}),!b[d.c]){const T=c(C);g({store:h,sideEffectsMap:T,action:b})}}return _(b)})}v(m,"createSideEffectsMiddleware");function g(h){let{store:_,action:b,sideEffectsMap:I}=h;const C=I&&I[b.type],y=v(P=>(Object(t.b)(b,P),_.dispatch(P)),"wrappedDispatch");C!=null&&C.length&&l.a.resolve().then(()=>{C.forEach(P=>{if(!P)return;const{thunk:T}=P;try{y(T(b))}catch(S){Object(i.a)({getState:_.getState}).error("SIDE-EFFECTS",`Error in side effect for '${b.type}'`,S,{subtype:"side_effect_error"})}})})}v(g,"runSideEffects");var E=n.b=m();const p=O()},OKyS:function(K,n,e){"use strict";e.d(n,"c",function(){return t}),e.d(n,"e",function(){return a}),e.d(n,"a",function(){return r}),e.d(n,"b",function(){return c}),e.d(n,"d",function(){return o});var s=e("DwFS");const t=Object(s.a)("Set if ContextBarTimeZone component is showing for a channel id");t.meta={name:"createAction",key:"createActionsetContextBarTimeZoneIsShowing",description:"Set if ContextBarTimeZone component is showing for a channel id"};const a=Object(s.a)("Unset if ContextBarTimeZone component is showing for a channel id");a.meta={name:"createAction",key:"createActionunsetContextBarTimeZoneIsShowing",description:"Unset if ContextBarTimeZone component is showing for a channel id"};const r=Object(s.a)("Resets store for ContextBarTimeZone showing");r.meta={name:"createAction",key:"createActionresetAllContextBarTimeZoneIsShowing",description:"Resets store for ContextBarTimeZone showing"};const c=Object(s.a)("Set the DND override settings for the context bar");c.meta={name:"createAction",key:"createActionsetContextBarDndOverride",description:"Set the DND override settings for the context bar"};const o=Object(s.a)("Reset the DND override settings for the context bar");o.meta={name:"createAction",key:"createActionunsetContextBarDndOverride",description:"Reset the DND override settings for the context bar"}},OOts:function(K,n,e){"use strict";e.d(n,"a",function(){return r});var s=e("lCmp"),t=e("pu3F"),a=e("HRmD");function r(l,u){return Object(s.a)(l,f=>c(f,u))}v(r,"blocksContainMention");function c(l,u){switch(l.type){case t.e.section:case t.e.header:if(l.text&&o(l.text,u)||l.fields&&i(l.fields,u))return!0;break;case t.e.context:if(l.elements&&i(l.elements,u))return!0;break;default:}return!1}v(c,"blockContainsMention");function o(l,u){return l.type===t.f.mrkdwn?Object(a.a)({text:l.text,...u}):!1}v(o,"elementContainsMention");function i(l,u){return Object(s.a)(l,f=>o(f,u))}v(i,"elementsContainMention")},OW01:function(K,n,e){"use strict";e.d(n,"c",function(){return i}),e.d(n,"b",function(){return l}),e.d(n,"a",function(){return u});var s=e("Lgge"),t=e("oTSI"),a=e("uAML"),r=e("lhZz"),c=e("VSFm");const o=Object(t.a)(()=>new a.b({fetch:(f,d)=>{const O=d.slice(0,5);return s.a.map(O,m=>Object(r.dispatchForTeamId)(f,Object(c.a)({channelId:m})))},isEnabled:()=>!0,metricsName:"team-connections"})),i=v((f,d)=>{!f||!d||o().maybeRefetch(f,d)},"maybeRefetch"),l=v((f,d)=>o().markObjectsAsStale(f,d),"markObjectsAsStale"),u=v((f,d)=>o().isObjectFresh(f,d),"isObjectFresh")},Oczg:function(K,n,e){"use strict";e.d(n,"a",function(){return t}),e.d(n,"b",function(){return a}),e.d(n,"c",function(){return r});var s=e("twB+");const t=new s.a;function a(){return t.entries().filter(c=>c.value&&!c.value.isRejected()&&!c.value.isCancelled()).length}v(a,"getActiveCollabClientCount");const r=v(c=>{const o=t.get(c);return o!=null&&o.isFulfilled()?o.value():void 0},"getInitializedClient")},Oeqe:function(K,n,e){"use strict";e.d(n,"e",function(){return o}),e.d(n,"b",function(){return l}),e.d(n,"c",function(){return u}),e.d(n,"d",function(){return f}),e.d(n,"a",function(){return O});var s=e("qAkX"),t=e("Yauy"),a=e("wwBm"),r=e("beOr"),c=e("ltDl");function o(g){return i(Object(c.a)(g))}v(o,"parsePermalink");function i(g){const{hostname:E,pathname:p,search:h}=g;if(!E||!p)return;const _=E.split("."),b=p.split("/").slice(1);if(!Object(r.a)(E)||b.length<2)return;const I=b[0];switch(I){case"messages":case"archives":case"conversation":case"files":case"search":case"lists":break;default:return}const C=_[0],y=Object(s.a)(h.split("?")),P=y&&Object(a.d)(y);let T;return P&&P.thread_ts&&(T=P.thread_ts),{team:C,type:I,path:b,threadTs:T}}v(i,"parsePermalinkFromUrlObject");function l(g){return u(Object(c.a)(g))}v(l,"getPermalinkIdentifier");function u(g){const E=i(g);if(!E)return;const{path:p}=E;return p?p&&p[1]:!1}v(u,"getPermalinkIdentifierFromUrlObject");function f(g){let{team:E,channelId:p,ts:h,threadTs:_}=g,b=p&&Object(t.c)({team:E,channelId:p,archive:!0});return p&&h&&(b+=`/p${h.replace(".","")}`),p&&h&&_&&_!==h&&(b+=`?thread_ts=${_}&cid=${p}`),b}v(f,"getXWSPermalink");function d(g){let{encodedSearchString:E}=g;return`/search/${E}`}v(d,"getSearchPermalink");function O(g){let{channelId:E,ts:p,threadTs:h}=g,_="/archives";return E&&(_+=`/${E}`),E&&p&&(_+=`/p${p.replace(".","")}`),E&&p&&h&&h!==p&&(_+=`?thread_ts=${h}&cid=${E}`),_}v(O,"getPermalink");var m=O},OmHH:function(K,n,e){"use strict";e.d(n,"a",function(){return t});var s=e("b28g");const t=v(function(r,c){let o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return c.filterQuery===void 0?c:{...c,options:Object(s.a)(r,c.filterQuery,o)}},"defaultFilter"),a=v((r,c)=>r.reduce((o,i)=>i(o),c),"applyTransforms")},On6p:function(K,n,e){"use strict";e.d(n,"a",function(){return c}),e.d(n,"d",function(){return u}),e.d(n,"c",function(){return d}),e.d(n,"b",function(){return O});var s=e("vfQU"),t=e("kBpe"),a=e("nNoG");const r=new a.b("prefs"),c=Object(s.db)()?Object(s.K)():"nightly",o={PROD:"prod",BETA:"beta",DOGFOOD:c},i=[o.PROD,o.BETA],l=[o.PROD,o.BETA,o.DOGFOOD];function u(m){return(m?l:i).map(E=>({value:E,label:f(E)}))}v(u,"getReleaseChannelOptions");function f(m){switch(m){case o.PROD:return r.t("Production");case o.BETA:return r.t("Beta");case o.DOGFOOD:return r.t("Dogfood",{fallbackHash:"c9e429b1798d0142b8b31e82c1f9da5d8e0c9420"});default:return r.t("Unknown")}}v(f,"getReleaseChannelDisplayName");function d(){return Object(s.db)()&&!Object(s.cb)()&&!Object(t.o)()}v(d,"canSeeReleaseChannel");function O(){return d()&&["MSI","SlackSonic","SlackPilot"].every(m=>!navigator.userAgent.includes(m))}v(O,"canModifyReleaseChannel")},OnlX:function(K,n,e){"use strict";e.d(n,"a",function(){return s});function s(){var t,a;return(a=(t=window.navigator)===null||t===void 0?void 0:t.userAgent)!==null&&a!==void 0?a:"no-ua"}v(s,"getUserAgent")},"P+mv":function(K,n,e){"use strict";e.d(n,"a",function(){return Y});var s=e("ifKl"),t=e("uKXT"),a=e("lCmp"),r=e("BvK0"),c=e("DKof"),o=e("CpTu"),i=e("7EGn"),l=e("M4HD"),u=e("MMa9"),f=e("C3vN"),d=e("Yauy"),O=e("gVOt"),m=e("E97Y"),g=e("jvEW"),E=e("DQNL"),p=e("p9fx");const h=v(z=>z&&(z.displayName||z.display_name||Object(p.a)(z)),"getEmojiDisplayName"),_=v(z=>z?(z.aliases?[z,...z.aliases]:[z]).map(V=>({name:Object(p.a)(V),displayName:h(V)})):null,"getAllEmojiNameObjects");var b=e("G0eX"),I=e("vJdC"),C=e("Kmpi"),y=e("xwCZ"),P=e("Fuyg"),T=e("V96q");const S={china:["pinching_hand","pinching-hand"],dead:["older_adult"],dump:["hindu_temple"],fail:["family"],gross:["flag-progress-pride"],hi:["shit"],hit:["shit"],hitler:["white_flower"],it:["shit"],macht:["mannlichkeitssymbol"],sh:["shit"],shi:["shit"],shoot:["school_satchel"],s:["shit"],sit:["shit"],sith:["person_with_headscarf"],war:["man-wearing-turban"],whine:["menorah_with_nine_branches"],worst:["woman-wrestling"],wrong:["woman-rowing-boat"]};var A=e("s4P+"),R=e("hE2u"),x=e("9tyN"),M=e("EzMJ"),j=e("KPXh"),W=e("4Ky9"),U=e("ptZ7"),B=e("BTpy");let Y=v(class{filterMembers(F,V){let L=arguments.length>2&&arguments[2]!==void 0?arguments[2]:s.a;return V.reduce((Q,ee)=>{if(Object(f.Cb)(ee)||this.shouldFilterItem(ee,L))return Q;if(!this.query&&this.allowEmptyQuery)return Q.push({item:ee,score:0}),Q;const{score:te,scoreDetails:le}=this.scoreMember(ee),Oe={item:ee,score:te,scoreDetails:le};return!this.avoidExactMatchForMembers&&this.preferExactMatch&&(Oe.isExactMatch=this.isMemberExactMatch(ee),Oe.exactMatchDetails=this.getMemberExactMatchDetails(ee)),te<=this.fuzzyLimit&&Q.push(Oe),Q},[])}scoreMember(F){let V=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.matcher;const L=1/0;let Q={};if(this.queryIsMaybeSelf&&Object(f.vb)(F))Q.self_score=0;else{const te=Object(f.D)(F),le=Object(f.w)(F);Q.real_name=te?V.score(te):L,Q.display_name=le?V.score(le):L}if(this.shouldMatchEmail){const te=Object(f.i)(F);Q.email=te?this.forwardOnlyMatcher.score(te):1/0}const ee=Object(t.a)(Object.values(Q));return Q=Object.entries(Q).reduce((te,le)=>{let[Oe,he]=le;return isFinite(he)&&(te[Oe]=he),te},{}),{score:ee,scoreDetails:Q}}filterChannels(F,V){let L=arguments.length>2&&arguments[2]!==void 0?arguments[2]:s.a;return V.reduce((Q,ee)=>{if(Object(m.p)(ee)||Object(d.X)(ee)||this.shouldFilterItem(ee,L))return Q;if(!this.query&&this.allowEmptyQuery)return Q.push({item:ee,score:0}),Q;const te=Object(P.a)(Object(d.u)(F,ee,{publicChannelIncludeHashSign:!1})),le=this.matcher.score(te),Oe={item:ee,score:le};this.preferExactMatch&&(Oe.isExactMatch=this.isChannelExactMatchPreNormalized(te));const he=this.options.entities&&this.options.entities.channels&&this.options.entities.channels.searchPreviousNames,Ee=ee.previous_names&&ee.previous_names.length;if(he&&Ee){const ge=ee.previous_names.map(q=>({score:this.matcher.normalizeAndScore(q),name:q}));Oe.previousNameScores=ge;const J=Object(a.a)(ge,q=>q.score<=this.fuzzyLimit),H=J&&le>this.fuzzyLimit;let Z=null;if(H){const q=Object(r.a)(ge,"score");Z=q&&q.name}return Oe.bestPreviousNameMatch=Z,(le<=this.fuzzyLimit||J)&&Q.push(Oe),Q}return le<=this.fuzzyLimit&&Q.push(Oe),Q},[])}filterTeams(F,V){let L=arguments.length>2&&arguments[2]!==void 0?arguments[2]:s.a;return V.reduce((Q,ee)=>{if(Object(b.R)(ee)||this.shouldFilterItem(ee,L))return Q;if(!this.query&&this.allowEmptyQuery)return Q.push({item:ee,score:0}),Q;const te=this.matcher.normalizeAndScore(Object(b.g)(ee)),le={item:ee,score:te};return this.preferExactMatch&&(le.isExactMatch=this.isTeamExactMatch(ee)),te<=this.fuzzyLimit&&Q.push(le),Q},[])}filterUserGroups(F,V){let L=arguments.length>2&&arguments[2]!==void 0?arguments[2]:s.a;return V.reduce((Q,ee)=>{if(Object(E.w)(ee)||this.shouldFilterItem(ee,L))return Q;if(!this.query&&this.allowEmptyQuery)return Q.push({item:ee,score:0}),Q;const te=this.scoreUserGroupName(ee),le={item:ee,score:te};return this.preferExactMatch&&(le.isExactMatch=this.isUsergroupExactMatch(ee)),te<=this.fuzzyLimit&&Q.push(le),Q},[])}scoreUserGroupName(F){let V=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.matcher,L=1/0,Q=1/0;const ee=Object(E.k)(F)||Object(E.j)(F).toLocaleLowerCase(),te=Object(E.h)(F,{includeAtSign:!1});return L=V.normalizeAndScore(ee),te&&(Q=V.normalizeAndScore(te)),Math.min(L,Q)}getSubQueryMatchers(){return this.query.split(/[,| ]/).filter(V=>!!V).map(V=>{const L=V.charAt("0")==="@"?V.substring(1):V;return new R.b(L,{fuzzyLimit:this.fuzzyLimit})})}filterMpims(F,V){let L=arguments.length>2&&arguments[2]!==void 0?arguments[2]:s.a;return V.reduce((Q,ee)=>{if(this.shouldFilterItem(ee,L))return Q;if(!this.query&&this.allowEmptyQuery)return Q.push({item:ee,score:0}),Q;const te=Object(d.E)(ee);if(!te)return null;const le=te.map(q=>Object(y.g)(F,q)).filter(q=>!Object(f.vb)(q)&&!Object(f.Cb)(q)),Oe={},he={},Ee=[];let ge=0;const J=this.getSubQueryMatchers();for(const q of J){const k=[];let se=1/0;for(const re of le){const{score:X,scoreDetails:w}=this.scoreMember(re,q),ce=Oe==null?void 0:Oe[re.id];X<(ce!==void 0?ce:1/0)&&(Oe[re.id]=X,he[re.id]={score_details:w}),k.push({id:re.id,score:X}),X<se&&(se=X)}Ee.push(k),ge+=se}let H;isFinite(ge)?H=Object(c.a)(Object.values(Oe).filter(isFinite)):H=ge;const Z={item:ee,score:H,scoreDetailsByMember:he,subqueryScoresByMember:Ee};return H<=this.fuzzyLimit&&Q.push(Z),Q},[])}filterIms(F,V){let L=arguments.length>2&&arguments[2]!==void 0?arguments[2]:s.a;return V.reduce((Q,ee)=>{if(this.shouldFilterItem(ee,L))return Q;const te=Object(O.a)(ee);if(!te)return Q;const le=Object(y.g)(F,te);if(Object(f.Cb)(le))return Q;if(!this.query&&this.allowEmptyQuery)return Q.push({item:ee,score:0}),Q;const{score:Oe,scoreDetails:he}=this.scoreMember(le),Ee={item:ee,score:Oe,scoreDetails:he};return!this.avoidExactMatchForMembers&&this.preferExactMatch&&(Ee.isExactMatch=this.isMemberExactMatch(le),Ee.exactMatchDetails=this.getMemberExactMatchDetails(le)),Oe<=this.fuzzyLimit&&Q.push(Ee),Q},[])}filterViews(F,V){let L=arguments.length>2&&arguments[2]!==void 0?arguments[2]:s.a;return V.reduce((Q,ee)=>{if(this.shouldFilterItem(ee,L))return Q;if(!this.query&&this.allowEmptyQuery)return Q.push({item:ee,score:0}),Q;const te=this.matcher.normalizeAndScore(ee.name),le={item:ee,score:te};return this.preferExactMatch&&(le.isExactMatch=this.isViewOrModalExact(ee)),te<=this.fuzzyLimit&&Q.push(le),Q},[])}filterModals(F,V){let L=arguments.length>2&&arguments[2]!==void 0?arguments[2]:s.a;return V.reduce((Q,ee)=>{if(this.shouldFilterItem(ee,L))return Q;if(!this.query&&this.allowEmptyQuery)return Q.push({item:ee,score:0}),Q;const te=this.matcher.normalizeAndScore(ee.name),le={item:ee,score:te};return this.preferExactMatch&&(le.isExactMatch=this.isViewOrModalExact(ee)),te<=this.fuzzyLimit&&Q.push(le),Q},[])}filterAppActions(F,V){let L=arguments.length>2&&arguments[2]!==void 0?arguments[2]:s.a;return V.reduce((Q,ee)=>{if(Object(C.e)(ee)||this.shouldFilterItem(ee,L))return Q;if(!this.query&&this.allowEmptyQuery)return Q.push({item:ee,score:0}),Q;const te=Object(u.a)(ee),le=Object(W.a)(F,ee.app_id),Oe=!Object(C.e)(le)&&Object(l.r)(le),he=Oe?[`${te} ${Oe}`,`${Oe} ${te}`]:[te],Ee=he.map(H=>this.matcher.normalizeAndScore(H)),ge=Math.min(...Ee),J={item:ee,score:ge};return this.preferExactMatch&&(J.isExactMatch=this.query&&he.map(P.a).includes(this.query)),ge<=this.fuzzyLimit&&Q.push(J),Q},[])}filterApps(F,V,L,Q){let ee=arguments.length>4&&arguments[4]!==void 0?arguments[4]:s.a;const te={};return V!=null&&V.length&&V.forEach(le=>{const Oe=le.app_id;Oe&&!te[Oe]&&(te[Oe]={id:Oe,name:le.appName})}),L!=null&&L.length&&L.forEach(le=>{const Oe=le==null?void 0:le.appId;Oe&&!te[Oe]&&(te[Oe]={id:Oe,name:le==null?void 0:le.appName})}),Q!=null&&Q.length&&Q.forEach(le=>{const Oe=le.appId;Oe&&!te[Oe]&&(te[Oe]={id:Oe,name:le.appName})}),this.filterShortcuts(F,Object.values(te),!1,ee)}filterShortcuts(F,V){let L=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,Q=arguments.length>3&&arguments[3]!==void 0?arguments[3]:s.a;return V.reduce((ee,te)=>{if(Object(C.e)(te)||this.shouldFilterItem(te,Q))return ee;if(!this.query&&this.allowEmptyQuery)return ee.push({item:te,score:0}),ee;const le={item:te};if(L){le.firstWordOfRawQuery=Object(M.a)(this.query);const J=Object(x.a)(te,Object(M.b)(le.firstWordOfRawQuery),{allowPartialMatches:!1});le.commandMatch=J&&this.isOpenedWithSlash,le.isExactMatch=le.commandMatch}const{score:Oe,scoreDetails:he,bestNameMatch:Ee,bestNameIsExactMatch:ge}=this.scoreShortcut(te,L);return le.score=Oe,le.scoreDetails=he,le.bestNameMatch=Ee,le.bestNameIsExactMatch=ge,le.isExactMatch=le.isExactMatch||ge,(Oe<=this.fuzzyLimit||le.commandMatch)&&ee.push(le),ee},[])}scoreShortcut(F){let V=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,L=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this.matcher;const Q=this.isQueryExactlySlash?[]:F.aliases||[];let ee=Object(P.a)(Object(j.g)(F)),te={name:L.score(ee),label:L.normalizeAndScore(F.label),desc:L.normalizeAndScore(Object(j.f)(F)),app_name:L.normalizeAndScore(Object(j.d)(F))};V&&te.name>0&&(te.name-=1);let le,Oe,he;Q.forEach(ge=>{let J=Object(P.a)(ge);!this.query.startsWith("/")&&!this.query.startsWith("\uFF0F")&&(J=Object(U.a)(J));const H=L.score(J);J=Object(U.a)(J),!he&&(H<le||le===void 0)&&(le=H,Oe=J),this.normalizedQuery===J&&(he=!0,Oe=J)}),isFinite(le)&&(te.aliases=le);const Ee=Object(t.a)(Object.values(te));return ee=Object(U.a)(ee),!he&&isFinite(te.name)&&(te.name<le||le===void 0)&&(Oe=ee),this.normalizedQuery===ee&&(he=!0,Oe=ee),te=Object.entries(te).reduce((ge,J)=>{let[H,Z]=J;return isFinite(Z)&&(ge[H]=Z),ge},{}),{score:Ee,scoreDetails:te,bestNameMatch:Oe,bestNameIsExactMatch:he}}filterWorkflowTriggers(F,V){return V.reduce((L,Q)=>{if(!this.query&&this.allowEmptyQuery)return L.push({item:Q,score:0}),L;const ee=this.scoreWorkflowTrigger(Q),te={item:Q,score:ee};return this.preferExactMatch&&(te.isExactMatch=this.isTriggerExactMatch(Q)),ee<=this.fuzzyLimit&&L.push(te),L},[])}scoreWorkflowTrigger(F){let V=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.matcher;var L;const Q={name:V.normalizeAndScore(F.name),description:V.normalizeAndScore(F.description),appName:V.normalizeAndScore((L=F.workflow.app)===null||L===void 0?void 0:L.name)};return Object(t.a)(Object.values(Q))}filterBroadcastKeywords(F,V){let L=arguments.length>2&&arguments[2]!==void 0?arguments[2]:s.a;return V.reduce((Q,ee)=>{if(this.shouldFilterItem(ee,L))return Q;if(!this.query&&this.allowEmptyQuery)return Q.push({item:ee,score:0}),Q;const te=this.scoreBroadcastKeyword(ee),le={item:ee,score:te};return this.preferExactMatch&&(le.isExactMatch=this.isBroadcastKeywordExactMatch(ee)),te<=this.fuzzyLimit&&Q.push(le),Q},[])}scoreBroadcastKeyword(F){let V=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.matcher,L=1/0,Q=1/0;const ee=V.normalizeAndScore(F.name);return F.id==="BKchannel"&&(L=V.normalizeAndScore("group")),F.ms_name!==F.name&&(Q=V.normalizeAndScore(F.ms_name)),Math.min(ee,Q,L)}filterEmoji(F,V){let L=arguments.length>2&&arguments[2]!==void 0?arguments[2]:s.a;const Q=[];return V.forEach(ee=>{var te=this;if(this.shouldFilterItem(ee,L))return;if(!this.query&&this.allowEmptyQuery){Q.push({item:ee,emojiScore:0,emojiMatchIndices:[]});return}const le=_(ee);let Oe,he,Ee,ge,J,H,Z;le.forEach(function(){let{name:X,displayName:w}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(X){const ce=Object(P.a)(X),ie=te.scoreEmojiName(ce);(ie.score<Oe||Oe===void 0)&&(Oe=ie.score,he=ie.matchIndices,Ee=X,ge=X,H=ie.queryLengthRatio,Z=ie.totalComboBreaks,J=te.query===ce||X==="ok_hand"&&te.query==="ok")}if(w&&w!==X){const ce=Object(P.a)(w),ie=te.scoreEmojiName(ce);(ie.score<Oe||Oe===void 0)&&(Oe=ie.score,he=ie.matchIndices,Ee=w,ge=X,H=ie.queryLengthRatio,Z=ie.totalComboBreaks,J=te.query===ce)}});const q=this.options&&this.options.entities&&this.options.entities.emoji&&this.options.entities.emoji.matchKeywords,k=ee.keywords,se=!!(k&&k.length&&Array.isArray(k));k&&k.length&&!Array.isArray(k)&&Object(A.a)({state:F}).error("https://slack.zendesk.com/agent/tickets/2393782",`Emoji keywords for ${ee.name} is not an array - ${ee.keywords}`);let re=!1;if(Oe===1/0&&q&&se&&(re=ee.keywords.some(X=>this.matcher.normalizeAndScore(X)<1/0),re&&(Ee=ee&&(ee.displayName||ee.name))),Oe!==1/0||re){const X=Object(o.a)(le,ie=>{let{name:oe}=ie;return oe===ge}),w=X&&X.displayName,ce={item:ee,emojiScore:Oe,emojiBestNameMatch:Ee,emojiBestNameMatchCanonical:ge,emojiBestNameMatchLocalized:w,emojiMatchIndices:he,emojiQueryLengthRatio:H,emojiTotalComboBreaks:Z};this.preferExactMatch&&(ce.isExactMatch=J,ce.isEmojiExactMatch=J),Q.push(ce)}}),Q}scoreEmojiName(F){const V={score:1/0,matchIndices:[],queryLengthRatio:0,totalComboBreaks:null};if(!F)return V;if(F==="ok_hand"&&this.query==="ok")return{score:0,matchIndices:[0,1],queryLengthRatio:1,totalComboBreaks:0};if(S[this.query]&&S[this.query].indexOf(F)!==-1)return V;const L=this.query.length,Q=[];let ee=2,te=5;L<3?(ee=0,te=0):L===3?(ee=1,te=1):L===4&&(ee=1);let le=1/0,Oe=0,he=null,Ee=F.indexOf(this.query);if(Ee===-1&&(Ee=F.indexOf(this.query[0])),Ee!==-1){const ge=/\s+/g,J=/[-]+/g,H=this.query.replace(ge,"").replace(J,"_"),Z=F.replace(J,"_"),q=H.split("");he=0;let k=0,se=0,re=!0;for(let X=Ee;X<Z.length;X++){if(Z[X]===q[0]){if(re=!0,Q.push(X),q.shift(),se>k&&(k=se),se=0,q.length===0)break}else re&&(he+=1),re=!1,se+=1;if(he>ee)return{score:le,matchIndices:Q,queryLengthRatio:Oe,totalComboBreaks:he};if(se>te)return{score:le,matchIndices:Q,queryLengthRatio:Oe,totalComboBreaks:he}}if(q.length>0)return V;Oe=H.length/Z.length,le=1-Oe,he>0&&(le+=he)}return{score:le,matchIndices:Q,queryLengthRatio:Oe,totalComboBreaks:he}}filterFiles(F,V){let L=arguments.length>2&&arguments[2]!==void 0?arguments[2]:s.a;return V.reduce((Q,ee)=>{if(Object(C.e)(ee)||ee&&Object(B.a)(ee)||this.shouldFilterItem(ee,L))return Q;if(!this.query&&this.allowEmptyQuery)return Q.push({item:ee,score:0}),Q;const te=this.scoreFile(ee),le={item:ee,score:te};return this.preferExactMatch&&(le.isExactMatch=this.isFileExactMatch(ee)),te<=this.fuzzyLimit&&Q.push(le),Q},[])}scoreFile(F){let V=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.matcher;const L=V.normalizeAndScore(F.name),Q=F.name!==F.title?V.normalizeAndScore(F.title):1/0,ee=F.external_url?V.normalizeAndScore(F.external_url):1/0;return Math.min(L,Q,ee)}filterLinks(F,V){let L=arguments.length>2&&arguments[2]!==void 0?arguments[2]:s.a;return V.reduce((Q,ee)=>{if(Object(C.e)(ee)||this.shouldFilterItem(ee,L))return Q;if(!this.query&&this.allowEmptyQuery)return Q.push({item:ee,score:0}),Q;const te=this.scoreLink(ee),le={item:ee,score:te};return this.preferExactMatch&&(le.isExactMatch=this.isLinkExactMatch(ee)),te<=this.fuzzyLimit&&Q.push(le),Q},[])}scoreLink(F){let V=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.matcher;const L=Object(g.f)(F),Q=Object(g.e)(F),ee=Object(g.d)(F),te=L?V.normalizeAndScore(L):1/0,le=Q?V.normalizeAndScore(Q):1/0,Oe=ee?V.normalizeAndScore(ee):1/0;return Math.min(te,le,Oe)}filterLists(F,V){let L=arguments.length>2&&arguments[2]!==void 0?arguments[2]:s.a;return V.reduce((Q,ee)=>{if(this.shouldFilterItem(ee,L))return Q;if(!this.query&&this.allowEmptyQuery)return Q.push({item:ee,score:0}),Q;const te=this.scoreList(ee),le={item:ee,score:te};return this.preferExactMatch&&(le.isExactMatch=this.isListExactMatch(ee)),te<=this.fuzzyLimit&&Q.push(le),Q},[])}scoreList(F){return(arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.matcher).normalizeAndScore(F.title)}filterListRecords(F,V){let L=arguments.length>2&&arguments[2]!==void 0?arguments[2]:s.a;return V.reduce((Q,ee)=>{if(this.shouldFilterItem(ee,L)||!ee.name||!ee.listTitle)return Q;if(!this.query&&this.allowEmptyQuery)return Q.push({item:ee,score:0}),Q;const te=this.scoreListRecord(ee),le={item:ee,score:te};return this.preferExactMatch&&(le.isExactMatch=this.isListRecordExactMatch(ee)),te<=this.fuzzyLimit&&Q.push(le),Q},[])}scoreListRecord(F){return(arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.matcher).normalizeAndScore(F.name)}filterChannelSections(F,V){let L=arguments.length>2&&arguments[2]!==void 0?arguments[2]:s.a;return V.reduce((Q,ee)=>{if(this.shouldFilterItem(ee,L))return Q;const te=Object(I.b)(ee,F),le={item:ee,channelSectionScore:0,name:te};return!this.query&&this.allowEmptyQuery?(Q.push({...le,channelSectionScore:0}),Q):(this.matcher.normalizeAndScore(te)<=this.fuzzyLimit&&Q.push(le),Q)},[])}shouldFilterItem(F,V){return V(F)===!1||this.filter(F)===!1}getMemberExactMatchDetails(F){const V={},L=Object(f.D)(F),Q=Object(f.w)(F);return V.real_name=L===this.query,V.display_name=Q===this.query,this.shouldMatchEmail&&(V.email=Object(f.i)(F)===this.query),V}isMemberExactMatch(F){return!this.query||!this.query.length?!1:Object(a.a)(this.getMemberExactMatchDetails(F),Boolean)}isChannelExactMatchPreNormalized(F){return!this.query||!this.query.length?!1:F===this.query}isFileExactMatch(F){return!this.query||!this.query.length?!1:Object(P.a)(F.name)===this.query||Object(P.a)(F.title)===this.query||Object(P.a)(F.external_url)===this.query}isLinkExactMatch(F){if(!this.query||!this.query.length)return!1;const V=Object(g.f)(F),L=Object(g.e)(F);return Object(P.a)(V)===this.query||Object(P.a)(L)===this.query}isListExactMatch(F){return!this.query||!this.query.length?!1:Object(P.a)(F.title)===this.query}isListRecordExactMatch(F){return!this.query||!this.query.length?!1:Object(P.a)(F.name)===this.query}isTeamExactMatch(F){return!this.query||!this.query.length?!1:Object(P.a)(Object(b.g)(F))===this.query}isUsergroupExactMatch(F){return!this.query||!this.query.length?!1:Object(P.a)(Object(E.h)(F))===this.query||Object(P.a)(Object(E.j)(F))===this.query}isTriggerExactMatch(F){return!this.query||!this.query.length?!1:Object(P.a)(F.name)===this.query}isBroadcastKeywordExactMatch(F){return!this.query||!this.query.length?!1:Object(P.a)(F.name)===this.query||Object(P.a)(F.ms_name)===this.query}isViewOrModalExact(F){return!this.query||!this.query.length?!1:Object(P.a)(F.name)===this.query}filterHelpArticles(F,V){var L=this;const ee=V.reduce(function(){let te=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],le=arguments.length>1?arguments[1]:void 0;const Oe=Object(P.a)(le.title),he=L.substringMatcher.normalizeAndScore(le.title);return he>L.fuzzyLimit?te:te.concat({item:{...le,id:String(le.id)},score:he,isExactMatch:Oe===L.query})},[]).sort((te,le)=>te.score-le.score);return ee.slice(0,Math.min(5,ee.length))}constructor({query:F="",options:V={}}){var L,Q,ee,te,le,Oe,he,Ee,ge,J,H;this.options=V,this.query=Object(P.a)(F);var Z;this.fuzzyLimit=(Z=this.options.fuzzyLimit)!==null&&Z!==void 0?Z:3,this.allowEmptyQuery=this.options.allowEmptyQuery,this.preferExactMatch=this.options.sort&&this.options.sort.preferExactMatch,this.avoidExactMatchForMembers=!!(!((L=this.options)===null||L===void 0||(Q=L.sort)===null||Q===void 0)&&Q.avoidExactMatchForMembers),this.filter=this.options.filter||s.a,this.shouldMatchEmail=Object(i.a)(this.options,"entities.members.matchEmailField")||Object(i.a)(this.options,"entities.channels.matchEmailField"),this.queryIsMaybeSelf=Object(T.a)(F),this.normalizedQuery=this.query,!((ee=this.options)===null||ee===void 0||(te=ee.entities)===null||te===void 0||(le=te.shortcuts)===null||le===void 0)&&le.queryStartsWithSlash&&(this.query=Object(M.b)(this.query)),this.matcher=new R.b(this.query,{fuzzyLimit:this.fuzzyLimit,fuzzyJumpLimit:this.options.fuzzyJumpLimit,fuzzyCJK:this.options.fuzzyCJK}),this.forwardOnlyMatcher=new R.b(this.query,{fuzzyLimit:this.fuzzyLimit,fuzzyJumpLimit:this.options.fuzzyJumpLimit,fuzzyCJK:this.options.fuzzyCJK,searchForwardOnly:this.options.fuzzyEmailSearchForwardOnly}),this.substringMatcher=new R.b(this.query,{fuzzyLimit:this.fuzzyLimit,fuzzyJumpLimit:this.options.fuzzyJumpLimit,fuzzyCJK:this.options.fuzzyCJK,substringsOnly:!0}),this.isOpenedWithSlash=(Oe=this.options)===null||Oe===void 0||(he=Oe.entities)===null||he===void 0||(Ee=he.shortcuts)===null||Ee===void 0?void 0:Ee.isOpenedWithSlash,this.isQueryExactlySlash=(ge=this.options)===null||ge===void 0||(J=ge.entities)===null||J===void 0||(H=J.shortcuts)===null||H===void 0?void 0:H.isQueryExactlySlash}},"SearcherMatcher")},P8PK:function(K,n,e){"use strict";var s=e("gPPH"),t=e("Nyfl");const a=v(()=>Object(t.a)(()=>Object(s.a)()),"useUniqueId");n.a=a},PFo8:function(K,n,e){"use strict";e.d(n,"a",function(){return p});var s=e("q1tI"),t=e.n(s),a=e("iuhU"),r=e("YUBf"),c=e("QP4N"),o=e("9gkt"),i=e("dNN9"),l=e("AFY6"),u=e("ZE32"),f=e("j/0O"),d=e("vDCl"),m=v(b=>{let{subtitle:I,bodyContent:C,footerContent:y,title:P,titleImage:T,titleVideo:S,titleVideoClassName:A,titleIcon:R,showTitleIconAnimation:x,headerClassName:M,footerActionsClassName:j,theme:W}=b;return t.a.createElement(t.a.Fragment,null,t.a.createElement(o.a,{headerClassName:Object(a.default)(M,{"p-upgrades_modal__header--with_animation":x}),title:P},T,S&&t.a.createElement("div",{className:Object(a.default)(A)},S),R&&t.a.createElement("div",{className:"p-upgrades_modal__icon"},t.a.createElement(f.a,{hasBorder:!0,size:d.a.LARGE,type:R,showAnimation:!!x,theme:W}))),I&&t.a.createElement(l.a,{subtitle:I}),C&&t.a.createElement(r.d,null,t.a.createElement(i.a,null,C)),t.a.createElement(u.a,{className:j},y))},"ModalContent"),g=e("QW4n");function E(){return E=Object.assign||function(b){for(var I=1;I<arguments.length;I++){var C=arguments[I];for(var y in C)Object.prototype.hasOwnProperty.call(C,y)&&(b[y]=C[y])}return b},E.apply(this,arguments)}v(E,"_extends");var p;(function(b){b.MULTI_PANE="multi_pane",b.SINGLE_PANE="single_pane",b.BANNER="banner"})(p||(p={}));const h=v(b=>{const{className:I,maxWidth:C,onRequestClose:y,type:P,"data-qa":T,UNSAFE_parentSelector:S}=b,R={className:Object(a.default)("p-upgrades_modal__container",I),closeModal:y,shouldCloseOnOverlayClick:!1,centered:!0,maxWidth:C,dataQa:T,UNSAFE_parentSelector:S};return P===p.MULTI_PANE?t.a.createElement(c.b,E({},b,R)):P===p.BANNER?t.a.createElement(g.b,E({},b,R)):t.a.createElement(r.a,E({},R),t.a.createElement(m,E({},b)))},"Modal");h.displayName="Modal";var _=n.b=h},PJXs:function(K,n,e){"use strict";e.d(n,"b",function(){return a}),e.d(n,"a",function(){return r});var s=e("ZKjC"),t=e("2VFn");const a=Object(s.b)((c,o)=>{let{entityId:i,windowId:l=t.c}=o;var u,f,d;const O=l===t.c?"main":l;return c==null||(u=c.summaryDetail)===null||u===void 0||(f=u[O])===null||f===void 0||(d=f[i])===null||d===void 0?void 0:d.item});a.meta={name:"createSelector",key:"createSelectorgetSummaryDetailById",description:(c,o)=>{let{entityId:i,windowId:l=t.c}=o;var u,f,d;const O=l===t.c?"main":l;return c==null||(u=c.summaryDetail)===null||u===void 0||(f=u[O])===null||f===void 0||(d=f[i])===null||d===void 0?void 0:d.item}};const r=Object(s.b)((c,o)=>{let{entityId:i,windowId:l=t.c}=o;var u,f,d;const O=l===t.c?"main":l;return c==null||(u=c.summaryDetail)===null||u===void 0||(f=u[O])===null||f===void 0||(d=f[i])===null||d===void 0?void 0:d.timestamp});r.meta={name:"createSelector",key:"createSelectorgetDetailItemExpirationTimestamp",description:(c,o)=>{let{entityId:i,windowId:l=t.c}=o;var u,f,d;const O=l===t.c?"main":l;return c==null||(u=c.summaryDetail)===null||u===void 0||(f=u[O])===null||f===void 0||(d=f[i])===null||d===void 0?void 0:d.timestamp}}},PN0B:function(K,n,e){K.exports=e.p+"slackbot_sad_surprise_360-aff835a.png"},PPXB:function(K,n,e){"use strict";e.d(n,"a",function(){return i});var s=e("MeLy"),t=e("q1tI"),a=e.n(t);function r(){return r=Object.assign||function(u){for(var f=1;f<arguments.length;f++){var d=arguments[f];for(var O in d)Object.prototype.hasOwnProperty.call(d,O)&&(u[O]=d[O])}return u},r.apply(this,arguments)}v(r,"_extends");const c=v(()=>null,"renderError");var i=v(u=>a.a.createElement(s.a,r({renderError:c},u)),"QuietErrorBoundary"),l=n.b=s.a},PPXH:function(K,n,e){"use strict";e.d(n,"a",function(){return Fd});var s=e("ANjH"),t=e("sINF"),a=e("lhZz"),r=e("Bw5p"),c=e("vfQU"),o=e("7xYR"),i=e("S36j"),l=e("mXhK"),u=e("beVI");const f=["domain","enterprise_id","enterprise_name","id","icon","name","url","variant"],d=Object(l.b)("Broadcast workspaces state to other stores",(ve,D,N)=>{const $=ve.getState(),fe=D(N),Se=ve.getState(),We=Object(o.getBootedWorkspaces)(Se),ye=$&&Object(o.getBootedWorkspaces)($),$e=Object(o.getAllWorkspaces)(Se),It=Object(o.getAllWorkspaces)($),Jt=Object(o.getWorkspacesMeta)(Se),Tn=!It||$e.some((zt,On)=>zt!==It[On]),Mt=Object(o.getRecentlyFocusedWorkspaces)(Se),Kt=$&&Object(o.getRecentlyFocusedWorkspaces)($);return ye!==We||Tn?(m(We,$e,Jt),O(We,Mt)):Kt!==Mt&&O(We,Mt),fe});d.meta={name:"createMiddleware",key:"createMiddlewarebroadcastWorkspacesMiddleware",description:"Broadcast workspaces state to other stores"};function O(ve,D){const N=D[0];N&&(ve==null||ve.forEach($=>{Object(a.dispatchForTeamId)($,Object(i.j)(D)),Object(a.dispatchForTeamId)($,Object(i.k)(D))}),Object(c.Xb)(N))}v(O,"broadcastFocusedWorkspaces");function m(ve,D){let N=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const $=ve==null?void 0:ve.reduce((fe,Se)=>{const We=Object(a.getStateByTeamId)(Se),$e={...Object(u.t)(We,Se,!1),...N[Se]};return fe[Se]={...Object(r.a)($e,f),order:D.indexOf(Se)},fe},{});Object(c.Ec)($)}v(m,"broadcastDesktopWorkspaces");var g=d,E=e("I3Q6"),p=e("I27i"),h=e("ifKl"),_=e("9Gfp");function b(){let{state:ve,prevState:D,workspaces:N=[],broadcastSelector:$=h.a,broadcastAction:fe=h.a,featureFlag:Se}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const We=$(ve),ye=$(D);We!==ye&&N.forEach($e=>{const It=Object(a.getStateByTeamId)($e);Se&&!Object(_.i)(It,Se)||Object(a.dispatchForTeamId)($e,fe(We))})}v(b,"maybeBroadcastStateToWorkspaces");var I=b;const C=Object(l.b)("Broadcast connectivity state to other stores",(ve,D,N)=>{const $=ve.getState(),fe=D(N),Se=ve.getState(),We=Object(o.getBootedWorkspaces)(Se);return I({state:Se,prevState:$,workspaces:We,broadcastSelector:ye=>Object(p.c)(ye),broadcastAction:ye=>Object(E.a)(ye)}),I({state:Se,prevState:$,workspaces:We,broadcastSelector:ye=>Object(p.e)(ye),broadcastAction:ye=>Object(E.b)(ye)}),fe});C.meta={name:"createMiddleware",key:"createMiddlewarebroadcastConnectivityMiddleware",description:"Broadcast connectivity state to other stores"};var y=C,P=e("n3tL"),T=e("OtLZ"),S=e("0VPD"),A=e("wBxZ"),R=e("Kyco"),x=e("j77i"),M=e("s4P+"),j=e("LqbL");const W={bootedWorkspaces:[],failedToBootWorkspaces:[],needs2FASetup:[],migratingWorkspaces:[],completedMigrationWorkspaces:[],accessLimitedWorkspaces:[],recentlyFocusedWorkspaces:[],navigateToUnbootedWorkspace:{}},U="WORKSPACES",B=16,Y=Object(R.b)({},W,{storeKey:"workspaces",persistenceEnabled:!0}).on(j.initialize,(ve,D)=>F(ve,D)).on(j.setDidBootAllWorkspaces,ve=>({...ve,didBootAllWorkspaces:!0})).on(j.setWorkspaceOrder,(ve,D)=>V(ve,D)).on(j.setWorkspaceBooted,(ve,D)=>L(ve,D)).on(j.setWorkspaceFailedToBoot,(ve,D)=>Q(ve,D)).on(j.setWorkspaceNeeds2FASetup,(ve,D)=>ee(ve,D)).on(j.setNavigateToUnbootedWorkspace,(ve,D)=>({...ve,navigateToUnbootedWorkspace:D})).on(j.setWorkspaceIsMigrating,(ve,D)=>te(ve,D)).on(j.setWorkspaceMigrationIsComplete,(ve,D)=>le(ve,D)).on(j.setWorkspaceIsAccessLimited,(ve,D)=>Oe(ve,D)).on(j.addWorkspace,function(ve){let{id:D,meta:N}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!D||!N)throw new Error("'id' and 'meta' are both required when adding a workspace");if(ve.allWorkspaces.includes(D))return Object(M.b)({label:U}).warn(`Cannot add workspace; it is already present: ${D}`),ve;const{allWorkspaces:$,workspacesMeta:fe}=ve;return{...ve,allWorkspaces:[...$,D],workspacesMeta:{...fe,[D]:N}}}).on(j.updateWorkspaceMeta,function(ve){let{id:D,meta:N}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{workspacesMeta:$}=ve;if(!$[D])throw new Error(`Cannot update workspace meta for ${D}; no such team`);return{...ve,workspacesMeta:{...$,[D]:N}}}).on(j.internalSetFocusedWorkspaceType,(ve,D)=>({...ve,focusedWorkspace:D,recentlyFocusedWorkspaces:he(ve.recentlyFocusedWorkspaces,D)})).on(j.internalRemoveWorkspaceType,(ve,D)=>({...ve,allWorkspaces:Object(T.a)(ve.allWorkspaces,D)}));Y.propTypes={allWorkspaces:P.default.arrayOf(P.default.string),bootedWorkspaces:P.default.arrayOf(P.default.string),failedToBootWorkspaces:P.default.arrayOf(P.default.string),recentlyFocusedWorkspaces:P.default.arrayOf(P.default.string),focusedWorkspace:P.default.string,workspacesMeta:P.default.object};var z=Y;function F(ve){let{focusedWorkspace:D,allWorkspaces:N,workspacesMeta:$}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(ve.allWorkspaces)throw new Error("workspaces-store:initialize cannot be called more than once");if(!D)throw new Error("workspaces-store:initialize must be given a focusedWorkspace");if(!N)throw new Error("workspaces-store:initialize must be given an array of workspaces");if(N.indexOf(D)<0)throw new Error(`workspaces-store:initialize ${D} is not one of the valid workspaces: ${N}`);return{...ve,focusedWorkspace:D,allWorkspaces:N,workspacesMeta:$,recentlyFocusedWorkspaces:[D]}}v(F,"initializeWorkspacesState");function V(ve,D){const N=ve.allWorkspaces;if(Object(S.a)(N,D).length!==N.length)throw new Error("workspaces-store:setWorkspaceOrder can only re-order items in the array; additions or removals are not allowed");return Object(x.v)("orderedTeamIds",D),{...ve,allWorkspaces:D}}v(V,"updateWorkspaceOrder");function L(ve,D){const N=ve.bootedWorkspaces.includes(D)?ve.bootedWorkspaces:[...ve.bootedWorkspaces,D];return{...ve,bootedWorkspaces:N}}v(L,"updateWorkspaceBooted");function Q(ve,D){if(!D)return ve;const N=ve.failedToBootWorkspaces.includes(D)?ve.failedToBootWorkspaces:[...ve.failedToBootWorkspaces,D];return{...ve,failedToBootWorkspaces:N}}v(Q,"updateWorkspaceFailedToBoot");function ee(ve,D){if(!D)return ve;const N=ve.needs2FASetup.includes(D)?ve.needs2FASetup:[...ve.needs2FASetup,D];return{...ve,needs2FASetup:N}}v(ee,"updateWorkspaceNeeds2FASetup");function te(ve,D){if(!D)return ve;const N=ve.migratingWorkspaces.includes(D)?ve.migratingWorkspaces:[...ve.migratingWorkspaces,D];return{...ve,migratingWorkspaces:N}}v(te,"updateWorkspaceIsMigrating");function le(ve,D){if(!D)return ve;const N=ve.completedMigrationWorkspaces.includes(D)?ve.completedMigrationWorkspaces:[...ve.completedMigrationWorkspaces,D];return{...ve,completedMigrationWorkspaces:N}}v(le,"updateWorkspaceMigrationIsComplete");function Oe(ve,D){if(!D)return ve;const N=ve.accessLimitedWorkspaces.includes(D)?ve.accessLimitedWorkspaces:[...ve.accessLimitedWorkspaces,D];return{...ve,accessLimitedWorkspaces:N}}v(Oe,"updateWorkspaceIsAccessLimited");function he(ve,D){const N=[D,...ve.filter($=>$!==D)];return N.length>B?Object(A.a)(N,B):N}v(he,"updateRecentlyFocusedWorkspaces");var Ee=e("OB5f"),ge=e("dedX"),J=e("EbWb"),H=e("qiJD"),Z=e("tstp");const q={shouldLogAppBootMetrics:!0,shouldLogTeamSwitchMetrics:!1,shouldLogTTVMetrics:!0,shouldLogTTUMetrics:!0},k=Object(R.b)({},q,{storeKey:"telemetry",persistenceEnabled:!0}).on(Z.a,(ve,D)=>({...ve,shouldLogAppBootMetrics:D})).on(Z.d,(ve,D)=>({...ve,shouldLogTeamSwitchMetrics:D})).on(Z.c,(ve,D)=>({...ve,shouldLogTTVMetrics:D})).on(Z.b,(ve,D)=>({...ve,shouldLogTTUMetrics:D}));k.propTypes={shouldLogAppBootMetrics:P.default.bool,shouldLogTeamSwitchMetrics:P.default.bool,shouldLogTTVMetrics:P.default.bool,shouldLogTTUMetrics:P.default.bool};var se=k,re=e("FFTZ"),X=e("fpvb"),w=e("4GGS"),ce=e("KknS"),ie=e("lkvs"),oe=e("mSUo"),me=e("WUSA"),ue=e("2um6");const _e=Object(l.b)("Broadcast accessibility state to other stores",(ve,D,N)=>{const $=ve.getState(),fe=D(N),Se=ve.getState(),We=Object(o.getBootedWorkspaces)(Se);return I({state:Se,prevState:$,workspaces:We,broadcastSelector:ye=>Object(ue.i)(ye),broadcastAction:ye=>Object(me.i)(ye)}),I({state:Se,prevState:$,workspaces:We,broadcastSelector:ye=>Object(ue.l)(ye),broadcastAction:ye=>Object(me.j)(ye)}),I({state:Se,prevState:$,workspaces:We,broadcastSelector:ye=>Object(ue.j)(ye),broadcastAction:ye=>Object(me.k)(ye)}),I({state:Se,prevState:$,workspaces:We,broadcastSelector:ye=>Object(ue.b)(ye),broadcastAction:ye=>Object(me.b)(ye)}),I({state:Se,prevState:$,workspaces:We,broadcastSelector:ye=>Object(ue.g)(ye),broadcastAction:ye=>Object(me.g)(ye)}),I({state:Se,prevState:$,workspaces:We,broadcastSelector:ye=>Object(ue.f)(ye),broadcastAction:ye=>Object(me.f)(ye)}),I({state:Se,prevState:$,workspaces:We,broadcastSelector:ye=>Object(ue.h)(ye),broadcastAction:ye=>Object(me.h)(ye)}),I({state:Se,prevState:$,workspaces:We,broadcastSelector:ye=>Object(ue.d)(ye),broadcastAction:ye=>Object(me.d)(ye)}),I({state:Se,prevState:$,workspaces:We,broadcastSelector:ye=>Object(ue.e)(ye),broadcastAction:ye=>Object(me.e)(ye)}),I({state:Se,prevState:$,workspaces:We,broadcastSelector:ye=>Object(ue.c)(ye),broadcastAction:ye=>Object(me.c)(ye)}),fe});_e.meta={name:"createMiddleware",key:"createMiddlewarebroadcastAccessibilityMiddleware",description:"Broadcast accessibility state to other stores"};var be=_e,Ae=e("COQp"),Ce=e("WVqY");const De=Object(l.b)("Broadcast accessibility persistent state to other stores",(ve,D,N)=>{const $=ve.getState(),fe=D(N),Se=ve.getState(),We=Object(o.getBootedWorkspaces)(Se);return I({state:Se,prevState:$,workspaces:We,broadcastSelector:ye=>Object(Ce.a)(ye),broadcastAction:ye=>Object(Ae.a)(ye)}),fe});De.meta={name:"createMiddleware",key:"createMiddlewarebroadcastAccessibilityPersistentMiddleware",description:"Broadcast accessibility persistent state to other stores"};var Pe=De,Ue=e("VHTg"),ae=e("v5z3");const ne=100,Ie="client-ia-history",Te=[...Object.values(ae.l)||[]];var Me=e("aVEU");const Ne=v(()=>{try{const ve=localStorage.getItem(Ie);return ve?JSON.parse(ve):[]}catch(ve){return Object(M.b)().error("Failed to read IA history from storage",ve),[]}},"readStackFromStorage"),He=v(ve=>{try{localStorage.setItem(Ie,JSON.stringify(ve))}catch(D){Object(M.b)().error("Failed to write IA history to storage",D)}},"writeStackToStorage");var Je=Object(R.b)({},{stack:Ne()},{storeKey:"iaHistory",persistenceEnabled:!1}).on(Me.b,(ve,D)=>{if(!D||Te.includes(D==null?void 0:D.primaryView))return ve;const N=D.experimentClsMoreHistoryGroupTreatment?1e3:ne,$=[D].concat(ve.stack).slice(0,N);return window.setTimeout(()=>He($),0),{stack:$}}).on(Me.d,(ve,D)=>{const N=ve.stack.indexOf(D);if(N===-1)return ve;const $=ve.stack.slice();return $.splice(N,1),window.setTimeout(()=>He($),0),{stack:$}}).on(Me.c,ve=>{if(!ve.stack)return ve;const D=ve.stack.slice(0,1);return window.setTimeout(()=>He(D),0),{stack:D}}).on(Me.a,()=>{const ve=[];return He(ve),{stack:ve}}),qe=e("yVcz"),ke=e("AFNo"),rt=e("2VFn"),pe=e("vSKv"),je=e("Z7Ay");const xe={[rt.c]:{index:0,previousIndex:null,stack:[]}},ze={persistenceEnabled:!1,storeKey:"mainWindowHistory"};var ct=Object(ke.b)({},xe,ze).on(qe.b,(ve,D)=>{let{windowId:N,entry:$}=D;return{...ve,[N]:Object(pe.c)({windowState:ve[N],entry:$})}}).on(qe.c,()=>xe).on(qe.e,(ve,D)=>{let{windowId:N,index:$,previousIndex:fe}=D;return{...ve,[N]:Object(pe.e)({windowState:ve[N],index:$,previousIndex:fe})}}).on(qe.a,(ve,D)=>{let{windowId:N,index:$}=D;return{...ve,[N]:Object(pe.b)({windowState:ve[N],index:$})}}).on(qe.d,(ve,D)=>{let{windowId:N,entry:$}=D;return{...ve,[N]:Object(pe.d)({windowState:ve[N],entry:$})}});Object(je.a)("mainWindowHistory",{getState:()=>Object(a.getStateForClientStore)().mainWindowHistory[rt.c]});var dt=e("bNCI"),bt=e("Fk5v");const Ft=!0,Bt=Object(R.b)({},Ft,{storeKey:"isClient",persistenceEnabled:!1});Bt.meta={name:"createReducer",key:"createReducerisClientReducer"},Bt.propTypes=P.default.bool;var at=Bt,Ht=e("Kacs"),Wt=e("m8R6"),yt=e("dKQz"),Xt=e("1Zcw"),cn=e("Pw4T"),mn=e("RBHu");const In={isHuddlesEnabled:!1,channelToJoinCredentials:{},showDiscoveryBanner:!1,screenshareActivePanel:0,songPlaying:void 0,jukeboxLocalVolume:1,canRenderActiveInviteCardInSidebar:!0,isHuddleWindowFocused:!1,isHuddleWindowOpen:!1,isHuddleMiniPlayerHidden:!1,isAudioOnlyModeEnabled:!1,wasCameraEnabledWhenAudioOnlyModeWasActivated:!1};var Tt=Object(R.b)({},In,{storeKey:"clientHuddles",persistenceEnabled:!1}).on(yt.B,(ve,D)=>ve.isHuddlesEnabled?ve:{...ve,isHuddlesEnabled:D}).on(yt.a,(ve,D)=>({...ve,mostRecentHuddle:D})).on(yt.Y,(ve,D)=>{const{mostRecentHuddle:N}=ve;if(!N||D.teamId&&D.teamId!==N.teamId||D.channelId&&D.channelId!==N.channelId)return ve;const $={...ve,mostRecentHuddle:{...N,...D,metrics:{...N.metrics,...D.metrics}}},fe=$.mostRecentHuddle;return fe&&Object(M.b)().info(Xt.c,`updateActiveHuddleReference huddleState ${fe.huddleState}, substate ${fe.huddleSubState}, optimisticState ${fe.optimisticHuddleState}`),$}).on(yt.ab,(ve,D)=>({...ve,activeInvite:D})).on(yt.c,(ve,D)=>{var N;return((N=ve.activeInvite)===null||N===void 0?void 0:N.channelId)!==D?ve:Object(Wt.a)(ve,["activeInvite"])}).on(yt.b,ve=>Object(Wt.a)(ve,["activeInvite"])).on(yt.i,(ve,D)=>ve.forceMiniPanelVisible===D?ve:{...ve,forceMiniPanelVisible:D}).on(yt.bb,(ve,D)=>{let{channelId:N,joinCredentials:$,expiry:fe,fromInvite:Se}=D;var We;if(!N||!$)return ve;const ye=ve.channelToJoinCredentials;ye[N]={credentials:$,expiry:fe,fromInvite:Se};const $e=(We=ve.activeInvite)===null||We===void 0?void 0:We.teamId;return $e&&Object(cn.d)({state:Object(a.getStateByTeamId)($e)}).count(mn.j),{...ve,channelToJoinCredentials:ye}}).on(yt.d,(ve,D)=>{let{channelId:N}=D;if(!N)return ve;if(ve.channelToJoinCredentials[N]){var $;const fe=($=ve.activeInvite)===null||$===void 0?void 0:$.teamId;fe&&Object(cn.d)({state:Object(a.getStateByTeamId)(fe)}).count(mn.i)}return{...ve,channelToJoinCredentials:Object(Wt.a)(ve.channelToJoinCredentials,[N])}}).on(yt.Z,(ve,D)=>ve.showDiscoveryBanner===D?ve:{...ve,showDiscoveryBanner:D}).on(yt.C,(ve,D)=>ve.isLoungeMusicPlaying===D?ve:{...ve,isLoungeMusicPlaying:!!D}).on(yt.F,(ve,D)=>ve.lastStartTs===D?ve:{...ve,lastStartTs:D}).on(yt.E,(ve,D)=>ve.lastEndTs===D?ve:{...ve,lastEndTs:D}).on(yt.D,(ve,D)=>ve.lastDurationTs===D?ve:{...ve,lastDurationTs:D}).on(yt.I,(ve,D)=>ve.screenshareActivePanel===D?ve:{...ve,screenshareActivePanel:D}).on(yt.o,ve=>({...ve,screenshareActivePanel:0,songPlaying:void 0,isHuddleWindowFocused:!1,isHuddleWindowOpen:!1,isHuddleMiniPlayerHidden:!1,isAudioOnlyModeEnabled:!1,wasCameraEnabledWhenAudioOnlyModeWasActivated:!1})).on(yt.J,(ve,D)=>{let{song:N}=D;return ve.songPlaying===(N==null?void 0:N.key)?ve:{...ve,songPlaying:N==null?void 0:N.key}}).on(yt.v,(ve,D)=>ve.canRenderActiveInviteCardInSidebar===D?ve:{...ve,canRenderActiveInviteCardInSidebar:D}).on(yt.z,(ve,D)=>ve.isHuddleWindowFocused===D?ve:{...ve,isHuddleWindowFocused:D}).on(yt.A,(ve,D)=>ve.isHuddleWindowOpen===D?ve:{...ve,isHuddleWindowOpen:D}).on(yt.x,(ve,D)=>ve.isAudioOnlyModeEnabled===D?ve:{...ve,isAudioOnlyModeEnabled:D}).on(yt.u,(ve,D)=>ve.wasCameraEnabledWhenAudioOnlyModeWasActivated===D?ve:{...ve,wasCameraEnabledWhenAudioOnlyModeWasActivated:D}).on(yt.y,(ve,D)=>ve.isHuddleMiniPlayerHidden===D?ve:{...ve,isHuddleMiniPlayerHidden:!!D}),Lt=e("S249");const gt={navigateListenersRunOnClientMount:0};var ft=Object(R.b)({},gt,{storeKey:"navigate",persistenceEnabled:!1}).on(Lt.a,ve=>({...ve,navigateListenersRunOnClientMount:ve.navigateListenersRunOnClientMount+1})),Ke=e("DwFS");const Ve=Object(Ke.a)("sets the client side effect map on the store");Ve.meta={name:"createAction",key:"createActionsetClientSideEffectsMap",description:"sets the client side effect map on the store"};const Be={clientSideEffectsMap:{}};var we=Object(R.b)({},Be,{storeKey:"clientSideEffects",persistenceEnabled:!1}).on(Ve,(ve,D)=>({...ve,clientSideEffectsMap:D})),mt=e("WvYH"),Pt=e("zm5I");const Nt=Object(l.b)("Broadcast client theme state to other stores",(ve,D,N)=>{const $=ve.getState(),fe=D(N),Se=ve.getState(),We=Object(o.getBootedWorkspaces)(Se);return I({state:Se,prevState:$,workspaces:We,broadcastSelector:ye=>Object(Pt.a)(ye),broadcastAction:ye=>Object(mt.a)(ye)}),I({state:Se,prevState:$,workspaces:We,broadcastSelector:ye=>Object(Pt.b)(ye),broadcastAction:ye=>Object(mt.b)(ye)}),I({state:Se,prevState:$,workspaces:We,broadcastSelector:ye=>Object(Pt.c)(ye),broadcastAction:ye=>Object(mt.c)(ye)}),fe});Nt.meta={name:"createMiddleware",key:"createMiddlewarebroadcastClientThemeMiddleware",description:"Broadcast client theme state to other stores"};var Ze=Nt,Xe=e("ED1u"),Ct=e("y8m0"),G=e("X8Vd"),de=e("Xfjg"),Le=e("CJqd"),Re=e("m2C9");const Fe=Object(l.b)("Broadcast client theme state to other stores",(ve,D,N)=>{const $=ve.getState(),fe=D(N),Se=ve.getState(),We=Object(o.getBootedWorkspaces)(Se);return I({state:Se,prevState:$,workspaces:We,broadcastSelector:ye=>{var $e,It;return`${ye==null||($e=ye.workspaceLayout)===null||$e===void 0?void 0:$e.sidebarWidthIntent}-${ye==null||(It=ye.workspaceLayout)===null||It===void 0?void 0:It.sidebarWidthMode}`},broadcastAction:ye=>{const $e=ye.split("-");return Object(de.a)({sidebarWidthIntent:Number($e[0]),sidebarWidthMode:$e[1]})}}),I({state:Se,prevState:$,workspaces:We,broadcastSelector:ye=>Object(Ct.c)(ye),broadcastAction:ye=>Object(G.a)(ye)}),I({state:Se,prevState:$,workspaces:We,broadcastSelector:ye=>Object(Ct.d)(ye),broadcastAction:ye=>Object(Xe.c)(ye)}),I({state:Se,prevState:$,workspaces:We,broadcastSelector:ye=>Object(Ct.h)(ye),broadcastAction:ye=>Object(Re.a)(ye)}),I({state:Se,prevState:$,workspaces:We,broadcastSelector:ye=>{var $e,It;return`${ye==null||($e=ye.workspaceLayout)===null||$e===void 0?void 0:$e.inspectorWidthIntent}-${ye==null||(It=ye.workspaceLayout)===null||It===void 0?void 0:It.inspectorWidthMode}`},broadcastAction:ye=>{const $e=ye.split("-");return Object(Le.a)({inspectorWidthIntent:Number($e[0]),inspectorWidthMode:$e[1]})}}),fe});Fe.meta={name:"createMiddleware",key:"createMiddlewarebroadcastWorkspaceLayoutMiddleware",description:"Broadcast client theme state to other stores"};var tt=Fe,ut=e("hheC"),St=e("O62x"),tn=e("DiyJ"),Yt=e("YLXe"),un=e("Q1m+"),$t=e("np25"),gn=e("nevH");const et=Object(l.b)("Broadcast view layout state across all teams",(ve,D,N)=>{const $=ve.getState(),fe=D(N),Se=ve.getState(),We=Object(o.getBootedWorkspaces)(Se);return I({state:Se,prevState:$,workspaces:We,broadcastSelector:ye=>{var $e,It;return`${ye==null||($e=ye.viewLayout)===null||$e===void 0?void 0:$e.sidebarWidthIntent}-${ye==null||(It=ye.viewLayout)===null||It===void 0?void 0:It.sidebarWidthMode}`},broadcastAction:ye=>{const $e=ye.split("-");return Object(Yt.a)({sidebarWidthIntent:Number($e[0]),sidebarWidthMode:$e[1]})}}),I({state:Se,prevState:$,workspaces:We,broadcastSelector:ye=>{var $e,It;return`${ye==null||($e=ye.viewLayout)===null||$e===void 0?void 0:$e.sidebarWideWidthIntent}-${ye==null||(It=ye.viewLayout)===null||It===void 0?void 0:It.sidebarWideWidthMode}`},broadcastAction:ye=>{const $e=ye.split("-");return Object(un.a)({sidebarWideWidthIntent:Number($e[0]),sidebarWideWidthMode:$e[1]})}}),I({state:Se,prevState:$,workspaces:We,broadcastSelector:ye=>{var $e,It;return`${ye==null||($e=ye.viewLayout)===null||$e===void 0?void 0:$e.sidebarExtraWideWidthIntent}-${ye==null||(It=ye.viewLayout)===null||It===void 0?void 0:It.sidebarExtraWideWidthMode}`},broadcastAction:ye=>{const $e=ye.split("-");return Object($t.a)({sidebarExtraWideWidthIntent:Number($e[0]),sidebarExtraWideWidthMode:$e[1]})}}),I({state:Se,prevState:$,workspaces:We,broadcastSelector:ye=>Object(ut.a)(ye),broadcastAction:ye=>Object(St.a)(ye)}),I({state:Se,prevState:$,workspaces:We,broadcastSelector:ye=>Object(ut.b)(ye),broadcastAction:ye=>Object(tn.a)(ye)}),I({state:Se,prevState:$,workspaces:We,broadcastSelector:ye=>{var $e,It;return`${ye==null||($e=ye.viewLayout)===null||$e===void 0?void 0:$e.secondaryWidthIntent}-${ye==null||(It=ye.viewLayout)===null||It===void 0?void 0:It.secondaryWidthMode}`},broadcastAction:ye=>{const $e=ye.split("-");return Object(gn.a)({secondaryWidthIntent:Number($e[0]),secondaryWidthMode:$e[1]})}}),fe});et.meta={name:"createMiddleware",key:"createMiddlewarebroadcastViewLayoutMiddleware",description:"Broadcast view layout state across all teams"};var An=et,pn=e("kBpe"),Pn=e("Lgge"),Rn=e("AWyR"),an=e("LZPg"),Gt=e("9oTK"),kn=e("NZ+B"),Mn=e("8TXW"),cs=e("KGIc"),Vn=e("KciV"),bn=e("S4vl"),Qn=e("74PA"),es=e("ktUG"),ms=e("mSpc");const ls=window.RTCPeerConnection,fs=window.MediaStream,vs=window.RTCIceCandidate,Gn=window.navigator,Ps={height:116,width:168},$s=9;let ks=v(class{getScreenThumbnails(D){let N=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;var $=this;return Object(Gt.coroutine)(function*(){const fe=yield Object(c.y)();if(N||os($.log,fe),Object(pn.y)()&&!N){const $e=yield $.guessSourceIdOnWindows();if(fe.length===1&&!$.isSingleAppShareEnabled)return[{mediaSourceId:$e,displayId:fe[0].id,bounds:fe[0].bounds}]}const Se=["screen"];(yield $.isSingleAppShareEnabled)&&(Se.push("window"),Ps.width=(D==null?void 0:D.width)||200,Ps.height=(D==null?void 0:D.height)||150);let We;try{We=yield Object(c.T)(Ps,Se)}catch($e){$.log.error(`Could not get screen thumbnails: ${$e.message}`)}return We?We.map(($e,It)=>{var Jt;const Tn=fe.find(Kt=>parseInt($e.display_id,10)===Kt.id);!Tn&&!Object(pn.z)()&&!Object(pn.p)()&&!(!((Jt=$e.id)===null||Jt===void 0)&&Jt.startsWith("window:"))&&$.log.error(`Could not find matching display for screen ${It} with id ${$e.display_id}`);const Mt=Tn||(Object(pn.z)()||Object(pn.p)()?fe[It]:void 0);return{mediaSourceId:$e.id,thumbnail:$e.thumbnail,displayId:Mt&&Mt.id,bounds:Mt&&Mt.bounds,name:$e.name}}):[]})()}getCurrentlyActiveScreenTrack(){return this.screenTrack}startCapturingScreen(D){var N=this;return Object(Gt.coroutine)(function*(){if(Object(bn.b)(!N.screenTrack,"Screen track should not already be active"),!D){if(!Gn.mediaDevices.getDisplayMedia)throw N.log.error("Error: getDisplayMedia unavailable while trying to screen share in browser"),new Error("browser screenshare unavailable");try{const $={audio:!1,video:{frameRate:{max:15}}},fe=yield Gn.mediaDevices.getDisplayMedia($);return N.screenTrack=fe.getVideoTracks()[0],N.log.info(`Start screen sharing with track id: ${N.screenTrack.id} in browser`),N.screenTrack}catch($){if($.name!=="NotAllowedError")throw N.log.error(`Error: ${$.name} while trying to screen share in browser`),Object(Qn.a)(es.EventId.CALLS_GET_USER_MEDIA_ERROR_SCREEN,{error:$.name}),$;return null}}try{const $={audio:!1,video:{mandatory:{chromeMediaSource:"desktop",chromeMediaSourceId:D,maxFrameRate:15}}};if(!Object(pn.x)()){const Se=yield N.getScreenDetailsByMediaSourceId(D);Se&&Se.bounds&&($.video.mandatory.maxWidth=Se.bounds.width,$.video.mandatory.maxHeight=Se.bounds.height)}const fe=yield Gn.mediaDevices.getUserMedia($);return N.screenTrack=fe.getTracks()[0],N.log.info("Start screen sharing with track id:",N.screenTrack.id,"and mediaSourceId:",D),N.screenTrack}catch($){throw N.log.error(`Error: ${$.name} for screen ${D}`),Object(Qn.a)(es.EventId.CALLS_GET_USER_MEDIA_ERROR_SCREEN,{error:$.name}),$}})()}stopCapturingScreen(){if(!this.screenTrack){Object(bn.b)("No screenTrack to stop.");return}this.screenTrack.stop();const D=this.screenTrack.id;return delete this.screenTrack,this.log.info("Stop screen sharing track id:",D),D}clearScreenTrack(){delete this.screenTrack}guessSourceIdOnWindows(){let D=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;var N=this;return Object(Gt.coroutine)(function*(){const $=`screen:${D}:0`;try{return yield N.startCapturingScreen($),N.stopCapturingScreen(),$}catch{if(D===$s)throw new Error("Unable to guess sourceId");return N.guessSourceIdOnWindows(D+1)}})()}getScreenDetailsByMediaSourceId(D){var N=this;return Object(Gt.coroutine)(function*(){let $;const fe=yield N.getScreenThumbnails();return fe&&($=fe.find(Se=>Se.mediaSourceId===D,fe)),$})()}constructor(D){this.isSingleAppShareEnabled=D,this.log=Object(Vn.c)("SCREENS")}},"ScreenManager");function os(ve,D){if(!D.length){ve.error("No screens available");return}const N=new ms.a(["id","width","height","x","y","scaleFactor","rotation"]);D.forEach($=>{N.add([$.id,$.bounds.width,$.bounds.height,$.bounds.x,$.bounds.y,$.scaleFactor,$.rotation].map(String))}),ve.info(`Available screens:
${N.report()}`)}v(os,"logDisplays");var ps=e("Pv5J");function bs(ve){const D=(ve||"").split("-");return D&&(D.length===3||D.length===4)?D[1]:null}v(bs,"getCallIdFromExternalId");var fn=e("3REw"),Gs=e("BeL+"),js=e("CpTu"),aa=e("GxtX"),As=e("owWc"),ot=e("OZf9"),Qt=e("fujP"),en=e("8pZh"),vt=e("Olm7"),At=e("lCmp"),qt=e("jSYs"),Vt=e("Kdix"),Ut=e("bTZa"),on=e("i5QK"),rn;(function(ve){ve.HuddlesSdk="huddles-sdk",ve.ChimeChannelListener="chime-channel-listener",ve.ChimeChannelBroadcaster="chime-channel-broadcaster",ve.VoiceFocusDevice="voice-focus-device",ve.VideoTransformDevice="video-transform-device",ve.VideoFrameProcessor="video-frame-processor"})(rn||(rn={}));const Cn=new Map([[rn.HuddlesSdk,Vt.a.create({name:rn.HuddlesSdk})],[rn.ChimeChannelListener,Vt.a.create({name:rn.ChimeChannelListener})],[rn.ChimeChannelBroadcaster,Vt.a.create({name:rn.ChimeChannelBroadcaster})],[rn.VoiceFocusDevice,Vt.a.create({name:rn.VoiceFocusDevice})],[rn.VideoTransformDevice,Vt.a.create({name:rn.VideoTransformDevice})],[rn.VideoFrameProcessor,Vt.a.create({name:rn.VideoFrameProcessor})]]),dn=Object(Vn.a)("HUDDLE-LEAK-MONITOR"),yn=v(ve=>{let{name:D,ref:N}=ve;const $=Cn.get(D);if(!$)return;const fe=$.getMetrics();if(fe){const{numberOfObjects:Se,numberOfExpiredObjects:We}=fe,ye=Se-We;We>3&&(dn.warn(`Detected ${We} memory leak(s) for ${D}${ye?` (with another ${ye} instances in memory)`:""}`),on.a.publish({type:Ut.c.MemoryLeaks,update:{name:D,leakCount:We}}))}$.watch(N)},"monitorObjectForMemoryLeaks"),Hn=v(()=>{for(const[,ve]of Cn)ve.expectGCAll()},"detectMemoryLeaks");var jn=e("EQgQ");let hn=v(class{getLevel(){return this.analyserNode.getByteTimeDomainData(this.data),Object(jn.b)(this.data)/jn.a}constructor(D){this.analyserNode=D,this.data=new Uint8Array(this.analyserNode.fftSize)}},"AudioAnalyser");var Qe=e("rf28");const nt=100;class Ge{stop(){this.intervalHandle&&(clearInterval(this.intervalHandle),delete this.intervalHandle),this.previewAudioAnalyser=void 0}setPreviewAudioAnalyser(D){this.previewAudioAnalyser=D}constructor(){this.intervalHandle=window.setInterval(()=>{this.previewAudioAnalyser&&Qe.a.publish(this.previewAudioAnalyser.getLevel())},nt)}}v(Ge,"free_willy_audio_level_monitor_AudioLevelMonitor");function Ot(ve,D){let{skipIntermediatePendingRuns:N=!0}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},$=!1,fe=[];const Se=function(){var We=Object(Gt.coroutine)(function*(){for(var ye=arguments.length,$e=new Array(ye),It=0;It<ye;It++)$e[It]=arguments[It];if($){N&&(fe=[]);const Mt=Object(Rn.a)();return fe.push({args:$e,deferred:Mt}),Mt}$=!0;const Jt=yield D.call(ve,...$e);$=!1;const Tn=fe.shift();return Tn&&Se(...Tn.args).then(Tn.deferred.resolve).catch(Tn.deferred.reject),Jt});return v(function(){return We.apply(this,arguments)},"run")}();return Se}v(Ot,"serialGuard");var lt=e("VZjS");let ht=v(class{voiceFocusInsufficientResources(){var D=this;return Object(Gt.coroutine)(function*(){D.logger.warn("Voice Focus insufficient resources"),D.InsufficientResourcesHandler()})()}constructor(D){this.logger=Object(M.b)({label:"VOICE FOCUS OBSERVER"}),this.InsufficientResourcesHandler=D}},"VoiceFocusObserver");var jt=e("q5W5"),_t=e("LxFC");let sn=v(class{getAccessStatusForDeviceType(D){var N=this;return Object(Gt.coroutine)(function*(){let $=[];switch(D){case fn.i.MICROPHONE:$=yield N.audioVideoFacade.listAudioInputDevices();break;case fn.i.CAMERA:$=yield N.audioVideoFacade.listVideoInputDevices();break;case fn.i.SCREEN:return{isAvailable:!0,status:_t.d.Granted};default:return N.logger.warn(`BrowserMediaAccessChecker: Unhandled MediaResourceTypeEnum provided: ${D}`),{isAvailable:!1,status:_t.d.NotDetermined}}const fe=$.map(We=>({id:We.deviceId,groupId:We.groupId,label:We.label})),Se=Object(jt.b)(fe);switch(Se){case jt.a.Available:return N.logger.info(`BrowserMediaAccessChecker: Device media type: ${D} is available`),N.observer.onDeviceAccessApproved(D),{isAvailable:!0,status:_t.d.Granted};case jt.a.HiddenByBrowser:return N.logger.info(`BrowserMediaAccessChecker: Device media type: ${D} not available, permission not granted`),N.observer.onBrowserMediaDeviceAccessDenied(D),{isAvailable:!0,status:_t.d.Denied};case jt.a.NoDevices:return N.logger.warn(`BrowserMediaAccessChecker: Device media type: ${D} not available, detected no devices`),N.observer.onSetNoMediaInput(D),{isAvailable:!0,status:_t.d.NotDetermined};default:return N.logger.warn(`BrowserMediaAccessChecker: Unhandled DeviceAvailability provided: ${Se}`),{isAvailable:!1,status:_t.d.NotDetermined}}})()}constructor(D,N,$){this.logger=D,this.audioVideoFacade=N,this.observer=$}},"BrowserMediaAccessChecker");class En{initialize(){var D,N,$,fe,Se,We,ye,$e,It,Jt,Tn,Mt;if(!(!((D=this.defaultDeviceController)===null||D===void 0||(N=D.activeDevices)===null||N===void 0||($=N.audio)===null||$===void 0||(fe=$.stream)===null||fe===void 0)&&fe.getAudioTracks))return;const Kt=this.defaultDeviceController;if(!(!((Se=this.defaultDeviceController)===null||Se===void 0||(We=Se.activeDevices)===null||We===void 0||(ye=We.audio)===null||ye===void 0||($e=ye.stream)===null||$e===void 0)&&$e.getAudioTracks)){this.logger.warn("Unable to retrieve audio tracks from the default device controller");return}const zt=Kt.activeDevices.audio.stream.getAudioTracks();if(zt.length===1)this.audioInputTrack=zt[0];else{this.logger.warn("No audio input tracks where found for the current audio device. Audio input tracks amount: {tracks.length}");return}(It=this.audioInputTrack)===null||It===void 0||It.addEventListener("mute",this.onMute),(Jt=this.audioInputTrack)===null||Jt===void 0||Jt.addEventListener("unmute",this.onUnmute),(Tn=this.audioInputTrack)===null||Tn===void 0||Tn.addEventListener("ended",this.onEnded),!((Mt=this.audioInputTrack)===null||Mt===void 0)&&Mt.muted?this.onMute():this.onUnmute()}tearDown(){var D,N,$;(D=this.audioInputTrack)===null||D===void 0||D.removeEventListener("mute",this.onMute),(N=this.audioInputTrack)===null||N===void 0||N.removeEventListener("unmute",this.onUnmute),($=this.audioInputTrack)===null||$===void 0||$.removeEventListener("ended",this.onEnded)}onMute(){this.isAudioInputTrackMuted=!0,this.logger.warn("Audio input track is muted. Alerting the user"),this.observer.onAudioInputTrackMuted()}onUnmute(){this.isAudioInputTrackMuted&&this.logger.info("Audio input track is unmuted. Removing alert if there is one"),this.observer.onAudioInputTrackUnMuted(),this.isAudioInputTrackMuted=!1}onEnded(){this.logger.warn("Audio input track was ended.")}constructor(D,N,$){this.defaultDeviceController=D,this.observer=N,this.logger=$,this.isAudioInputTrackMuted=!1,this.onMute=this.onMute.bind(this),this.onUnmute=this.onUnmute.bind(this),this.onEnded=this.onEnded.bind(this)}}v(En,"AudioInputTrackHandler");var Ln;(function(ve){ve.Blur="BLUR",ve.Image="IMAGE",ve.None="NONE"})(Ln||(Ln={}));class Bn{constructor({backgroundEffect:D}){this.filterCPUUtilizationHigh=N=>{const{cpuUtilization:$,filterMillis:fe,periodMillis:Se}=N;this.callLogger.warn(`CPU utilization by video background processor is high - cpuUtilization: ${$} - spent ${fe}ms of last ${Se}ms processing video background`)},this.filterFrameDurationHigh=N=>{const{framesDropped:$,avgFilterDurationMillis:fe,framerate:Se,periodMillis:We}=N;this.callLogger.warn(`Frame duration by video background processor is high. framerate: ${Se}, frames dropped: ${$}, spent ${fe}ms of last ${We}ms processing video background`)},this.callLogger=Object(Vn.a)(`VIDEO-BACKGROUND-${D}`)}}v(Bn,"video_background_observer_VideoBackgroundObserver");var Wn=Bn,xn=e("dkXW"),Zn=e("kS3P"),ts=e("WCSk"),rs;(function(ve){ve.START_PREVIEW="start-preview",ve.STOP_PREVIEW="stop-preview",ve.ENABLE="enable",ve.DISABLE="disable"})(rs||(rs={}));const ys=1e4,Zt=30,Rt=5e3,Dt=5e3,kt="medium",wt=50;let ln=v(class{shutdown(){var D=this;return Object(Gt.coroutine)(function*(){var N;if(D.isShuttingDown=!0,D.voiceFocusDevice){var $;D.voiceFocusObserver&&D.voiceFocusDevice.removeObserver(D.voiceFocusObserver),yield D.voiceFocusDevice.stop(),yield($=D.voiceFocusManager)===null||$===void 0?void 0:$.tearDown(),D.voiceFocusDevice=void 0}D.audioVideoFacade.removeDeviceChangeObserver(D),D.audioVideoFacade.stopLocalVideoTile(),yield D.audioVideoFacade.stopVideoInput(),yield D.audioVideoFacade.stopAudioInput(),D.audioVideoFacade.unbindAudioElement(),D.removeAudioElementErrorHandler(),yield D.clearVideoTransformDeviceRefs(),D.audioInputDeviceRefreshTimer&&(clearTimeout(D.audioInputDeviceRefreshTimer),D.audioInputDeviceRefreshTimer=null),D.videoInputDeviceRefreshTimer&&(clearTimeout(D.videoInputDeviceRefreshTimer),D.videoInputDeviceRefreshTimer=null),Object(Mn.z)().closeAudioContext(),(N=D.audioLevelMonitor)===null||N===void 0||N.stop(),delete D.audioLevelMonitor})()}init(){var D=this;return Object(Gt.coroutine)(function*(){const[N,$,fe]=yield Pn.a.all([D.audioVideoFacade.listAudioInputDevices(),D.audioVideoFacade.listAudioOutputDevices(),D.audioVideoFacade.listVideoInputDevices()]);D.audioInputDevices=N,D.audioOutputDevices=$,D.videoInputDevices=fe,yield D.determineInitialMicrophonePermissionState(),D.enumerateDevices(),D.logDevices(),D.waitForInit.resolve()})()}determineInitialMicrophonePermissionState(){var D=this;return Object(Gt.coroutine)(function*(){if(Object(pn.i)()){yield D.determineInitialMicrophonePermissionStateForDesktop();return}yield D.determineInitialMicrophonePermissionStateForBrowser()})()}determineInitialMicrophonePermissionStateForBrowser(){var D=this;return Object(Gt.coroutine)(function*(){var N;const $=yield(N=D.browserMediaAccessChecker)===null||N===void 0?void 0:N.getAccessStatusForDeviceType(fn.i.MICROPHONE);($==null?void 0:$.status)===_t.d.Denied&&(D.observer.onBrowserMediaDeviceAccessDenied(fn.i.MICROPHONE),D.callLogger.warn("setting microphone to muted as microphone permission was not available during initialization"),D.isStartMutedBarrierActive=!0)})()}determineInitialMicrophonePermissionStateForDesktop(){var D=this;return Object(Gt.coroutine)(function*(){const N=yield D.maybeCheckSystemMediaAccess(fn.i.MICROPHONE);Object(pn.o)()||Object(pn.x)()&&!D.options.useGetMediaAccessCheckForWindows||N&&(N==null?void 0:N.status)!==_t.d.Granted&&Object(pn.i)()&&(D.callLogger.warn("setting microphone to muted as microphone permission was not available during initialization"),D.isStartMutedBarrierActive=!0)})()}initNullMicrophone(){var D=this;return Object(Gt.coroutine)(function*(){try{yield D.audioVideoFacade.stopAudioInput()}catch(N){D.callLogger.info(`chooseAudioInputDevice failed: error: ${N.name}, message: ${N.message}`)}})()}getMediaDeviceInfo(D){var N=this;return Object(Gt.coroutine)(function*(){yield N.waitForInit;let $;switch(D.type){case _t.b.Microphone:$=N.audioInputDevices;break;case _t.b.Camera:$=N.videoInputDevices;break;case _t.c:$=N.audioOutputDevices;break;default:break}if(!$)throw new Error(`Unknown device type: ${D.type}`);const fe=$.find(Se=>D.id===Se.deviceId);if(!fe)throw new Error(`Could not find media device info for: ${D.id}, type: ${D.type}`);return fe})()}setAGC(D){var N=this;return Object(Gt.coroutine)(function*(){N.prefs.audio&&N.prefs.audio.enableAGC!==D&&(N.callLogger.info(`AGC setting changed: ${D}`),N.prefs.audio.enableAGC=D,Object(xn.d)(N.prefs),yield N.updateMicrophone())})()}setPreferredDevice(D,N){var $=this;return Object(Gt.coroutine)(function*(){const fe=$.prefs.deviceIdPriorities[N],Se=Object(Gs.a)([D,...fe]);switch(N!==_t.c&&$.maybeRemoveIphoneFromPriorities({selectedDeviceId:D,selectedDeviceType:N,newPrioritiesForSelectedType:Se}),$.prefs.deviceIdPriorities={...$.prefs.deviceIdPriorities,[N]:Se},Object(xn.d)($.prefs),$.enumerateDevices({id:D,type:N}),N){case _t.b.Microphone:yield $.updateMicrophone();break;case _t.c:yield $.updateSpeaker();break;case _t.b.Camera:$.isCameraEnabled&&(yield $.updateCamera());break;default:break}})()}setPreferredCameraDeviceForPreview(D){var N=this;return Object(Gt.coroutine)(function*(){const $=_t.b.Camera,fe=N.prefs.deviceIdPriorities[$];N.prefs.deviceIdPriorities={...N.prefs.deviceIdPriorities,[$]:Object(Gs.a)([D,...fe])},Object(xn.d)(N.prefs),N.enumerateDevices({id:D,type:$}),yield N.updateCamera()})()}setVideoBackgroundEffect(D){let{effect:N,effectBgKey:$}=D;var fe=this;return Object(Gt.coroutine)(function*(){fe.prefs.video&&(fe.callLogger.info(`Video background effect changed: ${N}`),fe.prefs.video.effect=N,fe.prefs.video.effectBgKey=$,Object(xn.d)(fe.prefs),fe.isCameraEnabled&&(yield fe.updateCamera()))})()}setNoiseSuppression(D){var N=this;return Object(Gt.coroutine)(function*(){N.prefs.audio&&N.prefs.audio.enableNoiseSuppression!==D&&(N.callLogger.info(`Noise suppression setting changed: ${D}`),N.prefs.audio.enableNoiseSuppression=D,Object(xn.d)(N.prefs),yield N.updateMicrophone())})()}setStartMutedBarrier(D){var N=this;return Object(Gt.coroutine)(function*(){N.isStartMutedBarrierActive=D})()}setMicrophone(D){var N=this;return Object(Gt.coroutine)(function*(){if(ps.a.setMicMute(!D),N.voiceFocusManager&&(yield N.voiceFocusManager.setMute(D)),!D){N.audioVideoFacade.realtimeMuteLocalAudio();return}N.isStartMutedBarrierActive&&(N.callLogger.info("Releasing start muted barrier"),N.isStartMutedBarrierActive=!1),N.audioVideoFacade.realtimeUnmuteLocalAudio()})()}requestPreviewStreamForDeviceId(D,N,$){N===_t.b.Camera&&this.handleCameraChanges({type:rs.START_PREVIEW,deviceId:D,videoElement:$})}stopVideoPreviewForVideoInput(D){this.handleCameraChanges({type:rs.STOP_PREVIEW,videoElement:D||this.cameraPreviewVideoElement})}setCamera(D){D!==this.isCameraEnabled&&(this.isCameraEnabled=D,this.isCameraEnabled?(this.handleCameraChanges({type:rs.ENABLE}),this.maybeCheckSystemMediaAccess(fn.i.CAMERA),this.maybeAutoSetPreferredDevice()):this.handleCameraChanges({type:rs.DISABLE}))}setCameraQuality(D,N,$,fe){this.audioVideoFacade.chooseVideoInputQuality(D,N,$),this.audioVideoFacade.setVideoMaxBandwidthKbps(fe)}audioVideoDidStart(){var D=this;return Object(Gt.coroutine)(function*(){D.updateAudioVideo()})()}updateAudioVideo(){var D=this;return Object(Gt.coroutine)(function*(){yield D.waitForInit,D.waitForAudioVideoSessionStarted.resolve(),D.updateMicrophone(),D.updateSpeaker(),D.isCameraEnabled&&D.updateCamera()})()}localVideoTileDidUpdate(D){(!D.boundVideoStream||!D.boundVideoStream.active)&&this.callLogger.info(`DeviceManager::localVideoTileDidUpdate ${D.boundVideoStream?"boundVideoStream is not active":"there is no boundVideoStream"}`),!D.isContent&&!this.isCameraEnabled?this.waitForCameraReady.reject():this.waitForCameraReady.resolve()}maybeBindAudioOutputElement(){var D=this;return Object(Gt.coroutine)(function*(){if(!D.isAudioOutputElementBound&&D.audioOutputElement){try{yield D.audioVideoFacade.bindAudioElement(D.audioOutputElement)}catch(N){D.callLogger.info(`bindAudioElement failed: error: ${N.name}, message: ${N.message}`);return}D.isAudioOutputElementBound=!0}})()}maybeCheckSystemMediaAccess(D){var N=this;return Object(Gt.coroutine)(function*(){if(!Object(pn.i)())return N.browserMediaAccessChecker?N.browserMediaAccessChecker.getAccessStatusForDeviceType(D):(N.callLogger.warn("DeviceManager::getMediaAccessStatus browserMediaAccessChecker was not available"),{isAvailable:!1,status:_t.d.NotDetermined});if(N.hasCheckedSystemPermissions[D])return N.hasCheckedSystemPermissions[D];if(Object(pn.p)()&&Object(pn.j)("4.8.0"))try{const $=yield Object(c.Q)(D);if(N.hasCheckedSystemPermissions[D]=$,N.callLogger.info(`DeviceManager::getMediaAccessStatus ${D} electron API available: ${$.isAvailable} and status: ${$.status}`),!$.isAvailable)return{isAvailable:!1,status:_t.d.NotDetermined};if($.status===_t.d.Granted)return N.observer.onDeviceAccessApproved(D),$;let fe;return $.status===_t.d.NotDetermined&&(fe=D==="screen"?null:yield Object(c.a)(D),N.callLogger.info(`DeviceManager::askForMediaAccess ${D} electron API available: ${!!(fe!=null&&fe.isAvailable)} and isConsentGranted: ${fe==null?void 0:fe.isGranted}`),D!=="screen"&&(fe!=null&&fe.isGranted))?(N.observer.onDeviceAccessApproved(D),{status:_t.d.Granted,isAvailable:!0}):(($.status===_t.d.Denied||fe&&!fe.isGranted)&&N.observer.onCheckSystemMediaAccess(D),$)}catch($){N.callLogger.info(`DeviceManager::Error retrieving system access for ${D}: ${$}`)}else if(N.options.useGetMediaAccessCheckForWindows&&Object(pn.x)()&&Object(pn.j)("4.9.0"))try{const $=yield Object(c.Q)(D);return N.hasCheckedSystemPermissions[D]=$,N.callLogger.info(`DeviceManager::getMediaAccessStatus::Windows ${D} electron API available: ${$.isAvailable} and status: ${$.status}`),$.isAvailable?$.status===_t.d.Granted?(N.observer.onDeviceAccessApproved(D),$):($.status===_t.d.Denied&&N.observer.onCheckSystemMediaAccess(D),$):{isAvailable:!1,status:_t.d.NotDetermined}}catch($){N.callLogger.info(`Windows::DeviceManager::Error::Windows retrieving system access for ${D}: ${$}`)}return{isAvailable:!1,status:_t.d.NotDetermined}})()}audioInputsChanged(D){this.callLogger.info("DeviceManager::audioInputsChanged"),this.audioInputDevices=D,this.enumerateDevices(),this.updateMicrophone(),this.logDevices([_t.b.Microphone]),this.lastAudioInputDevicesUpdateTime=Date.now(),this.observer.onClearNoMediaInput(fn.i.MICROPHONE)}audioInputMuteStateChanged(D,N){this.callLogger.info(`DeviceManager::audioInputMuteStateChanged: device: ${D}, ${N?"muted":"unmuted"}`)}audioInputStreamEnded(D){if(!D)return;this.callLogger.info("DeviceManager::audioInputStreamEnded");const N=this.audioInputDevices;this.audioInputDeviceRefreshTimer&&clearTimeout(this.audioInputDeviceRefreshTimer),this.lastAudioInputStreamEndTime=Date.now();var $=this;this.audioInputDeviceRefreshTimer=setTimeout(Object(Gt.coroutine)(function*(){const fe=yield $.audioVideoFacade.listAudioInputDevices();$.deviceInfoArrayComparator(fe,N)&&($.callLogger.warn("Call audio stream ended unexpectedly"),$.observer.onSetNoMediaInput(fn.i.MICROPHONE),Object(Qn.a)(es.EventId.CALLS_AUDIO_STREAM_ENDED_UNEXPECTEDLY,{audioInputDevicesUpdated:$.lastAudioInputDevicesUpdateTime&&$.lastAudioInputDevicesUpdateTime>$.lastAudioInputStreamEndTime})),$.audioInputDeviceRefreshTimer=null}),Rt)}audioOutputsChanged(D){this.callLogger.info("DeviceManager::audioOutputsChanged"),this.audioOutputDevices=D,this.enumerateDevices(),this.updateSpeaker(),this.logDevices([_t.c]),this.observer.onClearNoAudioOutput(fn.k.AUDIO_ELEMENT_ERROR)}videoInputsChanged(D){const N=this.getPreferredDevice(_t.b.Camera),$=Object(js.a)(D,fe=>fe.deviceId===(N==null?void 0:N.id));this.callLogger.info("DeviceManager::videoInputsChanged"),this.videoInputDevices=D,this.enumerateDevices(),this.logDevices([_t.b.Camera]),this.lastVideoInputDevicesUpdateTime=Date.now(),!$&&this.isCameraEnabled?(this.callLogger.info("DeviceManager::triggering camera stop due to active camera no longer being available"),this.observer.onSetNoMediaInput(fn.i.CAMERA)):this.observer.onClearNoMediaInput(fn.i.CAMERA)}videoInputStreamEnded(D){var N=this;return Object(Gt.coroutine)(function*(){if(!D)return;N.callLogger.info("DeviceManager::videoInputStreamEnded"),N.observer.onSetNoMediaInput(fn.i.CAMERA);const $=N.videoInputDevices;N.videoInputDeviceRefreshTimer&&clearTimeout(N.videoInputDeviceRefreshTimer),N.lastVideoInputStreamEndTime=Date.now(),N.videoInputDeviceRefreshTimer=setTimeout(Object(Gt.coroutine)(function*(){const fe=yield N.audioVideoFacade.listVideoInputDevices();N.deviceInfoArrayComparator(fe,$)&&(N.callLogger.warn("Call video stream ended unexpectedly"),Object(Qn.a)(es.EventId.CALLS_VIDEO_STREAM_ENDED_UNEXPECTEDLY,{videoInputDevicesUpdated:N.lastVideoInputDevicesUpdateTime&&N.lastVideoInputDevicesUpdateTime>N.lastVideoInputStreamEndTime})),N.videoInputDeviceRefreshTimer=null}),Dt)})()}logDevices(){let D=arguments.length>0&&arguments[0]!==void 0?arguments[0]:ts.a;Object(ts.e)(this.callLogger,this.devices,D)}getPreferredDevice(D){return Object(xn.a)(this.devices)[D]}enumerateDevices(D){const N=Object(aa.a)(Object(xn.c)(this.audioInputDevices?Object(qt.a)(this.audioInputDevices):[],this.prefs.deviceIdPriorities[_t.b.Microphone],this.prefs.deviceIdPrioritiesExtended&&this.prefs.deviceIdPrioritiesExtended[_t.b.Microphone]||[]),Object(xn.c)(this.audioOutputDevices?Object(qt.a)(this.audioOutputDevices):[],this.prefs.deviceIdPriorities[_t.c],this.prefs.deviceIdPrioritiesExtended&&this.prefs.deviceIdPrioritiesExtended[_t.c]||[]),Object(xn.c)(this.videoInputDevices?this.videoInputDevices:[],this.prefs.deviceIdPriorities[_t.b.Camera],this.prefs.deviceIdPrioritiesExtended&&this.prefs.deviceIdPrioritiesExtended[_t.b.Camera]||[])),$=Object(As.a)(N,(fe,Se)=>{const We=Object(ts.f)(Se),ye=D&&D.id===We.id&&D.type===We.type,$e=this.shouldDeprioritizeDevice({device:We,isPreferredDevice:ye||this.getPreferredCameraId()===We.id});return{...fe,[We.type]:ye&&!$e?[We,...fe[We.type]]:[...fe[We.type],We]}},Object(ts.d)());this.devices=$,this.observer.onDevicesUpdated($)}handleCameraChanges(D){var N=this;return Object(Gt.coroutine)(function*(){switch(D.type){case rs.START_PREVIEW:yield N.runCameraActivityStartPreview(D);break;case rs.STOP_PREVIEW:yield N.runCameraActivityStopPreview(D);break;case rs.ENABLE:yield N.runCameraActivityEnable();break;case rs.DISABLE:yield N.runCameraActivityDisable();break;default:break}})()}getDeviceIdAndLabelForDefaultDevice(D,N,$){if(D!==ts.c&&D!==ts.b||$===_t.b.Camera)return{deviceId:D,deviceLabel:N};const fe=$===_t.c?this.audioOutputDevices:this.audioInputDevices;let Se=null;if(Object(ot.a)(fe,$e=>{if(!(!$e||$e.deviceId!==D))return Se=$e.groupId,!1}),!Se)return{deviceId:D,deviceLabel:N};let We=D,ye=N;return Object(ot.a)(fe,$e=>{if(!(!$e||$e.groupId!==Se||$e.deviceId===ts.c||$e.deviceId===ts.b))return We=$e.deviceId,ye=$e.label,!1}),{deviceId:We,deviceLabel:ye}}updateMicrophone(){var D=this;return Object(Gt.coroutine)(function*(){yield D.waitForAudioVideoSessionStarted;const N=D.getPreferredDevice(_t.b.Microphone);if(!N){D.callLogger.info("No audio input device found");return}const{deviceId:$,deviceLabel:fe}=D.getDeviceIdAndLabelForDefaultDevice(N.id,N.label,_t.b.Microphone);D.callLogger.info(`Selected audio input device: ${N.label||N.id}, deviceId: ${$}, deviceLabel: ${fe}`),D.detectBluetoothDevices();const We={autoGainControl:D.prefs.audio?D.prefs.audio.enableAGC:!0,deviceId:$},ye=D.shouldNoiseSuppressionBeDisabled(fe);let $e=!0;if(D.voiceFocusManager&&D.voiceFocusManager.isAvailable()&&(D.prefs.audio&&D.prefs.audio.enableNoiseSuppression)&&!ye&&!D.voiceFocusCPUThrottled){if(D.voiceFocusDevice||(D.voiceFocusDevice=yield D.voiceFocusManager.getTransformDevice()),D.voiceFocusDevice){const It=yield D.voiceFocusDevice.chooseNewInnerDevice(We);It!==D.voiceFocusDevice&&(D.voiceFocusObserver=new ht(D.handleVoiceFocusInsufficientResourcesEvent),D.voiceFocusDevice.addObserver(D.voiceFocusObserver)),D.voiceFocusDevice=It}D.voiceFocusDevice||($e=!1)}else $e=!1;D.voiceFocusDevice&&yn({name:rn.VoiceFocusDevice,ref:D.voiceFocusDevice}),D.callLogger.info("Noise suppression:",$e?"enabled":"disabled");try{if(D.isStartMutedBarrierActive&&(D.callLogger.info("Start muted barrier active"),D.audioVideoFacade.realtimeMuteLocalAudio(),ps.a.setMicMute(!0)),$e)if(D.voiceFocusDevice)yield D.initAudioInput(D.voiceFocusDevice);else throw new Error("Trying noise suppression with no voice focus transform device");else navigator.mediaDevices&&navigator.mediaDevices.getSupportedConstraints&&Object.prototype.hasOwnProperty.call(navigator.mediaDevices.getSupportedConstraints(),"noiseSuppression")&&(We.noiseSuppression=!0),yield D.initAudioInput(We)}catch(It){D.callLogger.error(`chooseAudioInputDevice failed: error: ${It.name}, message: ${It.message}`),It instanceof Mn.s?D.observer.onSelfPermissionUpdated(!0,_t.b.Microphone):D.observer.onSelfPermissionUpdated(!1,_t.b.Microphone);return}D.initAudioAnalyserForPreview(),D.setupAudioInputTrackHandler(),ps.a.setMicDevice($,$e,fe),!(yield D.isMediaPermissionDeniedOnWindows(fn.i.MICROPHONE))&&D.observer.onSelfPermissionUpdated(!1,_t.b.Microphone)})()}updateSpeaker(){var D=this;return Object(Gt.coroutine)(function*(){yield D.waitForAudioVideoSessionStarted;const N=D.getPreferredDevice(_t.c);if(!N){D.callLogger.info("No audio output device found");return}const{deviceId:$,deviceLabel:fe}=D.getDeviceIdAndLabelForDefaultDevice(N.id,N.label,_t.c);D.detectBluetoothDevices(),D.callLogger.info(`Selected audio output device id: ${N.label||N.id}, deviceId: ${$}, deviceLabel: ${fe}`),yield D.audioVideoFacade.chooseAudioOutput($),D.observer.onOutputDeviceChanged({id:N.id,type:_t.c})})()}updateCamera(){var D=this;return Object(Gt.coroutine)(function*(){yield D.waitForAudioVideoSessionStarted;const N=D.getPreferredDevice(_t.b.Camera);if(!N){D.callLogger.info("No video input device found");return}D.callLogger.info(`Selected video input device id: ${N.label||N.id}`);try{yield D.setCameraVideoInputDevice(N)}catch($){D.callLogger.info(`chooseVideoInputDevice failed: error: ${$.name}, message: ${$.message}`),$ instanceof Mn.s?D.observer.onSelfPermissionUpdated(!0,_t.b.Camera):D.observer.onSelfPermissionUpdated(!1,_t.b.Camera);return}(yield D.isMediaPermissionDeniedOnWindows(fn.i.CAMERA))||D.observer.onSelfPermissionUpdated(!1,_t.b.Camera)})()}setCameraVideoInputDevice(D){var N=this;return Object(Gt.coroutine)(function*(){if(yield N.clearVideoTransformDeviceRefs(),N.options.backgroundVideoFilteringSetting===_t.a.NONE){yield N.initVideoInput(D.id);return}switch(N.prefs.video.effect){case Zn.a.Blur:{yield N.setCameraVideoInputDeviceWithBackgroundBlurFilter(D);break}case Zn.a.Background:{N.options.backgroundVideoFilteringSetting!==_t.a.Both?yield N.initVideoInput(D.id):yield N.setCameraVideoInputDeviceWithBackgroundReplacementImageFilter({videoDevice:D,selectedBackgroundImageKey:N.prefs.video.effectBgKey});break}default:{yield N.initVideoInput(D.id);break}}})()}setCameraVideoInputDeviceWithBackgroundReplacementImageFilter(D){let{videoDevice:N,selectedBackgroundImageKey:$}=D;var fe=this;return Object(Gt.coroutine)(function*(){const Se=N.label||N.id;if($===void 0){fe.callLogger.info(`No background image key provided id: ${Se}`),yield fe.initVideoInput(N.id);return}const We=Object(Mn.G)(),ye=Object(Mn.y)(),$e=[];if(!(yield Mn.v.isSupported(fe.chimeLogger))&&fe.options.backgroundBlur2Enabled)return fe.handleErrorApplyVideoEffects("VideoFxProcessor is not supported on host device. Defaulting to non image replaced background",N);if(!(yield ye.isSupported())&&!fe.options.backgroundBlur2Enabled)return fe.handleErrorApplyVideoEffects("BackgroundReplacementVideoFrameProcessor is not supported on host device. Defaulting to non image replaced background",N);const Jt=lt.b.find(On=>On.key===$);if(Jt===void 0)return fe.handleErrorApplyVideoEffects("Image could not be found, switching to default input for device",N);fe.callLogger.info(`Enabling video input device with background image filter id: ${Se}`);const Mt=yield(yield fetch(Jt.url)).blob();if(fe.isShuttingDown)return;const Kt={...fe.defaultVideoProcessorOptions,imageBlob:Mt};if(fe.options.backgroundBlur2Enabled){if(fe.videoFxConfig={backgroundBlur:{isEnabled:!1,strength:kt},backgroundReplacement:{isEnabled:!0,backgroundImageURL:Jt.url,defaultColor:void 0}},fe.videoFxProcessor=yield Mn.v.create(fe.chimeLogger,fe.videoFxConfig,wt),!fe.videoFxProcessor)return fe.handleErrorApplyVideoEffects("VideoFxProcessor could not be created defaulting to normal input for device",N);fe.callLogger.info(`VideoFxProcessor background image replacement enabled for device id: ${Se}`),$e.push(fe.videoFxProcessor)}else{const On=yield ye.create(void 0,Kt);if(On)fe.setupVideoBackgroundFrameProcessor({processor:On,backgroundEffect:Ln.Image}),$e.push(On);else return fe.handleErrorApplyVideoEffects("BackgroundReplacementVideoFrameProcessor could not be created defaulting to normal input for device",N)}fe.callLogger.info(`Enabling video input device with background image replacement id: ${Se}`);const zt=new We(fe.chimeLogger,N.id,$e);fe.setVideoTransformDeviceRefs({transformDevice:zt,processors:$e}),yield fe.initVideoInput(zt),yield fe.cleanupTransformDevicesAndCameraIfShuttingdown()})()}handleErrorApplyVideoEffects(D,N){var $=this;return Object(Gt.coroutine)(function*(){const fe=N.label||N.id;$.callLogger.info(`${D}: ${fe}`),yield $.initVideoInput(N.id)})()}setCameraVideoInputDeviceWithBackgroundBlurFilter(D){var N=this;return Object(Gt.coroutine)(function*(){const $=Object(Mn.G)(),fe=Object(Mn.x)(),Se=D.label||D.id;N.callLogger.info(`Enabling video input device with background blur filter id: ${Se}`);const We=[];if(N.options.backgroundBlur2Enabled){if(!(yield Mn.v.isSupported(N.chimeLogger)))return N.handleErrorApplyVideoEffects("VideoFxProcessor is not supported on host device. Defaulting to non blurred background",D);if(N.videoFxConfig={backgroundBlur:{isEnabled:!0,strength:kt},backgroundReplacement:{isEnabled:!1,backgroundImageURL:"",defaultColor:void 0}},N.videoFxProcessor=yield Mn.v.create(N.chimeLogger,N.videoFxConfig,wt),!N.videoFxProcessor)return N.handleErrorApplyVideoEffects("VideoFxProcessor could not be created defaulting to normal input for device",D);N.callLogger.info(`VideoFxProcessor background blur enabled for device id: ${Se}`),We.push(N.videoFxProcessor)}else{if(!(yield fe.isSupported()))return N.handleErrorApplyVideoEffects("BackgroundBlurVideoFrameProcessor is not supported on host device. Defaulting to non blurred background",D);const $e={...N.defaultVideoProcessorOptions,blurStrength:15},It=yield fe.create(void 0,$e);if(!It)return N.handleErrorApplyVideoEffects("BackgroundBlurVideoFrameProcessor could not be created defaulting to normal input for device",D);N.setupVideoBackgroundFrameProcessor({processor:It,backgroundEffect:Ln.Blur}),We.push(It)}N.callLogger.info(`Enabling video input device with background blur filter id: ${Se}`);const ye=new $(N.chimeLogger,D.id,We);N.setVideoTransformDeviceRefs({transformDevice:ye,processors:We}),yield N.initVideoInput(ye),yield N.cleanupTransformDevicesAndCameraIfShuttingdown()})()}cleanupTransformDevicesAndCameraIfShuttingdown(){var D=this;return Object(Gt.coroutine)(function*(){D.isShuttingDown&&(D.callLogger.info("Cleaning up background video frame processor and video input because huddle has ended"),yield D.audioVideoFacade.stopVideoInput(),yield D.clearVideoTransformDeviceRefs())})()}initVideoInputDevices(){var D=this;return Object(Gt.coroutine)(function*(){const N=yield D.audioVideoFacade.listVideoInputDevices(),$=N.length>0;return $||D.observer.onSelfPermissionUpdated(!0,_t.b.Camera),D.videoInputDevices=N,D.prefs=Object(xn.b)(),D.enumerateDevices(),$})()}shouldNoiseSuppressionBeDisabled(D){const N=Object(pn.o)();return N&&this.callLogger.info("Noise suppression disabled on Linux: ",D||"no device label"),N}runCameraActivityStartPreview(D){var N=this;return Object(Gt.coroutine)(function*(){const $=D.deviceId,fe=D.videoElement;!$||!fe||(N.cameraPreviewVideoElement=fe,yield N.setPreferredCameraDeviceForPreview($),N.audioVideoFacade.hasStartedLocalVideoTile()?N.attachStreamToCameraPreview():yield N.startCameraPreview())})()}runCameraActivityStopPreview(D){var N=this;return Object(Gt.coroutine)(function*(){const $=D.videoElement;$&&($!==N.cameraPreviewVideoElement&&N.callLogger.warn("Mismatch in preview video element"),N.audioVideoFacade.hasStartedLocalVideoTile()?N.detachStreamFromCameraPreview():N.stopCameraPreview(),delete N.cameraPreviewVideoElement)})()}runCameraActivityEnable(){var D=this;return Object(Gt.coroutine)(function*(){!D.audioVideoFacade.hasStartedLocalVideoTile()&&D.cameraPreviewVideoElement&&D.stopCameraPreview(),yield D.updateCamera(),D.audioVideoFacade.hasStartedLocalVideoTile()||(D.waitForCameraReady=Object(Rn.a)(),D.audioVideoFacade.startLocalVideoTile(),yield D.waitForCameraReady.catch(()=>{D.callLogger.info("Camera disabled before self video stream was properly bound. Explicitly disabling camera."),D.runCameraActivityDisable()})),D.attachStreamToCameraPreview()})()}runCameraActivityDisable(){var D=this;return Object(Gt.coroutine)(function*(){D.detachStreamFromCameraPreview(),yield D.audioVideoFacade.stopVideoInput(),D.audioVideoFacade.stopLocalVideoTile(),D.cameraPreviewVideoElement&&(yield D.updateCamera(),yield D.startCameraPreview())})()}startCameraPreview(){var D=this;return Object(Gt.coroutine)(function*(){D.cameraPreviewVideoElement&&(D.waitForCameraReady=Object(Rn.a)(),D.audioVideoFacade.startVideoPreviewForVideoInput(D.cameraPreviewVideoElement),D.cameraPreviewVideoElement.addEventListener("canplay",N=>{D.waitForCameraReady.resolve()}),yield D.waitForCameraReady)})()}stopCameraPreview(){var D=this;return Object(Gt.coroutine)(function*(){D.cameraPreviewVideoElement&&(D.audioVideoFacade.stopVideoPreviewForVideoInput(D.cameraPreviewVideoElement),yield D.audioVideoFacade.stopVideoInput())})()}attachStreamToCameraPreview(){var D;if(!this.cameraPreviewVideoElement)return;const N=(D=this.audioVideoFacade.getLocalVideoTile())===null||D===void 0?void 0:D.state();N&&N.boundVideoStream&&Mn.o.connectVideoStreamToVideoElement(N.boundVideoStream,this.cameraPreviewVideoElement,!0)}detachStreamFromCameraPreview(){this.cameraPreviewVideoElement&&Mn.o.disconnectVideoStreamFromVideoElement(this.cameraPreviewVideoElement,!0)}addAudioElementErrorHandler(){this.audioOutputElement.addEventListener("error",this.audioElementErrorHandler)}removeAudioElementErrorHandler(){this.audioOutputElement.removeEventListener("error",this.audioElementErrorHandler)}audioElementErrorHandler(D){var N,$,fe,Se;const We=((N=D.target)===null||N===void 0||($=N.error)===null||$===void 0?void 0:$.code)||"unavailable",ye=((fe=D.target)===null||fe===void 0||(Se=fe.error)===null||Se===void 0?void 0:Se.message)||D.message;this.callLogger.warn(`HTML_AUDIO_ELEMENT_ERROR code: ${We}, message: ${ye}`),this.observer.onSetNoAudioOutput(fn.k.AUDIO_ELEMENT_ERROR)}deviceInfoArrayComparator(D,N){return Object(Qt.a)(Object(en.a)(D,N,($,fe)=>$.deviceId===fe.deviceId&&$.groupId===fe.groupId&&$.kind===fe.kind))}isMediaPermissionDeniedOnWindows(D){var N=this;return Object(Gt.coroutine)(function*(){if(N.options.useGetMediaAccessCheckForWindows&&Object(pn.x)()&&Object(pn.j)("4.9.0")){const $=yield N.maybeCheckSystemMediaAccess(D);if($&&$.status==="denied")return!0}return!1})()}initAudioAnalyserForPreview(){const D=Object(Mn.z)().getAudioContext();if(!D){this.callLogger.warn("Unable to get AudioContext");return}D.resume();const N=this.audioVideoFacade.createAnalyserNodeForAudioInput();if(N){var $;const fe=new hn(N);($=this.audioLevelMonitor)===null||$===void 0||$.setPreviewAudioAnalyser(fe)}}setupAudioInputTrackHandler(){this.audioInputTrackHandler&&(this.callLogger.info("Tearing down previous Audio Input Track Handler"),this.audioInputTrackHandler.tearDown(),this.audioInputTrackHandler=void 0),this.callLogger.info("Setting up new audio input track handler"),this.audioInputTrackHandler=new En(this.defaultDeviceController,this.observer,this.callLogger),this.audioInputTrackHandler.initialize()}constructor(D,N,$,fe,Se=!1,We,ye,$e){this.audioVideoFacade=D,this.audioOutputElement=N,this.observer=$,this.options=fe,this.isStartMutedBarrierActive=Se,this.chimeLogger=We,this.defaultDeviceController=ye,this.voiceFocusManager=$e,this.callLogger=Object(Vn.a)("DEVICES"),this.devices=Object(ts.d)(),this.waitForCameraReady=Object(Rn.a)(),this.waitForInit=Object(Rn.a)(),this.waitForAudioVideoSessionStarted=Object(Rn.a)(),this.lastAudioInputDevicesUpdateTime=0,this.lastVideoInputDevicesUpdateTime=0,this.lastAudioInputStreamEndTime=0,this.lastVideoInputStreamEndTime=0,this.isAudioOutputElementBound=!1,this.voiceFocusCPUThrottled=!1,this.hasCheckedSystemPermissions={[fn.i.MICROPHONE]:!1,[fn.i.CAMERA]:!1,[fn.i.SCREEN]:!1},this.videoFxConfig={backgroundBlur:{isEnabled:!1,strength:kt},backgroundReplacement:{isEnabled:!1,backgroundImageURL:"",defaultColor:void 0}},this.continuityCameraDeviceIds={[_t.b.Camera]:null,[_t.b.Microphone]:null},this.isShuttingDown=!1,this.maybeRemoveIphoneFromPriorities=Kt=>{let{selectedDeviceId:zt,selectedDeviceType:On,newPrioritiesForSelectedType:Sn}=Kt;const Nn=this.continuityCameraDeviceIds[On];Nn&&(zt!==Nn?(Object(vt.a)(Sn,Yn=>Yn===Nn),this.callLogger.warn(`Iphone ${On} no longer selected. Removing from priority device list.`)):this.callLogger.warn(`Iphone ${On} manually selected by user.`))},this.maybeAutoSetPreferredDevice=()=>{this.getPreferredCameraId()?this.callLogger.info("Preferred camera is already set. No need to auto-set one."):(this.callLogger.warn("No preferred camera currently set. If current camera still in use in 10s, we will automatically set it as the preferred camera"),setTimeout(()=>{var zt;const On=(zt=this.getPreferredDevice(_t.b.Camera))===null||zt===void 0?void 0:zt.id,Sn=this.getPreferredCameraId();!this.isCameraEnabled||!On||Sn||(this.callLogger.info(`Setting preferred camera to ${On}`),this.setPreferredDevice(On,_t.b.Camera))},1e4))},this.getPreferredCameraId=()=>this.prefs.deviceIdPriorities.camera[0],this.detectBluetoothDevices=()=>{var Kt,zt;const On=(Kt=this.devices[_t.b.Microphone])===null||Kt===void 0?void 0:Kt[0],Sn=(zt=this.devices[_t.c])===null||zt===void 0?void 0:zt[0];if(!On||!Sn)return;const Nn=["bluetooth","hands-free","airpods","wireless"],Yn=v(Fn=>Object(At.a)(Nn,Ls=>Fn==null?void 0:Fn.toLowerCase().includes(Ls)),"checkDeviceLabel"),Es=Yn(On.label),Ws=Yn(Sn.label),Cs=On.groupId===Sn.groupId;on.a.publish({type:Ut.c.BluetoothDevices,update:{isMicrophoneBluetooth:Es,isSpeakerBluetooth:Ws,isMicrophoneAndSpeakerOnSameDevice:Cs}})},this.shouldDeprioritizeDevice=Kt=>{let{device:zt,isPreferredDevice:On}=Kt;if(On)return!1;let Sn=!1;if(zt.type!==_t.c){const Nn=zt.label;Object(pn.p)()&&Nn&&(Sn=!!/iphone/.test(Nn.toLowerCase()))}return Sn&&(this.continuityCameraDeviceIds[zt.type]=zt.id),Sn};var It=this;this.handleVoiceFocusInsufficientResourcesEvent=Object(Gt.coroutine)(function*(){It.voiceFocusManager&&(on.a.publish({type:Ut.c.VoiceFocusWarning}),It.voiceFocusManager.shouldDisable()&&(It.callLogger.warn("Voice Focus - disabling due to CPU throttle"),It.voiceFocusCPUThrottled=!0,It.voiceFocusDevice&&(yield It.voiceFocusDevice.stop()),yield It.voiceFocusManager.tearDown(),It.voiceFocusDevice=void 0,yield It.updateMicrophone()))}),this.setVideoTransformDeviceRefs=Kt=>{let{transformDevice:zt,processors:On}=Kt;this.currentVideoTransformDevice=zt,this.currentVideoFrameProcessors=On,yn({name:rn.VideoTransformDevice,ref:zt})},this.setupVideoBackgroundFrameProcessor=Kt=>{let{processor:zt,backgroundEffect:On}=Kt;var Sn;this.clearVideoBackgroundFrameProcessor(),!this.options.backgroundBlur2Enabled&&(this.currentVideoFrameProcessor=zt,this.currentVideoFrameProcessorObserver=new Wn({backgroundEffect:On}),(Sn=this.currentVideoFrameProcessor)===null||Sn===void 0||Sn.addObserver(this.currentVideoFrameProcessorObserver),yn({name:rn.VideoFrameProcessor,ref:zt}))},this.clearVideoBackgroundFrameProcessor=()=>{this.options.backgroundBlur2Enabled||this.currentVideoFrameProcessor&&this.currentVideoFrameProcessorObserver&&(this.currentVideoFrameProcessor.removeObserver(this.currentVideoFrameProcessorObserver),this.currentVideoFrameProcessorObserver=void 0,this.currentVideoFrameProcessor=void 0)};var Jt=this;this.clearVideoTransformDeviceRefs=Object(Gt.coroutine)(function*(){Jt.clearVideoBackgroundFrameProcessor(),Jt.currentVideoFrameProcessors&&(Jt.currentVideoFrameProcessors.forEach(Kt=>{Kt.destroy()}),Jt.currentVideoFrameProcessors.length=0,Jt.currentVideoFrameProcessors=void 0),Jt.currentVideoTransformDevice&&(yield Jt.currentVideoTransformDevice.stop(),Jt.currentVideoTransformDevice=void 0)});var Tn=this;this.initAudioInput=function(){var Kt=Object(Gt.coroutine)(function*(zt){zt&&(yield Tn.audioVideoFacade.startAudioInput(zt))});return function(zt){return Kt.apply(this,arguments)}}();var Mt=this;this.initVideoInput=function(){var Kt=Object(Gt.coroutine)(function*(zt){zt&&(yield Mt.audioVideoFacade.startVideoInput(zt))});return function(zt){return Kt.apply(this,arguments)}}(),this.updateMicrophone=Ot(this,this.updateMicrophone,{skipIntermediatePendingRuns:!1}),this.updateSpeaker=Ot(this,this.updateSpeaker,{skipIntermediatePendingRuns:!1}),this.updateCamera=Ot(this,this.updateCamera,{skipIntermediatePendingRuns:!1}),this.handleCameraChanges=Ot(this,this.handleCameraChanges,{skipIntermediatePendingRuns:!1}),this.audioElementErrorHandler=this.audioElementErrorHandler.bind(this),this.audioVideoFacade.addDeviceChangeObserver(this),this.prefs=Object(xn.b)(),this.addAudioElementErrorHandler(),this.audioLevelMonitor=new Ge,Object(pn.i)()||(this.browserMediaAccessChecker=new sn(this.callLogger,this.audioVideoFacade,this.observer)),this.voiceFocusManager&&this.callLogger.info(`Voice Focus available?: ${this.voiceFocusManager.isAvailable()}`),this.prefs.audio&&this.callLogger.info(`Noise suppression setting: ${this.prefs.audio.enableNoiseSuppression}`),this.defaultVideoProcessorOptions={filterCPUUtilization:Zt,reportingPeriodMillis:ys,logger:this.chimeLogger}}},"DeviceManager");var nn=e("DNzI"),vn=e("PsQx"),_n=e("zIak");let Un=v(class{constructor(D,N,$){this.sequenceNumber=D,this.message=N,this.timestampMs=$}},"MeetingEvent"),Jn=v(class Wo{getEventCaptureSize(){return this.eventCapture.length}startEventPublishScheduler(D){var N=this;this.intervalScheduler.start(Object(Gt.coroutine)(function*(){if(N.getEventCaptureSize()===0)return;const $=N.eventCapture.slice(0,D);try{N.postEvents($),N.eventCapture=N.eventCapture.slice($.length)}catch(fe){N.log.error(fe.message)}}))}stop(){let D=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;this.stopped||(this.intervalScheduler.stop(),this.postEvents(this.eventCapture,D,!0),this.eventCapture=[],this.stopped=!0,this.observer=void 0)}logEvent(D,N){const{meetingHistory:$,...fe}=N;try{const Se=JSON.stringify({name:D,attributes:fe});this.eventCapture.push(new Un(this.sequenceNumber,Se,Date.now())),this.sequenceNumber+=1}catch(Se){this.log.error(Se.message)}}postEvents(D){let N=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,$=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;var fe;D.length===0&&!N&&!$||(fe=this.observer)===null||fe===void 0||fe.onMeetingEvents(this.meetingId,this.mediaRegion,this.attendeeId,this.callId,D,N,$)}constructor(D,N,$,fe,Se,We=Wo.DEFAULT_BATCH_SIZE,ye=Wo.DEFAULT_INTERVAL_MS){this.observer=D,this.meetingId=N,this.mediaRegion=$,this.attendeeId=fe,this.callId=Se,this.batchSize=We,this.intervalMs=ye,this.eventCapture=[],this.sequenceNumber=0,this.log=Object(Vn.c)("MEETING-EVENT-LOGGER"),this.stopped=!1,this.intervalScheduler=new vn.a(this.intervalMs),this.startEventPublishScheduler(this.batchSize);var $e=this;Object(_n.a)(Object(Gt.coroutine)(function*(){$e.stop(!0)}))}},"MeetingEventLogger");Jn.DEFAULT_BATCH_SIZE=100,Jn.DEFAULT_INTERVAL_MS=65*60*1e3;var Xn=e("ED8d"),Ks=e("Muja"),us=e("pU79"),Zs=e("ektR"),Js=e("xt0X"),Is=e("oJqn"),Ma=e("Z0Cl"),hs=e("jF/p"),da=e("7EGn");const pa=1e4,Fo=3e4;class Ai{observe(D){this.connections.push(D),this.intervalHandle||(this.intervalHandle=window.setInterval(()=>{this.collect()},this.collectionIntervalMs))}stopObserving(D){Object(vt.a)(this.connections,D),this.connections.length===0&&clearInterval(this.intervalHandle)}collect(){var D=this;this.connections.forEach(function(){var N=Object(Gt.coroutine)(function*($){const fe=$.getPeerConnection();if(!fe)return;const Se=Ja(yield fe.getStats());Ri($,Se);const We={...qa(Se),send:Se.sendTracks.map(ye=>eo(ye,Se)),recv:Se.recvTracks.map(ye=>({...Vo(ye,Se),peerId:$.getPeerIdFromRemoteStreamId(Se.trackIdToStreamId[ye.id])}))};D.observer.onStats(We)});return function($){return N.apply(this,arguments)}}())}constructor(D,N=pa){this.observer=D,this.collectionIntervalMs=N,this.connections=[]}}v(Ai,"stats_manager_StatsManager");function Ja(ve){const D=Array.from(ve.entries()),N=Object(As.a)(D,($,fe)=>{let[Se,We]=fe;return Ni(We)?We.remoteSource===!0?$.recvTracks.push(We):$.sendTracks.push(We):Bi(We)||Ui(We)?We.trackId&&($.rtpStats[We.trackId]=We):Wi(We)?$.transports[We.id]=We:xi(We)?$.candidates[We.id]=We:Fi(We)?$.candidatePairs[We.id]=We:Ki(We)?$.codecs[We.id]=We:Hi(We)?We.trackIds&&We.trackIds.forEach(ye=>{$.trackIdToStreamId[ye]=We.streamIdentifier}):Vi(We)&&We.trackIdentifier&&($.mediaSources[We.trackIdentifier]=We),$},{trackIdToStreamId:{},sendTracks:[],recvTracks:[],candidates:{},candidatePairs:{},rtpStats:{},codecs:{},transports:{},mediaSources:{}});return N.recvTracks=N.recvTracks.filter($=>N.trackIdToStreamId[$.id]!==void 0),N}v(Ja,"groupStatsByType");function Ko(ve){const D=Object(Ma.a)(ve.candidatePairs,ye=>!!ye.nominated),N=Object(hs.a)(D,ye=>ye.priority);if(!N)return;const $=Object(js.a)(ve.candidates,(ye,$e)=>$e===N.localCandidateId);if(!$)return;let fe=$.candidateType==="relay"?$.relayProtocol:$.protocol;$.candidateType==="prflx"&&(fe+=" (unreliable)");const Se="unknown";return{candidateType:$.candidateType||Se,networkType:$.networkType||Se,transportType:fe||Se}}v(Ko,"getConnectionNetworkInfo");function Ri(ve,D){const N=Ko(D);N&&ve.maybeLogNetworkInfo(N)}v(Ri,"reportConnectionNetworkInfo");function Ho(){return Xa.apply(this,arguments)}v(Ho,"makeAppMetricsStats");function Xa(){return Xa=Object(Gt.coroutine)(function*(){var ve;if(!Object(pn.i)())return;const D=yield Object(Zs.c)();if(!D)return;let N=null;const $=D.reduce((We,ye)=>{var $e,It,Jt;return ye.type==="GPU"&&(N=ye),{cpu:We.cpu+((ye==null||($e=ye.cpu)===null||$e===void 0?void 0:$e.percentCPUUsage)||0),memory:{workingSetSize:We.memory.workingSetSize+Object(Js.b)((ye==null||(It=ye.memory)===null||It===void 0?void 0:It.workingSetSize)||0),peakWorkingSetSize:We.memory.peakWorkingSetSize+Object(Js.b)((ye==null||(Jt=ye.memory)===null||Jt===void 0?void 0:Jt.peakWorkingSetSize)||0)}}},{cpu:0,memory:{workingSetSize:0,peakWorkingSetSize:0}}),fe=N==null||(ve=N.cpu)===null||ve===void 0?void 0:ve.percentCPUUsage,Se=fe?$.cpu-N.cpu.percentCPUUsage:$.cpu;return{...$,cpuWithoutGpu:Se,gpu:fe}}),Xa.apply(this,arguments)}v(Xa,"_makeAppMetricsStats");function qa(ve){const[D,...N]=Object.values(ve.transports);Object(bn.b)(!N.length,"Can there be more than one transport stat in a report?");const $=D&&D.selectedCandidatePairId,fe=ve.candidatePairs[$];if(!$||!fe)return;const Se=ve.candidates[fe.remoteCandidateId]||{};return{availableOutgoingBitrate:fe.availableOutgoingBitrate||0,availableIncomingBitrate:fe.availableIncomingBitrate||0,totalBytesSent:fe.bytesSent,totalBytesReceived:fe.bytesReceived,currentRoundTripTime:fe.currentRoundTripTime,totalRoundTripTime:fe.totalRoundTripTime,protocol:Se.protocol==="udp"?Is.a.calls.analytics.Protocol.UDP:Is.a.calls.analytics.Protocol.TCP,pathType:Se.candidateType==="host"?Is.a.calls.analytics.PathType.DIRECT:Is.a.calls.analytics.PathType.RELAY,clientTime:Date.now()}}v(qa,"makeConnectionStats");function eo(ve,D){const N=D.rtpStats[ve.id]||{},$={codec:ko(N,D),bytesSent:N.bytesSent,packetsSent:N.packetsSent};if(ve.kind==="audio"){const fe=ve.trackIdentifier?D.mediaSources[ve.trackIdentifier]:null;return fe?{...$,audioStats:{audioLevel:fe.audioLevel,totalAudioEnergy:fe.totalAudioEnergy,totalSamplesDuration:fe.totalSamplesDuration,echoReturnLoss:fe.echoReturnLoss,echoReturnLossEnhancement:fe.echoReturnLossEnhancement}}:{...$,audioStats:{audioLevel:ve.audioLevel,echoReturnLoss:ve.echoReturnLoss,echoReturnLossEnhancement:ve.echoReturnLossEnhancement}}}return{...$,videoStats:{frameHeight:ve.frameHeight,frameWidth:ve.frameWidth,framesSent:ve.framesSent,hugeFramesSent:ve.hugeFramesSent,framesPerSecond:N.framesPerSecond,framesEncoded:N.framesEncoded}}}v(eo,"makeOutboundMediaStats");function Vo(ve,D){const N=D.rtpStats[ve.id]||{},$={codec:ko(N,D),bytesReceived:N.bytesReceived,packetsReceived:N.packetsReceived,packetsLost:N.packetsLost,fractionLost:N.fractionLost,jitter:N.jitter};return ve.kind==="audio"?{...$,audioStats:{audioLevel:ve.audioLevel,jitterBufferDelay:ve.jitterBufferDelay,concealedSamples:ve.concealedSamples,concealmentEvents:ve.concealmentEvents}}:{...$,videoStats:{firCount:N.firCount,nackCount:N.nackCount,pliCount:N.pliCount,sliCount:N.sliCount,frameHeight:ve.frameHeight,frameWidth:ve.frameWidth,framesPerSecond:ve.framesPerSecond,framesCorrupted:ve.framesCorrupted,framesDecoded:ve.framesDecoded,framesDropped:ve.framesDropped,framesReceived:ve.framesReceived}}}v(Vo,"makeInboundMediaStats");function ko(ve,D){const N=ve.codecId,$=Object(da.a)(D.codecs,N),fe=Object(da.a)($,"mimeType");return Li(fe)}v(ko,"getCodecForRtpStat");function Li(ve){switch(ve){case"video/VP8":return Is.a.calls.analytics.Codec.VP8;case"video/VP9":return Is.a.calls.analytics.Codec.VP9;case"video/H264":return Is.a.calls.analytics.Codec.H264;case"audio/opus":return Is.a.calls.analytics.Codec.OPUS;default:return Is.a.calls.analytics.Codec.UNKNOWN}}v(Li,"parseCodec");function Ui(ve){return ve.type==="inbound-rtp"}v(Ui,"isRecvRtpStat");function Bi(ve){return ve.type==="outbound-rtp"}v(Bi,"isSendRtpStat");function Ni(ve){return ve.type==="track"}v(Ni,"isTrackStat");function Wi(ve){return ve.type==="transport"}v(Wi,"isTransportStat");function xi(ve){return ve.type==="local-candidate"||ve.type==="remote-candidate"}v(xi,"isIceCandidateStat");function Fi(ve){return ve.type==="candidate-pair"}v(Fi,"isIceCandidatePairStat");function Ki(ve){return ve.type==="codec"}v(Ki,"isCodecStat");function Hi(ve){return ve.type==="stream"}v(Hi,"isStreamStat");function Vi(ve){return ve.type==="media-source"}v(Vi,"isMediaSourceStat");const ki=2e3,to=12e4;let Go=v(class{start(){this.getStatsIntervalHandle||(this.appMetricsCollect(),this.appMetricsIntervalHandle=window.setInterval(this.appMetricsCollect,this.appMetricsCollectionIntervalMs),this.getStatsIntervalHandle=window.setInterval(()=>{this.statsCollect()},this.collectionIntervalMs),ps.a.setObserver(this.observer),this.anomalyDetectorIntervalHandle=window.setInterval(()=>{this.doAnomalyDetection()},this.anomalyDetectionIntervalMs))}stop(){clearInterval(this.getStatsIntervalHandle),delete this.getStatsIntervalHandle,clearInterval(this.anomalyDetectorIntervalHandle),delete this.anomalyDetectorIntervalHandle,clearInterval(this.appMetricsIntervalHandle),delete this.appMetricsIntervalHandle,ps.a.cleanup()}videoTileDidUpdate(D){if(!D.tileId||!D.boundVideoStream||!D.boundAttendeeId)return;const N=new Mn.n(D.boundAttendeeId).base();if(D.boundVideoStream.getVideoTracks().length===0)return;const fe=D.boundVideoStream.getVideoTracks()[0].id;this.tileIdToTrackId.set(D.tileId,fe),this.trackIdToAttendeeId.set(fe,N)}videoTileWasRemoved(D){const N=this.tileIdToTrackId.get(D);N&&this.trackIdToAttendeeId.delete(N),this.tileIdToTrackId.delete(D)}onMetricsDidReceive(D){}statsCollect(){var D=this;return Object(Gt.coroutine)(function*(){const N=yield D.collect();N&&(D.shouldTraceAppMetrics||D.observer.onMediaStats(N,D.callId))})()}doAnomalyDetection(){var D=this;return Object(Gt.coroutine)(function*(){const N=yield D.collect();N&&(D.shouldTraceAppMetrics&&D.observer.onMediaStats(N,D.callId),ps.a.run(N))})()}collect(){var D=this;return Object(Gt.coroutine)(function*(){var N,$;let fe;const Se=D.audioVideoFacade.getRTCPeerConnectionStats();if(!Se)return fe;const We=(N=D.audioVideoFacade.contentShareController)===null||N===void 0||($=N.contentAudioVideo)===null||$===void 0?void 0:$.getRTCPeerConnectionStats();try{const ye=yield Se,$e=Ja(ye);let It;if(We){const Mt=yield We;It=Ja(Mt)}$e.recvTracks=$e.recvTracks.filter(Mt=>{if(!Mt.id)return!1;const Kt=$e.rtpStats[Mt.id];return!Kt||!Kt.codecId?!1:Mt.trackIdentifier?D.trackIdToAttendeeId.get(Mt.trackIdentifier)!==D.selfAttendeeId:!0});const Jt=qa($e);if(Jt&&It){const Mt=qa(It);Mt&&(Jt.availableOutgoingBitrate=Mt.availableOutgoingBitrate)}const Tn=$e.sendTracks.map(Mt=>eo(Mt,$e));It&&It.sendTracks.forEach(Mt=>{if(!It||!It.mediaSources||!Mt.trackIdentifier)return;const Kt=It.mediaSources[Mt.trackIdentifier];!Kt||Kt.kind!=="video"||Tn.push(eo(Mt,It))}),fe={...Jt,send:Tn,recv:$e.recvTracks.map(Mt=>({...Vo(Mt,$e),peerIdString:Mt.trackIdentifier?D.trackIdToAttendeeId.get(Mt.trackIdentifier):null,userId:Mt.kind==="audio"?"USLACKBOT":null}))},D.maybeLogNetworkInfo(Ko($e))}catch(ye){D.isGetStatsErrorLogged||(D.logger.error(`getStats error: ${ye.message}`),D.isGetStatsErrorLogged=!0)}return fe})()}maybeLogNetworkInfo(D){!D||Object(Ks.a)(D,this.networkInfoToLog)||(this.logger.info(`Candidate: ${D.candidateType}, Network: ${D.networkType}, Transport: ${D.transportType}`),this.networkInfoToLog=D)}constructor(D,N,$,fe,Se=to,We=to,ye=ki,$e){this.selfAttendeeId=D,this.callId=N,this.audioVideoFacade=$,this.observer=fe,this.collectionIntervalMs=Se,this.appMetricsCollectionIntervalMs=We,this.anomalyDetectionIntervalMs=ye,this.shouldTraceAppMetrics=$e,this.logger=Object(Vn.c)("STATS-MANAGER"),this.isGetStatsErrorLogged=!1,this.isCapturingAppMetrics=!1,this.appMetricsCache=[],this.lastAppMetricsAnalyticsSend=Date.now();var It=this;this.appMetricsCollect=Object(Gt.coroutine)(function*(){if(!It.isCapturingAppMetrics)return;const Jt=yield Ho();if(!Jt)return;It.appMetricsCache.push(Jt);const Tn=Date.now();if(Tn-It.lastAppMetricsAnalyticsSend>to){const Kt={cpu:Object(us.a)(It.appMetricsCache,zt=>zt.cpu),memory:{workingSetSize:Object(us.a)(It.appMetricsCache,zt=>zt.memory.workingSetSize),peakWorkingSetSize:Object(us.a)(It.appMetricsCache,zt=>zt.memory.peakWorkingSetSize)}};It.observer.onMediaStats({appMetrics:Kt},It.callId),It.appMetricsCache=[],It.lastAppMetricsAnalyticsSend=Tn}if(It.shouldTraceAppMetrics){const Kt=Object(Wt.a)({...Jt,cpu:Jt.cpuWithoutGpu},"cpuWithoutGpu");It.observer.onAppMetrics(Kt)}}),this.tileIdToTrackId=new Map,this.trackIdToAttendeeId=new Map,this.isCapturingAppMetrics=Math.random()<1,this.logger.info(`Capturing app metrics?: ${this.isCapturingAppMetrics}, HW concurrency: ${(navigator==null?void 0:navigator.hardwareConcurrency)||"unknown"}`)}},"StatsManager");const eu={StatsManager:Go},Gi="connectionstatechange",zi="icecandidate",Yi="icecandidateerror",Qi="iceconnectionstatechange",wi="negotiationneeded";let zo=v(class{get isActive(){return!Object(Qt.a)(this.listeners)}constructor(D){this.listeners={},this.clearScreenshareListeners=()=>{this.pc&&(Object.entries(this.listeners).forEach(N=>{let[$,fe]=N;this.pc.removeEventListener($,fe)}),this.pc=void 0,this.listeners={},this.callLogger.info("Content share peer connection references cleaned up"))},this.registerScreensharePeerConnectionEventListeners=N=>{if(this.pc)return;const $=Date.now();this.pc=N;const fe={[Gi]:Se=>{this.callLogger.info(`Screenshare connection state is now ${N.connectionState}`),N.connectionState==="failed"&&this.callLogger.error("Screenshare connection failed"),N.connectionState==="connected"&&this.callLogger.info(`Screenshare connection established in no less than ${Date.now()-$}ms`)},[zi]:Se=>{if(Se.candidate){const{sdpMLineIndex:We,sdpMid:ye}=Se.candidate;this.callLogger.info(`Received screenshare ICE candidate with m-line index: ${We}, MID: ${ye}`)}else this.callLogger.info("All screenshare ICE candidates have been gathered")},[Yi]:Se=>{this.callLogger.error(`Screenshare ICE Candidate Error occurred. Error Code: ${Se.errorCode}, Error Text: ${Se.errorText}, URL: ${Se.url}`)},[Qi]:()=>{this.callLogger.info(`Screenshare ICE Connection state is: ${N.iceConnectionState}`),(N.iceConnectionState==="failed"||N.iceConnectionState==="disconnected")&&this.callLogger.error("Screenshare ICE Connection failed or disconnected")},[wi]:()=>{const{connectionState:Se,signalingState:We,iceGatheringState:ye,iceConnectionState:$e}=N;this.callLogger.info(`Screenshare connection negotiation needed. Current connection details: ConnectionState: ${Se}, SignalingState: ${We}, IceGatheringState: ${ye}, IceConnectionState: ${$e}`)}};Object.entries(fe).forEach(Se=>{let[We,ye]=Se;this.pc.addEventListener(We,ye)}),this.listeners=fe},this.callLogger=D}},"ScreensharePeerConnectionManager");const tu=zo;var $i=zo;const Zi=5e3;let Ji=v(class{constructor(D,N){this.audioVideoFacade=D,this.observer=N,this.callLogger=Object(Vn.a)("HUDDLES-STATS-MANAGER"),this.isDisconnected=!1;var $=this;this.onMetricsDidReceive=function(){var We=Object(Gt.coroutine)(function*(ye){if(!ye)return;const $e=yield $.collectScreenshareStats();$.reportAppMetrics({clientMetricReport:ye,screenshareRtcStats:$e})});return function(ye){return We.apply(this,arguments)}}(),this.reportDisconnect=()=>{this.isDisconnected=!0,this.callLogger.info("Disconnect reported. Resuming app metrics collection without client metric report."),this.reportAppMetrics();const We=setInterval(()=>{if(!this.isDisconnected){clearInterval(We);return}this.callLogger.info("User still disconnected. Reporting app metrics without client metric report."),this.reportAppMetrics()},Zi)},this.cleanup=()=>{var We;!((We=this.screensharePeerConnectionManager)===null||We===void 0)&&We.isActive&&this.screensharePeerConnectionManager.clearScreenshareListeners(),this.screensharePeerConnectionManager=void 0};var fe=this;this.collectScreenshareStats=Object(Gt.coroutine)(function*(){let We;try{var ye,$e;const Tn=(ye=fe.audioVideoFacade.contentShareController.contentAudioVideo)===null||ye===void 0?void 0:ye.rtcPeerConnection;if(!Tn){var It;!((It=fe.screensharePeerConnectionManager)===null||It===void 0)&&It.isActive&&fe.screensharePeerConnectionManager.clearScreenshareListeners();return}if(!(!(($e=fe.screensharePeerConnectionManager)===null||$e===void 0)&&$e.isActive)){var Jt;(Jt=fe.screensharePeerConnectionManager)===null||Jt===void 0||Jt.registerScreensharePeerConnectionEventListeners(Tn)}We=yield Tn.getStats()}catch{fe.callLogger.error("An error occurred attempting to read content share stats.")}return We});var Se=this;this.reportAppMetrics=Object(Gt.coroutine)(function*(){let{clientMetricReport:We,screenshareRtcStats:ye}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(!We&&!Se.isDisconnected)return;Se.isDisconnected&&We&&(Se.isDisconnected=!1);const $e=yield Se.collectAppMetrics();Se.observer.onAppMetrics({appMetrics:$e,clientMetricReport:We,screenshareRtcStats:ye})}),this.collectAppMetrics=Object(Gt.coroutine)(function*(){const We=yield Ho();if(!We)return;let ye=We;return We&&(ye=Object(Wt.a)({...We,cpu:We.cpuWithoutGpu},"cpuWithoutGpu")),ye}),ps.a.setObserver(this.observer),this.screensharePeerConnectionManager=new $i(this.callLogger)}},"HuddlesStatsManager"),Xi=v(class{start(){var D;this.isSignallingOnly=!1,(D=this.videoStreamsManager)===null||D===void 0||D.addObserver(this),this.audioVideoFacade.addObserver(this),this.audioVideoFacade.start(),this.observer.onStart()}startWithSignalingOnly(){this.audioVideoFacade.start({signalingOnly:!0}),this.isSignallingOnly=!0}stop(){var D=this;return Object(Gt.coroutine)(function*(){D.isSignallingOnly?(D.waitForStart.resolve(),D.waitForStop.resolve(!0)):yield D.waitForStart,D.isStopRequested=!0,D.audioVideoFacade.stop()})()}audioVideoDidStartConnecting(D){if(!D)this.callLogger.info("Starting Chime session"),this.observer.onStartSessionTimeout(),this.observer.onAudioVideoDidStartConnecting(),this.isReconnecting=!1;else{var N,$,fe;this.callLogger.info("Reconnecting Chime session"),this.observer.onSelfDisconnected(),(N=this.statsManager)===null||N===void 0||($=N.reportDisconnect)===null||$===void 0||$.call(N),(fe=this.huddleReconnectTracer)===null||fe===void 0||fe.traceReconnectAttempt(),this.isReconnecting=!0}}audioVideoDidStart(){if(this.callLogger.info("Chime audio video session started"),this.isReconnecting){var D;this.callLogger.info("Successfully re-connected to Huddle"),(D=this.huddleReconnectTracer)===null||D===void 0||D.traceReconnectAttemptOutcome({isSuccess:!0}),this.isReconnecting=!1}this.observer.onAudioVideoDidStart(),this.deviceManager.audioVideoDidStart(),this.dataChannelSubscribers.forEach(N=>N.onConnectDatachannel(this.audioVideoFacade)),this.waitForStart.resolve()}audioVideoDidStop(D){var N,$,fe,Se;const We=Mn.r[D.statusCode()],ye=`Chime session stopped. StatusCode: ${We}`;if(this.callLogger.info(ye),this.isReconnecting&&D.isFailure()){var $e;this.callLogger.info("Failed to re-connect to Huddle"),($e=this.huddleReconnectTracer)===null||$e===void 0||$e.traceReconnectAttemptOutcome({isSuccess:!1})}this.audioVideoFacade.removeObserver(this),this.observer.onScreenShareStopped(),this.observer.onAudioVideoDidStop(),(N=this.videoStreamsManager)===null||N===void 0||N.removeObserver(this),($=this.meetingEventLogger)===null||$===void 0||$.stop(),delete this.meetingEventLogger,(Se=(fe=this.statsManager).cleanup)===null||Se===void 0||Se.call(fe),delete this.statsManager,this.dataChannelSubscribers.forEach(It=>It.onDisconnectDataChannel()),!this.isStopRequested&&D.isTerminal()&&(this.observer.onClogError(ye),this.observer.onError(fn.n.CallEnded,We)),this.waitForStop.resolve(this.isStopRequested)}videoTileDidUpdate(D){if(!D.boundVideoStream||!D.boundAttendeeId){D.tileId&&this.observer.onVideoTileRemoved(D.tileId);return}const N=new Mn.n(D.boundAttendeeId).base();this.selfAttendeeId===N?(this.deviceManager.localVideoTileDidUpdate(D),this.observer.onSelfVideoTileUpdate(D)):this.observer.onPeerVideoTileUpdate(N,D)}videoTileWasRemoved(D){this.consoleLog.info(`Video tile removed: tileId=${D}`),this.observer.onVideoTileRemoved(D)}videoAvailabilityDidChange(D){this.consoleLog.debug(`Video availability: RemoteVideoAvailable=${D.remoteVideoAvailable}, CanStartLocalVideo=${D.canStartLocalVideo}`)}metricsDidReceive(D){var N=this;return Object(Gt.coroutine)(function*(){var $;($=N.statsManager)===null||$===void 0||$.onMetricsDidReceive(D)})()}connectionDidBecomePoor(){this.callLogger.warn("SDK detected poor connection")}connectionDidSuggestStopVideo(){this.callLogger.warn("SDK suggested stop video, maybe poor connection")}videoSendDidBecomeUnavailable(){this.callLogger.warn("Video send is unavailable")}remoteVideoSourcesDidChange(D){var N;(N=this.videoStreamsManager)===null||N===void 0||N.remoteVideoSourcesDidChange(D)}tileWillBePausedByDownlinkPolicy(D){this.observer.onVideoTileWillPause(D)}tileWillBeUnpausedByDownlinkPolicy(D){this.observer.onVideoTileWillUnpause(D)}constructor(D,N,$,fe,Se,We,ye,$e,It,Jt,Tn,Mt=[]){this.selfAttendeeId=D,this.meetingId=N,this.mediaRegion=$,this.callId=fe,this.audioVideoFacade=Se,this.observer=We,this.deviceManager=ye,this.videoStreamsManager=$e,this.shouldTraceAppMetrics=Tn,this.dataChannelSubscribers=Mt,this.callLogger=Object(Vn.c)("FREE-WILLY-AV"),this.consoleLog=Object(Vn.b)("FREE-WILLY-AV"),this.waitForStart=Object(Rn.a)(),this.waitForStop=Object(Rn.a)(),this.isStopRequested=!1,this.isSignallingOnly=!1,this.isReconnecting=!1,It&&(this.waitForStart=It),Jt&&(this.waitForStop=Jt);const Kt=void 0,zt=void 0,On=void 0;this.shouldTraceAppMetrics?this.statsManager=new Ji(Se,We):this.statsManager=new Go(D,this.callId,Se,We,On,Kt,zt,Kt),this.meetingEventLogger=new Jn(We,this.meetingId,this.mediaRegion,this.selfAttendeeId,this.callId),{reconnectTrace:this.huddleReconnectTracer}=Object(Xn.a)().getAllTraceHandlers()}},"AudioVideoObserverImpl");var _a=e("3Hq1"),qi=e("WcgR"),ec=e("+lUI");function no(ve){const D=(ve||"").split("-");return D&&(D.length===3||D.length===4)?D[2]:null}v(no,"getUserIdFromExternalId");var is=e("HlBM"),tc=e("Atq3"),zs=e("QIbu");function Yo(){switch(Object(c.X)()){case-3:return 1/.7;case-2:return 1/.8;case-1:return 1/.9;case 0:return 1;case 1:return 1/1.1;case 2:return 1/1.25;case 3:return 1/1.5;case 4:return 1/1.75;case 5:return 1/2;default:return 1}}v(Yo,"getScaleFactorForCurrentZoomLevel");function Ba(ve,D){const[N,$]=ve;return[N*D,$*D]}v(Ba,"getScaledCoordinates");function nc(ve,D){var N;const fe=Object(pn.i)()&&!Object(pn.j)("4.18.0")?1/Yo():1,Se=((N=ve.itemId)===null||N===void 0?void 0:N.toString())||null,We=ve.itemId==="self"?D:Se;switch(ve.type){case fn.c.New:case fn.c.Edit:{const[ye,$e]=Ba(ve.segment.a,fe),[It,Jt]=Ba(ve.segment.b,fe),[Tn,Mt]=Ba(ve.segment.c,fe),[Kt,zt]=Ba(ve.segment.d,fe);return{itemId:We,type:ve.type===fn.c.New?is.a.Draw.Type.NEW:is.a.Draw.Type.EDIT,segment:{a:{x:ye,y:$e},b:{x:It,y:Jt},c:{x:Tn,y:Mt},d:{x:Kt,y:zt}}}}case fn.c.End:return{itemId:We,type:is.a.Draw.Type.END};case fn.c.ChangeHue:return{itemId:We,type:is.a.Draw.Type.CHANGE_HUE,hue:ve.hue};case fn.c.Position:return{itemId:We,type:is.a.Draw.Type.POSITION,x:ve.x,y:ve.y};default:return Object(tc.a)(ve)}}v(nc,"convertDrawMessageToPeerMessage");function sc(ve,D){const N=ve.itemId===D?"self":ve.itemId;switch(ve.type){case is.a.Draw.Type.NEW:case is.a.Draw.Type.EDIT:{const fe=Object(pn.i)()&&!Object(pn.j)("4.18.0")?Yo():1;return{itemId:N,type:ve.type===is.a.Draw.Type.NEW?fn.c.New:fn.c.Edit,segment:{a:[(ve.segment.a.x||0)*fe,(ve.segment.a.y||0)*fe],b:[(ve.segment.b.x||0)*fe,(ve.segment.b.y||0)*fe],c:[(ve.segment.c.x||0)*fe,(ve.segment.c.y||0)*fe],d:[(ve.segment.d.x||0)*fe,(ve.segment.d.y||0)*fe]}}}case is.a.Draw.Type.END:return{itemId:N,type:fn.c.End};case is.a.Draw.Type.CHANGE_HUE:return{itemId:N,type:fn.c.ChangeHue,hue:ve.hue};case is.a.Draw.Type.POSITION:return{itemId:N,type:fn.c.Position,x:ve.x,y:ve.y};default:Object(bn.b)("Unhandled draw message case");return}}v(sc,"convertPeerMessageToDrawMessage");function ac(ve){let D=zs.d.Standard;return ve.type&&ve.type===is.a.Reacji.Type.Effect&&(D=zs.d.Effect),D}v(ac,"convertFromPeerReactionType");function oc(ve){let D=is.a.Reacji.Type.Standard;return ve===zs.d.Effect&&(D=is.a.Reacji.Type.Effect),D}v(oc,"convertToPeerReactionType");var Rs=e("wMt+");let so=v(class xo{updatePresence(D,N){N?this.attendeesStates.set(D,this.initializeState()):this.attendeesStates.delete(D)}calculateScore(D,N,$){const fe=this.attendeesStates.get(D);if(!fe||($!==null&&(fe.muted=$),fe.muted))return 0;const Se=Date.now();if(N){fe.noiseFloor=this.updateNoiseFloor(fe,N);const We={timestamp:Se,volume:N};fe.volumeSamples.push(We)}return this.pruneVolumeSamples(fe),this.getScore(fe,Se)}prioritizeVideoSendBandwidthForActiveSpeaker(){return!0}initializeState(){return{muted:!1,noiseFloor:0,volumeSamples:[]}}updateNoiseFloor(D,N){let $=D.noiseFloor;return N>$?$=(1-this.params.slowAttackFactor)*$+this.params.slowAttackFactor*N:$=(1-this.params.fastDecayFactor)*$+this.params.fastDecayFactor*N,Math.min($,this.params.noiseFloorMax)}pruneVolumeSamples(D){const N=Date.now()-this.params.analysisWindowMs,$=D.volumeSamples;for(;$.length&&$[0].timestamp<N;)$.shift()}getScore(D,N){return D.volumeSamples.reduce(($,fe)=>{const Se=Math.max(1,Math.ceil((N-fe.timestamp)/1e3));return $+Math.max(0,fe.volume-D.noiseFloor)/Se},0)}constructor(D=fn.o.DampedSwitching){this.windowedActiveSpeakerPolicyMode=D,this.attendeesStates=new Map,this.windowedActiveSpeakerPolicyMode===fn.o.FastSwitching?this.params=xo.FAST_SWITCHING_PARAMS:this.params=xo.DAMPED_SWITCHING_PARAMS}},"WindowedActiveSpeakerPolicy");so.DAMPED_SWITCHING_PARAMS={slowAttackFactor:.05,fastDecayFactor:.5,noiseFloorMax:.03,analysisWindowMs:3e3},so.FAST_SWITCHING_PARAMS={slowAttackFactor:.05,fastDecayFactor:.5,noiseFloorMax:.03,analysisWindowMs:300};let rc=v(class{shutdown(){window.clearTimeout(this.timerHandle),delete this.timerHandle}addDisconnectedAttendee(D){new Mn.n(D).hasModality(Mn.n.MODALITY_CONTENT)||this.disconnectedAttendees.has(D)||(this.disconnectedAttendees.set(D,Date.now()+this.timeoutMs),this.maybeStartTimer())}deleteDisconnectedAttendee(D){this.disconnectedAttendees.delete(D),this.disconnectedAttendees.size===0&&(window.clearTimeout(this.timerHandle),delete this.timerHandle)}hasDisconnectedAttendee(D){return this.disconnectedAttendees.has(D)}maybeStartTimer(){if(this.timerHandle||this.disconnectedAttendees.size===0)return;const D=this.disconnectedAttendees.get([...this.disconnectedAttendees.keys()][0]);D&&(this.timerHandle=window.setTimeout(this.runTimer,Math.max(D-Date.now(),10)))}runTimer(){window.clearTimeout(this.timerHandle),delete this.timerHandle;const D=[],N=Date.now();this.disconnectedAttendees.forEach(($,fe)=>{N>$&&(this.observer.onStalePeer(fe),D.push(fe))}),D.forEach($=>{this.disconnectedAttendees.delete($)}),this.maybeStartTimer()}constructor(D,N){this.timeoutMs=D,this.observer=N,this.runTimer=this.runTimer.bind(this),this.disconnectedAttendees=new Map}},"StaleAttendeeChecker");var ic=e("cZF4"),Qo=e("4TP3"),cc=e("mkut"),lc=e("qMRW");let dc=v(class{addSelf(D){this.selfId=D,this.addPeer(D)}removeSelf(D){Object(bn.b)(D===this.selfId,"Bad attendeeId when removing self"),delete this.selfId,this.removePeer(D)}addPeer(D){this.ids=Object(ic.a)(this.ids,[D]),Object(ot.a)(this.cachedPeerStates[D],($,fe)=>{this.peerStateForwarder[fe]&&!Object(_a.a)($)&&this.peerStateForwarder[fe](D,$)}),delete this.cachedPeerStates[D];const N=[];Object(ot.a)(this.cachedCallState,($,fe)=>{this.callStateForwarder[fe]&&!Object(_a.a)($)&&this.callStateForwarder[fe].getPeerIdFn($)===D&&(this.callStateForwarder[fe].forwardFn($),this.callStateForwarder[fe].isCached||N.push(fe))}),this.cachedCallState=Object(Wt.a)(this.cachedCallState,N)}removePeer(D){Object(Qo.a)(this.ids,D),Object(ot.a)(Object(cc.a)(this.cachedCallState),N=>{if(this.callStateForwarder[N]){const $=this.callStateForwarder[N].removeFn(this.cachedCallState[N],D);if(!$){delete this.cachedCallState[N];return}this.cachedCallState[N]=$}})}getPeers(){return this.ids}hasPeer(D){return this.ids.includes(D)}hasAttendee(D){return this.hasPeer(D)||D===this.selfId}updateCallState(D){const N=D;Object(ot.a)(D,($,fe)=>{this.callStateForwarder[fe]&&(N[fe]=this.callStateForwarder[fe].updateFn(this.cachedCallState[fe],$))}),Object(ot.a)(this.callStateForwarder,($,fe)=>{this.forwardOrCacheCallState([N],fe,$)})}updatePeerStates(D){Object(ot.a)(this.peerStateForwarder,(N,$)=>{this.forwardOrCachePeerState(D,$,N)})}setIncludeSelfAndNoneActiveSpeaker(D,N){D===this.includeSelf&&N===this.includeNone||(this.includeSelf=D,this.includeNone=N,Object(ot.a)(this.cachedCallState,($,fe)=>{this.callStateForwarder[fe]&&!Object(_a.a)($)&&this.callStateForwarder[fe].forwardFn($)}))}forwardOrCachePeerState(D,N,$){D.filter(Se=>!Object(_a.a)(Se.state[N])).map(Se=>({id:Se.peerId,value:Se.state[N]})).forEach(Se=>{let{id:We,value:ye}=Se;this.ids.includes(We)?$(We,ye):this.cachedPeerStates[We]={...this.cachedPeerStates[We],[N]:ye}})}forwardOrCacheCallState(D,N,$){D.filter(Se=>!Object(_a.a)(Se[N])).map(Se=>({value:Se[N]})).forEach(Se=>{let{value:We}=Se;const ye=$.getPeerIdFn(We);let $e=!1;ye&&(this.ids.includes(ye)||ye===this.NO_ACTIVE_SPEAKER)?$.forwardFn(We):$e=!0,($e||$.isCached)&&(this.cachedCallState={...this.cachedCallState,[N]:We})})}getAttendeeId(D){return new Mn.n(D).base()}constructor(D){this.observer=D,this.NO_ACTIVE_SPEAKER="none",this.ids=[],this.includeSelf=!1,this.includeNone=!1,this.cachedCallState={},this.cachedPeerStates={},this.callStateForwarder={activeSpeakerList:{updateFn:(N,$)=>{const fe=N||[],Se=$&&$.length?$[0]:this.NO_ACTIVE_SPEAKER;return Object(lc.a)(fe,[Se,this.NO_ACTIVE_SPEAKER]),fe.unshift(Se),fe},removeFn:(N,$)=>{if(N)return Object(Qo.a)(N,$),N},getPeerIdFn:N=>{const $=N.filter(fe=>fe===this.NO_ACTIVE_SPEAKER?this.includeNone:this.includeSelf||this.selfId!==this.getAttendeeId(fe));if($.length)return $[0]},forwardFn:N=>{const $=N.filter(fe=>fe===this.NO_ACTIVE_SPEAKER&&this.includeNone?!0:this.includeSelf||this.selfId!==this.getAttendeeId(fe));!$.length||$[0]===this.NO_ACTIVE_SPEAKER?this.observer.onNewActiveSpeaker(void 0):this.observer.onNewActiveSpeaker(this.selfId===$[0]?"self":$[0])},isCached:!0}},this.peerStateForwarder={isDrawEnabled:(N,$)=>{this.observer.onPeerDrawEnabled(N,$)}}}},"PeerCache");var ya=e("uslK");let uc=v(class{destroy(){var D,N,$;(D=this.peerCache)===null||D===void 0||D.getPeers().forEach(fe=>this.audioVideoFacade.realtimeUnsubscribeFromVolumeIndicator(fe)),delete this.peerCache,(N=this.staleAttendeeChecker)===null||N===void 0||N.shutdown(),delete this.staleAttendeeChecker,this.audioVideoFacade.realtimeUnsubscribeToAttendeeIdPresence(this.realtimeAttendeeIdPresenceCallback),this.audioVideoFacade.realtimeUnsubscribeToFatalError(this.realtimeFatalErrorCallback),this.audioVideoFacade.realtimeUnsubscribeToLocalSignalStrengthChange(this.realtimeLocalSignalStrengthChangeCallback),this.audioVideoFacade.realtimeUnsubscribeToMuteAndUnmuteLocalAudio(this.realtimeMuteAndUnmuteLocalAudioCallback),this.audioVideoFacade.realtimeUnsubscribeToSetCanUnmuteLocalAudio(this.realtimeSetCanUnmuteLocalAudioCallback),this.audioVideoFacade.unsubscribeFromActiveSpeakerDetector(this.activeSpeakerDetectorCallback),delete this.windowedActiveSpeakerPolicy,this.audioVideoFacade.realtimeUnsubscribeFromReceiveDataMessage(this.dataChannelTopic),($=this.audioVideoFacade.transcriptionController)===null||$===void 0||$.unsubscribeFromTranscriptEvent(this.realtimeReceiveTranscriptEventCallback),this.attendeeMuteRequests={}}selfDrawEnabled(D){this.sendPeerMessageOverDataChannel(new is.a({capabilities:{isDrawEnabled:D},fromPeerIdString:this.selfAttendeeId}))}sendReacji(D,N){let $;N?$={emoji:D,type:oc(N)}:$={emoji:D},this.sendPeerMessageOverDataChannel(new is.a({reacji:$,fromPeerIdString:this.selfAttendeeId}))}sendBackground(D){this.sendPeerMessageOverDataChannel(new is.a({background:{url:D},fromPeerIdString:this.selfAttendeeId}))}sendMuteRequest(D){this.sendPeerMessageOverDataChannel(new is.a({muteRequest:{peerId:D},fromPeerIdString:this.selfAttendeeId}))}sendJukeboxRequest(D){this.sendPeerMessageOverDataChannel(new is.a({jukeboxRequest:{songKey:D},fromPeerIdString:this.selfAttendeeId}))}sendJukeboxStopRequest(){this.sendPeerMessageOverDataChannel(new is.a({jukeboxRequest:{stop:!0},fromPeerIdString:this.selfAttendeeId}))}sendDrawMessage(D){this.sendPeerMessageOverDataChannel(new is.a({draw:nc(D,this.selfAttendeeId),fromPeerIdString:this.selfAttendeeId}))}sendContentShareDetails(D){this.sendPeerMessageOverDataChannel(new is.a({contentShareDetails:{sourceType:D,itemId:this.selfAttendeeId},fromPeerIdString:this.selfAttendeeId}))}onStalePeer(D){this.callLogger.info(`Removing stale peer: ${D}`),this.attendeeLeft(D),this.observer.onPeerDisconnected(D),this.observer.onPeerLeft(D)}setIncludeSelfAndNoneActiveSpeaker(D,N){var $;($=this.peerCache)===null||$===void 0||$.setIncludeSelfAndNoneActiveSpeaker(D,N)}attendeeJoined(D){if(D===this.selfAttendeeId){var N;(N=this.peerCache)===null||N===void 0||N.addSelf(D)}else{var $;($=this.peerCache)===null||$===void 0||$.addPeer(D)}this.audioVideoFacade.realtimeSubscribeToVolumeIndicator(D,this.realtimeVolumeIndicatorCallback),this.consoleLog.info(`Subscribed to attendee=${D} volume indicator`)}attendeeLeft(D){if(D===this.selfAttendeeId){var N;(N=this.peerCache)===null||N===void 0||N.removeSelf(D)}else{var $;($=this.peerCache)===null||$===void 0||$.removePeer(D)}this.audioVideoFacade.removeVideoTilesByAttendeeId(D),this.audioVideoFacade.realtimeUnsubscribeFromVolumeIndicator(D),this.consoleLog.info(`Unsubscribed from attendee=${D} volume indicator`)}sendPeerMessageOverDataChannel(D){this.isDataChannelReady()?this.audioVideoFacade.realtimeSendDataMessage(this.dataChannelTopic,is.a.encode(D).finish()):this.logFailureToSendPeerMessage(D)}isAttendeeOfTypeContent(D){return new Mn.n(D).hasModality(Mn.n.MODALITY_CONTENT)}realtimeAttendeeIdPresenceCallback(D,N,$,fe){var Se;if(this.consoleLog.info(`Attendee presence: attendeeId=${D}, isSelf=${this.selfAttendeeId===new Mn.n(D).base()}, present=${N}, externalUserId=${$}, dropped=${fe}`),(Se=this.windowedActiveSpeakerPolicy)===null||Se===void 0||Se.updatePresence(D,N),this.isAttendeeOfTypeContent(D)){N||this.audioVideoFacade.removeVideoTilesByAttendeeId(D);return}if(!$){this.callLogger.error(`Attendee presence: no externalUserId for attendee=${D}`),this.observer.onClogError("MissingExternalUserId");return}let We=null;if(N){var ye;fe===!1&&!(!((ye=this.peerCache)===null||ye===void 0)&&ye.hasAttendee(D))?We="joined":We="reconnected"}else fe===!0?We="disconnected":We="left";if(We===null){this.callLogger.error("Presence callback event is null");return}if(this.selfAttendeeId===D)switch(We){case"joined":this.observer.onSelfJoined(),this.observer.onSelfConnected();break;case"left":this.observer.onSelfDisconnected(),this.observer.onSelfLeft();break;case"disconnected":this.observer.onSelfDisconnected();break;case"reconnected":this.observer.onSelfConnected();break;default:this.callLogger.error(`unknown self event ${We}`);return}else{const Tn=no($);if(!Tn){this.callLogger.error(`No externalUserId for ${D}`);return}switch(We){case"joined":{var $e;($e=this.staleAttendeeChecker)===null||$e===void 0||$e.deleteDisconnectedAttendee(D),this.observer.onPeerJoined(D,Tn),this.observer.onPeerConnected(D),this.updatePeerVideoTile(D);break}case"left":this.observer.onPeerDisconnected(D),this.observer.onPeerLeft(D);break;case"disconnected":var It;(It=this.staleAttendeeChecker)===null||It===void 0||It.addDisconnectedAttendee(D),this.observer.onPeerDisconnected(D);break;case"reconnected":{var Jt;(Jt=this.staleAttendeeChecker)===null||Jt===void 0||Jt.deleteDisconnectedAttendee(D),this.observer.onPeerConnected(D),this.updatePeerVideoTile(D);break}default:this.callLogger.error(`unknown peer event ${We}`);return}}We==="joined"&&this.attendeeJoined(D),We==="left"&&this.attendeeLeft(D)}realtimeFatalErrorCallback(D){this.callLogger.error(`Chime session fatal error: name=${D.name}, message=${D.message}`),this.observer.onClogError(`FatalError: ${D.name} - ${D.message}`)}realtimeLocalSignalStrengthChangeCallback(D){this.consoleLog.debug(`Local attendee signalStrength=${D}`)}realtimeMuteAndUnmuteLocalAudioCallback(D){this.callLogger.debug(`Local attendee mute=${D}`),this.observer.onPeerMuted("self",D)}realtimeSetCanUnmuteLocalAudioCallback(D){this.consoleLog.debug(`Local attendee can unmute = ${D}`)}realtimeVolumeIndicatorCallback(D,N,$,fe,Se){if(this.consoleLog.debug(`Attendee volume indicator: attendeeId=${D}, volume=${N}, muted=${$}, signalStrength=${fe}, externalUserId=${Se}`),this.selfAttendeeId!==D){$?this.observer.onPeerMuted(D,!0):$!==null&&$===!1&&this.observer.onPeerMuted(D,!1);const We={[D]:$?0:N||0};this.observer.onUpdatedPeerAudioLevels(We)}else this.observer.onUpdatedSelfAudioLevel(N||0);fe!==null&&(this.selfAttendeeId===D?this.observer.onSelfConnectionQualityChanged("uplink",Object(fn.q)(fe)):this.observer.onPeerConnectionQualityChanged(D,"uplink",Object(fn.q)(fe)))}activeSpeakerDetectorCallback(D){var N;(N=this.peerCache)===null||N===void 0||N.updateCallState({activeSpeakerList:D})}realtimeReceiveDataMessageCallback(D){if(this.selfAttendeeId===D.senderAttendeeId){if(!D.throttled)return;this.callLogger.info(`Data message throttled: size=${D.data.length} bytes`);return}let N;try{N=is.a.decode(D.data)}catch($){this.callLogger.error(`Peer Message failed during decode, ignoring peer message.
				| Error: ${$}
				| Data Sender Attendee ID: ${D.senderAttendeeId}
				| Data Sender External Attendee ID: ${D.senderExternalUserId}
				| Topic: ${D.topic}`);return}this.handlePeerMessageFromDataMessage(N,D.senderAttendeeId)}handlePeerMessageFromDataMessage(D,N){const $=typeof D.fromPeerIdString=="string"?D.fromPeerIdString:void 0;if(D.jukeboxRequest){var fe;if(!Object(Rs.a)($,"fromPeerIdString is required in the jukebox request message")||!Object(Rs.a)(D.jukeboxRequest,"message.jukeboxRequest is required in the jukebox request message"))return;if(!this.peerCache||!(!((fe=this.peerCache)===null||fe===void 0)&&fe.hasPeer($))){this.callLogger.info(`Dropping jukeboxRequest from unknown peer: ${$}`);return}D.jukeboxRequest.songKey&&!D.jukeboxRequest.stop&&this.observer.onJukeboxRequest(D.jukeboxRequest.songKey),D.jukeboxRequest.stop&&this.observer.onJukeboxStopRequest()}else if(D.reacji){var Se;if(!Object(Rs.a)($,"fromPeerIdString is required in the reacji message")||!Object(Rs.a)(D.reacji.emoji,"reacji.emoji is required in the reacji message"))return;if(!((Se=this.peerCache)===null||Se===void 0)&&Se.hasPeer($)){const Jt=ac(D.reacji);this.observer.onPeerReacji($,D.reacji.emoji,!0,Jt)}else this.callLogger.info(`Dropping reacji from unknown peer: ${$}`)}else if(D.draw){var We;const Jt=sc(D.draw,this.selfAttendeeId);if(!Object(Rs.a)($,"fromPeerIdString is required in the draw message")||!Object(Rs.a)(Jt,"Draw message must be correctly formed"))return;!((We=this.peerCache)===null||We===void 0)&&We.hasPeer($)?this.observer.onPeerDrawMessage($,Jt):this.callLogger.info(`Dropping draw message from unknown peer: ${$}`)}else if(D.capabilities){if(!Object(Rs.a)($,"fromPeerIdString is required in the capabilities message"))return;if(!Object(_a.a)(D.capabilities.isDrawEnabled)){var ye;(ye=this.peerCache)===null||ye===void 0||ye.updatePeerStates([{peerId:$,state:{isDrawEnabled:D.capabilities.isDrawEnabled}}])}}else if(D.muteRequest){var $e;if(!Object(Rs.a)($,"fromPeerIdString is required in the muteRequest message")||!Object(Rs.a)(D.muteRequest.peerId,"muteRequest.peerId is required in the background message"))return;if(!(($e=this.peerCache)===null||$e===void 0)&&$e.hasPeer($)){if(D.muteRequest.peerId===this.selfAttendeeId){var It;const Jt=this.attendeeMuteRequests[N],Tn=Jt==null?void 0:Jt.lastRequestTime,Mt=Date.now();if(Jt?(Jt.lastRequestTime=Mt,Jt.count+=1):this.attendeeMuteRequests[N]={lastRequestTime:Mt,count:1},Tn&&Mt-Tn<=this.attendeeMuteRequestThrottleMs){this.callLogger.info(`Throttled mute request from attendee: ${N} peer: ${$}`);return}if(((It=this.attendeeMuteRequests[N])===null||It===void 0?void 0:It.count)>=this.attendeeMuteRequestMaxAllowed){this.callLogger.info(`Dropped mute request from attendee: ${N} peer: ${$}`);return}}this.observer.onPeerMuteRequest($,D.muteRequest.peerId)}else this.callLogger.info(`Dropping mute request from unknown peer: ${$}`)}else if(D.contentShareDetails){if(!Object(Rs.a)($,"fromPeerIdString is required in the contentShareDetails message")||!Object(Rs.a)(D.contentShareDetails.itemId,"contentShareDetails.itemId is required in the contentShareDetails message")||!Object(Rs.a)(D.contentShareDetails.sourceType,"contentShareDetails.sourceType is required in the contentShareDetails message"))return;this.callLogger.info(`Received content share details for item: ${D.contentShareDetails.itemId}, type: ${D.contentShareDetails.sourceType}`);const Jt=Object(ya.c)(D.contentShareDetails.sourceType);this.observer.onContentShareDetailsUpdate($,Jt,D.contentShareDetails.sourceType)}}realtimeReceiveTranscriptEventCallback(D){this.observer.onTranscriptionEvent(D)}updatePeerVideoTile(D){this.audioVideoFacade.getAllVideoTiles().filter(fe=>{const Se=fe.state();return!Se||!Se.boundAttendeeId?!1:new Mn.n(Se.boundAttendeeId).base()===new Mn.n(D).base()}).forEach(fe=>{const Se=(fe==null?void 0:fe.state())||null;Se&&this.observer.onPeerVideoTileUpdate(D,Se)})}constructor(D,N,$,fe=fn.o.DampedSwitching){var Se;this.selfAttendeeId=D,this.audioVideoFacade=N,this.observer=$,this.windowedActiveSpeakerPolicyMode=fe,this.callLogger=Object(Vn.a)("AUDIO-VIDEO-FACADE-SUBS"),this.consoleLog=Object(Vn.b)("AUDIO-VIDEO-FACADE-SUBS"),this.dataChannelTopic="data-channel",this.staleAttendeeTimeoutMs=60*1e3,this.attendeeMuteRequestThrottleMs=10*1e3,this.attendeeMuteRequestMaxAllowed=50,this.attendeeMuteRequests={},this.isDataChannelReady=()=>{var We,ye,$e;return(We=this.audioVideoFacade.audioVideoController)===null||We===void 0||(ye=We.meetingSessionContext)===null||ye===void 0||($e=ye.signalingClient)===null||$e===void 0?void 0:$e.ready()},this.logFailureToSendPeerMessage=We=>{const ye=We.draw?"draw":"reacji",$e=v(()=>this.callLogger.error(`Failed to send ${ye} peer message. Data channel is not ready to use.`),"logError");return Object(ec.a)(ye,$e)},Object(qi.a)(this,["realtimeAttendeeIdPresenceCallback","realtimeFatalErrorCallback","realtimeLocalSignalStrengthChangeCallback","realtimeMuteAndUnmuteLocalAudioCallback","realtimeSetCanUnmuteLocalAudioCallback","activeSpeakerDetectorCallback","realtimeVolumeIndicatorCallback","realtimeReceiveDataMessageCallback","realtimeReceiveTranscriptEventCallback"]),this.audioVideoFacade.realtimeSubscribeToAttendeeIdPresence(this.realtimeAttendeeIdPresenceCallback),this.audioVideoFacade.realtimeSubscribeToFatalError(this.realtimeFatalErrorCallback),this.audioVideoFacade.realtimeSubscribeToLocalSignalStrengthChange(this.realtimeLocalSignalStrengthChangeCallback),this.audioVideoFacade.realtimeSubscribeToMuteAndUnmuteLocalAudio(this.realtimeMuteAndUnmuteLocalAudioCallback),this.audioVideoFacade.realtimeSubscribeToSetCanUnmuteLocalAudio(this.realtimeSetCanUnmuteLocalAudioCallback),this.windowedActiveSpeakerPolicy=new so(this.windowedActiveSpeakerPolicyMode),this.audioVideoFacade.subscribeToActiveSpeakerDetector(this.windowedActiveSpeakerPolicy,this.activeSpeakerDetectorCallback),this.audioVideoFacade.realtimeSubscribeToReceiveDataMessage(this.dataChannelTopic,this.realtimeReceiveDataMessageCallback),(Se=this.audioVideoFacade.transcriptionController)===null||Se===void 0||Se.subscribeToTranscriptEvent(this.realtimeReceiveTranscriptEventCallback),this.peerCache=new dc(this.observer),this.staleAttendeeChecker=new rc(this.staleAttendeeTimeoutMs,this)}},"AudioVideoFacadeSubscriber");var mc=e("vFlG"),Na=e("yIs4");const hc=15,fc=2560,Wa="text";let vc=v(class{stopMusic(D){let{cleanObserver:N}=D;this.huddlesJukeboxEnabled&&this.isMusicEnabled&&(this.isMusicEnabled=!1,this.audioVideoFacade.stopContentShare(),N&&this.audioVideoFacade.removeContentShareObserver(this))}stop(){var D=this;return Object(Gt.coroutine)(function*(){D.isScreenshareEnabled&&(D.isStopRequested=yield D.stopContentShare()),D.huddlesJukeboxEnabled&&D.stopMusic({cleanObserver:!0}),D.isStopRequested||(D.observer.onScreenShareStopped(),D.audioVideoFacade.removeContentShareObserver(D))})()}contentShareDidStart(){this.log.info("Chime content share started"),this.waitForStart.resolve(!0),this.observer.onScreenShareStarted()}contentShareDidStop(){this.log.info("Chime content share stopped"),this.isScreenshareEnabled&&this.log.info("Screenshare stop: stream ended"),this.isScreenshareEnabled=!1,this.observer.onScreenShareStopped(),this.isStopRequested&&this.audioVideoFacade.removeContentShareObserver(this)}contentShareDidPause(){this.log.info("Chime content share paused")}contentShareDidUnpause(){this.log.info("Chime content share unpaused")}setSongStream(D){var N=this;return Object(Gt.coroutine)(function*(){N.huddlesJukeboxEnabled&&(N.waitForStart=Object(Rn.a)(),N.audioVideoFacade.setContentAudioProfile(Mn.b.fullbandMusicStereo()),yield N.audioVideoFacade.startContentShare(D),N.isMusicEnabled=!0)})()}setScreenshare(D,N,$){var fe=this;return Object(Gt.coroutine)(function*(){if(D!==fe.isScreenshareEnabled)if(D){let Se=N;if(N){const ye=N.split(":");ye.length===3&&ye[2]!=="0"&&(ye[2]="0",Se=ye.join(":"),fe.log.warn(`Munging screen share media source id, before: ${N}, after: ${Se}`))}let We;try{fe.waitForStart=Object(Rn.a)();const ye=v($e=>{throw fe.log.error(`getUserMedia error during huddle screenshare attempt: ${$e.name} ${$e.message}`),$e},"logGetUserMediaError");if(Object(c.db)()&&fe.log.info(`Starting screen share with zoomLevel = ${Object(c.X)()}`),Object(c.db)()&&$){const{screenHeight:$e,screenWidth:It,selectedDisplayId:Jt}=$;if(We={video:{mandatory:{chromeMediaSource:"desktop",chromeMediaSourceId:Se,maxFrameRate:hc}}},It&&$e){const Kt=We.video.mandatory,zt=It/$e,On=fc;Kt.maxWidth=It<On?It:On,Kt.maxHeight=$e<On?$e:On;const Sn=navigator.mediaDevices.getSupportedConstraints();Object(mc.a)(Sn,"aspectRatio")&&!!Sn.aspectRatio&&Object(Na.a)(zt)&&(Kt.minAspectRatio=zt,Kt.maxAspectRatio=zt),fe.log.info(`Starting screen share with resolution constraints: ${Kt.maxWidth} x ${Kt.maxHeight} | resolution provided: ${It} x ${$e}`)}else fe.log.info("Starting application window share without proposed resolution");const Mt=yield navigator.mediaDevices.getUserMedia(We).catch(ye);(Mt==null?void 0:Mt.getVideoTracks().length)>0?(fe.log.debug(`Applying content hint to content share stream. Content Hint ${Wa}`),Mt.getVideoTracks()[0].contentHint=Wa):fe.log.warn("No video tracks where available when starting constrained content share"),setTimeout(()=>{const Kt=Mt.getVideoTracks()[0].getSettings(),zt=Object(ya.a)(Kt==null?void 0:Kt.deviceId);on.a.publish({type:Ut.c.ScreenshareContentType,update:{screenshareContentType:zt}}),fe.log.info(`Created video track with resolution: ${Kt.width} x ${Kt.height} framerate: ${Kt.frameRate} aspect ratio: ${Kt.aspectRatio}`),Jt&&fe.log.info(`Sharing from selected display: ${Jt}`)},500),yield fe.audioVideoFacade.startContentShare(Mt)}else{fe.log.info("Starting unconstrained content share with chime API's startContentShareFromScreenCapture");const $e=yield fe.audioVideoFacade.startContentShareFromScreenCapture(Se).catch(ye);if(($e==null?void 0:$e.getVideoTracks().length)>0){fe.log.debug(`Applying content hint to content share stream. Content Hint ${Wa}`),$e.getVideoTracks()[0].contentHint=Wa;const It=$e.getVideoTracks()[0].getSettings(),Jt=Object(ya.a)(It==null?void 0:It.deviceId);on.a.publish({type:Ut.c.ScreenshareContentType,update:{screenshareContentType:Jt}})}else fe.log.warn("No video tracks where available when starting unconstrained content share")}}catch(ye){const $e=v(()=>{delete fe.waitForStart,fe.isScreenshareEnabled=!1,fe.observer.onScreenShareStopped()},"exitScreenshare");if(ye.name==="NotAllowedError"){$e(),ye.message==="Permission denied by system"&&fe.observer.onCheckSystemMediaAccess(fn.i.SCREEN);return}if(ye.name==="OverconstrainedError"){$e(),We&&fe.log.error(`Invalid stream constraints prevented screenshare from succeeding: ${JSON.stringify(We)}`);return}if(["TypeError","AbortError","Error"].includes(ye.name)){$e(),fe.observer.onScreenShareError(fn.m.ERROR);return}if(ye.name==="NotReadableError"){$e(),fe.observer.onScreenShareError(fn.m.NOT_READABLE_ERROR);return}throw ye.name==="NotFoundError"&&($e(),fe.observer.onScreenShareError(fn.m.NOT_FOUND_ERROR)),fe.log.error(`Encountered an uncaught error attempting to start screen share: ${ye.name} ${ye.message}`),fe.waitForStart.resolve(!1),$e(),ye}fe.lastEnableTimeMs=Date.now(),fe.isScreenshareEnabled=D}else fe.isScreenshareEnabled&&(yield fe.stopContentShare())})()}isScreenShareEnabled(){return this.isScreenshareEnabled||!1}stopContentShare(){var D=this;return Object(Gt.coroutine)(function*(){let N=!1;return D.waitForStart.isPending()?Date.now()-D.lastEnableTimeMs>1e4?(N=!0,D.log.info(`Stop screen share, force: ${Date.now()-D.lastEnableTimeMs} ms since start`)):(D.log.info("Stop screen share, waiting for content share start to resolve"),N=yield D.waitForStart,D.log.info(`Stop screen share, wait for content share start resolve finished: ${N}`)):(N=D.waitForStart.value(),D.log.info(`Stop screen share, promise resolved: ${N}`)),N?(D.audioVideoFacade.stopContentShare(),D.isScreenshareEnabled=!1,on.a.publish({type:Ut.c.ScreenshareContentType,update:void 0})):D.log.warn("Screen share disable ignored as screen share was not started successfully"),N})()}constructor(D,N,$){this.audioVideoFacade=D,this.observer=N,this.huddlesJukeboxEnabled=$,this.log=Object(Vn.c)("FREE-WILLY-CONTENT-SHARE"),this.isStopRequested=!1,this.lastEnableTimeMs=0,this.audioVideoFacade.addContentShareObserver(this),this.setScreenshare=Ot(this,this.setScreenshare,{skipIntermediatePendingRuns:!1})}},"ContentShareManager"),wo=v(class{addObserver(D){var N,$;(N=this.videoDownlinkPolicy)===null||N===void 0||($=N.addObserver)===null||$===void 0||$.call(N,D)}removeObserver(D){var N,$;(N=this.videoDownlinkPolicy)===null||N===void 0||($=N.removeObserver)===null||$===void 0||$.call(N,D)}remoteVideoSourcesDidChange(D){this.videoSources=D,this.updateChimeVideoPreferences()}updateChimeVideoPreferences(){if(!this.videoSources||!this.videoDownlinkPolicy)return;const D=[];this.videoSources.forEach(N=>{var $;const fe=($=N.attendee)===null||$===void 0?void 0:$.attendeeId;fe===this.selfAttendeeId||!fe||(fe.includes("#content")||!this.isAudioOnlyMode)&&D.push(N)}),this.sendChimeVideoPreferences(D)}constructor({selfAttendeeId:D,videoDownlinkPolicy:N}){this.logger=new nn.a("Huddles Video Streams Manager"),this.isAudioOnlyMode=!1,this.toggleAllIncomingVideo=$=>{this.isAudioOnlyMode=$,this.updateChimeVideoPreferences()},this.sendChimeVideoPreferences=$=>{var fe;try{this.logger.debug(`Sending updated video preferences to chime: ${JSON.stringify($)}`)}catch{}(fe=this.videoDownlinkPolicy)===null||fe===void 0||fe.chooseRemoteVideoSources($)},this.videoDownlinkPolicy=N,this.selfAttendeeId=D}},"HuddlesVideoStreamsManager");const nu=wo;var Oc=e("20qZ");let Ec=v(class{shutdown(){delete this.meetingReadinessChecker}executeAudioInputReadinessCheck(D){var N=this;return Object(Gt.coroutine)(function*(){const $=yield N.meetingReadinessChecker.checkAudioInput(D);N.observer.onFeedbackCheckAudioInput($)})()}executeAudioOutputReadinessCheck(D,N,$){var fe=this;return Object(Gt.coroutine)(function*(){const Se=yield fe.meetingReadinessChecker.checkAudioOutput(D,N,$);fe.observer.onFeedbackCheckAudioOutput(Se)})()}executeVideoInputReadinessCheck(D){var N=this;return Object(Gt.coroutine)(function*(){const $=yield N.meetingReadinessChecker.checkVideoInput(D);N.observer.onFeedbackCheckVideoInput($)})()}executeCameraResolutionReadinessCheck(D,N,$,fe){var Se=this;return Object(Gt.coroutine)(function*(){const We=yield Se.meetingReadinessChecker.checkCameraResolution(N,$,fe);Se.observer.onFeedbackCheckCameraResolution(D,We)})()}executeAudioConnectivityReadinessCheck(D){var N=this;return Object(Gt.coroutine)(function*(){const $=yield N.meetingReadinessChecker.checkAudioConnectivity(D);N.observer.onFeedbackCheckAudioConnectivity($)})()}executeVideoConnectivityReadinessCheck(D){var N=this;return Object(Gt.coroutine)(function*(){const $=yield N.meetingReadinessChecker.checkVideoConnectivity(D);N.observer.onFeedbackCheckVideoConnectivity($)})()}executeContentShareConnectivityReadinessCheck(D){var N=this;return Object(Gt.coroutine)(function*(){const $=yield N.meetingReadinessChecker.checkContentShareConnectivity(D);N.observer.onFeedbackCheckContentShareConnectivity($)})()}executeNetworkUDPConnectivityReadinessCheck(){var D=this;return Object(Gt.coroutine)(function*(){const N=yield D.meetingReadinessChecker.checkNetworkUDPConnectivity();D.observer.onFeedbackCheckNetworkUDPConnectivity(N)})()}executeNetworkTCPConnectivityReadinessCheck(){var D=this;return Object(Gt.coroutine)(function*(){const N=yield D.meetingReadinessChecker.checkNetworkTCPConnectivity();D.observer.onFeedbackCheckNetworkTCPConnectivity(N)})()}constructor(D,N,$,fe){if(this.chimeLogger=D,this.session=N,this.sessionExp=$,this.observer=fe,N){const Se=Object(Mn.C)();this.meetingReadinessChecker=new Se(this.chimeLogger,N)}if($){const Se=Object(Mn.D)();this.meetingReadinessChecker=new Se(this.chimeLogger,$)}}},"ReadinessCheckerManager");var xa=e("oTSI"),Da=e("LTG1");let gc=v(class{initialize(D,N){this.gainNode=N,this.audioContext=D}onAudioLevelUpdated(D){isNaN(D.value)||D.value<this.audioLevelActivationThreshold||(this.currentDuckingEndTimeout&&clearTimeout(this.currentDuckingEndTimeout),this.startDucking())}startDucking(){if(!this.gainNode||!this.audioContext)return;const D=this.defaultVolume*this.duckingAudioAdjustmentLevel;this.gainNode.gain.cancelScheduledValues(this.audioContext.currentTime),this.gainNode.gain.exponentialRampToValueAtTime(D,this.audioContext.currentTime+this.fadeInTimeLocal),this.currentDuckingEndTimeout=setTimeout(()=>{this.endDucking()},this.waitForFadeOutTime)}endDucking(){var D;this.gainNode&&this.audioContext&&((D=this.gainNode)===null||D===void 0||D.gain.exponentialRampToValueAtTime(this.defaultVolume,this.audioContext.currentTime+this.fadeOutTime))}constructor(D){this.defaultVolume=D,this.fadeOutTime=20,this.fadeInTimeLocal=.2,this.waitForFadeOutTime=3e3,this.duckingAudioAdjustmentLevel=.2,this.audioLevelActivationThreshold=.04,this.onAudioLevelUpdated=this.onAudioLevelUpdated.bind(this),Da.a.subscribeAll(this.onAudioLevelUpdated)}},"JukeboxDucker");const pc="HUDDLE-JUKEBOX";let _c=v(class{startLocalJukebox(D){let{song:N,volume:$}=D;var fe=this;return Object(Gt.coroutine)(function*(){var Se;const We=fe.getSongUrl({song:N});if(We===fe.localAudioUrl)return;fe.callLogger.info(`Starting local jukebox song key: ${N.key}.`),fe.audioContext||(fe.audioContext=new AudioContext),fe.cleanup(),fe.localAudioUrl=We;const $e=yield(yield window.fetch(We)).arrayBuffer(),It=yield fe.audioContext.decodeAudioData($e);fe.audioBufferSourceNode=fe.audioContext.createBufferSource(),fe.audioBufferSourceNode.buffer=It,fe.localAudio=new Audio,fe.localAudio.volume=$,fe.localMediaStreamAudioDestinationNode=fe.audioContext.createMediaStreamDestination(),fe.gainNode=fe.audioContext.createGain(),(Se=fe.jukeboxDucker)===null||Se===void 0||Se.initialize(fe.audioContext,fe.gainNode),fe.gainNode.gain.value=fe.defaultVolume,fe.audioBufferSourceNode.connect(fe.gainNode),fe.gainNode.connect(fe.localMediaStreamAudioDestinationNode),fe.localAudio.srcObject=fe.localMediaStreamAudioDestinationNode.stream,fe.audioBufferSourceNode.loop=!0,fe.audioBufferSourceNode.start(),fe.localAudio.play()})()}startContentShareJukebox(D){let{song:N}=D;var $=this;return Object(Gt.coroutine)(function*(){var fe,Se;$.audioContext||($.audioContext=new AudioContext),$.audioDestination||($.audioDestination=$.audioContext.createMediaStreamDestination()),$.callLogger.info(`Starting jukebox song key: ${N.key}`),$.cleanup();const We=$.getSongUrl({song:N}),$e=yield(yield window.fetch(We)).arrayBuffer(),It=yield $.audioContext.decodeAudioData($e);return $.audioBufferSourceNode=$.audioContext.createBufferSource(),$.audioBufferSourceNode.buffer=It,$.localAudio=new Audio,$.localMediaStreamAudioDestinationNode=$.audioContext.createMediaStreamDestination(),$.gainNode=$.audioContext.createGain(),(fe=$.jukeboxDucker)===null||fe===void 0||fe.initialize($.audioContext,$.gainNode),$.gainNode.gain.value=$.defaultVolume,$.audioBufferSourceNode.connect($.gainNode),$.gainNode.connect($.audioDestination),$.gainNode.connect($.localMediaStreamAudioDestinationNode),$.localAudio.srcObject=$.localMediaStreamAudioDestinationNode.stream,$.audioBufferSourceNode.loop=!0,$.audioBufferSourceNode.start(),$.localAudio.play(),(Se=$.audioDestination)===null||Se===void 0?void 0:Se.stream})()}stopJukebox(){this.callLogger.info(`Stopping jukebox for song: ${this.localAudioUrl||""}`),this.cleanup(),this.audioContext=void 0,this.audioDestination=void 0}cleanup(){var D,N,$,fe;(D=this.audioBufferSourceNode)===null||D===void 0||D.stop(),this.audioBufferSourceNode=void 0,(N=this.localAudio)===null||N===void 0||N.pause(),this.localAudio=void 0,this.localAudioUrl=void 0,($=this.gainNode)===null||$===void 0||$.disconnect(),this.gainNode=void 0,(fe=this.audioDestination)===null||fe===void 0||fe.disconnect()}hasAudio(){return!!this.localAudio}getVolume(){var D;return(D=this.localAudio)===null||D===void 0?void 0:D.volume}getSongUrl(D){let{song:N}=D;return N.url}constructor(){this.defaultVolume=.3,this.callLogger=Object(Vn.a)(pc),this.callLogger.info("Huddle Jukebox Manager created."),this.jukeboxDucker=new gc(this.defaultVolume)}},"JukeboxManager");var $o=Object(xa.a)(()=>new _c);const bc={connectionWaitTimeMs:5*1e3,connectionUnhealthyThreshold:10,sendingAudioFailureSamplesToConsider:2,sendingAudioFailureInitialWaitTimeMs:3*1e3},Ic={connectionWaitTimeMs:10*1e3,connectionUnhealthyThreshold:25,sendingAudioFailureSamplesToConsider:5,sendingAudioFailureInitialWaitTimeMs:10*1e3};var Cc=v(class{constructor({enableExperimentalConfig:D}){this.enableExperimentalConfig=!1,this.getConfiguration=()=>this.enableExperimentalConfig?Ic:bc,this.enableExperimentalConfig=!!D}},"ConnectionHealthPolicyManager");class ao{constructor(){this.isInitialized=!1,this.isUsingBattery=null,this.batteryLevel=null,this.isSupported=!1,this.registerListeners=()=>{var $,fe;($=this.battery)===null||$===void 0||$.addEventListener("chargingchange",this.handleBatteryUpdate),(fe=this.battery)===null||fe===void 0||fe.addEventListener("levelchange",this.handleBatteryUpdate)},this.removeEventListeners=()=>{var $,fe;($=this.battery)===null||$===void 0||$.removeEventListener("chargingchange",this.handleBatteryUpdate),(fe=this.battery)===null||fe===void 0||fe.removeEventListener("levelchange",this.handleBatteryUpdate)},this.handleBatteryUpdate=()=>{this.isSupported&&this.updateBatteryState()},this.updateBatteryState=()=>{this.isUsingBattery=!this.battery.charging,this.batteryLevel=this.battery.level};var D=this;this.initialize=Object(Gt.coroutine)(function*(){yield D.setUp(),D.updateBatteryState()});var N=this;this.setUp=Object(Gt.coroutine)(function*(){if(!N.isInitialized)try{if(navigator.getBattery){const $=yield navigator.getBattery();N.battery=$,N.battery&&(N.isSupported=!0,N.updateBatteryState(),N.registerListeners())}else N.isSupported=!1}catch{N.isSupported=!1}finally{N.isInitialized=!0}}),this.cleanup=()=>{this.isSupported&&this.removeEventListeners()},this.isUsingBatteryPower=()=>{if(this.isSupported)return!!this.isUsingBattery},this.getLevel=()=>{if(!(!this.isSupported||!Object(Na.a)(this.batteryLevel)))return this.batteryLevel*100},this.setUp()}}v(ao,"battery_manager_HuddleBatteryManager");const Zo=Object(xa.a)(()=>new ao),ou={getHuddleBatteryManager:Zo,HuddleBatteryManager:ao};var Jo=Zo;class Xo{initialize(D){let N=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[fn.i.MICROPHONE,fn.i.CAMERA],$=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,fe=arguments.length>3?arguments[3]:void 0,Se=arguments.length>4?arguments[4]:void 0,We=arguments.length>5?arguments[5]:void 0;var ye=this;return Object(Gt.coroutine)(function*(){var $e,It,Jt,Tn,Mt,Kt,zt,On,Sn,Nn;Se&&(ye.waitForStop=Se),We&&(ye.dataChannelSubscribers=We),ye.observer.onInit(),ye.options=D;const[Yn,Es,Ws,Cs,Fn]=yield Pn.a.all([ye.options.serverConfig,ye.options.useChimeSdkExp,ye.options.useSimulcast,ye.options.readinessCheck,ye.options.useGetMediaAccessCheckForWindows]),Ls=yield ye.options.backgroundVideoFilteringSetting;yield Object(Mn.J)(Es),Cs?ye.chimeLogger=new nn.a("READINESS-CHECK-SDK",Mn.p.DEBUG):(ye.chimeLogger=new nn.a(ye.loggerName),ye.callLogger=Object(Vn.a)(ye.loggerName)),($e=ye.callLogger)===null||$e===void 0||$e.info(`user agent: ${navigator.userAgent}`);const ea=Object(cs.f)();(It=ye.callLogger)===null||It===void 0||It.info(`Version TS: ${ea}`);const xs=(document==null||(Jt=document.documentElement)===null||Jt===void 0||(Tn=Jt.dataset)===null||Tn===void 0?void 0:Tn.versionHash)||"unknown";(Mt=ye.callLogger)===null||Mt===void 0||Mt.info(`Version Hash: ${xs}`),(Kt=ye.callLogger)===null||Kt===void 0||Kt.info(`Chime SDK Version: ${Mn.u.sdkVersion}${Es?" (Experimental)":""}`),ye.meeting=Yn.meeting,ye.attendee=Yn.attendee,ye.selfAttendeeId=ye.attendee.AttendeeId;const Fs=bs(Yn.attendee.ExternalUserId);if(ye.transportProtocols=Yn.transportProtocols,ye.isPrejoin=yield Pn.a.resolve(ye.options.isPrejoin),ye.meetingSessionConfiguration=new Mn.q(ye.meeting,ye.attendee),Ws&&ye.meetingSessionConfiguration){var gs;(gs=ye.callLogger)===null||gs===void 0||gs.info("Simulcast enabled"),ye.meetingSessionConfiguration.enableSimulcastForUnifiedPlanChromiumBasedBrowsers=!0}if((yield ye.options.usePriorityDownlinkPolicy)&&(ye.videoDownlinkPolicy=new Mn.a(ye.selfAttendeeId),ye.meetingSessionConfiguration.videoDownlinkBandwidthPolicy=ye.videoDownlinkPolicy,ye.meetingSessionConfiguration.keepLastFrameWhenPaused=!0,ye.videoStreamsManager=new wo({selfAttendeeId:ye.selfAttendeeId,videoDownlinkPolicy:ye.videoDownlinkPolicy})),ye.meetingSessionConfiguration.urls&&(ye.meetingSessionConfiguration.urls.urlRewriter=ye.urlRewriter.bind(ye)),ye.meetingSessionConfiguration&&ye.meetingSessionConfiguration.connectionHealthPolicyConfiguration){const Vs=new Cc({enableExperimentalConfig:yield ye.options.enableExperimentalConnectionHealthPolicyConfig});Object.assign(ye.meetingSessionConfiguration.connectionHealthPolicyConfiguration,Vs.getConfiguration())}ye.options.screenshareAutoKeyframesDisabled&&(yield ye.options.screenshareAutoKeyframesDisabled)&&Object(kn.a)((zt=ye.meetingSessionConfiguration)===null||zt===void 0?void 0:zt.disablePeriodicKeyframeRequestOnContentSender)&&(ye.meetingSessionConfiguration.disablePeriodicKeyframeRequestOnContentSender=!0);let Os=0;if(yield ye.options.useVoiceFocus){const Vs=yield ye.options.voiceFocusMaxModelsEnabled;if(Vs){var Hs;(Hs=ye.callLogger)===null||Hs===void 0||Hs.info("Voice Focus max models experiment enabled")}const ta=Date.now();ye.voiceFocusManager=new Oc.a(ye.chimeLogger,yield ye.options.voiceFocusModelVariant,Vs),yield ye.voiceFocusManager.init({configOnly:!1,shouldPreventAutoDisable:yield ye.options.shouldPreventVoiceFocusAutoDisable}),Os=Date.now()-ta}else{var Us;(Us=ye.callLogger)===null||Us===void 0||Us.info("Voice Focus experiment not enabled")}ye.observer.onMaybeVoiceFocusInitialized(Os);const Ds={audio:N.includes(fn.i.MICROPHONE),video:N.includes(fn.i.CAMERA)};Mn.c.disable();let ss;const Bs=yield ye.options.huddlesVideoEnabled,Ia=Bs?!0:!!(!((On=ye.voiceFocusManager)===null||On===void 0)&&On.isAvailable());(Sn=ye.callLogger)===null||Sn===void 0||Sn.info(`Huddles Video (pro-max) experiment enabled: ${!!Bs}`);const la=yield ye.options.audioContextLatencyHint;if(Es){const Vs=Object(Mn.F)(),ta=Object(Mn.B)();la&&ta.setDefaultLatencyHint(la),ye.defaultDeviceController=new ta(ye.chimeLogger,{enableWebAudio:Ia}),ye.defaultDeviceController.setDeviceLabelTrigger(()=>navigator.mediaDevices.getUserMedia(Ds)),ye.sessionExp=new Vs(ye.meetingSessionConfiguration,ye.chimeLogger,ye.defaultDeviceController),ss=ye.sessionExp.audioVideo}else{const Vs=Object(Mn.E)(),ta=Object(Mn.A)();la&&ta.setDefaultLatencyHint(la),ye.defaultDeviceController=new ta(ye.chimeLogger,{enableWebAudio:Ia}),ye.defaultDeviceController.setDeviceLabelTrigger(()=>navigator.mediaDevices.getUserMedia(Ds)),ye.session=new Vs(ye.meetingSessionConfiguration,ye.chimeLogger,ye.defaultDeviceController),ss=ye.session.audioVideo}const Ca=(yield ye.options.backgroundBlur2Enabled)||!1;if(Ca){var va;(va=ye.callLogger)===null||va===void 0||va.info("Background Blur 2 (VideoFXProcessor) is enabled")}const Oa={useGetMediaAccessCheckForWindows:Fn,backgroundVideoFilteringSetting:Ls,backgroundBlur2Enabled:Ca};ye.deviceManager=new ln(ss,ye.audioOutputElement,ye.observer,Oa,$,ye.chimeLogger,ye.defaultDeviceController,ye.voiceFocusManager),(Nn=ye.dataChannelSubscribers)===null||Nn===void 0||Nn.forEach(Vs=>Vs.onInitializeDataChannelSubscriber()),Cs?ye.readinessCheckerManager=new Ec(ye.chimeLogger,ye.session,ye.sessionExp,ye.observer):ye.audioVideoObserver=new Xi(ye.selfAttendeeId,ye.meeting.MeetingId,ye.meeting.MediaRegion,Fs,ss,ye.observer,ye.deviceManager,ye.videoStreamsManager,fe,ye.waitForStop,ye.shouldTraceAppMetrics,ye.dataChannelSubscribers);const Za=yield ye.options.huddlesJukeboxEnabled;if(Za){var La;(La=ye.callLogger)===null||La===void 0||La.info("Huddles Jukebox experiment enabled (prototype)")}ye.contentShareManager=new vc(ss,ye.observer,!!Za),ye.audioVideoFacadeSubscriber=new uc(ye.selfAttendeeId,ss,ye.observer,ye.windowedActiveSpeakerPolicyMode),ps.a.setTracer(),Jo().initialize(),ye.connect(),ye.screenManager=new ks(ye.options.singleAppShareEnabled),ps.a.setChimeMeetingId(ye.meeting.MeetingId,ye.meeting.ExternalMeetingId),ye.observer.onMeetingSessionInitialized(),ye.waitForInit.resolve()})()}shutdown(D){var N=this;return Object(Gt.coroutine)(function*(){var $,fe,Se,We,ye,$e;yield N.waitForInit,N.cleanupDataChannelSubscribers(),($=N.contentShareManager)===null||$===void 0||$.stop(),(fe=N.audioVideoObserver)===null||fe===void 0||fe.stop(),yield(Se=N.deviceManager)===null||Se===void 0?void 0:Se.shutdown(),(We=N.audioVideoFacadeSubscriber)===null||We===void 0||We.destroy(),(yield(ye=N.options)===null||ye===void 0?void 0:ye.readinessCheck)===!1&&(yield N.waitForStop),($e=N.readinessCheckerManager)===null||$e===void 0||$e.shutdown(),delete N.readinessCheckerManager,delete N.session,delete N.sessionExp,delete N.meetingSessionConfiguration,yield N.cleanupDefaultDeviceControllerRefs(),delete N.chimeLogger,delete N.callLogger,delete N.deviceManager,delete N.audioVideoFacadeSubscriber,delete N.audioVideoObserver,delete N.contentShareManager,delete N.screenManager,delete N.voiceFocusManager,delete N.videoStreamsManager,delete N.videoDownlinkPolicy,D&&D()})()}selfMicrophoneEnabled(D){var N;(N=this.deviceManager)===null||N===void 0||N.setMicrophone(D)}selfVideoEnabled(D,N,$,fe){var Se,We;(Se=this.deviceManager)===null||Se===void 0||Se.setCamera(D),(We=this.contentShareManager)===null||We===void 0||We.setScreenshare(N,$,fe)}startContentShareJukebox(D){let{song:N}=D;var $=this;return Object(Gt.coroutine)(function*(){var fe;const Se=yield $o().startContentShareJukebox({song:N});Se&&((fe=$.contentShareManager)===null||fe===void 0||fe.setSongStream(Se))})()}selfStopJukebox(){var D=this;return Object(Gt.coroutine)(function*(){var N;$o().stopJukebox(),(N=D.contentShareManager)===null||N===void 0||N.stopMusic({cleanObserver:!1})})()}setCameraQuality(D,N,$,fe){var Se;(Se=this.deviceManager)===null||Se===void 0||Se.setCameraQuality(D,N,$,fe)}setAGC(D){var N;(N=this.deviceManager)===null||N===void 0||N.setAGC(D)}setNewPreferredDevice(D,N){var $;($=this.deviceManager)===null||$===void 0||$.setPreferredDevice(D,N)}setNoiseSuppression(D){var N;(N=this.deviceManager)===null||N===void 0||N.setNoiseSuppression(D)}setVideoBackgroundEffect(D){var N;(N=this.deviceManager)===null||N===void 0||N.setVideoBackgroundEffect(D)}requestPreviewStreamForDeviceId(D,N,$){var fe;(fe=this.deviceManager)===null||fe===void 0||fe.requestPreviewStreamForDeviceId(D,N,$)}stopVideoPreviewForVideoInput(D){var N;(N=this.deviceManager)===null||N===void 0||N.stopVideoPreviewForVideoInput(D)}getScreenThumbnails(D){var N;return(N=this.screenManager)===null||N===void 0?void 0:N.getScreenThumbnails(D==null?void 0:D.thumbnailDimensions,D==null?void 0:D.isRefetch)}selfDrawEnabled(D){var N;(N=this.audioVideoFacadeSubscriber)===null||N===void 0||N.selfDrawEnabled(D)}sendReacji(D,N){var $;($=this.audioVideoFacadeSubscriber)===null||$===void 0||$.sendReacji(D,N)}sendBackground(D){var N;(N=this.audioVideoFacadeSubscriber)===null||N===void 0||N.sendBackground(D)}sendMuteRequest(D){var N;(N=this.audioVideoFacadeSubscriber)===null||N===void 0||N.sendMuteRequest(D)}sendJukeboxRequest(D){var N;(N=this.audioVideoFacadeSubscriber)===null||N===void 0||N.sendJukeboxRequest(D)}sendJukeboxStopRequest(){var D;(D=this.audioVideoFacadeSubscriber)===null||D===void 0||D.sendJukeboxStopRequest()}sendDrawMessage(D){var N;(N=this.audioVideoFacadeSubscriber)===null||N===void 0||N.sendDrawMessage(D)}sendContentShareDetails(D){var N;(N=this.audioVideoFacadeSubscriber)===null||N===void 0||N.sendContentShareDetails(D)}maybeBindAudioOutputElement(){var D;(D=this.deviceManager)===null||D===void 0||D.maybeBindAudioOutputElement()}maybeCheckSystemMediaAccess(D){var N;return(N=this.deviceManager)===null||N===void 0?void 0:N.maybeCheckSystemMediaAccess(D)}setIncludeSelfAndNoneActiveSpeaker(D,N){var $;($=this.audioVideoFacadeSubscriber)===null||$===void 0||$.setIncludeSelfAndNoneActiveSpeaker(D,N)}bindVideo(D,N,$){var fe;const Se=this.session||this.sessionExp;if(!Se)return;const We=(fe=Se.audioVideo.getVideoTile(D))===null||fe===void 0?void 0:fe.state();$?We!=null&&We.boundVideoStream&&Mn.o.connectVideoStreamToVideoElement(We.boundVideoStream,N,!1):(this.videoDownlinkPolicy&&(We!=null&&We.paused)&&Se.audioVideo.unpauseVideoTile(D),Se.audioVideo.bindVideoElement(D,N))}unbindVideo(D,N,$){const fe=this.session||this.sessionExp;fe&&($?Mn.o.disconnectVideoStreamFromVideoElement(N,!0):fe.audioVideo.getVideoTile(D)&&fe.audioVideo.unbindVideoElement(D))}pauseVideo(D){const N=this.session||this.sessionExp;if(!N)return;const $=N.audioVideo.getVideoTile(D),fe=$==null?void 0:$.state();!(fe!=null&&fe.isContent)&&(fe!=null&&fe.active)&&($==null||$.pause())}unpauseVideo(D){const N=this.session||this.sessionExp;if(!N)return;const $=N.audioVideo.getVideoTile(D),fe=$==null?void 0:$.state();fe!=null&&fe.paused&&($==null||$.unpause())}videoTileHasStream(D){const N=this.session||this.sessionExp;if(!N)return!1;const $=N.audioVideo.getVideoTile(D);if(!$)return!1;const fe=$.state();return fe?!!fe.boundVideoStream:!1}executeAudioInputReadinessCheck(D){var N=this;return Object(Gt.coroutine)(function*(){var $;yield($=N.readinessCheckerManager)===null||$===void 0?void 0:$.executeAudioInputReadinessCheck(yield N.deviceManager.getMediaDeviceInfo(D))})()}executeAudioOutputReadinessCheck(D,N,$){var fe=this;return Object(Gt.coroutine)(function*(){var Se;yield(Se=fe.readinessCheckerManager)===null||Se===void 0?void 0:Se.executeAudioOutputReadinessCheck(D?yield fe.deviceManager.getMediaDeviceInfo(D):"",N,$)})()}executeVideoInputReadinessCheck(D){var N=this;return Object(Gt.coroutine)(function*(){var $;yield($=N.readinessCheckerManager)===null||$===void 0?void 0:$.executeVideoInputReadinessCheck(yield N.deviceManager.getMediaDeviceInfo(D))})()}executeCameraResolutionReadinessCheck(D,N,$,fe){var Se=this;return Object(Gt.coroutine)(function*(){var We;yield(We=Se.readinessCheckerManager)===null||We===void 0?void 0:We.executeCameraResolutionReadinessCheck(D,yield Se.deviceManager.getMediaDeviceInfo(N),$,fe)})()}executeAudioConnectivityReadinessCheck(D){var N=this;return Object(Gt.coroutine)(function*(){var $;yield($=N.readinessCheckerManager)===null||$===void 0?void 0:$.executeAudioConnectivityReadinessCheck(yield N.deviceManager.getMediaDeviceInfo(D))})()}executeVideoConnectivityReadinessCheck(D){var N=this;return Object(Gt.coroutine)(function*(){var $;yield($=N.readinessCheckerManager)===null||$===void 0?void 0:$.executeVideoConnectivityReadinessCheck(yield N.deviceManager.getMediaDeviceInfo(D))})()}executeContentShareConnectivityReadinessCheck(D){var N=this;return Object(Gt.coroutine)(function*(){var $;yield($=N.readinessCheckerManager)===null||$===void 0?void 0:$.executeContentShareConnectivityReadinessCheck(D)})()}executeNetworkUDPConnectivityReadinessCheck(){var D=this;return Object(Gt.coroutine)(function*(){var N;yield(N=D.readinessCheckerManager)===null||N===void 0?void 0:N.executeNetworkUDPConnectivityReadinessCheck()})()}executeNetworkTCPConnectivityReadinessCheck(){var D=this;return Object(Gt.coroutine)(function*(){var N;yield(N=D.readinessCheckerManager)===null||N===void 0?void 0:N.executeNetworkTCPConnectivityReadinessCheck()})()}getMeetingMediaRegion(){var D;return(D=this.meeting)===null||D===void 0?void 0:D.MediaRegion}completePrejoin(D){var N=this;return Object(Gt.coroutine)(function*(){const{isStartMuted:$}=D;if(N.isPrejoin){var fe,Se;return $&&((fe=N.deviceManager)===null||fe===void 0||fe.setStartMutedBarrier($)),(Se=N.audioVideoObserver)===null||Se===void 0||Se.start(),N.maybeBindAudioOutputElement(),N.setIncludeSelfAndNoneActiveSpeaker(!0,!0),N.isPrejoin=!1,!0}return!1})()}urlRewriter(D){if(!D)return D;if(this.transportProtocols){const Se=this.transportProtocols;if(D.includes("?transport=udp")&&!Se.includes("udp")){var N;return(N=this.callLogger)===null||N===void 0||N.info("Dropping UDP transport"),""}if(D.includes("?transport=tcp")){if(D.includes("turns:")){if(!Se.includes("tls")){var $;return($=this.callLogger)===null||$===void 0||$.info("Dropping TLS transport"),""}}else if(!Se.includes("tcp")){var fe;return(fe=this.callLogger)===null||fe===void 0||fe.info("Dropping TCP transport"),""}}}return D.replace(`:${this.TURN_PORT_UDP}`,`:${this.OVERRIDE_TURN_PORT_UDP}`)}hasSession(){return!!this.session||!!this.sessionExp}setupVideoDeviceLabelTrigger(){var D,N=this;const $=function(){var fe=Object(Gt.coroutine)(function*(){try{var Se;N.videoDevicePermissionStatus="IN_PROGRESS";const ye=yield navigator.mediaDevices.getUserMedia({video:!0});return(Se=N.callLogger)===null||Se===void 0||Se.info("Video device permissions granted"),N.videoDevicePermissionStatus="GRANTED",ye}catch(ye){var We;throw N.videoDevicePermissionStatus="DENIED",N.observer.onSetNoMediaInput(fn.i.CAMERA),(We=N.callLogger)===null||We===void 0||We.info("Video device permissions denied"),ye}});return v(function(){return fe.apply(this,arguments)},"callback")}();(D=this.defaultDeviceController)===null||D===void 0||D.setDeviceLabelTrigger($)}maybeEnableSelfCamera(){let{isScreenshareEnabled:D}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};var N=this;return Object(Gt.coroutine)(function*(){if((yield N.initVideoPermission())&&(N.videoDevicePermissionStatus==="INITIAL"||N.videoDevicePermissionStatus==="GRANTED")){var fe;N.selfVideoEnabled(!0,!!D),N.observer.onPeerCameraActive("self",!0),(fe=N.callLogger)===null||fe===void 0||fe.info("maybeEnableSelfCamera:: enabling camera function executed")}})()}initVideoPermission(){var D=this;return Object(Gt.coroutine)(function*(){var N;return D.setupVideoDeviceLabelTrigger(),yield(N=D.deviceManager)===null||N===void 0?void 0:N.initVideoInputDevices()})()}getSelfAttendeeId(){return this.selfAttendeeId}connect(){var D=this;return Object(Gt.coroutine)(function*(){var N;if((yield(N=D.options)===null||N===void 0?void 0:N.userGrantedPermissionToJoin)===!0)if(D.isPrejoin){var $,fe,Se;yield($=D.deviceManager)===null||$===void 0?void 0:$.init(),yield(fe=D.deviceManager)===null||fe===void 0?void 0:fe.initNullMicrophone(),(Se=D.audioVideoObserver)===null||Se===void 0||Se.startWithSignalingOnly()}else{var We,ye;(We=D.audioVideoObserver)===null||We===void 0||We.start(),(ye=D.deviceManager)===null||ye===void 0||ye.init()}})()}constructor(D,N,$="FREE-WILLY-SDK",fe=fn.o.DampedSwitching,Se=!1){this.observer=D,this.audioOutputElement=N,this.loggerName=$,this.windowedActiveSpeakerPolicyMode=fe,this.shouldTraceAppMetrics=Se,this.TURN_PORT_UDP=3478,this.OVERRIDE_TURN_PORT_UDP=22466,this.waitForInit=Object(Rn.a)(),this.waitForStop=Object(Rn.a)(),this.cleanupDataChannelSubscribers=()=>{this.dataChannelSubscribers&&(this.dataChannelSubscribers.forEach(ye=>ye.onShutdownDataChannelSubscriber()),this.dataChannelSubscribers=void 0)};var We=this;this.cleanupDefaultDeviceControllerRefs=Object(Gt.coroutine)(function*(){var ye;if(!We.defaultDeviceController)return;yield We.defaultDeviceController.destroy();const $e=(ye=We.defaultDeviceController)===null||ye===void 0?void 0:ye.eventController;if($e){var It;const Jt=(It=$e.configuration)===null||It===void 0?void 0:It.urls;Jt&&(Jt.urlRewriter=void 0)}We.defaultDeviceController.deviceLabelTrigger=void 0,delete We.defaultDeviceController}),this.handleClientOffline=()=>{var ye;(ye=this.audioVideoObserver)===null||ye===void 0||ye.audioVideoDidStartConnecting(!0)},this.toggleAllIncomingVideo=ye=>{var $e;($e=this.videoStreamsManager)===null||$e===void 0||$e.toggleAllIncomingVideo(ye)},this.videoDevicePermissionStatus="INITIAL"}}v(Xo,"free_willy_sdk_FreeWillySdk");var qo=e("M3pb"),Tc=e("DN8O"),qn=e("SQ0V"),er=e("xwCZ"),Fa=e("2XU3"),tr=e("6l10"),nr=e("2mvv");const sr="screenhero.rooms.proxyLogs",ar=Object(qn.c)("Send call logs to the server",(ve,D,N)=>{let{logs:$,useSendBeacon:fe=!1,callId:Se}=N;const We=D();let ye;if(Se?ye=Se:We.activeCall&&We.activeCall.id&&(ye=We.activeCall.id),!ye)return Object(bn.b)(!1,"There should be an active call in progress in order to send logs."),Pn.a.reject(new Error("SendLogs: no call"));const $e=Object(er.d)(We),It=Object(u.g)(We);if(!It)return Pn.a.reject(new Error("SendLogs: no current team"));const Jt={data:{room_id:ye,user_id:$e.id,team_id:It.id,ua:window.navigator.userAgent,event_type:"calls_js_logs",encoding:"none",logs:$}},Tn={data:JSON.stringify(Jt.data)};return fe?Object(tr.a)({apiUrl:"/api/",method:sr,token:Object(nr.b)(We),versionTs:Object(cs.f)(),versionUid:Object(cs.h)(),args:Tn})?Pn.a.resolve():Pn.a.reject(new Error("SendLogs: beacon failed")):ve(Object(Fa.a)({method:sr,reason:"calls-logging",args:Tn}))});ar.meta={name:"createThunk",key:"createThunksendLogs",description:"Send call logs to the server"};const Mc=60*1e3,yc=5e3;class or{start(D){Object(bn.b)(!this.intervalHandle,"Log reporter already started."),this.callId=D,this.intervalHandle=window.setInterval(()=>this.report(!1),Mc),this.buffer.subscribeToSizeUpdates(N=>{N>yc&&this.report()}),window.addEventListener("beforeunload",this.unloadHandler)}stop(){let D=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,N=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;this.intervalHandle&&window.clearInterval(this.intervalHandle),this.intervalHandle=void 0,this.buffer.unsubscribe(),window.removeEventListener("beforeunload",this.unloadHandler),D&&this.report(N),this.callId=void 0}joinLogs(D){return D.map(N=>N.join(" ")).join(`
`)}report(){let D=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;if(this.isPostPending&&!D)return;const{dispatch:N}=Object(qo.a)(),$=this.buffer.flush();$.length&&(this.isPostPending=!0,N(ar({logs:this.joinLogs($),useSendBeacon:D,callId:this.callId})).catch(()=>{this.buffer.replace($.concat(this.buffer.flush()))}).finally(()=>{this.isPostPending=!1}))}constructor(D=Tc.a){this.buffer=D,this.isPostPending=!1,this.unloadHandler=()=>{window.Cypress||this.report(!0)}}}v(or,"log_reporter_LogReporter");var oo=e("gHj1"),ua=e("Cudo"),Ka=e("Ufq/"),ds=e("sgFo"),Ns=e("dqxO"),rr=e("gENi"),ro=e("yM+I"),ba=e("myfR"),oa=e("RVJP");function Dc(ve){switch(Object(oa.d)(ve,"calls_transport_type")){case"udp":return["udp"];case"tls":return["tls"];case"tcp_tls":return["tcp","tls"];case"udp_tls":return["udp","tls"];case"disabled":default:return["udp","tcp","tls"]}}v(Dc,"getAllowedTurnTransportTypes");var Sa=e("JoR1"),ra=e("t890"),Ha=e("sEtg"),Pa=e("Iqnp"),zn=e("+CZ0"),ir=e("BEQu"),Sc=e("xnu4"),Pc=e("LDAF"),jc=e("qAkX"),io=e("GNR7"),Ac=e("GlHf"),Rc=e("3vtZ"),cr=e("rZ8V"),Lc=e("UIWO"),co=e("r9F4"),Uc=e("E3dU"),lo=e("Yauy"),Bc=e("1I7x"),lr=e("v7mh"),ia=e("d3B0"),Xs=e("SIMs"),Va=e("p0i/"),dr=e("G0eX");function Nc(ve){return ve?Object(dr.C)(ve)?"free":Object(dr.y)(ve)?"enterprise":"pro":"unknown"}v(Nc,"getTeamTier");const uo=navigator.hardwareConcurrency,Wc=navigator.platform,xc=Object(pn.e)(),Fc=v(ve=>Object(As.a)(ve,(D,N,$)=>{if($===rt.c)return D;const fe=$.split(/-|_/).slice(0,-1).join("-"),Se=Object(Sc.a)(`windows-${fe}-count`);return D[Se]?D[Se]+=1:D[Se]=1,D},{}),"countWindowsByType"),mo=v(ve=>{if(!ve)return"";let D=ve;const N=/Default -/g;D=ve.replace(N,"");const $=/ *?\([^)]*?\) *?/g;return D=D.replace($,""),D=D.trim(),D},"scrubDeviceLabelForReporting"),Kc=Object(xa.a)((ve,D)=>{let{teamState:N,clientState:$}=ve;var fe,Se,We,ye,$e,It,Jt;const Tn=Object(zn.a)($),Mt=Object(zn.b)($),Kt=Object(Ka.c)(N),zt=Object(ds.u)(N),On=Object(ds.j)(N)&&Kt,Sn=Object(ds.q)(N),Nn=Mn.u.sdkVersion,Yn=Object(Rc.O)(N),Es=Object(Xs.x)(N,{huddleId:Tn}),Ws=Object(zn.e)($),Cs=Object(u.g)(N),Fn=!!Object(cr.g)(N),Ls=Ws?Object(Lc.c)(Ws):!1,ea=Nc(Cs);var xs;const Fs=(xs=(fe=Object(o.getBootedWorkspaces)($))===null||fe===void 0?void 0:fe.length)!==null&&xs!==void 0?xs:0,gs=Object(xn.b)(),Os=(gs==null||(Se=gs.deviceIdPriorities)===null||Se===void 0||(We=Se.camera)===null||We===void 0?void 0:We.length)||0,Hs=(gs==null||(ye=gs.deviceIdPriorities)===null||ye===void 0||($e=ye.microphone)===null||$e===void 0?void 0:$e.length)||0,Us=(gs==null||(It=gs.deviceIdPriorities)===null||It===void 0||(Jt=It.output)===null||Jt===void 0?void 0:Jt.length)||0,Ds=Object(Uc.i)(N),ss=Object(io.l)(N),Bs={xwsChannelCount:(Ds==null?void 0:Ds.length)||0,activeHuddleChannelCount:ss?Object.keys(ss).length:0,visibleChannelCount:0,visibleImChannelCount:0,visibleMpimChannelCount:0,unreadChannelCount:0,visibleSidebarItemCount:0};Ds.forEach(Oa=>{Object(lo.wb)(Oa)&&(Bs.visibleChannelCount+=1),Object(lo.yb)(N,Oa)&&(Bs.visibleImChannelCount+=1),Object(lo.zb)(N,Oa)&&(Bs.visibleMpimChannelCount+=1)});const{visibleChannelCount:Ia,visibleImChannelCount:la,visibleMpimChannelCount:Ca}=Bs;Bs.visibleSidebarItemCount=Ia+la+Ca;const va=Object(ds.B)(N);return{teamId:Ws,huddleId:Tn,huddleChannelId:Mt,workspaceCount:Fs,chimeSdkVersion:Nn,isIA4Prod:Fn,teamTier:ea,isPreWarmed:Es,isUnifiedGrid:Ls,isTranscriptAllowed:Yn,isChimeSdkExpEnabled:Kt,isHuddlesLaterEnabled:zt,isPriorityVideoDownlinkPolicyEnabled:va,isTroubleshootingPanelEnabled:Sn,isVideoFXProcessorEnabled:On,osPlatform:Wc,osVersion:xc,channelCountTags:Bs,devicePriorityListCameraCount:Os,devicePriorityListMicrophoneCount:Hs,devicePriorityListSpeakerCount:Us}},(ve,D)=>D);var Hc=v(ve=>{let{state:D,appMetrics:N}=ve;var $,fe,Se,We,ye,$e,It,Jt,Tn;const Mt=Object(a.getClientStoreInstance)().getState(),Kt=Object(zn.q)(Mt),zt=Object(zn.a)(Mt),On=`${Kt}${zt??""}`,Sn=Kc({teamState:D,clientState:Mt},On),{huddleId:Nn,huddleChannelId:Yn,workspaceCount:Es,channelCountTags:Ws,isIA4Prod:Cs,isTroubleshootingPanelEnabled:Fn}=Sn,Ls={};if(Cs){const as=Object(lr.a)(D),Ts=Object(ut.a)(Mt),Ta=as?Object(lr.h)(D,{tab:as}):{},{primary:na,secondary:sa,sidebar:Ea}=Ta||{};Object.assign(Ls,{viewPrimary:na==null?void 0:na.viewType,viewSecondary:sa==null?void 0:sa.viewType,viewSidebar:Ea==null?void 0:Ea.viewType,viewSidebarIsVisible:Ts,viewTab:as})}else{const as=Object(Ct.c)(Mt);Object.assign(Ls,{viewSidebarIsVisible:as})}const ea=Object(ia.i)(D),xs=Object(ia.g)(D),Fs=Object(ia.e)(D),gs=Object(ia.d)(D),Os={microphoneIsBlocked:ea,microphoneIsAvailable:xs,cameraIsBlocked:Fs,cameraIsAvailable:gs},Hs={},Us=Object(Ac.b)(D),Ds={};if(Us){const as=Object.keys(Us);Object.assign(Ds,{windowsTotalOpen:as.length,windowsOpenTypes:as.length?as.join(" "):"",windowsTypeWithFocus:Object(Pc.a)(Us,Ts=>!!Ts.isFocused),...Fc(Us)})}if(Fn){const as=Object(zn.j)(Mt),Ts=Object(Va.i)(D),Ta=Ts?Object(Va.d)(D):void 0,{shouldSurfaceNetworkWarning:na,shouldSurfaceDevicesWarning:sa,shouldSurfaceSystemWarning:Ea,shouldSurfaceGeneralWarning:Xd}=Object(Va.c)(D);Object.assign(Hs,{isAudioOnlyModeEnabled:as,isTroubleshootingPanelOpen:Ts,troubleshootingPanelTab:Ta,isNetworkWarningActive:na,isDevicesWarningActive:sa,isSystemWarningActive:Ea,isGeneralWarningActive:Xd})}const ss=Object(io.h)(D),Bs=ss==null?void 0:ss.map(as=>as.userId).sort().join(" "),Ia=($=Object(ia.c)(D,_t.b.Camera))===null||$===void 0?void 0:$.label,la=(fe=Object(ia.c)(D,_t.b.Microphone))===null||fe===void 0?void 0:fe.label,Ca=(Se=Object(ia.c)(D,_t.c))===null||Se===void 0?void 0:Se.label,{isScreenshareEnabled:va,isHostDrawEnabled:Oa,isHostDrawRendererActive:Za,isCameraEnabled:La,isMicrophoneEnabled:Vs,isConnected:ta}=Object(an.V)(D),So=!!va,Po=!!La,jo=Object(an.m)(D,{id:"self"}),Ao=Object(an.r)(D),Ei=Ao==="self",gi=ss.filter(as=>as.isCameraEnabled).length,pi=Object(Bc.b)(Yn),Ss=Object(xn.b)(),Kd=Po&&(Ss==null||(We=Ss.video)===null||We===void 0?void 0:We.effect)===Zn.a.Blur,_i=!!(!(Ss==null||(ye=Ss.audio)===null||ye===void 0)&&ye.enableNoiseSuppression),Hd=_i&&Ei,bi=Po&&(Ss==null||($e=Ss.video)===null||$e===void 0?void 0:$e.effect)===Zn.a.Background&&(Ss==null||(It=Ss.video)===null||It===void 0?void 0:It.effectBgKey)!==void 0,Ii=!!Ao,Vd=!!gi,Ro=Object(an.k)(D).length,Ci=!!Ro,Ti=Ro+(So?1:0),kd=Ti===2,Gd=Ci||So,zd=Object(Va.h)(D),Yd=Object(co.e)(D),Qd=Object(co.f)(D),wd=Ii?(Jt=ss.find(as=>as.id===Ao))===null||Jt===void 0?void 0:Jt.userId:void 0,$d={isBackgroundBlurActive:Kd,isNoiseSuppressionEnabled:_i,isNoiseSuppressionActive:Hd,isCustomVideoBackgroundActive:bi,isClosedCaptionsEnabled:Yd,isSideBySideCaptionsEnabled:Qd},Zd={callId:zt,isMicrophoneEnabled:Vs,isActiveSpeaker:Ei,isSomeoneSpeaking:Ii,isSomeoneSharingScreen:Gd,isVideoEnabledForSomeone:zd,isSharingScreen:So,isHostDrawEnabled:Oa,isHostDrawActive:Za,isSelfVideoEnabled:Po,isPeerVideoEnabled:Vd,isHuddleWindowVisible:pi,selectedCustomBackground:bi?Ss==null||(Tn=Ss.video)===null||Tn===void 0?void 0:Tn.effectBgKey:void 0,selectedCamera:mo(Ia),selectedMicrophone:mo(la),selectedSpeakers:mo(Ca),activeSpeakerUserId:wd,isPeerSharingScreen:Ci,isDualScreenshareActive:kd,cpuCount:uo,remotePeerCount:ss.length,remotePeerIds:Bs,remotePeersWithVideoCount:gi,peersScreensharingCount:Ro,activeScreenshareCount:Ti,workspaceCount:Es,huddleStartTimestamp:Kt,isDisconnected:ta===!1};let Mi={};if(N){const{cpu:as,memory:Ts,gpu:Ta}=N,na=Object(Na.a)(as)?Math.round(as*uo):void 0,sa=Object(Na.a)(Ta)?Math.round(Ta*uo):void 0,{useHwAcceleration:Ea}=Object(c.H)("settings")||{};Mi={cpuUseRelative:as?Math.round(as):void 0,cpuUse:na,gpuUse:sa,cpuWithGpu:na&&sa?na+sa:void 0,memoryUse:(Ts==null?void 0:Ts.workingSetSize)||void 0,isHardwareAccelerationEnabled:Ea}}let yi={};if(pi){var Lo,Uo,Bo;const as=Object(Xs.n)(D,{huddleId:Nn}),Ts=Object(Xs.g)(D,{huddleId:Nn,surface:as});yi={huddleWindowSurface:as,huddleWindowFocusedContentType:(jo==null||(Lo=jo.item)===null||Lo===void 0?void 0:Lo.type)||zs.a.None,huddleWindowIsFullscreen:Object(Xs.s)(D),huddleWindowBackground:Object(jc.a)((Uo=Object(Xs.b)(D,{huddleId:Nn}))===null||Uo===void 0||(Bo=Uo.url)===null||Bo===void 0?void 0:Bo.split("/")),huddleWindowIsThreadOpen:Object(Xs.B)(D),huddleWindowSelectedTab:Object(Xs.L)(D),huddleWindowIsSelfDrawingEnabled:Object(Xs.z)(D),huddleWindowWindowHeight:Ts==null?void 0:Ts.height,huddleWindowWindowWidth:Ts==null?void 0:Ts.width}}const Di=Jo(),Jd={batteryIsUsing:Di.isUsingBatteryPower(),batteryPercentRemaining:Di.getLevel()};return{...Zd,...$d,...Mi,...yi,...Ws,...Ls,...Os,...Jd,...Hs,...Ds,...Object(Wt.a)(Sn,["channelCountTags"])}},"getHuddleStateSnapshot"),Vc=e("l0nk"),Dn=e("sOAz"),ho=e("6rGi");const ur=Object(qn.c)("Resolve a pending huddle",(ve,D,N)=>Object(ho.a)().resolvePendingJoin(N));ur.meta={name:"createThunk",key:"createThunkresolvePendingHuddle",description:"Resolve a pending huddle"};var kc=ur,Gc=e("oCIk"),zc=e("IaLB"),Yc=e("4YJR");const fo=Object(qn.c)("update client huddle membership timers join",(ve,D)=>{const N=D(),$=Object(M.a)({state:N}),fe=Object(a.getStateForClientStore)(),Se=Object(zn.c)(fe),We=Object(oa.d)(N,"onbrd_1472")==="on",ye=Object(oa.d)(N,"onbrd_1483")==="on",$e=Object(zc.vb)(N,{tip:ae.f.Huddles});if(!Se){$.warn(Xt.c,"no active huddle found, cannot update state to together or alone");return}const It=Object(io.j)(N);if(It===0){Object(ho.a)().setAloneInHuddle();return}It>0&&((We&&$e||ye)&&ve(Object(Yc.p)(!0)),Object(ho.a)().setOthersInHuddle(),ve(Object(Gc.a)({clearOnEndedCallback:!0,logContext:"on-peer-joined"})))});fo.meta={name:"createThunk",key:"createThunkupdateAloneOrTogetherInHuddle",description:"update client huddle membership timers join"};var ma=e("q1tI"),Kn=e.n(ma),Qc=e("wSSu"),wc=e.n(Qc),$c=e("vJtL"),Zc=e("SZMM"),Jc=e("Enx8"),mr=e("WSQ4"),ka=e("nNoG"),vo=e("O86Y"),Xc=e("Kq+c"),qc=e("jMXC"),el=e("ueJG"),Oo=e("zxER"),Eo=e("Cfcg"),ha=e("iuhU"),tl=e("C3vN"),hr=e("1VgO");let fr=v(class extends ma.PureComponent{static getDerivedStateFromProps(D,N){return D.mediaStream!==N.currentMediaStream?D.mediaStream&&N.currentMediaStream&&D.mediaStream.id===N.currentMediaStream.id?{currentMediaStream:D.mediaStream,isFlipped:D.isFlipped,isCurrentMediaStreamReady:!1,prevMediaStream:void 0}:{prevMediaStream:D.mediaStream?N.currentMediaStream:void 0,currentMediaStream:D.mediaStream,isFlipped:D.isFlipped,wasFlipped:N.isFlipped,isCurrentMediaStreamReady:!1}:null}componentDidMount(){this.setupMedia()}componentDidUpdate(){this.setupMedia()}componentWillUnmount(){const D=this.videoRef.current,N=this.prevVideoRef.current;D&&(D.removeEventListener("canplay",this.onCanPlay),D.removeEventListener("pause",this.onPause),D.removeEventListener("resize",this.onResize)),N&&(N.removeEventListener("canplay",this.onCanPlay),N.removeEventListener("pause",this.onPause),N.removeEventListener("resize",this.onResize)),this.props.onVideoReady&&this.props.onVideoReady(!1)}onCanPlay(){const{currentMediaStream:D}=this.state,N=D&&D.getVideoTracks()[0];this.isDataStopped&&N&&N.readyState==="live"&&(this.props.onVideoReady&&this.props.onVideoReady(!0),this.setState(()=>({isCurrentMediaStreamReady:!0})))}onPause(D){this.state.currentMediaStream&&D.target.srcObject instanceof MediaStream&&D.target.srcObject.id===this.state.currentMediaStream.id&&(this.props.onVideoReady&&this.props.onVideoReady(!1),this.isDataStopped=!0)}setupMedia(){const{currentMediaStream:D,prevMediaStream:N}=this.state,$=this.videoRef.current,fe=this.prevVideoRef.current;$&&($.muted=!0,$.srcObject!==D&&($.addEventListener("canplay",this.onCanPlay),$.addEventListener("pause",this.onPause),$.addEventListener("resize",this.onResize),$.srcObject=D||null)),fe&&(fe.muted=!0,fe.srcObject!==N&&(fe.removeEventListener("canplay",this.onCanPlay),fe.removeEventListener("pause",this.onPause),fe.removeEventListener("resize",this.onResize),fe.srcObject=N||null))}onResize(){const D=this.videoRef.current;D&&(this.props.isSharingScreen?D.style.objectFit="contain":D.style.objectFit=D.videoWidth>D.videoHeight?"cover":"contain")}render(){const{className:D,isFlipped:N,refToForward:$}=this.props,{currentMediaStream:fe,prevMediaStream:Se,isCurrentMediaStreamReady:We,wasFlipped:ye}=this.state;return Kn.a.createElement(Kn.a.Fragment,null,!We&&Se&&Kn.a.createElement("video",{key:Se&&Se.id,className:Object(ha.default)("p-calls_video",D,{flipped:ye}),ref:this.prevVideoRef,autoPlay:!0}),Kn.a.createElement("video",{className:Object(ha.default)("p-calls_video",D,{flipped:N,hidden:!We}),ref:Object(hr.b)(this.videoRef,$),autoPlay:!0,key:fe&&fe.id}))}constructor(D){super(D),this.prevVideoRef=Kn.a.createRef(),this.videoRef=Kn.a.createRef(),this.isDataStopped=!0,this.state={isCurrentMediaStreamReady:!1,isFlipped:!1,wasFlipped:!1},this.onCanPlay=this.onCanPlay.bind(this),this.onPause=this.onPause.bind(this),this.onResize=this.onResize.bind(this)}},"CallsOriginalVideoElement");fr.displayName="CallsOriginalVideoElement";function go(){return go=Object.assign||function(ve){for(var D=1;D<arguments.length;D++){var N=arguments[D];for(var $ in N)Object.prototype.hasOwnProperty.call(N,$)&&(ve[$]=N[$])}return ve},go.apply(this,arguments)}v(go,"_extends");const nl=v((ve,D)=>{const N=Object(an.J)(ve,D.id);return{mediaStream:N.mediaStream,isFlipped:Object(an.Y)(N)&&!N.isScreenshareEnabled,isSharingScreen:N.isScreenshareEnabled}},"mapStateToProps"),sl=Object(Eo.a)(nl)(fr);var al=Kn.a.forwardRef((ve,D)=>Kn.a.createElement(sl,go({},ve,{refToForward:D}))),ol=e("pFNT"),rl=e("i9y5"),il=e("+KE1"),cl=e("rGCG");function ll(ve,D){const N=Math.min(D.width,D.height*ve),$=Math.min(D.height,D.width/ve);return{top:D.top+(D.height-$)/2,left:D.left+(D.width-N)/2,width:N,height:$}}v(ll,"getLargestRectForAspectRatioCenteredWithinRect");let po=v(class extends ma.PureComponent{detectDifference(D,N){return Math.abs(D-N)>1}componentDidMount(){Object(Vn.c)("GUEST-DRAW-WINDOW").info("Guest draw window mounted"),Object(Qn.a)(es.EventId.CALLS_GUEST_DRAW_ACTIVATED,{}),this.context.window.addEventListener("resize",this.onResize),Object(Rs.a)(this.videoRef.current,"Expected videoRef to be bound after mounting")&&(this.props.addEventListeners&&this.props.addEventListeners(this.videoRef,this.onResize,!0),this.onResize(),this.resizeTimeout=window.setTimeout(()=>{this.onResize()},4e3),this.videoRef.current.dispatchEvent(new Event("resize")))}componentDidUpdate(D){let{isVideoReady:N}=D;!N&&this.props.isVideoReady&&this.onResize()}componentWillUnmount(){this.props.removeEventListeners&&this.props.removeEventListeners(this.videoRef,this.onResize,!0),this.context.window.removeEventListener("resize",this.onResize),window.clearTimeout(this.resizeTimeout)}onResize(){if(!Object(Rs.a)(this.videoRef.current,"Expected videoRef to be bound on resize"))return;const D=this.videoRef.current;!D||D.videoHeight===0||this.setState(()=>({videoRect:ll(D.videoWidth/D.videoHeight,D.getBoundingClientRect())}))}render(){const D=Kn.a.Children.only(this.props.children),N=Kn.a.cloneElement(D,{ref:Object(hr.a)(this.videoRef,D)});return Kn.a.createElement(Kn.a.Fragment,null,N,this.state.videoRect&&Kn.a.createElement(il.a,{ref:this.drawRenderRef,isHidden:!this.props.isScreenShareEnabled,targetRect:this.state.videoRect}),this.props.isDrawEnabled&&this.state.videoRect&&Kn.a.createElement(cl.a,{ref:this.drawTargetRef,targetRect:this.state.videoRect}))}constructor(D){super(D),this.videoRef=Kn.a.createRef(),this.drawTargetRef=Kn.a.createRef(),this.drawRenderRef=Kn.a.createRef(),this.onResize=this.onResize.bind(this),this.state={}}},"GuestDraw");po.displayName="GuestDraw",po.contextType=mr.a;const dl=v((ve,D)=>{const N=Object(an.e)(ve);if(!N)throw Error("Guest draw should not be mounted without an active peer");const $=Object(an.J)(ve,N);return{isDrawEnabled:!!$.isScreenshareEnabled&&!!$.isDrawEnabled,isScreenShareEnabled:!!$.isScreenshareEnabled}},"guest_draw_mapStateToProps");var vr=Object(Eo.a)(dl)(po);const ul={isVideoReady:!1};let Or=v(class extends ma.PureComponent{onVideoReady(D){this.setState(N=>({...N,isVideoReady:D}))}renderVideo(){const{id:D,renderVideo:N,tileId:$}=this.props;if(N)return N(this.isVideoEnabledAndReady());if(!D){Object(bn.b)("Cannot render video without a peer id");return}return Kn.a.createElement(vr,{isVideoReady:this.state.isVideoReady},Kn.a.createElement(al,{id:D,tileId:$,onVideoReady:this.onVideoReady,className:Object(ha.default)({hidden:!this.state.isVideoReady})}))}renderImage(){const{isSpinning:D,prefCompliantUserName:N,member:$}=this.props;return Kn.a.createElement("div",{className:Object(ha.default)({hidden:this.state.isVideoReady})},Kn.a.createElement("div",{className:"p-active_speaker__member_image_wrapper"},Kn.a.createElement(ol.c,{className:Object(ha.default)({"p-active_speaker__member_image--spinning":D}),size:180,userId:$&&$.id,isInteractive:!1,tabIndex:-1}),D&&Kn.a.createElement("div",{className:"p-active_speaker__member_image__spinner_wrapper"},Kn.a.createElement(rl.a,{color:"white"}))),Kn.a.createElement("div",{className:"p-active_speaker__member_name"},N))}isVideoEnabledAndReady(){const{isVideoEnabled:D,isVideoEnabledAndReady:N}=this.props;return N?N(D):!!(D&&this.state.isVideoReady)}render(){const{isVideoEnabled:D}=this.props,N=Object(ha.default)("p-active_speaker",{"p-active_speaker--video_enabled":this.isVideoEnabledAndReady()});return Kn.a.createElement("div",{"data-qa":"active-speaker",className:N},D&&this.renderVideo(),!this.isVideoEnabledAndReady()&&this.renderImage())}constructor(D){super(D),this.state=ul,this.onVideoReady=this.onVideoReady.bind(this)}},"ActiveSpeaker");Or.displayName="ActiveSpeaker";function ml(ve,D){const N=Object(er.g)(ve,D),$=Object(tl.N)(ve,N);return{member:N,prefCompliantUserName:$}}v(ml,"mapCommonMemberState");const hl=v((ve,D)=>{const N=Object(an.J)(ve,D.id),$=N.isCameraEnabled,fe=N.isScreenshareEnabled,Se=Object(an.Y)(N)?Object(_.a)(ve):N.userId;return{tileId:D.tileId,isVideoEnabled:$||fe,isSpinning:N.isConnected===!1,...ml(ve,Se)}},"active_speaker_mapStateToProps");var fl=Object(Eo.a)(hl)(Or),vl=e("mf6s");function _o(){return _o=Object.assign||function(ve){for(var D=1;D<arguments.length;D++){var N=arguments[D];for(var $ in N)Object.prototype.hasOwnProperty.call(N,$)&&(ve[$]=N[$])}return ve},_o.apply(this,arguments)}v(_o,"with_free_willy_guest_draw_extends");const Er=v(ve=>v(class extends ma.PureComponent{addEventListeners(N,$,fe){N.current&&(N.current.addEventListener("canplay",$),fe&&N.current.addEventListener("resize",$))}removeEventListeners(N,$,fe){N.current&&(N.current.removeEventListener("canplay",$),fe&&N.current.removeEventListener("resize",$))}render(){return Kn.a.createElement(ve,_o({},this.props,{addEventListeners:this.addEventListeners,removeEventListeners:this.removeEventListeners}))}},"WithFreeWillyGuestDraw"),"withFreeWillyGuestDraw");Er.displayName="withFreeWillyGuestDraw";var Ol=Er;function bo(){return bo=Object.assign||function(ve){for(var D=1;D<arguments.length;D++){var N=arguments[D];for(var $ in N)Object.prototype.hasOwnProperty.call(N,$)&&(ve[$]=N[$])}return ve},bo.apply(this,arguments)}v(bo,"with_free_willy_active_speaker_extends");const El=Ol(vr),gr=v(ve=>v(class extends ma.PureComponent{isVideoEnabledAndReady(N){return N}renderVideo(N){const{id:$,tileId:fe}=this.props;if(!$){Object(bn.b)("Cannot render video without a peer id");return}return Kn.a.createElement(El,{isVideoReady:N},Kn.a.createElement(vl.a,{id:$,tileId:fe,shouldAttachStream:!0,"data-qa":"free-willy-peer-video-element"}))}render(){return Kn.a.createElement(ve,bo({},this.props,{renderVideo:this.renderVideo,isVideoEnabledAndReady:this.isVideoEnabledAndReady}))}constructor(N){super(N),this.isVideoEnabledAndReady=this.isVideoEnabledAndReady.bind(this),this.renderVideo=this.renderVideo.bind(this)}},"WithFreeWillyActiveSpeaker"),"withFreeWillyActiveSpeaker");gr.displayName="withFreeWillyActiveSpeaker";var gl=gr,pl=e("/MKj"),_l=e("qDEp"),pr=e("Nq3N"),bl=e("nHGf");const Il=new ka.b("huddles"),_r=v(()=>{const ve=Object(pl.useDispatch)(),D=Object(Oo.a)($=>!!Object(an.W)($,"isMicrophoneEnabled")),N=Object(ma.useCallback)(()=>{ve(Object(pr.a)(!D))},[D,ve]);return Kn.a.createElement("div",{className:"p-huddle_screen_viewer__mic_button_container"},Kn.a.createElement(_l.f,{className:Object(ha.default)("p-huddle_screen_viewer__mic_button p-huddle_screen_viewer__mic_button--mute",{"p-huddle_screen_viewer__mic_button--active":D}),onClick:N,type:"outline",role:"switch",size:"large","aria-label":Il.t("Microphone"),"aria-checked":D,disabled:!self},Kn.a.createElement(bl.a,{peerId:"self",isMicrophoneEnabled:D,allowMuteIconAnimation:!0})))},"HuddleScreenViewerMicButton");_r.displayName="HuddleScreenViewerMicButton";var Cl=_r;const Tl=gl(fl),Ml=new ka.b("huddles");function br(ve){const{peerId:D,isError:N}=ve,$=Object(Oo.a)(an.u),fe=Object(Oo.a)(It=>D?Object(an.J)(It,D):null);let Se;if($){var We,ye;Se=fe!=null&&fe.isScreenshareEnabled?fe==null||(We=fe.tileIds)===null||We===void 0||(ye=We.screenshare)===null||ye===void 0?void 0:ye.tileId:null}const $e=Kn.a.createElement("span",{className:"p-huddle_screen_viewer__error"},Ml.t("The screen share has ended."));return Kn.a.createElement("div",{className:"p-huddle_screen_viewer__container"},D&&!N&&Kn.a.createElement(Tl,{id:D,tileId:Se}),N?$e:Kn.a.createElement(Cl,null))}v(br,"HuddleScreenViewer"),br.displayName="HuddleScreenViewer";var yl=e("Z242");const ns={childWindow:void 0,childWindowToken:void 0,container:void 0,containerTileId:void 0},iu=ns,Ir=new ka.b("huddles"),Dl=v(ve=>{var D;const N=ve==null||(D=ve.document)===null||D===void 0?void 0:D.querySelectorAll(".p-huddle_screen_viewer__container"),$=N?N.length:0,fe=Object(Vn.c)("SCREENSHARE-VIEWER-APP");$>1?fe.info("Multiple containers rendered in viewing window. Shared stream may be hidden from view."):fe.info(`${$} containers rendered in viewing window.`)},"logRenderedApplicationsCount"),Ga=v(()=>{const{container:ve,childWindow:D}=ns;ve&&(wc.a.unmountComponentAtNode(ve),ns.containerTileId=void 0,ns.container=void 0),D&&(D.removeEventListener("beforeunload",Ga),D.close(),ns.childWindow=void 0,ns.childWindowToken=void 0)},"closeScreenShareWindow"),Sl=Object(qn.c)("Launch the window that renders screen share media",function(){var ve=Object(Gt.coroutine)(function*(D,N,$){var fe,Se,We;const ye=N(),$e=Object(M.a)({state:ye}),It=$!=null&&$.screenSharePeerId?$.screenSharePeerId:Object(an.A)(ye);let Jt=!1;const{container:Tn,containerTileId:Mt}=ns;It||($e.warn(Xt.c,"lastRemoteScreensharePeerId is not found"),Jt=!0);const Kt=Object(an.J)(ye,It||""),zt=Kt.userId?Object(Jc.a)(ye,Kt.userId):"";let On=Ir.t("Screen share");zt&&(On=Ir.t("{memberName} screen share",{memberName:Object(ka.l)(zt)}));const Sn={...qc.a,backgroundColor:"black",title:On,type:"huddle-call-screen-share"},Nn=Object(a.getStateForClientStore)();Object(zn.c)(Nn)||($e.warn(Xt.c,"no active huddle found"),Jt=!0);const Es=(Kt==null||(fe=Kt.tileIds)===null||fe===void 0||(Se=fe.screenshare)===null||Se===void 0?void 0:Se.tileId)||0;Object(a.dispatchForClientStore)(Object(ba.e)({tileId:Es}))||($e.warn(Xt.c,"video tile does not have stream"),Jt=!0);const Cs=!ns.childWindow||ns.childWindow.closed;if(Cs&&Object(pn.i)()){const{window:Fs,windowToken:gs}=yield Object(Zc.g)("",Sn);ns.childWindow=Fs,ns.childWindowToken=gs}else Cs&&(ns.childWindow=window.open("",On,"toolbar=no,location=no,directories=no,status=no,menubar=no,scrollbars=yes,resizable=yes,width=780,height=480")||void 0);if(!ns.childWindow){$e.warn(Xt.c,"No child window available. Exiting screen share window launch");return}const Fn=Object(vo.g)(ye);ns.childWindow.document&&(ns.childWindow.document.body.style.background="black");const Ls={window:ns.childWindow,windowToken:ns.childWindowToken};if(Cs&&(ns.childWindow.addEventListener("beforeunload",Ga),window.addEventListener("beforeunload",Ga)),!(Tn&&Mt===Es)||Cs){ns.containerTileId=Es;const Fs=Object(a.getStoreInstanceByTeamId)(Fn);ns.container=yield Object(Xc.a)(ns.childWindow,Kn.a.createElement(yl.a,{store:Fs},Kn.a.createElement(mr.a.Provider,{value:Ls},Kn.a.createElement(el.b,{shouldStopHuddle:!0},Kn.a.createElement(br,{peerId:It,isError:Jt})))),{useContainer:!0})}const xs=(We=ns.childWindow)===null||We===void 0?void 0:We.browserWindowId;xs?Object(c.x)(xs):Object($c.a)(ns.childWindow.focus)&&ns.childWindow.focus(),Dl(ns.childWindow)});return function(D,N,$){return ve.apply(this,arguments)}}());Sl.meta={name:"createThunk",key:"createThunklaunchScreenShareWindow",description:"Launch the window that renders screen share media"};var Cr=e("0dq7"),Pl=e("LvvF");const Tr=Object(qn.c)("alerts if a user joins the huddle and the current user has hidden that user",(ve,D,N)=>{let{userId:$}=N;const fe=D();Object(oa.d)(fe,"hide_user_v1")==="on"&&Object(Pl.b)(fe,$)&&ve(Object(ua.b)(ua.a.HiddenUserJoinedHuddle))});Tr.meta={name:"createThunk",key:"createThunkmaybeAlertHiddenUserJoinedHuddle",description:"alerts if a user joins the huddle and the current user has hidden that user"};var Mr=e("gpLM"),yr=e("HKlo"),jl=e("x5lL");const Dr=Object(qn.c)("Send call analytics to the server",(ve,D,N)=>{const $=D().activeCall;let fe;if(N&&N.callId?fe=N.callId:$&&$.id&&(fe=$.id),!fe){Object(bn.b)("There should be an active call in progress in order to send analytics.");return}const Se=Al(new Is.a.calls.analytics.Report(N.stats),D()),We=Is.a.calls.analytics.Report.encode(Se).finish(),ye=String.fromCharCode(...We);return ve(Object(Fa.a)({method:"screenhero.rooms.postAnalytics",args:{room:fe,analytics:btoa(ye)},reason:"calls-analytics"}))});Dr.meta={name:"createThunk",key:"createThunksendAnalytics",description:"Send call analytics to the server"};function Al(ve,D){const N=ve;return N.recv=ve.recv.map($=>{if($.peerId){const fe=Object(an.E)(D,$.peerId);if(fe){const Se=$;Se.userId=fe.userId}}if($.peerIdString){const fe=Object(an.E)(D,$.peerIdString);if(fe){const Se=$;Se.userId=fe.userId}}return $}),N.recv=N.recv.filter($=>!!$.userId),ve}v(Al,"mapPeerIdsToUserIds");const Rl=Object(M.b)({label:"SEND-MEETING-EVENTS-LOGGER"}),Sr="screenhero.rooms.proxyMeetingEvents",Pr=Object(qn.c)("Send meeting events to the server",function(){var ve=Object(Gt.coroutine)(function*(D,N,$){let fe;try{fe=JSON.stringify($.events)}catch($e){Rl.error($e.message);return}const{metrics:Se,teamId:We}=Ll();if($.isUnloading){const $e={app:$.app,meeting_id:$.meetingId,media_region:$.mediaRegion,attendee_id:$.attendeeId,call_id:$.callId,ua:window.navigator.userAgent,event_type:"calls-chime-events",encoding:"none",events:fe,preferred_media_region:yield oo.a.getInstance().getNearestChimeMediaRegion(We),audio_connected_time:(Se==null?void 0:Se.audioConnectedTime)||0,first_presence_time:(Se==null?void 0:Se.firstPresenceTime)||0,rooms_join_time:(Se==null?void 0:Se.roomsJoinTime)||0,sdk_initialized_time:(Se==null?void 0:Se.sdkInitializedTime)||0,chime_attendee_presence_time:$.attendeePresenceDuration?$.attendeePresenceDuration:(Se==null?void 0:Se.attendeePresenceDuration)||0,chime_meeting_start_time:$.meetingStartDuration?$.meetingStartDuration:(Se==null?void 0:Se.meetingStartDuration)||0,chime_signaling_open_time:$.signalingOpenDuration?$.signalingOpenDuration:(Se==null?void 0:Se.signalingOpenDuration)||0,chime_ice_gathering_time:$.iceGatheringDuration?$.iceGatheringDuration:(Se==null?void 0:Se.iceGatheringDuration)||0,voice_focus_init_time:(Se==null?void 0:Se.voiceFocusInitializedTime)||0,creds_to_voice_focus_init_time:(Se==null?void 0:Se.credentialsToVoiceFocusInitializedTime)||0};return Object(tr.a)({apiUrl:"/api/",method:Sr,token:Object(nr.b)(N()),versionTs:Object(cs.f)(),versionUid:Object(cs.h)(),args:$e})?Pn.a.resolve():Pn.a.reject(new Error("sendMeetingEvents: beacon failed"))}const ye=$.isEnding?{app:$.app,meeting_id:$.meetingId,media_region:$.mediaRegion,attendee_id:$.attendeeId,events:fe,call_id:$.callId,preferred_media_region:yield oo.a.getInstance().getNearestChimeMediaRegion(We),audio_connected_time:(Se==null?void 0:Se.audioConnectedTime)||0,first_presence_time:(Se==null?void 0:Se.firstPresenceTime)||0,rooms_join_time:(Se==null?void 0:Se.roomsJoinTime)||0,sdk_initialized_time:(Se==null?void 0:Se.sdkInitializedTime)||0,chime_attendee_presence_time:$.attendeePresenceDuration?$.attendeePresenceDuration:(Se==null?void 0:Se.attendeePresenceDuration)||0,chime_meeting_start_time:$.meetingStartDuration?$.meetingStartDuration:(Se==null?void 0:Se.meetingStartDuration)||0,chime_signaling_open_time:$.signalingOpenDuration?$.signalingOpenDuration:(Se==null?void 0:Se.signalingOpenDuration)||0,chime_ice_gathering_time:$.iceGatheringDuration?$.iceGatheringDuration:(Se==null?void 0:Se.iceGatheringDuration)||0,voice_focus_init_time:(Se==null?void 0:Se.voiceFocusInitializedTime)||0,creds_to_voice_focus_init_time:(Se==null?void 0:Se.credentialsToVoiceFocusInitializedTime)||0}:{app:$.app,meeting_id:$.meetingId,media_region:$.mediaRegion,attendee_id:$.attendeeId,events:fe,call_id:$.callId};return D(Object(Fa.a)({method:Sr,args:ye,reason:"calls-chime-events"}))});return function(D,N,$){return ve.apply(this,arguments)}}());Pr.meta={name:"createThunk",key:"createThunksendMeetingEvents",description:"Send meeting events to the server"};function Ll(){const ve=Object(a.getStateForClientStore)(),{metrics:D,teamId:N}=Object(zn.p)(ve)||{};return{metrics:D,teamId:N}}v(Ll,"getCallMetricsAndTeamId");const Ul=Object(M.b)({label:"HANDLE-MEETING-EVENTS-LOGGER"}),jr=Object(qn.c)("Handle Chime meeting events",(ve,D,N)=>{let{events:$,callId:fe,meetingId:Se,mediaRegion:We,attendeeId:ye,isUnloading:$e,isEnding:It}=N;const Jt=Bl($);!Object(Qt.a)(Jt)&&!$e&&!It&&Object(a.dispatchForClientStore)(Object(yt.Y)({metrics:Jt})),ve(Pr({events:$,app:"huddles",callId:fe,meetingId:Se,mediaRegion:We,attendeeId:ye,isUnloading:$e,isEnding:It,attendeePresenceDuration:Jt.attendeePresenceDuration,signalingOpenDuration:Jt.signalingOpenDuration,iceGatheringDuration:Jt.iceGatheringDuration,meetingStartDuration:Jt.meetingStartDuration}))});jr.meta={name:"createThunk",key:"createThunkhandleMeetingEvents",description:"Handle Chime meeting events"};function Bl(ve){const D={};return ve.forEach(N=>{let{message:$}=N;try{const $e=JSON.parse($);switch($e.name){case"attendeePresenceReceived":var fe;D.attendeePresenceDuration=(fe=$e.attributes)===null||fe===void 0?void 0:fe.attendeePresenceDurationMs;break;case"meetingStartSucceeded":var Se,We,ye;D.signalingOpenDuration=(Se=$e.attributes)===null||Se===void 0?void 0:Se.signalingOpenDurationMs,D.iceGatheringDuration=(We=$e.attributes)===null||We===void 0?void 0:We.iceGatheringDurationMs,D.meetingStartDuration=(ye=$e.attributes)===null||ye===void 0?void 0:ye.meetingStartDurationMs;break;default:break}}catch($e){Ul.error("Invalid JSON in meeting event",$e)}}),D}v(Bl,"parseMeetingEventMetrics");var Nl=jr,qs=e("jj3I");const Ar=Object(qn.c)("Process AWS transcript event",(ve,D,N)=>{var $;if(Object(Mn.I)(N))return;const fe=N.results[0];if(!(fe!=null&&fe.resultId)||!Object(co.a)(D()))return;const Se=($=fe.alternatives[0])===null||$===void 0?void 0:$.items;if(!(Se!=null&&Se.length)){ve(Object(qs.g)({resultId:fe.resultId,transcriptions:[]}));return}const We=[];Se.forEach(ye=>{var $e;const It=We[We.length-1],Jt=no(($e=ye.attendee)===null||$e===void 0?void 0:$e.externalUserId);Jt&&(ye.type===Mn.t.PUNCTUATION?It&&(It.content=`${It.content}${ye.content}`,It.endTimeMs=ye.endTimeMs):We.push({memberId:Jt,timestampMs:ye.startTimeMs,endTimeMs:ye.endTimeMs||Date.now(),content:ye.content}))}),ve(Object(qs.g)({resultId:fe.resultId,transcriptions:We}))});Ar.meta={name:"createThunk",key:"createThunkprocessAwsTranscription",description:"Process AWS transcript event"};var Wl=Ar,fa=e("wVLq"),xl=e("O9MH");const Rr=Object(qn.c)("Maybe disable the screen share",function(){var ve=Object(Gt.coroutine)(function*(D,N){const $=Object(Vn.c)("CALLS-REDUX");N().peers.self.isScreenshareEnabled&&($.info("Attempted to turn off screen sharing"),D(Object(an.ob)({id:"self",isScreenshareEnabled:!1,selectedScreenId:void 0}))),Object(xl.a)()});return function(D,N){return ve.apply(this,arguments)}}());Rr.meta={name:"createThunk",key:"createThunkdisableScreenShareIfEnabled",description:"Maybe disable the screen share"};var Lr=e("PfQc");let Fl=v(class{onPeerMuted(D,N){this.dispatch(Object(an.ob)({id:D,isMicrophoneEnabled:!N}))}onPeerJoined(D,N){if(this.maybeRecordFirstPresenceTime(),N&&D){this.dispatch(Object(an.c)({id:D,userId:N,isMicrophoneEnabled:!0})),this.dispatch(fo());const $=Object(an.V)(this.store.getState());Object(a.dispatchForClientStore)(Object(yt.j)({isDrawEnabled:$.isDrawEnabled||!1})),this.dispatch(Object(qs.c)({type:fa.a.JOIN,memberId:N,timestampMs:Date.now()})),this.maybeRemoveUserAsPending(N),this.dispatch(Tr({userId:N}))}}onPeerLeft(D){var N;const $=(N=Object(an.P)(this.store.getState(),D))===null||N===void 0?void 0:N.userId;$&&(this.callLogger.info(`Peer left the huddle. userId=${$} peerId=${D}`),this.dispatch(Object(qs.c)({type:fa.a.LEAVE,memberId:$,timestampMs:Date.now()}))),this.dispatch(Object(an.fb)(D)),this.dispatch(fo())}onSelfJoined(){const D=this.recordTiming(mn.r);this.maybeRecordFirstPresenceTime(),this.dispatch(kc(D))}onSelfLeft(){this.dispatch(Object(ua.i)(Dn.a.HiddenUserJoinedHuddle))}onNewActiveSpeaker(D){this.dispatch(Object(an.hb)(D))}onPeerReacji(D,N,$,fe){var Se;this.dispatch(Object(an.a)({peerId:D,emoji:N,isEmoji:$,reactionType:fe}));const We=(Se=Object(an.P)(this.store.getState(),D))===null||Se===void 0?void 0:Se.userId;We&&this.dispatch(Object(qs.c)({type:fa.a.SEND_REACTION,memberId:We,timestampMs:Date.now(),emoji:N}))}onPeerMuteRequest(D,N){N===this.selfAttendeeId&&(this.dispatch(Object(pr.a)(!1)),this.dispatch(Object(Dn.b)({alert:Dn.a.PeerMuteRequest,peerId:D})),this.callLogger.info(`Peer muted self microphone : peerId:${D}`))}onError(D,N){let $;N===Mn.r[Mn.r.AudioJoinedFromAnotherDevice]?$=Cr.c.AudioJoinedFromAnotherDevice:N===Mn.r[Mn.r.MeetingEnded]&&($=Cr.c.ChimeMeetingEnded),this.dispatch(Object(Vc.a)({terminalState:$||D})),this.callLogger.info(`tearDown executed: terminalState: ${D}, statusCodeName: ${N} tearDownState: ${$}`)}onClogError(D){}onMeetingSessionInitialized(){this.recordTiming(mn.x);const D=Object(cn.d)({state:this.store.getState()}),N=D.measure(mn.d,mn.e);D.count(mn.e,N),Object(a.dispatchForClientStore)(Object(yt.Y)({metrics:{sdkInitializedTime:N}}))}onSelfPermissionUpdated(D,N){this.callLogger.info(`Received permission update from type:${N}, isDenied: ${D}`);let $;Object(pn.i)()?$=N===_t.b.Microphone?Dn.a.NoSystemAudio:Dn.a.NoSystemVideo:$=N===_t.b.Microphone?Dn.a.NoBrowserAudioPermission:Dn.a.NoBrowserVideoPermission,D?this.dispatch(Object(Dn.b)({alert:$})):this.dispatch(Object(Dn.c)($))}onSelfVideoTileUpdate(D){if(!D.tileId)return;const N=Object(an.V)(this.getState());if(!D.isContent&&!N.isCameraEnabled)return;if(!Object(an.u)(this.getState()))this.dispatch(Object(qs.c)({type:fa.a.SCREENSHARE_START,memberId:Object(_.a)(this.getState()),timestampMs:Date.now()})),this.dispatch(Object(an.ob)({id:"self",tileId:D.tileId,isScreenshareEnabled:!!D.isContent}));else if(D.isContent){var fe,Se;this.dispatch(Object(qs.c)({type:fa.a.SCREENSHARE_START,memberId:Object(_.a)(this.getState()),timestampMs:Date.now()}));const We=Object(an.q)(this.getState());((fe=N.tileIds)===null||fe===void 0||(Se=fe.screenshare)===null||Se===void 0?void 0:Se.tileId)!==D.tileId&&We!==zs.a.Screenshare&&this.dispatch(Object(Lr.a)({peerId:"self",contentViewType:zs.a.None,contentViewConfig:{}})),this.dispatch(Object(an.ob)({id:"self",tileId:D.tileId,isScreenshareEnabled:!!D.isContent}))}else this.dispatch(Object(an.ob)({id:"self",tileId:D.tileId,isCameraEnabled:!0}))}onPeerVideoTileUpdate(D,N){if(!N.tileId)return;const $=N.boundExternalUserId&&no(N.boundExternalUserId);N.isContent&&$&&(this.callLogger.info(`Peer screenshare started: userId=${$}`),this.dispatch(Object(qs.c)({type:fa.a.SCREENSHARE_START,memberId:$,timestampMs:Date.now()}))),this.dispatch(Object(an.qb)({id:D,tileId:N.tileId,isContent:N.isContent,isPaused:N.paused}))}onVideoTileRemoved(D){var N,$;const fe=this.store.getState(),Se=Object(an.F)(fe,D);Se&&(this.callLogger.info(`Peer screenshare stopped: userId=${Se}`),this.dispatch(Object(qs.c)({type:fa.a.SCREENSHARE_STOP,memberId:Se,timestampMs:Date.now()}))),this.dispatch(Object(an.pb)({tileId:D})),Ga();const We=Object(an.V)(fe);((N=We.tileIds)===null||N===void 0||($=N.screenshare)===null||$===void 0?void 0:$.tileId)===D&&We.contentViewType===zs.a.Screenshare&&this.dispatch(Object(Lr.a)({peerId:"self",contentViewType:zs.a.None,contentViewConfig:{}}))}onVideoTileWillPause(D){this.dispatch(Object(an.rb)({tileId:D}))}onVideoTileWillUnpause(D){this.dispatch(Object(an.sb)({tileId:D}))}onDeviceAccessApproved(D){switch(D){case fn.i.MICROPHONE:{Object(pn.i)()?(this.dispatch(Object(Dn.c)(Dn.a.NoSystemAudio)),this.dispatch(Object(Ns.k)())):(this.dispatch(Object(Dn.c)(Dn.a.NoBrowserAudioPermission)),this.dispatch(Object(Ns.j)()));break}case fn.i.CAMERA:{Object(pn.i)()?(this.dispatch(Object(Dn.c)(Dn.a.NoSystemVideo)),this.dispatch(Object(Ns.g)())):(this.dispatch(Object(Dn.c)(Dn.a.NoBrowserVideoPermission)),this.dispatch(Object(Ns.f)()));break}default:}}onCheckSystemMediaAccess(D){switch(D){case fn.i.MICROPHONE:{this.dispatch(Object(Ns.i)()),this.dispatch(Object(Dn.b)({alert:Dn.a.NoSystemAudio}));break}case fn.i.CAMERA:{this.dispatch(Object(Ns.e)()),this.dispatch(Object(Dn.b)({alert:Dn.a.NoSystemVideo}));break}case fn.i.SCREEN:{this.dispatch(Object(Ns.n)()),this.dispatch(Object(Dn.b)({alert:Dn.a.NoSystemScreenShare}));break}default:}}onBrowserMediaDeviceAccessDenied(D){switch(this.callLogger.error(`Self ${D} device access denied`),D){case fn.i.MICROPHONE:{this.dispatch(Object(Ns.h)()),this.dispatch(Object(Dn.b)({alert:Dn.a.NoBrowserAudioPermission}));break}case fn.i.CAMERA:{this.dispatch(Object(Ns.d)()),this.dispatch(Object(Dn.b)({alert:Dn.a.NoBrowserVideoPermission}));break}default:}}onStartSessionTimeout(){}onSetNoMediaInput(D){switch(D){case fn.i.MICROPHONE:{this.dispatch(Object(Dn.b)({alert:Dn.a.NoUserAudioStream}));break}case fn.i.CAMERA:{const N=Object(ia.f)(this.getState());if(Object(a.dispatchForClientStore)(Object(yt.W)({setVideoEnabled:!1})),!Object(pn.i)()&&N)break;this.dispatch(Object(Dn.b)({alert:Dn.a.NoUserVideoStream}));break}default:}}onClearNoMediaInput(D){switch(D){case fn.i.MICROPHONE:{this.dispatch(Object(Dn.c)(Dn.a.NoUserAudioStream));break}case fn.i.CAMERA:{this.dispatch(Object(Dn.c)(Dn.a.NoUserVideoStream));break}default:}}onSetNoAudioOutput(D){switch(D){case fn.k.AUDIO_ELEMENT_ERROR:{this.dispatch(Object(Dn.b)({alert:Dn.a.NoAudioOutputAudioElementError}));break}case fn.k.AUDIO_LEVEL_ERROR:{this.dispatch(Object(Dn.b)({alert:Dn.a.NoAudioOutputAudioLevelError}));break}default:}}onClearNoAudioOutput(D){switch(D){case fn.k.AUDIO_ELEMENT_ERROR:{this.dispatch(Object(Dn.c)(Dn.a.NoAudioOutputAudioElementError));break}case fn.k.AUDIO_LEVEL_ERROR:{this.dispatch(Object(Dn.c)(Dn.a.NoAudioOutputAudioLevelError));break}default:}}onSelfConnected(){this.callLogger.info("Self connected to chime media server"),this.dispatch(Object(an.ob)({id:"self",isConnected:!0,noInternet:!1}))}onSelfDisconnected(){this.callLogger.info("Self disconnected from chime media server"),this.dispatch(Object(an.ob)({id:"self",isConnected:!1})),on.a.publish({type:Ut.c.NetworkDisconnect,update:{peerId:"self"}})}onSelfConnectionQualityChanged(D,N){this.dispatch(Object(an.ob)({id:"self",...D===Ut.a.UPLINK?{uplinkQuality:N}:{downlinkQuality:N}})),N===Ut.b.BAD||N===Ut.b.WORST?(this.callLogger.warn(`Self ${D} connection quality changed to: ${N}`),this.dispatch(Object(Dn.b)({alert:Dn.a.SlowNetwork}))):(this.callLogger.info(`Self ${D} connection quality changed to: ${N}`),this.dispatch(Object(Dn.c)(Dn.a.SlowNetwork)))}onPeerConnected(D){this.dispatch(Object(an.lb)({id:D,isConnected:!0}))}onPeerDisconnected(D){this.callLogger.info(`peer disconnected from chime media server ${D}`),this.dispatch(Object(an.lb)({id:D,isConnected:!1})),on.a.publish({type:Ut.c.NetworkDisconnect,update:{peerId:D}})}onPeerConnectionQualityChanged(D,N,$){}onSelfMediaStreamChanged(D){}onNewPeerMediaStream(D,N){}onScreenThumbnails(D){}onUpdatedSelfAudioLevel(D){Da.a.publish("self",D/jn.a),Qe.a.publish(D/jn.a);const N=this.store.getState();Object(ds.y)(N)&&Da.a.publishAll("self",D/jn.a)}onUpdatedPeerAudioLevels(D){const N=this.store.getState();Object.entries(D).forEach(fe=>{let[Se,We]=fe;Da.a.publish(Se,We/jn.a)}),Object(ds.y)(N)&&Object.entries(D).forEach(fe=>{let[Se,We]=fe;Da.a.publishAll(Se,We/jn.a)})}onPeerCameraActive(D,N){const $=D==="self";this.callLogger.info(`${$?"Self":`Peer (${D})`} camera turned ${N?"on":"off"}`),this.dispatch(Object(an.ob)({id:D,isCameraEnabled:N}))}onPeerScreenShareActive(D,N){const $=D==="self";this.callLogger.info(`${$?"Self":`Peer (${D})`} screenshare ${N?"started":"stopped"}`)}onPeerDrawMessage(D,N){ro.a.publish({id:D,...N})}onPeerDrawEnabled(D,N){this.dispatch(Object(an.ob)({id:D,isDrawEnabled:N}))}onMediaStats(D,N){this.dispatch(Dr({stats:D,callId:N}))}onAppMetrics(D){let{appMetrics:N,clientMetricReport:$,screenshareRtcStats:fe}=D;const Se=Hc({state:this.getState(),appMetrics:N});on.a.publish({type:Ut.c.AppMetrics,update:{huddleStateSnapshot:Se,clientMetricReport:$,screenshareRtcStats:fe}})}onDevicesUpdated(D){this.dispatch(Object(Ns.a)(D))}onOutputDeviceChanged(D){this.callLogger.info(`Self audio output device changed: device: ${D.id}`),this.dispatch(Object(Ns.o)(D))}onDeviceTypeBlocked(D){}onTokenRefreshRequest(){}onScreenShareStopped(){this.dispatch(Rr()),this.dispatch(Object(Mr.c)({focusKey:yr.c.HUDDLE_SIDEBAR_FOOTER}))}onScreenShareStarted(){this.callLogger.info("Self screenshare started"),this.dispatch(Object(Mr.c)({focusKey:yr.c.HUDDLE_SIDEBAR_FOOTER}))}onSetNoOrLowInputAudioLevel(){on.a.publish({type:Ut.c.NoAudio,update:{direction:"send",noAudio:!0}})}onClearNoOrLowInputAudioLevel(){on.a.publish({type:Ut.c.NoAudio,update:{direction:"send",noAudio:!1}})}onSetNoOrLowOutputAudioLevel(){on.a.publish({type:Ut.c.NoAudio,update:{direction:"recv",noAudio:!0}})}onClearNoOrLowOutputAudioLevel(){on.a.publish({type:Ut.c.NoAudio,update:{direction:"recv",noAudio:!1}})}onAudioVideoDidStartConnecting(){this.recordTiming(mn.u)}onStart(){this.recordTiming(mn.s)}onAudioVideoDidStart(){this.recordTiming(mn.t),Object(a.dispatchForClientStore)(Object(yt.F)(Date.now()))}onAudioVideoDidStop(){const D=Object(a.getClientStoreInstance)(),N=Object(zn.q)(D==null?void 0:D.getState()),$=Date.now(),fe=$-N;Object(a.dispatchForClientStore)(Object(yt.E)($)),Object(a.dispatchForClientStore)(Object(yt.D)(fe))}onInit(){this.recordTiming(mn.w)}onVoiceFocusLoaded(){const D=Object(cn.d)({state:this.store.getState()}),N=D.measure(mn.B,mn.A);D.count(mn.A,N),this.recordTiming(mn.z)}onVoiceFocusStartLoading(){Object(cn.d)({state:this.store.getState()}).mark(mn.B)}recordTiming(D){const N=Object(cn.d)({state:this.store.getState()}),$=N.measure(mn.n,D);return N.count(D,$),$}onMeetingEvents(D,N,$,fe,Se,We,ye){this.dispatch(Nl({events:Se,callId:fe,meetingId:D,mediaRegion:N,attendeeId:$,isUnloading:We,isEnding:ye}))}onMaybeVoiceFocusInitialized(D){const $=Object(cn.d)({state:this.store.getState()}).measure(mn.d,mn.f);Object(a.dispatchForClientStore)(Object(yt.Y)({metrics:{voiceFocusInitializedTime:D,credentialsToVoiceFocusInitializedTime:$}}))}onScreenShareError(D){switch(this.callLogger.error(`an error occurred while initiating a screenshare: type: ${D}`),D){case fn.m.NOT_FOUND_ERROR:{this.dispatch(Object(Dn.b)({alert:Dn.a.SSNotFoundError}));break}case fn.m.NOT_READABLE_ERROR:{this.dispatch(Object(Dn.b)({alert:Dn.a.SSNotReadableError}));break}case fn.m.ERROR:{this.dispatch(Object(Dn.b)({alert:Dn.a.ScreenShareError}));break}default:break}}onNoiseSuppressionCPUThrottled(){this.dispatch(Object(Dn.b)({alert:Dn.a.NoiseSuppressionCPUThrottled}))}onTranscriptionEvent(D){this.dispatch(Wl(D))}onFeedbackCheckAudioInput(D){}onFeedbackCheckAudioOutput(D){}onFeedbackCheckVideoInput(D){}onFeedbackCheckCameraResolution(D,N){}onFeedbackCheckAudioConnectivity(D){}onFeedbackCheckVideoConnectivity(D){}onFeedbackCheckContentShareConnectivity(D){}onFeedbackCheckNetworkUDPConnectivity(D){}onFeedbackCheckNetworkTCPConnectivity(D){}setSelfAttendeeId(D){this.selfAttendeeId=D}maybeRecordFirstPresenceTime(){this.firstPresenceTimeMs>0||(this.firstPresenceTimeMs=this.recordTiming(mn.v),Object(a.dispatchForClientStore)(Object(yt.Y)({metrics:{firstPresenceTime:this.firstPresenceTimeMs}})))}onAudioInputTrackMuted(){this.dispatch(Object(Dn.b)({alert:Dn.a.AudioInputTrackMuted}))}onAudioInputTrackUnMuted(){this.dispatch(Object(Dn.c)(Dn.a.AudioInputTrackMuted))}onJukeboxRequest(D){if(!Object(ds.y)(this.getState()))return;const $=this.isDj(),Se=Object(Xs.M)(this.getState())[D];!$||!Se||(Object(a.dispatchForClientStore)(Object(yt.L)({song:Se})),Object(a.dispatchForClientStore)(Object(yt.J)({song:Se})),Object(a.dispatchForClientStore)(Object(yt.p)(Se)))}onJukeboxStopRequest(){!Object(ds.y)(this.getState())||!this.isDj()||(Object(a.dispatchForClientStore)(Object(yt.P)()),Object(a.dispatchForClientStore)(Object(yt.J)({song:void 0})))}isDj(){var D;const N=Object(_.a)(this.getState()),$=Object(a.getClientStoreInstance)(),fe=(D=Object(zn.p)($==null?void 0:$.getState()))===null||D===void 0?void 0:D.callId,Se=Object(Ha.g)(this.getState(),{callId:fe}),We=Object(Ha.g)(this.getState(),{callId:fe,userId:N});return!Se||!!We}maybeRemoveUserAsPending(D){const N=Object(a.getClientStoreInstance)(),$=Object(zn.a)(N==null?void 0:N.getState());$&&this.dispatch(Object(jl.B)({callId:$,userId:D}))}onContentShareDetailsUpdate(D,N,$){this.dispatch(Object(an.ob)({id:D,isDrawEnabled:N,contentShareSource:$}))}constructor(D){this.firstPresenceTimeMs=0,this.callLogger=Object(Vn.a)("HUDDLE-DISPATCHER"),this.selfAttendeeId=void 0,this.dispatch=D.dispatch,this.getState=D.getState,this.store=D}},"HuddleActionDispatcher");var Ur=e("cthg"),Br=e("g6/Y");let xt,Io,ca;const Kl="HUDDLE-SDK",Hl="HUDDLE-CLIENT-MIDDLEWARE",Vl=fn.o.FastSwitching,Ys=Object(M.b)({label:Hl}),Nr=v(ve=>{ve.id==="self"&&(xt==null||xt.sendDrawMessage(ve))},"onPeerDrawPublish");function Co(ve,D,N,$){const fe=Object(zn.a)(ve),Se=Object(zn.e)(ve),We=Se?Object(a.getStoreInstanceByTeamId)(Se):void 0,ye=We?We.getState():void 0,$e=ye?Object(_.a)(ye):void 0;fe&&$e&&(We==null||We.dispatch(D({user:$e,channel:fe,fieldValue:N,experimentHuddlesMultiDeviceGroupOn:$})))}v(Co,"maybeDispatchAwarenessUpdate");function ja(ve,D,N){const $=Object(zn.a)(ve),fe=Object(zn.e)(ve),Se=fe?Object(a.getStoreInstanceByTeamId)(fe):void 0,We=Se?Se.getState():void 0,ye=We?Object(_.a)(We):void 0;$&&ye&&(Se==null||Se.dispatch(D({user:ye,channel:$,experimentHuddlesMultiDeviceGroupOn:N})))}v(ja,"maybeDispatchAwarenessRemove");const Wr=Object(l.b)("dispatches actions to huddles SDK",(ve,D,N)=>{const $=ve.getState(),fe=v(()=>{const Mt=Object(zn.e)($),Kt=Object(a.getStoreInstanceByTeamId)(Mt);if(!Kt)return{};const zt=Kt==null?void 0:Kt.getState();if(!zt)return{};const On=Object(an.V)(zt)||{};return{huddlesVideoActive:Object(an.u)(zt),self:On}},"getIsHuddlesVideoActive");switch(N.type){case yt.T.getType():{var Se;const Mt=N.payload;Io=Mt==null||(Se=Mt.audioOutputRef)===null||Se===void 0?void 0:Se.current,oo.a.getInstance().init();break}case yt.O.getType():{const{huddlesVideoActive:Mt,self:Kt}=fe();xt&&xt.hasSession()&&(Mt?xt.selfVideoEnabled(!0,!!(Kt!=null&&Kt.isScreenshareEnabled)):xt.selfVideoEnabled(!0,!1));break}case yt.S.getType():{const{huddlesVideoActive:Mt,self:Kt}=fe();xt&&xt.hasSession()&&(Mt?xt.selfVideoEnabled(!1,!!(Kt!=null&&Kt.isScreenshareEnabled)):xt.selfVideoEnabled(!1,!1));break}case yt.e.getType():{Ys.info("BOOT","user agent:",navigator.userAgent);const Mt=N.payload;let Kt=Mt.isStartMuted;if(!Io){Ys.error("Missing audio output element");return}const{server:zt,roomId:On}=Mt.callResult,Sn=zt.attendee.AttendeeId,Nn=Mt.waitForHuddleStart,Yn=Mt.isPrejoin,Es=Yn?Object(zn.p)($):Object(zn.c)($),{teamId:Ws}=Es||{},Cs=Object(o.getFocusedWorkspace)($),Fn=Object(a.getStoreInstanceByTeamId)(Ws||Cs);let Ls;Fn&&(Ls=Object(ds.y)(Fn.getState()),Ys.info("client-huddles-middleware: Dispatching resetPeersStore"),Fn.dispatch(Object(an.gb)({huddlesVideoActive:!0})),Kt=Kt||Object(Sa.u)(Fn.getState(),"huddles_mute_by_default")),Fn&&Kt&&(Ys.info("Start huddle as muted as specified in user prefs"),Fn.dispatch(Object(an.ob)({id:"self",isMicrophoneEnabled:!1}))),ca&&ca.stop(!0),Object(qo.b)(Cs),ca=new or,ca.start(On);const ea=Object(Rn.a)();ea.then(ss=>{ss&&(Ys.info("Log reporter stopped"),ca==null||ca.stop(!0,!1),ca=void 0)});const xs=new Fl(Fn),{ttiTrace:Fs}=Object(Xn.a)().getAllTraceHandlers(),gs=!0;xt=new Xo(xs,Io,Kl,Vl,gs),yn({name:rn.HuddlesSdk,ref:xt});const Os={serverConfig:Object(Rn.a)(),userGrantedPermissionToJoin:Pn.a.resolve(!0),useChimeSdkExp:Object(Rn.a)(),useVoiceFocus:Object(Rn.a)(),shouldPreventVoiceFocusAutoDisable:Object(Rn.a)(),audioContextLatencyHint:Object(Rn.a)(),voiceFocusModelVariant:Object(Rn.a)(),useSimulcast:Pn.a.resolve(!1),usePriorityDownlinkPolicy:Object(Rn.a)(),singleAppShareEnabled:Pn.a.resolve(!0),useGetMediaAccessCheckForWindows:Pn.a.resolve(!1),readinessCheck:Pn.a.resolve(!1),isPrejoin:Pn.a.resolve(Yn),backgroundVideoFilteringSetting:Object(Rn.a)(),huddlesVideoEnabled:Pn.a.resolve(!0),huddlesJukeboxEnabled:Pn.a.resolve(Ls),screenshareAutoKeyframesDisabled:Object(Rn.a)(),enableExperimentalConnectionHealthPolicyConfig:Object(Rn.a)(),backgroundBlur2Enabled:Object(Rn.a)(),voiceFocusMaxModelsEnabled:Object(Rn.a)()};Os.serverConfig.resolve({...zt,transportProtocols:Dc(Fn.getState())});const Hs=bs(zt.attendee.ExternalUserId);Os.useChimeSdkExp.resolve(Fn?Object(Ka.c)(Fn.getState()):!1),Os.usePriorityDownlinkPolicy.resolve(!Object(pn.m)()&&Fn?Object(ds.B)(Fn.getState()):!1),Os.useVoiceFocus.resolve(Fn?Object(Ka.d)(Fn.getState()):!1),Os.shouldPreventVoiceFocusAutoDisable.resolve(Fn?Object(ds.K)(Fn.getState()):!1),Os.audioContextLatencyHint.resolve(Fn?Object(ds.a)(Fn.getState()):void 0),Os.voiceFocusModelVariant.resolve(Fn?Object(Ka.a)(Fn.getState()):void 0),Os.backgroundVideoFilteringSetting.resolve(Fn?_t.a.Both:_t.a.NONE),Os.screenshareAutoKeyframesDisabled.resolve(Fn?Object(ds.F)(Fn.getState()):!1),Os.enableExperimentalConnectionHealthPolicyConfig.resolve(Fn?Object(ds.s)(Fn.getState()):!1),Os.backgroundBlur2Enabled.resolve(Fn?Object(ds.j)(Fn.getState()):!1),Os.voiceFocusMaxModelsEnabled.resolve(Fn?Object(ds.I)(Fn.getState()):!1);const Us=[],Ds=Ws||Cs;if(Hs&&Ds){const ss=new Pa.a({teamId:Ds,peerId:Sn,topicId:Hs,isHuddlesAwarenessTimestampEnabled:Object(ds.r)(Fn.getState())});Us.push(ss);const Bs=new Pa.b({teamId:Ds});Us.push(Bs),Pa.d.watch(Ds,Hs,ss),yn({name:rn.ChimeChannelListener,ref:Bs}),yn({name:rn.ChimeChannelBroadcaster,ref:ss})}xt.initialize(Os,[fn.i.MICROPHONE],!!Kt,Nn,ea,Us).then(()=>{const ss=xt==null?void 0:xt.getMeetingMediaRegion();Fs==null||Fs.setMediaRegionTag(ss),on.a.publish({type:Ut.c.SelectedMediaRegion,update:{mediaRegionSelected:ss}}),xt&&!Yn&&(xt==null||xt.maybeBindAudioOutputElement(),xt==null||xt.setIncludeSelfAndNoneActiveSpeaker(!0,!0))}),xs.setSelfAttendeeId(Sn),ro.a.subscribe(Nr),Ys.info("User started huddle");break}case yt.f.getType():{const Mt=N.payload;if(xt){const{waitForHuddleEnd:Kt}=Mt;xt.shutdown(()=>{Kt.resolve()});const zt=Object(o.getFocusedWorkspace)($),On=Object(a.getStoreInstanceByTeamId)(zt);On==null||On.dispatch(Object(ua.i)(ua.a.SpeakingWhenMuted));const Sn=Object(ds.x)(On==null?void 0:On.getState()),Nn=Object(zn.a)($);Nn&&(ja($,ra.e,Sn),ja($,ra.d,Sn),Pa.d.unwatch(Nn)),ro.a.unsubscribe(Nr),Ys.info("User left huddle")}xt=void 0,Pa.d.unwatchAll(),Hn();break}case yt.g.getType():{const Mt=N.payload;if(xt&&xt.hasSession()&&(xt.selfMicrophoneEnabled(Mt),Mt)){const Kt=Object(o.getFocusedWorkspace)($),zt=Object(a.getStoreInstanceByTeamId)(Kt);zt==null||zt.dispatch(Object(ua.i)(ua.a.SpeakingWhenMuted))}break}case yt.r.getType():{const Mt=N.payload;xt&&xt.hasSession()&&xt.sendReacji(Mt.emoji,Mt.reactionType);break}case yt.s.getType():{const Mt=N.payload;if(xt&&xt.hasSession()){const Kt=Object(zn.e)($),zt=Object(a.getStoreInstanceByTeamId)(Kt);if(!zt)return;const On=Object(ds.x)(zt.getState()),Sn=Object(zn.a)($),Nn=Object(_.a)(zt.getState());if(Sn){var We;((We=Object(Ha.d)(zt.getState(),Sn,Nn,On?"self":void 0))===null||We===void 0?void 0:We.field_value)===Mt?(ja($,ra.e,On),Object(zn.j)($)&&Mt!=="speaker"&&(zt==null||zt.dispatch(Object(Br.a)({emoji:"speaker",reactionType:zs.d.Sticker})))):Co($,ra.k,Mt,On)}}break}case yt.q.getType():{const Mt=N.payload;xt&&xt.hasSession()&&xt.sendMuteRequest(Mt);break}case yt.t.getType():{const Mt=N.payload;xt&&xt.hasSession()&&xt.setAGC(Mt);break}case yt.G.getType():{const Mt=N.payload;xt&&xt.hasSession()&&xt.setNewPreferredDevice(Mt==null?void 0:Mt.id,Mt==null?void 0:Mt.type);break}case yt.H.getType():{const Mt=N.payload;xt&&xt.hasSession()&&xt.setNoiseSuppression(Mt);break}case yt.K.getType():{const Mt=N.payload;xt&&xt.hasSession()&&xt.setVideoBackgroundEffect(Mt);break}case yt.M.getType():{const{huddlesVideoActive:Mt,self:Kt}=fe(),zt=N.payload,On=!!(Kt!=null&&Kt.isCameraEnabled);if(xt&&xt.hasSession()){var ye,$e;const Sn=Object(zn.e)($),Nn=Object(a.getStoreInstanceByTeamId)(Sn);Mt?xt.selfVideoEnabled(On,!0,zt==null?void 0:zt.mediaSourceId,zt):xt.selfVideoEnabled(!1,!0,zt==null?void 0:zt.mediaSourceId,zt);let Yn=(zt==null||(ye=zt.mediaSourceId)===null||ye===void 0?void 0:ye.startsWith("screen:"))||!1;!(zt==null||($e=zt.mediaSourceId)===null||$e===void 0)&&$e.startsWith("window:")&&Object(ya.d)()&&(Yn=!0),xt.selfDrawEnabled(Object(rr.a)()&&Yn);const Es=Object(ya.b)((zt==null?void 0:zt.mediaSourceId)||"");xt.sendContentShareDetails(Es),Nn==null||Nn.dispatch(Object(an.ob)({id:"self",isDrawEnabled:Yn,isCameraEnabled:On,contentShareSource:Es}))}break}case yt.Q.getType():{const{huddlesVideoActive:Mt,self:Kt}=fe(),zt=Mt?Kt.isCameraEnabled:!1;if(xt&&xt.hasSession()){const On=Object(zn.e)($),Sn=Object(a.getStoreInstanceByTeamId)(On);xt.selfVideoEnabled(!!zt,!1),Sn==null||Sn.dispatch(Object(an.ob)({id:"self",isDrawEnabled:!1,contentShareSource:void 0}))}break}case Ns.b.getType():return xt&&xt.hasSession()?xt.getScreenThumbnails():Pn.a.resolve(null);case yt.U.getType():{const Mt=N.payload;if(xt&&xt.hasSession()){var It;const Kt=Object(zn.e)($),zt=Object(a.getStoreInstanceByTeamId)(Kt);if(!zt)return;const On=Object(ds.x)(zt.getState()),Sn=Object(zn.a)($),Nn=Object(_.a)(zt.getState());if(!Sn)return;const Yn=(It=Object(Ha.d)(zt.getState(),Sn,Nn,On?"self":void 0))===null||It===void 0?void 0:It.field_value;return(Mt||Yn==="speaker")&&Object(a.dispatchForClientStore)(Object(Br.a)({emoji:"speaker",reactionType:zs.d.Sticker})),xt.toggleAllIncomingVideo(Mt)}return Pn.a.resolve(null)}case yt.p.getType():{const Mt=N.payload;if(xt&&xt.hasSession()){const Kt=Object(zn.e)($);if(!Object(a.getStoreInstanceByTeamId)(Kt))return;Object(zn.a)($)&&Co($,ra.h,Mt.key)}break}case yt.m.getType():{const Mt=N.payload;xt&&xt.hasSession()&&xt.sendJukeboxRequest(Mt.key);break}case yt.n.getType():{xt&&xt.hasSession()&&xt.sendJukeboxStopRequest();break}case yt.L.getType():{const Mt=N.payload;if(xt&&xt.hasSession()){const Kt=Object(zn.e)($),zt=Object(a.getStoreInstanceByTeamId)(Kt);if(!Object(ds.y)(zt.getState()))return;xt.startContentShareJukebox({song:Mt.song})}break}case yt.P.getType():{if(xt&&xt.hasSession()){const Mt=Object(zn.e)($),Kt=Object(a.getStoreInstanceByTeamId)(Mt);if(!Kt||!Object(ds.y)(Kt.getState()))return;xt.selfStopJukebox(),ja($,ra.b)}break}case Ns.c.getType():{if(xt&&xt.hasSession()){const Mt=N.payload.mediaResourceType;return xt.maybeCheckSystemMediaAccess(Mt)}return Pn.a.resolve(null)}case ba.a.getType():{if(xt&&xt.hasSession()){const{payload:{tileId:Mt,videoRef:Kt,shouldAttachStream:zt}}=N;xt.bindVideo(Mt,Kt.current,zt)}break}case ba.c.getType():{if(xt&&xt.hasSession()){const{payload:{tileId:Mt,videoRef:Kt,shouldDetachStream:zt}}=N;xt.unbindVideo(Mt,Kt.current,zt)}break}case ba.b.getType():{if(xt&&xt.hasSession()){const{payload:{tileId:Mt}}=N;xt.pauseVideo(Mt)}break}case ba.d.getType():{if(xt&&xt.hasSession()){const{payload:{tileId:Mt}}=N;xt.unpauseVideo(Mt)}break}case yt.W.getType():{const Mt=N.payload;if(xt&&xt.hasSession()){const Kt=Object(zn.e)($),zt=Object(a.getStoreInstanceByTeamId)(Kt),On=zt==null?void 0:zt.getState();if(!zt){Ys.info("client-huddles-middleware","no team store found when user toggles video");return}if(!On){Ys.info("client-huddles-middleware","no team state found when user toggles video");return}const{huddlesVideoActive:Sn}=fe(),Nn=Object(an.V)(On);let Yn;(Mt==null?void 0:Mt.setVideoEnabled)!==void 0?Yn=Mt.setVideoEnabled:Yn=!(Nn!=null&&Nn.isCameraEnabled),Yn?(Ys.info("client-huddles-middleware","user toggling ON video"),xt.setCameraQuality(...Object(ir.d)()),Sn?xt.maybeEnableSelfCamera({isScreenshareEnabled:Nn.isScreenshareEnabled}):xt.maybeEnableSelfCamera()):(Ys.info("client-huddles-middleware","user toggling OFF video"),Sn?xt.selfVideoEnabled(!1,!!(Nn!=null&&Nn.isScreenshareEnabled)):xt.selfVideoEnabled(!1,!1),zt.dispatch(Object(an.ob)({id:"self",isCameraEnabled:!1})))}break}case ba.e.getType():{if(xt&&xt.hasSession()){const{payload:{tileId:Mt}}=N;return(xt==null?void 0:xt.videoTileHasStream(Mt))||!1}return Pn.a.resolve(!1)}case an.bb.getType():{const{huddlesVideoActive:Mt,self:Kt}=fe();xt&&N.payload.isContent&&(Mt?xt.selfVideoEnabled(!!(Kt!=null&&Kt.isCameraEnabled),!1):xt.selfVideoEnabled(!1,!1));break}case yt.h.getType():{xt!=null&&xt.hasSession()&&(xt==null||xt.initVideoPermission());break}case yt.N.getType():{if(xt!=null&&xt.hasSession()){const{videoElement:Mt,deviceId:Kt}=N.payload;xt.stopVideoPreviewForVideoInput(Mt),xt.setCameraQuality(...Object(ir.d)()),xt.requestPreviewStreamForDeviceId(Kt,_t.b.Camera,Mt)}break}case yt.R.getType():{if(xt!=null&&xt.hasSession()){const Mt=N.payload;xt.stopVideoPreviewForVideoInput(Mt)}break}case yt.j.getType():{const{self:Mt}=fe();if(xt&&xt.hasSession()){const Kt=(Mt==null?void 0:Mt.contentShareSource)||Ur.a.Unknown;if(Kt!==Ur.a.Unknown){const zt=(Mt==null?void 0:Mt.isDrawEnabled)||!1;xt.selfDrawEnabled(Object(rr.a)()&&zt),xt.sendContentShareDetails(Kt);const On=Object(a.getStoreInstanceByTeamId)(N.payload.teamId);On==null||On.dispatch(Object(an.ob)({id:"self",isDrawEnabled:zt}))}}break}case yt.k.getType():{const Mt=N.payload.isHostDrawEnabled,Kt=Object(a.getStoreInstanceByTeamId)(N.payload.teamId);Kt==null||Kt.dispatch(Object(an.ob)({id:"self",isHostDrawEnabled:Mt}));break}case yt.l.getType():{xt==null||xt.handleClientOffline();break}case yt.X.getType():{const Mt=N.payload,{isStartMuted:Kt}=Mt,{teamId:zt}=Object(zn.c)($)||{},On=Object(o.getFocusedWorkspace)($),Sn=Object(a.getStoreInstanceByTeamId)(zt||On),{ttiTrace:Nn}=Object(Xn.a)().getAllTraceHandlers();if(Nn==null||Nn.setMediaRegionTag(xt==null?void 0:xt.getMeetingMediaRegion()),Sn&&Kt&&xt)return xt.completePrejoin(Mt).then(()=>{Sn.dispatch(Object(an.ob)({id:"self",isMicrophoneEnabled:!1}))});if(xt)return xt.completePrejoin({});break}case yt.w.getType():{const Mt=N.payload.contentViewType,Kt=N.payload.contentViewConfig;if(xt&&xt.hasSession()&&Object(zn.a)($)){var Jt;const On=Object(zn.e)($),Sn=Object(a.getStoreInstanceByTeamId)(On);if(!Sn)return;const Nn=Object(ds.x)(Sn.getState());if(Mt!==zs.a.Screenshare)ja($,ra.d,Nn);else if(!(Kt==null||(Jt=Kt.item)===null||Jt===void 0)&&Jt.id){let Yn;if(Kt.item.id==="self")Yn=Object(_.a)(Sn.getState());else{var Tn;Yn=(Tn=Object(an.P)(Sn.getState(),Kt.item.id))===null||Tn===void 0?void 0:Tn.userId}Co($,ra.j,Yn,Nn)}}break}default:return D(N)}return null});Wr.meta={name:"createMiddleware",key:"createMiddlewareclientHuddlesMiddleware",description:"dispatches actions to huddles SDK"};var kl=Wr;Object.defineProperty({huddlesSdk:xt},"huddlesSdk",{get:()=>xt,set:ve=>{xt=ve}});var Gl=e("Pyy/"),xr=e("mLC8"),Fr=e("VYSP"),Kr=e("ZKjC"),za=e("G5NC");const Hr=Object(Kr.b)(ve=>{const D={};let N;if(Object(za.a)())N=Object(o.getAllWorkspaces)(ve)||[];else{const $=Object(vo.g)(ve);N=$?[$]:[]}return N.forEach($=>{var fe;const Se=(fe=Object(a.getStoreInstanceByTeamId)($))===null||fe===void 0?void 0:fe.getState();if(!Se)return;const We=Object(oa.a)(Se,"auto_traces_override_");Object.entries(We).forEach(ye=>{let[$e,It]=ye;const Jt=/^auto_traces_override_(.+)/.exec($e);if(Jt){const[,Tn]=Jt,Mt=It==null?void 0:It.group;if(!Mt)return;D[Tn]||(D[Tn]=[]),D[Tn].push(Mt)}})}),D});Hr.meta={name:"createSelector",key:"createSelectorgetAutoTraceOverrides",description:ve=>{const D={};let N;if(Object(za.a)())N=Object(o.getAllWorkspaces)(ve)||[];else{const $=Object(vo.g)(ve);N=$?[$]:[]}return N.forEach($=>{var fe;const Se=(fe=Object(a.getStoreInstanceByTeamId)($))===null||fe===void 0?void 0:fe.getState();if(!Se)return;const We=Object(oa.a)(Se,"auto_traces_override_");Object.entries(We).forEach(ye=>{let[$e,It]=ye;const Jt=/^auto_traces_override_(.+)/.exec($e);if(Jt){const[,Tn]=Jt,Mt=It==null?void 0:It.group;if(!Mt)return;D[Tn]||(D[Tn]=[]),D[Tn].push(Mt)}})}),D}};var zl=Hr,Ms=e("4d+W");const Vr=Object(qn.c)("setAutoTracerMetaTagProviderAndOverrides side effect handler",(ve,D,N)=>{if(!xr.d.isEnabled())return;const $=v(We=>We?Object(Fr.b)(We):{},"metatagProvider"),fe=D(),Se=zl(fe);xr.d.addMetaTagProviderAndOverrides({metatagProvider:$,overrides:Se})});Vr.meta={name:"createThunk",key:"createThunksetAutoTracerMetaTagProviderAndOverrides",description:"setAutoTracerMetaTagProviderAndOverrides side effect handler"};const Yl=Object(Ms.a)([j.setDidBootAllWorkspaces],Vr);var Ql=e("WCk1");const kr=Object(Kr.b)(ve=>ve&&ve.persistedApiCalls);kr.meta={name:"createSelector",key:"createSelectorgetPersistedApiCalls",description:ve=>ve&&ve.persistedApiCalls};var wl=e("yTTx"),$l=e("Ba7O");const To="OFFLINE",Mo=Object(Ql.a)("Replay persisted API calls",function(ve,D){let N=arguments.length>2&&arguments[2]!==void 0?arguments[2]:kr(D());const $=D();if(!Object($l.a)($)||Object(Qt.a)(N))return;const fe=Object(M.a)({state:$});fe.info(To,"replayPersistedApiCalls called after workspace booted");const Se=Object.keys(N).sort().map(We=>N[We]);Pn.a.each(Se,We=>ve(Object(Fa.a)(We)).catch(ye=>{fe.error(To,`Error replaying ${We.method} (${We.persistKey})`,ye)}).finally(()=>{fe.info(To,`Clearing persisted payload for ${We.method} (${We.persistKey})`),ve(Object(wl.a)(We.persistKey))}))});Mo.meta={name:"createFetcher",key:"createFetcherreplayPersistedApiCalls",description:"Replay persisted API calls"},Mo.propTypes=P.default.object;const Gr=Object(qn.c)("triggerReplayPersistedApiCalls",(ve,D,N)=>{const $=N.payload;Object(a.dispatchForTeamId)($,Mo())});Gr.meta={name:"createThunk",key:"createThunktriggerReplayPersistedApiCalls",description:"triggerReplayPersistedApiCalls"};const Zl=Object(Ms.a)([j.setWorkspaceBooted],Gr);var yo=e("opHY"),Jl=e("Plsj");const Xl="DESKTOP-SIDE-EFFECT",zr=Object(qn.c)("logUpdateFromDesktop",(ve,D,N)=>{Object(M.b)().info(Xl,"Update from desktop for keys ",Object.keys(N.payload))});zr.meta={name:"createThunk",key:"createThunklogUpdateFromDesktop",description:"logUpdateFromDesktop"};const ql=Object(Ms.a)([yo.n],zr),Yr=Object(qn.c)("maybeHandleWindowFocusEvent",(ve,D,N)=>{Object(za.a)()&&N.payload&&N.payload.windows&&ve(Object(Jl.a)({isFocused:document.hasFocus()}))});Yr.meta={name:"createThunk",key:"createThunkmaybeHandleWindowFocusEvent",description:"maybeHandleWindowFocusEvent"};const ed=Object(Ms.a)([yo.n],Yr);var Do=e("ykb+"),Ya=e("g8rC"),td=e("aNqa");const Qr=Object(qn.c)("maybeDisableDebugger side effect handler",()=>{if(Object(Do.g)()||Object(Do.b)()||Object(Do.f)())return;const ve=Object(a.getStateForClientStore)();if(Object(td.a)(ve,"feature_tinyspeck")&&!Object(Ya.a)(ve,"disable_tinyspeck_slackdebug_enforcement","treatment")){Object(je.g)();return}Object(je.e)()||Object(je.f)()});Qr.meta={name:"createThunk",key:"createThunkmaybeDisableDebugger",description:"maybeDisableDebugger side effect handler"};const nd=Object(Ms.a)([j.setDidBootAllWorkspaces],Qr);var Aa=e("ZbzB"),sd=e("GYPw");Object(xa.a)(()=>{if(Object(Aa.a)())try{window.matchMedia(sd.e).onchange=ve=>{const D=Object(a.getClientStoreInstance)();D&&D.dispatch(Object(me.j)(ve.matches))}}catch(ve){Object(M.b)().warn("ACCESSIBILITY-STORE","window.matchMedia hook failed; system high contrast theme will not be updated.",ve)}})();const wr=Object(qn.c)("maybeUpdateShouldUseHighContrastColors",(ve,D,N)=>{if(!Object(Aa.a)()&&Object(Aa.b)()){var $,fe;const Se=N==null||($=N.payload)===null||$===void 0||(fe=$.settings)===null||fe===void 0?void 0:fe.shouldUseHighContrastColors;Se!==void 0&&ve(Object(me.j)(Se))}});wr.meta={name:"createThunk",key:"createThunkmaybeUpdateShouldUseHighContrastColors",description:"maybeUpdateShouldUseHighContrastColors"};const ad=Object(Ms.a)([yo.n],wr);function od(){return!!(navigator&&navigator.serviceWorker&&navigator.serviceWorker.controller)}v(od,"isServiceWorkerActive");function rd(ve){if(od()){var D,N;navigator==null||(D=navigator.serviceWorker)===null||D===void 0||(N=D.controller)===null||N===void 0||N.postMessage({type:"self_profiling",enabled:ve})}}v(rd,"notifyWorker");const $r=Object(qn.c)("setExperimentSelfProfiling side effect handler",(ve,D,N)=>{const $=D(),fe=Object(Ya.a)($,"self_profiling","enabled"),Se=Object(Ya.a)($,"self_profiling","disabled");if(!fe&&!Se)return;rd(!Se&&fe)});$r.meta={name:"createThunk",key:"createThunksetExperimentSelfProfiling",description:"setExperimentSelfProfiling side effect handler"};const id=Object(Ms.a)([j.setDidBootAllWorkspaces],$r);var cd=e("ycWl"),Qa=e("fUOF"),$n=e("ML5/"),ld=e("shU/");function dd(ve,D){const N=Object.values(Object(a.getStoreInstanceMap)());for(const $ of N){const fe=$.getState(),Se=Object(oa.c)(fe,ve);Se&&Se.log_exposures&&D===Se.group&&Object(ld.a)(ve,Se,fe)}}v(dd,"logExposuresForSession");function Zr(ve,D){if(Object($n.c)(ve),D)try{D()}catch(N){Object(M.b)().error(`caught error from cleanupCallback: ${N}`)}}v(Zr,"rollbackToggle");function wa(ve,D){const N=Object($n.b)(ve),$=Jr(ve,N);if(N===null&&$!==$n.a.NoGroup){Object($n.d)(ve,$);return}$===$n.a.NoGroup?N===$n.a.Treatment||N===$n.a.On?(Zr(ve,D),Object(cd.a)({reason:`Rolling back ${ve} toggle`,reasonKey:`rollback_${ve}_toggle`})):(N===$n.a.Control||N===$n.a.Off)&&Zr(ve,D):$!==N?Object($n.d)(ve,$):$===N&&dd(ve,N)}v(wa,"setToggleGroupForNextSession");function Jr(ve,D){const N=Object(Qa.a)(ve,$n.a.Treatment,!1),$=Object(Qa.a)(ve,$n.a.Control,!1),fe=Object(Qa.a)(ve,$n.a.On,!1),Se=Object(Qa.a)(ve,$n.a.Off,!1);return N&&$?D===$n.a.Treatment?$n.a.Treatment:D===$n.a.Control?$n.a.Control:Math.random()<.5?$n.a.Treatment:$n.a.Control:fe&&Se?D===$n.a.On?$n.a.On:D===$n.a.Off?$n.a.Off:Math.random()<.5?$n.a.On:$n.a.Off:N?$n.a.Treatment:$?$n.a.Control:fe?$n.a.On:Se?$n.a.Off:$n.a.NoGroup}v(Jr,"getCurrentToggleGroup");const du={getCurrentToggleGroup:Jr};Object(je.a)("setToggleGroupForNextSession",ve=>wa(ve));var ud=e("hhWw"),md=e("PKSC"),Xr=e("SjsT"),hd=e("ATdw");const fd=v(()=>{try{Xr.a.deleteDatabase()}catch(ve){Xr.a.getLogger().error(`caught error from deleteDatabase: ${ve}`)}},"objectStoreCallback"),qr=Object(qn.c)("setToggleGroupsForNextSession",(ve,D,N)=>{wa(ud.a,fd),wa(md.a),wa(hd.a)});qr.meta={name:"createThunk",key:"createThunksetToggleGroupsForNextSession",description:"setToggleGroupsForNextSession"};const vd=Object(Ms.a)([j.setDidBootAllWorkspaces],qr);var Od=e("Aqb/"),Ed=e("1Np4");const ei=Object(qn.c)("recordExperimentGroupsAsTrace side effect handler",(ve,D,N)=>{const $=Object(a.getStateForClientStore)(),fe=Object(o.getBootedWorkspaces)($)||[];try{const Se=Od.a.ALWAYS;fe.forEach(We=>{const ye=Object(a.getStateByTeamId)(We),$e=Object(Fr.a)(ye),It=JSON.stringify($e),Jt=Object(Ed.a)({state:ye}),Tn=Jt.createSpan({name:"experiment_groups",options:{tags:{experiment_groups:It}},samplingOptions:{sampleType:Se}});Tn.close(),Jt.reportSpans([Tn])})}catch(Se){Object(M.b)().warn("BOOT-TEAM","could not report experiment groups in trace",Se)}});ei.meta={name:"createThunk",key:"createThunkrecordExperimentGroupsAsTrace",description:"recordExperimentGroupsAsTrace side effect handler"};const gd=Object(Ms.a)([j.setDidBootAllWorkspaces],ei);var Ra=e("PWAB"),pd=e("53Bt"),_d=e("hHne"),bd=e("bYrq");const ti=Object(qn.c)("restorePersistedTiles",(ve,D,N)=>{if(Object(bd.a)())return;const $=N.payload;if(!Object(cr.g)(Object(a.getStateByTeamId)($)))try{const fe=Object(x.h)($,Ra.a.TILES)||!1;if(fe){const Se=Object(x.h)($,Ra.a.LAYOUT)||[],We=Object(x.h)($,Ra.a.ACTIVE_TILE)||null,ye=Object(x.h)($,Ra.a.MINIMIZED_LAYOUT)||[],$e=Object(x.h)($,Ra.a.HISTORY)||{},It={tiles:fe,layout:Se,activeTile:We,minimizedLayout:ye},Jt=$e;Object(a.dispatchForTeamId)($,Object(pd.a)({tilesState:It})),Object(a.dispatchForTeamId)($,Object(_d.a)({tileHistoryState:Jt})),$===Object(o.getFocusedWorkspace)(D())&&window.history.replaceState({tileState:It,tileHistoryState:Jt},"")}}catch{}});ti.meta={name:"createThunk",key:"createThunkrestorePersistedTiles",description:"restorePersistedTiles"};const Id=Object(Ms.a)([j.setWorkspaceBooted],ti);var Cd=e("mwr9");const ni=Object(qn.c)("maybeToggleGlobalMuteShortcutHandler",(ve,D,N)=>Object(Cd.a)(N.payload));ni.meta={name:"createThunk",key:"createThunkmaybeToggleGlobalMuteShortcutHandler",description:"maybeToggleGlobalMuteShortcutHandler"};const Td=Object(Ms.a)([yt.V],ni);var Md=e("rH7J"),yd=e("Jc4w");const si=Object(qn.c)("Transition the up_to_browse_kb_shortcut user pref to the new client pref",(ve,D)=>{var N;const $=D(),fe=Object(o.getFocusedWorkspace)($),Se=Object(a.getStoreInstanceByTeamId)(fe),We=Se==null||(N=Se.getState)===null||N===void 0?void 0:N.call(Se);if(!We||!(Object(oa.d)(We,"up_arrow_pref_change")==="on")||Object(ue.b)($)!==void 0)return;const It=Object(Sa.u)(We,"up_to_browse_kb_shortcut"),{LIST:Jt,EDIT:Tn}=yd.a,Mt=It?Jt:Tn;ve(Object(Md.a)(Mt))});si.meta={name:"createThunk",key:"createThunkmaybeTransitionUpToBrowsePreference",description:"Transition the up_to_browse_kb_shortcut user pref to the new client pref"};const Dd=Object(Ms.a)([j.setWorkspaceBooted],si);var ai=e("On6p"),Qs;(function(ve){ve.NIGHTLY="nightly",ve.ALPHA="alpha",ve.ETA="eta",ve.PILOT="pilot",ve.BETA="beta",ve.PROD="prod"})(Qs||(Qs={}));const uu=[Qs.ALPHA,Qs.ETA,Qs.BETA,Qs.PILOT,Qs.PROD],mu=[Qs.NIGHTLY],hu=v(ve=>ve!==Qs.PROD,"isPreRelease"),oi=Object(qn.c)("maybeSetReleaseChannelOverrideHandler",(ve,D,N)=>{!Object(pn.i)()||!Object(c.db)()||Pd(D)});oi.meta={name:"createThunk",key:"createThunkmaybeSetReleaseChannelOverrideHandler",description:"maybeSetReleaseChannelOverrideHandler"};const Sd=Object(Ms.a)([j.setDidBootAllWorkspaces],oi),ri="nightly-promotion-state";function Pd(ve){const D=Object(c.H)("environment","releaseChannel"),N=Object(c.H)("settings","releaseChannelOverride");let $=N;if(!$&&(D==="beta"||D==="alpha")&&($=D),$==="eta"&&($=Qs.BETA),Object(za.a)()&&Object(pn.j)("4.31.150")){const fe=ve();if(Object(Ya.a)(fe,"ssb_dogfood_automatic_promotion","on")&&Object(o.hasBootedSlackOwnedTeam)(fe)&&$!==ai.a)try{window.localStorage.getItem(ri)!=="2"&&($=ai.a,window.localStorage.setItem(ri,"1"))}catch{}$==="alpha"&&($=Qs.BETA)}$!==N&&(Object(c.bc)({name:"releaseChannelOverride",value:$}),c.S.cache&&c.S.cache.clear())}v(Pd,"maybeSetReleaseChannelOverride");var jd=e("i9jZ"),Ad=e("v9TI");const ii=Object(qn.c)("Side effect to remove window restoration data from localStorage once all teams have booted",()=>{if(!Object(jd.c)())return;const ve=Object(M.b)({label:"WIN-RESTORE"});Object(x.v)(Ad.c,""),ve.info("Cleared window-restoration key in localStorage because all teams have booted.")});ii.meta={name:"createThunk",key:"createThunkmaybeClearWindowRestorationData",description:"Side effect to remove window restoration data from localStorage once all teams have booted"};const Rd=Object(Ms.a)([j.setDidBootAllWorkspaces],ii);var ci=e("q+YH");const li=Object(qn.c)("Transition the a11y_play_sound_for_incoming_dm_choice and a11y_play_sound_for_sent_dm_choice user prefs to their new corresponding client prefs",(ve,D)=>{var N;const $=D(),fe=Object(o.getFocusedWorkspace)($),Se=Object(a.getStoreInstanceByTeamId)(fe),We=Se==null||(N=Se.getState)===null||N===void 0?void 0:N.call(Se);if(!We||!Object(Aa.d)(We))return;if(Object(ue.d)($)===""){const It=Object(Sa.u)(We,"a11y_play_sound_for_incoming_dm_choice"),Jt=It??"";ve(Object(ci.a)(Jt))}if(Object(ue.e)($)===""){const It=Object(Sa.u)(We,"a11y_play_sound_for_sent_dm_choice"),Jt=It??"";ve(Object(ci.b)(Jt))}});li.meta={name:"createThunk",key:"createThunkmaybeMigrateDmSoundPrefs",description:"Transition the a11y_play_sound_for_incoming_dm_choice and a11y_play_sound_for_sent_dm_choice user prefs to their new corresponding client prefs"};const Ld=Object(Ms.a)([j.setDidBootAllWorkspaces],li);var di=e("wlwd");const ui=Object(qn.c)("Transition the a11y_read_out_incoming_dm user pref to its new corresponding client pref",(ve,D)=>{var N;const $=D(),fe=Object(o.getFocusedWorkspace)($),Se=Object(a.getStoreInstanceByTeamId)(fe),We=Se==null||(N=Se.getState)===null||N===void 0?void 0:N.call(Se);if(!We||!Object(Aa.c)(We)||Object(ue.c)($)!==void 0)return;const $e=Object(Sa.u)(We,"a11y_read_out_incoming_dm");if($e!==void 0){ve(Object(di.a)($e));return}ve(Object(di.a)(!0))});ui.meta={name:"createThunk",key:"createThunkmaybeMigrateDmAnnouncementPref",description:"Transition the a11y_read_out_incoming_dm user pref to its new corresponding client pref"};const Ud=Object(Ms.a)([j.setDidBootAllWorkspaces],ui),Bd=[nd,ql,ed,Zl,Yl,ad,id,vd,gd,Id,Td,Sd,Dd,Rd,Ld,Ud];var mi=e("5NQM");const hi=50,fi="recents";let $a;function vi(ve){$a&&Object(mi.b)($a),$a=Object(mi.c)(()=>{$a=void 0,Object(x.v)(fi,ve)})}v(vi,"persistRecents");function Nd(){var ve;return(ve=Object(x.f)(fi))!==null&&ve!==void 0?ve:[]}v(Nd,"loadRecents");const Wd=Nd();var xd=Object(ke.b)({},Wd,{persistenceEnabled:!1,storeKey:"recents"}).on(qe.b,(ve,D)=>{let{entry:N}=D;const $=[N,...ve].slice(0,hi);return vi($),$}).on(qe.d,(ve,D)=>{let{entry:N}=D;const $=[N,...ve.slice(1)].slice(0,hi);return vi($),$});function Oi(){let{extraMiddlewares:ve=[],customEnhancers:D=[]}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const N=Object(re.a)({teamOrEnterpriseId:"client",middlewares:[...ve,X.a,t.a,w.a,g,y,Ze,tt,An,be,Pe,Ee.a,kl],customEnhancers:D}),$=Object(ce.a)({workspaces:z,window:J.a,telemetry:se,connectivity:ge.a,accessibility:ie.a,accessibilityPersistent:oe.a,desktop:H.a,clientTheme:Ue.a,iaHistory:Je,mainWindowHistory:ct,isClient:at,workspaceLayout:dt.a,viewLayout:bt.a,noop:Ht.a,navigate:ft,clientHuddles:Tt,clientSideEffects:we,recents:xd});return Object(s.e)($,N)}v(Oi,"createClientStore");function Fd(){const ve=Object(a.getClientStoreInstance)();if(ve)return Object(M.b)().warn("[CLIENT-STORE]","we\u2019ve called configureClientStore before and already have an instance. This is likely a programming error."),ve;const D=Oi();Object(a.setClientStoreInstance)(D);const{clientSideEffectsMap:N,sideEffectsMap:$,orgSharedSideEffectsMap:fe}=Object(Gl.a)(Bd);if(Object.keys($).length||Object.keys(fe).length)throw new Error("Passed non-client side effects into client store. This is a programming error and the app will not work properly.");return D.dispatch(Ve(N)),D}v(Fd,"configureClientStore");const vu={createClientStore:Oi}},PWAB:function(K,n,e){"use strict";e.d(n,"a",function(){return s}),e.d(n,"b",function(){return t});const s={TILES:"tilesPersistTiles",LAYOUT:"tilesPersistLayout",ACTIVE_TILE:"tilesPersistActiveTile",MINIMIZED_LAYOUT:"tilesPersistMinimizedLayout",HISTORY:"tilesPersistHistory"},t="tile"},PWgi:function(K,n,e){K.exports=e.p+"slackbot_sad_surprise_36-6982f8c.png"},PZKh:function(K,n,e){"use strict";e.d(n,"b",function(){return s}),e.d(n,"a",function(){return t});const s="slack-client-theme",t="slack-client-theme-os-sync"},Pewd:function(K,n,e){"use strict";e.d(n,"a",function(){return c});var s=e("q1tI"),t=e.n(s),a=e("iuhU"),r=e("gZuW");function c(o){let{className:i,errors:l}=o;var u;return l&&l.length>0?t.a.createElement(t.a.Fragment,null,l.map(f=>Object(s.isValidElement)(f.message)?t.a.cloneElement(f.message,{key:f.id,id:f.id,className:Object(a.default)(i,"c-field_input__helpers")}):(u=!!f.message&&t.a.createElement(r.a,{className:Object(a.default)(i,"c-field_input__helpers"),key:f.id,id:f.id},f.message))!==null&&u!==void 0?u:null)):null}v(c,"FieldErrors")},PfQc:function(K,n,e){"use strict";e.d(n,"a",function(){return _});var s=e("LrWZ"),t=e("SQ0V"),a=e("lhZz"),r=e("dKQz"),c=e("+CZ0"),o=e("LZPg"),i=e("QIbu"),l=e("HoeF"),u=e("SIMs"),f=e("XM5t"),d=e("gPPH"),O=e("3vtZ"),m=e("ktUG"),g=e("5IZy"),E=e("RB1+"),p=e("qMw6");const h=v((I,C,y,P)=>{const T=Object(a.getStateForClientStore)(),S=Object(c.a)(T),A=Object(O.k)(C,{huddleId:S}),R=Object(O.j)(T),x=Object(O.i)(T),M=Object(u.n)(C,{huddleId:S});let j,W,U=null,B=null,Y=null;if(y===i.a.None)j=f.a.FOCUS_CLOSE,W=Object(u.o)(C,{key:f.a.FOCUS_OPEN});else{var z;switch(j=f.a.FOCUS_OPEN,W=Object(d.a)(),Y=(P==null||(z=P.item)===null||z===void 0?void 0:z.id)||null,y){case i.a.Screenshare:U="focus_screenshare",B="screenshare";break;default:U="focus_file",B="file"}I(Object(l.l)({key:f.a.FOCUS_OPEN,value:W}))}Object(g.a)({state:C}).track(m.EventId.CANVAS_EVENT,{contexts:{ui_context:{ui_page:M?M.toString():null,ui_properties:{element_name:j},action:m.UiAction.IMPRESSION},calls:x},...A,...R,interaction_id:W,canvas_dimension_marker:U,type:B,item_file_id:Y})},"clogCanvasEvent"),_=Object(t.c)("Sets a user content view which represents what the user is focused on in the canvas",(I,C,y)=>{if(!y||Object(s.a)(y.contentViewType))return;const P=C(),T=y.contentViewType,S=!1;if(T===i.a.Screenshare){const R=Object(o.q)(P),x=b(P);R===i.a.None&&!x&&I(Object(l.w)({isThreadOpen:!1})),I(Object(l.C)({userId:""}))}I(Object(l.m)({isFullscreen:S})),I(Object(l.r)({isNotesOpen:T===i.a.QuipFile}));const A=y.contentViewType===i.a.None||!y.contentViewConfig?{}:y.contentViewConfig;I(Object(o.jb)({id:y.peerId,contentViewType:T,contentViewConfig:A})),Object(a.dispatchForClientStore)(Object(r.w)({contentViewType:T,contentViewConfig:A})),h(I,P,T,A)});_.meta={name:"createThunk",key:"createThunksetContentView",description:"Sets a user content view which represents what the user is focused on in the canvas"};function b(I){const C=Object(a.getStateForClientStore)(),y=Object(c.a)(C),P=Object(c.b)(C),T=Object(u.P)(I,{huddleId:y});if(!(T!=null&&T.ts)||!P)return!1;const S=Object(E.a)({viewContext:p.a.HUDDLE_THREADS,channelId:P,threadTs:T.ts});return(S==null?void 0:S.hasFocus())||!1}v(b,"doesThreadInputHaveFocus")},Plsj:function(K,n,e){"use strict";e.d(n,"a",function(){return l}),e.d(n,"d",function(){return u}),e.d(n,"c",function(){return f}),e.d(n,"b",function(){return d});var s=e("SQ0V"),t=e("GlHf"),a=e("mkcb"),r=e("2VFn");const c=Object(s.c)("Updates the window focus state",(O,m,g)=>{let{isFocused:E,windowId:p=r.c}=g;const h=m();if(Object(t.k)(h,p)===E)return;const _=Date.now(),b=E?{timeLastFocusEvent:_}:{timeLastBlurEvent:_};O(Object(a.c)({windowId:p,isFocused:E,...b}))});c.meta={name:"createThunk",key:"createThunkupdateFocus",description:"Updates the window focus state"};var o=e("H9m0"),i=e("MIV3");const l=Object(s.c)("Handles window focus change events in the client",(O,m,g)=>{let{isFocused:E,windowId:p=r.c}=g;const h=m();if(Object(t.k)(h,p)===E)return;O(c({isFocused:E,windowId:p}));const _=m(),b=Object(t.f)(_,p),I=Object(a.f)({windowId:p,...b});if(Object(i.a)(I),E){const C=Object(o.a)({reason:"focus"});Object(i.a)(C)}});l.meta={name:"createThunk",key:"createThunkhandleWindowFocusEvent",description:"Handles window focus change events in the client"};const u=Object(s.c)("Handles the window beforeunload event in the client",(O,m,g)=>{let{isUnloading:E,windowId:p=r.c}=g;const h=Object(a.e)({isUnloading:E,windowId:p});O(h),Object(i.a)(h)});u.meta={name:"createThunk",key:"createThunkhandleWindowUnloadingEvent",description:"Handles the window beforeunload event in the client"};const f=Object(s.c)("Handles tickling the sockets on mouse down",()=>{const O=Object(o.a)({reason:"mousedown"});Object(i.a)(O)});f.meta={name:"createThunk",key:"createThunkhandleWindowMouseDownEvent",description:"Handles tickling the sockets on mouse down"};const d=Object(s.c)("Handles tickling the sockets on key down",()=>{const O=Object(o.a)({reason:"keydown"});Object(i.a)(O)});d.meta={name:"createThunk",key:"createThunkhandleWindowKeyDownEvent",description:"Handles tickling the sockets on key down"}},PsQx:function(K,n,e){"use strict";e.d(n,"a",function(){return s});let s=v(class{start(a){this.stop(),this.timer=setInterval(a,this.intervalMs)}stop(){this.timer!==null&&(clearInterval(this.timer),this.timer=null)}constructor(a){this.intervalMs=a,this.timer=null}},"IntervalScheduler")},Pv5J:function(K,n,e){"use strict";e.d(n,"a",function(){return O});var s=e("s4P+"),t=e("5IZy"),a=e("ktUG"),r;(function(m){m.IDLE="IDLE",m.WAITING_TO_MEASURE="WAITING_TO_MEASURE",m.MEASURING="MEASURING"})(r||(r={}));const c=Object(s.b)({label:"ANOMALY-DETECTOR"});class o{static setObserver(g){o.observer=g}static setTracer(){}static setChimeMeetingId(g,E){o.chimeMeetingId=g,o.chimeExternalMeetingId=E}static setMicMute(g){o.isMuted!==g&&(o.isMuted=g,!g&&o.muteStartTimeMs&&(o.muteTimeMs+=Date.now()-o.muteStartTimeMs,o.muteStartTimeMs=0),g&&o.state===r.MEASURING&&(o.muteStartTimeMs=Date.now()))}static setMicDevice(g,E,p){o.deviceId===g&&o.isNoiseSuppressionEnabled===E||(o.deviceId&&o.state!==r.IDLE&&c.info(`Abandoning audio send anomaly detection for device: ${o.deviceId}/${o.deviceLabel}/${o.isNoiseSuppressionEnabled} due to device switch`),o.deviceId=g,o.deviceLabel=p,o.isNoiseSuppressionEnabled=E,o.setState(r.WAITING_TO_MEASURE))}static run(g){if(!g)return;const E=g.filter(_=>_.audioStats);if(E.length===0)return;E.length>1&&c.warn("Too many input audio tracks: ",E.length),o.monitorPps(E[0]);const p=E[0].audioStats;if(!(!p||p.audioLevel===void 0||p.audioLevel===null||p.totalAudioEnergy===void 0||p.totalAudioEnergy===null||p.totalSamplesDuration===void 0||p.totalSamplesDuration===null))switch(p.audioLevel>0&&o.clearNoMediaInput(),o.state){case r.WAITING_TO_MEASURE:o.setState(r.MEASURING),o.measuringStartTimeMs=Date.now(),o.isMuted&&(o.muteStartTimeMs=Date.now()),o.muteTimeMs=0,o.startingAudioEnergy=p.totalAudioEnergy,o.startingSamplesDuration=p.totalSamplesDuration;break;case r.MEASURING:{if(p.totalAudioEnergy>o.startingAudioEnergy){c.info(`Detected audio input from device: ${o.deviceId}/${o.deviceLabel}/${o.isNoiseSuppressionEnabled} over ${p.totalSamplesDuration-o.startingSamplesDuration} seconds, energy increase: ${p.totalAudioEnergy-o.startingAudioEnergy}`),o.setState(r.IDLE);break}const _=o.muteStartTimeMs?Date.now()-o.muteStartTimeMs:0;if(Date.now()-o.measuringStartTimeMs-o.muteTimeMs-_>=o.NO_AUDIO_THRESHOLD_MS){var h;c.warn(`No audio input from device: ${o.deviceId}/${o.deviceLabel}/${o.isNoiseSuppressionEnabled} over ${p.totalSamplesDuration-o.startingSamplesDuration} seconds`),Object(t.a)().track(a.EventId.CALLS_NO_AUDIO_INPUT,{chime_meeting_id:o.chimeMeetingId,chime_external_meeting_id:o.chimeExternalMeetingId,device_id:o.deviceId,device_label:o.deviceLabel,is_noise_suppresion_enabled:o.isNoiseSuppressionEnabled}),(h=o.observer)===null||h===void 0||h.onSetNoOrLowInputAudioLevel(),o.setState(r.IDLE);break}break}default:case r.IDLE:break}}static cleanup(){c.info("Cleaning up AudioSendAnomalyDetector"),o.state=r.IDLE,o.isMuted=!1,o.muteStartTimeMs=0,o.muteTimeMs=0,o.deviceId=void 0,o.deviceLabel=void 0,o.isNoiseSuppressionEnabled=!1,o.measuringStartTimeMs=0,o.startingAudioEnergy=0,o.startingSamplesDuration=0,o.observer=void 0,o.resetTracer()}static clearNoMediaInput(){var g;(g=o.observer)===null||g===void 0||g.onClearNoOrLowInputAudioLevel()}static monitorPps(g){if(o.MONITOR_PPS_ENABLED===!1&&o.isNoiseSuppressionEnabled===!1||!g.packetsSent)return;const E=Date.now(),p=g.packetsSent;if(o.lastReportTime!==0){const h=E-o.lastReportTime,_=(p-o.lastPacketsSent)/(h/1e3);_<o.EXPECTED_PPS*o.PPS_LOWER_BOUND_THRESHOLD&&c.warn(`AUDIO_SEND_LOW_PPS - ${_}`),_>o.EXPECTED_PPS*o.PPS_HIGHER_BOUND_THRESHOLD&&c.warn(`AUDIO_SEND_HIGH_PPS - ${_}`)}o.lastReportTime=E,o.lastPacketsSent=p}static setState(g){o.state=g,c.info(`AudioSendAnomalyDetector state change: ${o.state}`)}static resetTracer(){}}v(o,"audio_send_anomaly_detector_AudioSendAnomalyDetector"),o.state=r.IDLE,o.isMuted=!1,o.muteStartTimeMs=0,o.muteTimeMs=0,o.isNoiseSuppressionEnabled=!1,o.measuringStartTimeMs=0,o.startingAudioEnergy=0,o.startingSamplesDuration=0,o.NO_AUDIO_THRESHOLD_MS=6e3,o.MONITOR_PPS_ENABLED=!1,o.EXPECTED_PPS=50,o.PPS_LOWER_BOUND_THRESHOLD=.9,o.PPS_HIGHER_BOUND_THRESHOLD=1.1,o.lastReportTime=0,o.lastPacketsSent=0;var i=e("Yk1L"),l=e("M3pb"),u=e("LZPg");const f=Object(s.b)({label:"ANOMALY-DETECTOR"});class d{static setObserver(g){d.observer=g}static run(g){const E=Object(l.a)();if(!g||g.length===0||!E){d.clearNoAudioOutput();return}const p=Object(u.T)(E.getState());if(Object.keys(p).length!==1){d.clearNoAudioOutput();return}const h=Object.keys(p);if(!p[h[0]].isMicrophoneEnabled){d.clearNoAudioOutput();return}if(g.forEach(I=>{!I.audioStats||I.audioStats.audioLevel===void 0||I.audioStats.audioLevel===null||(d.accumulatedAudioLevels.length>=d.ACCUMULATED_AUDIO_LEVELS_BUFFER_SIZE&&d.accumulatedAudioLevels.shift(),d.accumulatedAudioLevels.push(I.audioStats.audioLevel))}),d.accumulatedAudioLevels.length<d.MIN_AUDIO_LEVEL_BUFFER_SIZE){d.clearNoAudioOutput();return}const _=Object(i.a)(d.accumulatedAudioLevels);if(_<=d.RECV_LOW_AUDIO_LEVEL_THRESHOLD){if(d.shouldReport){var b;(b=d.observer)===null||b===void 0||b.onSetNoOrLowOutputAudioLevel(),f.warn(`RECV_LOW_AUDIO_LEVEL - Avg(last ${d.accumulatedAudioLevels.length} values): ${_}`),d.shouldReport=!1,d.logTimerHandle=setTimeout(()=>{d.shouldReport=!0},d.SKIP_LOG_MS)}}else d.clearNoAudioOutput()}static cleanup(){d.logTimerHandle&&(clearTimeout(d.logTimerHandle),d.logTimerHandle=null)}static clearNoAudioOutput(){var g;(g=d.observer)===null||g===void 0||g.onClearNoOrLowOutputAudioLevel()}}v(d,"audio_receive_anomaly_detector_AudioReceiveAnomalyDetector"),d.ACCUMULATED_AUDIO_LEVELS_BUFFER_SIZE=5,d.MIN_AUDIO_LEVEL_BUFFER_SIZE=3,d.SKIP_LOG_MS=6e4,d.RECV_LOW_AUDIO_LEVEL_THRESHOLD=0,d.accumulatedAudioLevels=[],d.shouldReport=!0;class O{static setObserver(g){o.setObserver(g),d.setObserver(g)}static run(g){o.run(g.send),d.run(g.recv)}static cleanup(){o.cleanup(),d.cleanup()}static setChimeMeetingId(g,E){o.setChimeMeetingId(g,E)}static setMicMute(g){o.setMicMute(g)}static setTracer(){o.setTracer()}static setMicDevice(g,E,p){o.setMicDevice(g,E,p)}}v(O,"anomaly_detector_AnomalyDetector")},PxW5:function(K,n,e){"use strict";e.d(n,"a",function(){return r}),e.d(n,"e",function(){return c}),e.d(n,"d",function(){return o}),e.d(n,"c",function(){return i});var s=e("CnKg");const t=["activity","Pactivity","activity_page"],a=["later","Plater","LaterList"],r={Activity:"activity",Later:"later"};function c(l){const{id:u,params:f}=l??{};if(u&&t.includes(u))return r.Activity;if(u&&a.includes(u))return r.Later;var d;return(d=f==null?void 0:f.channelCanvasId)!==null&&d!==void 0?d:u}v(c,"normalizeViewId");const o=v(l=>{const u=c(l);return u?u.replace("ROUTE_FLEX_","").toLowerCase():void 0},"normalizeSecondaryId"),i=v(l=>{const u=c(l);if(!u)return;const{fileIdOrQuipThreadId:f}=Object(s.i)(u);return f},"normalizeCanvasViewId");n.b=c},"Pyy/":function(K,n,e){"use strict";e.d(n,"a",function(){return t});var s=e("vLZU");function t(a){const i={sideEffectsMap:{},orgSharedSideEffectsMap:{},clientSideEffectsMap:{}};return!a||!a.length?i:a.reduce((l,u)=>{const{actions:f,scope:d}=u;let O;switch(d){case s.m.orgShared:O=l.orgSharedSideEffectsMap;break;case s.m.client:O=l.clientSideEffectsMap;break;default:case s.m.workspace:O=l.sideEffectsMap;break}return f.forEach(m=>{var g;const E=m==null||(g=m.getType)===null||g===void 0?void 0:g.call(m);E&&(O[E]=O[E]||[],O[E].push(u))}),l},i)}v(t,"generateSideEffectsMaps")},Q0mH:function(K,n,e){"use strict"},"Q1m+":function(K,n,e){"use strict";e.d(n,"a",function(){return o});var s=e("mx2s"),t=e("SQ0V"),a=e("E4z0"),r=e("lhZz"),c=e("j77i");const o=Object(t.c)("Set the user-specified wide sidebar width and mode",(i,l,u)=>{let{sidebarWideWidthIntent:f,sidebarWideWidthMode:d}=u;Object(c.v)(s.f,f),Object(c.v)(s.g,d),i(Object(a.f)({sidebarWideWidthIntent:f,sidebarWideWidthMode:d})),Object(r.dispatchForClientStore)(Object(a.f)({sidebarWideWidthIntent:f,sidebarWideWidthMode:d}))});o.meta={name:"createThunk",key:"createThunksetSidebarWideColumn",description:"Set the user-specified wide sidebar width and mode"}},Q755:function(K,n,e){"use strict"},Q7We:function(K,n,e){"use strict";var s=e("SQ0V"),t=e("cBLH"),a=e("Jhy3"),r=e("UIhb"),c=e("dqLn"),o=e("xcHN");const i=Object(s.c)("Remove a message and its timestamp",function(l,u){let{channelId:f,ts:d,threadTs:O,broadcastDelete:m=!1}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(!(!f||!d))if(m)l(Object(a.e)({channelId:f,ts:d}));else{l(Object(t.d)({channelId:f,timestamp:d}));const g=!1,E=Object(r.b)(u(),f,d,g),p=E&&E.thread_ts||O;if(p){const h=Object(o.c)(f,p)||"";l(Object(t.d)({channelId:h,timestamp:d}))}l(Object(a.h)({message:{channel:f,ts:d}})),l(Object(c.a)({channelId:f,item:E}))}});i.meta={name:"createThunk",key:"createThunkremoveMessageAndTimestamp",description:"Remove a message and its timestamp"},n.a=i},QBFz:function(K,n,e){"use strict";e.d(n,"b",function(){return f}),e.d(n,"a",function(){return d});var s=e("KGIc"),t=e("kBpe"),a=e("lhZz"),r=e("kQBZ"),c=e("O86Y"),o=e("RVJP"),i=e("FWtP");function l(){var O,m;return{hardware_concurrency:(O=window.navigator)===null||O===void 0?void 0:O.hardwareConcurrency,device_memory:(m=window.navigator)===null||m===void 0?void 0:m.deviceMemory}}v(l,"getDeviceInfo");const u=Object(i.a)(()=>{let O;const{desktopAppVersion:m}=Object(t.b)();if(m){const{major:g,minor:E,patch:p}=m;O=`${g}.${E}.${p}`}return{os:Object(t.f)(),browser:Object(t.c)(),browser_version:Object(t.d)(),app_version:O,version_ts:Object(s.b)()}});function f(O,m,g){let E=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};try{var p;const h=JSON.stringify({...g,metadata:{type:O,webapp_version:Object(s.h)(),...l(),...u(),...E}});(p=Object(a.getStoreInstanceByTeamId)(m))===null||p===void 0||p.dispatch(Object(r.Se)({reason:"report_trace",trace:h,type:O}))}catch{}}v(f,"reportJSProfile");function d(O,m){const g=Object(c.g)(O),E=Object(o.d)(O,"self_profiling")==="enabled";if(!g||!E)return{stop(){}};try{const p=new window.Profiler({maxBufferSize:1e4,sampleInterval:0}),h=new Date,_=p.sampleInterval;return{stop(){const b=new Date;p.stop().then(I=>{f(m,g,I,{from:h,until:b,sample_interval:_})})}}}catch{return{stop(){}}}}v(d,"recordJSProfile")},QLhP:function(K,n,e){"use strict";e.d(n,"b",function(){return p}),e.d(n,"a",function(){return h}),e.d(n,"e",function(){return _}),e.d(n,"f",function(){return b}),e.d(n,"d",function(){return I}),e.d(n,"c",function(){return P});var s=e("n3tL"),t=e("s4P+"),a=e("Kmpi"),r=e("ZKjC"),c=e("Nnn3"),o=e("kGAF"),i=e("O86Y"),l=e("vFlG"),u=e("4Ky9"),f=e("xwCZ"),d=e("XJcz"),O=e("G+Dn"),m=e("ivr1"),g=e("Fn/R");function E(A){return!!(A&&Object(a.b)(A)&&!Object(g.a)(A))}v(E,"isMemberHuman");const p=Object(r.b)(function(A,R){let x=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!R)return!1;const M=Object(i.g)(A),j=Object(m.a)(A)&&Object(m.a)(A)[R];return!j&&Object(o.a)(R)&&x&&d.a.indexOf(R)<0?Object(O.a)().fetchObjectWithId(M,R):(Object(O.c)(M,R),j||!1)});p.meta={name:"createSelector",key:"createSelectorgetBotById",description:function(A,R){let x=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!R)return!1;const M=Object(i.g)(A),j=Object(m.a)(A)&&Object(m.a)(A)[R];return!j&&Object(o.a)(R)&&x&&d.a.indexOf(R)<0?Object(O.a)().fetchObjectWithId(M,R):(Object(O.c)(M,R),j||!1)}};const h=Object(r.b)((A,R)=>{if(!R)return;const x=Object(m.a)(A);let M;return x&&(M=Object.values(x).find(j=>j.app_id===R)),M});h.meta={name:"createSelector",key:"createSelectorgetBotByAppId",description:(A,R)=>{if(!R)return;const x=Object(m.a)(A);let M;return x&&(M=Object.values(x).find(j=>j.app_id===R)),M}};const _=Object(r.b)((A,R)=>{const x=Object(f.g)(A,R);return E(x)});_.meta={name:"createSelector",key:"createSelectorgetMemberIsHuman",description:(A,R)=>{const x=Object(f.g)(A,R);return E(x)}};const b=Object(r.b)(function(A){let{userId:R,botId:x,botProfile:M}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},j,W;R&&(j=Object(f.g)(A,R)),x&&(W=p(A,x));const U=j?E(j):!1;let B;!Object(a.b)(W)&&Object(a.b)(j)&&(B=Object(c.a)(A,j),B&&B!==x&&(W=p(A,B)));let Y;if(!Object(a.b)(W)&&M&&(Y=M.id,Y&&Y!==B&&Y!==x&&(W=p(A,Y)),Object(a.b)(W)||(W=M)),!Object(a.b)(j)&&Object(a.b)(W)&&W.app_id){const z=Object(u.a)(A,W.app_id);if(Object(a.b)(z)){const F=z.app_user_id;F&&F!==R&&(j=Object(f.g)(A,F))}}return{bot:W,member:j,memberIsHuman:U}});b.meta={name:"createSelector",key:"createSelectormaybeGetBotAndMemberByIds",description:function(A){let{userId:R,botId:x,botProfile:M}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},j,W;R&&(j=Object(f.g)(A,R)),x&&(W=p(A,x));const U=j?E(j):!1;let B;!Object(a.b)(W)&&Object(a.b)(j)&&(B=Object(c.a)(A,j),B&&B!==x&&(W=p(A,B)));let Y;if(!Object(a.b)(W)&&M&&(Y=M.id,Y&&Y!==B&&Y!==x&&(W=p(A,Y)),Object(a.b)(W)||(W=M)),!Object(a.b)(j)&&Object(a.b)(W)&&W.app_id){const z=Object(u.a)(A,W.app_id);if(Object(a.b)(z)){const F=z.app_user_id;F&&F!==R&&(j=Object(f.g)(A,F))}}return{bot:W,member:j,memberIsHuman:U}}},b.propTypes=s.default.oneOfType([s.default.shape({userId:s.default.string,botId:s.default.string.isRequired,botProfile:s.default.object}),s.default.shape({userId:s.default.string.isRequired,botId:s.default.string,botProfile:s.default.object})]);const I=Object(r.b)((A,R)=>{const x=p(A,R);if(x&&x.name)return x.name});I.meta={name:"createSelector",key:"createSelectorgetBotNameById",description:(A,R)=>{const x=p(A,R);if(x&&x.name)return x.name}};const C=Object(r.b)((A,R)=>Object(l.a)(Object(m.a)(A),[R]));C.meta={name:"createSelector",key:"createSelectorhasBotWithId",description:(A,R)=>Object(l.a)(Object(m.a)(A),[R])};const y=Object(r.b)(A=>Object(m.a)(A));y.meta={name:"createSelector",key:"createSelectorgetAllBots",description:A=>Object(m.a)(A)};const P=Object(r.b)((A,R)=>{if(!A||!R)return null;const x=Object(f.g)(A,R.user),M=R.bot_id||Object(c.a)(A,x);if(!M)return null;if(R.bot_profile)return R.bot_profile.id!==M?{...R.bot_profile,id:M}:R.bot_profile;const j=p(A,M);return j||null});P.meta={name:"createSelector",key:"createSelectorgetBotByMsg",description:(A,R)=>{if(!A||!R)return null;const x=Object(f.g)(A,R.user),M=R.bot_id||Object(c.a)(A,x);if(!M)return null;if(R.bot_profile)return R.bot_profile.id!==M?{...R.bot_profile,id:M}:R.bot_profile;const j=p(A,M);return j||null}};const T=Object(r.b)((A,R)=>{if(!A||!R)return null;const x=Object(f.g)(A,R.user),M=P(A,R),j=Object(t.a)({state:A}),W=M&&M.id||Object(c.a)(A,x),U=M&&M.team_id;W&&!M&&j.warn(`getBotInfoByMsg: failed to find a bot with ID '${W}'`);const B=x&&x.profile&&x.profile.api_app_id||M&&M.app_id;return!B&&!W?(j.warn("Unable to get bot info for message",R),null):U?{botId:W,appId:B,teamId:U}:{botId:W,appId:B}});T.meta={name:"createSelector",key:"createSelectorgetBotInfoByMsg",description:(A,R)=>{if(!A||!R)return null;const x=Object(f.g)(A,R.user),M=P(A,R),j=Object(t.a)({state:A}),W=M&&M.id||Object(c.a)(A,x),U=M&&M.team_id;W&&!M&&j.warn(`getBotInfoByMsg: failed to find a bot with ID '${W}'`);const B=x&&x.profile&&x.profile.api_app_id||M&&M.app_id;return!B&&!W?(j.warn("Unable to get bot info for message",R),null):U?{botId:W,appId:B,teamId:U}:{botId:W,appId:B}}};const S=Object(r.b)((A,R)=>{if(!A||!R||!R.team_id)return null;const x=Object(i.g)(A),M=Object(i.d)(A),j=R.team_id;return x!==j&&!M});S.meta={name:"createSelector",key:"createSelectorisBotExternal",description:(A,R)=>{if(!A||!R||!R.team_id)return null;const x=Object(i.g)(A),M=Object(i.d)(A),j=R.team_id;return x!==j&&!M}}},QP4N:function(K,n,e){"use strict";e.d(n,"a",function(){return l});var s=e("LOcX"),t=e("q1tI"),a=e.n(t),r=e("nFQW"),c=e("nNoG");const o=new c.b("generic_dialog");function i(f){let{onClick:d}=f;return a.a.createElement(r.a,{className:"c-multi_pane_modal__back",icon:"chevron-large-left",onClick:d,"aria-label":o.t("Back",{fallbackHash:"b52b36b7269fbfc58ec24bb724691951a3decbe8",fallbackHashNs:"member_actions"})})}v(i,"ModalBackButton"),i.displayName="ModalBackButton";var l=a.a.memo(i),u=n.b=s.a},QW4n:function(K,n,e){"use strict";e.d(n,"a",function(){return m});var s=e("q1tI"),t=e.n(s),a=e("iuhU"),r=e("YUBf"),c=e("GiOu"),o=e("JvzI"),i=e("9gkt"),l=e("AFY6"),u=e("dNN9"),f=e("ZE32"),d=e("pyW3");function O(){return O=Object.assign||function(E){for(var p=1;p<arguments.length;p++){var h=arguments[p];for(var _ in h)Object.prototype.hasOwnProperty.call(h,_)&&(E[_]=h[_])}return E},O.apply(this,arguments)}v(O,"_extends");var m;(function(E){E.LIGHT="light",E.DARK="dark",E.GOLD="gold"})(m||(m={}));const g=v(E=>{let{bannerBackgroundColor:p,bodyContent:h,centered:_,className:b,closeButtonTheme:I=m.DARK,closeModal:C,dataQa:y,footerContent:P,imgSrc:T,maxWidth:S,shouldCloseOnOverlayClick:A,showProBadge:R=!0,subtitle:x,title:M,videoFilename:j,videoPosterExtension:W="png",videoClassName:U,...B}=E;const Y=Object(o.a)(),z=`${j}${Y==="en-US"?"":`.${Y}`}`,F=t.a.createElement(t.a.Fragment,null,M,R&&t.a.createElement(c.b,{className:"p-upgrades_modal_with_banner__pro_badge"})),V={backgroundColor:p},L="p-upgrades_modal_with_banner__banner",Q=v(()=>T?t.a.createElement("img",{className:L,alt:"",src:T}):j?t.a.createElement("video",{playsInline:!0,autoPlay:!0,muted:!0,className:Object(a.default)(L,U),poster:`${z}.${W}`},t.a.createElement("source",{type:"video/mp4",src:`${z}.mp4`}),t.a.createElement("source",{type:"video/webm",src:`${z}.webm`})):null,"getModalBanner");return Q.displayName="getModalBanner",t.a.createElement(r.a,O({className:Object(a.default)("p-upgrades_modal_with_banner__base_modal",`p-upgrades_modal_with_banner--close_button_${I}`,"p-upgrades_modal_with_banner--close_button",b),centered:_,closeModal:C,dataQa:y,maxWidth:S,shouldCloseOnOverlayClick:A},B),t.a.createElement(i.a,{headerClassName:"p-upgrades_modal_with_banner__header",titleClassName:"p-upgrades_modal_with_banner__title",title:F},t.a.createElement("div",{style:V,className:"p-upgrades_modal_with_banner__container"},Q())),t.a.createElement(r.d,null,x&&t.a.createElement(l.a,{className:"p-upgrades_modal_with_banner__subtitle",subtitle:x}),t.a.createElement(u.a,{className:"p-upgrades_modal_with_banner__body"},h)),t.a.createElement(f.a,null,P))},"ModalContentWithBanner");g.displayName="ModalContentWithBanner",n.b=g},QWPf:function(K,n,e){"use strict";e.d(n,"a",function(){return m});var s=e("CpTu"),t=e("uXhx"),a=e("lE2N"),r=e("BeL+"),c=e("GxtX"),o=e("uKXT"),i=e("ZP0B"),l=e("J/RB"),u=e("Lgge"),f=e("SQ0V"),d=e("xcHN"),O=e("ZAxE");const m=Object(f.c)("gets thread replies from the API",(g,E,p)=>{const{channelId:h,threadTs:_,oldest:b,limit:I}=p;let C=p.latest;b===C&&C===p.threadTs&&(C=null);const y=Object(d.c)(h,_);return b&&C?u.a.all([g(Object(O.e)({channelId:h,threadTs:_,latest:C,limit:I})),g(Object(O.e)({channelId:h,threadTs:_,oldest:b,limit:I}))]).then(P=>{let[T,S]=P;const A=Object(s.a)(T.msgs,{ts:_})||Object(s.a)(S.msgs,{ts:_}),R=Object(t.a)(T.msgs,{ts:_}),x=Object(t.a)(S.msgs,{ts:_}),M=T.deleted,j=S.deleted,W=Object(a.a)(R.concat(x),"ts"),U=Object(r.a)(Object(c.a)(M,j));!T.hasMore&&A&&W.unshift(A);const B=W.map(Y=>Y.ts);return g(Object(l.a)({msgs:W,channelId:y,hasMore:{hasMoreStart:T.hasMore,hasMoreEnd:S.hasMore},oldest:Object(o.a)([b,Object(o.a)(B)]),latest:Object(i.a)([C,Object(i.a)(B)]),deleted:U})),{msgs:W}}):g(Object(O.e)({channelId:h,threadTs:_,oldest:b,latest:C,limit:I})).then(function(){let{msgs:P,deleted:T,hasMore:S}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const A=C&&!S||b===_||C===_||!b&&!C&&!S;let R=P;A||(R=Object(t.a)(P,{ts:_}));let x=S;!b&&!C&&(x={hasMoreStart:S,hasMoreEnd:!1}),g(Object(l.a)({msgs:R,channelId:y,hasMore:x,oldest:b,latest:C,deleted:T}));const M=Object(s.a)(P,{ts:_});return M&&b===_&&g(Object(l.a)({msgs:[M],channelId:y,hasMore:!1,latest:_})),{msgs:R}})});m.meta={name:"createThunk",key:"createThunkrequestReplies",description:"gets thread replies from the API"}},QYtq:function(K,n,e){"use strict";var s=e("zHTW");e.d(n,"a",function(){return s.a});var t=e("Dp5f");e.d(n,"b",function(){return t.a}),n.c=s.a},QaYX:function(K,n,e){"use strict";e.d(n,"a",function(){return c});var s=e("Yauy"),t=e("Enx8"),a=e("9Gfp"),r=e("4qCO");function c(o){let{state:i,mpim:l,matchData:u}=o;const f=Object(a.a)(i);let d=[];if(Object(s.E)(l)&&(d=Object(s.E)(l).filter(p=>f!==p)),!u)return d;const O=!1,m=!1,g=[];u.forEach(p=>{p.map(_=>({name:Object(t.a)(i,_.id,O,m),..._})).sort((_,b)=>_.score<b.score?1:_.score>b.score?-1:Object(r.a)(_.name,b.name)).filter(_=>isFinite(_.score)).forEach(_=>{d.includes(_.id)&&(g.push(_.id),d.splice(d.indexOf(_.id),1))})});const E=d.map(p=>({id:p,name:Object(t.a)(i,p,O,m)})).sort((p,h)=>Object(r.a)(p.name,h.name)).map(p=>p.id);return[...g,...E]}v(c,"getMemberDisplayOrderForSearcherMPIM")},QcTi:function(K,n,e){"use strict"},"Qe/g":function(K,n,e){"use strict";e.d(n,"b",function(){return r}),e.d(n,"a",function(){return o});var s=e("RVJP"),t=e("G5NC"),a=e("wwBm");function r(i){return Object(s.d)(i,"mwc")==="treatment"&&Object(t.a)()}v(r,"isChannelPopoutsEnabled");let c;function o(){return Object(t.a)()?(typeof c>"u"&&(c=!!Object(a.d)(location.search).channel_popout),c):!1}v(o,"isChannelPopoutWindow")},Qmy9:function(K,n,e){"use strict";var s=e("9oTK"),t=e.n(s),a=e("SQ0V"),r=e("AO5M"),c=e("wHDZ"),o=e("s4P+"),i=e("5IZy"),l=e("ktUG"),u=e("WhBi"),f=e("JJ34"),d=e("WdO3"),O=e("mEzS"),m=e("O86Y"),g=e("HXkx"),E=e("PWAB"),p=e("59uo"),h=e("1Mwh"),_=e("seWQ"),b=e("vGF+"),I=e("j77i");const C=Object(a.c)("Sets the specified tile",function(){var y=Object(s.coroutine)(function*(P,T,S){let{key:A,tile:R,isHistoryNavigation:x=!1,replaceHistory:M=!1}=S;const j=T(),W=Object(p.h)(j),U=Object(b.a)(j);(U?Object(f.c)(j,{tileKey:A}):Object(u.c)(j,{tileKey:A}))&&(U?yield P(Object(O.a)({})):yield P(Object(d.a)()));const Y=yield P(Object(_.a)({nextTile:R}));if(!Y)return;M?P(Object(r.c)({tileKey:A,tile:Y})):x||P(Object(c.a)({key:A,tile:Y}));const z={...W,[A]:R},F=Object(m.g)(j);Object(I.w)(F,E.a.TILES,z),P(Object(h.i)({tiles:z})),P(Object(g.a)({replaceHistory:M})),Object(i.a)({getState:T}).track(l.EventId.TILE_NAVIGATE),Object(o.a)({getState:T}).action("TILES","navigate",A,R.view)});return function(P,T,S){return y.apply(this,arguments)}}());C.meta={name:"createThunk",key:"createThunksetTile",description:"Sets the specified tile"},n.a=C},QpNZ:function(K,n,e){"use strict";var s=e("q1tI"),t=e.n(s),a=e("iuhU"),r=e("zxER"),c=e("E97Y"),o=e("VFSv"),i=e("zMr6");function l(){return l=Object.assign||function(d){for(var O=1;O<arguments.length;O++){var m=arguments[O];for(var g in m)Object.prototype.hasOwnProperty.call(m,g)&&(d[g]=m[g])}return d},l.apply(this,arguments)}v(l,"_extends");const u=v(d=>{let{className:O,filled:m,bold:g,channel:E,disableArchived:p,overrideHiddenIcon:h}=d;const _=Object(r.a)(I=>h||Object(i.b)(I,E,{filled:m||Object(c.k)(E),bold:g,disableArchived:p})),b=Object(a.default)(O,{"c-inline_channel_icon c-inline_channel_icon--space":!0});return t.a.createElement("span",{className:b,"data-inline-channel-type-icon":_.name},t.a.createElement(o.a,l({inline:!0},_)))},"InlineChannelIcon");u.displayName="InlineChannelIcon";var f=n.a=t.a.memo(u)},Qttk:function(K,n,e){"use strict";e.d(n,"a",function(){return u});var s=e("vfQU"),t=e("DuRM"),a=e("azFB"),r=e("SQ0V"),c=e("s4P+"),o=e("PIf0"),i=e("2VFn");const l=v(f=>{let{window:d}=f;var O;if(d!==a.a)if(Object(s.db)()){const m=Object(s.O)();m&&(Object(c.b)({label:"CHILD-WINDOW"}).info("focusing main window"),Object(s.x)(m))}else(d==null||(O=d.opener)===null||O===void 0?void 0:O.name)===i.c.description&&d.open("",i.c.description)},"bringMainWindowToTopInner"),u=Object(r.c)("Maybe bring the main window to the top when clicking on something from a child window",(f,d,O,m)=>{const{window:g}=m(o.a);if(g===a.a)return;const E=Object(t.b)(g);Object(c.a)({getState:d,label:"CHILD-WINDOW"}).info(`maybe focusing main window from child window ${E}`),l({window:g})});u.meta={name:"createThunk",key:"createThunkbringMainWindowToTop",description:"Maybe bring the main window to the top when clicking on something from a child window"}},QufA:function(K,n,e){K.exports=e.p+"ava_0002-24-f65dddc.png"},QwV3:function(K,n,e){K.exports=e.p+"they_joined_call_v2-1a6f390.mp3"},R07R:function(K,n,e){"use strict";var s=e("q1tI"),t=e.n(s),a=e("c+dP"),r=e("6FZx"),c=e("nNoG"),o=e("/Nz6"),i=e("/MKj"),l=e("VFSv");function u(){return u=Object.assign||function(O){for(var m=1;m<arguments.length;m++){var g=arguments[m];for(var E in g)Object.prototype.hasOwnProperty.call(g,E)&&(O[E]=g[E])}return O},u.apply(this,arguments)}v(u,"_extends");const f=new c.b("huddles"),d=v(O=>{let{hideMenuIcon:m=!1,channelId:g,...E}=O;const p=Object(i.useDispatch)(),h=f.t("Copy huddle link"),_=E.onClose,b=Object(s.useCallback)(()=>{p(Object(o.a)({channelId:g})),_==null||_()},[p,g,_]);return t.a.createElement(a.b,u({key:"copy-huddle-link",label:h,"aria-label":h,onSelected:b,"data-qa":"copy-link-menu-item"},E,!m&&{icon:t.a.createElement(l.a,{size:"18",name:"link"})}))},"HuddleCopyLinkMenuItem");d.displayName="HuddleCopyLinkMenuItem",n.a=Object(r.b)(d)},R4JA:function(K,n,e){"use strict";e.d(n,"a",function(){return r});var s=e("vLZU"),t=e("UOL+"),a=e("hLt0");const r=v((c,o)=>Object(a.c)(Object(s.B)({reducer:a.b})?Object(t.a)(c):c,o),"getIsMemberDisconnectedById")},R5WG:function(K,n,e){"use strict";e.d(n,"a",function(){return T});var s=e("q1tI"),t=e.n(s),a=e("n3tL"),r=e("x5Wd"),c=e("/MKj"),o=e("lhZz"),i=e("EkfH"),l=e("COQp"),f=v(()=>{const S=Object(s.useContext)(r.a),A=Object(c.useDispatch)();return Object(s.useEffect)(()=>{Object(i.a)()?Object(o.dispatchForClientStore)(Object(l.a)(S)):A(Object(l.a)(S))},[A,S]),null},"KeyboardFocusContextRelay"),d=e("weKX");const O=!1,m=Object(d.c)("Keyboard focus",O);var g=e("MO4o"),E=e("kBpe"),p=e("zxER"),h=e("WVqY"),_=e("azFB");const b=["Tab","F6","ArrowUp","ArrowDown","ArrowLeft","ArrowRight"];function I(S){return!S||S.type!=="keydown"||typeof S.key!="string"?!1:b.includes(S.key)}v(I,"isKeyboardNavEvent");function C(S){let{key:A,shiftKey:R}=S;const x=new CustomEvent("keyboard-navigation",{detail:{key:A,shiftKey:R}});y.dispatchEvent(x)}v(C,"triggerKeyboardNavEvent");let y=v(class wn extends t.a.Component{static getDerivedStateFromProps(A,R){return A.isScreenReaderEnabled&&!R.hasKeyboardFocus?{hasKeyboardFocus:!0}:null}static onDocumentFocus(A){let{target:R}=A;const x=wn.relatedEvent,M=I(x),j=Object(g.a)(R);if(x&&x.type==="keydown"&&wn.hasKeyboardFocus){M&&!j&&C({key:x.key,shiftKey:x.shiftKey});return}if(j)return;const W=M||wn.hasKeyboardFocus&&!x;if(wn.relatedEvent=null,W&&x&&C(x.key),W===wn.hasKeyboardFocus)return;wn.hasKeyboardFocus=W;const U=new CustomEvent("focuseventmanager-focus-src-change",{detail:{hasKeyboardFocus:W}});wn.dispatchEvent(U)}static onDocumentKeyDown(A){let{type:R,key:x,shiftKey:M}=A;wn.relatedEvent={type:R,key:x,shiftKey:M}}static onDocumentMouseDown(A){const{type:R,ctrlKey:x}=A;if(Object(E.p)()&&wn.hasKeyboardFocus&&x)return;wn.relatedEvent={type:R},wn.hasKeyboardFocus=!1;const M=new CustomEvent("focuseventmanager-focus-src-change",{detail:{hasKeyboardFocus:!1}});wn.dispatchEvent(M)}static onWindowBlur(){wn.relatedEvent=null}static dispatchEvent(A){_.a.document.dispatchEvent(A)}static addListeners(A){A.addEventListener("blur",wn.onWindowBlur,!1),A.document.addEventListener("focus",wn.onDocumentFocus,!0),A.document.addEventListener("keydown",wn.onDocumentKeyDown,!0),A.document.addEventListener("mousedown",wn.onDocumentMouseDown,!0)}static removeListeners(A){A.removeEventListener("blur",wn.onWindowBlur,!1),A.document.removeEventListener("focus",wn.onDocumentFocus,!0),A.document.removeEventListener("keydown",wn.onDocumentKeyDown,!0),A.document.removeEventListener("mousedown",wn.onDocumentMouseDown,!0)}componentDidMount(){wn.instances+=1,wn.instances===1&&wn.addListeners(_.a),_.a.document.addEventListener("focuseventmanager-focus-src-change",this.onFocus,!0)}componentDidUpdate(){this.state.hasKeyboardFocus&&!wn.hasKeyboardFocus&&(wn.hasKeyboardFocus=!0)}componentWillUnmount(){wn.hasKeyboardFocus=!1,wn.instances-=1,wn.instances===0&&wn.removeListeners(_.a),_.a.document.removeEventListener("focuseventmanager-focus-src-change",this.onFocus,!0)}onFocus(A){this.setState(()=>({hasKeyboardFocus:A.detail.hasKeyboardFocus}))}render(){return t.a.createElement(r.a.Provider,{value:this.state.hasKeyboardFocus},this.props.children)}constructor(A){super(A),this.onFocus=this.onFocus.bind(this),this.state={hasKeyboardFocus:wn.hasKeyboardFocus}}},"FocusEventManager");y.displayName="FocusEventManager",y.propTypes={children:a.default.node,isScreenReaderEnabled:a.default.bool},y.defaultProps={children:null,isScreenReaderEnabled:!1},y.instances=0,y.hasKeyboardFocus=!1;var P=n.b=y;const T=v(S=>{let{children:A,isScreenReaderEnabled:R=!1}=S;const x=Object(p.a)(M=>!!Object(h.a)(M));return y.hasKeyboardFocus=x,t.a.createElement(y,{isScreenReaderEnabled:R},t.a.createElement(m.Provider,{value:x},t.a.createElement(f,null),A))},"ConnectedFocusEventManager");T.displayName="ConnectedFocusEventManager",T.propTypes=y.propTypes},"RB1+":function(K,n,e){"use strict";e.d(n,"d",function(){return i}),e.d(n,"a",function(){return l}),e.d(n,"b",function(){return u}),e.d(n,"c",function(){return f});var s=e("lCmp"),t=e("BlE4"),a=e("s4P+"),r=e("MO4o"),c=e("5U8P");const o={};function i(d){let{channelId:O,functions:m,getInputInstance:g,threadTs:E,viewContext:p}=d;if(!g)throw new Error('Missing required "getInputInstance" param');const h=`${p}-${O}-${E}`;return o[h]&&Object(a.a)().warn(`Registering duplicate input (key: "${h}")`),o[h]={clear:()=>{var _,b;(_=g())===null||_===void 0||(b=_.clear)===null||b===void 0||b.call(_)},clearHistory:()=>{var _,b;(_=g())===null||_===void 0||(b=_.clearHistory)===null||b===void 0||b.call(_)},focus:()=>{var _,b;(_=g())===null||_===void 0||(b=_.focus)===null||b===void 0||b.call(_)},getContents:()=>{var _,b;return(_=g())===null||_===void 0||(b=_.getContents)===null||b===void 0?void 0:b.call(_)},getDisplayValue:()=>{var _,b;return(_=g())===null||_===void 0||(b=_.displayValue)===null||b===void 0?void 0:b.call(_)},getLength:()=>{var _,b;return(_=g())===null||_===void 0||(b=_.getLength)===null||b===void 0?void 0:b.call(_)},getSelection:()=>{var _,b;return(_=g())===null||_===void 0||(b=_.getSelection)===null||b===void 0?void 0:b.call(_)},getText:()=>{var _,b;return(_=g())===null||_===void 0||(b=_.value)===null||b===void 0?void 0:b.call(_)},hasFocus:()=>{var _,b;return(_=g())===null||_===void 0||(b=_.hasFocus)===null||b===void 0?void 0:b.call(_)},insertContentsAtCursor:function(){for(var _=arguments.length,b=new Array(_),I=0;I<_;I++)b[I]=arguments[I];var C,y;(C=g())===null||C===void 0||(y=C.insertContentsAtCursor)===null||y===void 0||y.call(C,...b)},isEmpty:()=>{var _,b;return!!(!((_=g())===null||_===void 0||(b=_.isEmpty)===null||b===void 0)&&b.call(_))},isEnabled:()=>{var _,b;return!!(!((_=g())===null||_===void 0||(b=_.isEnabled)===null||b===void 0)&&b.call(_))},prependContents:_=>{var b,I;(b=g())===null||b===void 0||(I=b.prependContents)===null||I===void 0||I.call(b,_)},setContents:function(){for(var _=arguments.length,b=new Array(_),I=0;I<_;I++)b[I]=arguments[I];var C,y;(C=g())===null||C===void 0||(y=C.setContents)===null||y===void 0||y.call(C,...b)},setCursor:function(){for(var _=arguments.length,b=new Array(_),I=0;I<_;I++)b[I]=arguments[I];var C,y;(C=g())===null||C===void 0||(y=C.setCursor)===null||y===void 0||y.call(C,...b)},setCursorAtEnd:()=>{var _,b;(_=g())===null||_===void 0||(b=_.setCursorAtEnd)===null||b===void 0||b.call(_)},setText:function(){for(var _=arguments.length,b=new Array(_),I=0;I<_;I++)b[I]=arguments[I];var C,y;(C=g())===null||C===void 0||(y=C.value)===null||y===void 0||y.call(C,...b)},...m},()=>{delete o[h]}}v(i,"registerInputAuto");function l(d){let{viewContext:O,channelId:m,threadTs:g}=d;return o[`${O}-${m}-${g||void 0}`]}v(l,"getInputProxy");function u(d){if(!d||!Object(r.a)(d))return null;let O,m,g;return Object(c.a)(d,p=>p.getAttribute("data-message-input")?(O=p.getAttribute("data-channel-id"),m=p.getAttribute("data-thread-ts"),g=p.getAttribute("data-view-context"),!0):!1)?l({viewContext:g,channelId:O,threadTs:m}):null}v(u,"getProxyForElement");function f(){let{channelId:d,threadTs:O}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const m=`${d}-${O}`,g=Object.keys(o);return Object(s.a)(g,E=>Object(t.a)(E,m))}v(f,"isInputRegistered")},RBHu:function(K,n,e){"use strict";e.d(n,"n",function(){return a}),e.d(n,"m",function(){return r}),e.d(n,"l",function(){return c}),e.d(n,"q",function(){return o}),e.d(n,"y",function(){return i}),e.d(n,"r",function(){return l}),e.d(n,"v",function(){return u}),e.d(n,"u",function(){return f}),e.d(n,"t",function(){return d}),e.d(n,"s",function(){return O}),e.d(n,"x",function(){return m}),e.d(n,"C",function(){return g}),e.d(n,"w",function(){return E}),e.d(n,"z",function(){return p}),e.d(n,"B",function(){return h}),e.d(n,"A",function(){return _}),e.d(n,"k",function(){return b}),e.d(n,"j",function(){return C}),e.d(n,"i",function(){return y}),e.d(n,"d",function(){return P}),e.d(n,"e",function(){return T}),e.d(n,"f",function(){return S}),e.d(n,"p",function(){return A}),e.d(n,"a",function(){return R}),e.d(n,"b",function(){return x}),e.d(n,"o",function(){return M}),e.d(n,"g",function(){return j}),e.d(n,"E",function(){return W}),e.d(n,"G",function(){return U}),e.d(n,"F",function(){return B}),e.d(n,"D",function(){return L}),e.d(n,"c",function(){return Q}),e.d(n,"h",function(){return ee}),e.d(n,"H",function(){return te});var s=e("nNoG");const t=new s.b("huddles"),a="huddle_start_mark",r="huddle_rooms_join_start_mark",c="huddle_rooms_join_end_mark",o="huddle_render_player_tti",i="huddle_time_rooms_join",l="huddle_time_audio_session_started",u="huddle_time_first_presence_received",f="huddle_time_chime_session_started_connecting",d="huddle_time_chime_session_started",O="huddle_time_audio_video_observer_start",m="huddle_time_meeting_session_initialized",g="huddle_time_you_joined_sound",E="huddle_time_free_willy_sdk_init",p="huddle_time_voice_focus_loaded",h="huddle_time_voice_focus_start_loading",_="huddle_time_voice_focus_loading_time",b="huddle_quick_join",I="huddle_quick_join_failure",C="huddle_quick_join_credentials_received",y="huddle_quick_join_credentials_cleared",P="huddle_chime_credentials_received_mark",T="huddle_chime_sdk_bootstrap_time",S="huddle_chime_voice_focus_init_time",A=150,R="connect_to_media_service",x="fetch_credentials",M="huddles:time_to_interactive",j="huddles_metrics",W="reconnect_count",U="reconnect_count:success",B="reconnect_count:failure",Y="start_attempt",z="huddles:start_attempt",F="start_huddle",V="huddles:no_audio_input",L="no_audio_input",Q="A01",ee="prog_disc_huddles_explainer_tip_text",te=v(le=>{let{experimentHuddlesLoungeMusicPlayerGroupOn:Oe}=le;return[{label:Oe?t.t("Right when I join"):"",value:1,key:"when_joining"},{label:Oe?t.t("After 30 seconds"):"",value:30,key:"after_30_secs"},{label:Oe?t.t("After 1 minute"):"",value:60,key:"after_1_min"}]},"getMusicTimeoutPickerOptions")},RBep:function(K,n,e){K.exports=e.p+"slackbot_frowny_1024-f558ba5.png"},RIOX:function(K,n,e){K.exports=e.p+"home-preview-8baaf03.jpg"},RMmo:function(K,n,e){"use strict";e.d(n,"a",function(){return d});var s=e("jtkq"),t=e.n(s),a=e("vJtL"),r=e("HiDb"),c=e("s4P+");const o=t.a.prototype.stopCallback;t.a.prototype.stopCallback=()=>!1;const i=v(O=>o(O,O.target),"filterInput"),l=v((O,m)=>function(){for(var g=arguments.length,E=new Array(g),p=0;p<g;p++)E[p]=arguments[p];const h=E[0];m(h)||O(...E)},"makeFilteredHandler"),u=v((O,m)=>{const g=m[0];return g?u(l(O,g),m.slice(1)):O},"applyFilters"),f=v(O=>[O.ignoreInputs&&i,O.filter].filter(a.a),"getFiltersForCommand");let d=v(class{bindAll(m){m.forEach(g=>{const E=f(g);g.handler=u(g.handler,E),this.mousetrap.bind(g.keys,g.handler,g.action)})}reset(){this.mousetrap.destroy()}unbindAll(m){this.mousetrap.unbind(Object(r.a)(m,"keys"))}trigger(m,g){this.mousetrap.trigger(m,g)}constructor(m){var g,E,p,h;let _=m;_&&!(_ instanceof HTMLElement||_ instanceof Document||(_==null||(g=_.constructor)===null||g===void 0?void 0:g.name)==="HTMLDocument"||(_==null||(E=_.constructor)===null||E===void 0?void 0:E.name)==="HTMLDivElement"||(_==null||(p=_.constructor)===null||p===void 0?void 0:p.name)==="HTMLElement"||(_==null||(h=_.constructor)===null||h===void 0?void 0:h.name)==="HTMLInputElement")&&(Object(c.b)().error("Invalid element passed to KeyCommands"),_=void 0),t.a.addKeycodes({188:"comma"}),this.mousetrap=new t.a(_)}},"KeyCommands")},RTHw:function(K,n,e){"use strict";e.d(n,"c",function(){return u}),e.d(n,"a",function(){return f}),e.d(n,"d",function(){return d}),e.d(n,"b",function(){return O});var s=e("NFsq"),t=e("xwCZ"),a=e("ZOzc"),r=e("beVI"),c=e("rKeN"),o=e("fNsR"),i=e("G0eX"),l=e("q0lC");const u=v(m=>Object(c.a)(m)?Object(o.a)(m,{prefName:"who_can_manage_public_channels"}):!1,"canUserManagePublicChannelsInOrgDash"),f=v(m=>Object(c.a)(m)?Object(o.a)(m,{prefName:"who_can_manage_private_channels"}):!1,"canUserManagePrivateChannelsInOrgDash"),d=v(m=>{const g=Object(r.g)(m);return Object(i.E)(g)?Object(l.f)(m):!1},"canUserManagePublicChannelsInTeamSite"),O=v(m=>{const g=Object(r.g)(m);if(!Object(i.E)(g)||Object(i.D)(g)&&!Object(a.a)(m,"has_compliance_export"))return!1;const E=Object(a.a)(m,"who_can_manage_private_channels_at_workspace_level");if(!E)return!1;const p=Object(t.d)(m);if(Object(s.a)(E.user,p.id))return Object(l.f)(m);const h=E.type;switch(h&&h.length!==0?h[0]:null){case"NO_ONE":return!1;case"WORKSPACE_PRIMARY_OWNER":return Object(l.h)(m);case"WORKSPACE_OWNERS":return Object(l.g)(m);default:return!1}},"canUserManagePrivateChannelsInTeamSite")},RW41:function(K,n,e){"use strict";e.d(n,"a",function(){return r});var s=e("O86Y"),t=e("IHnR"),a=e("G0eX");function r(c,o){if(!c||!o)return!1;const i=Object(a.m)(o);if(Object(s.i)(c)===i||Object(s.g)(c)===i)return!1;const l=Object(s.d)(c);return l&&l===o.enterprise_id?!1:Object(t.b)(c,o.id)}v(r,"isTeamExternal")},RWAF:function(K,n,e){"use strict";var s=e("Yauy");const t=v((a,r)=>Object(s.Z)(a,r),"isAppSpaceView");n.a=t},RXuJ:function(K,n,e){K.exports=e.p+"slackbot_frowny_48-fdccd8c.png"},RaLP:function(K,n,e){K.exports=e.p+"emoji_missing-39b2f0a.png"},RfUG:function(K,n,e){"use strict";var s=e("q1tI"),t=e.n(s),a=e("i5Ig"),r=e("QYtq"),c=e("iV+a");function o(){return o=Object.assign||function(l){for(var u=1;u<arguments.length;u++){var f=arguments[u];for(var d in f)Object.prototype.hasOwnProperty.call(f,d)&&(l[d]=f[d])}return l},o.apply(this,arguments)}v(o,"_extends");const i=v(l=>{const{renderMenu:u,onPopoverOpen:f,onPopoverClose:d,isDisabled:O=!1,closeOnSelect:m=!0,onTriggerClose:g,onMenuItemSelected:E,onMenuKeyDown:p,...h}=l,[_,b]=Object(s.useState)(!1),I=v(()=>{b(!0),f&&f()},"onOpenProp"),C=v(P=>{const{onClose:T,...S}=P,A=v((j,W)=>{T&&T(j),d&&d(j),b(!1)},"onCloseProp"),M=u({...P,onTriggerClose:v(j=>{T&&T(j),b(!1),g&&g(j)},"onTriggerClose"),onMenuItemSelected:v((j,W)=>{m&&(T&&T(W),b(!1)),E&&E(j,W)},"onMenuItemSelected"),onMenuKeyDown:p});return M?t.a.createElement(t.a.Fragment,null,t.a.createElement(c.a,{visible:!!S.isOpen}),t.a.createElement(r.a,o({shouldFade:!1,onClose:A,onOpen:I},S,{shouldReturnFocusAfterClose:!1}),M)):!1},"renderPopover");if(C.displayName="renderPopover",O)return typeof l.children=="function"?l.children(a.b):l.children;const y=l.isContextMenu?a.b:{"aria-expanded":!!_,"aria-haspopup":"menu"};return t.a.createElement(r.b,o({},h,{triggerProps:y,renderPopover:C}),l.children)},"MenuTrigger");i.displayName="MenuTrigger",n.a=i},RkbV:function(K,n,e){"use strict";var s=e("n3tL"),t=e("OZf9"),a=e("pHS2"),r=e("SQ0V"),c=e("cBLH"),o=e("ZYJ2"),i=e("cQw7"),l=e("Jhy3"),u=e("O86Y"),f=e("+l5E"),d=e("d/FZ"),O=e("aVws"),m=e("lhZz"),g=e("G5NC"),E=e("E97Y"),p=e("3TsL"),h=e("9Gfp"),_=e("E3dU"),b=e("u4cD"),I=e("FUEd"),C=e("g3FH"),y=e("Wn1n"),P=e("hiGJ"),T=e("ZKjC"),S=e("UOL+");const A=Object(T.b)((L,Q)=>{var ee,te,le;return((ee=Object(S.a)(L))===null||ee===void 0||(te=ee.messageActivity)===null||te===void 0||(le=te.recentActivity)===null||le===void 0?void 0:le[Q])||[]});A.meta={name:"createSelector",key:"createSelectorselectMessageActivityForType",description:(L,Q)=>{var ee,te,le;return((ee=Object(S.a)(L))===null||ee===void 0||(te=ee.messageActivity)===null||te===void 0||(le=te.recentActivity)===null||le===void 0?void 0:le[Q])||[]}};var R;(function(L){L.DM="dm"})(R||(R={}));var x=e("7xYR");function M(){if(!Object(g.a)()||!x.getFocusedWorkspace)return!1;const L=Object(m.getStateForClientStore)(),Q=Object(x.getFocusedWorkspace)(L);return Object(y.a)(Object(m.getStateByTeamId)(Q))}v(M,"getFocusedWorkspacePrimaryView");const j=Object(r.c)("process dm messages for Megaphone client event",(L,Q,ee)=>{const te=Q();if(!Object(E.g)(Object(_.c)(te,Object(f.x)(ee))))return;const Oe=5,he=1,Ee=60*3,ge=Date.now()/1e3,J=R.DM,H=A(te,J);H.push(ee);const Z=Object(h.a)(te),q=M();let k,se=0,re=0,X=[];H.forEach(w=>{const ce=Object(f.x)(w);if(q!==ce)return;const ie=+Object(p.a)(w);if(ge-ie>Ee)return;const oe=Object(f.N)(w);Z===oe?se+=1:(re+=1,k=oe),X.push(w)}),se+re>=Oe&&se>=he&&re>=he&&Object(I.d)(te,k)===C.a&&(L(Object(b.a)({type:"messaging_activity"})),X=[]),L(Object(P.a)({type:J,messages:X}))});j.meta={name:"createThunk",key:"createThunkprocessDmMegaphoneClientEvent",description:"process dm messages for Megaphone client event"};var W=j;const U=Object(r.c)("Process received/sent messages",(L,Q,ee)=>{if(!Object(g.a)()||!x.isFocusedWorkspaceInTeamOrEnterprise)return;const te=Object(u.h)(Q());if(!te)return;const le=Object(O.a)(te),Oe=Object(m.getStateForClientStore)();if(!Object(x.isFocusedWorkspaceInTeamOrEnterprise)(Oe,te))return;const he=M();he&&ee.forEach(Ee=>{const ge=Ee,J=Object(f.x)(ge);!J||he!==J||Object(d.a)(ge)||Object(m.dispatchForTeamId)(le,W(ge))})});U.meta={name:"createThunk",key:"createThunkprocessIncomingMessages",description:"Process received/sent messages"};var B=U,Y=e("HYaO"),z=e("xcHN");const F=Object(r.c)("Appends raw / unprocessed messages to the messages and history stores",(L,Q,ee)=>{const te=L(Object(i.a)({imsgs:ee}));L(Object(l.a)(te));const le=Object(u.h)(Q());if(le)return L(B(te)),Object(t.a)(Object(a.a)(ee,"channel"),(Oe,he)=>{var Ee;if(!Oe.length)return;const ge={channelId:he,timestamps:Oe.map(J=>J==null?void 0:J.ts),oldest:(Ee=Oe[0])===null||Ee===void 0?void 0:Ee.ts,hasMore:!1,append:!0};L(Object(c.a)(ge)),Object(o.c)(le,he,ge.timestamps)}),Object(t.a)(Object(a.a)(ee.filter(Y.a),Oe=>Object(z.c)(Oe.channel,Oe.thread_ts)),(Oe,he)=>{var Ee;Oe.length&&L(Object(c.a)({channelId:he,timestamps:Oe.map(ge=>ge==null?void 0:ge.ts),oldest:(Ee=Oe[0])===null||Ee===void 0?void 0:Ee.ts,hasMore:!1,append:!0}))}),te});F.meta={name:"createThunk",key:"createThunkappendMessages",description:"Appends raw / unprocessed messages to the messages and history stores"},F.propTypes=s.default.arrayOf(s.default.shape({ts:s.default.string.isRequired,channel:s.default.string.isRequired}));var V=n.a=F},RpF1:function(K,n,e){"use strict";e.d(n,"l",function(){return t}),e.d(n,"j",function(){return a}),e.d(n,"m",function(){return r}),e.d(n,"n",function(){return c}),e.d(n,"o",function(){return o}),e.d(n,"a",function(){return u}),e.d(n,"b",function(){return f}),e.d(n,"c",function(){return d}),e.d(n,"d",function(){return O}),e.d(n,"f",function(){return m}),e.d(n,"h",function(){return g}),e.d(n,"i",function(){return E}),e.d(n,"g",function(){return p}),e.d(n,"k",function(){return h}),e.d(n,"e",function(){return _});var s=e("xCPE");const t="huddle",a="p-huddle_window__content_container",r=1050,c=1680,o=s.a,i=46+4,l=o+i,u=l+190,f=l+127,d=l+252,O=l+378,m=380,g=f,E=m,p=820,h=360,_=768-u},RqXZ:function(K,n,e){"use strict";e.d(n,"a",function(){return f});var s=e("q1tI"),t=e.n(s),a=e("MwVV"),r=e.n(a),c=e("WSQ4"),o=e("V2uK");function i(){return i=Object.assign||function(d){for(var O=1;O<arguments.length;O++){var m=arguments[O];for(var g in m)Object.prototype.hasOwnProperty.call(m,g)&&(d[g]=m[g])}return d},i.apply(this,arguments)}v(i,"_extends");const l=Object(o.c)(o.a.REACT_VIRTUALIZED,d=>r()(d));function u(d){let{refToForward:O,...m}=d;const{window:g}=Object(s.useContext)(c.a),E=l(g).List;return t.a.createElement(E,i({ref:O},m))}v(u,"PortableReactVirtualizedList"),u.displayName="PortableReactVirtualizedList";const f=t.a.forwardRef((d,O)=>t.a.createElement(u,i({refToForward:O},d)))},Rt42:function(K,n,e){K.exports=e.p+"slackbot_neutral_360-7309dbd.png"},S36j:function(K,n,e){"use strict";e.d(n,"i",function(){return a}),e.d(n,"l",function(){return c}),e.d(n,"c",function(){return o}),e.d(n,"d",function(){return i}),e.d(n,"j",function(){return l}),e.d(n,"k",function(){return u}),e.d(n,"h",function(){return f}),e.d(n,"a",function(){return d}),e.d(n,"e",function(){return O}),e.d(n,"b",function(){return m}),e.d(n,"g",function(){return g}),e.d(n,"f",function(){return E});var s=e("n3tL"),t=e("DwFS");const a=Object(t.a)("Sets the primary view in workspace store");a.meta={name:"createAction",key:"createActionsetPrimaryViewInternal",description:"Sets the primary view in workspace store"},a.propTypes={id:s.default.string.isRequired};const r=a.getType(),c=Object(t.a)("Sets the secondary view in workspace store");c.meta={name:"createAction",key:"createActionsetSecondaryViewInternal",description:"Sets the secondary view in workspace store"},c.propTypes={flexName:s.default.string,flexParams:s.default.arrayOf(s.default.string),flexOrigin:s.default.string,flexOriginId:s.default.string};const o=Object(t.a)("Sets the flexpane origin store");o.meta={name:"createAction",key:"createActionsetFlexOriginInternal",description:"Sets the flexpane origin store"},o.propTypes={flexOrigin:s.default.string,flexOriginId:s.default.string};const i=Object(t.a)("Sets the flexpane restore store");i.meta={name:"createAction",key:"createActionsetFlexRestoreInternal",description:"Sets the flexpane restore store"},i.propTypes={flexRestore:s.default.object};const l=Object(t.a)("Sets the focused workspaces from the client-store");l.meta={name:"createAction",key:"createActionsetRecentlyFocusedWorkspaces",description:"Sets the focused workspaces from the client-store"},l.propTypes=s.default.arrayOf(s.default.string).isRequired;const u=Object(t.a)("Sets an object where the key is a workspace id and the value is the timestamp reflecting the last time the workspace was focused");u.meta={name:"createAction",key:"createActionsetRecentlyFocusedWorkspacesTimestamps",description:"Sets an object where the key is a workspace id and the value is the timestamp reflecting the last time the workspace was focused"},u.propTypes=s.default.arrayOf(s.default.string);const f=Object(t.a)("Sets the props we need to re-open the last flexpane");f.meta={name:"createAction",key:"createActionsetPreviousFlexpane",description:"Sets the props we need to re-open the last flexpane"},f.propTypes={prevRouteName:s.default.string,prevFlexName:s.default.string,prevFlexParams:s.default.object};const d=Object(t.a)("Sets channelDetailsOpen");d.meta={name:"createAction",key:"createActionsetChannelDetailsOpen",description:"Sets channelDetailsOpen"},d.propTypes={channelDetailsOpen:s.default.bool,channelDetailsSection:s.default.string};const O=Object(t.a)("Sets flexpane highlight state");O.meta={name:"createAction",key:"createActionsetFlexpaneHighlight",description:"Sets flexpane highlight state"},O.propTypes=s.default.bool;const m=Object(t.a)("Sets flexpane section currently docked");m.meta={name:"createAction",key:"createActionsetDockedFlexpaneSection",description:"Sets flexpane section currently docked"},m.propTypes=s.default.string;const g=Object(t.a)("Add or remove from list expanded inputs");g.meta={name:"createAction",key:"createActionsetMessageInputExpanded",description:"Add or remove from list expanded inputs"},g.propTypes={channelId:s.default.string,isExpanded:s.default.bool};const E=Object(t.a)("Sets the last tab for a given channel id");E.meta={name:"createAction",key:"createActionsetLastTabForChannelId",description:"Sets the last tab for a given channel id"},E.propTypes={channelId:s.default.string,tabId:s.default.string}},S4nM:function(K,n,e){"use strict";e.d(n,"k",function(){return O}),e.d(n,"f",function(){return h}),e.d(n,"j",function(){return S}),e.d(n,"i",function(){return R}),e.d(n,"b",function(){return j}),e.d(n,"g",function(){return B}),e.d(n,"c",function(){return F}),e.d(n,"e",function(){return Q}),e.d(n,"a",function(){return ee}),e.d(n,"h",function(){return Oe}),e.d(n,"d",function(){return he});var s=e("AFNo"),t=e("DwFS"),a=e("3REw"),r=e("S4vl"),c=e("kBpe"),o=e("RgZo"),i=e("beVI"),l=e("G0eX"),u=e("RVJP"),f=e("x+oO"),d=e("LZPg");const O=Object(t.a)("Update part or all of the call");O.meta={name:"createAction",key:"createActionupdate",description:"Update part or all of the call"};const m=Object(t.a)("Update the active call token");m.meta={name:"createAction",key:"createActionsetServerToken",description:"Update the active call token"};const g=Object(t.a)("Update the elapsed call time");g.meta={name:"createAction",key:"createActiontickCallTime",description:"Update the elapsed call time"};const E=Object(t.a)("update state to notify active call window is closed");E.meta={name:"createAction",key:"createActioncallWindowClosed",description:"update state to notify active call window is closed"};const p=Object(t.a)("Show slow network alert");p.meta={name:"createAction",key:"createActionshowSlowNetworkAlert",description:"Show slow network alert"};const h=Object(t.a)("Hide slow network alert");h.meta={name:"createAction",key:"createActionhideSlowNetworkAlert",description:"Hide slow network alert"};const _=Object(t.a)("Set no media input from microphone or camera");_.meta={name:"createAction",key:"createActionsetNoMediaInput",description:"Set no media input from microphone or camera"};const b=Object(t.a)("Clear no media input from microphone or camera");b.meta={name:"createAction",key:"createActionclearNoMediaInput",description:"Clear no media input from microphone or camera"};const I=Object(t.a)("Set no audio output");I.meta={name:"createAction",key:"createActionsetNoAudioOutput",description:"Set no audio output"};const C=Object(t.a)("Clear no audio output");C.meta={name:"createAction",key:"createActionclearNoAudioOutput",description:"Clear no audio output"};const y=Object(t.a)("Set no or low input audio level");y.meta={name:"createAction",key:"createActionsetNoOrLowInputAudioLevel",description:"Set no or low input audio level"};const P=Object(t.a)("Clear no or low input audio level");P.meta={name:"createAction",key:"createActionclearNoOrLowInputAudioLevel",description:"Clear no or low input audio level"};const T=Object(t.a)("Start session timeout check");T.meta={name:"createAction",key:"createActionstartSessionTimeoutCheck",description:"Start session timeout check"};const S=Object(t.a)("Stop session timeout check");S.meta={name:"createAction",key:"createActionstopSessionTimeoutCheck",description:"Stop session timeout check"};const A=Object(t.a)("Maybe start peer joining timeout check");A.meta={name:"createAction",key:"createActionmaybeStartPeerJoinTimeoutCheck",description:"Maybe start peer joining timeout check"};const R=Object(t.a)("Stop peer joining timeout check");R.meta={name:"createAction",key:"createActionstopPeerJoinTimeoutCheck",description:"Stop peer joining timeout check"};const x=Object(t.a)("Store gleaned contextual information from the url");x.meta={name:"createAction",key:"createActionsetInitialContext",description:"Store gleaned contextual information from the url"};const M=Object(t.a)("Set call view mode");M.meta={name:"createAction",key:"createActionsetCallViewMode",description:"Set call view mode"};const j=Object(t.a)("Ends call");j.meta={name:"createAction",key:"createActionendCall",description:"Ends call"};var U=Object(s.b)({},{hasJoined:!1,hasSelfConnected:!1,hasRemotePeerConnected:!1,hasVideoBeenEnabled:!1,hasScreenshareBeenEnabled:!1,elapsedDisplayTime:Object(o.a)(0),viewMode:a.b.SPEAKER},{storeKey:"activeCall",persistenceEnabled:!1}).on(x,(J,H)=>{let{viewId:Z,inviterUserId:q}=H,k,se,re;return Object(a.t)(Z)?k=Z:Object(a.v)(Z)?se=Z:Object(a.x)(Z)&&(re=Z),{...J,id:k,conversationId:se,incomingInviterUserId:q,incomingInviteResponse:Object(c.i)()?void 0:a.f.Accept,virtualRoomId:re}}).on(O,(J,H)=>{let{terminalState:Z}=H;return J.terminalState&&(Z=J.terminalState),{...J,...H,terminalState:Z}}).on(E,(J,H)=>{let{isCallWindowClosed:Z}=H;return{...J,isCallWindowClosed:Z}}).on(M,(J,H)=>{let{callViewMode:Z}=H;return{...J,viewMode:Z}}).on(g,J=>J.callStartedTimestamp?{...J,elapsedDisplayTime:Object(o.a)(Date.now()-J.callStartedTimestamp*1e3)}:J).on(m,(J,H)=>{let{token:Z,tokenExpiry:q}=H;return J.server?{...J,server:{...J.server,token:Z,tokenExpiry:q}}:(Object(r.b)("Cannot set server token without a server"),J)}).on(d.ob,(J,H)=>({...J,hasVideoBeenEnabled:J.hasVideoBeenEnabled||!!H.isCameraEnabled,hasScreenshareBeenEnabled:J.hasScreenshareBeenEnabled||!!(Object(d.ab)(H)&&H.isScreenshareEnabled),hasSelfConnected:J.hasSelfConnected||!!(Object(d.ab)(H)&&H.isConnected)})).on(d.qb,(J,H)=>({...J,hasVideoBeenEnabled:J.hasVideoBeenEnabled||!H.isContent,hasScreenshareBeenEnabled:J.hasScreenshareBeenEnabled||H.isContent})).on(d.lb,(J,H)=>({...J,hasRemotePeerConnected:J.hasRemotePeerConnected||!!H.isConnected})).on(d.mb,(J,H)=>({...J,hasScreenshareBeenEnabled:J.hasScreenshareBeenEnabled||!!H.isScreenshareEnabled}));const B=v(J=>!!J.activeCall.incomingInviterUserId&&!J.activeCall.incomingInviteResponse,"isIncomingInvitePending"),Y=v(J=>!!J.activeCall.incomingInviterUserId,"wasInvitedToCall"),z=v(J=>!!J.activeCall.conversationId&&Object(a.w)(J.activeCall.conversationId),"wasCreatedFromDm"),F=v(J=>{var H;return J==null||(H=J.activeCall)===null||H===void 0?void 0:H.id},"getActiveCallId"),V=v(J=>J.activeCall.server,"getActiveCallServer"),L=v(J=>J.activeCall.conversationId,"getActiveConversationId"),Q=v(J=>J.activeCall&&J.activeCall.dynamicSurvey,"getDynamicSurveyRates"),ee=v(J=>J.activeCall.hasSelfConnected&&J.activeCall.hasRemotePeerConnected,"didSelfAndPeerConnect"),te=v(J=>J.activeCall.terminalState,"getActiveCallTerminalState"),le=v(J=>{if(!(!J.activeCall||!J.activeCall.server))return J.activeCall.server.hostname?a.h.ORCA:a.h.FREE_WILLY},"getCallMediaBackendType"),Oe=v(J=>J.activeCall.isShroudVisible,"isShroudVisibleInCallWindow"),he=v(J=>{var H;return(H=J.activeCall)===null||H===void 0?void 0:H.viewMode},"getCallViewMode"),Ee=v(J=>{var H,Z;return J==null||(H=J.activeCall)===null||H===void 0||(Z=H.sharedInConversations)===null||Z===void 0?void 0:Z[0]},"getCallSharedInConversation"),ge=v(J=>{const H=Object(i.g)(J),Z=L(J)||Ee(J);return!!Z&&Object(u.d)(J,"sponsored_connections_translations")==="on"&&Object(l.C)(H)&&Object(f.b)(J,Z)},"isSponsoredConnectionsChannel")},"SI/f":function(K,n,e){"use strict";var s=e("q1tI"),t=e.n(s),a=e("Cfcg"),r=e("xwCZ"),c=e("C3vN"),o=e("V+O/"),i=e("2IYT"),l=e("ICFZ"),u=e("2xgR"),f=e("G0eX"),d=e("beVI"),O=e("O86Y"),m=e("9Gfp"),g=e("YpEo"),E=e("5IZy"),p=e("qGcj"),h=e("rYtS"),_=e("+ono"),b=e("7HMQ"),I=e("/Qyu"),C=e("nNoG"),y=e("ptQX"),P=e("ifKl"),T=e("BfA7"),S=e("I0j/"),A=e("37+L"),R=e("rBeE"),x=e("QcWC"),M=e("sgFo"),j=e("3956");const W={CALL_MEMBER:"call_member",MESSAGE_MEMBER:"message_member",VIEW_PROFILE:"view_profile",COPY_MEMBER_NAME:"copy_member_name",COPY_MEMBER_LINK:"copy_member_link"},U=new C.b("menu");let B=v(class extends s.Component{onCall(V){let{appId:L,type:Q,phoneNumber:ee}=V;const{member:te,clogger:le,clogItemClick:Oe}=this.props;Oe(W.CALL_MEMBER),le&&Object(_.b)({clogger:le,cloggerContext:{entryPoint:_.a.memberContextMenu},appId:L,callType:Q}),this.props.startCallByMemberId({memberId:te.id,appId:L,type:Q,phoneNumber:ee})}getCallItem(){const{member:V,memberName:L,callsApp:Q,canInteract:ee}=this.props;if(Object(c.vb)(V)||Object(o.b)(V)||!ee)return null;const te=Object(c.t)(V),le=Object(h.b)({callsApp:Q,memberPhoneNumber:te}),Oe=U.rt("Call {memberName}",{memberName:L});if(le.length<=1){const he=le[0];return{label:Oe,click:()=>{this.onCall({phoneNumber:te,appId:he==null?void 0:he.id,type:he==null?void 0:he.type})}}}return{type:"submenu",label:Oe,renderSubmenu:he=>t.a.createElement(p.a,{onSelected:this.onCall,memberRealName:L,memberPhoneNumber:te,member:V,menuProps:he})}}getActionsTemplate(){const{member:V,isInstantSlackInviteeSession:L,experimentCallsDeprecationGroupOn:Q,clogItemClick:ee}=this.props,te=[];if(L)return te;const le=this.props.getMenuTemplateMessage({memberId:V.id,onClickCallback:()=>ee(W.MESSAGE_MEMBER)});if(le&&te.push(le),!Q){const Oe=this.getCallItem();Oe&&te.push(Oe)}return te.length&&te.push({type:"separator"}),te}getShareContactActionMaybe(){const{member:V,canShareContactCard:L,isInstantSlackInviteeSession:Q}=this.props;return L&&!Q?[{label:U.t("Share contact"),click:()=>this.props.openShareContactModalCircular({contactUserId:V.id})},{type:"separator"}]:[]}getContextMenuTemplate(){const{member:V,id:L,team:Q,shouldUseNavigate:ee,getCopyDisplayNameMenuItem:te,getCopyNameMenuItem:le,clogItemClick:Oe}=this.props;return[{label:U.t("View profile"),click:()=>{Oe(W.VIEW_PROFILE),ee&&this.props.navigate?this.props.navigate(Object(A.K)(V.id)):this.props.showMemberProfile({memberId:V.id})}},{type:"separator"},...this.getActionsTemplate(),...this.getShareContactActionMaybe(),le({member:V,label:W.COPY_MEMBER_NAME}),te({memberId:V.id}),{label:U.t("Copy link"),click:()=>{Oe(W.COPY_MEMBER_LINK),Object(l.e)(Object(f.u)(Q,`/team/${L}`))}}].filter(Ee=>!!Ee)}render(){const{id:V,isClient:L}=this.props;return L?V?t.a.createElement(i.a,{getTemplate:this.getContextMenuTemplate,overrideDefaultMenu:!0,desktopAppOnly:!1,showSlackKitContextMenuOnDesktop:!0,width:"auto",onClick:this.props.onClick},this.props.children):Object(g.a)(this.props.children):Object(g.a)(this.props.children)}constructor(V){super(V),this.onCall=this.onCall.bind(this),this.getContextMenuTemplate=this.getContextMenuTemplate.bind(this)}},"MemberContextMenu");B.displayName="MemberContextMenu",B.defaultProps={id:void 0,onClick:P.a,shouldUseNavigate:!1,isInstantSlackInviteeSession:!1,experimentCallsDeprecationGroupOn:!1};function Y(F,V){let{id:L}=V;const Q=Object(r.g)(F,L),ee=Object(d.t)(F,Object(O.g)(F)||""),te=Object(M.e)(F);return{member:Q,team:ee,isClient:Object(m.h)(F),canShareContactCard:Object(b.a)(F,L||""),isInstantSlackInviteeSession:Object(x.a)(F),experimentCallsDeprecationGroupOn:Object(M.e)(F),memberName:te?null:Object(c.N)(F,Q),canInteract:te?null:Object(y.a)(F,L||""),callsApp:te?null:Object(h.d)(F),clogger:te?null:Object(E.a)({state:F})}}v(Y,"mapStateToProps");const z=v(F=>({showMemberProfile:V=>F(Object(j.a)(V)),startCallByMemberId:V=>F(Object(u.a)(V)),openShareContactModalCircular:V=>F(Object(I.a)(V)),getMenuTemplateMessage:V=>F(Object(R.d)(V)),getCopyDisplayNameMenuItem:V=>F(Object(R.b)(V)),getCopyNameMenuItem:V=>F(Object(R.c)(V)),navigate:V=>F(Object(S.a)(V)),clogItemClick:V=>F(Object(R.a)(V))}),"mapDispatchToProps");n.a=Object(a.a)(Y,z)(Object(T.a)(B))},SIMs:function(K,n,e){"use strict";e.d(n,"P",function(){return _}),e.d(n,"G",function(){return b}),e.d(n,"L",function(){return I}),e.d(n,"B",function(){return C}),e.d(n,"w",function(){return y}),e.d(n,"s",function(){return S}),e.d(n,"D",function(){return A}),e.d(n,"K",function(){return R}),e.d(n,"J",function(){return x}),e.d(n,"p",function(){return M}),e.d(n,"O",function(){return j}),e.d(n,"M",function(){return W}),e.d(n,"N",function(){return U}),e.d(n,"f",function(){return B}),e.d(n,"c",function(){return Y}),e.d(n,"d",function(){return z}),e.d(n,"k",function(){return F}),e.d(n,"x",function(){return V}),e.d(n,"b",function(){return L}),e.d(n,"e",function(){return Q}),e.d(n,"o",function(){return ee}),e.d(n,"z",function(){return te}),e.d(n,"h",function(){return le}),e.d(n,"n",function(){return Oe}),e.d(n,"r",function(){return he}),e.d(n,"m",function(){return Ee}),e.d(n,"g",function(){return ge}),e.d(n,"R",function(){return J}),e.d(n,"Q",function(){return Z}),e.d(n,"S",function(){return q}),e.d(n,"T",function(){return k}),e.d(n,"C",function(){return se}),e.d(n,"a",function(){return re}),e.d(n,"i",function(){return X}),e.d(n,"j",function(){return w}),e.d(n,"F",function(){return ce}),e.d(n,"H",function(){return ie}),e.d(n,"q",function(){return oe}),e.d(n,"I",function(){return me}),e.d(n,"u",function(){return _e}),e.d(n,"y",function(){return be}),e.d(n,"A",function(){return Ae}),e.d(n,"v",function(){return Ce}),e.d(n,"t",function(){return De}),e.d(n,"l",function(){return Pe}),e.d(n,"E",function(){return Ue});var s=e("ukIz"),t=e("4Ok1"),a=e("BeL+"),r=e("bPB8"),c=e("ZKjC"),o=e("G4qV"),i=e("E3dU"),l=e("6CnZ"),u=e("UIhb"),f=e("9JB5"),d=e("4hjS"),O=e("QIbu"),m=e("E97Y"),g=e("Yauy"),E=e("xcHN"),p=e("i5Ig"),h=e("2VFn");const _=Object(c.b)((ae,ne)=>{let{huddleId:Ie}=ne;if(Ie&&ae.huddlesCanvas&&ae.huddlesCanvas.byHuddleId[Ie]&&ae.huddlesCanvas.byHuddleId[Ie].thread)return ae.huddlesCanvas.byHuddleId[Ie].thread});_.meta={name:"createSelector",key:"createSelectorgetThread",description:(ae,ne)=>{let{huddleId:Ie}=ne;if(Ie&&ae.huddlesCanvas&&ae.huddlesCanvas.byHuddleId[Ie]&&ae.huddlesCanvas.byHuddleId[Ie].thread)return ae.huddlesCanvas.byHuddleId[Ie].thread}};const b=Object(c.b)((ae,ne)=>{let{huddleId:Ie}=ne;return ae&&Ie&&ae.huddlesCanvas&&ae.huddlesCanvas.byHuddleId[Ie]&&ae.huddlesCanvas.byHuddleId[Ie].notesFileId});b.meta={name:"createSelector",key:"createSelectorgetNotesFileId",description:(ae,ne)=>{let{huddleId:Ie}=ne;return ae&&Ie&&ae.huddlesCanvas&&ae.huddlesCanvas.byHuddleId[Ie]&&ae.huddlesCanvas.byHuddleId[Ie].notesFileId}};const I=Object(c.b)(ae=>{var ne;return(ne=ae&&ae.huddlesCanvas&&ae.huddlesCanvas.selectedTab)!==null&&ne!==void 0?ne:O.e.Threads});I.meta={name:"createSelector",key:"createSelectorgetSelectedTab",description:ae=>{var ne;return(ne=ae&&ae.huddlesCanvas&&ae.huddlesCanvas.selectedTab)!==null&&ne!==void 0?ne:O.e.Threads}};const C=Object(c.b)(ae=>{var ne;return(ne=ae&&ae.huddlesCanvas&&ae.huddlesCanvas.isThreadOpen)!==null&&ne!==void 0?ne:!0});C.meta={name:"createSelector",key:"createSelectorgetIsThreadOpen",description:ae=>{var ne;return(ne=ae&&ae.huddlesCanvas&&ae.huddlesCanvas.isThreadOpen)!==null&&ne!==void 0?ne:!0}};const y=Object(c.b)(ae=>{var ne;return(ne=ae&&ae.huddlesCanvas&&ae.huddlesCanvas.isNotesOpen)!==null&&ne!==void 0?ne:!1});y.meta={name:"createSelector",key:"createSelectorgetIsNotesOpen",description:ae=>{var ne;return(ne=ae&&ae.huddlesCanvas&&ae.huddlesCanvas.isNotesOpen)!==null&&ne!==void 0?ne:!1}};const P=Object(c.b)(ae=>ae.huddlesCanvas.isMutedCoachmarkOpen);P.meta={name:"createSelector",key:"createSelectorgetIsMutedCoachmarkOpen",description:ae=>ae.huddlesCanvas.isMutedCoachmarkOpen};const T=Object(c.b)(ae=>ae.huddlesCanvas.isSelfViewCoachmarkOpen);T.meta={name:"createSelector",key:"createSelectorgetIsSelfViewCoachmarkOpen",description:ae=>ae.huddlesCanvas.isSelfViewCoachmarkOpen};const S=Object(c.b)(ae=>{var ne,Ie;return(Ie=ae==null||(ne=ae.huddlesCanvas)===null||ne===void 0?void 0:ne.isFullscreen)!==null&&Ie!==void 0?Ie:!1});S.meta={name:"createSelector",key:"createSelectorgetIsFullscreen",description:ae=>{var ne,Ie;return(Ie=ae==null||(ne=ae.huddlesCanvas)===null||ne===void 0?void 0:ne.isFullscreen)!==null&&Ie!==void 0?Ie:!1}};const A=Object(c.b)(ae=>ae.huddlesCanvas.isWindowFullscreen);A.meta={name:"createSelector",key:"createSelectorgetIsWindowFullscreen",description:ae=>ae.huddlesCanvas.isWindowFullscreen};const R=Object(c.b)(ae=>{var ne;return ae==null||(ne=ae.huddlesCanvas)===null||ne===void 0?void 0:ne.selectedProfile});R.meta={name:"createSelector",key:"createSelectorgetSelectedProfile",description:ae=>{var ne;return ae==null||(ne=ae.huddlesCanvas)===null||ne===void 0?void 0:ne.selectedProfile}};const x=Object(c.b)(ae=>{var ne;return ae==null||(ne=ae.huddlesCanvas)===null||ne===void 0?void 0:ne.selectedFile});x.meta={name:"createSelector",key:"createSelectorgetSelectedFile",description:ae=>{var ne;return ae==null||(ne=ae.huddlesCanvas)===null||ne===void 0?void 0:ne.selectedFile}};const M=Object(o.a)(y,C,R,x,(ae,ne,Ie,Te)=>!!(ae||ne||Ie||Te)),j=Object(c.b)(ae=>{var ne;return ae==null||(ne=ae.huddlesCanvas)===null||ne===void 0?void 0:ne.stickyEmoji});j.meta={name:"createSelector",key:"createSelectorgetStickyEmoji",description:ae=>{var ne;return ae==null||(ne=ae.huddlesCanvas)===null||ne===void 0?void 0:ne.stickyEmoji}};const W=Object(c.b)(ae=>{var ne;return ae==null||(ne=ae.huddlesCanvas)===null||ne===void 0?void 0:ne.songs});W.meta={name:"createSelector",key:"createSelectorgetSongs",description:ae=>{var ne;return ae==null||(ne=ae.huddlesCanvas)===null||ne===void 0?void 0:ne.songs}};const U=Object(c.b)(ae=>{var ne;return ae==null||(ne=ae.huddlesCanvas)===null||ne===void 0?void 0:ne.songsByCategory});U.meta={name:"createSelector",key:"createSelectorgetSongsByCategory",description:ae=>{var ne;return ae==null||(ne=ae.huddlesCanvas)===null||ne===void 0?void 0:ne.songsByCategory}};const B=Object(c.b)(ae=>{var ne;return ae==null||(ne=ae.huddlesCanvas)===null||ne===void 0?void 0:ne.backgrounds});B.meta={name:"createSelector",key:"createSelectorgetBackgrounds",description:ae=>{var ne;return ae==null||(ne=ae.huddlesCanvas)===null||ne===void 0?void 0:ne.backgrounds}};const Y=Object(c.b)(ae=>{var ne;return ae==null||(ne=ae.huddlesCanvas)===null||ne===void 0?void 0:ne.backgroundCategories});Y.meta={name:"createSelector",key:"createSelectorgetBackgroundCategories",description:ae=>{var ne;return ae==null||(ne=ae.huddlesCanvas)===null||ne===void 0?void 0:ne.backgroundCategories}};const z=Object(c.b)((ae,ne)=>{let{huddleId:Ie}=ne;var Te,Me;if(Ie)return(Me=ae==null||(Te=ae.huddlesCanvas)===null||Te===void 0?void 0:Te.byHuddleId[Ie])===null||Me===void 0?void 0:Me.backgroundId});z.meta={name:"createSelector",key:"createSelectorgetBackgroundId",description:(ae,ne)=>{let{huddleId:Ie}=ne;var Te,Me;if(Ie)return(Me=ae==null||(Te=ae.huddlesCanvas)===null||Te===void 0?void 0:Te.byHuddleId[Ie])===null||Me===void 0?void 0:Me.backgroundId}};const F=Object(c.b)((ae,ne)=>{let{huddleId:Ie}=ne;var Te,Me;return Ie?!!(!((Me=ae==null||(Te=ae.huddlesCanvas)===null||Te===void 0?void 0:Te.byHuddleId[Ie])===null||Me===void 0)&&Me.hasFetchedBackgrounds):!1});F.meta={name:"createSelector",key:"createSelectorgetHasFetchedBackgroundsForHuddle",description:(ae,ne)=>{let{huddleId:Ie}=ne;var Te,Me;return Ie?!!(!((Me=ae==null||(Te=ae.huddlesCanvas)===null||Te===void 0?void 0:Te.byHuddleId[Ie])===null||Me===void 0)&&Me.hasFetchedBackgrounds):!1}};const V=Object(c.b)((ae,ne)=>{let{huddleId:Ie}=ne;var Te,Me;if(Ie)return(Me=ae==null||(Te=ae.huddlesCanvas)===null||Te===void 0?void 0:Te.byHuddleId[Ie])===null||Me===void 0?void 0:Me.isPrewarmed});V.meta={name:"createSelector",key:"createSelectorgetIsPreWarmed",description:(ae,ne)=>{let{huddleId:Ie}=ne;var Te,Me;if(Ie)return(Me=ae==null||(Te=ae.huddlesCanvas)===null||Te===void 0?void 0:Te.byHuddleId[Ie])===null||Me===void 0?void 0:Me.isPrewarmed}};const L=Object(o.a)(B,z,(ae,ne)=>ae.find(Ie=>Ie.id===ne)),Q=Object(c.b)((ae,ne)=>{let{huddleId:Ie}=ne;const Te=L(ae,{huddleId:Ie});return Te==null?void 0:Te.url});Q.meta={name:"createSelector",key:"createSelectorgetBackgroundUrl",description:(ae,ne)=>{let{huddleId:Ie}=ne;const Te=L(ae,{huddleId:Ie});return Te==null?void 0:Te.url}};const ee=Object(c.b)((ae,ne)=>{let{key:Ie}=ne;return ae&&ae.huddlesCanvas&&ae.huddlesCanvas.interactionIds&&ae.huddlesCanvas.interactionIds[Ie]});ee.meta={name:"createSelector",key:"createSelectorgetInteractionId",description:(ae,ne)=>{let{key:Ie}=ne;return ae&&ae.huddlesCanvas&&ae.huddlesCanvas.interactionIds&&ae.huddlesCanvas.interactionIds[Ie]}};const te=Object(c.b)(ae=>{var ne,Ie;return(Ie=ae==null||(ne=ae.huddlesCanvas)===null||ne===void 0?void 0:ne.isSelfDrawingCursorTrackingEnabled)!==null&&Ie!==void 0?Ie:!1});te.meta={name:"createSelector",key:"createSelectorgetIsSelfDrawingCursorTrackingEnabled",description:ae=>{var ne,Ie;return(Ie=ae==null||(ne=ae.huddlesCanvas)===null||ne===void 0?void 0:ne.isSelfDrawingCursorTrackingEnabled)!==null&&Ie!==void 0?Ie:!1}};const le=Object(c.b)((ae,ne)=>{let{channelId:Ie}=ne;const Te=Object(i.c)(ae,Ie);return!(Object(m.j)(Te)||Object(m.o)(Te)||Object(m.k)(Te)&&!Object(g.db)(Te))});le.meta={name:"createSelector",key:"createSelectorgetCanSeeThread",description:(ae,ne)=>{let{channelId:Ie}=ne;const Te=Object(i.c)(ae,Ie);return!(Object(m.j)(Te)||Object(m.o)(Te)||Object(m.k)(Te)&&!Object(g.db)(Te))}};const Oe=Object(c.b)((ae,ne)=>{let{huddleId:Ie}=ne;var Te,Me,Ne;return Ie?ae==null||(Te=ae.huddlesCanvas)===null||Te===void 0||(Me=Te.byHuddleId)===null||Me===void 0||(Ne=Me[Ie])===null||Ne===void 0?void 0:Ne.surface:null});Oe.meta={name:"createSelector",key:"createSelectorgetHuddleSurface",description:(ae,ne)=>{let{huddleId:Ie}=ne;var Te,Me,Ne;return Ie?ae==null||(Te=ae.huddlesCanvas)===null||Te===void 0||(Me=Te.byHuddleId)===null||Me===void 0||(Ne=Me[Ie])===null||Ne===void 0?void 0:Ne.surface:null}};const he=Object(c.b)((ae,ne)=>{let{huddleId:Ie}=ne;return Ie?Oe(ae,{huddleId:Ie})===O.b.WINDOW_COMPACT:!0});he.meta={name:"createSelector",key:"createSelectorgetIsCompactMode",description:(ae,ne)=>{let{huddleId:Ie}=ne;return Ie?Oe(ae,{huddleId:Ie})===O.b.WINDOW_COMPACT:!0}};const Ee=Object(c.b)(ae=>ae&&ae.huddlesCanvas&&ae.huddlesCanvas.huddleEducationPromptEntrypoint);Ee.meta={name:"createSelector",key:"createSelectorgetHuddleEducationPromptEntrypoint",description:ae=>ae&&ae.huddlesCanvas&&ae.huddlesCanvas.huddleEducationPromptEntrypoint};const ge=Object(c.b)((ae,ne)=>{let{huddleId:Ie,surface:Te}=ne;var Me,Ne,He,Et;return!Ie||!Te?null:ae==null||(Me=ae.huddlesCanvas)===null||Me===void 0||(Ne=Me.byHuddleId)===null||Ne===void 0||(He=Ne[Ie])===null||He===void 0||(Et=He.windowSizeBySurface)===null||Et===void 0?void 0:Et[Te]});ge.meta={name:"createSelector",key:"createSelectorgetCachedHuddleWindowSizeBySurface",description:(ae,ne)=>{let{huddleId:Ie,surface:Te}=ne;var Me,Ne,He,Et;return!Ie||!Te?null:ae==null||(Me=ae.huddlesCanvas)===null||Me===void 0||(Ne=Me.byHuddleId)===null||Ne===void 0||(He=Ne[Ie])===null||He===void 0||(Et=He.windowSizeBySurface)===null||Et===void 0?void 0:Et[Te]}};const J=Object(c.b)((ae,ne)=>{let{huddleId:Ie}=ne;const Te=_(ae,{huddleId:Ie});return Te==null?void 0:Te.ts});J.meta={name:"createSelector",key:"createSelectorgetThreadTs",description:(ae,ne)=>{let{huddleId:Ie}=ne;const Te=_(ae,{huddleId:Ie});return Te==null?void 0:Te.ts}};const H=Object(c.b)((ae,ne)=>{let{huddleId:Ie}=ne;const Te=_(ae,{huddleId:Ie}),Me=Object(E.c)(Te==null?void 0:Te.channelId,Te==null?void 0:Te.ts);return!Te||!Me?null:Object(l.h)(ae,Me,Te==null?void 0:Te.ts)});H.meta={name:"createSelector",key:"createSelectorgetThreadReplies",description:(ae,ne)=>{let{huddleId:Ie}=ne;const Te=_(ae,{huddleId:Ie}),Me=Object(E.c)(Te==null?void 0:Te.channelId,Te==null?void 0:Te.ts);return!Te||!Me?null:Object(l.h)(ae,Me,Te==null?void 0:Te.ts)}};const Z=Object(c.b)((ae,ne)=>{let{huddleId:Ie}=ne;var Te;const Me=H(ae,{huddleId:Ie});var Ne;return(Ne=Me==null||(Te=Me.timestamps)===null||Te===void 0?void 0:Te.length)!==null&&Ne!==void 0?Ne:0});Z.meta={name:"createSelector",key:"createSelectorgetThreadReplyCount",description:(ae,ne)=>{let{huddleId:Ie}=ne;var Te;const Me=H(ae,{huddleId:Ie});var Ne;return(Ne=Me==null||(Te=Me.timestamps)===null||Te===void 0?void 0:Te.length)!==null&&Ne!==void 0?Ne:0}};const q=Object(c.b)((ae,ne)=>{let{huddleId:Ie}=ne;const Te=_(ae,{huddleId:Ie});if(!Te)return null;const Me=H(ae,{huddleId:Ie}),Ne=Object(f.e)(ae,{channelId:Te==null?void 0:Te.channelId,ts:Te==null?void 0:Te.ts});if(!Ne||!Me)return null;const He=Object(s.a)(Me.timestamps,Ne==null?void 0:Ne.lastRead);return He===void 0||He<0||!Me?null:Me.timestamps.length-He-1});q.meta={name:"createSelector",key:"createSelectorgetThreadUnreadCount",description:(ae,ne)=>{let{huddleId:Ie}=ne;const Te=_(ae,{huddleId:Ie});if(!Te)return null;const Me=H(ae,{huddleId:Ie}),Ne=Object(f.e)(ae,{channelId:Te==null?void 0:Te.channelId,ts:Te==null?void 0:Te.ts});if(!Ne||!Me)return null;const He=Object(s.a)(Me.timestamps,Ne==null?void 0:Ne.lastRead);return He===void 0||He<0||!Me?null:Me.timestamps.length-He-1}};const k=Object(c.b)((ae,ne)=>{let{huddleId:Ie}=ne;const Te=_(ae,{huddleId:Ie});if(!Te)return p.a;const Me=H(ae,{huddleId:Ie}),Ne=Object(f.e)(ae,{channelId:Te==null?void 0:Te.channelId,ts:Te==null?void 0:Te.ts});if(!Ne||!Me)return p.a;const He=Object(s.a)(Me.timestamps,Ne==null?void 0:Ne.lastRead);if(He===void 0||!Me)return p.a;const Je=Object(t.a)(Me.timestamps,He+1).map(qe=>{const ke=Object(u.b)(ae,Te==null?void 0:Te.channelId,qe);return ke==null?void 0:ke.user});return Je.length===0?p.a:Object(a.a)(Object(r.a)(Je))});k.meta={name:"createSelector",key:"createSelectorgetThreadUnreadMessagesSendersIds",description:(ae,ne)=>{let{huddleId:Ie}=ne;const Te=_(ae,{huddleId:Ie});if(!Te)return p.a;const Me=H(ae,{huddleId:Ie}),Ne=Object(f.e)(ae,{channelId:Te==null?void 0:Te.channelId,ts:Te==null?void 0:Te.ts});if(!Ne||!Me)return p.a;const He=Object(s.a)(Me.timestamps,Ne==null?void 0:Ne.lastRead);if(He===void 0||!Me)return p.a;const Je=Object(t.a)(Me.timestamps,He+1).map(qe=>{const ke=Object(u.b)(ae,Te==null?void 0:Te.channelId,qe);return ke==null?void 0:ke.user});return Je.length===0?p.a:Object(a.a)(Object(r.a)(Je))}};const se=Object(c.b)((ae,ne)=>{let{huddleId:Ie,getSiblingView:Te,shouldUseNavigate:Me}=ne;const Ne=_(ae,{huddleId:Ie}),He=Object(E.c)(Ne==null?void 0:Ne.channelId,Ne==null?void 0:Ne.ts),Et=Me?Te(ae,{container:h.h.Primary}):null,Je=Me?Te(ae,{container:h.h.Secondary}):null;if(Et||Je){var qe,ke;return(Et==null?void 0:Et.id)==="thread"&&((qe=Et.params)===null||qe===void 0?void 0:qe.threadId)===He||(Je==null?void 0:Je.id)==="thread"&&((ke=Je.params)===null||ke===void 0?void 0:ke.threadId)===He}const rt=Object(d.l)(ae),pe=Object(d.d)(ae);return rt==="thread"&&pe[0]===He});se.meta={name:"createSelector",key:"createSelectorgetIsThreadOpenInFlexpane",description:(ae,ne)=>{let{huddleId:Ie,getSiblingView:Te,shouldUseNavigate:Me}=ne;const Ne=_(ae,{huddleId:Ie}),He=Object(E.c)(Ne==null?void 0:Ne.channelId,Ne==null?void 0:Ne.ts),Et=Me?Te(ae,{container:h.h.Primary}):null,Je=Me?Te(ae,{container:h.h.Secondary}):null;if(Et||Je){var qe,ke;return(Et==null?void 0:Et.id)==="thread"&&((qe=Et.params)===null||qe===void 0?void 0:qe.threadId)===He||(Je==null?void 0:Je.id)==="thread"&&((ke=Je.params)===null||ke===void 0?void 0:ke.threadId)===He}const rt=Object(d.l)(ae),pe=Object(d.d)(ae);return rt==="thread"&&pe[0]===He}};const re=Object(c.b)((ae,ne)=>{let{huddleId:Ie,surface:Te}=ne;var Me,Ne,He,Et;if(!Ie||!Te)return!1;const Je=ae==null||(Me=ae.huddlesCanvas)===null||Me===void 0||(Ne=Me.byHuddleId)===null||Ne===void 0||(He=Ne[Ie])===null||He===void 0||(Et=He.tabStateBySurface)===null||Et===void 0?void 0:Et[Te];return Te===O.b.WINDOW_FULL&&(!Je||Je.areTabsOpen===void 0)?!0:!!(Je!=null&&Je.areTabsOpen)});re.meta={name:"createSelector",key:"createSelectorgetAreTabsOpenForSurface",description:(ae,ne)=>{let{huddleId:Ie,surface:Te}=ne;var Me,Ne,He,Et;if(!Ie||!Te)return!1;const Je=ae==null||(Me=ae.huddlesCanvas)===null||Me===void 0||(Ne=Me.byHuddleId)===null||Ne===void 0||(He=Ne[Ie])===null||He===void 0||(Et=He.tabStateBySurface)===null||Et===void 0?void 0:Et[Te];return Te===O.b.WINDOW_FULL&&(!Je||Je.areTabsOpen===void 0)?!0:!!(Je!=null&&Je.areTabsOpen)}};const X=Object(c.b)(ae=>{var ne;return ae==null||(ne=ae.huddlesCanvas)===null||ne===void 0?void 0:ne.canShowMutedBanner});X.meta={name:"createSelector",key:"createSelectorgetCanShowMutedBanner",description:ae=>{var ne;return ae==null||(ne=ae.huddlesCanvas)===null||ne===void 0?void 0:ne.canShowMutedBanner}};const w=Object(c.b)(ae=>{var ne;return ae==null||(ne=ae.huddlesCanvas)===null||ne===void 0?void 0:ne.canShowSelfViewBanner});w.meta={name:"createSelector",key:"createSelectorgetCanShowSelfViewBanner",description:ae=>{var ne;return ae==null||(ne=ae.huddlesCanvas)===null||ne===void 0?void 0:ne.canShowSelfViewBanner}};const ce=Object(c.b)((ae,ne)=>{let{huddleId:Ie}=ne;var Te,Me,Ne,He;return ae==null||(Te=ae.huddlesCanvas)===null||Te===void 0||(Me=Te.byHuddleId)===null||Me===void 0||(Ne=Me[Ie])===null||Ne===void 0||(He=Ne.comment)===null||He===void 0?void 0:He.quipCommentThreadIdOrTs});ce.meta={name:"createSelector",key:"createSelectorgetNotesCommentTs",description:(ae,ne)=>{let{huddleId:Ie}=ne;var Te,Me,Ne,He;return ae==null||(Te=ae.huddlesCanvas)===null||Te===void 0||(Me=Te.byHuddleId)===null||Me===void 0||(Ne=Me[Ie])===null||Ne===void 0||(He=Ne.comment)===null||He===void 0?void 0:He.quipCommentThreadIdOrTs}};const ie=Object(c.b)((ae,ne)=>{let{huddleId:Ie}=ne;var Te,Me,Ne,He;return ae==null||(Te=ae.huddlesCanvas)===null||Te===void 0||(Me=Te.byHuddleId)===null||Me===void 0||(Ne=Me[Ie])===null||Ne===void 0||(He=Ne.comment)===null||He===void 0?void 0:He.highlightTs});ie.meta={name:"createSelector",key:"createSelectorgetNotesHighlightTs",description:(ae,ne)=>{let{huddleId:Ie}=ne;var Te,Me,Ne,He;return ae==null||(Te=ae.huddlesCanvas)===null||Te===void 0||(Me=Te.byHuddleId)===null||Me===void 0||(Ne=Me[Ie])===null||Ne===void 0||(He=Ne.comment)===null||He===void 0?void 0:He.highlightTs}};const oe=Object(c.b)((ae,ne)=>{let{huddleId:Ie}=ne;var Te,Me,Ne,He;return ae==null||(Te=ae.huddlesCanvas)===null||Te===void 0||(Me=Te.byHuddleId)===null||Me===void 0||(Ne=Me[Ie])===null||Ne===void 0||(He=Ne.comment)===null||He===void 0?void 0:He.isCommentOpen});oe.meta={name:"createSelector",key:"createSelectorgetIsCommentOpen",description:(ae,ne)=>{let{huddleId:Ie}=ne;var Te,Me,Ne,He;return ae==null||(Te=ae.huddlesCanvas)===null||Te===void 0||(Me=Te.byHuddleId)===null||Me===void 0||(Ne=Me[Ie])===null||Ne===void 0||(He=Ne.comment)===null||He===void 0?void 0:He.isCommentOpen}};const me=Object(c.b)(ae=>{var ne;return ae==null||(ne=ae.huddlesCanvas)===null||ne===void 0?void 0:ne.isScreenshareBeingInteractedWith});me.meta={name:"createSelector",key:"createSelectorgetScreenshareInteractivity",description:ae=>{var ne;return ae==null||(ne=ae.huddlesCanvas)===null||ne===void 0?void 0:ne.isScreenshareBeingInteractedWith}};const ue=Object(c.b)((ae,ne)=>{let{huddleId:Ie}=ne;var Te,Me,Ne;return(ae==null||(Te=ae.huddlesCanvas)===null||Te===void 0||(Me=Te.byHuddleId)===null||Me===void 0||(Ne=Me[Ie])===null||Ne===void 0?void 0:Ne.attachedFileIds)||[]});ue.meta={name:"createSelector",key:"createSelectorgetAttachedFileIds",description:(ae,ne)=>{let{huddleId:Ie}=ne;var Te,Me,Ne;return(ae==null||(Te=ae.huddlesCanvas)===null||Te===void 0||(Me=Te.byHuddleId)===null||Me===void 0||(Ne=Me[Ie])===null||Ne===void 0?void 0:Ne.attachedFileIds)||[]}};const _e=Object(c.b)((ae,ne)=>{let{huddleId:Ie}=ne;var Te,Me,Ne;return!!(!(ae==null||(Te=ae.huddlesCanvas)===null||Te===void 0||(Me=Te.byHuddleId)===null||Me===void 0||(Ne=Me[Ie])===null||Ne===void 0)&&Ne.isMoreActionsMenuOpenInCompactMode)});_e.meta={name:"createSelector",key:"createSelectorgetIsMoreActionsMenuOpenInCompactMode",description:(ae,ne)=>{let{huddleId:Ie}=ne;var Te,Me,Ne;return!!(!(ae==null||(Te=ae.huddlesCanvas)===null||Te===void 0||(Me=Te.byHuddleId)===null||Me===void 0||(Ne=Me[Ie])===null||Ne===void 0)&&Ne.isMoreActionsMenuOpenInCompactMode)}};const be=Object(c.b)((ae,ne)=>{let{huddleId:Ie}=ne;var Te,Me;if(Ie)return(Me=ae==null||(Te=ae.huddlesCanvas)===null||Te===void 0?void 0:Te.byHuddleId[Ie])===null||Me===void 0?void 0:Me.isRecordingTranscript});be.meta={name:"createSelector",key:"createSelectorgetIsRecordingTranscript",description:(ae,ne)=>{let{huddleId:Ie}=ne;var Te,Me;if(Ie)return(Me=ae==null||(Te=ae.huddlesCanvas)===null||Te===void 0?void 0:Te.byHuddleId[Ie])===null||Me===void 0?void 0:Me.isRecordingTranscript}};const Ae=Object(c.b)((ae,ne)=>{let{huddleId:Ie}=ne;var Te,Me;if(Ie)return(Me=ae==null||(Te=ae.huddlesCanvas)===null||Te===void 0?void 0:Te.byHuddleId[Ie])===null||Me===void 0?void 0:Me.isSummarizing});Ae.meta={name:"createSelector",key:"createSelectorgetIsSummarizing",description:(ae,ne)=>{let{huddleId:Ie}=ne;var Te,Me;if(Ie)return(Me=ae==null||(Te=ae.huddlesCanvas)===null||Te===void 0?void 0:Te.byHuddleId[Ie])===null||Me===void 0?void 0:Me.isSummarizing}};const Ce=Object(c.b)((ae,ne)=>{let{huddleId:Ie}=ne;var Te,Me;if(Ie)return(Me=ae==null||(Te=ae.huddlesCanvas)===null||Te===void 0?void 0:Te.byHuddleId[Ie])===null||Me===void 0?void 0:Me.isNoteTakingEnabled});Ce.meta={name:"createSelector",key:"createSelectorgetIsNoteTakingEnabled",description:(ae,ne)=>{let{huddleId:Ie}=ne;var Te,Me;if(Ie)return(Me=ae==null||(Te=ae.huddlesCanvas)===null||Te===void 0?void 0:Te.byHuddleId[Ie])===null||Me===void 0?void 0:Me.isNoteTakingEnabled}};const De=Object(c.b)((ae,ne)=>{let{huddleId:Ie}=ne;var Te,Me;if(Ie)return(Me=ae==null||(Te=ae.huddlesCanvas)===null||Te===void 0?void 0:Te.byHuddleId[Ie])===null||Me===void 0?void 0:Me.isLoungeMusicBannerDismissed});De.meta={name:"createSelector",key:"createSelectorgetIsLoungeMusicBannerDismissed",description:(ae,ne)=>{let{huddleId:Ie}=ne;var Te,Me;if(Ie)return(Me=ae==null||(Te=ae.huddlesCanvas)===null||Te===void 0?void 0:Te.byHuddleId[Ie])===null||Me===void 0?void 0:Me.isLoungeMusicBannerDismissed}};const Pe=Object(c.b)((ae,ne)=>{let{huddleId:Ie}=ne;var Te,Me;if(Ie)return(Me=ae==null||(Te=ae.huddlesCanvas)===null||Te===void 0?void 0:Te.byHuddleId[Ie])===null||Me===void 0?void 0:Me.hasUserStoppedLoungeMusic});Pe.meta={name:"createSelector",key:"createSelectorgetHasUserStoppedLoungeMusic",description:(ae,ne)=>{let{huddleId:Ie}=ne;var Te,Me;if(Ie)return(Me=ae==null||(Te=ae.huddlesCanvas)===null||Te===void 0?void 0:Te.byHuddleId[Ie])===null||Me===void 0?void 0:Me.hasUserStoppedLoungeMusic}};const Ue=Object(c.b)(ae=>{var ne;return ae==null||(ne=ae.huddlesCanvas)===null||ne===void 0?void 0:ne.miniplayerWidth});Ue.meta={name:"createSelector",key:"createSelectorgetMiniplayerWidth",description:ae=>{var ne;return ae==null||(ne=ae.huddlesCanvas)===null||ne===void 0?void 0:ne.miniplayerWidth}}},SNS2:function(K,n,e){"use strict";var s=e("q1tI"),t=e.n(s),a=e("iuhU"),r=e("VFSv");function c(i){let{className:l="",size:u}=i;return t.a.createElement("span",{className:Object(a.default)(l,"c-hidden_user_avatar",{"c-hidden_user_avatar--small":u===16}),style:{width:`${u}px`,height:`${u}px`}},t.a.createElement("span",{className:"c-hidden_user_avatar--icon"},t.a.createElement(r.a,{size:u<=24?"16":"24",name:"user-hide"})))}v(c,"HiddenUserAvatar"),c.displayName="HiddenUserAvatar";var o=n.a=t.a.memo(c)},SQbT:function(K,n,e){"use strict";e.d(n,"a",function(){return u});var s=e("Zbwg"),t=e("l1I1"),a=e("eUIW"),r=e("OaiI"),c=e("hwwf"),o=e("UmHn"),i=e("rZ8V"),l=e("eVCY");function u(f,d){const O=Object(l.e)(f);return Object(r.m)(f)&&(Object(c.r)(d)||d==="record")||O||Object(i.g)(f)&&d===o.a.Composer?!0:Object(s.a)(d)||Object(t.a)(d)||Object(a.a)(d)||d===o.a.Activity||d===o.a.Later||d==="activity"||d==="thread"||d==="comment_thread"||d==="comment_stream"||d==="activity_history"||d==="channel_canvas"||d==="help"||d==="whats_new"||d==="shortcuts"||d==="rimeto_profile"||d==="files"||d==="user_groups"||d==="canvas_browser"||d==="app_popout"}v(u,"canViewOpenInMultiViewWindow")},SRu2:function(K,n,e){"use strict";e.d(n,"a",function(){return t});var s=e("OqoL");const t=v((a,r)=>{const c={...r,type:"message",is_ephemeral:!0,text:Object(s.b)(a,r.text,{isInternalMessage:!0})};return c.username?c.subtype="bot_message":c.user="USLACKBOT",c},"buildBotMessage")},SS7u:function(K,n,e){K.exports=e.p+"slackbot_sad_surprise_32-5479e94.png"},Se5r:function(K,n,e){K.exports=e.p+"ava_0022-192-0cc433a.png"},"Sf+H":function(K,n,e){"use strict";var s=e("yIs4"),t=e("ifKl"),a=e("WIr4"),r=e("q1tI"),c=e.n(r),o=e("iuhU"),i=e("Gs4e"),l=e("95ku"),u=e("oEDn"),f=e("i9y5"),d=e("RMmo"),O=e("2K8U"),m=e("MYuU"),g=e("eH51"),E=e("1ufr"),p=e("azFB"),h=e("nNoG");function _(){return _=Object.assign||function(T){for(var S=1;S<arguments.length;S++){var A=arguments[S];for(var R in A)Object.prototype.hasOwnProperty.call(A,R)&&(T[R]=A[R])}return T},_.apply(this,arguments)}v(_,"_extends");const b=new h.b("select"),I=1e4;let C=v(class extends r.Component{componentDidMount(){const{inputRef:S,focusOnMount:A,expandOnFocus:R}=this.props,x=S&&S.current;A&&(!this.state.hasFocus&&x&&x.focus(),R&&this.showOptionsList()),this.bindKeyCommands()}componentDidUpdate(S,A){const{inputRef:R,selectState:x,focusOnMount:M}=this.props,{selectedOption:j}=x,{selectState:W}=S,{selectedOption:U}=W,B=R&&R.current,{hasFocus:Y,focusedViaMouse:z}=this.state;j&&Y&&!z&&(j!==U||!A.hasFocus)&&setTimeout(()=>{B==null||B.select()},50),M&&S.focusOnMount!==M&&(this.state.hasFocus||B==null||B.focus())}componentWillUnmount(){this.unbindKeyCommands(),this.blurTimeout&&clearTimeout(this.blurTimeout)}onClick(S){const{inputRef:A,selectState:R,onClick:x,expandOnClick:M,searchOnClick:j}=this.props,{isDisabled:W,isExpanded:U,selectedOption:B}=R;if(W)return;const Y=A&&A.current;this.state.hasFocus||(this.setState(()=>({focusedViaMouse:!0})),Y==null||Y.focus()),(M||B)&&!U&&this.showOptionsList({searchOnClick:j}),x&&x(S)}onBlur(S){S.persist();const{onBlur:A}=this.props;this.setState(()=>({hasFocus:!1,focusedViaMouse:!1,cursorVisible:!1}),()=>{A&&A(S)})}onFocus(S){S.persist();const{onFocus:A}=this.props;this.setState(()=>({hasFocus:!0}),()=>{A&&A(S)})}onInputChanged(S){const{selectState:A,setSelectState:R,expandOnClick:x}=this.props,{isExpanded:M,selectedOption:j}=A;if(this.backspaceOrDeletePressed&&S.length===0&&j){R(()=>({filterQuery:S,selectedOption:null,displayQuery:S}));return}M?!x&&!S&&R(()=>({isExpanded:!1})):this.showOptionsList(),R(()=>({filterQuery:S,displayQuery:S}))}onKeyPressedEnter(S){this.props.selectState.isExpanded?S.preventDefault():(this.showOptionsList(),S.stopPropagation())}onKeyPressedEscape(S){const{selectState:A,setSelectState:R,resultsInPopover:x,onEsc:M,onOptionsListClose:j}=this.props;A.isExpanded&&x&&(S.stopPropagation(),M&&M(),j&&j(),R(()=>({isExpanded:!1})))}onKeyPressedTab(){const{setSelectState:S,onOptionsListClose:A,selectState:R}=this.props;A&&A();const{activeRowIndex:x,initialActiveOption:M}=R;typeof x!="number"&&!M&&S(()=>({isExpanded:!1}))}onUpOrDownPressed(S){S.preventDefault(),this.props.selectState.isExpanded||(this.showOptionsList(),S.stopPropagation())}onKeyDown(S){const{key:A}=S,R={ArrowLeft:!0,ArrowRight:!0},M={Backspace:!0,Delete:!0}[A],j=M||R[A]||Object(g.a)(S);this.setState(()=>({cursorVisible:j})),this.backspaceOrDeletePressed=M}setWrapperRef(S){this.wrapperEl=S}bindKeyCommands(){const S=[{keys:["up","down"],handler:this.onUpOrDownPressed},{keys:["enter"],handler:this.onKeyPressedEnter},{keys:["escape"],handler:this.onKeyPressedEscape},{keys:["tab","shift+tab"],handler:this.onKeyPressedTab}];this.keyCommands||(this.keyCommands=new d.a(this.wrapperEl)),this.keyCommands.bindAll(S)}maybeRenderIconOrLoading(){const{showDropdownIcon:S,isLoading:A,size:R,expandOnClick:x}=this.props;if(A)return c.a.createElement(f.a,{className:"c-select_input__spinner",color:"blue",size:R===O.f.LARGE?"large":"medium"});if(!S||!x)return null;const M=R===O.f.SMALL?"chevron-down":"chevron-medium-down";return c.a.createElement(u.a,{inline:!0,type:M})}showOptionsList(){let S=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const{searchOnClick:A}=S;this.updateOptionsListPosition(),this.props.setSelectState(()=>({isExpanded:!0,searchOnClick:A}))}unbindKeyCommands(){this.keyCommands&&(this.keyCommands.reset(),this.keyCommands=null)}updateOptionsListPosition(){const{selectState:S}=this.props,{isExpanded:A}=S;if(!A&&this.measurePopoverEvent){var R;(R=this.props.window)===null||R===void 0||R.dispatchEvent(this.measurePopoverEvent)}}renderInputContent(){const{selectState:S,renderSelectedOption:A,classPrefix:R,selectDataQa:x}=this.props,{isExpanded:M,selectedOption:j}=S;if(this.state.cursorVisible||!j||M)return null;const W=Object(o.default)("c-select_input__content",{[`${R}__select_input_content`]:R});return c.a.createElement("div",{className:W,"data-qa":x?`${x}-input-content`:null},c.a.createElement("span",{className:"c-select_input__content_text"},A&&A(j)))}renderTextInput(){const{selectDataQa:S,inputRef:A,classPrefix:R,ariaLabelledBy:x,ariaDescribedBy:M,icon:j,maxCharacterLimit:W,size:U,selectState:B,autoClogProps:Y}=this.props,{activeRowIndex:z,filterQuery:F,isDisabled:V,isExpanded:L,isInvalid:Q,isRequired:ee,selectedOption:te,selectId:le=""}=B;let Oe;F||!L&&te?Oe=null:Oe=this.props.placeholderText||b.t("Please select an option");const he=L&&Object(s.a)(z)?Object(m.a)(le,`option_${z}`):null,Ee=!this.state.cursorVisible&&te&&!L,ge=Object(o.default)("c-select_input",{"c-select_input--offscreen":Ee,"c-select_input--invalid":Q,[`${R}__select_input`]:R}),J=Object(m.e)([M,Object(m.a)(le,"initial-focus")]),Z=!this.state.focusedViaMouse&&this.state.hasFocus&&!this.state.cursorVisible?F||te&&te.label:F,q={spellCheck:!1,className:ge,id:le,name:le,"aria-activedescendant":he,"aria-autocomplete":"list","aria-expanded":L,"aria-owns":Object(m.a)(le,"listbox"),"aria-required":ee,"aria-label":this.props["aria-label"],"aria-labelledby":x,"aria-describedby":J,isInvalid:Q,autoComplete:"off",isDisabled:V,onChange:this.onInputChanged,placeholder:Oe,value:Z||"","data-qa":S?`${S}-input`:null,onFocus:this.onFocus,onBlur:this.onBlur,onKeyDown:this.onKeyDown,role:"combobox",autoClogProps:Y};return j||W?c.a.createElement(l.a,_({},q,{icon:j,size:U,maxCharacterLimit:W,showError:!1,type:"text",inputRef:A,isInvalid:Q})):c.a.createElement(i.b,_({},q,{ref:A}))}render(){const{icon:S,size:A,selectDataQa:R,width:x,classPrefix:M,showDropdownIcon:j,selectState:W}=this.props,{isInvalid:U}=W,B=Object(o.default)("c-select_input__wrapper",{[`c-select_input--${A}`]:A,"c-select_input--with_icon_right":j,"c-select_input--with_icon_left":!!S,"c-select_input--invalid":U,[`${M}__select_input_wrapper`]:M}),Y=Object(o.default)("c-select_input__input_container",{[`${M}__select_input_container`]:M});return c.a.createElement("div",{role:"presentation",className:B,style:{width:x},onClick:this.onClick,"data-qa":R?`${R}-wrapper`:null,ref:this.setWrapperRef},c.a.createElement("div",{className:Y},this.renderTextInput(),this.renderInputContent()),c.a.createElement("div",{className:"c-select_input__icon_container"},this.maybeRenderIconOrLoading()))}constructor(S){super(S),Object(a.a)(this,["onClick","onFocus","onBlur","onUpOrDownPressed","onKeyPressedEnter","onKeyPressedEscape","onKeyPressedTab","onKeyDown","onInputChanged","setWrapperRef","showOptionsList","updateOptionsListPosition"]),this.selectInputRef=c.a.createRef(),this.wrapperEl=void 0,this.backspaceOrDeletePressed=!1,this.measurePopoverEvent=void 0,this.blurTimeout=void 0,this.state={hasFocus:!1,focusedViaMouse:!1,cursorVisible:!1},S.measurePopoverEventName&&(this.measurePopoverEvent=new Event(S.measurePopoverEventName))}},"SelectInput");C.displayName="SelectInput",C.defaultProps={autoClogProps:void 0,inputRef:null,onClick:t.a,placeholderText:void 0,width:360,selectDataQa:void 0,showDropdownIcon:!0,icon:void 0,maxCharacterLimit:void 0,focusOnMount:!1,isLoading:!1,measurePopoverEventName:null,classPrefix:void 0,onFocus:t.a,onBlur:t.a,onEsc:t.a,resultsInPopover:!0,ariaLabelledBy:void 0,ariaDescribedBy:void 0,onOptionsListClose:t.a,expandOnClick:!0,searchOnClick:!1,window:p.a,expandOnFocus:!0};const y={SelectInput:C};var P=n.a=Object(E.a)(C)},SgHf:function(K,n,e){"use strict";var s=e("6Tgc"),t=e("2xcd");e.d(n,"b",function(){return t.a});var a=e("JYsB");e.d(n,"a",function(){return a.a});var r=e("Iquu");e.d(n,"c",function(){return r.a}),n.d=s.a},"Sw/c":function(K,n,e){K.exports=e.p+"slack_logo_white_text-3cffbf2.svg"},SwdH:function(K,n,e){"use strict";e.d(n,"a",function(){return a});var s=e("/MKj"),t=e("Ybt4");function a(){const{getState:r}=Object(s.useStore)();return Object(t.b)({getState:r})}v(a,"useLogger")},TAzn:function(K,n,e){"use strict";var s=e("q1tI"),t=e.n(s),a=e("iuhU"),r=e("ifKl"),c=e("nWdO");function o(){return o=Object.assign||function(l){for(var u=1;u<arguments.length;u++){var f=arguments[u];for(var d in f)Object.prototype.hasOwnProperty.call(f,d)&&(l[d]=f[d])}return l},o.apply(this,arguments)}v(o,"_extends");function i(l){let{children:u,onShow:f=r.a,tipClassName:d,...O}=l;const[m,g]=Object(s.useState)(!1),E=Object(s.useCallback)(p=>{f(p),g(p.isTruncated)},[f]);return t.a.createElement(c.c,o({onShow:E,tipClassName:Object(a.default)(d,{hidden:!m})},O),u)}v(i,"TruncationTooltip"),i.displayName="TruncationTooltip",n.a=i},TGfC:function(K,n,e){"use strict";e.d(n,"a",function(){return t}),e.d(n,"b",function(){return a});const s=":";function t(r){let{serviceId:c,homeWorkspaceId:o}=r;return[o,c].join(s)}v(t,"getFetchId");function a(r){const[c,o]=r.split(s);return{serviceId:o,homeWorkspaceId:c}}v(a,"splitFetchId")},TJOA:function(K,n,e){K.exports=e.p+"incoming_ring_v2-c3cc0ca.mp3"},TMWO:function(K,n,e){"use strict";e.d(n,"b",function(){return E});var s=e("ZKjC"),t=e("QOYf"),a=e("G5NC"),r=e("Z44y"),c=e("GKly"),o=e("e9jb"),i=e("4MOp"),l=e("BeUZ"),f=v(()=>Object(t.a)(),"isDarkModeFeatureEnabled"),d=e("kBpe"),O=e("mYQK"),m=e.n(O);const g=v(()=>{var b;const I=Object(d.i)()||((b=window.matchMedia)===null||b===void 0?void 0:b.call(window,"(prefers-color-scheme)").media)!=="not all",C=Object(d.p)()&&Object(l.a)(Object(l.b)(m.a.osversion),Object(l.b)("10.14"))>=0,y=Object(d.y)(),P=C||y,T=Object(d.i)()||Object(a.a)()||Object(r.a)()||Object(c.a)()||Object(o.a)()||Object(i.a)();return Object(t.a)()&&I&&P&&T},"computeSystemSyncIsSupportedOnBoot"),E=g(),p=Object(s.b)(b=>!!E&&!!f(b));p.meta={name:"createSelector",key:"createSelectorgetSystemSyncIsSupported",description:b=>!!E&&!!f(b)};var h=n.a=p;const _={computeSystemSyncIsSupportedOnBoot:g}},TUw0:function(K,n,e){"use strict";e.d(n,"a",function(){return A});var s=e("q1tI"),t=e.n(s),a=e("Cfcg"),r=e("iuhU"),c=e("Kmpi"),o=e("E3dU"),i=e("xwCZ"),l=e("Yauy"),u=e("C3vN"),f=e("Fn/R"),d=e("NV6F"),O=e("pFNT"),m=e("gv7z"),g=e("iXLD"),E=e("1EwG"),p=e("MC67"),h=e("XVAJ"),_=e("oEDn"),b=e("zUbs"),I=e("NPtR"),C=e("LvvF"),y=e("sGXp"),P=e("RVJP"),T=e("QcTi");function S(){return S=Object.assign||function(M){for(var j=1;j<arguments.length;j++){var W=arguments[j];for(var U in W)Object.prototype.hasOwnProperty.call(W,U)&&(M[U]=W[U])}return M},S.apply(this,arguments)}v(S,"_extends");const A={right:"right",bottom:"bottom"};function R(M){const{className:j,id:W,invert:U=!1,member:B,memberPrimaryName:Y,memberSecondaryName:z,secondaryContent:F,secondaryContentPosition:V=A.bottom,subtext:L,showSubtext:Q=!0,showAvatar:ee=!0,showDraftIcon:te=!1,showPresence:le=!0,showStatus:Oe=!0,showTooltip:he=!0,showAppOrBotBadge:Ee=!0,isDeactivated:ge=!1,useShortMode:J,showHoverCard:H=!1,forwardedRef:Z,"data-sk":q="medium_member_entity","data-qa":k="medium_member_entity",isUserHidden:se=!1,noStatusText:re=!1}=M,X=Object(f.a)(B),w=Object(u.eb)(B),ce=Object(u.vb)(B),ie=Object(u.tb)(B),oe=Object(c.c)(W),me=Object(c.d)(W),ue=t.a.createElement(b.a,{"data-qa":"member-entity__primary-name",name:Y,invert:U&&!ge,isAppOrBot:X,showAppOrBotBadge:Ee,isDeleted:w,isSelf:ce,isNonExistent:oe,isUnknown:me,isUserHidden:se}),_e=Object(d.y)({memberId:W,children:ue}),be=!se&&t.a.createElement(p.a,{className:"c-member__secondary-name","data-qa":"member-entity__secondary-name"},z),Ae=B&&t.a.createElement(E.a,{className:"c-member__title","data-qa":"member-entity__title"},Object(u.M)(B)),Ce=!w&&!ie&&t.a.createElement(I.a,{memberId:W,className:"c-member__presence",invert:U&&!ge,"data-qa":"member-entity__presence",inline:!1}),De=t.a.createElement(h.b,{memberId:W,tooltip:he,animated:J,className:"c-member__current-status c-member__current-status--medium","data-qa":"member-entity__status",noText:re}),Pe=V===A.bottom&&F?t.a.createElement(g.a,{"data-qa":"member-entity__metadata"},F):null,Ue=t.a.createElement("span",{className:"c-member__primary_content"},H?_e:ue,le&&Ce,!J&&be,Oe&&De),ae=w||ge?y.d.dim:void 0,ne=Object(r.default)(j,"c-member","c-member--medium",{"c-member--with-presence":le}),Ie=Object(s.useCallback)(Te=>ee&&(te?t.a.createElement(_.a,{type:"pencil",size:"inherit",className:"c-member__draft_icon","aria-hidden":!0,"data-qa":"member-entity__draft-icon"}):t.a.createElement(O.c,S({},Te,{size:y.a.medium,userId:W,"data-qa":"member-entity__avatar",isInteractive:!1}))),[ee,te,W]);return t.a.createElement(m.a,{avatar:Ie,className:ne,size:"medium",style:ae,text:Ue,subtext:Q&&(L||Ae),metadata:!w&&Pe,"data-qa":k,"data-sk":q,forwardedRef:Z})}v(R,"MediumMemberEntity"),R.displayName="MediumMemberEntity";function x(M,j){let{id:W,isDraftContext:U,member:B,showStatus:Y}=j;const z=B||Object(i.g)(M,W);let F=!1;if(U&&W){const L=Object(o.l)(M,W);F=!!(L&&Object(l.w)(M,L.id))}const V=W||(z==null?void 0:z.id);return{id:V,member:z??void 0,memberPrimaryName:Object(u.N)(M,z,!1,!1),memberSecondaryName:Object(u.G)(M,z),showDraftIcon:F,showStatus:Y&&Object(u.T)(z),isUserHidden:!!V&&Object(C.b)(M,V)&&Object(P.d)(M,"hide_user_v1")==="on"}}v(x,"mapStateToProps"),n.b=Object(a.a)(x)(R)},TZ1i:function(K,n,e){"use strict";var s=e("n3tL"),t=e("Cfcg"),a=e("ifKl"),r=e("fujP"),c=e("usyg"),o=e("O86Y"),i=e("s4P+"),l=e("ty0f"),u=e("QOYf"),f=e("8g3S"),d=e("bK/7");const O="WITH_SERIALIZATION",m=v(h=>Object.keys(h).filter(_=>!Object(l.a)(h[_])),"getUnserializableKeys"),g=v((h,_)=>{let{serializationKey:b}=_;const I=Object(o.g)(h),{serializedProps:C,serializedState:y}=Object(d.a)(h,b)||{};return{...C,serializationPrevState:y,serializationTeamId:I}},"mapStateToProps"),E=v((h,_,b)=>({...h,..._,...b}),"mergeProps"),p={forwardRef:!0};n.a=function(h){let{getStateToSerialize:_=v(y=>{let{state:P}=y;return P},"getStateToSerialize"),getDerivedProps:b=a.a,updateStore:I=a.a}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!Object(u.a)())return h;if(h.name==="Connect")throw new Error(`Cannot accept connected component "${h.displayName}"`);let C=v(class extends h{handleSerializationCallback(){const{dispatch:P,serializationKey:T}=this.props,S={state:this.state,instance:this},A=_(S),R=b(S);if(A){const x=m(A);if(x.length){this._logger.error(O,`unserializable state keys (${x})`);return}}if(R){const x=m(R);if(x.length){this._logger.error(O,`unserializable props keys (${x})`);return}}I({...S,dispatch:P}),!(Object(r.a)(A)&&Object(r.a)(R))&&P(Object(f.c)({key:T,serializedState:A,serializedProps:R}))}componentDidMount(){for(var P=arguments.length,T=new Array(P),S=0;S<P;S++)T[S]=arguments[S];super.componentDidMount&&super.componentDidMount(...T);const{serializationKey:A}=this.props;try{Object(c.a)(A,this.handleSerializationCallback)}catch(R){this._logger.error(O,R)}}componentWillUnmount(){for(var P=arguments.length,T=new Array(P),S=0;S<P;S++)T[S]=arguments[S];super.componentWillUnmount&&super.componentWillUnmount(...T);const{serializationKey:A}=this.props;try{Object(c.b)(A)}catch(R){this._logger.error(O,R)}}constructor(P,...T){super(P,...T),this.handleSerializationCallback=this.handleSerializationCallback.bind(this);const{serializationTeamId:S,serializationPrevState:A}=P;this._logger=Object(i.a)({teamId:S}),A&&(this.state=A)}},"SerializableComponent");return C.propTypes={...h.propTypes,serializationKey:s.default.string.isRequired,serializationTeamId:s.default.string.isRequired,serializationPrevState:s.default.object,dispatch:s.default.func},C.defaultProps={...h.defaultProps,dispatch:a.a},C.displayName=`Serialized(${h.displayName})`,Object(t.a)(g,null,E,p)(C)}},TiPP:function(K,n,e){"use strict";e.d(n,"a",function(){return le}),e.d(n,"b",function(){return Ee});var s=e("q1tI"),t=e.n(s),a=e("nNoG"),r=e("zxER"),c=e("JvzI"),o=e("d/xU"),i=e("7ibc"),l=e("iuhU"),u=e("Cfcg"),f=e("Tevt"),d=e("Trx9"),O=e("zm5I"),m=e("aBhT"),g=e("bdgK"),E=e("oEDn");let p=v(class extends s.PureComponent{render(){const{text:H,className:Z,href:q,tabIndex:k,autoClogProps:se}=this.props,re=Object(l.default)("p-arrow_cta",Z);return t.a.createElement("span",{className:re},q?t.a.createElement(f.a,{href:q,tabIndex:k,autoClogProps:se},t.a.createElement("strong",null,H)):t.a.createElement("strong",null,H),t.a.createElement(E.a,{type:"arrow-large-right",inline:!0,className:"p-arrow_cta__icon"}))}},"ArrowCTA");p.displayName="ArrowCTA",p.defaultProps={tabIndex:0};var h=p;const _=new a.b("paid_onboarding"),b=436,I=202,C=140,y=22;let P=v(class extends s.PureComponent{componentDidMount(){this.setupObserver(),this.setUpMedia()}componentWillUnmount(){var H;(H=this.observer)===null||H===void 0||H.disconnect()}setupObserver(){var H,Z;if(!g.a||!(!((H=this.cardContainerRef)===null||H===void 0)&&H.current)||!(!((Z=this.titleRef)===null||Z===void 0)&&Z.current))return;const q=v(k=>{var se,re,X,w;const ce=k[0],ie=k[1],oe=(ce==null?void 0:ce.target.className)==="p-paid_benefits_card__container"?ce==null||(se=ce.contentRect)===null||se===void 0?void 0:se.width:ie==null||(re=ie.contentRect)===null||re===void 0?void 0:re.width,me=(ce==null?void 0:ce.target.className)==="p-paid_benefits_card__container"?ie==null||(X=ie.contentRect)===null||X===void 0?void 0:X.height:ce==null||(w=ce.contentRect)===null||w===void 0?void 0:w.height;if(oe>=b&&this.state.hideAssets?this.setState(()=>({hideAssets:!1})):oe<b&&!this.state.hideAssets&&this.setState(()=>({hideAssets:!0})),oe>=b&&me){const ue=Math.floor((I-me)/y);ue!==this.state.subtitleLines&&(ue<1?this.setSubtitleLines(1):this.setSubtitleLines(ue))}else if(oe<b&&me){const ue=Math.floor((C-me)/y);ue!==this.state.subtitleLines&&(ue<1?this.setSubtitleLines(1):this.setSubtitleLines(ue))}},"observerCallback");this.observer=new g.a(q),this.observer.observe(this.cardContainerRef.current),this.observer.observe(this.titleRef.current)}setSubtitleLines(H){this.setState(()=>({subtitleLines:H}))}setUpMedia(){const H=this.videoRef.current;H&&(H.muted=!0)}renderVideo(){const{videoSrc:H,videoExtension:Z,videoPoster:q}=this.props;return t.a.createElement("video",{playsInline:!0,autoPlay:!0,loop:!0,className:"p-paid_benefits_card__video",poster:`${q||H}.${Z||"jpg"}`,ref:this.videoRef},t.a.createElement("source",{type:"video/mp4",src:`${H}.mp4`}),t.a.createElement("source",{type:"video/webm",src:`${H}.webm`}))}renderImage(){const{imageSrc:H,srcSet:Z,imageWidth:q,imageHeight:k,name:se}=this.props,re=`p-paid_benefits_card__img--${se}`;return t.a.createElement("img",{alt:"",srcSet:Z,src:H,width:q,height:k,className:`p-paid_benefits_card__img ${re}`})}render(){const{ctaURL:H,name:Z,imageSrc:q,videoSrc:k,background:se,shouldDisplayReverse:re,heading:X,title:w,subtitle:ce,icon:ie,isDarkMode:oe}=this.props,me=Object(l.default)("p-paid_benefits_card__link",{"p-paid_benefits_card__reverse_link":re,"p-paid_benefits_card__link--dark":oe}),ue=Object(l.default)("p-paid_benefits_card__sub_container","p-paid_benefits_card__img_container",{"p-paid_benefits_card__reverse_img_container":re,"p-paid_benefits_card__img_container--hide":this.state.hideAssets}),_e=Object(l.default)("p-paid_benefits_card__sub_container","p-paid_benefits_card__content_container"),be=Object(l.default)("p-paid_benefits_card__icon",{"p-paid_benefits_card__icon--hide":!this.state.hideAssets});return t.a.createElement(d.a,{clogImpression:!0,elementName:`paid_benefits_card_${Z}`,clogImpressionDuration:!0},t.a.createElement("div",{className:"p-paid_benefits_card__container",ref:this.cardContainerRef},t.a.createElement(f.a,{className:me,"data-qa":"paid_benefits_card_learn_more_link",href:H,autoClogProps:{elementName:`${Z}_learn_more`,onClick:{enableClogAction:!0}}},t.a.createElement("div",{className:ue,style:{background:se}},k&&this.renderVideo(),q&&this.renderImage()),t.a.createElement("div",{className:_e},t.a.createElement(ie,{className:be,fillColor:se}),t.a.createElement("div",{className:"p-paid_benefits_card__heading"},X),t.a.createElement("div",{className:"p-paid_benefits_card__title",ref:this.titleRef},w),t.a.createElement(m.a,{breakWords:!1,lines:this.state.subtitleLines},t.a.createElement("div",{className:"p-paid_benefits_card__subtitle"},ce)),t.a.createElement(h,{text:_.t("Learn more",{fallbackHash:"378cbbf54cbb2e3f3bd201f02c1b946ec3601eba"}),className:"p-paid_benefits_card__learn_more_link"})))))}constructor(H){super(H),this.cardContainerRef=t.a.createRef(),this.titleRef=t.a.createRef(),this.videoRef=t.a.createRef(),this.state={subtitleLines:7,hideAssets:!1}}},"PaidBenefitsCard");P.displayName="PaidBenefitsCard";const T=v(J=>({isDarkMode:Object(O.a)(J)==="dark"}),"mapStateToProps");var S=Object(u.a)(T)(P),R=t.a.memo(J=>t.a.createElement("svg",{width:"48",height:"48",viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:J.className},t.a.createElement("path",{d:"M42.0001 9.07203H35.7721C35.8299 8.11471 35.7119 7.1549 35.4241 6.24003C35.0169 4.94799 34.2695 3.78935 33.2602 2.88567C32.251 1.982 31.0171 1.3666 29.6881 1.10403C28.5771 0.876143 27.4294 0.898319 26.328 1.16895C25.2267 1.43959 24.1993 1.9519 23.3205 2.66875C22.4417 3.3856 21.7334 4.28902 21.2469 5.31352C20.7605 6.33802 20.5081 7.45792 20.5081 8.59203C20.5081 8.74803 20.5081 8.91603 20.5081 9.07203H14.2921C12.9405 9.0752 11.6451 9.61354 10.6894 10.5693C9.73363 11.525 9.1953 12.8204 9.19213 14.172V19.728C8.14061 19.6445 7.08318 19.7795 6.08639 20.1246C5.08959 20.4696 4.17499 21.0173 3.40015 21.733C2.6253 22.4487 2.00698 23.3171 1.58408 24.2834C1.16119 25.2498 0.942871 26.2932 0.942871 27.348C0.942871 28.4029 1.16119 29.4463 1.58408 30.4126C2.00698 31.379 2.6253 32.2473 3.40015 32.9631C4.17499 33.6788 5.08959 34.2264 6.08639 34.5715C7.08318 34.9165 8.14061 35.0516 9.19213 34.968V41.88C9.1953 43.2317 9.73363 44.527 10.6894 45.4828C11.6451 46.4385 12.9405 46.9769 14.2921 46.98H42.0001C43.3518 46.9769 44.6471 46.4385 45.6029 45.4828C46.5586 44.527 47.097 43.2317 47.1001 41.88V14.172C47.097 12.8204 46.5586 11.525 45.6029 10.5693C44.6471 9.61354 43.3518 9.0752 42.0001 9.07203ZM44.1001 41.88C44.097 42.436 43.8747 42.9683 43.4816 43.3615C43.0884 43.7546 42.5561 43.9769 42.0001 43.98H14.2921C13.7361 43.9769 13.2038 43.7546 12.8107 43.3615C12.4175 42.9683 12.1953 42.436 12.1921 41.88V33.096C12.1857 32.8592 12.1237 32.6273 12.0111 32.4188C11.8985 32.2104 11.7386 32.0313 11.5441 31.896C11.2922 31.7263 10.9959 31.6345 10.6921 31.632C10.5121 31.6357 10.3339 31.6682 10.1641 31.728C9.38335 32.0204 8.53827 32.0971 7.71761 31.9502C6.89694 31.8033 6.13095 31.4382 5.50003 30.8932C4.86912 30.3482 4.39655 29.6435 4.13193 28.8529C3.86731 28.0623 3.8204 27.215 3.99613 26.4C4.13505 25.7469 4.4132 25.1314 4.81161 24.5955C5.21001 24.0596 5.7193 23.6159 6.30474 23.2947C6.89017 22.9735 7.538 22.7824 8.20402 22.7343C8.87005 22.6862 9.53861 22.7823 10.1641 23.016C10.3921 23.0988 10.6366 23.1255 10.8771 23.0939C11.1175 23.0623 11.3469 22.9734 11.5457 22.8345C11.7446 22.6957 11.9071 22.511 12.0196 22.2962C12.1321 22.0813 12.1913 21.8426 12.1921 21.6V14.172C12.1921 13.6151 12.4134 13.0809 12.8072 12.6871C13.201 12.2933 13.7352 12.072 14.2921 12.072H22.3321C22.5708 12.0739 22.8064 12.0183 23.0191 11.91C23.2318 11.8017 23.4153 11.6438 23.5542 11.4497C23.693 11.2555 23.7831 11.0308 23.8169 10.7945C23.8506 10.5582 23.8271 10.3173 23.7481 10.092C23.5915 9.60734 23.5106 9.1014 23.5081 8.59203C23.5068 7.91707 23.6527 7.24994 23.9355 6.63709C24.2183 6.02424 24.6313 5.48041 25.1458 5.04347C25.6602 4.60653 26.2637 4.28698 26.9143 4.10707C27.5648 3.92716 28.2468 3.89122 28.9126 4.00176C29.5785 4.11229 30.2122 4.36664 30.7698 4.74709C31.3273 5.12754 31.7952 5.62494 32.1408 6.20467C32.4865 6.78439 32.7017 7.4325 32.7713 8.10386C32.841 8.77522 32.7634 9.4537 32.5441 10.092C32.4652 10.3173 32.4416 10.5582 32.4754 10.7945C32.5091 11.0308 32.5992 11.2555 32.7381 11.4497C32.8769 11.6438 33.0604 11.8017 33.2731 11.91C33.4858 12.0183 33.7214 12.0739 33.9601 12.072H42.0001C42.5571 12.072 43.0912 12.2933 43.4851 12.6871C43.8789 13.0809 44.1001 13.6151 44.1001 14.172V41.88Z",fill:J.fillColor}),t.a.createElement("path",{d:"M35.9999 25.812H29.9999V20.4C29.9999 20.0022 29.8418 19.6207 29.5605 19.3394C29.2792 19.0581 28.8977 18.9 28.4999 18.9C28.102 18.9 27.7205 19.0581 27.4392 19.3394C27.1579 19.6207 26.9999 20.0022 26.9999 20.4V25.812H21.5999C21.2267 25.8455 20.8796 26.0174 20.6269 26.2939C20.3741 26.5703 20.2339 26.9314 20.2339 27.306C20.2339 27.6806 20.3741 28.0417 20.6269 28.3182C20.8796 28.5947 21.2267 28.7666 21.5999 28.8H27.0119V34.8C27.0453 35.1731 27.2172 35.5202 27.4937 35.773C27.7702 36.0258 28.1312 36.166 28.5059 36.166C28.8805 36.166 29.2415 36.0258 29.518 35.773C29.7945 35.5202 29.9664 35.1731 29.9999 34.8V28.8H35.9999C36.3977 28.8 36.7792 28.642 37.0605 28.3607C37.3418 28.0794 37.4999 27.6978 37.4999 27.3C37.4999 26.9022 37.3418 26.5207 37.0605 26.2394C36.7792 25.9581 36.3977 25.8 35.9999 25.8V25.812Z",fill:J.fillColor}))),M=t.a.memo(J=>t.a.createElement("svg",{width:"48",height:"48",viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:J.className},t.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M11.186 4c.923 0 1.671.748 1.671 1.671v3.343H16.2a1.671 1.671 0 0 1 0 3.343h-3.343V15.7a1.671 1.671 0 1 1-3.342 0v-3.343H6.17a1.671 1.671 0 1 1 0-3.343h3.344V5.671c0-.923.748-1.671 1.671-1.671zm11.7 1.114a1.671 1.671 0 0 0 0 3.343h12.257a5.014 5.014 0 0 1 5.014 5.014V25.73H29.571a3.343 3.343 0 0 0-3.342 3.342v10.586H13.972a5.014 5.014 0 0 1-5.015-5.014V22.386a1.671 1.671 0 0 0-3.342 0v12.257A8.357 8.357 0 0 0 13.972 43h12.782a6.128 6.128 0 0 0 4.333-1.795l10.618-10.618a6.129 6.129 0 0 0 1.795-4.334V13.471a8.357 8.357 0 0 0-8.357-8.357H22.886zm6.685 32.88 8.922-8.923h-8.922v8.922z",fill:"#C03765"}))),W=t.a.memo(J=>t.a.createElement("svg",{width:"48",height:"48",viewBox:"0 0 48 48",xmlns:"http://www.w3.org/2000/svg",className:J.className},t.a.createElement("path",{d:"M16.3802 47.1C15.9184 47.0979 15.4643 46.9814 15.0584 46.7609C14.6526 46.5405 14.3077 46.2229 14.0545 45.8366C13.8013 45.4504 13.6478 45.0074 13.6076 44.5473C13.5674 44.0872 13.6419 43.6243 13.8242 43.2L20.1362 28.8H13.2002C12.5133 28.8042 11.8364 28.6345 11.2328 28.3065C10.6291 27.9785 10.1184 27.503 9.74819 26.9243C9.37797 26.3456 9.16034 25.6826 9.11558 24.9971C9.07082 24.3116 9.2004 23.6259 9.49222 23.004L18.6242 3.27598C18.9491 2.56403 19.4708 1.95983 20.1278 1.5346C20.7848 1.10937 21.5497 0.880851 22.3322 0.875977H31.9322C32.4036 0.876886 32.8671 0.996961 33.2797 1.22504C33.6922 1.45312 34.0404 1.7818 34.2918 2.18053C34.5433 2.57926 34.6898 3.03509 34.7179 3.50564C34.7459 3.9762 34.6545 4.44621 34.4522 4.87198L28.0802 18.192H36.0002C36.8049 18.1892 37.5925 18.4243 38.2638 18.868C38.9352 19.3116 39.4604 19.9438 39.7733 20.6852C40.0863 21.4265 40.173 22.2439 40.0227 23.0344C39.8723 23.8249 39.4915 24.5533 38.9282 25.128L18.3842 46.248C18.1242 46.5168 17.8128 46.7307 17.4686 46.8771C17.1244 47.0234 16.7543 47.0992 16.3802 47.1ZM22.4042 25.824C22.6542 25.8253 22.8759 25.8525 23.0954 25.972C23.3149 26.0916 23.5014 26.2637 23.6381 26.4729C23.7748 26.6821 23.8576 26.922 23.8789 27.1711C23.9002 27.4201 23.8594 27.6705 23.7602 27.9L17.0282 43.332L36.7442 23.04C36.9004 22.8873 37.0059 22.6904 37.0467 22.4758C37.0875 22.2612 37.0615 22.0393 36.9722 21.84C36.8901 21.6413 36.75 21.472 36.5702 21.3543C36.3903 21.2365 36.1791 21.1758 35.9642 21.18H25.7042C25.4509 21.1798 25.2016 21.116 24.9794 20.9944C24.7571 20.8728 24.569 20.6973 24.4322 20.484C24.3013 20.267 24.2253 20.0214 24.2107 19.7684C24.196 19.5154 24.2432 19.2626 24.3482 19.032L31.5482 3.88798H22.3322C22.1244 3.88807 21.921 3.94813 21.7465 4.06094C21.5719 4.17376 21.4337 4.33453 21.3482 4.52398L12.2402 24.288C12.1642 24.4511 12.1302 24.6306 12.1412 24.8103C12.1522 24.9899 12.2079 25.1639 12.3033 25.3165C12.3987 25.4692 12.5307 25.5955 12.6873 25.6841C12.844 25.7727 13.0203 25.8208 13.2002 25.824H22.4042Z",fill:J.fillColor}))),B=t.a.memo(J=>t.a.createElement("svg",{width:"48",height:"49",viewBox:"0 0 48 49",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:J.className},t.a.createElement("g",{clipPath:"url(#clip0)"},t.a.createElement("path",{d:"M39.6958 7.56802C37.8926 5.49468 35.6653 3.83255 33.1645 2.69394C30.6637 1.55533 27.9476 0.966766 25.1998 0.96802C24.3531 0.970215 23.5074 1.02633 22.6678 1.13602C19.4055 1.55428 16.3052 2.8036 13.6644 4.7642C11.0236 6.7248 8.93066 9.33093 7.58635 12.3327C6.24205 15.3345 5.69141 18.6313 5.98725 21.9071C6.28308 25.1828 7.41546 28.3276 9.27582 31.04L3.51582 38.444C2.84978 39.2971 2.43702 40.3203 2.32465 41.3968C2.21229 42.4732 2.40484 43.5596 2.88034 44.5319C3.35583 45.5041 4.09511 46.3231 5.01379 46.8953C5.93246 47.4676 6.99351 47.77 8.07582 47.768C8.95003 47.7691 9.81297 47.5709 10.599 47.1882C11.385 46.8056 12.0734 46.2488 12.6118 45.56L18.3598 38.24C21.4954 39.4291 24.8858 39.7846 28.1998 39.272C31.6122 38.7535 34.8217 37.3247 37.4906 35.1361C40.1594 32.9474 42.1889 30.0797 43.3655 26.8349C44.5421 23.5901 44.8222 20.0881 44.1764 16.6975C43.5306 13.3069 41.9828 10.1531 39.6958 7.56802ZM41.3518 22.424C40.8889 25.9022 39.3156 29.1381 36.866 31.6505C34.4163 34.1628 31.2212 35.8173 27.7558 36.368C26.9179 36.4962 26.0715 36.5604 25.2238 36.56C22.8604 36.5648 20.525 36.0486 18.3838 35.048C18.203 34.9647 18.0069 34.9197 17.8078 34.916C17.6164 34.9159 17.4274 34.959 17.2549 35.0421C17.0825 35.1253 16.931 35.2462 16.8118 35.396L10.2598 43.796C9.99082 44.1101 9.65524 44.3602 9.27746 44.5284C8.89968 44.6965 8.48919 44.7784 8.07582 44.768C7.55687 44.7676 7.04846 44.6214 6.60846 44.3463C6.16846 44.0711 5.81454 43.678 5.58697 43.2116C5.3594 42.7452 5.26732 42.2243 5.32121 41.7081C5.37511 41.192 5.57281 40.7013 5.89182 40.292L12.4558 31.892C12.631 31.6652 12.726 31.3866 12.726 31.1C12.726 30.8134 12.631 30.5349 12.4558 30.308C10.8025 28.1963 9.69728 25.7084 9.23848 23.0661C8.77969 20.4237 8.98162 17.7088 9.82629 15.1634C10.671 12.618 12.1321 10.321 14.0796 8.47713C16.0271 6.63324 18.4005 5.2997 20.9882 4.59532C23.576 3.89093 26.2978 3.83757 28.9112 4.43999C31.5245 5.04241 33.9483 6.2819 35.9666 8.04804C37.9849 9.81418 39.535 12.0521 40.4787 14.5625C41.4225 17.0729 41.7307 19.7777 41.3758 22.436L41.3518 22.424Z",fill:J.fillColor}),t.a.createElement("path",{d:"M25.2 9.13989C22.4134 9.14529 19.7304 10.1964 17.6816 12.0852C15.6328 13.974 14.3675 16.5629 14.136 19.3399H12.336C12.2353 19.3384 12.1364 19.3672 12.0522 19.4225C11.968 19.4777 11.9022 19.557 11.8635 19.65C11.8247 19.743 11.8147 19.8455 11.8348 19.9442C11.8549 20.0429 11.9041 20.1334 11.976 20.2039L15.168 23.4079C15.2644 23.5017 15.3936 23.5542 15.528 23.5542C15.6625 23.5542 15.7917 23.5017 15.888 23.4079L19.092 20.2039C19.164 20.1334 19.2132 20.0429 19.2333 19.9442C19.2533 19.8455 19.2433 19.743 19.2046 19.65C19.1658 19.557 19.1001 19.4777 19.0159 19.4225C18.9316 19.3672 18.8328 19.3384 18.732 19.3399H17.088C17.3057 17.4537 18.18 15.7042 19.5579 14.3979C20.9357 13.0915 22.7292 12.3115 24.6243 12.1945C26.5194 12.0775 28.3953 12.631 29.9233 13.7579C31.4514 14.8849 32.5343 16.5135 32.9823 18.3586C33.4303 20.2037 33.215 22.1476 32.3739 23.8499C31.5328 25.5521 30.1197 26.9042 28.382 27.6693C26.6443 28.4345 24.6928 28.5639 22.8693 28.0349C21.0458 27.5059 19.4665 26.3522 18.408 24.7759C18.1862 24.4473 17.8432 24.22 17.4542 24.1435C17.0652 24.0671 16.6618 24.1477 16.332 24.3679C16.0027 24.592 15.7751 24.937 15.6987 25.328C15.6223 25.719 15.7033 26.1243 15.924 26.4559C16.9937 28.0452 18.456 29.3311 20.1692 30.1885C21.8823 31.046 23.788 31.446 25.7014 31.3497C27.6147 31.2534 29.4706 30.6641 31.089 29.6389C32.7074 28.6138 34.0333 27.1876 34.9379 25.4989C35.8425 23.8102 36.2952 21.9163 36.2519 20.001C36.2087 18.0857 35.671 16.2142 34.6911 14.568C33.7112 12.9218 32.3224 11.5569 30.6594 10.6058C28.9964 9.65475 27.1158 9.14977 25.2 9.13989Z",fill:J.fillColor})),t.a.createElement("defs",null,t.a.createElement("clipPath",{id:"clip0"},t.a.createElement("rect",{width:"48",height:"48",fill:"white",transform:"translate(0 0.36792)"}))))),z=t.a.memo(J=>t.a.createElement("svg",{width:"48",height:"49",viewBox:"0 0 48 49",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:J.className},t.a.createElement("path",{d:"M38.4 4.96392H25.116L26.256 3.76392C26.5107 3.47743 26.646 3.10432 26.6342 2.72118C26.6224 2.33804 26.4644 1.97395 26.1926 1.70367C25.9207 1.43339 25.5558 1.27743 25.1726 1.26781C24.7894 1.25818 24.417 1.39563 24.132 1.65192L20.532 5.25192C20.3923 5.39126 20.2815 5.55679 20.2059 5.73902C20.1302 5.92126 20.0913 6.11662 20.0913 6.31392C20.0913 6.51122 20.1302 6.70659 20.2059 6.88882C20.2815 7.07106 20.3923 7.23659 20.532 7.37592L24.132 10.9759C24.2718 11.1169 24.4381 11.2288 24.6215 11.305C24.8048 11.3812 25.0014 11.4203 25.2 11.4199C25.3969 11.4214 25.5921 11.3828 25.7736 11.3065C25.9552 11.2301 26.1193 11.1177 26.256 10.9759C26.3953 10.8376 26.5059 10.6731 26.5813 10.4919C26.6568 10.3106 26.6957 10.1162 26.6957 9.91992C26.6957 9.7236 26.6568 9.52922 26.5813 9.34799C26.5059 9.16675 26.3953 9.00223 26.256 8.86392L25.308 7.91592H38.4C38.956 7.91907 39.4883 8.14133 39.8814 8.53448C40.2746 8.92762 40.4968 9.45994 40.5 10.0159V38.7679C40.4968 39.3239 40.2746 39.8562 39.8814 40.2494C39.4883 40.6425 38.956 40.8648 38.4 40.8679H32.4C32.0022 40.8679 31.6206 41.026 31.3393 41.3073C31.058 41.5886 30.9 41.9701 30.9 42.3679C30.9 42.7657 31.058 43.1473 31.3393 43.4286C31.6206 43.7099 32.0022 43.8679 32.4 43.8679H38.4C39.7516 43.8648 41.047 43.3264 42.0027 42.3707C42.9585 41.4149 43.4968 40.1196 43.5 38.7679V10.0639C43.4968 8.71229 42.9585 7.41693 42.0027 6.46118C41.047 5.50543 39.7516 4.96709 38.4 4.96392Z",fill:J.fillColor}),t.a.createElement("path",{d:"M23.832 37.7119C23.547 37.4556 23.1746 37.3181 22.7914 37.3278C22.4082 37.3374 22.0432 37.4933 21.7714 37.7636C21.4996 38.0339 21.3416 38.398 21.3298 38.7811C21.318 39.1643 21.4533 39.5374 21.708 39.8239L22.752 40.8679H9.6C9.04402 40.8647 8.5117 40.6425 8.11856 40.2493C7.72541 39.8562 7.50315 39.3239 7.5 38.7679V10.0639C7.50315 9.50788 7.72541 8.97557 8.11856 8.58242C8.5117 8.18928 9.04402 7.96702 9.6 7.96387H15.6C15.9978 7.96387 16.3794 7.80583 16.6607 7.52453C16.942 7.24322 17.1 6.86169 17.1 6.46387C17.1 6.06604 16.942 5.68451 16.6607 5.40321C16.3794 5.1219 15.9978 4.96387 15.6 4.96387H9.6C8.24837 4.96704 6.95301 5.50537 5.99726 6.46112C5.04151 7.41687 4.50317 8.71224 4.5 10.0639V38.7679C4.50317 40.1195 5.04151 41.4149 5.99726 42.3706C6.95301 43.3264 8.24837 43.8647 9.6 43.8679H22.8L21.756 44.9119C21.5488 45.1209 21.4076 45.3862 21.3501 45.6749C21.2926 45.9635 21.3212 46.2627 21.4325 46.5352C21.5438 46.8077 21.7328 47.0414 21.976 47.2072C22.2191 47.3731 22.5057 47.4637 22.8 47.4679C22.9969 47.4693 23.1921 47.4307 23.3736 47.3544C23.5552 47.2781 23.7193 47.1656 23.856 47.0239L27.456 43.4239C27.5957 43.2845 27.7065 43.119 27.7821 42.9368C27.8578 42.7545 27.8967 42.5592 27.8967 42.3619C27.8967 42.1646 27.8578 41.9692 27.7821 41.787C27.7065 41.6047 27.5957 41.4392 27.456 41.2999L23.832 37.7119Z",fill:J.fillColor}),t.a.createElement("path",{d:"M22.2841 14.396C21.9099 14.3471 21.5312 14.4446 21.2271 14.6682C20.923 14.8918 20.717 15.2242 20.6521 15.596L20.2561 18.368H16.7281C16.3462 18.368 15.9799 18.5197 15.7099 18.7898C15.4398 19.0598 15.2881 19.4261 15.2881 19.808C15.2881 20.1899 15.4398 20.5562 15.7099 20.8262C15.9799 21.0963 16.3462 21.248 16.7281 21.248H19.8361L19.0801 26.36H15.6001C15.4008 26.3417 15.1998 26.3652 15.0101 26.429C14.8203 26.4928 14.646 26.5954 14.4981 26.7303C14.3503 26.8653 14.2322 27.0296 14.1513 27.2127C14.0705 27.3958 14.0288 27.5938 14.0288 27.794C14.0288 27.9942 14.0705 28.1921 14.1513 28.3753C14.2322 28.5584 14.3503 28.7227 14.4981 28.8576C14.646 28.9926 14.8203 29.0952 15.0101 29.159C15.1998 29.2227 15.4008 29.2462 15.6001 29.228H18.6241L18.1561 32.768C18.1041 33.1427 18.2004 33.523 18.4245 33.8278C18.6487 34.1326 18.9829 34.3379 19.3561 34.4H19.5721C19.9118 34.3991 20.2401 34.2782 20.4993 34.0586C20.7584 33.839 20.9315 33.5349 20.9881 33.2L21.6001 29.228H25.3921L24.8401 32.768C24.7881 33.1427 24.8844 33.523 25.1085 33.8278C25.3327 34.1326 25.6669 34.3379 26.0401 34.4H26.2561C26.5958 34.3991 26.9241 34.2782 27.1833 34.0586C27.4424 33.839 27.6155 33.5349 27.6721 33.2L28.2481 29.3H31.2601C31.6178 29.2672 31.9503 29.102 32.1925 28.8367C32.4346 28.5714 32.5688 28.2252 32.5688 27.866C32.5688 27.5068 32.4346 27.1606 32.1925 26.8953C31.9503 26.63 31.6178 26.4647 31.2601 26.432H28.6801L29.4241 21.32H32.4001C32.7916 21.32 33.167 21.1645 33.4438 20.8877C33.7206 20.6109 33.8761 20.2355 33.8761 19.844C33.8761 19.4525 33.7206 19.0771 33.4438 18.8003C33.167 18.5235 32.7916 18.368 32.4001 18.368H29.8801L30.2281 16.028C30.2802 15.6532 30.1839 15.273 29.9597 14.9682C29.7356 14.6634 29.4013 14.4581 29.0281 14.396C28.6548 14.3442 28.276 14.4408 27.9731 14.6652C27.6702 14.8896 27.4674 15.2237 27.4081 15.596L26.9401 18.368H23.1601L23.4961 16.028C23.5511 15.651 23.4544 15.2675 23.2273 14.9616C23.0001 14.6557 22.661 14.4523 22.2841 14.396ZM26.5201 21.248L25.7761 26.36H21.9841L22.8001 21.248H26.5201Z",fill:J.fillColor}))),V=t.a.memo(J=>t.a.createElement("svg",{width:"48",height:"49",viewBox:"0 0 48 49",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:J.className},t.a.createElement("g",{clipPath:"url(#clip0)"},t.a.createElement("path",{d:"M26.6159 29.9C26.6149 29.3387 26.4692 28.7872 26.1928 28.2987C25.9165 27.8102 25.5188 27.4012 25.0383 27.1112C24.5577 26.8212 24.0105 26.66 23.4495 26.6432C22.8885 26.6265 22.3326 26.7546 21.8356 27.0154C21.3386 27.2761 20.9172 27.6606 20.6121 28.1317C20.3071 28.6028 20.1286 29.1446 20.0941 29.7048C20.0595 30.265 20.17 30.8247 20.4149 31.3297C20.6597 31.8348 21.0307 32.2681 21.4919 32.588L20.9279 35.432C20.8469 35.7919 20.8479 36.1654 20.9308 36.5249C21.0138 36.8844 21.1765 37.2206 21.4069 37.5087C21.6374 37.7968 21.9297 38.0294 22.2622 38.1892C22.5948 38.349 22.959 38.432 23.3279 38.432C23.6968 38.432 24.061 38.349 24.3935 38.1892C24.726 38.0294 25.0184 37.7968 25.2488 37.5087C25.4793 37.2206 25.642 36.8844 25.7249 36.5249C25.8079 36.1654 25.8089 35.7919 25.7279 35.432L25.1999 32.588C25.6362 32.2883 25.993 31.887 26.2397 31.4188C26.4864 30.9505 26.6155 30.4292 26.6159 29.9Z",fill:J.fillColor}),t.a.createElement("path",{d:"M35.0158 17.6359V12.9439C35.0659 11.3799 34.8012 9.82179 34.2373 8.36211C33.6734 6.90243 32.8219 5.57099 31.7332 4.4469C30.6446 3.32281 29.3412 2.42902 27.9003 1.81862C26.4594 1.20822 24.9106 0.893677 23.3458 0.893677C21.781 0.893677 20.2321 1.20822 18.7913 1.81862C17.3504 2.42902 16.0469 3.32281 14.9583 4.4469C13.8697 5.57099 13.0181 6.90243 12.4543 8.36211C11.8904 9.82179 11.6256 11.3799 11.6758 12.9439V17.6359C10.5194 17.8685 9.47908 18.4938 8.73111 19.4058C7.98313 20.3178 7.57354 21.4604 7.57178 22.6399V42.3679C7.57178 43.7205 8.1091 45.0177 9.06553 45.9742C10.022 46.9306 11.3192 47.4679 12.6718 47.4679H34.0318C35.3834 47.4648 36.6788 46.9264 37.6345 45.9707C38.5903 45.0149 39.1286 43.7196 39.1318 42.3679V22.6399C39.1272 21.4594 38.7151 20.3166 37.9651 19.4048C37.2151 18.493 36.1733 17.8682 35.0158 17.6359ZM23.3518 4.26794C25.6507 4.27112 27.8544 5.1866 29.4789 6.81332C31.1034 8.44004 32.0158 10.645 32.0158 12.9439V17.5399H29.9278V12.9199C29.9278 11.1695 29.2324 9.49078 27.9947 8.25304C26.7569 7.0153 25.0782 6.31994 23.3278 6.31994C21.5774 6.31994 19.8986 7.0153 18.6609 8.25304C17.4231 9.49078 16.7278 11.1695 16.7278 12.9199V17.5399H14.6758V12.9439C14.6758 10.6429 15.5899 8.43615 17.2169 6.80908C18.844 5.18202 21.0508 4.26794 23.3518 4.26794ZM26.9518 17.5399H19.7518V12.9199C19.7518 11.9652 20.1311 11.0495 20.8062 10.3744C21.4813 9.69923 22.397 9.31994 23.3518 9.31994C24.3066 9.31994 25.2222 9.69923 25.8974 10.3744C26.5725 11.0495 26.9518 11.9652 26.9518 12.9199V17.5399ZM36.1318 42.3679C36.1286 42.9239 35.9064 43.4562 35.5132 43.8494C35.1201 44.2425 34.5878 44.4648 34.0318 44.4679H12.6718C12.1148 44.4679 11.5807 44.2467 11.1869 43.8529C10.793 43.459 10.5718 42.9249 10.5718 42.3679V22.6399C10.5718 22.083 10.793 21.5488 11.1869 21.155C11.5807 20.7612 12.1148 20.5399 12.6718 20.5399H34.0318C34.5887 20.5399 35.1229 20.7612 35.5167 21.155C35.9105 21.5488 36.1318 22.083 36.1318 22.6399V42.3679Z",fill:J.fillColor})),t.a.createElement("defs",null,t.a.createElement("clipPath",{id:"clip0"},t.a.createElement("rect",{width:"48",height:"48",fill:"white",transform:"translate(0 0.36792)"}))))),Q=t.a.memo(J=>t.a.createElement("svg",{width:"48",height:"48",viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:J.className},t.a.createElement("path",{d:"M13.2 42.9842C11.856 42.9842 10.608 42.6562 9.45602 42.0002C8.32002 41.3602 7.39202 40.4882 6.67203 39.3842C5.95202 38.2802 5.52802 37.0802 5.40002 35.7842V24.3842C5.40002 20.6882 6.20802 17.3442 7.82402 14.3522C9.45603 11.3442 11.688 8.98417 14.52 7.27217C17.368 5.54418 20.528 4.68018 24 4.68018C27.424 4.68018 30.552 5.55218 33.384 7.29618C36.232 9.04017 38.48 11.4162 40.128 14.4242C41.776 17.4322 42.6 20.7522 42.6 24.3842V35.5922C42.52 36.9362 42.12 38.1762 41.4 39.3122C40.696 40.4482 39.76 41.3442 38.592 42.0002C37.44 42.6562 36.184 42.9842 34.824 42.9842H33.312C32.512 42.9842 31.768 42.7842 31.08 42.3842C30.392 41.9842 29.848 41.4402 29.448 40.7522C29.048 40.0802 28.848 39.3362 28.848 38.5202V28.9682C28.848 28.1682 29.048 27.4322 29.448 26.7602C29.848 26.0722 30.384 25.5282 31.056 25.1282C31.744 24.7282 32.496 24.5282 33.312 24.5282C34.848 24.5282 35.976 24.6082 36.696 24.7682C37.432 24.9122 38.2 25.2482 39 25.7762V24.3842C39 21.4242 38.336 18.7122 37.008 16.2482C35.68 13.7842 33.872 11.8402 31.584 10.4162C29.296 8.99218 26.768 8.28018 24 8.28018C21.136 8.28018 18.56 8.97618 16.272 10.3682C14 11.7442 12.216 13.6562 10.92 16.1042C9.64002 18.5522 9.00003 21.3122 9.00003 24.3842V25.7762C9.83203 25.2482 10.608 24.9122 11.328 24.7682C12.064 24.6082 13.192 24.5282 14.712 24.5282C15.512 24.5282 16.256 24.7282 16.944 25.1282C17.632 25.5282 18.176 26.0722 18.576 26.7602C18.976 27.4322 19.176 28.1762 19.176 28.9922V38.5442C19.176 39.3442 18.976 40.0802 18.576 40.7522C18.176 41.4402 17.632 41.9842 16.944 42.3842C16.256 42.7842 15.512 42.9842 14.712 42.9842H13.2ZM14.712 39.3842C14.936 39.3842 15.136 39.3042 15.312 39.1442C15.488 38.9682 15.576 38.7682 15.576 38.5442V28.9922C15.576 28.7522 15.488 28.5522 15.312 28.3922C15.136 28.2162 14.936 28.1282 14.712 28.1282H13.2C12.448 28.1282 11.744 28.3202 11.088 28.7042C10.448 29.0722 9.93603 29.5762 9.55203 30.2162C9.18403 30.8562 9.00003 31.5522 9.00003 32.3042V35.1842C9.00003 35.9522 9.18403 36.6562 9.55203 37.2962C9.93603 37.9362 10.448 38.4482 11.088 38.8322C11.744 39.2002 12.448 39.3842 13.2 39.3842H14.712ZM34.824 39.3842C35.576 39.3842 36.272 39.2002 36.912 38.8322C37.552 38.4482 38.056 37.9362 38.424 37.2962C38.808 36.6562 39 35.9522 39 35.1842V32.3282C39 31.5602 38.808 30.8562 38.424 30.2162C38.056 29.5762 37.552 29.0722 36.912 28.7042C36.272 28.3202 35.568 28.1282 34.8 28.1282H33.312C33.088 28.1282 32.888 28.2162 32.712 28.3922C32.536 28.5522 32.448 28.7442 32.448 28.9682V38.5202C32.448 38.7602 32.536 38.9682 32.712 39.1442C32.888 39.3042 33.088 39.3842 33.312 39.3842H34.824Z",fill:J.fillColor})));function ee(){return ee=Object.assign||function(J){for(var H=1;H<arguments.length;H++){var Z=arguments[H];for(var q in Z)Object.prototype.hasOwnProperty.call(Z,q)&&(J[q]=Z[q])}return J},ee.apply(this,arguments)}v(ee,"_extends");const te=new a.b("paid_onboarding"),le="Ppaid-benefits",Oe=v(()=>{const J=Object(r.a)(i.u),H=Object(c.a)(),Z=`/img/plan_benefits/benefit_cards/messages${H==="en-US"?"":`.${H}`}`,q="/img/plan_benefits/benefit_cards/security";return[{ctaURL:`https://${Object(o.l)()}/features/canvas`,name:"canvas",background:"#EEBA34",heading:J?te.t("SLACK CANVAS"):"",videoPoster:`/marketing/img/canvas/img-documentation${H==="en-US"?"":`.${H}`}`,videoSrc:`/marketing/img/canvas/video-documentation${H==="en-US"?"":`.${H}`}`,title:J?te.t("Stay on the same page"):"",subtitle:J?te.t("Unlock unlimited canvases to create product briefs, onboarding docs, and more right in Slack."):"",icon:M,isVisible:J},{ctaURL:`https://${Object(o.l)()}/help/articles/115002422943`,name:"unlimited_messages",background:"#06AF72",heading:te.t("UNLIMITED MESSAGES"),imageSrc:`${Z}@2x.png`,srcSet:`${Z}.png 1x, ${Z}@2x.png 2x`,title:te.t("Find the information you need, when you need it"),subtitle:te.t("An unlimited archive lets you see and search all of your team's public messages and files."),icon:B},{ctaURL:`https://${Object(o.l)()}/digital-hq#huddles`,name:"huddles",videoSrc:`/marketing/img/digital-hq/videos/slack-huddles/slack-huddles${H==="en-US"?"":`.${H}`}`,videoExtension:"gif",background:"#FDD37F",heading:te.t("HUDDLES"),title:te.t("Solve problems aloud as a group, in real time"),subtitle:te.t("When it\u2019s easier to talk things out together, try an audio-first huddle with more people \u2060\u2014 you can share your screen, annotate and enable live captions."),icon:Q},{ctaURL:`https://${Object(o.l)()}/resources/using-slack/setting-up-a-shared-channel`,name:"slack_connect",videoSrc:`/marketing/img/pricing/paid-vs-free/Streamline-communication${H==="en-US"?"":`.${H}`}`,background:"#67D3F4",heading:te.t("SLACK CONNECT"),title:te.t("Work with external organizations more easily"),subtitle:te.t("Slack Connect makes collaborating with external people and clients as fast and simple as working with in-house teams.",{fallbackHash:"b91e463b63ac14b759b0cd5bbdafe44f7e523b87"}),icon:z},{ctaURL:`https://${Object(o.l)()}/help/articles/202035138`,name:"apps",videoSrc:`/marketing/img/pricing/paid-vs-free/Build-trust${H==="en-US"?"":`.${H}`}`,background:"#E52167",heading:te.t("UNLIMITED APPS"),title:te.t("Connect all your apps and daily tools",{fallbackHash:"5c386e99165e9022af4559fe386b03e5c16514bb"}),subtitle:te.t("Schedule meetings, file tickets, track tasks, and more, by bringing the tools your team already uses into Slack.",{fallbackHash:"72deae79ecaa84ca80aae685718521cad7db421e"}),icon:R},{ctaURL:`https://${Object(o.l)()}/features/workflow-automation`,name:"workflows",videoSrc:`/marketing/img/pricing/paid-vs-free/Slack-WFB-TravelRequest${H==="en-US"?"":`.${H}`}`,background:"#06AF72",heading:te.t("WORKFLOWS"),title:te.t("Automate routine tasks \u2014 no technical skills required"),subtitle:te.t("With Workflow Builder, free up your team\u2019s time with automated workflows to triage requests, share statuses, and more."),icon:W},{ctaURL:`https://${Object(o.l)()}/trust/security`,name:"security",imageSrc:`${q}@2x.png`,srcSet:`${q}.png 1x, ${q}@2x.png 2x`,background:"#3ECCF3",heading:te.t("ADVANCED SECURITY"),title:te.t("Enterprise-grade security and administration"),subtitle:te.t("Advanced controls, plus Slack\u2019s default encryption, help you keep data secure \u2014 even in the most regulated industries."),icon:V}]},"usePaidBenefitsCardData"),he=v(J=>J.filter(H=>H.isVisible!==!1).map((H,Z)=>t.a.createElement("div",{key:H.name},t.a.createElement(S,ee({},H,{shouldDisplayReverse:Z%2!==0})))),"renderPaidBenefitsCards");he.displayName="renderPaidBenefitsCards";const Ee=v(()=>he(Oe()),"useRenderPaidBenefitsCards"),ge={renderPaidBenefitsCards:he,usePaidBenefitsCardData:Oe}},TpDV:function(K,n,e){K.exports=e.p+"slackbot_sad_surprise_72-ffaf19c.png"},TsI9:function(K,n,e){K.exports=e.p+"ava_0022-24-21468d4.png"},Tsh7:function(K,n,e){"use strict";e.d(n,"a",function(){return I}),e.d(n,"b",function(){return C}),e.d(n,"e",function(){return A});var s=e("q1tI"),t=e.n(s),a=e("wSSu"),r=e.n(a),c=e("vJtL"),o=e("i5Ig"),i=e("2SCj"),l=e("68qM"),u=e("QYtq"),f=e("x5Wd"),d=e("WSQ4"),O=e("lYQS"),m=e("khnw"),g=e("0cEW"),E=e("DDZn"),p=e("1VgO"),h=e("Z29U"),_=e("eLtP");e.d(n,"c",function(){return h.a});function b(){return b=Object.assign||function(W){for(var U=1;U<arguments.length;U++){var B=arguments[U];for(var Y in B)Object.prototype.hasOwnProperty.call(B,Y)&&(W[Y]=B[Y])}return W},b.apply(this,arguments)}v(b,"_extends");const I=300,C=60,y=3,P=3;let T=v(class{track(U){this.instance&&U!==this.instance&&this.instance.hide(),this.instance=U}stopTracking(U){U===this.instance&&(this.instance=void 0)}hideActive(){this.instance&&(this.instance.hide(),this.instance=void 0)}},"TooltipManager");const S=new T;function A(){S.hideActive()}v(A,"hideVisibleTooltip");function R(W){const U=v(B=>((B==null?void 0:B.offsetWidth)||0)<((B==null?void 0:B.scrollWidth)||0)||((B==null?void 0:B.offsetHeight)||0)<((B==null?void 0:B.scrollHeight)||0),"retIsTruncated");if(W!=null&&W.querySelector){const B=W.querySelector(".c-truncate");if(B)return U(B)}return U(W)}v(R,"isElementTruncated");function x(W,U){return W.width.toFixed(2)===(U==null?void 0:U.width.toFixed(2))&&W.height.toFixed(2)===(U==null?void 0:U.height.toFixed(2))&&W.left.toFixed(2)===(U==null?void 0:U.left.toFixed(2))&&W.right.toFixed(2)===(U==null?void 0:U.right.toFixed(2))&&W.top.toFixed(2)===(U==null?void 0:U.top.toFixed(2))&&W.bottom.toFixed(2)===(U==null?void 0:U.bottom.toFixed(2))}v(x,"areBoundsEqual");const M=t.a.forwardRef((W,U)=>{let{children:B,position:Y=g.b.Top,delay:z=150,shouldFade:F=!0,tip:V,tipClassName:L,tipArrowOffset:Q,"data-qa":ee,status:te=h.a.Info,offsetX:le=0,offsetY:Oe=0,zIndex:he="menu",shouldForceVisible:Ee=!1,shouldOnlyShowWhenTruncated:ge=!1,onShow:J,onHide:H,onClick:Z,maxWidth:q,hideFromScreenReader:k=!1,automaticallyPositionTip:se=!0,tipAnchorRef:re,...X}=W;const w=t.a.Children.only(B),{window:ce}=Object(s.useContext)(d.a),ie=Object(s.useRef)(),oe=Object(s.useRef)(null),me=Object(s.useRef)(),[ue,_e]=Object(s.useState)(!1),[be,Ae]=Object(s.useState)(!1),[Ce,De]=Object(s.useState)(!1),[Pe,Ue]=Object(s.useState)(),ae=Object(s.useContext)(f.a),ne=R(me.current),Ie=ne||!ge,Te=Ee||ue||be,Me=!!Pe&&Ie,Ne=Object(s.useMemo)(()=>Object(p.b)(oe,U),[U]),He=Object(s.useCallback)((Xt,cn)=>se?{top:Xt,left:cn}:void 0,[se]),Et=Object(s.useMemo)(()=>`sk-tooltip-${Object(O.a)()}`,[]),Je=Object(s.useCallback)(()=>{De(!0)},[]),[qe,ke]=Object(i.a)(Je),rt=Object(s.useMemo)(()=>({id:Et,hide:()=>{ke(),De(!1),H==null||H()}}),[Et,ke,H]),pe=Object(s.useCallback)(()=>{ke(),S.stopTracking(rt)},[rt,ke]),je=Object(s.useCallback)(()=>{Ee?De(!0):qe(z),J==null||J({isTruncated:ne}),S.track(rt)},[z,Ee,qe,rt,ne,J]),xe=Object(s.useCallback)(()=>{pe(),Ce&&(De(!1),H==null||H())},[pe,Ce,H]),ze=Object(s.useCallback)(Xt=>{w.props.onKeyDown&&w.props.onKeyDown(Xt),Xt.which===m.f&&Ce&&ae&&(Xt.nativeEvent.stopImmediatePropagation(),Xt.stopPropagation(),De(!1))},[De,Ce,ae,w.props]),st=Object(s.useCallback)(Xt=>{w.props.onMouseEnter&&w.props.onMouseEnter(Xt),_e(!0),Ce||(Xt.persist(),ie.current=Xt)},[w.props,Ce]),ct=Object(s.useCallback)(Xt=>{w.props.onFocus&&(Xt.persist(),w.props.onFocus(Xt)),ae&&Ae(!0)},[w.props,ae]),dt=Object(s.useCallback)(Xt=>{w.props.onMouseLeave&&(Xt.persist(),w.props.onMouseLeave(Xt)),_e(!1),ie.current=void 0},[w.props]),bt=Object(s.useCallback)(Xt=>{w.props.onBlur&&(Xt.persist(),w.props.onBlur(Xt)),Ae(!1)},[w.props]);Object(s.useEffect)(v(function(){me.current||(me.current=Object(a.findDOMNode)(oe.current))},"syncChildDOMNodeRef")),Object(l.a)(v(function(){let cn=me.current;if(re!=null&&re.current&&(cn=Object(a.findDOMNode)(re.current)),Te&&cn){const mn=Pe,In=cn.getClientRects();let pt=In[0];if(ie.current){const it=ie.current,ft=Array.from(In).find(Ke=>it.clientY>=Ke.top&&it.clientY<=Ke.bottom&&it.clientX>=Ke.left&&it.clientX<=Ke.right);ft&&(pt=ft)}if(!pt)return;const Tt=ce.scrollX||ce.pageXOffset,Lt=ce.scrollY||ce.pageYOffset,gt={height:pt.height,width:pt.width,left:pt.left+Tt,right:pt.right+Tt,top:pt.top+Lt,bottom:pt.bottom+Lt};x(gt,mn)||Ue(gt)}},"maybeCalculateContentBounds"),[Te,re]),Object(l.a)(v(function(){Me&&Te?je():xe()},"showOrHideTooltip"),[Me,Te]);const Ft=w.props["aria-label"],Bt=Object(s.useMemo)(()=>Ft===V||k?o.b:{"aria-describedby":Ce?Et:void 0},[Ft,k,Ce,V,Et]),at=Object(s.useMemo)(()=>t.a.cloneElement(w,{...X,...w.props,...Bt,onClick:Z||w.props.onClick,onFocus:ct,onBlur:bt,onKeyDown:ze,onMouseEnter:st,onMouseLeave:dt,"data-sk":"tooltip_parent"}),[Bt,w,bt,Z,ct,ze,st,dt,X]),Ht=Object(s.useMemo)(()=>{if(Q)return Q;if(Pe)return Pe.width/2},[Pe,Q]),Wt=Object(s.useMemo)(()=>({position:Y,arrowOffset:Ht,status:te,className:L,"data-qa":ee,id:Et,maxWidth:q}),[ee,q,Y,te,L,Ht,Et]),yt=Object(s.useMemo)(()=>Ce?t.a.createElement(u.a,{isOpen:Ce,position:Y,targetBounds:Pe,overlayClassName:"c-popover c-popover--no-pointer",offsetX:le,offsetY:Oe,allowanceX:y,allowanceY:P,key:"tooltip-popover",zIndex:he,shouldFocusAfterRender:!1,shouldFade:F,ariaHideApp:!1,ariaHidden:!0,tryOppositePosition:!0},Xt=>{let{position:cn,top:mn,left:In,targetBounds:pt}=Xt;const Tt=Object(c.a)(V)?V({hasKeyboardFocus:ae}):V;return t.a.createElement(h.b,b({},Wt,{position:cn,tipBounds:He(mn,In),targetBounds:pt}),Tt)}):null,[Ce,Pe,Y,le,Oe,he,F,V,ae,Wt,He]);return t.a.createElement(t.a.Fragment,null,t.a.createElement(E.a,{ref:Ne},at),yt)});M.displayName="Tooltip",n.d=M,Object.defineProperty({isElementTruncated:R,areBoundsEqual:x},"isElementTruncated",{get:()=>R,set:W=>{R=W}})},Tv5Z:function(K,n,e){K.exports=e.p+"slackbot_frowny_360-1cb4740.png"},TwEf:function(K,n,e){"use strict";var s=e("n3tL"),t=e("WCk1"),a=e("2XU3"),r=e("/Glb"),c=e("Z7Ay"),o=e("Lgge"),i=e("Ba7O");let l=!1;const u=Object(t.a)("Sends a message",function(d,O){let{message:m,traceId:g,parentSpanId:E}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const p={...m},h=O();return m.blocks&&typeof m.blocks=="object"&&(p.blocks=JSON.stringify(m.blocks)),m.unfurl&&typeof m.unfurl=="object"&&(p.unfurl=JSON.stringify(m.unfurl)),l?new o.a((_,b)=>{setTimeout(()=>{b(new Error({data:{error:"testing"},message:"testing"}))},2e3)}):Object(i.a)(h)?d(Object(r.a)({method:"chat.postMessage",args:p,reason:"webapp_message_send_offline",EXPEDITED:!0,traceId:g,parentSpanId:E})):d(Object(a.a)({method:"chat.postMessage",args:p,reason:"webapp_message_send",EXPEDITED:!0,traceId:g,parentSpanId:E}))});u.meta={name:"createFetcher",key:"createFetcherchatPostMessage",description:"Sends a message"},u.propTypes={message:s.default.shape({channel:s.default.string.isRequired,client_msg_id:s.default.string}).isRequired,traceId:s.default.string,parentSpanId:s.default.string},n.a=u;const f=v(d=>{l=!!d},"setForceMessageFailure");Object(c.a)("setForceMessageFailure",f)},TxvE:function(K,n,e){"use strict";var s=e("q1tI"),t=e.n(s),a=e("iuhU"),r=e("ifKl"),c=e("3zPy"),o=e.n(c),i=e("AArn"),l=e("YjxU"),u=e("WIr4"),f=e("yxNq"),d=e("i7LB");function O(){return O=Object.assign||function(h){for(var _=1;_<arguments.length;_++){var b=arguments[_];for(var I in b)Object.prototype.hasOwnProperty.call(b,I)&&(h[I]=b[I])}return h},O.apply(this,arguments)}v(O,"_extends");const m=o()("enter"),g=o()("tab");let E=v(class extends s.Component{componentDidMount(){const{resizeObserver:_,useStaticHeight:b}=this.props;this.node&&!b&&(_||(this.mutationObserver.observe(this.node,{childList:!0,subtree:!0,attributes:!0,characterData:!0}),this.node.addEventListener("load",this.updateHeight,!0))),b||_||this.updateHeight(),this.maybeFocusNode()}shouldComponentUpdate(_){const{children:b,validity:I,height:C,top:y,zIndex:P,...T}=this.props,{children:S,validity:A,height:R,top:x,zIndex:M,...j}=_;return y!==x||P!==M||C!==R||b&&S&&(!Object(f.a)(S.props,b.props)||S.key!==b.key)||!A?!0:!Object(f.a)(T,j)}componentDidUpdate(){!this.props.resizeObserver&&!this.props.useStaticHeight&&this.updateHeight(),this.maybeFocusNode()}componentWillUnmount(){const{resizeObserver:_,useStaticHeight:b}=this.props;_||b||(this.mutationObserver&&(this.mutationObserver.disconnect(),this.mutationObserver=null),this.node&&this.node.removeEventListener("load",this.updateHeight,!0))}onClick(_){_.persist(),_.id=this.props.itemKey,this.props.onClick(_)}onFocusEnter(_){const{relatedEvent:b,target:I,currentTarget:C}=_,{itemKey:y,onTabWithin:P,onFocusEnter:T,hasKeyboardFocus:S}=this.props;if(b&&b.type==="mousedown"||I&&(I instanceof HTMLMediaElement||I.dataset.mediaFocusContainer))return;(b&&b.keyCode)===g&&C!==I&&P({id:y,hasKeyboardFocus:S,..._}),T({id:y,hasKeyboardFocus:S,..._})}onFocusLeave(_){const{itemKey:b,onFocusLeave:I,hasKeyboardFocus:C}=this.props;I({id:b,hasKeyboardFocus:C,..._})}onFocusWithin(_){const{relatedEvent:b}=_,{itemKey:I,onTabWithin:C,onFocusWithin:y,hasKeyboardFocus:P}=this.props;if(b&&b.type==="mousedown")return;(b&&b.keyCode)===g&&C({id:I,hasKeyboardFocus:P,..._}),y({id:I,hasKeyboardFocus:P,..._})}onKeyDown(_){const{target:b,currentTarget:I,keyCode:C}=_,{itemKey:y,onKeyDown:P,onClick:T}=this.props;b===I&&(P({id:y,..._,preventDefault:_.preventDefault,stopPropagation:_.stopPropagation}),C===m&&T({id:y,..._,preventDefault:_.preventDefault,stopPropagation:_.stopPropagation}))}onContextMenu(_){const{itemKey:b,onContextMenu:I,hasKeyboardFocus:C}=this.props;_!=null&&_.altKey||I(_,b,{hasKeyboardFocus:C})}onMouseDown(_){const{itemKey:b,onMouseDown:I}=this.props;I(_,b)}setRef(_){this.props.resizeObserver&&(_?this.props.resizeObserver.observe(_,{box:"border-box"}):this.node&&this.props.resizeObserver.unobserve(this.node)),this.node=_}maybeFocusNode(){this.props.hasFocus&&this.node&&this.node.focus()}updateHeight(){if(!this.node)return;const{height:_}=this.node.getBoundingClientRect();(Math.abs(_-this.props.height)>.5||!this.props.validity)&&this.props.onHeightChange(this.props.itemKey,_)}render(){if(!this.props.children)return null;const{id:_,children:b,onFocusEnter:I,onFocusWithin:C,onFocusLeave:y,onHeightChange:P,onMouseDown:T,onClick:S,onKeyDown:A,onContextMenu:R,onTabWithin:x,className:M,top:j,zIndex:W,role:U,height:B,validity:Y,hasFocus:z,hasFocusWithin:F,hideFocusRing:V,shouldHorizontallyScroll:L,tabIndex:Q,itemKey:ee,useStaticHeight:te,hasKeyboardFocus:le,dataQA:Oe,contextMenuVisible:he,isInitialActiveItem:Ee,resizeObserver:ge,...J}=this.props,H=Object(a.default)(M,"c-virtual_list__item",{"c-virtual_list__item--initial-activeitem":Ee,"c-virtual_list__item--focus":z&&le&&!V,"c-virtual_list__item--focus-within":F,"c-virtual_list__item--auto_width":L,"c-virtual_list__item--contextmenu-visible":he});return t.a.createElement(l.a,{onFocusEnter:this.onFocusEnter,onFocusWithin:this.onFocusWithin,onFocusLeave:this.onFocusLeave},t.a.createElement("div",O({},Object(d.a)(J),{onMouseDown:this.onMouseDown,onClick:this.onClick,onKeyDown:this.onKeyDown,onContextMenu:this.onContextMenu,className:H,tabIndex:Q,role:U,style:te?{top:j,height:B,zIndex:W}:{top:j,zIndex:W},ref:this.setRef,id:_,"data-qa":Oe||"virtual-list-item","data-item-key":ee}),b))}constructor(_){super(_),this.setRef=this.setRef.bind(this),Object(u.a)(this,["onFocusEnter","onFocusWithin","onFocusLeave","onMouseDown","onClick","onKeyDown","onContextMenu"]),_.useStaticHeight||(this.updateHeight=this.updateHeight.bind(this),_.resizeObserver||(this.mutationObserver=new MutationObserver(this.updateHeight))),this.node=null}},"ListItem");E.displayName="ListItem",E.defaultProps={children:null,onFocusEnter:r.a,onFocusWithin:r.a,onFocusLeave:r.a,onHeightChange:r.a,onMouseDown:r.a,onClick:r.a,onKeyDown:r.a,onContextMenu:r.a,onTabWithin:r.a,className:"",top:void 0,zIndex:void 0,role:"listitem",height:0,validity:!0,hasFocus:!1,hasFocusWithin:!1,shouldHorizontallyScroll:!1,tabIndex:-1,useStaticHeight:!1,dataQA:null,contextMenuVisible:!1,isInitialActiveItem:!1,hideFocusRing:!1};const p=v(function(_){const b=Object(s.useContext)(i.a);return t.a.createElement(E,O({},_,{hasKeyboardFocus:b}))},"WithKeyboardFocusListItem");p.displayName="WithKeyboardFocusListItem",n.a=t.a.memo(p)},U1tW:function(K,n,e){"use strict";var s=e("q1tI"),t=e.n(s),a=e("nNoG"),r=e("ktUG"),c=e("Trx9"),o=e("WAPM"),i=e("zEKE"),l=e("vDCl"),u=e("w3c/");const f=new a.b("trials_highlight_paid_features"),d=v(m=>{let{text:g}=m;return t.a.createElement(o.a,{articleId:4402059015315,ariaLabel:f.t("Learn more about Huddles")},g)},"AlertBannerHelpLink"),O=v(()=>t.a.createElement(c.a,{eventId:r.EventId.UPGRDEXP_HIGHLIGHT_PAID_FEATURES,uiComponentName:r.UiComponentName.HUDDLE_INVITE_MODAL_FREE_BANNER,clogImpression:!0},t.a.createElement("div",{className:"p-huddle_invite_modal_banner"},t.a.createElement(i.a,{theme:l.b.NONE,"data-qa":"huddle_invite_modal_free_banner"},f.rt("You\u2019re on the free version of Slack, so only one other person can join you in a huddle. <a>Learn more</a>",{"<a>":d,fallbackHash:"302b7b76d1085ff1532e888a72d2b35f253d5e82"})))),"HuddleInviteModalFreeBanner");n.a=O},U27P:function(K,n,e){"use strict";var s=e("wSSu"),t=e.n(s);const a=v((r,c,o)=>{if(!c||!c.setAttribute)throw new TypeError("React mount point must be a valid HTML element");c.setAttribute("data-reactroot",""),t.a.render(r,c,o)},"mountReact");n.a=a},UAMj:function(K,n,e){"use strict";e.d(n,"a",function(){return g});var s=e("9oTK"),t=e.n(s),a=e("SQ0V"),r=e("i9jZ"),c=e("RV0M"),o=e("uiBO"),i=e("uxOI"),l=e("2VFn"),u=e("NV6F"),f=e("Muja"),d=e("37+L"),O=e("f24l"),m=e("I0j/");const g=Object(a.c)("Opens one of the help views in a window",function(){var E=Object(s.coroutine)(function*(p,h,_,b){let{id:I,params:C,viewType:y}=_;if(Object(r.e)()){const{view:P,windowId:T}=b(c.a),S=(P==null?void 0:P.viewType)===o.a.Help||T===i.b;if(S){if(S&&(P==null?void 0:P.id)===I&&Object(f.a)(P==null?void 0:P.params,C))return}else{const R={[l.h.Primary]:{id:I,params:C,viewType:y}};yield p(Object(u.s)({viewSet:R,shouldShowSearch:!1,clogParams:{entryPoint:"help",uiComponentName:I}}))}let A;if(I==="whats_new")A=Object(d.ab)(C==null?void 0:C.focusKey);else if(I==="shortcuts")A=Object(d.E)(C==null?void 0:C.focusKey);else if(I==="help"&&(C!=null&&C.articleId))A=Object(d.z)(C==null?void 0:C.articleId,C==null?void 0:C.focusKey);else if(I==="help")A=Object(d.C)();else if(I==="feedback")A=Object(d.t)(C==null?void 0:C.focusKey);else return;p(Object(O.a)({...A,windowId:i.b}))}else{let P;if(I==="whats_new")P=Object(d.bb)(C==null?void 0:C.focusKey);else if(I==="shortcuts")P=Object(d.F)(C==null?void 0:C.focusKey);else if(I==="help"&&(C!=null&&C.articleId))P=Object(d.A)(C==null?void 0:C.articleId,C==null?void 0:C.focusKey);else if(I==="help")P=Object(d.D)();else if(I==="feedback")P=Object(d.u)(C==null?void 0:C.focusKey);else return;p(Object(m.a)({...P}))}});return function(p,h,_,b){return E.apply(this,arguments)}}());g.meta={name:"createThunk",key:"createThunkopenHelpViews",description:"Opens one of the help views in a window"}},UEGZ:function(K,n,e){"use strict";e.d(n,"a",function(){return O});var s=e("m8R6"),t=e("SQ0V"),a=e("3Hq1"),r=e("FSsA"),c=e("+QlI"),o=e("E3dU"),i=e("e7hP"),l=e("1Mid");const u=Object(t.c)("Update the unread count for a channel",(m,g,E)=>{const{id:p,unread_cnt:h,unread_highlight_cnt:_,unread_activity_highlight_cnt:b}=E,I=g(),C=Object(o.c)(I,p);if(!Object(r.a)(I,C))return;const{unreadCnt:y,unreadHighlightCnt:P,unreadActivityHighlightCnt:T}=Object(l.c)(I,p),S=Object(a.a)(h)?y||0:h,A=Object(a.a)(_)?P||0:_,R=Object(a.a)(b)?T:b;m(Object(i.f)({id:p,unreadCnt:S,unreadHighlightCnt:Object(r.b)(I,C)?S:A,unreadActivityHighlightCnt:Object(r.b)(I,C)?S:R})),Object(c.e)(I,C)&&m(Object(i.c)({...Object(l.b)(I),[p]:!0}))});u.meta={name:"createThunk",key:"createThunkunreadCountChanged",description:"Update the unread count for a channel"};var f=e("Fqb6"),d=e("u/Sz");const O=Object(t.c)(d.a.UPDATE_ONE_KEY,(m,g,E)=>{const p=g(),h=!1;if(!E||!E.id||Object.keys(E).length!==2||!Object(o.c)(p,E.id,h))return;const _=Object(s.a)(E,"id"),b=Object.keys(_)[0];if(Object(o.c)(p,E.id,h)[b]===_[b])return;const I={...Object(o.c)(p,E.id,h)};I[b]=_[b],m(Object(f.a)({channel:I,reason:d.a.UPDATE_ONE_KEY})),(b==="unread_cnt"||b==="unread_highlight_cnt"||b==="unread_activity_highlight_cnt")&&m(u({id:E.id,[b]:_[b]}))});O.meta={name:"createThunk",key:"createThunkupdateOneKeyForChannel",description:d.a.UPDATE_ONE_KEY}},UEb0:function(K,n,e){"use strict";e.d(n,"a",function(){return s}),e.d(n,"b",function(){return t});var s;(function(a){a[a.NONE=0]="NONE",a[a.NO_MENTIONS=1]="NO_MENTIONS",a[a.NOT_A_MEMBER=2]="NOT_A_MEMBER",a[a.BAD_ARGUMENTS=3]="BAD_ARGUMENTS",a[a.NO_DISPLAY_OVERRIDE=4]="NO_DISPLAY_OVERRIDE",a[a.NO_NOTIFICATIONS_OVERRIDE=5]="NO_NOTIFICATIONS_OVERRIDE",a[a.REPLY_MESSAGE=6]="REPLY_MESSAGE",a[a.NOT_REPLY_MESSAGE=7]="NOT_REPLY_MESSAGE",a[a.JOIN_LEAVE_MESSAGE=8]="JOIN_LEAVE_MESSAGE",a[a.BOT_MESSAGE=9]="BOT_MESSAGE",a[a.APP_MESSAGE=10]="APP_MESSAGE",a[a.FROM_CURRENT_USER=11]="FROM_CURRENT_USER",a[a.MUTED_CHANNEL=12]="MUTED_CHANNEL",a[a.USER_IN_DND=13]="USER_IN_DND",a[a.SILENT_PREFERENCE=14]="SILENT_PREFERENCE",a[a.PERMISSION_DENIED=15]="PERMISSION_DENIED",a[a.ACTIVE_VIEW_VISIBLE=16]="ACTIVE_VIEW_VISIBLE",a[a.LESS_RELEVANT_ORG_TEAM=17]="LESS_RELEVANT_ORG_TEAM",a[a.OVERSIZED_MENTION=18]="OVERSIZED_MENTION",a[a.REDUNDANT_SOCKET_EVENT=19]="REDUNDANT_SOCKET_EVENT",a[a.ALREADY_SEEN_REPLY=20]="ALREADY_SEEN_REPLY",a[a.ALREADY_SHOWN=21]="ALREADY_SHOWN",a[a.EMAIL_SHARED=22]="EMAIL_SHARED",a[a.APP_DM_SUPPRESSED=23]="APP_DM_SUPPRESSED",a[a.FROM_ANOTHER_TEAM=24]="FROM_ANOTHER_TEAM",a[a.FILE_CHANNEL_ROOT_COMMENT=25]="FILE_CHANNEL_ROOT_COMMENT",a[a.LATER_ITEM_NOT_FOUND=26]="LATER_ITEM_NOT_FOUND",a[a.FILE_CHANNEL_EPHEMERAL_MESSAGE=27]="FILE_CHANNEL_EPHEMERAL_MESSAGE",a[a.SENDER_IS_HIDDEN=28]="SENDER_IS_HIDDEN"})(s||(s={}));function t(a){switch(a){case s.NOT_A_MEMBER:return"The message is from a channel the user is not a member of";case s.BAD_ARGUMENTS:return"Missing message or model object";case s.NO_DISPLAY_OVERRIDE:return"'no_display' was set on the notification";case s.NO_NOTIFICATIONS_OVERRIDE:return"'no_notifications' was set on the notification";case s.MUTED_CHANNEL:return"Channel is muted";case s.USER_IN_DND:return"The user is in Do Not Disturb";case s.SILENT_PREFERENCE:return"The user has their notification preference set to 'nothing'";case s.PERMISSION_DENIED:return"The user did not grant permission to show notifications";case s.LESS_RELEVANT_ORG_TEAM:return"Shared channel is in a less recently selected org team";case s.OVERSIZED_MENTION:return"Over-sized channel mention in channel";case s.REDUNDANT_SOCKET_EVENT:return"Message is greater than latest in store, treating as duplicate";case s.ALREADY_SEEN_REPLY:return"Message is less than or equal to the 'last_read' in the thread";case s.ALREADY_SHOWN:return"Message has already shown a notification";case s.FROM_ANOTHER_TEAM:return"Message is from another team";case s.FILE_CHANNEL_ROOT_COMMENT:return"Message is a root comment and posted on file channel";case s.FILE_CHANNEL_EPHEMERAL_MESSAGE:return"Ephemeral message posted on file channel cannot be located from notifications";case s.JOIN_LEAVE_MESSAGE:case s.BOT_MESSAGE:case s.APP_MESSAGE:case s.FROM_CURRENT_USER:case s.ACTIVE_VIEW_VISIBLE:case s.SENDER_IS_HIDDEN:default:return null}}v(t,"messageForSuppressedNotification")},UEyp:function(K,n,e){"use strict";e.d(n,"a",function(){return m}),e.d(n,"c",function(){return g}),e.d(n,"e",function(){return E}),e.d(n,"b",function(){return p}),e.d(n,"d",function(){return h}),e.d(n,"h",function(){return _}),e.d(n,"g",function(){return C}),e.d(n,"f",function(){return y});var s=e("TGBA"),t=e("C3vN"),a=e("q0lC"),r=e("O0Iw"),c=e("G0eX"),o=e("M1/X"),i=e("Wvjm"),l=e("xwCZ"),u=e("beVI"),f=e("ZOzc"),d=e("CAOD"),O=e("AdD7");function m(P){let T=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;const S=Object(l.d)(P),A=T??Object(u.g)(P);return A?Object(a.e)(P)?!0:Object(t.ib)(S)?!1:Object(f.a)(P,"invites_only_admins",T==null?void 0:T.id)?Object(c.y)(A)&&Object(f.a)(P,"who_can_manage_guests")?Object(i.a)(A,S):!1:!0:!1}v(m,"canUserInviteMembersToWorkspace");function g(P,T,S){const A=T||Object(l.d)(P),R=S||Object(u.g)(P);return!(!R&&!R||Object(t.ib)(A)||!Object(f.a)(P,"invite_requests_enabled",R.id))}v(g,"canUserRequestToInvite");function E(P){const T=Object(l.d)(P),S=Object(u.g)(P);return S?!!(g(P,T,S)||m(P)):!1}v(E,"canUserSeeInviteModal");function p(P,T){const S=Object(u.g)(P);if(!S)return!1;const A=Object(c.C)(S),R=Object(c.y)(S),x=Object(o.c)(P,T),M=R?!_(P,{ignoreGuestSettings:!0}):E(P);return A&&M||!A&&(M||x)}v(p,"canUserInviteToChannelByEmail");function h(P){const T=Object(l.d)(P),S=Object(u.g)(P);return!S||!Object(c.G)(S)?!1:g(P,T,S)?!0:Object(c.y)(S)?Object(i.a)(S,T):Object(a.e)(P)}v(h,"canUserSeeAccountTypeOptions");function _(P){let{ignoreGuestSettings:T}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;const S=Object(l.d)(P),A=Object(u.g)(P);return!Object(c.y)(A)||Object(a.e)(P)||!Object(f.a)(P,"invites_only_admins")||g(P,S,A)?!1:T?!0:Object(i.a)(A,S)}v(_,"shouldDisableFullMemberInviteOption");function b(P){let{state:T,team:S,inviteType:A}=P,R=S;if(!S&&(R=Object(u.g)(T),!R))return!1;const x=Object(f.a)(T,"auth_mode"),M=x==="google"||x==="saml";return Object(c.y)(R)&&A===d.h.REGULAR||M&&Object(f.a)(T,"sso_auth_restrictions")===0}v(b,"shouldShowSsoAlert");function I(P){let{state:T,inviteType:S}=P;const A=Object(f.a)(T,"auth_mode"),R=Object(f.a)(T,"sso_auth_restrictions");return A==="google"?S===d.h.REGULAR&&(R===0||R===1)||(S===d.h.RESTRICTED||S===d.h.ULTRA_RESTRICTED)&&R===0:!1}v(I,"shouldShowGoogleDomainsNotice");function C(P){let{state:T,inviteType:S,team:A}=P;if(!S||!Object(s.a)(d.h).includes(S))throw new Error(`Invalid invite type: ${S}`);const R=Object(l.d)(T),x=A||Object(u.g)(T);if(!x)return!1;const M=Object(f.a)(T,"invites_only_admins",x==null?void 0:x.id),j=Object(c.y)(x),W=Object(r.a)(T,x.id);switch(S){case d.h.REGULAR:return W?!1:M;case d.h.RESTRICTED:case d.h.ULTRA_RESTRICTED:return j?!Object(i.a)(x,R):!W;default:return!0}}v(C,"isRequestingInvitesForType");function y(P){let{state:T}=P;const S=Object(u.g)(T);return Object(O.b)()?!0:Object(c.y)(S)?Object(f.a)(T,"hide_gsuite_invite_option"):!1}v(y,"isGoogleDirectoryDisabled")},UGXP:function(K,n,e){"use strict";const s=v(t=>t.key!==void 0||t.key!==void 0||t.key!==void 0,"isEventWithKeyProperty");n.a=s},UHsu:function(K,n,e){"use strict";var s=e("lBK/"),t=e("J47P");e.d(n,"b",function(){return t.b}),n.a=s.a},UL37:function(K,n,e){"use strict";var s=e("2VFn");const t={WORKSPACE_SWITCHER_TAB_LIST:0,PRIMARY_WORKSPACE_ACTIONS:1,SECONDARY_WORKSPACE_ACTIONS:2,WORKSPACE_NAVIGATION:3,PRIMARY_VIEW:4,SECONDARY_VIEW:5,TOP_NAV:0,WORKSPACE_SWITCHER:1,WORKSPACE_TAB_RAIL:2,CONTROL_STRIP:6,HUDDLE_WORKSPACE:7,[s.h.Sidebar]:3,[s.h.Primary]:4,[s.h.Secondary]:5,[s.h.Modal]:-1,[s.h.Tile]:-1,[s.h.Peek]:-1};n.a=t},UNFO:function(K,n,e){"use strict";e.d(n,"a",function(){return t}),e.d(n,"c",function(){return a}),e.d(n,"d",function(){return r}),e.d(n,"e",function(){return c}),e.d(n,"f",function(){return o}),e.d(n,"b",function(){return i}),e.d(n,"g",function(){return l});var s=e("DwFS");const t=Object(s.a)("Remove edits corresponding to a message");t.meta={name:"createAction",key:"createActionremoveMessageEdit",description:"Remove edits corresponding to a message"};const a=Object(s.a)("Start editing a message");a.meta={name:"createAction",key:"createActionstartEditingMessage",description:"Start editing a message"};const r=Object(s.a)("Stop editing a message");r.meta={name:"createAction",key:"createActionstopEditingMessage",description:"Stop editing a message"};const c=Object(s.a)("Clear message editing data for a channel");c.meta={name:"createAction",key:"createActionstopEditingMessagesInChannel",description:"Clear message editing data for a channel"};const o=Object(s.a)("Update the current editing state of a message");o.meta={name:"createAction",key:"createActionupdateEditState",description:"Update the current editing state of a message"};const i=Object(s.a)("Update the `didRequestToStopEditing` property");i.meta={name:"createAction",key:"createActionsetDidRequestToStopEditing",description:"Update the `didRequestToStopEditing` property"};const l=Object(s.a)("Update the `hasUnsavedChanges` property");l.meta={name:"createAction",key:"createActionupdateHasUnsavedChanges",description:"Update the `hasUnsavedChanges` property"}},UQYs:function(K,n,e){"use strict";e.d(n,"a",function(){return h});var s=e("q1tI"),t=e.n(s),a=e("iuhU"),r=e("mYQK"),c=e.n(r),o=e("ifKl"),i=e("1ufr"),l=e("C59p"),u=e("TZ1i");const f=v(b=>{let{onScroll:I=o.a,children:C,width:y,role:P="presentation"}=b;const T=Object(s.useMemo)(()=>({width:y}),[y]);return t.a.createElement("div",{onScroll:I,role:P,className:"c-scrollbar__child",style:T},C)},"Content");f.displayName="Content";var d=t.a.memo(f);const O=50,m=8,g=v(b=>b.stopPropagation(),"stopPropagation");let E=v(class ji extends s.PureComponent{componentDidMount(){this.scroller&&(this.scroller.scrollTop=this.props.initialScrollTop||0)}componentDidUpdate(){this.update()}componentWillUnmount(){this.trackAnimation&&this.trackAnimation.cancel(),this.trackInterval&&clearInterval(this.trackInterval),this.trackTimeout&&clearTimeout(this.trackTimeout),this.props.window.removeEventListener("mouseup",this.onTrackUp)}onDrag(I){I.preventDefault(),I.stopPropagation();const C=I.clientY,y=this.getScrollHeight(),P=(C-this.delta.y)*this.delta.speed,T=this.props.anchor==="top"?this.delta.top+P:y-(this.delta.top-P);this.scrollTop(T)}onDragEnd(){this.props.window.document.removeEventListener("mousemove",this.onDrag),this.props.window.document.removeEventListener("mouseup",this.onDragEnd),this.props.window.document.removeEventListener("mouseleave",this.onDragEnd)}onDragStart(I){I.preventDefault(),I.stopPropagation();const C=this.getScrollHeight(),y=this.getTrackHeight();this.delta.y=I.clientY,this.delta.top=this.props.anchor==="top"?this.currentScrollTop:C-this.currentScrollTop,this.delta.speed=C/y,this.props.window.document.addEventListener("mousemove",this.onDrag),this.props.window.document.addEventListener("mouseup",this.onDragEnd),this.props.window.document.addEventListener("mouseleave",this.onDragEnd)}onScroll(I){if(!this.scroller||I.target!==this.scroller)return;const C=this.scroller.scrollTop;C&&C===this.currentScrollTop||(this.currentScrollTop=C,this.update(),this.props.onScroll&&this.props.onScroll(I))}onTrackDown(I){if(I.preventDefault(),I.stopPropagation(),I.button===2)return;const C=this.props.onTrackClick||ji.track.to,y=I.nativeEvent.offsetY,P=v(()=>{if(y>=this.state.top&&y<=this.state.top+this.state.height){this.trackInterval&&clearInterval(this.trackInterval);return}const T=C({y,scrollTop:this.currentScrollTop,scrollHeight:this.getScrollHeight(),trackHeight:this.getTrackHeight(),barTop:this.state.top,barHeight:this.state.height});this.scrollWithAnimation(T)},"scroll");P(),this.trackInterval&&clearInterval(this.trackInterval),this.trackTimeout&&clearTimeout(this.trackTimeout),this.trackTimeout=setTimeout(()=>{P(),this.trackInterval=setInterval(P,200)},500),this.props.window.addEventListener("mouseup",this.onTrackUp)}onTrackUp(){this.trackAnimation&&this.trackAnimation.cancel(),this.trackInterval&&clearInterval(this.trackInterval),this.trackTimeout&&clearTimeout(this.trackTimeout),this.props.window.removeEventListener("mouseup",this.onTrackUp)}getBarHeight(){let I=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.getScrollHeight();const C=this.props.height;return I===0?0:C/I*C}getBoundingClientRect(){var I;return(I=this.scroller)===null||I===void 0?void 0:I.getBoundingClientRect()}getScrollHeight(){var I;const{contentHeight:C}=this.props;var y;return typeof C<"u"?C:(y=(I=this.scroller)===null||I===void 0?void 0:I.scrollHeight)!==null&&y!==void 0?y:0}getTrackHeight(){var I;return this.props.useFixedTrackHeight?this.props.height-m:((I=this.track)===null||I===void 0?void 0:I.offsetHeight)||.01}setRef(I){this.scroller=I}setTrackRef(I){this.track=I}scrollTop(I){return this.scroller?I!==void 0?(this.scroller.scrollTop=I,this.scroller.scrollTop):this.currentScrollTop:null}scrollWithAnimation(I){var C;let y=0;const P=v(S=>{let{value:A,nextTick:R}=S;var x,M;const j=((M=(x=this.scroller)===null||x===void 0?void 0:x.scrollTop)!==null&&M!==void 0?M:0)+A+y,W=Math.round(j);y=j-W,this.scrollTop(W),R()},"tick");this.trackAnimation&&this.trackAnimation.cancel();var T;return this.trackAnimation=Object(l.a)({fromValue:(T=(C=this.scroller)===null||C===void 0?void 0:C.scrollTop)!==null&&T!==void 0?T:0,toValue:I,duration:200,delta:!0,onTick:P}),this.trackAnimation}update(){if(!this.scroller)return;const{height:I}=this.props,C=this.getScrollHeight(),y=this.currentScrollTop;let P=this.getBarHeight(C);P=P<O?O:P;const T=y/(C-I)*(this.getTrackHeight()-P),S=C<=I;Math.abs(this.state.height-P)<1&&Math.abs(this.state.top-T)<1&&this.state.hidden===S||this.setState(()=>({height:P,top:T,hidden:S}))}render(){const{width:I,height:C,children:y,className:P,onContentScroll:T,inheritSize:S,alwaysVisible:A,role:R,monkey:x,fade:M,id:j,color:W}=this.props,U=c.a.firefox?-1:void 0;return t.a.createElement("div",{role:R,"aria-label":this.props["aria-label"],"aria-describedby":this.props["aria-describedby"],className:Object(a.default)(P,"c-scrollbar",{"c-scrollbar--hidden":this.state.hidden,"c-scrollbar--monkey":x,"c-scrollbar--fade":M,"c-scrollbar--inherit_size":S,"c-scrollbar--always_visible":A}),style:S?void 0:{width:I,height:C},id:j},t.a.createElement("div",{"data-qa":"slack_kit_scrollbar",role:"presentation",className:"c-scrollbar__hider",tabIndex:U,onScroll:this.onScroll,ref:this.setRef},t.a.createElement(d,{width:I,onScroll:T||o.a},y)),t.a.createElement("div",{role:"presentation",className:"c-scrollbar__track",onMouseDown:this.onTrackDown,onMouseUp:this.onTrackUp,ref:this.setTrackRef},t.a.createElement("div",{role:"presentation",className:"c-scrollbar__bar",style:{height:this.state.height,transform:`translateY(${Math.floor(this.state.top)}px)`,background:W},onClick:g,onMouseDown:this.onDragStart,tabIndex:-1})))}constructor(I){super(I),this.scroller=void 0,this.track=void 0,this.currentScrollTop=0,this.delta={y:0,top:0,speed:0},this.trackInterval=void 0,this.trackTimeout=void 0,this.trackAnimation=void 0,this.onScroll=this.onScroll.bind(this),this.onDragStart=this.onDragStart.bind(this),this.onDragEnd=this.onDragEnd.bind(this),this.onDrag=this.onDrag.bind(this),this.onTrackDown=this.onTrackDown.bind(this),this.onTrackUp=this.onTrackUp.bind(this),this.setRef=this.setRef.bind(this),this.setTrackRef=this.setTrackRef.bind(this),this.state={height:0,top:0}}},"Scrollbar");E.displayName="Scrollbar",E.defaultProps={children:void 0,contentHeight:void 0,color:void 0,monkey:!1,fade:!1,alwaysVisible:!1,anchor:"top",role:"presentation",onContentScroll:o.a,initialScrollTop:0,inheritSize:!1,useFixedTrackHeight:!1,window},E.track={to:b=>{let{y:I,scrollTop:C,scrollHeight:y,trackHeight:P,barTop:T,barHeight:S}=b;const A=I-T-S/2;return C+A*(y/P)},page:b=>{let{y:I,scrollTop:C,trackHeight:y,barTop:P}=b;return I<P?C-(y-21):C+(y-21)}};var p=n.b=Object(i.a)(E);const h=E,_=Object(u.a)(E,{getDerivedProps:b=>{let{instance:I}=b;return{initialScrollTop:I.currentScrollTop}}})},USm0:function(K,n,e){"use strict";e.d(n,"a",function(){return l});var s=e("lCmp"),t=e("HRmD"),a=e("OOts");function r(u,f){return Object(s.a)(u,d=>d.from_url?!1:Object(t.a)({text:d.title,...f})||Object(t.a)({text:d.pretext,...f})||Object(t.a)({text:d.text,...f})||Object(t.a)({text:d.footer,...f})||d.blocks&&Object(a.a)(d.blocks,f)?!0:Object(s.a)(d.fields,O=>Object(t.a)({text:O.value,...f})))}v(r,"attachmentsContainMention");var c=e("ALys"),o=e("Kpab"),i=e("uo7Q");function l(u,f,d,O){let m=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{ignoreAtHereMentions:!1,ignoreHighlightWords:!1,ignoreAtEveryoneMentions:!1,ignoreAtChannelMentions:!1,ignoreUserAndUserGroupMentions:!1},g=arguments.length>5&&arguments[5]!==void 0?arguments[5]:!1;if(u.subtype==="pinned_item")return!1;const E={msg:u,memberId:f,highlightWords:d,teamId:O,options:m},p=!!u.blocks,h=Object(c.a)(u,g),_=Object(i.a)(u.blocks);return!!(!h&&!p&&!u.ignore_if_attachments_supported&&Object(t.a)({text:u.text,...E})||!_&&p&&Object(a.a)(u.blocks,E)||h&&Object(o.a)(u,E,g)||u.attachments&&r(u.attachments,E))}v(l,"containsMention")},UWeq:function(K,n,e){K.exports=e.p+"living_room-a4fba85.jpg"},UbkG:function(K,n,e){"use strict";e.d(n,"a",function(){return r}),e.d(n,"b",function(){return c}),e.d(n,"c",function(){return o}),e.d(n,"d",function(){return i});var s=e("ZKjC"),t=e("i5Ig"),a=e("2VFn");const r=Object(s.b)((l,u)=>{const f=u===a.c?"main":u;return l.quipActivityHistory[f]||t.b});r.meta={name:"createSelector",key:"createSelectorgetActivityHistory",description:(l,u)=>{const f=u===a.c?"main":u;return l.quipActivityHistory[f]||t.b}};const c=Object(s.b)((l,u,f)=>{var d,O;if(!f)return;const m=u===a.c?"main":u;return(d=l.quipActivityHistory[m])===null||d===void 0||(O=d.versions)===null||O===void 0?void 0:O.find(g=>f===g.versionId)});c.meta={name:"createSelector",key:"createSelectorgetActivityHistoryVersionById",description:(l,u,f)=>{var d,O;if(!f)return;const m=u===a.c?"main":u;return(d=l.quipActivityHistory[m])===null||d===void 0||(O=d.versions)===null||O===void 0?void 0:O.find(g=>f===g.versionId)}};const o=Object(s.b)((l,u)=>{const f=u===a.c?"main":u,d=l.quipActivityHistory[f];if(!d)return;const{versions:O}=d;return O!=null&&O.length?O[0]:void 0});o.meta={name:"createSelector",key:"createSelectorgetLatestActivityHistoryVersion",description:(l,u)=>{const f=u===a.c?"main":u,d=l.quipActivityHistory[f];if(!d)return;const{versions:O}=d;return O!=null&&O.length?O[0]:void 0}};const i=Object(s.b)((l,u)=>{var f;const d=u===a.c?"main":u;return(f=l.quipActivityHistory[d])===null||f===void 0?void 0:f.selectedVersionId});i.meta={name:"createSelector",key:"createSelectorgetSelectedActivityHistoryVersionId",description:(l,u)=>{var f;const d=u===a.c?"main":u;return(f=l.quipActivityHistory[d])===null||f===void 0?void 0:f.selectedVersionId}}},"Ufq/":function(K,n,e){"use strict";e.d(n,"c",function(){return o}),e.d(n,"d",function(){return i}),e.d(n,"a",function(){return l}),e.d(n,"f",function(){return O}),e.d(n,"b",function(){return m}),e.d(n,"h",function(){return g}),e.d(n,"i",function(){return E}),e.d(n,"e",function(){return p}),e.d(n,"g",function(){return _}),e.d(n,"k",function(){return b}),e.d(n,"j",function(){return I}),e.d(n,"l",function(){return C});var s=e("RVJP"),t=e("kBpe"),a=e("e9jb"),r=e("8TXW"),c=e("ZOzc");function o(y){return Object(s.d)(y,"calls_chime_sdk_exp")==="enabled"}v(o,"isCallsChimeSdkExpEnabled");function i(y){var P;if((window==null||(P=window.navigator)===null||P===void 0?void 0:P.userAgent)==="slack_cli_tool/1.0")return!1;const S=Object(s.d)(y,"calls_chime_voice_focus")==="enabled"&&(Object(t.j)("4.18.0")||new r.m().majorVersion()>=92)||Object(s.d)(y,"calls_chime_voice_focus_force")==="enabled",A=Object(t.k)()?Object(t.j)("4.18.0"):!0;return Object(a.a)()?S&&A&&Object(s.d)(y,"calls_chime_voice_focus_gantry_calls")==="enabled":S&&A}v(i,"isCallsChimeVoiceFocusEnabled");function l(y){const P=Object(s.d)(y,"calls_chime_voice_focus_model_variant");return P==="control"?void 0:P}v(l,"getCallsChimeVoiceFocusModelVariant");function u(y){return Object(s.d)(y,"calls_chime_simulcast")==="enabled"}v(u,"isCallsChimeSimulcastEnabled");function f(y){return Object(s.d)(y,"calls_chime_priority_downlink_policy")==="enabled"}v(f,"isCallsChimePriorityDownlinkPolicyEnabled");function d(y){return Object(s.d)(y,"calls_get_media_access_check_windows")==="enabled"}v(d,"isGetMediaAccessForWindowsCheckEnabled");const O=v(y=>Object(s.d)(y,"calls_org_app_settings")==="treatment","isCallsOrgAppsSettingsExperimentEnabled"),m=v(y=>Object(s.d)(y,"calls_call_command_admin_disable")==="enabled","isCallCommandAdminDisableExperimentEnabled"),g=v(y=>Object(s.d)(y,"calls_tracing_disabled")==="treatment","isCallsTracingDisabled"),E=v(y=>Object(s.d)(y,"calls_dynamic_survey")==="treatment","isDynamicSurveyEnabled"),p=v(y=>Object(s.d)(y,"calls_location_lock")==="treatment","isCallsLocationLockEnabled"),h=v(y=>Object(s.d)(y,"desktop_calls_grid")==="enabled","isCallViewModeEnabled"),_=v(y=>Object(s.d)(y,"calls_disable_screenshare_border")==="treatment","isCallsScreenShareBorderDisabled"),b=v(y=>Object(c.a)(y,"allow_huddles")&&Object(c.a)(y,"allow_huddles_video")&&Object(s.d)(y,"calls_deprecation")!=="on"&&Object(s.d)(y,"huddles_calls_migration_v2")==="on","isHuddleCallsMigrationFeatureFlagEnabled"),I=v(y=>{const P=Object(s.d)(y,"huddles_calls_migration_v2")==="on"&&Object(s.d)(y,"huddles_calls_migration_v3")==="on";return Object(c.a)(y,"allow_huddles")&&Object(c.a)(y,"allow_huddles_video")&&Object(s.d)(y,"calls_deprecation")!=="on"&&P},"isHuddleCallsMigrationBothFeatureFlagsEnabled"),C=v(y=>{const P=Object(s.d)(y,"huddles_calls_migration_v2")==="on"&&Object(s.d)(y,"huddles_calls_migration_v3")==="on"&&Object(s.d)(y,"huddles_calls_migration_v4")==="on";return Object(c.a)(y,"allow_huddles")&&Object(c.a)(y,"allow_huddles_video")&&Object(s.d)(y,"calls_deprecation")!=="on"&&P},"isHuddleCallsMigrationPhase3FeatureFlagsEnabled")},UjK0:function(K,n,e){"use strict";var s=e("q1tI"),t=e.n(s),a=e("zxER"),r=e("iuhU"),c=e("Tsh7"),o=e("s9Q6"),i=e("+fxZ"),l=e("Trx9"),u=e("GiOu"),f=e("ktUG");function d(){return d=Object.assign||function(g){for(var E=1;E<arguments.length;E++){var p=arguments[E];for(var h in p)Object.prototype.hasOwnProperty.call(p,h)&&(g[h]=p[h])}return g},d.apply(this,arguments)}v(d,"_extends");const O=v(g=>{let{ariaLabel:E,tooltipText:p,children:h,onClick:_,isFreemium:b,promoType:I,promoSubtype:C,showProBadge:y,tooltipClassName:P,uiComponentVariant:T,variant:S,toolTipZIndex:A,toolTipPosition:R,...x}=g;const{tooltipTitle:M,tooltipBody:j}=Object(i.b)({isFreemium:b,tooltipText:p,promoType:I,promoSubtype:C,variant:S}),W=Object(a.a)(Y=>Object(o.b)(Y,I,C)),U=j?`${M} - ${j}`:M;if(W)return h;const B=t.a.createElement(l.a,{clogImpression:!0,eventId:f.EventId.UPGRDEXP_TRIAL,uiComponentName:f.UiComponentName.TRIAL_FEATURE_TOOLTIP,uiComponentVariant:T},t.a.createElement("div",{className:"p-trial_feature_tooltip"},t.a.createElement("span",{className:"p-trial_feature_tooltip__title"},y&&t.a.createElement(u.b,{badgeTheme:u.a.White,className:"p-trial_feature_tooltip__pro_badge"}),t.a.createElement("div",{className:"p-trial_feature_tooltip__title_text"},M)),t.a.createElement("div",{className:"p-trial_feature_tooltip__body"},j)));return t.a.createElement(c.d,d({tipClassName:Object(r.default)("p-trial_feature_tooltip__container",P),tip:B,onClick:_,zIndex:A,position:R,"aria-label":E?`${E}: ${U}`:`${U}`},x),h)},"TrialFeatureTooltip");O.displayName="TrialFeatureTooltip";var m=n.a=O},UnJt:function(K,n,e){"use strict";e.d(n,"c",function(){return _}),e.d(n,"b",function(){return b}),e.d(n,"h",function(){return P}),e.d(n,"f",function(){return T}),e.d(n,"g",function(){return S}),e.d(n,"d",function(){return R}),e.d(n,"e",function(){return x}),e.d(n,"a",function(){return M});var s=e("w2lx"),t=e("Fsnq"),a=e("s4P+"),r=e("kBpe"),c=e("RVJP"),o=e("9Gfp"),i=e("O86Y"),l=e("Aqb/"),u=e("1Np4");const f="desktop_notification_tracing",d="notification:sent",O="notification:received",m="notification:opened",g="notification:quick_reply",E="notification:read_in_app",p=100;function h(j){return Object(c.d)(j,f)==="treatment"}v(h,"isDesktopNotificationTracingEnabled");function _(j){try{return JSON.stringify(j)}catch(W){return Object(a.b)().warn("encodeNotificationTracePassthrough json stringify error",W),""}}v(_,"encodeNotificationTracePassthrough");function b(j){try{const{traceId:W,parentSpanId:U}=JSON.parse(j);return{traceId:W,parentSpanId:U}}catch(W){return Object(a.b)().warn("decodeNotificationTracePassthrough json parse error",W),{traceId:"",parentSpanId:""}}}v(b,"decodeNotificationTracePassthrough");function I(j){let{tracer:W,name:U,parentSpanId:B,traceId:Y}=j;return W.createSpan({name:U,samplingOptions:{sampleType:l.a.ALWAYS},options:{parentSpanId:B,traceId:Y}})}v(I,"createSpan");function C(j){let{tracer:W,name:U,parentSpanId:B,traceId:Y}=j;const z=I({tracer:W,name:U,parentSpanId:B,traceId:Y});return z.close(),z}v(C,"createAndCloseSpan");function y(j,W){let{tracer:U,message:B}=W;const Y=C({tracer:U,name:d}),z=Object(r.i)()?"desktop":"browser",F=Object(o.a)(j),V=Object(i.g)(j),L=Object(s.a)(B==null?void 0:B.ts,".",""),Q=B==null?void 0:B.channel,ee=`${F}-${Q}-${L}`;return Y.addTags({platform:z,encoded_user_id:F,encoded_team_id:V,encoded_channel_id:Q,message_ts:L,notification_id:ee}),Y}v(y,"createAndCloseNotificationSentSpan");function P(j,W){let{message:U}=W;if(!U||!(U!=null&&U.ts)||!(U!=null&&U.channel)||!h(j))return;const B=Object(u.a)({state:j});let Y,z;const F=[];if((U==null?void 0:U.type)==="desktop_notification"&&(U!=null&&U.trace_ctx))Y=U.trace_ctx["x-b3-traceid"],z=U.trace_ctx["x-b3-spanid"];else{const L=y(j,{tracer:B,message:U});F.push(L),z=L.getId(),Y=L.getTraceId()}const V=C({name:O,tracer:B,traceId:Y,parentSpanId:z});return F.push(V),B.reportSpans(F),{traceId:Y,parentSpanId:z}}v(P,"traceNotificationSentAndReceived");function T(j,W){let{notificationTracePassthroughData:U}=W;if(!U||!h(j))return;const{traceId:B,parentSpanId:Y}=U,z=Object(u.a)({state:j}),F=C({tracer:z,traceId:B,parentSpanId:Y,name:m});z.reportSpans([F])}v(T,"traceNotificationOpened");function S(j,W){let{notificationTracePassthroughData:U,clientMsgId:B}=W;if(!U||!B||!h(j))return;const{traceId:Y,parentSpanId:z}=U,F=Object(u.a)({state:j}),V=C({tracer:F,traceId:Y,parentSpanId:z,name:g});V.addTags({reply_message_client_message_id:B}),F.reportSpans([V])}v(S,"traceNotificationQuickReply");let A={};function R(j){return!!A[j]}v(R,"messageHasPendingNotificationTrace");function x(j,W){let{timestamp:U,notificationTracePassthroughData:B}=W;if(!B||!h(j))return;Object(t.a)(A)>p&&(Object(a.a)({state:j}).error("notification-tracing-utils: notificationTracePassThroughData exceeded maximum size"),A={});const{traceId:Y,parentSpanId:z}=B,F=Object(u.a)({state:j}),V=I({tracer:F,traceId:Y,parentSpanId:z,name:E});A[U]=V}v(x,"openNotificationReadSpan");function M(j,W){let{timestamp:U}=W;if(!U||!h(j))return;const B=A[U];if(!B)return;const Y=Object(u.a)({state:j});B.close(),Y.reportSpans([B]),delete A[U]}v(M,"closeAndReportNotificationReadSpan")},UnpP:function(K,n,e){"use strict";e.d(n,"a",function(){return j});var s=e("RaLP"),t=e.n(s),a=e("q1tI"),r=e.n(a),c=e("zxER"),o=e("Cfcg"),i=e("iuhU"),l=e("JoR1"),u=e("EJqq"),f=e("O86Y"),d=e("yrot"),O=e("whaK"),m=e("jlKB"),g=e("nNoG"),E=e("RJAC"),p=e("Y31Q"),h=e("Bkx2"),_=e("HJKc"),b=e("iomZ"),I=e("nWdO"),C=e("oEDn"),y=e("s4P+");function P(){return P=Object.assign||function(F){for(var V=1;V<arguments.length;V++){var L=arguments[V];for(var Q in L)Object.prototype.hasOwnProperty.call(L,Q)&&(F[Q]=L[Q])}return F},P.apply(this,arguments)}v(P,"_extends");function T(F){return class extends a.PureComponent{componentDidCatch(V,L){this.setState(()=>({hasError:!0})),Object(y.b)().error({label:"Error rendering emoji component",error:V,message:L})}render(){return this.state.hasError?r.a.createElement("span",{className:"c-emoji c-emoji__medium c-emoji--inline"},r.a.createElement("img",{src:t.a})):r.a.createElement(F,P({},this.props))}constructor(V){super(V),this.state={hasError:!1}}}}v(T,"withEmojiErrorBoundary"),T.displayName="withEmojiErrorBoundary";var S=T,A=e("L1AX"),R=e("9BZl"),x=e("Oy0v");function M(){return M=Object.assign||function(F){for(var V=1;V<arguments.length;V++){var L=arguments[V];for(var Q in L)Object.prototype.hasOwnProperty.call(L,Q)&&(F[Q]=L[Q])}return F},M.apply(this,arguments)}v(M,"emoji_extends");const j={SMALL:"small",MEDIUM:"medium",LARGE:"large",LARGER:"larger",XLARGE:"xlarge"},W=v(F=>{const V=Object(c.a)(L=>{if(!F.isStandard)return F.url;var Q;const ee=(Q=F.sourceTeamId)!==null&&Q!==void 0?Q:Object(f.g)(L);return F.isStandard?Object(d.j)(L,{text:F.text||"",teamId:ee,emojiMode:Object(O.a)(L,{forceDisplay:!!F.forceDisplay}),emojiSize:j.XLARGE}):F.url});return r.a.createElement(U,{shouldFallbackOnLoadError:!0,renderAsText:!1,showTooltip:!1,emojiSize:j.LARGER,text:F.text,displayText:F.displayText,url:V||"",sourceTeamId:F.sourceTeamId,ariaLabel:F.ariaLabel,alt:F.alt,unicode:F.unicode,emojiNameFromText:F.emojiNameFromText,dispatch:F.dispatch,stopAnimations:F.stopAnimations,fallbackUrl:F.fallbackUrl,isStandard:F.isStandard})},"EmojiTooltipEmoji");W.displayName="EmojiTooltipEmoji";let U=v(class extends a.PureComponent{onLoadError(){this.setState(()=>({isLoadError:!0}))}renderIconFallback(){return r.a.createElement(C.a,{legacy:!0,className:"c-emoji__text_mode_icon",type:"info-circle",align:"top",inherit:!0})}isImportable(){const{isLoadError:V}=this.state,{isImportAllowed:L,isStandard:Q}=this.props;return L&&!Q&&!V}renderEmojiElement(){const{text:V,displayText:L,url:Q,emojiSize:ee,isEmojiInlineWithText:te,className:le,shouldFallbackOnLoadError:Oe,fallbackUrl:he,ariaLabel:Ee,alt:ge}=this.props,{isLoadError:J}=this.state,H=Object(i.default)("c-emoji",`c-emoji__${ee}`,le,{"c-emoji--inline":te}),Z=Ee??(L&&Object(p.a)(L)),q={"data-stringify-type":"emoji","data-stringify-emoji":V},k=this.isImportable()?this.handleEmojiImport:void 0;return te?r.a.createElement("span",{className:H,"data-qa":(J||!Q)&&Oe?"emoji-fallback":"emoji"},r.a.createElement("img",M({src:(J||!Q)&&Oe?he:Q,onError:this.onLoadError,onContextMenu:k,"aria-label":Z,alt:L},q))):r.a.createElement("img",M({src:(J||!Q)&&Oe?he:Q,onError:this.onLoadError,"aria-label":Z,alt:ge??L,className:H,onContextMenu:k,"data-qa":(J||!Q)&&Oe?"emoji-fallback":"emoji"},q))}renderUnicodeAsEmoji(V){if(V&&Object(_.a)(V)){const{emojiSize:L}=this.props,Q=Object(b.a)({codePointLikeString:V});return r.a.createElement("span",{className:Object(i.default)("c-emoji__unicode",{"c-emoji__unicode--large":L===j.LARGE})},Q)}}renderTooltip(){const{renderAsText:V,displayText:L,text:Q,isStandard:ee,url:te,unicode:le,sourceTeamId:Oe,ariaLabel:he,alt:Ee,emojiNameFromText:ge,stopAnimations:J,fallbackUrl:H,forceDisplay:Z}=this.props;if(V)return L;const q=ee?void 0:te;return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"c-emoji__emoji-tooltip"},r.a.createElement(W,{text:Q,displayText:L,url:q,sourceTeamId:Oe,ariaLabel:he,alt:Ee,unicode:le,emojiNameFromText:ge,dispatch:this.props.dispatch,stopAnimations:J,fallbackUrl:H,isStandard:ee,forceDisplay:Z})),L,this.isImportable()&&r.a.createElement(R.a,{emojiName:L,emojiUrl:te}))}render(){const{displayText:V,url:L,renderAsText:Q,showTooltip:ee,iconInTextMode:te,renderEmojiFallback:le,unicode:Oe,emojiNameFromText:he}=this.props;if(!L&&!V&&!Oe)return null;if((Q||!L)&&!le&&!Oe)return te?this.renderIconFallback():V;if(Oe&&!he){var Ee;return(Ee=this.renderUnicodeAsEmoji(Oe))!==null&&Ee!==void 0?Ee:V}return ee?r.a.createElement(I.c,{tip:this.renderTooltip,delay:I.a,zIndex:"above_fs"},this.renderEmojiElement()):this.renderEmojiElement()}constructor(V){super(V),this.handleEmojiImport=L=>{if(L!=null&&L.altKey)return;const{url:Q,dispatch:ee,displayText:te}=this.props;ee(Object(A.a)({emojiName:te,emojiUrl:Q,event:L}))},this.onLoadError=this.onLoadError.bind(this),this.renderTooltip=this.renderTooltip.bind(this),this.state={isLoadError:!1}}},"Emoji");U.displayName="Emoji",U.defaultProps={text:"",showTooltip:!1,className:void 0,stopAnimations:!1,iconInTextMode:!1,url:void 0,emojiSize:j.MEDIUM,isEmojiInlineWithText:!1,isImportAllowed:!1,displayText:"",sourceTeamId:void 0,shouldFallbackOnLoadError:!1,renderEmojiFallback:!1,ariaLabel:void 0,alt:void 0};const B=v((F,V)=>{const{stopAnimations:L,forceDisplay:Q,emojiSize:ee=j.MEDIUM,url:te,unicode:le}=V;let{text:Oe}=V,he=Object(d.i)(F,le??"");he&&he.charAt(he.length-1)!==":"&&he.charAt(0)!==":"&&(he=`:${he}:`),Oe=he||Oe||"";let Ee=te;const ge=Object(f.g)(F)||"",J=!Object(l.u)(F,"a11y_animations"),H=L||J,Z=Object(g.n)({teamOrEnterpriseId:ge,recalc:!1}),q=Object(u.i)({state:F,locale:Z,name:Oe}),k=!Q&&Object(m.a)(F),se=Object(x.a)(Oe),re=Object(h.b)(F,se);if(!k&&!Ee){const ce=Object(O.a)(F,{forceDisplay:!!Q});var X;const ie=(X=V.sourceTeamId)!==null&&X!==void 0?X:ge;Ee=Object(d.j)(F,{text:Oe,parsedEmoji:se,teamId:ie,emojiMode:ce,emojiSize:ee===j.LARGER?j.XLARGE:ee})||void 0}if(H&&!re){var w;Ee=(w=Object(E.a)(F,{url:Ee,stopAnimations:H,isEmoji:!0}))!==null&&w!==void 0?w:void 0}return{text:Oe,url:Ee,renderAsText:k,emojiSize:ee,displayText:q||"",stopAnimations:H,fallbackUrl:t.a,isStandard:re,emojiNameFromText:he}},"mapStateToProps"),Y={mapStateToProps:B};var z=n.b=S(Object(o.a)(B)(U))},Uqsd:function(K,n,e){"use strict";e.d(n,"c",function(){return rt}),e.d(n,"a",function(){return pe}),e.d(n,"b",function(){return je}),e.d(n,"d",function(){return ze}),e.d(n,"e",function(){return Be}),e.d(n,"g",function(){return Ye}),e.d(n,"f",function(){return we});var s=e("9oTK"),t=e("Lgge"),a=e("ifKl"),r=e("ZP0B"),c=e("s4P+"),o=e("SQ0V"),i=e("lhZz"),l=e("O86Y"),u=e("9Gfp"),f=e("uBea"),d=e("4p6e"),O=e("Z7Ay"),m=e("uAML"),g=e("G5NC"),E=e("GlHf"),p=e("3KJg"),h=e("+HFy"),_=e("aVws"),b=e("UIWO"),I=e("gSGL"),C=e("E3dU"),y=e("jlq+"),P=e("Sl1j"),T=e("Zbwg"),S=e("+l5E"),A=e("E97Y"),R=e("Yauy");function x(Ze,Xe,Ct){return!Ze.text||!(S.d.test(Ze.text)||S.a.test(Ze.text)||S.b.test(Ze.text)||S.c.test(Ze.text))||!Object(C.x)(Ct(),Ze.channel)?t.a.resolve():Xe(Object(y.a)({channelId:Ze.channel})).catch(a.a)}v(x,"maybeEnsureMemberCount");let M=function(){var Ze=Object(s.coroutine)(function*(Xe,Ct){const G=Ct(),de=v(function(){for(var tt=arguments.length,ut=new Array(tt),St=0;St<tt;St++)ut[St]=arguments[St];return Object(i.dispatchForTeamId)(Object(l.g)(G),...ut)},"dispatch"),Le=Xe.subtype?`preprocess-rtm-message/ensureModelObsInMessageArePresent for type: ${Xe.type} and subtype: ${Xe.subtype}`:`preprocess-rtm-message/ensureModelObsInMessageArePresent for type: ${Xe.type}`,Fe=Object(I.a)(Xe.channel)&&Object(T.a)(Xe.channel)&&!Object(C.x)(G,Xe.channel)?de(Object(P.f)({ids:[Xe.channel],reason:Le,callSource:P.a.EnsureModelObsArePresent})):t.a.resolve();yield t.a.all([Fe,x(Xe,de,Ct)]).catch(a.a)});return v(function(Ct,G){return Ze.apply(this,arguments)},"ensureModelObsInMessageArePresent")}();function j(Ze,Xe){return W.apply(this,arguments)}v(j,"ensureModelObsInMessageAreOpen");function W(){return W=Object(s.coroutine)(function*(Ze,Xe){if(Ze.subtype)return;const Ct=!1,G=Object(C.c)(Xe(),Ze.channel,Ct);G&&Object(A.h)(G)&&(Object(R.jb)(G)||(yield Object(i.dispatchForTeamId)(Object(l.g)(Xe()),Object(P.r)({channel:G.id,reason:"preprocess-rtm-message/ensureModelObsInMessageAreOpen"}))))}),W.apply(this,arguments)}v(W,"_ensureModelObsInMessageAreOpen");function U(Ze,Xe){return B.apply(this,arguments)}v(U,"preprocessRtmMessage");function B(){return B=Object(s.coroutine)(function*(Ze,Xe){if(Ze.type==="message")try{yield M(Ze,Xe),yield j(Ze,Xe)}catch{}}),B.apply(this,arguments)}v(B,"_preprocessRtmMessage"),Object.defineProperty({maybeEnsureMemberCount:x,ensureModelObsInMessageAreOpen:j},"ensureModelObsInMessageArePresent",{get:()=>M,set:Ze=>{M=Ze}});var z=e("oTSI"),F=e("9mJw"),V=e("Yk1L"),L=e("DKof"),Q=e("Pw4T"),ee=e("PLUl"),te=e("aNqa"),le=e("rIJ2");const Oe=7;let he;const Ee=[],ge=[];let J,H;Object(O.b)("rtmMetrics",()=>({enqueuedEventCounts:{allTeams:Ee.concat(J),backgroundTeams:ge.concat(H)}}));const Z=Object(z.a)(()=>Object(le.a)(1)||Object(te.a)(Object(i.getStateForClientStore)(),"feature_tinyspeck"));function q(){let Ze=arguments.length>0&&arguments[0]!==void 0?arguments[0]:1;if(!Object(g.a)()||!Z())return;const Xe=Math.floor(Date.now()/1e3);if(he!==Xe){let Ct=0;if(he){const G=Xe-he;G>60?(J=void 0,H=void 0,Ee.length=0,ge.length=0):G>1&&(Ct=Xe-he)}if(he=Xe,J!==void 0){Ee.push(J),ge.push(H);for(let de=0;de<Ct;de++)Ee.push(0),ge.push(0);const G=15*60;if(Ee.length>=G){const de=Object(Q.a)(),Le=Object(F.a)(Object(V.a)(Ee),1),Re=Object(r.a)(Ee)||0,Fe=Object(L.a)(Ee);Object(c.b)({label:"RTM-ENQUEUE-STATS"}).info(`Enqueue times (all teams): ${Fe} total, ${Re} per second at peak, ${Le} per second average`);const ut={is_count:!0,allow_zero:!0};de.store(`rtm_nq_at${Oe}_avg`,Le,ut),de.store(`rtm_nq_at${Oe}_max`,Re,ut),de.store(`rtm_nq_at${Oe}_total`,Fe,ut),Ee.length=0,ge.length=0}}J=0,H=0}J=(J||0)+Ze}v(q,"maybeMeasureEnqueueVelocity");let k=0,se=0,re=Date.now(),X=Date.now();const w=5*60*1e3;function ce(Ze){const Xe=Date.now();k=Math.max(k,Ze.length),re+w<Xe&&(Object(Q.a)().count("rtm_queue_length_max",k),k=0,re=Xe)}v(ce,"maybeMeasureMaxQueueLength");function ie(Ze){const Ct=Ze[0]._enqueuedAt,G=Date.now(),de=Ct&&G-Ct;if(se=de?Math.max(se,de):se,X+w<G){const Le=Object(ee.a)(),Re=Le.createMetricsTrace({label:"rtm_queue"});Re.store({name:"rtm_queue_delay_max",value:se}),Le.reportTrace(Re),se=0,X=G}}v(ie,"maybeMeasureMaxQueueDelay");var oe=e("2Qyd"),me=e("i5QK"),ue=e("bTZa");const _e="RTM",be=100;let Ae={};const Ce=v(function(){let Ze=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",Xe=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";return Ae[`${Ze}${Xe?`_${Xe}`:""}`]||1},"getCurrentMaxBatchSize"),De=v(function(){let Ze=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",Xe=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",Ct=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1;Ae[`${Ze}${Xe?`_${Xe}`:""}`]=Ct},"setCurrentMaxBatchSize"),Pe=new Set(["accounts_changed","benchmark","bot_changed","channel_changed","channel_marked","client_logs_request","commands_changed","desktop_notification","draft_create","email_domain_changed","file_change","file_created","file_private","file_public","file_shared","file_unshared","group_marked","im_marked","manual_presence_change","mpim_marked","team_rename","user_change","user_invalidated","user_typing"]),Ue=16;let ae={},ne={},Ie={},Te={};function Me(Ze){var Xe;return(Xe=ne[Ze])!==null&&Xe!==void 0?Xe:ae[Ze]}v(Me,"getHandler");function Ne(Ze){return Ze.__isShared}v(Ne,"isSharedHandler");function He(Ze){return Ze.enterpriseId!==void 0}v(He,"isRoutedOrgHandler");function Et(Ze){return Ze.teamOrEnterpriseId!==void 0}v(Et,"isRoutedTeamHandler");function Je(Ze){return He(Ze)?Ze.enterpriseId:Ze.teamOrEnterpriseId}v(Je,"getTeamOrEnterpriseId");function qe(Ze){let{messages:Xe,teamOrEnterpriseId:Ct}=Ze;if(Xe.msgs.length===0)return;const G=Me(Xe.rtmEventType);if(!G)return;const de={handler:G,messages:Xe};if(Object(oe.c)(Ct)||Object(b.c)(Ct))return{...de,teamOrEnterpriseId:Ct};const Re=h.a.get(Ct).getRouting(Xe.rtmFilters);return Re.teamIds.length===0?void 0:Re.enterpriseId&&Ne(G)?{...de,handler:G,enterpriseId:Re.enterpriseId,teamIds:Re.teamIds}:{...de,teamIds:Re.teamIds}}v(qe,"getRoutedHandler");function ke(Ze,Xe){if(Ie[Ze]){const G=Object(f.a)()||Object(d.a)()?`addRtmErrorHandler: duplicate call to add a handler for ${Ze}; this is probably caused by using inject-loader/import mocking. If so, \`import { test as rtmTest } from '@slack/infra/rtm/rtm'; mockProperty(rtmTest, 'handlers', {});\` to work around it.`:`addRtmErrorHandler: a handler is already registered for ${Ze}`;throw new Error(G)}Ie[Ze]=Xe}v(ke,"addRtmErrorHandler");function rt(Ze,Xe){xe({functionName:"addSharedRtmHandler",handlersName:"sharedHandlers",rtmEventType:Ze});const Ct=Object.assign(Xe,{__isShared:!0});ne[Ze]=Ct}v(rt,"addSharedRtmHandler");function pe(Ze,Xe){xe({functionName:"addBatchRtmHandler",handlersName:"handlers",rtmEventType:Ze}),ae[Ze]=Xe}v(pe,"addBatchRtmHandler");function je(Ze,Xe){pe(Ze,(Ct,G,de)=>{for(const Le of Ct)Xe(Le,G,de)})}v(je,"addRtmHandler");function xe(Ze){let{functionName:Xe,handlersName:Ct,rtmEventType:G}=Ze;if(!ae[G]&&!ne[G])return;const Le=Object(f.a)()||Object(d.a)()?`${Xe}: duplicate call to add a handler for ${G}; this is probably caused by using inject-loader/import mocking. If so, \`import { test as rtmTest } from '@slack/infra/rtm/rtm'; mockProperty(rtmTest, '${Ct}', {});\` to work around it.`:`${Xe}: a handler is already registered for ${G}`;throw new Error(Le)}v(xe,"throwIfHandlerRegistered");function ze(Ze){return!!ae[Ze]}v(ze,"doesHandlerExist");function st(){return ae}v(st,"debugGetHandlers");function ct(){return Te}v(ct,"debugGetPendingMessages");function dt(Ze){const{rtmEventType:Xe,rtmEventSubtype:Ct,msgs:G,fromEvtLog:de}=Ze.messages,Le=Je(Ze),Re=Object(c.a)({label:_e,teamOrEnterpriseId:Le}),Fe=performance.now();try{if(m.b.pauseRefetchIndefinitely(),He(Ze))Ze.handler(G,Ze.enterpriseId);else{const ut=Ze.handler;if(Ne(ut))ut(G,Ze.teamOrEnterpriseId);else{const St=Object(i.getStoreInstanceByTeamId)(Ze.teamOrEnterpriseId);ut(G,St.dispatch,St.getState)}}}catch(ut){throw Re.error(`Error processing ${Xe}: ${ut.message}`),ut}finally{m.b.unpauseRefetchImmediately()}const tt=performance.now()-Fe;try{Object(p.c)({teamOrEnterpriseId:Le,rtmEventType:Xe,duration:tt,msgs:G,fromEvtLog:de}),me.a.publish({type:ue.c.RtmMetrics,update:tt})}catch{}if(tt>Ue){let ut=`Processed ${G.length} ${Xe}`;Ct&&(ut+=`:${Ct}`),ut+=" event(s)";const St=[];G.forEach(tn=>{var Yt;const un=(Yt=tn)===null||Yt===void 0?void 0:Yt.channel;un&&St.push(un)}),St.length&&(ut+=` in channel(s) ${St.join(",")}`),ut+=` over ${tt.toFixed(2)}ms`,Re.info(ut)}}v(dt,"dispatchMessages");const bt=50,Ft=100,Bt=.75,at=1.1;function Ht(Ze){return Ze>bt}v(Ht,"shouldDefer");function Wt(Ze){return yt.apply(this,arguments)}v(Wt,"preprocessRtmMessagesWithTimeout");function yt(){return yt=Object(s.coroutine)(function*(Ze){let{msgs:Xe,getState:Ct}=Ze;const G={},de=3e4,Le=t.a.delay(de,G),Re=t.a.map(Xe,tt=>U(tt,Ct).catch(a.a),{concurrency:1});(yield t.a.race([Re,Le]))===G&&Object(c.a)({getState:Ct}).warn("Preprocessing messages took too long; continue to process queue")}),yt.apply(this,arguments)}v(yt,"_preprocessRtmMessagesWithTimeout");function Xt(Ze){return cn.apply(this,arguments)}v(Xt,"routeMessages");function cn(){return cn=Object(s.coroutine)(function*(Ze){let{messages:Xe,teamOrEnterpriseId:Ct,elapsed:G}=Ze;const de=qe({messages:Xe,teamOrEnterpriseId:Ct});if(!de||mt(Ct))return G;if(He(de)||Et(de))return mn({routedHandler:de,elapsed:G});const Le=yield t.a.all(de.teamIds.map(Fe=>{const tt={...de,teamOrEnterpriseId:Fe};return mn({routedHandler:tt,elapsed:G})}));var Re;return(Re=Object(r.a)(Le))!==null&&Re!==void 0?Re:G}),cn.apply(this,arguments)}v(cn,"_routeMessages");function mn(Ze){return In.apply(this,arguments)}v(mn,"dispatchMessagesWithPreprocessing");function In(){return In=Object(s.coroutine)(function*(Ze){let{routedHandler:Xe,elapsed:Ct}=Ze;const G=performance.now(),de=He(Xe)?Xe.teamIds:[Xe.teamOrEnterpriseId];yield t.a.all(de.map(Fe=>{const tt=Object(i.getStoreInstanceByTeamId)(Fe);return Wt({msgs:Xe.messages.msgs,getState:tt.getState})}));const Le=performance.now();dt(Xe);let Re=Ct;return Le-G>bt&&(Re=0),Re+=performance.now()-Le,Re}),In.apply(this,arguments)}v(In,"_dispatchMessagesWithPreprocessing");function pt(Ze){return Tt.apply(this,arguments)}v(pt,"handleNextMessageFromQueue");function Tt(){return Tt=Object(s.coroutine)(function*(Ze){let{queue:Xe,teamOrEnterpriseId:Ct,elapsed:G=0}=Ze;for(var de;Xe&&Xe.length>0&&!(!((de=Xe[0])===null||de===void 0)&&de.type);)Xe.shift();if(!Xe||!Xe.length)return t.a.resolve();const Le=Object(c.a)({teamOrEnterpriseId:Ct,label:_e});try{ce(Xe),ie(Xe)}catch{}const Re=Xe[0].type,Fe=Xe[0].subtype,tt=h.a.getFilters(Xe[0]),ut=Object(oe.b)(Xe[0]);let St=Ce(Re,Fe);const tn=[Xe[0]],Yt=[];for(let An=1;An<Xe.length&&tn.length<St&&Yt.length<St;An++)if(Xe[An].type===Re&&Xe[An].subtype===Fe&&h.a.isEqualFilters(tt,h.a.getFilters(Xe[An])))tn.push(Xe[An]);else if(Pe.has(Xe[An].type))Yt.push(Xe[An]);else break;const un=tn.length;un>1&&Le.debug(_e,`Batch processing ${un} of type ${Re}, skipping ${Yt.length} interleaved events ${Yt.map(An=>An.type).join(",")}`);let $t=G;try{$t=yield Xt({messages:{rtmEventType:Re,rtmEventSubtype:Fe,rtmFilters:tt,msgs:tn,fromEvtLog:ut},teamOrEnterpriseId:Ct,elapsed:$t})}catch(An){Le.error(`Error while processing ${un} ${Re} event(s)`,An)}finally{un!==tn.length&&(Le.error(`Message batch size for type (${Re}) changed during handling`),Le.warn(`Original batch size: ${un} Post-handler batch size: ${tn.length}`));const An=un+Yt.length;Xe.splice(0,An,...Yt)}const gn=Ht($t),et=document.visibilityState==="visible";return St=Ce(Re,Fe),et&&(gn?St>1&&$t>Ft&&(De(Re,Fe,Math.max(1,Math.floor(St*Bt))),Le.debug(_e,`Maximum batch size decreased to ${Ce(Re,Fe)}`)):St<be&&tn.length===St&&(De(Re,Fe,Math.min(be,Math.ceil(St*at))),Le.debug(_e,`Maximum batch size increased to ${Ce(Re,Fe)}`))),Xe.length?et&&gn?t.a.delay(bt).then(()=>{Ve(Ct)}):pt({queue:Xe,teamOrEnterpriseId:Ct,elapsed:$t}):t.a.resolve()}),Tt.apply(this,arguments)}v(Tt,"_handleNextMessageFromQueue");let Lt=0,gt,it=100;function ft(){let Ze=arguments.length>0&&arguments[0]!==void 0?arguments[0]:Object(c.b)();if(gt)return;const Xe=Date.now()-Lt;if(Xe<it){const Ct=Math.min(it-Xe,it),G=Object(g.a)()&&!Object(E.k)(Object(i.getStateForClientStore)());G&&Ze.info(_e,`Setting a timeout of ${Ct} ms to process more rtm events`),gt=window.setTimeout(()=>{gt=void 0,G&&Ze.info(_e,`Waited ${Ct} ms, processing more rtm events now`),Ke()},Ct);return}Ke()}v(ft,"maybeDrainQueues");function Ke(){Lt=Date.now();const Ze=Object.keys(Te);for(const Xe of Ze)Ve(Xe)}v(Ke,"drainQueues");function Ve(Ze){!Te[Ze]||!Te[Ze].length||pt({queue:Te[Ze],teamOrEnterpriseId:Ze})}v(Ve,"drainQueue");function Be(Ze,Xe){let Ct=0;const G=Xe.filter(Re=>Re!=null&&Re.type?(Object(oe.b)(Re)||(Ct+=1),!0):(Object(c.a)({teamOrEnterpriseId:Ze,label:_e}).warn("Received attempt to enqueue an invalid message; dropping it",Re),!1));try{q(Ct)}catch{}Te[Ze]=Te[Ze]||[];const de=Te[Ze].length,Le=Date.now();for(const Re of G)Re._enqueuedAt=Le;Te[Ze].push(...G),!de&&Te[Ze].length>0&&ft()}v(Be,"enqueueMessages");const Ye=Object(o.c)("Calls the relevant rtm handlers with the given rtm message, skipping the queue and without preprocessing (this is intended for degraded mode usage only)",(Ze,Xe,Ct)=>{const G=Object(l.g)(Xe()),de=qe({messages:{rtmEventType:Ct.type,rtmEventSubtype:Ct.subtype,msgs:[Ct],fromEvtLog:Object(oe.b)(Ct)},teamOrEnterpriseId:G});de&&dt(de)});Ye.meta={name:"createThunk",key:"createThunkhandleMessageImmediatelyWithoutPreprocessing",description:"Calls the relevant rtm handlers with the given rtm message, skipping the queue and without preprocessing (this is intended for degraded mode usage only)"};const we=Object(o.c)("Calls the relevant handler for the given message",(Ze,Xe,Ct)=>{if(!Ie[Ct]){if(Ct&&Ct.includes&&Ct.includes("started_with_org_token")){var G;Object(c.a)({getState:Xe}).error(new Error(`Unexpected start error: ${Ct}`),JSON.stringify({error:Ct,pathname:window==null||(G=window.location)===null||G===void 0?void 0:G.pathname}),{subtype:"gs_start_error"})}else Object(c.a)({getState:Xe}).error(new Error(`Unexpected start error: ${Ct}`),JSON.stringify({error:Ct}),{subtype:"gs_start_error"});return}Ie[Ct](Ct,Ze,Xe)});we.meta={name:"createThunk",key:"createThunkhandleErrorMessage",description:"Calls the relevant handler for the given message"};function mt(Ze){const Xe=Object(i.getStateByTeamId)(Object(_.a)(Ze));return Object(u.l)(Xe)&&!Object(u.n)(Xe)}v(mt,"shouldIgnoreRtmStream");const Pt=Object(o.c)("Fake an RTM event for testing only",(Ze,Xe,Ct)=>{const G=Object(l.g)(Xe()),de=qe({messages:{rtmEventType:Ct[0].type,rtmEventSubtype:Ct[0].subtype,msgs:Ct,fromEvtLog:Object(oe.b)(Ct[0])},teamOrEnterpriseId:G});de&&dt(de)});Pt.meta={name:"createThunk",key:"createThunkhandleMessagesForTest",description:"Fake an RTM event for testing only"};const Nt={handleNextMessageFromQueue:pt,shouldIgnoreRtmStream:mt,errorHandlers:Ie,handlers:ae,sharedHandlers:ne,currentMaxBatchSize:Ae,drainQueues:Ke,drainQueue:Ve,maybeDrainQueues:ft,queueDrainTimeout:gt,lastQueueDrainTimestamp:Lt,pendingMessages:Te};Object.defineProperty(Nt,"handleNextMessageFromQueue",{get:()=>pt,set:Ze=>{pt=Ze}}),Object.defineProperty(Nt,"errorHandlers",{get:()=>Ie,set:Ze=>{Ie=Ze}}),Object.defineProperty(Nt,"handlers",{get:()=>ae,set:Ze=>{ae=Ze}}),Object.defineProperty(Nt,"sharedHandlers",{get:()=>ne,set:Ze=>{ne=Ze}}),Object.defineProperty(Nt,"currentMaxBatchSize",{get:()=>Ae,set:Ze=>{Ae=Ze}}),Object.defineProperty(Nt,"drainQueues",{get:()=>Ke,set:Ze=>{Ke=Ze}}),Object.defineProperty(Nt,"drainQueue",{get:()=>Ve,set:Ze=>{Ve=Ze}}),Object.defineProperty(Nt,"maybeDrainQueues",{get:()=>ft,set:Ze=>{ft=Ze}}),Object.defineProperty(Nt,"queueDrainTimeout",{get:()=>gt,set:Ze=>{gt=Ze}}),Object.defineProperty(Nt,"lastQueueDrainTimestamp",{get:()=>Lt,set:Ze=>{Lt=Ze}}),Object.defineProperty(Nt,"pendingMessages",{get:()=>Te,set:Ze=>{Te=Ze}}),Object(O.a)("rtm",{handlers:ae,errorHandlers:Ie,interceptHandler:(Ze,Xe)=>{const Ct=ae[Ze];ae[Ze]=function(){for(var G=arguments.length,de=new Array(G),Le=0;Le<G;Le++)de[Le]=arguments[Le];Xe(Ct,...de)}},getPendingMessages:()=>Te,globalQueue:{drainQueues:Ke,drainQueue:Ve,maybeDrainQueues:ft,getCurrentMaxBatchSize:()=>Ae,setCurrentMaxBatchSize:Ze=>{Ae=Ze},setQueueDrainInterval:Ze=>{it=Ze}}})},Uy34:function(K,n,e){K.exports=e.p+"ava_0002-192-0ddd598.png"},"V/As":function(K,n,e){"use strict";e.d(n,"a",function(){return l}),e.d(n,"b",function(){return f});var s=e("gV2L"),t=e.n(s),a=e("1Lli"),r=e("bPB8"),c=e("zmn3"),o=e("7EGn"),i=e("DR7d");const l=t.a;function u(d){return!d||!d.icons?[]:Object(a.a)(Object(r.a)(Object(c.a)(d.icons,(O,m)=>{let g=m.replace("image_","");return g=g.replace("image",""),parseInt(g,10)})),[],"desc")}v(u,"getAvailableIconSizes");function f(d,O){let m=arguments.length>2&&arguments[2]!==void 0?arguments[2]:l,g=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"icons.image_";const E=Object(i.a)(O,u(d)),p="icons.image",h=Object(o.a)(d,`${g}${E}`),_=Object(o.a)(d,`${p}${E}`,m);return h??_}v(f,"getAppIcon")},V0AD:function(K,n,e){"use strict";e.d(n,"a",function(){return c}),e.d(n,"b",function(){return o});var s=e("q1tI"),t=e.n(s),a=e("zxER"),r=e("2um6");const c=Object(s.createContext)({useARIAApplicationForListViews:!1}),o=v(i=>{const l=Object(a.a)(r.j),u=Object(s.useMemo)(()=>({useARIAApplicationForListViews:l}),[l]);return t.a.createElement(c.Provider,{value:u},i.children)},"A11yPrefsProvider");o.displayName="A11yPrefsProvider"},VDNX:function(K,n,e){"use strict";var s=e("Cfcg"),t=e("+kJ4"),a=e("7JUD");const r=v(o=>({closeModal:()=>o(Object(t.a)())}),"mapDispatchToProps"),c=Object(s.a)(void 0,r)(a.a);n.a=c},VHTg:function(K,n,e){"use strict";var s=e("lCmp"),t=e("s4P+"),a=e("G5NC"),r=e("TMWO"),c=e("vfQU"),o=e("Kyco"),i=e("lhZz"),l=e("PZKh"),u=e("WvYH"),f=e("zm5I"),d=e("apAF"),O=e("7xYR");let m="light",g=!1,E="light";try{r.b&&Object(a.a)()&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").addListener(h=>{const _=h.matches?"dark":"light";E=_,g&&(m=E);const b=Object(i.getClientStoreInstance)();if(b){const I=b.getState(),C=Object(O.getBootedWorkspaces)(I),y=Object(s.a)(C.map(P=>Object(r.a)(Object(i.getStateByTeamId)(P))));b.dispatch(Object(u.c)(_)),y&&Object(f.b)(I)&&b.dispatch(Object(d.a)(_))}})}catch(h){Object(t.b)().warn("CLIENT-THEME-STORE","window.matchMedia hook failed; system theme will not be updated.",h)}try{const h=window.localStorage.getItem(l.b),_=window.localStorage.getItem(l.a);m=h||"light",r.b&&(_?g=_==="true":g=!h,window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches&&(E="dark"),g&&(m=E)),Object(c.db)()&&(Object(c.bc)({name:"userTheme",value:m}),Object(c.bc)({name:"systemThemeSyncEnabled",value:g}))}catch(h){Object(t.b)().warn("CLIENT-THEME-STORE","localStorage read failed; client theme will not be persisted.",h)}const p=Object(o.b)({},{clientTheme:m,systemSync:g,systemTheme:E},{storeKey:"clientTheme",persistenceEnabled:!1}).on(u.a,function(h){let _=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"light";return{...h,clientTheme:_}}).on(u.b,function(h){let _=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;return{...h,systemSync:_}}).on(u.c,function(h){let _=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"light";return{...h,systemTheme:_}});n.a=p},VKu5:function(K,n,e){"use strict";e.d(n,"a",function(){return c});var s=e("AFNo"),t=e("GNR7"),a=e("O86Y"),r=e("sekU");const c=Object(s.c)((o,i)=>{const l=Object(t.A)(o);if(l)return l;const u=Object(t.a)(o,i);if(!u)return null;const f=Object(a.g)(o);return u.name===void 0?(Object(r.b)().fetchObjectWithId(f,u.id),null):(Object(r.a)().maybeRefetch(f,u.id),u.name)});c.meta={name:"createSelector",key:"createSelectorgetHuddleTopic",description:(o,i)=>{const l=Object(t.A)(o);if(l)return l;const u=Object(t.a)(o,i);if(!u)return null;const f=Object(a.g)(o);return u.name===void 0?(Object(r.b)().fetchObjectWithId(f,u.id),null):(Object(r.a)().maybeRefetch(f,u.id),u.name)}}},VSFm:function(K,n,e){"use strict";e.d(n,"a",function(){return i});var s=e("SQ0V"),t=e("Lgge"),a=e("do0Y"),r=e("Zbwg"),c=e("s4P+"),o=e("mb4i");const i=Object(s.c)("Fetch teams connected to a shared channel and upsert into frontend store.",(l,u,f)=>{let{channelId:d,reason:O="fetchAndUpsertSharedChannelTeamConnections"}=f;return Object(r.a)(d)?l(Object(o.a)({reason:O,channel:d})).then(m=>{const{channel:g,connections:E=[],pending_connections:p=[],previous_connections:h=[]}=m;return l(Object(a.a)({id:g.id,conversationHostId:g.conversation_host_id,isChannelSponsored:g.is_sponsored,connections:E,pendingConnections:p,previousConnections:h})),m}).catch(m=>{throw m}):(Object(c.a)({getState:u}).warn(`fetchAndUpsertSharedChannelTeamConnections called with incorrect channelId type: ${d}`),t.a.resolve())});i.meta={name:"createThunk",key:"createThunkfetchAndUpsertSharedChannelTeamConnections",description:"Fetch teams connected to a shared channel and upsert into frontend store."}},VSuV:function(K,n,e){"use strict";var s=e("q1tI"),t=e.n(s),a=e("zxER"),r=e("xwCZ"),c=e("Enx8"),o=e("C3vN"),i=e("nNoG"),l=e("hooW");const u=new i.b("channel_token"),f=v(d=>{let{userId:O,isFirst:m,isSelf:g}=d;var E;const p=(E=Object(a.a)(_=>Object(r.g)(_,O)))!==null&&E!==void 0?E:void 0;let h=Object(a.a)(_=>Object(c.a)(_,O));return Object(o.Bb)(p)?t.a.createElement(l.a,{type:"unknown",subtler:!0}):Object(o.qb)(p)?t.a.createElement(l.a,{type:"non-existent",subtler:!0}):(g&&(h=m?u.t("You"):u.t("you")),t.a.createElement(t.a.Fragment,null,h))},"TooltipMemberName");f.displayName="TooltipMemberName",n.a=t.a.memo(f)},VXST:function(K,n,e){"use strict";var s=e("SQ0V"),t=e("Lgge"),a=e("Tkkt"),r=e("blur"),c=e("05YS"),o=e("s4P+"),i=e("ASxg"),l=e("TBTs"),u=e("TU0B"),f=e("vkL2"),d=e("ohbk"),O=e("3fJ/"),m=e("rZ8V"),g=e("kZhr"),E=e("I0j/"),p=e("37+L");const h=Object(s.c)("Set a request from the editable request",(_,b,I)=>{let{query:C,fetchSuggestions:y=!0,module:P,mode:T,page:S,preventQueryRewrite:A=!1}=I;_(Object(a.m)({windowId:g.a}));const R=b(),x=C||Object(c.z)(R)||"",M=Object(o.a)({getState:b}),j=Object(c.C)(R);let W;if(P){M.info(i.a,`Retrying previous search for ${P} module`);const B=Object(l.m)(R,P)||{};W=_(Object(r.d)({page:S??B.page,module:P,reason:"search-retry-module"}))}else M.info(i.a,"Starting new search"),_(Object(a.c)({windowId:g.a})),W=_(Object(r.b)({query:x,reason:"search-new-query",fetchSuggestions:y,preventQueryRewrite:A}));const U=Object(u.a)(R);return U?(_(Object(f.a)({value:U})),Object(m.g)(R)?_(Object(E.a)(Object(p.S)(U))):_(Object(d.a)({id:"Psearch",routeParams:{searchQuery:U}})),_(Object(O.L)({view:P||"all",position:0})),x&&_(Object(r.r)({query:x,type:T||"unknown"})),j&&_(Object(a.d)({windowId:g.a})),W):t.a.reject(new Error("Error getting route param from search state"))});h.meta={name:"createThunk",key:"createThunksetRequestFromEditableRequest",description:"Set a request from the editable request"},n.a=h},VYSP:function(K,n,e){"use strict";e.d(n,"a",function(){return F}),e.d(n,"b",function(){return ee});var s=e("65zA"),t=e("PLUl"),a=e("5MVR"),r=e("tHoN"),c=e("s4P+"),o=e("lhZz"),i=e("j77i"),l=e("O86Y"),u=e("xwCZ"),f=e("JvzI"),d=e("RVJP"),O=e("E3dU"),m=e("gCYc"),g=e("7xYR"),E=e("4Vim"),p=e("Oczg"),h=e("hoMV"),_=e("8kWR"),b=e("SjsT"),I=e("DuRM"),C=e("XO6L"),y=e("3vtZ"),P=e("rZ8V"),T=e("GlHf"),S=e("hhWw"),A=e("Z7Ay");function R(){var te,le;return{hardware_concurrency:(te=window.navigator)===null||te===void 0?void 0:te.hardwareConcurrency,device_memory:(le=window.navigator)===null||le===void 0?void 0:le.deviceMemory}}v(R,"getDeviceStats");function x(){const te=localStorage==null?void 0:localStorage.getItem("client_metrics_client_redux_size"),le=Object(r.b)(),Oe=Object(r.a)(),he=le&&Oe?(le/Oe).toPrecision(4):null;return{total_client_redux_size:te,js_heap_used:le,js_heap_total:Oe,js_heap_used_percentage:he}}v(x,"getPerfMemoryStats");function M(){const te=localStorage==null?void 0:localStorage.getItem("client_metrics_app_stats");if(!te)return{};try{return JSON.parse(te)}catch(le){return Object(c.b)().warn("Error parsing appStats in localStorage:",te,le),{}}}v(M,"getDesktopAppStats");function j(){return{...Object(C.a)(),num_started_sockets:Object(h.d)(),frontend_build_type:Object(s.a)(),object_store_redux_group:Object(_.b)(S.a)}}v(j,"getClientStateTags");function W(te,le){const Oe=le.startSpan("add_tags:channels_info",{tags:{_auto_analytics:""}}),he=Object.values(Object(O.a)(te)).length,Ee=Object.values(Object(O.h)(te)).length,ge=Object.values(Object(O.n)(te)).length,J=Object.values(Object(O.q)(te)).length;return Oe.close(),{num_channels_in_redux:he,num_all_channels_user_is_in:Ee,num_dms_user_is_in:ge,num_group_dms_user_is_in:J}}v(W,"getChannelInfoTags");function U(te,le){const Oe=le.startSpan("add_tags:drafts_info",{tags:{_auto_analytics:""}}),he=Object.keys(Object(m.k)(te)||{}).length,Ee=Object(a.a)(Object(m.f)(te));return Oe.close(),{num_drafts:he,drafts_store_size:Ee}}v(U,"getDraftsInfoTags");function B(te){return{user_locale:Object(f.a)({teamOrEnterpriseId:Object(l.h)(te)})}}v(B,"getLocaleTags");function Y(te){return{active_collab_instance_count:Object(p.b)(),open_quip_embed_instance_count:Object(E.a)(te).length,canvas_child_window_count:Object(I.a)()}}v(Y,"getCanvasTags");const z=v(te=>{const le=["spaceship_beyond_iframes","selector_memo"],Oe={};return le.forEach(Ee=>{const ge=Object(d.d)(te,Ee,!1);ge&&(Oe[Ee]=ge)}),[].forEach(Ee=>{const ge=Object(_.b)(Ee);ge!==_.a.NoGroup&&(Oe[Ee]=ge)}),Oe.ia4=Object(P.g)(te)?"on":"off",Oe},"getExperimentTagsForTraces"),F=v((te,le)=>{const Oe=le??["desktop_flannel_emoji"],he={},Ee=Object(d.b)(te),ge=Date.now()/1e3,J=60*60*24*7*4;for(const[H,Z]of Object.entries(Ee)){const{trigger:q,schedule_ts:k}=Z;(Oe.includes(H)||q&&k&&q!=="finished"&&q!=="force_debug"&&k>ge-J)&&(he[H]=Z.group)}return he},"getExperimentTags");function V(te){return{num_members_in_redux:Object(u.b)(te).length}}v(V,"getMembersTags");function L(te){const le=Object(i.f)("lastColdBootTs"),Oe=Object(T.c)(te);return{last_cold_boot_ts:le,boot_type:Oe}}v(L,"getConfigTags");function Q(){return{is_in_active_huddle:Object(y.x)()}}v(Q,"getHuddleTags");function ee(te){const le=Object(o.getStateForClientStore)();if(!le)return{};const Oe=te??Object(g.getFocusedWorkspace)(le),he=Object(o.getStateByTeamId)(Oe),Ee=Object(t.a)(),ge=Ee.createTrace({traceName:"add_tags:performance_tracing_metatags"}),J=Object(C.b)(Oe),H=j(),Z=W(he,ge),q=U(he,ge),k=R(),se=x(),re=M(),X=B(he),w=V(he),ce=L(he),ie=b.a.getTraceTags(),oe=z(he),me=Y(he),ue=Q(),_e={...J,...H,...Z,...q,...k,...se,...re,...X,...w,...ce,...ie,...oe,...me,...ue};return Ee.reportTrace(ge),_e}v(ee,"getPerformanceTracingMetatags"),Object(A.b)("performanceTracingMetatags",ee)},VZjS:function(K,n,e){"use strict";e.d(n,"b",function(){return z});var s=e("q1tI"),t=e.n(s),a=e("nNoG"),r=e("5RQ4"),c=e.n(r),o=e("v0Vs"),i=e.n(o),l=e("+OS1"),u=e.n(l),f=e("r9Lk"),d=e.n(f),O=e("LPwq"),m=e.n(O),g=e("RIOX"),E=e.n(g),p=e("8K+h"),h=e.n(p),_=e("IPMH"),b=e.n(_),I=e("onsa"),C=e.n(I),y=e("ksuf"),P=e.n(y),T=e("ITwW"),S=e.n(T),A=e("g9pr"),R=e.n(A),x=e("6w/h"),M=e.n(x),j=e("UWeq"),W=e.n(j),U=e("IXWQ"),B=e.n(U);const Y=new a.b("huddles"),z=[{key:"NONE",preview:h.a},{key:"BLUR",preview:h.a},{key:"LIVING_ROOM",url:W.a,preview:B.a},{key:"REMOTE_WORK",url:R.a,preview:M.a},{key:"TOKYO_SIGHT",url:P.a,preview:S.a},{key:"GYM",url:b.a,preview:C.a},{key:"HOME",url:m.a,preview:E.a},{key:"OFFICE",url:u.a,preview:d.a},{key:"BEACH",url:c.a,preview:i.a}],F=v(()=>Object(s.useMemo)(()=>z.map(L=>{let Q,ee;switch(L.key){case"NONE":Q=Y.t("No Background",{fallbackHash:"e47fc484f6e2f4bb4d93eff83f6dd16ed8da67a6",fallbackHashNs:"canvas"});break;case"BLUR":Q=Y.t("Blur",{fallbackHash:"900aa998d3550d438fc20a414d3938fc3a1630ab",fallbackHashNs:"canvas"});break;case"LIVING_ROOM":Q=Y.t("Living Room",{fallbackHash:"c7b60f3edf3318e80575d5e28c1ce24aa99a9025",fallbackHashNs:"canvas"}),ee=Y.t("Art by Haley Tippmann",{fallbackHash:"e81e1f67d7c01d9dd464871bece52a2c87443190",fallbackHashNs:"canvas"});break;case"REMOTE_WORK":Q=Y.t("Remote Work",{fallbackHash:"42a38f6c51f22fed5086c12e2e747c90b17a2201",fallbackHashNs:"canvas"}),ee=Y.t("Art by Hudson Christie",{fallbackHash:"4f5fdc61766b987aced4c5fc5854a0401f8e44ea",fallbackHashNs:"canvas"});break;case"TOKYO_SIGHT":Q=Y.t("Tokyo Sight",{fallbackHash:"eccff2285de126d6179c36b1fbc60c06b039a6e0",fallbackHashNs:"canvas"}),ee=Y.t("Art by Luis Mendo",{fallbackHash:"4c1b393549c87100c23c7fe3e258fb7380736dfa",fallbackHashNs:"canvas"});break;case"GYM":Q=Y.t("Gym",{fallbackHash:"bc4359231d615dc65e372bac1bb5e0f2bf37639f",fallbackHashNs:"canvas"}),ee=Y.t("Art by Hudson Christie",{fallbackHash:"4f5fdc61766b987aced4c5fc5854a0401f8e44ea",fallbackHashNs:"canvas"});break;case"HOME":Q=Y.t("Home",{fallbackHash:"70f8bb9a8a5393ef080507a89e4b98d139000d65",fallbackHashNs:"canvas"});break;case"OFFICE":Q=Y.t("Office",{fallbackHash:"6c3a72eaf6235dfa967f2bba4dfc3e431c3e1180",fallbackHashNs:"canvas"});break;case"BEACH":Q=Y.t("Beach",{fallbackHash:"911fbb65335023a0800e5bf4a2dcc3ff13b2f9e3",fallbackHashNs:"canvas"});break;default:Q="NO_NAME",ee="NO_DESCRIPTION"}return{...L,name:Q,description:ee}}),[]),"useGetVideoBackgrounds");n.a=F},VfSx:function(K,n,e){"use strict";e.d(n,"a",function(){return s});function s(t){return t&&t.installed}v(s,"isEmojiCollectionInstalled")},VjAc:function(K,n,e){"use strict";e.d(n,"b",function(){return o}),e.d(n,"a",function(){return i}),e.d(n,"j",function(){return l}),e.d(n,"h",function(){return u}),e.d(n,"i",function(){return d}),e.d(n,"f",function(){return O}),e.d(n,"g",function(){return m}),e.d(n,"k",function(){return g}),e.d(n,"e",function(){return h}),e.d(n,"c",function(){return _}),e.d(n,"d",function(){return b});var s=e("gSGL"),t=e("nNoG"),a=e("ykb+"),r=e("s4P+");const c=new t.b("channels"),o=250,i=250;function l(C){return Object(s.a)(C)?C.length>o:(Object(a.b)()&&Object(r.b)().warn("Argument `topic` passed to `channelTopicExceedsLimit()` is not a string"),!1)}v(l,"channelTopicExceedsLimit");const u="too_long",f="restricted_action",d="user_is_restricted",O="method_not_supported_for_channel_type",m="method_not_supported_for_dm";function g(C){switch(C){case u:return c.t("Channel topics can only include up to {max} characters \u2014 please make this topic shorter.",{max:o});case f:case d:return c.t("It looks like you don\u2019t have permission to change the channel topic. Please check with your workspace admin.");case O:return c.t("It\u2019s not possible to set a topic here, unfortunately.");case m:return c.t("Regrettably, direct messages do not have topics.");default:return c.t("It looks like setting the channel topic didn\u2019t work, for some reason. Try again?")}}v(g,"getChannelTopicError");const E="too_long",p="restricted_action",h="user_is_restricted",_="method_not_supported_for_channel_type",b="method_not_supported_for_dm";function I(C){switch(C){case E:return c.t("That purpose is too long. Please try again with fewer than {max} characters.",{max:i,fallbackHash:"087b894e92ec32b794a3cd30bd37323df4175897"});case p:case h:return c.t("Uh oh! You don\u2019t have permission to change the purpose. Talk to your workspace admin.");case _:return c.t("It\u2019s not possible to set a purpose here, unfortunately.",{fallbackHash:"12ce622a898e7e78ccd1f2fe5fce11cb2c1cf1da"});case b:return c.t("Regrettably, direct messages do not have purposes.",{fallbackHash:"40ea8381b1de99e2bdf1a5860a8c436049338689"});default:return c.t("Uh oh! Something went wrong with setting the purpose. Please try again.")}}v(I,"getChannelPurposeError")},VkPA:function(K,n,e){"use strict";var s=e("q1tI"),t=e.n(s),a=e("iuhU"),r=e("ifKl"),c=e("WIr4"),o=e("ktUG"),i=e("VymY"),l=e("lYQS"),u=e("Kcy5"),f=e("MLXQ"),d=e("LrWZ"),O=e("qDEp"),m=e("oEDn"),g=e("VFSv"),E=e("U28S"),p=e("j4mf");function h(J){return/\.(jpe?g|png|gif|bmp)$/i.test(J)}v(h,"hasImageExtention");var _=h,b=e("n3y5");function I(){return I=Object.assign||function(J){for(var H=1;H<arguments.length;H++){var Z=arguments[H];for(var q in Z)Object.prototype.hasOwnProperty.call(Z,q)&&(J[q]=Z[q])}return J},I.apply(this,arguments)}v(I,"_extends");const C=v(J=>{let{icon:H,svgIcon:Z,className:q}=J;return t.a.createElement("div",{className:q,"data-qa":"tabs_item_render_icon"},H&&!Z&&t.a.createElement(m.a,{type:H,size:"inherit",inline:!0}),Z&&!H&&t.a.createElement(g.a,I({},Z)))},"TabsItemIcon");C.displayName="TabsItemIcon";var P=Object(s.forwardRef)((J,H)=>{let{label:Z,onClick:q,title:k,isSelected:se,isFocused:re,focusOnMount:X,fullWidth:w,titleCount:ce,maxTitleCount:ie,icon:oe,svgIcon:me,formatCount:ue,isLoading:_e,isCountLoading:be,isDisabled:Ae,iconPosition:Ce="right",className:De="",...Pe}=J;const Ue=Object(f.a)(H),ae=Object(a.default)(De,"c-tabs__tab","js-tab",{"c-tabs__tab--active":se,"c-tabs__tab--full_width":w}),ne=Z||k,Ie=typeof ne=="string"&&_(ne)?t.a.createElement(b.a,{classes:"c-tabs__tab_image",image:ne,ariaHidden:!0}):ne,Te=v(qe=>qe>=1e4?Object(E.a)(qe,{precision:4,decimal_places:0,lowercase:!0}):Object(p.a)(qe),"formatNumber"),Me=Pe.id,Ne=Object(s.useCallback)(qe=>{q&&q(Me,qe)},[Me,q]);let He;ue&&ce?He=Te(ce):ie&&ce&&ce>ie?He=`${ie}+`:He=ce;const Et=Object(d.a)(re)?se:re,Je=Object(u.a)(Et);return Object(s.useEffect)(()=>{if(!Et)return;const qe=Object(d.a)(Je);if(qe&&X||!qe&&!Je){var ke;(ke=Ue.current)===null||ke===void 0||ke.focus()}},[Et,Je,X,Ue]),t.a.createElement(O.d,I({},Pe,{onClick:Ne,role:"tab",className:ae,"aria-selected":se,tabIndex:Et?0:-1,disabled:Ae,ref:Ue}),_e?t.a.createElement("span",{className:"c-tabs__tab_placeholder","data-qa":"tabs_item_placeholder"}):t.a.createElement(t.a.Fragment,null,(!!oe||!!me)&&Ce==="left"&&t.a.createElement(C,{icon:oe,svgIcon:me,className:"c-tabs__tab_icon--left"}),t.a.createElement("span",{className:"c-tabs__tab_content"},Ie),Number.isFinite(ce)&&t.a.createElement("span",{className:"c-tabs__tab_count","data-qa":"tabs_item_render_count"},He),be&&t.a.createElement("span",{className:"c-tabs__tab_count_placeholder","data-qa":"tabs_item_render_count_placeholder"}),(!!oe||!!me)&&Ce==="right"&&t.a.createElement(C,{icon:oe,svgIcon:me,className:"c-tabs__tab_icon--right"})))}),T=e("c+dP"),S=e("pmw5"),A=e("Tsh7"),x=Object(s.forwardRef)((J,H)=>{let{renderMenu:Z,position:q,label:k,isSelected:se}=J;return t.a.createElement(T.e,{renderMenu:Z,position:q||"bottom-left"},t.a.createElement(A.d,{tip:k,position:"top",offsetY:6},t.a.createElement(S.a,{"aria-label":k,className:Object(a.default)("c-tabs__tab_overflow",{"c-tabs__tab--active":se}),ref:H},t.a.createElement(g.a,{name:"ellipsis-horizontal",variation:"filled"}))))});function M(){return M=Object.assign||function(J){for(var H=1;H<arguments.length;H++){var Z=arguments[H];for(var q in Z)Object.prototype.hasOwnProperty.call(Z,q)&&(J[q]=Z[q])}return J},M.apply(this,arguments)}v(M,"tabs_content_extends");var W=Object(s.forwardRef)((J,H)=>{let{content:Z,fullHeight:q,className:k,...se}=J;const re=Object(a.default)(k,"c-tabs__tab_panel","c-tabs__tab_panel--active",{"c-tabs__tab_panel--full_height":q});return t.a.createElement("div",M({role:"tabpanel",className:re,"data-qa":"tabs_content_container",ref:H},se),Z)}),U=e("s4P+"),B=e("ykb+"),Y=e("muVS"),z=e("tcEy"),F=e("tv4y");const V=25,L=v((J,H)=>{let{outerElement:Z,innerElement:q,threshold:k,isContainerGrowing:se,totalTabsLength:re,numOfVisibleTabsShown:X,isFreshReload:w}=J;if(!Z||!q||re===0)return;const ce=Z.right-q.right,ie=ce-V;if(!se&&ie<=k&&X-1>=1&&X-1<=re){let _e=Math.abs(Math.floor(ie/k));w&&(_e+=1),H(X-_e);return}if(!(se&&ce>k&&X+1<=re))return;const ue=Math.floor(ce/k);if(X+ue>=re){H(re);return}H(X+ue)},"recalculateVisibleTabs");function Q(){return Q=Object.assign||function(J){for(var H=1;H<arguments.length;H++){var Z=arguments[H];for(var q in Z)Object.prototype.hasOwnProperty.call(Z,q)&&(J[q]=Z[q])}return J},Q.apply(this,arguments)}v(Q,"tabs_extends");const ee=70,te=["ArrowLeft"],le=["ArrowRight"],Oe=te.concat("ArrowUp"),he=le.concat("ArrowDown");let Ee=v(class extends s.PureComponent{setVisibleTabs(H){this.setState(()=>({numOfVisibleTabsShown:H}))}onResize(){var H,Z,q,k,se,re;const X=(H=this.tabsContainerRef)===null||H===void 0||(Z=H.current)===null||Z===void 0?void 0:Z.clientWidth;if(!X)return;const w=this.prevTabsContainerWidthRef===void 0,ce={outerElement:(q=this.tabsContainerRef)===null||q===void 0||(k=q.current)===null||k===void 0?void 0:k.getBoundingClientRect(),innerElement:(se=this.lastVisibleTabRef)===null||se===void 0||(re=se.current)===null||re===void 0?void 0:re.getBoundingClientRect(),totalTabsLength:this.props.tabs.length,numOfVisibleTabsShown:this.state.numOfVisibleTabsShown,isFreshReload:w},ie=!w&&X>this.prevTabsContainerWidthRef;L({...ce,isContainerGrowing:ie,threshold:ee},this.setVisibleTabs),this.prevTabsContainerWidthRef=X}componentDidMount(){this._isMounted=!0;const{maxWidth:H}=this.props;if(H&&!this.resizeListener){var Z;this.resizeListener=Object(z.a)(this.onResize),this.resizeListener.observe((Z=this.tabsContainerRef)===null||Z===void 0?void 0:Z.current)}}componentDidUpdate(H){var Z;const{defaultTabId:q,tabs:k}=this.props;var se;((se=(Z=H.tabs)===null||Z===void 0?void 0:Z.length)!==null&&se!==void 0?se:0)!==k.length&&this.updateSelectedTab(),q!==H.defaultTabId&&q&&this.selectTab(q,void 0)}componentWillUnmount(){if(this._isMounted=!1,this.resizeListener){var H;(H=this.resizeListener)===null||H===void 0||H.disconnect(),this.resizeListener=null}}onFocus(H){const{focusedTabIndex:Z}=this.state,q=this.getTabIndexById(H.target.id);q!==Z&&this.focusTab(q)}onKeyDown(H){const Z=H.key;if(H.shiftKey||H.metaKey||H.ctrlKey||H.altKey)return;const k=this.props.orientation==="vertical",se=k?he:le,re=k?Oe:te;if(!["Home","End"].concat(se,re).includes(Z))return;const w=se.includes(Z),ce=re.includes(Z);H.preventDefault(),w&&this.onNextArrow(H),ce&&this.onPreviousArrow(H),Z==="Home"&&this.onHome(H),Z==="End"&&this.onEnd(H)}getTabById(H){var Z;return(Z=this.props.tabs)===null||Z===void 0?void 0:Z.find(q=>q.id===H)}getTabIndexById(H){var Z;return(Z=this.props.tabs)===null||Z===void 0?void 0:Z.findIndex(q=>q.id===H)}onHome(H){const{onTabWillChange:Z,tabs:q,manualTabActivation:k,onTabChange:se}=this.props,re=0;if(this.focusTab(re),k)return;const X=q[re].id;(Z==null?void 0:Z(X))!==!1&&this.setState(()=>({selectedTabId:X}),()=>se==null?void 0:se(X,H))}onEnd(H){const{onTabWillChange:Z,tabs:q,manualTabActivation:k,onTabChange:se}=this.props,re=q.length-1;if(this.focusTab(re),k)return;const X=q[re].id;(Z==null?void 0:Z(X))!==!1&&this.setState(()=>({selectedTabId:X}),()=>se==null?void 0:se(X,H))}onNextArrow(H){const{onTabWillChange:Z,tabs:q,manualTabActivation:k,onTabChange:se}=this.props,re=this.getTabIndexById(H.target.id),X=re>=q.length-1?0:re+1;if(this.focusTab(X),k)return;const w=q[X].id;(Z==null?void 0:Z(w))!==!1&&this.setState(()=>({selectedTabId:w}),()=>se==null?void 0:se(w,H))}onPreviousArrow(H){const{onTabWillChange:Z,tabs:q,manualTabActivation:k,onTabChange:se}=this.props,re=this.getTabIndexById(H.target.id),X=re===0?q.length-1:re-1;if(this.focusTab(X),k)return;const w=q[X].id;(Z==null?void 0:Z(w))!==!1&&this.setState(()=>({selectedTabId:w}),()=>se==null?void 0:se(w,H))}updateSelectedTab(){if(!this._isMounted)return;const{defaultTabId:H,tabs:Z,currentTabId:q}=this.props,{selectedTabId:k}=this.state;if(!Z.length)return;let se=k;const re=this.getTabIndexById(H),X=this.getTabIndexById(q);q&&X?se=q:H&&re?se=H:se=Z[0].id,se!==k&&this.setState(()=>({selectedTabId:se}))}focus(){const{current:H}=this.focusedTabRef;if(H){H.focus();return}const Z=this.props.currentTabId||this.state.selectedTabId,q=this.getTabIndexById(Z)||0;this.focusTab(q)}focusTab(H){this.setState(()=>({focusedTabIndex:H}))}selectTab(H,Z){const{onTabWillChange:q}=this.props,k=this.getTabById(H);if(!k)return null;if((q==null?void 0:q(H))!==!1){if(k.isExternalLink){var se;return(se=k.onClick)===null||se===void 0?void 0:se.call(k,H,Z)}return this.setState(()=>({selectedTabId:H}),()=>{var re,X;(X=(re=this.props).onTabChange)===null||X===void 0||X.call(re,H,Z);const w=this.panelRef&&this.panelRef.current,ce=Object(i.d)(w);ce==null||ce.focus()}),null}}onTabClick(H,Z){const q=this.getTabById(H);q&&(this.props.isNavigationDisabled||(q.isExternalLink||this.selectTab(q.id,Z),q.onClick&&q.onClick(q.id,Z)))}renderTabsItems(){const{tabs:H,fullWidthMenu:Z,orientation:q,iconPosition:k,focusOnMount:se}=this.props,{numOfVisibleTabsShown:re}=this.state;return(re?H.slice(0,re):H).map((w,ce)=>{const ie=this.state.focusedTabIndex===ce,oe=ie?this.focusedTabRef:void 0,me=!this.getShouldShowOverflowEllipsisMenu()&&ce===H.length-1?this.lastVisibleTabRef:void 0,ue=me?Object(Y.a)(oe,me):oe,be=(this.props.currentTabId||this.state.selectedTabId)===w.id;let Ae=this.autoClogProps;w.autoClogProps&&(Ae={...Ae,...w.autoClogProps,elementType:o.ElementType.TAB}),typeof w.label!="string"&&!t.a.isValidElement(w.label)&&typeof w.title!="string"&&!t.a.isValidElement(w.title)&&!w["aria-label"]&&(Object(B.b)()||Object(B.c)())&&Object(U.b)().error("Tabs requires either a label of type string, or an aria-label.");const Ce=t.a.createElement(P,Q({key:w.id,id:w.id,icon:w.icon,svgIcon:w.svgIcon,label:w.label||w.title,onClick:this.onTabClick,autoClogProps:Ae,isSelected:be},this.props.manualTabActivation?{isFocused:ie}:{},{focusOnMount:se,isDisabled:w.isDisabled,fullWidth:Z||q==="vertical",titleCount:w.titleCount,maxTitleCount:w.maxTitleCount,"aria-label":w["aria-label"],"aria-describedby":w["aria-describedby"],"data-qa":w["data-qa"]||"tabs_item",ref:ue,formatCount:this.props.formatCount,isLoading:w.isLoading,isCountLoading:w.isCountLoading,"aria-controls":this.panelId,iconPosition:k,className:w.className}));return w.renderWrapper?w.renderWrapper(Ce):Ce})}getShouldShowOverflowEllipsisMenu(){const{maxWidth:H,tabs:Z}=this.props;return H&&!!this.state.numOfVisibleTabsShown&&this.state.numOfVisibleTabsShown<Z.length}renderOverflowMenu(H){const{numOfVisibleTabsShown:Z,selectedTabId:q}=this.state,{tabs:k}=this.props,se=k.slice(Z,k.length),re=se==null?void 0:se.map(X=>({label:X.title,id:X.id,click:w=>this.onTabClick(X.id,w),key:X.id,type:F.a.radio,checked:X.id===q}));return t.a.createElement(T.a,Q({width:"200px"},H,{template:re}))}render(){var H;const{fullHeight:Z,fullWidthMenu:q,className:k,orientation:se,tabs:re,tabMenuClassnames:X,tabPanelClassnames:w,ariaLabel:ce,currentTabId:ie,overflowTabsItemLabel:oe="",maxWidth:me}=this.props,ue=ie||this.state.selectedTabId,_e=this.getShouldShowOverflowEllipsisMenu();let be,Ae=!1;_e&&(be=re.slice(this.state.numOfVisibleTabsShown,re.length),Ae=be.some(Ie=>Ie.id===ue));var Ce;const De=(Ce=(H=this.getTabById(ue))===null||H===void 0?void 0:H.content)!==null&&Ce!==void 0?Ce:"",Pe=Object(a.default)(k,{"c-tabs__tab_container--full_height":Z,"c-tabs__tab_container--vertical":se==="vertical","c-tabs__tab_menu--overflow_ellipsis":!!me}),Ue=Object(a.default)(X,"c-tabs__tab_menu",{"c-tabs__tab_menu--full_width":q,"c-tabs__tab_menu--vertical":se==="vertical"}),ae=Object(a.default)(w,{"c-tabs__tab_panel--vertical":se==="vertical"}),ne=re[this.getTabIndexById(ue)]||{};return t.a.createElement("div",{className:Pe,"data-qa":"tabs_full_height_class"},t.a.createElement("div",{role:"tablist",className:Ue,"data-qa":"tabs_full_width_class",onKeyDown:this.onKeyDown,onFocus:this.onFocus,"aria-orientation":se,"aria-label":ce,ref:this.tabsContainerRef},this.renderTabsItems(),_e?t.a.createElement(x,{renderMenu:this.renderOverflowMenu,position:"bottom-left",label:oe,isSelected:Ae,ref:this.lastVisibleTabRef}):null),De&&t.a.createElement(W,{content:De,fullHeight:Z,id:this.panelId,ref:this.panelRef,className:ae,"aria-label":ne["aria-label"]||typeof ne.label=="string"&&ne.label||typeof ne.title=="string"&&ne.title||"Tab"}))}constructor(H){var Z;super(H),Object(c.a)(this,["onKeyDown","onFocus","onTabClick","onResize","renderOverflowMenu","setVisibleTabs"]),this.focusedTabRef=t.a.createRef(),this.panelRef=t.a.createRef(),this.tabsContainerRef=t.a.createRef(),this.lastVisibleTabRef=t.a.createRef(),this.resizeListener=null,this.prevTabsContainerWidthRef=void 0,this._isMounted=!1,H.autoClogProps&&(this.autoClogProps={...H.autoClogProps,elementType:o.ElementType.TAB});const q=H.currentTabId||H.defaultTabId||((Z=H.tabs[0])===null||Z===void 0?void 0:Z.id),k=this.getTabIndexById(q);this.state={selectedTabId:q,focusedTabIndex:k!==-1?k:0,numOfVisibleTabsShown:H.maxWidth?H.tabs.length:void 0},this.panelId=`sk-panelId-${Object(l.a)()}`}},"Tabs");Ee.displayName="Tabs",Ee.defaultProps={onTabChange:r.a,orientation:"horizontal",iconPosition:"right",manualTabActivation:!1,overflowTabsItemLabel:"",isNavigationDisabled:!1};var ge=n.a=Ee},Vnbe:function(K,n,e){"use strict";e.d(n,"b",function(){return d}),e.d(n,"a",function(){return O});var s=e("9oTK"),t=e.n(s),a=e("nNoG"),r=e("1Zcw"),c=e("jUSB"),o=e("pJ2S");const i=new a.b("huddles"),l=[o.f,o.h,o.p,o.q,o.u,o.z,o.y,o.A],u=[o.y,o.u,o.A];var f;(function(m){m.WaitingRoom="waiting",m.Subway="subway",m.Whistle="whistle",m.Jazz="jazz",m.Focus="focus",m.DiscoParty="disco",m.Zen="zen",m.Nature="nature"})(f||(f={}));const d=v(m=>{let{experimentHuddlesLoungeMusicPlayerGroupOn:g}=m;return{[f.WaitingRoom]:{key:f.WaitingRoom,urlName:"waitingRoom",url:o.z,displayName:g?i.t("Waiting Room"):"Waiting Room"},[f.Subway]:{key:f.Subway,urlName:"subwayMusic",url:o.u,displayName:g?i.t("Subway Music"):"Subway Music"},[f.Whistle]:{key:f.Whistle,urlName:"whistleTune",url:o.A,displayName:g?i.t("Whistle Tune"):"Whistle Tune"},[f.Jazz]:{key:f.Jazz,urlName:"waitingMuzak",url:o.y,displayName:g?i.t("Smooth Jazz"):"Smooth Jazz"},[f.Focus]:{key:f.Focus,urlName:"focusBeats",url:o.h,displayName:g?i.t("Focus Beats"):"Focus Beats"},[f.DiscoParty]:{key:f.DiscoParty,urlName:"discoParty",url:o.f,displayName:g?i.t("Happy Bass"):"Happy Bass"},[f.Zen]:{key:f.Zen,urlName:"momentOfZen",url:o.p,displayName:g?i.t("Sound Bath"):"Sound Bath"},[f.Nature]:{key:f.Nature,urlName:"natureMeditation",url:o.q,displayName:g?i.t("Nature Meditation"):"Nature Meditation"}}},"getSongsMetadata");let O=v(class Ua{static getInstance(g){let{experimentHuddlesLoungeMusicPlayerGroupOn:E}=g;return Ua.instance||(Ua.instance=new Ua({experimentHuddlesLoungeMusicPlayerGroupOn:E})),Ua.instance}constructor({experimentHuddlesLoungeMusicPlayerGroupOn:g}){this.incrementActiveTrackIndex=()=>{this.activeTrackIndex<this.getPlaylist().length-1?this.activeTrackIndex+=1:this.activeTrackIndex=0},this.playNextTrack=()=>{const p=this.getPlaylist();Object(c.e)(p[this.activeTrackIndex]),this.incrementActiveTrackIndex(),Object(c.c)(p[this.activeTrackIndex],{loop:!1})},this.getCurrentTrackDisplayName=()=>{const p=this.getPlaylist()[this.activeTrackIndex],h=d({experimentHuddlesLoungeMusicPlayerGroupOn:this.experimentHuddlesLoungeMusicPlayerGroupOn}),_=Object.values(h).find(b=>b.url===p);return _==null?void 0:_.displayName},this.getPlaylist=()=>this.experimentHuddlesLoungeMusicPlayerGroupOn?l:u;var E=this;this.playMusic=Object(s.coroutine)(function*(){let{songKey:p,registerOnEndedCallback:h,audioOutputDeviceId:_,logger:b,fromFirstTrack:I,loopSong:C}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{registerOnEndedCallback:!1,fromFirstTrack:!0,loopSong:!1};const y=E.getPlaylist();I&&(E.activeTrackIndex=0),h&&y.forEach(S=>{Object(c.a)(S,{ended:E.playNextTrack})});let P=y[E.activeTrackIndex];if(p){var T;Object(c.e)(y[E.activeTrackIndex]);const A=(T=d({experimentHuddlesLoungeMusicPlayerGroupOn:E.experimentHuddlesLoungeMusicPlayerGroupOn})[p])===null||T===void 0?void 0:T.url,R=A?y.findIndex(x=>x===A):-1;R>-1&&(P=A,E.activeTrackIndex=R)}if(_){const S=Object(c.b)(P);if(S)try{yield S.setSinkId(_),b==null||b.info(r.c,`setSinkId success for lounge music on deviceID: ${_}`)}catch{b==null||b.info(r.c,`setSinkId failed for lounge music on deviceID: ${_}`)}}Object(c.c)(P,{loop:!!C})}),this.stopMusic=p=>{let{clearOnEndedCallback:h,logger:_,logContext:b}=p;const I=this.getPlaylist();h&&I.forEach(C=>{Object(c.d)(C,"ended",this.playNextTrack)}),Object(c.e)(I[this.activeTrackIndex],{logFailure:!1}),_.info(r.c,`stopped lounge music [${b}]`)},this.activeTrackIndex=0,this.experimentHuddlesLoungeMusicPlayerGroupOn=g}},"HuddleLoungeMusicManager")},Vu8N:function(K,n,e){"use strict";e.d(n,"a",function(){return d});var s=e("E3dU"),t=e("ISSR"),a=e("q0lC"),r=e("E97Y"),c=e("Yauy"),o=e("g05w"),i=e("NjAx"),l=e("XXd4"),u=e("9Gfp"),f=e("RVJP");function d(O,m){const g=Object(f.d)(O,"light_read_channel_archive_pref_migration")==="on",E=Object(s.z)(O,m)&&Object(s.c)(O,m);if(!E||Object(r.g)(E)||Object(r.i)(E)||Object(r.n)(E)||Object(t.a)(E)||Object(l.a)(O,E))return!1;const p=Object(i.m)(O,{channelId:m});return g?p:p?!0:!(Object(u.m)(O)&&Object(o.a)(E)&&Object(c.kb)(E)&&!Object(a.a)(O))}v(d,"canUserSeeArchiveChannelOption")},Vw6i:function(K,n,e){K.exports=e.p+"slackbot_fancy_72-9db8807.png"},VxqI:function(K,n,e){"use strict";e.d(n,"a",function(){return r});var s=e("s4P+"),t=e("uVZW");const a=Object(s.b)(),r=v(c=>{let{spaceName:o,notificationName:i}=c;i&&a.error(t.d,`${i} is not a recognized notification name for space ${o}.`)},"maybeLogUnrecognizedNotification")},VymY:function(K,n,e){"use strict";e.d(n,"c",function(){return m}),e.d(n,"d",function(){return l}),e.d(n,"e",function(){return u}),e.d(n,"a",function(){return f}),e.d(n,"b",function(){return d});var s=e("WfUL");const t=/^(input|select|textarea|button)$/;function a(g){if(!g)return!1;const E=g.nodeName.toLowerCase(),p=g.getAttribute("tabindex"),h=p==null||g.tabIndex>=0,_=p!==null&&Number(p)>=0,b=h||_,I=t.test(E),C=E==="a",y=g;if(I&&!y.disabled&&y.type!=="hidden"&&b)return!0;const P=g;return!!(C&&(P.href&&b||!P.href&&_)||!(I||C)&&_)}v(a,"isNodeInTabFlow");const r='[tabindex]:not([tabindex="0"]):not([tabindex="-1"])',c=['input:not([tabindex="-1"])','select:not([tabindex="-1"])','textarea:not([tabindex="-1"])','button:not([tabindex="-1"])','a:not([tabindex="-1"])','div[tabindex="0"]','span[tabindex="0"]'],o=v(()=>!0,"noop"),i=v(g=>{const E=v((_,b,I)=>b||(a(I)&&Object(s.a)(I)&&_(I)?I:null),"reducer"),p=v((_,b)=>_.tabIndex-b.tabIndex,"compareTabIndex"),h=v(_=>_.tabIndex===0,"implictTabIndexOnly");return(_,b)=>{if(!_)return null;const I=b||o,C=E.bind(E,I),y=[..._.querySelectorAll(r)].sort(p),P=[..._.querySelectorAll(c)].filter(h);return y.concat(P)[g](C,null)}},"mkFindFocusableFn"),l=i("reduce"),u=i("reduceRight"),f=v((g,E)=>{const p=[...g.querySelectorAll(c)],h=E||o;return p.filter(_=>a(_)&&h(_))},"allChildrenInTabFlow"),d=v((g,E)=>{const p=[...g.querySelectorAll(c)],h=E||o;return p.filter(_=>a(_)&&Object(s.a)(_)&&h(_))},"allFocusableChildren"),O=v(g=>{const E=l(g);return E||(g==null?void 0:g.children.find(p=>O(p)))},"findFirstFocusableElement"),m=v(function(g){let E=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,p=arguments.length>2&&arguments[2]!==void 0?arguments[2]:g==null?void 0:g.parentElement;const h=d(p),b=(h==null?void 0:h.findIndex(C=>C===g))+(E?-1:1),I=h==null?void 0:h[b];return I||((p==null?void 0:p.parentElement)!==null?m(g,E,p==null?void 0:p.parentElement):O(p))},"findNextFocusableElement")},Vz4J:function(K,n,e){"use strict";var s=e("q1tI"),t=e.n(s),a=e("c+dP"),r=e("/MKj"),c=e("6FZx"),o=e("zxER"),i=e("nNoG"),l=e("GNR7"),u=e("E3dU");const f=new i.b("huddles");var O=v(y=>{let{channelId:P,memberId:T}=y;const S=Object(o.a)(R=>{let x=P;return!P&&T&&(x=Object(u.m)(R,T)),Object(l.k)(R,x)}),A={start:f.t("Start huddle"),join:f.t("Join huddle")};return S?A.join:A.start},"useHuddleButtonLabel"),m=e("to1N"),g=e("0dq7"),E=e("WMzb"),p=e("26k3"),h=e("VFSv");function _(){return _=Object.assign||function(y){for(var P=1;P<arguments.length;P++){var T=arguments[P];for(var S in T)Object.prototype.hasOwnProperty.call(T,S)&&(y[S]=T[S])}return y},_.apply(this,arguments)}v(_,"_extends");const b="HUDDLES-BUTTON-MENU-ITEM",I=v(y=>{let{onClose:P,channelId:T,memberId:S,...A}=y;const R=Object(r.useDispatch)(),x=Object(E.a)(),M=g.e.CHANNEL_HEADER_HUDDLE_MENU,j=Object(s.useCallback)(()=>{T?R(Object(m.a)({channelId:T,entryPoint:M})):S?R(Object(p.a)({memberId:S,entryPoint:M})):x.warn(b,"Either channelId or memberId must be provided")},[T,S,R,x,M]),W=O({channelId:T,memberId:S});return t.a.createElement(a.b,_({key:"huddle-schedule-menu-item","data-qa":"huddle_button_menu_item",onSelected:j,label:W,icon:t.a.createElement(h.a,{size:"18",name:"headphones"})},A))},"HuddleButtonMenuItem");I.displayName="HuddleButtonMenuItem";var C=n.a=Object(c.b)(I)},W1L4:function(K,n,e){"use strict";var s=e("SQ0V"),t=e("QKJg"),a=e("FceS"),r=e("2VFn"),c=e("v7mh"),o=e("rZ8V");const i=Object(s.c)("Set the view set, i.e. multiple containers at once, in the specified window",(l,u,f)=>{const{windowId:d,viewSet:O}=f;if(l(Object(t.f)(f)),d===r.c){if(!Object(o.g)(u()))return;const m=Object(c.i)(u());l(Object(a.a)({windowId:d,entry:m}))}else l(Object(a.a)({windowId:d,entry:O}))});i.meta={name:"createThunk",key:"createThunksetViewSet",description:"Set the view set, i.e. multiple containers at once, in the specified window"},n.a=i},W5SZ:function(K,n,e){"use strict";e.d(n,"d",function(){return c}),e.d(n,"b",function(){return o}),e.d(n,"c",function(){return i}),e.d(n,"a",function(){return l}),e.d(n,"e",function(){return u}),e.d(n,"g",function(){return f}),e.d(n,"f",function(){return d});var s=e("JoR1"),t=e("IqnQ");const a="a11y_play_sound_for_sent_dm",r="a11y_play_sound_for_incoming_dm",c=t.c.ItemPickup,o=t.c.CompleteQuestRequirement,i="a11y_play_sound_for_sent_dm_choice",l="a11y_play_sound_for_incoming_dm_choice",u="none",f=v(O=>{const m=Object(s.u)(O,i);return m||(Object(s.u)(O,a)?c:u)},"getDmSentSoundViaUserPref"),d=v(O=>{const m=Object(s.u)(O,l);return m||(Object(s.u)(O,r)?o:u)},"getDmArrivalSoundViaUserPref")},W7ht:function(K,n,e){"use strict";e.d(n,"a",function(){return I}),e.d(n,"b",function(){return C});var s=e("q1tI"),t=e.n(s),a=e("/MKj"),r=e("zxER"),c=e("Fbvv"),o=e("GNR7"),i=e("r6c4"),l=e("VKu5"),u=e("9Gfp"),f=e("pFNT"),d=e("qZ3p"),O=e("3vtZ"),m=e("C3vN"),g=e("4qCO"),E=e("nNoG"),p=e("E3dU");const h=new E.b("huddles"),_=5,b=8,I=v(y=>{let{channelId:P}=y;const T=Object(r.b)(x=>Object(o.f)(x,P)),S=T.length,A=S>_,R=A?T.slice(0,_):T;return S===0?null:t.a.createElement("div",{className:"p-huddle_channel_tooltip__avatar_stack"},R.map((x,M)=>{const j=M===R.length-1;return t.a.createElement("div",{key:x,className:"p-huddle_channel_tooltip__avatar_container",style:{width:j?"auto":f.a.medium-b}},t.a.createElement(f.c,{className:"p-huddle_channel_tooltip__avatar",userId:x,size:f.a.medium,renderCustomBadge:c.a,isInteractive:!1,additionalOverlay:A&&j?S-R.length+1:void 0}))}))},"HuddleTooltipAvatarStack");I.displayName="HuddleTooltipAvatarStack";function C(y){let{channelId:P}=y;const T=Object(r.a)(F=>Object(p.c)(F,P)),S=Object(r.a)(F=>Object(O.e)(F,T)||Object(i.b)(F)),A=Object(r.a)(u.a),R=Object(r.a)(F=>Object(o.g)(F,P),a.shallowEqual),x=Object(r.a)(O.u),M=R.length,W=M>_?R.slice(0,_):R,U=Object(r.a)(F=>W.map(V=>({id:V.id,name:V.id===A?h.t("you",{fallbackHash:"8af56de68279cb6f5ed022f31af18b9fcdcc2e92",fallbackHashNs:"a11y"}):Object(m.N)(F,V)})).sort((V,L)=>V.id===A?1:L.id===A?-1:Object(g.a)(V.name,L.name)).map(V=>{let{name:L}=V;return L}),a.shallowEqual),B=Object(r.a)(F=>Object(l.a)(F,P));if(!S)return null;let Y=t.a.createElement(t.a.Fragment,null);U.length===1?R[0].id===A?Y=h.rt("Just you in the huddle",{fallbackHash:"12a689a8d10b55bce68de5314954ddafb4917f7d"}):Y=h.rt("{name} is in the huddle",{name:U[0],fallbackHash:"3ad19838f1b04066bbb33d61d86ec6a23de98a79"}):Y=h.rt("{memberCount} people in the huddle",{memberCount:M,fallbackHash:"4890b1ead2959bfef66e9d6b2c5f663450205117"});let z;return z=B?t.a.createElement(d.a,{text:B}):null,R.length>=x&&(z=h.t("Only {maxParticipants} people can join a huddle",{maxParticipants:x})),t.a.createElement("div",{className:"p-huddle_channel_tooltip"},t.a.createElement(I,{channelId:P}),t.a.createElement("div",{className:"margin_bottom_25","data-qa":"tooltip_action_text"},z),t.a.createElement("div",{className:"c-tooltip__subtitle","data-qa":"tooltip_member_text"},Y))}v(C,"HuddleChannelTooltip")},WA8N:function(K,n,e){"use strict";e.d(n,"a",function(){return c});var s=e("O86Y"),t=e("ayM7");let a=v(class{isStale(){return Date.now()-this.updatedDate>this.timeoutMs}isPrefixStale(){return Date.now()-this.prefixUpdatedDate>this.prefixTimeoutMs}clearIfStale(){this.isStale()&&(this.queryCache.clear(),this.updatedDate=Date.now())}clearPrefixIfStale(){this.isPrefixStale()&&(this.prefixQueryCache.clear(),this.prefixUpdatedDate=Date.now())}contains(i){const l=this.queryCache.has(i);return this.clearIfStale(),l}containsPrefixOf(i){return this.clearPrefixIfStale(),this.prefixQueryCache.containsPrefix(i)}add(i){return this.clearIfStale(),this.queryCache.add(i)}addAsPrefix(i){return this.clearPrefixIfStale(),this.prefixQueryCache.add(i)}setRequestInFlight(){this.inFlightRequestStartTime=Date.now()}clearRequestInFlight(){delete this.inFlightRequestStartTime}isRequestInFlight(){return this.inFlightRequestStartTime?Date.now()-this.inFlightRequestStartTime<this.inFlightRequestTimeoutMs:!1}reset(){this.queryCache.clear(),this.updatedDate=Date.now(),this.prefixQueryCache.clear(),this.prefixUpdatedDate=Date.now(),this.clearRequestInFlight()}constructor(){this.queryCache=new t.a,this.prefixQueryCache=new t.a,this.updatedDate=Date.now(),this.prefixUpdatedDate=Date.now(),this.timeoutMs=1e3*60*60*8,this.prefixTimeoutMs=1e3*60*15,this.inFlightRequestTimeoutMs=400}},"WorkflowTriggersAutocompleteQueryCache");const r={};function c(o){const i=Object(s.g)(o),u=Object(s.d)(o)||i||"";return r[u]||(r[u]=new a),r[u]}v(c,"getWorkflowTriggersAutocompleteQueryCache")},WAPM:function(K,n,e){"use strict";var s=e("GkJf");n.a=s.a},WBOM:function(K,n,e){"use strict";e.d(n,"a",function(){return I}),e.d(n,"b",function(){return y}),e.d(n,"e",function(){return T}),e.d(n,"f",function(){return S}),e.d(n,"d",function(){return A}),e.d(n,"c",function(){return R});var s=e("bPB8"),t=e("E3dU"),a=e("beVI"),r=e("wwBm"),c=e("d26c"),o=e("ltDl"),i=e("6dQg"),l=e("eUIW"),u=e("fde3"),f=e("sOnb"),d=e("Zbwg"),O=e("3203"),m=e("3REw"),g=e("JfJV"),E=e("25cE"),p=e("7ibc"),h=e("a7YP"),_=e("qBF1"),b=e("sR4G"),I;(function(x){x.MESSAGE="message",x.FILE="file",x.MEMBER="member",x.ROOM="room",x.FREE_WILLY="free-willy",x.QUIP="quip",x.SEARCH="search",x.SLACKHELP="slackhelp",x.SHORTCUT_LINK_TRIGGER="shortcuts",x.HUDDLE="huddle",x.LIST="list",x.CHANNEL_CANVAS="canvas",x.ORG_CHART="org_chart"})(I||(I={}));function C(x,M){if(!M)return null;const j=!1;return Object(t.c)(x,M,j)||Object(t.l)(x,M.replace(/^@/,""))||Object(t.d)(x,M)}v(C,"findChannelByIdentifier");function y(x){switch(x){case"archives":case"messages":case"conversation":return I.MESSAGE;case"file":case"files":return I.FILE;case"team":return I.MEMBER;case"calls":return I.ROOM;case"free-willy":return I.FREE_WILLY;case"docs":return I.QUIP;case"search":return I.SEARCH;case"slackhelp":return I.SLACKHELP;case"shortcuts":return I.SHORTCUT_LINK_TRIGGER;case"huddle":return I.HUDDLE;case"lists":return I.LIST;case"canvas":return I.CHANNEL_CANVAS;case"org_chart":return I.ORG_CHART;default:return null}}v(y,"getPermalinkType");function P(x,M,j,W){const U=Object(s.a)(M.split("/")),B=y(U[0]);switch(B){case I.MESSAGE:{var Y;const te=U[1],le=C(x,te),Oe=le&&le.id||te;if(!Oe)return null;const he=Object(r.d)(j),Ee=Object(O.a)(U[2]),ge=Object(O.a)((Y=he.thread_ts)===null||Y===void 0?void 0:Y.toString());return{type:B,channelId:Oe,ts:Ee,threadTs:ge}}case I.HUDDLE:{if(!U[1])return null;let te=null;if(Object(d.a)(U[1])?te=U[1]:Object(d.a)(U[2])&&(te=U[2]),te){const le=C(x,te),Oe=le&&le.id||te;return Oe?{type:B,channelId:Oe}:null}return Object(m.x)(U[1])?{type:B,roomId:U[1]}:null}case I.FILE:{const te=U[2];return Object(i.a)(te)?{type:B,fileId:te}:null}case I.MEMBER:{const te=U[1];return Object(l.a)(te)?{type:B,memberId:te}:null}case I.ROOM:{const te=U[1];if(te&&Object(m.x)(te))return{type:B,roomId:te};const le=U.length>2?U[2]:null;return le&&Object(m.t)(le)?{type:B,callId:le,channelId:U[1]}:le&&Object(m.x)(le)?{type:B,roomId:le,teamId:U[1]}:null}case I.FREE_WILLY:{const te=U[2];return te&&Object(m.t)(te)?{type:B,callId:te,channelId:U[1]}:te&&Object(m.x)(te)?{type:B,roomId:te,teamId:U[1]}:null}case I.QUIP:{const te=U[1],le=U[2];if(Object(p.gc)(x)&&le&&Object(i.a)(le)&&W!=="app"){var z,F;const Oe=Object(r.d)(j),he=Object(O.a)((z=Oe.focus_thread_ts)===null||z===void 0?void 0:z.toString())||"";return{type:B,fileId:le,teamId:te,focusThreadTs:he,focusSectionId:((F=Oe.focus_section_id)===null||F===void 0?void 0:F.toString())||""}}return null}case I.LIST:{const te=U[2];if(te&&Object(i.a)(te)){var V,L,Q;const le=Object(r.d)(j),Oe=Object(O.a)((V=le.focus_thread_ts)===null||V===void 0?void 0:V.toString())||"";return{type:B,fileId:te,recordId:((L=le.record_id)===null||L===void 0?void 0:L.toString())||"",viewId:((Q=le.view_id)===null||Q===void 0?void 0:Q.toString())||"",focusThreadTs:Oe}}return null}case I.SEARCH:{const te=U[1];return{type:B,encodedSearchString:te}}case I.SLACKHELP:{if(U.length>=2){if(Object(u.a)(U[2]))return{type:B,articleId:U[2]};if(U[1]==="whats_new")return{type:B,articleId:"whats_new"}}return{type:B}}case I.SHORTCUT_LINK_TRIGGER:return Object(f.a)(U[1])&&Object(h.r)(x)?{type:B,triggerId:U[1]}:null;case I.CHANNEL_CANVAS:{var ee;const te=U[1],le=C(x,te),Oe=le&&le.id||te;if(!Oe)return null;const he={type:B,channelId:Oe},ge=(ee=Object(r.d)(j).focus_section_id)===null||ee===void 0?void 0:ee.toString();return ge&&(he.focusSectionId=ge),he}case I.ORG_CHART:{const te=U[1];return Object(_.a)(x)&&Object(l.a)(te)?{type:B,memberId:te}:null}default:return null}}v(P,"getPermalinkParams");function T(x,M){if(!M)return null;const j=Object(o.a)(M);return S(x,j)}v(T,"parsePermalink");function S(x,M){const{hostname:j,pathname:W,search:U}=M;if(!j||!W||!Object(c.a)(j))return null;let B;j!=="slack.com"&&(B=j.split(".")[0]);const Y=P(x,W,U,B);return Y?{subdomain:B,...Y}:null}v(S,"parsePermalinkFromParsedUrl");function A(x,M){const j={channel:null,team:null};if(!x||!M)return j;const W=T(x,M);if(!W)return j;const{subdomain:U,channelId:B}=W,Y=Object(t.c)(x,B),z=Object(a.s)(x,U);return{channel:Y,team:z}}v(A,"getTeamAndChannelFromPermalink");function R(x,M){const j=Object(b.a)(x,M.subdomain);if(j)switch(M.type){case I.FILE:if(M.channelId&&M.fileId)return Object(g.k)(E.h,{teamId:j,entityId:M.channelId,fileId:M.fileId});break;case I.MEMBER:if(M.channelId&&M.memberId)return M.ts?Object(g.k)(E.z,{teamId:j,entityId:M.channelId,memberId:M.memberId,timestamp:M.ts}):Object(g.k)(E.z,{teamId:j,entityId:M.channelId,memberId:M.memberId});break;case I.MESSAGE:if(M.channelId)return M.ts&&M.threadTs?Object(g.k)(E.w,{teamId:j,entityId:M.channelId,threadId:`${M.channelId}-${M.threadTs}`,replyTs:M.threadTs}):M.ts?Object(g.k)(E.b,{teamId:j,entityId:M.channelId,timestamp:M.ts}):Object(g.k)(E.b,{teamId:j,entityId:M.channelId});break;default:}}v(R,"getSonicUrlForPermalink")},WCSk:function(K,n,e){"use strict";e.d(n,"c",function(){return c}),e.d(n,"b",function(){return o}),e.d(n,"a",function(){return i}),e.d(n,"e",function(){return l}),e.d(n,"d",function(){return u}),e.d(n,"f",function(){return d}),e.d(n,"g",function(){return g});var s=e("OZf9"),t=e("NFsq"),a=e("LxFC"),r=e("mSpc");const c="default",o="communications",i=[a.b.Microphone,a.b.Camera,a.c];function l(E,p){let h=arguments.length>2&&arguments[2]!==void 0?arguments[2]:i;Object(s.a)(p,(_,b)=>{if(!Object(t.a)(h,b))return;if(!_.length){E.warn(`No ${b} devices available`);return}const I=new r.a(["id","label"]);_.forEach(C=>{I.add([C.id,C.label].map(String))}),E.info(`${b} devices:
${I.report()}`)})}v(l,"logDevices");function u(){return{camera:[],microphone:[],output:[]}}v(u,"createEmptyDevices");const f={audioinput:a.b.Microphone,videoinput:a.b.Camera,audiooutput:a.c};function d(E){const p=f[E.kind],h={id:E.deviceId,label:E.label||void 0,groupId:E.groupId||void 0};return O(p)?{...h,type:p}:{...h,type:p}}v(d,"makeDevice");function O(E){return E!==a.c}v(O,"isInputDeviceType");function m(E){return O(E.type)}v(m,"isInputDevice");function g(E){return E.replace(/ *?\([^)]*?\) *?/g,"")}v(g,"removeDeviceIdFromDeviceLabel")},WJHF:function(K,n,e){"use strict";e.d(n,"a",function(){return m});var s=e("CpTu"),t=e("uXhx"),a=e("lE2N"),r=e("BeL+"),c=e("GxtX"),o=e("uKXT"),i=e("ZP0B"),l=e("J/RB"),u=e("Lgge"),f=e("SQ0V"),d=e("xcHN"),O=e("ZAxE");const m=Object(f.c)("gets thread replies from the API",(g,E,p)=>{const{channelId:h,threadTs:_,oldest:b,limit:I}=p;let C=p.latest;b===C&&C===p.threadTs&&(C=null);const y=Object(d.c)(h,_);return b&&C?u.a.all([g(Object(O.e)({channelId:h,threadTs:_,latest:C,limit:I})),g(Object(O.e)({channelId:h,threadTs:_,oldest:b,limit:I}))]).then(P=>{let[T,S]=P;const A=Object(s.a)(T.msgs,{ts:_})||Object(s.a)(S.msgs,{ts:_}),R=Object(t.a)(T.msgs,{ts:_}),x=Object(t.a)(S.msgs,{ts:_}),M=T.deleted,j=S.deleted,W=Object(a.a)(R.concat(x),"ts"),U=Object(r.a)(Object(c.a)(M,j));!T.hasMore&&A&&W.unshift(A);const B=W.map(Y=>Y.ts);return g(Object(l.a)({msgs:W,channelId:y,hasMore:{hasMoreStart:T.hasMore,hasMoreEnd:S.hasMore},oldest:Object(o.a)([b,Object(o.a)(B)]),latest:Object(i.a)([C,Object(i.a)(B)]),deleted:U})),{msgs:W}}):g(Object(O.e)({channelId:h,threadTs:_,oldest:b,latest:C,limit:I})).then(function(){let{msgs:P,deleted:T,hasMore:S}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const A=C&&!S||b===_||C===_||!b&&!C&&!S;let R=P;A||(R=Object(t.a)(P,{ts:_}));let x=S;!b&&!C&&(x={hasMoreStart:S,hasMoreEnd:!1}),g(Object(l.a)({msgs:R,channelId:y,hasMore:x,oldest:b,latest:C,deleted:T}));const M=Object(s.a)(P,{ts:_});return M&&b===_&&g(Object(l.a)({msgs:[M],channelId:y,hasMore:!1,latest:_})),{msgs:R}})});m.meta={name:"createThunk",key:"createThunkrequestReplies",description:"gets thread replies from the API"}},WMzb:function(K,n,e){"use strict";e.d(n,"a",function(){return a});var s=e("/MKj"),t=e("s4P+");function a(){const{getState:r}=Object(s.useStore)();return Object(t.a)({getState:r})}v(a,"useLogger")},WOFv:function(K,n,e){K.exports=e.p+"bop_soft-998a95d.mp3"},WUSA:function(K,n,e){"use strict";e.d(n,"a",function(){return t}),e.d(n,"i",function(){return a}),e.d(n,"j",function(){return r}),e.d(n,"k",function(){return c}),e.d(n,"b",function(){return o}),e.d(n,"g",function(){return i}),e.d(n,"f",function(){return l}),e.d(n,"h",function(){return u}),e.d(n,"d",function(){return f}),e.d(n,"e",function(){return d}),e.d(n,"c",function(){return O});var s=e("DwFS");const t=Object(s.a)("Forward a message to the announcer API to be announced by screen reader");t.meta={name:"createAction",key:"createActionforwardMessageToAnnouncerAPI",description:"Forward a message to the announcer API to be announced by screen reader"};const a=Object(s.a)("Toggle if a screen reader is enabled");a.meta={name:"createAction",key:"createActionsetScreenReaderEnabled",description:"Toggle if a screen reader is enabled"};const r=Object(s.a)("Set the OS system high-contrast mode field in redux (do not use this)");r.meta={name:"createAction",key:"createActionsetShouldUseHighContrastColors",description:"Set the OS system high-contrast mode field in redux (do not use this)"};const c=Object(s.a)("Toggle if the ARIA application role is applied to list views");c.meta={name:"createAction",key:"createActionsetUseARIAApplicationForListViews",description:"Toggle if the ARIA application role is applied to list views"};const o=Object(s.a)("Set the behavior of the up arrow shortcut when focus is in the MessageInput");o.meta={name:"createAction",key:"createActionsetComposerUpArrowShortcutBehavior",description:"Set the behavior of the up arrow shortcut when focus is in the MessageInput"};const i=Object(s.a)("Set line spacing value of text density pref");i.meta={name:"createAction",key:"createActionsetMessageTextLineSpacing",description:"Set line spacing value of text density pref"};const l=Object(s.a)("Set message spacing text density pref");l.meta={name:"createAction",key:"createActionsetMessageSpacing",description:"Set message spacing text density pref"};const u=Object(s.a)("Set word spacing text density pref");u.meta={name:"createAction",key:"createActionsetMessageTextWordSpacing",description:"Set word spacing text density pref"};const f=Object(s.a)("Set the sound that plays when a message arrives to the focused conversation");f.meta={name:"createAction",key:"createActionsetConversationIncomingMessageSound",description:"Set the sound that plays when a message arrives to the focused conversation"};const d=Object(s.a)("Set the sound that plays when a message is sent to the focused conversation");d.meta={name:"createAction",key:"createActionsetConversationSentMessageSound",description:"Set the sound that plays when a message is sent to the focused conversation"};const O=Object(s.a)("Set the pref that controls if screen reader announcements play for incoming messages in the current conversation");O.meta={name:"createAction",key:"createActionsetConversationIncomingMessageAnnouncement",description:"Set the pref that controls if screen reader announcements play for incoming messages in the current conversation"}},WVqY:function(K,n,e){"use strict";e.d(n,"a",function(){return t});var s=e("ZKjC");const t=Object(s.b)(a=>{var r;return a==null||(r=a.accessibilityPersistent)===null||r===void 0?void 0:r.hasKeyboardFocus});t.meta={name:"createSelector",key:"createSelectorhasKeyboardFocus",description:a=>{var r;return a==null||(r=a.accessibilityPersistent)===null||r===void 0?void 0:r.hasKeyboardFocus}}},WWO7:function(K,n,e){"use strict";e.d(n,"a",function(){return c});var s=e("Cyb+"),t=e("MRve"),a=e("u0LO");const r=1,c=v((o,i)=>{const l=a.c.HuddleCallMenu,u=a.a.Click;return Object(s.f)(o,l,u)||i(Object(t.a)({interactions:[{component:l,type:u}],reason:"start-huddle-from-calls-menu"})),!Object(s.h)(o,l,a.a.Click,r)},"shouldShowHuddleFromCallMenuNUX")},WXix:function(K,n,e){"use strict";e.d(n,"a",function(){return a});var s=e("m5Yc");const{EMOJI:t}=s.b,a=v(r=>{var c;return((c=r)===null||c===void 0?void 0:c.type)===t},"isRichTextEmojiElement")},WXkz:function(K,n,e){"use strict";e.d(n,"h",function(){return h}),e.d(n,"o",function(){return _}),e.d(n,"c",function(){return b}),e.d(n,"q",function(){return I}),e.d(n,"r",function(){return C}),e.d(n,"d",function(){return y}),e.d(n,"s",function(){return S}),e.d(n,"v",function(){return A}),e.d(n,"w",function(){return R}),e.d(n,"m",function(){return x}),e.d(n,"n",function(){return M}),e.d(n,"j",function(){return U}),e.d(n,"p",function(){return z}),e.d(n,"a",function(){return F}),e.d(n,"l",function(){return V}),e.d(n,"k",function(){return L}),e.d(n,"x",function(){return Q}),e.d(n,"e",function(){return ee}),e.d(n,"b",function(){return te}),e.d(n,"i",function(){return le}),e.d(n,"g",function(){return Ee}),e.d(n,"f",function(){return ge}),e.d(n,"t",function(){return Z}),e.d(n,"u",function(){return q});var s=e("ZKjC"),t=e("UOL+"),a=e("hwwf"),r=e("OaiI"),c=e("JoR1"),o=e("6CnZ"),i=e("xcHN"),l=e("417x"),u=e("FFIf"),f=e("O86Y"),d=e("G4qV"),O=e("Muja"),m=e("1qRZ"),g=e("dmdh"),E=e("P9LH");const p=v(k=>Object(t.a)(k).lists,"getListsState"),h=Object(s.b)((k,se)=>p(k).listsById[se]);h.meta={name:"createSelector",key:"createSelectorgetList",description:(k,se)=>p(k).listsById[se]};const _=Object(s.b)((k,se)=>{var re;return(re=p(k).listsById[se])===null||re===void 0?void 0:re.title});_.meta={name:"createSelector",key:"createSelectorgetListTitle",description:(k,se)=>{var re;return(re=p(k).listsById[se])===null||re===void 0?void 0:re.title}};const b=Object(s.b)(k=>p(k).clock);b.meta={name:"createSelector",key:"createSelectorgetClock",description:k=>p(k).clock};const I=Object(s.b)(k=>p(k).listsById);I.meta={name:"createSelector",key:"createSelectorgetLists",description:k=>p(k).listsById};const C=Object(s.b)((k,se,re)=>{var X,w;return(X=p(k).listsById[se])===null||X===void 0||(w=X.records)===null||w===void 0?void 0:w[re]});C.meta={name:"createSelector",key:"createSelectorgetRecord",description:(k,se,re)=>{var X,w;return(X=p(k).listsById[se])===null||X===void 0||(w=X.records)===null||w===void 0?void 0:w[re]}};const y=Object(s.b)((k,se,re)=>{var X;return(X=p(k).listsById[se])===null||X===void 0?void 0:X.schema.find(w=>w.key===re)});y.meta={name:"createSelector",key:"createSelectorgetColumnByKey",description:(k,se,re)=>{var X;return(X=p(k).listsById[se])===null||X===void 0?void 0:X.schema.find(w=>w.key===re)}};const P=Object(s.b)((k,se,re)=>{var X;return(X=y(k,se,re))===null||X===void 0?void 0:X.type});P.meta={name:"createSelector",key:"createSelectorgetColumnTypeByColumnKey",description:(k,se,re)=>{var X;return(X=y(k,se,re))===null||X===void 0?void 0:X.type}};const T=Object(s.b)((k,se,re)=>{var X;return(X=y(k,se,re))===null||X===void 0?void 0:X.id});T.meta={name:"createSelector",key:"createSelectorgetColumnIdByColumnKey",description:(k,se,re)=>{var X;return(X=y(k,se,re))===null||X===void 0?void 0:X.id}};const S=Object(s.b)((k,se,re)=>{var X;const w=(X=p(k).listsById[se])===null||X===void 0?void 0:X.records;if(w)return Object.values(w).find(ce=>ce.threadTs===re)});S.meta={name:"createSelector",key:"createSelectorgetRecordByThreadTs",description:(k,se,re)=>{var X;const w=(X=p(k).listsById[se])===null||X===void 0?void 0:X.records;if(w)return Object.values(w).find(ce=>ce.threadTs===re)}};const A=Object(s.b)((k,se)=>p(k).templatesById[se]);A.meta={name:"createSelector",key:"createSelectorgetTemplate",description:(k,se)=>p(k).templatesById[se]};const R=Object(s.b)(k=>p(k).templatesById);R.meta={name:"createSelector",key:"createSelectorgetTemplates",description:k=>p(k).templatesById};const x=Object(s.b)(k=>{const se=Object.values(p(k).listsById),re=[];for(const w of se){var X;const ce={id:w.id,title:(X=w.title)!==null&&X!==void 0?X:""};re.push(ce)}return re});x.meta={name:"createSelector",key:"createSelectorgetListMentions",description:k=>{const se=Object.values(p(k).listsById),re=[];for(const w of se){var X;const ce={id:w.id,title:(X=w.title)!==null&&X!==void 0?X:""};re.push(ce)}return re}};const M=Object(s.b)((k,se)=>{const re=Object.values(p(k).listsById),X=Object(a.w)(se);if(!X)return[];const{listTitle:w}=X,ce=Object(a.i)(re,w);if(!ce)return[];const ie=j(ce),oe=[];var me;for(const be of Object.values((me=ce.records)!==null&&me!==void 0?me:{})){var ue,_e;const Ae={id:be.id,name:(ue=be.fields[ie])!==null&&ue!==void 0?ue:"",listId:ce.id,listTitle:(_e=ce.title)!==null&&_e!==void 0?_e:""};oe.push(Ae)}return oe});M.meta={name:"createSelector",key:"createSelectorgetListRecordMentions",description:(k,se)=>{const re=Object.values(p(k).listsById),X=Object(a.w)(se);if(!X)return[];const{listTitle:w}=X,ce=Object(a.i)(re,w);if(!ce)return[];const ie=j(ce),oe=[];var me;for(const be of Object.values((me=ce.records)!==null&&me!==void 0?me:{})){var ue,_e;const Ae={id:be.id,name:(ue=be.fields[ie])!==null&&ue!==void 0?ue:"",listId:ce.id,listTitle:(_e=ce.title)!==null&&_e!==void 0?_e:""};oe.push(Ae)}return oe}};function j(k){let se;var re;for(const X of(re=k.schema)!==null&&re!==void 0?re:[])if(X.type==="text"&&(se||(se=X),X.key.toUpperCase()==="NAME"))return X.key;return se?se.key:"name"}v(j,"findColumnKeyForMention");const W=Object(s.b)(k=>Object(r.m)(k)?!!Object(c.u)(k,"seen_onboarding_lists"):!0);W.meta={name:"createSelector",key:"createSelectorhasSeenOnboardingLists",description:k=>Object(r.m)(k)?!!Object(c.u)(k,"seen_onboarding_lists"):!0};const U=Object(s.b)((k,se)=>{var re;const X=h(k,se);return X==null||(re=X.schema)===null||re===void 0?void 0:re.find(w=>(w==null?void 0:w.key)==="name")});U.meta={name:"createSelector",key:"createSelectorgetListDefaultColumn",description:(k,se)=>{var re;const X=h(k,se);return X==null||(re=X.schema)===null||re===void 0?void 0:re.find(w=>(w==null?void 0:w.key)==="name")}};const B=Object(s.b)((k,se)=>{const re=U(k,se);var X;return(X=re==null?void 0:re.name)!==null&&X!==void 0?X:null});B.meta={name:"createSelector",key:"createSelectorgetListDefaultColumnName",description:(k,se)=>{const re=U(k,se);var X;return(X=re==null?void 0:re.name)!==null&&X!==void 0?X:null}};const Y=Object(s.b)((k,se,re,X)=>{var w;if(!se||!re||!X)return!1;const ce=Object(i.c)(re,se),ie=Object(o.h)(k,ce,se);return ie?X<(ie==null?void 0:ie.timestamps[(ie==null||(w=ie.timestamps)===null||w===void 0?void 0:w.length)-1]):!1});Y.meta={name:"createSelector",key:"createSelectorhasListRecordThreadUnreads",description:(k,se,re,X)=>{var w;if(!se||!re||!X)return!1;const ce=Object(i.c)(re,se),ie=Object(o.h)(k,ce,se);return ie?X<(ie==null?void 0:ie.timestamps[(ie==null||(w=ie.timestamps)===null||w===void 0?void 0:w.length)-1]):!1}};const z=Object(s.b)((k,se,re)=>{var X;const w=p(k).listsById[se];return w==null||(X=w.views)===null||X===void 0?void 0:X.find(ce=>(ce==null?void 0:ce.type)===re)});z.meta={name:"createSelector",key:"createSelectorgetListViewByType",description:(k,se,re)=>{var X;const w=p(k).listsById[se];return w==null||(X=w.views)===null||X===void 0?void 0:X.find(ce=>(ce==null?void 0:ce.type)===re)}};const F=Object(s.b)((k,se)=>p(k).listBannerMessagesbyId[se]);F.meta={name:"createSelector",key:"createSelectorgetBannerMessageForList",description:(k,se)=>p(k).listBannerMessagesbyId[se]};const V=Object(s.b)((k,se)=>{const re=Object(g.c)(k,se);return!re||!re.access||!Object(E.Pb)(re)});V.meta={name:"createSelector",key:"createSelectorgetListIsViewOnly",description:(k,se)=>{const re=Object(g.c)(k,se);return!re||!re.access||!Object(E.Pb)(re)}};const L=Object(s.b)((k,se)=>{let{browserInstanceId:re}=se;const X=Object(u.c)(k,re),{results:w}=X,ie=Object.values(w).flat().map(me=>Object(l.a)(me,100)).map(me=>{var ue,_e;return{id:me.id,title:me.title||"",description:((ue=me.listMetadata)===null||ue===void 0?void 0:ue.description)||"",icon:((_e=me.listMetadata)===null||_e===void 0?void 0:_e.icon)||"",created:me.created,updated:me.updated,lastEditor:me.lastEditor,lastRead:me.lastRead,lastShared:me.lastShared}}),oe={};return ie.forEach(me=>{oe[me.id]=me}),oe});L.meta={name:"createSelector",key:"createSelectorgetListFiles",description:(k,se)=>{let{browserInstanceId:re}=se;const X=Object(u.c)(k,re),{results:w}=X,ie=Object.values(w).flat().map(me=>Object(l.a)(me,100)).map(me=>{var ue,_e;return{id:me.id,title:me.title||"",description:((ue=me.listMetadata)===null||ue===void 0?void 0:ue.description)||"",icon:((_e=me.listMetadata)===null||_e===void 0?void 0:_e.icon)||"",created:me.created,updated:me.updated,lastEditor:me.lastEditor,lastRead:me.lastRead,lastShared:me.lastShared}}),oe={};return ie.forEach(me=>{oe[me.id]=me}),oe}};const Q=Object(s.b)(k=>Object(f.d)(k)==="E12KS1G65");Q.meta={name:"createSelector",key:"createSelectorshouldShowFeedbackLink",description:k=>Object(f.d)(k)==="E12KS1G65"};const ee=Object(s.b)((k,se)=>p(k).historyById[se]);ee.meta={name:"createSelector",key:"createSelectorgetEditHistory",description:(k,se)=>p(k).historyById[se]};const te=Object(s.b)((k,se)=>{const re=h(k,se);if(!re||!re.records)return null;let X="";for(const w of Object.values(re.records)){w.position&&X<w.position&&(X=w.position);for(const ce of Object.values(w.viewPositions))X<ce&&(X=ce)}return X||null});te.meta={name:"createSelector",key:"createSelectorgetBiggestRecordPosition",description:(k,se)=>{const re=h(k,se);if(!re||!re.records)return null;let X="";for(const w of Object.values(re.records)){w.position&&X<w.position&&(X=w.position);for(const ce of Object.values(w.viewPositions))X<ce&&(X=ce)}return X||null}};const le=Object(s.b)((k,se,re)=>{var X;const w=p(k).listsById[se];return w==null||(X=w.views)===null||X===void 0?void 0:X.find(ce=>(ce==null?void 0:ce.id)===re)});le.meta={name:"createSelector",key:"createSelectorgetListByViewId",description:(k,se,re)=>{var X;const w=p(k).listsById[se];return w==null||(X=w.views)===null||X===void 0?void 0:X.find(ce=>(ce==null?void 0:ce.id)===re)}};const Oe=Object(s.b)((k,se,re)=>{const X=Object(m.a)({listId:se,viewId:re});return p(k).localFiltersById[X]});Oe.meta={name:"createSelector",key:"createSelectorgetLocalFiltersByViewId",description:(k,se,re)=>{const X=Object(m.a)({listId:se,viewId:re});return p(k).localFiltersById[X]}};const he=Object(s.b)((k,se,re)=>{var X;const w=p(k).listsById[se],ce=w==null||(X=w.views)===null||X===void 0?void 0:X.find(ie=>(ie==null?void 0:ie.id)===re);return ce==null?void 0:ce.filters});he.meta={name:"createSelector",key:"createSelectorgetServerFiltersByViewId",description:(k,se,re)=>{var X;const w=p(k).listsById[se],ce=w==null||(X=w.views)===null||X===void 0?void 0:X.find(ie=>(ie==null?void 0:ie.id)===re);return ce==null?void 0:ce.filters}};const Ee=Object(d.a)(Oe,he,(k,se)=>k===void 0?!1:k.length!==(k==null?void 0:k.length)?!0:!Object(O.a)(k,se)),ge=Object(d.a)(Oe,he,(k,se)=>k!==void 0?k:se||[]),J=Object(s.b)((k,se,re)=>{const X=Object(m.a)({listId:se,viewId:re});return p(k).localSortsById[X]});J.meta={name:"createSelector",key:"createSelectorgetLocalSortsByViewId",description:(k,se,re)=>{const X=Object(m.a)({listId:se,viewId:re});return p(k).localSortsById[X]}};const H=Object(s.b)((k,se,re)=>{var X;const w=p(k).listsById[se],ce=w==null||(X=w.views)===null||X===void 0?void 0:X.find(ie=>(ie==null?void 0:ie.id)===re);return ce==null?void 0:ce.sorts});H.meta={name:"createSelector",key:"createSelectorgetServerSortsByViewId",description:(k,se,re)=>{var X;const w=p(k).listsById[se],ce=w==null||(X=w.views)===null||X===void 0?void 0:X.find(ie=>(ie==null?void 0:ie.id)===re);return ce==null?void 0:ce.sorts}};const Z=Object(d.a)(J,H,(k,se)=>k!==void 0?k:se||[]),q=Object(d.a)(J,H,(k,se)=>k===void 0?!1:k.length!==(se==null?void 0:se.length)?!0:!Object(O.a)(k,se))},WdO3:function(K,n,e){"use strict";e.d(n,"a",function(){return E});var s=e("9oTK"),t=e.n(s),a=e("Lgge"),r=e("q1tI"),c=e.n(r),o=e("SQ0V"),i=e("s4P+"),l=e("3l96"),u=e("+kJ4"),f=e("/L4o"),d=e("rP0b"),O=e("WhBi"),m=e("kN9b"),g=e("vsbg");const E=Object(o.c)("Close open edits with no changes and warn on edits with unsaved changes",function(){var p=Object(s.coroutine)(function*(h,_){let{scroll:b=!1,cancelUnsavedEdits:I=!1}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(I)return h(Object(d.e)()),a.a.resolve();const C=_(),y=Object(O.b)(C,{ignoreViewContext:!0});if(!(y&&y.hasUnsavedChanges))return h(Object(d.e)()),a.a.resolve();const P=Object(i.a)({getState:_});return new a.a((T,S)=>h(Object(l.a)({element:c.a.createElement(f.a,{closeAndCancelEditing:()=>{h(Object(d.d)()),h(Object(u.a)()),Object(g.a)(P,y),T()},closeAndContinueEditing:()=>{h(Object(u.a)()),b&&h(Object(m.a)(y)),S()}})})))});return function(h,_){return p.apply(this,arguments)}}());E.meta={name:"createThunk",key:"createThunkattemptToStopEditingInChannel",description:"Close open edits with no changes and warn on edits with unsaved changes"}},WfUL:function(K,n,e){"use strict";n.a=function(s){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:window;if(!s)return!1;const a=s.getBoundingClientRect();if(!(a.width&&a.height))return!1;const r=t.getComputedStyle(s,null);return!(r.getPropertyValue("visibility")!=="visible"||r.getPropertyValue("opacity")==="0")}},WhBi:function(K,n,e){"use strict";e.d(n,"b",function(){return g}),e.d(n,"c",function(){return E}),e.d(n,"a",function(){return h});var s=e("fujP"),t=e("3Hq1"),a=e("ZKjC"),r=e("UIhb"),c=e("6CnZ"),o=e("E3dU"),i=e("9Gfp"),l=e("+l5E"),u=e("ptUg"),f=e("rebY"),d=e("E97Y"),O=e("xcHN"),m=e("m8zz");const g=Object(a.b)(function(_){let{channelId:b,ts:I,viewContext:C,ignoreViewContext:y=!1,tileKey:P}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const T=_==null?void 0:_.messageEdit;return Object(s.a)(T)||b&&(T==null?void 0:T.channelId)!==b||I&&(T==null?void 0:T.ts)!==I||!y&&(T==null?void 0:T.viewContext)!==C||!y&&(T!=null&&T.tileKey)&&!P||!y&&!Object(t.a)(P)&&P!==(T==null?void 0:T.tileKey)?null:_.messageEdit});g.meta={name:"createSelector",key:"createSelectorgetMessageEditData",description:function(_){let{channelId:b,ts:I,viewContext:C,ignoreViewContext:y=!1,tileKey:P}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const T=_==null?void 0:_.messageEdit;return Object(s.a)(T)||b&&(T==null?void 0:T.channelId)!==b||I&&(T==null?void 0:T.ts)!==I||!y&&(T==null?void 0:T.viewContext)!==C||!y&&(T!=null&&T.tileKey)&&!P||!y&&!Object(t.a)(P)&&P!==(T==null?void 0:T.tileKey)?null:_.messageEdit}};const E=Object(a.b)(function(_){let{tileKey:b}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const I=_==null?void 0:_.messageEdit;return Object(s.a)(I)||I.tileKey&&!b||!Object(t.a)(b)&&b!==I.tileKey?null:_.messageEdit});E.meta={name:"createSelector",key:"createSelectorisMessageBeingEditedInTile",description:function(_){let{tileKey:b}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const I=_==null?void 0:_.messageEdit;return Object(s.a)(I)||I.tileKey&&!b||!Object(t.a)(b)&&b!==I.tileKey?null:_.messageEdit}};const p=Object(a.b)(_=>!!(_&&_.messageEdit&&_.messageEdit.hasUnsavedChanges));p.meta={name:"createSelector",key:"createSelectorhasUnsavedMessageEditChanges",description:_=>!!(_&&_.messageEdit&&_.messageEdit.hasUnsavedChanges)};const h=Object(a.b)(function(_){let{channelId:b,threadTs:I}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!_||!b)return null;const C=Object(i.a)(_),y=Object(o.c)(_,b);if(!y||Object(d.p)(y))return null;const P=I?Object(O.c)(b,I):b,{timestamps:T}=Object(c.h)(_,P,null),S=T.map(M=>Object(r.b)(_,b,M)).filter(M=>Object(f.a)(M)?!1:I?!Object(l.eb)(M):!Object(l.db)(M)),A=Object(l.r)(S,C);if(!A)return null;const R=Object(m.a)(_,y);return Object(u.a)(_,C,A,y,R)?A:null});h.meta={name:"createSelector",key:"createSelectorgetLastEditableMessageInChannel",description:function(_){let{channelId:b,threadTs:I}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!_||!b)return null;const C=Object(i.a)(_),y=Object(o.c)(_,b);if(!y||Object(d.p)(y))return null;const P=I?Object(O.c)(b,I):b,{timestamps:T}=Object(c.h)(_,P,null),S=T.map(M=>Object(r.b)(_,b,M)).filter(M=>Object(f.a)(M)?!1:I?!Object(l.eb)(M):!Object(l.db)(M)),A=Object(l.r)(S,C);if(!A)return null;const R=Object(m.a)(_,y);return Object(u.a)(_,C,A,y,R)?A:null}}},"Ws5+":function(K,n,e){"use strict";var s=e("q1tI"),t=e.n(s),a=e("iuhU"),r=e("ifKl"),c=e("gz6s"),o=e("u3oV"),i=e("X6iR"),l=v(E=>Object(o.a)(E,(p,h)=>Object(i.a)(h,"aria-")),"get_aria_props"),u=e("ktUG"),f=e("FRd1"),d=e("1VgO");function O(){return O=Object.assign||function(E){for(var p=1;p<arguments.length;p++){var h=arguments[p];for(var _ in h)Object.prototype.hasOwnProperty.call(h,_)&&(E[_]=h[_])}return E},O.apply(this,arguments)}v(O,"_extends");const m=t.a.forwardRef((E,p)=>{let{className:h,isRequired:_=!1,"aria-disabled":b,indeterminate:I=!1,checked:C,hasKeyboardFocus:y,unstyled:P,autoClogProps:T,onChange:S,focusOnMount:A,...R}=E;const x=Object(s.useRef)(null),[M,j]=Object(s.useState)(!1);Object(s.useEffect)(()=>{if(I&&C==null)throw new Error("The indeterminate prop is only supported for the controlled Checkbox. Please provide the checked prop.");x.current&&(x.current.indeterminate=I)},[C,I]),Object(s.useEffect)(()=>{if(A){var F;(F=x.current)===null||F===void 0||F.focus()}},[A]);const W=Object(s.useCallback)(F=>{C===void 0&&T&&(F.persist(),j(F.target.checked)),S==null||S(F)},[T,C,S]),U=P?Object(a.default)("c-input_unstyled_checkbox",h,{"c-input_unstyled_checkbox--focus-visible":y,"c-input_unstyled_checkbox--checked":C}):Object(a.default)("c-input_checkbox",h,{"c-input_checkbox--focus-visible":y,"c-input_checkbox--disabled":b}),B=t.a.createElement("input",O({},R,l(R),{"aria-disabled":b,"aria-checked":I?"mixed":void 0,checked:C,type:"checkbox",required:_,className:U,ref:Object(d.b)(x,p),onChange:b?r.a:W})),Y=C!==void 0?C:M,z=Object(s.useMemo)(()=>({onChange:{action:Y?u.UiAction.UNCHECK:u.UiAction.CHECK}}),[Y]);return T?t.a.createElement(f.a,{autoClogProps:T,actionProps:z,elementType:u.ElementType.CHECKBOX},B):B});m.displayName="Checkbox";var g=n.a=Object(c.a)(m)},WvVy:function(K,n,e){"use strict";e.d(n,"a",function(){return m}),e.d(n,"d",function(){return y}),e.d(n,"b",function(){return P}),e.d(n,"c",function(){return T});var s=e("E3dU"),t=e("xwCZ"),a=e("NjAx"),r=e("g05w"),c=e("E97Y"),o=e("C3vN"),i=e("q0lC"),l=e("Qrgz"),u=e("nePV"),f=e("mzZe"),d=e("RVJP"),O=e("OOsk");const m={InvalidDm:Symbol("invalid_dm"),InvalidParams:Symbol("invalid_params"),OrgSharedSettings:Symbol("org_shared_settings"),OwnerRequired:Symbol("owner_required"),RestrictedUser:Symbol("restricted_user"),RestrictedAction:Symbol("restricted_action"),UserHasNoPermissions:Symbol("user_has_no_permissions")},g={ok:!1,reason:m.InvalidParams},E={ok:!1,reason:m.InvalidDm},p={ok:!1,reason:m.RestrictedUser},h={ok:!1,reason:m.RestrictedAction},_={ok:!1,reason:m.OrgSharedSettings},b={ok:!1,reason:m.OwnerRequired},I={ok:!1,reason:m.UserHasNoPermissions},C=v((S,A)=>{const R=Object(d.d)(S,"roles_account_types")==="on";if(!Object(c.e)(A))return g;const x=Object(t.d)(S);return Object(c.g)(A)||Object(c.i)(A)?E:R?Object(a.I)(S,{channelId:A.id})?O.a:I:Object(o.ub)(x)||Object(o.zb)(x)?p:Object(a.I)(S,{channelId:A.id})?O.a:Object(r.a)(A)&&!Object(u.a)(S)?_:!Object(i.e)(S)&&!Object(l.N)(S,{channel:A})?b:Object(f.a)(S,A)?O.a:h},"canUserRenameChannelWithReason"),y=v((S,A)=>{const x=Object(s.c)(S,A,!1);return x?C(S,x):g},"canUserRenameChannelWithReasonById"),P=v((S,A)=>C(S,A).ok,"canUserRenameChannel"),T=v((S,A)=>y(S,A).ok,"canUserRenameChannelById")},WvYH:function(K,n,e){"use strict";e.d(n,"a",function(){return t}),e.d(n,"b",function(){return a}),e.d(n,"c",function(){return r});var s=e("DwFS");const t=Object(s.a)("Set the current theme field in redux (do not use this)");t.meta={name:"createAction",key:"createActionsetClientThemeInternal",description:"Set the current theme field in redux (do not use this)"};const a=Object(s.a)("Set the OS system sync field in redux (do not use this)");a.meta={name:"createAction",key:"createActionsetSystemSyncInternal",description:"Set the OS system sync field in redux (do not use this)"};const r=Object(s.a)("Set the OS system theme field in redux (do not use this)");r.meta={name:"createAction",key:"createActionsetSystemTheme",description:"Set the OS system theme field in redux (do not use this)"}},Wvjm:function(K,n,e){"use strict";e.d(n,"a",function(){return i});var s=e("lhZz"),t=e("ZOzc"),a=e("F294"),r=e("7EGn"),c=e("NFsq"),o=e("VOl3");function i(l,u){if(!l||!u)return!1;const f=Object(t.a)(Object(s.getStateByTeamId)(l.id),"who_can_manage_guests");if(!f)return!0;const d=Object(o.d)(Object(s.getStateByTeamId)(l.id),u),O=Object(o.a)(u),m=Object(a.a)(Object(r.a)(f,"type"));return!!(m==="admin"&&(d||O)||m==="owner"&&O||m==="owner"&&Object(c.a)(f.user,u.id))}v(i,"canOrgUserManageGuests")},X1Aw:function(K,n,e){"use strict";var s=e("SQ0V"),t=e("o1Pf"),a=e("Lgge"),r=e("jj3I"),c=e("r9F4"),o=e("lhZz"),i=e("+CZ0");const l=Object(s.c)("Stop transcription for current huddle",(u,f)=>{if(!Object(c.a)(f())||Object(c.b)(f()))return a.a.resolve();const d=Object(o.getStateForClientStore)(),O=Object(i.a)(d);return O?(u(Object(r.a)()),u(Object(r.e)(!0)),u(Object(t.a)({reason:"stop-event-log",callId:O})).finally(()=>{u(Object(r.e)(!1))})):a.a.reject(new Error("No active call ID for huddle"))});l.meta={name:"createThunk",key:"createThunkstopEventLog",description:"Stop transcription for current huddle"},n.a=l},X8Vd:function(K,n,e){"use strict";e.d(n,"a",function(){return c});var s=e("7lBi"),t=e("SQ0V"),a=e("ED1u"),r=e("j77i");const c=Object(t.c)("Sets whether or not the sidebar is part of the grid layout at normal window sizes",(o,i,l)=>{Object(r.v)(s.x,l),o(Object(a.b)(l))});c.meta={name:"createThunk",key:"createThunksetIsSidebarVisible",description:"Sets whether or not the sidebar is part of the grid layout at normal window sizes"}},"XDa+":function(K,n,e){"use strict";e.d(n,"a",function(){return r});var s=e("2VFn"),t=e("nNoG");const a=new t.b("view");function r(c){let{tab:o,experimentDesktopIa4GroupOn:i}=c;if(!i)return"";let l;switch(o){case s.d.Home:l=a.t("Home");break;case s.d.DMs:l=a.t("DMs");break;case s.d.Activity:l=a.t("Activity");break;case s.d.Later:l=a.t("Later");break;case s.d.SalesHome:l=a.t("Sales");break;case s.d.Search:l=a.t("Search");break;case s.d.Canvases:l=a.t("Canvases",{fallbackHash:"e2d397a06197e996f48faa9c0abfd3a2a80d15de",fallbackHashNs:"search"});break;case s.d.Files:l=a.t("Files",{ns:"search"});break;case s.d.Channels:l=a.t("Channels",{ns:"search"});break;case s.d.People:l=a.t("People",{ns:"search"});break;case s.d.Platform:l=a.t("Automations",{fallbackHash:"4186e4384191cd367f88423e6488c26e96a3807d",fallbackHashNs:"search"});break;case s.d.ExternalConnections:l=a.t("External Connections",{fallbackHash:"e21da9e565b1e32162650ed549e03eaf5b4364e5",fallbackHashNs:"channel_sidebar"});break;case s.d.Huddles:l=a.t("Huddles",{fallbackHash:"cfed893a3dc774c76cbd9efb20d641aad32eff33x`",fallbackHashNs:"search"});break;case s.d.Browse:l=a.t("More",{fallbackHash:"4bab2d8fe13fa6ab57f80098b414f0f734c5dd25"});break;case s.d.CRM:l=a.t("CRM");break;default:l="";break}return l}v(r,"getTabLabel")},XM5t:function(K,n,e){"use strict";e.d(n,"a",function(){return f}),e.d(n,"b",function(){return d}),e.d(n,"c",function(){return O});var s=e("q1tI"),t=e.n(s),a=e("/MKj"),r=e("zxER"),c=e("DneB"),o=e("SIMs"),i=e("f9ip"),l=e("+CZ0"),u=e("3vtZ"),f;(function(m){m.CANVAS_OPEN="canvas_open",m.CANVAS_JOIN="canvas_join",m.CANVAS_LEAVE="canvas_leave",m.CANVAS_TOOLBAR="canvas_toolbar",m.EMOJI_PICKER_OPEN="emoji_picker_open",m.EMOJI_SENT="emoji_sent",m.LINK_OPEN="link_open",m.FOCUS_OPEN="focus_open",m.FOCUS_CLOSE="focus_close",m.MINI_PLAYER_THREAD_BUTTON="mini_player_thread_button",m.MINI_PLAYER_OPEN_WINDOW_BUTTON="mini_player_open_window_button",m.MINI_PLAYER_VIEW_START="mini_player_view_start",m.MINI_PLAYER_VIEW_END="mini_player_view_end",m.SCREENSHARE_START="screenshare_start",m.SCREENSHARE_END="screenshare_end",m.THREAD_FLEXPANE_VIEW_START="thread_flexpane_view_start",m.THREAD_FLEXPANE_VIEW_END="thread_flexpane_view_end",m.THREAD_WINDOW_VIEW_START="thread_window_view_start",m.THREAD_WINDOW_VIEW_END="thread_window_view_end",m.THREAD_OPEN="thread_open",m.THREAD_CLOSE="thread_close",m.SELF_VIDEO="self_video",m.WINDOW_COMPACT_VIEW_START="window_compact_view_start",m.WINDOW_COMPACT_VIEW_END="window_compact_view_end",m.WINDOW_FULL_VIEW_START="window_full_view_start",m.WINDOW_FULL_VIEW_END="window_full_view_end",m.WINDOW_RESIZE_BUTTON="window_resize_button",m.BACKGROUND_CHANGED="background_changed",m.JUKEBOX_SONG_SELECTED="huddles_jukebox_song_selected",m.JUKEBOX_STOP_MUSIC="huddles_jukebox_stop_music",m.CAPTIONS_START="huddles_captions_start",m.CAPTIONS_STOP="huddles_captions_stop",m.INVITATION_SENT="invitation_sent"})(f||(f={}));var d;(function(m){m.HUDDLE_MINI_PLAYER_BADGE_ICON="huddle_mini_player_badge_icon",m.HUDDLE_MINI_PLAYER_SCREENSHARE="huddle_mini_player_screenshare",m.HUDDLE_MINI_PLAYER_PEER_TILES="huddle_mini_player_peer_tiles",m.HUDDLE_MINI_PLAYER_OVERFLOW_BUTTON="huddle_mini_player_overflow_button",m.HUDDLE_MINI_PLAYER_OPEN_WINDOW_BUTTON="huddle_mini_player_open_window_button",m.HUDDLE_MINI_PLAYER_THREAD_BUTTON="huddle_mini_player_thread_button",m.CANVAS_WINDOW="canvas_window",m.LEAVE_CALL="leave_call",m.CLOSE_MODAL="close_modal",m.EMOJI_PICKER="emoji_picker",m.JUKEBOX_MENU="jukebox_menu",m.JUKEBOX_MUSIC_BANNER="jukebox_menu_banner",m.REACTION_BUBBLE="reaction_bubble",m.CHANGE_BACKGROUND_DIALOG="change_background_dialog",m.CONNECT_WITH_HUDDLES_CANVAS_EDUCATION="connect_with_huddles_canvas_education"})(d||(d={}));function O(){const m=Object(c.b)(l.a),g=Object(r.a)(I=>Object(u.k)(I,{huddleId:m}),a.shallowEqual),E=Object(c.b)(u.j,a.shallowEqual),p=Object(c.b)(u.i,a.shallowEqual),h=Object(r.a)(I=>Object(o.n)(I,{huddleId:m})),_=Object(r.a)(i.c);return Object(s.useMemo)(()=>({canvasThreadChannelId:g.canvas_thread_channel_id,canvasThreadId:g.canvas_thread_id,canvasHuddleSessionId:E.canvas_huddle_session_id,callsRoomId:p.room_id,callsChannelId:p.channel_id,uiPage:h?h.toString():null,fileId:_}),[g.canvas_thread_channel_id,g.canvas_thread_id,E.canvas_huddle_session_id,p.room_id,p.channel_id,h,_])}v(O,"useHuddleClogContext")},XO6L:function(K,n,e){"use strict";e.d(n,"a",function(){return l}),e.d(n,"b",function(){return u});var s=e("bPB8"),t=e("BeL+"),a=e("zmn3"),r=e("7xYR"),c=e("lhZz"),o=e("9Gfp"),i=e("O86Y");function l(){const f=Object(c.getStateForClientStore)();if(!f)return{};const d=Object(r.getBootedWorkspaces)(f)||[],O=Object(r.getWorkspacesMeta)(f)||{},m=Object(s.a)(Object(t.a)(Object(a.a)(O,"enterprise_id"))),g={booted_teams:d.length,booted_team_ids:d.join(),booted_org_teams:Object(r.getBootedOrgWorkspacesCount)(f)};return m.length&&(g.booted_enterprises=m.length,g.booted_enterprise_ids=m.join()),g}v(l,"getBootedTeamCountTags");function u(f){const d=Object(c.getStateForClientStore)();if(!d)return{};const O=f??Object(r.getFocusedWorkspace)(d),m=Object(c.getStateByTeamId)(O),g=Object(i.d)(m),E={team_id:O,user_id:Object(o.a)(m)};return g&&(E.enterprise_id=g),E}v(u,"getMaybeFocusedIdTags")},XOse:function(K,n,e){"use strict";var s=e("q1tI"),t=e.n(s),a=e("SQ0V"),r=e("3l96"),c=e("beVI"),o=e("5IZy"),i=e("ktUG"),l=e("7pFd"),u=e("O86Y"),f=e("bJfW"),d=e("9Gfp"),O=e("G0eX");const m=Object(a.c)("Opens the apps browser modal",function(g,E){let{initialTab:p,emojiNameSuggestion:h,elementName:_,emojiUrl:b}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const I=E(),C=Object(u.h)(I);let y;C&&Object(f.b)(C)?y=Object(c.n)(I):Object(d.m)(I)&&(y=Object(O.k)(Object(c.g)(I))),Object(o.a)({getState:E}).track(i.EventId.ADD_CUSTOM_EMOJI_IN_CLIENT,{contexts:{ui_context:{step:"add_custom_emoji",action:"click",ui_properties:{element_type:"button",element_name:_}}}}),g(Object(r.a)({element:t.a.createElement(l.b,{showEmojiPacks:!b,orgName:y,initialTab:p,emojiNameSuggestion:h,emojiUrl:b}),isStackable:!0}))});m.meta={name:"createThunk",key:"createThunkopenAddCustomEmojiModal",description:"Opens the apps browser modal"},n.a=m},XVAJ:function(K,n,e){"use strict";var s=e("g/kD"),t=e("ItXa");e.d(n,"a",function(){return t.a}),n.b=s.a},XcMG:function(K,n,e){"use strict";var s=e("q1tI"),t=e.n(s),a=e("/MKj"),r=e("iuhU"),c=e("F0YV"),o=e("/qcS"),i=e("hGOs"),l=e("vJdC"),u=e("9Sxv"),f=e("iJ8e");function d(m){let{channelSection:g,className:E,spacing:p="medium"}=m;const _=Object(a.useDispatch)()(Object(l.a)({channelSection:g})),b=_&&_.split(" "),I=b&&b[0],C=b&&(b.length>1?` ${b.slice(1).join(" ")}`:null),y=v(()=>g.emoji?t.a.createElement(o.b,{className:Object(r.default)({margin_right_0:p==="none",margin_right_25:p==="small",margin_right_50:p==="medium"}),shouldFallbackOnLoadError:!0,text:g.emoji,stopAnimations:!0,emojiSize:o.a.SMALL,forceDisplay:!0,isEmojiInlineWithText:!0,renderEmojiFallback:!0}):g.type===f.k?t.a.createElement(c.b,{id:Object(i.f)(g.id),size:15,className:Object(r.default)(E,"p-inline_channel_section__team_icon margin_right_50"),allowTeamInitials:!0}):t.a.createElement(u.a,{type:g.type,spacing:p}),"getIcon");return y.displayName="getIcon",t.a.createElement("span",{className:Object(r.default)("p-inline_channel_section",E)},t.a.createElement("span",{className:"p-inline_channel_section__lockup"},y(),I),C)}v(d,"InlineChannelSection"),d.displayName="InlineChannelSection";var O=n.a=d},XcRx:function(K,n,e){"use strict";e.d(n,"a",function(){return r});var s=e("xwCZ"),t=e("C3vN"),a=e("K7jq");function r(c,o){if(!o)return"member";const i=Object(s.g)(c,o);let l="member";return Object(a.a)(i)?l="external":Object(t.ub)(i)&&!Object(t.zb)(i)?l="ra":Object(t.zb)(i)&&(l="ura"),l}v(r,"getMemberType")},Xfjg:function(K,n,e){"use strict";e.d(n,"a",function(){return c});var s=e("7lBi"),t=e("SQ0V"),a=e("ED1u"),r=e("j77i");const c=Object(t.c)("Set the user-specified sidebar width and mode",(o,i,l)=>{let{sidebarWidthIntent:u,sidebarWidthMode:f}=l;Object(r.v)(s.y,u),Object(r.v)(s.z,f),o(Object(a.e)({sidebarWidthIntent:u,sidebarWidthMode:f}))});c.meta={name:"createThunk",key:"createThunksetSidebarColumn",description:"Set the user-specified sidebar width and mode"}},XnQF:function(K,n,e){"use strict";e.d(n,"a",function(){return o}),e.d(n,"b",function(){return i}),e.d(n,"c",function(){return l}),e.d(n,"e",function(){return u}),e.d(n,"d",function(){return f});var s=e("4Ok1"),t=e("G4qV"),a=e("ZKjC"),r=e("O86Y");const c=Object(a.b)((m,g)=>{let{windowId:E}=g;var p;const h=(p=m.windowHistory)===null||p===void 0?void 0:p[E],{stack:_,index:b}=h;return _&&_[b]});c.meta={name:"createSelector",key:"createSelectorgetCurrentHistoryEntryForWindow",description:(m,g)=>{let{windowId:E}=g;var p;const h=(p=m.windowHistory)===null||p===void 0?void 0:p[E],{stack:_,index:b}=h;return _&&_[b]}};const o=Object(a.b)((m,g)=>{let{windowId:E}=g;var p,h;return E?(p=m.windowHistory)===null||p===void 0||(h=p[E])===null||h===void 0?void 0:h.stack:[]});o.meta={name:"createSelector",key:"createSelectorgetHistoryForChildWindow",description:(m,g)=>{let{windowId:E}=g;var p,h;return E?(p=m.windowHistory)===null||p===void 0||(h=p[E])===null||h===void 0?void 0:h.stack:[]}};const i=Object(a.b)((m,g)=>{let{windowId:E}=g;var p,h;return E?(p=m.windowHistory)===null||p===void 0||(h=p[E])===null||h===void 0?void 0:h.index:0});i.meta={name:"createSelector",key:"createSelectorgetHistoryIndexForWindow",description:(m,g)=>{let{windowId:E}=g;var p,h;return E?(p=m.windowHistory)===null||p===void 0||(h=p[E])===null||h===void 0?void 0:h.index:0}};const l=Object(a.b)((m,g)=>{let{windowId:E}=g;var p,h;return E?(p=m.windowHistory)===null||p===void 0||(h=p[E])===null||h===void 0?void 0:h.previousIndex:0});l.meta={name:"createSelector",key:"createSelectorgetHistoryPreviousIndexForWindow",description:(m,g)=>{let{windowId:E}=g;var p,h;return E?(p=m.windowHistory)===null||p===void 0||(h=p[E])===null||h===void 0?void 0:h.previousIndex:0}};const u=Object(a.b)((m,g)=>{let{windowId:E}=g;var p,h;return E?((p=m.windowHistory)===null||p===void 0||(h=p[E])===null||h===void 0?void 0:h.index)===0:!0});u.meta={name:"createSelector",key:"createSelectorisForwardDisabledForWindow",description:(m,g)=>{let{windowId:E}=g;var p,h;return E?((p=m.windowHistory)===null||p===void 0||(h=p[E])===null||h===void 0?void 0:h.index)===0:!0}};const f=Object(a.b)((m,g)=>{let{windowId:E}=g;var p,h,_,b;if(!E)return!0;const I=(p=m.windowHistory)===null||p===void 0||(h=p[E])===null||h===void 0?void 0:h.stack,C=(_=m.windowHistory)===null||_===void 0||(b=_[E])===null||b===void 0?void 0:b.index;return I&&C+1===I.length});f.meta={name:"createSelector",key:"createSelectorisBackDisabledForWindow",description:(m,g)=>{let{windowId:E}=g;var p,h,_,b;if(!E)return!0;const I=(p=m.windowHistory)===null||p===void 0||(h=p[E])===null||h===void 0?void 0:h.stack,C=(_=m.windowHistory)===null||_===void 0||(b=_[E])===null||b===void 0?void 0:b.index;return I&&C+1===I.length}};const d=Object(t.a)((m,g)=>{let{windowId:E}=g;return o(m,{windowId:E})},m=>Object(r.g)(m),(m,g)=>Object(s.a)(m||[],1).map(E=>({viewSet:E,teamId:g}))),O=Object(a.b)((m,g)=>{let{windowId:E}=g;var p,h,_;if(!E)return!1;var b;return(b=((p=m.windowHistory)===null||p===void 0||(h=p[E])===null||h===void 0||(_=h.stack)===null||_===void 0?void 0:_.length)>1)!==null&&b!==void 0?b:!1});O.meta={name:"createSelector",key:"createSelectorgetWindowHasHistoryStack",description:(m,g)=>{let{windowId:E}=g;var p,h,_;if(!E)return!1;var b;return(b=((p=m.windowHistory)===null||p===void 0||(h=p[E])===null||h===void 0||(_=h.stack)===null||_===void 0?void 0:_.length)>1)!==null&&b!==void 0?b:!1}}},"Y3/F":function(K,n,e){"use strict";e.d(n,"c",function(){return t}),e.d(n,"a",function(){return a}),e.d(n,"d",function(){return r}),e.d(n,"b",function(){return c}),e.d(n,"f",function(){return o}),e.d(n,"e",function(){return i});var s=e("RVJP");const t=v(l=>{var u;return(u=Object(s.d)(l,"help_shareables_tm")==="on")!==null&&u!==void 0?u:!1},"isHelpShareablesTmExperimentOn"),a=v(l=>{var u;return(u=Object(s.d)(l,"help_articles_in_search")==="treatment")!==null&&u!==void 0?u:!1},"isHelpArticlesInSearchExperimentTreatment"),r=v(l=>{var u;return(u=Object(s.d)(l,"help_smarticles")==="on")!==null&&u!==void 0?u:!1},"isHelpSmarticlesExperimentOn"),c=v(l=>{var u;return(u=Object(s.d)(l,"help_navigation")==="on")!==null&&u!==void 0?u:!1},"isHelpNavigationExperimentOn"),o=v(l=>{var u;return(u=Object(s.d)(l,"help_tour")==="treatment")!==null&&u!==void 0?u:!1},"isHelpTourExperimentTreatment"),i=v(l=>{var u;return(u=Object(s.d)(l,"help_tips")==="on")!==null&&u!==void 0?u:!1},"isHelpTipsExperimentOn")},Y31Q:function(K,n,e){"use strict";e.d(n,"b",function(){return o});var s=e("nNoG"),t=e("Oy0v"),a=e("5KsB");const r=/_|-/g,c=new s.b("emoji"),o=v(function(i,l){let u=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;if(!i||!l)return null;const{name:f,skinTone:d}=Object(t.a)(i)||{};if(!f)return u?c.t("{size} {emojiName} {size, plural, =1 {emoji} other {emojis}}",{emojiName:i,size:l}):`${l} ${i} emojis`;const O=f.replace(r," "),m=u?c.t("{size} {emojiName} {size, plural, =1 {emoji} other {emojis}}",{emojiName:O,size:l}):`${l} ${O} emojis`;if(!d)return m;const g=Object(a.a)(d);return g===""?m:u?c.t("{size} {emojiName} {size, plural, =1 {emoji} other {emojis}} with {skinToneDescription}",{emojiName:O,size:l,skinToneDescription:g}):`${l} ${O} emojis with ${g}`},"makePhraseForEmojiGroup");n.a=function(i){let l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(!i)return i;const{name:u,skinTone:f}=Object(t.a)(i)||{};if(!u)return i;const d=u.replace(r," "),O=c.t("{emojiPhrase} emoji",{emojiPhrase:d});if(!f)return O===""?d:O;const m=Object(a.a)(f);return m===""?O===""?d:O:l?c.t("React with {emojiPhrase} emoji {skinToneDescription}",{emojiPhrase:d,skinToneDescription:m}):c.t("{emojiPhrase} emoji with {skinToneDescription}",{emojiPhrase:d,skinToneDescription:m})}},YHGx:function(K,n,e){"use strict";e.d(n,"a",function(){return a}),e.d(n,"b",function(){return r});var s=e("2VFn");function t(c){var o;return(o=c.ownerDocument)===null||o===void 0?void 0:o.defaultView}v(t,"getWindowForElement");function a(){return!1}v(a,"shouldOpenInNewTab");function r(c){return!s.e.includes(c)}v(r,"shouldViewNavigateInContext")},YKhI:function(K,n,e){"use strict";e.d(n,"a",function(){return i});var s=e("oTSI"),t=e("Lgge"),a=e("uAML"),r=e("lhZz"),c=e("yuD6"),o=e("ZzdX");const i=Object(s.a)(()=>new a.b({fetch:(l,u)=>t.a.map(u,f=>(Object(r.dispatchForTeamId)(l,Object(c.b)({channelId:f})),Object(r.dispatchForTeamId)(l,Object(o.a)({channelId:f})))),isEnabled:()=>!0,metricsName:"pins"}))},YKpg:function(K,n,e){"use strict";e.d(n,"a",function(){return u});const s=/\bA[A-Z0-9]{8,}\b/g,t=/\bB[A-Z0-9]{8,}\b/g,a=/\b(C|G|D)[A-Z0-9]{8,}\b/g,r=/\bF[A-Z0-9]{8,}\b/g,c=/\b(U|W)[A-Z0-9]{8,}\b/g,o=/\b[\d]{10}\.[\d]{6}\b/g,i=/\bS[A-Z0-9]{8,}\b/g,l=/\bT[A-Z0-9]{8,}\b/g;function u(f){return String(f).replace(s,"[APP_ID]").replace(t,"[BOT_ID]").replace(a,"[CHANNEL_ID]").replace(r,"[FILE_ID]").replace(c,"[MEMBER_ID]").replace(o,"[MESSAGE_TS]").replace(i,"[USER_GROUP_ID]").replace(l,"[TEAM_ID]")}v(u,"normalizeError")},YLXe:function(K,n,e){"use strict";e.d(n,"a",function(){return o});var s=e("mx2s"),t=e("SQ0V"),a=e("E4z0"),r=e("lhZz"),c=e("j77i");const o=Object(t.c)("Set the user-specified sidebar width and mode",(i,l,u)=>{let{sidebarWidthIntent:f,sidebarWidthMode:d}=u;Object(c.v)(s.h,f),Object(c.v)(s.i,d),i(Object(a.d)({sidebarWidthIntent:f,sidebarWidthMode:d})),Object(r.dispatchForClientStore)(Object(a.d)({sidebarWidthIntent:f,sidebarWidthMode:d}))});o.meta={name:"createThunk",key:"createThunksetSidebarColumn",description:"Set the user-specified sidebar width and mode"}},YQ8e:function(K,n,e){K.exports=e.p+"slackbot_neutral_20-00a116e.png"},YUBf:function(K,n,e){"use strict";var s=e("7JUD");e.d(n,"a",function(){return s.a});var t=e("VDNX");e.d(n,"b",function(){return t.a});var a=e("lvWT");e.d(n,"i",function(){return a.a});var r=e("AEEY");e.d(n,"d",function(){return r.a});var c=e("tYRW");e.d(n,"l",function(){return c.a});var o=e("zKrX");e.d(n,"g",function(){return o.a});var i=e("YyjR");e.d(n,"h",function(){return i.a});var l=e("1Qjs");e.d(n,"j",function(){return l.a});var u=e("9org");e.d(n,"e",function(){return u.a});var f=e("DWmQ");e.d(n,"c",function(){return f.a});var d=e("Cs2y");e.d(n,"f",function(){return d.a});var O=e("8POn");e.d(n,"k",function(){return O.a})},YWu2:function(K,n,e){K.exports=e.p+"slackbot_neutral_24-9a05991.png"},YiJ7:function(K,n,e){"use strict";e.d(n,"a",function(){return l}),e.d(n,"b",function(){return u}),e.d(n,"c",function(){return m});var s=e("q1tI"),t=e.n(s),a=e("RVJP"),r=e("WSQ4"),c=e("UXvI"),o=e("N8ug");function i(){return i=Object.assign||function(g){for(var E=1;E<arguments.length;E++){var p=arguments[E];for(var h in p)Object.prototype.hasOwnProperty.call(p,h)&&(g[h]=p[h])}return g},i.apply(this,arguments)}v(i,"_extends");const l=v(g=>Object(a.d)(g,"sk_responsive_menus")==="on","isSkResponsiveMenusEnabled"),u=v(g=>Object(a.d)(g,"sk_responsive_modals")==="on","isSkResponsiveModalsEnabled");function f(g){let E=arguments.length>1&&arguments[1]!==void 0?arguments[1]:250;const{window:p}=Object(s.useContext)(r.a),h=v(_=>{!Array.isArray(_)||!_.length||requestAnimationFrame(()=>g(_))},"observer");return new p.ResizeObserver(Object(c.a)(h,E))}v(f,"useResizeObserver");const d=v(()=>{const{window:g}=Object(s.useContext)(r.a),E=Object(s.useRef)(g.document.body),p=E.current.clientWidth,h=E.current.clientHeight,[_,b]=Object(s.useState)(p),[I,C]=Object(s.useState)(h),y=f(()=>{b(E.current.clientWidth),C(E.current.clientHeight)},100);return Object(s.useEffect)(()=>{const P=E.current;return y.observe(P),()=>{g&&y.unobserve(P)}},[y,g]),{width:_,height:I}},"useWindowSize");function O(g){return E=>{const p=d();return t.a.createElement(g,i({},E,{windowSize:p}))}}v(O,"withWindowSize"),O.displayName="withWindowSize";function m(g){return E=>E.experimentSkResponsiveMenusGroupOn?t.a.createElement(o.a,null,p=>{let{measureRef:h,width:_,height:b}=p;return t.a.createElement(g,i({},E,{measureRef:h,containerSize:{width:_,height:b}}))}):t.a.createElement(g,i({},E))}v(m,"withContainerSize"),m.displayName="withContainerSize"},YjxU:function(K,n,e){"use strict";var s=e("n3tL"),t=e("q1tI"),a=e.n(t),r=e("ifKl"),c=e("1ufr"),o=e("2VFn"),i=e("VymY"),l=e("khnw"),u=e("kBpe");const f='<div aria-hidden="true" style="position:absolute" tabindex="1"></div>',d='<div aria-hidden="true" style="position:absolute" tabindex="0"></div>',O={},m={},g=v((S,A)=>{const R=S.createElement("div");R.innerHTML=f+d;const x=R.firstChild,M=R.lastChild,j=S.body;j.insertBefore(x,j.firstChild),j.appendChild(M),m[A].firstHiddenTabStop=x,m[A].lastHiddenTabStop=M},"createHiddenTabStops"),E=v((S,A)=>{const{firstHiddenTabStop:R,lastHiddenTabStop:x}=m[A];R&&S.body.removeChild(R),x&&S.body.removeChild(x)},"removeHiddenTabStops"),p=v(S=>{const A=Object(i.d)(S.getElementById("client-ui"));A&&A.focus()},"focusFirstInClient"),h=v(S=>{const A=Object(i.e)(S.getElementById("client-ui"));A&&A.focus()},"focusLastInClient"),_=v((S,A)=>{let{keyCode:R,type:x,shiftKey:M,ctrlKey:j,metaKey:W}=A;const U=m[S];R===l.q&&(j||Object(u.p)()&&W||(clearTimeout(U.keydownTimeoutId),U.relatedEvent={type:x,keyCode:R,shiftKey:M},U.keydownTimeoutId=setTimeout(()=>{U.relatedEvent=null},15)))},"onDocumentKeyDown"),b=v((S,A)=>{let{type:R}=A;const x=m[S];clearTimeout(x.mousedownTimeoutId),x.relatedEvent={type:R},x.mousedownTimeoutId=setTimeout(()=>{x.relatedEvent=null},15)},"onDocumentMouseDown"),I=v((S,A)=>{let{currentTarget:R,target:x,relatedTarget:M}=A;const j=m[S],W=j.relatedEvent,U=W&&W.type==="keydown"?W:null,B=j.firstHiddenTabStop,Y=j.lastHiddenTabStop,z=x===B,F=x===Y;if(x!==R){if(z&&U){if(U.shiftKey){x.blur();return}if(!M){p(R);return}}if(F&&U){U.shiftKey?h(R):x.blur();return}if(!M&&!U&&(z||F)){if(j.relatedEvent={type:"keydown",shiftKey:!1,keyCode:9},z){p(R),j.relatedEvent=null;return}F&&(h(R),j.relatedEvent=null)}}},"onDocumentFocus"),C=v((S,A)=>{let{currentTarget:R,relatedTarget:x}=A;const M=m[S];M.blurTimeoutId&&(clearTimeout(M.blurTimeoutId),M.blurTimeoutId=null);const{shiftKey:j,type:W,keyCode:U}=M.relatedEvent||{};!x&&W==="keydown"&&(M.blurTimeoutId=setTimeout(()=>{if(R.activeElement!==R.body)return;M.relatedEvent={type:W,shiftKey:j,keyCode:U},(j?h:p)(R),M.relatedEvent=null},150))},"onDocumentBlur"),y=v((S,A)=>A.bind(null,S),"withWindowId"),P=v(S=>({firstHiddenTabStop:null,lastHiddenTabStop:null,onDocumentBlur:y(S,C),onDocumentFocus:y(S,I),onDocumentKeyDown:y(S,_),onDocumentMouseDown:y(S,b),relatedEvent:null,blurTimeoutId:null,keydownTimeoutId:null,mousedownTimeoutId:null}),"initRefs");let T=v(class extends t.PureComponent{componentDidMount(){const A=a.a.Children.only(this.props.children);typeof A.type=="function"&&this.checkChildIsValid(A);const{window:R,windowId:x}=this.props,M=R.document;if(!O[x]){O[x]=0,m[x]=P(x);const j=m[x];Object(u.i)()?M.addEventListener("blur",j.onDocumentBlur,!0):(g(M,x),M.addEventListener("focus",j.onDocumentFocus,!0)),M.addEventListener("keydown",j.onDocumentKeyDown,!0),M.addEventListener("mousedown",j.onDocumentMouseDown,!0)}O[x]+=1}componentWillUnmount(){const{window:A,windowId:R}=this.props,x=A.document;if(O[R]-=1,O[R]===0){const M=m[R];Object(u.i)()?x.removeEventListener("blur",M.onDocumentBlur,!0):(E(x,R),x.removeEventListener("focus",M.onDocumentFocus,!0)),x.removeEventListener("keydown",M.onDocumentKeyDown,!0),x.removeEventListener("mousedown",M.onDocumentMouseDown,!0),clearTimeout(M.blurTimeoutId),clearTimeout(M.keydownTimeoutId),clearTimeout(M.mousedownTimeoutId),delete O[R],delete m[R]}}onBlur(A){const{currentTarget:R,target:x,relatedTarget:M}=A,j={relatedTarget:M,currentTarget:R,target:x};R.contains(M)||this.props.onFocusLeave(j)}onFocus(A){const{currentTarget:R,target:x,relatedTarget:M}=A,{relatedEvent:j}=m[this.props.windowId];if(!R.contains(x))return;(R.contains(M)?this.props.onFocusWithin:this.props.onFocusEnter)({relatedTarget:M,currentTarget:R,target:x,relatedEvent:j})}checkChildIsValid(A){const{onFocus:R,onBlur:x}=A.props;if(!(R&&x))throw new Error("FocusManager requires a single child with onFocus and onBlur props.")}render(){const A=this.props.children;return a.a.cloneElement(A,{onFocus:this.onFocus,onBlur:this.onBlur},A.props.children)}constructor(A){super(A),this.onFocus=this.onFocus.bind(this),this.onBlur=this.onBlur.bind(this)}},"FocusManager");T.displayName="FocusManager",T.propTypes={children:s.default.node,onFocusEnter:s.default.func,onFocusWithin:s.default.func,onFocusLeave:s.default.func,window:s.default.object,windowId:s.default.oneOfType([s.default.string,s.default.symbol])},T.defaultProps={children:null,onFocusEnter:r.a,onFocusWithin:r.a,onFocusLeave:r.a,window,windowId:o.c},n.a=Object(c.a)(T)},YpEo:function(K,n,e){"use strict";var s=e("q1tI"),t=e.n(s);function a(){for(var f=arguments.length,d=new Array(f),O=0;O<f;O++)d[O]=arguments[O];return d.reverse(),v(function(g){d.find(E=>{var p;return E?(E(g),(p=g.isPropagationStopped)===null||p===void 0?void 0:p.call(g)):!1})},"combinedHandler")}v(a,"combineHandlers");var r=e("muVS");function c(f){return["onClick","onContextMenu","onKeyDown","onKeyUp","onFocus","onBlur","onMouseEnter","onMouseLeave"].includes(f)}v(c,"isHandler");function o(){for(var f=arguments.length,d=new Array(f),O=0;O<f;O++)d[O]=arguments[O];return d.reduce((m,g)=>(Object.keys(g).forEach(p=>{if(g[p]!==void 0){if(m[p]===void 0){m[p]=g[p];return}if(p==="ref")m.ref=Object(r.a)(m.ref,g.ref);else if(p==="className")m.className=Array.from(new Set(`${m.className||""} ${g.className||""}`.split(/\s+/))).join(" ");else if(p==="aria-expanded")m["aria-expanded"]=m["aria-expanded"]||g["aria-expanded"];else if(p==="aria-haspopup")m["aria-haspopup"]=m["aria-haspopup"]||g["aria-haspopup"];else if(c(p))m[p]=a(m[p],g[p]);else if(m[p]!==g[p])throw new Error(`merge-props error: ${String(p)} is being overridden`)}}),m),{})}v(o,"mergeProps");var i=o;function l(f){for(var d=arguments.length,O=new Array(d>1?d-1:0),m=1;m<d;m++)O[m-1]=arguments[m];if(typeof f=="function")return f(i(...O));const g=t.a.Children.only(f);if(!O.length)return g;const E=g.ref,p=E?{...g.props,ref:E}:g.props;return t.a.cloneElement(g,i(p,...O))}v(l,"cloneWithProps");var u=n.a=l},YsXF:function(K,n,e){"use strict";var s=e("q1tI"),t=e.n(s),a=e("ifKl"),r=e("hbEN"),c=e("WIr4"),o=e("1ufr"),i=e("HP72"),l=e("QYtq"),u=e("2K8U"),f=e("FRd1"),d=e("ktUG");function O(){return O=Object.assign||function(I){for(var C=1;C<arguments.length;C++){var y=arguments[C];for(var P in y)Object.prototype.hasOwnProperty.call(y,P)&&(I[P]=y[P])}return I},O.apply(this,arguments)}v(O,"_extends");const m={onClose:{action:d.UiAction.CLOSE},onOpen:{action:d.UiAction.OPEN}},g=50,E=50,p=12,h=4,_=32;let b=v(class extends s.Component{componentDidMount(){this.maybeInstallListener(),this.measureOptionsListAndSetState()}componentDidUpdate(){this.maybeInstallListener()}componentWillUnmount(){this.maybeUninstallListener()}onClose(C){var y;const{selectState:P,inputRef:T,onOptionsListClose:S=a.a,setSelectState:A}=this.props;if(P.isExpanded){if(C instanceof KeyboardEvent){var R;(R=this.optionsListRef.current)===null||R===void 0||R.close(C)}T==null||(y=T.current)===null||y===void 0||y.focus(),S(),A(()=>({isExpanded:!1,activeRowIndex:null,filterQuery:"",displayQuery:""}))}}getOptionsListBounds(){const{inputRef:C,inputContainerRef:y=null}=this.props,P=y||C;return P&&P.current?P.current.getBoundingClientRect():null}getPopoverPosition(C){let{top:y,bottom:P}=C;var T;const S=y,A=(((T=this.props.window)===null||T===void 0?void 0:T.innerHeight)||0)-P,{selectState:R,maxListHeight:x=u.e}=this.props,{options:M}=R;let j=0;const W=v(B=>B.map(Y=>this.getRowHeight(Y)).reduce((Y,z)=>Y+z,0),"calculateRowHeight");if(M){const B=[];M.forEach(Y=>{if(Y.options){B.push(Y.label),Y.options.forEach(z=>B.push(z));return}B.push(Y)}),j=W(B)}const U=Math.min(j,x);return A<U&&A<S?"top-left":"bottom-left"}getRowHeight(C){const{optionsRowHeight:y=u.a}=this.props;return C.type&&C.type==="divider"?u.b:y}maybeInstallListener(){var C,y;if(this.listenerInstalled)return;(C=this.props.window)===null||C===void 0||C.addEventListener("resize",this.onResize),(y=this.props.window)===null||y===void 0||y.addEventListener("scroll",this.onScroll);const{measurePopoverEventName:P=null}=this.props;if(P){var T;(T=this.props.window)===null||T===void 0||T.addEventListener(P,this.measureOptionsListAndSetState)}this.listenerInstalled=!0}maybeUninstallListener(){const{measurePopoverEventName:C=null}=this.props;if(this.listenerInstalled){var y,P;if(this.onResize.cancel(),this.onScroll.cancel(),(y=this.props.window)===null||y===void 0||y.removeEventListener("resize",this.onResize),(P=this.props.window)===null||P===void 0||P.removeEventListener("scroll",this.onScroll),C){var T;(T=this.props.window)===null||T===void 0||T.removeEventListener(C,this.measureOptionsListAndSetState)}this.listenerInstalled=!1}}measureOptionsListAndSetState(){this.listenerInstalled&&this.setState(()=>({optionsListBounds:this.getOptionsListBounds()}))}render(){var C,y;const{popoverProps:P={},selectState:T,minOptionsListWidth:S=null,onOpen:A=a.a,onScrollablePage:R=!1,autoClogProps:x=void 0,maxListHeight:M=u.e,shouldAllowUnselectInSingleSelectMode:j,shouldAllowUnselectInMultiSelectMode:W,stayExpandedAfterSelection:U}=this.props,{selectId:B}=T,Y=this.state.optionsListBounds||{width:0,bottom:0,left:0},z=this.getPopoverPosition({top:Y.top,bottom:Y.bottom}),F=z==="top-left",V=((C=this.props.window)===null||C===void 0?void 0:C.innerWidth)||0;let L=Y.width;S&&Y.width<S&&(L=S);const Q=Y.left-p+L;let ee=0;S&&Q>V&&(ee=S-Y.width);const le=(F?Y.top:(((y=this.props.window)===null||y===void 0?void 0:y.innerHeight)||0)-Y.bottom)-_,Oe=Math.min(le,M),he={...this.props,autoClogProps:x,width:L+p*2,maxListHeight:Oe,shouldAllowUnselectInSingleSelectMode:j,shouldAllowUnselectInMultiSelectMode:W,stayExpandedAfterSelection:U},{pageYOffset:Ee}=this.props.window||{},ge={top:Y.top+Ee+h,bottom:Y.bottom+Ee-h,left:Y.left-(p+ee),width:L};let J;if(R){var H;J={height:(H=this.props.window)===null||H===void 0?void 0:H.document.body.scrollHeight}}return t.a.createElement(f.a,O({elementType:d.ElementType.DROPDOWN,actionProps:m},x?{autoClogProps:x}:{}),t.a.createElement(l.a,O({position:z,allowanceX:-p,ref:this.popover},P,{onClose:this.onClose,isOpen:!!T.isExpanded,key:`${B}-popover`,shouldFocusAfterRender:!1,targetBounds:ge,ariaHideApp:!1,onOpen:A},typeof J<"u"?{overlayStyle:J}:{},{shouldPropagateOnClose:!0}),t.a.createElement(i.b,O({},he,{ref:this.optionsListRef}))))}constructor(C){super(C),this.popover=t.a.createRef(),this.optionsListRef=t.a.createRef(),this.state={optionsListBounds:null},Object(c.a)(this,["measureOptionsListAndSetState","onClose"]),this.onResize=Object(r.a)(this.measureOptionsListAndSetState,g,{maxWait:g}),this.onScroll=Object(r.a)(this.measureOptionsListAndSetState,E,{maxWait:E}),this.listenerInstalled=null}},"SelectPopoverOptionsList");b.displayName="SelectPopoverOptionsList",b.defaultProps={includePadding:!0,window},n.a=Object(o.a)(b)},YyjR:function(K,n,e){"use strict";var s=e("q1tI"),t=e.n(s),a=e("iuhU");function r(){return r=Object.assign||function(i){for(var l=1;l<arguments.length;l++){var u=arguments[l];for(var f in u)Object.prototype.hasOwnProperty.call(u,f)&&(i[f]=u[f])}return i},r.apply(this,arguments)}v(r,"_extends");const c=v(i=>{let{children:l,className:u,...f}=i;return t.a.createElement("div",r({},f,{className:Object(a.default)("c-sk-modal_footer_actions",u)}),l)},"ModalFooterActions");c.displayName="ModalFooterActions";var o=n.a=c},Z242:function(K,n,e){"use strict";var s=e("q1tI"),t=e.n(s),a=e("/MKj"),r=e("UXvI");const c=v(o=>{let{store:i,children:l}=o;const u=Object(s.useRef)({...i,subscribe:f=>i.subscribeImmediate(Object(r.a)(f,16))});return t.a.createElement(a.Provider,{store:u.current}," ",l," ")},"BackgroundableProvider");c.displayName="BackgroundableProvider",n.a=c},Z29U:function(K,n,e){"use strict";e.d(n,"a",function(){return i});var s=e("q1tI"),t=e.n(s),a=e("0cEW"),r=e("3bXy"),c=e("iuhU"),o=e("eLtP");const i={Info:"info",Success:"success"},l=v(u=>{let{children:f,position:d=a.b.Top,targetBounds:O,arrowOffset:m,tipBounds:g,maxWidth:E=r.b.Small,status:p=i.Info,className:h,"data-qa":_="tooltip-tip",id:b}=u;const I=Object(c.default)("c-tooltip__tip",`c-tooltip__tip--${d}`,`c-tooltip__tip--${E}`,{"c-tooltip__tip--success":p==="success"},h),C=Object(s.useMemo)(()=>{const y={};switch(d){case a.b.Top:case a.b.Bottom:g&&O&&(y.left=O.left+O.width/2-g.left,y.right="initial");break;case a.b.TopRight:case a.b.BottomRight:m&&(y.right=m);break;case a.b.TopLeft:case a.b.BottomLeft:m&&(y.left=m);break;default:break}return y},[d,m,g,O]);return t.a.createElement("div",{id:b,role:"tooltip",className:I,"data-qa":_,"data-sk":"tooltip"},f,t.a.createElement("div",{className:"c-tooltip__tip__arrow",style:C}))},"TooltipTip");l.displayName="TooltipTip",n.b=l},Z3RE:function(K,n,e){"use strict";var s=e("q1tI"),t=e.n(s),a=e("zxER"),r=e("nNoG"),c=e("G4FP"),o=e("ZIxB"),i=e("E97Y"),l=e("y6S6"),u=e("x5lL"),f=e("Zbwg"),d=e("eUIW");const O=new r.b("huddles");var m;(function(S){S.CHANNEL="channel",S.MEMBER="member"})(m||(m={}));function g(S){let{id:A,entity:R,channel:x,huddleId:M}=S,j;Object(f.a)(A)?j=m.CHANNEL:Object(d.a)(A)&&(j=m.MEMBER);const W=Object(a.a)(L=>x&&Object(l.c)(L,x.id,A)),U=W&&W.isKnown&&(W==null?void 0:W.isMember),B=x&&Object(i.h)(x),Y=Object(a.a)(L=>Object(u.o)(L,M,A)),z=!!Y&&Y==="joining_soon";let F=null;if(Y?F=z?O.t("Joining soon"):O.t("Invited"):x&&B&&!U?F=O.t("Not in conversation"):x&&!B&&!U&&(F=O.t("Not in channel")),!j)return null;let V;return j===m.CHANNEL?V=t.a.createElement(c.a,{channelId:A,channel:R}):j===m.MEMBER&&(V=t.a.createElement(o.a,{id:A,member:R,showPresence:!0,secondaryContent:F})),t.a.createElement("div",{className:"display_flex"},V)}v(g,"HuddleInviteMultiSelectRenderOption"),g.displayName="HuddleInviteMultiSelectRenderOption";var E=Object(s.memo)(g),p=e("tZQI"),h=e("1HOW"),_=e("DneB"),b=e("+CZ0"),I=e("i5Ig");function C(){return C=Object.assign||function(S){for(var A=1;A<arguments.length;A++){var R=arguments[A];for(var x in R)Object.prototype.hasOwnProperty.call(R,x)&&(S[x]=R[x])}return S},C.apply(this,arguments)}v(C,"_extends");const y=new r.b("huddles"),P=v(S=>{let{isFreeTeam:A,experimentHuddlesInviteModalFreemiumImprovementsGroupOn:R,channel:x,otherMembersInHuddle:M,onSelectedMembersChange:j,onSelectedChannelChange:W,selectedMemberIds:U=I.a,selectedChannelId:B}=S;const Y=Object(_.b)(b.a),z=Object(s.useMemo)(()=>W&&!x&&!A&&!(U!=null&&U.length),[x,A,W,U]),F=Object(s.useMemo)(()=>!B,[B]),V=Object(s.useMemo)(()=>({entities:{...z&&{channels:{canPost:!0,includeArchived:!1}},...F&&{members:{includeSelf:!1,includeSlackbot:!1,includeBots:!1},userGroups:!1}},sort:{frecency:!0,preferChannelMembers:!0,preferChannelsUserBelongsTo:!0,currentChannel:x},allowEmptyQuery:!0,filter:he=>!M.includes(he.id)}),[z,F,x,M]),L=Object(s.useCallback)(he=>{W&&Object(f.a)(he.value)?W(he.value):j([he.value])},[W,j]),Q=Object(s.useCallback)(he=>{const Ee=[];let ge;he.forEach(J=>{Object(f.a)(J.value)?(!ge||J.value!==B)&&(ge=J.value):Ee.push(J.value)}),W==null||W(ge),j(Ee)},[W,j,B]),ee=Object(s.useCallback)(he=>{let{value:Ee,entity:ge}=he;return t.a.createElement(E,{channel:x,id:Ee,entity:ge,huddleId:Y})},[x,Y]),te=Object(s.useCallback)(he=>{let{value:Ee}=he;return Object(f.a)(Ee)?t.a.createElement(c.a,{channelId:Ee}):t.a.createElement(o.a,{id:Ee,showAvatar:!0})},[]),le=Object(s.useMemo)(()=>({className:"padding_top_50 padding_bottom_50",searcherOptions:V,renderOption:ee,selectId:"invite_participants",size:"medium",width:"100%",expandOnFocus:A,focusOnMount:!0}),[V,ee,A]),Oe=Object(s.useMemo)(()=>{const he=U.map(Ee=>({value:Ee}));return B&&he.push({value:B}),he},[B,U]);return A&&R?t.a.createElement(h.e,C({},le,{onOptionSelected:L,placeholderText:y.t("Find someone to invite\u2026"),renderSelectedOption:te,selectedOption:Oe[0]})):t.a.createElement(p.d,C({},le,{onSelectedItemsChange:Q,selectedOptions:Oe,placeholderText:y.t("Search by name")}))},"HuddleInviteModalSelect");P.displayName="HuddleInviteModalSelect";var T=n.a=P},Z66H:function(K,n,e){"use strict";e.d(n,"a",function(){return d}),e.d(n,"b",function(){return O});var s=e("4p6e"),t=e("G5NC"),a=e("7ibc"),r=e("lhZz"),c=e("i9jZ"),o=e("rZ8V"),i=e("eVCY"),l=e("7xYR");let u=Object(s.a)();const f=v(()=>!(u||!Object(t.a)()),"precheck");function d(g){const E=Object(c.a)(g),p=Object(a.H)(g),h=Object(o.g)(g),_=Object(i.e)(g);return E||p||h||_?!0:Object(a.Dd)(g,"view_containers",a.a.PILOT)}v(d,"isViewContainersEnabled");function O(){if(!f())return!1;const g=Object(r.getStateForClientStore)();return(Object(l.getAllWorkspaces)(g)||[]).some(p=>{var h;const _=(h=Object(r.getStoreInstanceByTeamId)(p))===null||h===void 0?void 0:h.getState();return _?Object(o.g)(_)||Object(a.Dd)(_,"view_containers",a.a.PILOT):!1})}v(O,"isViewContainersEnabledForAnyTeam"),Object.defineProperty({disableForTests:u},"disableForTests",{get:()=>u,set:g=>{u=g}})},ZAxE:function(K,n,e){"use strict";e.d(n,"c",function(){return E}),e.d(n,"a",function(){return h}),e.d(n,"d",function(){return _}),e.d(n,"e",function(){return I});var s=e("n3tL"),t=e("WCk1"),a=e("cQw7"),r=e("UIhb"),c=e("zADO"),o=e("9Gfp"),i=e("RVJP"),l=e("s4P+"),u=e("rxiy"),f=e("2XU3"),d=e("n0Pp"),O=e("pjW8"),m=e("YkFH");const g=28;function E(){let C=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";return["C105M7SCQ","G01A79C5B6E"].includes(C)?3:g}v(E,"determineDefaultHistoryLimit");const p={};function h(C){delete p[C]}v(h,"clearFetchLoggingForChannel");const _=Object(t.a)("Fetches the most recent EKM change timestamp via conversations.historyChanges",C=>C(Object(f.a)({method:"conversations.historyChanges",reason:"checking-for-ekm-changes",args:{}})).then(function(){let{ekm_change_ts:y}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return{ekmChangeTimestamp:y}}));_.meta={name:"createFetcher",key:"createFetcherfetchLastEkmChangeTimestamp",description:"Fetches the most recent EKM change timestamp via conversations.historyChanges"};const b=Object(t.a)("Fetches history through conversations.history",(C,y,P)=>{let{channelId:T,oldest:S=null,latest:A=null,limit:R=E(T),includePinCount:x=!0,documentStream:M=null,reason:j="history-api/fetchHistory",cursor:W=null}=P;p[T]||(p[T]=0),p[T]+=1;let U=!1;p[T]>=100&&p[T]%100===0&&(U=!0,Object(l.a)({getState:y}).error({channelId:T,historyFetches:p[T],oldest:S,latest:A,reason:j},"react_messages_loop_fetch"));const B={channel:T,limit:R,ignore_replies:!0,include_pin_count:x,inclusive:!0,no_user_profile:!0,include_stories:!0},Y=y();(!Object(d.h)(Y)||Object(c.b)(Y,T)||Object(c.b)(Y,Object(o.a)(Y)))&&(B.include_tombstones=!0),M&&(B.document_stream=M),S&&(B.oldest=S==="0000000000.000000"?"0000000000.000001":S),A&&(B.latest=A==="0000000000.000000"?"0000000000.000001":A),W&&(B.cursor=W);const z=Object(i.d)(Y,"desktop_message_versions")==="on";let F;if(z){const L=Object.values(Object(r.a)(Y,T)).filter(Q=>(!S||Q.ts>=S)&&(!A||Q.ts<=A)).sort((Q,ee)=>Q.ts-ee.ts);S?F=L.slice(0,R+1):F=L.slice(-(R+1)),B.cached_latest_updates={},F.length&&F.forEach(Q=>{var ee;B.cached_latest_updates[Q.ts]=(ee=Q.version)!==null&&ee!==void 0?ee:Q.ts})}return C(Object(f.a)({method:"conversations.history",args:B,reason:j})).then(function(){let{messages:V,has_more:L,is_limited:Q,pin_count:ee,channel_actions_count:te,deleted:le=[],response_metadata:Oe={},latest_updates:he,unchanged_messages:Ee}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(!V)return U&&Object(l.a)({getState:y}).error({imsgs:V,channelId:T,error:"No imsgs in response!",hasMore:L,isLimited:Q,reason:j},"react_messages_loop_response"),{msgs:[],deleted:le};let ge=V;z&&he&&(ge=V.map(Z=>he[Z.ts]?{...Z,version:he[Z.ts]}:Z));const J=C(Object(a.a)({imsgs:ge,channelId:T,trustReactions:!0,source:m.b.HistoryAPI}));let H=J;return z&&Ee!=null&&Ee.length&&(H=J.concat(F.filter(Z=>Ee.includes(Z.ts))).sort((Z,q)=>Z.ts-q.ts)),Number.isInteger(te)&&C(Object(u.a)({channelId:T,count:te})),U&&Object(l.a)({getState:y}).error({imsgs:V.map(Z=>({ts:Z.ts,channel:Z.channel,userType:Z.user&&Z.user[0],threadTs:Z.thread_ts,subtype:Z.subtype,hidden:Z.hidden})),channelId:T,hasMore:L,isLimited:Q,reason:j},"react_messages_loop_response"),{msgs:H,hasMore:L,pinCount:ee,channelActionsCount:te,isLimited:Q,deleted:le,responseMetadata:Oe}})});b.meta={name:"createFetcher",key:"createFetcherfetchHistory",description:"Fetches history through conversations.history"},b.propTypes={channelId:s.default.string.isRequired,oldest:s.default.string,latest:s.default.string,limit:s.default.number,includePinCount:s.default.bool,documentStream:s.default.string,reason:s.default.string},n.b=b;const I=Object(t.a)("Fetches history through conversations.replies",(C,y,P)=>{let{channelId:T,threadTs:S,oldest:A=null,latest:R=null,limit:x=E(),contentSnippet:M=null,reason:j="history-api/fetchReplies",cursor:W=null}=P;const U={channel:T,ts:S,inclusive:!0,limit:x};A&&(U.oldest=A),R&&(U.latest=R),W&&(U.cursor=W);const B=y();return(!Object(d.h)(B)||Object(c.b)(B,T)||Object(c.b)(B,Object(o.a)(B)))&&(U.include_tombstones=!0),M&&(U.content_snippet=Object(O.b)(M)),C(Object(f.a)({method:"conversations.replies",args:U,reason:j})).then(function(){let{has_more:Y,messages:z,response_metadata:F={},deleted:V=[]}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return z?{msgs:C(Object(a.a)({imsgs:z,channelId:T,trustReactions:!0,source:m.b.RepliesAPI})),hasMore:Y,responseMetadata:F,deleted:V}:{msgs:[],deleted:V}})});I.meta={name:"createFetcher",key:"createFetcherfetchReplies",description:"Fetches history through conversations.replies"},I.propTypes={channelId:s.default.string.isRequired,threadTs:s.default.string.isRequired,oldest:s.default.string,latest:s.default.string,contentSnippet:s.default.object,reason:s.default.string}},ZE32:function(K,n,e){"use strict";var s=e("q1tI"),t=e.n(s),a=e("iuhU"),r=e("YUBf");const c=v(o=>{let{children:i,className:l}=o;return t.a.createElement(r.g,{className:"p-upgrades_modal__footer"},t.a.createElement(r.h,{className:Object(a.default)("p-upgrades_modal__footer_actions",l)},i))},"ModalFooter");n.a=c},ZElP:function(K,n,e){"use strict";var s=e("q1tI"),t=e.n(s),a=e("8aX7");function r(c){let{slackId:o,displayName:i}=c;return!o&&!i?null:o?t.a.createElement(a.a,{isBold:!1,id:o}):t.a.createElement("span",null,i)}v(r,"HuddleMsgTextUser"),r.displayName="HuddleMsgTextUser",n.a=r},ZGvW:function(K,n,e){"use strict";e.d(n,"b",function(){return g}),e.d(n,"a",function(){return E});var s=e("9oTK"),t=e.n(s),a=e("kQBZ"),r=e("/MKj"),c=e("Lgge"),o=e("fujP"),i=e("xwCZ"),l=e("3bak"),u=e("q1tI"),f=e.n(u),d=e("RVJP"),O=e("SQ0V");function m(p){return Object(d.d)(p,"atlas_profile_fields_reads")==="treatment"}v(m,"isAtlasProfileFieldsReadsEnabled");const g=Object(O.c)("Hydrate profile fields for a user",function(){var p=Object(s.coroutine)(function*(h,_,b){let{reason:I,memberId:C}=b;var y;const P=_();if(!m(P))return c.a.resolve();const T=C?Object(i.g)(P,C):Object(i.d)(P);if(!Object(o.a)(T==null||(y=T.profile)===null||y===void 0?void 0:y.fields))return c.a.resolve();const S=(yield h(Object(a.ig)({reason:I,user:T.id}))).profile;if(!S||Object(o.a)(S))return c.a.resolve();const A=S.fields||null;var R,x;const M={...T,profile:{...(R=T.profile)!==null&&R!==void 0?R:{},email:(x=S.email)!==null&&x!==void 0?x:null,fields:A}};return h(Object(l.a)({members:[M]}))});return function(h,_,b){return p.apply(this,arguments)}}());g.meta={name:"createThunk",key:"createThunkhydrateUserProfileFields",description:"Hydrate profile fields for a user"};function E(p){let{reason:h,memberId:_,skip:b=!1}=p;const[I,C]=Object(u.useState)(!1),y=Object(r.useDispatch)();return Object(u.useEffect)(()=>{!_||b||(C(!0),y(g({reason:h,memberId:_})).finally(()=>{C(!1)}))},[y,h,_,b]),I}v(E,"useHydrateMemberProfileFields")},ZIxB:function(K,n,e){"use strict";var s=e("q1tI"),t=e.n(s),a=e("iuhU"),r=e("4HNC"),c=e("sGXp"),o=e("M2+7");function i(){return i=Object.assign||function(u){for(var f=1;f<arguments.length;f++){var d=arguments[f];for(var O in d)Object.prototype.hasOwnProperty.call(d,O)&&(u[O]=d[O])}return u},i.apply(this,arguments)}v(i,"_extends");let l=v(class extends s.Component{render(){const{className:f,id:d,isActive:O=!1,isDeactivated:m=!1,isDisabled:g=!1,isDraftContext:E,showAvatar:p,showBadge:h,showPresence:_,showStatus:b,showTooltip:I,withTruncationTooltip:C,showUnreadCount:y,useShortMode:P,secondaryContent:T,onlyBoldIfUnread:S=!1,forceRealName:A}=this.props;let R;return O?g||m?R=c.d.highlightDim:R=c.d.highlightDark:(g||m)&&(R=c.d.dim),t.a.createElement(r.a,{className:Object(a.default)(f,"c-small_member_list_entity"),primaryContent:t.a.createElement(o.b,i({id:d,invert:R===c.d.highlightDark,isDeactivated:m,truncateStatus:!!T,showAvatar:p,showPresence:_,showBadge:h,useShortMode:P,showStatus:b,showTooltip:I,withTruncationTooltip:C,showUnreadCount:y,isDraftContext:E,onlyBoldIfUnread:S,forceRealName:A},this.props)),secondaryContent:T,size:"small",style:R})}},"SmallMemberListEntity");l.displayName="SmallMemberListEntity",n.a=l},ZMRP:function(K,n,e){"use strict";e.d(n,"a",function(){return M});var s=e("q1tI"),t=e.n(s),a=e("3Hq1"),r=e("qAkX"),c=e("gSGL"),o=e("ifKl"),i=e("kBpe"),l=e("khnw"),u=e("VymY"),f=e("WIr4"),d=e("WSQ4"),O=e("nNoG"),m=e("RMmo"),g=e("YjxU"),E=e("zrD9"),p=e("lYQS"),h=e("MO4o");const _=["radio","searchbox","slider","spinbutton","switch","textbox","combobox","listbox","option"],b=["button","submit","reset"];function I(U){if(!U)return!1;const B=U.nodeName;if((B==="BUTTON"||B==="INPUT"&&b.includes(U.getAttribute("type")||""))&&U.matches('[role="toolbar"] button, [role="toolbar"] input'))return!0;const F=U.getAttribute("role");return F?_.includes(F):!1}v(I,"isInlineAriaWidget");var C=e("V0AD"),y=e("Nyj0"),P=e("TxvE");function T(U){let B=arguments.length>1&&arguments[1]!==void 0?arguments[1]:window;return U instanceof B.self.HTMLElement}v(T,"isHtmlElement");var S=e("tOKv");function A(){return A=Object.assign||function(U){for(var B=1;B<arguments.length;B++){var Y=arguments[B];for(var z in Y)Object.prototype.hasOwnProperty.call(Y,z)&&(U[z]=Y[z])}return U},A.apply(this,arguments)}v(A,"_extends");const R=new O.b("a11y"),x=21;class M extends y.a{componentDidMount(){super.componentDidMount(),this.determineInitialActiveItem(),this.removeAllItemsFromTabFlow(),this.restoreTabIndexesInsideInitialActiveItem(),this.props.disableKeyboardShortcuts||this.bindKeyboardShortcuts()}componentWillUnmount(){super.componentWillUnmount(),this.unbindKeyboardShortcuts()}componentDidUpdate(B,Y){const{activeItem:z,onActiveItemChange:F}=this.props,{activeItem:V,hasKeyboardFocus:L,itemWithVisibleContextMenu:Q}=this.state;this.props.disableKeyboardShortcuts&&!B.disableKeyboardShortcuts&&this.unbindKeyboardShortcuts(),!this.props.disableKeyboardShortcuts&&B.disableKeyboardShortcuts&&this.bindKeyboardShortcuts();const ee=Y.activeItem&&V&&V!==Y.activeItem;this.isScrolling()||(L||this.determineInitialActiveItem(Y.initialActiveItem),(!L||ee)&&(this.removeAllItemsFromTabFlow(),this.restoreTabIndexesInsideInitialActiveItem())),z&&z!==B.activeItem&&(this.setActiveItem(z,!0),this.isItemInView(z)||this.scrollToKey(z)),ee&&F(V),this.isScrolling()||this.updateFocusIfPreviouslyFocusedItemWasRemoved(B),!Q&&Y.itemWithVisibleContextMenu&&this.restoreFocusWhenContextMenuCloses&&(this.focus(),this.restoreFocusWhenContextMenuCloses=!1)}bindKeyboardShortcuts(){if(this.keyCommands)return;const B=[{keys:["pageup"],handler:this.onKeyDownPageUp},{keys:["pagedown"],handler:this.onKeyDownPageDown},{keys:["home"],handler:this.onKeyDownHome,action:"keydown"},{keys:["end"],handler:this.onKeyDownEnd,action:"keydown"},{keys:["home"],handler:this.onKeyUpHome,action:"keyup"},{keys:["end"],handler:this.onKeyUpEnd,action:"keyup"},{keys:["up","down"],handler:this.onArrowKeyDown}],Y=this.props.keyCommands?B.concat(this.props.keyCommands):B;var z;const F=(z=Y==null?void 0:Y.map(V=>{const L=V.filter;return{...V,filter:this.shouldIgnoreKeyboardShortcut.bind(this,L)}}))!==null&&z!==void 0?z:[];this.keyCommands=new m.a(this.props.window.document),this.keyCommands.bindAll(F)}unbindKeyboardShortcuts(){this.keyCommands&&(this.keyCommands.reset(),this.keyCommands=null)}determineInitialActiveItem(B){const{keys:Y,initialActiveItem:z,keysToExcludeFromRovingTabIndex:F}=this.props,{initialActiveItem:V}=this.state;if(F&&F.length>0&&V&&F.includes(V)){B&&this.isItemInView(B)?this.setState(()=>({initialActiveItem:B})):this.setInitialActiveItemToFirstItemInView();return}const ee=V!==null&&Y.indexOf(V)!==-1,te=!(Object(a.a)(z)||z===null||Y.indexOf(z)===-1||F.includes(z));if(!te&&!ee){this.setInitialActiveItemToFirstItemInView();return}if(te&&ee&&z===V){if(this.isItemInView(V))return;this.setInitialActiveItemToFirstItemInView();return}te&&!ee&&this.setState(()=>({initialActiveItem:z}))}updateFocusIfPreviouslyFocusedItemWasRemoved(B){let{keys:Y}=B;const{initialActiveItem:z,hasKeyboardFocus:F}=this.state,{keys:V}=this.props;if(this.props.activeItem||!F||!z)return;const L=Y.indexOf(z);if(!(L!==-1&&!V.includes(z)))return;const ee=V[L]||Object(r.a)(V);ee&&this.focusOnKey(ee)}getPageHeight(){const{pageHeight:B,height:Y}=this.props;return B||Y-x}getKeysForFocusableItems(){const{keys:B,isFocusableItem:Y}=this.props;return B.filter((z,F)=>Y({index:F,key:z}))}getListItemTabIndex(B){const{hasKeyboardFocus:Y,initialActiveItem:z}=this.state,{keysToExcludeFromRovingTabIndex:F,preventTabKeyNavigationIntoList:V}=this.props;return F!=null&&F.includes(B)||!Y&&V?-1:z===B?0:-1}onKeyDownPageUp(B){if(B.preventDefault(),this.props.onPageUp(B)===!1)return;const Y=this.getScrollTop()-this.getPageHeight();if(!this.state.hasKeyboardFocus){this.scrollToOffset(Y);return}if(this.isScrolledToTop()){this.focusFirstItemInView();return}this.scrollToAndFocusFirstItemInView(Y)}onKeyDownPageDown(B){if(B.preventDefault(),this.props.onPageDown(B)===!1)return;const Y=this.getScrollTop()+this.getPageHeight();if(!this.state.hasKeyboardFocus){this.scrollToOffset(Y);return}if(this.isScrolledToBottom()){this.focusLastItemInView();return}const z=this.getNextLastFocusableItemInView(Y);this.setActiveItem(z??null,!0),this.scrollToOffset(Y)}onKeyDownHome(B){if(this.isHomeKeyPressed||(this.isHomeKeyPressed=!0,B.preventDefault(),this.props.onHome(B)===!1))return;if(!this.state.hasKeyboardFocus){this.scrollToOffset(0,{absolute:!0});return}if(this.isScrolledToTop()){this.focusFirstItemInView();return}const z=this.getKeysForFocusableItems()[0];this.setActiveItem(z,!0),this.scrollToKey(z)}onKeyDownEnd(B){if(this.isEndKeyPressed||(this.isEndKeyPressed=!0,B.preventDefault(),this.props.onEnd(B)===!1))return;if(!this.state.hasKeyboardFocus){this.scrollToOffset(1/0,{absolute:!0});return}if(this.isScrolledToBottom()){this.focusLastItemInView();return}const Y=this.getKeysForFocusableItems(),z=Y[Y.length-1];this.setActiveItem(z,!0),this.scrollToKey(z)}onArrowKeyDown(B){if(B.defaultPrevented)return;if(this.state.hasKeyboardFocus){B.preventDefault(),this.focusNextItem(B.keyCode);return}const Y=this.getScrollTop(),z=40;if(B.key==="ArrowUp"){this.scrollToOffset(Y-z);return}this.scrollToOffset(Y+z)}onKeyUpHome(){this.isHomeKeyPressed=!1}onKeyUpEnd(){this.isEndKeyPressed=!1}onItemFocusEnter(B){const{id:Y,relatedEvent:z,currentTarget:F,target:V,hasKeyboardFocus:L}=B,{keys:Q,isFocusableItem:ee,onItemFocusEnter:te}=this.props,le=L;if(!this.haveActiveItem()&&V===F){this.setActiveItem(Y),te(B);return}const he=!this.haveActiveItem()&&!z&&F.contains(V),Ee=ee({index:Q.indexOf(Y),key:Y})?Y:this.state.initialActiveItem;he&&this.setState(()=>({hasKeyboardFocus:le,activeItem:null,initialActiveItem:Ee})),te(B)}onItemFocusWithin(B){const{id:Y,currentTarget:z,target:F}=B,{onItemFocusWithin:V}=this.props;if(F===z){this.setActiveItem(Y),V(B);return}const{keys:L,isFocusableItem:Q}=this.props,ee=Q({index:L.indexOf(Y),key:Y})?Y:this.state.initialActiveItem;this.setState(()=>({activeItem:null,initialActiveItem:ee})),V(B)}onItemTabWithin(B){this.props.onItemTabWithin(B)}onFocusEnter(B){const{relatedEvent:Y,target:z}=B;if(Y&&Y.type==="mousedown"||z&&(z instanceof HTMLMediaElement||z.dataset.mediaFocusContainer))return;const F=!Y,L=Y&&Y.type==="keydown"||F;if(!L){this.props.onFocusEnter(B);return}this.props.onFocusEnter({isKeyboardFocus:L,...B})}onFocusLeave(B){const{onFocusLeave:Y}=this.props,z=this.state.activeItem,F=this.haveActiveItem()?{activeItem:null,hasKeyboardFocus:!1,initialActiveItem:z,isInitialFocusInRange:!1}:{activeItem:null,hasKeyboardFocus:!1,isInitialFocusInRange:!1},V={activeItem:z,...B};this.setState(()=>F,()=>{Y(V)})}onFocusedElementRemoved(){this.state.hasKeyboardFocus&&this.focus()}onItemContextMenu(B,Y,z){let{hasKeyboardFocus:F}=z;const{onItemContextMenu:V}=this.props;if(V&&V(B,Y,{hasKeyboardFocus:F}),!B.defaultPrevented)return;const L=this.getTargetBoundsForContextMenu(B);this.restoreFocusWhenContextMenuCloses=this.state.hasKeyboardFocus,this.setState(()=>({itemWithVisibleContextMenu:Y,contextMenuTargetBounds:L}))}onItemMouseDown(B,Y){this.setState(()=>({hasKeyboardFocus:!1,activeItem:null,initialActiveItem:Y}))}focus(){const B=this.state.initialActiveItem;if(B&&this.isItemInView(B)){this.setActiveItem(B,!0);return}this.scrollToAndFocusFirstItemInView()}focusOnKey(B){let{offset:Y=0}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{keys:z}=this.props;return B&&z.indexOf(B)!==-1?(this.setActiveItem(B,!0),this.isItemInView(B)||this.scrollToKey(B,{offset:Y}),!0):!1}scrollToAndFocusFirstItemInView(B){const Y=this.getNextFirstFocusableItemInView(B);Y&&(this.setActiveItem(Y,!0),this.scrollToKey(Y))}blur(){var B;const Y=this.props.window.document.activeElement;!((B=this.getScrollerRef())===null||B===void 0)&&B.contains(Y)&&Y.blur()}getActiveItem(){return this.state.activeItem}getTargetBoundsForContextMenu(B){if(!this.state.hasKeyboardFocus)return Object(S.b)({left:B.pageX,top:B.pageY});const{left:Y,top:z,width:F,height:V}=B.currentTarget.getBoundingClientRect();return Object(S.b)({left:Y+F/2,top:z+V/2})}closeContextMenu(){this.setState(()=>({itemWithVisibleContextMenu:null,contextMenuTargetBounds:null}))}removeAllItemsFromTabFlow(){var B;const Y=this.getScrollerRef();if(!Y)return;var z;const F=(z=(B=this.props.keysToExcludeFromRovingTabIndex)===null||B===void 0?void 0:B.map(L=>this.props.window.document.getElementById(this.getUniqueItemId(L))))!==null&&z!==void 0?z:[];Object(u.a)(Y,L=>!F.some(Q=>Q==null?void 0:Q.contains(L))).forEach(L=>{if(L!=null&&L.classList.contains("c-virtual_list__item"))return;const Q=L.getAttribute("tabindex");L.setAttribute("tabindex","-1"),L.dataset.removeTabIndex="true",Object(c.a)(Q)&&(L.dataset.tabIndexToRestore=Q)})}restoreTabIndexesInsideInitialActiveItem(){var B;const{initialActiveItem:Y}=this.state,{window:z}=this.props,F=Y!==null&&((B=this.contentNode)===null||B===void 0?void 0:B.querySelector(".c-virtual_list__item--initial-activeitem"));F&&F.querySelectorAll("[data-remove-tab-index]").forEach(V=>{if(T(V,z)){const L=V.dataset.tabIndexToRestore;Object(c.a)(L)?V.setAttribute("tabindex",L):V.removeAttribute("tabindex"),delete V.dataset.removeTabIndex,delete V.dataset.tabIndexToRestore}})}shouldIgnoreKeyboardShortcut(B,Y){var z;const{ignoreKeyCommandsOnInputs:F,useGlobalKeyboardShortcuts:V}=this.props,L=Y.target,Q=(z=this.getScrollerRef())===null||z===void 0?void 0:z.contains(L);return V&&!Q&&L!==this.props.window.document.body||!V&&!Q?!0:L.matches(".c-virtual_list__item")?!1:!!(F&&(Object(h.a)(L)||I(L))||B&&B(Y))}setActiveItem(B){let Y=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;this.setState(()=>({hasKeyboardFocus:!0,activeItem:B,initialActiveItem:B,isInitialFocusInRange:Y}))}haveActiveItem(){return this.state.activeItem!==null}getUniqueItemId(B){const{id:Y}=this.props;return Y?`${Y}_${B}`:B}focusFirstItemInView(){const B=this.getFocusableItemsInView()[0];this.state.activeItem!==B&&this.setActiveItem(B,!0)}focusLastItemInView(){let B=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;const Y=this.getFocusableItemsInView(void 0,B),z=Y[Y.length-1];this.state.activeItem!==z&&this.setActiveItem(z,!0)}focusNextItem(B){const Y=this.getNextActiveItem(B,this.state.activeItem);Y&&(this.setActiveItem(Y,!1),this.isItemInView(Y,this.layout.anchorOffset)||this.scrollToKey(Y))}getFocusableItemsInView(B,Y){const{keys:z,isFocusableItem:F}=this.props,{start:V,end:L}=this.getVisibleRange(B,Y);return(V===L?z.slice(V,V+1):z.slice(V,L)).filter(ee=>F({index:z.indexOf(ee),key:ee}))}getNextFirstFocusableItemInView(B){const Y=this.state.activeItem,z=this.getFocusableItemsInView(B)[0];return z&&z===Y||!z&&Y?this.getNextActiveItem(l.r,Y):z}getNextLastFocusableItemInView(B){const Y=this.state.activeItem,z=this.getFocusableItemsInView(B),F=z[z.length-1];return F&&F===Y||!F&&Y?this.getNextActiveItem(l.c,Y):F}getInitialActiveItem(){return this.state.initialActiveItem}getNextActiveItem(B,Y){const z=this.state.initialActiveItem;if(!this.haveActiveItem())return z&&!this.isItemInView(z)?this.getNextFirstFocusableItemInView():z||this.getNextFirstFocusableItemInView();const F=Y,V=this.props.keys.indexOf(F),L=B===l.r?V-1:V+1,Q=this.props.keys[L];return Q&&!this.props.isFocusableItem({index:L,key:Q})?this.getNextActiveItem(B,Q):Q}getTabIndex(){return!this.shouldUseARIAApplicationRole()&&Object(i.x)()?-1:void 0}makeAriaDescribedByNode(){if(this.props.role!=="application"||!this.contentNode)return;const B=`sr-list-instructions-${Object(p.a)()}`;if(this.props.window.document.getElementById(B))return;const Y=this.props.window.document.createElement("div");Y.hidden=!0,Y.id=B;const z=R.t("Use the up and down arrows or page up, page down, home and end to navigate the list");Y.innerText=z,this.props.window.document.body.appendChild(Y),this.contentNode.setAttribute("aria-describedby",B),this.ariaDescribedById=B}removeAriaDescribedByNode(){if(this.props.role!=="application")return;const B=this.ariaDescribedById;if(!B)return;const Y=this.props.window.document.getElementById(B);!Y||this.props.window.document.querySelectorAll(`[aria-describedby="${B}"]`).length>1||Y.remove()}setInitialActiveItemToFirstItemInView(){const{keysToExcludeFromRovingTabIndex:B}=this.props,Y=this.getFocusableItemsInView().find(z=>!B.includes(z));Y&&this.setState(()=>({initialActiveItem:Y}))}shouldUseARIAApplicationRole(){const{useARIAApplicationForListViews:B}=this.context;return!Object(i.x)()||!this.props.useApplicationRole?!1:!!B}renderContextMenu(){const{itemWithVisibleContextMenu:B,contextMenuTargetBounds:Y}=this.state;if(!B||!Y)return null;const z={targetBounds:Y,onCloseRequested:this.closeContextMenu};return this.props.renderContextMenuForItem(B,z)}renderItem(B,Y){const{activeItem:z,initialActiveItem:F,hasKeyboardFocus:V}=this.state,L=this.getTop(B),Q=this.layout.getHeight(B),ee=z===B,te=z===null&&V&&F===B,le=this.isItemInView(B),Oe=this.layout.getHeightValidity(B),he=V&&!this.isScrolling()?this.getNextFirstFocusableItemInView():void 0,{rowRenderer:Ee,getPropsForItem:ge,onItemClick:J,onItemKeyDown:H,onItemFocusLeave:Z,shouldHorizontallyScroll:q,useStaticHeightForListItems:k,width:se}=this.props,re=this.getUniqueItemId(B),X=ee&&this.state.isInitialFocusInRange,w=this.state.itemWithVisibleContextMenu===B,ce=F===B,ie=ge({key:B,index:Y,isInitialFocusInRange:X,hasFocus:ee,activeItem:z,initialActiveItem:F,firstItemInView:he})||{};return t.a.createElement(P.a,A({tabIndex:this.getListItemTabIndex(B)},ie,{id:re,itemKey:B,key:B,height:Q,validity:Oe,top:L,hasFocus:ee,hasFocusWithin:te,contextMenuVisible:w,onFocusEnter:this.onItemFocusEnter,onFocusWithin:this.onItemFocusWithin,onFocusLeave:Z,onTabWithin:this.onItemTabWithin,onHeightChange:this.setHeight,onMouseDown:this.onItemMouseDown,onContextMenu:this.onItemContextMenu,onClick:J,onKeyDown:H,shouldHorizontallyScroll:q,useStaticHeight:k,isInitialActiveItem:ce,resizeObserver:this.resizeObserver,"aria-setsize":"-1"}),Ee(Y,{key:B,hasFocus:ee,hasFocusWithin:te,itemId:re,listWidth:se,isInView:le,isExpanded:ie["aria-expanded"],hasContextMenu:w}))}render(){const B=this.shouldUseARIAApplicationRole()?"application":"presentation";return t.a.createElement(t.a.Fragment,null,t.a.createElement(g.a,{onFocusEnter:this.onFocusEnter,onFocusLeave:this.onFocusLeave},t.a.createElement(E.a,{onFocus:o.a,onBlur:o.a,onFocusedElementRemoved:this.onFocusedElementRemoved},t.a.createElement("div",{role:B,id:this.props.id},super.render()))),this.renderContextMenu())}constructor(B){super(B),Object(f.a)(this,["onFocusEnter","onFocusLeave","onFocusedElementRemoved","onItemMouseDown","onItemFocusEnter","onItemFocusWithin","onItemTabWithin","onItemContextMenu","closeContextMenu","focus","onKeyDownPageUp","onKeyDownPageDown","onKeyDownHome","onKeyDownEnd","onKeyUpHome","onKeyUpEnd","onArrowKeyDown"]),this.state={...this.state,initialActiveItem:null,activeItem:null,hasKeyboardFocus:!1,isInitialFocusInRange:!1,itemWithVisibleContextMenu:null,contextMenuTargetBounds:null}}}v(M,"keyboard_navigable_list_BaseKeyboardNavigableList"),M.displayName="BaseKeyboardNavigableList",M.contextType=C.a,M.defaultProps={...y.a.defaultProps,activeItem:void 0,initialActiveItem:void 0,isFocusableItem:()=>!0,onFocusEnter:o.a,onFocusLeave:o.a,onPageUp:o.a,onPageDown:o.a,onHome:o.a,onEnd:o.a,onItemClick:o.a,onItemKeyDown:o.a,onItemTabWithin:o.a,onItemFocusEnter:o.a,onItemFocusWithin:o.a,onItemFocusLeave:o.a,onItemContextMenu:o.a,onActiveItemChange:o.a,keyCommands:void 0,pageHeight:void 0,ignoreKeyCommandsOnInputs:!0,getPropsForItem:o.a,preventTabKeyNavigationIntoList:!1,renderContextMenuForItem:o.a,disableKeyboardShortcuts:!1,useGlobalKeyboardShortcuts:!1,keysToExcludeFromRovingTabIndex:[],useApplicationRole:!0};const j=t.a.memo(t.a.forwardRef(v(function(B,Y){const{window:z,windowId:F,windowToken:V}=Object(s.useContext)(d.a);return t.a.createElement(M,A({},B,{ref:Y,window:z,windowId:F,windowToken:V}))},"KeyboardNavigableList")));var W=n.b=j},ZYJ2:function(K,n,e){"use strict";e.d(n,"f",function(){return Ee}),e.d(n,"c",function(){return ge}),e.d(n,"d",function(){return J}),e.d(n,"a",function(){return Z}),e.d(n,"e",function(){return se}),e.d(n,"b",function(){return re});var s=e("oTSI"),t=e("ifKl"),a=e("lhZz"),r=e("uAML");function c(X,w){return`${X}:${w}`}v(c,"serialize");function o(X){const[w,ce]=X.split(":");return{channelId:w,ts:ce}}v(o,"deserialize");var i=e("Z7Ay"),l=e("aVws"),u=e("OZf9"),f=e("lCmp"),d=e("c8Bs"),O=e("F294"),m=e("qAkX"),g=e("n3tL"),E=e("Lgge"),p=e("SQ0V"),h=e("s4P+"),_=e("+l5E"),b=e("JQ3U"),I=e("rebY"),C=e("ccuj"),y=e("HYaO"),P=e("xcHN"),T=e("UIhb"),S=e("Zbwg"),A=e("ZAxE"),R=e("uXhx"),x=e("J/RB");const M="HISTORY-CFM";function j(X,w){return v(function ce(){let{channelId:ie,oldest:oe,latest:me,cursor:ue="",msgsInRange:_e=[],deletedInRange:be=[]}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const Ae={channelId:ie,oldest:oe,latest:me,cursor:ue,inclusive:!0,includePinCount:!1,reason:"channel-history-store.CFM.fetch"};return X(Object(A.b)(Ae)).then(function(){let{msgs:Ce=[],deleted:De=[],isLimited:Pe,hasMore:Ue,responseMetadata:ae={}}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return _e.push(...Ce),be.push(...De),Ue&&!Pe&&ae.next_cursor?ce({channelId:ie,oldest:oe,latest:me,cursor:ae.next_cursor,msgsInRange:_e,deletedInRange:be}):(X(Object(x.a)({msgs:_e,channelId:ie,isLimited:Pe,latest:me,oldest:oe,deletedInRange:be})),E.a.resolve())})},"fetchHistoryRangeHelper")(w)}v(j,"fetchHistoryRange");function W(X,w){return v(function ce(){let{channelId:ie,threadTs:oe,oldest:me,latest:ue,cursor:_e="",msgsInRange:be=[],deletedInRange:Ae=[]}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const Ce={channelId:ie,threadTs:oe,oldest:me,latest:ue,cursor:_e,inclusive:!0,reason:"channel-history-store.CFM.fetch"};return X(Object(A.e)(Ce)).then(function(){let{msgs:De=[],deleted:Pe=[],hasMore:Ue,responseMetadata:ae={}}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(be.push(..._e?Object(R.a)(De,{ts:oe}):De),Ae.push(...Pe),Ue&&ae.next_cursor)return ce({channelId:ie,threadTs:oe,oldest:me,latest:ue,cursor:ae.next_cursor,msgsInRange:be,deletedInRange:Ae});const Ie=me===oe||ue===oe?be:Object(R.a)(be,{ts:oe});return X(Object(x.a)({msgs:Ie,channelId:Object(P.c)(ie,oe),latest:ue,oldest:me,deletedInRange:Ae})),E.a.resolve()})},"fetchRepliesRangeHelper")(w)}v(W,"fetchRepliesRange");const U=Object(p.c)("Fetches a range of messages",(X,w,ce)=>{let{channelId:ie,oldest:oe,latest:me}=ce;return Object(h.a)({getState:w,label:M}).info(`Re-fetching ${ie} ${oe} - ${me}`),Object(S.a)(ie)?j(X,{channelId:ie,oldest:oe,latest:me}):W(X,{...Object(P.a)(ie),oldest:oe,latest:me})});U.meta={name:"createThunk",key:"createThunkfetchRange",description:"Fetches a range of messages"};var B=e("6CnZ");function Y(X){const w={};return X.forEach(ce=>{const{channelId:ie,ts:oe}=o(ce);w[ie]=w[ie]||[],w[ie].push(oe)}),w}v(Y,"groupTimestampsByChannel");function z(X){let w,ce;return Object(u.a)(X,(ie,oe)=>{w===void 0&&(w=oe),ce===void 0&&(ce=oe),oe<w&&(w=oe),oe>ce&&(ce=oe)}),{minTs:w,maxTs:ce}}v(z,"getMinAndMaxTs");function F(){let X=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},w=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return Object(f.a)(w,(ce,ie)=>X[ie])}v(F,"hasIntersection");function V(X,w){return Object(d.a)(w,(ce,ie)=>X[ie])}v(V,"isSuperset");function L(X){let{ranges:w={},tsMaps:ce=[]}=X;const ie={...w};let oe=ce[0];return ce.forEach(me=>{oe!==me&&(F(oe,me)?V(oe,me)?delete ie[me.rangeId]:V(me,oe)?(delete ie[oe.rangeId],oe=me):Object(u.a)(me,(ue,_e)=>delete oe[_e]):oe=me)}),Object.values(ie)}v(L,"dedupe");function Q(X,w){let ce=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[];const ie=Object(h.a)({state:X,label:M}),oe={},me=[];return ce.sort().forEach(ue=>{const be=Object(T.b)(X,w,ue,!1);if(!be){ie.warn(`No message for ${ue} in ${w}`);return}if(Object(_.Z)(be)||Object(I.a)(be))return;const Ae=[];(!Object(y.a)(be)||Object(_.sb)(be)||Object(b.h)(be))&&Ae.push(w),(Object(_.sb)(be)||Object(y.a)(be))&&Ae.push(Object(P.c)(w,Object(C.a)(be))),Ae.forEach(Ce=>{if(!Ce)return;const De=Object(B.h)(X,Ce,ue);if(!De||De===B.a)return;const{start:Pe,end:Ue,timestamps:ae}=De,ne=`${Pe}-${Ue}`;if(!oe[ne]){const Te={};Object.defineProperty(Te,"rangeId",{enumerable:!1,value:ne}),oe[ne]={id:Ce,firstTs:Object(O.a)(ae),lastTs:Object(m.a)(ae),start:Pe,end:Ue,tsMap:Te},me.push(Te)}const Ie=oe[ne];Ie.tsMap[ue]=!0})}),{ranges:oe,tsMaps:me}}v(Q,"segment");function ee(X,w){let ce=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[];return(L(Q(X,w,ce))||[{}]).map(oe=>{let{id:me,firstTs:ue,lastTs:_e,start:be,end:Ae,tsMap:Ce}=oe;const{minTs:De,maxTs:Pe}=z(Ce);return{id:me,oldest:De===ue?be:De,latest:Pe===_e?Ae:Pe}})}v(ee,"rangify");const te=Object(p.c)("Fetches chunks of channel history for the given message IDs",(X,w,ce)=>{let{ids:ie}=ce;const oe=Y(ie),me={};return Object(u.a)(oe,(ue,_e)=>{const be=ee(w(),_e,ue);me[_e]=E.a.map(be,Ae=>{let{oldest:Ce,latest:De,id:Pe}=Ae;return X(U({channelId:Pe,oldest:Ce,latest:De}))})}),E.a.all(Object.values(me))});te.meta={name:"createThunk",key:"createThunkrefetchChannelHistory",description:"Fetches chunks of channel history for the given message IDs"},te.propTypes={ids:g.default.arrayOf(g.default.string)};var le=te,Oe=e("RVJP");const he=Object(s.a)(()=>new r.b({fetch:(X,w)=>Object(a.dispatchForTeamId)(X,le({ids:w})),metricsName:"channel-history",isEnabled:()=>!0,markStaleAfterSlowReconnect:X=>Object(Oe.d)(X,"channel_eventlog_fe_skip_message_events")!=="on"})),Ee=v((X,w,ce)=>he().maybeRefetch(Object(l.b)(X,"channelHistory"),c(w,ce)),"maybeRefetch"),ge=v((X,w,ce)=>he().markObjectsAsFresh(Object(l.b)(X,"channelHistory"),ce.map(ie=>c(w,ie))),"markObjectsAsFresh"),J=v((X,w,ce)=>he().markObjectsAsStale(Object(l.b)(X,"channelHistory"),ce.map(ie=>c(w,ie))),"markObjectsAsStale"),H=v((X,w,ce)=>he().isObjectFresh(Object(l.b)(X,"channelHistory"),c(w,ce)),"isObjectFresh"),Z=v(X=>he().getFreshObjects(Object(l.b)(X,"channelHistory")).map(o),"getFreshObjects");Object(i.b)("conditionalFetchManagerChannelHistory",he);const q="reachedEnd",k=Object(s.a)(()=>new r.b({fetch:t.a,metricsName:"channel-history-reached-end",isEnabled:()=>!0})),se=v(X=>k().markObjectsAsFresh(Object(l.b)(X,"channelHistory"),[q]),"markReachedEndAsFresh"),re=v(X=>k().isObjectFresh(Object(l.b)(X,"channelHistory"),[q]),"isReachedEndFresh")},ZbzB:function(K,n,e){"use strict";e.d(n,"a",function(){return i}),e.d(n,"b",function(){return l}),e.d(n,"f",function(){return u}),e.d(n,"e",function(){return f}),e.d(n,"d",function(){return d}),e.d(n,"c",function(){return O});var s=e("QOYf"),t=e("kBpe"),a=e("W29z"),r=e("RVJP"),c=e("JoR1"),o;const i=v(()=>{var m,g;return(o=(m=window.matchMedia)===null||m===void 0||(g=m.call(window,"not all and (prefers-contrast), (prefers-contrast)"))===null||g===void 0?void 0:g.matches)!==null&&o!==void 0?o:!1},"browserSupportsHighContrastColors"),l=v(()=>Object(s.a)()&&(Object(t.p)()||Object(t.y)())&&Object(t.j)("4.20.0"),"desktopSupportsHighContrastColors"),u=v(m=>Object(r.d)(m,"a11y_message_replay")==="on"&&Object(a.h)(m)&&Object(a.d)(m),"shouldTriggerMessageReplay"),f=v(m=>Object(r.d)(m,"a11y_underline_button_link")==="on"&&!!Object(c.u)(m,"underline_links"),"shouldShowUnderlineButtonLink"),d=v(m=>Object(r.d)(m,"aria_message_sounds_and_announcements_expansion")==="on","isExpandingMessageSounds"),O=v(m=>Object(r.d)(m,"aria_message_announcements_expansion")==="on","isExpandingMessageAnnouncements")},Zrm2:function(K,n,e){"use strict";e.d(n,"a",function(){return d});var s=e("SQ0V"),t=e("QKJg"),a=e("v7mh"),r=e("LAdm"),c=e("FceS"),o=e("2VFn"),i=e("1Np4"),l=e("4cU5"),u=e("iMEJ"),f=e("KAVK");const d={Click:"click",Keyboard:"keyboard",AutoSwitch:"autoswitch",Omniswitcher:"omniswitcher",Peek:"peek",More:"more",OSMenu:"osmenu",Boot:"boot"},O=Object(s.c)("Set the active tab for the main window",(m,g,E)=>{let{tab:p,reason:h,preventHistoryEntry:_,replaceHistoryEntry:b=!1}=E;const I=g(),C=Object(a.a)(I);if(p===C)return;const y=Object(i.a)({state:I});m(Object(t.c)({tab:p}));const P=Object(a.i)(g());if(_||m(b?Object(f.a)({windowId:o.c,entry:P}):Object(c.a)({windowId:o.c,entry:P})),h!==d.AutoSwitch){const S=Object(a.h)(I,{tab:C}),A=Object(a.h)(I,{tab:p});m(Object(r.a)({prevViewSet:S,prevTab:C,nextViewSet:A,nextTab:p,navigateParams:{},triggerType:u.a.ACTIVE_TAB_UPDATE}))}const T=y.createSpan({name:"ia4client:navigate:tabSwitch",samplingOptions:{sampleType:l.g.ALWAYS},options:{tags:{prevTab:C,nextTab:p,reason:h.toString()}}});T.close(),y.reportSpans([T])});O.meta={name:"createThunk",key:"createThunksetActiveTab",description:"Set the active tab for the main window"},n.b=O},ZvnG:function(K,n,e){"use strict";e.d(n,"a",function(){return t});var s=e("4TP3");class t{get subscriberCount(){return this.subscribers.length}subscribe(r){this.subscribers.push(r)}unsubscribe(r){Object(s.a)(this.subscribers,r)}publish(r){this.subscribers.forEach(c=>{c(r)})}constructor(){this.subscribers=[]}}v(t,"PubSub")},ZzdX:function(K,n,e){"use strict";e.d(n,"a",function(){return g});var s=e("s4P+"),t=e("9cNQ"),a=e("3zNH"),r=e("SQ0V"),c=e("O86Y"),o=e("xQ1x"),i=e("cQw7"),l=e("Jhy3"),u=e("8z+9"),f=e("yuD6"),d=e("+nBv"),O=e("YKhI"),m=e("C0ks");const g=Object(r.c)("Fetch pinned items list for channel",(E,p,h)=>{const _=h.channelId;return E(Object(f.d)({loadingState:u.b.LOADING,channelId:_})),E(Object(t.b)({reason:"fetchPinsList",...h})).then(function(){let{items:b}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const I=b.filter(P=>P.type.includes(u.a.FILE)).map(P=>{if(P.type===u.a.FILE_COMMENT){const{comment:T,file:S,...A}=P,R=Object(o.a)(T,S);return{...A,file:R}}return P}),C=b.filter(P=>P.type===u.a.MESSAGE);if(I.length){const P=I.filter(S=>S.type!==u.a.FILE_COMMENT),T=I.filter(S=>S.type===u.a.FILE_COMMENT);E(Object(a.a)({files:P.map(S=>S.file)})),E(Object(a.a)({files:T.map(S=>S.file)}))}if(C.length){const P=C.map(S=>{let{message:A}=S;return A}),T=E(Object(i.a)({imsgs:P,channelId:_}));E(Object(l.a)(T))}E(Object(d.a)({channelId:_,count:b.length})),E(Object(f.a)({items:b.map(m.a),channelId:_})),E(Object(f.d)({loadingState:u.b.LOADED,channelId:_}));const y=Object(c.g)(p());Object(O.a)().markObjectsAsFresh(y,[_])}).catch(b=>{throw E(Object(f.d)({loadingState:u.b.NOT_LOADED,channelId:_})),Object(s.a)({getState:p}).error(`Error in fetchPinsList: ${JSON.stringify(b)}`),b})});g.meta={name:"createThunk",key:"createThunkfetchPinsList",description:"Fetch pinned items list for channel"}},a1Y7:function(K,n,e){K.exports=e.p+"slackbot_sad_surprise_1024-337ff51.png"},a372:function(K,n,e){"use strict";var s=e("SQ0V"),t=e("QKJg"),a=e("v7mh"),r=e("FceS"),c=e("2VFn"),o=e("rZ8V");const i=Object(s.c)("Set the view for the specified container in the specified window",(l,u,f)=>{const{windowId:d}=f;if(l(Object(t.e)(f)),d===c.c){if(!Object(o.g)(u()))return;const O=Object(a.i)(u());l(Object(r.a)({windowId:d,entry:O}))}else{const O=Object(a.e)(u(),{windowId:d});O&&l(Object(r.a)({windowId:d,entry:O}))}});i.meta={name:"createThunk",key:"createThunksetView",description:"Set the view for the specified container in the specified window"},n.a=i},a7YP:function(K,n,e){"use strict";e.d(n,"r",function(){return b}),e.d(n,"o",function(){return I}),e.d(n,"l",function(){return C}),e.d(n,"i",function(){return y}),e.d(n,"b",function(){return P}),e.d(n,"g",function(){return T}),e.d(n,"a",function(){return S}),e.d(n,"s",function(){return A}),e.d(n,"u",function(){return x}),e.d(n,"t",function(){return M}),e.d(n,"v",function(){return j}),e.d(n,"j",function(){return W}),e.d(n,"k",function(){return U}),e.d(n,"c",function(){return z}),e.d(n,"e",function(){return L}),e.d(n,"d",function(){return Q}),e.d(n,"f",function(){return ee}),e.d(n,"q",function(){return te}),e.d(n,"p",function(){return le}),e.d(n,"h",function(){return Oe}),e.d(n,"n",function(){return he}),e.d(n,"m",function(){return Ee}),e.d(n,"w",function(){return ge});var s=e("ZKjC"),t=e("RVJP"),a=e("VOl3"),r=e("q0lC"),c=e("xwCZ"),o=e("beVI"),i=e("G0eX"),l=e("nH59"),u=e("O86Y"),f=e("HzDh"),d=e("rKeN");function O(J){if(Object(l.a)(J)){const q=Object(u.i)(J);return q?Object(d.a)(J)?Object(f.a)(J)||Object(f.b)(J)||Object(f.c)(J):Object(f.d)(J,{teamId:q})||Object(f.e)(J,{teamId:q})||Object(f.f)(J,{teamId:q}):!1}const H=Object(o.g)(J),Z=Object(c.d)(J);return Object(i.y)(H)?Object(a.a)(Z)||Object(a.b)(Z):Object(r.f)(J)}v(O,"isCurrentUserTopLevelAdminOrOwner");var m=e("eVCY"),g=e("NjAx");const E=v(J=>Object(m.e)(J)&&Object(g.B)(J)&&Object(g.C)(J),"canUserManageSalesHomeDataSources");var h=v(J=>Object(g.O)(J)&&Object(g.r)(J)&&Object(g.M)(J),"canUserManageDataSources"),_=e("G7OB");const b=Object(s.b)(J=>Object(t.d)(J,"hermes_stable")==="on");b.meta={name:"createSelector",key:"createSelectorisHermesEnabledForUser",description:J=>Object(t.d)(J,"hermes_stable")==="on"};const I=Object(s.b)(J=>Object(t.d)(J,"hermes_builder_stable")==="on");I.meta={name:"createSelector",key:"createSelectorisHermesBuilderStableEnabled",description:J=>Object(t.d)(J,"hermes_builder_stable")==="on"};const C=Object(s.b)(J=>Object(t.d)(J,"hermes_builder_next")==="on");C.meta={name:"createSelector",key:"createSelectorisHermesBuilderNextEnabled",description:J=>Object(t.d)(J,"hermes_builder_next")==="on"};const y=Object(s.b)(J=>Object(t.d)(J,"hermes_enable_automated_triggers_unfurl")==="on");y.meta={name:"createSelector",key:"createSelectorisExperimentHermesEnableAutomatedTriggersUnfurlGroupOn",description:J=>Object(t.d)(J,"hermes_enable_automated_triggers_unfurl")==="on"};const P=Object(s.b)(J=>{const H=Object(i.z)(Object(o.g)(J)),Z=b(J)&&I(J);return!Z||H&&!Object(_.b)()?!1:Z});P.meta={name:"createSelector",key:"createSelectorcanUseHermesBuilderStable",description:J=>{const H=Object(i.z)(Object(o.g)(J)),Z=b(J)&&I(J);return!Z||H&&!Object(_.b)()?!1:Z}};const T=Object(s.b)(J=>{const H=Object(i.z)(Object(o.g)(J)),Z=b(J)&&C(J);return!Z||H&&!Object(_.b)()?!1:Z});T.meta={name:"createSelector",key:"createSelectorcanUserUseHermesBuilderNext",description:J=>{const H=Object(i.z)(Object(o.g)(J)),Z=b(J)&&C(J);return!Z||H&&!Object(_.b)()?!1:Z}};const S=Object(s.b)(J=>Object(t.d)(J,"platform_forms_v2_ui")==="on");S.meta={name:"createSelector",key:"createSelectorcanDisplayFormsV2UI",description:J=>Object(t.d)(J,"platform_forms_v2_ui")==="on"};const A=Object(s.b)(J=>Object(t.d)(J,"hermes_functions_ui")==="on");A.meta={name:"createSelector",key:"createSelectorisHermesFunctionsUIEnabled",description:J=>Object(t.d)(J,"hermes_functions_ui")==="on"};const R=Object(s.b)(J=>b(J));R.meta={name:"createSelector",key:"createSelectorcanUserUseHermesTemplateGallery",description:J=>b(J)};const x=Object(s.b)(J=>Object(t.d)(J,"hermes_step_library")==="on");x.meta={name:"createSelector",key:"createSelectorisHermesStepLibraryNextEnabled",description:J=>Object(t.d)(J,"hermes_step_library")==="on"};const M=Object(s.b)(J=>Object(t.d)(J,"bk_hermes_input_elements")==="on");M.meta={name:"createSelector",key:"createSelectorisHermesInputElementsEnabledForAll",description:J=>Object(t.d)(J,"bk_hermes_input_elements")==="on"};const j=Object(s.b)(J=>Object(t.d)(J,"nested_dynamic_options")==="on");j.meta={name:"createSelector",key:"createSelectorisNestedDynamicOptionsEnabled",description:J=>Object(t.d)(J,"nested_dynamic_options")==="on"};const W=Object(s.b)(J=>Object(t.d)(J,"hermes_3p_data_sources")==="on");W.meta={name:"createSelector",key:"createSelectorisHermes3pDataSourcesEnabled",description:J=>Object(t.d)(J,"hermes_3p_data_sources")==="on"};const U=Object(s.b)(J=>Object(t.d)(J,"third_party_trigger_in_wfb")==="on");U.meta={name:"createSelector",key:"createSelectorisHermes3pTriggerEnabled",description:J=>Object(t.d)(J,"third_party_trigger_in_wfb")==="on"};const B=Object(s.b)(J=>b(J)&&W(J));B.meta={name:"createSelector",key:"createSelectorcanUserUseHermes3pDataSources",description:J=>b(J)&&W(J)};const Y=Object(s.b)(J=>B(J)&&(h(J)||O(J)));Y.meta={name:"createSelector",key:"createSelectorcanUserManageHermes3pDataSources",description:J=>B(J)&&(h(J)||O(J))};const z=Object(s.b)(J=>E(J)||Y(J));z.meta={name:"createSelector",key:"createSelectorcanUserManageAnyDataSource",description:J=>E(J)||Y(J)};const F=Object(s.b)(J=>Object(t.d)(J,"hermes_team_secrets")==="on");F.meta={name:"createSelector",key:"createSelectorisHermesTeamSecretsEnabled",description:J=>Object(t.d)(J,"hermes_team_secrets")==="on"};const V=Object(s.b)(J=>b(J)&&F(J));V.meta={name:"createSelector",key:"createSelectorcanUserUseHermesTeamSecrets",description:J=>b(J)&&F(J)};const L=Object(s.b)(J=>V(J)&&(h(J)||O(J)));L.meta={name:"createSelector",key:"createSelectorcanUserManageHermesTeamSecrets",description:J=>V(J)&&(h(J)||O(J))};const Q=Object(s.b)(J=>Y(J)||L(J));Q.meta={name:"createSelector",key:"createSelectorcanUserManageHermesIntegrations",description:J=>Y(J)||L(J)};const ee=Object(s.b)(J=>E(J)||Q(J));ee.meta={name:"createSelector",key:"createSelectorcanUserManageIntegrations",description:J=>E(J)||Q(J)};const te=Object(s.b)(J=>!0);te.meta={name:"createSelector",key:"createSelectorisHermesConnectorAppDistributionEnabled",description:J=>!0};const le=Object(s.b)(J=>Object(t.d)(J,"hermes_builder_suggest_a_step")==="on");le.meta={name:"createSelector",key:"createSelectorisHermesBuilderSuggestAStepEnabled",description:J=>Object(t.d)(J,"hermes_builder_suggest_a_step")==="on"};const Oe=Object(s.b)(J=>Object(t.d)(J,"dynamic_inputs_refactor")==="on");Oe.meta={name:"createSelector",key:"createSelectorisDynamicInputsRefactorEnabled",description:J=>Object(t.d)(J,"dynamic_inputs_refactor")==="on"};const he=Object(s.b)(J=>Object(t.d)(J,"hermes_builder_sidebar_v2")==="on");he.meta={name:"createSelector",key:"createSelectorisHermesBuilderSidebarV2Enabled",description:J=>Object(t.d)(J,"hermes_builder_sidebar_v2")==="on"};const Ee=Object(s.b)(J=>Object(t.d)(J,"hermes_builder_sidebar_drag_drop")==="on");Ee.meta={name:"createSelector",key:"createSelectorisHermesBuilderSidebarDragDropEnabled",description:J=>Object(t.d)(J,"hermes_builder_sidebar_drag_drop")==="on"};const ge=Object(s.b)(J=>Object(t.d)(J,"wfb_auth_delegation_interactivity_validation")==="on");ge.meta={name:"createSelector",key:"createSelectorisWfbAuthDelegationInteractivityValidationEnabled",description:J=>Object(t.d)(J,"wfb_auth_delegation_interactivity_validation")==="on"}},aBhT:function(K,n,e){"use strict";var s=e("q1tI"),t=e.n(s),a=e("iuhU"),r=e("4man");const c=t.a.forwardRef((i,l)=>{let{children:u,lines:f,breakWords:d=!0,withTooltip:O,shouldForceTooltipVisible:m,customTooltipText:g,tooltipClassName:E}=i;const p={"--lines":f},h=t.a.createElement("span",{className:Object(a.default)("c-truncate",{"c-truncate--break_words":d}),style:p,ref:l},u);return O?t.a.createElement(r.a,{tip:g||u,zIndex:"above_fs",shouldForceVisible:m,tipClassName:E},h):h});c.displayName="Truncate";var o=n.a=c},aNqa:function(K,n,e){"use strict";var s=e("ZKjC"),t=e("9Gfp"),a=e("lhZz"),r=e("7xYR");const c=Object(s.b)((o,i)=>(Object(r.getAllWorkspaces)(o)||[]).some(u=>{const f=Object(a.getStoreInstanceByTeamId)(u);if(!f)return!1;const d=f.getState();return d?Object(t.i)(d,i):!1}));c.meta={name:"createSelector",key:"createSelectorisFeatureFlagEnabledForAnyTeam",description:(o,i)=>(Object(r.getAllWorkspaces)(o)||[]).some(u=>{const f=Object(a.getStoreInstanceByTeamId)(u);if(!f)return!1;const d=f.getState();return d?Object(t.i)(d,i):!1})},n.a=c},agxk:function(K,n,e){"use strict";e.d(n,"a",function(){return h});var s=e("SQ0V"),t=e("Atq3"),a=e("S4vl"),r=e("e9jb"),c=e("3REw"),o=e("lhZz"),i=e("rCwz"),l=e("6Kqi"),u=e("pedv"),f=e("x5lL"),d=e("9oTK"),O=e("t3jr"),m=e("KciV"),g=e("6JGl");const E=Object(s.c)("Send call data to call window",function(){var _=Object(d.coroutine)(function*(b,I,C){const y=Object(g.b)(C);if(!y){Object(m.c)("PREFETCH-CALL-INFO").error("asyncCallInfo is null, probably data was already sent to call window");const W=Object(f.r)(I());(W==null?void 0:W.getId())===C&&Object(O.a)(W,"callData",{error:{name:c.n.CallInfoError}});return}const P=yield y.error,T=yield y.callWindow;if(P){Object(O.a)(T,"callData",{error:P});return}const[S,A,R,x,M,j]=yield Promise.all([y.callId,y.server,y.regions,y.inviteResponses,y.virtualRoomId,y.isJoiningExistingCall]);if(!A||!S){Object(m.c)("PREFETCH-CALL-INFO").error("Missing call server or callId info");return}T&&!T.isClosed()&&Object(O.a)(T,"callData",{callId:S,server:A,regions:R,inviteResponses:x,virtualRoomId:M,isJoiningExistingCall:j},!1),Object(g.a)(T.getId())});return function(b,I,C){return _.apply(this,arguments)}}());E.meta={name:"createThunk",key:"createThunksendCallDataToCallWindow",description:"Send call data to call window"};var p=e("A9I/");const h=Object(s.c)("Subscribe to data messages from the call window",(_,b,I)=>{Object(a.b)(!Object(r.a)(),"Need the slack window context to listen for messages from the call window"),I.onData=C=>{const y=C.type,P=C.payload;switch(Object(i.b)({direction:"receive",type:y,payload:P}),y){case"reportRoomId":P&&_(Object(u.a)({roomId:P,windowId:I.getId()}));break;case"onIncomingInviteAccept":P&&_(Object(l.a)(P));break;case"onIncomingInviteReject":P&&_(Object(l.b)({id:P,response:c.f.Reject}));break;case"stopOutgoingRing":_(Object(f.D)());break;case"requestCallData":_(E(I.getId()));break;case"showHuddleSidebarFooterDiscoveryBanner":Object(o.dispatchForClientStore)(Object(p.b)());break;default:Object(t.a)(y)}}});h.meta={name:"createThunk",key:"createThunklistenForMessagesFromCallWindow",description:"Subscribe to data messages from the call window"}},ajVY:function(K,n,e){"use strict";e.d(n,"c",function(){return c}),e.d(n,"a",function(){return o}),e.d(n,"b",function(){return i}),e.d(n,"d",function(){return l});var s=e("E3dU"),t=e("O86Y"),a=e("PMNn"),r=e("rHDT");const c=v((u,f,d)=>{const O=Object(r.a)(u,f,d);return Object.values(O).some(m=>m!==!1)},"canUserDoEnableStyleTeamPrefForTeamIds"),o=v((u,f,d)=>{if(!d)return!1;const O=Object(a.b)(u,d);return O?c(u,f,O):!1},"canUserDoEnableStyleTeamPrefForChannel"),i=v((u,f,d)=>{const O=Object(s.c)(u,d);return o(u,f,O)},"canUserDoEnableStyleTeamPrefForChannelById"),l=v((u,f)=>{const d=Object(t.a)(u);return c(u,f,d)},"canUserDoEnableStyleTeamPrefInSomeWorkspace")},akkM:function(K,n,e){"use strict";e.d(n,"d",function(){return c}),e.d(n,"b",function(){return o}),e.d(n,"g",function(){return i}),e.d(n,"a",function(){return l}),e.d(n,"f",function(){return u}),e.d(n,"h",function(){return f}),e.d(n,"c",function(){return d}),e.d(n,"e",function(){return O});var s=e("m8R6");let t=20,a=new Map;function r(g,E){if(a.has(g)&&a.delete(g),a.set(g,E),a.size>t){const[p]=a.keys();a.delete(p)}}v(r,"addDocUiData");function c(g){return a.delete(g)}v(c,"clearDocUiData");function o(g,E){var p;const h=(p=a.get(g))!==null&&p!==void 0?p:{};r(g,{...h,scrollPosition:E})}v(o,"addScrollPosition");function i(g){var E;return(E=a.get(g))===null||E===void 0?void 0:E.scrollPosition}v(i,"getScrollPosition");function l(g,E){var p;const h=(p=a.get(g))!==null&&p!==void 0?p:{};r(g,{...h,focusState:E})}v(l,"addFocusState");function u(g){var E;return(E=a.get(g))===null||E===void 0?void 0:E.focusState}v(u,"getFocusState");function f(g){var E;return(E=a.get(g))===null||E===void 0?void 0:E.scrollToOpenComment}v(f,"getScrollToOpenComment");function d(g){var E;const p=(E=a.get(g))!==null&&E!==void 0?E:{};r(g,{...p,scrollToOpenComment:!0})}v(d,"addScrollToOpenComment");function O(g){var E;const p=(E=a.get(g))!==null&&E!==void 0?E:{},h=Object(s.a)(p,"scrollToOpenComment");Object.keys(h).length?r(g,h):c(g)}v(O,"clearScrollToOpenComment"),Object.defineProperty({MAX_POSITIONS:t,reset:()=>{a=new Map}},"MAX_POSITIONS",{get:()=>t,set:g=>{t=g}})},ap5V:function(K,n,e){"use strict";e.d(n,"a",function(){return f});var s=e("SQ0V"),t=e("i9jZ"),a=e("UAMj"),r=e("cU/a"),c=e("25cE"),o=e("S36j"),i=e("5IZy"),l=e("rZ8V"),u=e("uiBO");const f=Object(s.c)("Opens the Help flexpane",function(d,O){let{articleId:m,shouldHighlight:g=!1,clogFrom:E=null}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const p=O();Object(t.e)()||Object(l.g)(p)?d(Object(a.a)({id:"help",params:{articleId:m},viewType:u.a.Help})):(d(Object(r.a)({routeName:c.k,flexName:"help",flexParams:{articleId:m}})),g&&d(Object(o.e)(!0))),E&&Object(i.a)({state:p}).track("HELP_FLEXPANE_ARTICLE",{contexts:{ui_context:{ui_properties:{element_name:E}}},article_id:m})});f.meta={name:"createThunk",key:"createThunkshowHelpArticleFlexpane",description:"Opens the Help flexpane"}},apAF:function(K,n,e){"use strict";e.d(n,"a",function(){return o});var s=e("s4P+"),t=e("vfQU"),a=e("SQ0V"),r=e("PZKh"),c=e("WvYH");const o=Object(a.c)("Set the current theme for the device",function(i,l){let u=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"light";try{window.localStorage.setItem(r.b,u)}catch{Object(s.b)().warn("CLIENT-THEME-STORE","localStorage write failed; client theme will not be persisted.")}i(Object(c.a)(u)),Object(t.bc)({name:"userTheme",value:u})});o.meta={name:"createThunk",key:"createThunksetClientTheme",description:"Set the current theme for the device"}},aqbC:function(K,n,e){"use strict";e.d(n,"a",function(){return p});var s=e("6CnZ"),t=e("ZAxE"),a=e("UIhb"),r=e("y6S6"),c=e("9Gfp"),o=e("xwCZ"),i=e("C3vN"),l=e("Fn/R"),u=e("+l5E"),f=e("gukb"),d=e("ssje"),O=e("mVl8"),m=e("FUEd"),g=e("2Ci3");const E=23;function p(h,_,b){let I=arguments.length>3&&arguments[3]!==void 0?arguments[3]:Math.max(Object(t.c)(),b),C=arguments.length>4?arguments[4]:void 0;if(!Object(s.b)(h,_))return[];const y=Object(s.f)(h,_);if(!y||!y.timestamps)return[];const P=Object(a.a)(h,_),T=y.timestamps.slice(-I),S=Object(c.a)(h);let A=[],R=[],x=!1;const M=[],j=[],W=[],U=[],B=[],Y=[];let z=!1;for(let V=T.length-1;V>=0;V--){const L=P[T[V]],Q=Object(u.z)(L);if(!Q)continue;if(C&&Q===S){z=!0;continue}if(!(C?M.includes(Q)||W.includes(Q)||B.includes(Q):A.includes(Q))&&!Object(d.a)(L)&&Object(f.a)(L,S)){const te=Object(r.c)(h,_,Q),le=Object(o.g)(h,Q);if(x||(x=!(te!=null&&te.isKnown)||Object(i.Bb)(le)),!x&&(te!=null&&te.isKnown)&&(te!=null&&te.isMember)&&!Object(l.a)(le)&&!Object(i.eb)(le)){if(C){if(Object(m.d)(h,Q)==="active"?Object(g.e)(h,Q)?(W.push(Q),U.push(le)):(M.push(Q),j.push(le)):(B.push(Q),Y.push(le)),j.length===b||W.length+Y.length===E-b)break}else if(A.push(Q),R.push(le),R.length===b)break}}}if(x)return[];if(C&&(j.length===b?(R=j,A=M):(R=j.concat(U.slice(0,b-j.length)),A=M.concat(W.slice(0,b-B.length)),R.length<b&&(R=R.concat(Y.slice(0,b-j.length)),A=A.concat(B.slice(0,b-B.length))))),R.length>=b)return R;const F=Object(O.a)(h,_);if(!F.length)return[];for(let V=0;V<F.length;V++){const L=F[V];if(L&&!A.includes(L)&&(C&&L===S?z=!0:(A.push(L),R.push(Object(o.g)(h,L)))),R.length===b)break}return R.length===0&&z&&(A.push(S),R.push(Object(o.g)(h,S))),R}v(p,"getLastNRelevantMembersInChannel")},arBb:function(K,n,e){"use strict";e.d(n,"a",function(){return s}),e.d(n,"b",function(){return t});const s=20,t={PREF:"saved_view",PAGE:"page",FLEXPANE:"flexpane"}},aykK:function(K,n,e){"use strict";e.d(n,"a",function(){return o});var s=e("E3dU"),t=e("Qrgz"),a=e("xwCZ"),r=e("6etV"),c=e("q0lC");function o(i,l){const u=Object(s.z)(i,l)&&Object(s.c)(i,l)||void 0,f=Object(a.d)(i);return Object(c.g)(i)||Object(c.a)(i)?!0:Object(t.b)(i,l)&&!Object(r.a)(i,u==null?void 0:u.id,f.id)}v(o,"canUserAtChannelInChannelById")},b28g:function(K,n,e){"use strict";e.d(n,"a",function(){return a});var s=e("hE2u");const t=v(function(r){let c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[],i=arguments.length>3?arguments[3]:void 0;if(!i)return o;const{label:l,options:u}=i,f=new s.b(r,{fuzzyLimit:3,...c});if(!u)isFinite(f.normalizeAndScore(l))&&o.push(i);else{const d=[];u.forEach(O=>{const{label:m}=O;isFinite(f.normalizeAndScore(m))&&d.push(O)}),d.length&&o.push({label:i.label,options:d})}return o},"findMatches");function a(r,c){let o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return c?r.reduce((i,l)=>t(c,o,i,l),[]):r}v(a,"defaultFilter")},"b8K+":function(K,n,e){"use strict";e.d(n,"b",function(){return s}),e.d(n,"c",function(){return t}),e.d(n,"a",function(){return a});const s=20,t={FETCH:"activity_fetch",VIEW_LOAD:"activity_view_load",VIEW_UPDATED:"activity_view_updated"},a={PREF:"activity_view",PAGE:"page",FLEXPANE:"flexpane"}},bHpg:function(K,n,e){"use strict";e.d(n,"c",function(){return t}),e.d(n,"o",function(){return a}),e.d(n,"n",function(){return r}),e.d(n,"d",function(){return c}),e.d(n,"i",function(){return o}),e.d(n,"f",function(){return i}),e.d(n,"l",function(){return l}),e.d(n,"m",function(){return u}),e.d(n,"g",function(){return f}),e.d(n,"b",function(){return d}),e.d(n,"e",function(){return O}),e.d(n,"h",function(){return m}),e.d(n,"a",function(){return g}),e.d(n,"j",function(){return E}),e.d(n,"k",function(){return p});var s=e("DwFS");const t=Object(s.a)("Replace help center issues with list");t.meta={name:"createAction",key:"createActionsetHelpCenterIssues",description:"Replace help center issues with list"};const a=Object(s.a)("Upsert a single help center issue");a.meta={name:"createAction",key:"createActionupsertHelpCenterIssue",description:"Upsert a single help center issue"};const r=Object(s.a)("Replace help ticket stats");r.meta={name:"createAction",key:"createActionsetTicketStats",description:"Replace help ticket stats"};const c=Object(s.a)("Replace help locale");c.meta={name:"createAction",key:"createActionsetHelpLocale",description:"Replace help locale"};const o=Object(s.a)("Replace help ZD locale");o.meta={name:"createAction",key:"createActionsetHelpZdLocale",description:"Replace help ZD locale"};const i=Object(s.a)("Replace help search articles");i.meta={name:"createAction",key:"createActionsetHelpSearchArticles",description:"Replace help search articles"};const l=Object(s.a)("Replace product release cards");l.meta={name:"createAction",key:"createActionsetProductReleaseCards",description:"Replace product release cards"};const u=Object(s.a)("Replace recommended articles");u.meta={name:"createAction",key:"createActionsetRecommendedArticles",description:"Replace recommended articles"};const f=Object(s.a)("Replace help sections");f.meta={name:"createAction",key:"createActionsetHelpSections",description:"Replace help sections"};const d=Object(s.a)("Replace help categories");d.meta={name:"createAction",key:"createActionsetHelpCategories",description:"Replace help categories"};const O=Object(s.a)("Replace help navigation");O.meta={name:"createAction",key:"createActionsetHelpNavigation",description:"Replace help navigation"};const m=Object(s.a)("Replace help tour");m.meta={name:"createAction",key:"createActionsetHelpTour",description:"Replace help tour"};const g=Object(s.a)("Replace article anchor id");g.meta={name:"createAction",key:"createActionsetAnchorId",description:"Replace article anchor id"};const E=Object(s.a)("Replace is help article loaded");E.meta={name:"createAction",key:"createActionsetIsHelpArticleRendered",description:"Replace is help article loaded"};const p=Object(s.a)("Replace help tip history tour status");p.meta={name:"createAction",key:"createActionsetIsHelpTipHistoryTourActive",description:"Replace help tip history tour status"}},"bK/7":function(K,n,e){"use strict";e.d(n,"a",function(){return t});var s=e("ZKjC");const t=Object(s.b)((a,r)=>a&&a.uiSerialization&&a.uiSerialization[r]);t.meta={name:"createSelector",key:"createSelectorgetSerializedData",description:(a,r)=>a&&a.uiSerialization&&a.uiSerialization[r]}},bNCI:function(K,n,e){"use strict";var s=e("NZ+B"),t=e("7lBi"),a=e("Kyco"),r=e("ED1u"),c=e("j77i");const o={persistenceEnabled:!1,storeKey:"workspaceLayout"},i={inspectorWidthIntent:null,inspectorWidthMode:"auto",isSidebarVisible:!0,isSidebarVisibleWhenFloating:!1,isTeamSidebarVisible:!0,sidebarWidthIntent:null,sidebarWidthMode:"auto",userPrefersResponsiveSidebar:!0};try{i.sidebarWidthIntent=Object(c.f)(t.y)||null,i.inspectorWidthIntent=Object(c.f)(t.l)||null,i.sidebarWidthMode=Object(c.f)(t.z)||"auto",i.inspectorWidthMode=Object(c.f)(t.m)||"auto";const u=Object(c.f)(t.x);i.isSidebarVisible=Object(s.a)(u)?u:!0;const f=Object(c.f)(t.A);i.isTeamSidebarVisible=Object(s.a)(f)?f:!0;const d=Object(c.f)(t.E);i.userPrefersResponsiveSidebar=Object(s.a)(d)?d:!0}catch{}const l=Object(a.b)({},i,o).on(r.e,(u,f)=>{let{sidebarWidthIntent:d,sidebarWidthMode:O}=f;return{...u,sidebarWidthIntent:d,sidebarWidthMode:O}}).on(r.a,(u,f)=>{let{inspectorWidthIntent:d,inspectorWidthMode:O}=f;return{...u,inspectorWidthIntent:d,inspectorWidthMode:O}}).on(r.b,(u,f)=>({...u,isSidebarVisible:f})).on(r.c,(u,f)=>({...u,isSidebarVisibleWhenFloating:f})).on(r.d,(u,f)=>({...u,isTeamSidebarVisible:f})).on(r.f,(u,f)=>({...u,userPrefersResponsiveSidebar:f}));n.a=l},bTOH:function(K,n,e){"use strict";e.d(n,"a",function(){return s}),e.d(n,"c",function(){return t}),e.d(n,"b",function(){return a});const s={EMPTY:"empty",INVALID:"invalid",INVALID_DOMAIN:"invalid_domain",TOO_MANY:"too_many"},t="[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?",a={EMAIL:new RegExp(`^${t}$`,"i"),CONTAINS_EMAIL:new RegExp(`${t}`,"i"),DOMAIN:/^@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?$/i}},bTZa:function(K,n,e){"use strict";e.d(n,"a",function(){return a}),e.d(n,"b",function(){return r}),e.d(n,"d",function(){return i}),e.d(n,"c",function(){return l});var s;(function(u){u.UDP="udp",u.TCP="tcp"})(s||(s={}));var t;(function(u){u.RELAY="relay",u.DIRECT="direct"})(t||(t={}));var a;(function(u){u.UPLINK="uplink",u.DOWNLINK="downlink"})(a||(a={}));var r;(function(u){u.GOOD="good",u.FAIR="fair",u.BAD="bad",u.WORST="worst"})(r||(r={}));var c;(function(u){u.GOOD="good",u.FAIR="fair",u.BAD="bad",u.WORST="worst"})(c||(c={}));var o;(function(u){u[u.UPSTREAM=0]="UPSTREAM",u[u.DOWNSTREAM=1]="DOWNSTREAM"})(o||(o={}));var i;(function(u){u[u.AUDIO=0]="AUDIO",u[u.VIDEO=1]="VIDEO"})(i||(i={}));var l;(function(u){u.RtmMetrics="rtm-metrics",u.RenderTiming="render-timing",u.BluetoothDevices="bluetooth-devices",u.MemoryLeaks="memory-leaks",u.SelectedMediaRegion="selected-media-region",u.PreferredMediaRegion="preferred-media-region",u.VoiceFocusWarning="voice-focus-warning",u.VoiceFocusConfig="voice-focus-config",u.NetworkDisconnect="network-disconnect",u.CallId="call-id",u.ScreenshareContentType="screenshare-content-type",u.AppMetrics="app-metrics",u.NoAudio="no-audio"})(l||(l={}))},bYrq:function(K,n,e){"use strict";e.d(n,"a",function(){return i}),e.d(n,"c",function(){return l}),e.d(n,"b",function(){return f});var s=e("wwBm"),t;const a=!(window==null||(t=window.location)===null||t===void 0)&&t.search?Object(s.d)(window.location.search.substring(1)):{},r=!!a.detached_window,c=!!a.secondary_window,o=a.detached_window_type;function i(){return r}v(i,"isDetachedWindow");function l(){return c}v(l,"isSecondaryWindow");function u(){return(o==null?void 0:o.toString())||""}v(u,"getDetachedWindowType");function f(){return i()&&u().toLowerCase()==="doc"}v(f,"isDetachedSlackDoc")},bbt7:function(K,n,e){"use strict";e.d(n,"a",function(){return M}),e.d(n,"c",function(){return W}),e.d(n,"b",function(){return U});var s=e("q1tI"),t=e.n(s),a=e("iuhU"),r=e("ifKl"),c=e("mmwi"),o=e.n(c),i=e("Bi0V"),l=e.n(i),u=e("nWdO"),f=e("nNoG"),d=e("O/xh"),O=e("n3y5"),m=e("Efzj"),g=e("6R8Z"),E=e("NV6F"),p=e("SNS2"),h=e("D6Rr"),_=e("/qcS");const b={small:"small",medium:"medium",large:"large"},I={small:22,medium:26,large:32};var C=e("F0YV"),y=e("oEDn"),P=e("i9jZ"),T=e("37+L"),S;(function(B){B.BaseHeart="mask__base-heart",B.SmallHeart="mask__small-heart",B.BaseSingleChannelGuestDnd="mask__base-single-channel-guest-dnd",B.BaseSingleChannelGuest="mask__base-single-channel-guest",B.SmallSingleChannelGuestDnd="mask__small-single-channel-guest-dnd",B.SmallSingleChannelGuest="mask__small-single-channel-guest",B.BaseGuestDnd="mask__base-guest-dnd",B.BaseGuest="mask__base-guest",B.SmallGuestDnd="mask__small-guest-dnd",B.SmallGuest="mask__small-guest",B.BaseMemberDnd="mask__base-member-dnd",B.BaseMember="mask__base-member",B.SmallMemberDnd="mask__small-member-dnd",B.SmallMember="mask__small-member"})(S||(S={}));function A(B){let{size:Y="base",userType:z="member",isDnd:F=!1}=B;return t.a.createElement("svg",{className:"sr-only"},z==="slackbot"&&(Y==="base"?t.a.createElement("clipPath",{id:S.BaseHeart,clipPathUnits:"objectBoundingBox"},t.a.createElement("path",{d:"M0,0 H1 V0.673 C0.986,0.669,0.971,0.667,0.954,0.667 C0.929,0.667,0.907,0.673,0.889,0.682 C0.87,0.673,0.849,0.667,0.824,0.667 C0.764,0.667,0.719,0.697,0.694,0.736 C0.672,0.77,0.667,0.807,0.667,0.832 C0.667,0.854,0.669,0.894,0.696,0.942 C0.707,0.962,0.721,0.981,0.739,1 H0 V0"})):t.a.createElement("clipPath",{id:S.SmallHeart,clipPathUnits:"objectBoundingBox"},t.a.createElement("path",{d:"M1,0 H0 V1 H0.801 C0.75,0.958,0.714,0.915,0.69,0.872 C0.653,0.807,0.65,0.753,0.65,0.723 C0.65,0.689,0.658,0.64,0.687,0.594 C0.721,0.541,0.781,0.5,0.862,0.5 C0.896,0.5,0.925,0.508,0.95,0.521 C0.965,0.513,0.982,0.507,1,0.504 V0"}))),z==="ura"&&(Y==="base"?F?t.a.createElement("clipPath",{id:S.BaseSingleChannelGuestDnd,clipPathUnits:"objectBoundingBox"},t.a.createElement("path",{d:"M1,0 H0 V1 H0.688 C0.673,0.958,0.68,0.907,0.718,0.87 L0.825,0.763 C0.821,0.752,0.819,0.741,0.819,0.729 C0.819,0.672,0.866,0.625,0.924,0.625 H1 V0"})):t.a.createElement("clipPath",{id:S.BaseSingleChannelGuest,clipPathUnits:"objectBoundingBox"},t.a.createElement("path",{d:"M1,0 H0 V1 H0.688 C0.673,0.958,0.68,0.907,0.718,0.87 L0.87,0.718 C0.907,0.68,0.958,0.673,1,0.688 V0"})):F?t.a.createElement("clipPath",{id:S.SmallSingleChannelGuestDnd,clipPathUnits:"objectBoundingBox"},t.a.createElement("path",{d:"M1,0 H0 V1 H0.707 C0.657,0.937,0.652,0.841,0.719,0.774 L0.864,0.63 C0.859,0.615,0.856,0.6,0.856,0.584 C0.856,0.507,0.919,0.444,0.997,0.444 H1 V0"})):t.a.createElement("clipPath",{id:S.SmallSingleChannelGuest,clipPathUnits:"objectBoundingBox"},t.a.createElement("path",{d:"M1,0 H0 V1 H0.707 C0.657,0.937,0.652,0.841,0.719,0.774 L0.924,0.569 C0.947,0.546,0.973,0.532,1,0.525 V0"}))),(z==="ra"||z==="external")&&(Y==="base"?F?t.a.createElement("clipPath",{id:S.BaseGuestDnd,clipPathUnits:"objectBoundingBox"},t.a.createElement("path",{d:"M1,0 H0 V1 H0.704 C0.698,0.985,0.694,0.969,0.694,0.951 V0.826 C0.694,0.754,0.753,0.695,0.825,0.694 C0.84,0.654,0.878,0.625,0.924,0.625 H1 V0"})):t.a.createElement("clipPath",{id:S.BaseGuest,clipPathUnits:"objectBoundingBox"},t.a.createElement("path",{d:"M1,0 H0 V1 H0.704 C0.698,0.985,0.694,0.969,0.694,0.951 V0.826 C0.694,0.754,0.754,0.694,0.826,0.694 H0.951 C0.969,0.694,0.985,0.698,1,0.704 V0"})):F?t.a.createElement("clipPath",{id:S.SmallGuestDnd,clipPathUnits:"objectBoundingBox"},t.a.createElement("path",{d:"M1,0 H0 V1 H0.73 C0.704,0.969,0.688,0.929,0.688,0.884 V0.716 C0.688,0.617,0.767,0.538,0.866,0.538 H1 V0"})):t.a.createElement("clipPath",{id:S.SmallGuest,clipPathUnits:"objectBoundingBox"},t.a.createElement("path",{d:"M1,0 H0 V1 H0.73 C0.704,0.969,0.688,0.929,0.688,0.884 V0.716 C0.688,0.617,0.767,0.538,0.866,0.538 H1 V0"}))),z==="member"&&(Y==="base"?F?t.a.createElement("clipPath",{id:S.BaseMemberDnd,clipPathUnits:"objectBoundingBox"},t.a.createElement("path",{d:"M1,0 H0 V1 H0.713 C0.692,0.968,0.681,0.93,0.681,0.889 C0.681,0.795,0.742,0.716,0.827,0.69 C0.843,0.652,0.88,0.625,0.924,0.625 H1 V0"})):t.a.createElement("clipPath",{id:S.BaseMember,clipPathUnits:"objectBoundingBox"},t.a.createElement("path",{d:"M1,0 H0 V1 H0.713 C0.692,0.968,0.681,0.93,0.681,0.889 C0.681,0.774,0.774,0.681,0.889,0.681 C0.93,0.681,0.968,0.692,1,0.713 V0"})):F?t.a.createElement("clipPath",{id:S.SmallMemberDnd,clipPathUnits:"objectBoundingBox"},t.a.createElement("path",{d:"M1,0 H0 V1 H0.752 C0.701,0.949,0.669,0.878,0.669,0.8 C0.669,0.674,0.752,0.567,0.867,0.531 C0.888,0.48,0.938,0.444,0.997,0.444 H1 V0"})):t.a.createElement("clipPath",{id:S.SmallMember,clipPathUnits:"objectBoundingBox"},t.a.createElement("path",{d:"M1,0 H0 V1 H0.752 C0.701,0.949,0.669,0.878,0.669,0.8 C0.669,0.645,0.795,0.519,0.95,0.519 C0.967,0.519,0.984,0.52,1,0.523 V0"}))))}v(A,"AvatarMasks");function R(){return R=Object.assign||function(B){for(var Y=1;Y<arguments.length;Y++){var z=arguments[Y];for(var F in z)Object.prototype.hasOwnProperty.call(z,F)&&(B[F]=z[F])}return B},R.apply(this,arguments)}v(R,"_extends");const x=new f.b("avatar"),M={xlarge:72,large:56,medium:36,small:24,verySmall:20,tiny:16},j=t.a.memo(B=>{let{botEmoji:Y,canRenderEmoji:z}=B;return Y?z?t.a.createElement(_.b,{className:"c-avatar__emoji",text:Y,emojiSize:_.a.LARGE,stopAnimations:!0,forceDisplay:!0}):t.a.createElement("img",{className:"c-avatar__image c-avatar__image--fallback",src:l.a,srcSet:`${o.a} 2x`,alt:""}):null});function W(B){let{isExternal:Y,teamId:z,team:F,showTooltip:V,badgeIconType:L,badgeIconClassName:Q,allowTeamInitials:ee=!0}=B;if(L){const te=Q?{[Q]:!!Q}:{};return()=>t.a.createElement(y.a,{className:Object(a.default)("c-avatar__icon c-avatar__nonteam_icon",{...te}),type:L})}return Y&&z?()=>t.a.createElement(C.b,{className:"c-avatar__icon c-avatar__team_icon",id:z,team:F,size:16,showTooltip:V,allowTeamInitials:ee,ariaHidden:!0}):()=>null}v(W,"getCustomBadgeIconRenderer"),W.displayName="getCustomBadgeIconRenderer";const U=v(B=>{let{size:Y,userId:z,isAdHocMember:F,botId:V,botProfile:L=void 0,imageUrl:Q,imageUrl2x:ee,additionalOverlay:te,onClick:le=void 0,className:Oe,teamId:he,isExternal:Ee=!1,profileCardProps:ge=void 0,isRestricted:J=!1,isUltraRestricted:H=!1,isInToken:Z=!1,isDeleted:q=!1,tokenSize:k=void 0,memberOrBotName:se=void 0,showTooltip:re=!1,showCard:X=!1,showBadge:w=!0,showPresence:ce=!1,badgeIconType:ie=void 0,badgeIconClassName:oe=void 0,isInteractive:me=!0,clogLinkClick:ue=r.a,clogProfileMessageClick:_e=r.a,clogProfileCallClick:be=r.a,tabIndex:Ae=0,ariaHidden:Ce=void 0,team:De=void 0,botEmoji:Pe=void 0,canRenderEmoji:Ue=void 0,renderCustomBadge:ae=void 0,autoClogProps:ne=void 0,openProfile:Ie=r.a,showMemberProfileInTile:Te=r.a,isAtlasOrUnifiedProfilesOn:Me=!1,propagateClickEvent:Ne=!1,fromQuipDoc:He=!1,allowTeamInitials:Et=!0,disableLink:Je=!1,isUserHidden:qe=!1,onLoad:ke=r.a,onError:rt=r.a,conversationViewsExperimentGroupOn:pe=!1,shouldUseNavigate:je=!1,navigate:xe,resetIA:ze,userType:st,isDnd:ct,isSlackbot:dt,"data-qa":bt,"data-stringify-ignore":Ft}=B;const Bt=Object(s.useCallback)(Ct=>(Ct.preventDefault(),me?(Ne||Ct.stopPropagation(),Ct.persist(),ue(),Me&&!He&&(je&&xe&&z?xe(Object(T.K)(z)):Object(P.g)(Ct,pe)?Te(z):Ie({memberId:z,serviceId:V,botProfile:L})),le?le(Ct):null):null),[z,V,L,ue,pe,He,le,Me,me,xe,Ie,Ne,je,Te]),at=v(()=>z?`/team/${z}`:V&&!Je?`/services/${V}`:"","getHrefAttr"),Ht=v(()=>ee?`${ee} 2x`:"","getSrcSetAttribute"),Wt=v(()=>{if(te){const Ct=te>9?"9+":`+${te}`;return t.a.createElement("div",{className:"c-avatar__additional_overlay"},Ct)}return null},"renderAdditionalOverlay");Wt.displayName="renderAdditionalOverlay";const yt=v(Ct=>{let{tooltipText:G,className:de}=Ct,Le=t.a.createElement("span",{className:"c-avatar__badge_inner"});re&&(Le=t.a.createElement(u.c,{tip:G},Le));const Re=Object(a.default)("c-avatar__badge",de);return t.a.createElement("span",{className:Re},Le)},"renderBadgeElement");yt.displayName="renderBadgeElement";const Xt=v(()=>{const Ct=k?I[k]:Y;if(ae!==void 0&&Ct>=32){const G=ae();if(G)return G}if(ae===void 0&&Ct>=32){const G=W({isExternal:Ee,teamId:he,team:De,showTooltip:re,badgeIconType:ie,badgeIconClassName:oe,allowTeamInitials:Et})();if(G)return G}return ce?t.a.createElement(h.a,{memberId:z,inline:!1,className:"c-avatar__presence",inheritIconSize:!0}):H&&Ct>=32?yt({tooltipText:v(()=>x.rt("Single-Channel Guests <span>see a partial directory and can only access messages and files from the channel they belong to.</span>",null,de=>{let{text:Le}=de;return t.a.createElement("span",{className:"c-avatar__tooltip_detail"},Le)}),"tooltipText"),className:"c-avatar__badge--ultra_restricted"}):J&&Ct>=32?yt({tooltipText:v(()=>x.rt("Multi-Channel Guests <span>see only a partial directory and can only access messages and files from selected channels.</span>",null,de=>{let{text:Le}=de;return t.a.createElement("span",{className:"c-avatar__tooltip_detail"},Le)}),"tooltipText"),className:"c-avatar__badge--restricted"}):null},"renderBadgeOrPresence");Xt.displayName="renderBadgeOrPresence";const cn=v(()=>{let Ct=Q||ee;return k?(k==="large"&&ee&&(Ct=ee),t.a.createElement(O.a,{image:Ct,classes:"c-base_icon--token",srcSet:Ht(),size:I[k],ariaHidden:!0,ariaRole:"img",widthOnly:!0,onLoad:ke,onError:rt,resetIA:ze})):null},"renderTokenAvatar");cn.displayName="renderTokenAvatar";const mn=v(()=>Q||ee?k||Z?cn():t.a.createElement(O.a,{image:Q||ee,size:Y,srcSet:Ht(),ariaHidden:!0,widthOnly:!0,onLoad:ke,onError:rt,resetIA:ze}):null,"renderImageTag");mn.displayName="renderImageTag";const In=v(Ct=>{let{fallback:G=null}=Ct,de=G;return(Q||ee)&&(de=mn()),de},"renderImageOrFallback"),pt=Pe?t.a.createElement(j,{botEmoji:Pe,canRenderEmoji:Ue}):null,Tt=Y>26?"base":"small",Lt=st==="member",gt=st==="ra"||st==="external",it=st==="ura",ft=t.a.useMemo(()=>ce?dt&&Tt==="base"?S.BaseHeart:dt&&Tt==="small"?S.SmallHeart:Lt&&Tt==="base"&&ct?S.BaseMemberDnd:Lt&&Tt==="base"?S.BaseMember:Lt&&Tt==="small"&&ct?S.SmallMemberDnd:Lt&&Tt==="small"?S.SmallMember:gt&&Tt==="base"&&ct?S.BaseGuestDnd:gt&&Tt==="base"?S.BaseGuest:gt&&Tt==="small"&&ct?S.SmallGuestDnd:gt&&Tt==="small"?S.SmallGuest:it&&Tt==="base"&&ct?S.BaseSingleChannelGuestDnd:it&&Tt==="base"?S.BaseSingleChannelGuest:it&&Tt==="small"&&ct?S.SmallSingleChannelGuestDnd:it&&Tt==="small"?S.SmallSingleChannelGuest:"":"",[ce,ct,Tt,gt,Lt,it,dt]),Ke=Object(a.default)(Oe,"c-avatar",{"c-avatar--no_image":!(Q||ee||pt),"c-avatar--interactive":me&&!F&&!Je,"c-avatar--ad_hoc_member":F,"c-avatar--deleted_member":q,"c-avatar--resetIA":ze}),Ve=k?I[k]:Y,Be={height:`${Ve}px`,width:`${Ve}px`};let Ye;V&&(Ye=me&&at());const we=se&&(me||Ye)?x.t("View {name}\u2019s Profile",{name:se}):void 0,mt=In({fallback:pt}),Pt={...Be,"--avatar-image-size":`${Ve}px`},Nt=dt?"slackbot":st,Ze=ce||w;let Xe=t.a.createElement(t.a.Fragment,null,ce&&st&&t.a.createElement(A,{isDnd:ct,userType:Nt,size:Tt}),qe?t.a.createElement(p.a,{className:Oe,size:Ve}):mt,Ze&&Xt(),Wt());if(Ye?Xe=t.a.createElement(m.a,{href:Ye,target:"_blank",rel:"noopener noreferrer",style:Be,className:Ke,onClick:Bt,tabIndex:Ae,"aria-hidden":Ce,"aria-label":we,autoClogProps:ne,"data-qa":bt,"data-stringify-ignore":Ft},Xe):me&&!Je?Xe=t.a.createElement(g.a,{style:Be,className:Ke,"data-qa":bt,"data-stringify-ignore":Ft,"aria-hidden":Ce,"aria-label":we,tabIndex:Ae,onClick:Bt,autoClogProps:ne},Xe):Xe=t.a.createElement("span",R({style:Pt,className:Ke},ft?{"data-mask":ft}:{},{"data-qa":bt,"data-stringify-ignore":Ft,"aria-hidden":Ce}),Xe),me&&X){if(!Me)return t.a.createElement(d.a,{botId:V,userId:z,botProfile:L,onClick:Bt,onMessageClick:_e,onCallClick:be,profileCardProps:ge},Xe);if(Y>=M.medium)return Object(E.y)({memberId:z,serviceId:V,botProfile:L,children:Xe})}return Xe},"BaseAvatar");U.displayName="BaseAvatar"},bcZH:function(K,n,e){"use strict";e.d(n,"a",function(){return c});var s=e("tfcd"),t=e("uNaj"),a=e("v7mh"),r=e("2VFn");function c(o,i){var l;const u=Object(t.a)();if(Object(s.a)(u==null||(l=u.params)===null||l===void 0?void 0:l.entityId))return!0;if(i){var f;const d=Object(a.d)(o,{windowId:i,container:r.h.Primary});return!!(!(d==null||(f=d.params)===null||f===void 0)&&f.versionId)}return!1}v(c,"isViewingQuipActivityHistory")},bdv9:function(K,n,e){K.exports=e.p+"slackbot_sad_surprise_24-d519530.png"},beWg:function(K,n,e){"use strict";e.d(n,"a",function(){return s});const s={shareChannelCreate:"share_channel_create",channelInviteModal:"channel_invite_modal",scdmFreeStartTrialBanner:"scdm_free_start_trial_banner",messageLimitTrialOfferModal:"message_limit_trial_offer_modal",huddlesTrialEntryPointModal:"huddles_trial_entry_point_modal",slackConnectTrialEntryPointModal:"slack_connect_trial_entry_point_modal",canvasTrialOfferModal:"canvas_trial_offer_modal",workflowBuilderFreemiumTrialOfferModal:"unlimited_workflows_trial_offer_modal"}},boyP:function(K,n,e){"use strict"},"c+dP":function(K,n,e){"use strict";var s=e("7JHn");e.d(n,"g",function(){return s.b});var t=e("RfUG");e.d(n,"e",function(){return t.a});var a=e("x5cI");e.d(n,"b",function(){return a.a});var r=e("GFD/");e.d(n,"d",function(){return r.a});var c=e("NPyv");e.d(n,"c",function(){return c.a});var o=e("/K2e");e.d(n,"a",function(){return o.a});var i=e("6FZx");n.f=s.a},cRDo:function(K,n,e){"use strict";e.d(n,"a",function(){return a});var s=e("q1tI"),t=e.n(s);const a=v(function(r){let c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[];const i=Object(s.useRef)(),l=Object(s.useCallback)(()=>{const u=i.current;u&&(window.clearTimeout(u),i.current=void 0)},[]);return Object(s.useEffect)(()=>(l(),i.current=window.setTimeout(r,c),l),[r,l,c].concat(o)),l},"useTimeout")},cRTT:function(K,n,e){"use strict";e.d(n,"a",function(){return o});var s=e("q1tI"),t=e.n(s),a=e("Muja"),r=e("n3tL");function c(){return c=Object.assign||function(i){for(var l=1;l<arguments.length;l++){var u=arguments[l];for(var f in u)Object.prototype.hasOwnProperty.call(u,f)&&(i[f]=u[f])}return i},c.apply(this,arguments)}v(c,"_extends");function o(i){const l={showConfirmDialog:r.default.func,setSelectState:r.default.func.isRequired,selectedOptions:r.default.array,selectedOption:r.default.object},u={selectedOptions:[],selectedOption:null,showConfirmDialog:void 0};let f=v(class extends s.Component{setSelectState(O,m){const g=O();g.selectedOptions&&!Object(a.a)(g.selectedOptions,this.selectedOptions)||g.selectedOption&&!Object(a.a)(g.selectedOption,this.selectedOption)?(this.props.setSelectState(()=>({isExpanded:!1})),this.props.showConfirmDialog({onGo:()=>{this.props.setSelectState(O,m),this.selectedOptions=g.selectedOptions||this.selectedOptions,this.selectedOption=g.selectedOption||this.selectedOption}})):(this.props.setSelectState(O,m),this.selectedOptions=g.selectedOptions||this.selectedOptions,this.selectedOption=g.selectedOption||this.selectedOption)}render(){const{showConfirmDialog:O}=this.props,m=O?this.setSelectState:this.props.setSelectState;return t.a.createElement(i,c({},this.props,{setSelectState:m}))}constructor(O){super(O),this.setSelectState=this.setSelectState.bind(this),this.selectedOptions=O.selectedOptions,this.selectedOption=O.selectedOption}},"ConfirmSelectWrapper");return f.displayName="ConfirmSelectWrapper",f.propTypes=l,f.defaultProps=u,f}v(o,"withConfirm")},"cU/a":function(K,n,e){"use strict";var s=e("Lgge"),t=e("NFsq"),a=e("Muja"),r=e("TGBA"),c=e("fujP"),o=e("n3tL"),i=e("SQ0V"),l=e("G5NC"),u=e("iZ9S"),f=e("JfJV"),d=e("EXbH"),O=e("lhZz"),m=e("aVEU"),g=e("59uo"),E=e("BkpQ"),p=e("hEZF"),h=e("PWAB"),_=e("xcHN"),b=e("hjzp"),I=e("l1I1"),C=e("6dQg"),y=e("CnKg"),P=e("sueV");function T(le){if(Object(I.a)(le)){var Oe;const he=(Oe=Object(y.i)(le))===null||Oe===void 0?void 0:Oe.fileIdOrQuipThreadId;if(Object(C.a)(he))return Object(b.a)(he)}return le}v(T,"getChannelForPrimaryView");function S(le){let{secondary:Oe,primary:he}=le;if(!Oe||!he)return!1;switch(Oe.view){case"thread":var Ee,ge;return T(he.view)===((ge=Object(_.a)((Ee=Oe.params)===null||Ee===void 0?void 0:Ee.threadId))===null||ge===void 0?void 0:ge.channelId);case"user_profile":case"user_groups":case"rimeto_profile":return["Pbrowse-people","Pbrowse-user-groups","Pbrowse-org-chart"].includes(he.view);case"files":return["Pbrowse-files","Pbrowse-channel-files"].includes(he.view);case"shortcuts":case P.a.HELP:return he.view===P.a.HELP;case"docs":return!0;default:return!1}}v(S,"shouldOpenSecondaryTileInPrimaryTile");var A=e("gpLM"),R=e("bYrq"),x=e("SZMM"),M=e("Qttk"),j=e("RVJP"),W=e("25cE"),U=e("sjEp"),B=e("hgYl"),Y=e("4hjS"),z=e("S36j"),F=e("2VFn"),V=e("m8R6"),L=e("bczA");const Q=Object(i.c)("Runs after a flexpane is closed",(le,Oe)=>{const he=Oe(),Ee=Object(L.a)(he),ge=Object(Y.l)(he),J=Object(L.b)(he);le(Object(z.h)({prevRouteName:Ee,prevFlexName:ge,prevFlexParams:Object(V.a)(J,["entityId","teamId"])}))});Q.meta={name:"createThunk",key:"createThunkonFlexpaneClose",description:"Runs after a flexpane is closed"};const ee=Object(i.c)("Sets the secondary view of a workspace to a flex pane",function(le,Oe){let he=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const{routeName:Ee,flexName:ge,flexParams:J,flexOrigin:H,flexOriginId:Z,teamId:q=Object(d.d)(),replaceHistoryState:k=!1,shouldOpenInTile:se=!1,openInPrimaryTile:re=!1}=he;let X=H;if(ge&&!Object(t.a)(B.a,ge))throw new Error(`Cannot switch to invalid flexpane ${ge}`);if(Object(l.a)()&&!Ee)throw new Error("Switching to a flexpane in sonic requires a routeName to be defined");if(Object(R.b)()&&!(ge==="thread"||Ee===W.b)){const me=Object(x.b)();return me?(me.focus(),me.sendQuery({type:ee.getType(),payload:he})):s.a.reject(new Error("multiverse-redirect-no-parent-window"))}le(Object(M.a)());const w=Oe(),ce=Object(g.a)(w);if(ge){const me={view:ge};if(J&&(me.params=J),se)return le(Object(E.a)({tile:me})),s.a.resolve();if(ce){if(re)X=X||h.b;else if(Object(U.a)(Oe())){if(S({secondary:me,primary:ce}))return le(Object(p.a)({tile:me})),s.a.resolve()}else if(Object(j.d)(w,"secondary_tiles_children_only")!=="on"||S({secondary:me,primary:ce}))return le(Object(p.a)({tile:me})),s.a.resolve();X=X||h.b}}const ie=Object(Y.l)(w),oe=Object(Y.d)(w);if(ie&&(ie!==ge||!Object(a.a)(Object(r.a)(J),oe))&&le(Q({prevFlexName:ie,prevFlexParams:oe})),Object(l.a)()){le(Object(z.c)({flexOrigin:X,flexOriginId:Z})),le(Object(A.b)())||le(Object(A.a)({id:ge,params:Object(c.a)(J)?null:J,container:F.h.Secondary})),ge&&(Object(O.dispatchForClientStore)(Object(m.b)({ts:Date.now(),teamId:q,secondaryView:ge,flexParams:J,experimentClsMoreHistoryGroupTreatment:Object(j.d)(w,"cls_more_history")==="treatment"})),["activity","details","starred_items","saved","notifications","reactions"].includes(ge)&&le(Object(z.b)(ge)));const ue=Object(O.getStoreInstanceByTeamId)(q).getState(),_e=Object(L.b)(ue),be=Object(u.d)()===u.a.USER_TEAM?"teamOrEnterpriseId":"teamId";return Object(f.h)(Ee,{..._e,...J||{},[be]:q},{reason:"workspace-store/setSecondaryView",shouldReplaceState:k}).then(Ae=>Ae||s.a.reject(new Error("setSecondaryView: navigateToRoute did not navigate")))}return le(Object(z.l)({flexName:ge||void 0,flexParams:Object(r.a)(J),flexOrigin:X,flexOriginId:Z})),s.a.resolve()});ee.meta={name:"createThunk",key:"createThunksetSecondaryView",description:"Sets the secondary view of a workspace to a flex pane"},ee.propTypes={routeName:o.default.string,flexName:o.default.string,flexParams:o.default.object,flexOrigin:o.default.string,flexOriginId:o.default.string};var te=n.a=ee},clFD:function(K,n,e){"use strict";e.d(n,"a",function(){return t}),e.d(n,"b",function(){return a});var s=e("Jnq/");const t="DND_V2",a=Object(s.a)(15,25*60)},coh6:function(K,n,e){"use strict";e.d(n,"a",function(){return Le}),e.d(n,"l",function(){return Fe}),e.d(n,"o",function(){return tt}),e.d(n,"t",function(){return ut}),e.d(n,"u",function(){return St}),e.d(n,"z",function(){return tn}),e.d(n,"A",function(){return Yt}),e.d(n,"h",function(){return un}),e.d(n,"i",function(){return $t}),e.d(n,"x",function(){return gn}),e.d(n,"g",function(){return et}),e.d(n,"q",function(){return An}),e.d(n,"C",function(){return pn}),e.d(n,"r",function(){return Pn}),e.d(n,"k",function(){return Rn}),e.d(n,"D",function(){return an}),e.d(n,"j",function(){return Gt}),e.d(n,"y",function(){return kn}),e.d(n,"v",function(){return Mn}),e.d(n,"p",function(){return cs}),e.d(n,"n",function(){return Vn}),e.d(n,"m",function(){return bn}),e.d(n,"f",function(){return Qn}),e.d(n,"B",function(){return es}),e.d(n,"w",function(){return fs}),e.d(n,"F",function(){return vs}),e.d(n,"G",function(){return Gn}),e.d(n,"c",function(){return $s}),e.d(n,"d",function(){return ks}),e.d(n,"s",function(){return os}),e.d(n,"b",function(){return bs}),e.d(n,"e",function(){return Gs}),e.d(n,"E",function(){return aa}),e.d(n,"H",function(){return As});var s=e("Lgge"),t=e("3Hq1"),a=e("ifKl"),r=e("NFsq"),c=e("TGBA"),o=e("lCmp"),i=e("fujP"),l=e("/1FC"),u=e("xWuZ"),f=e("wBxZ"),d=e("TSHB"),O=e("1+fu"),m=e("SQ0V"),g=e("i5Ig"),E=e("Sl1j"),p=e("Zp3w"),h=e("Mqk2"),_=e("7T78"),b=e("CPJ1"),I=e("kpmE"),C=e("o+v5"),y=e("E3dU"),P=e("x3ts"),T=e("g4Nj"),S=e("dmdh"),A=e("y23z"),R=e("WXkz"),x=e("xwCZ"),M=e("9wgI"),j=e("od0p"),W=e("GhjL"),U=e("beVI"),B=e("O86Y"),Y=e("I27i"),z=e("fTzy"),F=e("YxGS"),V=e("2vQQ"),L=e("nNoG"),Q=e("kBpe"),ee=e("UEyp"),te=e("G0eX"),le=e("1lov"),Oe=e("TdVx");const he=new L.b("modals");function Ee(ot){return[{id:"downloads",name:he.t("Downloads"),icon:"download",isEnabled:()=>Object(Q.i)()},{id:"invite_to_workspace",name:he.t("Invite people to {workspaceName}",{workspaceName:Object(te.g)(Object(U.g)(ot))}),icon:"add-user",isEnabled:()=>Object(ee.e)(ot)},{id:"create_a_channel",name:he.t("Create a Channel"),icon:"plus",isEnabled:()=>Object(le.a)(ot)},{id:"create_a_canvas",name:he.t("Create a canvas",{fallbackHash:"6ac4a1edc6d12317e9fc711b1fd00c073b191bdd",fallbackHashNs:"classic_nav"}),icon:"plus",isEnabled:()=>Object(Oe.a)(ot)}]}v(Ee,"getAllModals");function ge(ot){return Ee(ot).filter(Qt=>Qt.isEnabled())}v(ge,"getAllEnabledModals");var J=e("8pYz"),H=e("yrot"),Z=e("uAML"),q=e("bqbz"),k=e("6H+D"),se=e("iJ8e"),re=e("Y3/F"),X=e("ie1g"),w=e("ISSR"),ce=e("Yauy"),ie=e("E97Y"),oe=e("y/Pn"),me=e("isHU"),ue=e("C3vN"),_e=e("V+O/"),be=e("VOl3"),Ae=e("Fn/R"),Ce=e("K7jq"),De=e("ehcD"),Pe=e("RW41"),Ue=e("9ToC"),ae=e("DQNL"),ne=e("mzZe"),Ie=e("rKeN"),Te=e("Pw4T"),Me=e("mLC8"),Ne=e("gPPH"),He=e("ktUG"),Et=e("Z7Ay"),Je=e("lhZz"),qe=e("JoR1"),ke=e("RVJP"),rt=e("ptZ7"),pe=e("P+mv"),je=e("Fbsn"),xe=e("hE2u"),ze=e("pCrW"),st=e("oZth"),ct=e("w/U0"),dt=e("26vS"),bt=e("NV6F"),Ft=e("KPXh"),Bt=e("n7UZ"),at=e("G5NC"),Ht=e("DvAh"),Wt=e("jvEW"),yt=e("FdVR"),Xt=e("ptQX"),cn=e("6DCH"),mn=e("P9LH"),In=e("WA8N"),pt=e("rZ8V"),Tt=e("PMNn"),Lt=e("uTJ+"),gt=e("Mxtj"),it=e("XDa+"),ft=e("eVCY"),Ke=e("UUKI"),Ve=e("sgFo"),Be=e("2VFn"),Ye=e("7ibc"),we=e("xuP/"),mt=e("OaiI");const Pt={[Be.d.Home]:()=>!0,[Be.d.Activity]:()=>!0,[Be.d.DMs]:()=>!0,[Be.d.Later]:()=>!0,[Be.d.Canvases]:ot=>Object(Ye.Sb)(ot)&&Object(Oe.a)(ot),[Be.d.Files]:()=>!0,[Be.d.Channels]:()=>!0,[Be.d.Platform]:()=>!0,[Be.d.People]:()=>!0,[Be.d.Huddles]:ot=>Object(Ve.g)(ot),[Be.d.Browse]:()=>!0,[Be.d.SalesHome]:ot=>Object(ft.e)(ot),[Be.d.Lists]:ot=>Object(mt.m)(ot),[Be.d.CRM]:ot=>Object(Ke.a)(ot),[Be.d.Search]:()=>!0,[Be.d.ExternalConnections]:ot=>Object(ke.d)(ot,"external_connections_browser")==="on",[Be.d.ExternalWorkspace]:we.a};var Ze=v((ot,Qt)=>Pt[Qt](ot),"getTabVisibility"),Xe=e("Mtna"),Ct=e("Jmua"),G=e("046c"),de=e("JN2d");const Le={entities:{channels:{includePublic:!0,includePrivate:!0,includeFromAnotherTeam:!1,includeMpims:!1,includeIms:!1,includeArchived:!0,onlyIfMember:!1,onlyVisibleMpims:!1,onlyVisibleIms:!1,includeExternallyShared:!0,includeOnlyExternallyShared:!0,allowedInternalTeams:void 0,onlyExternallyShared:!1,onlyFromTeamId:void 0},members:{includeSelf:!1,includeSlackbot:!0,includeBots:!0,includeWorkflows:!1,includeExternal:!0,includeAllExternal:!1,onlyLocalTeam:!1,onlyAdmins:!1,includeGuests:!0,includeProfileOnlyUsers:!1,onlyExternalFromTeams:void 0,onlyFromExternalTeamId:void 0},userGroups:{includeDeleted:!1,includeFromAnotherTeam:!1},channelSections:{includeTypes:{[se.h]:!0,[se.i]:!0}}},limit:24,sort:{preferExactMatch:!0,frecency:!0,preferChannelsUserBelongsTo:!0,preferMpimsWithActiveMembers:!0,model:ze.a},fuzzyLimit:3,fuzzyJumpLimit:20,fuzzyCJK:!0,returnMetadata:!1};function Re(ot){let{query:Qt,options:en}=ot;var vt,At,qt;const Vt=(qt=en==null?void 0:en.entities)!==null&&qt!==void 0?qt:{},Ut=Vt==null?void 0:Vt.members;let on=!1;return Ut&&Ut!==!0&&(on=!!(Ut!=null&&Ut.matchEmailField)),{source:en==null||(vt=en.sort)===null||vt===void 0?void 0:vt.source,tiered:en==null?void 0:en.tiered,is_searcher_sessions:!1,entities:Object.keys(Vt).filter(rn=>!!Vt[rn]).sort().toString(),query_length:Qt.length,is_member_email_search:(en==null||(At=en.sort)===null||At===void 0?void 0:At.source)==="use-team-and-people-search"&&on}}v(Re,"getTraceTags");function Fe(ot,Qt){var en,vt;const{excludeElmChannels:At,includePublic:qt,includePrivate:Vt,includeFromAnotherTeam:Ut,allowedInternalTeams:on}=(vt=(en=Qt.entities)===null||en===void 0?void 0:en.channels)!==null&&vt!==void 0?vt:{};let rn=[];return qt&&(rn=[...rn,...Object(y.t)(ot,{includeFromAnotherTeam:!!Ut})]),Vt&&(rn=[...rn,...Object(y.s)(ot,{includeFromAnotherTeam:!!Ut})]),At&&(rn=rn.filter(Cn=>!Object(Bt.a)(ot,Cn))),on&&(rn=rn.filter(Cn=>{if(Object(Ct.a)(Cn))return!1;const dn=Object(ce.z)(ot,Cn);return(dn==null?void 0:dn.length)&&(dn==null?void 0:dn.every(yn=>on.includes(yn)))})),rn}v(Fe,"getLocalChannels");function tt(ot,Qt){var en;const vt=Object(B.g)(ot),At=Qt==null||(en=Qt.entities)===null||en===void 0?void 0:en.teams;var qt;const Vt=Object.values((qt=de.b===null||de.b===void 0?void 0:Object(de.b)())!==null&&qt!==void 0?qt:{}).filter(jn=>jn.id!==vt);if(At!=null&&At.onlyNavigable)return Vt;var Ut;const on=(Ut=Object(U.c)(ot))!==null&&Ut!==void 0?Ut:{},rn=At==null?void 0:At.includeCurrentTeam,Cn=At==null?void 0:At.onlyExternal,dn=Cn||(At==null?void 0:At.includeExternal),yn=Vt.map(jn=>jn.id),Hn=Object.values(on).filter(jn=>(dn||!Object(Pe.a)(ot,jn))&&(!Cn||Object(Pe.a)(ot,jn))&&(rn||jn.id!==vt)&&!yn.includes(jn.id));return[...Vt,...Hn]}v(tt,"getLocalTeams");const ut=Object(m.c)("Get channels from flannel by query",(ot,Qt,en)=>{let{query:vt,options:At}=en;var qt,Vt,Ut,on;const{includeFromAnotherTeam:rn,includeExternallyShared:Cn,includeOnlyExternallyShared:dn,onlyExternallyShared:yn,onlyFromTeamId:Hn,allowedInternalTeams:jn}=(on=(qt=At.entities)===null||qt===void 0?void 0:qt.channels)!==null&&on!==void 0?on:{},hn=((Vt=At.entities)===null||Vt===void 0||(Ut=Vt.channels)===null||Ut===void 0?void 0:Ut.remoteLimit)||At.limit,Qe=Qt(),nt=[],Ge=" AND ",Ot={query:vt,count:hn||Le.limit||24,fuzz:Object(ke.d)(Qe,"fuzzy_no_fuzz")==="fuzzy_no_fuzz"?0:1,uax29_tokenizer:Object(ke.d)(Qe,"searcher_flannel_cjk")==="cjk"};return rn&&nt.push("xws"),!Object(t.a)(Cn)&&!Cn&&nt.push("NOT shared"),!Object(t.a)(dn)&&!dn&&nt.push("NOT external"),!Object(t.a)(yn)&&yn&&nt.push("shared"),nt.length&&(Ot.filter=nt.join(Ge)),Hn&&(Ot.external_team=Hn),jn&&(Ot.allowed_internal_teams=jn),ot(Object(E.i)({query:Ot})).timeout(2e3).catch(a.a)});ut.meta={name:"createThunk",key:"createThunkgetRemoteChannels",description:"Get channels from flannel by query"};const St=Object(m.c)("Get emoji from flannel by query",(ot,Qt,en)=>{let{query:vt,options:At}=en;var qt,Vt;const Ut=((qt=At.entities)===null||qt===void 0||(Vt=qt.emoji)===null||Vt===void 0?void 0:Vt.remoteLimit)||At.limit;return ot(Object(p.b)({query:{query:vt,count:Ut}})).timeout(2e3).catch(a.a)});St.meta={name:"createThunk",key:"createThunkgetRemoteEmoji",description:"Get emoji from flannel by query"};const tn=Object(m.c)("Get user groups from the search.team endpoint by query",(ot,Qt,en)=>{let{query:vt,options:At}=en;var qt,Vt,Ut,on;const rn=((qt=At.entities)===null||qt===void 0||(Vt=qt.userGroups)===null||Vt===void 0?void 0:Vt.remoteLimit)||At.limit;return ot(Object(I.c)({query:{query:vt,count:rn,org_wide:(Ut=At.entities)===null||Ut===void 0||(on=Ut.userGroups)===null||on===void 0?void 0:on.includeFromAnotherTeam}})).timeout(2e3).catch(a.a)});tn.meta={name:"createThunk",key:"createThunkgetRemoteUserGroups",description:"Get user groups from the search.team endpoint by query"};const Yt=Object(m.c)("Get remote triggers with query",(ot,Qt,en)=>{let{query:vt}=en;return ot(Object(cn.a)({query:vt}))});Yt.meta={name:"createThunk",key:"createThunkgetRemoteWorkflowTriggers",description:"Get remote triggers with query"};const un=Object(m.c)("Get bulk user groups from the userGroups.searchBulk endpoint by query",(ot,Qt,en)=>{let{queries:vt,options:At}=en;var qt,Vt,Ut,on;const rn=((qt=At.entities)===null||qt===void 0||(Vt=qt.userGroups)===null||Vt===void 0?void 0:Vt.remoteLimit)||At.limit;return ot(Object(I.a)({query:{queries:vt,count:rn,org_wide:(Ut=At.entities)===null||Ut===void 0||(on=Ut.userGroups)===null||on===void 0?void 0:on.includeFromAnotherTeam}})).timeout(2e3).catch(a.a)});un.meta={name:"createThunk",key:"createThunkgetBulkRemoteUserGroups",description:"Get bulk user groups from the userGroups.searchBulk endpoint by query"};function $t(ot,Qt){const{includeArchived:en,includeRequired:vt,onlyIfMember:At,canPost:qt,includeExternallyShared:Vt,includeOnlyExternallyShared:Ut,onlyExternallyShared:on,onlyFromTeamId:rn}=Qt??{};return Cn=>{let dn=!0;if(en||(dn=dn&&!Object(w.a)(Cn)),!Object(t.a)(vt)&&!vt&&(dn=dn&&!Object(ie.n)(Cn)),on&&(dn=dn&&Object(oe.a)(Cn)),(!Vt||!Ut)&&(dn=dn&&!Object(oe.a)(Cn)),At&&(dn=dn&&Object(ce.db)(Cn)),qt&&(dn=dn&&Object(ne.b)(ot,Cn.id)),rn){var yn;dn=dn&&(((yn=Object(yt.a)(ot,Cn))===null||yn===void 0?void 0:yn.includes(rn))||!1)}return dn}}v($t,"getChannelFilterFunction");const gn=Object(m.c)("Get members from flannel by query",(ot,Qt,en)=>{let{query:vt,options:At}=en;var qt,Vt,Ut;const{includeDeleted:on,onlyAdmins:rn,matchEmailField:Cn,onlyExternal:dn,includeExternal:yn,includeAllExternal:Hn,includeBots:jn,onlyFromExternalTeamId:hn,onlyFromExternalWorkspaceId:Qe}=(Ut=At.entities.members)!==null&&Ut!==void 0?Ut:{},nt=((qt=At.entities)===null||qt===void 0||(Vt=qt.members)===null||Vt===void 0?void 0:Vt.remoteLimit)||At.limit,Ge=Qt(),Ot=[],lt=["admins","owners","org_admins","org_owners"],ht=Object(te.y)(Object(U.g)(Ge)),jt=ht?["NOT org"]:["NOT team"],_t=ht?["org"]:["team"],sn=!on,En=" AND ",Ln={query:vt,count:nt||Le.limit||24,fuzz:Object(ke.d)(Ge,"fuzzy_no_fuzz")==="fuzzy_no_fuzz"||At.fuzzyLimit===0?0:1,uax29_tokenizer:Object(ke.d)(Ge,"searcher_flannel_cjk")==="cjk"};return sn&&Ot.push("NOT deactivated"),rn&&Ot.push(...lt),(dn||hn)&&Ot.push(...jt),(hn||Qe)&&(Ln.external_team=hn||Qe),jn||Ot.push("NOT bots"),yn||Ot.push(..._t),yn&&Hn&&(Ln.include_all_external=!0),Cn&&(Ln.search_email=!0),Ot.length&&(Ln.filter=Ot.join(En)),ot(Object(b.e)({query:Ln})).timeout(2e3).catch(a.a)});gn.meta={name:"createThunk",key:"createThunkgetRemoteMembers",description:"Get members from flannel by query"};const et=Object(m.c)("Get members from flannel by query",(ot,Qt,en)=>{let{queries:vt,options:At}=en;var qt,Vt,Ut,on;const{includeDeleted:rn,onlyAdmins:Cn,matchEmailField:dn}=(on=(qt=At.entities)===null||qt===void 0?void 0:qt.members)!==null&&on!==void 0?on:{},yn=((Vt=At.entities)===null||Vt===void 0||(Ut=Vt.members)===null||Ut===void 0?void 0:Ut.remoteLimit)||At.limit||24,Hn=Qt(),jn=[],hn=["admins","owners","org_admins","org_owners"],Qe=!rn,nt=" AND ",Ge={queries:vt,count:yn,fuzz:Object(ke.d)(Hn,"fuzzy_no_fuzz")==="fuzzy_no_fuzz"?0:1,uax29_tokenizer:Object(ke.d)(Hn,"searcher_flannel_cjk")==="cjk"};return Qe&&jn.push("NOT deactivated"),Cn&&jn.push(...hn),dn&&(Ge.search_email=!0),jn.length&&(Ge.filter=jn.join(nt)),ot(Object(b.b)({query:Ge})).timeout(2e3).catch(a.a)});et.meta={name:"createThunk",key:"createThunkgetBulkRemoteMembers",description:"Get members from flannel by query"};function An(ot,Qt){const{includeSelf:en,includeSlackbot:vt,includeBots:At,includeWorkflows:qt,includeDeleted:Vt,includeExternal:Ut,includeGuests:on,includeProfileOnlyUsers:rn,onlyLocalTeam:Cn,onlyAdmins:dn,onlyExternal:yn,onlyExternalFromTeams:Hn,onlyFromExternalTeamId:jn}=Qt??{};return hn=>{if(dn)return Object(be.d)(ot,hn);let Qe=!0;if(yn&&(Qe=Qe&&Object(Ce.a)(hn)&&!Object(Ae.a)(hn)),en||(Qe=Qe&&!Object(ue.vb)(hn)),vt||(Qe=Qe&&!Object(_e.b)(hn)),Hn)return Object(r.a)(Hn,Object(De.e)(hn));if(jn)return en&&Object(ue.vb)(hn)?!0:Object(Ce.a)(hn)&&Object(De.e)(hn)===jn;if(At||(Qe=Qe&&!Object(Ae.a)(hn)&&!Object(_e.b)(hn)),qt||(Qe=Qe&&!Object(ue.Db)(hn)),Vt||(Qe=Qe&&!Object(ue.eb)(hn)),Ut||(Qe=Qe&&!Object(Ce.a)(hn)),on||(Qe=Qe&&!Object(ue.ib)(hn)),rn||(Qe=Qe&&!Object(ue.tb)(hn)),rn&&Object(ue.tb)(hn)&&(Qe=Qe&&!Object(ue.eb)(hn)),Cn){const nt=Object(B.g)(ot);Object(ue.tb)(hn)&&rn||(Qe=Qe&&Object(De.h)(hn,nt))}return Qe}}v(An,"getMemberFilterFunction");function pn(ot,Qt){const{includeCurrentTeam:en,includeExternal:vt,onlyExternal:At,includeFromAnotherOrg:qt}=Qt??{},Vt=Object(B.i)(ot);return Ut=>!(!en&&Ut.id===Object(B.g)(ot)||At&&!Object(Pe.a)(ot,Ut)||vt===!1&&Object(Pe.a)(ot,Ut)||qt===!1&&Ut.id!==Vt&&Object(te.j)(Ut)!==Vt)}v(pn,"getTeamFilterFunction");function Pn(ot,Qt){const{onlyVisibleMpims:en,onlyExternallyShared:vt,includeExternallyShared:At,onlyFromTeamId:qt}=Qt??{};return Vt=>{let Ut=!0;if(en&&(Ut=Ut&&Object(ce.zb)(ot,Vt)),vt&&(Ut=Ut&&Object(oe.a)(Vt)),At===!1&&(Ut=Ut&&!Object(oe.a)(Vt)),qt){var on;Ut=Ut&&(((on=Object(yt.a)(ot,Vt))===null||on===void 0?void 0:on.includes(qt))||!1)}return Ut}}v(Pn,"getMpimFilterFunction");function Rn(ot,Qt){const{onlyExternallyShared:en,includeExternallyShared:vt,onlyFromTeamId:At,onlyVisibleIms:qt}=Qt??{};return Vt=>{let Ut=!0;if(qt&&(Ut=Ut&&Object(ce.yb)(ot,Vt)),en&&(Ut=Ut&&Object(oe.a)(Vt)),vt||(Ut=Ut&&!Object(oe.a)(Vt)),At){var on;Ut=Ut&&(((on=Object(yt.a)(ot,Vt))===null||on===void 0?void 0:on.includes(At))||!1)}return Ut}}v(Rn,"getImFilterFunction");function an(ot,Qt){const{includeDeleted:en,includeFromAnotherTeam:vt}=Qt??{};return At=>{let qt=!0;return vt||(qt=qt&&!Object(W.j)(ot,At.id)),en||(qt=qt&&Object(ae.y)(At)),qt}}v(an,"getUserGroupFilterFunction");function Gt(ot){const{onlyCanvases:Qt,onlyTemplateCanvases:en}=ot??{};return vt=>{let At=!0;return Qt&&(At=At&&Object(mn.s)(vt)),en&&(At=At&&Object(mn.rb)(vt)),At}}v(Gt,"getFileFilterFunction");const kn=Object(m.c)("Get teams via API by query",(ot,Qt,en)=>{let{query:vt,options:At}=en;var qt,Vt;const{onlyExternal:Ut,includeExternal:on,remoteLimit:rn}=(Vt=(qt=At.entities)===null||qt===void 0?void 0:qt.teams)!==null&&Vt!==void 0?Vt:{},Cn=Qt();if(Object(x.q)(Cn))return s.a.resolve();if(Ut||on)return ot(Object(_.a)(vt)).timeout(2e3).catch(a.a);const dn=rn||At.limit||24;return ot(Object(C.d)({query:vt,count:dn})).timeout(2e3).catch(a.a)});kn.meta={name:"createThunk",key:"createThunkgetRemoteTeams",description:"Get teams via API by query"};const Mn=Object(m.c)("Get files via API by query",(ot,Qt,en)=>{let{query:vt,options:At}=en;var qt,Vt;const{onlyCanvases:Ut,onlyTemplateCanvases:on}=(Vt=(qt=At.entities)===null||qt===void 0?void 0:qt.files)!==null&&Vt!==void 0?Vt:{};let rn=vt;return on?rn=`type:canvas_template ${vt}`:Ut&&(rn=`type:quip ${vt}`),ot(Object(h.f)({query:rn,includeShares:!0})).timeout(2e3).catch(a.a)});Mn.meta={name:"createThunk",key:"createThunkgetRemoteFiles",description:"Get files via API by query"};function cs(ot){const Qt=Object(pt.g)(ot),en=Object(V.b)(),vt={},At=[];Qt&&(Xe.t.forEach(Vt=>{const Ut=Object(it.a)({tab:Vt,experimentDesktopIa4GroupOn:Qt});Ze(ot,Vt)&&Ut&&!(Ut in vt)&&(At.push({id:Vt,name:Ut,is_view:!0,is_tab_view:!0}),vt[Ut]=Ut)}),Xe.u.forEach(Vt=>{const Ut=Object(Lt.a)(Vt);Object(gt.a)(ot,Vt)&&Ut&&!(Ut in vt)&&(At.push({id:Vt,name:Ut,is_view:!0,is_mva_view:!0}),vt[Ut]=Ut)})),en.forEach(Vt=>{var Ut;if(!(!((Ut=Vt.isExcludedFromSearch)===null||Ut===void 0)&&Ut.call(Vt,ot))&&!(Vt.id==="Pslack-connect"&&!Object(k.a)(ot))&&!(Vt.id==="Pactivity"&&Qt)&&!(Vt.id==="Papps"&&Object(x.q)(ot))&&(!Vt.isEnabled||Vt.isEnabled(ot)||Vt.id==="Punreads"&&Object(qe.u)(ot,"enable_unread_view"))){const rn=Object(J.b)(Vt.id)(ot);rn&&!(rn in vt)&&(At.push({...Vt,name:rn,is_view:!0,is_page_view:!0}),vt[rn]=rn)}});const qt=Object(F.c)("Vall_threads");return qt&&(!Qt||Object(qe.u)(ot,"enable_threads_view"))&&At.push(qt),At}v(cs,"getLocalViews");function Vn(ot){return ge(ot)}v(Vn,"getLocalModals");function bn(ot){return Object(Ue.c)(ot)?[{id:ot,item:{id:ot,value:ot,isEmail:!0}}]:[]}v(bn,"getLocalEmails");function Qn(ot,Qt){const en=!Qt;let vt=g.a;if(Qt){const At=Object(y.c)(ot,Qt);vt=At&&Object(Tt.b)(ot,At)||g.a}return Object(P.b)(ot).flatMap(At=>{if(Object(pt.g)(ot)&&At.teams&&(vt.length||en)&&!At.isEnterpriseInstall&&!At.isWorkspaceAgnostic){const qt=en?At.teams:At.teams.filter(Vt=>vt.includes(Vt));if(qt.length>1)return qt.map(Vt=>{const Ut=Object(U.t)(ot,Vt),on=Object(te.g)(Ut);return{...At,name:`${At.name} ${on}`,applicableTeamId:Vt}})}return[At]})}v(Qn,"getAppActionsWithEntriesPerApplicableTeam");function es(ot,Qt,en){const vt=Object(y.c)(ot,Qt),At=vt?Object(Tt.b)(ot,vt)||[]:[];return Object(bt.j)(ot,Qt,en,!0).flatMap(qt=>{if(Object(pt.g)(ot)&&qt.teams&&At.length&&!qt.isEnterpriseInstall&&!qt.isWorkspaceAgnostic){const Vt=qt.teams.filter(Ut=>At.includes(Ut));if(Vt.length>1)return Vt.map(Ut=>({...qt,id:Object(Ft.e)(qt),isSlashCommand:!0,applicableTeamId:Ut}))}return[{...qt,id:Object(Ft.e)(qt),isSlashCommand:!0}]})}v(es,"getSlashCommandsListWithEntriesPerApplicableTeam");function ms(ot,Qt){let en=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"";aa(Qt);const vt={},{members:At,channels:qt,teams:Vt,userGroups:Ut,appActions:on,views:rn,broadcastKeywords:Cn,emoji:dn,files:yn,links:Hn,lists:jn,channelSections:hn,emails:Qe,modals:nt,shortcuts:Ge,workflowTriggers:Ot,helpArticles:lt}=Qt.entities;if(qt&&(qt.includePublic||qt.includePrivate)&&(vt.channels=Fe(ot,Qt)),qt&&qt.includeMpims&&(vt.mpims=Object(y.q)(ot)),qt&&qt.includeIms&&(vt.ims=Object(y.n)(ot)),At&&(vt.members=At.onlyFromExternalWorkspaceId?g.a:Object(x.b)(ot).filter(sn=>Object(Xt.a)(ot,sn.id))),Vt&&(vt.teams=tt(ot,Qt)),Ut&&(vt.userGroups=Object(W.c)(ot)),on&&(vt.appActions=Qn(ot,on.channel)),yn&&(vt.files=Object(S.a)(ot)),Hn&&(vt.links=Object(A.a)(ot)),jn&&(vt.lists=Object(R.m)(ot)),rn&&(vt.views=cs(ot)),nt&&(vt.modals=Vn(ot)),Cn){var ht;if(Cn.includeAll)vt.broadcastKeywords=Object(j.a)();else if(!(Cn==null||(ht=Cn.currentChannel)===null||ht===void 0)&&ht.id){var jt;vt.broadcastKeywords=Object(M.a)(ot,Cn==null||(jt=Cn.currentChannel)===null||jt===void 0?void 0:jt.id)}else vt.broadcastKeywords=[]}if(dn&&(vt.emoji=Object(H.e)(ot)),hn&&(vt.channelSections=Object(c.a)(Object(q.b)(ot))),(Ge!=null&&Ge.slashCommands||Ge!=null&&Ge.fakeGlobalActions)&&!(Ge!=null&&Ge.isAnnounceOnly)&&(vt.slashCommands=Object(bt.j)(ot,Ge.channel,Ge.threadTs,!0).map(sn=>({...sn,id:Object(Ft.e)(sn),isSlashCommand:!0}))),Ge!=null&&Ge.slackGlobalActions&&(vt.slackGlobalActions=Object(bt.h)(ot,Ge.channel,Ge.threadTs)),Ge!=null&&Ge.channelActions&&(vt.channelActions=Object(dt.b)(ot,Ge.channel)),Ge!=null&&Ge.fakeGlobalActions&&(vt.fakeGlobalActions=Object(bt.g)(ot,Ge.channel,Ge.threadTs,vt.slashCommands)),Ge!=null&&Ge.callActions&&(vt.callActions=Object(bt.f)(ot,Ge.channel,Ge.threadTs,Ge.isAnnounceOnly)),Ot){const sn=Object(bt.e)(ot);Ot.includeAutomated?vt.workflowTriggers=sn:vt.workflowTriggers=sn.filter(En=>En.type===G.a.Shortcut)}Qe&&(vt.emails=bn(en));const _t=Object(re.a)(ot);return lt&&_t&&(vt.helpArticles=Object(X.c)(ot,"searcher/fetch_all_articles")),As(),vt}v(ms,"fetchLocal");const ls=Object(m.c)("Search for local entities within Slack based on options",(ot,Qt,en)=>{let{query:vt,options:At,autoTraceId:qt,parentSpanId:Vt}=en;var Ut;const on=Qt(),rn=(Ut=Me.d.get({label:Me.a.Searcher,id:qt}))===null||Ut===void 0?void 0:Ut.createChildSpan({name:"searcher:fetch_remote",additionalSpanOptions:{parentSpanId:Vt}}),Cn=[],dn=[],{channels:yn,files:Hn,members:jn,teams:hn,userGroups:Qe,appActions:nt,emoji:Ge,helpArticles:Ot,workflowTriggers:lt}=At.entities;if(jn){const jt=ot(gn({query:vt,options:At}));jn.runaway?dn.push(jt):Cn.push(jt)}if(yn){const jt=ot(ut({query:vt,options:At}));yn.runaway?dn.push(jt):Cn.push(jt)}if(Ge){const jt=ot(St({query:vt,options:At}));Ge.runaway?dn.push(jt):Cn.push(jt)}if(Hn&&(Object(ct.a)(vt)||vt.length>3)){const jt=Object(Ht.a)(Qt());if(!jt.contains(vt)&&!jt.isRequestInFlight()){jt.add(vt),jt.setRequestInFlight();const _t=ot(Mn({query:vt,options:At}));Hn.runaway?dn.push(_t):Cn.push(_t)}}if(Qe){const jt=ot(tn({query:vt,options:At}));Qe.runaway?dn.push(jt):Cn.push(jt)}if(hn&&(Object(Ie.a)(on)||hn.onlyExternal||hn.includeExternal)&&!hn.onlyLocal){const jt=ot(kn({query:vt,options:At}));hn.runaway?dn.push(jt):Cn.push(jt)}if(lt){const jt=Object(In.a)(on);if(!jt.contains(vt)&&!jt.isRequestInFlight()){jt.add(vt),jt.setRequestInFlight();const _t=ot(Yt({query:vt}));_t&&(lt.runaway?dn.push(_t):Cn.push(_t))}}if(Object(me.a)(on)&&nt){const jt=ot(Object(T.a)()).timeout(2e3).catch(a.a);nt.runaway?dn.push(jt):Cn.push(jt)}const ht=Object(re.a)(on);return Ot&&ht&&Object(X.c)(on,"searcher/fetch_all_articles"),s.a.all(Cn).then(jt=>{const _t=Qt(),sn=ms(_t,At,vt);if(sn.remoteIds=fs(jt),jn&&jn.onlyFromExternalWorkspaceId){var En,Ln;sn.members=(Ln=(En=jt.find(Wn=>!!Wn.members))===null||En===void 0?void 0:En.members)!==null&&Ln!==void 0?Ln:g.a}const Bn=Object(o.a)(Object(c.a)(sn),"length");return dn.length&&!Bn?s.a.all(dn).then(()=>ms(Qt(),At)):(rn==null||rn.close(),sn)})});ls.meta={name:"createThunk",key:"createThunkfetchRemote",description:"Search for local entities within Slack based on options"};function fs(ot){const Qt={};return ot.forEach(en=>{en&&(en.appActions&&(Qt.appActions=new Set(en.appActions.map(vt=>vt.id))),en.channels&&(Qt.channels=new Set(en.channels.map(vt=>vt.id))),en.emoji&&(Qt.emoji=new Set(en.emoji.map(vt=>vt.name))),en.files&&(Qt.files=new Set(en.files.map(vt=>vt.id))),en.members&&(Qt.members=new Set(en.members.map(vt=>vt.id))),en.userGroups&&(Qt.userGroups=new Set(en.userGroups.map(vt=>vt.id))),en.teams&&(Qt.teams=new Set(en.teams.map(vt=>vt.id))))}),Qt}v(fs,"getRemoteIds");const vs=Object(m.c)("Search for entities within Slack by query",(ot,Qt,en)=>{let{query:vt="",options:At=Le}=en;var qt;if(!vt.length&&!At.allowEmptyQuery)return s.a.resolve([]);const Vt=Qt(),Ut=Object(Te.d)({state:Vt}),on=Object(Ne.a)();Ut.mark(`modern-searcher-search-mark-${on}`);const rn=Object(rt.a)(vt);var Cn;Me.d.start({label:Me.a.Searcher,id:on,options:{teamId:(Cn=Object(B.g)(Vt))!==null&&Cn!==void 0?Cn:null,tags:Re({query:rn,options:At})}});const dn=(qt=Me.d.get({label:Me.a.Searcher,id:on}))===null||qt===void 0?void 0:qt.createChildSpan({name:"searcher:search"}),yn=Gs(Vt,At,Le,vt);if(Object(i.a)(yn))return s.a.resolve([]);if(Object(z.a)(Vt)!==Y.a.ONLINE||!(At!=null&&At.allowEmptyQueryRemoteSearch)&&!rn.length&&Object(at.a)()&&Object(ke.d)(Vt,"searcher_local_empty_string")==="treatment")return s.a.resolve(Gn(Vt,{query:rn,options:yn,autoTraceId:on,parentSpanId:dn==null?void 0:dn.getId()}));const Hn=s.a.delay(0).then(()=>ot(ls({query:rn,options:yn,autoTraceId:on,parentSpanId:dn==null?void 0:dn.getId()}))).then(jn=>{const hn=Qt();return ps(hn,{query:rn,data:jn,options:yn,autoTraceId:on,parentSpanId:dn==null?void 0:dn.getId()})});if(yn.tiered){const jn=Gn(Vt,{query:rn,options:yn,autoTraceId:on,parentSpanId:dn==null?void 0:dn.getId()});return jn.promise=Hn.finally(()=>{dn==null||dn.close(),Me.d.stop({label:Me.a.Searcher,id:on})}),s.a.resolve(jn).finally(()=>{Ut.measureAndClear(`modern-searcher-search-mark-${on}`,"modern-searcher-search-tiered")})}return Hn.finally(()=>{Ut.measureAndClear(`modern-searcher-search-mark-${on}`,"modern-searcher-search"),dn==null||dn.close(),Me.d.stop({label:Me.a.Searcher,id:on})})});vs.meta={name:"createThunk",key:"createThunksearch",description:"Search for entities within Slack by query"};function Gn(ot,Qt){let{query:en="",options:vt,autoTraceId:At,parentSpanId:qt}=Qt;var Vt;let Ut=At;if(!Ut){Ut=Object(Ne.a)();var on;Me.d.start({label:Me.a.Searcher,id:Ut,options:{teamId:(on=Object(B.g)(ot))!==null&&on!==void 0?on:null,tags:Re({query:en,options:vt})}})}const rn=(Vt=Me.d.get({label:Me.a.Searcher,id:Ut}))===null||Vt===void 0?void 0:Vt.createChildSpan({name:"searcher:search_local",additionalSpanOptions:{parentSpanId:qt}});if(!en.length&&!vt.allowEmptyQuery)return[];const Cn=Gs(ot,vt,Le,en);if(Object(i.a)(Cn))return[];const dn=Object(rt.a)(en),yn=ms(ot,Cn),Hn=ps(ot,{query:dn,data:yn,options:Cn,autoTraceId:Ut,parentSpanId:rn==null?void 0:rn.getId()});return rn==null||rn.close(),Hn}v(Gn,"searchLocal");const Ps=15,$s=v(ot=>{let{clogger:Qt,data:en}=ot;const{source:vt,query:At,results:qt,selectedItemId:Vt,displayedItemIds:Ut,openMethod:on}=en,rn=Ut?Ut.length:qt.length,Cn=Ut&&Vt?Ut.indexOf(Vt):qt.findIndex(lt=>lt.item.id===Vt);if(Cn<0)return;const dn=qt.find(lt=>lt.item.id===Vt);if(!dn)return;const yn=dn.type||"other",Hn=Object(rt.a)(At),jn=dn.source||"local";let hn;dn.type==="mpim"?hn=dn.scoreDetailsByMember:dn.type==="member"&&Vt?hn={[Vt]:{is_exact_match:dn.isExactMatch,exact_match_details:dn.exactMatchDetails,score_details:dn.scoreDetails}}:dn.type==="emoji"&&Vt&&(hn={[Vt]:{is_exact_match:dn.isExactMatch}});let Qe=[];qt.some(lt=>lt.featureVector)&&(Ut?Qe=Ut.map(lt=>{const ht=qt.find(jt=>jt.item.id===lt);return ht&&ht.featureVector.serialize()||""}):Qe=qt.map(lt=>{var ht,jt;return lt==null||(ht=lt.featureVector)===null||ht===void 0||(jt=ht.serialize)===null||jt===void 0?void 0:jt.call(ht)}));let Ge;Object(l.a)(At)?Ge=At.reduce((lt,ht)=>lt+os(Object(rt.a)(ht)),0):Ge=os(Hn);const Ot={source:vt,query_length:Hn.length?Hn.length:0,query_terms_length:Ge,results_length:rn,selected_position:Cn,selected_type:yn,selected_source:jn,selected_match_details:hn,feature_vector_list:Qe.slice(0,Ps),open_method:on};Qt.track(He.EventId.SEARCHER_ACCEPT,Ot)},"clogSearcherAccept"),ks=v(ot=>{let{clogger:Qt,data:en}=ot;const{source:vt,query:At,results:qt,displayedItemIds:Vt}=en,Ut=Vt!==void 0?Vt.length:qt.length,on=Object(rt.a)(At);let rn;Object(l.a)(At)?rn=At.reduce((dn,yn)=>dn+os(Object(rt.a)(yn)),0):rn=os(on);const Cn={source:vt,query_length:on.length?on.length:0,query_terms_length:rn,results_length:Ut};Qt.track(He.EventId.SEARCHER_REJECT,Cn)},"clogSearcherReject");function os(ot){return ot?ot.split(xe.a).filter(Qt=>Qt.length).length:0}v(os,"getQueryTermsLength");function ps(ot,Qt){let{query:en,data:vt,options:At,autoTraceId:qt,parentSpanId:Vt}=Qt;var Ut,on,rn,Cn,dn;const yn=(Ut=Me.d.get({label:Me.a.Searcher,id:qt}))===null||Ut===void 0?void 0:Ut.createChildSpan({name:"searcher:process",additionalSpanOptions:{parentSpanId:Vt}});aa(At);const Hn=Object(ke.d)(ot,"searcher_avoid_exact_member_match")==="treatment",jn=Object(ke.d)(ot,"nerf_email_fuzzy_match")==="treatment",hn={},Qe=new pe.a({query:en,options:{...At,sort:{...At.sort,avoidExactMatchForMembers:Hn},fuzzyEmailSearchForwardOnly:jn}}),nt=Object(Te.d)({state:ot});nt.mark("modern-searcher-matching-mark");const Ge=(on=Me.d.get({label:Me.a.Searcher,id:qt}))===null||on===void 0?void 0:on.createChildSpan({name:"searcher:searcher_match",additionalSpanOptions:{parentSpanId:yn==null?void 0:yn.getId()}});vt.channels&&(hn.channels=Qe.filterChannels(ot,vt.channels,$t(ot,At.entities.channels))),vt.members&&(hn.members=Qe.filterMembers(ot,vt.members,An(ot,At.entities.members))),vt.emails&&vt.members&&!(!(hn==null||(rn=hn.members)===null||rn===void 0)&&rn.length)&&(hn.emails=vt.emails),vt.mpims&&(hn.mpims=Qe.filterMpims(ot,vt.mpims,Pn(ot,At.entities.channels))),vt.ims&&(hn.ims=Qe.filterIms(ot,vt.ims,Rn(ot,At.entities.channels))),vt.userGroups&&(hn.userGroups=Qe.filterUserGroups(ot,vt.userGroups,an(ot,At.entities.userGroups))),vt.teams&&(hn.teams=Qe.filterTeams(ot,vt.teams,pn(ot,At.entities.teams))),vt.views&&(hn.views=Qe.filterViews(ot,vt.views)),vt.modals&&(hn.modals=Qe.filterModals(ot,vt.modals)),vt.appActions&&(hn.appActions=Qe.filterAppActions(ot,vt.appActions)),vt.slashCommands&&(hn.slashCommands=Qe.filterShortcuts(ot,vt.slashCommands,!0)),vt.slackGlobalActions&&(hn.slackGlobalActions=Qe.filterShortcuts(ot,vt.slackGlobalActions)),vt.channelActions&&(hn.channelActions=Qe.filterShortcuts(ot,vt.channelActions)),vt.fakeGlobalActions&&(hn.fakeGlobalActions=Qe.filterShortcuts(ot,vt.fakeGlobalActions)),vt.callActions&&(hn.callActions=Qe.filterShortcuts(ot,vt.callActions)),vt.workflowTriggers&&(hn.workflowTriggers=Qe.filterWorkflowTriggers(ot,vt.workflowTriggers)),!(At==null||(Cn=At.entities)===null||Cn===void 0||(dn=Cn.shortcuts)===null||dn===void 0)&&dn.apps&&(hn.apps=Qe.filterApps(ot,vt.appActions,vt.fakeGlobalActions,vt.slashCommands)),vt.broadcastKeywords&&(hn.broadcastKeywords=Qe.filterBroadcastKeywords(ot,vt.broadcastKeywords)),vt.emoji&&(hn.emoji=Qe.filterEmoji(ot,vt.emoji)),vt.channelSections&&(hn.channelSections=Qe.filterChannelSections(ot,vt.channelSections,Bn=>{var Wn,xn;return!!(!((Wn=At.entities.channelSections)===null||Wn===void 0||(xn=Wn.includeTypes)===null||xn===void 0)&&xn[Bn.type])})),vt.files&&(hn.files=Qe.filterFiles(ot,vt.files,Gt(At.entities.files))),vt.links&&(hn.links=Qe.filterLinks(ot,vt.links)),vt.lists&&(hn.lists=Qe.filterLists(ot,vt.lists));const Ot=Object(re.a)(ot);vt.helpArticles&&Ot&&(hn.helpArticles=Qe.filterHelpArticles(ot,vt.helpArticles)),nt.measureAndClear("modern-searcher-matching-mark","modern-searcher-matching"),Ge==null||Ge.close();let lt=hn;lt=bs(lt,vt.remoteIds||{});const ht=500,jt=3;let _t=Object(u.a)(Object.values(lt));if(At.sort){var sn;const Bn=new je.a({query:en,options:{modelOnly:!1,...At.sort}}),Wn=(sn=Me.d.get({label:Me.a.Searcher,id:qt}))===null||sn===void 0?void 0:sn.createChildSpan({name:"searcher:searcher_sort",additionalSpanOptions:{parentSpanId:yn==null?void 0:yn.getId()}});_t=Bn.sort(ot,lt),Wn==null||Wn.close()}if(At.sort&&At.sort.frecency){var En;const Bn=Object(ke.d)(ot,"snd_autocomplete_model_cache"),Wn=!At.sort.modelLocal&&Bn&&Bn.startsWith("treatment"),xn=(En=Me.d.get({label:Me.a.Searcher,id:qt}))===null||En===void 0?void 0:En.createChildSpan({name:"searcher:sorter_sort",additionalSpanOptions:{parentSpanId:yn==null?void 0:yn.getId()}}),Zn=new st.a({query:en,options:{...At.sort},modelRemote:Wn,teamId:Object(B.g)(ot),enterpriseId:Object(Ie.a)(ot)&&Object(B.d)(ot)});var Ln;_t=Zn.sort(ot,_t.slice(0,Math.min(((Ln=At==null?void 0:At.limit)!==null&&Ln!==void 0?Ln:1)*jt,ht))),xn==null||xn.close()}return At.limit&&(_t=Object(f.a)(_t,At.limit)),At.returnMetadata||(_t=_t.map(Bn=>Bn.item)),As(),_t||[]}v(ps,"processFetchedEntities");function bs(ot,Qt){return Object(d.a)(ot,(en,vt)=>{const At=fn(vt),qt=Qt[vt];return en.map(Vt=>{const Ut=qt&&qt.has(Vt.item.id)?"remote":"local";return{...Vt,type:At,source:Ut}})})}v(bs,"addResultMetadata");function fn(ot){switch(ot){case"channels":return"channel";case"members":return"member";case"mpims":return"mpim";case"ims":return"ims";case"userGroups":return"userGroup";case"teams":return"team";case"views":return"view";case"modals":return"modal";case"appActions":return"appAction";case"apps":return"app";case"broadcastKeywords":return"broadcastKeyword";case"emoji":return"emoji";case"files":return"file";case"links":return"link";case"slashCommands":return"slashCommand";case"slackGlobalActions":return"globalAction";case"channelActions":return"channelAction";case"fakeGlobalActions":return"appAction";case"callActions":return"channelAction";case"workflowTriggers":return"workflowTrigger";case"helpArticles":return"helpArticles";default:return"other"}}v(fn,"getTypeFromGroup");function Gs(ot,Qt,en,vt){const{files:At,members:qt,channels:Vt,userGroups:Ut,broadcastKeywords:on,emoji:rn}=Qt.entities,{members:Cn,channels:dn,userGroups:yn}=en.entities,Hn=Object(Wt.g)(ot);let jn={},hn="";vt!=null&&vt.length&&(hn=Array.isArray(vt)?"@":vt.charAt(0)),(hn==="@"||hn==="\uFF20")&&(qt||Ut||on||At)?(qt&&(jn.members=js(qt,Cn)),Ut&&(jn.userGroups=js(Ut,yn)),on&&(jn.broadcastKeywords=js(on,{})),At&&Hn&&(jn.files=js(At,{}))):(hn==="#"||hn==="\uFF03")&&Vt?jn.channels=js(Vt,dn):hn===":"&&rn?jn.emoji=js(rn,{}):jn=Object.keys(Qt.entities).reduce((xn,Zn)=>{const ts=Qt.entities[Zn];return ts&&(xn[Zn]=js(ts,en.entities[Zn])),xn},{});var Qe;const nt=js((Qe=Qt==null?void 0:Qt.sort)!==null&&Qe!==void 0?Qe:{},en.sort);var Ge;const Ot=(Ge=Qt.limit)!==null&&Ge!==void 0?Ge:en.limit;var lt;const ht=(lt=Qt.fuzzyLimit)!==null&&lt!==void 0?lt:en.fuzzyLimit;var jt;const _t=(jt=Qt.fuzzyJumpLimit)!==null&&jt!==void 0?jt:en.fuzzyJumpLimit,sn=Qt.fuzzyCJK||en.fuzzyCJK,En=Qt.tiered,Ln=Qt.filter,Bn=Qt.allowEmptyQuery,Wn=Qt.returnMetadata||en.returnMetadata;return nt&&(nt.model=nt.model||Object(ze.b)()),{entities:jn,sort:nt,limit:Ot,tiered:En,filter:Ln,allowEmptyQuery:Bn,fuzzyLimit:ht,fuzzyJumpLimit:_t,fuzzyCJK:sn,returnMetadata:Wn}}v(Gs,"getAllOptions");function js(ot,Qt){if(!Qt||ot===!1)return ot;const en=ot===!0?{}:ot,vt=Qt===!0?{}:Qt;return Object(O.a)(en,vt)}v(js,"mergeOptions");function aa(ot){const{members:Qt,channels:en,teams:vt,userGroups:At,appActions:qt,files:Vt}=ot.entities;(Qt||en||vt||At||qt||Vt)&&Z.b.pauseRefetchIndefinitely()}v(aa,"pauseConditionalFetching");function As(){Z.b.unpauseRefetchImmediately()}v(As,"unpauseConditionalFetching"),Object(Et.a)("searcher",{search:(ot,Qt)=>Object(Je.dispatchForTeamId)(ot,vs({options:Qt})),searchLocal:(ot,Qt)=>{const en=Object(Je.getStateByTeamId)(ot);return Gn(en,{options:Qt})}})},cqtq:function(K,n,e){"use strict";e.d(n,"a",function(){return s});function s(t,a,r){let c,o;const i=(r??window).cancelAnimationFrame,l=(r??window).requestAnimationFrame;return function(){for(var u=arguments.length,f=new Array(u),d=0;d<u;d++)f[d]=arguments[d];i(o),c=(r??window).performance.now();const O=v(m=>{m>c+a?t(...f):o=l(O)},"callback");return o=l(O),o}}v(s,"debounceRAF")},ctdj:function(K,n,e){K.exports=e.p+"slackbot_neutral_192-e5cd9a1.png"},cthg:function(K,n,e){"use strict";e.d(n,"b",function(){return s}),e.d(n,"a",function(){return t});var s;(function(a){a.Screen="screen",a.Window="window",a.Other="other",a.None="none"})(s||(s={}));var t;(function(a){a.DesktopScreen="desktop:screen",a.DesktopWindow="desktop:window",a.DesktopUnknown="desktop:unknown",a.BrowserContent="browser:content",a.MobileScreen="mobile:screen",a.Unknown="unknown"})(t||(t={}))},ctiz:function(K,n,e){"use strict";e.d(n,"s",function(){return De}),e.d(n,"v",function(){return Pe}),e.d(n,"w",function(){return Ue}),e.d(n,"u",function(){return ae}),e.d(n,"t",function(){return ne}),e.d(n,"f",function(){return Me}),e.d(n,"x",function(){return Ne}),e.d(n,"c",function(){return xe}),e.d(n,"a",function(){return ze}),e.d(n,"b",function(){return st}),e.d(n,"g",function(){return Bt}),e.d(n,"h",function(){return at}),e.d(n,"j",function(){return Ht}),e.d(n,"k",function(){return Wt}),e.d(n,"i",function(){return yt}),e.d(n,"q",function(){return Xt}),e.d(n,"p",function(){return cn}),e.d(n,"o",function(){return mn}),e.d(n,"e",function(){return In}),e.d(n,"d",function(){return Tt}),e.d(n,"l",function(){return Lt}),e.d(n,"r",function(){return gt}),e.d(n,"n",function(){return it}),e.d(n,"m",function(){return ft});var s=e("9oTK"),t=e("F294"),a=e("7EGn"),r=e("CpTu"),c=e("mkut"),o=e("bPB8"),i=e("S1sa"),l=e("1myf"),u=e("zmn3"),f=e("9Gfp"),d=e("Wn1n"),O=e("4hjS"),m=e("JoR1"),g=e("LvvF"),E=e("HaWS"),p=e("rZ8V"),h=e("QIbu"),_=e("QRgo"),b=e("JnIm"),I=e("FUEd"),C=e("9JB5"),y=e("E3dU"),P=e("ZKjC"),T=e("UOL+"),S;const A=Object(P.b)(Ke=>{var Ve,Be;return(Be=(S=(Ve=Object(T.a)(Ke))===null||Ve===void 0?void 0:Ve.notifications)!==null&&S!==void 0?S:Ke==null?void 0:Ke.notifications)===null||Be===void 0?void 0:Be.maxTs});var R;A.meta={name:"createSelector",key:"createSelectorgetMaxTimestamp",description:Ke=>{var Ve,Be;return(Be=(R=(Ve=Object(T.a)(Ke))===null||Ve===void 0?void 0:Ve.notifications)!==null&&R!==void 0?R:Ke==null?void 0:Ke.notifications)===null||Be===void 0?void 0:Be.maxTs}};var x=e("O86Y"),M=e("GlHf"),j=e("r6zX"),W=e("59uo"),U=e("ISSR"),B=e("Yauy"),Y=e("E97Y"),z=e("5bQ+"),F=e("+l5E"),V=e("gukb"),L=e("JMq3"),Q=e("RVJP"),ee=e("HYaO"),te=e("USm0"),le=e("nYID"),Oe=e("iaVl"),he=e("fBqv"),Ee=e("xcHN"),ge=e("vfQU"),J=e("kBpe"),H=e("UEb0"),Z=e("G5NC"),q=e("IqnQ"),k=e("NK7x"),se=e("GNR7"),re=e("1I7x"),X=e("SIMs"),w=e("FeIc"),ce=e("IYwZ"),ie=e("lhZz"),oe=e("W5SZ"),me=e("Evpj"),ue=e("EDdb"),_e=e("1C7w"),be=e("uVdA"),Ae=e("7xYR");const Ce=["channel_leave","channel_join","group_leave","group_join"];function De(Ke,Ve,Be){if(!Ve||!Be)return H.a.BAD_ARGUMENTS;if(Ve.no_display)return H.a.NO_DISPLAY_OVERRIDE;if(Be.is_file&&Ve.subtype&&Ve.subtype==="document_comment_root")return H.a.FILE_CHANNEL_ROOT_COMMENT;if(Object(ee.a)(Ve))return H.a.REPLY_MESSAGE;if(Ve.subtype&&Ce.indexOf(Ve.subtype)!==-1)return H.a.JOIN_LEAVE_MESSAGE;const Ye=Bt(Ke,Be.id);if(Ye==="nothing")return H.a.SILENT_PREFERENCE;const we=Object(he.a)(Ke,Be),mt=Object(f.a)(Ke),Pt=Te(Ke,Ve,we);if(Ve.subtype==="bot_message"&&Ye!=="everything"&&!Pt)return H.a.BOT_MESSAGE;if(Object(L.a)(Ke,Ve)&&Ye!=="everything"&&!Pt)return H.a.APP_MESSAGE;const Nt=Object(V.a)(Ve,mt),Ze=Pt&&Nt,Xe=Object(k.b)(Ke,Be.id);return Me()?!Ze&&Ye!=="everything"?H.a.NO_MENTIONS:He(Ke,Ve,Be)?H.a.ACTIVE_VIEW_VISIBLE:Object(F.cb)(Ve,mt)?H.a.FROM_CURRENT_USER:Ve.no_notifications?H.a.NO_NOTIFICATIONS_OVERRIDE:Xe?H.a.MUTED_CHANNEL:Object(ce.b)(Ke)&&!Ve._ignore_dnd?H.a.USER_IN_DND:Et(Ke,Be)?H.a.FROM_ANOTHER_TEAM:Object(z.b)(Ke,Be)?H.a.LESS_RELEVANT_ORG_TEAM:pe(Ke,Ve,Be)?H.a.OVERSIZED_MENTION:je(Ke,Ve)?H.a.SENDER_IS_HIDDEN:H.a.NONE:H.a.PERMISSION_DENIED}v(De,"shouldShowNotificationForChannelMessage");function Pe(Ke,Ve){if(!Me())return H.a.PERMISSION_DENIED;if(Object(ce.b)(Ke))return H.a.USER_IN_DND;if(Object(k.b)(Ke,Ve))return H.a.MUTED_CHANNEL;if(w.a[Bt(Ke,Ve)]===w.a.nothing)return H.a.SILENT_PREFERENCE;const Ye=!1,we=Object(y.c)(Ke,Ve,Ye);return!we||Object(Y.j)(we)?H.a.BAD_ARGUMENTS:Et(Ke,we)?H.a.FROM_ANOTHER_TEAM:Object(z.b)(Ke,we)?H.a.LESS_RELEVANT_ORG_TEAM:H.a.NONE}v(Pe,"shouldShowNotificationForHuddle");function Ue(Ke,Ve){if(!Me())return H.a.PERMISSION_DENIED;if(ze(Ke))return H.a.SILENT_PREFERENCE;if(Ve.itemType===_.a.message){const Be=Ve.itemId,Ye=Object(y.c)(Ke,Be);if(!Ye||Object(Y.j)(Ye))return H.a.BAD_ARGUMENTS;if(Et(Ke,Ye))return H.a.FROM_ANOTHER_TEAM;if(Object(z.b)(Ke,Ye))return H.a.LESS_RELEVANT_ORG_TEAM}else if(Je(Ke))return H.a.FROM_ANOTHER_TEAM;return H.a.NONE}v(Ue,"shouldShowNotificationForSavedItem");function ae(Ke,Ve,Be){return!Ve||!Be?H.a.BAD_ARGUMENTS:Ve.no_display?H.a.NO_DISPLAY_OVERRIDE:Object(ee.a)(Ve)?H.a.REPLY_MESSAGE:Ht(Ke,Be.id)==="nothing"?H.a.SILENT_PREFERENCE:Me()?He(Ke,Ve,Be)?H.a.ACTIVE_VIEW_VISIBLE:Object(F.cb)(Ve,Object(f.a)(Ke))?H.a.FROM_CURRENT_USER:Object(k.b)(Ke,Be.id)?H.a.MUTED_CHANNEL:Ve.no_notifications?H.a.NO_NOTIFICATIONS_OVERRIDE:Object(ce.b)(Ke)&&!Ve._ignore_dnd?H.a.USER_IN_DND:Object(z.b)(Ke,Be)?H.a.LESS_RELEVANT_ORG_TEAM:rt(Ke,Ve,Be)?H.a.EMAIL_SHARED:je(Ke,Ve)?H.a.SENDER_IS_HIDDEN:H.a.NONE:H.a.PERMISSION_DENIED}v(ae,"shouldShowNotificationForDirectMessage");function ne(Ke,Ve){if(!Ve||!Ve.channel)return H.a.BAD_ARGUMENTS;const Be=!1,Ye=Object(y.c)(Ke,Ve.channel,Be);if(!Ye||Object(Y.j)(Ye))return H.a.BAD_ARGUMENTS;if(Et(Ke,Ye))return H.a.FROM_ANOTHER_TEAM;if(Object(z.b)(Ke,Ye))return H.a.LESS_RELEVANT_ORG_TEAM;if(Ie(Ve))return H.a.NONE;const{msg:we,thread_ts:mt}=Ve,Pt={ts:we,thread_ts:mt};if(!Object(ee.a)(Pt))return H.a.NOT_REPLY_MESSAGE;if(qe(Ke,Ve,Ye)||ke(Ke,Ve,Ye))return H.a.ACTIVE_VIEW_VISIBLE;if(je(Ke,Ve))return H.a.SENDER_IS_HIDDEN;const Nt=A(Ke);if(!Nt||we>Nt)return H.a.REDUNDANT_SOCKET_EVENT;const Ze=Object(C.e)(Ke,{channelId:Ye.id,ts:mt,fetchIfMissing:!1}),Xe=Ze?Ze.lastRead:null;return Xe&&Xe>=we?H.a.ALREADY_SEEN_REPLY:H.a.NONE}v(ne,"shouldShowNotificationForDesktopNotification");function Ie(Ke){return!Ke||Ke.type!=="desktop_notification"?!1:Ke.is_channel_invite}v(Ie,"isChannelInvite");function Te(Ke,Ve,Be){let Ye=!1;const we=Object(L.a)(Ke,Ve),mt=Object(be.a)(Ke);if(Be){const Pt={ignoreHighlightWords:Object(Oe.a)(Ve,we),ignoreAtEveryoneMentions:!1,ignoreAtChannelMentions:!1,ignoreAtHereMentions:Object(I.c)(Ke)==="away"},Nt=Object(x.g)(Ke);Ye=Object(te.a)(Ve,Object(f.a)(Ke),Object(b.a)(Ke),Nt,Pt,mt)}else{const Pt={ignoreHighlightWords:Object(Oe.a)(Ve,we),ignoreAtEveryoneMentions:!0,ignoreAtChannelMentions:!0,ignoreAtHereMentions:!0},Nt=Object(x.g)(Ke);Ye=Object(te.a)(Ve,Object(f.a)(Ke),Object(b.a)(Ke),Nt,Pt,mt)}return Ye}v(Te,"checkMessageAndUpdateMentions");function Me(){return ue.a?Object(J.i)()?!0:Object(me.a)()==="granted":!1}v(Me,"checkPermission");function Ne(){return!(!ue.a||Me()||Object(me.a)()==="denied")}v(Ne,"shouldShowPermissionButton");function He(Ke,Ve,Be){if(!(!Object(Z.a)()||Object(O.o)(Ke))||Object(F.m)(Ve.text))return!1;const we=Object(W.m)(Ke,Be.id);if(Object(p.g)(Ke)){var mt;const{viewSet:Nt,windowId:Ze}=Object(_e.a)(Ke);return Ze?(we||Be.id===(Nt==null||(mt=Nt.primary)===null||mt===void 0?void 0:mt.id))&&Object(j.a)(Ke)&&!Ve._hidden_reply:!1}if(!Object(M.k)(Ke))return!1;const Pt=Object(d.a)(Ke);return(we||Be.id===Pt)&&Object(j.a)(Ke)&&!Ve._hidden_reply}v(He,"shouldSuppressNotificationInActiveChannel");function Et(Ke,Ve){return!!Object(B.Y)(Ve)}v(Et,"shouldSuppressXWSNotification");function Je(Ke){const Ve=Object(ie.getStateForClientStore)(),Be=Object(x.g)(Ke),Ye=Object(Ae.getFocusedWorkspace)(Ve),we=Object(Ae.getWorkspaceOrgId)(Ve,Be),mt=Object(Ae.getWorkspaceOrgId)(Ve,Ye);return we&&we===mt&&Ye!==Be}v(Je,"shouldSuppressXWSNotificationForLater");function qe(Ke,Ve,Be){if(!(!Object(Z.a)()||Object(O.o)(Ke))||Object(F.m)(Ve.text))return!1;let we=Object(O.l)(Ke);if(Object(p.g)(Ke)){var mt;const{viewSet:Xe,windowId:Ct}=Object(_e.a)(Ke);if(!Ct)return!1;we=Xe==null||(mt=Xe.secondary)===null||mt===void 0?void 0:mt.id}else if(!Object(M.k)(Ke))return!1;if(Object(Z.a)()&&we!=="thread"||!Object(Z.a)()&&we!=="convo")return!1;const Pt=Object(O.d)(Ke),{channelId:Nt,threadTs:Ze}=Object(Ee.a)(Object(t.a)(Pt));return Ve.thread_ts&&Be.id===Nt&&Ve.thread_ts===Ze}v(qe,"shouldSuppressNotificationInActiveThread");function ke(Ke,Ve,Be){const Ye=Ve.thread_ts,we=Be.id;if(!Object(se.D)(Ke,we))return!1;const Pt=Object(se.a)(Ke,we);if(!(Pt!=null&&Pt.canvasThreadTs)||Pt.canvasThreadTs!==Ye||!Object(re.a)(we))return!1;const Nt=Object(X.n)(Ke,{huddleId:Pt.id});return Nt===h.b.WINDOW_COMPACT?Object(X.a)(Ke,{huddleId:Pt.id,surface:Nt}):Object(X.B)(Ke)}v(ke,"shouldSuppressNotificationInActiveHuddle");function rt(Ke,Ve,Be){return Object(B.pb)(Be)?!!(Object(a.a)(Ve,"upload")&&Object(r.a)(Object(a.a)(Ve,"files",[]),{mode:"email"})):!1}v(rt,"shouldSuppressEmailShared");function pe(Ke,Ve,Be){return!(!Object(f.m)(Ke)||Object(le.a)({state:Ke,msg:Ve,channelId:Be.id,userId:Ve.user}))}v(pe,"shouldSuppressOversizedMention");function je(Ke,Ve){return Object(Q.d)(Ke,"hide_user_v1")==="on"&&Object(g.b)(Ke,Ve.user)}v(je,"shouldSupressHiddenSender");function xe(Ke){return ze(Ke)&&st(Ke)}v(xe,"areGlobalNotificationsDisabled");function ze(Ke){return Object(E.e)(Ke,"global_desktop")==="nothing"}v(ze,"areGlobalDesktopNotificationsDisabled");function st(Ke){return Object(E.e)(Ke,"global_mobile")==="nothing"}v(st,"areGlobalMobileNotificationsDisabled");function ct(Ke,Ve){if(Ve!=="desktop"&&Ve!=="mobile")throw new Error(`Platform must be desktop or mobile: ${Ve}`);return Object(E.e)(Ke,`global_${Ve}`)}v(ct,"getGlobalChannelNotifySetting");function dt(Ke,Ve){if(Ve!=="desktop"&&Ve!=="mobile")throw new Error(`Platform must be desktop or mobile: ${Ve}`);const Be=Object(E.e)(Ke,`global_mpdm_${Ve}`);return Be||(ct(Ke,Ve)==="nothing"?"nothing":"everything")}v(dt,"getGlobalDmNotifySetting");function bt(Ke,Ve,Be){const we=Object(y.c)(Ke,Ve,!1);return!we||Object(Y.j)(we)||Object(B.Y)(we)?null:Object(Y.i)(we)||Object(Y.g)(we)?dt(Ke,Be):ct(Ke,Be)}v(bt,"getDefaultNotifySetting");function Ft(Ke,Ve,Be){if(Be!=="desktop"&&Be!=="mobile")throw new Error(`Platform must be desktop or mobile: ${Be}`);const Ye=!1,we=Object(y.c)(Ke,Ve,Ye);if(!we||Object(Y.j)(we)||Object(B.Y)(we))return null;const mt=Object(E.d)(Ke,Ve,Be);return mt||bt(Ke,Ve,Be)}v(Ft,"getCalculatedNotifySetting");function Bt(Ke,Ve){return Ft(Ke,Ve,"desktop")}v(Bt,"getCalculatedDesktopNotifySetting");function at(Ke,Ve){return Ft(Ke,Ve,"mobile")}v(at,"getCalculatedMobileNotifySetting");function Ht(Ke,Ve){return bt(Ke,Ve,"desktop")}v(Ht,"getDefaultDesktopNotifySetting");function Wt(Ke,Ve){return bt(Ke,Ve,"mobile")}v(Wt,"getDefaultMobileNotifySetting");function yt(Ke){const Ve=Object(E.a)(Ke),Be=Object(c.a)(Ve),Ye=Object(o.a)(Be.map(Nt=>{const Xe=Object(y.c)(Ke,Nt,!1);if(!Xe||Object(Y.j)(Xe)||Object(B.Y)(Xe)||!Object(B.db)(Xe)||Object(U.a)(Xe))return null;const Ct=Ve[Nt];if(Ct.muted||Ct.suppress_at_channel)return Xe;const G=Ht(Ke,Nt),de=Wt(Ke,Nt);return G!==Ct.desktop||de!==Ct.mobile?Xe:null})),[we,mt]=Object(i.a)(Ye,Y.i),Pt=Object(l.a)(mt,"name").concat(we);return Object(u.a)(Pt,"id")}v(yt,"getChannelsWithOverrides");function Xt(){const Ke=Me();let Ve=null;if(!Ke){const Be=Object(me.a)();Be==="denied"?Ve="not_allowed":Be==="default"?Ve="not_yet_allowed":Ve="impossible"}return{notificationsEnabled:Ke,notificationDisabledType:Ve}}v(Xt,"getNotificationPermissionState");function cn(){const{notificationDisabledType:Ke}=Xt();return Ke}v(cn,"getNotificationDisabledType");function mn(Ke){const Ve=Object(E.e)(Ke,"desktop_sound");if(!Ve)return;const Be=Object(q.e)();return Be[Ve]&&Be[Ve].url}v(mn,"getNewMsgSoundPath");function In(Ke){return pt.apply(this,arguments)}v(In,"canPlaySound");function pt(){return pt=Object(s.coroutine)(function*(Ke){return!(Object(ge.db)()&&!(yield Object(ge.qc)())||Object(m.u)(Ke,"mute_sounds")||Object(ce.b)(Ke))}),pt.apply(this,arguments)}v(pt,"_canPlaySound");function Tt(Ke){return!(Object(m.u)(Ke,"mute_sounds")||Object(ce.b)(Ke))}v(Tt,"canPlayMessageSound");function Lt(Ke){const Ve=Object(m.u)(Ke,"huddle_invite_sound_v2");if(!Ve)return;const Be={...Object(q.e)(),...Object(q.d)()};return Be[Ve]&&Be[Ve].url}v(Lt,"getHuddleInviteSoundPath");function gt(Ke){const Ve=Object(E.e)(Ke,"desktop_sound"),Be=Ve??"b2.mp3",Ye=Object(q.e)();return Ye[Be]&&Ye[Be].url}v(gt,"getSavedItemReminderSoundPath");function it(){let Ke=arguments.length>0&&arguments[0]!==void 0?arguments[0]:oe.d;const Ve=Object(q.e)();return Ve[Ke]&&Ve[Ke].url}v(it,"getMessageSentSoundPath");function ft(){let Ke=arguments.length>0&&arguments[0]!==void 0?arguments[0]:oe.b;const Ve=Object(q.e)();return Ve[Ke]&&Ve[Ke].url}v(ft,"getMessageArrivedSoundPath")},cxOH:function(K,n,e){"use strict";var s=e("9oTK"),t=e.n(s),a=e("zmn3"),r=e("SQ0V"),c=e("KciV"),o=e("x5lL"),i=e("sJV7"),l=e("agxk"),u=e("Ufq/"),f=e("Lsnb"),d=e("beVI"),O=e("SZMM"),m=e("3REw"),g=e("S4vl"),E=e("kBpe"),p=e("frgx"),h=e("pedv");function _(I){let{teamId:C,viewId:y,incomingInviteUserId:P,outgoingInviteUserIds:T,mediaBackendType:S}=I;Object(g.b)(!(P&&T),"Cannot both invite and be invited at the same time");let A="calls";S===m.h.FREE_WILLY&&(A="free-willy");const R=`/${A}/${C}/${y}`;return P?`${R}/${P}`:T?`${R}/${T.join(",")}`:R}v(_,"buildCallsUrl");const b=Object(r.c)("Open the gantry call window",function(){var I=Object(s.coroutine)(function*(C,y,P){let{viewId:T,incomingInvite:S,outgoingInvites:A,queryStringParams:R,windowOptions:x,readinessCheck:M,teamId:j}=P;const W=y(),U=!M,B=Object(o.f)(W,T),Y=Object(d.g)(W);try{const z=yield C(Object(O.h)({pathname:_({teamId:j||Y.id,viewId:T,incomingInviteUserId:S?S.userId:void 0,outgoingInviteUserIds:A?Object(a.a)(A,"userId"):void 0,mediaBackendType:B&&B.mediaBackendType?B.mediaBackendType:m.h.FREE_WILLY}),queryStringParams:{...Object(i.a)(),...R,outgoingRingStartedOnParent:U.toString().toLowerCase(),...Object(E.i)()&&S?void 0:{intentToJoinTimeMs:String(Date.now())},isCallsTracingDisabled:Object(u.h)(W).toString().toLowerCase()},windowOptions:{...x,backgroundColor:"#000000",useContentSize:!0}})),F=z.getId();if(Object(f.c)(F,z),C(Object(o.v)({id:T,windowId:F,incomingInvite:S})),Object(m.t)(T)&&C(Object(h.a)({roomId:T,windowId:F})),U){const V=A&&A.length&&!A.some(L=>L.response!==void 0);z&&!S&&V&&C(Object(o.y)())}return C(Object(o.C)(z.getId())),C(Object(l.a)(z)),z.onClose=()=>{C(Object(p.a)())},z}catch(z){return Object(c.c)("OPEN-CALL-WINDOW").error("Error launching calls gantry app",z),null}});return function(C,y,P){return I.apply(this,arguments)}}());b.meta={name:"createThunk",key:"createThunkopenCallWindow",description:"Open the gantry call window"},n.a=b},"d/FZ":function(K,n,e){"use strict";var s=e("+l5E"),t=e("ssje"),a=e("JQ3U");const r=v(c=>!!(Object(s.db)(c)||Object(s.Z)(c)||Object(a.a)(c)||Object(t.a)(c)),"isNonHumanMessage");n.a=r},d3B0:function(K,n,e){"use strict";e.d(n,"a",function(){return r}),e.d(n,"c",function(){return o}),e.d(n,"f",function(){return l}),e.d(n,"g",function(){return u}),e.d(n,"d",function(){return f}),e.d(n,"b",function(){return d}),e.d(n,"h",function(){return E}),e.d(n,"i",function(){return I}),e.d(n,"e",function(){return C});var s=e("F294"),t=e("G4qV"),a=e("AFNo");const r=Object(a.c)(y=>y.device.devices);r.meta={name:"createSelector",key:"createSelectorgetDevices",description:y=>y.device.devices};const c=Object(a.c)(y=>y.device.sinkDevice);c.meta={name:"createSelector",key:"createSelectorgetSinkDevice",description:y=>y.device.sinkDevice};const o=Object(a.c)((y,P)=>Object(s.a)(y.device.devices[P]));o.meta={name:"createSelector",key:"createSelectorgetPreferredDevice",description:(y,P)=>Object(s.a)(y.device.devices[P])};const i=Object(a.c)(y=>y.device.isMicrophoneBlockedByBrowser);i.meta={name:"createSelector",key:"createSelectorisMicrophoneBlockedByBrowser",description:y=>y.device.isMicrophoneBlockedByBrowser};const l=Object(a.c)(y=>y.device.isCameraBlockedByBrowser);l.meta={name:"createSelector",key:"createSelectorisCameraBlockedByBrowser",description:y=>y.device.isCameraBlockedByBrowser};const u=Object(t.a)(r,i,(y,P)=>m(y)&&!P),f=Object(t.a)(r,l,(y,P)=>g(y)&&!P),d=Object(t.a)(r,l,(y,P)=>{var T,S;if(!(!g(y)||P))return y==null||(T=y.camera)===null||T===void 0||(S=T[0])===null||S===void 0?void 0:S.id}),O=Object(a.c)(y=>y.device.previewStreams);O.meta={name:"createSelector",key:"createSelectorgetPreviewStreams",description:y=>y.device.previewStreams};function m(y){return y.microphone.length>0}v(m,"isMicrophoneAvailableInDevices");function g(y){return y.camera.length>0}v(g,"isCameraAvailableInDevices");function E(y){return y.microphone.some(P=>P.label!==void 0)}v(E,"isMicrophoneAvailableForCapturingInDevices");function p(y){return y.camera.some(P=>P.label!==void 0)}v(p,"isCameraAvailableForCapturingInDevices");function h(y){return y.output.some(P=>P.label!==void 0)}v(h,"isOutputAvailableForDisplay");const _=Object(a.c)(y=>y.device.isMicrophoneBlockedBySystem);_.meta={name:"createSelector",key:"createSelectorisMicrophoneBlockedBySystem",description:y=>y.device.isMicrophoneBlockedBySystem};const b=Object(a.c)(y=>y.device.isCameraBlockedBySystem);b.meta={name:"createSelector",key:"createSelectorisCameraBlockedBySystem",description:y=>y.device.isCameraBlockedBySystem};const I=Object(t.a)(i,_,(y,P)=>y||P),C=Object(t.a)(l,b,(y,P)=>y||P)},dDdQ:function(K,n,e){"use strict";e.d(n,"a",function(){return P}),e.d(n,"b",function(){return T});var s=e("SQ0V"),t=e("TBTs"),a=e("sypA"),r=e("xgMo"),c=e("s4P+"),o=e("ASxg"),i=e("6KE7"),l=e("7LcW"),u=e("Tkkt"),f=e("3fJ/"),d=e("k2tO"),O=e("C3NW"),m=e("pQQO"),g=e("sjOx"),E=e("kZhr");const p=Object(s.c)("Clear query session data on session expiration",S=>{S(Object(f.E)({querySessionTimeoutId:null})),S(Object(O.a)()),S(Object(u.g)({windowId:E.a})),S(Object(m.c)({query:"",inputId:g.w.OMNISWITCHER})),S(Object(m.c)({query:"",inputId:g.w.SEARCH_PAGE})),S(Object(f.m)({windowId:E.a}))});p.meta={name:"createThunk",key:"createThunkclearQuerySessionData",description:"Clear query session data on session expiration"};const h=Object(s.c)("Clear search session data on session expiration",S=>{S(Object(f.I)({sessionTimeoutId:null})),S(Object(d.a)()),S(Object(u.g)({windowId:E.a})),S(Object(m.c)({query:"",inputId:g.w.OMNISWITCHER})),S(Object(m.c)({query:"",inputId:g.w.SEARCH_PAGE})),S(Object(f.m)({windowId:E.a}))});h.meta={name:"createThunk",key:"createThunkclearSearchSessionData",description:"Clear search session data on session expiration"};var _=e("zqr2"),b=e("qQXB"),I=e("HKlo"),C=e("gpLM"),y=e("rZ8V");const P=Object(s.c)("Cear session timeouts on search mount",(S,A)=>{const R=A();Object(t.z)(R)?(Object(c.a)({getState:A}).info(o.a,"Navigated to search page and session is already active: Clearing timer"),S(Object(a.a)())):Object(r.b)(R)||(Object(c.a)({getState:A}).info(o.a,"Navigated to search page without active session: Starting new session"),S(Object(i.b)())),Object(t.i)(R)||(S(Object(f.r)({lastOpenMethod:"history"})),S(Object(b.n)({method:"history"}))),S(Object(C.c)({focusKey:I.c.PAGE_CONTENT_SEARCH_PAGE,forceFocus:!0}))});P.meta={name:"createThunk",key:"createThunkclearSessionTimeoutsOnSearchMount",description:"Cear session timeouts on search mount"};const T=Object(s.c)("Start session timeouts on search unmount",(S,A)=>{const R=A(),M=Object(y.g)(R)?g.w.SEARCH_PAGE:g.w.OMNISWITCHER;if(!Object(l.a)(R,M))return;Object(c.a)({getState:A}).info(o.a,"Navigated from search page with active query: Starting timeout to clear session");const j=setTimeout(()=>{const U=A();Object(t.v)(U)===j&&S(p())},_.a);S(Object(f.E)({querySessionTimeoutId:j}));const W=setTimeout(()=>{const U=A();Object(t.z)(U)===W&&S(h())},_.b);S(Object(f.I)({sessionTimeoutId:W})),S(Object(b.h)()),S(Object(f.r)({lastOpenMethod:null}))});T.meta={name:"createThunk",key:"createThunkstartSessionTimeoutsOnSearchUnmount",description:"Start session timeouts on search unmount"}},dHXs:function(K,n,e){"use strict";var s=e("q1tI"),t=e.n(s),a=e("/MKj"),r=e("ifKl"),c=e("nNoG"),o=e("ktUG"),i=e("d/Q8"),l=e("Trx9"),u=e("qDEp"),f=e("Tevt"),d=e("rAyg");function O(){return O=Object.assign||function(p){for(var h=1;h<arguments.length;h++){var _=arguments[h];for(var b in _)Object.prototype.hasOwnProperty.call(_,b)&&(p[b]=_[b])}return p},O.apply(this,arguments)}v(O,"_extends");const m=new c.b("trials"),g=v(p=>{let{children:h,reason:_,context:b,promoType:I,promoSubtype:C,onClick:y,onRequestComplete:P=r.a,useLink:T,refToForward:S,...A}=p;const R=Object(a.useDispatch)(),[x,M]=Object(s.useState)(!1),[j,W]=Object(s.useState)(!1),U=Object(s.useCallback)(()=>{j||(W(!0),M(!1),R(Object(i.a)({reason:_,campaignType:I,campaignSubType:C,context:b})).then(z=>{let{trial_expiration_date:F}=z;P({trialExpirationDate:F}),F||(M(!0),W(!1))}))},[R,_,I,C,b,P,j]),B=v(()=>{U(),y==null||y()},"buttonOnClick"),Y=T?t.a.createElement(f.a,O({ref:S},A,{onClick:B}),h):t.a.createElement(u.c,O({ref:S},A,{onClick:B,loading:j}),h);return t.a.createElement(l.a,{eventId:o.EventId.UPGRDEXP_TRIAL_START,clogImpression:!0},Y,x&&t.a.createElement(d.a,{icon:"exclamation-circle",shouldAutoFade:!1,iconClassName:"align_self_start"},m.t("Something went wrong. Try again later.",{fallbackHash:"248cbe7878bb83237a17ae6abe635e6251a6517a",fallbackHashNs:"channel_modal"})))},"TrialStartCTABase");g.displayName="TrialStartCTABase";const E=t.a.forwardRef((p,h)=>t.a.createElement(g,O({},p,{refToForward:h})));n.a=E},dKQz:function(K,n,e){"use strict";e.d(n,"B",function(){return t}),e.d(n,"T",function(){return a}),e.d(n,"O",function(){return r}),e.d(n,"S",function(){return c}),e.d(n,"e",function(){return o}),e.d(n,"f",function(){return i}),e.d(n,"g",function(){return l}),e.d(n,"r",function(){return u}),e.d(n,"s",function(){return f}),e.d(n,"q",function(){return d}),e.d(n,"a",function(){return O}),e.d(n,"Y",function(){return m}),e.d(n,"ab",function(){return g}),e.d(n,"c",function(){return E}),e.d(n,"b",function(){return p}),e.d(n,"M",function(){return h}),e.d(n,"Q",function(){return _}),e.d(n,"j",function(){return b}),e.d(n,"k",function(){return I}),e.d(n,"G",function(){return C}),e.d(n,"t",function(){return y}),e.d(n,"H",function(){return P}),e.d(n,"K",function(){return T}),e.d(n,"V",function(){return S}),e.d(n,"i",function(){return A}),e.d(n,"bb",function(){return R}),e.d(n,"d",function(){return x}),e.d(n,"X",function(){return j}),e.d(n,"Z",function(){return W}),e.d(n,"W",function(){return U}),e.d(n,"C",function(){return Y}),e.d(n,"w",function(){return z}),e.d(n,"F",function(){return F}),e.d(n,"E",function(){return V}),e.d(n,"D",function(){return L}),e.d(n,"N",function(){return ee}),e.d(n,"R",function(){return te}),e.d(n,"I",function(){return le}),e.d(n,"o",function(){return Oe}),e.d(n,"L",function(){return he}),e.d(n,"P",function(){return Ee}),e.d(n,"J",function(){return ge}),e.d(n,"p",function(){return J}),e.d(n,"m",function(){return H}),e.d(n,"n",function(){return Z}),e.d(n,"v",function(){return q}),e.d(n,"z",function(){return k}),e.d(n,"U",function(){return se}),e.d(n,"l",function(){return re}),e.d(n,"x",function(){return X}),e.d(n,"u",function(){return w}),e.d(n,"A",function(){return ce}),e.d(n,"y",function(){return ie}),e.d(n,"h",function(){return oe});var s=e("DwFS");const t=Object(s.a)("Set flag to indicate if Huddles is enabled.");t.meta={name:"createAction",key:"createActionsetIsHuddlesEnabled",description:"Set flag to indicate if Huddles is enabled."};const a=Object(s.a)("Stores audio reference that will be passed to SDK");a.meta={name:"createAction",key:"createActionstoreHuddlesAudioRef",description:"Stores audio reference that will be passed to SDK"};const r=Object(s.a)("Start video shariing");r.meta={name:"createAction",key:"createActionstartVideoSharing",description:"Start video shariing"};const c=Object(s.a)("Stop video shariing");c.meta={name:"createAction",key:"createActionstopVideoSharing",description:"Stop video shariing"};const o=Object(s.a)("Connect to Huddle media server");o.meta={name:"createAction",key:"createActionconnectToHuddlesMediaServer",description:"Connect to Huddle media server"};const i=Object(s.a)("Leave the huddle and stop media transmission");i.meta={name:"createAction",key:"createActiondisconnectHuddlesFromMediaServer",description:"Leave the huddle and stop media transmission"};const l=Object(s.a)("Enable or disable local microphone");l.meta={name:"createAction",key:"createActionenableSelfMicrophone",description:"Enable or disable local microphone"};const u=Object(s.a)("Send an emoji reaction");u.meta={name:"createAction",key:"createActionsendReactionMessage",description:"Send an emoji reaction"};const f=Object(s.a)("Send a sticky emoji reaction");f.meta={name:"createAction",key:"createActionsendStickyReactionMessage",description:"Send a sticky emoji reaction"};const d=Object(s.a)("Send a mute request");d.meta={name:"createAction",key:"createActionsendMuteRequestMessage",description:"Send a mute request"};const O=Object(s.a)("Insert new active huddle reference with teamId channelId, etc.");O.meta={name:"createAction",key:"createActionaddActiveHuddleReference",description:"Insert new active huddle reference with teamId channelId, etc."};const m=Object(s.a)("Upsert existing active huddle reference");m.meta={name:"createAction",key:"createActionupdateActiveHuddleReference",description:"Upsert existing active huddle reference"};const g=Object(s.a)("Set active huddle invite");g.meta={name:"createAction",key:"createActionupsertInvite",description:"Set active huddle invite"};const E=Object(s.a)("Clear invite for given channel ID");E.meta={name:"createAction",key:"createActionclearInviteForChannelId",description:"Clear invite for given channel ID"};const p=Object(s.a)("Clear all invites regardless of channel ID");p.meta={name:"createAction",key:"createActionclearAllInvites",description:"Clear all invites regardless of channel ID"};const h=Object(s.a)("Start screen share for current user with given mediaSourceId");h.meta={name:"createAction",key:"createActionstartScreenShare",description:"Start screen share for current user with given mediaSourceId"};const _=Object(s.a)("Stop screen share for current user");_.meta={name:"createAction",key:"createActionstopScreenShare",description:"Stop screen share for current user"};const b=Object(s.a)("Notify peers of changes to isDrawEnabled");b.meta={name:"createAction",key:"createActionpropagateDrawEnabled",description:"Notify peers of changes to isDrawEnabled"};const I=Object(s.a)("Enabled annotations for screen share host");I.meta={name:"createAction",key:"createActionpropagateHostDrawEnabled",description:"Enabled annotations for screen share host"};const C=Object(s.a)("Notify middleware that a new preferred device was selected");C.meta={name:"createAction",key:"createActionsetNewPreferredDevice",description:"Notify middleware that a new preferred device was selected"};const y=Object(s.a)("Notify middleware that automatic gain control setting has changed");y.meta={name:"createAction",key:"createActionsetAGC",description:"Notify middleware that automatic gain control setting has changed"};const P=Object(s.a)("Notify middleware that noise suppression setting has changed");P.meta={name:"createAction",key:"createActionsetNoiseSuppression",description:"Notify middleware that noise suppression setting has changed"};const T=Object(s.a)("Notify middleware that video background setting has changed");T.meta={name:"createAction",key:"createActionsetVideoBackgroundEffect",description:"Notify middleware that video background setting has changed"};const S=Object(s.a)("Toggle global keyboard shortcut support for muting / unmuting a huddle");S.meta={name:"createAction",key:"createActiontoggleGlobalMuteShortcut",description:"Toggle global keyboard shortcut support for muting / unmuting a huddle"};const A=Object(s.a)("Internal store update for mini-panel visibility");A.meta={name:"createAction",key:"createActioninternalUpdateMiniPanelVisibility",description:"Internal store update for mini-panel visibility"};const R=Object(s.a)("Upsert join credentials for a channel");R.meta={name:"createAction",key:"createActionupsertJoinCredentialsForChannel",description:"Upsert join credentials for a channel"};const x=Object(s.a)("Clear the join credentials for a specific channel");x.meta={name:"createAction",key:"createActionclearJoinCredentialsForChannel",description:"Clear the join credentials for a specific channel"};const M=Object(s.a)("Store and/or remote push Chime meeting events");M.meta={name:"createAction",key:"createActionhandleMeetingEvents",description:"Store and/or remote push Chime meeting events"};const j=Object(s.a)("Transition from the prejoin state to started");j.meta={name:"createAction",key:"createActiontransitionFromPrejoinToStarted",description:"Transition from the prejoin state to started"};const W=Object(s.a)("Action to update the store to either show or hide discovery banner");W.meta={name:"createAction",key:"createActionupdateDiscoveryBannerVisibility",description:"Action to update the store to either show or hide discovery banner"};const U=Object(s.a)("Toggle Video");U.meta={name:"createAction",key:"createActiontoggleVideo",description:"Toggle Video"};const B=Object(s.a)("Reporting CPU and memory usage stats");B.meta={name:"createAction",key:"createActionreportAppMetrics",description:"Reporting CPU and memory usage stats"};const Y=Object(s.a)("Set true to specify that lounge music is playing, false otherwise.");Y.meta={name:"createAction",key:"createActionsetIsLoungeMusicPlaying",description:"Set true to specify that lounge music is playing, false otherwise."};const z=Object(s.a)("Set current focused view type");z.meta={name:"createAction",key:"createActionsetContentView",description:"Set current focused view type"};const F=Object(s.a)("Set last huddle start time");F.meta={name:"createAction",key:"createActionsetLastHuddleStartTs",description:"Set last huddle start time"};const V=Object(s.a)("Set last huddle end time");V.meta={name:"createAction",key:"createActionsetLastHuddleEndTs",description:"Set last huddle end time"};const L=Object(s.a)("Set last huddle duration time");L.meta={name:"createAction",key:"createActionsetLastHuddleDurationTs",description:"Set last huddle duration time"};const Q=Object(s.a)("Toggle video background filter");Q.meta={name:"createAction",key:"createActiontoggleVideoBackgroundFilter",description:"Toggle video background filter"};const ee=Object(s.a)("Starts the video preview on the video element using the specified device");ee.meta={name:"createAction",key:"createActionstartVideoPreview",description:"Starts the video preview on the video element using the specified device"};const te=Object(s.a)("Stops the video preview on the video element");te.meta={name:"createAction",key:"createActionstopVideoPreview",description:"Stops the video preview on the video element"};const le=Object(s.a)("Identifies which screenshare is being viewed in the mini-player");le.meta={name:"createAction",key:"createActionsetScreenshareActivePanel",description:"Identifies which screenshare is being viewed in the mini-player"};const Oe=Object(s.a)("Resets the store");Oe.meta={name:"createAction",key:"createActionresetClientHuddleStore",description:"Resets the store"};const he=Object(s.a)("Start the canvas jukebox using content share");he.meta={name:"createAction",key:"createActionstartContentShareJukebox",description:"Start the canvas jukebox using content share"};const Ee=Object(s.a)("Stop the canvas jukebox");Ee.meta={name:"createAction",key:"createActionstopJukebox",description:"Stop the canvas jukebox"};const ge=Object(s.a)("Set selected song");ge.meta={name:"createAction",key:"createActionsetSongPlaying",description:"Set selected song"};const J=Object(s.a)("Send jukebox active song");J.meta={name:"createAction",key:"createActionsendJukeboxActiveSong",description:"Send jukebox active song"};const H=Object(s.a)("Request a jukebox song");H.meta={name:"createAction",key:"createActionrequestJukeboxSong",description:"Request a jukebox song"};const Z=Object(s.a)("Request the jukebox stops");Z.meta={name:"createAction",key:"createActionrequestJukeboxStop",description:"Request the jukebox stops"};const q=Object(s.a)("Sets whether the active invite card in the sidebar can be rendered");q.meta={name:"createAction",key:"createActionsetCanRenderActiveInviteCardInSidebar",description:"Sets whether the active invite card in the sidebar can be rendered"};const k=Object(s.a)("Sets whether the huddle window of an active huddle is in focus or not.");k.meta={name:"createAction",key:"createActionsetIsHuddleWindowFocused",description:"Sets whether the huddle window of an active huddle is in focus or not."};const se=Object(s.a)("Sets whether the huddle window of an active huddle is open or not.");se.meta={name:"createAction",key:"createActiontoggleAllIncomingVideo",description:"Sets whether the huddle window of an active huddle is open or not."};const re=Object(s.a)("Reports to the SDK when the client is offline");re.meta={name:"createAction",key:"createActionreportClientOffline",description:"Reports to the SDK when the client is offline"};const X=Object(s.a)("Sets whether audio only mode is active or not.");X.meta={name:"createAction",key:"createActionsetIsAudioOnlyMode",description:"Sets whether audio only mode is active or not."};const w=Object(s.a)("Sets whether the camera was enabled when audio only mode was activated.");w.meta={name:"createAction",key:"createActionsetAudioOnlyModeCameraWasEnabled",description:"Sets whether the camera was enabled when audio only mode was activated."};const ce=Object(s.a)("Sets whether the huddle window of an active huddle is open or not.");ce.meta={name:"createAction",key:"createActionsetIsHuddleWindowOpen",description:"Sets whether the huddle window of an active huddle is open or not."};const ie=Object(s.a)("True if huddle mini player is hidden, false if shown.");ie.meta={name:"createAction",key:"createActionsetIsHuddleMiniPlayerHidden",description:"True if huddle mini player is hidden, false if shown."};const oe=Object(s.a)("Asks for video permission and enumerates devices");oe.meta={name:"createAction",key:"createActioninitVideoPermission",description:"Asks for video permission and enumerates devices"};const me=Object(s.a)("Execute readiness check for audio input");me.meta={name:"createAction",key:"createActionexecuteHuddlesAudioInputReadinessCheck",description:"Execute readiness check for audio input"};const ue=Object(s.a)("Execute readiness check for audio output");ue.meta={name:"createAction",key:"createActionexecuteHuddlesAudioOutputReadinessCheck",description:"Execute readiness check for audio output"};const _e=Object(s.a)("Execute readiness check for video input");_e.meta={name:"createAction",key:"createActionexecuteHuddlesVideoInputReadinessCheck",description:"Execute readiness check for video input"};const be=Object(s.a)("Execute readiness check for a particular camera resolution");be.meta={name:"createAction",key:"createActionexecuteHuddlesCameraResolutionReadinessCheck",description:"Execute readiness check for a particular camera resolution"};const Ae=Object(s.a)("Execute readiness check for audio connectivity");Ae.meta={name:"createAction",key:"createActionexecuteHuddlesAudioConnectivityReadinessCheck",description:"Execute readiness check for audio connectivity"};const Ce=Object(s.a)("Execute readiness check for video connectivity");Ce.meta={name:"createAction",key:"createActionexecuteHuddlesVideoConnectivityReadinessCheck",description:"Execute readiness check for video connectivity"};const De=Object(s.a)("Execute readiness check for content share connectivity");De.meta={name:"createAction",key:"createActionexecuteHuddlesContentShareConnectivityReadinessCheck",description:"Execute readiness check for content share connectivity"};const Pe=Object(s.a)("Execute readiness check for network UDP connectivity");Pe.meta={name:"createAction",key:"createActionexecuteHuddlesNetworkUDPConnectivityReadinessCheck",description:"Execute readiness check for network UDP connectivity"};const Ue=Object(s.a)("Execute readiness check for network TCP connectivity");Ue.meta={name:"createAction",key:"createActionexecuteNetworkTCPConnectivityReadinessCheck",description:"Execute readiness check for network TCP connectivity"}},dNN9:function(K,n,e){"use strict";var s=e("q1tI"),t=e.n(s),a=e("iuhU"),r=e("YUBf");const c=v(o=>{let{children:i,className:l}=o;return t.a.createElement(r.e,{className:Object(a.default)("p-upgrades_modal__content_section",l)},i)},"ModalBody");n.a=c},dUj5:function(K,n,e){"use strict";e.d(n,"a",function(){return t}),e.d(n,"b",function(){return a});var s=e("DwFS");const t=Object(s.a)("Add a placeholder to the store");t.meta={name:"createAction",key:"createActionaddPlaceholder",description:"Add a placeholder to the store"};const a=Object(s.a)("Remove a placeholder from the store by client_msg_id");a.meta={name:"createAction",key:"createActionremovePlaceholder",description:"Remove a placeholder from the store by client_msg_id"}},dVMU:function(K,n,e){"use strict";e.d(n,"a",function(){return t});var s=e("ktUG"),t;(function(i){i.Start="/",i.Find="/find",i.Create="/create",i.CreateNew="/createnew",i.Confirm="/confirm",i.Check="/check",i.FindAgain="/find_again",i.Email="/email",i.Error="/error",i.ConfirmationCode="/confirmemail",i.DomainClaimed="/domain",i.Landing="/landing",i.ConfirmTrust="/confirmtrust",i.IgnoreInvite="/ignoreinvite",i.SignIn="/signin",i.Workspaces="/workspaces",i.SharedInviteLoggedOut="/sharedinvite",i.SharedInviteLanding="/sharedinvitelanding",i.SelectWorkspaces="/select",i.AppleSignIn="/apple",i.AddName="/addname"})(t||(t={}));var a;(function(i){i.SharedChannelInviteAlreadyAccepted="invite_used",i.SharedChannelInviteInvlidLink="invalid_link",i.DirectMessageInviteInactive="inactive_invite",i.Generic="generic"})(a||(a={}));const r={[t.Start]:s.UiStep.START_WITH_A_WORKSPACE,[t.Create]:s.UiStep.CREATE_NEW_WORKSPACE,[t.CreateNew]:s.UiStep.CREATE_NEW_WORKSPACE,[t.Find]:s.UiStep.FIND_YOUR_WORKSPACE,[t.Check]:s.UiStep.CHECK_YOUR_EMAIL,[t.FindAgain]:s.UiStep.FIND_YOUR_WORKSPACE,[t.Email]:s.UiStep.ENTER_EMAIL,[t.Confirm]:s.UiStep.ENTER_EMAIL,[t.Error]:s.UiStep.GET_STARTED_ERROR,[t.ConfirmationCode]:s.UiStep.GET_STARTED_CONFIRM_CODE,[t.DomainClaimed]:s.UiStep.GET_STARTED_DOMAIN_CLAIMED,[t.Landing]:s.UiStep.GET_STARTED_CREATOR_LANDING,[t.SignIn]:s.UiStep.GET_STARTED_SIGN_IN,[t.Workspaces]:s.UiStep.GET_STARTED_WORKSPACES,[t.SharedInviteLoggedOut]:s.UiStep.SHARED_INVITE_LOGGED_OUT,[t.SharedInviteLanding]:s.UiStep.SHARED_INVITE_LANDING,[t.SelectWorkspaces]:s.UiStep.GET_STARTED_SELECT_WORKSPACES,[t.AppleSignIn]:s.UiStep.GET_STARTED_APPLE_SIGN_IN,[t.ConfirmTrust]:s.UiStep.GET_STARTED_CONFIRM_TRUST,[t.IgnoreInvite]:s.UiStep.GET_STARTED_IGNORE_INVITE,[t.AddName]:s.UiStep.GET_STARTED_ADD_NAME};var c;(function(i){i.Invited="invited",i.Joined="joined",i.Whitelisted="whitelisted"})(c||(c={}));var o;(function(i){i.Email="email",i.GoogleIdToken="google_id_token",i.Apple="apple_id_token"})(o||(o={}))},dbKp:function(K,n,e){K.exports=e.p+"slackbot_fancy_20-e2d1dcb.png"},dedX:function(K,n,e){"use strict";var s=e("n3tL"),t=e("Kyco"),a=e("I3Q6");const r={serviceOnline:!0,lastSocketActivity:0,clientOnline:!0,lastClientConnection:Date.now(),lastSocketConnection:0},c=Object(t.b)({},r,{storeKey:"connectivity",persistenceEnabled:!1}).on(a.b,(o,i)=>({...o,serviceOnline:!!i})).on(a.c,o=>({...o,lastSocketActivity:Date.now()})).on(a.a,(o,i)=>({...o,clientOnline:!!i,lastClientConnection:Date.now()})).on(a.d,o=>({...o,lastSocketConnection:Date.now()}));c.propTypes={serviceOnline:s.default.bool.isRequired,lastSocketActivity:s.default.number.isRequired,clientOnline:s.default.bool.isRequired,lastClientConnection:s.default.number.isRequired,lastSocketConnection:s.default.number},n.a=c},dkXW:function(K,n,e){"use strict";e.d(n,"a",function(){return d}),e.d(n,"b",function(){return p}),e.d(n,"d",function(){return b}),e.d(n,"c",function(){return C});var s=e("9oTK"),t=e("TSHB"),a=e("6LPd"),r=e("XhtD"),c=e("1myf"),o=e("3Hq1");function i(){return"0.1"}v(i,"getDevicePrefsVersion");var l=e("WCSk"),u=e("KciV");const f="devicePrefs";function d(y){return Object(t.a)(y,P=>P[0])}v(d,"getPreferredDevices");function O(){return{camera:[],microphone:[l.c,l.b],output:[l.c,l.b]}}v(O,"createDefaultDevicePriority");function m(){return{camera:[],microphone:[],output:[]}}v(m,"createDefaultDeviceExtendedPriority");function g(){return{enableAGC:!0,enableNoiseSuppression:!0}}v(g,"createDefaultAudioPrefs");function E(){return{enableHD:!1,mirrorVideo:!1,effect:void 0}}v(E,"createDefaultVideoPrefs");function p(){const y=localStorage.getItem(f),P={version:i(),deviceIdPriorities:O(),deviceIdPrioritiesExtended:m(),video:E(),audio:g()};if(!y)return P;try{const T=JSON.parse(y);return T.version!==i()?P:{...P,...T}}catch(T){return Object(u.c)("DEVICES").error("Could not read device preferences from localStorage: ",T.message),P}}v(p,"readDevicePrefs");function h(y){return _.apply(this,arguments)}v(h,"updateDeviceIdPrioritiesExtended");function _(){return _=Object(s.coroutine)(function*(y){const P={},T=yield navigator.mediaDevices.enumerateDevices();for(const S of Object.keys(y)){const A=[],R=S;for(let x=0;x<y[R].length;x++){const M=y[R][x],j=T.find(W=>W.deviceId===M);j&&A.push({id:j.deviceId,groupId:j.groupId,label:j.label,labelWithoutId:Object(l.g)(j.label)})}P[S]=A}return P}),_.apply(this,arguments)}v(_,"_updateDeviceIdPrioritiesExtended");function b(y){return I.apply(this,arguments)}v(b,"writeDevicePrefs");function I(){return I=Object(s.coroutine)(function*(y){try{const P=yield h(y.deviceIdPriorities),T={...y,deviceIdPrioritiesExtended:P};localStorage.setItem(f,JSON.stringify(T))}catch(P){Object(u.c)("DEVICES").error("Could not write device preferences to localStorage: ",P.message)}}),I.apply(this,arguments)}v(I,"_writeDevicePrefs");function C(y,P){let T=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[];const S=Object(a.a)(P,Object(r.a)(P.length)),A=Object(a.a)(T.map(R=>R.labelWithoutId),Object(r.a)(T.length));return Object(c.a)(y,R=>{const x=Object(l.g)(R.label);return Object(o.a)(S[R.deviceId])?Object(o.a)(A[x])?1/0:A[x]:S[R.deviceId]})}v(C,"sortDevicesByPriorityWithFallback")},dl0f:function(K,n,e){"use strict";var s=e("q1tI"),t=e.n(s),a=e("nNoG"),r=e("3bXy"),c=e("CTEJ");const o=new a.b("user_group_token"),{Unknown:i,Nonexistent:l}=r.a,{Small:u,Medium:f}=r.b,d=v(g=>{let{invert:E=!1,size:p=u,type:h=i,subtler:_=!1}=g;const b=h===i?o.t("Loading..."):o.t("Private user group info");if(p===f){const I="\xA0\xA0\xB7\xA0\xA0";return t.a.createElement("div",{className:"p-browse_page_user_group_entity--missing"},t.a.createElement("div",null,t.a.createElement(c.a,{tooltip:b,isNonExistent:h===l,size:"small",invert:E})," ",t.a.createElement(c.a,{tooltip:b,isNonExistent:h===l,size:"small",invert:E})),t.a.createElement("div",null,t.a.createElement(c.a,{tooltip:b,isNonExistent:h===l,size:"small",invert:E}),I,t.a.createElement(c.a,{tooltip:b,isNonExistent:h===l,size:"large",invert:E})))}return t.a.createElement(c.a,{tooltip:b,isNonExistent:h===l,size:"random",subtler:_,invert:E})},"MissingUserGroup");d.displayName="MissingUserGroup";var O=d,m=n.a=O},do0Y:function(K,n,e){"use strict";e.d(n,"a",function(){return t}),e.d(n,"b",function(){return a});var s=e("DwFS");const t=Object(s.a)("Overwrites our store of the teams in a given externally shared channel");t.meta={name:"createAction",key:"createActionupdateExtSharedChannelTeams",description:"Overwrites our store of the teams in a given externally shared channel"};const a=Object(s.a)("Updates whether or not disconnect is in progress for the given team");a.meta={name:"createAction",key:"createActionupdateIsDisconnectInProgressForTeam",description:"Updates whether or not disconnect is in progress for the given team"}},dqLn:function(K,n,e){"use strict";var s=e("n3tL"),t=e("DwFS");const a=Object(t.a)("(noop) Remove a pinned item via side-effect");a.meta={name:"createAction",key:"createActionremovePinnedItemCircular",description:"(noop) Remove a pinned item via side-effect"},a.propTypes=s.default.shape({item:s.default.object.isRequired,channelId:s.default.string.isRequired}).isRequired,n.a=a},dqxO:function(K,n,e){"use strict";e.d(n,"a",function(){return t}),e.d(n,"o",function(){return a}),e.d(n,"l",function(){return i}),e.d(n,"b",function(){return l}),e.d(n,"d",function(){return u}),e.d(n,"h",function(){return f}),e.d(n,"j",function(){return d}),e.d(n,"f",function(){return O}),e.d(n,"m",function(){return m}),e.d(n,"i",function(){return g}),e.d(n,"k",function(){return E}),e.d(n,"e",function(){return p}),e.d(n,"g",function(){return h}),e.d(n,"n",function(){return _}),e.d(n,"c",function(){return b});var s=e("DwFS");const t=Object(s.a)("Add an array of devices to the device store");t.meta={name:"createAction",key:"createActionclobberDevices",description:"Add an array of devices to the device store"};const a=Object(s.a)("Set the sink device for media elements");a.meta={name:"createAction",key:"createActionsetSinkDevice",description:"Set the sink device for media elements"};const r=Object(s.a)("Notify middleware of a new preferred device");r.meta={name:"createAction",key:"createActionsetNewPreferredDevice",description:"Notify middleware of a new preferred device"};const c=Object(s.a)("");c.meta={name:"createAction",key:"createActionrequestPreviewStreamForDeviceId",description:""};const o=Object(s.a)("Stop preview streams");o.meta={name:"createAction",key:"createActionstopPreviewStreams",description:"Stop preview streams"};const i=Object(s.a)("");i.meta={name:"createAction",key:"createActionsetPreviewStreams",description:""};const l=Object(s.a)("Get screen thumbnails");l.meta={name:"createAction",key:"createActiongetScreenThumbnails",description:"Get screen thumbnails"};const u=Object(s.a)("The browser has blocked getUserMedia for cameras");u.meta={name:"createAction",key:"createActionsetCameraIsBlockedByBrowser",description:"The browser has blocked getUserMedia for cameras"};const f=Object(s.a)("The browser has blocked getUserMedia for microphones");f.meta={name:"createAction",key:"createActionsetMicrophoneIsBlockedByBrowser",description:"The browser has blocked getUserMedia for microphones"};const d=Object(s.a)("The browser has granted getUserMedia access for microphones");d.meta={name:"createAction",key:"createActionsetMicrophoneIsGrantedByBrowser",description:"The browser has granted getUserMedia access for microphones"};const O=Object(s.a)("The browser has granted getUserMedia access for cameras");O.meta={name:"createAction",key:"createActionsetCameraIsGrantedByBrowser",description:"The browser has granted getUserMedia access for cameras"};const m=Object(s.a)("The browser has blocked getUserMedia for screen recording");m.meta={name:"createAction",key:"createActionsetScreenRecordingIsBlockedByBrowser",description:"The browser has blocked getUserMedia for screen recording"};const g=Object(s.a)("The system has blocked getUserMedia access for microphones");g.meta={name:"createAction",key:"createActionsetMicrophoneIsBlockedBySystem",description:"The system has blocked getUserMedia access for microphones"};const E=Object(s.a)("The system has granted getUserMedia access for microphones");E.meta={name:"createAction",key:"createActionsetMicrophoneIsGrantedBySystem",description:"The system has granted getUserMedia access for microphones"};const p=Object(s.a)("The system has blocked getUserMedia access for cameras");p.meta={name:"createAction",key:"createActionsetCameraIsBlockedBySystem",description:"The system has blocked getUserMedia access for cameras"};const h=Object(s.a)("The system has granted getUserMedia access for cameras");h.meta={name:"createAction",key:"createActionsetCameraIsGrantedBySystem",description:"The system has granted getUserMedia access for cameras"};const _=Object(s.a)("The system has blocked screen recording");_.meta={name:"createAction",key:"createActionsetScreenshareRecordingIsBlockedBySystem",description:"The system has blocked screen recording"};const b=Object(s.a)("Check for system media access");b.meta={name:"createAction",key:"createActionmaybeCheckSystemMediaAccess",description:"Check for system media access"};const I=Object(s.a)("Notify middleware that automatic gain control setting has changed");I.meta={name:"createAction",key:"createActionsetAGC",description:"Notify middleware that automatic gain control setting has changed"};const C=Object(s.a)("Notify middleware that noise suppression setting has changed");C.meta={name:"createAction",key:"createActionsetNoiseSuppression",description:"Notify middleware that noise suppression setting has changed"}},e33t:function(K,n,e){"use strict";e.d(n,"a",function(){return c});var s=e("SQ0V"),t=e("Q7We"),a=e("8Xig"),r=e("rRi9");const c=Object(s.c)("Remove ephemeral messages by type, channel, and/or thread",(o,i,l)=>{const u=i();Object(a.a)(u,l).forEach(d=>{o(Object(t.a)({channelId:d.channel,ts:d.ts||""})),o(Object(r.b)({ephemeralType:l.ephemeralType,channelId:d.channel,ts:d.ts}))})});c.meta={name:"createThunk",key:"createThunkremoveEphemeralMsgsByType",description:"Remove ephemeral messages by type, channel, and/or thread"}},e4zL:function(K,n,e){"use strict";e.d(n,"g",function(){return t}),e.d(n,"f",function(){return a}),e.d(n,"c",function(){return r}),e.d(n,"h",function(){return c}),e.d(n,"a",function(){return o}),e.d(n,"d",function(){return i}),e.d(n,"e",function(){return l}),e.d(n,"b",function(){return u});var s=e("DwFS");const t=Object(s.a)("Mark emoji collections as fetch (or not fetched");t.meta={name:"createAction",key:"createActionsetEmojiCollectionsFetched",description:"Mark emoji collections as fetch (or not fetched"};const a=Object(s.a)("Set and replace emoji collections");a.meta={name:"createAction",key:"createActionsetEmojiCollections",description:"Set and replace emoji collections"};const r=Object(s.a)("Signals that an emoji collection has been installed");r.meta={name:"createAction",key:"createActioninstallEmojiCollection",description:"Signals that an emoji collection has been installed"};const c=Object(s.a)("Signals that an emoji collection has been uninstalled");c.meta={name:"createAction",key:"createActionuninstallEmojiCollection",description:"Signals that an emoji collection has been uninstalled"};const o=Object(s.a)("Signals that badges should be added post-install");o.meta={name:"createAction",key:"createActionbadgeEmojiCollection",description:"Signals that badges should be added post-install"};const i=Object(s.a)("Signals that the message input badge should be removed");i.meta={name:"createAction",key:"createActionremoveEmojiCollectionInputBadge",description:"Signals that the message input badge should be removed"};const l=Object(s.a)("Signals that the message tab badge should be removed from the emoji picker");l.meta={name:"createAction",key:"createActionremoveEmojiCollectionTabBadge",description:"Signals that the message tab badge should be removed from the emoji picker"};const u=Object(s.a)("Increments emoji click count");u.meta={name:"createAction",key:"createActionincrementEmojiClickCount",description:"Increments emoji click count"}},e7up:function(K,n,e){"use strict";var s=e("q1tI"),t=e.n(s),a=e("iuhU"),r=e("3bXy");const c=v(i=>{let{className:l,isNonExistent:u=!1,size:f,subtler:d=!1,invert:O=!1}=i;const{Unknown:m,Nonexistent:g}=r.a,E=u?g:m,p=Object(s.useMemo)(()=>({height:f,width:f}),[f]);return t.a.createElement("span",{className:Object(a.default)(l,"c-missing_icon",`c-missing_icon--${E}`,{"c-missing_icon--unknown_inverted":E===m&&O,"c-missing_icon--non_existent_inverted":E===g&&O,"c-missing_icon--subtler":d}),style:p})},"MissingIcon");c.displayName="MissingIcon";var o=n.a=c},eH51:function(K,n,e){"use strict";e.d(n,"a",function(){return s});function s(t){var a;return!t||t.metaKey||t.ctrlKey?!1:((a=t.key)===null||a===void 0?void 0:a.length)===1}v(s,"isPrintableKeyEvent")},eLtP:function(K,n,e){"use strict"},eWGC:function(K,n,e){"use strict";e.d(n,"b",function(){return f});var s=e("s4P+"),t=e("SQ0V"),a=e("0Wfr"),r=e("VUud"),c=e("Lgge"),o=e("uVZW");const i=Object(t.c)("record an event (e.g. dismissal, impression, etc) on a megaphone notification",(d,O,m)=>{const{notificationName:g,...E}=m,p=Object(s.b)();var h;const _=(h=m.reason)!==null&&h!==void 0?h:"record-notification-event";if(!g)return p.error(o.d,"notificationName is required when dispatching recordNotificationEvent."),c.a.resolve();const b={notification:g,...E,reason:_};return d(Object(r.a)(b))});i.meta={name:"createThunk",key:"createThunkrecordNotificationEvent",description:"record an event (e.g. dismissal, impression, etc) on a megaphone notification"};const l=6e4,u=!1,f=Object(a.a)(i,l,u);n.a=i},eb8l:function(K,n,e){K.exports=e.p+"slackbot_frowny_72-6d65a0f.png"},edAB:function(K,n,e){"use strict";e.r(n),e.d(n,"test",function(){return Ee});var s=e("9oTK"),t=e("Omjo"),a=e("4p6e"),r=e("duHP"),c=e("2nP+"),o=e("fkOA"),i=e("25cE"),l=e("Lizi"),u=e("vjDR"),f=e("+StW"),d=e("j77i"),O=e("4Lve"),m=e("heB0"),g=e("M1tZ"),E=e("4Y9P"),p=e("vLEI"),h=e("qvC3"),_=e("KLFD");function b(ge){return I.apply(this,arguments)}v(b,"setupOtherTeamsToBoot");function I(){return I=Object(s.coroutine)(function*(ge){let{contextualInfo:J}=ge;return{contextualInfo:J,otherTeamsToBoot:Object(_.b)()}}),I.apply(this,arguments)}v(I,"_setupOtherTeamsToBoot");var C=e("Xm7Q"),y=e("6y7U"),P=e("lhZz"),T=e("LqbL");function S(ge,J){var H,Z,q;const k=Object(P.getClientStoreInstance)();k.dispatch(Object(T.setWorkspaceFailedToBoot)(ge)),!(J==null||(H=J.data)===null||H===void 0)&&H.active_migration&&(k.dispatch(Object(T.setWorkspaceIsMigrating)(ge)),Object(t.c)("BOOT",`(${ge}) Workspace boot failed due to active migration`)),(J==null||(Z=J.data)===null||Z===void 0?void 0:Z.error)==="accesslimited"&&k.dispatch(Object(T.setWorkspaceIsAccessLimited)(ge)),(J==null||(q=J.data)===null||q===void 0?void 0:q.error)==="two_factor_setup_required"&&k.dispatch(Object(T.setWorkspaceNeeds2FASetup)(ge))}v(S,"markTeamBootFailed");var A=e("9j5s");function R(ge,J){if(!ge)throw new Error("Missing team id, cannot thin boot team.");S(ge,J),Object(A.a)(ge)}v(R,"thinBootTeam");const x={[C.a.API]:M,[C.a.BOOT_APP]:j,[C.a.BOOT_TEAM]:W,[C.a.DEFAULT]:U};function M(ge,J,H){const Z=H==null?void 0:H.teamId;if(window.isReloading){Object(t.b)("BOOT",`(${Z}) Ongoing reload detected during Gantry API error handler; Halting error handler.`);return}C.c[C.a.API](ge,J,{...H,shouldDisplayErrorView:!1}),R(Z,ge),J!=null&&J.isForegroundTeam&&Promise.all([e.e("gantry-v2-vendors-async"),e.e("client-boot-styles"),e.e("gantry-v2-async-client-render-client")]).then(e.bind(null,"sj3v")).then(q=>{let{renderClient:k}=q;Object(l.a)(),k()})}v(M,"handleApiError");function j(ge,J,H){Object(l.a)(),C.c[C.a.BOOT_APP](ge,J,H)}v(j,"handleBootAppError");function W(ge,J,H){if(H){const{teamId:Z}=H;Object(y.a)(Z)}Object(l.a)(),C.c[C.a.BOOT_TEAM](ge,J,H)}v(W,"handleBootTeamError");function U(ge,J,H){Object(l.a)(),C.c[C.a.DEFAULT](ge,J,H)}v(U,"handleDefaultError");const B={handleApiError:M,handleBootAppError:j,handleBootTeamError:W,handleDefaultError:U};var Y=e("Fvov"),z=e("vfQU");const F=function(){var ge=Object(s.coroutine)(function*(){z.E.isAvailable()&&Object(z.E)().includes("DisableServiceWorker")&&(yield Object(Y.d)())});return v(function(){return ge.apply(this,arguments)},"disableServiceWorkerForClientConfig")}();var V=e("kBpe");const L=function(){var ge=Object(s.coroutine)(function*(){Object(V.c)()===V.a.SAFARI&&(yield Object(Y.d)())});return v(function(){return ge.apply(this,arguments)},"disableServiceWorkerForSafari")}(),Q=function(){var ge=Object(s.coroutine)(function*(){yield L(),yield F()});return v(function(){return ge.apply(this,arguments)},"maybeDisableServiceWorker")}();var ee=e("t4eE"),te=e("mard"),le=e("k+ri"),Oe=e("hhWw");Q(),window.boot_html__initial_boot_duration=Date.now()-window.sonic_boot__phase_1_5__start,window.boot_render_start=Date.now();function he(ge){return ge.registerConfig({isPersistenceEnabled:!0,isMultiTeamEnabled:Object(ee.b)()}),ge.registerErrorHandlers(x),ge.registerDynamicImportFns({data:()=>Promise.all([e.e("gantry-v2-vendors-async"),e.e("gantry-v2-vendors-async-client"),e.e("client-boot-styles"),e.e("gantry-v2-async-client-boot-data")]).then(e.bind(null,"cEwB")),apis:()=>e.e("gantry-v2-async-client-boot-apis").then(e.bind(null,"CTVb")),render:()=>Promise.all([e.e("gantry-v2-vendors-async"),e.e("gantry-v2-vendors-async-client"),e.e("client-boot-styles"),e.e("gantry-v2-async-client-boot-render")]).then(e.bind(null,"AMiY")),deferred:()=>Promise.all([e.e("gantry-v2-vendors-async"),e.e("gantry-v2-vendors-async-client"),e.e("client-boot-styles"),e.e("gantry-v2-async-client-boot-deferred")]).then(e.bind(null,"tnTT"))}),ge.registerInitialApiCalls({experimentData:m.g,featureFlagData:m.h,clientBootData:g.a,viewData:E.b,allEnterpriseData:p.a}),Object(h.b)(ge),ge.hooks.beforeDynamicImportsStart.tap("Render Placeholder",function(){var J=Object(s.coroutine)(function*(H){let{contextualInfo:Z}=H;return Object(l.b)({teamId:Z.teamOrEnterpriseBootId,showTeamSwitcher:Object(O.a)().length>1}),{contextualInfo:Z}});return function(H){return J.apply(this,arguments)}}()),ge.hooks.afterDynamicImportsStart.tap("Set routes",function(){var J=Object(s.coroutine)(function*(H){let{contextualInfo:Z}=H;return Object(i.D)(),{contextualInfo:Z}});return function(H){return J.apply(this,arguments)}}()),ge.hooks.afterDynamicImportsStart.tap("Set up client store",function(){var J=Object(s.coroutine)(function*(H){let{contextualInfo:Z}=H;return Object(u.a)(Z.teamId),{contextualInfo:Z}});return function(H){return J.apply(this,arguments)}}()),ge.hooks.afterDynamicImportsStart.tap("Register route listeners",function(){var J=Object(s.coroutine)(function*(H){let{contextualInfo:Z}=H;return Object(f.a)(),{contextualInfo:Z}});return function(H){return J.apply(this,arguments)}}()),ge.hooks.afterDynamicImportsStart.tap("Update last active team ID in localConfig",function(){var J=Object(s.coroutine)(function*(H){let{contextualInfo:Z}=H;const{teamId:q}=Z;return q?(q!==Object(d.f)("lastActiveTeamId")&&Object(d.v)("lastActiveTeamId",q),{contextualInfo:Z}):{contextualInfo:Z}});return function(H){return J.apply(this,arguments)}}()),ge.hooks.beforeInitializeTeam.tap("Halt further boot if client is reloading",function(){var J=Object(s.coroutine)(function*(H){let{contextualInfo:Z}=H;return window.isReloading?(Object(t.b)("BOOT",`(${Z.teamId}) Ongoing reload detected; Cancelling boot.`),Object(te.a)()):{contextualInfo:Z}});return function(H){return J.apply(this,arguments)}}()),ge.hooks.beforeInitializeTeam.tap("Set tokens",function(){var J=Object(s.coroutine)(function*(H){let{contextualInfo:Z}=H;return Object(c.a)({contextualInfo:Z})});return function(H){return J.apply(this,arguments)}}()),ge.hooks.beforeInitializeTeam.tap(" Kick off objectStore fetch for minChannelUpdated ",function(){var J=Object(s.coroutine)(function*(H){let{contextualInfo:Z}=H;return Object(Oe.b)()&&Object(le.a)({teamId:Z.teamId,userId:Z.userId}),{contextualInfo:Z}});return function(H){return J.apply(this,arguments)}}()),ge.hooks.setupMultiTeam.tap("Set up all other teams to boot if in multi team mode",b),ge.run()}if(v(he,"boot"),!Object(a.a)()){const ge=Object(r.a)(o.a.CLIENT_V2);he(ge)}const Ee={boot:he}},eh0M:function(K,n,e){K.exports=e.p+"slackbot_neutral_512-dcb310c.png"},f24l:function(K,n,e){"use strict";e.d(n,"a",function(){return k});var s=e("9oTK"),t=e("OtLZ"),a=e("fujP"),r=e("SQ0V"),c=e("lhZz"),o=e("gPPH"),i=e("2VFn"),l=e("Z66H"),u=e("9sUu"),f=e("W1L4"),d=e("BHiC"),O=e("Qttk"),m=e("Zbwg"),g=e("hgYl"),E=e("xcHN"),p=e("+kJ4"),h=e("1/Be"),_=e("v7mh"),b=e("l1I1"),I=e("5IZy"),C=e("ktUG"),y=e("eUIW"),P=e("E3dU"),T=e("Fqb6"),S=e("Sl1j"),A=e("Yauy"),R=e("WUSA"),x=e("nNoG"),M=e("sjEp"),j=e("Kenk"),W=e("i9jZ"),U=e("ohbk"),B=e("NV6F"),Y=e("O86Y"),z=e("oYx9"),F=e("tE34");const V=Object(r.c)("Resets the forceSingleColumnMode flag while navigate within the child window",(se,re,X)=>{let{windowId:w,prevViewSet:ce,nextViewSet:ie}=X;var oe,me,ue,_e;if(!w)return;const be=ce==null||(oe=ce.primary)===null||oe===void 0?void 0:oe.id,Ae=ce==null||(me=ce.secondary)===null||me===void 0?void 0:me.id,Ce=ie==null||(ue=ie.primary)===null||ue===void 0?void 0:ue.id,De=ie==null||(_e=ie.secondary)===null||_e===void 0?void 0:_e.id;be===Ce&&Ae===De||(se(Object(z.c)({windowId:w,metadata:{forceSingleColumnMode:!1}})),se(Object(F.a)({})))});V.meta={name:"createThunk",key:"createThunkmaybeResetSingleColumnMode",description:"Resets the forceSingleColumnMode flag while navigate within the child window"};var L=e("37+L"),Q=e("uiBO"),ee=e("CnKg");const te=Object(r.c)("Calculates the final viewset when navigating in single column mode",(se,re,X)=>{let{id:w,viewType:ce,params:ie,previousViewSet:oe}=X;if(w==="thread"&&(ie!=null&&ie.threadId)){const{channelId:Ae}=Object(E.a)(ie.threadId);return{[i.h.Primary]:{id:Ae,viewType:Q.a.Channel},[i.h.Secondary]:{id:"thread",params:ie,viewType:Q.a.Thread}}}if(w==="comment_thread"&&ie){const Ae=ie.entityId,Ce=Object(ee.i)(Ae).fileIdOrQuipThreadId,De=Ce?Object(P.e)(re(),Ce):void 0,Ue=!!De?Object(L.n)(Ae,De):Object(L.i)({id:Ae});return{[i.h.Primary]:Ue,[i.h.Secondary]:{id:"comment_thread",params:ie,viewType:Q.a.QuipCommentThread}}}if(w==="activity_history"&&(ie!=null&&ie.entityId))return{[i.h.Primary]:{id:ie==null?void 0:ie.entityId,viewType:Q.a.Channel},[i.h.Secondary]:{id:"activity_history",params:ie,viewType:Q.a.QuipActivityHistory}};if(w==="rimeto_profile"&&(ie!=null&&ie.memberId)){var me;if(oe==null||(me=oe.primary)===null||me===void 0?void 0:me.id)return{[i.h.Primary]:oe==null?void 0:oe.primary,[i.h.Secondary]:{id:"rimeto_profile",params:ie,viewType:Q.a.Profile}}}if(w==="user_groups"&&(ie!=null&&ie.userGroupId)){var ue;if(oe==null||(ue=oe.primary)===null||ue===void 0?void 0:ue.id)return{[i.h.Primary]:oe==null?void 0:oe.primary,[i.h.Secondary]:{id:"user_groups",params:ie,viewType:Q.a.UserGroup}}}if(w==="files"&&(ie!=null&&ie.fileId)){var _e;if(oe==null||(_e=oe.primary)===null||_e===void 0?void 0:_e.id)return{[i.h.Primary]:oe==null?void 0:oe.primary,[i.h.Secondary]:{id:"files",params:ie,viewType:Q.a.FileDetails}}}if(w==="channel_canvas"&&(ie!=null&&ie.entityId)&&(ie!=null&&ie.channelId)){var be;if(oe==null||(be=oe.primary)===null||be===void 0?void 0:be.id)return{[i.h.Primary]:oe==null?void 0:oe.primary,[i.h.Secondary]:{id:"channel_canvas",params:ie,viewType:Q.a.ChannelCanvas}}}return{[i.h.Primary]:{id:w,params:ie,viewType:ce}}});te.meta={name:"createThunk",key:"createThunkbuildViewSetForSingleColumnMode",description:"Calculates the final viewset when navigating in single column mode"};var le=e("SQbT"),Oe=e("tF1a"),he=e("QKJg"),Ee=e("gXfi");const ge=new x.b("client"),J=Object(t.a)(g.a,"activity"),H=v(se=>{let{id:re}=se;return Object(m.a)(re)||Object(b.a)(re)||["help","whats_new","shortcuts"].includes(re)?i.h.Primary:J.includes(re)||re==="comment_thread"||re==="comment_stream"||re==="activity_history"||re==="channel_canvas"?i.h.Secondary:i.h.Primary},"getTargetContainerForNavigationRequest"),Z=Object(r.c)("Convert a user ID into a DM ID if eligible, else return the original ID",function(){var se=Object(s.coroutine)(function*(re,X,w){let{id:ce}=w;if(!Object(y.a)(ce))return ce;const ie=Object(P.l)(X(),ce);if(ie&&Object(A.jb)(ie))return ie.id;const{channel:oe}=yield re(Object(S.r)({memberIds:[ce],reason:"navigateInContainer/maybeConvertUserIdToDMId"}));return oe?(re(Object(T.a)({channel:oe})),oe.id):ce});return function(re,X,w){return se.apply(this,arguments)}}());Z.meta={name:"createThunk",key:"createThunkmaybeConvertUserIdToDMId",description:"Convert a user ID into a DM ID if eligible, else return the original ID"};const q=Object(r.c)("Announces to screen readers that the secondary view has changed",(se,re,X)=>{let{viewSet:w,windowId:ce,containerType:ie}=X;const oe=re();if(!Object(M.a)(oe))return;const ue=Object(_.d)(oe,{container:i.h.Secondary,windowId:ce});let _e;const be=w==null?void 0:w[i.h.Secondary];ie===i.h.Primary&&!Object(a.a)(be)?_e=Object(a.a)(ue)?ge.t("Secondary view has opened"):ge.t("Secondary view has changed"):Object(a.a)(be)&&!Object(a.a)(ue)&&(_e=ge.t("Secondary view has closed")),_e&&se(Object(R.a)({message:_e,uuid:Object(o.a)()}))});q.meta={name:"createThunk",key:"createThunkmaybeAnnounceSecondary",description:"Announces to screen readers that the secondary view has changed"};const k=Object(r.c)("Call the navigate method of a specific ViewContainer",function(){var se=Object(s.coroutine)(function*(re,X,w){let{windowId:ce,id:ie,viewType:oe,params:me,uiState:ue,options:_e,shouldNavigateInContext:be=!0,sourceContainer:Ae}=w;const Ce=X();if(!Object(l.a)(Ce))return;if(!Object(le.a)(Ce,ie)){re(Object(U.a)({id:ie}));return}if((Object(m.a)(ie)||ie==="thread")&&!Object(W.a)(Ce)){if(Object(m.a)(ie)&&re(Object(U.a)({id:ie})),ie==="thread"){const{channelId:qe,threadTs:ke}=Object(E.a)(me==null?void 0:me.threadId),rt=Object(Y.g)(Ce);qe&&ke&&rt&&re(Object(B.r)({teamId:rt,channelId:qe,threadTs:ke}))}return}const De=Object(d.a)(Ce,{windowId:ce}),Pe=Object(_.e)(Ce,{windowId:ce});let Ue=null;if(!be){re(Object(O.a)());return}Object(I.a)({state:Ce}).track(C.EventId.CLIENT_WINDOWING,{contexts:{ui_context:{action:C.UiAction.CLICK,step_variant:"navigate",ui_properties:{display_name:oe}}}});const ne=yield re(Z({id:ie})),Ie=H({id:ne}),Te={[Ie]:ue};if((De==null?void 0:De.columnMode)===u.c.Single)Ue=re(te({id:ne,viewType:oe,params:me,previousViewSet:Pe}));else{var Ne;const qe=(Ne=_e==null?void 0:_e.preserveExistingSecondaryView)!==null&&Ne!==void 0?Ne:!1;if(Ie===i.h.Secondary){var He;const ke=Object(_.d)(Ce,{container:i.h.Primary,windowId:ce});if(!(ke!=null&&ke.id))return;const rt={id:ne,params:me,viewType:oe};Ae===i.h.Secondary&&(Pe!=null&&Pe[i.h.Secondary])&&(rt.prev=Pe[i.h.Secondary]),Ue=re(Object(h.a)({viewSet:{[i.h.Primary]:ke,[i.h.Secondary]:rt},windowId:ce,preserveExistingSecondaryView:qe,dangerouslyOverrideRouting:me==null?void 0:me.dangerouslyOverrideRouting}));const pe=Ue[i.h.Primary],je=Object(A.Z)(Ce,pe==null?void 0:pe.id)&&(pe==null||(He=pe.params)===null||He===void 0?void 0:He.tabId)===Oe.a.App;if(rt.id==="thread"&&(me!=null&&me.highlightRoot)&&!Object(a.a)(pe)&&!je){var Et;const{threadTs:xe}=Object(E.a)(rt==null||(Et=rt.params)===null||Et===void 0?void 0:Et.threadId);Ue[i.h.Primary].params={startTs:xe},Te[i.h.Primary]={...Te[i.h.Primary],[Ue[i.h.Primary].id]:{highlightTs:xe}}}}if(!Ue){const ke={id:ne,params:me,viewType:oe};Ue=re(Object(h.a)({viewSet:{[i.h.Primary]:ke},windowId:ce,preserveExistingSecondaryView:qe,dangerouslyOverrideRouting:me==null?void 0:me.dangerouslyOverrideRouting}))}}if(re(q({viewSet:Ue,windowId:ce,containerType:Ie})),!Ue)return;const Je=Object(_.j)(Ce,{windowId:ce,viewSet:Ue})?Ee.a:f.a;re(Je({windowId:ce,viewSet:Ue}));for(const[qe,ke]of Object.entries(Te))ke&&re(Object(he.h)({windowId:ce,container:qe,uiState:ke}));re(V({windowId:ce,prevViewSet:Pe,nextViewSet:Ue})),re(Object(p.a)({closeAll:!0})),Object(c.dispatchForClientStore)(Object(j.a)())});return function(re,X,w){return se.apply(this,arguments)}}());k.meta={name:"createThunk",key:"createThunknavigateInContainer",description:"Call the navigate method of a specific ViewContainer"}},f9ip:function(K,n,e){"use strict";e.d(n,"a",function(){return u}),e.d(n,"c",function(){return f}),e.d(n,"e",function(){return d}),e.d(n,"d",function(){return O}),e.d(n,"h",function(){return m}),e.d(n,"i",function(){return g}),e.d(n,"b",function(){return E}),e.d(n,"f",function(){return p}),e.d(n,"g",function(){return h});var s=e("G4qV"),t=e("P9LH"),a=e("dmdh"),r=e("QIbu"),c=e("LZPg");const o=v((_,b)=>{var I;return b?(I=Object(a.c)(_,b))===null||I===void 0?void 0:I.localUpdated:null},"getFileLocalUpdated"),i=v(_=>Object(c.o)(_),"getFileId"),l=v(_=>Object(s.a)([b=>Object(c.q)(b),b=>{const I=i(b);return o(b,I)},b=>{const I=i(b);return I?Object(a.c)(b,I):null}],(b,I,C)=>C!=null&&C.id&&(b===r.a.CanvasFile||b===r.a.QuipFile)?_(C):null),"selectFromUpdatedFile"),u=l(_=>_),f=l(_=>_==null?void 0:_.id),d=l(_=>_?Object(t.l)(_):!1),O=l(_=>_?Object(t.sb)(_):!1),m=l(_=>_?Object(t.H)(_):null),g=l(_=>_==null?void 0:_.user),E=l(_=>!!_),p=l(_=>_?Object(t.m)(_):!1),h=l(_=>_?Object(t.s)(_):!1)},fBqv:function(K,n,e){"use strict";var s=e("HaWS"),t=e("q53k"),a=e("NK7x"),r=e("ctiz"),c=e("miM7"),o=e("E97Y"),i=e("Qrgz");function l(u,f){if(Object(o.g)(f))return!1;const d=Object(t.a)(u,"who_can_at_channel",f);if(d==="admin"||d==="owner")return!0;const O=Object(t.a)(u,"who_can_at_everyone",f);if(Object(o.n)(f)&&(O==="admin"||O==="owner")||Object(c.a)(f)&&!Object(i.e)(u))return!0;const m=Object(r.g)(u,f.id),g=Object(a.b)(u,f.id);return m==="everything"&&!g?!0:!Object(s.d)(u,f.id,"suppress_at_channel")}v(l,"canChannelHaveAtChannelMentions"),n.a=l},fDBt:function(K,n,e){"use strict";e.d(n,"a",function(){return t});let s=v(class{get(r){return r in this.heights?this.heights[r]:this.DEFAULT_HEIGHT}set(r,c){this.heights[r]=c}getValidity(r){return r in this.heights}constructor({DEFAULT_HEIGHT:r=50,heights:c}={}){this.heights=c||{},this.DEFAULT_HEIGHT=r}},"HeightCache"),t=v(class extends s{getValidity(r){return!!this.validity[r]}set(r,c){super.set(r,c),this.validity[r]=!0}invalidate(r){if(!r){this.validity={};return}delete this.validity[r]}constructor(r){super(r),this.validity={}}},"ValidityHeightCache")},fEGR:function(K,n,e){"use strict";var s=e("q1tI"),t=e.n(s),a=e("LrWZ"),r=e("yIs4"),c=e("oTSI"),o=e("ifKl"),i=e("WIr4"),l=e("iuhU"),u=e("kBpe"),f=e("Lgge"),d=e("MYuU"),O=e("i9y5"),m=e("2K8U"),g=e("tZRe"),E=e("oEDn"),p=e("yxNq"),h=e("FRd1"),_=e("ktUG"),b=e("9C2q"),I=e("1ufr");function C(){return C=Object.assign||function(x){for(var M=1;M<arguments.length;M++){var j=arguments[M];for(var W in j)Object.prototype.hasOwnProperty.call(j,W)&&(x[W]=j[W])}return x},C.apply(this,arguments)}v(C,"_extends");const y={onChange:{action:_.UiAction.ENTER_TEXT}},P={onClick:{action:_.UiAction.CLICK}},T=new Array(95).fill("").map((x,M)=>String.fromCharCode(M+32)),S=v(x=>t.a.createElement("span",C({className:"c-multi_select_input__space"},x),"\xA0"),"makeSpace");let A=v(class extends s.PureComponent{componentDidMount(){this.inputHeight=this.getInputHeight(),this.props.focusOnMount&&this.focus(),this.attachMutationObserver()}componentDidUpdate(M){var j;const W=M.selectState,{selectState:U,onTokenSelect:B,onSelectedItemsChange:Y,setSelectState:z,hasKeyboardFocus:F,isTokenEditable:V}=this.props,{selectedOptions:L,isExpanded:Q,isDisabled:ee}=U,te=this.getSelectedTokenIndexes();if(this.doesMutationObserverExist()||(this.attachMutationObserver(),this.focus()),this.props.focusOnMount&&M.focusOnMount!==this.props.focusOnMount&&this.focus(),((j=U.filterQuery)===null||j===void 0?void 0:j.length)&&U.filterQuery!==W.filterQuery&&this.caretPosInFilterQuery!==-1&&this.updateCaretPosInFilterQuery(),this.possiblyRepositionOptionsList(W),this.haveSelectedTokens()&&!Object(p.a)(W.selectedTokenIndexes,te)&&L&&(te==null||te.forEach(ge=>{B&&B(L[ge])}),Q&&z(()=>({isExpanded:!1})),this.scrollSelectedTokenIntoView()),W.isDisabled&&!ee&&this.moveCursorAndScrollToFilterQuery(),!Object(p.a)(W.selectedOptions,L,3)){if(Y&&typeof L<"u"){if(V){var he;const{isCurrentlyEditingToken:ge}=this.state;if((((he=W.selectedOptions)===null||he===void 0?void 0:he.length)||0)<L.length){if(ge){const J=L.pop();J&&L.splice(this.state.editTokenIndex,0,J),this.setTokenState(!1,0)}}else ge&&L.length===0&&this.setTokenState(!1,0)}Y(L)}this.scrollFilterQueryIntoView()}this.inputHeight=this.getInputHeight(),F&&!M.hasKeyboardFocus&&Object(a.a)(U.activeRowIndex)&&!this.allTokensAreSelected()&&this.selectAllTokens()}componentWillUnmount(){this.doesMutationObserverExist()&&this.removeMutationObserver(),this.updateQueryTimer&&clearTimeout(this.updateQueryTimer)}onBlur(M){const{selectState:j,setSelectState:W,hideFilterQueryOnBlur:U,onBlur:B}=this.props,{selectedOptions:Y,filterQuery:z,isExpanded:F}=j,V=U&&z&&!F;this.setState(()=>({focused:!1})),this.deselectAllTokens(),V&&W(()=>({filterQuery:""})),this.caretPosInFilterQuery=-1,this.mouseDownOnToken=!1,B&&B(M,Y)}onChange(){this.state.composing||this.onFilterQueryChanged()}setTokenState(M,j){this.props.isTokenEditable&&this.setState(()=>({isCurrentlyEditingToken:M,editTokenIndex:j}))}onFilterQueryChanged(){const{setSelectState:M,selectState:j,onFilterQueryChange:W}=this.props,U=this.filterQueryRef.current,B=U==null?void 0:U.textContent,Y=j.filterQuery!==B;if(this.backspaceWasPressed&&!Y){this.backspaceWasPressed=!1;return}const z=B?B.length>0:!1;this.saveCaretPosInFilterQuery(),M(()=>({filterQuery:B,isExpanded:z})),W&&W(B)}onFocus(M){this.setState(()=>({focused:!0}));const{expandOnFocus:j,onInputFocused:W,setSelectState:U,onFocus:B}=this.props;j&&U(()=>({isExpanded:!0})),this.mouseDownOnToken||this.moveCursorAndScrollToFilterQuery(),W&&W(M),this.mouseDownOnToken=!1,B&&B(M)}onCaretSelectionChange(){this.isCaretOutSideFilterQuery()?this.updateCaretPosInFilterQuery():this.saveCaretPosInFilterQuery()}onRangeSelectionChange(){const M=this.props.window.getSelection(),j=M==null?void 0:M.getRangeAt(0),W=this.getTokensAsArray(),{selectState:U}=this.props,{filterQuery:B}=U,Y=W.reduce((te,le,Oe)=>M!=null&&M.containsNode(le)?[...te,Oe]:te,[]),z=Y.length>0;if(!B&&!z&&!(M!=null&&M.isCollapsed)){this.ignoreSelectionChange=!0,M==null||M.collapseToEnd();return}if(this.isEntireFilterQuerySelected()&&!z){var F;this.ignoreSelectionChange=!0,j==null||j.setStartBefore((F=this.filterQueryRef.current)===null||F===void 0?void 0:F.firstChild);return}const V=Y[0],L=Y[Y.length-1],Q=W[V],ee=W[L];if(!B&&z){this.ignoreSelectionChange=!0,j==null||j.setStartBefore(Q),this.ignoreSelectionChange=!0,j==null||j.setEndAfter(ee),this.setSelectedTokenIndexes(Y);return}this.isEntireFilterQuerySelected()&&z&&(this.ignoreSelectionChange=!0,j==null||j.setStartBefore(Q),this.setSelectedTokenIndexes(Y))}onSelectionChange(){if(this.ignoreSelectionChange){this.ignoreSelectionChange=!1;return}const M=this.props.window.getSelection();let j=null;if(M){const{type:W}=M;j=W}j==="Caret"&&this.onCaretSelectionChange(),j==="Range"&&this.onRangeSelectionChange()}onKeyDown(M){if(this.state.composing)return;const{key:j,ctrlKey:W,metaKey:U,altKey:B,shiftKey:Y}=M,{selectState:z,onKeyDown:F}=this.props,V=Object(u.p)()?U:W,L=j==="Delete"&&(Object(u.p)()&&B||Object(u.x)()&&V);(j==="Backspace"||L)&&this.onBackspace(M),!L&&j==="Delete"&&this.onDelete(M),j==="Escape"&&this.onEscape(M),(j==="Home"||U&&!Y&&j==="ArrowLeft"||U&&!Y&&j==="ArrowUp")&&this.onHome(M),(j==="End"||U&&!Y&&j==="ArrowRight"||U&&!Y&&j==="ArrowDown")&&this.onEnd(M),!U&&j==="ArrowLeft"&&!this.leftArrowKeyWasPressed&&(this.leftArrowKeyWasPressed=!0,this.onLeftArrow(M)),!U&&j==="ArrowRight"&&this.onRightArrow(M),j==="Tab"&&this.onTab(M),(j==="ArrowUp"||j==="ArrowDown")&&M.preventDefault(),j==="Enter"&&M.preventDefault(),!V&&T.includes(j)&&this.onCharacterKey(),F&&F(M,{hasActiveRowIndex:Object(r.a)(z.activeRowIndex)})}onHome(M){M.preventDefault();const{selectState:j}=this.props,{selectedOptions:W}=j;W!=null&&W.length?this.setSelectedTokenIndexes([0],{initiator:M.type}):this.moveCursorToFilterQuery({cursorAtStart:!0})}onEnd(M){M.preventDefault();const{selectState:j}=this.props,{selectedTokenIndexes:W}=j;W!=null&&W.length&&this.deselectAllTokens(),this.moveCursorAndScrollToFilterQuery()}onKeyUp(M){const{selectState:j,onKeyUp:W}=this.props,U=this.getSelectedTokenIndexes(),B=this.getTokensAsArray();this.shouldMoveCursorToFilterQuery&&(this.moveCursorToFilterQuery({cursorAtStart:!0}),this.shouldMoveCursorToFilterQuery=!1),this.updateSelectionOnKeyUp&&(U!=null&&U.length)&&(this.selectTextInNode(B[U[0]]),this.updateSelectionOnKeyUp=!1),this.leftArrowKeyWasPressed&&(this.leftArrowKeyWasPressed=!1),W&&W(M,{hasActiveRowIndex:Object(r.a)(j.activeRowIndex)})}onInputContainerMouseDown(M){M.preventDefault(),this.haveSelectedTokens()&&this.deselectAllTokens(),this.state.focused?this.moveCursorAndScrollToFilterQuery():this.focus()}onPaste(M){if(!M||!M.clipboardData)return;const{onFilterQueryPaste:j}=this.props;j&&j(M)}onCharacterKey(){if(!this.haveSelectedTokens())return;const{setSelectState:M}=this.props,{selectState:j}=this.props,{filterQuery:W,selectedOptions:U}=j,B=this.getSelectedTokenIndexes(),Y=U==null?void 0:U.filter((V,L)=>(B==null?void 0:B.indexOf(L))===-1),z=this.getSelectedFilterQueryText(),F=W==null?void 0:W.replace(z,"");M(()=>({selectedOptions:Y,selectedTokenIndexes:[],filterQuery:F})),this.moveCursorToFilterQuery()}onBackspace(M){const{setSelectState:j}=this.props,{selectState:W,isTokenEditable:U}=this.props,{filterQuery:B}=W;if(this.ignoreSelectionChange=!0,this.allTokensAreSelected()&&(this.isEntireFilterQuerySelected()||!B)){M.preventDefault(),j(()=>({selectedOptions:[],selectedTokenIndexes:[],filterQuery:"",isExpanded:!1}));return}if(U&&(B==null?void 0:B.length)===1){M.preventDefault(),j(()=>({filterQuery:"",isExpanded:!1})),this.setTokenState(!1,0),this.moveCursorToFilterQuery();return}if(this.isEntireFilterQuerySelected()){M.preventDefault(),j(()=>({filterQuery:"",isExpanded:!1}));return}const z=this.getTokensAsArray().length,F=this.getSelectedTokenIndexes(),V=this.isCaretAtStartOfFilterQuery();if(this.backspaceWasPressed=!0,V&&z===0){M.preventDefault();return}if(!V&&!this.haveSelectedTokens()&&B)return;if(M.preventDefault(),!this.haveSelectedTokens()){this.setSelectedTokenIndexes([z-1],{initiator:M.type});return}F==null||F.forEach(te=>{this.removeToken(te,"backspaceKey")});const L=F&&F[0],Q=L===0;let ee=null;L&&(ee=Q?[0]:[L-1]),ee!=null&&ee.length&&this.setSelectedTokenIndexes(ee,{initiator:M.type})}onDelete(M){const{setSelectState:j}=this.props;if(this.ignoreSelectionChange=!0,this.isEntireFilterQuerySelected()){M.preventDefault(),j(()=>({filterQuery:"",isExpanded:!1}));return}const U=this.getTokensAsArray().length,B=this.getSelectedTokenIndexes();if(U===0||!this.haveSelectedTokens()||(M.preventDefault(),B==null||B.forEach(V=>{this.removeToken(V,"deleteKey")}),!(B!=null&&B.length)))return;const z=B[B.length-1]===U-1,F=(B==null?void 0:B.length)===U;(z||F)&&(this.moveCursorToFilterQuery({cursorAtStart:!0}),this.deselectAllTokens())}onEscape(M){const{selectState:j,setSelectState:W,onOptionsListClose:U}=this.props;j.isExpanded&&(M.stopPropagation(),U&&U(),W(()=>({isExpanded:!1})))}onLeftArrow(M){const W=this.getTokensAsArray().length,U=this.getSelectedTokenIndexes(),B=(U==null?void 0:U.length)&&U[0],Y=this.props.window.getSelection();let z=null,F=null;if(Y){const{type:le,anchorOffset:Oe}=Y;z=le,F=Oe}const V=z==="Caret",L=z==="Range";if(M.shiftKey&&L&&this.isRangeSelectionOfFilterQueryComplete(F)){M.preventDefault();return}const Q=V&&this.isCaretAtStartOfFilterQuery();if(W===0&&Q){M.preventDefault();return}if(W===0)return;if(this.props.isTokenEditable&&this.state.isCurrentlyEditingToken&&Q){M.preventDefault();return}if(this.allTokensAreSelected()){this.setSelectedTokenIndexes([0],{initiator:M.type});return}if(!this.haveSelectedTokens()&&Q){this.setSelectedTokenIndexes([W-1],{initiator:M.type});return}if(L&&this.haveSelectedTokens()&&B===0){M.preventDefault();return}this.haveSelectedTokens()&&typeof B=="number"&&this.setSelectedTokenIndexes([B-1],{initiator:M.type})}onRightArrow(M){const j=this.props.window.getSelection(),W=(j==null?void 0:j.type)==="Range",B=this.getTokensAsArray().length,Y=this.getSelectedTokenIndexes(),z=(Y==null?void 0:Y.length)&&Y[0];if(typeof z!="number")return;if(!(W&&this.haveSelectedTokens()&&z<B-1)&&this.haveSelectedTokens()||this.allTokensAreSelected()){M.preventDefault(),this.shouldMoveCursorToFilterQuery=!0,this.deselectAllTokens();return}this.haveSelectedTokens()&&typeof z=="number"&&this.setSelectedTokenIndexes([z+1],{initiator:M.type})}onTab(M){const{shiftKey:j}=M,{expandOnFocus:W,selectState:U,onOptionsListClose:B,setSelectState:Y,disableCloseOnTab:z}=this.props;z||(B&&B(),(j||W&&U.activeRowIndex===null)&&Y(()=>({isExpanded:!1})))}onTokenMouseDown(M,j){const{focused:W,isCurrentlyEditingToken:U}=this.state,{selectState:B,isTokenEditable:Y}=this.props;if(B.isDisabled)return;if(M.preventDefault(),this.mouseDownOnToken=!0,M.stopPropagation(),Y&&!U){this.onTokenEdit(j);return}W||this.focus();const z=this.getTokensAsArray();this.selectTextInNode(z[j]);const F=this.getSelectedTokenIndexes();j!==(F==null?void 0:F[0])&&this.setSelectedTokenIndexes([j])}onTokenEdit(M){const{selectState:j,setSelectState:W,processOptions:U}=this.props,{selectedOptions:B}=j;this.setTokenState(!0,M);let Y="";B&&B[M]&&(typeof B[M].label=="string"&&B[M].label!==B[M].value?Y=B[M].label:Y=B[M].value),this.removeToken(M,"editToken"),this.updateFilterQueryValue(Y),U&&U([],Y).then(z=>{W(()=>({isExpanded:!0,options:z,filterQuery:Y}))})}onTokenRemoveMouseDown(M,j){const{focused:W,isCurrentlyEditingToken:U,editTokenIndex:B}=this.state;M.preventDefault(),this.mouseDownOnToken=!0,M.stopPropagation(),W||this.focus(),this.moveCursorToFilterQuery(),this.props.isTokenEditable&&U&&j<B&&this.setTokenState(!0,B-1),this.removeToken(j,"iconClick")}onFilterQueryMouseDown(M){var j;this.state.focused&&(!((j=this.filterQueryRef.current)===null||j===void 0)&&j.textContent)&&M.stopPropagation(),this.haveSelectedTokens()&&this.deselectAllTokens()}updateFilterQueryValue(M){const{onFilterQueryChange:j}=this.props;this.updateQueryTimer=setTimeout(()=>{j&&j(M),this.moveCursorToFilterQuery(),clearTimeout(this.updateQueryTimer)})}onPlaceholderMouseDown(){this.focus()}onSelectAll(M){var j;const{setSelectState:W}=this.props;M.preventDefault(),W(()=>({selectedTokenIndexes:[],isExpanded:!1}));const U=(j=this.filterQueryRef)===null||j===void 0?void 0:j.current;U!=null&&U.textContent&&this.selectTextInNode(U)}onCompositionStart(){this.setState(()=>({composing:!0}))}onCompositionEnd(){this.setState(()=>({composing:!1})),this.onFilterQueryChanged()}onCut(){const{selectState:M}=this.props,{filterQuery:j,selectedOptions:W}=M,U=this.getSelectedTokenIndexes(),B=W==null?void 0:W.filter((F,V)=>(U==null?void 0:U.indexOf(V))===-1),Y=this.getSelectedFilterQueryText(),z=j==null?void 0:j.replace(Y,"");this.selectStateAfterMutation={selectedTokenIndexes:[],selectedOptions:B,filterQuery:z,isExpanded:!1}}onNodeAdded(M){const{nodeName:j}=M;(j==="B"||j==="I")&&(this.removeMutationObserver(),this.forceRenderSelectContainer())}onNodeRemoved(M){const{setSelectState:j}=this.props;if(this.selectStateAfterMutation){this.caretPosInFilterQuery=0,this.removeMutationObserver(),this.forceRenderSelectContainer(),j(()=>this.selectStateAfterMutation),this.selectStateAfterMutation=null;return}M===this.filterQueryRef.current&&(this.removeMutationObserver(),this.forceRenderSelectContainer())}onMutation(M){M.forEach(j=>{j.addedNodes.forEach(this.onNodeAdded),j.removedNodes.forEach(this.onNodeRemoved)})}getAriaPlaceholderText(){const{selectState:M,placeholderText:j}=this.props,{filterQuery:W,selectedOptions:U}=M;if(!W&&!(U&&U.length>0))return j}getAriaActiveDescendant(){const{selectState:M}=this.props,{selectId:j,activeRowIndex:W}=M;return Object(r.a)(W)?Object(d.a)(j,`option_${W}`):void 0}getInputHeight(){const{inputRef:M}=this.props,j=M==null?void 0:M.current;return j?j.offsetHeight:null}getTokensAsArray(){var M,j;const W=(M=this.props.inputRef)===null||M===void 0||(j=M.current)===null||j===void 0?void 0:j.querySelectorAll(".c-token");return Array.prototype.slice.call(W)}getSelectedFilterQueryText(){const{selectState:M}=this.props,{filterQuery:j}=M;if((j==null?void 0:j.length)===0)return"";const W=this.props.window.getSelection(),U=W==null?void 0:W.toString();if(!(W==null?void 0:W.containsNode(this.filterQueryRef.current,!0)))return"";const Y=U==null?void 0:U.split(`
`);return Y!=null&&Y.length?Y[Y.length-1].trim():""}setSelectedTokenIndexes(M){let{initiator:j}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};j==="keydown"&&(this.updateSelectionOnKeyUp=!0,this.ignoreSelectionChange=!0);const{setSelectState:W}=this.props;W(()=>({selectedTokenIndexes:M}))}getSelectedTokenIndexes(){const{selectState:M}=this.props,{selectedTokenIndexes:j}=M;return j||[]}allTokensAreSelected(){const M=this.getSelectedTokenIndexes(),j=this.getTokensAsArray();return M!=null&&M.length?M.length>0&&M.length===j.length:!1}attachMutationObserver(){var M;if(this.mutationObserver=new MutationObserver(this.onMutation),!((M=this.props.inputRef)===null||M===void 0)&&M.current){var j;this.mutationObserver.observe((j=this.props.inputRef)===null||j===void 0?void 0:j.current,{subtree:!0,childList:!0})}}deselectAllTokens(){this.setSelectedTokenIndexes([])}determineCaretPosInFilterQuery(){const{selectState:M}=this.props,{filterQuery:j}=M;if(this.caretPosInFilterQuery===-1||!j)return 0;const W=j==null?void 0:j.length;return typeof this.caretPosInFilterQuery=="number"&&this.caretPosInFilterQuery>W?W:this.caretPosInFilterQuery}doesMutationObserverExist(){return!!this.mutationObserver}removeMutationObserver(){var M;(M=this.mutationObserver)===null||M===void 0||M.disconnect(),this.mutationObserver=null}focus(){var M;const j=(M=this.props.inputRef)===null||M===void 0?void 0:M.current;j==null||j.focus()}forceRenderSelectContainer(){this.setState(()=>({selectContainerKey:Date.now()}))}haveSelectedTokens(){var M;return!!(!((M=this.getSelectedTokenIndexes())===null||M===void 0)&&M.length)}isCaretAtStartOfFilterQuery(){if(this.isCaretOutSideFilterQuery())return!1;const{selectState:M}=this.props,{filterQuery:j}=M;if(!j)return!0;const W=this.props.window.getSelection();let U=null;if(W){const{anchorOffset:B}=W;U=B}return U===0}isCaretOutSideFilterQuery(){var M;const j=this.props.window.getSelection();let W=null;if(j){const{anchorNode:U}=j;W=U}return!(!((M=this.filterQueryRef.current)===null||M===void 0)&&M.contains(W))}isRangeSelectionOfFilterQueryComplete(M){const j=this.getSelectedFilterQueryText();if(!j)return!1;const{selectState:W}=this.props,U=W.filterQuery;return!U||!M?!1:j.substr(0,M)===(U==null?void 0:U.substr(0,M))}isEntireFilterQuerySelected(){const{selectState:M}=this.props,j=this.getSelectedFilterQueryText();return!!j&&j===M.filterQuery}moveCursorAndScrollToFilterQuery(){this.scrollFilterQueryIntoView(),this.moveCursorToFilterQuery()}moveCursorToFilterQuery(){let{cursorAtStart:M}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{cursorAtStart:!1};var j,W,U;const B=document.createRange(),Y=this.props.window.getSelection();Y==null||Y.removeAllRanges();const z=(j=this.filterQueryRef)===null||j===void 0?void 0:j.current,F=(z==null?void 0:z.firstChild)||z,V=M?0:(U=z==null||(W=z.textContent)===null||W===void 0?void 0:W.trim())===null||U===void 0?void 0:U.length;F!==null&&typeof V=="number"&&B.setStart(F,V),B.collapse(!0),Y==null||Y.addRange(B)}possiblyRepositionOptionsList(M){if(!this.measurePopoverEvent)return;const{selectState:j}=this.props,W=j.isExpanded&&!M.isExpanded,U=this.getInputHeight(),B=this.inputHeight!==U;(W||B)&&this.props.window.dispatchEvent(this.measurePopoverEvent)}removeToken(M,j){const{selectState:W,setSelectState:U,isTokenEditable:B}=this.props,{selectedOptions:Y,pendingQueries:z,filterQuery:F}=W,V=z?z.length:0,L=Y&&Y[M]&&Y[M].queryId,ee=L&&V?z==null?void 0:z.filter(te=>{let{queryId:le}=te;return le!==L}):z;U(()=>({selectedOptions:Y==null?void 0:Y.filter((te,le)=>le!==M),selectedTokenIndexes:[],removalInitiator:j,removedItemIndex:M,pendingQueries:ee})),B&&this.state.isCurrentlyEditingToken&&this.updateFilterQueryValue(F)}saveCaretPosInFilterQuery(){const M=this.props.window.getSelection();this.caretPosInFilterQuery=M==null?void 0:M.anchorOffset}scrollFilterQueryIntoView(){const M=this.filterQueryRef.current;M&&M!=null&&M.scrollIntoView&&(M==null||M.scrollIntoView({block:"nearest"}))}scrollSelectedTokenIntoView(){const M=this.getSelectedTokenIndexes();if(!this.haveSelectedTokens())return;const j=this.getTokensAsArray();if(!(M!=null&&M.length))return;const W=M[M.length-1],U=j[W];U&&U.scrollIntoView&&U.scrollIntoView({block:"nearest"})}selectAllTokens(){if(this.state.ignoreSelectAllTokensAfterMount){this.setState(()=>({ignoreSelectAllTokensAfterMount:!1}));return}const M=this.getTokensAsArray();if(M.length===0)return;const j=M[0],W=M[M.length-1],U=this.props.window.getSelection(),B=document.createRange();U==null||U.removeAllRanges(),B.setStartBefore(j),B.setEndAfter(W),U==null||U.addRange(B)}selectTextInNode(M){if(!M)return;const j=this.props.window.getSelection(),W=document.createRange();this.ignoreSelectionChange=!0,j==null||j.removeAllRanges();const U=Object(u.p)()?M:M.querySelector(".c-token__content");W.selectNode(U),this.ignoreSelectionChange=!0,j==null||j.addRange(W)}updateCaretPosInFilterQuery(){var M;const j=(M=this.filterQueryRef)===null||M===void 0?void 0:M.current;if(!j)return;const W=document.createRange(),U=this.props.window.getSelection();U==null||U.removeAllRanges();const B=this.determineCaretPosInFilterQuery();typeof B=="number"&&W.setStart((j==null?void 0:j.firstChild)||j,B),W.collapse(!0),U==null||U.addRange(W)}renderFilterQuery(){const{selectState:M,isTokenEditable:j,size:W}=this.props,{filterQuery:U,isDisabled:B}=M,{isCurrentlyEditingToken:Y,editTokenIndex:z}=this.state,F=B?void 0:this.onFilterQueryMouseDown,V=Object(l.default)({"c-multi_select_input__filter_query":!0,[`c-multi_select_input__${W}_filter_query--edit`]:j&&Y});return t.a.createElement("span",{className:V,ref:this.filterQueryRef,onMouseDown:F,key:z},U)}renderInput(){const{selectState:M,selectDataQa:j,inputRef:W,ariaLabelledBy:U,ariaLabel:B,autoClogProps:Y,iconType:z,isTokenEditable:F}=this.props,{selectId:V,isDisabled:L,isExpanded:Q,isInvalid:ee}=M,te=L?void 0:0,le=L?void 0:this.getAriaActiveDescendant(),Oe=!L,he=Oe,Ee=L?void 0:this.onFocus,ge=L?void 0:this.onBlur,J=L?void 0:this.onChange,H=L?void 0:this.onPaste,Z=L?void 0:this.onKeyDown,q=L?void 0:this.onKeyUp,k=L?void 0:this.onSelectionChange,se=L?void 0:this.onCut,re=L?void 0:this.onCompositionStart,X=L?void 0:this.onCompositionEnd,w=Object(l.default)({"c-multi_select_input__input":!0,"c-multi_select_input__input--with-icon":!!z}),ce=t.a.createElement("div",{role:"combobox","aria-disabled":L,"aria-autocomplete":"list","aria-expanded":Q,"aria-controls":Object(d.a)(V,"listbox"),"aria-activedescendant":le,"aria-labelledby":U,"aria-label":B,"aria-placeholder":this.getAriaPlaceholderText(),"aria-invalid":ee,id:V,className:w,tabIndex:te,contentEditable:Oe,suppressContentEditableWarning:he,"data-qa":j?`${j}-input`:void 0,ref:W,onFocus:Ee,onBlur:ge,onInput:J,onCompositionStart:re,onCompositionEnd:X,onPaste:H,onKeyDown:Z,onKeyUp:q,onSelect:k,onCut:se,"aria-multiline":!1},S(),F&&this.state.isCurrentlyEditingToken?this.renderEditableTokens():t.a.createElement(t.a.Fragment,null,this.renderTokens(),this.renderFilterQuery()),S({contentEditable:!1}));return Y?t.a.createElement(h.a,{autoClogProps:Y,actionProps:y,elementType:_.ElementType.INPUT},ce):ce}renderLoadingIndicator(){const{isLoading:M,size:j}=this.props;return M?t.a.createElement(O.a,{className:"c-multi_select_input__spinner",color:"blue",size:j===m.f.LARGE?m.f.LARGE:m.f.MEDIUM}):null}renderPlaceholder(){const{selectState:M,placeholderText:j,iconType:W}=this.props,{filterQuery:U,selectedOptions:B,isDisabled:Y}=M;if(this.state.composing||U||B&&B.length>0)return null;const z=Y?void 0:this.onPlaceholderMouseDown,F=Object(l.default)({"c-multi_select_input__placeholder":!0,"c-multi_select_input__placeholder--with-icon":!!W});return t.a.createElement("div",{"aria-hidden":"true",className:F,onMouseDown:z},j)}renderToken(M,j){let{icon:W,value:U,label:B,hoverText:Y,isLoading:z,isError:F,isMemberError:V,isUnknown:L,emailTeam:Q}=M;const{forceRealName:ee,size:te,selectState:le,customizeTokenProps:Oe,disableIdParsing:he}=this.props,Ee=this.getSelectedTokenIndexes(),ge=(Ee==null?void 0:Ee.indexOf(j))!==-1,{isDisabled:J,restrictedSelectedTokenIndexes:H}=le,Z=!!H&&(H==null?void 0:H.indexOf(j))!==-1,q=J?void 0:re=>this.onTokenMouseDown(re,j),k=J?void 0:()=>this.renderTokenRemoveIcon(j),se=te;return t.a.createElement(t.a.Fragment,null,t.a.createElement(g.b,C({"data-qa":"multi_select_token_wrapper",className:"c-multi_select_input__token"},q?{onMouseDown:q}:{},{isDisabled:J,entityId:U,label:B,hoverText:Y,isLoading:z,isError:F,isMemberError:V,isUnknown:L},te?{size:se}:{},{isSelected:ge},k?{renderIcon:k}:{},{forceRealName:ee,icon:W,tabIndex:-1,contentEditable:!1},Oe,{disableIdParsing:he},Q?{emailTeam:Q}:{},{isRestricted:Z})),"\xA0")}renderTokenRemoveIcon(M){return t.a.createElement(h.a,{actionProps:P,elementType:_.ElementType.BUTTON},t.a.createElement(E.a,{type:"times-medium",className:"c-multi_select_input__remove_token","data-qa":"token_remove_icon","aria-hidden":"true",onMouseDown:Object(c.a)(j=>{this.onTokenRemoveMouseDown(j,M)})}))}renderTokens(){const{selectedOptions:M}=this.props.selectState;return M==null?void 0:M.map((j,W)=>t.a.createElement(t.a.Fragment,{key:j.key||j.value},this.renderToken(j,W)))}renderEditableTokens(){const{isCurrentlyEditingToken:M,editTokenIndex:j}=this.state,W=this.renderTokens()||[],U=this.renderFilterQuery();return M?W.splice(j,0,U):W==null||W.push(U),W}renderIcon(){const{iconType:M}=this.props;return M?t.a.createElement(E.a,{type:M,inline:!0}):null}render(){const{maxHeight:M,width:j,selectState:W,classPrefix:U,size:B}=this.props,{isDisabled:Y,isInvalid:z,selectedOptions:F}=W,V=F==null?void 0:F.length,L=Object(l.default)("c-multi_select_input",{"c-multi_select_input--disabled":Y,"c-multi_select_input--focused":this.state.focused&&!Y,"c-multi_select_input--large":B===m.f.LARGE,"c-multi_select_input--invalid":z,"c-multi_select_input--initial":!V,[`${U}__multi_select_input`]:U}),Q=Y?void 0:this.onInputContainerMouseDown;return t.a.createElement("div",{className:L,style:{width:j,maxHeight:M},onMouseDown:Q,key:this.state.selectContainerKey},this.renderIcon(),this.renderInput(),this.renderLoadingIndicator(),this.renderPlaceholder())}constructor(M){super(M),Object(i.a)(this,["onFocus","onBlur","onChange","onPaste","onKeyDown","onKeyUp","onInputContainerMouseDown","onFilterQueryMouseDown","onPlaceholderMouseDown","onSelectionChange","onCut","onMutation","onNodeRemoved","onNodeAdded","onCompositionStart","onCompositionEnd"]);var j;this.state={composing:!1,focused:!1,selectContainerKey:Date.now(),isCurrentlyEditingToken:!1,editTokenIndex:0,ignoreSelectAllTokensAfterMount:(j=M.ignoreSelectAllTokensAfterMount)!==null&&j!==void 0?j:!1},this.caretPosInFilterQuery=-1,this.ignoreSelectionChange=!1,this.updateSelectionOnKeyUp=!1,M.measurePopoverEventName&&(this.measurePopoverEvent=new Event(M.measurePopoverEventName)),this.filterQueryRef=t.a.createRef()}},"MultiSelectInput");A.displayName="MultiSelectInput",A.defaultProps={inputRef:t.a.createRef(),maxHeight:96,placeholderText:void 0,onKeyDown:o.a,onKeyUp:o.a,size:m.f.MEDIUM,width:300,isLoading:!1,classPrefix:void 0,selectDataQa:void 0,focusOnMount:!1,measurePopoverEventName:null,onSelectedItemsChange:o.a,onFilterQueryChange:o.a,onFilterQueryPaste:o.a,ariaLabelledBy:void 0,ariaLabel:void 0,expandOnFocus:!1,onTokenSelect:o.a,onInputFocused:o.a,forceRealName:void 0,onOptionsListClose:o.a,processOptions:x=>f.a.resolve(x),isTokenEditable:!1,hideFilterQueryOnBlur:!0,autoClogProps:void 0,customizeTokenProps:{},iconType:void 0,disableIdParsing:!1,hasKeyboardFocus:!1,onFocus:o.a,onBlur:o.a,ignoreSelectAllTokensAfterMount:!1};var R=n.a=Object(I.a)(Object(b.a)(A))},fEaq:function(K,n,e){"use strict";e.d(n,"a",function(){return o});var s=e("R4JA"),t=e("xwCZ"),a=e("K7jq"),r=e("C3vN"),c=e("ptQX");const o=v((i,l)=>{const u=Object(t.g)(i,l);return Object(r.Cb)(u)?!1:Object(a.a)(u)?!!(Object(c.b)(i,l)&&Object(c.a)(i,l)&&!Object(s.a)(i,l)):!0},"isMemberConnectedById")},fMsH:function(K,n,e){"use strict"},fNsR:function(K,n,e){"use strict";e.d(n,"a",function(){return l});var s=e("fujP"),t=e("NFsq"),a=e("VOl3"),r=e("C3vN"),c=e("xwCZ"),o=e("q0lC"),i=e("zCzZ");const l=v((u,f)=>{let{prefName:d}=f;if(Object(s.a)(d))return!1;const O=Object(c.d)(u);if(Object(r.qb)(O)||Object(r.ub)(O))return!1;const{type:m,user:g}=Object(i.i)(u,d)||{};if(Object(t.a)(g,O.id))return!0;switch(m==null?void 0:m[0]){case"PRIMARY_OWNER":return Object(a.c)(O);case"ORG_OWNERS":return Object(a.b)(O);case"ORG_ADMINS_AND_OWNERS":return Object(a.a)(O);default:return Object(o.h)(u)}},"checkChannelMgmtPrefCascade")},fPvf:function(K,n,e){"use strict";e.d(n,"a",function(){return O});var s=e("q1tI"),t=e.n(s),a=e("zxER"),r=e("nNoG"),c=e("ktUG"),o=e("s9Q6"),i=e("AKIH"),l=e("Trx9"),u=e("zEKE"),f=e("w3c/");const d=new r.b("trials_highlight_paid_features"),O=v(g=>{let{trialEndTs:E}=g;return t.a.createElement(l.a,{eventId:c.EventId.UPGRDEXP_TRIAL,uiComponentName:c.UiComponentName.HUDDLE_INVITE_MODAL_TRIAL_BANNER,clogImpression:!0},t.a.createElement("div",{className:"p-huddle_invite_modal_banner"},t.a.createElement(u.a,{iconType:"clock-o","data-qa":"huddle_invite_modal_trial_banner"},d.rt("<strong>Huddles with more than two people is a paid feature,</strong> available with your free trial through {trialExpirationDate}.",{trialExpirationDate:Object(i.a)(E),fallbackHash:"5848c5eb4b061ac0a4abef27be6bc8b2c736d087"}))))},"HuddleInviteModalTrialBanner"),m=v(()=>{const g=Object(a.a)(o.g);return t.a.createElement(O,{trialEndTs:g})},"ConnectedHuddleInviteModalTrialBanner");m.displayName="ConnectedHuddleInviteModalTrialBanner",n.b=m},fRJc:function(K,n,e){"use strict";e.d(n,"a",function(){return s});const s={FullScreen:"fs",AboveFullScreen:"above_fs",Menu:"menu",BelowMenu:"below_menu",MenuAboveFullScreen:"menu_above_fs",Dialog:"dialog",Modal:"modal"}},fUOF:function(K,n,e){"use strict";e.d(n,"a",function(){return r});var s=e("lCmp"),t=e("RVJP"),a=e("lhZz");function r(c,o){let i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!c||!o)return!1;const l=Object.values(Object(a.getStoreInstanceMap)());return Object(s.a)(l,u=>{if(!u)return!1;const f=u.getState();return f&&Object(t.d)(f,c,i)===o})}v(r,"doesToggleGroupMatchForAnyTeam")},fZDj:function(K,n,e){"use strict";var s=e("hfkV");n.a=s.a},fi3B:function(K,n,e){"use strict";var s=e("q1tI"),t=e.n(s),a=e("iuhU"),r=e("ifKl"),c=e("BJra"),o=e("aBhT"),i=e("sGXp");function l(){return l=Object.assign||function(m){for(var g=1;g<arguments.length;g++){var E=arguments[g];for(var p in E)Object.prototype.hasOwnProperty.call(E,p)&&(m[p]=E[p])}return m},l.apply(this,arguments)}v(l,"_extends");const u=v(m=>{let{children:g,truncate:E=!1,truncateWidth:p,withTruncationTooltip:h=!1}=m;const _=Object(s.useMemo)(()=>({maxWidth:p||void 0}),[p]);if(!E)return t.a.createElement("span",null,g);let b;return p?b=t.a.createElement("span",{className:"c-base_inline_entity__inline_wrapper",style:_},g):b=t.a.createElement("span",null,t.a.createElement(o.a,{lines:1,withTooltip:h},g)),b},"MaybeTruncate");u.displayName="MaybeTruncate";const f={className:"c-base_inline_entity__avatar","data-qa":"base_inline_entity__avatar"};let d=v(class extends s.Component{render(){const{className:g,avatar:E=r.a,primaryContent:p,secondaryContent:h,style:_=i.d.normal,truncate:b=!1,truncateWidth:I,withTruncationTooltip:C=!1}=this.props,y=E(f),P=!!y;return t.a.createElement(t.a.Fragment,null,t.a.createElement("span",l({className:Object(a.default)(g,"c-base_inline_entity",{"c-base_inline_entity--has_avatar":P,"c-base_inline_entity--truncate_block":b&&!I,"c-base_inline_entity--truncate_inline":b&&I,"c-base_inline_entity--dim":_===i.d.dim,"c-base_inline_entity--highlight-dark":_===i.d.highlightDark,"c-base_inline_entity--highlight-dim":_===i.d.highlightDim,"c-base_inline_entity--highlight-light":_===i.d.highlightLight})},Object(c.a)(this.props)),t.a.createElement(u,{truncate:b,truncateWidth:I,withTruncationTooltip:C},y,t.a.createElement("span",{className:"c-base_inline_entity__primary_content"},p),h&&t.a.createElement("span",{className:"c-base_inline_entity__secondary_content"},h))))}},"BaseInlineEntity");d.displayName="BaseInlineEntity";var O=n.a=d},fpvb:function(K,n,e){"use strict";var s=e("3Hq1"),t=e("M1Wn"),a=e("Pw5n"),r=e("mXhK"),c=e("h95D");const o=Object(r.b)("Logs helpful messages to the console if you do something incorrect",(i,l,u)=>{if(Object(s.a)(u)||Object(t.a)(u))return c.c&&Object(a.d)("It looks like you dispatched null or undefined, instead of an action or a thunk. Check the stack trace of this error to see where this mistake is occurring."),null;if(u.isThunkCreator||u.isActionCreator){if(c.c){const f=u.isThunkCreator?"thunk":"action",d=u.meta?u.meta.name:`${f}Creator`;Object(a.d)(`
	It looks like you dispatched a ${f} creator instead of the ${f} itself!
	This is a common mistake, and the solution is to call dispatch(${d}(payload)) instead of just dispatch(${d}), note the extra parens at the end.
				`)}return null}return Object(c.b)(u),l(u)});o.meta={name:"createMiddleware",key:"createMiddlewarehelpfulMessagingMiddleware",description:"Logs helpful messages to the console if you do something incorrect"},n.a=o},frgx:function(K,n,e){"use strict";e.d(n,"a",function(){return E});var s=e("M1Wn"),t=e("3Hq1"),a=e("SQ0V"),r=e("3REw"),c=e("KciV"),o=e("5IZy"),i=e("ktUG"),l=e("jUSB"),u=e("pJ2S"),f=e("vfQU"),d=e("Lsnb"),O=e("n9FT"),m=e("x5lL"),g=e("6Kqi");const E=Object(a.c)("On call window closed",(p,h)=>{const _=h(),b=Object(m.g)(_,Object(m.c)(Object(m.e)(_)));if(!b){Object(c.c)("ON-CALL-WINDOW-CLOSED").warn("No active call on call window close");return}p(Object(O.a)()),!Object(s.a)(b.windowId)&&!Object(t.a)(b.windowId)?(Object(d.b)(b.windowId),p(Object(m.w)(b.windowId))):Object(c.c)("ON-CALL-WINDOW-CLOSED").warn("No windowId for active call"),Object(l.c)(u.F),p(Object(m.D)()),b.incomingInvite&&b.id&&Object(r.t)(b.id)&&p(Object(g.b)({id:b.id,response:r.f.Reject})),Object(f.db)()&&setTimeout(()=>{if(!b.windowId)return;const I=Object(f.H)("windows",b.windowId.toString()),C=b.id||"unavailable";I!==void 0&&(Object(c.c)("ON-CALL-WINDOW-CLOSED").info(`Call window is open after call was terminated by user, callId = ${C}`),Object(o.a)({state:h()}).track(i.EventId.CALLS_CALL_WINDOW_CLOSED_EVENT,{is_call_window_open:!0,room_id:C}))},5e3)});E.meta={name:"createThunk",key:"createThunkonCallWindowClosed",description:"On call window closed"}},"g/kD":function(K,n,e){"use strict";var s=e("q1tI"),t=e.n(s),a=e("zxER"),r=e("iuhU"),c=e("gWIG"),o=e("Tsh7"),i=e("/qcS"),l=e("wY8X"),u=e("Bz4R"),f=e("xwCZ"),d=e("C3vN"),O=e("i5Ig"),m=e("yz5U"),g=e("Q755");function E(){return E=Object.assign||function(y){for(var P=1;P<arguments.length;P++){var T=arguments[P];for(var S in T)Object.prototype.hasOwnProperty.call(T,S)&&(y[S]=T[S])}return y},E.apply(this,arguments)}v(E,"_extends");const p={noLinking:!1},h=v(y=>{let{stopAnimations:P=!1,noText:T=!1,className:S,memberId:A="",noLinking:R,showEmojiTooltip:x=!1,insertTextSpacing:M=!1,displayInMemberProfile:j=!1,emoji:W}=y;const U=Object(a.a)(z=>Object(u.a)(z,A)),B=Object(a.a)(z=>Object(d.vb)(Object(f.g)(z,A)));let Y=O.b;return R===!1&&(Y=p),j?t.a.createElement("span",{className:S},t.a.createElement(l.a,{memberId:A,emoji:W,stopAnimations:P,showTooltips:x,emojiSize:i.a.MEDIUM,className:"c-custom_status__emoji_in_member_profile"}),U&&t.a.createElement(m.a,E({memberId:A,className:Object(r.default)("margin_left_50","padding_right_50",{margin_right_100:B}),emojiSize:i.a.SMALL,stopAnimations:P,text:T?"":U},Y))):t.a.createElement("span",{className:S},t.a.createElement(l.a,{memberId:A,showTooltips:x,emojiSize:i.a.SMALL,emoji:W,stopAnimations:P}),U&&t.a.createElement(m.a,E({memberId:A,className:M?"margin_left_50":"margin_left_25",emojiSize:i.a.SMALL,stopAnimations:P,text:T?"":U},Y)))},"CustomStatusTooltipContent");h.displayName="CustomStatusTooltipContent";var _=t.a.memo(h),b=e("ItXa");const I=v(y=>{let{animated:P=!1,tooltip:T=!0,tipPosition:S,noText:A=!1,className:R,memberId:x="",noLinking:M,showEmojiTooltip:j=!1,insertTextSpacing:W=!1,displayInMemberProfile:U=!1}=y;const B=Object(a.a)(z=>Object(c.a)(z,x)),Y=Object(s.useCallback)(()=>t.a.createElement(t.a.Fragment,null,t.a.createElement(_,{className:"c-custom_status__tooltip",noText:A,memberId:x,noLinking:M,showEmojiTooltip:j,insertTextSpacing:W,displayInMemberProfile:U,emoji:B}),t.a.createElement(b.a,{className:"c-custom_status__expiration",memberId:x})),[x,A,M,j,W,U,B]);return B?T?t.a.createElement(o.d,{tip:Y,position:S,zIndex:"above_fs","data-qa":"custom_status_tooltip"},t.a.createElement("span",{className:Object(r.default)("c-custom_status",R),"data-qa":"custom_status"},t.a.createElement(l.a,{memberId:x,showTooltips:!1,emojiSize:i.a.SMALL,emoji:B,stopAnimations:!P}))):t.a.createElement(_,{className:Object(r.default)(R,"c-custom_status","c-custom_status--inline",{display_flex:U}),stopAnimations:!P,noText:A,memberId:x,noLinking:M,showEmojiTooltip:j,insertTextSpacing:W,displayInMemberProfile:U,emoji:B}):null},"CustomStatus");I.displayName="CustomStatus";var C=n.a=t.a.memo(I)},"g3a/":function(K,n,e){"use strict";e.d(n,"a",function(){return c});var s=e("q1tI"),t=e.n(s),a=e("rAyg"),r=e("G7vT");const c=v(o=>{let{children:i,duration:l,icon:u,toastClasses:f,position:d,offsetX:O,offsetY:m,showCloseButton:g,onCloseComplete:E}=o;return t.a.createElement(a.a,{fadeDelay:l,icon:u,toastClasses:f,offsetX:O,offsetY:m,position:d,showCloseButton:g,onCloseComplete:E},t.a.createElement(r.a,{assertive:!0},i))},"Toast");c.displayName="Toast",c.defaultProps={duration:6e3}},g5Dv:function(K,n,e){"use strict";var s=e("q1tI"),t=e.n(s),a=e("iuhU"),r=e("jF6j");const c=v(o=>{let{children:i,heading:l,subHeading:u,titleImage:f,headingClassName:d,subHeadingClassName:O,dataQa:m,showFullWidthContent:g,className:E}=o;return t.a.createElement("div",{className:Object(a.default)("p-refreshed_page",{full_width:g},E),"data-qa":m},f&&f,l&&t.a.createElement("h1",{className:Object(a.default)("p-refreshed_page__heading",d,{margin_bottom_200:!u,full_width:g})},l),u&&t.a.createElement("div",{className:Object(a.default)("p-refreshed_page__sub_heading",O,{full_width:g})},u),i)},"RefreshedPageContent");c.displayName="RefreshedPageContent",n.a=c},"g6/Y":function(K,n,e){"use strict";e.d(n,"a",function(){return f});var s=e("SQ0V"),t=e("lhZz"),a=e("dKQz"),r=e("HoeF"),c=e("wVLq"),o=e("jj3I"),i=e("QIbu"),l=e("LZPg"),u=e("9Gfp");const f=Object(s.c)("Dispatch a reaction to the middleware and the current store to notify user has sent a reaction",(d,O,m)=>{let{emoji:g,reactionType:E=i.d.Standard}=m;E===i.d.Sticker?(d(Object(r.G)({emoji:g})),Object(t.dispatchForClientStore)(Object(a.s)(g))):(Object(t.dispatchForClientStore)(Object(a.r)({emoji:g,reactionType:E})),d(Object(l.a)({peerId:"self",emoji:g,isEmoji:!0,reactionType:E})));const p=Object(u.a)(O());p&&d(Object(o.c)({type:c.a.SEND_REACTION,memberId:p,timestampMs:Date.now(),emoji:g}))});f.meta={name:"createThunk",key:"createThunksendReaction",description:"Dispatch a reaction to the middleware and the current store to notify user has sent a reaction"}},g9pr:function(K,n,e){K.exports=e.p+"remote_work-f8cd791.jpg"},gE2U:function(K,n,e){"use strict";e.d(n,"a",function(){return In});var s=e("lhZz"),t=e("q1tI"),a=e.n(t),r=e("7JUD"),c=e("lvWT"),o=e("tYRW"),i=e("AEEY"),l=e("zKrX"),u=e("YyjR"),f=e("DWmQ"),d=e("9org"),O=e("npde"),m=e("3RMI"),g=e("Lgge"),E=e("jWAO"),p=e("4+kD"),h=e.n(p),_=e("iuhU"),b=e("F0b/"),I=e("nNoG"),C=e("Tevt"),y=e("dVMU"),P=e("lRFD"),T=e.n(P),S=e("2B42"),A=e.n(S),R=e("Sw/c"),x=e.n(R),M=e("0cEW");const j=new I.b("refreshed_header"),W={elementName:"header_slack_logo",onClick:{enableClogAction:!0}},U={elementName:"header_signin",onClick:{enableClogAction:!0}},B={elementName:"header_create_account",onClick:{enableClogAction:!0}},Y={elementName:"header_create_workspace",onClick:{enableClogAction:!0}},z=T.a&&A.a?`${T.a}, ${A.a} 2x`:void 0;var V=v(pt=>{let{showSignInLink:Tt=!1,showCreateAccountLink:Lt=!1,showCreateWorkspaceLink:gt=!1,showHorchataBackground:it=!1,confirmedEmailPill:ft,hideLogo:Ke=!1,isSSBBrowserSignin:Ve=!1,showSfLogo:Be=!1,isWarningBannerDisplayed:Ye=!1,govSlackTheme:we=!1,isLandingPage:mt=!1,clientTheme:Pt,joinerRedesignTreatment:Nt=!1}=pt;return a.a.createElement("header",{className:Object(_.default)("p-refreshed_page__header",{"p-refreshed_page__header--should_wrap":!!ft,"p-refreshed_page__header--is_horchata_landing_bg":it,"p-refreshed_page__header--no_logo":!!Ke,"p-refreshed_page__header--sf_slack_logo":Be,"p-refreshed_page__header--display_warning_banner":Ye,"p-refreshed_page__header--gov_slack":we,"p-refreshed_page__header--landing":mt,"p-refreshed_page__full_background":Nt})},a.a.createElement("div",{className:"left-col"}),a.a.createElement("div",{className:"center-col"},Be&&Ke&&a.a.createElement("img",{srcSet:z??void 0,src:T.a,alt:""}),!Ke&&a.a.createElement(C.a,{href:Object(b.a)(),autoClogProps:W,target:"_self"},a.a.createElement("img",{alt:"Slack",src:we||Pt===M.c.Dark?x.a:h.a,height:"26",title:"Slack"})),ft),a.a.createElement("div",{className:"right-col"},Tt&&a.a.createElement("div",{className:"p-refreshed_page__header_sidelink"},j.t("Already have an account?"),a.a.createElement("br",null),a.a.createElement(C.a,{href:"/signin",className:"bold",autoClogProps:U,target:"_self"},j.t("Sign in instead"))),Lt&&a.a.createElement("div",{className:"p-refreshed_page__header_sidelink"},j.t("Don\u2019t have an account yet?"),a.a.createElement("br",null),a.a.createElement(C.a,{href:`/signup${window.location.search}`,className:"bold",autoClogProps:B,target:"_self"},j.t("Create an account"))),gt&&a.a.createElement("div",{className:"p-refreshed_page__header_sidelink"},j.t("New to Slack?",{fallbackHash:"2f63cb0ff8e7e3d18574aa36be246a7723cef6fc"}),a.a.createElement("br",null),a.a.createElement(C.a,{href:`${Ve?"/ssb":""}/get-started${window.location.search}#${y.a.CreateNew}`,className:"bold",autoClogProps:Y,target:"_self"},j.t("Create an account")))))},"RefreshedHeader"),L=e("niVp");const Q=v(pt=>{let{children:Tt,showHorchataBackground:Lt,showSignInLink:gt,showCreateAccountLink:it,showCreateWorkspaceLink:ft,hideRegionPicker:Ke,clientTheme:Ve,hideFooter:Be=!1,confirmedEmailPill:Ye,hideHeader:we=!1,isSSBBrowserSignin:mt=!1,showSfLogo:Pt=!1,isWarningBannerDisplayed:Nt=!1,govSlackTheme:Ze=!1,isLandingPage:Xe=!1,joinerRedesignTreatment:Ct=!1}=pt;return a.a.createElement(a.a.Fragment,null,!we&&a.a.createElement(V,{showSignInLink:gt,showCreateAccountLink:it,showCreateWorkspaceLink:ft,showHorchataBackground:Lt,confirmedEmailPill:Ye,isSSBBrowserSignin:mt,showSfLogo:Pt,hideLogo:Pt,isWarningBannerDisplayed:Nt,govSlackTheme:Ze,isLandingPage:Xe,clientTheme:Ve,joinerRedesignTreatment:Ct}),Ze?a.a.createElement("div",{className:"p-refreshed_page_layout__children--gov_slack"},Tt):Tt,!Be&&a.a.createElement(L.a,{hideRegionPicker:Ke,govSlackTheme:Ze,joinerRedesignTreatment:Ct}))},"RefreshedPageLayout");Q.displayName="RefreshedPageLayout";var ee=Q,te=e("g5Dv"),le=e("qDEp");const Oe=new I.b("sign_in");function he(pt){const{isSSB:Tt,isSSBSignIn:Lt,hasPromoOffer:gt,shouldRedirect:it,redirectURL:ft,loggedInTeams:Ke,entryPoint:Ve=""}=pt;return a.a.createElement("div",{className:"align_center","data-qa":"signedin_workspaces"},!gt&&!Tt&&a.a.createElement("p",{className:"small_bottom_margin"},Oe.t("You're already signed in to {loggedInTeams, plural, =1 {this workspace} other {these workspaces}}:",{loggedInTeams:Ke})),a.a.createElement("p",{className:"col span_4_of_6 margin_auto float_none"},Ke.map((Be,Ye)=>a.a.createElement(le.b,{key:Be.id,"data-qa":`signedin_workspace_link_${Ye+1}`,className:"team-signin-link small_margin","data-team-id":Be.id,autoClogProps:{elementName:"team_domain",elementValue:Be.id.toString(),entryPoint:Ve,onClick:{enableClogAction:!0}},href:Lt?`${Be.url}ssb/signin_redirect`:`${Be.url}${it?`?redir=${ft}`:""}`,"aria-label":Oe.t("Go to {teamName} on Slack",{teamName:Be.name}),type:"outline"},Be.name))))}v(he,"SignedInWorkspaces");var Ee=e("ktUG"),ge=e("Trx9"),J=e("oEDn"),H=e("d/xU"),Z;(function(pt){pt.INVALID_CODE="invalid_pin",pt.RATE_LIMITED="ratelimited",pt.SMS_RATE_LIMITED="two_factor_sms_rate_limited",pt.TOO_MANY_ATTEMPTS="two_factor_too_many_attempts",pt.INTERNAL_ERROR="internal_error"})(Z||(Z={}));var q;(function(pt){pt.SMS="sms",pt.APP="app",pt.EMAIL="email",pt.EMERGENCY="emergency"})(q||(q={}));var k;(function(pt){pt.REQUEST_CODE="request_primary",pt.REQUEST_BACKUP="request_backup",pt.SUBMIT_PRIMARY="submit_primary",pt.SUBMIT_BACKUP="submit_backup",pt.SUBMIT_EMERGENCY="submit_emergency"})(k||(k={}));const se=new I.b("sign_in"),re={elementName:"help_button",onClick:{enableClogAction:!0}},X=v(pt=>{const Tt=pt.action===k.REQUEST_BACKUP||pt.action===k.SUBMIT_BACKUP;return Tt&&pt.twoFactorBackupType===q.APP||!Tt&&pt.twoFactorType===q.APP},"currentMethodIsApp"),w=v(pt=>X(pt)?se.t("Problems with your authentication app?"):se.t("Problems with your code?"),"renderProblemsString"),ce=v(pt=>X(pt)?a.a.createElement("div",{className:"subtle_silver small medium_top_margin"},a.a.createElement("p",{className:"no_bottom_margin"},se.t("Check your authentication app for your code.")),a.a.createElement("p",null,se.rt("<a>Having trouble finding your code?</a>",null,Tt=>{let{tag:Lt,text:gt}=Tt;return Lt==="a"?a.a.createElement(C.a,{href:`https://${Object(H.l)()}/help/articles/204509068-Enabling-two-factor-authentication`,target:"_blank"},gt):null})),a.a.createElement("p",null,se.rt("If your app is unavailable, use a <a>backup code</a>.",null,Tt=>{let{tag:Lt,text:gt}=Tt;return Lt==="a"?a.a.createElement(C.a,{href:`https://${Object(H.l)()}/help/articles/204509068#troubleshoot-2fa`,target:"_blank"},gt):null}))):a.a.createElement("p",{className:"align_left subtle_silver small"},se.rt("You can also try a backup code, if you have one. For other issues, read more about <a>two-factor authentication</a>, or contact your workspace administrator for help.",null,Tt=>{let{tag:Lt,text:gt}=Tt;return Lt==="a"?a.a.createElement(C.a,{href:`https://${Object(H.l)()}/help/articles/204509068-Enabling-two-factor-authentication`,target:"_blank"},gt):null})),"renderProblems");ce.displayName="renderProblems";const ie=v(pt=>{const[Tt,Lt]=Object(t.useState)(!1);return a.a.createElement("div",{className:"p-enter-code__help_button"},a.a.createElement(C.a,{tabIndex:0,className:"p-enter-code__get_help_link",onClick:()=>Lt(!Tt),autoClogProps:re},a.a.createElement(J.a,{type:"question-circle"})," ",w(pt)),Tt&&a.a.createElement("div",{className:"send_code_block"},pt.children,a.a.createElement("div",{className:"col span_4_of_6 float_none margin_auto"},a.a.createElement("hr",{className:"medium_bottom_margin"}),ce(pt))))},"GetHelpButton");ie.displayName="GetHelpButton";var oe=e("GzZI"),me=e("khnw"),ue=e("U3SE"),_e=e("A6se");function be(){return be=Object.assign||function(pt){for(var Tt=1;Tt<arguments.length;Tt++){var Lt=arguments[Tt];for(var gt in Lt)Object.prototype.hasOwnProperty.call(Lt,gt)&&(pt[gt]=Lt[gt])}return pt},be.apply(this,arguments)}v(be,"_extends");let Ae=v(class extends t.Component{render(){const{ariaDescribedBy:Tt}=this.props;return a.a.createElement("div",{className:Object(_.default)("two_factor_input_item",{focused:this.props.hasFocus})},a.a.createElement("input",{autoComplete:this.props.autocomplete,ref:this.props.refToForward,type:"text",inputMode:"numeric",pattern:"\\d*",value:this.props.value,"aria-disabled":this.props.disabled,disabled:this.props.disabled,maxLength:1,onKeyDown:this.onKeyDown,onKeyPress:this.onKeyPress,onChange:this.onChange,onFocus:this.props.onFocus,onBlur:this.props.onBlur,onPaste:this.onPaste,"aria-label":this.props.ariaLabel,"aria-describedby":Tt}))}constructor(...Tt){super(...Tt),this.onKeyDown=Lt=>{switch(Lt.keyCode){case me.a:{Lt.currentTarget.value||this.props.moveLeft();return}case me.k:return Lt.preventDefault(),this.props.moveLeft();case me.o:return Lt.preventDefault(),this.props.moveRight();default:break}},this.onKeyPress=Lt=>{!Object(_e.a)(Lt.which)&&Lt.charCode&&!Object(ue.a)(Lt)&&Lt.preventDefault()},this.onChange=Lt=>{const gt=Lt.target.value;(/^[0-9]$/.test(gt)||gt==="")&&this.props.onChange(gt)},this.onPaste=Lt=>{Lt.preventDefault();const gt=window.clipboardData||Lt.clipboardData,it=gt.getData("text")||gt.getData("text/plain"),ft=/\D/g,Ke=it.replace(ft,"");this.props.onPaste(Ke)}}},"TwoFactorDigitInput");Ae.displayName="TwoFactorDigitInput";var Ce=a.a.forwardRef((pt,Tt)=>a.a.createElement(Ae,be({},pt,{refToForward:Tt})));const De=new I.b("team_creation");let Pe=v(class extends t.Component{focusInput(Tt){const Lt=this.inputRefs[Tt];Lt!=null&&Lt.current&&Lt.current.focus()}moveLeft(Tt){Tt<=0||this.focusInput(Tt-1)}moveRight(Tt){Tt>=this.state.values.length-1||this.focusInput(Tt+1)}isComplete(Tt){return!Tt.some(Lt=>!Lt)}clear(){this.setState(Tt=>({values:Tt.values.map(()=>""),focusedInputIndex:0})),this.focusInput(0)}onChange(Tt,Lt){const gt=this.state.values.slice();gt[Tt]=Lt,this.setState(()=>({values:gt}),()=>{Lt&&!this.isComplete(this.state.values)&&this.moveRight(Tt)})}componentDidUpdate(Tt,Lt){var gt;if(this.state.focusedInputIndex!==-1&&document.activeElement!==((gt=this.inputRefs[this.state.focusedInputIndex])===null||gt===void 0?void 0:gt.current)&&this.focusInput(this.state.focusedInputIndex),this.props.codeLength!==Tt.codeLength&&this.onCodeLengthChange(Lt),!this.isComplete(Lt.values)&&this.isComplete(this.state.values)||this.isComplete(this.state.values)&&Lt.values.join("")!==this.state.values.join("")){const it=this.state.values.join("");this.props.onFillCode(it)}else Lt.values.join(",")!==this.state.values.join(",")&&this.props.onChange()}componentDidMount(){this.focusInput(0)}renderInputs(Tt,Lt){return this.state.values.slice(Tt,Lt).map((gt,it)=>{const ft=it+Tt;return a.a.createElement(Ce,{autocomplete:ft===0?"one-time-password":"off",key:ft,ref:this.inputRefs[ft],moveLeft:()=>this.moveLeft(ft),moveRight:()=>this.moveRight(ft),onChange:Ke=>this.onChange(ft,Ke),onPaste:this.onPaste,onFocus:()=>{this.setState(()=>({focusedInputIndex:ft}))},onBlur:()=>this.setState(()=>({focusedInputIndex:-1})),hasFocus:this.state.focusedInputIndex===ft,value:this.state.values[ft],ariaLabel:De.t("digit {inputIndex} of {numberOfInputs}",{inputIndex:ft+1,numberOfInputs:this.state.values.length}),ariaDescribedBy:this.props.ariaDescribedBy,disabled:this.props.disabled})})}render(){return a.a.createElement("div",{className:"display_flex align_items_center margin_bottom_50","data-qa":"confirmation_code_input"},a.a.createElement("div",{className:"display_flex"},this.renderInputs(0,this.props.codeLength)))}constructor(Tt){super(Tt),this.onPaste=Lt=>{const gt=this.state.focusedInputIndex;if(gt===-1)return;const it=this.state.values.length-gt,ft=Lt.substring(0,it).split(""),Ke=this.state.values.slice();ft.forEach((Ve,Be)=>{const Ye=Be+gt;Ke[Ye]=Ve}),this.setState(()=>({values:Ke}),()=>{this.focusInput(Math.min(this.state.values.length-1,gt+ft.length))})},this.onCodeLengthChange=Lt=>{const gt=Object(oe.a)(this.props.codeLength,()=>"");Lt.values.forEach((it,ft)=>{ft<gt.length&&(gt[ft]=it)}),this.setState(()=>({values:gt})),this.inputRefs=gt.map(()=>a.a.createRef())},this.state={values:Object(oe.a)(Tt.codeLength,()=>""),focusedInputIndex:-1},this.inputRefs=this.state.values.map(()=>a.a.createRef())}},"TwoFactorCodeInput");Pe.displayName="TwoFactorCodeInput",Pe.defaultProps={isNumbersOnly:!0};const Ue=new I.b("sign_in");function ae(pt){let Tt=null;return pt.error===Z.SMS_RATE_LIMITED?Tt=Ue.rt("Apologies! There were too many SMS message requests in a short period, so you\u2019ll have to wait a moment to try again."):pt.error===Z.INVALID_CODE?Tt=Ue.rt("Your two-factor authentication code was incorrect. Please try again."):pt.error===Z.RATE_LIMITED?Tt=Ue.rt("You\u2019ve been trying to log in too often. Wait a few minutes and try again."):pt.error===Z.TOO_MANY_ATTEMPTS?Tt=Ue.rt("We\u2019ve detected too many failed attempts to enter a code. For safety we\u2019ve reset your password. Please check your email for further information.",{fallbackHash:"7773426b227dec3b18a254adf97a7e212e998276"}):Tt=Ue.rt("An unknown error occurred."),a.a.createElement(E.d,{className:"p-enter-code-error__alert",type:E.c.boxed,icon:"lock-o",level:E.b.error,align:E.a.left},a.a.createElement("span",null,Tt))}v(ae,"EnterCodeError");var ne=e("zxER"),Ie=e("zm5I"),Te=e("geaL");function Me(){return Me=Object.assign||function(pt){for(var Tt=1;Tt<arguments.length;Tt++){var Lt=arguments[Tt];for(var gt in Lt)Object.prototype.hasOwnProperty.call(Lt,gt)&&(pt[gt]=Lt[gt])}return pt},Me.apply(this,arguments)}v(Me,"enter_code_root_extends");const Ne=new I.b("sign_in"),He=5*60*1e3,Et={elementName:"resend_button",onClick:{enableClogAction:!0}},Je={elementName:"backup_button",onClick:{enableClogAction:!0}},qe={elementName:"emergency_backup_button",onClick:{enableClogAction:!0}},ke="two_factor_form",rt="enter-code",pe=6;var je;(function(pt){pt.Request="request_primary",pt.RequestBackup="request_backup",pt.SubmitPrimary="submit_primary",pt.SubmitBackup="submit_backup",pt.SubmitEmergency="submit_emergency",pt.None="none"})(je||(je={}));function xe(pt){const[Tt,Lt]=Object(t.useState)(pt.twoFactorType),[gt,it]=Object(t.useState)("");var ft;const[Ke,Ve]=Object(t.useState)((ft=pt.action)!==null&&ft!==void 0?ft:je.None),[Be,Ye]=Object(t.useState)(!1),[we,mt]=Object(t.useState)(pe),[Pt,Nt]=Object(t.useState)(!1),Ze=a.a.useRef(null),Xe=a.a.createRef(),Ct=pt.submitOverride,{trackClogAuthRef:G,clogAuthLoginClick:de,trackClog:Le}=Object(Te.c)(),Re=G({eventId:Ee.EventId.AUTH_WORKSPACE_ENTER_CODE,uiPage:rt});Object(t.useEffect)(()=>{if(Be){var Rn,an;if((Rn=Le.current)===null||Rn===void 0||(an=Rn.track)===null||an===void 0||an.call(Rn,{elementName:ke,elementValue:Ke}),de({eventId:Ee.EventId.AUTH_WORKSPACE_ENTER_CODE,elementName:ke,uiPage:rt,elementValue:Ke})(),Ct&&Xe.current)Ye(!1),Nt(!0),Ct(gt,Ke,pt.magicLogin).then(()=>{var kn;(kn=Ze.current)===null||kn===void 0||kn.clear(),Nt(!1)});else{var Gt;(Gt=Xe.current)===null||Gt===void 0||Gt.submit()}}},[Ke,Be,Xe,Le,gt,Ct,pt.magicLogin,de]),Object(t.useEffect)(()=>{(pt.error===Z.RATE_LIMITED||pt.error===Z.TOO_MANY_ATTEMPTS)&&Nt(!0),pt.error===Z.RATE_LIMITED&&setTimeout(()=>{Nt(!1)},He)},[pt.error]);const Fe=Tt===q.EMERGENCY,tt=Ke===je.RequestBackup||Ke===je.SubmitBackup,ut=!Fe&&(tt&&pt.twoFactorBackupType===q.SMS||!tt&&pt.twoFactorType===q.SMS||pt.twoFactorType===q.EMAIL),St=pt.twoFactorType===q.EMAIL,tn=pt.twoFactorType===q.SMS?Ne.rt("Send Code to Primary Phone"):Ne.rt("Use Authentication App"),Yt=pt.twoFactorBackupType===q.SMS?Ne.rt("Send Code to Backup Phone"):Ne.rt("Use Backup Authentication App"),un=v(()=>a.a.createElement(le.a,{type:"outline",onClick:()=>{Ve(tt?je.RequestBackup:je.Request),Ye(!0)},autoClogProps:Et},tt?Ne.rt("Resend Code to Backup Phone"):Ne.rt("Resend Code")),"ResendButton"),$t=v(()=>a.a.createElement(le.a,{type:"outline",onClick:()=>{Ve(tt?je.Request:je.RequestBackup),Ye(!0)},autoClogProps:Je},tt?tn:Yt),"BackupButton");$t.displayName="BackupButton";const gn=v(()=>{let Rn;return Fe?Rn=tt?Yt:tn:Rn=Ne.rt("Use Emergency Backup Code",{fallbackHash:"722971c61482e6fdf1d0c37abc0d6505ac884e0c"}),a.a.createElement(le.a,{type:"outline",onClick:()=>{Fe?(Lt(pt.twoFactorType),mt(pe)):(Lt(q.EMERGENCY),mt(pt.emergencyCodeLength))},autoClogProps:qe},Rn)},"EmergencyButton");gn.displayName="EmergencyButton";const et=v(()=>pt.twoFactorType===q.EMAIL?pt.isClientApp?Ne.rt("We don\u2019t recognize this device",{fallbackHash:"c7a15a747957cbfe27c485a1f69bd93d726680b6"}):Ne.rt("We don\u2019t recognize this browser",{fallbackHash:"c7a15a747957cbfe27c485a1f69bd93d726680b6"}):Ne.rt("Enter your authentication code"),"GetHeader"),An=v(()=>{if(Fe)return Ne.rt("Check the list of emergency backup codes provided when setting up 2FA.",{fallbackHash:"722971c61482e6fdf1d0c37abc0d6505ac884e0c"});if(tt)return pt.twoFactorBackupType===q.APP?Ne.rt("Check your authentication app for your code."):Ne.rt("We\u2019ve sent an authentication code to your backup phone <br></br> for signing into <strong>{teamName}</strong>.",{teamName:pt.teamName});switch(pt.twoFactorType){case q.APP:return Ne.rt("Check your authentication app for your code.");case q.EMAIL:return Ne.rt("We hate to be a bother, but we need to do our due diligence to keep your account safe. Please enter the code we\u2019ve just sent to {emailAddress} below to complete your sign-in.",{teamName:pt.teamName,emailAddress:pt.emailAddress,fallbackHash:"482df38f5efc61b851c499bff4080846e0f2b65b"});default:return Ne.rt("We\u2019ve sent an authentication code to your phone for signing into <strong>{teamName}</strong>.",{teamName:pt.teamName})}},"GetSubheader"),pn=v(Rn=>{let an;Fe?an=je.SubmitEmergency:an=tt?je.SubmitBackup:je.SubmitPrimary,it(Rn),Ve(an),Ye(!0)},"onFillCode"),Pn=Object(ne.a)(Ie.a);return a.a.createElement(ge.a,{eventId:Ee.EventId.TWO_FACTOR_AUTH,uiPage:rt,trackClogRef:Re},a.a.createElement(ee,{clientTheme:Pn},a.a.createElement(te.a,{heading:et(),subHeading:An(),subHeadingClassName:"p-enter_code_app__view_sub_header"},pt.codeResent&&a.a.createElement(E.d,{className:"p-enter-code-error__alert",type:E.c.boxed,icon:"paper-plane",level:E.b.info,align:E.a.left},St?Ne.rt("We\u2019ve sent a fresh code to {emailAddress} for signing into <strong>{teamName}</strong>.",{teamName:pt.teamName,emailAddress:pt.emailAddress,fallbackHash:"ed10973da08d5a9563d5aa07b51e6771457ef6b0",fallbackHashNs:"find_team"}):Ne.rt("We\u2019ve sent a fresh code to your phone for signing into <strong>{teamName}</strong>.",{teamName:pt.teamName})),pt.error&&a.a.createElement(ae,{error:pt.error}),a.a.createElement("form",{ref:Xe,className:"p-enter_code",method:"POST"},a.a.createElement("div",{className:"p-enter_code__input_container"},a.a.createElement("fieldset",{className:"p-enter_code__input_fieldset"},a.a.createElement("legend",{className:"offscreen"},Ne.rt("{codeLength}-digit confirmation code",{codeLength:we,fallbackHash:"0279e13b54733feec1317a9d5a3f36bfe1b56e30"})),a.a.createElement(Pe,{ref:Ze,onFillCode:pn,onChange:()=>{},hideDash:!0,error:pt.error,disabled:Pt,codeLength:we}),a.a.createElement("input",{type:"hidden",name:"2fa_magiclogin",value:pt.magicLogin}),pt.redir.length>0&&a.a.createElement("input",{type:"hidden",name:"redir",value:pt.redir}),a.a.createElement("input",{type:"hidden",name:"remember",value:pt.remember?"1":"0"}),a.a.createElement("input",{type:"hidden",name:"has_remember",value:pt.hasRemember}),a.a.createElement("input",{type:"hidden",name:"2fa_code",value:gt}),a.a.createElement("input",{type:"hidden",name:"2fa_action",value:Ke})))),a.a.createElement(ie,Me({},pt),a.a.createElement("div",{className:"p-enter-code__button"},ut&&a.a.createElement(un,null),pt.twoFactorBackupType&&!Fe&&a.a.createElement($t,null),!St&&a.a.createElement(gn,null))),pt.loggedInTeams.length>0&&a.a.createElement("div",{className:"p-enter-code__logged_in_teams"},a.a.createElement(he,Me({},pt))))))}v(xe,"EnterCodeRoot");var ze=e("j77i"),st=e("CTtb"),ct=e("toaU"),dt=e("68qM");function bt(){return bt=Object.assign||function(pt){for(var Tt=1;Tt<arguments.length;Tt++){var Lt=arguments[Tt];for(var gt in Lt)Object.prototype.hasOwnProperty.call(Lt,gt)&&(pt[gt]=Lt[gt])}return pt},bt.apply(this,arguments)}v(bt,"enter_2fa_code_modal_extends");const Ft=new I.b("2fa_modal"),Bt={enter2faCodeModal:"enter_2fa_code_modal",cancelButton:"enter_2fa_code_modal_cancel_button"},at={isSSB:!0,isSSBSignIn:!0,hasPromoOffer:!1,shouldRedirect:!1,redirectURL:"",loggedInTeams:[],remember:!1,hasRemember:"",children:void 0,isOpen:!0};function Ht(pt,Tt){const Lt=Object(ze.i)();if(pt!==void 0){const it=Lt[pt].two_factor_magic_login;it!==void 0&&it.token&&(it.token=Tt),Object(ze.v)("pendingAuthTeams",Lt)}}v(Ht,"updateLocalConfig2fa");function Wt(pt){const Tt=Object(ze.i)();if(pt!==void 0){const Lt=Tt[pt];Lt.two_factor_magic_login=void 0,Object(ze.v)("pendingAuthTeams",Tt)}}v(Wt,"clearLocalConfig2faMagicLogin");function yt(pt){let{magicLogin:Tt,teamId:Lt,type:gt,backupType:it,emergencyLength:ft,emailAddress:Ke,teamName:Ve,currentTeamId:Be,isOpen:Ye,closeModal:we}=pt;const[mt,Pt]=Object(t.useState)(Tt),[Nt,Ze]=Object(t.useState)(null),[Xe,Ct]=Object(t.useState)(!1),G=Be?Object(s.getStoreInstanceByTeamId)(Be):void 0,de=Object(t.useCallback)((Re,Fe,tt)=>{const ut={magic_token:tt,ssb:!0,two_factor_native_supported_v2:!0,two_factor_pin:Re,two_factor_is_backup:Fe===k.REQUEST_BACKUP||Fe===k.SUBMIT_BACKUP};return Fe===k.REQUEST_CODE||Fe===k.REQUEST_BACKUP?(ut.two_factor_pin="",Ct(!0)):Ct(!1),new g.a(St=>{Object(m.a)("auth.loginMagic",ut,(tn,Yt)=>{if(tn&&Yt.refreshed_magic_login){var un;Pt(Yt.refreshed_magic_login),Ht(Lt,Yt.refreshed_magic_login),!((un=Yt.reason)===null||un===void 0)&&un.match(/^missing_/)||Ze(Yt.reason),St(tn)}else tn&&Yt.team?Object(st.a)({currentTeamStore:G,newWorkspaceId:Lt,navigateToRouteProps:{routeName:ct.a},shouldAutoSignIn:!0}).then(()=>{we(),St(tn)}):(Wt(Lt),Object(st.a)({currentTeamStore:G,newWorkspaceId:Lt,navigateToRouteProps:{routeName:ct.a}}).then(()=>{we(),St(tn)}))})})},[Lt,G,we]);Object(dt.a)(()=>{de("",k.SUBMIT_PRIMARY,mt??"")},[]);const Le=Ft.t("Finish signing into {teamName}",{teamName:Ve,fallbackHash:"e27938a88eacaa79d651d3aeb0bc39d128f0dd6c",fallbackHashNs:"team_picker"});return a.a.createElement(r.a,{isOpen:Ye,contentLabel:"two_factor",maxWidth:"800px",centered:!0,closeModal:we,"data-qa":Bt.enter2faCodeModal},a.a.createElement(c.a,null,a.a.createElement(o.a,{title:Le})),a.a.createElement(i.a,null,a.a.createElement(d.a,null,a.a.createElement("div",{id:"enter-code-app-root"},a.a.createElement(xe,bt({},at,{teamName:Ve,error:Nt,action:null,magicLogin:mt||"",twoFactorType:gt,twoFactorBackupType:it,emailAddress:Ke,codeResent:Xe,redir:"",emergencyCodeLength:ft,isClientApp:!0,submitOverride:de}))))),a.a.createElement(l.a,null,a.a.createElement(u.a,null,a.a.createElement(f.a,{type:"outline","data-qa":Bt.cancelButton},Ft.t("Cancel",{fallbackHash:"77dfd2135f4db726c47299bb55be26f7f4525a46",fallbackHashNs:"admin"})))))}v(yt,"TwoFAModal"),yt.displayName="TwoFAModal";const Xt=Object(O.a)(yt);var cn=e("s4P+"),mn=e("7xYR");function In(pt,Tt){const Lt=Object(s.getStateForClientStore)();if(!Object(mn.isWorkspacePendingTwoFactor)(Lt,pt))return!1;const gt=Object(mn.getWorkspacesMeta)(Lt),it=gt==null?void 0:gt[pt],{two_factor_magic_login:ft,name:Ke}=it,{token:Ve,user_2fa_type:Be,user_2fa_backup_type:Ye,user_emergency_code_length:we,email:mt}=ft;let Pt;return Tt?Pt=Object(s.getStoreInstanceByTeamId)(Tt):Pt=Object(s.getStoreInstanceByTeamId)(Object(mn.getFocusedWorkspace)(Lt)),Pt?(Pt.dispatch(Xt({magicLogin:Ve,teamId:pt,type:Be,backupType:Ye,emergencyLength:we,teamName:Ke,currentTeamId:Tt,emailAddress:mt})),!0):(Object(cn.b)().error("TWO_FACTOR_SSB",`${pt} is pending 2fa, but no store for ${Tt}, falling back to openSignIn()`),!1)}v(In,"maybeRenderTwoFactorModal")},gENi:function(K,n,e){"use strict";e.d(n,"a",function(){return t});var s=e("kBpe");function t(){return!Object(s.o)()&&Object(s.i)()}v(t,"isDrawSupported")},gHj1:function(K,n,e){"use strict";e.d(n,"a",function(){return m});var s=e("9oTK"),t=e("VHGx"),a=e("Xo6s");function r(g){return c.apply(this,arguments)}v(r,"fetchNearestChimeMediaRegion");function c(){return c=Object(s.coroutine)(function*(g){const E=new t.b({url:g?"https://nearest-us-gov-media-region.l.chime.aws/":"https://nearest-media-region.l.chime.aws"});try{const p=yield new a.a().q(E);return JSON.parse(p).region}catch{return""}}),c.apply(this,arguments)}v(c,"_fetchNearestChimeMediaRegion");var o=e("Lgge"),i=e("PsQx"),l=e("zIak"),u=e("AdD7"),f=e("mGaQ"),d=e("s4P+");let O=v(class ga{writeRegions(E,p){const h=p?ga.GOV_REGION_STORAGE_KEY:ga.REGION_STORAGE_KEY,_={regions:E,timestamp:Date.now(),version:ga.VERSION};try{localStorage.setItem(h,JSON.stringify(_))}catch(b){Object(d.b)({label:"REGION-PROVIDER"}).error("Could not write chime media regions to localStorage: ",b.message)}}readRegions(E){const p=E?ga.GOV_REGION_STORAGE_KEY:ga.REGION_STORAGE_KEY,h=localStorage.getItem(p);if(!h)return null;let _=null;try{_=JSON.parse(h)}catch(b){return Object(d.b)({label:"REGION-PROVIDER"}).error("Could not parse chime media regions from localStorage: ",b.message),null}return _.version!==ga.VERSION||this.ttl&&Date.now()-_.timestamp>this.ttl?null:_}constructor(E){this.ttl=E}},"ChimeRegionStorage");O.REGION_STORAGE_KEY="ChimeRegionStorage-chimeRegionCache",O.GOV_REGION_STORAGE_KEY="ChimeRegionStorageGov-chimeRegionCache",O.VERSION=1;let m=v(class ws{static getInstance(){return ws.instance||(ws.instance=new ws),ws.instance}getNearestChimeMediaRegion(E){var p=this;return Object(s.coroutine)(function*(){return(E?Object(f.a)(E):!1)?p.getNearestChimeGovMediaRegion():p.getNearestChimeCommercialMediaRegion()})()}getNearestChimeCommercialMediaRegion(){var E=this;return Object(s.coroutine)(function*(){if(!E.commercialRegions){const p=E.storage.readRegions(!1);p&&(E.commercialRegions=p.regions)}return E.commercialRegions?E.commercialRegions:E.remoteGetNearestChimeMediaRegion(!1)})()}getNearestChimeGovMediaRegion(){var E=this;return Object(s.coroutine)(function*(){if(!E.govRegions){const p=E.storage.readRegions(!0);p&&(E.govRegions=p.regions)}return E.govRegions?E.govRegions:E.remoteGetNearestChimeMediaRegion(!0)})()}remoteGetNearestChimeMediaRegion(E){var p=this;return Object(s.coroutine)(function*(){const h=yield o.a.resolve(r(E));return E?p.govRegions=h:p.commercialRegions=h,p.storage.writeRegions(h,E),h})()}init(){if(this.initialized)return 0;this.initialized=!0;const E=Object(u.b)();let p=ws.INITIAL_LOAD_DELAY;const h=this.storage.readRegions(E);h&&(E?this.govRegions=h.regions:this.commercialRegions=h.regions,p=Math.max(ws.INITIAL_LOAD_DELAY,ws.REFRESH_INTERVAL-(Date.now()-h.timestamp)));var _=this;const b=setTimeout(Object(s.coroutine)(function*(){yield _.remoteGetNearestChimeMediaRegion(E);const I=new i.a(ws.REFRESH_INTERVAL);I.start(Object(s.coroutine)(function*(){yield _.remoteGetNearestChimeMediaRegion(E)})),Object(l.a)(()=>{I.stop()})}),p);return Object(l.a)(()=>{clearTimeout(b)}),p}getRawRegions(){return this.commercialRegions}clear(){this.commercialRegions=null,this.govRegions=null,this.initialized=!1}constructor(){this.commercialRegions=null,this.govRegions=null,this.initialized=!1,this.storage=new O(ws.REFRESH_INTERVAL)}},"ChimeRegionProvider");m.REFRESH_INTERVAL=3*24*60*60*1e3,m.INITIAL_LOAD_DELAY=5*1e3},gLZF:function(K,n,e){"use strict";e.d(n,"a",function(){return a});var s=e("Zbwg"),t=e("l1I1");function a(r){let{primaryViewId:c,secondaryViewId:o}=r;if(!c||!o)return!1;const u=Object(s.a)(c)&&["thread","user_profile","rimeto_profile","user_groups","files","docs","channel_canvas"].includes(o),O=Object(t.a)(c)&&["comment_thread","comment_stream","activity_history"].includes(o);return u||O}v(a,"isValidDetailView")},"gOA+":function(K,n,e){"use strict";e.d(n,"a",function(){return g}),e.d(n,"b",function(){return p});var s=e("oTSI"),t=e("uAML"),a=e("Lgge"),r=e("lhZz"),c=e("pu3F"),o=e("9mnW"),i=e("O86Y"),l=e("3KdQ"),u=e("SQ0V"),f=e("0Wfr"),d=e("BEaa"),O=e("s4P+");const m=1e4,g=Object(s.a)(()=>new t.b({fetch:(_,b)=>a.a.all(b.map(I=>Object(r.dispatchForTeamId)(_,h({channelId:I,count:c.J})))),isEnabled:()=>!0,metricsName:"member-list"})),E=Object(u.c)("marks objects as stale via CFM for Membership List",function(_,b){let{teamId:I,channelId:C}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};g().markObjectsAsStale(I,[C])});E.meta={name:"createThunk",key:"createThunkmarkObjectsAsStale",description:"marks objects as stale via CFM for Membership List"};const p=Object(f.a)(E,Object(d.a)(m,0,.5)),h=Object(u.c)("Fetches top members for the channel",function(_,b){let{channelId:I,count:C}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return Object(o.b)(_,b,I,C).then(y=>{const P=Object(i.g)(b());if(!P){Object(O.b)().info("MOS","No teamId found");return}return g().markObjectsAsFresh(P,[I]),_(Object(l.a)({channelId:I,memberList:y}))})});h.meta={name:"createThunk",key:"createThunkfetchAndUpsertFirstNMembersForChannel",description:"Fetches top members for the channel"}},gZuW:function(K,n,e){"use strict";var s=e("q1tI"),t=e.n(s),a=e("iuhU"),r=e("oEDn");function c(){return c=Object.assign||function(l){for(var u=1;u<arguments.length;u++){var f=arguments[u];for(var d in f)Object.prototype.hasOwnProperty.call(f,d)&&(l[d]=f[d])}return l},c.apply(this,arguments)}v(c,"_extends");let o=v(class extends s.PureComponent{render(){const{children:u,className:f,id:d,...O}=this.props,m=Object(a.default)("c-inline_alert",f);return t.a.createElement("div",c({},O,{className:m,id:d,"data-qa-error":!0}),t.a.createElement(r.a,{type:"info-circle",className:"c-inline_alert__icon",size:"inherit",inline:!0}),t.a.createElement("span",{className:"c-inline_alert__text"},u))}},"InlineAlert");o.displayName="InlineAlert",o.defaultProps={className:"",id:""};var i=n.a=o},geaL:function(K,n,e){"use strict";e.d(n,"a",function(){return r}),e.d(n,"b",function(){return o}),e.d(n,"c",function(){return i});var s=e("q1tI"),t=e.n(s),a=e("ktUG");const r=v(l=>({action:a.UiAction.IMPRESSION,uiPage:window.location.href,...l}),"getAuthImpressionTrackParams"),c=v(l=>({action:a.UiAction.CLICK,uiPage:window.location.href,...l}),"getAuthClickTrackParams"),o=v(l=>({uiPage:window.location.href,...l}),"getAuthTrackParams");function i(){let l=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;const u=Object(s.useRef)(null),f=Object(s.useCallback)(m=>g=>{if(u.current={track:g},l){var E;u==null||(E=u.current)===null||E===void 0||E.track(r(m))}},[u,l]),d=Object(s.useCallback)(m=>()=>{var g;u==null||(g=u.current)===null||g===void 0||g.track(c(m))},[u]),O=Object(s.useCallback)(m=>()=>{var g;u==null||(g=u.current)===null||g===void 0||g.track(o(m))},[u]);return{trackClog:u,trackClogAuthRef:f,clogAuthLoginClick:d,clogAuthLoginAction:O}}v(i,"useAuthClogger")},gl8A:function(K,n,e){K.exports=e.p+"hummus-200e354.mp3"},gsmS:function(K,n,e){"use strict";e.d(n,"a",function(){return m});var s=e("9oTK"),t=e.n(s),a=e("s4P+"),r=e("oTSI"),c=e("Lgge"),o=e("uAML"),i=e("lhZz"),l=e("MvPG"),u=e("8j9e");const f="HERMES_TRIGGERS_CFM";function d(g,E){return O.apply(this,arguments)}v(d,"fetchAndUpsertTriggersById");function O(){return O=Object(s.coroutine)(function*(g,E){return c.a.map(E,function(){var p=Object(s.coroutine)(function*(h){try{const{trigger:_,ok:b}=yield Object(i.dispatchForTeamId)(g,Object(l.b)({triggerId:h,includeWorkflowDetails:!0,reason:"fetch-stale-triggers-with-cfm"}));if(!b){Object(a.a)({teamId:g}).error(f,`unable to fetch ${h}, workflows.triggers.info responded with not ok`);return}Object(i.dispatchForTeamId)(g,Object(u.k)({triggers:[_]}))}catch{}});return function(h){return p.apply(this,arguments)}}())}),O.apply(this,arguments)}v(O,"_fetchAndUpsertTriggersById");const m=Object(r.a)(()=>new o.b({fetch:d,isEnabled:()=>!0}))},gukb:function(K,n,e){"use strict";e.d(n,"a",function(){return c});var s=e("NFsq"),t=e("+l5E");const a=["channel_join","channel_leave","group_join","group_leave","huddle_message","huddle_thread","mpim_notify_disabled","app_conversation_join","app_conversation_leave","app_conversation_created"];Object.defineProperty({},"ignoredMessageTypes",{get:()=>a});function c(o,i){return Object(t.db)(o)?!1:Object(t.ib)(o,i)?!0:!(o.user===i||o.comment&&o.comment.user===i||Object(s.a)(a,o.subtype)||o.dnd_suppressed)}v(c,"canCountAsUnreadForCurrentUser")},gv7z:function(K,n,e){"use strict";var s=e("q1tI"),t=e.n(s),a=e("iuhU"),r=e("ifKl"),c=e("BJra"),o=e("sGXp");function i(){return i=Object.assign||function(O){for(var m=1;m<arguments.length;m++){var g=arguments[m];for(var E in g)Object.prototype.hasOwnProperty.call(g,E)&&(O[E]=g[E])}return O},i.apply(this,arguments)}v(i,"_extends");const l=v((O,m,g,E)=>!(O!==o.c.medium||!g||E||m),"shouldVerticallyCenter"),u={className:"c-base_entity__avatar"},f=v(O=>{const{size:m,style:g=o.d.normal,text:E=null,className:p="",subtext:h=null,avatar:_=r.a,metadata:b=null,forwardedRef:I=null}=O,C=_(u),y=!!C;return t.a.createElement("div",i({className:Object(a.default)(p,"c-base_entity",`c-base_entity--${m}`,{"c-base_entity--has-avatar":y,"c-base_entity--dim":g===o.d.dim,"c-base_entity--vertically-center":l(m,h,y,b)})},Object(c.a)(O),{ref:I}),C,t.a.createElement("div",{className:"c-base_entity__text-contents"},E,h,b))},"BaseEntity");f.displayName="BaseEntity";var d=n.a=f},hAJ3:function(K,n,e){"use strict";e.d(n,"a",function(){return i});var s=e("Lgge"),t=e("SQ0V"),a=e("FZZA"),r=e("AaY3"),c=e("0dq7"),o=e("CMT/");const i=Object(t.c)("Creates a new huddle in mpim where all huddle participants are channel members",(l,u,f)=>{let{channelId:d,memberIds:O}=f;return l(Object(o.a)({memberIds:O})).then(m=>{l(Object(a.a)(d)),l(Object(r.a)({channelId:m.id,entryPoint:c.e.CREATE_NEW_MPIM}))}).catch(m=>s.a.reject(m))});i.meta={name:"createThunk",key:"createThunkcreateNewHuddleInMpimWithUsers",description:"Creates a new huddle in mpim where all huddle participants are channel members"}},hE2u:function(K,n,e){"use strict";e.d(n,"a",function(){return a}),e.d(n,"b",function(){return r});var s=e("Fuyg"),t=e("nNoG");const a=/[- _'.\u{2019}\u{200b}()/\uFF0F]/gu;let r=v(class _s{normalizeAndScore(o){const i=Object(s.a)(o);return i===this.normalizedQuery?0:this.score(i)}score(o){if(!o||this.queryNoSeparators.length>o.replace(a,"").length||!_s.containsAllLetters(o,this.queryNode)||!this.queryNode)return 1/0;const l=_s.lettersToGraph(o,this.options);if(!l)return 1/0;const u=_s.searchWordBoundariesOnly(l,this.queryNode,this.options);if(!u)return 1/0;const f=_s.countResult(u);return f>this.fuzzyLimit?1/0:f}static scoreOnce(o,i){let l=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const u=Object(s.a)(i),f=Object(s.a)(o);return new _s(u,l).score(f)}static lettersToGraph(o){let i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const l=o.split(""),u=l.shift();return _s.lettersToGraphWorker(u,null,l,[],0,i)}static lettersToGraphWorker(o,i,l,u,f,d){if(!o)return null;const O=Object(t.d)(o),m=_s.makeLetterNode(o,i,u,f,O);if(_s.shouldAddJump(i,m,d)){const E=d.fuzzyJumpLimit||5;u.length<E&&u.push(m)}const g=_s.lettersToGraphWorker(l.shift(),m,l,u,f+1,d);return g&&(m.next=g),m}static shouldAddJump(o,i,l){return i.ignored?!1:!!(!o||o.ignored&&!i.ignored||l.fuzzyCJK&&(o.isCJK!==i.isCJK||i.isCJK))}static makeLetterNode(o,i,l,u,f){return{letter:o,ignored:o.match(a),next:null,prev:i,jumps:l,visited:!1,index:u,isCJK:f}}static queryToLinkedList(o){if(!o)return null;let i=o.split("");return i.length>1024&&(i=i.slice(0,1024)),_s.queryToLinkedListWorker(i,0)}static queryToLinkedListWorker(o,i){if(i>=o.length)return null;const l=o[i],u=l.match(a)&&(i!==0||o.length>1);return{letter:l,isSeparator:u,isSpace:l===" ",next:_s.queryToLinkedListWorker(o,i+1),index:i}}static searchWordBoundariesOnly(o,i,l){let u=_s.searchWordBoundariesOnlyWorker(o,i,0,l);return u||(u=o.jumps.reduce((f,d)=>f||d===o?f:_s.searchWordBoundariesOnlyWorker(d,i,1,l),null)),u}static searchWordBoundariesOnlyWorker(o,i,l,u){if(!o)return null;let f;if(!o.visited&&(o.letter===i.letter||o.ignored&&i.isSeparator)&&(f={node:o,count:l}),!f)return null;if(!i.next)return f;o.visited=!0;let d=_s.searchWordBoundariesOnlyWorker(o.next,i.next,0,u),O=i.next;for(;O.isSeparator&&O.next;)O=O.next;return d||(d=o.jumps.reduce((m,g)=>m||g.visited||g===o||(u.searchForwardOnly||u.substringsOnly)&&g.index<o.index||u.substringsOnly&&g.index>o.index+2?m:_s.searchWordBoundariesOnlyWorker(g,O,1,u),null)),o.visited=!1,d?(f.next=d,f):null}static countResult(o){return o?o.count+_s.countResult(o.next):0}static containsAllLetters(o,i){let l=i;for(;l;){if(!(l.isSeparator||o.includes(l.letter)))return!1;l=l.next}return!0}constructor(o,i={}){this.normalizedQuery=Object(s.a)(o),this.queryNode=_s.queryToLinkedList(this.normalizedQuery),this.options=i;var l;this.options.fuzzyLimit=(l=this.options.fuzzyLimit)!==null&&l!==void 0?l:1/0,this.queryNoSeparators=this.normalizedQuery.replace(a,"")}},"FuzzyMatcher")},hEZF:function(K,n,e){"use strict";var s=e("9oTK"),t=e.n(s),a=e("SQ0V"),r=e("Qmy9"),c=e("59uo");const o=Object(a.c)("Sets the active tile",function(){var i=Object(s.coroutine)(function*(l,u,f){let{tile:d,isHistoryNavigation:O=!1}=f;const m=Object(c.b)(u());m&&l(Object(r.a)({key:m,tile:d,isHistoryNavigation:O}))});return function(l,u,f){return i.apply(this,arguments)}}());o.meta={name:"createThunk",key:"createThunksetActiveTile",description:"Sets the active tile"},n.a=o},hHne:function(K,n,e){"use strict";var s=e("SQ0V"),t=e("O86Y"),a=e("PWAB"),r=e("AO5M"),c=e("j77i");const o=Object(s.c)("Entirely replaces tile state",(i,l,u)=>{let{tileHistoryState:f}=u;if(!f)return;const d=Object(t.g)(l());Object(c.w)(d,a.a.HISTORY,f),i(Object(r.d)({tileHistoryState:f}))});o.meta={name:"createThunk",key:"createThunkreplaceTileHistoryState",description:"Entirely replaces tile state"},n.a=o},hTnU:function(K,n,e){"use strict";e.d(n,"a",function(){return u});var s=e("q1tI"),t=e.n(s),a=e("npde"),r=e("E/AO"),c=e("nNoG");const o=new c.b("stories_av");function i(f){let{closeModal:d,onConfirmClose:O,onCancelClose:m}=f;const g=Object(s.useCallback)(()=>{d(),O()},[d,O]),E=Object(s.useCallback)(()=>{d(),m==null||m()},[d,m]);return t.a.createElement(r.a,{"data-qa":"stories_create_speedbump",onCancel:E,onClose:d,cancelButtonText:o.t("Keep Recording"),submitButtonType:"danger",submitButtonText:o.t("Delete Clip"),title:o.t("Delete clip?"),onSubmit:g},t.a.createElement("p",null,o.t("Just a reminder, this won\u2019t be saved if you leave now.")))}v(i,"VideoRecorderSpeedBump"),i.displayName="VideoRecorderSpeedBump";var l=i;const u=Object(a.a)(i)},hXnR:function(K,n,e){"use strict";var s=e("9oTK"),t=e("q1tI"),a=e.n(t),r=e("/MKj"),c=e("pFNT"),o=e("qDEp"),i=e("jWAO"),l=e("8aX7"),u=e("nWdO"),f=e("zxER"),d=e("WMzb"),O=e("i5Ig"),m=e("yxNq"),g=e("YUBf"),E=e("pu3F"),p=e("9Gfp"),h=e("sgFo"),_=e("3vtZ"),b=e("CMT/"),I=e("nNoG"),C=e("y6S6"),y=e("CDqL"),P=e("E97Y"),T=e("to1N"),S=e("0dq7"),A=e("Trx9"),R=e("ktUG"),x=e("s9Q6"),M=e("beVI"),j=e("G0eX"),W=e("GNR7"),U=e("WAPM"),B=e("fPvf"),Y=e("DneB"),z=e("E3dU"),F=e("+CZ0"),V=e("Ccc1"),L=e("C3vN"),Q=e("xwCZ"),ee=e("hooW"),te=e("9068");function le(rt){let{memberId:pe}=rt;const je=Object(f.a)(ze=>Object(Q.g)(ze,pe)),xe=Object(f.a)(ze=>Object(L.N)(ze,je,!1,!1));return Object(te.c)(je)?a.a.createElement(ee.a,{type:"unknown"}):Object(te.b)(je)?a.a.createElement(ee.a,{type:"non-existent"}):a.a.createElement("span",null,xe)}v(le,"DeprecatedHuddleName"),le.displayName="DeprecatedHuddleName";const Oe=new I.b("huddles");function he(rt){let{unknownMemberIds:pe}=rt;const je=Object(Y.b)(F.b),xe=Object(f.a)(ct=>Object(z.c)(ct,je)),ze=Object(t.useMemo)(()=>je?pe:[],[je,pe]);let st;if(ze.length===1)st=Oe.rt("{name1} is not a member of {channel}.",{name1:a.a.createElement(le,{memberId:ze[0]}),channel:a.a.createElement(V.a,{channel:xe})});else if(ze.length===2)st=Oe.rt("{name1} and {name2} are not a member of {channel}.",{name1:a.a.createElement(le,{memberId:ze[0]}),name2:a.a.createElement(le,{memberId:ze[1]}),channel:a.a.createElement(V.a,{channel:xe})});else if(ze.length===3)st=Oe.rt("{name1}, {name2}, and {name3} are not a member of {channel}.",{name1:a.a.createElement(le,{memberId:ze[0]}),name2:a.a.createElement(le,{memberId:ze[1]}),name3:a.a.createElement(le,{memberId:ze[2]}),channel:a.a.createElement(V.a,{channel:xe})});else if(ze.length>3){const[ct,dt,bt,...Ft]=ze,Bt=Ft.map(at=>a.a.createElement(le,{key:at,memberId:at}));st=Oe.rt("{name1}, {name2}, {name3} and {numOthers} more are not a member of {channel}.",{name1:a.a.createElement(le,{memberId:ct}),name2:a.a.createElement(le,{memberId:dt}),name3:a.a.createElement(le,{memberId:bt}),channel:a.a.createElement(V.a,{channel:xe}),numOthers:ze.length-3},at=>{let{text:Ht}=at;return a.a.createElement(u.c,{tip:Object(I.h)(Bt,{noEscape:!0})},a.a.createElement("span",null,Ht))})}return a.a.createElement("small",null,st)}v(he,"HuddleInviteNotAMember"),he.displayName="HuddleInviteNotAMember";var Ee=he,ge=e("+kJ4"),J=e("TUw0"),H=e("Sl1j"),Z=e("B4ch"),q=e("FN5i");const k=new I.b("huddles");function se(rt){let{members:pe}=rt;const je=Object(r.useDispatch)(),[xe,ze]=Object(t.useState)(null),[st,ct]=Object(t.useState)([]),dt=Object(Y.b)(F.b)||"",bt=Object(f.a)(Wt=>Object(z.c)(Wt,dt)),Ft=Object(t.useCallback)(()=>je(Object(ge.a)()),[je]),Bt=Object(t.useCallback)(()=>je(Object(ge.a)({closeAll:!0})),[je]),at=Object(t.useCallback)(Wt=>{ze(Wt),je(Object(H.B)({channelId:dt,users:Wt})).then(()=>{st.push(Wt),ct(st),ze(null)}).catch(()=>{ze(null)})},[dt,je,st]),Ht=Object(t.useMemo)(()=>({addedToChannel:k.t("Added to channel"),notInChannel:k.t("Not in channel"),added:k.t("Added"),inviteToChannel:k.t("Invite to channel")}),[]);return a.a.createElement(g.a,{overlayClassName:"p-huddle_invite_modal_shared_styles__overlay",closeModal:Ft,contentLabel:k.rt("These people are not a member of {channelName}",{channelName:a.a.createElement(V.a,{className:"bold",channel:bt})}),shouldReturnFocusAfterClose:!0},a.a.createElement(g.i,null,a.a.createElement(g.l,{title:k.rt("These people are not a member of {channelName}",{channelName:a.a.createElement(V.a,{channel:bt})}),subtitle:k.rt("They can join the huddle but won\u2019t be able to see messages or reply to the thread unless they are members of {channelName}. New members will be able to see all of the channel\u2019s history, including any files that have been shared in the channel.",{channelName:a.a.createElement(V.a,{className:"bold",channel:bt})})})),a.a.createElement(g.d,null,a.a.createElement(g.e,null,pe.map(Wt=>{const yt=st.includes(Wt);return a.a.createElement("div",{className:"p-huddle_invite_add_to_channel__user_list",key:Wt},a.a.createElement(J.b,{id:Wt,useShortMode:!0,showPresence:!0,showStatus:!0,showSubtext:!0,subtext:a.a.createElement("small",{className:"sk_dark_gray"},yt?Ht.addedToChannel:Ht.notInChannel)}),a.a.createElement(o.c,{type:"outline",size:"small",disabled:yt,loading:xe===Wt,onClick:()=>at(Wt)},yt?Ht.added:Ht.inviteToChannel))}),a.a.createElement(i.d,{className:"margin_top_50",level:i.b.info,type:i.c.custom},k.t("If you don\u2019t add them, they won\u2019t be able to see messages in the huddle.")))),a.a.createElement(g.g,null,a.a.createElement(g.h,null,a.a.createElement(g.c,{onClick:Ft,type:"outline"},k.t("Cancel")),a.a.createElement(o.f,{onClick:Bt,type:"primary"},k.t("Done")))))}v(se,"HuddleInviteAddToChannel"),se.displayName="HuddleInviteAddToChannel";var re=Object(Z.a)(se,{isStackable:!0}),X=e("U1tW"),w=e("trVL"),ce=e("Z3RE"),ie=e("p6pj"),oe=e("6SBE"),me=e("oSkh"),ue=e("rIOq"),_e=e("G4FP"),be=e("VkPA"),Ae=e("ZMRP"),Ce=e("ISSR"),De=e("Fn/R"),Pe=e("Zbwg"),Ue=e("rtjy");const ae=new I.b("huddles");var ne;(function(rt){rt.CHANNEL="channel",rt.PEOPLE="people"})(ne||(ne={}));const Ie=v(rt=>{let{isFreeTeam:pe,onSuggestedChannelSelected:je,onSuggestedUserSelected:xe,selectedChannelId:ze,selectedMemberIds:st}=rt;const ct=Object(f.a)(p.a),dt=Object(f.a)(Ue.b,m.b),bt=Object(f.a)(Ue.c,m.b),Ft=Object(f.a)(it=>{if(!dt)return[];if(st.length)return[];const ft=[];return dt.forEach(Ke=>{if(Ke.id===ze)return;const Ve=Object(z.c)(it,Ke.id);Object(Ce.a)(Ve)||ft.push(Ke)}),ft},m.b),Bt=Object(t.useMemo)(()=>Ft.map(it=>it.id),[Ft]),at=Object(f.a)(it=>{if(!bt)return[];if(ze)return[];const ft=[];return bt.forEach(Ke=>{if(Ke.id===ct||st.includes(Ke.id))return;const Ve=Object(Q.g)(it,Ke.id);Object(De.a)(Ve)||ft.push(Ke)}),ft},m.b),Ht=Object(t.useMemo)(()=>at.map(it=>it.id),[at]),Wt=Object(t.useMemo)(()=>{const Ke=Ht.length*60,Ve=32,Be=Bt.length*Ve;return Math.min(Math.max(Ke,Be),240)},[Bt,Ht]),yt=Object(t.useCallback)(it=>{if(!it.id)return;Object(Pe.a)(it.id)?je(it.id):xe(it.id)},[je,xe]),Xt=Object(t.useCallback)(it=>{const ft=Ft[it];if(ft)return a.a.createElement("div",{className:"p-huddle_start_suggestion_tabs__menu_item_button__list_entity"},a.a.createElement(_e.a,{channelId:ft.id}))},[Ft]),cn=Object(t.useCallback)(()=>a.a.createElement(me.a,{disableHeight:!0},it=>{let{width:ft}=it;return a.a.createElement(Ae.b,{"aria-label":ae.t("Channel"),keys:Bt,rowRenderer:Xt,onItemClick:yt,width:ft,height:Wt})}),[yt,Xt,Bt,Wt]),mn=Object(t.useCallback)(it=>{const ft=at[it];if(ft)return a.a.createElement("div",{className:"p-huddle_start_suggestion_tabs__menu_item_button__list_entity"},a.a.createElement(ue.a,{id:ft.id}))},[at]),In=Object(t.useCallback)(()=>a.a.createElement(me.a,{disableHeight:!0},it=>{let{width:ft}=it;return a.a.createElement(Ae.b,{"aria-label":ae.t("People"),keys:Ht,rowRenderer:mn,onItemClick:yt,width:ft,height:Wt})}),[yt,mn,Ht,Wt]),[pt,Tt]=Object(t.useState)(ne.PEOPLE),Lt=Object(t.useCallback)(it=>{Tt(it)},[]);Object(t.useEffect)(()=>{pt===ne.PEOPLE&&ze?Tt(ne.CHANNEL):pt===ne.CHANNEL&&st.length&&Tt(ne.PEOPLE)},[pt,ze,st]);const gt=Object(t.useMemo)(()=>{const it=[];return Ht.length&&it.push({title:ae.t("People"),id:ne.PEOPLE,content:In()}),Bt.length&&it.push({title:ae.t("Channels",{fallbackHash:"879f0b1bef59eeebf78cfd3a22f6f8077810cecf"}),id:ne.CHANNEL,content:cn()}),it},[Bt,Ht,cn,In]);return pe?null:a.a.createElement("div",{className:"p-huddle_start_suggestion_tabs"},a.a.createElement(be.a,{fullHeight:!0,tabs:gt,currentTabId:pt,onTabChange:Lt,tabMenuClassnames:"p-huddle_start_suggestion_tabs__tab_menu"}))},"HuddleStartSuggestionTabs");Ie.displayName="HuddleStartSuggestionTabs";var Te=a.a.memo(Ie),Me=e("jNCy");function Ne(){return Ne=Object.assign||function(rt){for(var pe=1;pe<arguments.length;pe++){var je=arguments[pe];for(var xe in je)Object.prototype.hasOwnProperty.call(je,xe)&&(rt[xe]=je[xe])}return rt},Ne.apply(this,arguments)}v(Ne,"_extends");var He;(function(rt){rt.COMPOSER="composer",rt.PUBLIC_CHANNEL="public_channel",rt.PRIVATE_CHANNEL="private_channel"})(He||(He={}));function Et(rt){let{channel:pe}=rt;return pe?pe&&Object(P.k)(pe)?He.PRIVATE_CHANNEL:He.PUBLIC_CHANNEL:He.COMPOSER}v(Et,"getModalContext");const Je=new I.b("huddles");function qe(rt){let{closeModal:pe,callId:je,channel:xe,selectedMemberIds:ze=O.a}=rt;const st=Object(r.useDispatch)(),ct=Object(d.a)(),dt=Et({channel:xe}),bt=dt===He.PRIVATE_CHANNEL,Ft=dt===He.COMPOSER,[Bt,at]=Object(t.useState)(ze),[Ht,Wt]=Object(t.useState)(),[yt,Xt]=Object(t.useState)(!1),[cn,mn]=Object(t.useState)(!1),In=Object(f.a)(p.a),pt=Object(f.a)(M.g),Tt=Object(j.C)(pt),Lt=Object(f.a)(x.i),gt=Object(f.a)(h.t),it=Object(f.a)(Yt=>Object(W.g)(Yt,xe==null?void 0:xe.id).filter(un=>un.id!==In).map(un=>un.id),m.a),ft=Object(f.a)(_.G),Ke=Object(f.b)(Yt=>bt?Bt.filter(un=>{const $t=xe&&Object(C.c)(Yt,xe.id,un);return $t&&$t.isKnown&&!($t!=null&&$t.isMember)}):[]),Ve=Object(t.useCallback)(Yt=>at(Yt),[]),Be=Object(t.useCallback)(Yt=>Wt(Yt),[]),Ye=Object(t.useCallback)(Yt=>{at(Bt.concat(Yt))},[Bt]),we=Object(t.useCallback)(()=>{Ht&&(st(Object(T.a)({channelId:Ht,entryPoint:S.e.COMPOSER_HUDDLE_START})),pe())},[Ht,st,pe]),mt=Object(t.useCallback)(Object(s.coroutine)(function*(){Xt(!0),yield st(Object(b.a)({memberIds:Bt})).then(Yt=>{st(Object(T.a)({channelId:Yt.id,entryPoint:S.e.COMPOSER_HUDDLE_START})),pe(),Xt(!1),mn(!1)}).catch(Yt=>{ct.error(Yt),Xt(!1);const{message:un}=Yt;(un==null?void 0:un.indexOf(E.T.INVALID_USER_COMBINATION))!==-1&&mn(!0)})}),[Bt,st,ct,pe]),Pt=Object(t.useCallback)(Object(s.coroutine)(function*(){xe&&(Xt(!0),yield st(Object(y.a)({channelId:xe.id,userIds:Bt})).then(()=>{Xt(!1),Ke&&Ke.length>0&&bt?st(re({members:Ke})):pe()}).catch(Yt=>{ct.error(Yt),Xt(!1)}))}),[xe,pe,st,bt,ct,Bt,Ke]),Nt=Object(t.useMemo)(()=>dt===He.COMPOSER?Ht?we:mt:Pt,[Pt,mt,dt,Ht,we]),Ze={[He.COMPOSER]:{eventId:R.EventId.HUDDLES_COMPOSER_HEADER_CLICKED,uiStep:R.UiStep.HUDDLE_COMPOSER_INVITES_SENT,elementName:"huddle_composer_dialog",entryPoint:"composer"},[He.PUBLIC_CHANNEL]:{eventId:R.EventId.HUDDLES_PUBLIC_CHANNEL_INVITE,elementName:"huddle_public_channel_invite"},[He.PRIVATE_CHANNEL]:{eventId:R.EventId.HUDDLES_PRIVATE_CHANNEL_INVITE,elementName:"huddle_private_channel_invite"}},Xe=v(()=>Tt&&!gt?a.a.createElement(X.a,null):Lt?a.a.createElement(B.b,null):null,"maybeRenderBanner");Xe.displayName="maybeRenderBanner";const Ct=Ze[dt],G=Object(t.useMemo)(()=>Ft?Je.t("Start a Huddle"):Bt.length>1?Je.t("Send Invites"):Je.t("Send Invite"),[Ft,Bt]);if(!ft)return null;const de=Je.t("You can invite people from outside this private conversation, but they may have restricted access to messages."),Le=v(Yt=>a.a.createElement(U.a,{articleId:4402059015315,ariaLabel:Je.t("Learn more about Huddles"),forceOpenInBrowser:!0},Yt),"renderLearnMoreLink");let Re,Fe,tt,ut;const St=v(Yt=>{const un=Yt.map($t=>a.a.createElement(l.a,{key:$t,isBold:!1,id:$t}));return un&&Object(I.h)(un)},"listifiedOverflowMembers");if(St.displayName="listifiedOverflowMembers",Tt&&gt)Fe=Je.t("Invite someone to your huddle"),Re=bt?Je.rt("You\u2019re on the free version of Slack, so only one other person can join you in a huddle. You can invite anyone until someone joins \u2014 they won\u2019t be added to {channelName}. <a>Learn more</a>",{channelName:a.a.createElement(V.a,{channel:xe}),"<a>":Yt=>{let{text:un}=Yt;return Le(un)},fallbackHash:"5f76fe5a7665b492c0690fcc19a8a5aaf6574868"}):Je.rt("You\u2019re on the free version of Slack, so only one other person can join you in a huddle. They\u2019ll receive a notification to join. <a>Learn more</a>",{"<a>":Yt=>{let{text:un}=Yt;return Le(un)},fallbackHash:"9bc849cac2c555397077a41bb3a7e60b48f17618"});else if(Ft?(Fe=Je.t("Start a Huddle"),tt=Je.t("Find a person or channel to huddle with")):(Fe=Je.t("Invite people to your huddle"),tt=bt?de:Je.t("You can invite whomever you\u2019d like to the huddle, and they\u2019ll receive a notification to join.")),xe!=null&&xe.id&&it.length){const Yt=Je.rt("{participants, plural, =0 {{firstParticipant} and <b>you</b> are} =1 {{firstParticipant}, {secondParticipant}, and <b>you</b> are} other {{firstParticipant}, {secondParticipant}, <a>and # others</a> are}} in this huddle.",{participants:it.length-1,firstParticipant:a.a.createElement(l.a,{isBold:!0,id:it[0]}),secondParticipant:a.a.createElement(l.a,{isBold:!0,id:it[1]}),"<a>":un=>{let{text:$t}=un;return a.a.createElement(u.c,{zIndex:"above_fs",tip:St(it.slice(2))},a.a.createElement("span",null,$t))}});ut=a.a.createElement("div",{className:"p-huddle_invite_channel_or_start__active_members_container"},a.a.createElement(Me.a,{channelId:xe.id,className:"p-huddle_invite_channel_or_start__avatar_stack p-huddle_avatar_stack--square_borders",avatarSize:c.a.tiny,excludeIcon:!0,excludeMemberOverflowCount:!0,maxMembers:3,isLastOnTop:!0}),a.a.createElement("div",null,Yt))}const tn="huddle-invite-description";return a.a.createElement(g.a,{overlayClassName:"p-huddle_invite_modal_shared_styles__overlay",closeModal:pe,contentLabel:Fe,describedby:tn,shouldReturnFocusAfterClose:!0,dataQa:"huddle_invite_channel_modal"},a.a.createElement(g.i,null,a.a.createElement(g.l,{title:Fe,subtitle:tt})),a.a.createElement(g.d,null,a.a.createElement(g.e,null,ut,Re&&a.a.createElement("p",{id:tn},Re),a.a.createElement(ce.a,{isFreeTeam:Tt,experimentHuddlesInviteModalFreemiumImprovementsGroupOn:gt,channel:xe,otherMembersInHuddle:it,onSelectedMembersChange:Ve,onSelectedChannelChange:Be,selectedMemberIds:Bt,selectedChannelId:Ht}),bt&&Ke&&Ke.length>0&&a.a.createElement(Ee,{unknownMemberIds:Ke}),cn&&a.a.createElement(i.d,{"data-qa":"huddle-invite-invalid-user-combo-alert",level:"error"},Je.t("All external people must already be in at least one channel together to send this invitation.",{fallbackHash:"9557ff89ebba020fc327f9ef7901a6504e6174dd"}))),je&&a.a.createElement(oe.a,{activeHuddleCallId:je,channel:xe,isFreeTeam:Tt,onSuggestedUserSelected:Ye,otherMembersInHuddle:it,selectedMemberIds:Bt}),!je&&a.a.createElement(Te,{isFreeTeam:Tt,onSuggestedChannelSelected:Be,onSuggestedUserSelected:Ye,selectedChannelId:Ht,selectedMemberIds:Bt}),Xe()),a.a.createElement(g.g,null,a.a.createElement(ie.a,{channelId:xe==null?void 0:xe.id}),a.a.createElement(g.h,null,a.a.createElement(g.c,{type:"outline"},Je.t("Cancel")),a.a.createElement(A.a,Ne({},Ct,{clogImpression:!0}),a.a.createElement(o.c,{"data-qa":"send_invite_button",loading:yt,onClick:Nt,type:"primary",disabled:!Bt.length&&!Ht},G)))),gt&&Tt&&a.a.createElement(w.a,{selectedMemberIds:Bt}))}v(qe,"HuddleInviteChannelOrStart"),qe.displayName="HuddleInviteChannelOrStart";var ke=n.a=qe},hcyO:function(K,n,e){"use strict";e.d(n,"a",function(){return t});var s=e("DwFS");const t=Object(s.a)("Record that a message was deleted");t.meta={name:"createAction",key:"createActionrecordMessageDeleted",description:"Record that a message was deleted"}},hfkV:function(K,n,e){"use strict";var s=e("q1tI"),t=e.n(s),a=e("iuhU"),r=e("nNoG"),c=e("Tsh7"),o=e("CTEJ"),i=e("oEDn"),l=e("3bXy");const u=new r.b("channel_token"),f=v(O=>{let{type:m=l.a.Unknown,subtler:g=!1,size:E=l.b.Small,width:p="random",invert:h=!1,showHash:_=!0,omitNonExistentTooltip:b=!1}=O;const I=Object(a.default)("c-missing_channel",{"c-missing_channel--unknown":m===l.a.Unknown,"c-missing_channel--nonexistent":m===l.a.Nonexistent,"c-missing_channel--subtler":g,"c-missing_channel--medium":E===l.b.Medium,"c-missing_channel--unknown_inverted":m===l.a.Unknown&&h,"c-missing_channel--non_existent_inverted":m===l.a.Nonexistent&&h}),C=Object(a.default)("c-missing_channel--medium_hash",{"c-missing_channel--subtler":g});let y;if(m===l.a.Unknown)y=u.t("Loading...");else if(m===l.a.Nonexistent)y=u.t("You don\u2019t have access to this channel (ex. it\u2019s private or in a workspace you\u2019re not a part of), so its name isn\u2019t shown",{fallbackHash:"b63975b75ce4c6d6e1e8b8057209fc25f351bbcf"});else return null;if(m===l.a.Nonexistent){const P=t.a.createElement("span",{className:"c-missing_channel--private"},t.a.createElement(i.a,{type:"lock-small"}),t.a.createElement("span",null,u.t("private channel")));return b?P:t.a.createElement(c.d,{tip:y},P)}return E===l.b.Medium?t.a.createElement("div",null,t.a.createElement("div",{className:"c-missing_channel--medium-top"},_&&t.a.createElement(i.a,{type:"hash-medium",className:C,size:"inherit"}),t.a.createElement(o.a,{tooltip:y,isNonExistent:!1,size:p,className:I})),t.a.createElement(o.a,{tooltip:y,isNonExistent:!1,size:p,className:I})):t.a.createElement(o.a,{tooltip:y,isNonExistent:!1,size:p,className:I})},"MissingChannel");f.displayName="MissingChannel";var d=n.a=t.a.memo(f)},hiGJ:function(K,n,e){"use strict";e.d(n,"a",function(){return t});var s=e("DwFS");const t=Object(s.a)("Updates latest message activity for a specified type");t.meta={name:"createAction",key:"createActionupdateMessageActivity",description:"Updates latest message activity for a specified type"}},hinm:function(K,n,e){K.exports=e.p+"animal_stick-fa91213.mp3"},hooW:function(K,n,e){"use strict";var s=e("i2F6");n.a=s.a},i2F6:function(K,n,e){"use strict";var s=e("q1tI"),t=e.n(s),a=e("BJra"),r=e("nNoG"),c=e("CTEJ"),o=e("3bXy");function i(){return i=Object.assign||function(O){for(var m=1;m<arguments.length;m++){var g=arguments[m];for(var E in g)Object.prototype.hasOwnProperty.call(g,E)&&(O[E]=g[E])}return O},i.apply(this,arguments)}v(i,"_extends");const l=new r.b("member_token"),{Unknown:u,Nonexistent:f}=o.a,d=v(O=>{let{type:m=u,subtler:g=!1,className:E,...p}=O;const h=m===u?l.t("Loading\u2026"):l.t("Private user info");return t.a.createElement(c.a,i({className:E??"",isNonExistent:m===f,subtler:g,tooltip:h},Object(a.a)({type:m,subtler:g,...p})))},"MissingMember");d.displayName="MissingMember",n.a=d},"i3z+":function(K,n,e){"use strict";e.d(n,"b",function(){return L}),e.d(n,"a",function(){return le}),e.d(n,"f",function(){return Oe}),e.d(n,"g",function(){return he}),e.d(n,"d",function(){return Ee}),e.d(n,"e",function(){return ge}),e.d(n,"c",function(){return J});var s=e("q1tI"),t=e.n(s),a=e("Cfcg"),r=e("Fsnq"),c=e("fujP"),o=e("vFlG"),i=e("HI9p"),l=e("m8R6"),u=e("ktUG"),f=e("9Gfp"),d=e("YANR"),O=e("3V+Q"),m=e("eBYm"),g=e("jWAO"),E=e("oEDn"),p=e("Ws5+"),h=e("WAPM"),_=e("ZOzc"),b=e("Ufq/");const I=v(X=>!Object(b.f)(X),"is_org_calls_apps_settings_enabled_isOrgCallsAppsSettingsEnabled");var C=e("zCzZ"),y=e("5IZy");const P=v(X=>{let{callsApps:w,allowCalls:ce,clogger:ie,action:oe,stepVariant:me}=X;const ue={allow_calls:ce};w&&w.video&&w.video.length>0&&(ue.video_call_app_ids=w.video.map(_e=>_e.id)),w&&w.audio&&w.audio.length>0&&(ue.audio_call_app_ids=w.audio.map(_e=>_e.id)),w&&w.profile_field_options&&w.profile_field_options.length>0&&(ue.profile_field_option_ids=w.profile_field_options.map(_e=>_e.id)),ie.track(u.EventId.CALLS_ADMIN_PHONE_INTEGRATION,{...ue,contexts:{ui_context:{step:u.UiStep.CALLS_ADMIN_SAVE_CALLS_APPS,action:oe,entry_point:"calls-workspace-admin",step_variant:me}}})},"clogCallsApps"),T=v(X=>{let{clogger:w}=X;w.track(u.EventId.CALLS_ADMIN_PHONE_INTEGRATION,{contexts:{ui_context:{step:u.UiStep.CALLS_ADMIN_SAVE_CALLS_APPS,action:u.UiAction.LEARN_MORE,is_primary_cta:!0,ui_properties:{element_type:u.ElementType.LINK,element_name:"calls-admin-save-multiple-call-apps"}}}})},"clogLinkToPaidPlans");var S=e("SQ0V");const A=Object(S.c)("Clog a standardized click event when a workspace setting is saved",(X,w,ce)=>{let{eventId:ie,uiStep:oe,stepVariant:me}=ce;Object(y.a)({getState:w}).track(ie,{contexts:{ui_context:{ui_step:oe,step_variant:me,ui_properties:{element_type:u.ElementType.BUTTON,element_name:"submit_button"},action:u.UiAction.CLICK,is_primary_cta:!0}}})});A.meta={name:"createThunk",key:"createThunkclogWorkspaceSettingSubmit",description:"Clog a standardized click event when a workspace setting is saved"};var R=A,x=e("beVI"),M=e("G0eX"),j=e("/0Xg"),W=e("YUBf"),U=e("nNoG"),B=e("4w5y"),Y=e("sgFo"),z=e("3REw");const F=new U.b("calls_admin"),V="only_available_for_paid_teams";var L;(function(X){X.Video="video",X.Audio="audio",X.ProfileFieldOptions="profile_field_options"})(L||(L={}));const Q=v(X=>{let{type:w,app:ce,isChecked:ie,onChangeCallApp:oe,isLocked:me}=X;const ue=Object(s.useCallback)(()=>oe(w,ce.id),[oe,w,ce]),_e=`${w}_${ce.id}`;return t.a.createElement(O.b,{text:ce.name,type:"inline",cursor:"pointer"},t.a.createElement(p.a,{id:_e,name:ce.name,checked:ie,onChange:ue,disabled:me,"data-qa":_e}))},"AppCheckbox");Q.displayName="AppCheckbox";const ee=v(X=>{let{appsState:w,isLocked:ce,type:ie}=X;return!ce||!w?!1:ie===L.Video&&Object(r.a)(w.video)>0&&Object(r.a)(w.audio)===0||(ie===L.Audio&&Object(r.a)(w.audio)>0&&Object(r.a)(w.video))===0},"disableTypeCheckbox"),te=v(X=>{let{appsState:w,isLocked:ce,appId:ie,type:oe}=X;if(!ce||!w)return!1;const me=w.video?Object.keys(w.video):[],ue=w.audio?Object.keys(w.audio):[],_e=me.length+ue.length;if(ie&&_e===1){let be,Ae;return me.length===1?(be=me[0],Ae=L.Video):ue.length===1&&(be=ue[0],Ae=L.Audio),ie===be&&oe===Ae}return!1},"disableAppCheckbox"),le=v(X=>{let{type:w,sectionTitle:ce,appsState:ie,installedCallApps:oe,onChangeCallType:me,onChangeCallApp:ue,isLocked:_e,dataQa:be}=X;if(!oe||!ie||!oe[w])return null;const Ae=`enable_${w}_calls`;return t.a.createElement("div",{className:`p-calls_workspace_settings__${w}_container`,"data-qa":be},t.a.createElement(O.b,{text:ce,type:"inline",cursor:"pointer"},t.a.createElement(p.a,{checked:!Object(c.a)(ie[w]),id:Ae,name:Ae,onChange:me,disabled:ee({appsState:ie,isLocked:_e,type:w})})),t.a.createElement("p",{className:"p-calls_workspace_settings__options_title"},F.t("Calling options:")),t.a.createElement("div",{className:"p-calls_workspace_settings__calls_apps"},[...oe[w]].map(Ce=>t.a.createElement(Q,{app:Ce,isChecked:Object(o.a)(ie[w],Ce.id),key:`${w}_${Ce.id}`,onChangeCallApp:ue,type:w,isLocked:te({appsState:ie,isLocked:_e,appId:Ce.id,type:w})}))))},"CallSection");le.displayName="CallSection";const Oe=v(X=>{let{installedCallApps:w,appsState:ce,appId:ie,type:oe,setAppsState:me}=X;if(!w||!ce)return;const ue={...ce[oe]};if(Object(o.a)(ue,ie))delete ue[ie],me({...ce,[oe]:ue});else{const _e=Object(i.a)(w[oe],be=>be.id===ie);_e>-1&&(ue[ie]=_e,me({...ce,[oe]:ue}))}},"toggleCallApp"),he=v(X=>{let{installedCallApps:w,appsState:ce,type:ie,setAppsState:oe}=X;if(!(!ce||!w))if(!Object(c.a)(ce[ie]))oe({...ce,[ie]:{}});else{var me;const ue={};(me=w[ie])===null||me===void 0||me.forEach((_e,be)=>{ue[_e.id]=be}),oe({...ce,[ie]:ue})}},"toggleCallType"),Ee=v((X,w)=>{const ce={video:{},audio:{},profile_field_options:{}};return!w||!X||[L.Video,L.Audio,L.ProfileFieldOptions].forEach(ie=>{w[ie]&&[...w[ie]].forEach(me=>{const ue=Object(i.a)(X[ie],_e=>_e.id===me.id);ue>-1&&(ce[ie][me.id]=ue)})}),ce},"reduceTeamPrefApps"),ge=v(function(){let{installedCallApps:X,appsState:w}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const ce={video:[],audio:[]};return!X||!w||[L.Video,L.Audio].forEach(ie=>{if(X[ie]){const oe=[...X[ie]],me=w[ie];oe.forEach(ue=>{if(Object(o.a)(me,ue.id)){var _e;(_e=ce[ie])===null||_e===void 0||_e.push(Object(l.a)(ue,"preselected"))}})}}),ce},"setCallsAppsPayloadToSave"),J=v((X,w)=>{if(!w||!X||!X.video)return;const ce=X.video.findIndex(ie=>ie.id===z.j);ce>=0&&X.video.splice(ce,1)},"maybeFilterNativeCallsApp"),H=v(X=>{let{isOpen:w,closeModal:ce,errorMessage:ie,buttonLabel:oe}=X;return t.a.createElement(W.a,{centered:!0,isOpen:w,closeModal:ce},t.a.createElement(W.d,{className:"p-calls_workspace_settings__error_modal"},t.a.createElement(W.e,null,t.a.createElement("p",null,ie))),t.a.createElement(W.g,null,t.a.createElement(W.h,null,t.a.createElement(W.c,{type:"outline",onClick:ce},oe))))},"ErrorModal");H.displayName="ErrorModal";const Z=v(X=>{let{installedCallApps:w,teamPrefCallsApps:ce,setMultipleTeamPrefsByApi:ie,clogWorkspaceSettingSubmit:oe,isLocked:me,isCallsSelectorDisabled:ue,clogger:_e,isOrgCallsAppsSettingsEnabled:be,team:Ae,isCallsLocationLockedByOrgAdmin:Ce,callsLocationLocked:De,experimentCallsAdminDeprecationGroupOn:Pe}=X;const[Ue,ae]=Object(s.useState)(!1),[ne,Ie]=Object(s.useState)(""),Te=F.t("Save"),Me=F.t("Saved"),Ne=F.t("Sorry! Something went wrong. Please try again."),He=Pe?F.t("Allow third-party calls in Slack"):F.t("Allow video calls in Slack"),Et=F.t("Allow phone number calls in Slack (only in direct messages)"),Je=F.t("Ok",{fallbackHash:"9ce3bd4224c8c1780db56b4125ecf3f24bf748b7",fallbackHashNs:"app_view"}),qe=F.t("Sorry, call selection is currently managed by your organization admin."),ke=Pe?F.rt("First install a <a>calling app from our app directory</a> then come back here to enable it as a default calling app.",{},Tt=>{let{text:Lt}=Tt;return t.a.createElement(h.a,{articleId:208492868},Lt)}):"",rt=Object(s.useCallback)(()=>{T({clogger:_e}),Object(M.T)(Ae,Object(j.u)({entryPoint:"calls-admin-workspace-settings"}))},[_e,Ae]),pe=F.rt("Sorry, this feature is only available to <a>paid teams</a>.",{fallbackHash:"48faa2ac6ac6d273cd7dacbe15a5b6f7e1822087"},Tt=>{let{text:Lt}=Tt;return t.a.createElement("a",{href:"#",onClick:rt,"data-qa":"paid_plan_page_link"},Lt)}),je=ce?Ee(w,ce):{video:{},audio:{},profile_field_options:{}},[xe,ze]=Object(s.useState)(je),[st,ct]=Object(s.useState)(!1),[dt,bt]=Object(s.useState)(!1),Ft=De&&De.length>0?B.a.US:B.a.GLOBAL,[Bt,at]=Object(s.useState)(Ft);Object(s.useEffect)(()=>{const Tt=Ee(w,ce);ze(Tt)},[ze,w,ce]);const Ht=Object(s.useCallback)(Tt=>{bt(!1),he({installedCallApps:w,appsState:xe,type:Tt,setAppsState:ze})},[w,xe,ze]),Wt=Object(s.useCallback)(()=>Ht(L.Video),[Ht]),yt=Object(s.useCallback)(()=>Ht(L.Audio),[Ht]),Xt=Object(s.useCallback)(()=>ae(!1),[ae]),cn=Object(s.useCallback)((Tt,Lt)=>{bt(!1),Oe({installedCallApps:w,appsState:xe,appId:Lt,type:Tt,setAppsState:ze})},[w,xe,ze]),mn=Object(s.useCallback)(Tt=>{at(Tt),bt(!1)},[at]),In=v(()=>{ct(!0),oe({eventId:u.EventId.ADMIN_TEAM_SETTINGS,uiStep:"change_enable_calls"});const Tt=!Object(c.a)(xe.video)||!Object(c.a)(xe.audio),Lt=ge({installedCallApps:w,appsState:xe}),gt={calls_apps:Lt};Object(M.y)(Ae)||(gt.allow_calls=Tt),Ce||(gt.calls_locations=Bt===B.a.US?[Bt]:[]),ie({prefs:gt}).then(()=>{bt(!0),P({callsApps:Lt,allowCalls:Tt,clogger:_e,action:u.UiAction.SAVE})}).catch(it=>{var ft;ae(!0),(it==null||(ft=it.data)===null||ft===void 0?void 0:ft.error)===V?(Ie(pe),P({callsApps:Lt,allowCalls:Tt,clogger:_e,action:u.UiAction.ERROR,stepVariant:V})):(Ie(Ne),P({callsApps:Lt,allowCalls:Tt,clogger:_e,action:u.UiAction.ERROR}))}).finally(()=>ct(!1))},"onSubmit"),pt=w&&(w.video&&w.video.length>0||w.audio&&w.audio.length>0);return t.a.createElement("div",{key:"calls_workspace_settings",className:"p-calls_workspace_settings"},ue&&be?t.a.createElement(g.d,{type:"boxed",level:"info",icon:"info",align:"left","data-qa":"org_calls_apps_alert_selector_disabled"},t.a.createElement("span",null,qe)):t.a.createElement(t.a.Fragment,null,Pe&&!pt&&t.a.createElement(g.d,{type:"boxed",level:"info",icon:"info",align:"left"},t.a.createElement("span",null,ke)),t.a.createElement("div",{className:"p-calls_workspace_settings__call_options"},w&&w.video&&w.video.length>0&&t.a.createElement(le,{type:L.Video,sectionTitle:He,appsState:xe,installedCallApps:w,onChangeCallType:Wt,onChangeCallApp:cn,isLocked:me}),w&&w.audio&&w.audio.length>0&&t.a.createElement(le,{type:L.Audio,sectionTitle:Et,appsState:xe,installedCallApps:w,onChangeCallType:yt,onChangeCallApp:cn,isLocked:me})),t.a.createElement(B.b,{appsState:xe,isLockedByOrgAdmin:Ce,selectedCallLocation:Bt,setSelectedCallLocation:mn}),t.a.createElement(H,{closeModal:Xt,isOpen:Ue,errorMessage:ne,buttonLabel:Je}),(!Pe||pt)&&t.a.createElement(m.a,{onClick:In,loading:st,"data-qa":"call_save_button"},dt&&t.a.createElement(E.a,{type:"check-circle-o",className:"p-calls_workspace_settings_check_icon"}),dt?Me:Te)))},"CallsWorkspaceSettings");Z.displayName="CallsWorkspaceSettings";const q=v(X=>{const w=Object(Y.d)(X),ce=Object(f.e)(X,"calls_apps");J(ce,w);const ie=Object(_.a)(X,"calls_apps"),oe=Object(C.i)(X,"calls_locations");return{installedCallApps:ce,teamPrefCallsApps:ie,clogger:Object(y.a)({state:X}),isOrgCallsAppsSettingsEnabled:I(X),team:Object(x.g)(X),isCallsLocationLockedByOrgAdmin:!!oe&&oe.length>0,callsLocationLocked:Object(_.a)(X,"calls_locations"),experimentCallsAdminDeprecationGroupOn:w}},"mapStateToProps"),k={setMultipleTeamPrefsByApi:d.b,clogWorkspaceSettingSubmit:R},se={toggleCallApp:Oe,toggleCallType:he,AppCheckbox:Q,reduceTeamPrefApps:Ee,setCallsAppsPayloadToSave:ge,disableTypeCheckbox:ee,disableAppCheckbox:te};var re=Object(a.a)(q,k)(Z)},i5QK:function(K,n,e){"use strict";var s=e("ZvnG");n.a=new s.a},i6Ao:function(K,n,e){"use strict";e.d(n,"f",function(){return i}),e.d(n,"e",function(){return l}),e.d(n,"b",function(){return u}),e.d(n,"c",function(){return f}),e.d(n,"a",function(){return d}),e.d(n,"d",function(){return O});var s=e("Z7Ay"),t=e("s4P+"),a=e("JfJV");let r=1,c=1;const o=Object(t.b)({label:"HISTORY-NAVIGATION"}),i=v(()=>{c!==r&&(o.info("Incrementing the users current position in the history stack"),c+=1)},"onNavigateForward"),l=v(()=>{c!==1&&(o.info("Decrementing the users current position in the history stack"),c-=1)},"onNavigateBack"),u=v(()=>c===1,"isBackDisabled"),f=v(()=>c===r,"isForwardDisabled");function d(){o.info("Adding route to the history stack"),c+=1,r=c}v(d,"incrementHistoryLength");function O(g){let{shouldReplaceState:E,reason:p}=g;E||p!==a.a&&d()}v(O,"maybeIncrementHistoryLength"),Object(s.a)("history",{getHistoryLength:()=>r,getHistoryIndex:()=>c});const m={maybeIncrementHistoryLength:O}},i6es:function(K,n,e){K.exports=e.p+"slackbot_frowny_20-96acbec.png"},iAso:function(K,n,e){K.exports=e.p+"subway_music-2caaa01.mp3"},iBeP:function(K,n,e){"use strict";var s=e("Cfcg"),t=e("kBpe"),a=e("4tnk"),r=e("UQYs");let c=v(l=>{var u;if(!Object(t.i)()||!Object(t.p)())return{};const f=Object(a.e)(l);return(f==null||(u=f.darwin)===null||u===void 0?void 0:u.showScrollBars)!=="Always"?{}:{alwaysVisible:!0}},"mapStateToProps");Object.defineProperty({mapStateToProps:c},"mapStateToProps",{get:()=>c,set:l=>{c=l}});const i=Object(s.a)(c,null,null,{forwardRef:!0})(r.b);n.a=i},iLLt:function(K,n,e){K.exports=e.p+"slackbot_fancy_48-8220eaf.png"},"iV+a":function(K,n,e){"use strict";e.d(n,"a",function(){return t});var s=e("JBL2");const t=v(a=>{let{visible:r,shouldRestoreFocus:c}=a;return Object(s.a)({shouldRestoreFocus:c,visible:r}),null},"RestoreFocus")},iXLD:function(K,n,e){"use strict";var s=e("q1tI"),t=e.n(s),a=e("iuhU"),r=e("BJra");function c(){return c=Object.assign||function(i){for(var l=1;l<arguments.length;l++){var u=arguments[l];for(var f in u)Object.prototype.hasOwnProperty.call(u,f)&&(i[f]=u[f])}return i},c.apply(this,arguments)}v(c,"_extends");function o(i){const{children:l,className:u}=i;return l?t.a.createElement("span",c({className:Object(a.default)(u,"c-base_entity__metadata")},Object(r.a)(i)),l):null}v(o,"BaseEntityMetadata"),o.displayName="BaseEntityMetadata",n.a=o},iaVl:function(K,n,e){"use strict";e.d(n,"a",function(){return t});var s=e("C3vN");function t(a,r){return a.subtype==="bot_message"&&!Object(s.Db)(a.bot_profile)||!!r}v(t,"shouldIgnoreHighlightWords")},"iaW+":function(K,n,e){"use strict";var s=e("9oTK"),t=e.n(s),a=e("q1tI"),r=e.n(a),c=e("SQ0V"),o=e("stkM"),i=e("3l96"),l=e("5Yu9");const u=Object(c.c)("Display loading modal and fetch data for trial entry point modal",function(){var f=Object(s.coroutine)(function*(d,O,m){return d(Object(i.a)({element:r.a.createElement(l.a,{className:"p-trial_entry_point_modal__loading_modal"})})),d(Object(o.a)(m))});return function(d,O,m){return f.apply(this,arguments)}}());u.meta={name:"createThunk",key:"createThunkopenTrialLoadingModal",description:"Display loading modal and fetch data for trial entry point modal"},n.a=u},ie1g:function(K,n,e){"use strict";e.d(n,"c",function(){return U}),e.d(n,"l",function(){return B}),e.d(n,"n",function(){return Y}),e.d(n,"m",function(){return z}),e.d(n,"e",function(){return F}),e.d(n,"f",function(){return V}),e.d(n,"d",function(){return L}),e.d(n,"g",function(){return Q}),e.d(n,"a",function(){return ee}),e.d(n,"h",function(){return te}),e.d(n,"k",function(){return le}),e.d(n,"b",function(){return Oe}),e.d(n,"j",function(){return he}),e.d(n,"o",function(){return Ee}),e.d(n,"p",function(){return ge}),e.d(n,"i",function(){return J});var s=e("ZKjC"),t=e("O86Y"),a=e("oTSI"),r=e("TGBA"),c=e("uAML"),o=e("lhZz"),i=e("1zvf"),l=e("SQ0V"),u=e("qhdC"),f=e("bHpg"),d=e("417x");const O=Object(l.c)("Fetch product release cards into the store",(H,Z,q)=>{let{locale:k}=q;return H(Object(u.a)({count:3,type:"product_release_card",locale:k,reason:"client/fetch_published_product_release_cards"})).then(se=>{let{cards:re}=se;H(Object(f.l)(Object(d.a)(re)))})});O.meta={name:"createThunk",key:"createThunkfetchProductReleaseCards",description:"Fetch product release cards into the store"};var m=e("kQBZ");const g=Object(l.c)("Fetch helpdesk articles into the store",(H,Z,q)=>{let{locale:k,reason:se}=q;return H(Object(m.He)({locale:k,reason:se})).then(re=>{let{articles:X}=re;H(Object(f.f)(Object(d.a)(X))),H(Object(f.i)(k))})});g.meta={name:"createThunk",key:"createThunkfetchHelpArticles",description:"Fetch helpdesk articles into the store"};var E=e("9oTK"),p=e("Lgge");const h=Object(l.c)("Fetch recommended articles into the store",(H,Z,q)=>{let{locale:k,reason:se}=q;return H(Object(m.Ce)({reason:se})).then(function(){var re=Object(E.coroutine)(function*(X){let{articles:w,request_id:ce}=X;const ie=yield p.a.all(w.map(function(){var oe=Object(E.coroutine)(function*(me){return H(Object(m.Ge)({articleId:me.id,locale:k,reason:se})).then(ue=>{let{article:_e}=ue;return{id:_e.article_id,title:_e.title}})});return function(me){return oe.apply(this,arguments)}}()));H(Object(f.m)({articles:ie,requestId:ce??""}))});return function(X){return re.apply(this,arguments)}}())});h.meta={name:"createThunk",key:"createThunkfetchRecommendedArticles",description:"Fetch recommended articles into the store"};const _=Object(l.c)("Fetch help sections into the store",(H,Z,q)=>{let{categoryId:k,locale:se,reason:re}=q;return H(Object(m.Ie)({categoryId:k,locale:se,reason:re})).then(X=>{let{sections:w}=X;return H(Object(f.g)(Object(d.a)(w)))})});_.meta={name:"createThunk",key:"createThunkfetchHelpSections",description:"Fetch help sections into the store"};const b=Object(l.c)("Fetch help categories into the store",(H,Z,q)=>{let{locale:k,reason:se}=q;return H(Object(m.Fe)({locale:k,reason:se})).then(re=>{let{categories:X}=re;H(Object(f.b)(Object(d.a)(X))),H(Object(f.d)(k))})});b.meta={name:"createThunk",key:"createThunkfetchHelpCategories",description:"Fetch help categories into the store"};const I=Object(a.a)(()=>new c.b({fetch:H=>Object(o.dispatchForTeamId)(H,Object(i.a)()),isEnabled:()=>!0})),C=Object(a.a)(H=>new c.b({fetch:Z=>Object(o.dispatchForTeamId)(Z,O({locale:H})),isEnabled:()=>!0})),y=Object(a.a)((H,Z)=>new c.b({fetch:q=>Object(o.dispatchForTeamId)(q,g({locale:H,reason:Z})),isEnabled:()=>!0})),P=Object(a.a)((H,Z)=>new c.b({fetch:q=>Object(o.dispatchForTeamId)(q,h({locale:H,reason:Z})),isEnabled:()=>!0,maxAge:()=>86400})),T=Object(a.a)((H,Z,q)=>new c.b({fetch:k=>Object(o.dispatchForTeamId)(k,_({categoryId:H,locale:Z,reason:q})),isEnabled:()=>!0}),(H,Z)=>Object(r.a)([H,Z]).join("_")),S=Object(a.a)((H,Z)=>new c.b({fetch:q=>Object(o.dispatchForTeamId)(q,b({locale:H,reason:Z})),isEnabled:()=>!0}));var A=e("ybyy"),R=e("nNoG"),x=e("7nxQ");const M=new R.b("help"),j="",W=Object(s.b)(H=>H&&H.help||A.a);W.meta={name:"createSelector",key:"createSelectorgetHelpState",description:H=>H&&H.help||A.a};const U=Object(s.b)((H,Z)=>{const q=Object(t.g)(H),k=Object(x.c)();return W(H).zdLocale!==k&&y(k,Z).markObjectsAsStale(q,[k]),y(k,Z).maybeRefetch(q,k),W(H).helpSearchArticles||[]});U.meta={name:"createSelector",key:"createSelectorgetHelpArticles",description:(H,Z)=>{const q=Object(t.g)(H),k=Object(x.c)();return W(H).zdLocale!==k&&y(k,Z).markObjectsAsStale(q,[k]),y(k,Z).maybeRefetch(q,k),W(H).helpSearchArticles||[]}};const B=Object(s.b)(H=>{const Z=Object(t.g)(H),q=Object(R.n)();return W(H).locale!==q&&C(q).markObjectsAsStale(Z,[q]),C(q).maybeRefetch(Z,q),W(H).productReleaseCards||[]});B.meta={name:"createSelector",key:"createSelectorgetProductReleaseCards",description:H=>{const Z=Object(t.g)(H),q=Object(R.n)();return W(H).locale!==q&&C(q).markObjectsAsStale(Z,[q]),C(q).maybeRefetch(Z,q),W(H).productReleaseCards||[]}};const Y=Object(s.b)((H,Z)=>{var q;const k=Object(t.g)(H),se=Object(R.n)();return W(H).locale!==se&&P(se,Z).markObjectsAsStale(k,[se]),P(se,Z).maybeRefetch(k,se),((q=W(H).recommendedArticles)===null||q===void 0?void 0:q.articles)||[]});Y.meta={name:"createSelector",key:"createSelectorgetRecommendedArticles",description:(H,Z)=>{var q;const k=Object(t.g)(H),se=Object(R.n)();return W(H).locale!==se&&P(se,Z).markObjectsAsStale(k,[se]),P(se,Z).maybeRefetch(k,se),((q=W(H).recommendedArticles)===null||q===void 0?void 0:q.articles)||[]}};const z=Object(s.b)(H=>{var Z;return((Z=W(H).recommendedArticles)===null||Z===void 0?void 0:Z.requestId)||""});z.meta={name:"createSelector",key:"createSelectorgetRecommendArticlesRequestId",description:H=>{var Z;return((Z=W(H).recommendedArticles)===null||Z===void 0?void 0:Z.requestId)||""}};const F=Object(s.b)(H=>W(H).helpNavigation||A.a.helpNavigation);F.meta={name:"createSelector",key:"createSelectorgetHelpNavigation",description:H=>W(H).helpNavigation||A.a.helpNavigation};const V=Object(s.b)((H,Z,q)=>{var k,se;const re=Object(t.g)(H),X=Object(R.n)(),w=W(H).locale,ce=q??((k=W(H).helpNavigation)===null||k===void 0?void 0:k.categoryId),ie=(se=W(H).helpSections[0])===null||se===void 0?void 0:se.categoryId;return ce?(ie&&ce!==ie?(T(ce,X,Z).markObjectsAsStale(re,[ce.toString()]),T(ce,X,Z).maybeRefetch(re,ce.toString())):w!==X&&T(ce,X,Z).markObjectsAsStale(re,[X]),T(ce,X,Z).maybeRefetch(re,X),W(H).helpSections||[]):W(H).helpSections||[]});V.meta={name:"createSelector",key:"createSelectorgetHelpSections",description:(H,Z,q)=>{var k,se;const re=Object(t.g)(H),X=Object(R.n)(),w=W(H).locale,ce=q??((k=W(H).helpNavigation)===null||k===void 0?void 0:k.categoryId),ie=(se=W(H).helpSections[0])===null||se===void 0?void 0:se.categoryId;return ce?(ie&&ce!==ie?(T(ce,X,Z).markObjectsAsStale(re,[ce.toString()]),T(ce,X,Z).maybeRefetch(re,ce.toString())):w!==X&&T(ce,X,Z).markObjectsAsStale(re,[X]),T(ce,X,Z).maybeRefetch(re,X),W(H).helpSections||[]):W(H).helpSections||[]}};const L=Object(s.b)((H,Z)=>{const q=Object(t.g)(H),k=Object(R.n)();return W(H).locale!==k&&S(k,Z).markObjectsAsStale(q,[k]),S(k,Z).maybeRefetch(q,k),W(H).helpCategories||[]});L.meta={name:"createSelector",key:"createSelectorgetHelpCategories",description:(H,Z)=>{const q=Object(t.g)(H),k=Object(R.n)();return W(H).locale!==k&&S(k,Z).markObjectsAsStale(q,[k]),S(k,Z).maybeRefetch(q,k),W(H).helpCategories||[]}};const Q=Object(s.b)(H=>W(H).helpTour||A.a.helpTour);Q.meta={name:"createSelector",key:"createSelectorgetHelpTour",description:H=>W(H).helpTour||A.a.helpTour};const ee=Object(s.b)(H=>W(H).anchorId||A.a.anchorId);ee.meta={name:"createSelector",key:"createSelectorgetAnchorId",description:H=>W(H).anchorId||A.a.anchorId};const te=Object(s.b)(H=>W(H).isArticleLoaded||A.a.isArticleLoaded);te.meta={name:"createSelector",key:"createSelectorgetIsHelpArticleLoaded",description:H=>W(H).isArticleLoaded||A.a.isArticleLoaded};const le=Object(s.b)(H=>{var Z,q;if(!((Z=H.desktop)===null||Z===void 0||(q=Z.app)===null||q===void 0)&&q.updateInfo){var k;const{releaseName:se}=H.desktop.app.updateInfo;if(!((k=H.desktop)===null||k===void 0)&&k.environment){const{appVersion:re}=H.desktop.environment;if(se.endsWith(re))return null}return se}return null});le.meta={name:"createSelector",key:"createSelectorgetPendingAppUpdateReleaseName",description:H=>{var Z,q;if(!((Z=H.desktop)===null||Z===void 0||(q=Z.app)===null||q===void 0)&&q.updateInfo){var k;const{releaseName:se}=H.desktop.app.updateInfo;if(!((k=H.desktop)===null||k===void 0)&&k.environment){const{appVersion:re}=H.desktop.environment;if(se.endsWith(re))return null}return se}return null}};const Oe=Object(s.b)(H=>{if(H.desktop&&H.desktop.app&&H.desktop.app.updateInfo){const{releaseName:Z,releaseNotes:q,releaseDate:k}=H.desktop.app.updateInfo;return{timestamp:k?k.getTime():Date.now(),title:Z,description:M.t("A new version of the app is available.",{fallbackHash:"6d9f3bb92920feceb484bca2ce4e062b5024208e",fallbackHashNs:"whats_new"}),url:q,url_title:M.t("See release notes",{fallbackHash:"6d9f3bb92920feceb484bca2ce4e062b5024208e",fallbackHashNs:"whats_new"}),is_app_update:!0}}return null});Oe.meta={name:"createSelector",key:"createSelectorgetAppUpdate",description:H=>{if(H.desktop&&H.desktop.app&&H.desktop.app.updateInfo){const{releaseName:Z,releaseNotes:q,releaseDate:k}=H.desktop.app.updateInfo;return{timestamp:k?k.getTime():Date.now(),title:Z,description:M.t("A new version of the app is available.",{fallbackHash:"6d9f3bb92920feceb484bca2ce4e062b5024208e",fallbackHashNs:"whats_new"}),url:q,url_title:M.t("See release notes",{fallbackHash:"6d9f3bb92920feceb484bca2ce4e062b5024208e",fallbackHashNs:"whats_new"}),is_app_update:!0}}return null}};const he=Object(s.b)(H=>{const Z=Oe(H)||null;return Z?Z.timestamp:-1});he.meta={name:"createSelector",key:"createSelectorgetLatestAppUpdateTimeStamp",description:H=>{const Z=Oe(H)||null;return Z?Z.timestamp:-1}};const Ee=Object(s.b)(H=>{const Z=Object(t.g)(H);return I().maybeRefetch(Z,j),W(H).stats||A.b});Ee.meta={name:"createSelector",key:"createSelectorgetTicketStats",description:H=>{const Z=Object(t.g)(H);return I().maybeRefetch(Z,j),W(H).stats||A.b}};const ge=Object(s.b)(H=>Ee(H).unreadCount);ge.meta={name:"createSelector",key:"createSelectorgetUnreadTickets",description:H=>Ee(H).unreadCount};const J=Object(s.b)(H=>W(H).isHelpTipHistoryTourActive||A.a.isHelpTipHistoryTourActive);J.meta={name:"createSelector",key:"createSelectorgetIsHelpTipHistoryTourActive",description:H=>W(H).isHelpTipHistoryTourActive||A.a.isHelpTipHistoryTourActive}},iodP:function(K,n,e){"use strict";e.d(n,"a",function(){return t});var s=e("DwFS");const t=Object(s.a)("Updates the currently open tab for the given window and view container");t.meta={name:"createAction",key:"createActionupdateTabForWindowAndViewContainer",description:"Updates the currently open tab for the given window and view container"}},iomZ:function(K,n,e){"use strict";e.d(n,"a",function(){return t});var s=e("HJKc");const t=v(a=>{let{codePointLikeString:r}=a;if(!Object(s.a)(r))return;const c=16;return r.split("-").map(o=>String.fromCodePoint(parseInt(o,c))).join("")},"getUnicodeFromCodePointLikeString")},itAW:function(K,n,e){"use strict";e.d(n,"f",function(){return j}),e.d(n,"d",function(){return W}),e.d(n,"e",function(){return Y}),e.d(n,"i",function(){return z}),e.d(n,"j",function(){return F}),e.d(n,"k",function(){return V}),e.d(n,"o",function(){return Q}),e.d(n,"l",function(){return ee}),e.d(n,"n",function(){return te}),e.d(n,"c",function(){return le}),e.d(n,"a",function(){return Oe}),e.d(n,"g",function(){return he}),e.d(n,"m",function(){return Ee}),e.d(n,"b",function(){return H}),e.d(n,"h",function(){return Z});var s=e("Z0Cl"),t=e("TGBA"),a=e("OZf9"),r=e("Z7Ay"),c=e("ZKjC"),o=e("G4qV"),i=e("O86Y"),l=e("srzd"),u=e("WBOM"),f=e("WXkz"),d=e("9068"),O=e("9oTK"),m=e("Lgge"),g=e("oTSI"),E=e("Kmpi"),p=e("lhZz"),h=e("MvPG"),_=e("8j9e"),b=e("gsmS");const I=Object(g.a)(()=>new E.a({fetch:C,metricsName:"hermesTriggers",upsertKnown:y,upsertNonExistent:y}));function C(q){let k=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];return m.a.map(k,function(){var se=Object(O.coroutine)(function*(re){try{return(yield Object(p.dispatchForTeamId)(q,Object(h.b)({triggerId:re,includeWorkflowDetails:!0,reason:"hermes_triggers_ufm"}))).trigger}catch(X){return{id:re,error:X.name}}});return function(re){return se.apply(this,arguments)}}())}v(C,"fetchTriggersForTeamId");function y(q,k){const se=k.map(re=>re.id);Object(b.a)().markObjectsAsFresh(q,se),Object(p.dispatchForTeamId)(q,Object(_.k)({triggers:k}))}v(y,"upsertTriggersForTeamId");var P=e("i5Ig"),T=e("JoR1"),S=e("1Odg"),A=e("/Hvu"),R=e("CWPp");const x=Object(c.b)(q=>{var k;return q==null||(k=q.hermesTriggers)===null||k===void 0?void 0:k.triggersById});x.meta={name:"createSelector",key:"createSelectorgetTriggersById",description:q=>{var k;return q==null||(k=q.hermesTriggers)===null||k===void 0?void 0:k.triggersById}};const M=Object(c.b)(q=>{var k;return q==null||(k=q.hermesTriggers)===null||k===void 0?void 0:k.recentlyRunTriggerIds});M.meta={name:"createSelector",key:"createSelectorgetRecentlyRunTriggerIds",description:q=>{var k;return q==null||(k=q.hermesTriggers)===null||k===void 0?void 0:k.recentlyRunTriggerIds}};const j=Object(c.b)((q,k,se)=>{let{triggerId:re}=k;var X,w;const ce=q==null||(X=q.hermesTriggers)===null||X===void 0||(w=X.triggersById)===null||w===void 0?void 0:w[re],ie=Object(i.g)(q);return ie?ce?(Object(b.a)().maybeRefetch(ie,re),ce):se?I().fetchObjectWithId(ie,re):Object(d.e)(re):Object(d.e)(re)});j.meta={name:"createSelector",key:"createSelectorgetTriggerById",description:(q,k,se)=>{let{triggerId:re}=k;var X,w;const ce=q==null||(X=q.hermesTriggers)===null||X===void 0||(w=X.triggersById)===null||w===void 0?void 0:w[re],ie=Object(i.g)(q);return ie?ce?(Object(b.a)().maybeRefetch(ie,re),ce):se?I().fetchObjectWithId(ie,re):Object(d.e)(re):Object(d.e)(re)}};const W=Object(c.b)(q=>Object(T.u)(q,"seen_workflows_gallery_onboarding_banner_view_count")||0);W.meta={name:"createSelector",key:"createSelectorgetShortcutsGalleryNuxBannerViewCount",description:q=>Object(T.u)(q,"seen_workflows_gallery_onboarding_banner_view_count")||0};const U=Object(c.b)(q=>{var k;return(q==null||(k=q.hermesTriggers)===null||k===void 0?void 0:k.gallerySearchInput)||""});U.meta={name:"createSelector",key:"createSelectorgetShortcutsGallerySearchInput",description:q=>{var k;return(q==null||(k=q.hermesTriggers)===null||k===void 0?void 0:k.gallerySearchInput)||""}};const B=Object(c.b)(q=>{var k;return(q==null||(k=q.hermesTriggers)===null||k===void 0?void 0:k.gallerySearchResults)||[]});B.meta={name:"createSelector",key:"createSelectorgetShortcutsGallerySearchResults",description:q=>{var k;return(q==null||(k=q.hermesTriggers)===null||k===void 0?void 0:k.gallerySearchResults)||[]}};const Y=Object(c.b)((q,k)=>{const se=x(q)||{},re=new RegExp(k,"i"),X=Object.keys(se).map(ce=>se[ce]||{});return Object(s.a)(X,ce=>ce&&((ce==null?void 0:ce.name)||"").match(re))||[]});Y.meta={name:"createSelector",key:"createSelectorgetShortcutsGallerySearchResultsCached",description:(q,k)=>{const se=x(q)||{},re=new RegExp(k,"i"),X=Object.keys(se).map(ce=>se[ce]||{});return Object(s.a)(X,ce=>ce&&((ce==null?void 0:ce.name)||"").match(re))||[]}};const z=Object(c.b)(q=>{var k;return(q==null||(k=q.hermesTriggers)===null||k===void 0?void 0:k.workflowPickerSearchInput)||""});z.meta={name:"createSelector",key:"createSelectorgetWorkflowPickerSearchInput",description:q=>{var k;return(q==null||(k=q.hermesTriggers)===null||k===void 0?void 0:k.workflowPickerSearchInput)||""}};const F=Object(c.b)(q=>{var k;return(q==null||(k=q.hermesTriggers)===null||k===void 0?void 0:k.workflowPickerSearchResults)||[]});F.meta={name:"createSelector",key:"createSelectorgetWorkflowPickerSearchResults",description:q=>{var k;return(q==null||(k=q.hermesTriggers)===null||k===void 0?void 0:k.workflowPickerSearchResults)||[]}};const V=Object(c.b)((q,k)=>{const se=x(q)||{},re=new RegExp(k,"i"),X=Object.keys(se).map(ce=>se[ce]||{});return Object(s.a)(X,ce=>ce&&((ce==null?void 0:ce.name)||"").match(re))||[]});V.meta={name:"createSelector",key:"createSelectorgetWorkflowPickerSearchResultsCached",description:(q,k)=>{const se=x(q)||{},re=new RegExp(k,"i"),X=Object.keys(se).map(ce=>se[ce]||{});return Object(s.a)(X,ce=>ce&&((ce==null?void 0:ce.name)||"").match(re))||[]}};const L=Object(c.b)(q=>{var k;return(q==null||(k=q.hermesTriggers)===null||k===void 0?void 0:k.openTourId)||null});L.meta={name:"createSelector",key:"createSelectorgetGuidedTourCoachmark",description:q=>{var k;return(q==null||(k=q.hermesTriggers)===null||k===void 0?void 0:k.openTourId)||null}};const Q=Object(c.b)(q=>{var k;const se=(q==null||(k=q.hermesTriggers)===null||k===void 0?void 0:k.openTourId)||"";return se==="platform-coachmark-tour"||se==="announce-only-platform-coachmark-tour"});Q.meta={name:"createSelector",key:"createSelectorisWorkflowCoachmarkOpen",description:q=>{var k;const se=(q==null||(k=q.hermesTriggers)===null||k===void 0?void 0:k.openTourId)||"";return se==="platform-coachmark-tour"||se==="announce-only-platform-coachmark-tour"}};const ee=Object(c.b)(q=>{var k;return((q==null||(k=q.hermesTriggers)===null||k===void 0?void 0:k.openTourId)||"")==="announce-only-platform-coachmark-tour"});ee.meta={name:"createSelector",key:"createSelectorisAnnounceOnlyWorkflowCoachmarkOpen",description:q=>{var k;return((q==null||(k=q.hermesTriggers)===null||k===void 0?void 0:k.openTourId)||"")==="announce-only-platform-coachmark-tour"}};const te=Object(c.b)(q=>{var k;return((q==null||(k=q.hermesTriggers)===null||k===void 0?void 0:k.openTourId)||"")==="slash-commands-coachmark-tour"});te.meta={name:"createSelector",key:"createSelectorisSlashCommandsCoachmarkOpen",description:q=>{var k;return((q==null||(k=q.hermesTriggers)===null||k===void 0?void 0:k.openTourId)||"")==="slash-commands-coachmark-tour"}};const le=Object(c.b)(q=>{var k;return(k=M(q))===null||k===void 0?void 0:k.map(se=>j(q,{triggerId:se}))});le.meta={name:"createSelector",key:"createSelectorgetRecentlyRunTriggers",description:q=>{var k;return(k=M(q))===null||k===void 0?void 0:k.map(se=>j(q,{triggerId:se}))}};const Oe=Object(o.a)(q=>x(q),q=>{if(!q)return P.a;const k=Object(t.a)(q);return Object(s.a)(k,re=>!(!Object(R.a)(re)||re.workflow_details&&!re.workflow_details.is_published))}),he=Object(c.b)((q,k)=>{let{appId:se}=k;const re=x(q)||{};return Object.values(re).find(w=>{var ce;return(w==null||(ce=w.workflow)===null||ce===void 0?void 0:ce.app_id)===se})});he.meta={name:"createSelector",key:"createSelectorgetTriggerFromSlackAppId",description:(q,k)=>{let{appId:se}=k;const re=x(q)||{};return Object.values(re).find(w=>{var ce;return(w==null||(ce=w.workflow)===null||ce===void 0?void 0:ce.app_id)===se})}};const Ee=Object(c.b)((q,k)=>{const se=Object(u.e)(q,k);return se?(se==null?void 0:se.type)===u.a.SHORTCUT_LINK_TRIGGER:!1});Ee.meta={name:"createSelector",key:"createSelectorisHermesLinkTriggerFormat",description:(q,k)=>{const se=Object(u.e)(q,k);return se?(se==null?void 0:se.type)===u.a.SHORTCUT_LINK_TRIGGER:!1}};const ge=Object(c.b)((q,k)=>{let{triggerId:se}=k;const re=j(q,{triggerId:se},!1);return re==null?void 0:re.shortcut_url});ge.meta={name:"createSelector",key:"createSelectorgetShortcutUrl",description:(q,k)=>{let{triggerId:se}=k;const re=j(q,{triggerId:se},!1);return re==null?void 0:re.shortcut_url}};const J=Object(c.b)((q,k)=>{let{triggerId:se}=k;var re;return!!(!(q==null||(re=q.hermesTriggers)===null||re===void 0)&&re.triggersMarkedStaleInSession[se])});J.meta={name:"createSelector",key:"createSelectorhasTriggerBeenMarkedStaleInSession",description:(q,k)=>{let{triggerId:se}=k;var re;return!!(!(q==null||(re=q.hermesTriggers)===null||re===void 0)&&re.triggersMarkedStaleInSession[se])}};const H=Object(c.b)((q,k)=>{let{block:se}=k;var re;const X=se.functionTriggerId,w=Object(S.b)(se);if(!J(q,{triggerId:X}))return w;const ie=j(q,{triggerId:X},!0),oe=ie==null||(re=ie.workflow)===null||re===void 0?void 0:re.workflow_id,me=oe?Object(l.a)(q,oe):void 0;return Object(d.c)(ie)||!me||Object(d.c)(me)?w:Object(A.b)({passedShortcutInfo:w,trigger:ie,workflow:me})});H.meta={name:"createSelector",key:"createSelectorgetFreshShortcutInfoForShareShortcutBlock",description:(q,k)=>{let{block:se}=k;var re;const X=se.functionTriggerId,w=Object(S.b)(se);if(!J(q,{triggerId:X}))return w;const ie=j(q,{triggerId:X},!0),oe=ie==null||(re=ie.workflow)===null||re===void 0?void 0:re.workflow_id,me=oe?Object(l.a)(q,oe):void 0;return Object(d.c)(ie)||!me||Object(d.c)(me)?w:Object(A.b)({passedShortcutInfo:w,trigger:ie,workflow:me})}};const Z=Object(c.b)((q,k)=>{let{listId:se}=k;var re;const X=new Set(((re=Object(f.h)(q,se))===null||re===void 0?void 0:re.integrations)||[]),w=[];X.forEach(ie=>{w.push(j(q,{triggerId:ie},!0))});const ce=[];return Object(a.a)(w,ie=>{if(Object(d.d)(ie))return;const{workflow:oe,id:me,name:ue}=ie;let _e,be,Ae;oe&&({title:_e,description:be,workflow_id:Ae}=oe);const Ce={description:be,id:me,name:_e||ue||"",workflowId:Ae||""};ce.push(Ce)}),ce});Z.meta={name:"createSelector",key:"createSelectorgetTriggersForListId",description:(q,k)=>{let{listId:se}=k;var re;const X=new Set(((re=Object(f.h)(q,se))===null||re===void 0?void 0:re.integrations)||[]),w=[];X.forEach(ie=>{w.push(j(q,{triggerId:ie},!0))});const ce=[];return Object(a.a)(w,ie=>{if(Object(d.d)(ie))return;const{workflow:oe,id:me,name:ue}=ie;let _e,be,Ae;oe&&({title:_e,description:be,workflow_id:Ae}=oe);const Ce={description:be,id:me,name:_e||ue||"",workflowId:Ae||""};ce.push(Ce)}),ce}},Object(r.a)("hermesTriggers",function(q,k){let{triggerId:se}=k,re=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;return j(q,{triggerId:se},re)})},ivl2:function(K,n,e){"use strict";e.d(n,"a",function(){return r});var s=e("xwCZ"),t=e("C3vN"),a=e("IYwZ");function r(c,o){if(!o)return!1;const i=Object(s.g)(c,o);return!Object(t.lb)(i)&&!!o&&!!Object(a.c)(c,o)}v(r,"isDnd")},"j/0O":function(K,n,e){"use strict";var s=e("q1tI"),t=e.n(s),a=e("iuhU"),r=e("oEDn"),o=t.a.memo(d=>{let{animationDelay:O,size:m="large"}=d;const g=48,E=g-(m==="large"?48:36),p=g*2,h="#1D9BD1",_="#F2C744",b="#007A5A",I="#E01E5A",C={animationDelay:`${O||0}s`},y=v((A,R)=>t.a.createElement("path",{d:"M2 10.3L6 10.39C8.2 10.4 10 8.6 10 6.3C10 4 8.2 2.1 6 2C3.79 2 2 3.85 2 6.15L2 10.3Z",fill:R,className:A,style:C}),"renderDrop"),P=v((A,R)=>t.a.createElement("circle",{r:"4",fill:R,className:A,style:C}),"renderCircle"),T=v((A,R)=>t.a.createElement("path",{d:"M6.47 1.27C6.3 0.83 5.69 0.83 5.53 1.27L4.46 4.16C4.4 4.3 4.3 4.41 4.16 4.46L1.27 5.53C0.83 5.69 0.831 6.3 1.27 6.47L4.16 7.5C4.3 7.59 4.41 7.7 4.46 7.84L5.53 10.73C5.69 11.17 6.31 11.17 6.47 10.73L7.54 7.84C7.59 7.7 7.7 7.59 7.84 7.54L10.73 6.47C11.17 6.31 11.17 5.69 10.73 5.53L7.84 4.46C7.7 4.41 7.59 4.3 7.54 4.16L6.47 1.27Z",fill:R,className:A,style:C}),"renderStar"),S=v((A,R)=>t.a.createElement("path",{d:"M1 5.5C1 4.12 2.12 3 3.5 3H8.5C9.88 3 11 4.12 11 5.5V5.5C11 6.88 9.88 8 8.5 8H3.5C2.12 8 1 6.88 1 5.5V5.5Z",fill:R,className:A,style:C}),"renderSprinkle");return t.a.createElement("svg",{className:Object(a.default)("position_absolute",`p-upgrades_icon_celebration_animation--${m}`),style:{top:`-${g/2+E/2}px`,left:`-${g/2+E/2}px`},width:p,height:p,viewBox:`0 0 ${p} ${p}`,fill:"none",xmlns:"http://www.w3.org/2000/svg"},y("p-upgrades_icon_celebration_animation__drop_top_right",h),P("p-upgrades_icon_celebration_animation__circle_top_right",_),P("p-upgrades_icon_celebration_animation__circle_right",b),T("p-upgrades_icon_celebration_animation__star_bottom_right",_),P("p-upgrades_icon_celebration_animation__circle_bottom_right",_),S("p-upgrades_icon_celebration_animation__sprinkle_bottom_left",I),y("p-upgrades_icon_celebration_animation__drop_left",_),P("p-upgrades_icon_celebration_animation__circle_top_left",h),T("p-upgrades_icon_celebration_animation__star_top_left",b),S("p-upgrades_icon_celebration_animation__sprinkle_top_left",I))}),i=e("vDCl");function l(){return l=Object.assign||function(d){for(var O=1;O<arguments.length;O++){var m=arguments[O];for(var g in m)Object.prototype.hasOwnProperty.call(m,g)&&(d[g]=m[g])}return d},l.apply(this,arguments)}v(l,"_extends");const u=v(d=>{let{className:O,animationProps:m,hasBorder:g,type:E,size:p=i.a.MEDIUM,theme:h=i.b.PURPLE,showAnimation:_}=d;const b=Object(a.default)(`p-upgrades_icon--${p}`,`p-upgrades_icon--${h}`,O),I=t.a.createElement(r.a,{className:b,size:"inherit",type:E});if(!g)return I;const C=Object(a.default)("p-upgrades_icon_container",`p-upgrades_icon_container--${p}`,`p-upgrades_icon_container--${h}`,{"p-upgrades_icon_container--with_animation":_});return t.a.createElement("div",{className:C},I,_&&t.a.createElement(o,l({size:p},m)))},"UpgradesIcon");u.displayName="UpgradesIcon";var f=n.a=u},jF6j:function(K,n,e){"use strict"},jJRY:function(K,n,e){"use strict";e.d(n,"a",function(){return c}),e.d(n,"b",function(){return u}),e.d(n,"c",function(){return d});var s=e("9oTK"),t=e.n(s),a=e("vfQU");function r(O){return"webContents"in O}v(r,"isElectronBrowserWindow");function c(O,m){return o.apply(this,arguments)}v(c,"resizeContentAroundWindowCenter");function o(){return o=Object(s.coroutine)(function*(O,m){const g=(yield Object(a.W)(O))||{x:800,y:500,width:200,height:200};Object(a.gc)(O,{x:Math.round(g.x+(g.width-m.width)/2),y:Math.round(g.y+(g.height-m.height)/2),height:m.height,width:m.width})}),o.apply(this,arguments)}v(o,"_resizeContentAroundWindowCenter");function i(O,m){return l.apply(this,arguments)}v(i,"getWindowSizeForContentSize");function l(){return l=Object(s.coroutine)(function*(O,m){const g=yield Object(a.V)(O),E=yield Object(a.W)(O);var p,h,_,b;const I={height:((p=g==null?void 0:g.height)!==null&&p!==void 0?p:0)-((h=E==null?void 0:E.height)!==null&&h!==void 0?h:0),width:((_=g==null?void 0:g.width)!==null&&_!==void 0?_:0)-((b=E==null?void 0:E.width)!==null&&b!==void 0?b:0)};return{width:m.width+I.width,height:m.height+I.height}}),l.apply(this,arguments)}v(l,"_getWindowSizeForContentSize");function u(O,m){return f.apply(this,arguments)}v(u,"setMinimumContentSize");function f(){return f=Object(s.coroutine)(function*(O,m){const g=yield i(O,m);Object(a.ac)(O,g.width,g.height)}),f.apply(this,arguments)}v(f,"_setMinimumContentSize");function d(){let O=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;const m=[1,1.1,1.25,1.5],g=[1,.9,.8,.7];return!O||typeof O!="number"||O===0||O>=m.length||O<=-g.length?1:O>0?m[O]:g[O*-1]}v(d,"zoomLevelToFactor")},jKkg:function(K,n,e){"use strict";e.d(n,"e",function(){return F}),e.d(n,"a",function(){return V}),e.d(n,"b",function(){return le}),e.d(n,"d",function(){return Oe}),e.d(n,"c",function(){return Ee});var s=e("Jnq/"),t=e("Wy5O"),a=e("mkut"),r=e("fujP"),c=e("QEec"),o=e("NFsq"),i=e("OtLZ"),l=e("Fsnq"),u=e("hbEN"),f=e("9mJw"),d=e("wd/R"),O=e.n(d),m=e("n3tL"),g=e("Lgge"),E=e("SQ0V"),p=e("O86Y"),h=e("9Gfp"),_=e("FSos"),b=e("/LVU"),I=e("xwCZ"),C=e("C3vN"),y=e("Fn/R"),P=e("K7jq"),T=e("s4P+"),S=e("I27i"),A=e("8lFY"),R=e("lVlD"),x=e("IYwZ"),M=e("clFD");const j="DND",W={},U=300,B=15;let Y=Object(s.a)(15,25*60);const z=1e3,F=Object(E.c)("Updates the DND schedule and snooze info for the current member",function(Z,q){let{nextDndStartTs:k,nextDndEndTs:se,snoozeEnabled:re,snoozeEndTs:X,snoozeIsIndefinite:w}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const ce=q(),ie=Object(h.a)(ce);X&&Z(Object(R.f)({snoozeEnabled:re,snoozeEndTs:X,snoozeIsIndefinite:w})),Z(Object(R.d)({memberId:ie,nextDndStartTs:k,nextDndEndTs:se,snoozeIsIndefinite:w}))});F.meta={name:"createThunk",key:"createThunkupdateDndForCurrentMember",description:"Updates the DND schedule and snooze info for the current member"},F.propTypes=m.default.shape({nextDndStartTs:m.default.number.isRequired,nextDndEndTs:m.default.number.isRequired,snoozeEnabled:m.default.bool,snoozeEndTs:m.default.number,snoozeIsIndefinite:m.default.bool});const V=v(function(){let{nextDndStartTs:Z,nextDndEndTs:q,snoozeIsIndefinite:k,now:se=O()().unix()}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return k?!0:Z===1||q===1?!1:Z<=se&&q>se},"calculateIfMemberIsInDnd"),L=v(Z=>{const q=new Date(Z*1e3),k=q.getSeconds(),se=q.getMinutes();return k===0&&(se===0||se===30)},"isProbablyScheduled"),Q=v(function(){let{nextDndEndTs:Z,now:q=O()().unix()}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return!Z||Z===1||Z>q?!1:L(Z)?q-Z>=Y:!0},"isTimestampStale"),ee=Object(E.c)("Removes member data from the DND store if they are not in the presence subscription",(Z,q)=>{const k=q(),se=Object(T.a)({state:k}),re=Object(p.g)(k),X=Object(_.b)(re),w=Object(x.a)(k),ce=Object(t.a)(Object(a.a)(w),Object(a.a)(X));Object(r.a)(ce)||(se.info(j,`Removing DND data for the following members: ${ce}`),Z(Object(R.a)({memberIds:ce})))});ee.meta={name:"createThunk",key:"createThunkcleanDndStore",description:"Removes member data from the DND store if they are not in the presence subscription"};const te=Object(E.c)("Handle an error from one of the DND APIs",(Z,q,k)=>{let{error:se}=k;var re;const X=se==null||(re=se.data)===null||re===void 0?void 0:re.error;throw(X==="invalid_auth"||X==="not_authed"||X==="user_removed_from_team")&&(Z(J()),Object(T.a)({getState:q}).warn(j,"Cancelled DND timer due to auth error")),se});te.meta={name:"createThunk",key:"createThunkonDndApiError",description:"Handle an error from one of the DND APIs"},te.propTypes={error:m.default.shape({name:m.default.string})};const le=Object(E.c)("Checks to see if members should move into or out of DND",function(Z,q){let{fetchDndTimes:k=!0}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const se=q(),re=Object(A.a)(se),X=Object(T.a)({state:se});if(re)return X.warn(M.a,"Called checkForChangesInDndStatus(v1) when dnd_cfm_store is enabled. This should not happen."),g.a.resolve();const w=Object(x.a)(se);if(Object(r.a)(w))return g.a.resolve();const ce=Object(h.a)(se),ie=[],oe=[],me=O()().unix();if(X.info(j,`Checking for changes in DND status for the following members: ${Object(a.a)(w)}`),Object(c.a)(w,(be,Ae)=>{const{nextDndStartTs:Ce,nextDndEndTs:De,snoozeIsIndefinite:Pe}=be,Ue=Ae,ae=Object(x.c)(se,Ue),ne=V({nextDndStartTs:Ce,nextDndEndTs:De,snoozeIsIndefinite:Pe,now:me});if(ae!==ne&&(Z(Object(R.c)({memberId:Ue,isInDnd:ne})),(ne||!ne&&ae!==void 0)&&ie.push(Ue),ne===!1&&ae!==void 0&&Ue===ce)){const{snoozeEnabled:Ie}=Object(x.e)(se);Ie&&Z(Object(R.f)({snoozeEnabled:!1,snoozeEndTs:void 0}))}if(ae===!0&&ne===!0&&Ue===ce){const{snoozeEndTs:Ie}=Object(x.e)(se);Ie&&Ie<=me&&(X.info(j,"Changing the current members DND type from DND snooze to DND schedule"),Z(Object(R.f)({snoozeEnabled:!1,snoozeEndTs:void 0})))}Q({nextDndEndTs:De,now:me})&&oe.push(Ue)}),Object(r.a)(ie)||X.info(j,`Members with DND changes: ${ie}`),Z(ge()),Object(r.a)(oe)||!k||!Object(S.c)(se))return g.a.resolve();X.info(j,`Fetching new times for ${oe}`);const ue=[];Object(o.a)(oe,ce)&&ue.push(Z(Object(b.c)({memberId:ce,reason:"checkForChangesInDndStatus"})).then(function(){let{nextDndStartTs:be,nextDndEndTs:Ae,snoozeEnabled:Ce,snoozeEndTs:De,snoozeIsIndefinite:Pe}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};Z(F({nextDndStartTs:be,nextDndEndTs:Ae,snoozeEnabled:Ce,snoozeEndTs:De,snoozeIsIndefinite:Pe})),Z(ge())}).catch(be=>{throw Z(te({error:be})),be}));const _e=Object(i.a)(oe,ce);return _e.length&&ue.push(Z(Object(b.d)({memberIds:_e,reason:"checkForChangesInDndStatus"})).then(be=>{Z(Object(R.e)(be)),Z(ge())}).catch(be=>{throw Z(te({error:be})),be})),g.a.all(ue)});le.meta={name:"createThunk",key:"createThunkcheckForChangesInDndStatus",description:"Checks to see if members should move into or out of DND"},le.propTypes={fetchDndTimes:m.default.bool.isRequired};const Oe=Object(E.c)("Checks the DND Store to see if we have DND schedules for the members in the presence subscription",(Z,q)=>{const k=q(),se=Object(A.a)(k),re=Object(T.a)({state:k});if(se){re.warn(M.a,"Called getDndTimesForSubscribedMembers when dnd_cfm_store is enabled. This should not happen.");return}const X=Object(p.g)(k),w=Object(a.a)(Object(_.b)(X));if(Object(r.a)(w))return;const ce=Object(x.a)(k),ie=Object(a.a)(ce);Object(l.a)(ce)>=z&&Z(ee());const oe=Object(t.a)(w,ie).map(ue=>Object(I.g)(k,ue)).filter(ue=>ue&&!Object(y.a)(ue)&&!Object(C.eb)(ue)&&!Object(P.a)(ue)).map(ue=>ue.id);if(Object(r.a)(oe)){re.info(j,"There are no members in the presence subscription that we need to fetch DND times for!");return}re.info(j,`Preparing to fetch DND times for the following members: ${oe}`);const me=Object(h.a)(k);if(Object(o.a)(oe,me)){Z(Object(b.c)({memberId:me,reason:"getDndTimesForSubscribedMembers"})).then(function(){let{nextDndStartTs:_e,nextDndEndTs:be,snoozeEnabled:Ae,snoozeEndTs:Ce,snoozeIsIndefinite:De}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};Z(F({nextDndStartTs:_e,nextDndEndTs:be,snoozeEnabled:Ae,snoozeEndTs:Ce,snoozeIsIndefinite:De})),Z(le({fetchDndTimes:!1}))});const ue=oe.filter(_e=>_e!==me);if(Object(r.a)(ue))return;Z(Object(b.d)({memberIds:ue,reason:"getDndTimesForSubscribedMembers:self"})).then(_e=>{Z(Object(R.e)(_e)),Z(le({fetchDndTimes:!1}))});return}Z(Object(b.d)({memberIds:oe,reason:"getDndTimesForSubscribedMembers:other"})).then(ue=>{Z(Object(R.e)(ue)),Z(le({fetchDndTimes:!1}))})});Oe.meta={name:"createThunk",key:"createThunkgetDndTimesForSubscribedMembers",description:"Checks the DND Store to see if we have DND schedules for the members in the presence subscription"};const he=v(Z=>{Z(Oe())},"getDndTimes"),Ee=Object(u.a)(he,500);let ge=Object(E.c)("Sets a timer that fires whenever the next time a member in the DND store should have their DND status changed",(Z,q)=>{const k=q(),se=Object(T.a)({state:k});if(Object(A.a)(k)){se.warn(M.a,"Called kickOffDndTimer(v1) when dnd_cfm_store is enabled. This should not happen.");return}const X=Object(p.g)(k),w=O()().unix(),ce=Object(h.a)(k);clearTimeout(W[X]);const ie=Object(x.a)(k);if(Object(r.a)(ie))return;let oe=w+U;Object(c.a)(ie,(_e,be)=>{const{nextDndStartTs:Ae,nextDndEndTs:Ce}=_e;if(Ae===1||Ce===1)return;let De;if(Ae>w?De=Ae:Ce>w?De=Ce:De=Ce+Y,be===ce){const{snoozeEndTs:Pe}=Object(x.e)(k);Pe&&Pe<Ce&&(De=Pe)}(!oe||De<oe)&&(oe=De)}),oe-w<B&&(oe=w+B),oe-w>U&&(oe=w+U);const me=(oe-w)*1e3,ue=Object(f.a)(me/1e3/60,2);se.info(j,`Will check for changes in DND status again in ${ue} minutes`),W[X]=setTimeout(()=>{Z(le({fetchDndTimes:!0}))},me)});ge.meta={name:"createThunk",key:"createThunkkickOffDndTimer",description:"Sets a timer that fires whenever the next time a member in the DND store should have their DND status changed"};const J=Object(E.c)("Clears the DND timer",(Z,q)=>{const k=q(),se=Object(p.g)(k);clearTimeout(W[se]),delete W[se]});J.meta={name:"createThunk",key:"createThunkcancelDndTimer",description:"Clears the DND timer"},Object.defineProperty({calculateIfMemberIsInDnd:V,cleanDndStore:ee,DND_TIMERS:W,DND_LIMIT:z,setStaleDelay:Z=>{Y=Z},cancelDndTimer:J},"kickOffDndTimer",{get:()=>ge,set:Z=>{ge=Z}})},jMXC:function(K,n,e){"use strict";e.d(n,"a",function(){return t}),e.d(n,"b",function(){return a});var s=e("vFlG");const t={height:576,width:1024,useContentSize:!0,minContentWidth:704,minContentHeight:396,center:!0,frame:!0,titleBarStyle:"default"};function a(r){return!!Object(s.a)(r,"activeCall")}v(a,"isCallWindowContextState")},jNCy:function(K,n,e){"use strict";var s=e("q1tI"),t=e.n(s),a=e("/MKj"),r=e("iuhU"),c=e("ifKl"),o=e("zxER"),i=e("O86Y"),l=e("DneB"),u=e("lhZz"),f=e("3vtZ"),d=e("pFNT"),O=e("nWdO"),m=e("+CZ0"),g=e("sgFo"),E=e("r6c4"),p=e("GNR7"),h=e("VFSv"),_=e("W7ht");function b(){return b=Object.assign||function(A){for(var R=1;R<arguments.length;R++){var x=arguments[R];for(var M in x)Object.prototype.hasOwnProperty.call(x,M)&&(A[M]=x[M])}return A},b.apply(this,arguments)}v(b,"_extends");const I=2,C=v(A=>{let{index:R,shouldOverlap:x,isLastChild:M,isLastOnTop:j}=A;return x?R>0?1:2:j?M?1:0:M?"auto":1},"computeZIndex");function y(A){let{channelId:R,isSelected:x,withTooltip:M,className:j,excludeIcon:W,excludeMemberOverflowCount:U,maxMembers:B=I,avatarSize:Y=d.a.verySmall,isLastOnTop:z,overlap:F=!1}=A;const V=Object(o.a)(k=>Object(f.M)(k)||Object(E.b)(k)),L=Object(l.b)(m.b),Q=Object(l.b)(m.s),te=L===R&&Object(f.K)(Q),le=Object(o.b)(k=>Object(p.f)(k,R)),Oe=le.length,he=Oe>B,Ee=he?Oe-2:0,ge=he?le.slice(0,B):le,J=Object(o.a)(g.H),H=F||J;if(!V||!Oe)return null;const Z=t.a.createElement("div",{className:Object(r.default)("p-huddle_avatar_stack__avatars_container",j,{"p-huddle_avatar_stack__avatars_container--multiple-members":Oe>1,"p-huddle_avatar_stack__avatars_container--selected":x}),"data-qa":"huddle_avatar_stack__avatars_container"},!W&&t.a.createElement("div",{className:Object(r.default)("p-huddle_avatar_stack","p-huddle_avatar_stack__icon_container",{"p-huddle_avatar_stack--multiple-members":Oe>1})},t.a.createElement(h.a,{name:"headphones",size:"20"})),ge.map((k,se)=>{const re=se===ge.length-1,X=C({index:se,shouldOverlap:H,isLastChild:re,isLastOnTop:z});return t.a.createElement("div",{key:k,className:Object(r.default)("p-huddle_avatar_stack",{"p-huddle_avatar_stack--overlapping-container":!re||H}),"data-qa":"huddle_avatar_stack__member",style:{zIndex:X}},t.a.createElement("div",{className:"p-huddle_avatar_stack__avatar_wrapper"},t.a.createElement(d.c,{className:Object(r.default)("p-huddle_avatar_stack__avatar",{"p-huddle_avatar_stack__avatar--overlapping":!re||H}),userId:k,size:Y,renderCustomBadge:c.a,isInteractive:!1})))}),!U&&he&&t.a.createElement("div",{className:"p-huddle_avatar_stack__plus-member-count","data-qa":"huddle_avatar_stack__plus_member_count"},`+${Ee}`)),q=M?t.a.createElement(O.c,{tip:t.a.createElement(_.b,{channelId:R})},Z):Z;return te?null:q}v(y,"HuddleAvatarStack"),y.displayName="HuddleAvatarStack";const P=t.a.memo(y);function T(A){const{channelId:R}=A,x=Object(o.a)(U=>Object(p.e)(U,R)),M=Object(l.b)(m.e),j=Object(l.b)(m.b),W=Object(o.a)(i.g);if(!x)return null;if(j===R){const U=Object(u.getStoreInstanceByTeamId)(M||W);return t.a.createElement(a.Provider,{store:U},t.a.createElement(P,b({},A)))}return t.a.createElement(P,b({},A))}v(T,"XWSHuddleAvatarStack"),T.displayName="XWSHuddleAvatarStack";var S=n.a=t.a.memo(T)},jSYs:function(K,n,e){"use strict";e.d(n,"a",function(){return t});const s=["ZoomAudioDevice (Virtual)"];function t(a){return a.filter(r=>s.indexOf(r.label)===-1)}v(t,"filterVirtualAudioDevices")},jUSB:function(K,n,e){"use strict";e.d(n,"c",function(){return i}),e.d(n,"e",function(){return u}),e.d(n,"b",function(){return f}),e.d(n,"a",function(){return d}),e.d(n,"d",function(){return O});var s=e("Lgge"),t=e("s4P+");const a={},r={},c={};function o(m){return`${m}-repeat`}v(o,"createRepeatKey");function i(m){let g=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!m)return null;const E=f(m)||d(m);E.loop=!!g.loop,E.currentTime=0;var p;return E.volume=(p=g.volume)!==null&&p!==void 0?p:1,(E.play()||s.a.resolve()).catch(_=>{Object(t.b)().warn(`Failed to play sound: ${m} with reason: ${_}`)})}v(i,"play");function l(m){let g=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!m)return null;const E=o(m),p=v(()=>{r[E]-=1,r[E]>0&&(g.pause?c[E]=setTimeout(()=>{i(E)},g.pause):i(E))},"ended");r[E]=g.repeat;const h=f(E)||d(m,{ended:p,customCacheKey:E});return h.currentTime=0,(h.play()||s.a.resolve()).catch(b=>{Object(t.b)().warn(`Failed to play repeated sound: ${m} with reason: ${b}`)})}v(l,"playRepeat");function u(m){let{logFailure:g}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{logFailure:!0};const E=f(m),p=o(m),h=f(p);if(!E&&!h){g&&Object(t.b)().warn(`Tried to stop sound, but no sound was playing matching url: ${m}. Available cached element urls are ${Object.keys(a).join(", ")}`);return}h&&(h.pause(),clearTimeout(c[p]),r[p]=0),E&&E.pause()}v(u,"stop");function f(m){return a[m]}v(f,"getAudioElement");function d(m){let g=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const E=new Audio(m);g.ended&&E.addEventListener("ended",g.ended);const p=g.customCacheKey||m;return a[p]=E,E}v(d,"createAudioElement");function O(m,g,E){if(!m||!g||!E)return;const p=f(m);p&&p.removeEventListener(g,E)}v(O,"removeAudioElementListener")},jUkS:function(K,n,e){K.exports=e.p+"flitterbug-77334dc.mp3"},jWAO:function(K,n,e){"use strict";e.d(n,"c",function(){return c}),e.d(n,"b",function(){return o}),e.d(n,"a",function(){return i});var s=e("q1tI"),t=e.n(s),a=e("iuhU"),r=e("oEDn"),c;(function(d){d.default="default",d.boxed="boxed",d.inlineBoxed="inline_boxed",d.nestedBox="nested_box",d.inline="inline",d.custom="custom"})(c||(c={}));var o;(function(d){d.default="default",d.info="info",d.success="success",d.warning="warning",d.error="error"})(o||(o={}));var i;(function(d){d.left="left",d.center="center",d.right="right"})(i||(i={}));const l=new Map([["default","slack-pillow"],["info","info-circle"],["success","check-circle-o-large"],["error","warning"],["warning","warning"]]),u=v(d=>{let{align:O=i.left,className:m,heading:g,icon:E,customIcon:p,id:h,level:_=o.default,type:b=c.boxed,children:I,"data-qa":C}=d;const y=Object(a.default)("c-alert",`c-alert--${b}`,`c-alert--level_${_}`,`c-alert--align_${O}`,{"c-alert--multiline":!!g},m),P=l.get(_)||"slack-pillow",T=(p||P)&&b!==c.inline&&b!==c.custom,S=b===c.nestedBox?"inherit":void 0,A=b!==c.custom&&g;return t.a.createElement("div",{className:y,id:h,"data-qa":C,"data-qa-alert":!0,"data-qa-alert-level":_,"data-qa-alert-type":b,"data-qa-alert-align":O},T&&(p||t.a.createElement(r.a,{type:E||P,className:"c-alert__icon",size:S,inline:!0,"data-qa-alert-icon":!0,"data-qa-alert-icon-type":E||P})),t.a.createElement("span",{className:"c-alert__message","data-qa-alert-message":!0},A&&t.a.createElement("strong",{className:"c-alert__heading","data-qa-alert-heading":!0},g),I))},"Alert");u.displayName="Alert",u.displayName="Alert";var f=n.d=u},jeUB:function(K,n,e){K.exports=e.p+"outgoing_ring_v2-11d8eb3.mp3"},jgRE:function(K,n,e){K.exports=e.p+"slackbot_neutral_36-c6ff0eb.png"},jj3I:function(K,n,e){"use strict";e.d(n,"b",function(){return t}),e.d(n,"a",function(){return a}),e.d(n,"e",function(){return r}),e.d(n,"c",function(){return c}),e.d(n,"g",function(){return o}),e.d(n,"f",function(){return i}),e.d(n,"d",function(){return l});var s=e("DwFS");const t=Object(s.a)("Enable huddle event log");t.meta={name:"createAction",key:"createActionenableEventLog",description:"Enable huddle event log"};const a=Object(s.a)("Disable huddle event log");a.meta={name:"createAction",key:"createActiondisableEventLog",description:"Disable huddle event log"};const r=Object(s.a)("Set loading state for huddle event log");r.meta={name:"createAction",key:"createActionsetEventLogLoading",description:"Set loading state for huddle event log"};const c=Object(s.a)("Add non-transcription event");c.meta={name:"createAction",key:"createActionpushNonTranscriptionEvent",description:"Add non-transcription event"};const o=Object(s.a)("Update with latest transcription events");o.meta={name:"createAction",key:"createActionupdateTranscriptions",description:"Update with latest transcription events"};const i=Object(s.a)("Set enabled state for huddle captions side-by-side view");i.meta={name:"createAction",key:"createActionsetSideBySideEnabled",description:"Set enabled state for huddle captions side-by-side view"};const l=Object(s.a)("Set enabled state for huddle closed captions view");l.meta={name:"createAction",key:"createActionsetClosedCaptionsEnabled",description:"Set enabled state for huddle closed captions view"}},k2tO:function(K,n,e){"use strict";e.d(n,"a",function(){return l});var s=e("SQ0V"),t=e("3fJ/"),a=e("C3NW"),r=e("eBdR"),c=e("kZhr"),o=e("s4P+"),i=e("ASxg");const l=Object(s.c)("Sets a new ID for the search and query sessions",(u,f)=>{const d=Object(o.a)({getState:f});u(Object(a.a)()),u(Object(r.b)({windowId:c.a})),u(Object(r.c)({windowId:c.a})),u(Object(t.c)({windowId:c.a})),u(Object(t.e)({windowId:c.a})),d.info(i.a,"Ending search session")});l.meta={name:"createThunk",key:"createThunkendSearchSession",description:"Sets a new ID for the search and query sessions"}},k400:function(K,n,e){"use strict";e.d(n,"a",function(){return s});function s(t){return t&&t.name}v(s,"getEmojiCollectionName")},kN9b:function(K,n,e){"use strict";e.d(n,"a",function(){return f});var s=e("SQ0V"),t=e("Q+NC"),a=e("PiXb"),r=e("3mmX"),c=e("qMw6"),o=e("xcHN"),i=e("2VFn"),l=e("PIf0"),u=e("HPAj");const f=Object(s.c)("Jump to the currently edited message",(d,O,m,g)=>{let{channelId:E,threadTs:p,ts:h,viewContext:_}=m;if(!h)return;const b=O(),I=Object(u.a)(b);if(_===c.a.THREAD)if(I){const{windowId:C=i.c}=g(l.a),y=Object(o.c)(E,p);d(Object(a.g)({windowId:C,threadKey:y,ts:h}))}else d(Object(t.d)(h));else d(Object(r.a)({ts:h,highlightLazy:!0}))});f.meta={name:"createThunk",key:"createThunkjumpToEdit",description:"Jump to the currently edited message"}},kS3P:function(K,n,e){"use strict";e.d(n,"a",function(){return s});var s;(function(t){t.Blur="blur",t.Background="bg"})(s||(s={}))},kme9:function(K,n,e){"use strict";var s=e("n3tL"),t=e("Kmpi"),a=e("SQ0V"),r=e("E3dU"),c=e("NK7x"),o=e("xwCZ"),i=e("ISSR"),l=e("vfvl"),u=e("Yauy"),f=e("gVOt"),d=e("E97Y"),O=e("C3vN"),m=e("Nnn3"),g=e("ktUG"),E=e("5IZy");const p=Object(a.c)("Clog DM_OPEN event with current stat",function(h,_){let{channelId:b,tabId:I}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const C=_(),y=Object(E.a)({state:C}),P=Object(r.c)(C,b);if(!Object(t.b)(P)||!Object(d.g)(P))return;const T=Object(f.a)(P),S=Object(o.g)(C,T),A=Object(m.a)(C,S)||void 0,R=Object(O.d)(S)||void 0;y.track(g.EventId.DM_OPEN,{item_type:b[0],item_id:b,bot_id:A,app_id:R,is_muted:Object(c.b)(C,b),is_starred:Object(u.qb)(C,P),has_unreads:!!Object(u.R)(P),is_archived:Object(i.a)(P),is_frozen:Object(l.a)(P),badge_count:Object(r.b)(C,P),tab:I||"messages"})});p.meta={name:"createThunk",key:"createThunkclogDMOpen",description:"Clog DM_OPEN event with current stat"},p.propTypes={channelId:s.default.string.isRequired,tabId:s.default.oneOf(["messages","app","about"])},n.a=p},ksuf:function(K,n,e){K.exports=e.p+"tokyo_sight-285d851.jpg"},"l/Qw":function(K,n,e){"use strict";e.d(n,"a",function(){return se}),e.d(n,"c",function(){return oe});var s=e("7EGn"),t=e("NFsq"),a=e("Bw5p"),r=e("m8R6"),c=e("n3tL"),o=e("xcHN"),i=e("9Gfp"),l=e("O86Y"),u=e("cBLH"),f=e("E3dU"),d=e("Jhy3"),O=e("3mmX"),m=e("zADO"),g=e("SQ0V"),E=e("s4P+"),p=e("Pw4T"),h=e("1Np4"),_=e("rIJ2"),b=e("ifKl"),I=e("ROZo");const C=Object(I.a)("TS.channels.read_only.stashAndFetchChannelPostingUpdates",b.a);var y=e("gPPH"),P=e("UnJt"),T=e("Q7We"),S=e("Cbpi"),A=e("Lgge"),R=e("TwEf"),x=e("lhZz"),M=e("Aqb/");const j={},W="cse-message-send",U="cse-message-send";let B=v(class{_send(){const{message:Ae,trace:Ce,parentSpanId:De}=this._activeRequest||{};Object(E.a)({teamId:this._teamId}).action("MESSAGE-Q",`Sending message with clientMsgId ${Ae.client_msg_id}`);const Pe=v(()=>{var Ue;return(Ue=this._store)===null||Ue===void 0?void 0:Ue.dispatch(Object(R.a)({message:Ae,traceId:Ce==null?void 0:Ce.getTraceId(),parentSpanId:De}))},"postMessageP");return this._maybeTraceMessageSend(Pe).then(this._activeRequest?this._activeRequest.resolve:b.a).catch(this._activeRequest?this._activeRequest.reject:b.a).finally(()=>this.resolve(Ae))}_next(){if(this._activeRequest||!this._queue.length)return!1;this._activeRequest=this._queue.shift();const{messageEnqueueSpan:Ae}=this._activeRequest||{};return Ae==null||Ae.addTags({count:this._queue.length}),Ae==null||Ae.close(),this._send(),Object(E.a)({teamId:this._teamId}).action("MESSAGE-Q",`Shifting queue, now has ${this._queue.length} messages`),!0}_maybeTraceMessageSend(Ae){var Ce;if(!this.shouldTraceMessageSend())return Ae();const De=(Ce=this._tracer)===null||Ce===void 0?void 0:Ce.createTrace({traceName:W,tags:{event_type:"/api/chat.postMessage"},samplingOptions:{sampleType:M.a.ALWAYS}}),Pe=v(()=>{var ae;De&&((ae=this._tracer)===null||ae===void 0||ae.clearTrace(De))},"onResolve"),Ue=v((ae,ne)=>{var Ie;const Te={state:M.b.ERROR};ne.status&&(Te.status=ne.status),ne.message&&(Te.message=ne.message),ne.data&&ne.data.error&&(Te.reason=ne.data.error),ae==null||ae.addTags(Te),ae==null||ae.close(),De&&((Ie=this._tracer)===null||Ie===void 0||Ie.reportTrace(De))},"onError");return De==null?void 0:De.traceFn({name:U,onError:Ue,onResolve:Pe},Ae)}enqueue(Ae){let{trace:Ce,parentSpanId:De}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return new A.a((Pe,Ue)=>{const ae=Ce==null?void 0:Ce.startSpan("message_send_attempt:enqueue",{parentSpanId:De});this._queue.push({message:Ae,messageEnqueueSpan:ae,trace:Ce,parentSpanId:De,resolve:Pe,reject:Ue}),Object(E.a)({teamId:this._teamId}).action("MESSAGE-Q",`Enqueueing message with clientMsgId ${Ae.client_msg_id}, queue has ${this._queue.length} messages`),this._next()})}resolve(Ae){return!Ae||!this._activeRequest||!this._activeRequest.message||Ae.client_msg_id!==this._activeRequest.message.client_msg_id?!1:(Object(E.a)({teamId:this._teamId}).action("MESSAGE-Q",`Resolving active request with clientMsgId ${Ae.client_msg_id}`),this._activeRequest=null,this._next())}shouldTraceMessageSend(){var Ae;const Ce=(Ae=this._store)===null||Ae===void 0?void 0:Ae.getState();return Object(i.i)(Ce,"feature_desktop_symptom_events")&&this._tracer}constructor(Ae){if(!Ae)throw new Error("MessageQueue requires a teamId.");if(this._teamId=Ae,this._activeRequest=null,this._queue=[],this._store=Object(x.getStoreInstanceByTeamId)(Ae),!this._store)throw new Error(`MessageQueue requires a store; No store matching ${Ae} found.`);const Ce=this._store.getState();this._tracer=Object(i.i)(Ce,"feature_desktop_symptom_events")?Object(h.a)({state:Ce}):void 0}},"MessageQueue");function Y(be){return j[be]||(j[be]=new B(be)),j[be]}v(Y,"getInstance");const z={MESSAGE_SEND_TRACE_LABEL:W,MESSAGE_SEND_SPAN_LABEL:U};var F=e("sxEY"),V=e("n0Pp"),L=e("dUj5"),Q=e("7UGH"),ee=e("yzO5");const te=6,le=7,Oe=8,he="restricted_action_read_only_channel",Ee="restricted_action_thread_only_channel",ge="restricted_action_non_threadable_channel",J="ekm_access_denied",H="slack_connect_file_link_sharing_blocked",Z="content_rule_violation",q="dlp_user_warning",k="message_limit_exceeded";var se;(function(be){be.SLACK_CONNECT_CANVAS_SHARING_BLOCKED="slack_connect_canvas_sharing_blocked",be.SLACK_CONNECT_FILE_UPLOAD_SHARING_BLOCKED="slack_connect_file_upload_sharing_blocked",be.SLACK_CONNECT_TEAM_BLOCKED="slack_connect_team_blocked"})(se||(se={}));const re={[he]:te,[Ee]:le,[ge]:Oe};function X(be,Ae){be(Object(d.a)([Ae]));const Ce={channelId:Ae.channel,timestamps:[Ae.ts],oldest:Ae.ts,hasMore:!1,append:!0};if(be(Object(u.a)(Ce)),Ae.thread_ts){const De=Object(o.c)(Ae.channel,Ae.thread_ts);be(Object(u.a)({...Ce,channelId:De}))}}v(X,"addMsgToEnd");const w={};function ce(be,Ae,Ce){w[be]||(w[be]={}),w[be][Ae]=Ce}v(ce,"addResolutionTimer");function ie(be,Ae){!w[be]||!w[be][Ae]||(clearTimeout(w[be][Ae]),delete w[be][Ae])}v(ie,"cancelResolutionTimer");function oe(be,Ae,Ce,De){const Pe=Object(l.g)(be())||"",Ue=Object(Q.a)(be(),De.client_msg_id);if(Ue){Object(E.a)({getState:be}).action("MESSAGE",`Resolved a message with clientMsgId ${De.client_msg_id} in ${Ce.channel} with ts ${De.ts}`),Ae(Object(L.b)(Ue.clientMsgId)),ie(Pe,Ue.clientMsgId),Ae(Object(T.a)({channelId:Ue.channelId,ts:Ue.ts}));const ae=!1;Object(f.c)(be(),Ce.channel,ae)&&Ae(Object(F.a)({channelId:Ce.channel,msgTs:Ce.ts,resent:!1}))}Y(Pe).resolve(De)}v(oe,"resolveMessage");const me="cse-message-send:send",ue=Object(g.c)("Send a message",(be,Ae,Ce)=>{let{messageSendTrace:De,notificationTracePassthroughData:Pe,skipDLPUserWarning:Ue,...ae}=Ce;const ne=Object(h.a)({getState:Ae});let Ie,Te;De&&(Ie=De.startSpan("message_send_attempt:send"),Te=De.startSpan("message_send_attempt:placeholder",{parentSpanId:Ie==null?void 0:Ie.getId()}));const Me=ne.createMetricsTrace({label:"cse-message-send"});Me.count({name:me,label:"pending"}),ne.reportTrace(Me);const Ne=Object(_.a)(1),{channel:He,reply_broadcast:Et,thread_ts:Je,client_msg_id:qe,xArgs:ke}=ae,rt=Object(E.a)({getState:Ae}),pe=Object(l.g)(Ae())||"",je=Je?{_hidden_reply:!0,_was_reply_broadcast:Et}:null,xe=qe||Object(y.a)();Pe&&Object(P.g)(Ae(),{notificationTracePassthroughData:Pe,clientMsgId:xe});const ze={...ae,...je,user:Object(i.a)(Ae()),showResend:!1,showCancel:!1,is_pending:!0,client_msg_id:xe};rt.action("MESSAGE",`Sent a message to ${He} via HTTP, clientMsgId: ${xe}`);const st={...ae,...ke,include_channel_perm_error:!0,client_msg_id:xe,skip_dlp_user_warning:Ue};Ne&&ce(pe,xe,window.setTimeout(()=>{if(Object(Q.a)(Ae(),ze.client_msg_id)){const dt=Ae();Object(V.h)(dt)&&Object(p.d)({state:dt}).count("msg_send_placeholder_not_resolved_connected_60s")}},1e3*60));const ct=Y(Object(l.g)(Ae())||"").enqueue(st,{trace:De,parentSpanId:Ie==null?void 0:Ie.getId()});return X(be,ze),be(Object(L.a)({clientMsgId:ze.client_msg_id,channelId:ze.channel,ts:ze.ts})),Je||be(Object(O.a)({ts:null})),Te==null||Te.close(),ct.tap(()=>{const dt=Ae();(!Object(V.h)(dt)||Object(m.b)(dt,He)||Object(m.b)(dt,Object(i.a)(dt)))&&(be(Object(S.a)({channelId:He,threadTs:Je})),Et&&be(Object(S.a)({channelId:He}))),Me.count({name:me,label:"success"}),ne.reportTrace(Me),De&&(De.addTags({success:!0}),Ie==null||Ie.close(),ne.reportTrace(De))}).catch(dt=>{const bt=Object(s.a)(dt,"data.error");Me.count({name:me,label:"failure"}).setTag("error",bt||(dt==null?void 0:dt.message)),ne.reportTrace(Me);const Ft=bt===J,Bt=bt===H,at=bt===Z,Ht=bt===q,Wt=bt===k,yt=Object.values(se).includes(bt)?bt:void 0;if(!bt&&!Object(Q.a)(Ae(),ze.client_msg_id)){rt.info("MESSAGE","Ignoring non-backend chat.postMessage error since the message already came in over socket");return}const Xt=re[bt];let cn=!0;const mn=!0,In=[te,le,Oe,he,Ee,ge];Object(t.a)(In,bt)&&(C(He,Xt,"send-message/sendMessage.catch"),cn=!1),Ft&&(cn=!1),Bt&&(cn=!1),at&&(cn=!1),Wt&&(cn=!1,be(Object(ee.a)())),yt&&(cn=!1);const pt="Message failed to send",Tt=Object(a.a)(dt,["status","retryAfter","attempts","data.ok","data.error","args._x_reason","args.channel","args.ts","args.thread_ts","args.reply_broadcast"]);Tt.client_msg_id=xe,Tt.channel=He,Tt.thread_ts=Je;const Lt=dt&&dt.status===429?"message_send_ratelimit":"message_send_fail";rt.error(Tt instanceof Error?Tt:new Error(pt),`${pt}: ${bt} | ${JSON.stringify(Tt)}`,{subtype:Lt});const gt=bt?Object(r.a)(Tt,["response"]):dt;rt.error("MESSAGE",pt,bt,gt);const it={...ze,showResend:cn,showCancel:mn,isEKMError:Ft,isBlockFilesError:Bt,isNativeDLPError:at,isDLPUserWarningError:Ht,canvasSharingError:yt};Object(Q.a)(Ae(),ze.client_msg_id)?be(Object(d.a)([it])):X(be,it),!cn&&Ne&&ie(pe,ze.client_msg_id),De&&(cn?(De.addTags({success:!1}),Ie==null||Ie.close(),ne.reportTrace(De)):ne.clearTrace(De))})});ue.meta={name:"createThunk",key:"createThunksendMessage",description:"Send a message"},ue.propTypes={params:c.default.shape({channel:c.default.string.isRequired,reply_broadcast:c.default.bool,blocks:c.default.object.isRequired,thread_ts:c.default.string,ts:c.default.string.isRequired,type:c.default.string.isRequired})};var _e=n.b=ue},l0nk:function(K,n,e){"use strict";var s=e("SQ0V"),t=e("6rGi");const a=Object(s.c)("Handle huddle error",(r,c,o)=>Object(t.a)().enterTerminalState(new Error(o.terminalState)));a.meta={name:"createThunk",key:"createThunkenterTerminalState",description:"Handle huddle error"},n.a=a},l2BV:function(K,n,e){"use strict";var s=e("RVJP");const t=v(a=>Object(s.d)(a,"slash_commands_stable")==="on","isInExperimentSlashCommandsMenuStable");n.a=t},lA92:function(K,n,e){"use strict";e.d(n,"a",function(){return r});var s=e("SQ0V"),t=e("ctiz"),a=e("jUSB");const r=Object(s.c)("Stop the huddle invite sound",(c,o)=>{Object(a.e)(Object(t.l)(o()),{logFailure:!1})});r.meta={name:"createThunk",key:"createThunkstopHuddleInviteSound",description:"Stop the huddle invite sound"}},"lBK/":function(K,n,e){"use strict";var s=e("iuhU"),t=e("q1tI"),a=e.n(t),r=e("UXvI"),c=e("ifKl"),o=e("x5cI"),i=e("nBRq"),l=e("WSQ4"),u=e("J47P");function f(){return f=Object.assign||function(I){for(var C=1;C<arguments.length;C++){var y=arguments[C];for(var P in y)Object.prototype.hasOwnProperty.call(y,P)&&(I[P]=y[P])}return I},f.apply(this,arguments)}v(f,"_extends");const d=1,O=10,m=10,g=2,E=12,p=50;let h=v(class extends t.PureComponent{componentDidMount(){this.state.isOpen&&this.context.window.document.addEventListener("mousemove",this.onMouseMove)}UNSAFE_componentWillReceiveProps(C){this.props.isOpen!==C.isOpen&&this.setState(()=>({isOpen:C.isOpen}),()=>{this.state.isOpen?(this.forceUpdate(),this.context.window.document.addEventListener("mousemove",this.onMouseMove)):this.context.window.document.removeEventListener("mousemove",this.onMouseMove)})}componentDidUpdate(){this.state.isOpen||(this.initialTriggerBounds=void 0)}componentWillUnmount(){this.context.window.document.removeEventListener("mousemove",this.onMouseMove)}onMouseMove(C){const y={x:C.clientX,y:C.clientY},P=this.mouseProgressingTowardsSubmenu(y);P!==this.state.mouseProgressingTowardsSubmenu&&(P?this.props.preventHighlightChange():this.state.highlightChangePrevented||this.props.allowHighlightChange()),this.setState(()=>({mouseCoordinates:y,mouseProgressingTowardsSubmenu:P}))}onSubmenuItemSelected(C,y){this.props.menuCallback(this.props.menuCallbackId,y)}getContentBounds(){return this.submenuContainer?this.submenuContainer.getBoundingClientRect():void 0}getSubmenuContainerStyle(){const C=this.getContentBounds(),y=this.getTriggerBounds(),P={...this.props.submenuStyle};if((C==null?void 0:C.width)===void 0||(y==null?void 0:y.left)===void 0)return P;const T=y.right+C.width>this.context.window.innerWidth,S=y.left>C.width,A=this.props.forceLeft||T&&S;T&&!S?P.left=this.context.window.innerWidth-C.width-O:A?P.left=y.left-C.width+g:P.left=y.right-g;const x=y.top-E,M=x+C.height>this.context.window.innerHeight-m;return P.top=M?this.context.window.innerHeight-m-C.height:x,P}getTriggerBounds(){return this.initialTriggerBounds||(this.initialTriggerBounds=this.trigger?this.trigger.getBoundingClientRect():void 0),this.initialTriggerBounds||void 0}setSubmenuRef(C){this.submenuContainer=C}setTriggerRef(C){this.trigger=C}allowHighlightChange(){this.setState(C=>({...C,highlightChangePrevented:!1}))}closeSubmenu(){this.props.returnKBNav(),this.setState(()=>({isOpen:!1}),()=>{this.context.window.document.removeEventListener("mousemove",this.onMouseMove)})}mouseProgressingTowardsSubmenu(C){const{mouseCoordinates:y}=this.state,P=this.getContentBounds();if(P){const{left:T,right:S,top:A,bottom:R}=P;if(C.x>=T&&C.x<=S&&C.y>=A&&C.y<=R)return!0;if(y){const M=Math.abs(S-y.x)>Math.abs(T-y.x),j={x:M?T:S,y:A-d},W={x:M?T:S,y:R+d},U={x:M?y.x-d:y.x+d,y:y.y};return Object(i.a)(C,U,j,W)}}return!1}preventHighlightChange(){this.setState(C=>({...C,highlightChangePrevented:!0}))}renderSubmenu(){if(!this.state.isOpen||this.props.disabled)return null;const C=this.props.renderSubmenu({onTriggerClose:this.closeSubmenu,onCloseSubmenu:this.closeSubmenu,onMenuItemSelected:this.onSubmenuItemSelected,kbNavActive:this.props.kbNavActive,preventHighlightChange:this.preventHighlightChange,allowHighlightChange:this.allowHighlightChange,isSubmenu:!0}),y=this.getSubmenuContainerStyle(),P=Object(s.default)("c-submenu__container",{"c-submenu__container--legacy":!this.props.renderLegacySubmenu});return a.a.createElement("div",{role:"presentation",className:P,ref:this.setSubmenuRef,style:y,"data-qa":"submenu_container"},C)}render(){const{menuCallback:C,menuCallbackId:y,...P}=this.props;return a.a.createElement("div",{role:"presentation",className:"c-submenu","data-qa":"submenu_trigger_wrapper",ref:this.setTriggerRef},a.a.createElement(o.a,f({},P,{withSubmenu:!0})),this.renderSubmenu())}constructor(C){super(C),this.state={isOpen:!1,mouseCoordinates:void 0,mouseProgressingTowardsSubmenu:!1,highlightChangePrevented:!1},this.closeSubmenu=this.closeSubmenu.bind(this),this.setSubmenuRef=this.setSubmenuRef.bind(this),this.setTriggerRef=this.setTriggerRef.bind(this),this.onMouseMove=Object(r.a)(this.onMouseMove.bind(this),p),this.onSubmenuItemSelected=this.onSubmenuItemSelected.bind(this),this.preventHighlightChange=this.preventHighlightChange.bind(this),this.allowHighlightChange=this.allowHighlightChange.bind(this)}},"Submenu");h.displayName="Submenu",h.defaultProps={isOpen:!1,menuCallback:c.a,menuCallbackId:null,kbNavActive:!1,returnKBNav:c.a,preventHighlightChange:c.a,allowHighlightChange:c.a,renderLegacySubmenu:!0,forceLeft:!1,submenuStyle:void 0,disabled:!1},h.contextType=l.a;const _={Submenu:h,SUBMENU_OVERLAP:g,MENU_VERTICAL_MARGIN:E,ALLOWANCE_X:O,ALLOWANCE_Y:m};var b=n.a=Object(u.a)(h)},lDps:function(K,n,e){"use strict";e.d(n,"a",function(){return a});var s=e("wd/R"),t=e.n(s);const a=v(r=>{let{nextDndStartTs:c,nextDndEndTs:o,snoozeEnabled:i,snoozeIsIndefinite:l,now:u=t()().unix()}=r;return l||i?!0:c===1||o===1?!1:Number(c)<=u&&Number(o)>u},"isMemberInDnd")},lKOk:function(K,n,e){"use strict";e.d(n,"i",function(){return s}),e.d(n,"j",function(){return t}),e.d(n,"a",function(){return r}),e.d(n,"c",function(){return c}),e.d(n,"e",function(){return o}),e.d(n,"f",function(){return i}),e.d(n,"g",function(){return l}),e.d(n,"k",function(){return u}),e.d(n,"b",function(){return f}),e.d(n,"d",function(){return d}),e.d(n,"h",function(){return O});const s=400,t=380,a=t-2*28,r=28,c=28,o=.9,i=.8,l=28,u={[-3]:.7,[-2]:.8,[-1]:.9,0:1,1:1.1,2:1.25,3:1.5,4:1.75,5:2};var f;(function(m){m.Both="both",m.Primary="primary",m.Secondary="secondary"})(f||(f={}));var d;(function(m){m.Fullscreen="fullscreen",m.Horizontal="horizontal",m.Partial="partial",m.Vertical="vertical"})(d||(d={}));var O;(function(m){m.Regular="regular",m.Threads="threads"})(O||(O={}))},lRFD:function(K,n,e){K.exports=e.p+"slack-salesforce-211570d.png"},lUvW:function(K,n,e){"use strict";e.d(n,"j",function(){return h}),e.d(n,"e",function(){return _}),e.d(n,"m",function(){return b}),e.d(n,"b",function(){return I}),e.d(n,"f",function(){return C}),e.d(n,"d",function(){return y}),e.d(n,"c",function(){return P}),e.d(n,"i",function(){return T}),e.d(n,"k",function(){return S}),e.d(n,"a",function(){return A}),e.d(n,"l",function(){return R}),e.d(n,"n",function(){return x}),e.d(n,"o",function(){return M}),e.d(n,"p",function(){return W}),e.d(n,"g",function(){return U}),e.d(n,"h",function(){return Y});var s=e("SQ0V"),t=e("blur"),a=e("Tkkt"),r=e("05YS"),c=e("6KE7"),o=e("sjOx"),i=e("/S0L"),l=e("/5cg"),u=e("qQXB"),f=e("TBTs"),d=e("3fJ/"),O=e("/aHE"),m=e("nOXG"),g=e("O86Y"),E=e("vws0"),p=e("kZhr");function h(F,V,L){let Q=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!0;const ee=Object(r.x)(V()),te=ee?ee.query:"";return F(Object(a.c)({windowId:p.a})),Q&&F(Object(c.a)()),F(Object(t.b)({query:te,reason:L,fetchSuggestions:Object(m.a)()}))}v(h,"refetchAllSearchResults");const _=Object(s.c)("Message/file search: exclude bots checkbox changed",(F,V,L)=>{let{value:Q}=L;F(Object(O.c)({value:Q})),h(F,V,"search-exclude-bots-changed"),F(Object(E.a)())});_.meta={name:"createThunk",key:"createThunkmessageAndFileSearchExcludeBotsChanged",description:"Message/file search: exclude bots checkbox changed"};const b=Object(s.c)("Message/file search: only my channels checkbox changed",(F,V,L)=>{let{value:Q}=L;F(Object(O.g)({value:Q})),Q&&F(Object(O.a)({value:!1})),h(F,V,"search-only-my-channels-changed"),F(Object(E.a)())});b.meta={name:"createThunk",key:"createThunksearchOnlyMyChannelsChanged",description:"Message/file search: only my channels checkbox changed"};const I=Object(s.c)("Channel search: hide member channels flag changed",(F,V,L)=>{let{value:Q,refetch:ee=!0}=L;F(Object(O.a)({value:Q})),Q&&F(Object(O.g)({value:!1})),ee&&h(F,V,"search-hide-member-channels-changed"),F(Object(E.a)())});I.meta={name:"createThunk",key:"createThunkchannelSearchHideMemberChannelsChanged",description:"Channel search: hide member channels flag changed"};const C=Object(s.c)("Message search: sort changed",(F,V,L)=>{let{sort:Q,shouldUpdateUrl:ee=!0,shouldClogSearchSort:te=!0}=L;te&&F(Object(u.s)({sortValue:Q,entity:"messages"})),F(Object(i.a)({sort:Q})),F(Object(t.d)({module:"messages",reason:"search-messages-sort-changed"})),ee&&F(Object(E.a)())});C.meta={name:"createThunk",key:"createThunkmessageSearchSortChanged",description:"Message search: sort changed"};const y=Object(s.c)("File search: sort changed",(F,V,L)=>{let{sort:Q,shouldUpdateUrl:ee=!0,shouldClogSearchSort:te=!0}=L;te&&F(Object(u.s)({sortValue:Q,entity:"files"})),F(Object(l.b)({sort:Q})),F(Object(t.d)({module:"files",reason:"search-files-sort-changed"})),ee&&F(Object(E.a)())});y.meta={name:"createThunk",key:"createThunkfileSearchSortChanged",description:"File search: sort changed"};const P=Object(s.c)("Channel search: sort changed",(F,V,L)=>{let{sort:Q,shouldUpdateUrl:ee=!0,shouldClogSearchSort:te=!0}=L;te&&F(Object(u.s)({sortValue:Q,entity:"channels"})),F(Object(O.b)({sort:Q})),F(Object(t.d)({module:"channels",reason:"search-channels-sort-changed"})),ee&&F(Object(E.a)())});P.meta={name:"createThunk",key:"createThunkchannelSearchSortChanged",description:"Channel search: sort changed"};const T=Object(s.c)("People search: sort changed",(F,V,L)=>{let{sort:Q,shouldUpdateUrl:ee=!0,shouldClogSearchSort:te=!0}=L;te&&F(Object(u.s)({sortValue:Q,entity:"people"})),F(Object(O.e)({sort:Q})),F(Object(t.d)({module:"people",reason:"search-people-sort-changed"})),ee&&F(Object(E.a)())});T.meta={name:"createThunk",key:"createThunkpeopleSearchSortChanged",description:"People search: sort changed"};const S=Object(s.c)("result count toggle changed",(F,V,L)=>{let{count:Q}=L;F(Object(O.f)({count:Q})),h(F,V,"result-count-toggle-changed",!1),F(Object(d.f)({windowId:p.a})),F(Object(d.d)({windowId:p.a})),F(Object(E.a)())});S.meta={name:"createThunk",key:"createThunkresultCountToggleChanged",description:"result count toggle changed"};const A=Object(s.c)("Channel search: filter type changed",(F,V,L)=>{let{type:Q}=L;F(Object(d.j)({type:Q})),h(F,V,"search-channels-filter-type-changed"),F(Object(E.a)())});A.meta={name:"createThunk",key:"createThunkchannelSearchFilterTypeChanged",description:"Channel search: filter type changed"};const R=Object(s.c)("All of search: search by selected enterprise team id",(F,V,L)=>{let{value:Q,refetch:ee=!0}=L;F(Object(d.g)({selectedEnterpriseTeamId:Q})),ee&&h(F,V,"search-only-by-enterprise-team-id"),F(Object(E.a)())});R.meta={name:"createThunk",key:"createThunksearchOnlyByEnterpriseTeamId",description:"All of search: search by selected enterprise team id"};const x=Object(s.c)("Channel search: bulk update an external org filter",(F,V,L)=>{let{teamIds:Q}=L;const ee=V(),te=Object(f.d)(ee);F(Object(d.k)({teamIds:Array.from(new Set([...te,...Q]))})),F(Object(d.l)({orgFilters:Q})),h(F,V,"search-channels-org-filter-bulk-changed"),F(Object(E.a)())});x.meta={name:"createThunk",key:"createThunksetChannelSearchOrgFilter",description:"Channel search: bulk update an external org filter"};const M=Object(s.c)("Channel search: update an external org filter",(F,V,L)=>{let{teamId:Q,value:ee}=L;const te=V();let le=[...Object(f.e)(te)];const Oe=Object(f.d)(te);ee?le.push(Q):le=le.filter(he=>he!==Q),F(Object(d.k)({teamIds:Array.from(new Set([...Oe,Q]))})),F(Object(d.l)({orgFilters:le})),h(F,V,"search-channels-org-filter-changed"),F(Object(E.a)())});M.meta={name:"createThunk",key:"createThunktoggleChannelSearchOrgFilter",description:"Channel search: update an external org filter"};const j=Object(s.c)("People search: bulk update an external org filter",(F,V,L)=>{let{teamIds:Q}=L;const ee=V(),te=Object(f.r)(ee);F(Object(d.x)({teamIds:Array.from(new Set([...te,...Q]))})),F(Object(d.y)({orgFilters:Q})),h(F,V,"search-people-org-filter-changed"),F(Object(E.a)())});j.meta={name:"createThunk",key:"createThunksetPeopleSearchOrgFilter",description:"People search: bulk update an external org filter"};const W=Object(s.c)("People search: update an external org filter",(F,V,L)=>{let{teamId:Q,value:ee}=L;const te=V();let le=[...Object(f.s)(te)];const Oe=Object(f.r)(te);ee?le.push(Q):le=le.filter(he=>he!==Q),F(Object(d.x)({teamIds:Array.from(new Set([...Oe,Q]))})),F(Object(d.y)({orgFilters:le})),h(F,V,"search-people-org-filter-changed"),F(Object(E.a)())});W.meta={name:"createThunk",key:"createThunktogglePeopleSearchOrgFilter",description:"People search: update an external org filter"};const U=Object(s.c)("People search: filter type changed",(F,V,L)=>{let{type:Q,refetch:ee=!0}=L;const te=V(),le=Object(g.b)(te);F(Object(d.w)({type:Q})),Q===o.k.guests&&le&&F(Object(d.g)({selectedEnterpriseTeamId:le})),ee&&h(F,V,"search-people-filter-type-changed"),F(Object(E.a)())});U.meta={name:"createThunk",key:"createThunkpeopleSearchFilterTypeChanged",description:"People search: filter type changed"};const B=Object(s.c)("People search: custom filter changed",(F,V,L)=>{let{id:Q,value:ee,checked:te}=L;F(Object(d.v)({id:Q,value:ee,checked:te})),h(F,V,"search-people-custom-filter-changed")});B.meta={name:"createThunk",key:"createThunkpeopleSearchCustomFilterChanged",description:"People search: custom filter changed"};const Y=Object(s.c)("People search: hide deactivated users pref changed",(F,V,L)=>{let{value:Q,refetch:ee=!0}=L;F(Object(O.d)({value:Q})),ee&&h(F,V,"search-people-hide-deactivated-users-changed"),F(Object(E.a)())});Y.meta={name:"createThunk",key:"createThunkpeopleSearchHideDeactivatedUsersChanged",description:"People search: hide deactivated users pref changed"};const z=Object(s.c)("People search: timezone filter changed",(F,V,L)=>{let{label:Q,value:ee,checked:te}=L;F(Object(d.C)({label:Q,value:ee,checked:te})),h(F,V,"search-people-timezone-filter-changed")});z.meta={name:"createThunk",key:"createThunkpeopleSearchTimezoneFilterChanged",description:"People search: timezone filter changed"}},lVlD:function(K,n,e){"use strict";e.d(n,"d",function(){return t}),e.d(n,"e",function(){return a}),e.d(n,"b",function(){return r}),e.d(n,"a",function(){return c}),e.d(n,"f",function(){return o}),e.d(n,"c",function(){return i});var s=e("DwFS");const t=Object(s.a)("Update the DND schedule for a user");t.meta={name:"createAction",key:"createActionupdateDndSchedule",description:"Update the DND schedule for a user"};const a=Object(s.a)("Update the DND schedules for multiple users");a.meta={name:"createAction",key:"createActionupdateDndSchedules",description:"Update the DND schedules for multiple users"};const r=Object(s.a)("Remove the DND schedule for a user");r.meta={name:"createAction",key:"createActionremoveDndSchedule",description:"Remove the DND schedule for a user"};const c=Object(s.a)("Removes the DND status for a single user or multiple users");c.meta={name:"createAction",key:"createActionremoveDnd",description:"Removes the DND status for a single user or multiple users"};const o=Object(s.a)("Update the snooze status for the current user");o.meta={name:"createAction",key:"createActionupdateSnooze",description:"Update the snooze status for the current user"};const i=Object(s.a)("Update the DND status of a user");i.meta={name:"createAction",key:"createActionupdateDnd",description:"Update the DND status of a user"}},lYQS:function(K,n,e){"use strict";e.d(n,"a",function(){return t});let s=0;function t(){return s+=1,String(s)}v(t,"getSKUid")},lkvs:function(K,n,e){"use strict";var s=e("vfQU"),t=e("ZbzB"),a=e("Kyco"),r=e("Jc4w"),c=e("GYPw"),o=e("WUSA"),i=e("j77i");let l=!1;Object(t.a)()?l=window.matchMedia(c.e).matches:Object(t.b)()&&(l=Object(s.H)("settings","shouldUseHighContrastColors"));let u=!1;try{u=!!Object(i.f)(c.i)}catch{}let f;try{f=Object(i.f)(c.a)}catch{}let d;try{d=Object(i.f)(c.g)||1}catch{}let O;try{O=Object(i.f)(c.f)||1}catch{}let m;try{m=Object(i.f)(c.h)||"0"}catch{}let g;try{var E;g=(E=Object(i.f)(c.c))!==null&&E!==void 0?E:""}catch{g=""}let p;try{var h;p=(h=Object(i.f)(c.d))!==null&&h!==void 0?h:""}catch{p=""}let _;try{_=Object(i.f)(c.b)}catch{_=void 0}const b={screenReaderEnabled:!1,shouldUseHighContrastColors:l,useARIAApplicationForListViews:u,composerUpArrowShortcutBehavior:f,messageTextLineSpacing:d,messageSpacing:O,messageTextWordSpacing:m,conversationIncomingMessageSound:g,conversationSentMessageSound:p,conversationIncomingMessageAnnouncement:_},I=Object(a.b)({},b,{storeKey:"accessibility",persistenceEnabled:!1}).on(o.a,(C,y)=>y!=null&&y.message?{...C,announcerAPIAnnouncement:y}:C).on(o.i,(C,y)=>typeof y!="boolean"||y===C.screenReaderEnabled?C:{...C,screenReaderEnabled:y}).on(o.j,function(C){let y=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;return typeof y!="boolean"||y===C.shouldUseHighContrastColors?C:{...C,shouldUseHighContrastColors:y}}).on(o.k,function(C){let y=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;return{...C,useARIAApplicationForListViews:y}}).on(o.b,function(C){let y=arguments.length>1&&arguments[1]!==void 0?arguments[1]:r.a.LIST;return{...C,composerUpArrowShortcutBehavior:y}}).on(o.g,function(C){let y=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;return{...C,messageTextLineSpacing:y}}).on(o.f,function(C){let y=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;return{...C,messageSpacing:y}}).on(o.h,function(C){let y=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"0";return{...C,messageTextWordSpacing:y}}).on(o.d,(C,y)=>({...C,conversationIncomingMessageSound:y})).on(o.e,(C,y)=>({...C,conversationSentMessageSound:y})).on(o.c,(C,y)=>({...C,conversationIncomingMessageAnnouncement:y}));n.a=I},lmdu:function(K,n,e){"use strict";e.d(n,"a",function(){return l});var s=e("ZKjC"),t=e("UOL+"),a=e("i5Ig"),r;const c=Object(s.b)(f=>{var d;return(r=(d=Object(t.a)(f))===null||d===void 0?void 0:d.messagesMeta)!==null&&r!==void 0?r:f==null?void 0:f.messagesMeta});var o;c.meta={name:"createSelector",key:"createSelectorgetMessagesMetaState",description:f=>{var d;return(o=(d=Object(t.a)(f))===null||d===void 0?void 0:d.messagesMeta)!==null&&o!==void 0?o:f==null?void 0:f.messagesMeta}};var i;const l=Object(s.b)((f,d)=>{let{channelId:O,ts:m}=d;var g,E;return(i=(g=c(f))===null||g===void 0||(E=g[O])===null||E===void 0?void 0:E[m])!==null&&i!==void 0?i:a.b});var u;l.meta={name:"createSelector",key:"createSelectorgetMessageMetaData",description:(f,d)=>{let{channelId:O,ts:m}=d;var g,E;return(u=(g=c(f))===null||g===void 0||(E=g[O])===null||E===void 0?void 0:E[m])!==null&&u!==void 0?u:a.b}}},lrwl:function(K,n,e){"use strict";var s=e("Cfcg"),t=e("C3vN"),a=e("Fn/R"),r=e("ehcD"),c=e("9I4P"),o=e("QLhP"),i=e("beVI"),l=e("O86Y"),u=e("yrot"),f=e("RVJP"),d=e("LvvF"),O=e("tg2r"),m=e("iitH"),g=e("C84n"),E=e("i9jZ"),p=e("BfA7"),h=e("I0j/"),_=e("ivl2"),b=e("ny0b"),I=e("MzqU"),C=e("ykb+"),y=e("pu3F"),P=e("bbt7"),T=e("XcRx");let S=v((M,j)=>{const{user:W,userId:U,botId:B,botProfile:Y,size:z,icons:F,emoji:V,team:L,slackbotFeels:Q,isUnknown:ee,showPresence:te}=j;let le=null,Oe=null,he,Ee,ge,J,H=V,Z,q,k,se;const{member:re,bot:X,memberIsHuman:w}=Object(o.f)(M,{userId:U,botId:B,botProfile:Y});if(W||U||ee){const Ae=W||re;if(Ae&&!Ae.isUnknown&&!Ae.is_unknown){var ce;B||(Z=X==null?void 0:X.id);const Ce=Object(b.a)({size:z,teamOrEnterpriseId:Object(a.a)(Ae)?Object(r.d)(Ae):Object(r.e)(Ae),memberId:Ae.id,avatarHash:Ae==null||(ce=Ae.profile)===null||ce===void 0?void 0:ce.avatar_hash,slackbotFeels:Q});le=Ce.imageUrl,Oe=Ce.imageUrl2x,Ee=j.isExternal||Ae.isExternal,he=Ee?Object(r.c)(M,Ae):void 0,ge=Ae.is_restricted,J=Ae.is_ultra_restricted,q=Object(t.N)(M,Ae),k=Ae.id,se=Object(t.eb)(Ae)}}else{let Ae=F||Y&&Y.icons;X&&(Ae=Ae||X.icons,q=Object(c.a)(X));const Ce=Object(C.b)()?I.a:I.b;if(X&&X.app_id===Ce&&(Ae=X.icons||Ae),!H&&Ae&&(H=Ae.emoji),!H){const De=Object(b.a)({size:z,botImages:Ae,isBot:!0});le=De.imageUrl,Oe=De.imageUrl2x}he=(L==null?void 0:L.id)||Object(c.d)(M,{bot:X,botProfile:Y}),Ee=he?he!==Object(l.i)(M):!1}let ie=H&&he&&Object(u.q)(M,{text:H,teamId:he});if(!ie&&H&&he===Object(l.i)(M)){const Ae=Object(i.g)(M),Ce=Ae&&Ae.id;Ce&&Ce!==he&&(ie=Object(u.q)(M,{text:H,teamId:Ce}))}const oe=te?Object(T.a)(M,U):void 0,me=te?Object(_.a)(M,U):!1;var ue;const _e=(ue=U??k)!==null&&ue!==void 0?ue:"",be=_e?Object(f.d)(M,"hide_user_v1")==="on"&&Object(d.b)(M,_e):!1;return{userId:U||k,imageUrl:le||void 0,imageUrl2x:Oe||void 0,botEmoji:H,canRenderEmoji:!!ie,teamId:he,isRestricted:ge,isUltraRestricted:J,isDeleted:se,memberOrBotName:q,isAtlasOrUnifiedProfilesOn:Object(m.a)(M),botId:Z||B,disableLink:!w&&(!X||Object(t.Db)(X)),isExternal:Ee,isUserHidden:be,conversationViewsExperimentGroupOn:Object(E.d)(M),userType:oe,isDnd:me,isSlackbot:U===y.W}},"mapStateToProps"),A=v(M=>({openProfile:j=>M(Object(O.a)(j)),showMemberProfileInTile:j=>M(Object(g.a)(j)),navigate:j=>M(Object(h.a)(j))}),"mapDispatchToProps");const R={mapStateToProps:S,mapDispatchToProps:A};Object.defineProperty(R,"mapStateToProps",{get:()=>S,set:M=>{S=M}}),Object.defineProperty(R,"mapDispatchToProps",{get:()=>A,set:M=>{A=M}});const x=Object(p.a)(Object(s.a)(S,A)(P.b));x.displayName="ConnectedAvatar",n.a=x},lsLQ:function(K,n,e){"use strict";e.d(n,"a",function(){return s});const s="PLATFORM-CHANNEL-ACTIONS"},lvWT:function(K,n,e){"use strict";var s=e("q1tI"),t=e.n(s),a=e("iuhU"),r=e("zxER"),c=e("YiJ7");function o(){return o=Object.assign||function(u){for(var f=1;f<arguments.length;f++){var d=arguments[f];for(var O in d)Object.prototype.hasOwnProperty.call(d,O)&&(u[O]=d[O])}return u},o.apply(this,arguments)}v(o,"_extends");const i=v(u=>{let{children:f,className:d,...O}=u;const m=Object(r.a)(c.b);return t.a.createElement("div",o({},O,{className:Object(a.default)("c-sk-modal_header",d,{"c-sk-modal_header--responsive":m})}),f)},"ModalHeader");i.displayName="ModalHeader";var l=n.a=i},lxlr:function(K,n,e){"use strict";var s=e("q1tI"),t=e.n(s),a=e("iuhU"),r=e("1Apa"),c=e("TGBA"),o=e("3bXy"),i=e("Nyfl"),l=e("nWdO");const u={small:80,medium:120,large:160},{Unknown:f,Nonexistent:d}=o.a,O=v(g=>{let{className:E,isNonExistent:p=!1,size:h=o.b.Medium,subtler:_=!1,tooltip:b,invert:I=!1,sizes:C=u}=g;const y=Object(i.a)(()=>Object(r.a)(Object(c.a)(C)),[C]),P=Object(s.useMemo)(()=>({width:h!=="random"?C[h]:y}),[h,y,C]),T=p?d:f,S=t.a.createElement("span",{className:Object(a.default)(E,"c-missing_text",`c-missing_text--${T}`,{"c-missing_text--subtler":_,"c-missing_text--unknown_inverted":T===f&&I,"c-missing_text--non_existent_inverted":p&&I}),style:P});return b?t.a.createElement(l.c,{tip:b},S):S},"MissingText");O.displayName="MissingText",O.displayName="MissingText";var m=n.a=O},m1zK:function(K,n,e){"use strict";var s=e("q1tI"),t=e.n(s),a=e("zxER"),r=e("DneB"),c=e("ifKl"),o=e("i5Ig"),i=e("B4ch"),l=e("E3dU"),u=e("+CZ0"),f=e("3vtZ"),d=e("E97Y"),O=e("hXnR"),m=e("9oTK"),g=e("cZF4"),E=e("yxNq"),p=e("/MKj"),h=e("qDEp"),_=e("WMzb"),b=e("y6S6"),I=e("CDqL"),C=e("nWdO"),y=e("8aX7"),P=e("YUBf"),T=e("GNR7"),S=e("9Gfp"),A=e("sgFo"),R=e("nNoG"),x=e("Yauy"),M=e("jWAO"),j=e("C3vN"),W=e("xwCZ"),U=e("Tevt"),B=e("ZElP");const Y=new R.b("huddles");function z(ie){let{members:oe,createNewMpim:me}=ie;var ue,_e,be;const Ae=Object(a.b)(Pe=>oe.map(Ue=>Object(j.N)(Pe,Object(W.g)(Pe,Ue.slackId))));if(!oe)return null;const Ce=Ae&&Ae.slice(3),De=Y.rt("{unknownMembers, plural, =1 {<strong>{name1}</strong>} =2 {<strong>{name1}</strong> and <strong>{name2}</strong>} =3 {<strong>{name1}</strong>, <strong>{name2}</strong>, and <strong>{name3}</strong>} other {<strong>{name1}</strong>, <strong>{name2}</strong>, <strong>{name3}</strong> and <strong>{numOthers}</strong> more}} won\u2019t be able to see messages sent in thread because this huddle began in a direct message. You can <a>start a new huddle</a> instead.",{unknownMembers:oe.length,name1:t.a.createElement(B.a,{slackId:(ue=oe[0])===null||ue===void 0?void 0:ue.slackId}),name2:t.a.createElement(B.a,{slackId:(_e=oe[1])===null||_e===void 0?void 0:_e.slackId}),name3:t.a.createElement(B.a,{slackId:(be=oe[2])===null||be===void 0?void 0:be.slackId}),numOthers:t.a.createElement(C.c,{zIndex:"above_fs",position:"top",tip:Object(R.h)(Ce)},t.a.createElement("span",null,oe.length-3))},Pe=>{let{text:Ue,tag:ae}=Pe;return ae==="a"?t.a.createElement(U.a,{onClick:me},Ue):null});return t.a.createElement(M.d,{level:M.b.info,type:M.c.custom},De)}v(z,"HuddleInviteMpimAlert"),z.displayName="HuddleInviteMpimAlert";var F=z,V=e("s9Q6"),L=e("beVI"),Q=e("G0eX"),ee=e("hAJ3"),te=e("Trx9"),le=e("ktUG"),Oe=e("WAPM"),he=e("fPvf"),Ee=e("U1tW"),ge=e("trVL"),J=e("Z3RE"),H=e("p6pj"),Z=e("6SBE"),q=e("FN5i");const k=new R.b("huddles"),se={elementName:"learn_more",onClick:{enableClogAction:!0}};function re(ie){let{closeModal:oe,callId:me,channelId:ue,selectedMemberIds:_e=o.a}=ie;const be=Object(p.useDispatch)(),Ae=Object(_.a)(),Ce=Object(a.a)(S.a),De=Object(a.a)(f.G),Pe=Object(a.a)(at=>Object(l.c)(at,ue)),Ue=Object(a.a)(A.t),ae=Object(a.a)(at=>Object(T.g)(at,ue).filter(Ht=>Ht.id!==Ce).map(Ht=>Ht.id),E.a),[ne,Ie]=Object(s.useState)(_e),[Te,Me]=Object(s.useState)(!1),Ne=Object(a.b)(at=>!ue||!(ne!=null&&ne.length)?[]:ne.filter(Wt=>{const yt=Object(b.c)(at,ue,Wt);return yt&&yt.isKnown&&!(yt!=null&&yt.isMember)?Wt:!1})),He=Object(a.a)(L.g),Et=Object(Q.C)(He),Je=Object(a.a)(V.i),qe=Object(s.useCallback)(at=>{Ie(at)},[]),ke=Object(s.useCallback)(at=>{Ie(ne.concat(at))},[ne]),rt=Object(s.useMemo)(()=>{const at=Object(x.y)(Pe);return Array.isArray(at)?at:[]},[Pe]),pe=rt.filter(at=>at!==Ce),je=Object(s.useCallback)(Object(m.coroutine)(function*(){if(!ue)return;let at=ne.concat(ae);return rt&&(at=Object(g.a)(at,rt)),be(Object(ee.a)({channelId:ue,memberIds:at})).then(()=>{oe()}).catch(Ht=>{Ae.error(Ht),Me(!1)})}),[ue,ne,ae,rt,be,oe,Ae]),xe=Object(s.useCallback)(Object(m.coroutine)(function*(){if(!ue)return;Me(!0);const at=ne.concat(ae);return be(Object(I.a)({channelId:ue,userIds:at})).then(()=>{oe()}).catch(Ht=>{Ae.error(Ht),Me(!1)})}),[ue,oe,be,Ae,ae,ne]),ze=v(()=>Et&&!Ue?t.a.createElement(Ee.a,null):Je?t.a.createElement(he.b,null):null,"maybeRenderBanner");ze.displayName="maybeRenderBanner";let st,ct,dt,bt;const Ft=v(at=>{const Ht=at.map(Wt=>t.a.createElement(y.a,{key:Wt,isBold:!1,id:Wt}));return Ht&&Object(R.h)(Ht)},"listifiedOverflowMembers");Ft.displayName="listifiedOverflowMembers",Et&&Ue?(st=k.t("Invite someone else to your huddle"),dt=k.rt("{participants, plural, =0 {<b>{firstParticipant}</b> is} =1 {<b>{firstParticipant}</b> and <b>{secondParticipant}</b> were} other {<b>{firstParticipant}</b> <a>and # others</a> were}} already invited, but {participants, plural, =0 {hasn\u2019t} =1 {haven\u2019t} other {haven\u2019t}} joined. ",{participants:(pe==null?void 0:pe.length)-1,firstParticipant:t.a.createElement(y.a,{isBold:!1,id:pe[0]}),secondParticipant:t.a.createElement(y.a,{isBold:!1,id:pe[1]}),"<a>":at=>{let{text:Ht}=at;return t.a.createElement(C.c,{zIndex:"above_fs",tip:Ft(pe==null?void 0:pe.slice(1))},t.a.createElement("span",null,Ht))},"<b>":at=>{let{text:Ht}=at;return t.a.createElement("b",null,Ht)}}),bt=k.rt("You\u2019re on the free version of Slack, so only one other person can join you in a huddle. Invite anyone until someone joins. <a>Learn more</a>",{"<a>":at=>{let{text:Ht}=at;return t.a.createElement(Oe.a,{articleId:4402059015315,ariaLabel:k.t("Learn more about Huddles"),forceOpenInBrowser:!0,autoClogProps:se},Ht)},fallbackHash:"53e44c4bd8bcf67461de7b54ef1ec275b05f4829"})):(st=k.t("Invite people to your huddle"),ct=k.t("You can invite people from outside this private conversation, but they may have restricted access to messages."));const Bt=Object(s.useMemo)(()=>ne.length>1?k.t("Send Invites"):k.t("Send Invite"),[ne]);return!De||!ue?null:t.a.createElement(P.a,{overlayClassName:"p-huddle_invite_modal_shared_styles__overlay",closeModal:oe,contentLabel:st,shouldReturnFocusAfterClose:!0},t.a.createElement(P.i,null,t.a.createElement(P.l,{title:st,subtitle:ct})),t.a.createElement(P.d,null,t.a.createElement(P.e,null,(dt||bt)&&t.a.createElement("p",null,dt,bt),t.a.createElement(J.a,{isFreeTeam:Et,experimentHuddlesInviteModalFreemiumImprovementsGroupOn:Ue,channel:Pe,otherMembersInHuddle:ae,onSelectedMembersChange:qe,selectedMemberIds:ne}),(Ne==null?void 0:Ne.length)>0&&t.a.createElement(F,{members:Ne.map(at=>({slackId:at})),createNewMpim:je})),t.a.createElement(Z.a,{activeHuddleCallId:me,channel:Pe,isFreeTeam:Et,onSuggestedUserSelected:ke,otherMembersInHuddle:ae,selectedMemberIds:ne}),ze()),t.a.createElement(P.g,null,t.a.createElement(H.a,{channelId:ue}),t.a.createElement(P.h,null,t.a.createElement(P.c,{type:"outline"},k.t("Cancel")),t.a.createElement(te.a,{clogImpression:!0,eventId:le.EventId.HUDDLES_MPIM_INVITE},t.a.createElement(h.c,{loading:Te,onClick:xe,type:"primary",disabled:!ne.length},Bt)))),Ue&&Et&&t.a.createElement(ge.a,{selectedMemberIds:ne}))}v(re,"HuddleInviteMpim"),re.displayName="HuddleInviteMpim";var X=re;function w(ie){let{closeModal:oe=c.a,selectedMemberIds:me=o.a}=ie;const ue=Object(a.a)(f.G),_e=Object(r.b)(u.a),be=Object(r.b)(u.b),Ae=Object(a.a)(Ce=>Object(l.c)(Ce,be));return ue?Object(d.h)(Ae)?t.a.createElement(X,{callId:_e,channelId:be,closeModal:oe,selectedMemberIds:me}):t.a.createElement(O.a,{callId:_e,channel:Ae,closeModal:oe,selectedMemberIds:me}):null}v(w,"HuddleInviteOrStartModal"),w.displayName="HuddleInviteOrStartModal";var ce=n.a=Object(i.a)(w,{isStackable:!0})},m28s:function(K,n,e){"use strict";e.d(n,"a",function(){return t});var s=e("O86Y");function t(a){let{viewType:r,id:c,state:o}=a;return`${Object(s.g)(o)}-to-${r}:${c}`}v(t,"getNavigationTraceId")},m2C9:function(K,n,e){"use strict";e.d(n,"a",function(){return o});var s=e("7lBi"),t=e("SQ0V"),a=e("u43d"),r=e("ED1u"),c=e("j77i");const o=Object(t.c)("Sets whether or not the user prefers a responsive sidebar",(i,l,u)=>{Object(a.a)(l())&&Object(c.v)(s.E,u),i(Object(r.f)(u))});o.meta={name:"createThunk",key:"createThunksetUserPrefersResponsiveSidebar",description:"Sets whether or not the user prefers a responsive sidebar"}},m8zz:function(K,n,e){"use strict";e.d(n,"a",function(){return r});var s=e("ZOzc"),t=e("PMNn");const a=-1,r=v((c,o)=>{if(!o)return a;const i=Object(t.b)(c,o);if(!i)return a;let l=-1;for(let u=0;u<i.length;u++){const f=Object(s.a)(c,"msg_edit_window_mins",i[u]);if(f===a)return f;f>l&&(l=f)}return l},"getMsgEditWindowMinsForChannel")},mD0D:function(K,n,e){K.exports=e.p+"contextual-help-keyboard-e004fd5.png"},mEzS:function(K,n,e){"use strict";e.d(n,"a",function(){return h});var s=e("9oTK"),t=e.n(s),a=e("Lgge"),r=e("q1tI"),c=e.n(r),o=e("/MKj"),i=e("SQ0V"),l=e("3l96"),u=e("+kJ4"),f=e("/L4o"),d=e("UNFO"),O=e("JJ34"),m=e("oMW/"),g=e("ACY8"),E=e("WMzb"),p=e("PIf0");const h=Object(i.c)("Close open edits with no changes and warn on edits with unsaved changes",function(){var b=Object(s.coroutine)(function*(I,C,y,P){let{scroll:T=!1,cancelUnsavedEdits:S=!1}=y;const{windowId:A}=P(p.a);if(S)return I(Object(d.e)({windowId:A})),a.a.resolve();const R=C(),x=Object(O.b)(R,{ignoreViewContext:!0,windowId:A});return x&&x.hasUnsavedChanges?new a.a((M,j)=>{I(Object(l.a)({element:c.a.createElement(_,{edit:x,windowId:A,scroll:T,resolve:M,reject:j})}))}):(I(Object(d.e)({windowId:A})),a.a.resolve())});return function(I,C,y,P){return b.apply(this,arguments)}}());h.meta={name:"createThunk",key:"createThunkattemptToStopEditingInChannel",description:"Close open edits with no changes and warn on edits with unsaved changes"};function _(b){let{edit:I,windowId:C,scroll:y,resolve:P,reject:T}=b;const S=Object(o.useDispatch)(),A=Object(E.a)(),R=Object(r.useCallback)(()=>{S(Object(d.d)({windowId:C})),S(Object(u.a)()),Object(g.a)(A,I),P()},[I,A,P,S,C]),x=Object(r.useCallback)(()=>{S(Object(u.a)()),y&&S(Object(m.a)(I)),T()},[y,I,T,S]);return c.a.createElement(f.a,{closeAndCancelEditing:R,closeAndContinueEditing:x})}v(_,"WrappedUnsavedEditsWarningModal"),_.displayName="WrappedUnsavedEditsWarningModal"},mHzN:function(K,n,e){K.exports=e.p+"slackbot_frowny_512-955a74f.png"},mSUo:function(K,n,e){"use strict";var s=e("Kyco"),t=e("COQp");const a={hasKeyboardFocus:!1},r=Object(s.b)({},a,{storeKey:"accessibilityPersistent",persistenceEnabled:!0,persistImmediately:!0}).on(t.a,function(c){let o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;return c.hasKeyboardFocus===o?c:{...c,hasKeyboardFocus:o}});n.a=r},mSpc:function(K,n,e){"use strict";e.d(n,"a",function(){return t});var s=e("OKwM");class t{add(r){this.rows.push(r),this.adjustPadding(r)}report(){const r=this.padding.map(o=>"-".repeat(o));return(this.columnNames?[r,this.columnNames,r]:[]).concat(this.rows).reduce((o,i)=>o+i.reduce((l,u,f)=>l+Object(s.a)(u,this.padding[f])+(f!==i.length-1?` ${this.separator} `:`
`),""),"")}adjustPadding(r){this.padding=r.map((c,o)=>Math.max(c.length,this.padding[o]||0))}constructor(r,c="|"){this.columnNames=r,this.separator=c,this.padding=[],this.rows=[],this.columnNames&&this.adjustPadding(this.columnNames)}}v(t,"StringTable")},mVl8:function(K,n,e){"use strict";e.d(n,"a",function(){return r});var s=e("ZKjC"),t=e("O86Y"),a=e("gOA+");const r=Object(s.b)((c,o)=>{const i=Object(t.g)(c);return i&&Object(a.a)().maybeRefetch(i,o),c&&c.membershipOrdered&&c.membershipOrdered[o]?c.membershipOrdered[o]:[]});r.meta={name:"createSelector",key:"createSelectorgetMemberListForChannel",description:(c,o)=>{const i=Object(t.g)(c);return i&&Object(a.a)().maybeRefetch(i,o),c&&c.membershipOrdered&&c.membershipOrdered[o]?c.membershipOrdered[o]:[]}}},"mY+K":function(K,n,e){"use strict";e.d(n,"a",function(){return f});var s=e("9oTK"),t=e.n(s),a=e("oTSI"),r=e("Lgge"),c=e("uAML"),o=e("lhZz"),i=e("GAXn"),l=e("9068"),u=e("F56K");const f=Object(a.a)(()=>new c.b({fetch:d,isEnabled:()=>!0}));function d(m,g){return r.a.map(g,function(){var E=Object(s.coroutine)(function*(p){try{return(yield Object(o.dispatchForTeamId)(m,Object(i.a)({workflowId:p,reason:"hermes_workflows_store"}))).workflow}catch{return Object(l.e)(p)}});return function(p){return E.apply(this,arguments)}}()).then(E=>Object(o.dispatchForTeamId)(m,Object(u.b)({workflows:E})))}v(d,"fetchAndUpsertWorkflowsForTeamId");const O={fetchAndUpsertWorkflowsForTeamId:d}},mdQV:function(K,n,e){"use strict";e.d(n,"a",function(){return a});var s=e("m5Yc");const{TEXT:t}=s.b,a=v(r=>{var c;return((c=r)===null||c===void 0?void 0:c.type)===t},"isRichTextTextElement")},mf6s:function(K,n,e){"use strict";var s=e("q1tI"),t=e.n(s),a=e("Cfcg"),r=e("LZPg"),c=e("iuhU"),o=e("G5NC"),i=e("1VgO"),l=e("lhZz"),u=e("myfR"),f=e("S4nM"),d=e("e9jb"),O=e("RVJP");function m(){return m=Object.assign||function(P){for(var T=1;T<arguments.length;T++){var S=arguments[T];for(var A in S)Object.prototype.hasOwnProperty.call(S,A)&&(P[A]=S[A])}return P},m.apply(this,arguments)}v(m,"_extends");let g=v(class extends s.PureComponent{componentDidMount(){this.setUpMedia(),this.updateVideoState(),this.setupInteractionObserver()}componentDidUpdate(){this.setUpMedia(),this.updateVideoState()}componentWillUnmount(){var T;const S=this.videoRef.current,{shouldAttachStream:A,tileId:R,peerId:x}=this.props;!R||!S||(this.props.unbindVideo({tileId:R,videoRef:this.videoRef,shouldDetachStream:!!A,peerId:x}),S.removeEventListener("resize",this.onResize),(T=this.interactionObserver)===null||T===void 0||T.disconnect())}setUpMedia(){const T=this.videoRef.current,{shouldAttachStream:S,tileId:A,peerId:R}=this.props;!A||!T||(this.props.bindVideo({tileId:A,videoRef:this.videoRef,shouldAttachStream:!!S,peerId:R}),T.addEventListener("resize",this.onResize))}setupInteractionObserver(){var T;if(window!=null&&window.IntersectionObserver&&this.props.unbindNonVisibleVideos&&((T=this.interactionObserver)===null||T===void 0||T.disconnect(),this.interactionObserver=new IntersectionObserver(this.interactionObserverCallback,{root:null,threshold:this.intersectionCheckThresholds}),this.videoRef.current)){var S;(S=this.interactionObserver)===null||S===void 0||S.observe(this.videoRef.current)}}interactionObserverCallback(T){const S=T[0];if(!S)return;const A=this.videoRef.current,{shouldAttachStream:R,tileId:x,peerId:M}=this.props;!x||!A||(S.intersectionRatio>this.intersectionVisibleThreshold?this.props.bindVideo({tileId:x,videoRef:this.videoRef,shouldAttachStream:!!R,peerId:M}):this.props.unbindVideo({tileId:x,videoRef:this.videoRef,shouldDetachStream:!!R,peerId:M}))}onResize(){const T=this.videoRef.current;T&&(this.props.isSharingScreen?T.style.objectFit="contain":T.style.objectFit=T.videoWidth>T.videoHeight?"cover":"contain")}updateVideoState(){const{experimentCallsPauseVideoOnScreenshareGroupTreatment:T,peerId:S,tileId:A,isActivePeerSharingScreen:R,isShroudVisible:x}=this.props;!T||!A||(S!=="self"&&R&&!x?this.props.pauseVideo({tileId:A}):this.props.unpauseVideo({tileId:A}))}render(){const{refToForward:T,shouldFlip:S,peerId:A,className:R,width:x,height:M,onLoadedData:j}=this.props;return t.a.createElement("video",m({className:Object(c.default)("p-calls_video",R,{flipped:S}),ref:Object(i.b)(this.videoRef,T),key:A,"data-qa":"free-willy-video-element",style:{width:x,height:M}},j?{onLoadedData:j}:{}))}constructor(T){super(T),this.videoRef=Object(s.createRef)(),this.intersectionVisibleThreshold=0,this.intersectionCheckThresholds=[0],this.onResize=T.onResize?T.onResize:this.onResize.bind(this),this.interactionObserverCallback=this.interactionObserverCallback.bind(this)}},"VideoElement");g.displayName="VideoElement";const E=v((P,T)=>{var S;const A=Object(O.d)(P,"calls_pause_video_on_screenshare")==="treatment",R=Object(r.u)(P),x=T.peer?Object(r.X)(T.peer):!1;let M;if(R)M=T.tileId;else{var j,W,U,B,Y,z;M=x?(j=T.peer)===null||j===void 0||(W=j.tileIds)===null||W===void 0||(U=W.screenshare)===null||U===void 0?void 0:U.tileId:(B=T.peer)===null||B===void 0||(Y=B.tileIds)===null||Y===void 0||(z=Y.camera)===null||z===void 0?void 0:z.tileId}return{tileId:M,peerId:(S=T.peer)===null||S===void 0?void 0:S.id,isSharingScreen:x,isShroudVisible:A&&Object(d.a)()?Object(f.h)(P):!1,isActivePeerSharingScreen:Object(r.v)(P),experimentCallsPauseVideoOnScreenshareGroupTreatment:A}},"mapStateToProps"),p=v(P=>({bindVideo:T=>Object(o.a)()?Object(l.dispatchForClientStore)(Object(u.a)(T)):P(Object(u.a)(T)),unbindVideo:T=>Object(o.a)()?Object(l.dispatchForClientStore)(Object(u.c)(T)):P(Object(u.c)(T)),pauseVideo:T=>Object(o.a)()?Object(l.dispatchForClientStore)(Object(u.b)(T)):P(Object(u.b)(T)),unpauseVideo:T=>Object(o.a)()?Object(l.dispatchForClientStore)(Object(u.d)(T)):P(Object(u.d)(T))}),"mapDispatchToProps"),h=Object(a.a)(E,p)(g);var _=t.a.forwardRef((P,T)=>t.a.createElement(h,m({refToForward:T},P)));function b(){return b=Object.assign||function(P){for(var T=1;T<arguments.length;T++){var S=arguments[T];for(var A in S)Object.prototype.hasOwnProperty.call(S,A)&&(P[A]=S[A])}return P},b.apply(this,arguments)}v(b,"peer_video_element_extends");const I=v((P,T)=>{const S=Object(r.u)(P),A=Object(r.J)(P,T.id);let R;const x=T.tileId;if(!S)R=Object(r.Y)(A)&&!A.isScreenshareEnabled;else{var M,j;const W=((M=A.tileIds)===null||M===void 0||(j=M.screenshare)===null||j===void 0?void 0:j.tileId)===x;R=Object(r.Y)(A)&&!W}return{peer:A,tileId:x,shouldFlip:R}},"peer_video_element_mapStateToProps"),C=Object(a.a)(I)(_);var y=n.a=t.a.forwardRef((P,T)=>t.a.createElement(C,b({},P,{refToForward:T})))},mkcb:function(K,n,e){"use strict";e.d(n,"c",function(){return t}),e.d(n,"e",function(){return a}),e.d(n,"d",function(){return r}),e.d(n,"f",function(){return c}),e.d(n,"a",function(){return o}),e.d(n,"b",function(){return i});var s=e("DwFS");const t=Object(s.a)("Internally update the window focus state");t.meta={name:"createAction",key:"createActioninnerUpdateFocus",description:"Internally update the window focus state"};const a=Object(s.a)("Mark the window as unloading");a.meta={name:"createAction",key:"createActionsetUnloading",description:"Mark the window as unloading"};const r=Object(s.a)("What kind of boot is this");r.meta={name:"createAction",key:"createActionsetBootType",description:"What kind of boot is this"};const c=Object(s.a)("Set the entire window state --  this should only be used when the data is coming from the client-store");c.meta={name:"createAction",key:"createActionsetWindow",description:"Set the entire window state --  this should only be used when the data is coming from the client-store"};const o=Object(s.a)("Remove data for the specified window (use this during window teardown)");o.meta={name:"createAction",key:"createActioninnerRemoveWindow",description:"Remove data for the specified window (use this during window teardown)"};const i=Object(s.a)("Internally set the sizing and positioning data for a window (please use setViewport thunk instead)");i.meta={name:"createAction",key:"createActioninnerSetViewport",description:"Internally set the sizing and positioning data for a window (please use setViewport thunk instead)"}},mmwi:function(K,n,e){K.exports=e.p+"ava_0002-72-c702398.png"},mnG8:function(K,n,e){K.exports=e.p+"slackbot_neutral_1024-b58a548.png"},mwr9:function(K,n,e){"use strict";e.d(n,"b",function(){return be}),e.d(n,"c",function(){return Ae}),e.d(n,"a",function(){return De});var s=e("9oTK"),t=e("SQ0V"),a=e("lhZz"),r=e("LZPg"),c=e("sNDC"),o=e("4tnk"),i=e("ti9H"),l=e("vfQU"),u=e("1Zcw"),f=e("oBB2"),d=e("Nq3N"),O=e("Wn1n"),m=e("q1tI"),g=e.n(m),E=e("DneB"),p=e("Kmpi"),h=e("7JUD"),_=e("lvWT"),b=e("tYRW"),I=e("AEEY"),C=e("9org"),y=e("zKrX"),P=e("YyjR"),T=e("iUFw"),S=e("eBYm"),A=e("oEDn"),R=e("Trx9"),x=e("zxER"),M=e("B4ch"),j=e("+CZ0"),W=e("E3dU"),U=e("Yauy"),B=e("Enx8"),Y=e("E97Y"),z=e("ktUG"),F=e("nNoG"),V=e("2kWh"),L=e("LqER");function Q(){return Q=Object.assign||function(Pe){for(var Ue=1;Ue<arguments.length;Ue++){var ae=arguments[Ue];for(var ne in ae)Object.prototype.hasOwnProperty.call(ae,ne)&&(Pe[ne]=ae[ne])}return Pe},Q.apply(this,arguments)}v(Q,"_extends");const ee=new F.b("huddles"),te={elementName:"huddles_invite_confirmation_dialog_cancel",eventId:z.EventId.HUDDLES_JOIN_CANCEL,onClick:{enableClogAction:!0}},le={elementName:"huddles_invite_confirmation_dialog_ok",eventId:z.EventId.HUDDLES_JOIN_CONFIRM,onClick:{enableClogAction:!0}};function Oe(Pe){let{closeModal:Ue,...ae}=Pe;const{channelId:ne,senderUserId:Ie}=ae,Te=Object(L.b)(ne),{handleDecline:Me,handleJoin:Ne,isLoading:He,inviteText:Et}=Object(V.c)(ae),Je=Object(x.a)(ze=>Object(B.a)(ze,Ie));let qe=ee.t("Huddle with {dmPersons}",{dmPersons:Je,fallbackHash:"a0767c2e0145a0f1159ecf41452f3cf03b376fe1"});const ke=Object(x.a)(ze=>Object(W.c)(ze,ne)),rt=Object(x.a)(ze=>Object(p.b)(ke)?Object(U.u)(ze,ke,{publicChannelIncludeHashSign:!1,imIncludeAtSign:!1}):void 0);rt&&(qe=Object(Y.h)(ke)?ee.t("Huddle with {dmPersons}",{dmPersons:rt,fallbackHash:"a0767c2e0145a0f1159ecf41452f3cf03b376fe1"}):ee.t("Huddle in {channelName}",{channelName:rt,fallbackHash:"a0767c2e0145a0f1159ecf41452f3cf03b376fe1"}));const pe=Object(E.b)(j.b)===ne;Object(m.useEffect)(()=>{pe&&!He&&(Ue==null||Ue())},[pe,He,Ue]);const je=Object(m.useCallback)(()=>{Me(),Ue==null||Ue()},[Ue,Me]),xe="huddle-invite-join-modal";return g.a.createElement(R.a,Q({uiComponentName:z.UiComponentName.HUDDLES_INVITE_CONFIRMATION_DIALOG},Te),g.a.createElement(h.a,{labelledby:xe,closeModal:Ue,role:"dialog",className:"p-huddle_invite_join_modal",overlayClassName:"p-huddle_invite_join_modal__overlay",shouldReturnFocusAfterClose:!0},g.a.createElement(_.a,null,g.a.createElement(b.a,{title:qe,id:xe})),g.a.createElement(I.a,null,g.a.createElement(C.a,null,Et)),g.a.createElement(y.a,null,g.a.createElement(P.a,null,g.a.createElement(T.d,{type:"outline",onClick:je,"data-qa":"huddle_invite_join_cancel",autoClogProps:te},ee.t("Not Now")),g.a.createElement(S.a,{type:"primary",loading:He,onClick:Ne,"data-qa":"huddle_invite_join_go",autoClogProps:le,autoFocus:!0},g.a.createElement(A.a,{type:"headphones"}),g.a.createElement("span",{className:"p-huddle_invite_join_modal__join_label"},ee.t("Join")))))))}v(Oe,"HuddleInviteJoinModal"),Oe.displayName="HuddleInviteJoinModal";const he={HuddleInviteJoinModal:Oe};var Ee=Object(M.a)(Oe),ge=e("m1zK"),J=e("Lgge"),H=e("s4P+"),Z=e("Zbwg"),q=e("l1I1"),k=e("HpvR"),se=e("3vtZ"),re=e("5IZy"),X=e("kBpe"),w=e("to1N"),ce=e("0dq7"),ie=e("qZdH"),oe=e("v7mh"),me=e("2VFn"),ue=e("rZ8V");const _e=v((Pe,Ue,ae)=>{Object(re.a)({state:Pe}).track(Ue,{contexts:{calls:Object(se.o)(Pe,ae),ui_context:{action:z.UiAction.KEYDOWN}}})},"clogHuddlesEvent"),be=Object(t.c)("Start huddle in highlighted channel or current primary view",function(){var Pe=Object(s.coroutine)(function*(Ue,ae,ne){let{highlightedChannelId:Ie}=ne;const Te=Object(a.getStateForClientStore)(),Me=ae(),Ne=Object(ue.g)(Me),He=Ne,Et=Object(oe.a)(Me),Je=Object(O.a)(Me),qe=He?Object(oe.g)(Me,{tab:Et,container:me.h.Primary}):null,ke=He?qe==null?void 0:qe.id:Je,rt=Ie||ke,{channelId:pe,teamId:je}=Object(j.c)(Te)||{};if(pe&&je&&(!Ie||Ie===pe)){Object(a.dispatchForTeamId)(je,Object(f.a)()),_e(Me,z.EventId.HUDDLES_LEAVE,pe);return}const xe=Object(j.f)(Te);if(xe&&!Ie){const{channelId:st,senderUserId:ct,callId:dt,teamId:bt}=xe;Object(a.dispatchForTeamId)(bt,Ee({channelId:st,senderUserId:ct,callId:dt}));return}if(!rt||!Object(Z.a)(rt)&&!Object(q.a)(rt)){Ne&&Ue(Object(ge.a)());return}const ze=Object(k.a)(Me,rt);ze&&Object(se.e)(Me,ze)&&(_e(Me,z.EventId.HUDDLES_JOIN,ze.id),Ue(Object(w.a)({channelId:ze.id,forceFocus:!0,entryPoint:ce.e.KEYBOARD_SHORTCUT_JOIN_HUDDLE})))});return function(Ue,ae,ne){return Pe.apply(this,arguments)}}());be.meta={name:"createThunk",key:"createThunktoggleHuddleInHighlightedChannel",description:"Start huddle in highlighted channel or current primary view"};const Ae=Object(t.c)("Toggle microphone from current value to opposite value",(Pe,Ue)=>{const ae=Object(a.getStateForClientStore)(),{teamId:ne,channelId:Ie}=Object(j.c)(ae)||{};if(!ne)return;const Te=Object(a.getStateByTeamId)(ne),Me=Object(r.V)(Te),Ne=Me==null?void 0:Me.isMicrophoneEnabled;Object(a.dispatchForTeamId)(ne,Object(d.a)(!Ne)),Pe(Ne?Object(c.b)():Object(c.c)()),Object(H.a)({state:Te}).info(u.c,`Keyboard shortcut invoked -- toggling mic to ${Ne?z.EventId.HUDDLES_MUTE:z.EventId.HUDDLES_UNMUTE}`),Ie&&_e(Te,Ne?z.EventId.HUDDLES_MUTE:z.EventId.HUDDLES_UNMUTE,Ie)});Ae.meta={name:"createThunk",key:"createThunktoggleSelfMicrophone",description:"Toggle microphone from current value to opposite value"};let Ce=!1;const De=v(Pe=>{var Ue;return Object(X.j)("4.13.0")?(Pe&&!Ce&&(Object(l.Qb)(i.a.TOGGLE_MUTE,Object(s.coroutine)(function*(){const ae=Object(a.getStateForClientStore)(),{teamId:ne}=Object(j.c)(ae)||{};ne&&(Object(a.dispatchForTeamId)(ne,Ae()),Object(o.k)(Object(a.getStateForClientStore)())||Object(a.dispatchForClientStore)(Object(ie.b)()))})),Ce=!0),(Ue=Object(l.Kc)(i.a.TOGGLE_MUTE,Pe))===null||Ue===void 0?void 0:Ue.then(()=>Pe)):J.a.resolve(!1)},"maybeToggleGlobalMuteShortcut")},mx2s:function(K,n,e){"use strict";e.d(n,"h",function(){return s}),e.d(n,"i",function(){return t}),e.d(n,"f",function(){return a}),e.d(n,"g",function(){return r}),e.d(n,"c",function(){return c}),e.d(n,"d",function(){return o}),e.d(n,"a",function(){return i}),e.d(n,"b",function(){return l}),e.d(n,"e",function(){return u});const s="viewLayoutSidebarWidthIntent",t="viewLayoutSidebarWidthMode",a="viewLayoutSidebarWideWidthIntent",r="viewLayoutSidebarWideWidthMode",c="viewLayoutSidebarExtraWideWidthIntent",o="viewLayoutSidebarExtraWideWidthMode",i="viewLayoutSecondaryWidthIntent",l="viewLayoutSecondaryWidthMode",u="viewLayoutIsSidebarVisible"},myfR:function(K,n,e){"use strict";e.d(n,"a",function(){return f}),e.d(n,"c",function(){return d}),e.d(n,"b",function(){return O}),e.d(n,"d",function(){return m}),e.d(n,"e",function(){return g});var s=e("DwFS");const t=Object(s.a)("connect to free willy media server");t.meta={name:"createAction",key:"createActionconnectToFreeWillyMediaServer",description:"connect to free willy media server"};const a=Object(s.a)("Set flag to indicate if experimental Chime SDK should be used");a.meta={name:"createAction",key:"createActionsetUseChimeSdkExp",description:"Set flag to indicate if experimental Chime SDK should be used"};const r=Object(s.a)("Set flag to indicate if voice focus should be used in a Chime call");r.meta={name:"createAction",key:"createActionsetUseVoiceFocus",description:"Set flag to indicate if voice focus should be used in a Chime call"};const c=Object(s.a)("Set voice focus model variant");c.meta={name:"createAction",key:"createActionsetVoiceFocusModelVariant",description:"Set voice focus model variant"};const o=Object(s.a)("Set flag to indicate if simulcast should be used in a Chime call");o.meta={name:"createAction",key:"createActionsetUseSimulcast",description:"Set flag to indicate if simulcast should be used in a Chime call"};const i=Object(s.a)("Set flag to indicate if priority based downlink policy should be used in a Chime call");i.meta={name:"createAction",key:"createActionsetUsePriorityDownlinkPolicy",description:"Set flag to indicate if priority based downlink policy should be used in a Chime call"};const l=Object(s.a)("Set flag to indicate if getMediaAccess checks for Windows should be used in a Chime call");l.meta={name:"createAction",key:"createActionsetUseGetMediaAccessCheckForWindows",description:"Set flag to indicate if getMediaAccess checks for Windows should be used in a Chime call"};const u=Object(s.a)("Set flag to determine if a call is a readiness test call");u.meta={name:"createAction",key:"createActionsetReadinessCheck",description:"Set flag to determine if a call is a readiness test call"};const f=Object(s.a)("Binds video tile to a video element");f.meta={name:"createAction",key:"createActionbindVideo",description:"Binds video tile to a video element"};const d=Object(s.a)("Unbinds video tile from a video element");d.meta={name:"createAction",key:"createActionunbindVideo",description:"Unbinds video tile from a video element"};const O=Object(s.a)("Pauses video tile");O.meta={name:"createAction",key:"createActionpauseVideo",description:"Pauses video tile"};const m=Object(s.a)("Unpauses video tile");m.meta={name:"createAction",key:"createActionunpauseVideo",description:"Unpauses video tile"};const g=Object(s.a)("Returns if there in a stream associated with the tileId");g.meta={name:"createAction",key:"createActionvideoTileHasStream",description:"Returns if there in a stream associated with the tileId"}},n1Wy:function(K,n,e){"use strict";e.d(n,"a",function(){return c});var s=e("E3dU"),t=e("dmdh"),a=e("hjzp"),r=e("9068");function c(o,i){let{fetchChannelIfMissing:l=!0,fetchFileIfMissing:u=!1}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const f=Object(s.c)(o,i,l);if(Object(r.a)(f))return!!f.is_file;const d=Object(a.b)(i),O=Object(t.c)(o,d,u);if(Object(r.a)(O))return!0;if(Object(r.b)(O))return!1}v(c,"isFileChannelId")},n2bd:function(K,n,e){"use strict";e.d(n,"c",function(){return t}),e.d(n,"a",function(){return a}),e.d(n,"d",function(){return r}),e.d(n,"b",function(){return c});var s=e("DwFS");const t=Object(s.a)("Set a summary/detail pair");t.meta={name:"createAction",key:"createActionsetSummaryDetailItemInternal",description:"Set a summary/detail pair"};const a=Object(s.a)("Remove a summary/detail pair");a.meta={name:"createAction",key:"createActionremoveSummaryDetailItem",description:"Remove a summary/detail pair"};const r=Object(s.a)("Updates the detail view expiration timestamp");r.meta={name:"createAction",key:"createActionupdateExpirationTimestamp",description:"Updates the detail view expiration timestamp"};const c=Object(s.a)("Removes all detail view items for a child window");c.meta={name:"createAction",key:"createActionremoveSummaryDetailItemsForWindow",description:"Removes all detail view items for a child window"}},n3Lk:function(K,n,e){"use strict";e.d(n,"a",function(){return d}),e.d(n,"c",function(){return O}),e.d(n,"b",function(){return m});var s=e("s4P+"),t=e("SQ0V"),a=e("lhZz"),r=e("T1zM"),c=e("1Zcw"),o=e("dKQz"),i=e("0dq7"),l=e("ovHh"),u=e("rTTn"),f=e("+CZ0");const d=Object(t.c)("Close the mini survey after a postive response",(g,E,p)=>{let{channelId:h}=p;Object(a.dispatchForClientStore)(Object(o.Y)({channelId:h,optimisticHuddleState:null,huddleState:i.a.NOT_STARTED}))});d.meta={name:"createThunk",key:"createThunkcloseMiniSurvey",description:"Close the mini survey after a postive response"};const O=Object(t.c)("Set the date for when the user last saw the huddle survey",(g,E,p)=>{let{timeSeen:h}=p;g(Object(r.f)({pref:"huddle_survey_last_seen",value:h}))});O.meta={name:"createThunk",key:"createThunksetHuddleLastSeenSurvey",description:"Set the date for when the user last saw the huddle survey"};const m=Object(t.c)("Record the result of the mini survey we first display the user after a huddle ends.",(g,E,p)=>{let{result:h}=p;const _=Object(a.getStateForClientStore)(),b=Object(f.a)(_),I=Object(f.b)(_),C=u.a.HuddleSurvey;let y=i.a.NOT_STARTED;switch(h){case"bad":b&&g(Object(u.b)({callId:b}));break;case"good":y=i.a.SURVEY_GOOD,g(Object(l.a)({isOk:!0,callId:b,type:C}));break;case"dismiss":g(Object(l.a)({isOk:!1,callId:b,notOkResponses:["dismiss"]}));break;default:}Object(a.dispatchForClientStore)(Object(o.Y)({channelId:I,optimisticHuddleState:null,huddleState:y})),Object(s.a)({getState:E}).info(c.c,`Marking huddle as ${y} in component: huddle-survey`)});m.meta={name:"createThunk",key:"createThunkrecordMiniSurvey",description:"Record the result of the mini survey we first display the user after a huddle ends."}},n3y5:function(K,n,e){"use strict";var s=e("q1tI"),t=e.n(s),a=e("iuhU"),r=e("oTSI"),c=e("ifKl"),o=e("oEDn");const i=Object(r.a)(g=>({height:`${g}px`,width:`${g}px`}));function l(g){let{icon:E,classes:p=null,size:h=20,ariaHidden:_=void 0,ariaRole:b="img",ariaLabel:I=void 0}=g;const C=Object(a.default)("c-base_font_icon",p);return t.a.createElement("div",{className:C,style:i(h),"aria-hidden":_,role:b,"aria-label":I},t.a.createElement(o.a,{type:E}))}v(l,"BaseFontIcon"),l.displayName="BaseFontIcon";var u=l;const f=Object(r.a)(g=>({height:`${g}px`,width:`${g}px`})),d=Object(r.a)(g=>({width:`${g}px`}));function O(g){let{image:E=void 0,size:p=20,srcSet:h="",classes:_=void 0,icon:b=void 0,ariaHidden:I=!1,ariaRole:C="img",ariaLabel:y=void 0,widthOnly:P=!1,onLoad:T=c.a,onError:S=c.a,resetIA:A}=g;if(E&&b)throw Error("Cannot pass in both image and icon!");if(!I&&!y)throw Error("If ariaHidden is false, we must have an ariaLabel for a11y!");const R=Object(a.default)("c-base_icon",_,{"c-base_icon--unknown":!E&&!b,"c-base_icon--image":E,"c-base_icon--resetIA":A});if(b)return t.a.createElement(u,{icon:b,classes:R,size:p,ariaHidden:I,ariaRole:C,ariaLabel:y});const x=t.a.createElement("img",{src:E,srcSet:h,className:R,style:P?d(p):f(p),"aria-hidden":I,role:C,"aria-label":y,alt:"",onLoad:T,onError:S});return P?t.a.createElement("span",{className:Object(a.default)("c-base_icon__width_only_container",{"c-base_icon--resetIA":A}),style:f(p)},x):x}v(O,"BaseIcon"),O.displayName="BaseIcon";var m=n.a=O},n9FT:function(K,n,e){"use strict";e.d(n,"a",function(){return i});var s=e("9oTK"),t=e.n(s),a=e("SQ0V"),r=e("O9MH"),c=e("LZPg");const o=Object(a.c)("Maybe show share screen borders",function(){var l=Object(s.coroutine)(function*(u,f){const d=f(),O=Object(c.s)(d),m=O==null?void 0:O.mediaSourceId;m&&Object(r.b)(m,d)});return function(u,f){return l.apply(this,arguments)}}());o.meta={name:"createThunk",key:"createThunkmaybeShowScreenBorders",description:"Maybe show share screen borders"};const i=Object(a.c)("Hide share screen borders",(l,u)=>{Object(r.a)()});i.meta={name:"createThunk",key:"createThunkhideScreenBorders",description:"Hide share screen borders"}},nBRq:function(K,n,e){"use strict";e.d(n,"a",function(){return r});function s(o,i,l,u){let f=arguments.length>4&&arguments[4]!==void 0?arguments[4]:1e-15;const d=[u.x-i.x,u.y-i.y],O=[l.x-i.x,l.y-i.y],m=[o.x-i.x,o.y-i.y],g=d[0]*d[0]+d[1]*d[1],E=d[0]*O[0]+d[1]*O[1],p=d[0]*m[0]+d[1]*m[1],h=O[0]*O[0]+O[1]*O[1],_=O[0]*m[0]+O[1]*m[1],b=1/(g*h-E*E),I=(h*p-E*_)*b,C=(g*_-E*p)*b;return I>=-f&&C>=-f&&I+C<1+f}v(s,"isPointInTriangle");function t(o,i,l){const u=(l.x-i.x)**2+(l.y-i.y)**2,f=((o.x-i.x)*(l.x-i.x)+(o.y-i.y)*(l.y-i.y))/u;return f<0?(o.x-i.x)**2+(o.y-i.y)**2:f<=1?(i.x-o.x)**2+(i.y-o.y)**2-f**2*u:(o.x-l.x)**2+(o.y-l.y)**2}v(t,"distanceSquarePointToSegment");function a(o,i,l,u){let f=arguments.length>4&&arguments[4]!==void 0?arguments[4]:1e-15;const d=Math.min(i.x,Math.min(l.x,u.x))-f,O=Math.max(i.x,Math.max(l.x,u.x))+f,m=Math.min(i.y,Math.min(l.y,u.y))-f,g=Math.max(i.y,Math.max(l.y,u.y))+f;return o.x>d&&o.x<O&&o.y>m&&o.y<g}v(a,"pointInTriangleBoundingBox");function r(o,i,l,u){let f=arguments.length>4&&arguments[4]!==void 0?arguments[4]:1e-15;if(!a(o,i,l,u,f))return!1;const d=f**2;return s(o,i,l,u,0)||t(o,i,l)<=d||t(o,l,u)<=d||t(o,u,i)<=d}v(r,"accurateIsPointInTriangle");var c={accurateIsPointInTriangle:r,isPointInTriangle:s}},nHGf:function(K,n,e){"use strict";e.d(n,"a",function(){return i});var s=e("q1tI"),t=e.n(s),a=e("ifKl"),r=e("LTG1"),c=e("rEBs"),o=e("s0AW");function i(l){let{peerId:u,isMicrophoneEnabled:f,className:d,allowMuteIconAnimation:O=!1}=l;const[m,g]=Object(s.useState)(0);return Object(s.useEffect)(()=>{if(!f)return a.a;const E=v(p=>{const h=Object(c.b)(p);g(h)},"onLevelUpdated");return r.a.subscribe(u,E),()=>{r.a.unsubscribe(u,E)}},[u,f]),t.a.createElement(o.a,{type:f?"unmuted":"muted",volumeLevel:m,className:d||"",allowMuteAnimation:O})}v(i,"HuddleMicVolumeIndicator")},nV9L:function(K,n,e){"use strict";e.d(n,"a",function(){return m});var s=e("ZMRP"),t=e("q1tI"),a=e.n(t),r=e("ifKl"),c=e("oSkh"),o=e("fDBt"),i=e("WSQ4"),l=e("6kzs"),u=e("Nyj0");function f(){return f=Object.assign||function(E){for(var p=1;p<arguments.length;p++){var h=arguments[p];for(var _ in h)Object.prototype.hasOwnProperty.call(h,_)&&(E[_]=h[_])}return E},f.apply(this,arguments)}v(f,"_extends");let d=v(class extends u.a{isScrolling(){return this.props.isScrolling}getContainerHeight(){return this.getContentHeight()}getScrollTop(){return this.props.scrollTop}setScrollTop(p){this.props.scrollElement&&(this.props.scrollElement instanceof HTMLElement?this.props.scrollElement.scrollTop=Math.ceil(p):this.props.scrollElement.scrollTo({top:Math.ceil(p)}))}getClassName(){return this.props.className}onScroll(p){this.relayout(),this.props.onScroll(p,{scrollTop:this.getScrollTop(),scrollHeight:this.getContentHeight(),clientHeight:this.props.height})}render(){const{width:p,height:h}=this.props;if(p===0||h===0)return null;const _=this.getClassName(),b=this.renderContents();return a.a.createElement("div",{className:_,style:{width:p,height:"auto"},onScroll:this.onScroll,role:this.props.role},b)}},"BaseFullLengthList");d.displayName="BaseFullLengthList",d.defaultProps={...u.a.defaultProps,className:"",onScroll:r.a,scrollElement:null,defaultRowHeight:200,topOffset:0,height:0,isScrolling:!1,scrollTop:0};const O=a.a.memo(a.a.forwardRef(v(function(p,h){const{window:_,windowId:b,windowToken:I}=Object(t.useContext)(i.a);return a.a.createElement(d,f({},p,{ref:h,window:_,windowId:b,windowToken:I}))},"FullLengthList")));let m=v(class extends t.PureComponent{getContentHeight(){return this.list.getContentHeight()}getVisibleRange(){return this.list.getVisibleRange()}setListRef(p){this.list=p}invalidateRowHeights(){this.heightCache.invalidate()}scrollToKey(p){let h=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return this.list.scrollToKey(p,h)}render(){const{keys:p,className:h,rowRenderer:_,scrollElement:b,topOffset:I}=this.props,{height:C,isScrolling:y,scrollTop:P}=this.props,T=b||window;return a.a.createElement(c.a,{disableHeight:!0},S=>{let{width:A}=S;return a.a.createElement("div",{className:h},a.a.createElement(O,{width:A,height:C,keys:p,layout:this.layout,rowRenderer:_,isScrolling:y,scrollTop:Math.max(P-I,0),scrollElement:T,ref:this.setListRef,topOffset:I}))})}constructor(p){super(p),this.heightCache=new o.a({DEFAULT_HEIGHT:this.props.defaultRowHeight}),this.layout=new l.a({heightCache:this.heightCache}),this.list=null,this.setListRef=this.setListRef.bind(this)}},"FullPageList");m.displayName="FullPageList";var g=n.b=s.b},nWdO:function(K,n,e){"use strict";e.d(n,"a",function(){return _}),e.d(n,"b",function(){return b}),e.d(n,"d",function(){return S});var s=e("n3tL"),t=e("RQuH"),a=e("m8R6"),r=e("vJtL"),c=e("q1tI"),o=e.n(c),i=e("wSSu"),l=e.n(i),u=e("WIr4"),f=e("QYtq"),d=e("gz6s"),O=e("lYQS"),m=e("1ufr"),g=e("azFB"),E=e("Z29U"),p=e("eLtP");function h(){return h=Object.assign||function(x){for(var M=1;M<arguments.length;M++){var j=arguments[M];for(var W in j)Object.prototype.hasOwnProperty.call(j,W)&&(x[W]=j[W])}return x},h.apply(this,arguments)}v(h,"_extends");const _=300,b=60,I=3,C=3,y={instance:null,track(x,M){this.instance&&(this.instance.hideTip(),M.clearTimeout(this.instance.delayTimer)),this.instance=x},hideActive(x){this.instance&&(x.clearTimeout(this.instance&&this.instance.delayTimer),this.instance.hideTip()),this.reset()},reset(){this.instance=null}},P={children:s.default.element,position:s.default.string,delay:s.default.number,shouldFade:s.default.bool,tip:s.default.oneOfType([s.default.node,s.default.func]),tipClassName:s.default.string,tipArrowOffset:s.default.number,"data-qa":s.default.string,status:s.default.oneOf(["info","success"]),offsetX:s.default.number,offsetY:s.default.number,zIndex:s.default.oneOf(["above_fs","fs","menu","below_menu"]),shouldForceVisible:s.default.bool,onShow:s.default.func,onHide:s.default.func,maxWidth:s.default.oneOf(["small","large"]),hasKeyboardFocus:s.default.bool,hideFromScreenReader:s.default.bool,automaticallyPositionTip:s.default.bool,window:s.default.object},T={position:"top",delay:150,shouldFade:!0,tip:null,tipClassName:null,tipArrowOffset:null,"data-qa":void 0,status:"info",offsetX:0,offsetY:0,children:null,zIndex:"menu",shouldForceVisible:!1,onShow:void 0,onHide:void 0,hasKeyboardFocus:!1,hideFromScreenReader:!1,maxWidth:void 0,automaticallyPositionTip:!0,window:g.a};function S(x){y.hideActive(x)}v(S,"hideVisibleTooltip");class A extends c.Component{UNSAFE_componentWillMount(){const M=o.a.Children.only(this.props.children);if(typeof M.type=="function"&&!(!!M.props.onMouseEnter&&!!M.props.onMouseLeave))throw new Error("Tooltip must contain a React component that can implement event handlers. Try wrapping the inside of your Tooltip with a `button`, `div` or `span`.")}UNSAFE_componentWillReceiveProps(M){let{shouldForceVisible:j,tip:W}=M;if(j&&this.props.shouldForceVisible!==j){var U,B,Y,z,F,V,L,Q,ee,te,le,Oe;const he=this.state.contentsRect,Ee=this.measureContents();if(W===this.props.tip&&(he==null||(U=he.width)===null||U===void 0?void 0:U.toFixed(2))===(Ee==null||(B=Ee.width)===null||B===void 0?void 0:B.toFixed(2))&&(he==null||(Y=he.height)===null||Y===void 0?void 0:Y.toFixed(2))===(Ee==null||(z=Ee.height)===null||z===void 0?void 0:z.toFixed(2))&&(he==null||(F=he.left)===null||F===void 0?void 0:F.toFixed(2))===(Ee==null||(V=Ee.left)===null||V===void 0?void 0:V.toFixed(2))&&(he==null||(L=he.right)===null||L===void 0?void 0:L.toFixed(2))===(Ee==null||(Q=Ee.right)===null||Q===void 0?void 0:Q.toFixed(2))&&(he==null||(ee=he.top)===null||ee===void 0?void 0:ee.toFixed(2))===(Ee==null||(te=Ee.top)===null||te===void 0?void 0:te.toFixed(2))&&(he==null||(le=he.bottom)===null||le===void 0?void 0:le.toFixed(2))===(Ee==null||(Oe=Ee.bottom)===null||Oe===void 0?void 0:Oe.toFixed(2)))return;this.setState(()=>({contentsRect:Ee}))}}componentWillUnmount(){const{window:M}=this.props;M.clearTimeout(this.delayTimer),M.removeEventListener("mousemove",this.onMouseMove),y.reset()}onBlur(M){const{shouldForceVisible:j,children:W,window:U}=this.props;j||this.hideTip();const Y=o.a.Children.only(W).props.onBlur;Y&&(M.persist&&M.persist(),Y(M)),U.clearTimeout(this.delayTimer),y.reset()}onFocus(M){const{children:j,delay:W,hasKeyboardFocus:U,window:B}=this.props,Y=o.a.Children.only(j);U&&(this.delayTimer=B.setTimeout(this.showTip,W),y.track(this,B));const z=Y.props.onFocus;z&&(M.persist&&M.persist(),z(M))}onMouseEnter(M){if(y.instance===this)return;const{window:j,onShow:W}=this.props;M==null||M.persist(),this.delayTimer=j.setTimeout(()=>{this.props.shouldForceVisible||this.showTip(M)},this.props.delay);const U=o.a.Children.only(this.props.children);if(U.props.onMouseEnter&&U.props.onMouseEnter(M),W){const B=M.currentTarget.offsetWidth<M.currentTarget.scrollWidth||M.currentTarget.offsetHeight<M.currentTarget.scrollHeight;W({isTruncated:B})}j.addEventListener("mousemove",this.onMouseMove),y.track(this,j)}onMouseLeave(M){this.props.shouldForceVisible||this.hideTip();const{window:j,onHide:W}=this.props,U=o.a.Children.only(this.props.children);(U.props.onMouseLeave||W)&&M.persist&&M.persist(),U.props.onMouseLeave&&U.props.onMouseLeave(M),W&&W(),j.clearTimeout(this.delayTimer),j.removeEventListener("mousemove",this.onMouseMove),y.reset()}onMouseMove(M){const{contentsRect:j}=this.state;if(!j)return;const{bottom:W,left:U,right:B,top:Y}=j,{pageX:z,pageY:F}=M;(!Object(t.a)(z,U,B)||!Object(t.a)(F,W,Y))&&this.onMouseLeave(M)}hideTip(){this.setState(()=>({isHovering:!1,contentsRect:null}))}measureContents(M){const{window:j}=this.props,W=Object(i.findDOMNode)(this).getClientRects(),U=M&&Array.from(W).find(z=>M.clientY>=z.top&&M.clientY<=z.bottom&&M.clientX>=z.left&&M.clientX<=z.right)||W[0],B=j.scrollX||j.pageXOffset,Y=j.scrollY||j.pageYOffset;return{width:U.width,height:U.height,left:U.left+B,right:U.right+B,top:U.top+Y,bottom:U.bottom+Y}}showTip(M){this.setState(()=>({isHovering:!0,contentsRect:this.measureContents(M)}))}render(){const{children:M,position:j,tip:W,tipClassName:U,tipArrowOffset:B,status:Y,offsetX:z,offsetY:F,zIndex:V,shouldFade:L,"data-qa":Q,shouldForceVisible:ee,hasKeyboardFocus:te,hideFromScreenReader:le,maxWidth:Oe,automaticallyPositionTip:he,onShow:Ee,onHide:ge,...J}=this.props,{isHovering:H,contentsRect:Z}=this.state;let q;B?q=B:Z&&(q=Z.width/2);const k=o.a.Children.only(M),re=k.props["aria-label"]===W||le?{}:{"aria-describedby":this.state.isHovering?this.tooltipId:null},X=o.a.cloneElement(k,{...Object(a.a)(J,["window","windowId","windowToken"]),...k.props,onClick:J.onClick||k.props.onClick,onMouseEnter:this.onMouseEnter,onMouseLeave:this.onMouseLeave,onFocus:this.onFocus,onBlur:this.onBlur,"data-sk":"tooltip_parent",...re}),w={position:j,arrowOffset:q,status:Y,className:U,"data-qa":Q,id:this.tooltipId,maxWidth:Oe},ce=(H||ee)&&!!Z,ie=ce&&o.a.createElement(f.a,{isOpen:ce,position:j,targetBounds:Z,overlayClassName:"c-popover c-popover--no-pointer",offsetX:z,offsetY:F,allowanceX:I,allowanceY:C,key:"tooltip-popover",zIndex:V,shouldFocusAfterRender:!1,shouldFade:L,ariaHideApp:!1,ariaHidden:!0,tryOppositePosition:!0},function(){let{position:oe,left:me,top:ue,targetBounds:_e}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return o.a.createElement(E.b,h({},w,{position:oe,targetBounds:_e,tipBounds:he?{left:me,top:ue}:null}),Object(r.a)(W)?W({hasKeyboardFocus:te}):W)});return o.a.createElement(o.a.Fragment,null,X,ie)}constructor(){super(),Object(u.a)(this,["onMouseMove","hideTip","measureContents","onMouseEnter","onMouseLeave","showTip","onFocus","onBlur"]),this.state={isHovering:!1,contentsRect:null},this.delayTimer=null,this.tooltipId=`sk-tooltip-${Object(O.a)()}`}}v(A,"BaseTooltip"),A.displayName="BaseTooltip",A.propTypes=P,A.defaultProps=T;const R=Object(d.a)(Object(m.a)(A));R.displayName="Tooltip",n.c=R},nYID:function(K,n,e){"use strict";e.d(n,"a",function(){return d});var s=e("9Gfp"),t=e("O86Y"),a=e("6etV"),r=e("+l5E"),c=e("OOts"),o=e("ALys"),i=e("Kpab"),l=e("uVdA"),u=e("uo7Q");function f(O,m){return!O.text||!r.b.test(O.text)&&!r.a.test(O.text)&&!r.c.test(O.text)&&!r.d.test(O.text)&&!(O.blocks&&Object(c.a)(O.blocks,m))}v(f,"checkTextForMention");function d(O){let{state:m,msg:g,channelId:E,userId:p}=O;if(!Object(s.m)(m))return!0;const h=Object(l.a)(m),_={msg:g,memberId:p,teamId:Object(t.g)(m),options:{ignoreUserAndUserGroupMentions:!0,ignoreHighlightWords:!0}},b=Object(o.a)(g,h);if(Object(u.a)(g.blocks)){if(!Object(i.a)(g,_,h))return!0}else if(b){if(!Object(i.a)(g,_,h)&&f(g,_))return!0}else if(f(g,_))return!0;return!Object(a.a)(m,E,p)}v(d,"canMsgMentionChannelIfMention")},nePV:function(K,n,e){"use strict";e.d(n,"a",function(){return g});var s=e("GxtX"),t=e("BeL+"),a=e("0VPD"),r=e("rKeN"),c=e("xwCZ"),o=e("ZOzc"),i=e("2vLX"),l=e("C3vN"),u=e("q0lC"),f=e("VktL"),d=e("zCzZ"),O=e("O86Y");const m=v(p=>{const h=Object(c.d)(p);if(Object(l.ub)(h))return!1;const b=Object(O.d)(p);if(Object(u.d)(p,b)||Object(u.b)(p,b))return!0;const I=Object(O.g)(p),C=Object(s.a)(I,Object(O.f)(p));return Object(t.a)(C).some(P=>!!(Object(u.h)(p,P)||Object(u.f)(p,P)))},"isCurrentUserAnyAdminOrOwner");function g(p){const h=Object(d.i)(p,"who_can_manage_shared_channels");if(!h)return!0;if(!Object(r.a)(p))return!1;const _=Object(c.d)(p);if(Object(l.ub)(_))return!1;const b=Object(o.a)(p,"can_user_manage_shared_channels");if(typeof b=="boolean")return!!b;if(Object(f.a)(h,"user")&&h.user.includes(_.id))return!0;if(Object(f.a)(h,"subteam")){const C=Object(i.a)(p);if(Object(a.a)(h.subteam,C).length>0)return!0}const I=h==null?void 0:h.type;return I!=null&&I.includes("regular")?!0:I!=null&&I.includes("admin")?m(p):I!=null&&I.includes("owner")?Object(u.b)(p):!1}v(g,"canUserManageOrgSharedChannels");const E={isCurrentUserAnyAdminOrOwner:m}},nevH:function(K,n,e){"use strict";e.d(n,"a",function(){return o});var s=e("mx2s"),t=e("SQ0V"),a=e("E4z0"),r=e("lhZz"),c=e("j77i");const o=Object(t.c)("Set the user-specified secondary width and mode",(i,l,u)=>{let{secondaryWidthIntent:f,secondaryWidthMode:d}=u;Object(c.v)(s.a,f),Object(c.v)(s.b,d),i(Object(a.c)({secondaryWidthIntent:f,secondaryWidthMode:d})),Object(r.dispatchForClientStore)(Object(a.c)({secondaryWidthIntent:f,secondaryWidthMode:d}))});o.meta={name:"createThunk",key:"createThunksetSecondaryColumn",description:"Set the user-specified secondary width and mode"}},nfxS:function(K,n,e){"use strict";e.d(n,"b",function(){return o}),e.d(n,"a",function(){return i});var s=e("O86Y"),t=e("PMNn"),a=e("QAer"),r=e("rHDT");const c=v((u,f,d)=>{const O=Object(r.a)(u,f,d);return Object.entries(O).map(m=>{let[g,E]=m;return[g,E?a.a.ADMIN:a.a.RA]}).some(m=>{let[g,E]=m;return Object(a.c)(u,E,g)})},"canUserDoOnlyAdminsStyleTeamPrefForTeamIds"),o=v((u,f)=>Object(a.d)(u,f,c),"getWorkspaceIdsOnWhichUserCanDoOnlyAdminsStyleTeamPref"),i=v((u,f)=>{const d=Object(s.a)(u);return c(u,f,d)},"canUserDoOnlyAdminsStyleTeamPrefInSomeWorkspace"),l=v((u,f,d)=>{if(!d)return!1;const O=Object(t.b)(u,d);return O?c(u,f,O):!1},"canUserDoOnlyAdminsStyleTeamPrefForChannel")},niVp:function(K,n,e){"use strict";var s=e("q1tI"),t=e.n(s),a=e("iuhU"),r=e("3mLu"),c=e("QOYf"),o=e("nNoG"),i=e("nzWX"),l=e("oEDn"),u=e("qDEp"),f=e("QYtq"),d=e("qNPi"),O=e("5MVR"),m=e("qiCS"),g=e("jF6j");function E(){return E=Object.assign||function(b){for(var I=1;I<arguments.length;I++){var C=arguments[I];for(var y in C)Object.prototype.hasOwnProperty.call(C,y)&&(b[y]=C[y])}return b},E.apply(this,arguments)}v(E,"_extends");const p=new o.b("find_team");function h(b,I){if(Object(c.a)())return Object(m.d)(location.href,"locale",I);const C=location.href.replace(`${location.protocol}//${location.hostname}`,"").replace(/^\/intl\/[^/]+\//,"/");return b==="en-us"?C:`/intl/${b}${C}`}v(h,"getUrlForLocale");let _=v(class extends s.Component{render(){const{hideRegionPicker:I,showLogo:C,govSlackTheme:y,joinerRedesignTreatment:P}=this.props,T=Object(a.default)("p-refreshed_page__footer_link p-refreshed_page__footer_link--main",{"p-refreshed_page__footer_link--gov_slack":y}),S=Object(a.default)({"p-refreshed_page__full_width_footer":P}),A=t.a.createElement("footer",{className:"p-refreshed_page__footer"},t.a.createElement(u.e,{href:Object(r.a)("/legal"),className:T,autoClogProps:{elementName:"get_started_footer_link_legal",onClick:{enableClogAction:!0}}},p.rt("Privacy & Terms")),t.a.createElement(u.e,{href:Object(r.a)("/help/contact"),className:T,autoClogProps:{elementName:"get_started_footer_link_contact",onClick:{enableClogAction:!0}}},p.rt("Contact Us")),!I&&t.a.createElement(f.b,{allowanceX:0,overlayClassName:"p-refreshed_page__footer_overlay",position:"top",renderPopover:R=>t.a.createElement(f.a,E({offsetX:-9,offsetY:-5,modalBodyOpenClassName:"p-refreshed_page__footer_modal--open",ariaLabel:p.t("Change region"),ariaRole:"dialog",shouldAnchorAtInitialPosition:!0},R),t.a.createElement("div",{className:"p-refreshed_page__footer_locales"},t.a.createElement("div",{className:"bold margin_bottom_50"},p.rt("Change region")),t.a.createElement("div",{className:"margin_bottom_100"},p.rt("Selecting a different region will change the language and content of Slack.com.")),t.a.createElement("div",{className:"display_flex"},[{title:p.t("Americas"),locales:[{locale:"es-LA",geocode:"es-la",name:"Latinoam\xE9rica (Espa\xF1ol)"},{locale:"pt-BR",geocode:"pt-br",name:"Brasil (Portugu\xEAs)"},{locale:"en-US",geocode:"en-us",name:"United States (English)"}]},{title:p.t("Europe"),locales:[{locale:"de-DE",geocode:"de-de",name:"Deutschland (Deutsch)"},{locale:"es-ES",geocode:"es-es",name:"Espa\xF1a (Espa\xF1ol)"},{locale:"fr-FR",geocode:"fr-fr",name:"France (Fran\xE7ais)"},{locale:"it-IT",geocode:"it-it",name:"Italia (italiano)"},{locale:"en-GB",geocode:"en-gb",name:"United Kingdom (English)"}]},{title:p.t("Asia Pacific"),locales:[{locale:"zh-CN",geocode:"zh-cn",name:"\u7B80\u4F53\u4E2D\u6587"},{locale:"zh-TW",geocode:"zh-tw",name:"\u7E41\u9AD4\u4E2D\u6587"},{locale:"en-IN",geocode:"en-in",name:"India (English)"},{locale:"ja-JP",geocode:"ja-jp",name:"\u65E5\u672C (\u65E5\u672C\u8A9E)"},{locale:"ko-KR",geocode:"ko-kr",name:"\uD55C\uAD6D\uC5B4"}]}].map(x=>{let{title:M,locales:j}=x;return t.a.createElement("div",{className:"margin_right_50 display_flex flex_direction_column",key:M},t.a.createElement("div",{className:"bold margin_bottom_50"},M),j.map(W=>{let{locale:U,geocode:B,name:Y}=W;return t.a.createElement(u.e,{key:U,href:h(B,U),target:"_self",className:"p-refreshed_page__footer_link margin_bottom_50",autoClogProps:{elementName:"get_started_footer_link_change_region_locale",elementValue:U,onClick:{enableClogAction:!0}},onClick:this.onClickLocale({locale:U,geocode:B})},Y)}))}))))},t.a.createElement("div",null,t.a.createElement(u.e,{onClick:this.onClickChangeRegion,href:"#",className:T,autoClogProps:{elementName:"get_started_footer_link_change_region",onClick:{enableClogAction:!0}}},t.a.createElement(l.a,{type:"globe",size:"inherit",className:"margin_right_25"}),p.rt("Change region"),t.a.createElement(l.a,{type:"chevron-medium-down",size:"inherit"})))));return t.a.createElement("div",{className:S},t.a.createElement("div",{className:Object(a.default)("p-refreshed_page__footer_container",{"p-refreshed_page__footer_container--gov_slack":y})},t.a.createElement(t.a.Fragment,null,C&&t.a.createElement(d.a,{width:80,height:20,className:"p-app_slack_logo"}),A)))}constructor(I){super(I),this.onClickChangeRegion=C=>{C.preventDefault()},this.onClickLocale=C=>{let{locale:y,geocode:P}=C;return()=>{const T=Object(O.b)(Object(i.h)("c")||"")||{};T.geocode=P;const S=Object(O.c)(T,{space:""});Object(i.d)("i18n_locale",y,365*10,"slack.com"),S&&Object(i.d)("c",S,365*10,"slack.com")}},this.popoverTriggerRef=t.a.createRef(),this.state={}}},"RefreshedFooter");_.displayName="RefreshedFooter",n.a=_},nnVK:function(K,n,e){"use strict";e.d(n,"a",function(){return a});var s=e("UIhb"),t=e("+l5E");function a(r,c){let{threadTs:o,channelId:i}=c;if(!o||!i)return!1;const l=Object(s.b)(r,i,o,!1);return l?Object(t.ob)(l):!1}v(a,"isThreadLocked")},np25:function(K,n,e){"use strict";e.d(n,"a",function(){return o});var s=e("mx2s"),t=e("SQ0V"),a=e("E4z0"),r=e("lhZz"),c=e("j77i");const o=Object(t.c)("Set the user-specified extra wide sidebar width and mode",(i,l,u)=>{let{sidebarExtraWideWidthIntent:f,sidebarExtraWideWidthMode:d}=u;Object(c.v)(s.c,f),Object(c.v)(s.d,d),i(Object(a.e)({sidebarExtraWideWidthIntent:f,sidebarExtraWideWidthMode:d})),Object(r.dispatchForClientStore)(Object(a.e)({sidebarExtraWideWidthIntent:f,sidebarExtraWideWidthMode:d}))});o.meta={name:"createThunk",key:"createThunksetSidebarExtraWideColumn",description:"Set the user-specified extra wide sidebar width and mode"}},npde:function(K,n,e){"use strict";e.d(n,"a",function(){return c});var s=e("q1tI"),t=e.n(s),a=e("SQ0V"),r=e("3l96");const c=v(function(o){let{preDispatchHook:i}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return Object(a.c)(`Open ${o.displayName} modal`,(l,u,f)=>{const{openModalProps:d,...O}=f||{};if(i){const g=i(l,u,f);if(g!==!0)return g}const m=l(Object(r.a)({element:t.a.createElement(o,{...O,closeModal:()=>m.close()}),...d}));return m})},"createModalThunk")},nuzi:function(K,n,e){"use strict";e.d(n,"d",function(){return o}),e.d(n,"f",function(){return i}),e.d(n,"a",function(){return l}),e.d(n,"c",function(){return u}),e.d(n,"b",function(){return f}),e.d(n,"e",function(){return d});var s=e("/92K"),t=e("C3vN"),a=e("DQNL"),r=e("eUIW"),c=e("bjy1");const o=v(O=>{var m;return"entity"in O&&(Object(r.a)((m=O.entity)===null||m===void 0?void 0:m.id)||Object(t.nb)(O.entity))||Object(r.a)(O==null?void 0:O.value)},"isMemberInviteeOption"),i=v(O=>{var m;return"entity"in O&&(Object(c.a)((m=O.entity)===null||m===void 0?void 0:m.id)||Object(a.x)(O.entity))||Object(c.a)(O==null?void 0:O.value)},"isUserGroupInviteeOption"),l=v(O=>{var m;return"entity"in O&&!!(!((m=O.entity)===null||m===void 0)&&m.isEmail)},"isEmailInviteeOption"),u=v((O,m)=>{var g;return l(O)?m&&(O==null||(g=O.emailTeam)===null||g===void 0?void 0:g.id)===m?!0:(O==null?void 0:O.classification)===s.a.Internal:!1},"isInternalEmailInviteeOption"),f=v((O,m)=>{var g;return!l(O)||m&&(O==null||(g=O.emailTeam)===null||g===void 0?void 0:g.id)===m?!1:(O==null?void 0:O.classification)===s.a.External},"isExternalEmailInviteeOption"),d=v(O=>l(O)?"emailTeam"in O:!1,"isPrimaryScEmailInviteeOption")},nvPh:function(K,n,e){"use strict";var s=e("q1tI"),t=e.n(s),a=e("x91h"),r=e("DQKV");const c=/\ue000([^\ue001]*)\ue001/g;function o(i){let{text:l="",inputIsEscaped:u=!1,showTooltips:f=!0}=i;const d=[];let O=0;const m=u?Object(a.a)(l):l;if(m.replace(c,(g,E,p)=>{if(p>O){const h=m.slice(O,p);d.push(t.a.createElement(r.a,{key:`${p}-${h}`,text:h,showTooltips:f,inputIsEscaped:u}))}d.push(t.a.createElement("span",{className:"c-mrkdwn__highlight",key:`${p}-${E}`},t.a.createElement(r.a,{text:E,showTooltips:f,inputIsEscaped:u}))),O=p+g.length}),!d.length)return t.a.createElement(t.a.Fragment,null,t.a.createElement(r.a,{text:l,showTooltips:f,inputIsEscaped:u}));if(O<l.length){const g=m.substr(O);d.push(t.a.createElement(r.a,{key:`last-${g}`,text:g,showTooltips:f,inputIsEscaped:u}))}return t.a.createElement(t.a.Fragment,null,d)}v(o,"FormatTextWithHighlightMarkers"),o.displayName="FormatTextWithHighlightMarkers",n.a=t.a.memo(o)},nvtG:function(K,n,e){K.exports=e.p+"they_left_call_v2-45185be.mp3"},nxhD:function(K,n,e){"use strict";e.d(n,"b",function(){return t}),e.d(n,"a",function(){return a});var s=e("DwFS");const t=Object(s.a)("Increase count of open popovers for a team, optionally in a given window");t.meta={name:"createAction",key:"createActionincrementOpenPopoverCount",description:"Increase count of open popovers for a team, optionally in a given window"};const a=Object(s.a)("Descrease count of open popovers for a team, optionally in a given window");a.meta={name:"createAction",key:"createActiondecrementOpenPopoverCount",description:"Descrease count of open popovers for a team, optionally in a given window"}},ny0b:function(K,n,e){"use strict";e.d(n,"a",function(){return Fe});var s=e("a1Y7"),t=e.n(s),a=e("qBBt"),r=e.n(a),c=e("PN0B"),o=e.n(c),i=e("3cIe"),l=e.n(i),u=e("TpDV"),f=e.n(u),d=e("qCl6"),O=e.n(d),m=e("PWgi"),g=e.n(m),E=e("SS7u"),p=e.n(E),h=e("bdv9"),_=e.n(h),b=e("NYuI"),I=e.n(b),C=e("mnG8"),y=e.n(C),P=e("eh0M"),T=e.n(P),S=e("Rt42"),A=e.n(S),R=e("ctdj"),x=e.n(R),M=e("LAqm"),j=e.n(M),W=e("59s5"),U=e.n(W),B=e("jgRE"),Y=e.n(B),z=e("HEqF"),F=e.n(z),V=e("YWu2"),L=e.n(V),Q=e("YQ8e"),ee=e.n(Q),te=e("RBep"),le=e.n(te),Oe=e("mHzN"),he=e.n(Oe),Ee=e("Tv5Z"),ge=e.n(Ee),J=e("G/rR"),H=e.n(J),Z=e("eb8l"),q=e.n(Z),k=e("RXuJ"),se=e.n(k),re=e("pVEH"),X=e.n(re),w=e("3i7m"),ce=e.n(w),ie=e("4Fy9"),oe=e.n(ie),me=e("i6es"),ue=e.n(me),_e=e("K5Ez"),be=e.n(_e),Ae=e("KKcr"),Ce=e.n(Ae),De=e("G0Vk"),Pe=e.n(De),Ue=e("tM7h"),ae=e.n(Ue),ne=e("Vw6i"),Ie=e.n(ne),Te=e("iLLt"),Me=e.n(Te),Ne=e("O5Ce"),He=e.n(Ne),Et=e("GCXW"),Je=e.n(Et),qe=e("zKNY"),ke=e.n(qe),rt=e("dbKp"),pe=e.n(rt),je=e("Uy34"),xe=e.n(je),ze=e("Se5r"),st=e.n(ze),ct=e("mmwi"),dt=e.n(ct),bt=e("4ZsU"),Ft=e.n(bt),Bt=e("Bi0V"),at=e.n(Bt),Ht=e("6XI5"),Wt=e.n(Ht),yt=e("vlVB"),Xt=e.n(yt),cn=e("qrpL"),mn=e.n(cn),In=e("QufA"),pt=e.n(In),Tt=e("TsI9"),Lt=e.n(Tt),gt=e("1Lli"),it=e("zmn3"),ft=e("mkut"),Ke=e("TSHB"),Ve=e("OZf9"),Be=e("pu3F"),Ye=e("ql+L"),we=e("DR7d");function mt(tt){return Object(gt.a)(Object(it.a)(Object(ft.a)(tt),ut=>parseInt(ut,10)),null,"desc")}v(mt,"makeOrderedIconSizes");function Pt(tt){return Object(Ke.a)(tt,ut=>mt(ut))}v(Pt,"makeOrderedNamedIconSizes");const Nt={24:Lt.a,32:mn.a,36:Wt.a,72:Ft.a,192:st.a},Ze={24:pt.a,32:Xt.a,36:at.a,72:dt.a,192:xe.a},Xe={fancy:{20:pe.a,24:ke.a,32:Je.a,36:He.a,48:Me.a,72:Ie.a,192:ae.a,360:Pe.a,512:Ce.a,1024:be.a},frowny:{20:ue.a,24:oe.a,32:ce.a,36:X.a,48:se.a,72:q.a,192:H.a,360:ge.a,512:he.a,1024:le.a},neutral:{20:ee.a,24:L.a,32:F.a,36:Y.a,48:U.a,72:j.a,192:x.a,360:A.a,512:T.a,1024:y.a},sad_surprise:{20:I.a,24:_.a,32:p.a,36:g.a,48:O.a,72:f.a,192:l.a,360:o.a,512:r.a,1024:t.a}},Ct=24,G=mt(Ze),de=Pt(Xe),Le="image_";function Re(tt){const ut=[];return Object(Ve.a)(tt,(St,tn)=>{if(tn.indexOf(Le)!==0)return;const Yt=tn.slice(Le.length);ut.unshift(parseInt(Yt,10))}),ut}v(Re,"getSizeOptionsFromProfile");function Fe(tt){let{size:ut,teamOrEnterpriseId:St,memberId:tn,avatarHash:Yt,emoji:un,isBot:$t=!1,botImages:gn=!1,slackbotFeels:et=null,isUserHidden:An=!1}=tt,pn,Pn,Rn=!1;if(!ut||!$t&&!An&&(!St||!tn||!Yt)&&!un)return{};if(un)return{emoji:un,isDefault:!1};if(An){const an=Object(we.a)(ut,G),Gt=Object(we.a)(ut*2,G);pn=Nt[an||Ct],Pn=Nt[Gt||Ct],Rn=!0}else if(tn===Be.W&&et&&Xe[et]){const an=Object(we.a)(ut,de[et]),Gt=Object(we.a)(ut*2,de[et]);pn=Xe[et][an||Ct],Pn=Xe[et][Gt||Ct]}else if(!$t||St&&tn&&Yt){const an=Object(we.a)(ut),Gt=Object(we.a)(ut*2),kn=Object(Ye.a)(St);pn=`${kn}${St}-${tn}-${Yt}-${an}`,Pn=`${kn}${St}-${tn}-${Yt}-${Gt}`}else if(gn){const an=Re(gn),Gt=Object(we.a)(ut,an),kn=Object(we.a)(ut*2,an);pn=gn[Le+Gt],Pn=gn[Le+kn]}if($t&&!pn&&!Pn&&!un){const an=Object(we.a)(ut,G),Gt=Object(we.a)(ut*2,G);pn=Ze[an||Ct],Pn=Ze[Gt||Ct],Rn=!0}return{imageUrl:pn,imageUrl2x:Pn,emoji:un,isDefault:Rn}}v(Fe,"getMemberProfileImage")},o7tI:function(K,n,e){K.exports=e.p+"here_you_go_lighter-73d86db.mp3"},oBB2:function(K,n,e){"use strict";var s=e("SQ0V"),t=e("6rGi"),a=e("lhZz"),r=e("oCIk"),c=e("X1Aw"),o=e("sgFo"),i=e("dKQz"),l=e("Cudo");const u=Object(s.c)("Stop the active huddle",(f,d)=>{const O=d(),m=Object(o.y)(O);return Object(a.dispatchForClientStore)(Object(i.R)({})),f(Object(c.a)()),f(Object(r.a)({clearOnEndedCallback:!0,logContext:"stop-huddle-thunk"})),m&&Object(a.dispatchForClientStore)(Object(i.P)()),f(Object(l.i)(l.a.HiddenUserJoinedHuddle)),Object(t.a)().stop()});u.meta={name:"createThunk",key:"createThunkstopHuddle",description:"Stop the active huddle"},n.a=u},oCIk:function(K,n,e){"use strict";e.d(n,"a",function(){return u});var s=e("SQ0V"),t=e("s4P+"),a=e("Vnbe"),r=e("dKQz"),c=e("lhZz"),o=e("sgFo"),i=e("+CZ0"),l=e("HoeF");const u=Object(s.c)("Stops huddle lounge music from playing",(f,d,O)=>{let{clearOnEndedCallback:m,logContext:g,isStoppedByUser:E}=O;const p=d(),h=Object(t.a)({state:p}),_=Object(o.p)(p),b=Object(c.getStateForClientStore)(),I=Object(i.a)(b);a.a.getInstance({experimentHuddlesLoungeMusicPlayerGroupOn:_}).stopMusic({clearOnEndedCallback:m,logger:h,logContext:g}),Object(c.dispatchForClientStore)(Object(r.C)(!1)),E&&I&&f(Object(l.i)({huddleId:I,hasUserStoppedLoungeMusic:E}))});u.meta={name:"createThunk",key:"createThunkstopHuddleLoungeMusic",description:"Stops huddle lounge music from playing"}},oF0q:function(K,n,e){"use strict";e.d(n,"a",function(){return r}),e.d(n,"c",function(){return c});var s=e("ivW5");const t={storeKey:"botsMetadata",persistenceEnabled:!0},{reducer:a,actions:r,selectors:c}=Object(s.a)(t,{transform:o=>{const{id:i,...l}=o;return{id:o.id,object:l}}});n.b=a},"oMW/":function(K,n,e){"use strict";e.d(n,"a",function(){return f});var s=e("SQ0V"),t=e("Q+NC"),a=e("PiXb"),r=e("3mmX"),c=e("qMw6"),o=e("xcHN"),i=e("2VFn"),l=e("PIf0"),u=e("HPAj");const f=Object(s.c)("Jump to the currently edited message",(d,O,m,g)=>{let{channelId:E,threadTs:p,ts:h,viewContext:_}=m;if(!h)return;const b=O(),I=Object(u.a)(b);if(_===c.a.THREAD)if(I){const{windowId:C=i.c}=g(l.a),y=Object(o.c)(E,p);d(Object(a.g)({windowId:C,threadKey:y,ts:h}))}else d(Object(t.d)(h));else d(Object(r.a)({ts:h,highlightLazy:!0}))});f.meta={name:"createThunk",key:"createThunkjumpToEdit",description:"Jump to the currently edited message"}},oNuo:function(K,n,e){"use strict";e.d(n,"a",function(){return o});var s=e("pu3F"),t=e("6kKm"),a=e("nNoG");const r=new a.b("broadcast_keywords");function c(i){switch(i&&i.ms_name){case"channel":case"group":return r.t("Notify everyone in this channel.");case"everyone":return r.t("Notify everyone in your workspace.");case"here":return r.t("Notify every online member in this channel.",{fallbackHash:"1588b5d37a69c79ca40cb3117d6ddfaafac40bea"});default:return""}}v(c,"getBroadcastKeywordDescription");function o(i){let l;return i==="BKhere"?l=s.g.BKhere:i==="BKchannel"||i==="BKgroup"?l=s.g.BKchannel:i==="BKeveryone"&&(l=s.g.BKeveryone),l?{id:i,name:Object(t.a)(l),description:c(l),...l}:null}v(o,"getBroadcastKeywordById")},oSkh:function(K,n,e){"use strict";var s=e("c7k8");n.a=s.b},oU7v:function(K,n,e){"use strict";e.d(n,"a",function(){return r});var s=e("E97Y"),t=e("ISSR"),a=e("miM7");const r=v((c,o)=>!Object(s.h)(o)&&!Object(t.a)(o)&&!Object(a.a)(o),"canBeExternallyShared")},oWe6:function(K,n,e){"use strict";var s=e("q1tI"),t=e.n(s),a=e("JBL2"),r=e("NZ+B");function c(){return c=Object.assign||function(l){for(var u=1;u<arguments.length;u++){var f=arguments[u];for(var d in f)Object.prototype.hasOwnProperty.call(f,d)&&(l[d]=f[d])}return l},c.apply(this,arguments)}v(c,"_extends");const o=v(l=>{let{shouldReturnFocusAfterClose:u,children:f}=l;return Object(a.a)({shouldRestoreFocus:()=>Object(r.a)(u)?u:!0}),t.a.createElement(t.a.Fragment,null,f)},"RestoreFocusWrapper"),i=v(l=>{const u=l,f=t.a.forwardRef((d,O)=>t.a.createElement(o,{shouldReturnFocusAfterClose:d.shouldReturnFocusAfterClose},t.a.createElement(u,c({ref:O},d))));return f.displayName=`withRestoreFocus(${u.displayName})`,f},"withRestoreFocus");i.displayName="withRestoreFocus",n.a=i},oWj6:function(K,n,e){"use strict";e.d(n,"a",function(){return t});var s=e("6kzs");let t=v(class extends s.a{getOffsetForKey(r){if(!r)return this.totalHeight;const c=this.getTop(r);return c===void 0?0:c-this.anchorOffset}setHeight(r,c,o){if(this.anchor!==!1)return super.setHeight(r,c),this.bracketScrollTop(this.getOffsetForKey(this.anchor));if(this.shouldStickToBottom(o,this.STICKY_EPSILON_SETHEIGHT))return super.setHeight(r,c),this.bracketScrollTop(1/0);let i=o;if(this.getBottom(r)<=o+this.anchorOffset){const u=c-this.getHeight(r);i+=u}return super.setHeight(r,c),this.bracketScrollTop(i)}setKeys(r,c){if(this.anchor!==!1)return super.setKeys(r),this.bracketScrollTop(this.getOffsetForKey(this.anchor));if(this.shouldStickToBottom(c))return super.setKeys(r),this.bracketScrollTop(1/0);const o=c+this.anchorOffset,i=this.findAnchor(this.keys,r,o);if(!i)return super.setKeys(r),this.bracketScrollTop(c);const l=this.getTop(i)-o;super.setKeys(r);const u=this.getTop(i)-o,f=l-u;return this.bracketScrollTop(c-f)}setContainerHeight(r,c){return this.anchor!==!1?(this.containerHeight=r,this.layout(),this.bracketScrollTop(this.getOffsetForKey(this.anchor))):this.shouldStickToBottom(c)?(this.containerHeight=r,this.layout(),this.bracketScrollTop(1/0)):(this.containerHeight=r,this.layout(),c)}setBottomMargin(r){this.bottomMargin=r}setStickToBottom(r){this.stickToBottom=r}setAnchor(r,c){this.anchor=r,typeof c!="number"?this.anchorOffset=this.ANCHOR_OFFSET:this.anchorOffset=c}findAnchor(r,c,o){for(let i=0;i<r.length;i++){const l=r[i];if(this.getBottom(l)>o){for(let u=0;u<c.length;u++)if(c[u]===l)return l}}return null}bracketScrollTop(r){return Math.max(0,Math.min(this.totalHeight-this.containerHeight+this.bottomMargin,r))}shouldStickToBottom(r){let c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.STICKY_EPSILON;return this.stickToBottom?r>=this.totalHeight-this.containerHeight-c+this.bottomMargin:!1}constructor({keys:r,heightCache:c,gutter:o,containerHeight:i=0,stickToBottom:l=!1,bottomMargin:u=0,ANCHOR_OFFSET:f=0,STICKY_EPSILON:d=2,STICKY_EPSILON_SETHEIGHT:O=2}={}){super({keys:r,heightCache:c,gutter:o}),this.containerHeight=i,this.stickToBottom=l,this.bottomMargin=u,this.STICKY_EPSILON=d,this.STICKY_EPSILON_SETHEIGHT=O,this.ANCHOR_OFFSET=f,this.anchorOffset=f,this.anchor=!1}},"AnchorLayout")},oYx9:function(K,n,e){"use strict";e.d(n,"b",function(){return t}),e.d(n,"a",function(){return a}),e.d(n,"c",function(){return r});var s=e("DwFS");const t=Object(s.a)("Remove the specified ViewSet key from the store");t.meta={name:"createAction",key:"createActionremoveViewSetMetadata",description:"Remove the specified ViewSet key from the store"};const a=Object(s.a)("Add a ViewSet key to the store with initial state");a.meta={name:"createAction",key:"createActionaddViewSetMetadata",description:"Add a ViewSet key to the store with initial state"};const r=Object(s.a)("Update metadata for a ViewSet in the store");r.meta={name:"createAction",key:"createActionupdateViewSetMetadata",description:"Update metadata for a ViewSet in the store"}},oZth:function(K,n,e){"use strict";e.d(n,"a",function(){return Ct});var s=e("lCmp"),t=e("c8Bs"),a=e("DKof"),r=e("3Hq1"),c=e("X6iR"),o=e("hoZp"),i=e("BlE4"),l=e("wQ1d"),u=e("ISSR"),f=e("vfvl"),d=e("Yauy"),O=e("E97Y"),m=e("C3vN"),g=e("K7jq"),E=e("Fn/R"),p=e("OL4R"),h=e("mgFs");const _=Object(p.a)(h.b);function b(G){return _[G]}v(b,"getFeatureNameFromId");function I(G){return h.b[G]}v(I,"getFeatureIdFromName");var C=e("s4P+"),y=e("XhtD"),P=e("ifKl");class T{writeNumericalFeature(de,Le){!de||!isFinite(de)||(this.writeIdAndType(Le,h.a.NUMERICAL),this.ensureCapacity(4),this.view.setFloat32(this.offset,de),this.offset+=4)}writeBinaryFeature(de,Le){de&&this.writeIdAndType(Le,h.a.BINARY)}writeTextFeature(de,Le){if(!de)return;this.writeIdAndType(Le,h.a.TEXT);const Re=unescape(encodeURIComponent(de));this.ensureCapacity(2+Re.length),this.view.setUint16(this.offset,Re.length),this.offset+=2,Object(y.a)(Re.length).forEach(Fe=>{this.view.setUint8(this.offset,Re.charCodeAt(Fe)),this.offset+=1})}writeNullFeature(){Object(P.a)()}writeIdAndType(de,Le){this.ensureCapacity(2),this.view.setUint16(this.offset,de<<3|Le),this.offset+=2}ensureCapacity(de){this.offset+de>this.buffer.byteLength&&this.resize(this.offset+de)}resize(de){if(this.buffer.byteLength>=de)return;const Le=new ArrayBuffer(2*this.buffer.byteLength);new Uint8Array(Le).set(new Uint8Array(this.buffer)),this.buffer=Le,this.view=new DataView(this.buffer)}serialize(){return btoa(String.fromCharCode(...new Uint8Array(this.buffer.slice(0,this.offset))))}constructor(){this.buffer=new ArrayBuffer(256),this.view=new DataView(this.buffer),this.offset=0}}v(T,"feature_vector_serializer_BinaryFeatureVectorSerializer");var S=e("Fuyg");const A={globalFeatures:["ID","FRECENCY","RAW_FRECENCY","FRECENCY_BONUS","FRECENCY_LOG_HIT_COUNT","FRECENCY_LOG_HIT_COUNT_SCALED","FRECENCY_HIT_COUNT","FRECENCY_WEIGHT_HIT_VISITS","FRECENCY_WEIGHT_ITEM_VISITS","FRECENCY_ITEM_COUNT","FRECENCY_LOG_ITEM_COUNT","FRECENCY_LOG_ITEM_COUNT_SCALED","FRECENCY_HIT_VISITS_4H","FRECENCY_HIT_VISITS_1D","FRECENCY_HIT_VISITS_3D","FRECENCY_HIT_VISITS_1W","FRECENCY_HIT_VISITS_1M","FRECENCY_HIT_VISITS_90D","FRECENCY_ITEM_VISITS_4H","FRECENCY_ITEM_VISITS_1D","FRECENCY_ITEM_VISITS_3D","FRECENCY_ITEM_VISITS_1W","FRECENCY_ITEM_VISITS_1M","FRECENCY_ITEM_VISITS_90D","FUZZY_SCORE","FUZZY_SCORE_50","FUZZY_SCORE_25","FUZZY_SCORE_ALL","FUZZY_SCORE_SCALED_EXP","FUZZY_SCORE_SCALED_FLIPPED","FUZZY_SCORE_SCALED_SUBTRACT","NAV_EXACT_MATCH","NAV_EXACT_PREFIX_MATCH","NAV_NORMAL_MATCH","NAV_NORMAL_PREFIX_MATCH","NAV_NORMAL_MATCH_NO_USER","NAV_NORMAL_PREFIX_MATCH_NO_USER","NAV_QUERY_LENGTH","NAV_TEXT_LENGTH","NAV_QUERY_RATIO_LENGTH_STRING","EXACT_MATCH_LOG_RESULTS","USER_ENTITY_TYPE_CTR_30DD","NUM_RESULTS"],userFeatures:["TYPE_NAVIGATION_USER","USER_PRIORITY","USER_IS_ACTIVE","USER_IS_EXTERNAL","USER_IS_CURRENT_USER","MEMBER_OF_CURRENT_CHANNEL","CURRENT_USER_TEXTY","USER_SAME_TEAM","USER_IS_BOT","USER_DM_IS_UNREAD","USER_DM_IS_STARRED","USER_DM_READ_AGE_DECAY_7D","USER_DM_READ_AGE_DECAY_2H","USER_DM_READ_AGE_DECAY_7D_V2","USER_DM_READ_AGE_DECAY_2H_V2","USER_DM_LATEST_MSG_AGE_DECAY_7D","USER_DM_LATEST_MSG_AGE_DECAY_2H","USER_DM_LATEST_MSG_AGE_DECAY_7D_V2","USER_DM_LATEST_MSG_AGE_DECAY_2H_V2","USER_DM_IS_FROZEN","USER_DM_HAS_DRAFT","USER_DM_NULL","USER_DM_EMPTY","USER_DM_NOT_OPEN","USER_DM_OPEN","USER_DM_LATEST_OLDER_30D","USER_DM_LATEST_OLDER_90D","USER_DM_EMPTY_V2","USER_DM_LATEST_OLDER_30D_V2","USER_DM_LATEST_OLDER_90D_V2","USER_HAS_DMED","USER_DM_READ_AGE_DECAY_2H_V3","USER_DM_READ_AGE_DECAY_7D_V3","USER_DM_READ_OLDER_7D","USER_DM_READ_OLDER_30D","USER_DM_READ_OLDER_90D","USER_QUERY_RATIO_LENGTH_STRING","NAV_NORMAL_PREFIX_MATCH_USER","NAV_NORMAL_MATCH_USER","USER_FIRST_NAME_NORMAL_MATCH","USER_FIRST_NAME_NORMAL_PREFIX_MATCH","USER_FIRST_NAME_EXACT_MATCH","USER_FIRST_NAME_EXACT_PREFIX_MATCH","USER_LAST_NAME_NORMAL_MATCH","USER_LAST_NAME_NORMAL_PREFIX_MATCH","USER_LAST_NAME_EXACT_MATCH","USER_LAST_NAME_EXACT_PREFIX_MATCH","USER_EMAIL_MATCH","USER_EMAIL_ONLY_MATCH","QUERY_IS_SELF","HISTORY_AGE_DECAY_2H","HISTORY_AGE_DECAY_7D","HISTORY_POSITION","USER_MPIM_READ_AGE_DECAY_7D","USER_MPIM_READ_AGE_DECAY_2H","USER_MPIM_LATEST_MSG_AGE_DECAY_7D","USER_MPIM_LATEST_MSG_AGE_DECAY_2H","USER_MPIM_FRECENCY_LOG_ITEM_COUNT","USER_MPIM_FRECENCY_LOG_HIT_COUNT"],channelFeatures:["TYPE_NAVIGATION_CHANNEL","CHANNEL_IS_MEMBER","CHANNEL_PRIORITY","CHANNEL_IS_STARRED","CHANNEL_IS_ARCHIVED","CHANNEL_IS_OTHER_TEAM","CHANNEL_IS_FROZEN","CHANNEL_HAS_DRAFT","CHANNEL_QUERY_RATIO_LENGTH_STRING","QUERY_LENGTH_DECAY_NORMAL_MATCH_CHANNEL","NAV_NORMAL_MATCH_CHANNEL_LOG_RESULTS","CHANNEL_IS_UNREAD","CHANNEL_READ_AGE_DECAY_2H","CHANNEL_READ_AGE_DECAY_7D","CHANNEL_LATEST_MSG_AGE_DECAY_7D","CHANNEL_LATEST_MSG_AGE_DECAY_2H","CHANNEL_IS_PREVIOUS_NAME_EXACT_MATCH","CHANNEL_IS_PREVIOUS_NAME_PREFIX_MATCH","ONLY_MATCHES_PREVIOUS_NAME","CHANNEL_TEAM_CTR_90DD","CHANNEL_USER_CTR_30DD","HISTORY_AGE_DECAY_2H","HISTORY_AGE_DECAY_7D","HISTORY_POSITION"],mpimFeatures:["TYPE_NAVIGATION_MPIM","MPIM_IS_STARRED","MPIM_READ_AGE_DECAY_2H","MPIM_READ_AGE_DECAY_7D","MPIM_LATEST_MSG_AGE_DECAY_2H","MPIM_LATEST_MSG_AGE_DECAY_7D","MPIM_IS_UNREAD","MPIM_WITH_DEACTIVATED_USER","MPIM_PRIORITY","MPIM_QUERY_RATIO_LENGTH_STRING","MPIM_MEMBERS","MPIM_MEMBER_NAME_MATCHES","MPIM_MEMBER_ALL_MATCHES","MPIM_MATCHER_SCORE","MPIM_MATCHER_SCORE_0","MPIM_MATCHER_SCORE_1","MPIM_MATCHER_SCORE_2","MPIM_MATCHER_SCORE_3","MPIM_TEAM_CTR_90DD","MPIM_USER_CTR_30DD","HISTORY_AGE_DECAY_2H","HISTORY_AGE_DECAY_7D","HISTORY_POSITION","MPIM_USERS_MAX_LATEST_MSG_AGE_DECAY_2H","MPIM_USERS_MAX_LATEST_MSG_AGE_DECAY_7D","MPIM_USERS_AVG_LATEST_MSG_AGE_DECAY_2H","MPIM_USERS_AVG_LATEST_MSG_AGE_DECAY_7D","MPIM_USERS_MAX_MSG_READ_AGE_DECAY_2H","MPIM_USERS_MAX_MSG_READ_AGE_DECAY_7D","MPIM_USERS_AVG_MSG_READ_AGE_DECAY_2H","MPIM_USERS_AVG_MSG_READ_AGE_DECAY_7D","MPIM_USERS_PCT_NON_EMPTY_DMS","MPIM_USERS_PCT_NON_NULL_DMS","MPIM_USERS_ALL_INTERNAL"],viewFeatures:["TYPE_NAVIGATION_VIEW"],fileFeatures:["TYPE_NAVIGATION_FILE","FILE_SUGGESTION_SCORE","FILE_AGE_DECAY_7D","FILE_AGE_DECAY_28D","FILE_AGE_DECAY_90D","FILE_FROM_CURRENT_USER","FILE_LOG_PUBLIC_SHARES","FILE_LOG_PRIVATE_SHARES","FILE_LOG_ACTIONS","FILE_LATEST_ACTION_AGE_DECAY_2H","FILE_LATEST_ACTION_AGE_DECAY_7D","FILE_LATEST_ACTION_AGE_DECAY_90D","FILE_LATEST_SHARE_AGE_DECAY_2H","FILE_LATEST_SHARE_AGE_DECAY_7D","FILE_LATEST_SHARE_AGE_DECAY_90D","FILE_CHANNEL_CTR","FILE_SUGGESTIONS_SEARCHER","FILE_USER_CTR","FILE_NAME_CONTAINS_QUERY_NORMALIZED","FILE_IS_CANVAS","FILE_HAS_DMS_WITH_CREATOR","FILE_HAS_DMS_WITH_CREATOR_V2","FILE_LATEST_VIEW_BY_USER_OLDER_90D"],linkFeatures:["TYPE_NAVIGATION_LINK"],modalFeatures:["TYPE_NAVIGATION_MODAL"],teamFeatures:["TYPE_NAVIGATION_TEAM"],emojiFeatures:["EMOJI_EXACT_MATCH","EMOJI_QUERY_LENGTH_RATIO","EMOJI_TOTAL_COMBO_BREAKS","EMOJI_COMBO_BREAK_0","EMOJI_COMBO_BREAK_1","EMOJI_COMBO_BREAK_2","EMOJI_COMBO_BREAK_3","TYPE_EMOJI","FRECENCY_HIT_VISIT_DECAY_2H","FRECENCY_HIT_VISIT_DECAY_7D","FRECENCY_ITEM_VISIT_DECAY_2H","FRECENCY_ITEM_VISIT_DECAY_7D","EMOJI_TEAM_CTR_90DD","EMOJI_USER_CTR_30DD"],broadcastKeywordFeatures:["IS_BROADCAST_KEYWORD","HERE_KEYWORD","HERE_KEYWORD_EXACT_MATCH","BROADCAST_KEYWORD_NORMAL_MATCH"],queryFeatures:["TYPE_QUERY","TYPE_USER_QUERY","TYPE_QUERY_HISTORY","ACTIVE_TOKEN_STRING","ACTIVE_TOKEN_MEMBER","ACTIVE_TOKEN_PHRASE","ACTIVE_TOKEN_QUERY_SUGGESTION","ACTIVE_TOKEN_FILTER_DURING","ACTIVE_TOKEN_FILTER_FROM","ACTIVE_TOKEN_FILTER_IN","ACTIVE_TOKEN_FILTER_TO","ACTIVE_TOKEN_FILTER_BEFORE","ACTIVE_TOKEN_FILTER_HAS","ACTIVE_TOKEN_FILTER_IS","ACTIVE_TOKEN_FILTER_ON","ACTIVE_TOKEN_FILTER_AFTER","ACTIVE_TOKEN_FILTER_WITH","QUERY_SUGGESTION_SCORE_V2","QUERY_FRECENCY_RAW","QUERY_FRECENCY_WEIGHT_HIT_VISITS","QUERY_FRECENCY_HIT_COUNT","QUERY_FRECENCY_WEIGHT_ITEM_VISITS","QUERY_FRECENCY_ITEM_COUNT","QUERY_FUZZY_SCORE","QUERY_FRECENCY_BONUS","QUERY_HISTORY_AGE_DECAY_30D","QUERY_HISTORY_LOG_INDEX","FILTER_USER_IS_ACTIVE","FILTER_USER_IS_CURRENT_USER","FILTER_USER_DM_IS_STARRED","FILTER_USER_DM_IS_UNREAD","FILTER_USER_DM_READ_AGE_DECAY_7D","FILTER_USER_DM_READ_AGE_DECAY_2H","FILTER_USER_DM_LATEST_MSG_AGE_DECAY_7D","FILTER_USER_DM_LATEST_MSG_AGE_DECAY_2H","FILTER_USER_FIRST_NAME_NORMAL_MATCH","FILTER_USER_FIRST_NAME_NORMAL_PREFIX_MATCH","FILTER_USER_LAST_NAME_NORMAL_MATCH","FILTER_USER_LAST_NAME_NORMAL_PREFIX_MATCH","FILTER_USER_PRIORITY","FILTER_CHANNEL_IS_ARCHIVED","FILTER_CHANNEL_IS_MEMBER","FILTER_CHANNEL_IS_STARRED","FILTER_CHANNEL_IS_UNREAD","FILTER_CHANNEL_READ_AGE_DECAY_7D","FILTER_CHANNEL_READ_AGE_DECAY_2H","FILTER_CHANNEL_PRIORITY","STRING_EXACT_MATCH","STRING_EXACT_PREFIX_MATCH","STRING_NORMAL_MATCH","STRING_NORMAL_PREFIX_MATCH","STRING_SAME_NUMBER_WORDS","EXCESS_STRING_LENGTH","SUGGESTION_TEXT_LENGTH","QUERY_LENGTH","QUERY_RATIO_LENGTH_STRING","QUERY_TOKEN_NORMAL_MATCH","QUERY_TOKEN_NORMAL_PREFIX_MATCH","QUERY_LOG_HIT_COUNT"],appActionFeatures:["TYPE_APP_ACTION","APP_ACTION_TEAM_CTR","APP_ACTION_USER_CTR","OS_APP_ACTION"],shortcutFeatures:["APP_NAME_PREFIX_MATCH","SHORTCUT_ENTITY_TYPE_CTR","BEST_NAME_MATCH_LOG_RESULTS"],slashCommandFeatures:["TYPE_SLASH_COMMAND","SLASH_COMMAND_TEAM_CTR","SLASH_COMMAND_USER_CTR"],globalActionFeatures:["TYPE_GLOBAL_ACTION","IS_INVITE_WORKSPACE","GLOBAL_ACTION_TEAM_CTR","GLOBAL_ACTION_USER_CTR"],channelActionFeatures:["TYPE_CHANNEL_ACTION","CHANNEL_ACTION_TEAM_CTR","CHANNEL_ACTION_USER_CTR"],appFeatures:["TYPE_APP"],messageFeatures:["TYPE_NAVIGATION_MESSAGE"],workflowTriggerFeatures:["TYPE_WORKFLOW_TRIGGER","WORKFLOW_TRIGGER_TEAM_CTR","WORKFLOW_TRIGGER_USER_CTR"],channelAssociatedWorkflowFeatures:["HAS_CHANNEL_ASSOCIATION"]};function R(G,de){return U.fromSuggestion(G,de)}v(R,"featureVectorForSuggestion");function x(){return Object(C.b)({label:"SORTER-RANKING"})}v(x,"getLogger");const M=60*60,j=24*M,W={FRECENCY:G=>L({id:h.b.FRECENCY,value:ee(G)}),TYPE_NAVIGATION_CHANNEL:(G,de)=>{let{itemIsChannel:Le}=de;return L({id:h.b.TYPE_NAVIGATION_CHANNEL,value:Le})},TYPE_NAVIGATION_FILE:G=>L({id:h.b.TYPE_NAVIGATION_FILE,value:G.suggestionType===l.b.FILE_NAVIGATION}),TYPE_NAVIGATION_LINK:G=>L({id:h.b.TYPE_NAVIGATION_LINK,value:G.suggestionType===l.b.LINK_NAVIGATION}),TYPE_NAVIGATION_MODAL:G=>L({id:h.b.TYPE_NAVIGATION_MODAL,value:G.suggestionType===l.b.MODAL_NAVIGATION}),TYPE_NAVIGATION_MPIM:G=>L({id:h.b.TYPE_NAVIGATION_MPIM,value:!!Object(O.i)(G.item)}),TYPE_NAVIGATION_USER:(G,de)=>{let{itemIsMember:Le}=de;return L({id:h.b.TYPE_NAVIGATION_USER,value:Le})},TYPE_QUERY:G=>L({id:h.b.TYPE_QUERY,value:G.suggestionType===l.b.QUERY}),TYPE_QUERY_HISTORY:G=>L({id:h.b.TYPE_QUERY_HISTORY,value:G.suggestionType===l.b.QUERY_HISTORY}),ACTIVE_TOKEN_FILTER_IN:G=>L({id:h.b.ACTIVE_TOKEN_FILTER_IN,value:G.lastSuggestionToken&&G.lastSuggestionToken.type===l.a.FILTER_IN}),ACTIVE_TOKEN_FILTER_FROM:G=>L({id:h.b.ACTIVE_TOKEN_FILTER_FROM,value:G.lastSuggestionToken&&G.lastSuggestionToken.type===l.a.FILTER_FROM}),ACTIVE_TOKEN_FILTER_TO:G=>L({id:h.b.ACTIVE_TOKEN_FILTER_TO,value:G.lastSuggestionToken&&G.lastSuggestionToken.type===l.a.FILTER_TO}),ACTIVE_TOKEN_FILTER_BEFORE:G=>L({id:h.b.ACTIVE_TOKEN_FILTER_BEFORE,value:G.lastSuggestionToken&&G.lastSuggestionToken.type===l.a.FILTER_BEFORE}),ACTIVE_TOKEN_FILTER_DURING:G=>L({id:h.b.ACTIVE_TOKEN_FILTER_DURING,value:G.lastSuggestionToken&&G.lastSuggestionToken.type===l.a.FILTER_DURING}),ACTIVE_TOKEN_FILTER_ON:G=>L({id:h.b.ACTIVE_TOKEN_FILTER_ON,value:G.lastSuggestionToken&&G.lastSuggestionToken.type===l.a.FILTER_ON}),ACTIVE_TOKEN_FILTER_AFTER:G=>L({id:h.b.ACTIVE_TOKEN_FILTER_AFTER,value:G.lastSuggestionToken&&G.lastSuggestionToken.type===l.a.FILTER_AFTER}),ACTIVE_TOKEN_FILTER_HAS:G=>L({id:h.b.ACTIVE_TOKEN_FILTER_HAS,value:G.lastSuggestionToken&&G.lastSuggestionToken.type===l.a.FILTER_HAS}),ACTIVE_TOKEN_FILTER_IS:G=>L({id:h.b.ACTIVE_TOKEN_FILTER_IS,value:G.lastSuggestionToken&&G.lastSuggestionToken.type===l.a.FILTER_IS}),ACTIVE_TOKEN_FILTER_WITH:G=>L({id:h.b.ACTIVE_TOKEN_FILTER_WITH,value:G.lastSuggestionToken&&G.lastSuggestionToken.type===l.a.FILTER_WITH}),ACTIVE_TOKEN_MEMBER:G=>L({id:h.b.ACTIVE_TOKEN_MEMBER,value:G.lastSuggestionToken&&G.lastSuggestionToken.type===l.a.MEMBER}),ACTIVE_TOKEN_STRING:G=>L({id:h.b.ACTIVE_TOKEN_STRING,value:G.lastSuggestionToken&&G.lastSuggestionToken.type===l.a.STRING}),ACTIVE_TOKEN_PHRASE:G=>L({id:h.b.ACTIVE_TOKEN_PHRASE,value:G.lastSuggestionToken&&G.lastSuggestionToken.type===l.a.PHRASE}),STRING_EXACT_MATCH:G=>Q({id:h.b.STRING_EXACT_MATCH,suggestion:G,extractionFunction:X}),STRING_EXACT_PREFIX_MATCH:G=>Q({id:h.b.STRING_EXACT_PREFIX_MATCH,suggestion:G,extractionFunction:w}),STRING_NORMAL_MATCH:G=>Q({id:h.b.STRING_NORMAL_MATCH,suggestion:G,extractionFunction:ce}),STRING_NORMAL_PREFIX_MATCH:G=>Q({id:h.b.STRING_NORMAL_PREFIX_MATCH,suggestion:G,extractionFunction:ie}),STRING_SAME_NUMBER_WORDS:G=>Q({id:h.b.STRING_SAME_NUMBER_WORDS,suggestion:G,extractionFunction:oe}),EXCESS_STRING_LENGTH:G=>Q({id:h.b.EXCESS_STRING_LENGTH,suggestion:G,extractionFunction:me}),ID:G=>L({id:h.b.ID,value:G.logId||G.id}),FILE_SUGGESTION_SCORE:G=>L({id:h.b.FILE_SUGGESTION_SCORE,value:le(G)}),ACTIVE_TOKEN_QUERY_SUGGESTION:G=>L({id:h.b.ACTIVE_TOKEN_QUERY_SUGGESTION,value:G.lastSuggestionToken&&G.lastSuggestionToken.type===l.a.API}),QUERY_SUGGESTION_SCORE_V2:G=>L({id:h.b.QUERY_SUGGESTION_SCORE_V2,value:te(G)}),TYPE_NAVIGATION_TEAM:G=>L({id:h.b.TYPE_NAVIGATION_TEAM,value:G&&G.suggestionType===l.b.TEAM_NAVIGATION}),TYPE_NAVIGATION_VIEW:G=>L({id:h.b.TYPE_NAVIGATION_VIEW,value:G&&G.suggestionType===l.b.VIEW_NAVIGATION}),TYPE_USER_QUERY:G=>L({id:h.b.TYPE_USER_QUERY,value:G&&G.suggestionType===l.b.QUERY_USER}),NAV_EXACT_MATCH:G=>Q({id:h.b.NAV_EXACT_MATCH,suggestion:G,extractionFunction:X,text:Ee(G)}),NAV_EXACT_PREFIX_MATCH:G=>Q({id:h.b.NAV_EXACT_PREFIX_MATCH,suggestion:G,extractionFunction:w,text:Ee(G)}),NAV_NORMAL_MATCH:G=>Q({id:h.b.NAV_NORMAL_MATCH,suggestion:G,extractionFunction:ce,text:Ee(G)}),CHANNEL_IS_PREVIOUS_NAME_EXACT_MATCH:(G,de)=>{let{itemIsChannel:Le}=de;return Q({id:h.b.CHANNEL_IS_PREVIOUS_NAME_EXACT_MATCH,suggestion:G,extractionFunction:Re=>{let{text:Fe,query:tt}=Re;return Object(s.a)(Fe.map(ut=>X({text:ut,query:tt})))},text:Le?G.item.previous_names:null})},CHANNEL_IS_PREVIOUS_NAME_PREFIX_MATCH:(G,de)=>{let{itemIsChannel:Le}=de;return Q({id:h.b.CHANNEL_IS_PREVIOUS_NAME_PREFIX_MATCH,suggestion:G,extractionFunction:Re=>{let{text:Fe,query:tt}=Re;return Object(s.a)(Fe.map(ut=>w({text:ut,query:tt})))},text:Le?G.item.previous_names:null})},CHANNEL_IS_ARCHIVED:(G,de)=>{let{itemIsChannel:Le}=de;return L({id:h.b.CHANNEL_IS_ARCHIVED,value:Le&&Object(u.a)(G.item)})},CHANNEL_IS_MEMBER:(G,de)=>{let{itemIsChannel:Le}=de;return L({id:h.b.CHANNEL_IS_MEMBER,value:Le&&Object(d.db)(G.item)})},CHANNEL_IS_STARRED:(G,de)=>{let{itemIsChannel:Le}=de;return L({id:h.b.CHANNEL_IS_STARRED,value:Le&&G.isStarred})},MPIM_IS_STARRED:G=>L({id:h.b.MPIM_IS_STARRED,value:Object(O.i)(G.item)&&G.isStarred}),CHANNEL_IS_UNREAD:(G,de)=>{let{itemIsChannel:Le}=de;return L({id:h.b.CHANNEL_IS_UNREAD,value:Le&&Object(d.ub)(G.item)})},MPIM_IS_UNREAD:G=>L({id:h.b.MPIM_IS_UNREAD,value:Object(O.i)(G.item)&&Object(d.ub)(G.item)}),CHANNEL_IS_OTHER_TEAM:(G,de)=>{let{itemIsChannel:Le}=de;return L({id:h.b.CHANNEL_IS_OTHER_TEAM,value:Le&&Object(d.Y)(G.item)})},USER_IS_ACTIVE:(G,de)=>{let{itemIsMember:Le}=de;return L({id:h.b.USER_IS_ACTIVE,value:Le&&Object(m.W)(G.item)})},USER_IS_EXTERNAL:(G,de)=>{let{itemIsMember:Le}=de;return L({id:h.b.USER_IS_EXTERNAL,value:Le&&Object(g.a)(G.item)})},USER_IS_BOT:(G,de)=>{let{itemIsMember:Le}=de;return L({id:h.b.USER_IS_BOT,value:Le&&Object(E.a)(G.item)})},USER_SAME_TEAM:(G,de)=>{let{itemIsMember:Le}=de;return L({id:h.b.USER_SAME_TEAM,value:Le&&!!G.sameTeam})},USER_IS_CURRENT_USER:(G,de)=>{let{isCurrentUser:Le}=de;return L({id:h.b.USER_IS_CURRENT_USER,value:Le})},USER_DM_IS_STARRED:(G,de)=>{let{itemIsMember:Le}=de;return L({id:h.b.USER_DM_IS_STARRED,value:Le&&G.im&&G.imIsStarred})},USER_DM_IS_UNREAD:(G,de)=>{let{itemIsMember:Le}=de;return L({id:h.b.USER_DM_IS_UNREAD,value:Le&&G.im&&Object(d.ub)(G.im)})},CHANNEL_PRIORITY:(G,de)=>{let{itemIsChannel:Le}=de;return L({id:h.b.CHANNEL_PRIORITY,value:Le&&(G==null?void 0:G.priority)})},CHANNEL_READ_AGE_DECAY_7D:(G,de)=>{let{itemIsChannel:Le,now:Re}=de;return L({id:h.b.CHANNEL_READ_AGE_DECAY_7D,value:Le&&Ce(Re,G.lastReadTs,7*j)||0})},CHANNEL_READ_AGE_DECAY_2H:(G,de)=>{let{itemIsChannel:Le,now:Re}=de;return L({id:h.b.CHANNEL_READ_AGE_DECAY_2H,value:Le&&Ce(Re,G.lastReadTs,2*M)||0})},MPIM_READ_AGE_DECAY_2H:(G,de)=>{let{now:Le}=de;return L({id:h.b.MPIM_READ_AGE_DECAY_2H,value:Object(O.i)(G.item)&&Ce(Le,G.lastReadTs,2*M)||0})},MPIM_READ_AGE_DECAY_7D:(G,de)=>{let{now:Le}=de;return L({id:h.b.MPIM_READ_AGE_DECAY_7D,value:Object(O.i)(G.item)&&Ce(Le,G.lastReadTs,7*j)||0})},USER_DM_READ_AGE_DECAY_7D:(G,de)=>{let{itemIsMember:Le,now:Re}=de;return L({id:h.b.USER_DM_READ_AGE_DECAY_7D,value:Le&&G.im&&Ce(Re,G.lastReadTs,7*j)||0})},USER_DM_READ_AGE_DECAY_7D_V2:(G,de)=>{let{itemIsMember:Le,now:Re}=de;return L({id:h.b.USER_DM_READ_AGE_DECAY_7D_V2,value:Le&&G.im&&Ce(Re,G.lastReadImTs,7*j)||0})},USER_DM_READ_AGE_DECAY_7D_V3:(G,de)=>{let{itemIsMember:Le,now:Re}=de;return L({id:h.b.USER_DM_READ_AGE_DECAY_7D_V3,value:Le&&Ce(Re,parseFloat(re(G)),7*j)||0})},USER_DM_READ_AGE_DECAY_2H:(G,de)=>{let{itemIsMember:Le,now:Re}=de;return L({id:h.b.USER_DM_READ_AGE_DECAY_2H,value:Le&&G.im&&Ce(Re,G.lastReadTs,2*M)||0})},USER_DM_READ_AGE_DECAY_2H_V2:(G,de)=>{let{itemIsMember:Le,now:Re}=de;return L({id:h.b.USER_DM_READ_AGE_DECAY_2H_V2,value:Le&&G.im&&Ce(Re,G.lastReadImTs,2*M)||0})},USER_DM_READ_AGE_DECAY_2H_V3:(G,de)=>{let{itemIsMember:Le,now:Re}=de;return L({id:h.b.USER_DM_READ_AGE_DECAY_2H_V3,value:Le&&Ce(Re,parseFloat(re(G)),2*M)||0})},USER_DM_NULL:(G,de)=>{let{itemIsMember:Le}=de;return L({id:h.b.USER_DM_NULL,value:Le&&!G.im})},USER_DM_EMPTY:(G,de)=>{let{itemIsMember:Le}=de;return L({id:h.b.USER_DM_EMPTY,value:Le&&G.im&&!parseFloat(G.latestTs)})},USER_DM_EMPTY_V2:(G,de)=>{let{itemIsMember:Le}=de;return L({id:h.b.USER_DM_EMPTY_V2,value:Le&&G.im&&!parseFloat(G.latestImTs)})},USER_HAS_DMED:(G,de)=>{let{itemIsMember:Le}=de;return L({id:h.b.USER_HAS_DMED,value:Le&&!!parseFloat(re(G))})},USER_DM_NOT_OPEN:(G,de)=>{let{itemIsMember:Le}=de;return L({id:h.b.USER_DM_NOT_OPEN,value:Le&&G.im&&!Object(d.jb)(G.im)})},USER_DM_OPEN:(G,de)=>{let{itemIsMember:Le}=de;return L({id:h.b.USER_DM_OPEN,value:Le&&G.im&&Object(d.jb)(G.im)})},USER_DM_LATEST_OLDER_30D:(G,de)=>{let{itemIsMember:Le,now:Re}=de;return L({id:h.b.USER_DM_LATEST_OLDER_30D,value:Le&&Pe(Re,G.latestTs,30*j)})},USER_DM_LATEST_OLDER_30D_V2:(G,de)=>{let{itemIsMember:Le,now:Re}=de;return L({id:h.b.USER_DM_LATEST_OLDER_30D_V2,value:Le&&Pe(Re,G.latestImTs,30*j)})},USER_DM_LATEST_OLDER_90D:(G,de)=>{let{itemIsMember:Le,now:Re}=de;return L({id:h.b.USER_DM_LATEST_OLDER_90D,value:Le&&Pe(Re,G.latestTs,90*j)})},USER_DM_LATEST_OLDER_90D_V2:(G,de)=>{let{itemIsMember:Le,now:Re}=de;return L({id:h.b.USER_DM_LATEST_OLDER_90D_V2,value:Le&&Pe(Re,G.latestImTs,90*j)})},USER_DM_READ_OLDER_7D:(G,de)=>{let{itemIsMember:Le,now:Re}=de;return L({id:h.b.USER_DM_READ_OLDER_7D,value:Le&&Pe(Re,re(G),7*j)})},USER_DM_READ_OLDER_30D:(G,de)=>{let{itemIsMember:Le,now:Re}=de;return L({id:h.b.USER_DM_READ_OLDER_30D,value:Le&&Pe(Re,re(G),30*j)})},USER_DM_READ_OLDER_90D:(G,de)=>{let{itemIsMember:Le,now:Re}=de;return L({id:h.b.USER_DM_READ_OLDER_90D,value:Le&&Pe(Re,re(G),90*j)})},USER_MPIM_READ_AGE_DECAY_7D:(G,de)=>{let{itemIsMember:Le,now:Re}=de;return L({id:h.b.USER_MPIM_READ_AGE_DECAY_7D,value:Le&&G.mpimFeatures&&Ce(Re,G.mpimFeatures.lastReadTs,7*j)||0})},USER_MPIM_READ_AGE_DECAY_2H:(G,de)=>{let{itemIsMember:Le,now:Re}=de;return L({id:h.b.USER_MPIM_READ_AGE_DECAY_2H,value:Le&&G.mpimFeatures&&Ce(Re,G.mpimFeatures.lastReadTs,2*M)||0})},USER_MPIM_LATEST_MSG_AGE_DECAY_7D:(G,de)=>{let{itemIsMember:Le,now:Re}=de;return L({id:h.b.USER_MPIM_LATEST_MSG_AGE_DECAY_7D,value:Le&&G.mpimFeatures&&Ce(Re,G.mpimFeatures.latestMsgTs,7*j)||0})},USER_MPIM_LATEST_MSG_AGE_DECAY_2H:(G,de)=>{let{itemIsMember:Le,now:Re}=de;return L({id:h.b.USER_MPIM_LATEST_MSG_AGE_DECAY_2H,value:Le&&G.mpimFeatures&&Ce(Re,G.mpimFeatures.latestMsgTs,2*M)||0})},USER_MPIM_FRECENCY_LOG_ITEM_COUNT:(G,de)=>{let{itemIsMember:Le}=de;var Re;return L({id:h.b.USER_MPIM_FRECENCY_LOG_ITEM_COUNT,value:Le&&((Re=G.mpimFeatures)===null||Re===void 0?void 0:Re.itemCount)&&Math.log1p(G.mpimFeatures.itemCount)||0})},USER_MPIM_FRECENCY_LOG_HIT_COUNT:(G,de)=>{let{itemIsMember:Le}=de;var Re;return L({id:h.b.USER_MPIM_FRECENCY_LOG_HIT_COUNT,value:Le&&((Re=G.mpimFeatures)===null||Re===void 0?void 0:Re.hitCount)&&Math.log1p(G.mpimFeatures.hitCount)||0})},QUERY_LENGTH:G=>Q({id:h.b.QUERY_LENGTH,suggestion:G,extractionFunction:be}),NAV_QUERY_LENGTH:G=>Q({id:h.b.NAV_QUERY_LENGTH,suggestion:G,extractionFunction:be,text:Ee(G)}),SUGGESTION_TEXT_LENGTH:G=>Q({id:h.b.SUGGESTION_TEXT_LENGTH,suggestion:G,extractionFunction:Ae}),NAV_TEXT_LENGTH:G=>Q({id:h.b.NAV_TEXT_LENGTH,suggestion:G,extractionFunction:Ae,text:Ee(G)}),RAW_FRECENCY:G=>L({id:h.b.RAW_FRECENCY,value:G.rawFrecencyScore}),MPIM_PRIORITY:G=>L({id:h.b.MPIM_PRIORITY,value:Object(O.i)(G.item)&&(G==null?void 0:G.priority)}),QUERY_RATIO_LENGTH_STRING:G=>Q({id:h.b.QUERY_RATIO_LENGTH_STRING,suggestion:G,extractionFunction:ue}),NAV_QUERY_RATIO_LENGTH_STRING:G=>Q({id:h.b.NAV_QUERY_RATIO_LENGTH_STRING,suggestion:G,extractionFunction:ue,text:Ee(G)}),USER_QUERY_RATIO_LENGTH_STRING:G=>Q({id:h.b.USER_QUERY_RATIO_LENGTH_STRING,suggestion:G,extractionFunction:ue,text:ge(G,l.b.USER_NAVIGATION)}),CHANNEL_QUERY_RATIO_LENGTH_STRING:G=>Q({id:h.b.CHANNEL_QUERY_RATIO_LENGTH_STRING,suggestion:G,extractionFunction:ue,text:ge(G,l.b.CHANNEL_NAVIGATION)}),MPIM_QUERY_RATIO_LENGTH_STRING:G=>Q({id:h.b.MPIM_QUERY_RATIO_LENGTH_STRING,suggestion:G,extractionFunction:ue,text:ge(G,l.b.MPIM_NAVIGATION)}),MPIM_WITH_DEACTIVATED_USER:G=>L({id:h.b.MPIM_WITH_DEACTIVATED_USER,value:Object(O.i)(G.item)&&G.isMpimWithDeactivatedMember}),NAV_NORMAL_PREFIX_MATCH:G=>Q({id:h.b.NAV_NORMAL_PREFIX_MATCH,suggestion:G,extractionFunction:ie,text:Ee(G)}),FRECENCY_BONUS:G=>L({id:h.b.FRECENCY_BONUS,value:Object(a.a)(Object.values(G.bonusPointMap||{}))||0}),USER_FIRST_NAME_EXACT_MATCH:(G,de)=>{let{itemIsMember:Le}=de;return Q({id:h.b.USER_FIRST_NAME_EXACT_MATCH,suggestion:G,extractionFunction:X,text:Le&&Object(m.x)(G.item)})},USER_FIRST_NAME_EXACT_PREFIX_MATCH:(G,de)=>{let{itemIsMember:Le}=de;return Q({id:h.b.USER_FIRST_NAME_EXACT_PREFIX_MATCH,suggestion:G,extractionFunction:w,text:Le&&Object(m.x)(G.item)})},USER_FIRST_NAME_NORMAL_MATCH:(G,de)=>{let{itemIsMember:Le}=de;return Q({id:h.b.USER_FIRST_NAME_NORMAL_MATCH,suggestion:G,extractionFunction:ce,text:Le&&Object(m.x)(G.item)})},USER_FIRST_NAME_NORMAL_PREFIX_MATCH:(G,de)=>{let{itemIsMember:Le}=de;return Q({id:h.b.USER_FIRST_NAME_NORMAL_PREFIX_MATCH,suggestion:G,extractionFunction:ie,text:Le&&Object(m.x)(G.item)})},USER_LAST_NAME_EXACT_MATCH:(G,de)=>{let{itemIsMember:Le}=de;return Q({id:h.b.USER_LAST_NAME_EXACT_MATCH,suggestion:G,extractionFunction:X,text:Le&&Object(m.y)(G.item)})},USER_LAST_NAME_EXACT_PREFIX_MATCH:(G,de)=>{let{itemIsMember:Le}=de;return Q({id:h.b.USER_LAST_NAME_EXACT_PREFIX_MATCH,suggestion:G,extractionFunction:w,text:Le&&Object(m.y)(G.item)})},USER_LAST_NAME_NORMAL_MATCH:(G,de)=>{let{itemIsMember:Le}=de;return Q({id:h.b.USER_LAST_NAME_NORMAL_MATCH,suggestion:G,extractionFunction:ce,text:Le&&Object(m.y)(G.item)})},USER_LAST_NAME_NORMAL_PREFIX_MATCH:(G,de)=>{let{itemIsMember:Le}=de;return Q({id:h.b.USER_LAST_NAME_NORMAL_PREFIX_MATCH,suggestion:G,extractionFunction:ie,text:Le&&Object(m.y)(G.item)})},USER_EMAIL_MATCH:G=>{var de;return L({id:h.b.USER_EMAIL_MATCH,value:((de=G.scoreDetails)===null||de===void 0?void 0:de.email)>=0})},USER_EMAIL_ONLY_MATCH:G=>{var de;return L({id:h.b.USER_EMAIL_ONLY_MATCH,value:((de=G.scoreDetails)===null||de===void 0?void 0:de.email)>=0&&Object.keys(G.scoreDetails).length===1})},USER_PRIORITY:(G,de)=>{let{itemIsMember:Le}=de;return L({id:h.b.USER_PRIORITY,value:Le&&G.im&&(G==null?void 0:G.priority)||0})},ONLY_MATCHES_PREVIOUS_NAME:G=>L({id:h.b.ONLY_MATCHES_PREVIOUS_NAME,value:G.bestPreviousNameMatch?1:null}),FRECENCY_WEIGHT_HIT_VISITS:G=>L({id:h.b.FRECENCY_WEIGHT_HIT_VISITS,value:G.weightHitVisits}),FRECENCY_HIT_VISITS_4H:G=>L({id:h.b.FRECENCY_HIT_VISITS_4H,value:G.hitVisits4h}),FRECENCY_HIT_VISITS_1D:G=>L({id:h.b.FRECENCY_HIT_VISITS_1D,value:G.hitVisits1d}),FRECENCY_HIT_VISITS_3D:G=>L({id:h.b.FRECENCY_HIT_VISITS_3D,value:G.hitVisits3d}),FRECENCY_HIT_VISITS_1W:G=>L({id:h.b.FRECENCY_HIT_VISITS_1W,value:G.hitVisits1w}),FRECENCY_HIT_VISITS_1M:G=>L({id:h.b.FRECENCY_HIT_VISITS_1M,value:G.hitVisits1m}),FRECENCY_HIT_VISITS_90D:G=>L({id:h.b.FRECENCY_HIT_VISITS_90D,value:G.hitVisits90d}),FRECENCY_ITEM_VISITS_4H:G=>L({id:h.b.FRECENCY_ITEM_VISITS_4H,value:G.itemVisits4h}),FRECENCY_ITEM_VISITS_1D:G=>L({id:h.b.FRECENCY_ITEM_VISITS_1D,value:G.itemVisits1d}),FRECENCY_ITEM_VISITS_3D:G=>L({id:h.b.FRECENCY_ITEM_VISITS_3D,value:G.itemVisits3d}),FRECENCY_ITEM_VISITS_1W:G=>L({id:h.b.FRECENCY_ITEM_VISITS_1W,value:G.itemVisits1w}),FRECENCY_ITEM_VISITS_1M:G=>L({id:h.b.FRECENCY_ITEM_VISITS_1M,value:G.itemVisits1m}),FRECENCY_ITEM_VISITS_90D:G=>L({id:h.b.FRECENCY_ITEM_VISITS_90D,value:G.itemVisits90d}),FRECENCY_HIT_COUNT:G=>L({id:h.b.FRECENCY_HIT_COUNT,value:G.hitCount}),FRECENCY_WEIGHT_ITEM_VISITS:G=>L({id:h.b.FRECENCY_WEIGHT_ITEM_VISITS,value:G.weightItemVisits}),FRECENCY_ITEM_COUNT:G=>L({id:h.b.FRECENCY_ITEM_COUNT,value:G.itemCount}),NAV_NORMAL_MATCH_USER:G=>Q({id:h.b.NAV_NORMAL_MATCH_USER,suggestion:G,extractionFunction:de=>{let{text:Le,normalizedQuery:Re}=de;return ce({text:Le,normalizedQuery:Re})&&!ie({text:Object(m.x)(G.item),normalizedQuery:Re})},text:ge(G,l.b.USER_NAVIGATION)}),NAV_NORMAL_PREFIX_MATCH_USER:G=>Q({id:h.b.NAV_NORMAL_PREFIX_MATCH_USER,suggestion:G,extractionFunction:de=>{let{text:Le,normalizedQuery:Re}=de;return ie({text:Le,normalizedQuery:Re})&&!ie({text:Object(m.x)(G.item),normalizedQuery:Re})},text:ge(G,l.b.USER_NAVIGATION)}),NAV_NORMAL_MATCH_NO_USER:G=>Q({id:h.b.NAV_NORMAL_MATCH_NO_USER,suggestion:G,extractionFunction:ce,text:J(G)}),NAV_NORMAL_PREFIX_MATCH_NO_USER:G=>Q({id:h.b.NAV_NORMAL_PREFIX_MATCH_NO_USER,suggestion:G,extractionFunction:ie,text:J(G)}),CHANNEL_LATEST_MSG_AGE_DECAY_7D:(G,de)=>{let{itemIsChannel:Le,now:Re}=de;return L({id:h.b.CHANNEL_LATEST_MSG_AGE_DECAY_7D,value:Le&&Ce(Re,G.latestTs,7*j)||0})},CHANNEL_LATEST_MSG_AGE_DECAY_2H:(G,de)=>{let{itemIsChannel:Le,now:Re}=de;return L({id:h.b.CHANNEL_LATEST_MSG_AGE_DECAY_2H,value:Le&&Ce(Re,G.latestTs,2*M)||0})},MPIM_LATEST_MSG_AGE_DECAY_2H:(G,de)=>{let{now:Le}=de;return L({id:h.b.MPIM_LATEST_MSG_AGE_DECAY_2H,value:Object(O.i)(G.item)&&Ce(Le,G.latestTs,2*M)||0})},MPIM_USERS_MAX_LATEST_MSG_AGE_DECAY_2H:(G,de)=>{let{now:Le}=de;return L({id:h.b.MPIM_USERS_MAX_LATEST_MSG_AGE_DECAY_2H,value:Object(O.i)(G.item)&&Ce(Le,G.maxLatestMsgTsOfAllMembers,2*M)||0})},MPIM_USERS_MAX_LATEST_MSG_AGE_DECAY_7D:(G,de)=>{let{now:Le}=de;return L({id:h.b.MPIM_USERS_MAX_LATEST_MSG_AGE_DECAY_7D,value:Object(O.i)(G.item)&&Ce(Le,G.maxLatestMsgTsOfAllMembers,7*j)||0})},MPIM_USERS_AVG_LATEST_MSG_AGE_DECAY_2H:(G,de)=>{let{now:Le}=de;return L({id:h.b.MPIM_USERS_AVG_LATEST_MSG_AGE_DECAY_2H,value:Object(O.i)(G.item)&&Ce(Le,G.avgLatestMsgTsOfAllMembers,2*M)||0})},MPIM_USERS_AVG_LATEST_MSG_AGE_DECAY_7D:(G,de)=>{let{now:Le}=de;return L({id:h.b.MPIM_USERS_AVG_LATEST_MSG_AGE_DECAY_7D,value:Object(O.i)(G.item)&&Ce(Le,G.avgLatestMsgTsOfAllMembers,7*j)||0})},MPIM_USERS_MAX_MSG_READ_AGE_DECAY_2H:(G,de)=>{let{now:Le}=de;return L({id:h.b.MPIM_USERS_MAX_MSG_READ_AGE_DECAY_2H,value:Object(O.i)(G.item)&&Ce(Le,G.maxLastReadTsOfAllMembers,2*M)||0})},MPIM_USERS_MAX_MSG_READ_AGE_DECAY_7D:(G,de)=>{let{now:Le}=de;return L({id:h.b.MPIM_USERS_MAX_MSG_READ_AGE_DECAY_7D,value:Object(O.i)(G.item)&&Ce(Le,G.maxLastReadTsOfAllMembers,7*j)||0})},MPIM_USERS_AVG_MSG_READ_AGE_DECAY_2H:(G,de)=>{let{now:Le}=de;return L({id:h.b.MPIM_USERS_AVG_MSG_READ_AGE_DECAY_2H,value:Object(O.i)(G.item)&&Ce(Le,G.avgLastReadTsOfAllMembers,2*M)||0})},MPIM_USERS_AVG_MSG_READ_AGE_DECAY_7D:(G,de)=>{let{now:Le}=de;return L({id:h.b.MPIM_USERS_AVG_MSG_READ_AGE_DECAY_7D,value:Object(O.i)(G.item)&&Ce(Le,G.avgLastReadTsOfAllMembers,7*j)||0})},MPIM_USERS_PCT_NON_EMPTY_DMS:G=>L({id:h.b.MPIM_USERS_PCT_NON_EMPTY_DMS,value:Object(O.i)(G.item)&&G.pctNonEmptyDmsForAllMembers||0}),MPIM_USERS_PCT_NON_NULL_DMS:G=>L({id:h.b.MPIM_USERS_PCT_NON_NULL_DMS,value:Object(O.i)(G.item)&&G.pctNonNullDmsForAllMembers||0}),MPIM_USERS_ALL_INTERNAL:G=>L({id:h.b.MPIM_USERS_ALL_INTERNAL,value:Object(O.i)(G.item)&&G.isMpimWithOnlyInternalMembers}),MPIM_LATEST_MSG_AGE_DECAY_7D:(G,de)=>{let{now:Le}=de;return L({id:h.b.MPIM_LATEST_MSG_AGE_DECAY_7D,value:Object(O.i)(G.item)&&Ce(Le,G.latestTs,7*j)||0})},USER_DM_LATEST_MSG_AGE_DECAY_7D:(G,de)=>{let{itemIsMember:Le,now:Re}=de;return L({id:h.b.USER_DM_LATEST_MSG_AGE_DECAY_7D,value:Le&&G.im&&Ce(Re,G.latestTs,7*j)||0})},USER_DM_LATEST_MSG_AGE_DECAY_7D_V2:(G,de)=>{let{itemIsMember:Le,now:Re}=de;return L({id:h.b.USER_DM_LATEST_MSG_AGE_DECAY_7D_V2,value:Le&&G.im&&Ce(Re,G.latestImTs,7*j)||0})},USER_DM_LATEST_MSG_AGE_DECAY_2H:(G,de)=>{let{itemIsMember:Le,now:Re}=de;return L({id:h.b.USER_DM_LATEST_MSG_AGE_DECAY_2H,value:Le&&G.im&&Ce(Re,G.latestTs,2*M)||0})},USER_DM_LATEST_MSG_AGE_DECAY_2H_V2:(G,de)=>{let{itemIsMember:Le,now:Re}=de;return L({id:h.b.USER_DM_LATEST_MSG_AGE_DECAY_2H_V2,value:Le&&G.im&&Ce(Re,G.latestImTs,2*M)||0})},FRECENCY_LOG_HIT_COUNT:G=>L({id:h.b.FRECENCY_LOG_HIT_COUNT,value:Math.log1p(G.hitCount)||0}),FRECENCY_LOG_HIT_COUNT_SCALED:G=>L({id:h.b.FRECENCY_LOG_HIT_COUNT_SCALED,value:G.logHitCountScaled}),FRECENCY_LOG_ITEM_COUNT:G=>L({id:h.b.FRECENCY_LOG_ITEM_COUNT,value:Math.log1p(G.itemCount)||0}),FRECENCY_LOG_ITEM_COUNT_SCALED:G=>L({id:h.b.FRECENCY_LOG_ITEM_COUNT_SCALED,value:G.logItemCountScaled}),QUERY_FRECENCY_RAW:G=>L({id:h.b.QUERY_FRECENCY_RAW,value:(G.suggestionType===l.b.QUERY||G.suggestionType===l.b.QUERY_USER)&&G.scoringContext.frecencyScoreRaw}),QUERY_FRECENCY_WEIGHT_HIT_VISITS:G=>L({id:h.b.QUERY_FRECENCY_WEIGHT_HIT_VISITS,value:(G.suggestionType===l.b.QUERY||G.suggestionType===l.b.QUERY_USER)&&G.scoringContext.frecencyWeightHitVisits}),QUERY_FRECENCY_HIT_COUNT:G=>L({id:h.b.QUERY_FRECENCY_HIT_COUNT,value:(G.suggestionType===l.b.QUERY||G.suggestionType===l.b.QUERY_USER)&&G.scoringContext.frecencyHitCount}),QUERY_LOG_HIT_COUNT:G=>L({id:h.b.QUERY_LOG_HIT_COUNT,value:(G.suggestionType===l.b.QUERY||G.suggestionType===l.b.QUERY_USER)&&Ue(G.scoringContext.frecencyHitCount)||G.suggestionType===l.b.QUERY_HISTORY&&Ue(G.count)||0}),QUERY_FRECENCY_WEIGHT_ITEM_VISITS:G=>L({id:h.b.QUERY_FRECENCY_WEIGHT_ITEM_VISITS,value:(G.suggestionType===l.b.QUERY||G.suggestionType===l.b.QUERY_USER)&&G.scoringContext.frecencyWeightItemVisits}),QUERY_FRECENCY_ITEM_COUNT:G=>L({id:h.b.QUERY_FRECENCY_ITEM_COUNT,value:(G.suggestionType===l.b.QUERY||G.suggestionType===l.b.QUERY_USER)&&G.scoringContext.frecencyItemCount}),QUERY_FUZZY_SCORE:G=>L({id:h.b.QUERY_FUZZY_SCORE,value:(G.suggestionType===l.b.QUERY||G.suggestionType===l.b.QUERY_USER)&&G.scoringContext.fuzzyScore}),QUERY_FRECENCY_BONUS:G=>{var de;return L({id:h.b.QUERY_FRECENCY_BONUS,value:(G.suggestionType===l.b.QUERY||G.suggestionType===l.b.QUERY_USER)&&Object(a.a)(Object.values(((de=G.scoringContext)===null||de===void 0?void 0:de.frecencyScoreBonus)||{}))||0})},QUERY_HISTORY_LOG_INDEX:G=>L({id:h.b.QUERY_HISTORY_LOG_INDEX,value:G.suggestionType===l.b.QUERY_HISTORY&&Ue(G.index)||0}),QUERY_HISTORY_AGE_DECAY_30D:(G,de)=>{let{now:Le}=de;return L({id:h.b.QUERY_HISTORY_AGE_DECAY_30D,value:G.suggestionType===l.b.QUERY_HISTORY&&Ce(Le,G.lastUpdateTs,30*j)||0})},FUZZY_SCORE:G=>L({id:h.b.FUZZY_SCORE,value:G.score}),FUZZY_SCORE_SCALED_EXP:G=>L({id:h.b.FUZZY_SCORE_SCALED_EXP,value:Number.isInteger(G.score)&&.5**Math.min(G.score,10)}),FUZZY_SCORE_SCALED_FLIPPED:G=>L({id:h.b.FUZZY_SCORE_SCALED_FLIPPED,value:Number.isInteger(G.score)&&10-Math.min(G.score,10)}),FUZZY_SCORE_SCALED_SUBTRACT:G=>L({id:h.b.FUZZY_SCORE_SCALED_SUBTRACT,value:Number.isInteger(G.score)&&Math.min(G.score,10)-1}),FUZZY_SCORE_50:G=>L({id:h.b.FUZZY_SCORE_50,value:G.bonusPointMap&&G.bonusPointMap.fuzzyScoreBonus===50}),FUZZY_SCORE_25:G=>L({id:h.b.FUZZY_SCORE_25,value:G.bonusPointMap&&G.bonusPointMap.fuzzyScoreBonus===25}),FUZZY_SCORE_ALL:G=>L({id:h.b.FUZZY_SCORE_ALL,value:G.bonusPointMap&&G.bonusPointMap.fuzzyScoreBonus&&G.bonusPointMap.fuzzyScoreBonus<25}),FILTER_USER_IS_ACTIVE:G=>L({id:h.b.FILTER_USER_IS_ACTIVE,value:G.lastSuggestionToken&&G.lastTokenMemberOrNull&&Object(m.W)(G.lastTokenMemberOrNull)}),FILTER_USER_IS_CURRENT_USER:G=>L({id:h.b.FILTER_USER_IS_CURRENT_USER,value:G.lastSuggestionToken&&G.lastTokenMemberOrNull&&Object(m.vb)(G.lastTokenMemberOrNull)}),FILTER_USER_DM_IS_STARRED:G=>L({id:h.b.FILTER_USER_DM_IS_STARRED,value:G.lastTokenIm&&G.lastTokenImIsStarred}),FILTER_USER_DM_IS_UNREAD:G=>L({id:h.b.FILTER_USER_DM_IS_UNREAD,value:G.lastTokenIm&&Object(d.ub)(G.lastTokenIm)}),FILTER_USER_DM_READ_AGE_DECAY_7D:(G,de)=>{let{now:Le}=de;return L({id:h.b.FILTER_USER_DM_READ_AGE_DECAY_7D,value:G.lastTokenIm&&Ce(Le,G.lastTokenImLastRead,7*j)||0})},FILTER_USER_DM_READ_AGE_DECAY_2H:(G,de)=>{let{now:Le}=de;return L({id:h.b.FILTER_USER_DM_READ_AGE_DECAY_2H,value:G.lastTokenIm&&Ce(Le,G.lastTokenImLastRead,2*M)||0})},FILTER_USER_DM_LATEST_MSG_AGE_DECAY_7D:(G,de)=>{let{now:Le}=de;return L({id:h.b.FILTER_USER_DM_LATEST_MSG_AGE_DECAY_7D,value:G.lastTokenIm&&Ce(Le,G.lastTokenImLatest,7*j)||0})},FILTER_USER_DM_LATEST_MSG_AGE_DECAY_2H:(G,de)=>{let{now:Le}=de;return L({id:h.b.FILTER_USER_DM_LATEST_MSG_AGE_DECAY_2H,value:G.lastTokenIm&&Ce(Le,G.lastTokenImLatest,2*M)||0})},FILTER_USER_FIRST_NAME_NORMAL_MATCH:G=>Q({id:h.b.FILTER_USER_FIRST_NAME_NORMAL_MATCH,suggestion:G,extractionFunction:ce,text:q(G)}),FILTER_USER_FIRST_NAME_NORMAL_PREFIX_MATCH:G=>Q({id:h.b.FILTER_USER_FIRST_NAME_NORMAL_PREFIX_MATCH,suggestion:G,extractionFunction:ie,text:q(G)}),FILTER_USER_LAST_NAME_NORMAL_MATCH:G=>Q({id:h.b.FILTER_USER_LAST_NAME_NORMAL_MATCH,suggestion:G,extractionFunction:ce,text:k(G)}),FILTER_USER_LAST_NAME_NORMAL_PREFIX_MATCH:G=>Q({id:h.b.FILTER_USER_LAST_NAME_NORMAL_PREFIX_MATCH,suggestion:G,extractionFunction:ie,text:k(G)}),FILTER_USER_PRIORITY:G=>L({id:h.b.FILTER_USER_PRIORITY,value:G.lastTokenIm&&(G==null?void 0:G.priority)}),HERE_KEYWORD:G=>L({id:h.b.HERE_KEYWORD,value:G.name==="here"}),HERE_KEYWORD_EXACT_MATCH:G=>L({id:h.b.HERE_KEYWORD_EXACT_MATCH,value:G.name==="here"&&G.query==="here"}),IS_BROADCAST_KEYWORD:G=>L({id:h.b.IS_BROADCAST_KEYWORD,value:G.type&&G.type==="broadcastKeyword"}),BROADCAST_KEYWORD_NORMAL_MATCH:G=>L({id:h.b.BROADCAST_KEYWORD_NORMAL_MATCH,value:G.type&&G.type==="broadcastKeyword"&&ce({text:G.name,normalizedQuery:G.normalizedQuery})}),EMOJI_EXACT_MATCH:G=>L({id:h.b.EMOJI_EXACT_MATCH,value:G.bonusPointMap&&G.bonusPointMap.isEmojiExactMatch&&1}),QUERY_TOKEN_NORMAL_MATCH:G=>Q({id:h.b.QUERY_TOKEN_NORMAL_MATCH,suggestion:G,extractionFunction:ce,text:se(G)}),QUERY_TOKEN_NORMAL_PREFIX_MATCH:G=>Q({id:h.b.QUERY_TOKEN_NORMAL_PREFIX_MATCH,suggestion:G,extractionFunction:ie,text:se(G)}),FILTER_CHANNEL_IS_ARCHIVED:G=>L({id:h.b.FILTER_CHANNEL_IS_ARCHIVED,value:Object(u.a)(G.lastTokenChannelOrNull)}),FILTER_CHANNEL_IS_MEMBER:G=>L({id:h.b.FILTER_CHANNEL_IS_MEMBER,value:Object(d.db)(G.lastTokenChannelOrNull)}),FILTER_CHANNEL_IS_STARRED:G=>L({id:h.b.FILTER_CHANNEL_IS_STARRED,value:G.lastTokenChannelIsStarred}),FILTER_CHANNEL_IS_UNREAD:G=>L({id:h.b.FILTER_CHANNEL_IS_UNREAD,value:Object(d.ub)(G.lastTokenChannelOrNull)}),FILTER_CHANNEL_READ_AGE_DECAY_7D:(G,de)=>{let{now:Le}=de;return L({id:h.b.FILTER_CHANNEL_READ_AGE_DECAY_7D,value:Ce(Le,G.lastTokenChannelLastRead,7*j)})},FILTER_CHANNEL_READ_AGE_DECAY_2H:(G,de)=>{let{now:Le}=de;return L({id:h.b.FILTER_CHANNEL_READ_AGE_DECAY_2H,value:Ce(Le,G.lastTokenChannelLastRead,2*M)})},FILTER_CHANNEL_PRIORITY:G=>L({id:h.b.FILTER_CHANNEL_PRIORITY,value:G==null?void 0:G.priority}),CHANNEL_IS_FROZEN:(G,de)=>{let{itemIsChannel:Le}=de;return L({id:h.b.CHANNEL_IS_FROZEN,value:Le&&Object(f.a)(G.item)})},USER_DM_IS_FROZEN:(G,de)=>{let{itemIsMember:Le}=de;return L({id:h.b.USER_DM_IS_FROZEN,value:Le&&G.im&&Object(f.a)(G.im)})},CHANNEL_HAS_DRAFT:G=>L({id:h.b.CHANNEL_HAS_DRAFT,value:G.hasDraft}),USER_DM_HAS_DRAFT:G=>L({id:h.b.USER_DM_HAS_DRAFT,value:G.imHasDraft}),EMOJI_QUERY_LENGTH_RATIO:G=>L({id:h.b.EMOJI_QUERY_LENGTH_RATIO,value:G.emojiQueryLengthRatio}),EMOJI_TOTAL_COMBO_BREAKS:G=>L({id:h.b.EMOJI_TOTAL_COMBO_BREAKS,value:G.emojiTotalComboBreaks}),EMOJI_COMBO_BREAK_0:G=>L({id:h.b.EMOJI_COMBO_BREAK_0,value:G.emojiTotalComboBreaks===0}),EMOJI_COMBO_BREAK_1:G=>L({id:h.b.EMOJI_COMBO_BREAK_1,value:G.emojiTotalComboBreaks===1}),EMOJI_COMBO_BREAK_2:G=>L({id:h.b.EMOJI_COMBO_BREAK_2,value:G.emojiTotalComboBreaks===2}),EMOJI_COMBO_BREAK_3:G=>L({id:h.b.EMOJI_COMBO_BREAK_3,value:G.emojiTotalComboBreaks===3}),TYPE_APP_ACTION:G=>L({id:h.b.TYPE_APP_ACTION,value:G.suggestionType===l.b.APP_ACTION}),OS_APP_ACTION:(G,de)=>{let{source:Le}=de;return L({id:h.b.OS_APP_ACTION,value:(Le==null?void 0:Le.startsWith("omniswitcher"))&&G.suggestionType===l.b.APP_ACTION})},TYPE_APP:G=>L({id:h.b.TYPE_APP,value:G.suggestionType===l.b.APP}),TYPE_SLASH_COMMAND:G=>L({id:h.b.TYPE_SLASH_COMMAND,value:G.suggestionType===l.b.SLASH_COMMAND}),TYPE_GLOBAL_ACTION:G=>L({id:h.b.TYPE_GLOBAL_ACTION,value:G.suggestionType===l.b.GLOBAL_ACTION}),IS_INVITE_WORKSPACE:G=>L({id:h.b.IS_INVITE_WORKSPACE,value:G.id==="slack-invite-to-workspace"}),TYPE_CHANNEL_ACTION:G=>L({id:h.b.TYPE_CHANNEL_ACTION,value:G.suggestionType===l.b.CHANNEL_ACTION}),TYPE_WORKFLOW_TRIGGER:G=>L({id:h.b.TYPE_WORKFLOW_TRIGGER,value:G.suggestionType===l.b.WORKFLOW_TRIGGER}),TYPE_NAVIGATION_MESSAGE:G=>L({id:h.b.TYPE_NAVIGATION_MESSAGE,value:G.suggestionType===l.b.MESSAGE_NAVIGATION}),TYPE_EMOJI:G=>L({id:h.b.TYPE_EMOJI,value:G.suggestionType===l.b.EMOJI}),HAS_CHANNEL_ASSOCIATION:G=>L({id:h.b.HAS_CHANNEL_ASSOCIATION,value:G.associatedWithCurrentChannel}),MEMBER_OF_CURRENT_CHANNEL:G=>L({id:h.b.MEMBER_OF_CURRENT_CHANNEL,value:G.isMemberOfCurrentChannel}),QUERY_LENGTH_DECAY_NORMAL_MATCH_CHANNEL:G=>Q({id:h.b.QUERY_LENGTH_DECAY_NORMAL_MATCH_CHANNEL,suggestion:G,extractionFunction:_e,text:ge(G,l.b.CHANNEL_NAVIGATION)}),FRECENCY_HIT_VISIT_DECAY_2H:(G,de)=>{let{now:Le}=de;return L({id:h.b.FRECENCY_HIT_VISIT_DECAY_2H,value:Ce(Le,G.latestHitVisit,2*M)||0})},FRECENCY_HIT_VISIT_DECAY_7D:(G,de)=>{let{now:Le}=de;return L({id:h.b.FRECENCY_HIT_VISIT_DECAY_7D,value:Ce(Le,G.latestHitVisit,7*j)||0})},FRECENCY_ITEM_VISIT_DECAY_2H:(G,de)=>{let{now:Le}=de;return L({id:h.b.FRECENCY_ITEM_VISIT_DECAY_2H,value:Ce(Le,G.latestItemVisit,2*M)||0})},FRECENCY_ITEM_VISIT_DECAY_7D:(G,de)=>{let{now:Le}=de;return L({id:h.b.FRECENCY_ITEM_VISIT_DECAY_7D,value:Ce(Le,G.latestItemVisit,7*j)||0})},MPIM_MEMBERS:G=>L({id:h.b.MPIM_MEMBERS,value:G.item.members.length}),MPIM_MEMBER_NAME_MATCHES:G=>L({id:h.b.MPIM_MEMBER_NAME_MATCHES,value:G.scoreDetailsByMember&&Object.values(G.scoreDetailsByMember).filter(de=>de.score_details.real_name>=0||de.score_details.display_name>=0).length}),MPIM_MEMBER_ALL_MATCHES:G=>L({id:h.b.MPIM_MEMBER_ALL_MATCHES,value:G.scoreDetailsByMember&&Object.keys(G.scoreDetailsByMember).length}),MPIM_MATCHER_SCORE:G=>L({id:h.b.MPIM_MATCHER_SCORE,value:G.score}),MPIM_MATCHER_SCORE_0:G=>L({id:h.b.MPIM_MATCHER_SCORE_0,value:G.score===0}),MPIM_MATCHER_SCORE_1:G=>L({id:h.b.MPIM_MATCHER_SCORE_1,value:G.score===1}),MPIM_MATCHER_SCORE_2:G=>L({id:h.b.MPIM_MATCHER_SCORE_2,value:G.score===2}),MPIM_MATCHER_SCORE_3:G=>L({id:h.b.MPIM_MATCHER_SCORE_3,value:G.score===3}),EMOJI_TEAM_CTR_90DD:G=>{var de;return L({id:h.b.EMOJI_TEAM_CTR_90DD,value:(de=G.offlineFeatures)===null||de===void 0?void 0:de.team_ctr_90dd})},EMOJI_USER_CTR_30DD:G=>{var de;return L({id:h.b.EMOJI_USER_CTR_30DD,value:(de=G.offlineFeatures)===null||de===void 0?void 0:de.user_ctr_30dd})},MPIM_TEAM_CTR_90DD:G=>{var de;return L({id:h.b.MPIM_TEAM_CTR_90DD,value:(de=G.offlineFeatures)===null||de===void 0?void 0:de.team_ctr_90dd})},MPIM_USER_CTR_30DD:G=>{var de;return L({id:h.b.MPIM_USER_CTR_30DD,value:(de=G.offlineFeatures)===null||de===void 0?void 0:de.user_ctr_30dd})},CHANNEL_TEAM_CTR_90DD:G=>{var de;return L({id:h.b.CHANNEL_TEAM_CTR_90DD,value:(de=G.offlineFeatures)===null||de===void 0?void 0:de.team_ctr_90dd})},CHANNEL_USER_CTR_30DD:G=>{var de;return L({id:h.b.CHANNEL_USER_CTR_30DD,value:(de=G.offlineFeatures)===null||de===void 0?void 0:de.user_ctr_30dd})},USER_ENTITY_TYPE_CTR_30DD:G=>L({id:h.b.USER_ENTITY_TYPE_CTR_30DD,value:G.entityTypeCtr}),NUM_RESULTS:G=>L({id:h.b.NUM_RESULTS,value:G.numResults}),QUERY_IS_SELF:G=>{var de;return L({id:h.b.QUERY_IS_SELF,value:((de=G.scoreDetails)===null||de===void 0?void 0:de.self_score)===0})},CURRENT_USER_TEXTY:(G,de)=>{let{isCurrentUser:Le,source:Re}=de;return L({id:h.b.CURRENT_USER_TEXTY,value:Re==="texty-autocomplete"&&Le})},FILE_AGE_DECAY_7D:(G,de)=>{let{now:Le}=de;return L({id:h.b.FILE_AGE_DECAY_7D,value:G.item&&Ce(Le,G.item.created,7*j)})},FILE_AGE_DECAY_28D:(G,de)=>{let{now:Le}=de;return L({id:h.b.FILE_AGE_DECAY_28D,value:G.item&&Ce(Le,G.item.created,28*j)})},FILE_AGE_DECAY_90D:(G,de)=>{let{now:Le}=de;return L({id:h.b.FILE_AGE_DECAY_90D,value:G.item&&Ce(Le,G.item.created,90*j)})},FILE_FROM_CURRENT_USER:G=>L({id:h.b.FILE_FROM_CURRENT_USER,value:G.fromCurrentUser}),NAV_NORMAL_MATCH_CHANNEL_LOG_RESULTS:G=>Q({id:h.b.NAV_NORMAL_MATCH_CHANNEL_LOG_RESULTS,suggestion:G,extractionFunction:ce,text:ge(G,l.b.CHANNEL_NAVIGATION),multiplier:Ue(G.numResults)}),FILE_LOG_PUBLIC_SHARES:G=>{var de,Le;return L({id:h.b.FILE_LOG_PUBLIC_SHARES,value:((de=G.item)===null||de===void 0||(Le=de.shares)===null||Le===void 0?void 0:Le.public)&&Ue(Object.keys(G.item.shares.public).length)})},FILE_LOG_PRIVATE_SHARES:G=>{var de,Le;return L({id:h.b.FILE_LOG_PRIVATE_SHARES,value:((de=G.item)===null||de===void 0||(Le=de.shares)===null||Le===void 0?void 0:Le.private)&&Ue(Object.keys(G.item.shares.private).length)})},FILE_LOG_ACTIONS:G=>{var de;return L({id:h.b.FILE_LOG_ACTIONS,value:((de=G.item)===null||de===void 0?void 0:de.actions)&&Ue(G.item.actions.length)})},FILE_LATEST_ACTION_AGE_DECAY_2H:(G,de)=>{let{now:Le}=de;return L({id:h.b.FILE_LATEST_ACTION_AGE_DECAY_2H,value:Ce(Le,G.latestActionTs,2*M)})},FILE_LATEST_ACTION_AGE_DECAY_7D:(G,de)=>{let{now:Le}=de;return L({id:h.b.FILE_LATEST_ACTION_AGE_DECAY_7D,value:Ce(Le,G.latestActionTs,7*j)})},FILE_LATEST_ACTION_AGE_DECAY_90D:(G,de)=>{let{now:Le}=de;return L({id:h.b.FILE_LATEST_ACTION_AGE_DECAY_90D,value:Ce(Le,G.latestActionTs,90*j)})},FILE_LATEST_SHARE_AGE_DECAY_2H:(G,de)=>{let{now:Le}=de;return L({id:h.b.FILE_LATEST_SHARE_AGE_DECAY_2H,value:Ce(Le,G.latestShareTs,2*M)})},FILE_LATEST_SHARE_AGE_DECAY_7D:(G,de)=>{let{now:Le}=de;return L({id:h.b.FILE_LATEST_SHARE_AGE_DECAY_7D,value:Ce(Le,G.latestShareTs,7*j)})},FILE_LATEST_SHARE_AGE_DECAY_90D:(G,de)=>{let{now:Le}=de;return L({id:h.b.FILE_LATEST_SHARE_AGE_DECAY_90D,value:Ce(Le,G.latestShareTs,90*j)})},FILE_CHANNEL_CTR:G=>L({id:h.b.FILE_CHANNEL_CTR,value:G.fileChannelCtr}),FILE_SUGGESTIONS_SEARCHER:G=>L({id:h.b.FILE_SUGGESTIONS_SEARCHER,value:G.fileSuggestionsFromSearcher}),FILE_USER_CTR:G=>L({id:h.b.FILE_USER_CTR,value:G.fileUserCtr}),FILE_NAME_CONTAINS_QUERY_NORMALIZED:G=>Q({id:h.b.FILE_NAME_CONTAINS_QUERY_NORMALIZED,suggestion:G,extractionFunction:ae,text:ge(G,l.b.FILE_NAVIGATION)}),FILE_IS_CANVAS:G=>L({id:h.b.FILE_IS_CANVAS,value:H(G,"quip")}),FILE_HAS_DMS_WITH_CREATOR:G=>L({id:h.b.FILE_HAS_DMS_WITH_CREATOR,value:G.hasNonNullDmsWithCreator}),FILE_HAS_DMS_WITH_CREATOR_V2:G=>L({id:h.b.FILE_HAS_DMS_WITH_CREATOR_V2,value:G.hasNonNullLocalOrRemoteDmsWithCreator}),FILE_LATEST_VIEW_BY_USER_OLDER_90D:(G,de)=>{let{now:Le}=de;return L({id:h.b.FILE_LATEST_VIEW_BY_USER_OLDER_90D,value:Pe(Le,G.lastReadTs/1e3,90*j)})},APP_NAME_PREFIX_MATCH:G=>{var de;return Q({id:h.b.APP_NAME_PREFIX_MATCH,suggestion:G,extractionFunction:ie,text:(de=G.item)===null||de===void 0?void 0:de.appName})},BEST_NAME_MATCH_LOG_RESULTS:G=>L({id:h.b.BEST_NAME_MATCH_LOG_RESULTS,value:G.bestNameIsExactMatch&&Ue(G.numResults)}),SLASH_COMMAND_USER_CTR:G=>{var de;return L({id:h.b.SLASH_COMMAND_USER_CTR,value:(de=G.offlineFeatures)===null||de===void 0?void 0:de.user_ctr_30dd})},WORKFLOW_TRIGGER_USER_CTR:G=>{var de;return L({id:h.b.WORKFLOW_TRIGGER_USER_CTR,value:(de=G.offlineFeatures)===null||de===void 0?void 0:de.user_ctr_30dd})},GLOBAL_ACTION_USER_CTR:G=>{var de;return L({id:h.b.GLOBAL_ACTION_USER_CTR,value:(de=G.offlineFeatures)===null||de===void 0?void 0:de.user_ctr_30dd})},CHANNEL_ACTION_USER_CTR:G=>{var de;return L({id:h.b.CHANNEL_ACTION_USER_CTR,value:(de=G.offlineFeatures)===null||de===void 0?void 0:de.user_ctr_30dd})},APP_ACTION_USER_CTR:G=>{var de;return L({id:h.b.APP_ACTION_USER_CTR,value:(de=G.offlineFeatures)===null||de===void 0?void 0:de.user_ctr_30dd})},SLASH_COMMAND_TEAM_CTR:G=>{var de;return L({id:h.b.SLASH_COMMAND_TEAM_CTR,value:(de=G.offlineFeatures)===null||de===void 0?void 0:de.team_ctr_90dd})},WORKFLOW_TRIGGER_TEAM_CTR:G=>{var de;return L({id:h.b.WORKFLOW_TRIGGER_TEAM_CTR,value:(de=G.offlineFeatures)===null||de===void 0?void 0:de.team_ctr_90dd})},GLOBAL_ACTION_TEAM_CTR:G=>{var de;return L({id:h.b.GLOBAL_ACTION_TEAM_CTR,value:(de=G.offlineFeatures)===null||de===void 0?void 0:de.team_ctr_90dd})},CHANNEL_ACTION_TEAM_CTR:G=>{var de;return L({id:h.b.CHANNEL_ACTION_TEAM_CTR,value:(de=G.offlineFeatures)===null||de===void 0?void 0:de.team_ctr_90dd})},APP_ACTION_TEAM_CTR:G=>{var de;return L({id:h.b.APP_ACTION_TEAM_CTR,value:(de=G.offlineFeatures)===null||de===void 0?void 0:de.team_ctr_90dd})},SHORTCUT_ENTITY_TYPE_CTR:G=>L({id:h.b.SHORTCUT_ENTITY_TYPE_CTR,value:G.entityTypeCtr}),EXACT_MATCH_LOG_RESULTS:G=>L({id:h.b.EXACT_MATCH_LOG_RESULTS,value:(G.isExactMatch?1:0)*Ue(G.numResults)}),HISTORY_AGE_DECAY_2H:(G,de)=>{let{now:Le}=de;return L({id:h.b.HISTORY_AGE_DECAY_2H,value:Ce(Le,G.historyTs,2*M)})},HISTORY_AGE_DECAY_7D:(G,de)=>{let{now:Le}=de;return L({id:h.b.HISTORY_AGE_DECAY_7D,value:Ce(Le,G.historyTs,7*j)})},HISTORY_POSITION:G=>L({id:h.b.HISTORY_POSITION,value:G.historyPosition})};class U{serialize(){const de=new T;this.featureList.forEach(Re=>V({feature:Re,serializer:de}));const Le=de.serialize();return`${this.featuresVersion}:${Le}`}valueForFeature(de){let Le=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(de==null)return x().error(`Invalid feature id: ${de}`),null;const Re=this.featureList.find(Fe=>Fe.id===de);if(!Object(r.a)(Re))return Le?F(Re)||"":z(Re)||0}static fromSuggestion(de,Le){const Re=Date.now()/1e3,Fe=!!Object(m.nb)(de.item),tt=!!(Object(O.l)(de.item)||Object(O.k)(de.item)),ut=Fe&&Object(m.vb)(de.item),St={itemIsChannel:tt,itemIsMember:Fe,now:Re,isCurrentUser:ut,source:Le};return new this(B(de,Le).map(tn=>W[tn]&&W[tn](de,St)||null))}constructor(de){this.featureList=de,this.featuresVersion="v8"}}v(U,"sorter_ranking_SuggestionFeatureVector");function B(G,de){return de==="slash-command-menu"?[...A.globalFeatures]:G.suggestionType===l.b.USER_NAVIGATION?[...A.globalFeatures,...A.userFeatures]:G.suggestionType===l.b.CHANNEL_NAVIGATION?[...A.globalFeatures,...A.channelFeatures]:G.suggestionType===l.b.MPIM_NAVIGATION?[...A.globalFeatures,...A.mpimFeatures]:G.suggestionType===l.b.VIEW_NAVIGATION?[...A.globalFeatures,...A.viewFeatures]:G.suggestionType===l.b.FILE_NAVIGATION?[...A.globalFeatures,...A.fileFeatures,...A.queryFeatures]:G.suggestionType===l.b.LINK_NAVIGATION?[...A.globalFeatures,...A.linkFeatures]:G.suggestionType===l.b.MODAL_NAVIGATION?[...A.globalFeatures,...A.modalFeatures]:G.suggestionType===l.b.TEAM_NAVIGATION?[...A.globalFeatures,...A.teamFeatures]:G.type==="emoji"?[...A.globalFeatures,...A.emojiFeatures]:G.type==="broadcastKeyword"?[...A.globalFeatures,...A.broadcastKeywordFeatures]:G.suggestionType===l.b.QUERY||G.suggestionType===l.b.QUERY_USER?[...A.globalFeatures,...A.queryFeatures]:G.suggestionType===l.b.APP_ACTION?[...A.globalFeatures,...A.shortcutFeatures,...A.appActionFeatures]:G.suggestionType===l.b.SLASH_COMMAND?[...A.globalFeatures,...A.shortcutFeatures,...A.slashCommandFeatures]:G.suggestionType===l.b.GLOBAL_ACTION?[...A.globalFeatures,...A.shortcutFeatures,...A.globalActionFeatures]:G.suggestionType===l.b.CHANNEL_ACTION?[...A.globalFeatures,...A.shortcutFeatures,...A.channelActionFeatures]:G.suggestionType===l.b.WORKFLOW_TRIGGER?[...A.globalFeatures,...A.shortcutFeatures,...A.workflowTriggerFeatures]:G.suggestionType===l.b.APP?[...A.globalFeatures,...A.appFeatures]:G.suggestionType===l.b.MESSAGE_NAVIGATION?[...A.globalFeatures,...A.messageFeatures]:G.suggestionType===l.b.QUERY_HISTORY?[...A.globalFeatures,...A.queryFeatures]:A.globalFeatures}v(B,"getFeaturesForExtraction");class Y{constructor({id:de,value:Le}){de==null&&x().error(`Invalid feature id: ${de}`);const Re=b(de);Re||x().error(`Missing feature name for id: ${de}`),this.id=de,this.name=Re,this.valueOrNull=Le}}v(Y,"sorter_ranking_Feature");function z(G){return typeof G.valueOrNull=="number"&&isFinite(G.valueOrNull)?G.valueOrNull:typeof G.valueOrNull=="boolean"&&G.valueOrNull?1:0}v(z,"getNumericValueForFeature");function F(G){return G.valueOrNull===null||G.valueOrNull===void 0?"":G.valueOrNull.toString()}v(F,"getStringValueForFeature");function V(G){let{feature:de,serializer:Le}=G;de.valueOrNull===null&&Le.writeNullFeature(de.valueOrNull,de.id),typeof de.valueOrNull=="number"&&Le.writeNumericalFeature(de.valueOrNull,de.id),typeof de.valueOrNull=="boolean"&&Le.writeBinaryFeature(de.valueOrNull,de.id),typeof de.valueOrNull=="string"&&Le.writeTextFeature(de.valueOrNull,de.id)}v(V,"serializeFeature");function L(G){let{id:de,value:Le}=G;de==null&&x().error(`Invalid feature id: ${de}`);const Re=b(de);Re||x().error(`Missing feature name for id: ${de}`);const Fe=Object(r.a)(Le)?null:Le;return{id:de,valueOrNull:Fe,name:Re}}v(L,"makeFeature");function Q(G){let{id:de,suggestion:Le,extractionFunction:Re,text:Fe=he(Le),multiplier:tt=1}=G;return L(Fe?{id:de,value:Re({text:Fe,query:Le.query||"",normalizedQuery:Le.normalizedQuery||""})*tt}:{id:de,value:null})}v(Q,"makeTextFeature");function ee(G){let de=null;return(G.suggestionType===l.b.QUERY||G.suggestionType===l.b.QUERY_USER||G.suggestionType===l.b.CHANNEL_NAVIGATION||G.suggestionType===l.b.MPIM_NAVIGATION||G.suggestionType===l.b.USER_NAVIGATION||G.suggestionType===l.b.TEAM_NAVIGATION||G.suggestionType===l.b.VIEW_NAVIGATION||G.suggestionType===l.b.FILE_NAVIGATION)&&(de=G.frecencyScore),de}v(ee,"getFrecencyScoreForSuggestion");function te(G){let de=null;return G.suggestionType===l.b.QUERY&&G.lastSuggestionToken&&G.lastSuggestionToken.type===l.a.API?de=G.lastSuggestionToken.querySuggestionScore:de=G.querySuggestionScore||de,de}v(te,"getQuerySuggestionScoreV2");function le(G){let de=null;return G.suggestionType===l.b.FILE_NAVIGATION&&(de=G.rawScore),de}v(le,"getFileSuggestionScore");function Oe(G){return G&&G.lastSuggestionToken?G.lastSuggestionToken.toString():""}v(Oe,"getLastSuggestionTokenString");function he(G){return Z(G)?Oe(G):G.suggestionType===l.b.FILE_NAVIGATION?G.name:null}v(he,"getTextOrNullFromQuerySuggestion");function Ee(G){return G.isNavigational||G.isAction||G.isApp?G.name:null}v(Ee,"getTextOrNullFromNavigationalSuggestion");function ge(G,de){return G.suggestionType===de?G.name:null}v(ge,"getTextOrNullFromSuggestionWithType");function J(G){return G.suggestionType===l.b.USER_NAVIGATION||Object(r.a)(G.name)?null:G.name}v(J,"getTextOrNullFromSuggestionNotUser");function H(G,de){return G.suggestionType!==l.b.FILE_NAVIGATION?!1:G.fileType===de}v(H,"isFileTypeMatch");function Z(G){return G.lastSuggestionToken?G.lastSuggestionToken.type===l.a.STRING||G.lastSuggestionToken.type===l.a.PHRASE||G.lastSuggestionToken.type===l.a.API:!1}v(Z,"isActiveTokenStringLike");function q(G){return G.lastTokenMemberOrNull&&G.lastTokenMemberOrNull.profile&&G.lastTokenMemberOrNull.profile.first_name}v(q,"getLastTokenUserFirstName");function k(G){return G.lastTokenMemberOrNull&&G.lastTokenMemberOrNull.profile&&G.lastTokenMemberOrNull.profile.last_name}v(k,"getLastTokenUserLastName");function se(G){return G.lastTokenMemberName||G.lastTokenChannelName||null}v(se,"lastTokenName");function re(G){return G?G.im&&G.lastReadImTs?G.lastReadImTs:G.remoteImMetadata&&G.lastReadRemoteImMetadataTs?(G.lastReadRemoteImMetadataTs/1e6).toString():null:null}v(re,"lastReadFromLocalClientElseCachedRemote");function X(G){let{text:de,query:Le}=G;return de===Le}v(X,"isExactMatch");function w(G){let{text:de,query:Le}=G;return Le&&de&&Object(c.a)(de,Le)}v(w,"isPrefixMatch");function ce(G){let{text:de,normalizedQuery:Le}=G;return Object(S.a)(de).replace(/^[@#]/g,"")===Le}v(ce,"isNormalizedExactMatch");function ie(G){let{text:de,normalizedQuery:Le}=G;const Re=Object(S.a)(de).replace(/^[@#]/g,"");return Re&&Le&&Object(c.a)(Re,Le)}v(ie,"isNormalizedPrefixMatch");function oe(G){let{text:de,query:Le}=G;return Object(o.a)(de).length+Object(i.a)(de," ")===Object(o.a)(Le).length}v(oe,"stringSameNumberWordsValueFromSuggestion");function me(G){let{text:de,query:Le}=G;return Math.max(0,de.length-Le.length)}v(me,"excessStringLengthValueFromSuggestion");function ue(G){let{text:de,query:Le}=G;return de.length>0?Le.length/de.length:0}v(ue,"queryRatioLengthValueFromSuggestion");function _e(G){let{text:de,normalizedQuery:Le}=G;return ce({text:de,normalizedQuery:Le})&&Le.length>1?2**-Le.length:null}v(_e,"queryLengthDecayNormalMatch");function be(G){let{normalizedQuery:de}=G;return de.length}v(be,"queryLength");function Ae(G){let{text:de,query:Le}=G;return de.length}v(Ae,"suggestionTextLength");function Ce(G,de,Le){return de?Math.min(1,Math.exp(Math.log(.5)/Le*De(G,de))):0}v(Ce,"expAgeDecay");function De(G,de){return de?Math.max(0,G-de):null}v(De,"age");function Pe(G,de,Le){if(!de)return!0;const Re=De(G,de);return!Re||Re>Le}v(Pe,"ageLatestOlderOrMissing");function Ue(G){return G>0?Math.log1p(G):0}v(Ue,"log1pSafe");function ae(G){let{text:de,normalizedQuery:Le}=G;const Re=Object(S.a)(de).replace(/^[@#]/g,"");return Re&&Le&&Re.includes(Le)}v(ae,"stringContainsQueryNormalized");class ne{score(de){let Le=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},Re=0;const Fe=de.featureList.length;for(let tt=0;tt<Fe;tt++)Re+=this._weightForFeature(de.featureList[tt],Le.source||null)*(z(de.featureList[tt])||0);return Re}explain(de){let Le=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const Re=Le.source||null,Fe=de.featureList.map(St=>({id:St.id,name:St.name,value:St.valueOrNull,weight:this._weightForFeature(St,Re),globalWeight:this._globalWeightForFeature(St),score:this._weightForFeature(St,Re)*z(St)})),tt=Fe.filter(St=>St.score).sort((St,tn)=>tn.score-St.score),ut=Fe.filter(St=>St.value&&!St.score&&St.name!=="ID");return{score:this.score(de,Le),features:[...tt,...ut],remoteModel:this.isRemote}}_globalWeightForFeature(de){return this.weights[de.name]||0}_weightForFeature(de){let Le=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,Re=0;de.name==="USER_IS_EXTERNAL"&&(Re=-1);const Fe=this.weights[de.name]||0,ut=Le&&(Le==="composer_page__destination"||Le.startsWith("share"))?"WRITE":"READ",St=this.weights[`${ut}_${de.name}`]||0;return Fe+St+Re}constructor(de,Le=!1){this.isRemote=Le,this.weights=de}}v(ne,"linear_model_LinearModel");var Ie=new ne({ACTIVE_TOKEN_QUERY_SUGGESTION:1,BM25_SCORE:1,CHANNEL_IS_MEMBER:0,EXCESS_STRING_LENGTH:1,FRECENCY:.01,MPIM_IS_STARRED:0,NAV_EXACT_MATCH:0,NAV_EXACT_PREFIX_MATCH:0,NAV_EXCESS_STRING_LENGTH:2.5,NAV_NORMAL_MATCH:0,QUERY_SUGGESTION_SCORE_V2:3,STRING_EXACT_PREFIX_MATCH:1,STRING_NORMAL_PREFIX_MATCH:1,TYPE_NAVIGATION_CHANNEL:4,TYPE_NAVIGATION_EXPERT_CHANNEL:2,TYPE_NAVIGATION_MPIM:7,TYPE_NAVIGATION_USER:4,TYPE_QUERY:1,HERE_KEYWORD_EXACT_MATCH:5}),Te=new ne({FRECENCY:.01,TYPE_NAVIGATION_USER:4,TYPE_NAVIGATION_CHANNEL:4,QUERY_SUGGESTION_SCORE_V2:3,TYPE_NAVIGATION_EXPERT_CHANNEL:2,TYPE_NAVIGATION_MPIM:7}),Me=new ne({FRECENCY:1}),Ne=new ne({APP_NAME_PREFIX_MATCH:.3,TYPE_SLASH_COMMAND:-1.6,TYPE_GLOBAL_ACTION:1,TYPE_CHANNEL_ACTION:2,TYPE_WORKFLOW_TRIGGER:1,TYPE_APP_ACTION:0,TYPE_APP:-1,IS_INVITE_WORKSPACE:-2,BEST_NAME_MATCH_LOG_RESULTS:.3,FRECENCY_BONUS:.0045945271239138,FRECENCY_LOG_HIT_COUNT:.032078623014737,FRECENCY_LOG_HIT_COUNT_SCALED:.45581873094776,FRECENCY_LOG_ITEM_COUNT:.052896301981039,FRECENCY_LOG_ITEM_COUNT_SCALED:.49730870089138,FRECENCY_WEIGHT_HIT_VISITS:.0071810620916759,FRECENCY_WEIGHT_ITEM_VISITS:.011716715132603,FUZZY_SCORE_25:-.2832109013491,FUZZY_SCORE_50:.25841493146403,FUZZY_SCORE_ALL:-1.5527553376163,NAV_NORMAL_PREFIX_MATCH_NO_USER:.38239541164536,RAW_FRECENCY:-.0027578100310599,READ_FRECENCY_BONUS:.0040115607674155,READ_FRECENCY_LOG_HIT_COUNT:.038436899804508,READ_FRECENCY_LOG_HIT_COUNT_SCALED:.45560596775616,READ_FRECENCY_LOG_ITEM_COUNT:.05525020998482,READ_FRECENCY_LOG_ITEM_COUNT_SCALED:.50026628273703,READ_FRECENCY_WEIGHT_HIT_VISITS:.0073619177800187,READ_FRECENCY_WEIGHT_ITEM_VISITS:.012099980951325,READ_FUZZY_SCORE_25:-.2503777797125,READ_FUZZY_SCORE_50:.24335243348473,READ_FUZZY_SCORE_ALL:-1.5175861934325,READ_NAV_NORMAL_PREFIX_MATCH_NO_USER:.40022884927117,READ_RAW_FRECENCY:-.0031687787672375}),He=new ne({APP_NAME_PREFIX_MATCH:.3,TYPE_SLASH_COMMAND:-1.6,TYPE_GLOBAL_ACTION:1,TYPE_CHANNEL_ACTION:2,TYPE_APP_ACTION:0,TYPE_APP:-1,IS_INVITE_WORKSPACE:-2,BEST_NAME_MATCH_LOG_RESULTS:.3,FRECENCY_LOG_HIT_COUNT_SCALED:4,FRECENCY_BONUS:.0045945271239138,FRECENCY_LOG_HIT_COUNT:.032078623014737,FRECENCY_LOG_ITEM_COUNT:.052896301981039,FRECENCY_LOG_ITEM_COUNT_SCALED:.49730870089138,FRECENCY_WEIGHT_HIT_VISITS:.0071810620916759,FRECENCY_WEIGHT_ITEM_VISITS:.011716715132603,FUZZY_SCORE_25:-.2832109013491,FUZZY_SCORE_50:.25841493146403,FUZZY_SCORE_ALL:-1.5527553376163,NAV_NORMAL_PREFIX_MATCH_NO_USER:.38239541164536,RAW_FRECENCY:-.0027578100310599,READ_FRECENCY_BONUS:.0040115607674155,READ_FRECENCY_LOG_HIT_COUNT:.038436899804508,READ_FRECENCY_LOG_HIT_COUNT_SCALED:.45560596775616,READ_FRECENCY_LOG_ITEM_COUNT:.05525020998482,READ_FRECENCY_LOG_ITEM_COUNT_SCALED:.50026628273703,READ_FRECENCY_WEIGHT_HIT_VISITS:.0073619177800187,READ_FRECENCY_WEIGHT_ITEM_VISITS:.012099980951325,READ_FUZZY_SCORE_25:-.2503777797125,READ_FUZZY_SCORE_50:.24335243348473,READ_FUZZY_SCORE_ALL:-1.5175861934325,READ_NAV_NORMAL_PREFIX_MATCH_NO_USER:.40022884927117,READ_RAW_FRECENCY:-.0031687787672375}),Et=new ne({ACTIVE_TOKEN_FILTER_AFTER:-1.3342286966503,ACTIVE_TOKEN_FILTER_BEFORE:-1.5840743442206,ACTIVE_TOKEN_FILTER_DURING:-1.5067377681356,ACTIVE_TOKEN_FILTER_FROM:-.32097975590927,ACTIVE_TOKEN_FILTER_HAS:.12307720392367,ACTIVE_TOKEN_FILTER_IN:-.20437151727999,ACTIVE_TOKEN_FILTER_ON:-.2331890332635,ACTIVE_TOKEN_FILTER_TO:-.39179992363572,ACTIVE_TOKEN_FILTER_WITH:-2.6491467875516,ACTIVE_TOKEN_MEMBER:3.3152339724625,ACTIVE_TOKEN_PHRASE:1.6227243782418,ACTIVE_TOKEN_STRING:1.2377431959723,APP_NAME_PREFIX_MATCH:.41310546603391,CHANNEL_ACTION_TEAM_CTR:5.3683432201332,CHANNEL_ACTION_USER_CTR:-3.0316210543763,CHANNEL_IS_ARCHIVED:-.87858649301233,CHANNEL_IS_MEMBER:.77730174627333,CHANNEL_IS_OTHER_TEAM:-.61919041941926,CHANNEL_IS_STARRED:.42983549335324,CHANNEL_IS_UNREAD:.32493583671244,CHANNEL_READ_AGE_DECAY_7D:1.7862684517169,CURRENT_USER_TEXTY:-2.0962311707595,EMOJI_COMBO_BREAK_0:.034181103626295,EMOJI_COMBO_BREAK_1:-1.5404314842404,EMOJI_COMBO_BREAK_2:-2.2796470967609,EMOJI_EXACT_MATCH:.183283071987,EMOJI_QUERY_LENGTH_RATIO:1.0690358111219,EMOJI_USER_CTR_30DD:5.1931307714537,FILE_AGE_DECAY_7D:.094311459141267,FILE_AGE_DECAY_90D:-.068414601197763,FILE_FROM_CURRENT_USER:-.053638049001005,FILE_HAS_DMS_WITH_CREATOR:-.0061128361931085,FILE_IS_CANVAS:.3,FILE_LATEST_ACTION_AGE_DECAY_90D:.22470956185502,FILE_LATEST_VIEW_BY_USER_OLDER_90D:-1.5,FILE_LOG_ACTIONS:.31755825349717,FILE_LOG_PRIVATE_SHARES:.63647050316634,FILE_LOG_PUBLIC_SHARES:-.4105759438314,FILE_NAME_CONTAINS_QUERY_NORMALIZED:1,FILTER_USER_DM_READ_AGE_DECAY_2H:-.39943623618561,FILTER_USER_DM_READ_AGE_DECAY_7D:.8400841724556,FILTER_USER_IS_ACTIVE:.42798763518113,FILTER_USER_PRIORITY:.71416734958181,FRECENCY_BONUS:.0083562726103486,FRECENCY_LOG_HIT_COUNT_SCALED:1.0221320483578,FRECENCY_LOG_ITEM_COUNT_SCALED:.93494415431914,FRECENCY_WEIGHT_HIT_VISITS:.010783602348951,FRECENCY_WEIGHT_ITEM_VISITS:.019341183576389,FUZZY_SCORE_50:.95744512772969,FUZZY_SCORE_ALL:-2.1179514334905,GLOBAL_ACTION_USER_CTR:6.0311738732755,HERE_KEYWORD_EXACT_MATCH:2.8669041266612,HISTORY_AGE_DECAY_7D:.66414153833523,IS_BROADCAST_KEYWORD:3.4759283393419,MEMBER_OF_CURRENT_CHANNEL:3.3022467998568,MPIM_MATCHER_SCORE_0:-.02289922354073,MPIM_MATCHER_SCORE_1:-1.2162030026989,MPIM_MATCHER_SCORE_2:-2.3109629676003,MPIM_MATCHER_SCORE_3:-2.545746172366,MPIM_MEMBER_ALL_MATCHES:.040175375087294,MPIM_MEMBER_NAME_MATCHES:.071667207602181,MPIM_READ_AGE_DECAY_7D:2.0911081748312,MPIM_USER_CTR_30DD:10.134770283044,MPIM_WITH_DEACTIVATED_USER:-1.1657978882602,NAV_NORMAL_MATCH_CHANNEL_LOG_RESULTS:.49306597435127,NAV_NORMAL_MATCH_USER:.83230837935037,NAV_NORMAL_PREFIX_MATCH_NO_USER:.4852904832645,NAV_NORMAL_PREFIX_MATCH_USER:-.12081821144909,ONLY_MATCHES_PREVIOUS_NAME:-1.248003231081,OS_APP_ACTION:-1.381807580371,QUERY_FRECENCY_BONUS:.011725693517502,QUERY_FRECENCY_RAW:.0071433931825349,QUERY_FRECENCY_WEIGHT_HIT_VISITS:.0047962209104509,QUERY_TOKEN_NORMAL_PREFIX_MATCH:.38593901851901,SLASH_COMMAND_USER_CTR:3.2204170381454,STRING_EXACT_PREFIX_MATCH:-.53245135333594,STRING_NORMAL_PREFIX_MATCH:-.4692069451129,TYPE_APP:-2.0995766663586,TYPE_APP_ACTION:-.15299090921826,TYPE_CHANNEL_ACTION:-.97398280475431,TYPE_GLOBAL_ACTION:.24313716972704,TYPE_NAVIGATION_CHANNEL:-.99949500941624,TYPE_NAVIGATION_FILE:-.60870055140391,TYPE_NAVIGATION_MODAL:-1.2540608783032,TYPE_NAVIGATION_MPIM:-.13640397661212,TYPE_NAVIGATION_TEAM:-.74505579518249,TYPE_NAVIGATION_USER:.19845685040217,TYPE_NAVIGATION_VIEW:-.06828592658814,TYPE_QUERY:-.34666651828357,TYPE_QUERY_HISTORY:-.89886675989568,TYPE_SLASH_COMMAND:-.18074491193454,TYPE_USER_QUERY:1.2730815188112,TYPE_WORKFLOW_TRIGGER:-1.2028127578536,USER_DM_EMPTY_V2:1.4226370781581,USER_DM_LATEST_MSG_AGE_DECAY_7D_V2:.40074999941377,USER_DM_LATEST_OLDER_90D_V2:-1.2419114598606,USER_EMAIL_ONLY_MATCH:-1.2756812486684,USER_ENTITY_TYPE_CTR_30DD:3.7407446891213,USER_FIRST_NAME_NORMAL_MATCH:.36402719522123,USER_IS_ACTIVE:.58279556397075,USER_IS_BOT:-.76450720727465,USER_IS_EXTERNAL:.27225738168756,USER_LAST_NAME_NORMAL_MATCH:.19972040917946,USER_MPIM_READ_AGE_DECAY_7D:.56565249217787,USER_PRIORITY:.29699660378898,USER_SAME_TEAM:.17696933968657}),Je=new ne({FRECENCY_LOG_ITEM_COUNT:1}),ke={testing:Ie,testing_2:Te,frecency:Me,autocompleteFallback:Et,shortcuts1:Ne,shortcuts3:He,emojiFrequentlyUsed:Je},rt=e("Pw4T"),pe=e("E3dU"),je=e("QYqd"),xe=e("ehcD"),ze=e("Kmpi");function st(G){var de;const Le=(de=G.actions)===null||de===void 0?void 0:de[0];if(!Le)return 0;const Re=parseFloat(Le.ts);return isNaN(Re)?0:Re}v(st,"getLatestActionTs");var ct=e("xwCZ"),dt=e("9Gfp"),bt=e("ptZ7"),Ft=e("Fjja"),Bt=e("DeaP"),at=e("nNoG"),Ht=e("t9sm"),Wt=e("lhZz"),yt=e("K7TJ"),Xt=e("Lgge"),cn=e("rTjz");class mn extends cn.a{fetchData(){return Xt.a.resolve(null)}onCacheData(de){super.onCacheData(de);const Le=1e3*60*60*4;this.refreshTimer&&clearTimeout(this.refreshTimer),this.refreshTimer=null,this.refreshTimer=setTimeout(()=>{this._callCacheGet()},this.timeoutMs+Math.random()*Le)}getStaleWhileRevalidate(de){return this.isStaleOrUndefined()&&(this._callCacheGet(),this.cachedData===void 0)?de:this.cachedData}constructor(de){super(()=>this.fetchData(),1008e5,!1),this.teamId=de}}v(mn,"autocomplete_cache_AutocompleteCache");class In extends mn{fetchData(){return Object(Wt.dispatchForTeamId)(this.teamId,Object(Ht.c)({reason:"AutocompleteModelCache"})).catch(de=>({model:null,omniswitcherModel:null,exception:de})).then(de=>{const Le={model:null,omniswitcherModel:null};if(de.model){const Re=Object(yt.a)(Object.entries(de.model).map(Fe=>{let[tt,ut]=Fe;return[tt.toUpperCase(),ut]}));Le.model=new ne(Re,!0)}else return null;if(de.omniswitcher_model){const Re=Object(yt.a)(Object.entries(de.omniswitcher_model).map(Fe=>{let[tt,ut]=Fe;return[tt.toUpperCase(),ut]}));Le.omniswitcherModel=new ne(Re,!0)}else Le.omniswitcherModel=Le.model;return Le})}}v(In,"autocomplete_model_cache_AutocompleteModelCache");let pt=null;function Tt(G){return pt||(pt=new In(G)),pt}v(Tt,"getAutocompleteModelCache");var Lt=e("bJfW");class gt extends mn{fetchData(){return Object(Lt.c)(this.teamId)?Object(Wt.dispatchForTeamId)(this.teamId,Object(Ht.b)()).catch(de=>({exception:de})).then(de=>new it({topEmojis:de.top_emojis,topMpims:de.top_mpims,topChannels:de.top_channels,topUsers:de.top_users,emojiFeatures:de.emoji_features,mpimFeatures:de.mpim_features,channelFeatures:de.channel_features,userFeatures:de.user_features,mpimCtr:de.mpim_ctr,channelCtr:de.channel_ctr,userCtr:de.user_ctr,emojiCtr:de.emoji_ctr,otherCtr:de.other_ctr,defaultFeatureNames:de.default_features,topAppActions:de.top_app_actions,topGlobalActions:de.top_global_actions,topSlashCommands:de.top_slash_commands,topWorkflowTriggers:de.top_workflow_triggers,topChannelActions:de.top_channel_actions,appActionCtr:de.app_action_ctr,globalActionCtr:de.global_action_ctr,slashCommandCtr:de.slash_command_ctr,workflowTriggerCtr:de.workflow_trigger_ctr,channelActionCtr:de.channel_action_ctr,usersHasDmed:de.users_has_dmed})):Xt.a.resolve(new it)}getStaleWhileRevalidate(){return super.getStaleWhileRevalidate(new it)}}v(gt,"autocomplete_features_cache_AutocompleteFeaturesCache");class it{getFeatures(de,Le){const Re=this.topEntities[Le],Fe=this.featureNames[Le]||this.featureNames.default,tt=this.defaultEntityFeatures[Le],ut=Re&&Re[de];if(ut&&Fe){const St={};for(let Yt=0;Yt<Fe.length;Yt++)St[Fe[Yt]]=ut[Yt];const tn={};for(const Yt of Object.keys(tt))tn[Yt]=St[Yt]||tt[Yt];return tn}return tt}getEntityCtr(de){return this.entityCtr[de]||this.otherEntityCtr}getUserDmChannelMetadata(de){return this.usersHasDmed?this.usersHasDmed[de]:null}constructor({topEmojis:de,topMpims:Le,topChannels:Re,topUsers:Fe,emojiFeatures:tt,mpimFeatures:ut,channelFeatures:St,userFeatures:tn,mpimCtr:Yt,channelCtr:un,userCtr:$t,emojiCtr:gn,otherCtr:et,defaultFeatureNames:An,topAppActions:pn,topGlobalActions:Pn,topSlashCommands:Rn,topWorkflowTriggers:an,topChannelActions:Gt,appActionCtr:kn,globalActionCtr:Mn,slashCommandCtr:cs,workflowTriggerCtr:Vn,channelActionCtr:bn,usersHasDmed:Qn}={}){this.topEntities={emoji:de,mpim:Le,channel:Re,member:Fe,appAction:pn,globalAction:Pn,slashCommand:Rn,workflowTrigger:an,channelAction:Gt},this.featureNames={emoji:tt,mpim:ut,channel:St,member:tn,default:An},this.otherEntityCtr=et??.179,this.entityCtr={mpim:Yt??.014,channel:un??.148,member:$t??.132,emoji:gn??.094,appAction:kn??this.otherEntityCtr,globalAction:Mn??this.otherEntityCtr,slashCommand:cs??this.otherEntityCtr,workflowTrigger:Vn??this.otherEntityCtr,channelAction:bn??this.otherEntityCtr},this.defaultEntityFeatures={};for(const Gn of Object.keys(this.entityCtr))this.defaultEntityFeatures[Gn]={team_ctr_90dd:this.entityCtr[Gn],user_ctr_30dd:this.entityCtr[Gn]};this.usersHasDmed=Qn}}v(it,"AutocompleteFeatures");const ft=[];function Ke(G){let{teamId:de,enterpriseId:Le}=G;const Re=Le||de;return ft[Re]||(ft[Re]=new gt(de)),ft[Re]}v(Ke,"getAutocompleteFeaturesCache");var Ve=e("4CqU"),Be=e("RVJP"),Ye=e("a/vO"),we=e("G5NC"),mt=e("t4eE"),Pt=e("Zbwg"),Nt=e("IeI6");const Ze=new at.b("search"),Xe="autocompleteFallback";let Ct=v(class{sort(de,Le){const Re=Object(rt.d)({state:de});Re.mark("sorter-sort-mark");const Fe=this.prepSuggestions(de,Le);this.extractFeatures(de,Fe);const tt=this.scoreItems(de,Fe),ut=this.sortByScore(tt);Re.measureAndClear("sorter-sort-mark","sorter-sort");const St=2;return this.boostExactMatches(ut,St)}boostExactMatches(de,Le){const Re=de.slice(0,Le),Fe=[],tt=[];for(let ut=Le;ut<de.length;ut++){const St=de[ut];St.isExactMatch||St.bestNameIsExactMatch?Fe.push(St):tt.push(St)}return[...Re,...Fe,...tt]}getModels(de,Le,Re){const Fe={model:ke[de],omniswitcherModel:ke[de]};if(Le){const ut=Tt(Re).getStaleWhileRevalidate(Fe);return ut===null||ut.model===null||ut.model===void 0?Fe:ut}return Fe}getHistoryChannels(de){if(Object(Be.d)(de,"sq_sorter_history")!=="treatment")return{};if(!Object(we.a)())return{};const Le=Object(Ye.a)(Object(Wt.getStateForClientStore)());for(let Fe=0;Fe<Le.length;Fe++)Le[Fe].position=Fe+1;const Re={};return Le.filter(Fe=>!Object(mt.b)()&&Fe.teamId!==this.teamId||!Fe.primaryView?!1:Object(Pt.a)(Fe.primaryView)).forEach(Fe=>{Fe.primaryView in Re||(Re[Fe.primaryView]={ts:Fe.ts/1e3,position:Fe.position})}),Re}prepSuggestions(de,Le){const Re=Object(S.a)(Object(bt.a)(this.query));if(this.options.currentChannel&&Re.length<=1&&!Object(O.i)(this.options.currentChannel)&&!Object(O.g)(this.options.currentChannel)){const $t=Le.filter(gn=>gn.type==="member"||Object(m.nb)(gn.item)).map(gn=>(gn.item||gn).id);Object(Wt.dispatchForTeamId)(this.teamId,Object(Ve.a)({channelId:this.options.currentChannel.id,userIds:$t}))}let Fe=null;Object(Be.d)(de,"snd_autocomplete_features_cache")==="treatment"&&(Fe=Ke({teamId:this.teamId,enterpriseId:this.enterpriseId}).getStaleWhileRevalidate());const tt=Le.length,ut=Object(dt.a)(de),St=Object(ct.d)(de),tn=Object(xe.e)(St),Yt=this.getHistoryChannels(de),un={};return Le.forEach($t=>{const gn=$t.item;($t.type==="mpim"||Object(O.i)($t.item))&&Object(d.E)(gn).forEach(An=>{if(An!==ut){const pn=un[An]||{itemCount:0,hitCount:0},Pn=parseFloat(Object(d.B)(de,gn)),Rn=parseFloat(Object(je.b)(de,gn.id));Pn&&(pn.lastReadTs?pn.lastReadTs=Math.max(pn.lastReadTs,Pn):pn.lastReadTs=Pn),Rn&&(pn.latestMsgTs?pn.latestMsgTs=Math.max(pn.latestMsgTs,Rn):pn.latestMsgTs=Rn),pn.hitCount+=$t.hitCount||0,pn.itemCount+=$t.itemCount||0,un[An]=pn}})}),Le.map($t=>{const gn=$t.item||$t,et={query:this.query,normalizedQuery:Re,id:gn.id,numResults:tt,...$t};if($t.type==="member"||Object(m.nb)($t.item)){var An,pn;const bn=gn.id&&Object(pe.l)(de,gn.id),Qn=gn.id&&Fe&&Fe.getUserDmChannelMetadata(gn.id);et.remoteImMetadata=Qn,et.im=bn,et.latestImTs=bn&&Object(je.b)(de,bn.id),et.imHasDraft=bn&&Object(d.w)(de,bn.id),et.imIsStarred=bn&&Object(d.qb)(de,bn),et.name=Object(m.q)($t.item),et.lastReadImTs=Object(d.B)(de,bn),et.lastReadRemoteImMetadataTs=Qn==null?void 0:Qn.last_read_abs,Object(xe.e)($t.item)===tn&&(et.sameTeam=!0);let es;this.options.currentChannel&&(es=this.options.currentChannel),es&&(Object(O.i)(es)?et.isMemberOfCurrentChannel=es.members.includes($t.item.id):Object(O.g)(es)||(et.isMemberOfCurrentChannel=Object(Nt.a)(de,gn,es))),et.priority=Object(d.M)(de,bn),et.suggestionType=l.b.USER_NAVIGATION,et.isNavigational=!0,et.historyTs=bn&&((An=Yt[bn.id])===null||An===void 0?void 0:An.ts),et.historyPosition=bn&&((pn=Yt[bn.id])===null||pn===void 0?void 0:pn.position);const ms=un[gn.id];ms&&(et.mpimFeatures=ms)}else et.name=gn.name||gn.string;if($t.type==="channel"||Object(O.e)($t.item)){var Pn,Rn;et.suggestionType=l.b.CHANNEL_NAVIGATION,et.isNavigational=!0,et.isChannelMember=Object(O.l)(gn)&&!Object(u.a)(gn)&&Object(d.db)(gn),et.hasDraft=Object(d.w)(de,gn.id),et.offlineFeatures=Fe&&Fe.getFeatures($t.item.id,"channel"),et.historyTs=(Pn=Yt[gn.id])===null||Pn===void 0?void 0:Pn.ts,et.historyPosition=(Rn=Yt[gn.id])===null||Rn===void 0?void 0:Rn.position,et.latestTs=Object(je.b)(de,gn.id),et.lastReadTs=Object(d.B)(de,gn),et.priority=Object(d.M)(de,gn),et.isStarred=Object(d.qb)(de,gn)}if($t.type==="mpim"||Object(O.i)($t.item)){var an,Gt;et.suggestionType=l.b.MPIM_NAVIGATION,et.isNavigational=!0;const Qn=Object(d.E)(gn).map(Gn=>Object(ct.g)(de,Gn));et.isMpimWithDeactivatedMember=Object(s.a)(Qn,Gn=>Object(m.eb)(Gn)||Object(m.xb)(Gn)),et.isMpimWithOnlyInternalMembers=Object(t.a)(Qn,Gn=>!Object(g.a)(Gn)),et.hasDraft=Object(d.w)(de,gn.id),et.name=Object(d.Bb)(de,$t.item),et.offlineFeatures=Fe&&Fe.getFeatures($t.item.id,"mpim"),et.historyTs=(an=Yt[gn.id])===null||an===void 0?void 0:an.ts,et.historyPosition=(Gt=Yt[gn.id])===null||Gt===void 0?void 0:Gt.position,et.priority=Object(d.M)(de,gn),et.maxLastReadTsOfAllMembers=null,et.maxLatestMsgTsOfAllMembers=null;let es=0,ms=0,ls=0,fs=0,vs=0;Qn.forEach(Gn=>{if(Gn.id!==ut){const Ps=Gn.id&&Object(pe.l)(de,Gn.id),$s=Ps&&Object(d.B)(de,Ps),ks=Gn.id&&Fe&&Fe.getUserDmChannelMetadata(Gn.id),os=ks&&ks.last_read_abs/1e6,ps=Ps||ks,bs=$s?parseFloat($s):os;if(ps){vs+=1,bs&&(ls+=1,et.maxLastReadTsOfAllMembers=Math.max(et.maxLastReadTsOfAllMembers,bs),es+=bs);const fn=Ps&&parseFloat(Object(je.b)(de,Ps.id));fn&&(fs+=1,et.maxLatestMsgTsOfAllMembers=Math.max(et.maxLatestMsgTsOfAllMembers,fn),ms+=fn)}}}),et.avgLastReadTsOfAllMembers=es===0?null:es/ls,et.avgLatestMsgTsOfAllMembers=ms===0?null:ms/fs,et.pctNonEmptyDmsForAllMembers=ls/(Qn.length-1)*100,et.pctNonNullDmsForAllMembers=vs/(Qn.length-1)*100}if($t.type==="team"&&(et.suggestionType=l.b.TEAM_NAVIGATION,et.isNavigational=!0),$t.type==="view"&&(et.suggestionType=l.b.VIEW_NAVIGATION,et.isNavigational=!0),$t.type==="appAction"&&(et.suggestionType=l.b.APP_ACTION,et.isAction=!0,et.offlineFeatures=Fe&&Fe.getFeatures($t.item.id,"appAction")),$t.type==="app"&&(et.suggestionType=l.b.APP,et.isApp=!0),$t.type==="emoji"&&(et.name=et.emojiBestNameMatch,et.suggestionType=l.b.EMOJI,et.isNavigational=!0,et.offlineFeatures=Fe&&Fe.getFeatures($t.item.id,"emoji")),$t.type==="slashCommand"&&(et.suggestionType=l.b.SLASH_COMMAND,et.isApp=!0,et.name=et.name.substring(1),et.firstWordOfRawQuery&&(et.query=et.firstWordOfRawQuery,et.normalizedQuery=et.firstWordOfRawQuery),et.offlineFeatures=Fe&&Fe.getFeatures($t.item.id,"slashCommand")),$t.type==="globalAction"&&(et.suggestionType=l.b.GLOBAL_ACTION,et.isApp=!0,et.offlineFeatures=Fe&&Fe.getFeatures($t.item.id,"globalAction")),$t.type==="channelAction"&&(et.suggestionType=l.b.CHANNEL_ACTION,et.isApp=!0,et.offlineFeatures=Fe&&Fe.getFeatures($t.item.id,"channelAction")),$t.type==="workflowTrigger"&&(et.suggestionType=l.b.WORKFLOW_TRIGGER,et.isApp=!0,et.offlineFeatures=Fe&&Fe.getFeatures($t.item.id,"workflowTrigger")),$t.type==="file"){et.suggestionType=l.b.FILE_NAVIGATION,et.isNavigational=!0,et.fileSuggestionsFromSearcher=!0;const bn=et.file||et.item;et.id=bn.id,et.fileId=bn.id,et.logId=bn.id,et.fileType=bn.highlight_type||bn.filetype,et.name=bn.title,et.fileTypeDescription=bn.is_external?Object(Bt.a)(bn,de):bn.pretty_type,et.fileTypeDescription==="Arugula"&&(et.fileTypeDescription=Ze.t("Post")),et.fromCurrentUser=bn.user===ut;const Qn=bn.user&&Object(pe.l)(de,bn.user),es=bn.user&&Fe&&Fe.getUserDmChannelMetadata(bn.user);if(et.hasNonNullDmsWithCreator=Qn!==null,et.hasNonNullLocalOrRemoteDmsWithCreator=Qn!==null||es!==null,et.lastReadTs=bn.last_read,bn.shares){const ls=bn.shares.public&&Math.max(...Object.values(bn.shares.public).flatMap(vs=>vs.map(Gn=>parseFloat(Gn.ts)))),fs=bn.shares.private&&Math.max(...Object.values(bn.shares.private).flatMap(vs=>vs.map(Gn=>parseFloat(Gn.ts))));ls&&fs?et.latestShareTs=ls>fs?ls:fs:et.latestShareTs=ls||fs}const ms=st(bn);if(ms&&(et.latestActionTs=ms),Fe){const ls=bn.channels&&Array.isArray(bn.channels)&&bn.channels.length&&Math.max(...bn.channels.map(vs=>Fe.getFeatures(vs,"channel").user_ctr_30dd)),fs=bn.groups&&Array.isArray(bn.groups)&&bn.groups.length&&Math.max(...bn.groups.map(vs=>Fe.getFeatures(vs,"mpim").user_ctr_30dd));ls>0&&fs>0?et.fileChannelCtr=Math.max(ls,fs):ls>0?et.fileChannelCtr=ls:fs>0&&(et.fileChannelCtr=fs),bn.user?et.fileUserCtr=Fe.getFeatures(bn.user,"member").user_ctr_30dd:et.fileUserCtr=Fe.getEntityCtr("member")}}if($t.type==="link"&&(et.suggestionType=l.b.LINK_NAVIGATION,et.isNavigational=!0,et.name=$t.item.title||$t.item.url),$t.type==="modal"&&(et.suggestionType=l.b.MODAL_NAVIGATION,et.name=$t.item.name),$t.type==="queryHistory"&&(et.suggestionType=l.b.QUERY_HISTORY,et.is_type_query_history=!0,et.id=Object(Ft.a)($t.id||$t.name||$t.string),et.logId=et.id,et.exact_string=$t.string),$t.type==="query"||$t.type==="queryUser"||$t.type==="queryHistory"){var kn,Mn,cs;et.is_type_query_completion=!0,et.lastSuggestionToken=!et.suggestionTokenList||et.suggestionTokenList.length<1?null:et.suggestionTokenList[et.suggestionTokenList.length-1],et.frecencyScore=et.lastSuggestionToken&&et.lastSuggestionToken._frecencyScore,et.scoringContext=((kn=et.lastSuggestionToken)===null||kn===void 0?void 0:kn._scoringContext)||{},et.lastTokenMemberOrNull=null,et.lastTokenChannelOrNull=null;const bn=et.lastSuggestionToken&&(et.lastSuggestionToken.type===l.a.FILTER_FROM||et.lastSuggestionToken.type===l.a.FILTER_TO||et.lastSuggestionToken.type===l.a.FILTER_WITH),Qn=et.lastSuggestionToken&&et.lastSuggestionToken.type===l.a.FILTER_IN;!((Mn=et.lastSuggestionToken)===null||Mn===void 0)&&Mn._id&&(et.lastTokenMemberOrNull=bn&&Object(ct.g)(de,et.lastSuggestionToken._id),et.lastTokenChannelOrNull=Qn&&(Object(pe.c)(de,et.lastSuggestionToken._id)||Object(pe.l)(de,et.lastSuggestionToken._id)),et.priority=et.lastTokenChannelOrNull&&Object(d.M)(de,et.lastTokenChannelOrNull)),et.lastSuggestionToken&&et.lastSuggestionToken._name&&(et.lastTokenMemberOrNull||(et.lastTokenMemberOrNull=bn&&Object(ct.h)(de,et.lastSuggestionToken._name)),et.lastTokenChannelOrNull||(et.lastTokenChannelOrNull=Qn&&Object(pe.d)(de,et.lastSuggestionToken._name))),Object(ze.e)(et.lastTokenMemberOrNull)&&(et.lastTokenMemberOrNull=null),et.lastTokenMemberName=Object(m.q)(et.lastTokenMemberOrNull)||null,Object(ze.e)(et.lastTokenChannelOrNull)?et.lastTokenChannelOrNull=null:(et.lastTokenChannelLastRead=Object(d.B)(de,et.lastTokenChannelOrNull),et.lastTokenChannelIsStarred=Object(d.qb)(de,et.lastTokenChannelOrNull)),et.lastTokenChannelName=Object(d.u)(de,et.lastTokenChannelOrNull)||null,et.lastTokenIm=et.lastTokenMemberOrNull&&et.lastTokenMemberOrNull.id&&Object(pe.l)(de,et.lastTokenMemberOrNull.id),et.lastTokenImLatest=Object(je.b)(de,(cs=et.lastTokenIm)===null||cs===void 0?void 0:cs.id),et.lastTokenImLastRead=Object(d.B)(de,et.lastTokenIm),et.priority=Object(d.M)(de,et.lastTokenIm),et.lastTokenImIsStarred=Object(d.qb)(de,et.lastTokenIm)}if($t.type==="query"&&(et.suggestionType=l.b.QUERY),$t.type==="queryUser"&&(et.suggestionType=l.b.QUERY_USER),$t.type==="queryHistory"&&(et.suggestionType=l.b.QUERY_HISTORY),$t.type==="query"||$t.type==="queryUser"||$t.type==="queryHistory"){var Vn;et.normalizedQuery=Object(S.a)(Object(bt.a)(et.query)),et.logId=((Vn=et.lastSuggestionToken)===null||Vn===void 0?void 0:Vn.logId)||"",et.name=et.suggestionTokenList.map(bn=>bn.toString()).join(" ")}return $t.type==="quickMessage"&&(et.isNavigational=!0,et.suggestionType=l.b.MESSAGE_NAVIGATION),et.entityTypeCtr=Fe&&Fe.getEntityCtr($t.type),et})}extractFeatures(de,Le){Le.forEach(Re=>{const Fe=R(Re,this.options.source);this.featureVectors[Re.id]=Fe})}selectModelForScoring(de,Le){return this.model}scoreItems(de,Le){const Re={source:this.options.source},Fe=this.selectModelForScoring(de,this.options.source);return Le.map(tt=>{const ut=this.featureVectors[tt.id],St=Fe.score(ut,Re);let tn=null;return this.options.explain&&(tn=Fe.explain(ut,Re)),{...tt,modelScore:St,featureVector:ut,explain:tn}})}sortByScore(de){return de.sort((Le,Re)=>Re.modelScore-Le.modelScore)}constructor({query:de,options:Le={},modelRemote:Re=!1,teamId:Fe=null,enterpriseId:tt=null}){this.query=de,this.options=Le;let ut=Le.model;ut===void 0&&(ut=Xe);const St=this.getModels(ut,Re,Fe||tt);this.model=St.model,this.omniswitcherModel=St.omniswitcherModel,this.teamId=Fe,this.enterpriseId=tt,this.featureVectors={}}},"Sorter")},od0p:function(K,n,e){"use strict";e.d(n,"a",function(){return r});var s=e("bPB8"),t=e("pu3F"),a=e("oNuo");function r(){return Object(s.a)(Object.keys(t.g).map(a.a))}v(r,"getAllBroadcastKeywords")},ohbk:function(K,n,e){"use strict";var s=e("Lgge"),t=e("NFsq"),a=e("c8Bs"),r=e("fujP"),c=e("jeQL"),o=e("n3tL"),i=e("SQ0V"),l=e("kme9"),u=e("tYiI"),f=e("E3dU"),d=e("xwCZ"),O=e("aVEU"),m=e("s4P+"),g=e("Zbwg"),E=e("eUIW"),p=e("G5NC"),h=e("Yauy"),_=e("gVOt"),b=e("E97Y"),I=e("C3vN"),C=e("Nnn3"),y=e("25cE"),P=e("2vQQ"),T=e("YxGS"),S=e("sjOx"),A=e("JfJV"),R=e("SZMM"),x=e("O86Y"),M=e("EXbH"),j=e("lhZz"),W=e("S36j"),U=e("t4eE"),B=e("Afhv"),Y=e("mLC8"),z=e("iZ9S"),F=e("gpLM"),V=e("bYrq"),L=e("l1I1"),Q=e("RVJP"),ee=e("7nVj"),te=e("Qttk"),le=e("OCIX"),Oe=e("Wn1n"),he=e("0Xjs"),Ee=e("LvqX"),ge=e("Z6bF"),J=e("2VFn"),H=e("4hjS"),Z=e("hgYl");function q(w){switch(w){case Z.b.APP:return Z.b.APP;case Z.b.MESSAGES:return;case Z.b.ABOUT:return Z.b.ABOUT;default:return}}v(q,"tabIdToRouteParam");var k=e("7xYR"),se=e("bczA");const re=Object(i.c)("Sets the primary view of a workspace to a conversation or synthetic view",function(w,ce){let{id:ie,startTs:oe,teamId:me=Object(M.d)(),fromDeepLink:ue=!1,forceMessagesTab:_e=!1,routeParams:be={},reason:Ae="set-primary-view",replaceHistoryState:Ce=!1,openThread:De=!1}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(!Object(g.a)(ie)&&!Object(u.a)(ie)&&!Object(E.a)(ie)&&!Object(t.a)(T.a,ie)&&!Object(P.h)(ce(),ie)&&!Object(L.a)(ie)&&ie!==he.q.QUIP_FILES)return Object(m.a)({getState:ce}).error("setPrimaryView Error: invalid-params"),s.a.reject(new Error("invalid-params"));if(Object(V.b)()&&!Object(L.a)(ie)&&Object(R.c)()){const ke=Object(R.b)();return ke?(ke.focus(),ke.sendQuery({type:re.getType(),payload:{id:ie,startTs:oe,teamId:me,fromDeepLink:ue,forceMessagesTab:_e,routeParams:be,reason:Ae,replaceHistoryState:!1}})):s.a.reject(new Error("multiverse-redirect-no-parent-window"))}w(Object(te.a)());const Pe=ce(),Ue=Object(H.m)(Pe),ae=Object(Oe.a)(Pe);let ne=!0;if(se.b){const ke=Object(se.b)(Pe);ne=Object(a.a)(be,(rt,pe)=>rt===ke[pe]),ke.entityId==="lists"&&Object(r.a)(be)&&ke.listsViewName&&(ne=!1)}w(Object(F.b)())||w(Object(F.a)({id:ie,params:Object(r.a)(be)?null:be,container:J.h.Primary,forceFocus:!0}));const Ie=Object(ee.a)(Pe);if(ie===ae&&ne&&!oe&&!ue&&(!Object(p.a)()||me===Object(x.g)(Pe))&&!Ie)return s.a.resolve();if(Y.d.isEnabled()&&Object(Y.e)(ie)&&Y.d.start({label:Y.a[ie],options:{teamId:me}}),!Object(U.b)()&&me!==Object(x.g)(Pe)){const ke=Object(A.k)(y.b,{entityId:T.b[ie]||ie,teamId:me}),rt=Object(j.getStateForClientStore)(),pe=Object(k.getWorkspacesMeta)(rt),je=pe&&pe[me]&&pe[me].subdomain,xe=Object(U.a)(je);return Object(B.a)(ke,xe),s.a.resolve()}const Me=Object(j.getStoreInstanceByTeamId)(me).getState();let Ne=Object(se.a)(Me)||y.b;Ie&&(Ne=y.b,w(Object(W.b)(null))),De&&be&&Object(le.a)(be==null?void 0:be.threadId)&&(Ne=y.w);const He=Me&&Object(P.h)(Me,ie)&&Object(P.d)(ie).path,Et=Object(z.d)()===z.a.USER_TEAM?"teamOrEnterpriseId":"teamId",Je=Object(c.a)({...Object(se.b)(Me),channelCanvasId:void 0,...be,[Et]:me,tabId:void 0,entityId:He||T.b[ie]||ie,timestamp:oe},ke=>ke===void 0);Je.listsViewName&&Je.entityId==="lists"&&Object(r.a)(be)&&(Je.listsViewName=void 0,Je.focusRecordId=void 0,Je.listViewId=void 0),Je.draftId&&Je.entityId!=="composer"&&(Je.draftId=void 0),Je.invitationsTabId&&Je.entityId!=="slack-connect"&&(Je.invitationsTabId=void 0),Je.outboxTabId&&Je.entityId!=="outbox"&&(Je.outboxTabId=void 0),Je.searchQuery&&Je.entityId!==S.y&&(Je.searchQuery=void 0),Je.channelFilesId&&Je.entityId!=="browse-channel-files"&&(Je.channelFilesId=void 0),Je.itemId&&Je.entityId!=="later"&&(Je.itemId=void 0),!(Ee.a===null||Ee.a===void 0)&&Ee.a.includes(Je.viewName)&&Je.entityId!=="slack-connect"&&(Je.viewName=void 0),Je.listsViewName&&Je.entityId!=="lists"&&(Je.listsViewName=void 0,Je.focusRecordId=void 0,Je.listViewId=void 0),Object(g.a)(ie)&&Je.viewingFromChannelBrowser&&(Je.viewingFromChannelBrowser=void 0),!Object(L.a)(ie)&&Je.canvasOpenedFromId&&(Je.canvasOpenedFromId=void 0);const qe=Object(f.c)(Pe,ie);if(Object(b.g)(qe)){const ke=Object(_.a)(qe),rt=Object(d.g)(Pe,ke),pe=Object(C.a)(Pe,rt)||void 0,je=Object(I.d)(rt)||void 0,xe=qe&&Ue?Object(H.i)(Pe,qe.id):null;pe||je?!_e&&!Je.timestamp&&!Object(h.R)(qe)&&ae!==Je.entityId&&(Je.tabId=xe?q(xe):"app"):w(Object(l.a)({channelId:ie,tabId:Je.tabId}))}if(Je.quipDocId&&Ne===y.o){const ke=Object(ge.a)(qe);(ke==null?void 0:ke.quipDocId)!==Je.quipDocId&&(Je.quipDocId=void 0,be!=null&&be.threadId&&Object(le.a)(be==null?void 0:be.threadId)?Ne=y.w:Ne=y.b)}return Object(j.dispatchForClientStore)(Object(O.b)({ts:Date.now(),teamId:me,primaryView:ie,routeParams:be,experimentClsMoreHistoryGroupTreatment:Object(Q.d)(Pe,"cls_more_history")==="treatment"})),ue&&be.tabId&&(Je.tabId=be.tabId),Object(A.h)(Ne,Je,{reason:Ae,shouldReplaceState:Ce}).then(ke=>ke||s.a.reject(new Error("setPrimaryView: navigateToRoute did not navigate")))});re.meta={name:"createThunk",key:"createThunksetPrimaryView",description:"Sets the primary view of a workspace to a conversation or synthetic view"},re.propTypes={id:o.default.string.isRequired,startTs:o.default.string};var X=n.a=re},olrC:function(K,n,e){"use strict";var s=e("eBKt"),t=e("O86Y"),a=e("xwCZ"),r=e("V+O/"),c=e("ehcD");const o=v((i,l,u)=>{if(!l||!u||!i)return!1;var f;const d=typeof l=="string"?(f=Object(a.g)(i,l))!==null&&f!==void 0?f:void 0:l;if(Object(r.b)(d))return!1;const O=Object(t.g)(i);var m;const g=(m=Object(c.h)(d,O)?Object(t.i)(i):Object(c.c)(i,d))!==null&&m!==void 0?m:"";return Object(s.a)(i,g,u)},"isMemberExternalLimited");n.a=o},onsa:function(K,n,e){K.exports=e.p+"gym-preview-cfff9c8.jpg"},opHY:function(K,n,e){"use strict";e.d(n,"c",function(){return t}),e.d(n,"n",function(){return a}),e.d(n,"o",function(){return r}),e.d(n,"l",function(){return c}),e.d(n,"e",function(){return o}),e.d(n,"g",function(){return i}),e.d(n,"a",function(){return l}),e.d(n,"b",function(){return u}),e.d(n,"f",function(){return f}),e.d(n,"h",function(){return d}),e.d(n,"d",function(){return O}),e.d(n,"k",function(){return m}),e.d(n,"m",function(){return g}),e.d(n,"i",function(){return E}),e.d(n,"j",function(){return p});var s=e("DwFS");const t=Object(s.a)("Sets the highlight property of a download");t.meta={name:"createAction",key:"createActioninternalSetDownloadHighlight",description:"Sets the highlight property of a download"};const a=Object(s.a)("An update of the desktop state from the desktop app");a.meta={name:"createAction",key:"createActionupdateFromDesktop",description:"An update of the desktop state from the desktop app"};const r=Object(s.a)("An update of the window frame state");r.meta={name:"createAction",key:"createActionupdateWindowFrameState",description:"An update of the window frame state"};const c=Object(s.a)("Starts a download on the desktop app");c.meta={name:"createAction",key:"createActionstartDesktopDownload",description:"Starts a download on the desktop app"};const o=Object(s.a)("Pauses a download on the desktop app");o.meta={name:"createAction",key:"createActionpauseDesktopDownload",description:"Pauses a download on the desktop app"};const i=Object(s.a)("Resumes a download on the desktop app");i.meta={name:"createAction",key:"createActionresumeDesktopDownload",description:"Resumes a download on the desktop app"};const l=Object(s.a)("Cancels a download on the desktop app");l.meta={name:"createAction",key:"createActioncancelDesktopDownload",description:"Cancels a download on the desktop app"};const u=Object(s.a)("Clears all stopped downloads for the active team");u.meta={name:"createAction",key:"createActionclearTeamDesktopDownloads",description:"Clears all stopped downloads for the active team"};const f=Object(s.a)("Removes a download on the desktop app");f.meta={name:"createAction",key:"createActionremoveDesktopDownload",description:"Removes a download on the desktop app"};const d=Object(s.a)("Retries a download on the desktop app");d.meta={name:"createAction",key:"createActionretryDesktopDownload",description:"Retries a download on the desktop app"};const O=Object(s.a)("Opens a file downloaded by the desktop app");O.meta={name:"createAction",key:"createActionopenDesktopDownload",description:"Opens a file downloaded by the desktop app"};const m=Object(s.a)("Shows the folder that contains the downloaded file");m.meta={name:"createAction",key:"createActionshowDesktopDownload",description:"Shows the folder that contains the downloaded file"};const g=Object(s.a)("Toggles the performance monitor");g.meta={name:"createAction",key:"createActiontogglePerformanceMonitor",description:"Toggles the performance monitor"};const E=Object(s.a)("Sets the currently active team in the SSB");E.meta={name:"createAction",key:"createActionsetActiveTeam",description:"Sets the currently active team in the SSB"};const p=Object(s.a)("Update canvas system text settings in the SSB");p.meta={name:"createAction",key:"createActionsetCanvasSystemTextSettings",description:"Update canvas system text settings in the SSB"}},otRl:function(K,n,e){"use strict";e.d(n,"a",function(){return a});var s=e("RB1+"),t=e("qMw6");function a(r){let{inputText:c,inputDelta:o,channelId:i,threadTs:l}=r;const u=Object(s.a)({viewContext:t.a.THREAD,channelId:i,threadTs:l});u&&(o?u.setContents({contents:o.ops}):u.setText(c));const f=Object(s.a)({viewContext:t.a.THREADS_VIEW,channelId:i,threadTs:l});f&&(o?f.setContents({contents:o.ops}):f.setText(c))}v(a,"populateThreadInputs")},ovHh:function(K,n,e){"use strict";e.d(n,"a",function(){return l});var s=e("Lgge"),t=e("SQ0V"),a=e("6l10"),r=e("2mvv"),c=e("KGIc"),o=e("S4vl");function i(u){return u.isOk}v(i,"isOkResult");const l=Object(t.c)("Send survey results",(u,f,d)=>{var O,m;const g=f();var E;const p=(E=d.callId)!==null&&E!==void 0?E:g.activeCall.id;if(!p)return Object(o.b)(!1,"There should have been a call in order to send survey results."),s.a.reject(new Error("SendSurveyResult: No call"));var h;const _=(h=d.type)!==null&&h!==void 0?h:"vo-survey",b=i(d)?void 0:{response_requested:!1,comments:d.comments,is_video:(O=g.activeCall)===null||O===void 0?void 0:O.hasVideoBeenEnabled,is_ss:(m=g.activeCall)===null||m===void 0?void 0:m.hasScreenshareBeenEnabled},I={room:p,event_type:_,event_value:i(d)?"ok":d.notOkResponses.join(","),event_metadata:JSON.stringify(b)};return Object(a.a)({apiUrl:"/api/",method:"screenhero.rooms.userEvent",token:Object(r.b)(g),versionTs:Object(c.f)(),versionUid:Object(c.h)(),args:I})?s.a.resolve():s.a.reject(new Error("SendSurveyResult: beacon failed"))});l.meta={name:"createThunk",key:"createThunksendSurveyResult",description:"Send survey results"}},"p+AA":function(K,n,e){"use strict";var s=e("rIJ2");const t=20;let a;function r(){return a===void 0&&(a=Object(s.a)(t)),a}v(r,"shouldMeasurePerformanceMetrics"),n.a=r},"p0i/":function(K,n,e){"use strict";e.d(n,"d",function(){return c}),e.d(n,"i",function(){return o}),e.d(n,"f",function(){return l}),e.d(n,"b",function(){return u}),e.d(n,"g",function(){return f}),e.d(n,"a",function(){return d}),e.d(n,"e",function(){return O}),e.d(n,"c",function(){return m}),e.d(n,"h",function(){return g});var s=e("ZKjC"),t=e("i5Ig"),a=e("uZL6"),r=e("LZPg");const c=Object(s.b)(E=>E.huddleTroubleshooting.view.activeTab);c.meta={name:"createSelector",key:"createSelectorgetTroubleshootingPanelActiveTab",description:E=>E.huddleTroubleshooting.view.activeTab};const o=Object(s.b)(E=>E.huddleTroubleshooting.view.shouldDisplayPanel);o.meta={name:"createSelector",key:"createSelectorshouldDisplayTroubleshootingPanel",description:E=>E.huddleTroubleshooting.view.shouldDisplayPanel};const i=Object(s.b)(E=>E.huddleTroubleshooting.metrics.stable);i.meta={name:"createSelector",key:"createSelectorgetStableMetrics",description:E=>E.huddleTroubleshooting.metrics.stable};const l=Object(s.b)(E=>E.huddleTroubleshooting.metrics.unstable);l.meta={name:"createSelector",key:"createSelectorgetUnstableMetrics",description:E=>E.huddleTroubleshooting.metrics.unstable};const u=Object(s.b)(E=>E.huddleTroubleshooting.warnings.stable);u.meta={name:"createSelector",key:"createSelectorgetStableWarnings",description:E=>E.huddleTroubleshooting.warnings.stable};const f=Object(s.b)(E=>E.huddleTroubleshooting.warnings.unstable);f.meta={name:"createSelector",key:"createSelectorgetUnstableWarnings",description:E=>E.huddleTroubleshooting.warnings.unstable};const d=Object(s.b)(E=>E.huddleTroubleshooting.alerts.stable);d.meta={name:"createSelector",key:"createSelectorgetStableAlerts",description:E=>E.huddleTroubleshooting.alerts.stable};const O=Object(s.b)(E=>E.huddleTroubleshooting.alerts.unstable);O.meta={name:"createSelector",key:"createSelectorgetUnstableAlerts",description:E=>E.huddleTroubleshooting.alerts.unstable};const m=Object(a.a)(E=>d(E)||t.b,E=>O(E)||t.b,E=>u(E)||t.b,(E,p,h)=>{const{isMicrophoneBlocked:_,isCameraBlocked:b,isDisconnected:I,isMicrophoneNotSendingAudio:C}=E,{isAudioQualityPoor:y,isCpuCompetitionPoor:P,isNetworkQualityPoor:T}=p,{isCameraProbablyIphone:S,isSpeakerBluetooth:A}=h,R=!!(y&&T),x=!!(y&&P);return{shouldSurfaceGeneralWarning:!!(R||x||b||_||C||I),shouldSurfaceNetworkWarning:R,shouldSurfaceSystemWarning:x,shouldSurfaceDevicesWarning:!!(A||b||_||C||S)}}),g=Object(a.a)(r.V,r.y,(E,p)=>{const{isCameraEnabled:h}=E;return!!(h||p)})},p5o1:function(K,n,e){"use strict";e.d(n,"a",function(){return t}),e.d(n,"b",function(){return a});var s=e("w2SD");const{addObjects:t,removeObjects:a}=s.a},p6pj:function(K,n,e){"use strict";var s=e("q1tI"),t=e.n(s),a=e("/MKj"),r=e("nNoG"),c=e("qDEp"),o=e("/Nz6");const i=new r.b("huddles"),l=v(f=>{let{channelId:d}=f;const O=Object(a.useDispatch)(),m=Object(s.useCallback)(()=>{O(Object(o.a)({channelId:d}))},[O,d]);return d?t.a.createElement(c.f,{onClick:m,type:"outline"},i.t("Copy Huddle Link")):null},"HuddleInviteLinkButton");l.displayName="HuddleInviteLinkButton";var u=n.a=l},p9fx:function(K,n,e){"use strict";e.d(n,"a",function(){return s});const s=v(t=>t&&t.name,"getEmojiName")},pCrW:function(K,n,e){"use strict";e.d(n,"a",function(){return t}),e.d(n,"b",function(){return a}),e.d(n,"c",function(){return r});var s=e("RVJP");const t="autocompleteFallback";function a(){return t}v(a,"getModelForSorter");function r(c){return Object(s.d)(c,"searcher_sessions_phase_1")==="treatment"}v(r,"shouldUseSearcherSessions")},pFNT:function(K,n,e){"use strict";var s=e("lrwl"),t=e("bbt7");e.d(n,"a",function(){return t.a}),e.d(n,"b",function(){return t.b}),e.d(n,"d",function(){return t.c}),n.c=s.a},pJ2S:function(K,n,e){"use strict";var s=e("hinm"),t=e.n(s);e.d(n,"a",function(){return t.a});var a=e("sB/w"),r=e.n(a);e.d(n,"e",function(){return r.a});var c=e("8oj5"),o=e.n(c);e.d(n,"g",function(){return o.a});var i=e("JLdd"),l=e.n(i);e.d(n,"v",function(){return l.a});var u=e("0Tme"),f=e.n(u);e.d(n,"s",function(){return f.a});var d=e("jUkS"),O=e.n(d);e.d(n,"C",function(){return O.a});var m=e("o7tI"),g=e.n(m);e.d(n,"i",function(){return g.a});var E=e("Ckp+"),p=e.n(E);e.d(n,"j",function(){return p.a});var h=e("gl8A"),_=e.n(h);e.d(n,"k",function(){return _.a});var b=e("B5am"),I=e.n(b);e.d(n,"D",function(){return I.a});var C=e("8laU"),y=e.n(C);e.d(n,"m",function(){return y.a});var P=e("ybzm"),T=e.n(P);e.d(n,"B",function(){return T.a});var S=e("updQ"),A=e.n(S);e.d(n,"b",function(){return A.a});var R=e("3K8Y"),x=e.n(R),M=e("TJOA"),j=e.n(M);e.d(n,"l",function(){return j.a});var W=e("jeUB"),U=e.n(W);e.d(n,"r",function(){return U.a});var B=e("2QQA"),Y=e.n(B);e.d(n,"t",function(){return Y.a});var z=e("QwV3"),F=e.n(z);e.d(n,"w",function(){return F.a});var V=e("nvtG"),L=e.n(V);e.d(n,"x",function(){return L.a});var Q=e("qny9"),ee=e.n(Q);e.d(n,"E",function(){return ee.a});var te=e("w0jh"),le=e.n(te);e.d(n,"F",function(){return le.a});var Oe=e("r7Lm"),he=e.n(Oe),Ee=e("CVcN"),ge=e.n(Ee);e.d(n,"y",function(){return ge.a});var J=e("iAso"),H=e.n(J);e.d(n,"u",function(){return H.a});var Z=e("HsT/"),q=e.n(Z);e.d(n,"A",function(){return q.a});var k=e("5ktH"),se=e.n(k);e.d(n,"h",function(){return se.a});var re=e("rmZX"),X=e.n(re);e.d(n,"p",function(){return X.a});var w=e("zn7T"),ce=e.n(w);e.d(n,"q",function(){return ce.a});var ie=e("NQg3"),oe=e.n(ie);e.d(n,"z",function(){return oe.a});var me=e("HYaG"),ue=e.n(me);e.d(n,"f",function(){return ue.a});var _e=e("wb/b"),be=e.n(_e),Ae=e("WOFv"),Ce=e.n(Ae);e.d(n,"d",function(){return Ce.a});var De=e("JJe3"),Pe=e.n(De);e.d(n,"c",function(){return Pe.a});var Ue=e("xU06"),ae=e.n(Ue);e.d(n,"n",function(){return ae.a});var ne=e("04Cl"),Ie=e.n(ne);e.d(n,"o",function(){return Ie.a})},pOIg:function(K,n,e){"use strict";e.d(n,"l",function(){return r}),e.d(n,"b",function(){return c}),e.d(n,"g",function(){return o}),e.d(n,"f",function(){return i}),e.d(n,"d",function(){return l}),e.d(n,"e",function(){return u}),e.d(n,"j",function(){return f}),e.d(n,"i",function(){return d}),e.d(n,"a",function(){return O}),e.d(n,"k",function(){return m}),e.d(n,"h",function(){return g}),e.d(n,"c",function(){return E});var s=e("n3tL"),t=e("DwFS");const a=s.default.shape({threadKey:s.default.string,sortTs:s.default.string,hasUnreads:s.default.bool}),r=Object(t.a)("Set the thread root keys");r.meta={name:"createAction",key:"createActionsetThreads",description:"Set the thread root keys"},r.propTypes={threads:s.default.arrayOf(a).isRequired,hasMore:s.default.bool,cursorTs:s.default.string,maxTs:s.default.string,refreshId:s.default.string,totalUnreadReplies:s.default.number};const c=Object(t.a)("Append more thread root keys");c.meta={name:"createAction",key:"createActionappendThreads",description:"Append more thread root keys"},c.propTypes={threads:s.default.arrayOf(a).isRequired,hasMore:s.default.bool,cursorTs:s.default.string};const o=Object(t.a)("Insert a thread at the beginning");o.meta={name:"createAction",key:"createActionprependThread",description:"Insert a thread at the beginning"},o.propTypes={thread:a};const i=Object(t.a)("Increments totalUnreadReplies");i.meta={name:"createAction",key:"createActionincrementTotalUnreadReplies",description:"Increments totalUnreadReplies"},i.propTypes=null;const l=Object(t.a)("Sets totalNewThreads to 0");l.meta={name:"createAction",key:"createActionclearTotalNewThreads",description:"Sets totalNewThreads to 0"},l.propTypes=null;const u=Object(t.a)("Increments allThreadsRefreshCounter");u.meta={name:"createAction",key:"createActionincrementAllThreadsRefreshCounter",description:"Increments allThreadsRefreshCounter"},u.propTypes=null;const f=Object(t.a)("Set the thread key that should be focused");f.meta={name:"createAction",key:"createActionsetFocusRequestedThreadKey",description:"Set the thread key that should be focused"},f.propTypes=s.default.string;const d=Object(t.a)("Set the thread timestamp that should be focused");d.meta={name:"createAction",key:"createActionsetFocusRequestedReplyTs",description:"Set the thread timestamp that should be focused"},d.propTypes=s.default.string;const O=Object(t.a)("Add a thread key to an array of threads that were manually marked unread");O.meta={name:"createAction",key:"createActionappendThreadToManuallyMarkedUnread",description:"Add a thread key to an array of threads that were manually marked unread"},O.propTypes={threadKey:s.default.string,markOrigin:s.default.string};const m=Object(t.a)("set object of threads that have been manually marked as unread");m.meta={name:"createAction",key:"createActionsetManuallyMarkedThreads",description:"set object of threads that have been manually marked as unread"},m.propTypes=s.default.objectOf(s.default.string);const g=Object(t.a)("Remove a thread key from an array of threads that were manually marked unread");g.meta={name:"createAction",key:"createActionremoveThreadFromManuallyMarkedUnread",description:"Remove a thread key from an array of threads that were manually marked unread"},g.propTypes=s.default.string;const E=Object(t.a)("Sets manuallyMarkedUnread to empty");E.meta={name:"createAction",key:"createActionclearThreadsFromManuallyMarkedUnread",description:"Sets manuallyMarkedUnread to empty"},E.propTypes=null},pOPU:function(K,n,e){"use strict";e.d(n,"a",function(){return g}),e.d(n,"b",function(){return p});var s=e("lhZz"),t=e("Aqb/"),a=e("PLUl"),r=e("GlHf"),c=e("NH62"),o=e("p+AA"),i=e("Z7Ay"),l=e("G5NC"),u=e("XO6L");const f=["event","longtask"],d=1e3*60*10,O=new c.a,m=new c.a;function g(h,_){var b;if(!Object(o.a)())return;const I=(b=h.window.PerformanceObserver)===null||b===void 0?void 0:b.supportedEntryTypes;if(!I)return;const C=f.filter(S=>I.includes(S));if(!C.length)return;h.document.addEventListener("keydown",S=>{if(m.count(`${_}:keystrokes`),S.target instanceof h.window.HTMLElement){var A,R;const x=(A=S.target)===null||A===void 0||(R=A.dataset)===null||R===void 0?void 0:R.inputMetricBoundary;x&&m.count(`${_}:${x}_keystrokes`)}});const y=Object(s.getClientStoreInstance)(),P=y==null?void 0:y.getState(),T=new h.window.PerformanceObserver(S=>{const A=S.getEntries();A&&A.forEach(R=>{if(R.entryType==="longtask")Object(r.i)(P)&&O.increment(`${_}:long_task`,R.duration);else if(R instanceof PerformanceEventTiming&&R.entryType==="event"&&R.name==="keydown"){const j=R.processingStart-R.startTime,W=R.processingEnd-R.processingStart,U=R.duration;if(m.increment(`${_}:input_delay`,j),m.increment(`${_}:input_processing`,W),m.increment(`${_}:input_duration`,U),R.target instanceof h.window.HTMLElement){var x,M;const B=(x=R.target)===null||x===void 0||(M=x.dataset)===null||M===void 0?void 0:M.inputMetricBoundary;B&&(m.increment(`${_}:input_delay:${B}`,j),m.increment(`${_}:input_processing:${B}`,W),m.increment(`${_}:input_duration:${B}`,U))}}})});C.forEach(S=>T.observe({type:S,durationThreshold:16}))}v(g,"registerPerformanceObserverOnRemoteWindow");function E(h){let{isFirstReport:_}=h;const b=Object(a.a)(),I=b.createMetricsTrace({label:"child_window:perf-metrics",tags:{...Object(l.a)()&&(u.b===null||u.b===void 0?void 0:Object(u.b)()),metric_version:10,is_first_report:_},samplingOptions:{sampleType:t.a.ALWAYS}});O.report(I),m.report(I),Object.keys(I.getSpans()).length>1&&b.reportTrace(I)}v(E,"reportAllRemoteWindowBucketMetrics");function p(){Object(o.a)()&&(E({isFirstReport:!0}),window.setInterval(()=>E({isFirstReport:!1}),d))}v(p,"reportRemoteWindowMetricsOnAnInterval"),Object(i.b)("remoteWindowBucketMetrics",()=>{const{metrics:h}=O.getDebug(),{counts:_,metrics:b}=m.getDebug();console.log("Bucketed Metrics"),console.table({...h,...b}),console.log("Input Counts"),console.table(_)})},pVEH:function(K,n,e){K.exports=e.p+"slackbot_frowny_36-a7f6cbd.png"},pedv:function(K,n,e){"use strict";e.d(n,"a",function(){return c});var s=e("SQ0V"),t=e("S4vl"),a=e("t3jr"),r=e("x5lL");const c=Object(s.c)("Insert a newly created call once we have a room id, copying from pending state",(o,i,l)=>{let{roomId:u,windowId:f}=l;var d;const O=i(),m=(d=Object(r.e)(O))===null||d===void 0?void 0:d.pending;if(!m||!m[f]){Object(t.b)("No pending call state");return}const g=m[f],E=Object(r.t)(g);if(!E){Object(t.b)("No call window");return}o(Object(r.E)({...g,id:u})),o(Object(r.A)(f));const p=Object(r.j)(O,u);p&&(p.forEach(h=>{Object(a.a)(E,"inviteResponse",{userId:h.userId,response:h.response})}),o(Object(r.z)(u)))});c.meta={name:"createThunk",key:"createThunksetupWithRoomId",description:"Insert a newly created call once we have a room id, copying from pending state"}},ptUg:function(K,n,e){"use strict";e.d(n,"a",function(){return h});var s=e("s8RM"),t=e("+l5E"),a=e("lCmp"),r=e("pu3F");function c(_){return!!_&&Object(a.a)(_,b=>b.type===r.e.event)}v(c,"hasEventBlock");function o(_){return _?c(_.blocks)?!0:!!_.attachments&&Object(a.a)(_.attachments,b=>c(b.blocks)):!1}v(o,"hasEventBlockInMessage");var i=e("JQ3U"),l=e("/JQq"),u=e("HBMi"),f=e("HYaO"),d=e("Qrgz"),O=e("mzZe"),m=e("ccuj"),g=e("nnVK"),E=e("rebY"),p=e("uVdA");function h(_,b,I,C,y){if(!b||!I||!C||typeof y>"u"||I.user!==b||Object(s.a)(I.subtype)||Object(t.ab)(I)||I.subtype==="reply_broadcast"||I.subtype==="tombstone"||Object(i.g)(I)||I.subtype==="bookmark_created"||I.subtype==="bookmark_removed"||Object(p.a)(_)&&I.blocks&&I.blocks.length>0&&(I.blocks.length===1&&I.blocks[0].type!==r.e.rich_text||I.blocks.length>1))return!1;if(Object(l.a)(_,C))return!0;if(y===0||y>-1&&(Date.now()-Object(u.a)(I.ts))/6e4>y||Object(f.a)(I)&&!Object(d.f)(_,C.id)||!Object(f.a)(I)&&!Object(O.b)(_,C.id))return!1;const P=Object(m.a)(I);return!(P&&Object(g.a)(_,{threadTs:P,channelId:C.id})||o(I)||Object(E.a)(I))}v(h,"canEditMessage")},pyW3:function(K,n,e){"use strict"},pyq8:function(K,n,e){"use strict";var s=e("9oTK"),t=e.n(s),a=e("FcR8"),r=e("BcBz"),c=e("UbkG"),o=e("RV0M"),i=e("I0j/"),l=e("2VFn"),u=e("37+L"),f=e("CnKg"),d=e("gXfi"),O=e("v7mh"),m=e("uNaj"),g=e("rZ8V"),E=e("SQ0V"),p=e("/Rv1");const h=Object(E.c)("Open a document on a specific version",function(){var _=Object(s.coroutine)(function*(b,I,C,y){const{fileId:P,windowId:T,version:S,source:A,isFromCloseActivityHistory:R,replaceHistoryState:x}=C,M=I(),{versionId:j,sequence:W}={...S};if(!P)return;const{isChildWindow:U,isMainWindow:B,shouldUseNavigate:Y,closeView:z,getViewSet:F}=y(o.a),V=Object(c.c)(M,T),{versionId:L,sequence:Q}={...V},ee=R?void 0:j||L,te=R?void 0:W||Q;if(R||b(Object(r.c)({windowId:T,versionId:j||L})),U&&Y||Object(g.g)(M))if(x){const le=B?F(M):Object(O.e)(M,{windowId:T});if(le){const Oe=le[l.h.Primary];if(Oe){const he={...le,[l.h.Primary]:{...le[l.h.Primary],params:{...Oe.params,versionId:ee,sequence:te}}};b(B?Object(d.a)({windowId:l.c,tab:l.d.Home,viewSet:he}):Object(d.a)({windowId:T.toString(),viewSet:he}))}}}else b(Object(i.a)(Object(u.i)({id:Object(f.h)({id:P}),versionId:ee,sequence:te,preserveExistingSecondaryView:!R}))),R&&z(l.h.Secondary);else{const le=Object(m.a)();b(Object(a.a)({fileId:P,source:A,versionId:ee,sequence:te,isFromQuipActivityHistory:!0,replaceHistoryState:x,openedFromId:le.params.canvasOpenedFromId})),R&&b(Object(p.a)({shouldReplaceState:!0}))}R&&b(Object(r.b)({windowId:T}))});return function(b,I,C,y){return _.apply(this,arguments)}}());h.meta={name:"createThunk",key:"createThunkopenDocVersion",description:"Open a document on a specific version"},n.a=h},pzLM:function(K,n,e){"use strict";e.d(n,"b",function(){return g}),e.d(n,"a",function(){return E});var s=e("E3dU"),t=e("xwCZ"),a=e("Yauy"),r=e("VjAc"),c=e("E97Y"),o=e("ISSR"),i=e("C3vN"),l=e("y/Pn"),u=e("mzZe");const f={ok:!0},d={ok:!1,reason:r.f},O={ok:!1,reason:r.g},m={ok:!1,reason:r.i},g=v((p,h)=>{const _=Object(s.z)(p,h)&&Object(s.c)(p,h),b=Object(t.d)(p);return _?Object(c.h)(_)&&Object(l.a)(_)?O:Object(o.a)(_)||!Object(a.db)(_)||!Object(u.a)(p,_)||Object(i.ub)(b)||Object(i.zb)(b)?m:f:d},"canUserSetTopicForChannelWithReasonById"),E=v((p,h)=>g(p,h).ok,"canUserSetTopicForChannelById")},"q+YH":function(K,n,e){"use strict";e.d(n,"a",function(){return o}),e.d(n,"b",function(){return i});var s=e("SQ0V"),t=e("u43d"),a=e("GYPw"),r=e("WUSA"),c=e("j77i");const o=Object(s.c)("Set the pref for the sound that plays when a message arrives to the focused conversation",(l,u,f)=>{if(Object(t.a)(u()))try{Object(c.v)(a.c,f)}catch{}l(Object(r.d)(f))});o.meta={name:"createThunk",key:"createThunksetPersistentConversationIncomingMessageSound",description:"Set the pref for the sound that plays when a message arrives to the focused conversation"};const i=Object(s.c)("Set the pref for the sound that plays when a message is sent to the focused conversation",(l,u,f)=>{if(Object(t.a)(u()))try{Object(c.v)(a.d,f)}catch{}l(Object(r.e)(f))});i.meta={name:"createThunk",key:"createThunksetPersistentConversationSentMessageSound",description:"Set the pref for the sound that plays when a message is sent to the focused conversation"}},q53k:function(K,n,e){"use strict";e.d(n,"a",function(){return r}),e.d(n,"b",function(){return c});var s=e("E3dU"),t=e("PMNn"),a=e("5yS1");const r=v((o,i,l)=>{if(!l)return;const u=Object(t.b)(o,l);if(u)return Object(a.a)(o,i,u)},"getMostPermissiveTeamPrefForChannel"),c=v((o,i,l)=>{const u=Object(s.c)(o,l);return r(o,i,u)},"getMostPermissiveTeamPrefForChannelById")},q5W5:function(K,n,e){"use strict";e.d(n,"a",function(){return t}),e.d(n,"b",function(){return a});var s=e("kBpe"),t;(function(r){r[r.Available=0]="Available",r[r.HiddenByBrowser=1]="HiddenByBrowser",r[r.NoDevices=2]="NoDevices"})(t||(t={}));function a(r){return Object(s.i)()?t.Available:r.length===0?t.NoDevices:Object(s.m)()?r.every(o=>o.label==="")?t.HiddenByBrowser:t.Available:r.length===1&&r[0].id===""?t.HiddenByBrowser:t.Available}v(a,"getDeviceAvailability")},q6Tz:function(K,n,e){"use strict";e.d(n,"b",function(){return T}),e.d(n,"e",function(){return S}),e.d(n,"a",function(){return R}),e.d(n,"d",function(){return x}),e.d(n,"c",function(){return W});var s=e("fujP"),t=e("Lgge"),a=e("s4P+"),r=e("Zbwg"),c=e("SQ0V"),o=e("0Wfr"),i=e("417x"),u=v((B,Y)=>Object.keys(Y).reduce((z,F)=>({...z,[B[F]||F]:Y[F]}),{}),"renameKeys"),f=e("uVZW"),d=e("i5Ig"),O=v(B=>{const Y=u(f.a,Object(i.a)(B)||{});return Object(s.a)(Y)?d.b:Y},"prepare_data"),m=e("qCwA"),g=e("BEaa"),E=e("u4cD"),p=e("c41J"),h=e("Wn1n"),_=e("rZ8V"),b=e("wnwW"),I=e("RV0M"),C=e("2VFn");const y=Object(a.b)(),P=60*60*1e3,T=Object(c.c)("Load megaphone notification data",(B,Y,z)=>B(Object(p.a)({reason:"load-megaphone-notification-data",...z})).then(function(){let F=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(Object(s.a)(F))return;const{ok:V,error:L,response_metadata:Q,notifications:ee}=F;if(V===!1||L){y.warn(f.d,"Error while fetching notification data",{error:L,messages:Q==null?void 0:Q.messages});return}const te=ee||{},le=Object.keys(te),Oe=Object.values(f.g);le.forEach(he=>{if(!Oe.includes(he))return;const Ee=z.channelId;if(te[he]===null)B(Object(E.e)({spaceName:he,channelId:Ee})),he===f.g.LAUNCH_MODAL&&B(Object(b.a)());else{const{name:ge,data:J={}}=te[he];if(he===f.g.CHANNEL_CONTEXT_BAR&&ge===f.h.SLACK_CONNECT_CHANNEL_CONTEXT_BANNER){B(Object(E.e)({spaceName:he,channelId:Ee,notificationName:ge,notificationData:{...O(J),channelId:Ee}}));return}B(Object(E.e)({spaceName:he,channelId:Ee,notificationName:ge,notificationData:O(J)})),he===f.g.LAUNCH_MODAL&&B(Object(b.a)())}he===f.g.SIDEBAR_FOOTER&&B(Object(m.a)())})}));T.meta={name:"createThunk",key:"createThunkloadMegaphoneNotificationData",description:"Load megaphone notification data"};const S=Object(o.a)(T,P),A=v(()=>[[f.g.CLIENT_FOOTER,f.g.MESSAGE_PANE,f.g.SIDEBAR_FOOTER,f.g.LAUNCH_MODAL,f.g.SIDEBAR_MENU,f.g.IN_PRODUCT_COACHMARK,f.g.QUICK_REACTIONS,f.g.MESSAGE_ACTIONS_LABELS,f.g.PROGRESSIVE_DISCLOSURE,f.g.WELCOME_SPACE,f.g.SINGLE_MESSAGE_VIEW,f.g.MESSAGE_INPUT],[f.g.WORKSPACE_MENU_PRIMARY_PLAN_INFO,f.g.WORKSPACE_MENU_SECONDARY_PLAN_INFO,f.g.WORKSPACE_MENU_UPSELL,f.g.EMOJI_DRAWER,f.g.INVITE_MODAL_HEADING,f.g.CREATE_CHANNEL_MAKE_SHARED_CTA,f.g.GUESTS_MODAL_DROPDOWN,f.g.MAIN_MENU,f.g.PROFILE_MENU,f.g.SIDEBAR_MENU_HEADER,f.g.LATER_PAGE_HEADER,f.g.LATER_PAGE_SIDEBAR_LINK,f.g.CHANNEL_CONTEXT_MENU,f.g.SHORTCUTS_MENU_ITEM,f.g.ANNOUNCE_ONLY_SHORTCUTS_MENU_ITEM,f.g.HUDDLE_BUTTON_MENU]],"getBootMegaphoneSpacesGroups"),R=Object(c.c)("Initial load for specific Megaphone Spaces that need to load on boot",(B,Y,z,F)=>{var V;const L=Y(),Q=Object(_.g)(L)?4:3,{getSiblingView:ee,shouldUseNavigate:te}=F(I.a),le=te?(V=ee(L,{container:C.h.Primary}))===null||V===void 0?void 0:V.id:Object(h.a)(L),he=A().map(Ee=>{const ge={event:{type:f.e.REQUEST_SPACES,spaces:Ee,iaVersion:Q},reason:z.megaphoneReason};return Object(r.a)(le)&&(ge.event.channel=le),B(T(ge))});return t.a.all(he)});R.meta={name:"createThunk",key:"createThunkchunkedLoadMegaphoneNotificationBootData",description:"Initial load for specific Megaphone Spaces that need to load on boot"};const x=Object(o.a)(R,P),M=20*1e3;let j;const W=Object(c.c)("Load megaphone notification data after a random delay",(B,Y,z)=>{if(j)return;const F=Object(g.a)(M,-1,0);j=setTimeout(()=>{B(R(z)),j=null},F)});W.meta={name:"createThunk",key:"createThunkrandomDelayedLoadMegaphoneNotificationData",description:"Load megaphone notification data after a random delay"};const U={LOAD_BANNER_MAX_DELAY_MS:M,getBootMegaphoneSpacesGroups:A}},qBBt:function(K,n,e){K.exports=e.p+"slackbot_sad_surprise_512-c8291ff.png"},qBF1:function(K,n,e){"use strict";e.d(n,"a",function(){return a});var s=e("ZKjC"),t=e("RVJP");const a=Object(s.b)(r=>Object(t.d)(r,"org_chart_deep_link")==="on");a.meta={name:"createSelector",key:"createSelectorisOrgChartDeepLinkEnabled",description:r=>Object(t.d)(r,"org_chart_deep_link")==="on"}},qBqz:function(K,n,e){"use strict";e.d(n,"a",function(){return t}),e.d(n,"b",function(){return a}),e.d(n,"c",function(){return r});var s=e("JoR1");const t="who_can_share_contact_card",a={EVERYONE:"EVERYONE",TEAM_MEMBERS:"TEAM_MEMBERS",NO_ONE:"NO_ONE"},r=v(c=>Object(s.u)(c,t),"getWhoCanShareContactCardPref")},qCl6:function(K,n,e){K.exports=e.p+"slackbot_sad_surprise_48-7871f8b.png"},qCwA:function(K,n,e){"use strict";e.d(n,"a",function(){return g});var s=e("Lgge"),t=e("SQ0V"),a=e("Wn1n"),r=e("ohbk"),c=e("mHfD"),o=e("E3dU"),i=e("bhDs"),l=e("pu3F"),u=e("TiPP"),f=e("RV0M"),d=e("I0j/"),O=e("37+L"),m=e("2VFn");const g=Object(t.c)("Redirect to general or Slackbot if benefits page is primary view but not enabled",(E,p,h,_)=>{var b;const I=p(),{getSiblingView:C,shouldUseNavigate:y}=_(f.a),P=y?(b=C(I,{container:m.h.Primary}))===null||b===void 0?void 0:b.id:Object(a.a)(I);if((P==="paid-benefits"||P===u.a)&&!Object(i.c)(I)){const T=E(Object(c.a)());let S=T&&T.id;if(S||(S=Object(o.m)(I,l.W)),S)return E(y?Object(d.a)(Object(O.m)(S)):Object(r.a)({id:S,replaceHistoryState:!0}))}return s.a.resolve()});g.meta={name:"createThunk",key:"createThunkmaybeRedirectFromBenefitsPage",description:"Redirect to general or Slackbot if benefits page is primary view but not enabled"}},qGcj:function(K,n,e){"use strict";e.d(n,"b",function(){return ue});var s=e("q1tI"),t=e.n(s),a=e("7EGn"),r=e("ifKl"),c=e("fujP"),o=e("/MKj"),i=e("zxER"),l=e("iuhU"),u=e("5IZy"),f=e("E3dU"),d=e("Yauy"),O=e("E97Y"),m=e("0JvK"),g=e("dlm8"),E=e("c+dP"),p=e("Ufq/"),h=e("sgFo"),_=e("Jn9h"),b=e("nNoG"),I=e("2OfI"),C=e("V/As"),y=e("3REw"),P=e("3vtZ"),T=e("lhZz"),S=e("A9I/"),A=e("oEDn"),R=e("VFSv"),x=e("Tevt"),M=e("ktUG"),j=e("u0LO"),W=e("52XJ"),U=e("RBHu"),B=e("ZGvW"),Y=e("EIVZ"),z=e.n(Y),F=e("5Xve"),V=e("WWO7"),L=e("GWPn"),Q=e("6FZx"),ee=e("1jr5"),te=e("JvzI"),le=e("1N3M");function Oe(){return Oe=Object.assign||function(Ce){for(var De=1;De<arguments.length;De++){var Pe=arguments[De];for(var Ue in Pe)Object.prototype.hasOwnProperty.call(Pe,Ue)&&(Ce[Ue]=Pe[Ue])}return Ce},Oe.apply(this,arguments)}v(Oe,"_extends");const he=new b.b("huddles"),Ee=v(Ce=>{let{appName:De,ariaLabel:Pe,key:Ue,onSelectedHandler:ae,...ne}=Ce;const Ie=Object(i.a)(p.k),Te=Object(o.useDispatch)(),Me=Object(i.a)(pe=>Object(V.a)(pe,Te)),Ne=he.t("Huddles are great for quick audio discussions with your team"),He=he.t("New"),Et=t.a.createElement("div",{className:"p-huddle_call_menu_item"},Ne),qe=`p-huddle_call_menu_item__banner-img-${Object(te.a)()}`,ke=v(()=>t.a.createElement("div",{className:"display_flex flex_direction_column align_items_center"},t.a.createElement(ee.c,{type:"info",className:"p-huddle_call_menu_item__banner",isFixedPosition:!1,showCloseButton:!1},t.a.createElement("div",{className:`p-huddle_call_menu_item__banner-img ${qe}`}),t.a.createElement("div",{className:"p-huddle_call_menu_item__banner-text-container display_flex"},t.a.createElement("div",null,t.a.createElement("h4",{className:"p-huddle_call_menu_item__banner-headline"},Ie?he.t("Take your calls to huddles"):"Take your calls to huddles"),t.a.createElement("p",{className:"p-huddle_call_menu_item__banner-description",id:"calls_migration_banner_huddles_description"},he.rt("Now with video, multi-person screen share and more, huddles are the new way to talk with your team.",{fallbackHash:"b1c877e5a9bb168c86ab160faa0c1c09a59a0c6b"})))))),"renderCallsMigrationEducationBanner"),rt=Object(s.useCallback)(()=>{Te(Object(F.a)()),ae()},[Te,ae]);return t.a.createElement(t.a.Fragment,null,Ie?t.a.createElement("div",{className:"p-huddle_call_menu_item__banner_container"},ke(),t.a.createElement(E.b,Oe({className:Object(l.default)("display_flex flex_direction_column display_flex align_items_center",{"p-huddle_call_menu_item__button":Ie}),onSelected:rt,ariaDescribedBy:"calls_migration_banner_huddles_description"},ne),t.a.createElement("div",{className:"display_flex align_items_center p-huddle_call_menu_item__banner-bottom-container"},t.a.createElement("div",{className:"display_flex align_items_center"},t.a.createElement("div",{className:"c-menu_item__icon"},t.a.createElement(R.a,{name:"headphones",inline:!0})),t.a.createElement("div",{className:"inline","aria-label":Pe},Ie?he.t("Start a huddle"):De)),t.a.createElement(R.a,{name:"arrow-right"})))):t.a.createElement(E.b,Oe({dataQa:Ue,key:Ue,className:Object(l.default)("display_flex flex_direction_row",{"p-huddle_call_menu_item__button":Ie}),onSelected:Ie?r.a:ae},ne),t.a.createElement("div",{className:"display_flex flex_direction_row align_items_center"},t.a.createElement("div",{className:"c-menu_item__icon"},t.a.createElement(A.a,{className:"c-icon p-huddle_switch__headphones_icon c-icon--headphones p-call_menu c-icon--headphones-call-menu",type:"headphones","aria-hidden":"true"})),t.a.createElement("div",{"aria-label":Pe},De),Me&&t.a.createElement(L.a,{className:"p-huddle_call_menu_item__callout"},He))),t.a.createElement(t.a.Fragment,null,!Ie&&t.a.createElement(E.c,{label:Et,key:"huddles_call_menu_experiment"}),t.a.createElement(E.d,{key:"huddles_call_menu_experiment_separator"})))},"HuddleCallMenuItem");Ee.displayName="HuddleCallMenuItem";var ge=Object(Q.b)(Ee),J=e("svhO"),H=e("rYtS"),Z=e("+ono"),q=e("R07R"),k=e("Vz4J");function se(){return se=Object.assign||function(Ce){for(var De=1;De<arguments.length;De++){var Pe=arguments[De];for(var Ue in Pe)Object.prototype.hasOwnProperty.call(Pe,Ue)&&(Ce[Ue]=Pe[Ue])}return Ce},se.apply(this,arguments)}v(se,"call_menu_extends");const re=new b.b("calls"),X={eventId:M.EventId.HUDDLES_DISCOVERY_CALLS_CALL_MENU_LINK_CLICKED,elementName:"huddle-discovery-call-menu-link",onClick:{enableClogAction:!0}},w={channel:"channel",im:"im",mpim:"mpim",none:"none"},ce={type:w.none},ie=v(Ce=>{let{state:De,channelId:Pe,memberRealName:Ue,memberPhoneNumber:ae}=Ce;const ne=Object(f.c)(De,Pe);if(Object(O.i)(ne)){const Ie=Object(g.d)(De,ne.id),Te=Object(a.a)(Ie,"counts.member_count")||0;return{type:w.mpim,value:Te}}return Object(O.g)(ne)||Ue?{type:w.im,value:Ue,phoneNumber:ae}:Object(m.a)(ne)?{type:w.channel,value:Object(d.K)(ne)}:ce},"getConversationContext"),oe=v(Ce=>{let{appName:De,type:Pe,conversationContext:Ue}=Ce;return Pe==="video"?Ue.type===w.mpim?re.t("Use {appName} to start a video and audio call with {conversationContext} people",{appName:De,conversationContext:Ue.value}):Ue.type===w.channel?re.t("Use {appName} to start a video and audio call with #{conversationContext}",{appName:De,conversationContext:Ue.value}):Ue.type===w.im?re.t("Use {appName} to start a video and audio call with {conversationContext}",{appName:De,conversationContext:Ue.value}):re.t("Use {appName} to start a video and audio call",{appName:De}):Ue.type===w.mpim?re.t("Use {appName} to start a phone call with {conversationContext} people",{appName:De,conversationContext:Ue.value}):Ue.type===w.channel?re.t("Use {appName} to start a phone call with #{conversationContext}",{appName:De,conversationContext:Ue.value}):Ue.type===w.im?re.t("Use {appName} to start a phone call with {conversationContext}",{appName:De,conversationContext:Ue.value}):re.t("Use {appName} to start a phone call",{appName:De})},"getMenuItemAriaLabel"),me=v(Ce=>{let{experimentCallsMigrationGroupTreatment:De,onSelected:Pe=r.a,appsById:Ue={},type:ae,conversationContext:ne,clogger:Ie,cloggerContext:Te,channel:Me,member:Ne,app:He,experimentCallsDeprecationGroupOn:Et,experimentHuddlesLaterGroupOn:Je}=Ce;const qe=v(()=>{Pe({appId:He.id,type:ae,phoneNumber:ne.phoneNumber}),Object(Z.b)({clogger:Ie,cloggerContext:Te||{},channel:Me,appId:He.id,callType:ae})},"onSelectedHandler"),ke=`${ae}-${He.id}`,rt=oe({appName:He.name,type:ae,conversationContext:ne}),pe=z.a,je=v(()=>He.id===y.j?De?t.a.createElement("div",{className:"p-classic_nav__legacy-call-menu_icon"},t.a.createElement(R.a,{name:"call",inline:!0,"aria-hidden":"true"})):t.a.createElement(_.a,{className:"p-classic_nav__call-menu_icon",src:pe}):Ue[He.id]&&Ue[He.id].image?t.a.createElement(_.a,{className:"p-classic_nav__call-menu_icon",src:Ue[He.id].image}):t.a.createElement(_.a,{className:"p-classic_nav__call-menu_icon",src:C.a}),"getMenuItemIcon");return je.displayName="getMenuItemIcon",He.id===U.c?Et?t.a.createElement(t.a.Fragment,{key:"huddle-call-menu-items"},(Me||Ne)&&t.a.createElement(k.a,{channelId:Me==null?void 0:Me.id,memberId:Ne==null?void 0:Ne.id}),Je&&Me&&t.a.createElement(J.a,{channelId:Me.id}),Me&&t.a.createElement(q.a,{channelId:Me.id})):t.a.createElement(ge,{appName:He.name,ariaLabel:rt,key:ke,onSelectedHandler:qe}):t.a.createElement(E.b,{dataQa:ke,key:ke,className:"display_flex flex_direction_row",classNameListItem:Object(l.default)("",{"p-call_menu__migration-menu-item":De}),onSelected:qe},t.a.createElement("div",{className:"display_flex flex_direction_row"},t.a.createElement("div",{className:"c-menu_item__icon"},je()),De?t.a.createElement("div",{"aria-label":rt,className:"p-classic_nav__call-menu-text p-huddles-call-migration__menu-text"},He.id===y.j?re.t("Legacy Slack Call",{fallbackHash:"6ac2062d891203564f2ddfe2b295a5cd54f954b3"}):He.name):t.a.createElement("div",{"aria-label":rt},He.id===y.j?re.t("Slack call"):He.name)))},"addMenuItem");me.displayName="addMenuItem";const ue=v(Ce=>{let{channelId:De,cloggerContext:Pe,hideVideoApps:Ue=!1,hideAudioApps:ae=!1,hideHuddle:ne=!0,member:Ie,memberRealName:Te,memberPhoneNumber:Me,onSelected:Ne=r.a,showHuddleDiscovery:He=!1,onClickHuddleDiscoveryLink:Et=r.a}=Ce;const Je=Object(i.a)(H.d),qe=Object(i.a)(H.c),ke=Object(i.a)(bt=>ie({state:bt,channelId:De,memberRealName:Te,memberPhoneNumber:Me})),rt=Object(i.a)(bt=>{if(De)return Object(f.c)(bt,De);if(Ie)return Object(f.l)(bt,Ie.id)}),pe=Object(i.a)(h.u),je=Object(i.a)(h.e),xe=Object(i.a)(p.k),ze=Object(i.a)(bt=>Object(u.a)({state:bt})),st=[],ct=Object(a.a)(qe,U.c,{}),dt=!ne&&!Object(c.a)(ct);if(dt&&st.push(me({experimentCallsMigrationGroupTreatment:xe,onSelected:Ne,appsById:qe,type:H.a.audio,conversationContext:ke,clogger:ze,cloggerContext:Pe,channel:rt,member:Ie,app:ct,experimentCallsDeprecationGroupOn:je,experimentHuddlesLaterGroupOn:pe})),!Ue&&Je.video&&Je.video.length>0&&(je&&st.push(t.a.createElement(E.d,{key:"calls_deprecation_video_separator"})),st.push(t.a.createElement(E.c,{label:re.t("Video meetings"),key:"video_audio"})),st.push(...Je.video.map(bt=>me({experimentCallsMigrationGroupTreatment:xe,experimentCallsDeprecationGroupOn:je,experimentHuddlesLaterGroupOn:pe,onSelected:Ne,appsById:qe,type:H.a.video,conversationContext:ke,clogger:ze,cloggerContext:Pe,channel:rt,member:Ie,app:bt})))),!ae&&Object(I.a)(Me)&&Je.audio&&Je.audio.length>0&&(!Ue&&Je.video&&Je.video.length>0&&st.push(t.a.createElement(E.d,{key:"phone_separator"})),st.push(t.a.createElement(E.c,{label:re.t("Phone {phone}",{phone:Me}),key:"phone"})),st.push(...Je.audio.map(bt=>me({experimentCallsMigrationGroupTreatment:xe,experimentCallsDeprecationGroupOn:je,experimentHuddlesLaterGroupOn:pe,onSelected:Ne,appsById:qe,type:H.a.audio,conversationContext:ke,clogger:ze,cloggerContext:Pe,channel:rt,member:Ie,app:bt})))),He&&st.length>0&&!dt){st.push(t.a.createElement(E.d,{key:"huddles_discovery_link"}));const bt=re.t("Show me how"),Ft=t.a.createElement("div",null,t.a.createElement("span",{className:"p-call_menu__huddle_discovery_link_container"},re.rt('<span className="p-call_menu__huddle_discovery_link_new_text">New:</span> Try a huddle for quick informal discussions with your team.',{fallbackHash:"848bc4a767d7cb427119b63b7b9495acb684c83a"})),t.a.createElement(x.a,{"aria-label":bt,onClick:Et,className:"p-call_menu__huddle_discovery_link",autoClogProps:X},bt,t.a.createElement(A.a,{type:"chevron-medium-right",size:"inherit"})));st.push(t.a.createElement(E.c,{label:Ft,key:"huddles_discovery_calls"}))}return st},"useGetCallMenuItems");ue.displayName="useGetCallMenuItems";const _e=v(Ce=>{let{hideAudioApps:De=!1,hideVideoApps:Pe=!1,member:Ue,memberPhoneNumber:ae,memberRealName:ne,menuProps:Ie,onSelected:Te=r.a,cloggerContext:Me,channelId:Ne,renderOnlyMenuItems:He=!1,includeHuddle:Et=!1,includeHuddleDiscoveryLink:Je=!1}=Ce;const qe=Object(o.useDispatch)();Object(B.a)({reason:"call-menu",memberId:Ue==null?void 0:Ue.id});const ke=Object(i.a)(p.k),rt=Object(i.a)(at=>Object(f.c)(at,Ne)),pe=Object(i.a)(at=>Object(P.c)(at,Ue)),je=Object(i.a)(at=>Object(P.e)(at,rt||null)),xe=rt&&!Object(O.g)(rt)&&je,ze=!(Et&&(pe||xe)),st=Object(i.a)(h.k),ct=Object(i.a)(at=>Object(W.c)(at,{experimentHuddlesDiscoveryCallsGroupTreatment:st})),dt=Object(i.a)(at=>Object(P.Y)(at,Ue,Ne))&&Je,bt=ct&&dt,Ft=Object(s.useCallback)(()=>{Object(T.dispatchForClientStore)(Object(S.b)()),qe(Object(W.a)({experimentHuddlesDiscoveryCallsGroupTreatment:st,interactionType:j.a.Click}))},[qe,st]),Bt=ue({channelId:Ne,cloggerContext:Me,hideHuddle:ze,hideVideoApps:Pe,hideAudioApps:De,member:Ue,memberRealName:ne,memberPhoneNumber:ae,onSelected:Te,showHuddleDiscovery:bt,onClickHuddleDiscoveryLink:Ft});return He?t.a.createElement(t.a.Fragment,null,Bt):t.a.createElement(E.f,se({},Ie,{width:ke?"305px":"230px","aria-label":re.t("Start a call")}),Bt)},"CallMenu");_e.displayName="CallMenu";const be={CONVERSATION_CONTEXT:w,getConversationContext:ie,getMenuItemAriaLabel:oe};var Ae=n.a=t.a.memo(_e)},qHxF:function(K,n,e){"use strict";e.d(n,"a",function(){return o});var s=e("9oTK"),t=e.n(s),a=e("fujP"),r=e("kBpe"),c=e("vfQU");function o(l){return i.apply(this,arguments)}v(o,"shouldLaunchAppNatively");function i(){return i=Object(s.coroutine)(function*(l){if(!l)return!1;try{const u=yield Object(c.C)(l);return Object(r.i)()&&!Object(a.a)(u)}catch{return!1}}),i.apply(this,arguments)}v(i,"_shouldLaunchAppNatively")},qNPi:function(K,n,e){"use strict";var s=e("q1tI"),t=e.n(s),a=e("0cEW");const r=v(c=>{let{width:o=20,height:i=20,className:l="",theme:u}=c;const f=u===a.c.Dark?"/img/slack_logo_white_text.svg":"/img/slack_logo.svg";return t.a.createElement("div",{role:"banner"},t.a.createElement("img",{className:l,src:f,alt:"Slack",width:o,height:i}))},"SlackLogo");r.displayName="SlackLogo",n.a=r},qZ3p:function(K,n,e){"use strict";var s=e("q1tI"),t=e.n(s),a=e("DQKV"),r=e("/qcS");const c=v(o=>{let{text:i,emojiSize:l=r.a.SMALL}=o;return t.a.createElement(t.a.Fragment,null,t.a.createElement(a.a,{text:i,emojiSize:l}))},"FormattedHuddleTopic");c.displayName="FormattedHuddleTopic",n.a=c},qZdH:function(K,n,e){"use strict";e.d(n,"b",function(){return c}),e.d(n,"a",function(){return o});var s=e("+CZ0"),t=e("dKQz"),a=e("SQ0V");let r;const c=Object(a.c)("Temporarily show mini-panel",function(i,l){let u=arguments.length>2&&arguments[2]!==void 0?arguments[2]:2500;clearTimeout(r),i(Object(t.i)(!0)),r=setTimeout(()=>i(Object(t.i)(!1)),u)});c.meta={name:"createThunk",key:"createThunkshowMiniPanelForDuration",description:"Temporarily show mini-panel"};const o=Object(a.c)("Temporarily pause mini-panel visibility transition",(i,l)=>{const u=l();Object(s.A)(u)&&clearTimeout(r)});o.meta={name:"createThunk",key:"createThunkpauseMiniPanelTimeout",description:"Temporarily pause mini-panel visibility transition"}},qiJD:function(K,n,e){"use strict";var s=e("Kyco"),t=e("TSHB"),a=e("Bw5p"),r=e("7EGn"),c=e("ifKl"),o=e("vfQU"),i=e("opHY");const l=v((O,m)=>Object(t.a)(O,(g,E)=>Object(t.a)(g,(p,h)=>m(E,h,p))),"mapDownloads"),u=v(O=>({...{app:{},environment:{},settings:{},...Object(a.a)(O,["app","settings","environment"]),windows:Object(t.a)((O==null?void 0:O.windows)||{},g=>({frame:Object(a.a)(g.frame,["isFullScreen","isFocused","isVisible","hasVibrancy"])})),downloads:l((O==null?void 0:O.downloads)||{},(g,E,p)=>({...p,highlight:!1})),debug:{isPerformanceMonitorEnabled:!1}},activeTeamId:Object(r.a)(window,"desktop.reduxHelper.state.selectedTeamId")}),"initializeState"),f=Object(o.db)()?u(Object(r.a)(window,"desktop.redux.getState",c.a)()):null,d=Object(s.b)({},f,{storeKey:"desktop",persistenceEnabled:!1}).on(i.n,(O,m)=>{const g=m.downloads?l(m.downloads,(E,p,h)=>({...h,highlight:Object(r.a)(O.downloads,[E,p,"highlight"],!1)})):O.downloads;return{...O,...m,downloads:g}}).on(i.o,(O,m)=>{let{windowId:g,property:E,value:p}=m;var h,_,b;return{...O,windows:{...O.windows,[g]:{...((h=O.windows)===null||h===void 0?void 0:h[g])||{},frame:{...((_=O.windows)===null||_===void 0||(b=_[g])===null||b===void 0?void 0:b.frame)||{},[E]:p}}}}}).on(i.c,(O,m)=>{let{fileId:g,teamId:E,highlight:p}=m;return Object(r.a)(O.downloads,[E,g])?{...O,downloads:{...O.downloads,[E]:{...O.downloads[E],[g]:{...O.downloads[E][g],highlight:p}}}}:O}).on(i.m,O=>({...O,debug:{...O.debug,isPerformanceMonitorEnabled:!O.debug.isPerformanceMonitorEnabled}})).on(i.i,(O,m)=>m?{...O,activeTeamId:m}:O);n.a=d},qlBN:function(K,n,e){"use strict";var s=e("9oTK"),t=e("q1tI"),a=e.n(t),r=e("SQ0V"),c=e("/0Xg"),o=e("3l96"),i=e("s9Q6"),l=e("beWg"),u=e("nNoG"),f=e("/cL/"),d=e("54tk");const O=new u.b("huddles"),m=30,g=v(I=>{let{startTrialContext:C=l.a.huddlesTrialEntryPointModal,uiComponentVariant:y,onSpeedbumpContinue:P,promoType:T,promoSubtype:S,isEligibleForTrial:A}=I;const R=v(B=>{let{text:Y}=B;return a.a.createElement(f.a,{"data-qa":"huddles_trial_entry_point-plans_page_link",useLink:!0},Y)},"renderPlansPageLink"),x=O.t("Try huddles with more people"),M=A?O.rt("Get access to huddles with more than two people, and other <plansPageLink>premium collaboration tools</plansPageLink> with a free, {trialLength}-day trial of Slack Pro.",{trialLength:m,"<plansPageLink>":R}):O.rt("Get access to huddles with more than two people, and other <plansPageLink>premium collaboration tools</plansPageLink> when you upgrade to a paid plan.",{"<plansPageLink>":R}),j="/marketing/img/digital-hq/videos/slack-huddles/slack-huddles",W=O.t("With more people, you can:"),U=Object(t.useCallback)(()=>[O.t("Host a team brainstorm from anywhere"),O.t("Get the group\u2019s feedback with a live screenshare"),O.t("Touch base on the go, without all the typing")],[]);return a.a.createElement(d.a,{modalTitle:x,modalSubtitle:M,modalVideoFileName:j,modalBannerBackgroundColor:"#fdd37f",modalVideoPosterExtension:"gif",modalChecklistHeading:W,modalChecklistItems:U(),promoType:T,promoSubtype:S,startTrialContext:C,uiComponentVariant:y,onSpeedbumpContinue:P,isEligibleForTrial:A})},"HuddleTrialEntryPointModal");g.displayName="HuddleTrialEntryPointModal";var E=g,p=e("iaW+");function h(){return h=Object.assign||function(I){for(var C=1;C<arguments.length;C++){var y=arguments[C];for(var P in y)Object.prototype.hasOwnProperty.call(y,P)&&(I[P]=y[P])}return I},h.apply(this,arguments)}v(h,"_extends");const _=Object(r.c)("Open huddles trial entry point modal",function(){var I=Object(s.coroutine)(function*(C,y,P){const T=c.o.PaidFeatureTrial,S=c.n.Vhq;yield C(Object(p.a)({campaignType:T,campaignSubType:S,reason:"huddle_trial_entry_point_modal"}));const A=Object(i.c)(y(),T,S);return C(Object(o.a)({element:a.a.createElement(E,h({},P,{promoType:T,promoSubtype:S,isEligibleForTrial:A}))}))});return function(C,y,P){return I.apply(this,arguments)}}());_.meta={name:"createThunk",key:"createThunkopenHuddlesTrialEntryPointModal",description:"Open huddles trial entry point modal"};var b=n.a=_},qny9:function(K,n,e){K.exports=e.p+"you_joined_call_v2-ad7fd07.mp3"},qqLp:function(K,n,e){"use strict";e.d(n,"a",function(){return c});var s=e("fujP"),t=e("SQ0V"),a=e("n2bd"),r=e("2VFn");const c=Object(t.c)("Sets the summary detail item",(i,l,u)=>{let{entityId:f,item:d,windowId:O=r.c}=u;const m=d.params?{...d.params}:{};Object(s.a)(m)||(delete m.timestamp,delete m.replyTs);const g={...d,params:m};i(Object(a.c)({entityId:f,item:g,windowId:O}))});c.meta={name:"createThunk",key:"createThunksetSummaryDetailItem",description:"Sets the summary detail item"};var o=c},qrpL:function(K,n,e){K.exports=e.p+"ava_0022-32-7779579.png"},qvC3:function(K,n,e){"use strict";e.d(n,"a",function(){return c}),e.d(n,"b",function(){return i});var s=e("9oTK"),t=e.n(s),a=e("Aqb/"),r=e("xvpf");function c(f){return o.apply(this,arguments)}v(c,"collectInitialPageLoadMetrics");function o(){return o=Object(s.coroutine)(function*(f){let{contextualInfo:d}=f;const{getTraceMeta:O,isBootingWarm:m,appName:g}=d,{getTracer:E,tags:p}=O(),h=(yield m)?r.b.WARM:r.b.COLD,_=E().createTrace({traceName:r.a.BOOT_INITIAL_LOAD,tags:{boot_type:h,app_name:g,...p},autoCreateRootSpan:!1,samplingOptions:{sampleType:a.a.ALWAYS}});_.startSpan(r.a.BOOT_INITIAL_LOAD,{setAsRootSpan:!0,startTime:performance.timing.fetchStart,closeTime:window.boot_render_start}),_.startSpan(r.a.BOOT_INITIAL_LOAD_HTML,{startTime:performance.timing.fetchStart,closeTime:performance.timing.fetchStart+window.sonic_boot__phase_1__duration}),_.startSpan(r.a.BOOT_INITIAL_LOAD_JS,{startTime:window.sonic_boot__phase_1_5__start,closeTime:window.sonic_boot__phase_1_5__start+window.boot_html__initial_boot_duration}),E().reportTrace(_)}),o.apply(this,arguments)}v(o,"_collectInitialPageLoadMetrics");function i(f){f.hooks.beforeDynamicImportsStart.addCallIntercept(d=>l(d)),f.hooks.renderApp.addCallIntercept(d=>u(d))}v(i,"setupBootMetricsTracing");function l(f){return d=>{const{getTracer:O,setTrace:m,rootTrace:g}=d.contextualInfo.getTraceMeta(),p=O().createTrace({traceName:r.a.BOOT_TIME_TO_START_RENDER,autoCreateRootSpan:!1,parentSpanId:g.getRootSpanId(),traceId:g.getTraceId()});return p.startSpan(r.a.BOOT_TIME_TO_START_RENDER,{setAsRootSpan:!0,startTimeMs:window.boot_render_start}),m(p),f(d)}}v(l,"startTimeToRenderTrace");function u(f){return function(){var d=Object(s.coroutine)(function*(O){const{isBootingWarm:m,getTraceMeta:g,isForegroundTeam:E}=O.contextualInfo,{getTracer:p,getTrace:h,setTrace:_,rootTrace:b}=g(),I=p(),C=h(),y=(yield m)?r.b.WARM:r.b.COLD;return C.addTags({boot_type:y,is_foreground_team:E}),I.reportTrace(C),_(b),f(O)});return function(O){return d.apply(this,arguments)}}()}v(u,"endTimeToRenderTrace")},r6c4:function(K,n,e){"use strict";e.d(n,"b",function(){return f}),e.d(n,"a",function(){return d});var s=e("oTSI"),t=e("RVJP"),a=e("beVI"),r=e("y/Pn"),c=e("E97Y"),o=e("G0eX"),i=e("x+oO"),l=e("E3dU");const u=Object(s.a)((O,m)=>Object(o.C)(O)&&(m==null?void 0:m.some(g=>Object(r.a)(g)&&!Object(c.h)(g)))),f=v(O=>{const m=Object(a.g)(O),g=Object(l.a)(O);return u(m,g)},"isHuddlesEnabledForSponsoredTeam"),d=v((O,m)=>{const g=Object(a.g)(O);return!!m&&Object(t.d)(O,"sponsored_connections_translations")==="on"&&Object(o.C)(g)&&Object(i.b)(O,m)},"isHuddlesEnabledForSponsoredChannel")},r6zX:function(K,n,e){"use strict";var s=e("Zbwg"),t=e("QOYf"),a=e("6J2H"),r=e("rZ8V"),c=e("v7mh"),o=e("2VFn"),i=e("tF1a"),l=e("bczA");const u=v(f=>{const{viewId:d,windowId:O}=Object(a.b)(f);if(!Object(s.a)(d))return!1;if(!Object(t.a)())return!0;if(Object(r.g)(f)){let b;if(O===o.c){var m,g;b=(m=Object(c.g)(f,{tab:Object(c.a)(f),container:o.h.Primary}))===null||m===void 0||(g=m.params)===null||g===void 0?void 0:g.tabId}else{var E,p;b=(E=Object(c.d)(f,{windowId:O,container:o.h.Primary}))===null||E===void 0||(p=E.params)===null||p===void 0?void 0:p.tabId}return!b||b===i.a.Messages}return!Object(l.b)(f).tabId},"isMessagePaneActive");n.a=u},r7Lm:function(K,n,e){K.exports=e.p+"alert-5c2e5a7.mp3"},r9F4:function(K,n,e){"use strict";e.d(n,"a",function(){return o}),e.d(n,"b",function(){return i}),e.d(n,"f",function(){return l}),e.d(n,"e",function(){return u}),e.d(n,"d",function(){return d}),e.d(n,"c",function(){return O});var s=e("G4qV"),t=e("ZKjC"),a=e("7zTl"),r=e("wVLq");const c=Object(t.b)(m=>m.huddleEvents);c.meta={name:"createSelector",key:"createSelectorgetHuddleEventsData",description:m=>m.huddleEvents};const o=Object(t.b)(m=>c(m).enabled);o.meta={name:"createSelector",key:"createSelectorareHuddleEventsEnabled",description:m=>c(m).enabled};const i=Object(t.b)(m=>c(m).isLoading);i.meta={name:"createSelector",key:"createSelectorareHuddleEventsLoading",description:m=>c(m).isLoading};const l=Object(t.b)(m=>m.huddleEvents.isSideBySideEnabled);l.meta={name:"createSelector",key:"createSelectorisHuddleSideBySideCaptionsEnabled",description:m=>m.huddleEvents.isSideBySideEnabled};const u=Object(t.b)(m=>m.huddleEvents.isClosedCaptionsEnabled);u.meta={name:"createSelector",key:"createSelectorisHuddleClosedCaptionsEnabled",description:m=>m.huddleEvents.isClosedCaptionsEnabled};const f=Object(t.b)(m=>m.huddleEvents.isClosedCaptionsEnabled);f.meta={name:"createSelector",key:"createSelectorHuddlesPersistTranscriptToggle",description:m=>m.huddleEvents.isClosedCaptionsEnabled};const d=Object(s.a)(m=>c(m).events,m=>{const g=[];let E,p=[];const h=v(()=>{E&&g.push({...E,content:p.join(" ")})},"maybeCommit");return m.forEach(_=>{E&&_.type===r.a.TRANSCRIBE&&E.memberId===_.memberId&&_.timestampMs-E.endTimeMs<a.b?(p.push(_.content),E.endTimeMs=_.endTimeMs):(h(),_.type===r.a.TRANSCRIBE?(E={type:r.a.TRANSCRIBE,resultId:"",memberId:_.memberId,content:"",timestampMs:_.timestampMs,endTimeMs:_.endTimeMs},p=[_.content]):(E=null,p=[],g.push(_)))}),h(),g}),O=Object(s.a)(m=>d(m),m=>m.filter(g=>g.type===r.a.TRANSCRIBE||g.type===r.a.START_TRANSCRIPTION).slice(-5))},r9Lk:function(K,n,e){K.exports=e.p+"office-preview-de46de4.jpg"},rBeE:function(K,n,e){"use strict";e.d(n,"e",function(){return I}),e.d(n,"b",function(){return C}),e.d(n,"a",function(){return y}),e.d(n,"c",function(){return T}),e.d(n,"f",function(){return A}),e.d(n,"d",function(){return R});var s=e("nNoG"),t=e("ifKl"),a=e("SQ0V"),r=e("zxER"),c=e("G4qV"),o=e("/MKj"),i=e("xwCZ"),l=e("C3vN"),u=e("ptQX"),f=e("LvvF"),d=e("RVJP"),O=e("MUHj"),m=e("ICFZ"),g=e("i9jZ"),E=e("5IZy"),p=e("ktUG");const h=new s.b("member_profile"),_=new s.b("menu"),b=Object(c.a)((x,M)=>{let{memberId:j}=M;return Object(i.g)(x,j)},(x,M)=>{let{memberId:j}=M;return Object(f.b)(x,j)},x=>Object(d.d)(x,"hide_user_v1")==="on",(x,M,j)=>{const W=Object(l.q)(x),U=Object(l.eb)(x),B=M&&j?h.t("Copy display name"):h.t("Copy display name: @{displayName}",{displayName:W,__react:!0});return!U&&W?{key:"copy_display_name",label:B,click:()=>{Object(m.e)(W)},show:!0,disabled:Object(l.Cb)(x)}:null}),I=v(x=>{let{memberId:M}=x;return Object(r.a)(j=>M?b(j,{memberId:M}):void 0)},"useGetMenuTemplateCopyDisplayName"),C=Object(a.c)("Gets the template for copy display name menu item",(x,M,j)=>b(M(),j));C.meta={name:"createThunk",key:"createThunkgetMenuTemplateCopyDisplayNameThunk",description:"Gets the template for copy display name menu item"};const y=Object(a.c)("Clog member context item click",(x,M,j)=>{Object(E.a)({getState:M}).track(p.EventId.CONTEXT_MENU_ACTION,{label:j,is_iap1:!0})});y.meta={name:"createThunk",key:"createThunkclogItemClick",description:"Clog member context item click"};const P=Object(a.c)("Gets the template for copy display name menu item",(x,M,j)=>{const{member:W,label:U}=j,B=Object(l.N)(M(),W);return{label:_.t("Copy name"),click:()=>{x(y(U));try{Object(m.d)({"text/plain":B,"text/html":`<span data-stringify-id="${W.id}" data-stringify-label="${B}">${B}</span>`})}catch{Object(m.e)(B)}}}});P.meta={name:"createThunk",key:"createThunkgetMenuTemplateCopyName",description:"Gets the template for copy display name menu item"};const T=Object(a.c)("Gets the template for copy name menu item",(x,M,j)=>x(P(j)));T.meta={name:"createThunk",key:"createThunkgetMenuTemplateCopyNameThunk",description:"Gets the template for copy name menu item"};const S=Object(c.a)(x=>x,(x,M,j)=>{let{onClickCallback:W=t.a}=j;return W},(x,M,j)=>{let{isCanvasContext:W}=j;return W},(x,M,j)=>{let{memberId:W}=j;return Object(i.g)(M,W)},(x,M,j)=>{let{memberId:W}=j;return Object(l.N)(M,Object(i.g)(M,W))},(x,M,j)=>{let{memberId:W}=j;return Object(u.a)(M,W)},(x,M)=>Object(g.a)(M),(x,M,j,W,U,B,Y)=>{const z=Object(l.eb)(W);let F=h.rt("Message {memberName}",{memberName:U})||"";return j&&(z?F=h.t("View message history"):F=h.t("Message")),!B||Object(l.cb)(W)||j&&Object(l.vb)(W)?null:{key:"message",label:F,click:V=>{x(Object(O.a)({memberId:W.id,shouldOpenInTile:Object(g.g)(V,Y),reason:"member-context-menu"})).then(()=>M())},show:!!W,disabled:Object(l.Cb)(W)}}),A=v(x=>{let{memberId:M,isCanvasContext:j,onClickCallback:W}=x;const U=Object(o.useDispatch)();return Object(r.a)(B=>M?S(U,B,{memberId:M,isCanvasContext:j,onClickCallback:W}):void 0)},"useGetMenuTemplateMessage"),R=Object(a.c)("Gets the template for message menu item",(x,M,j)=>S(x,M(),j));R.meta={name:"createThunk",key:"createThunkgetMenuTemplateMessageThunk",description:"Gets the template for message menu item"}},rCwz:function(K,n,e){"use strict";e.d(n,"b",function(){return r}),e.d(n,"a",function(){return c});var s=e("e9jb"),t=e("KciV"),a=e("s4P+");function r(o){let{direction:i,type:l,payload:u}=o;const f=Object(s.a)()?"slack":"call",d="INTER-WINDOW-MESSAGE";(Object(s.a)()?Object(t.c)(d):Object(a.b)({label:d})).info(`${i==="send"?"Sending":"Received"} ${l} ${i==="send"?"to":"from"} the ${f} window${u?`, with payload: ${JSON.stringify(u)}`:""}`)}v(r,"logInterWindowMessage");function c(o){function i(l,u,f){let d=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!0;o(u,f,d),l.sendData({type:u,payload:f})}return v(i,"sendMessage"),i}v(c,"createInterWindowMessageSender")},rEBs:function(K,n,e){"use strict";e.d(n,"b",function(){return f});var s=e("q1tI"),t=e.n(s),a=e("iuhU"),r=e("Cfcg"),c=e("zm5I"),o=e("rf28"),i=e("EQgQ");const l=15,u={numActiveBubbles:0,numInactiveBubbles:l};function f(g){return Math.min(1,Math.max(0,i.a*g))}v(f,"getClampedAudioLevel");let d=v(class extends s.PureComponent{componentDidMount(){o.a.subscribe(this.onLevelUpdated)}componentWillUnmount(){o.a.unsubscribe(this.onLevelUpdated)}onLevelUpdated(E){const p=Math.floor(l*f(E));this.setState(()=>({numActiveBubbles:p,numInactiveBubbles:l-p}))}renderBubbles(){const{numActiveBubbles:E,numInactiveBubbles:p}=this.state,{bubbleClassname:h}=this.props,_=Object(a.default)("p-audio_levels__bubble","p-audio_levels__bubble--active",h,{"p-audio_levels__bubble--dark":this.props.clientTheme==="dark"}),b=Object(a.default)("p-audio_levels__bubble","p-audio_levels__bubble--inactive",h,{"p-audio_levels__bubble--dark":this.props.clientTheme==="dark"}),I=Array.from({length:E},(y,P)=>t.a.createElement("span",{key:`active${P}`,className:_})),C=Array.from({length:p},(y,P)=>t.a.createElement("span",{key:P,className:b}));return I.concat(C)}render(){return t.a.createElement("div",{className:"p-audio_levels","data-qa":"audio-levels-bubbles"},this.renderBubbles())}constructor(E){super(E),this.state=u,this.onLevelUpdated=this.onLevelUpdated.bind(this)}},"AudioMeter");d.displayName="AudioMeter";const O=v(g=>({clientTheme:Object(c.a)(g)}),"mapStateToProps");var m=n.a=Object(r.a)(O)(d)},rGCG:function(K,n,e){"use strict";e.d(n,"a",function(){return rt});var s=e("q1tI"),t=e.n(s),a=e("Cfcg"),r=e("Muja"),c=e("yM+I"),o=e("3REw"),i=e("1VgO"),l=e("WSQ4");function u(){return u=Object.assign||function(pe){for(var je=1;je<arguments.length;je++){var xe=arguments[je];for(var ze in xe)Object.prototype.hasOwnProperty.call(xe,ze)&&(pe[ze]=xe[ze])}return pe},u.apply(this,arguments)}v(u,"_extends");let f=v(class extends s.PureComponent{componentDidMount(){this.context.window.document.addEventListener("mouseup",this.onMouseUp)}componentWillUnmount(){this.isDragging&&this.onMouseUp(),this.context.window.document.removeEventListener("mouseup",this.onMouseUp)}onMouseDown(je){je.button===0&&(this.isDragging=!0,this.context.window.document.addEventListener("mousemove",this.onMouseMove),this.props.onDragStart(je))}onMouseMove(je){je.button===0&&this.isDragging&&this.props.onDragMove(je)}onMouseUp(je){if(je&&je.button!==0)return;const xe=this.isDragging;this.isDragging=!1,xe&&(this.context.window.document.removeEventListener("mousemove",this.onMouseMove),this.props.onDragEnd(je))}render(){const{children:je,refToForward:xe,onDragStart:ze,onDragMove:st,onDragEnd:ct,...dt}=this.props,bt=t.a.Children.only(this.props.children);return t.a.cloneElement(bt,{...dt,onMouseDown:Bt=>this.onMouseDown(Bt),ref:Object(i.a)(xe,bt)})}constructor(je){super(je),this.isDragging=!1,this.onMouseMove=this.onMouseMove.bind(this),this.onMouseUp=this.onMouseUp.bind(this)}},"BaseDragTarget");f.displayName="BaseDragTarget",f.contextType=l.a;const d=t.a.forwardRef((pe,je)=>t.a.createElement(f,u({},pe,{refToForward:je})));var O=e("LZPg"),m=e("SQ0V"),g=e("KciV");const E=Object(g.c)("USER-ACTIONS"),p=Object(m.c)("Logs user interaction with call window",(pe,je,xe)=>{E.info(xe)});p.meta={name:"createThunk",key:"createThunklogUserAction",description:"Logs user interaction with call window"};var h=e("wMt+"),_=e("uXea");function b(pe){C=F(Ee(pe))}v(b,"startCurve");function I(pe){const je=Ee(pe),xe=V(C,je);return xe.update_status==j.SUCCESS?xe:V(C,je)}v(I,"addToCurve");let C;const y=2,P=9,T=9,S=50,A=80,R=1,x=!0,M=!0,j={SUCCESS:1,FAIL_CORNER:2,FAIL_MAXED:3},W=v(()=>({segments:[],vdmap:[]}),"initCurve"),U=v((pe,je)=>({c0:{x:pe,y:je},c1:{x:pe,y:je},c2:{x:pe,y:je},c3:{x:pe,y:je}}),"initCurveSegment"),B=v(pe=>pe.segments[pe.segments.length-1],"getLastSegment"),Y=v(pe=>pe.c3,"getLastPoint"),z=v(function(pe){return{c0:{x:pe.c0.x,y:pe.c0.y},c1:{x:pe.c1.x,y:pe.c1.y},c2:{x:pe.c2.x,y:pe.c2.y},c3:{x:pe.c3.x,y:pe.c3.y},constrain_to:pe.constrain_to==null?void 0:{x:pe.constrain_to.x,y:pe.constrain_to.y},error:pe.error||0,update_status:pe.update_status}},"copySegment"),F=v(function(pe){let{x:je,y:xe}=pe;const ze=W();return ze.segments.push(U(je,xe)),ze},"createCurve"),V=v(function(pe,je){const xe=B(pe),ze=Y(xe);if(X(je,Y(xe))<R)return xe;if(j.SUCCESS!=xe.update_status&&xe.update_status!==void 0){let st;j.FAIL_CORNER==xe.update_status?st=U(ze.x,ze.y):j.FAIL_MAXED==xe.update_status&&(st=U(ze.x,ze.y),st.constrain_to=oe(ee(xe))),pe.vdmap=[],pe.segments.push(st)}return L(pe,je)},"addToCurveImpl"),L=v(function(pe,je){const xe=B(pe),{x:ze,y:st}=je;let ct=Y(xe);const dt=z(xe);if(te(xe,je))return xe.update_status=j.FAIL_CORNER,xe;xe.c3={x:ze,y:st},xe.c2={x:xe.c2.x+ze-ct.x,y:xe.c2.y+st-ct.y};const bt=ie(ct,je),Ft=Oe(bt),Bt=H(ct,Ft),at=H(je,Ft),Ht=he(q(Ft,2)),Wt=ce(Ht),yt=k(Ht,Wt),Xt=Z(at,Bt),cn=ce(Xt),mn=k(Xt,cn);let In=Bt;for(let gt=0;gt<cn;gt++){let it=In,ft=Ft;for(let Ke=0;Ke<Wt;Ke++){const{x:Ve,y:Be}=Ee(it);pe.vdmap[Ve]||(pe.vdmap[Ve]=[]),pe.vdmap[Ve][Be]==null?pe.vdmap[Ve][Be]=Ee(ft):pe.vdmap[Ve][Be]=ge(pe.vdmap[Ve][Be])<ge(Ee(ft))?pe.vdmap[Ve][Be]:Ee(ft),ft=H(ft,yt),it=H(it,yt)}In=H(In,mn)}const pt=Z(je,{x:P,y:P}),Tt=H(je,{x:P,y:P});for(let gt=pt.x;gt<Tt.x;gt++)for(let it=pt.y;it<Tt.y;it++){pe.vdmap[gt]||(pe.vdmap[gt]=[]);const ft=Z({x:gt,y:it},je);pe.vdmap[gt][it]==null?pe.vdmap[gt][it]=ft:pe.vdmap[gt][it]=ge(pe.vdmap[gt][it])<ge(ft)?pe.vdmap[gt][it]:ft}let Lt=0;for(;;){let gt={x:0,y:0},it={x:0,y:0};for(let Ve=0;Ve<T;Ve++){const Be=Ve/T,Ye=Ee(me(xe,Be)),we=Q(pe,Ye),mt=J(we),Pt=we.x,Nt=we.y;let Ze=1;M&&(Be<.1||Be>.9)&&(Ze=10),gt.x+=Be*Math.pow(1-Be,2)*mt*Pt*Ze,gt.y+=Be*Math.pow(1-Be,2)*mt*Nt*Ze,it.x+=Math.pow(Be,2)*(1-Be)*mt*Pt*Ze,it.y+=Math.pow(Be,2)*(1-Be)*mt*Nt*Ze}if(M){const Ve=Z(le(xe),xe.c2),Be=Z(le(xe),xe.c1);gt=Z(gt,q(Be,.03)),it=Z(it,q(Ve,.03))}xe.constrain_to&&(gt=q(xe.constrain_to,re(xe.constrain_to,gt)));const ft=1;xe.c1.x-=ft*gt.x*6/T,xe.c1.y-=ft*gt.y*6/T,xe.c2.x-=ft*it.x*6/T,xe.c2.y-=ft*it.y*6/T;let Ke=0;for(let Ve=0;Ve<T;Ve++){const Be=Ve/T,Ye=me(xe,Be),we=Q(pe,Ee(Ye));Ke+=Math.pow(we.x,2)+Math.pow(we.y,2)}if(Ke=Ke/T,Lt++,xe.error=Ke,xe.steps=Lt,Ke<y||Lt>S)break}return Lt>S?(xe.c0=dt.c0,xe.c1=dt.c1,xe.c2=dt.c2,xe.c3=dt.c3,xe.error=dt.error,xe.constrain_to=dt.constrain_to,xe.update_status=j.FAIL_MAXED,xe):(xe.update_status=j.SUCCESS,xe)},"updateDistanceField"),Q=v(function(pe,je){let{x:xe,y:ze}=je;if(pe.vdmap[xe]){const st=pe.vdmap[xe][ze],ct=pe.vdmap[xe][ze+1];let dt=st!=null?{x:st.x,y:st.y}:{x:P,y:P};return ct&&ct.x!=null&&Math.abs(dt.x)>Math.abs(ct.x)&&(dt.x=ct.x),ct&&ct.y!=null&&Math.abs(dt.y)>Math.abs(ct.y)&&(dt.y=ct.y),dt}else return{x:P,y:P}},"getDistanceFromPolyline"),ee=v(function(pe){const je=pe.c3,xe=pe.c2;return{x:3*(xe.x-je.x),y:3*(xe.y-je.y)}},"getCurveEndTangent"),te=v(function(pe,je){if(se(pe.c0,pe.c3))return!1;let xe;x?xe=oe(Z(me(pe,.95),pe.c3)):xe=oe(ee(pe));const ze=oe({x:je.x-pe.c3.x,y:je.y-pe.c3.y}),st=re(xe,ze);if(w(Math.acos(st))<A)return!0},"checkCorner"),le=v(pe=>H(k(Z(pe.c3,pe.c0),2),pe.c0),"getSegmentMidpoint"),Oe=v(pe=>({x:pe.x*P,y:pe.y*P}),"getScaledVectorDifference"),he=v(pe=>({x:-pe.x,y:-pe.y}),"negateVec"),Ee=v(pe=>({x:Math.round(pe.x),y:Math.round(pe.y)}),"roundVec"),ge=v(pe=>Math.pow(pe.x,2)+Math.pow(pe.y,2),"sumOfSquaresVec"),J=v(pe=>Math.sqrt(ge(pe)),"magnitudeVec"),H=v((pe,je)=>({x:pe.x+je.x,y:pe.y+je.y}),"addVec"),Z=v((pe,je)=>H(pe,he(je)),"subVec"),q=v((pe,je)=>({x:pe.x*je,y:pe.y*je}),"multVec"),k=v((pe,je)=>q(pe,1/je),"divVec"),se=v((pe,je)=>pe.x==je.x&&pe.y==je.y,"equalVec"),re=v((pe,je)=>pe.x*je.x+pe.y*je.y,"dotProduct"),X=v(function(pe){let{x:je,y:xe}=pe,ze=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{x:0,y:0};return Math.sqrt(Math.pow(je-ze.x,2)+Math.pow(xe-ze.y,2))},"getMagnitude"),w=v(pe=>pe*180/Math.PI,"radiansToDegrees"),ce=v(pe=>Math.max(Math.abs(pe.x),Math.abs(pe.y)),"getDDASteps"),ie=v((pe,je)=>{const xe=je.x-pe.x,st=je.y-pe.y,ct=-xe;return oe({x:st,y:ct})},"getPerpindicularUnitVector"),oe=v(function(pe){let{x:je,y:xe}=pe;const ze=X({x:je,y:xe});return{x:je/ze,y:xe/ze}},"getUnitVector"),me=v(function(pe,je){const xe=ue(je,pe.c0.x,pe.c1.x,pe.c2.x,pe.c3.x),ze=ue(je,pe.c0.y,pe.c1.y,pe.c2.y,pe.c3.y);return{x:xe,y:ze}},"getPointAlongCurve"),ue=v(function(pe,je,xe,ze,st){return je*Math.pow(1-pe,3)+xe*3*pe*Math.pow(1-pe,2)+ze*3*Math.pow(pe,2)*(1-pe)+st*Math.pow(pe,3)},"singleComponentBezier");function _e(pe,je){return{a:pe,b:je}}v(_e,"makeLineSegment");function be(pe,je){let[xe,ze]=pe,[st,ct]=je;return Math.sqrt((xe-st)**2+(ze-ct)**2)}v(be,"magnitude");class Ae{add(je){return this.current?be(this.current.a,je)>.05?(this.current=_e(this.current.b,je),{type:o.c.New,segment:this.current}):(this.current=_e(this.current.a,je),{type:o.c.Edit,segment:this.current}):(this.current=_e(je,je),{type:o.c.New,segment:this.current})}}v(Ae,"line_transformer_ProgressiveEqualLengthMultilineTransformer");class Ce{setTargetRect(je){this.targetRect=je}add(je){if(!Object(h.a)(this.targetRect,"Need size to transform point to curve"))throw Error();const{top:xe,left:ze,width:st,height:ct}=this.targetRect,[dt,bt]=[je[0]-ze,je[1]-xe];if(!this.current){b({x:dt,y:bt});const yt=[dt/st,bt/ct];return this.current={a:yt,b:yt,c:yt,d:yt},{type:o.c.New,segment:this.current}}const Ft=this.current,{c0:Bt,c1:at,c2:Ht,c3:Wt}=I({x:dt,y:bt});return this.current={a:[Bt.x/st,Bt.y/ct],b:[at.x/st,at.y/ct],c:[Ht.x/st,Ht.y/ct],d:[Wt.x/st,Wt.y/ct]},this.current.a[0]!==Ft.a[0]||this.current.a[1]!==Ft.a[1]?{type:o.c.New,segment:this.current}:{type:o.c.Edit,segment:this.current}}}v(Ce,"line_transformer_ProgressiveCurveTransformer");var De=e("UXvI"),Pe=e("cRDo");const Ue=2e3,ae=50,ne=v(pe=>{const{onDragStart:je,onDragMove:xe,onDragEnd:ze,onCursorMoveStart:st,onCursorMove:ct,onCursorMoveEnd:dt,children:bt}=pe,[Ft,Bt]=Object(s.useState)(!1),[at,Ht]=Object(s.useState)(!1),[Wt,yt]=Object(s.useState)(0),[Xt,cn]=Object(s.useState)(0),mn=Object(s.useCallback)(ft=>{ft.button===0&&(Bt(!0),je(ft))},[je]),In=Object(s.useCallback)(()=>{Ht(!1),dt()},[Ht,dt]);Object(Pe.a)(()=>{In()},Ue,[Wt,Xt]);const pt=Object(s.useCallback)(ft=>{if(ft.button===0){if(Ft){xe(ft);return}at||(st(ft),Ht(!0)),ct(ft),yt(ft.movementX),cn(ft.movementY)}},[at,Ft,ct,st,xe]),Tt=Object(De.a)(pt,ae,{leading:!0}),Lt=Object(s.useCallback)(ft=>{ft.persist(),Tt(ft)},[Tt]),gt=Object(s.useCallback)(ft=>{if(ft&&ft.button!==0)return;const Ke=Ft;Bt(!1),Ke&&ze(ft)},[Ft,ze]),it=Object(s.useCallback)(ft=>{const Ke=Ft;Bt(!1),Ke?ze(ft):at&&dt()},[Ft,ze,at,dt]);return t.a.createElement("div",{onMouseDown:mn,onMouseMove:Lt,onMouseUp:gt,onMouseLeave:it,"aria-hidden":"true"},bt)},"HuddlesCursorTarget");ne.displayName="HuddlesCursorTarget";var Ie=t.a.memo(ne),Te=e("74PA"),Me=e("ktUG"),Ne=e("uxre");function He(){return He=Object.assign||function(pe){for(var je=1;je<arguments.length;je++){var xe=arguments[je];for(var ze in xe)Object.prototype.hasOwnProperty.call(xe,ze)&&(pe[ze]=xe[ze])}return pe},He.apply(this,arguments)}v(He,"target_extends");let Et=v(class extends t.a.Component{componentDidMount(){this.onResize()}shouldComponentUpdate(je,xe){return!Object(r.a)(this.props,je)||!Object(r.a)(this.state,xe)}componentDidUpdate(je){Object(r.a)(je.targetRect,this.props.targetRect)||this.onResize()}onResize(){var je;if(!(!((je=this.props.refToForward)===null||je===void 0)&&je.current))return;const xe=Object(_.a)(this.props.targetRect);this.props.refToForward.current.style.height=xe.height,this.props.refToForward.current.style.width=xe.width,this.props.refToForward.current.style.top=xe.top,this.props.refToForward.current.style.left=xe.left,this.props.refToForward.current.style.position=xe.position}getCursorCoordinates(je){return this.props.useHuddlesDragTarget?[je.nativeEvent.offsetX,je.nativeEvent.offsetY]:[je.pageX,je.pageY]}onDragStart(je){this.multilineTransformer=new Ce,this.props.useHuddlesDragTarget?this.multilineTransformer.setTargetRect({top:0,left:0,width:this.props.targetRect.width,height:this.props.targetRect.height}):this.multilineTransformer.setTargetRect(this.props.targetRect),c.a.publish({id:"self",type:o.c.ChangeHue,hue:this.props.hue,...this.props.itemId&&{itemId:this.props.itemId}}),c.a.publish({id:"self",...this.multilineTransformer.add(this.getCursorCoordinates(je)),...this.props.itemId&&{itemId:this.props.itemId}}),this.props.logDrawingAction("Draw start"),this.setState(()=>({showCursor:!1}))}onDragMove(je){Object(h.a)(this.multilineTransformer,"Need transformer to draw")&&c.a.publish({id:"self",...this.multilineTransformer.add(this.getCursorCoordinates(je)),...this.props.itemId&&{itemId:this.props.itemId}})}onDragEnd(je){c.a.publish({id:"self",type:o.c.End,...this.props.itemId&&{itemId:this.props.itemId}}),this.props.logDrawingAction("Draw stop"),this.setState(()=>({showCursor:!0})),this.props.useHuddlesDragTarget&&Object(Te.a)(Me.EventId.HUDDLES_SCREENSHARE_INTERACTION,{contexts:{ui_context:{action:Me.UiAction.CLICK,ui_properties:{element_name:"screenshare_draw"}}}})}onCursorMoveStart(){c.a.publish({id:"self",type:o.c.ChangeHue,hue:this.props.hue,...this.props.itemId&&{itemId:this.props.itemId}})}onCursorMove(je){const xe=this.getCursorCoordinates(je),ze=xe[0]/this.props.targetRect.width,st=xe[1]/this.props.targetRect.height;c.a.publish({id:"self",type:o.c.Position,x:ze,y:st,...this.props.itemId&&{itemId:this.props.itemId}}),this.setState(()=>({showCursor:!0}))}onCursorMoveEnd(){c.a.publish({id:"self",type:o.c.End,...this.props.itemId&&{itemId:this.props.itemId}}),this.setState(()=>({showCursor:!1}))}render(){return this.props.useHuddlesDragTarget?t.a.createElement(Ie,{onDragStart:this.onDragStart,onDragMove:this.onDragMove,onDragEnd:this.onDragEnd,onCursorMoveStart:this.onCursorMoveStart,onCursorMove:this.onCursorMove,onCursorMoveEnd:this.onCursorMoveEnd},t.a.createElement("div",{ref:this.props.refToForward,className:"p-calls_draw__target_none",style:{...Object(_.a)(this.props.targetRect)}})):t.a.createElement(d,{onDragStart:je=>this.onDragStart(je),onDragMove:je=>this.onDragMove(je),onDragEnd:je=>this.onDragEnd(je)},t.a.createElement("div",{ref:this.props.refToForward,className:this.state.showCursor?"p-calls_draw__target":"p-calls_draw__target_none",style:{...Object(_.a)(this.props.targetRect)}}))}constructor(je){super(je),this.onResize=this.onResize.bind(this),this.onDragStart=this.onDragStart.bind(this),this.onDragMove=this.onDragMove.bind(this),this.onDragEnd=this.onDragEnd.bind(this),this.onCursorMoveStart=this.onCursorMoveStart.bind(this),this.onCursorMove=this.onCursorMove.bind(this),this.onCursorMoveEnd=this.onCursorMoveEnd.bind(this),this.state={showCursor:!0}}},"BaseDrawTarget");Et.displayName="BaseDrawTarget";const Je=v((pe,je)=>({hue:Object(O.V)(pe).drawHue}),"mapStateToProps"),qe=v(pe=>({logDrawingAction:je=>pe(p(je))}),"mapDispatchToProps"),ke=Object(a.a)(Je,qe)(Et),rt=t.a.forwardRef((pe,je)=>t.a.createElement(ke,He({refToForward:je},pe)))},rH7J:function(K,n,e){"use strict";e.d(n,"a",function(){return o});var s=e("SQ0V"),t=e("u43d"),a=e("GYPw"),r=e("WUSA"),c=e("j77i");const o=Object(s.c)("Set the behavior of the up arrow shortcut when focus is in the MessageInput",(i,l,u)=>{if(Object(t.a)(l()))try{Object(c.v)(a.a,u)}catch{}i(Object(r.b)(u))});o.meta={name:"createThunk",key:"createThunksetComposerUpArrowShortcutBehavior",description:"Set the behavior of the up arrow shortcut when focus is in the MessageInput"}},rIOq:function(K,n,e){"use strict";var s=e("q1tI"),t=e.n(s),a=e("Cfcg"),r=e("iuhU"),c=e("xwCZ"),o=e("5YDL"),i=e("4HNC"),l=e("zNRp"),u=e("TUw0"),f=e("sGXp");function d(){return d=Object.assign||function(g){for(var E=1;E<arguments.length;E++){var p=arguments[E];for(var h in p)Object.prototype.hasOwnProperty.call(p,h)&&(g[h]=p[h])}return g},d.apply(this,arguments)}v(d,"_extends");let O=v(class extends s.Component{render(){const{className:E,isActive:p=!1,isDeactivated:h=!1,isDisabled:_=!1,secondaryContent:b,secondaryContentPosition:I=u.a.right,showUnreadCount:C=!1,showStatus:y,showPresence:P,useShortMode:T=!1,showHoverCard:S,forwardedRef:A,unreadCount:R,ariaLabel:x}=this.props,M=C&&R&&t.a.createElement(l.b,{className:"c-member__unread_count",count:R,style:l.a.red}),j=b&&t.a.createElement("span",{className:"c-member__details","data-qa":"member-entity__secondary-content"},b),W=(I===u.a.right&&j||M)&&t.a.createElement("span",{className:"c-member__secondary_content"},I===u.a.right&&j,M),U=Object(r.default)(E,"c-medium_member_list_entity");let B;return p?_||h?B=f.d.highlightDim:B=f.d.highlightLight:(_||h)&&(B=f.d.dim),t.a.createElement(i.a,{"data-qa":"medium_member_list_entity",className:U,style:B,primaryContent:t.a.createElement(u.b,d({},this.props,{secondaryContent:I===u.a.right?null:b,showStatus:y,showPresence:P,showHoverCard:S,useShortMode:T,forwardedRef:A})),secondaryContent:W,size:"medium",ariaLabel:x})}},"MediumMemberListEntity");O.displayName="MediumMemberListEntity";function m(g,E){let{id:p}=E;const h=Object(c.g)(g,p);return{member:h??void 0,unreadCount:Object(o.a)(g,h)}}v(m,"mapStateToProps"),n.a=Object(a.a)(m,null,null,{forwardRef:!0})(O)},rP0b:function(K,n,e){"use strict";e.d(n,"a",function(){return t}),e.d(n,"c",function(){return a}),e.d(n,"d",function(){return r}),e.d(n,"e",function(){return c}),e.d(n,"f",function(){return o}),e.d(n,"b",function(){return i}),e.d(n,"g",function(){return l});var s=e("DwFS");const t=Object(s.a)("Remove edits corresponding to a message");t.meta={name:"createAction",key:"createActionremoveMessageEdit",description:"Remove edits corresponding to a message"};const a=Object(s.a)("Start editing a message");a.meta={name:"createAction",key:"createActionstartEditingMessage",description:"Start editing a message"};const r=Object(s.a)("Stop editing a message");r.meta={name:"createAction",key:"createActionstopEditingMessage",description:"Stop editing a message"};const c=Object(s.a)("Clear message editing data for a channel");c.meta={name:"createAction",key:"createActionstopEditingMessagesInChannel",description:"Clear message editing data for a channel"};const o=Object(s.a)("Update the current editing state of a message");o.meta={name:"createAction",key:"createActionupdateEditState",description:"Update the current editing state of a message"};const i=Object(s.a)("Update the `didRequestToStopEditing` property");i.meta={name:"createAction",key:"createActionsetDidRequestToStopEditing",description:"Update the `didRequestToStopEditing` property"};const l=Object(s.a)("Update the `hasUnsavedChanges` property");l.meta={name:"createAction",key:"createActionupdateHasUnsavedChanges",description:"Update the `hasUnsavedChanges` property"}},rRi9:function(K,n,e){"use strict";e.d(n,"a",function(){return t}),e.d(n,"b",function(){return a});var s=e("DwFS");const t=Object(s.a)("Add ephemeral message reference to store");t.meta={name:"createAction",key:"createActionaddToEphemeralMessageMap",description:"Add ephemeral message reference to store"};const a=Object(s.a)("Remove ephemeral message reference");a.meta={name:"createAction",key:"createActionremoveFromEphemeralMessageMap",description:"Remove ephemeral message reference"}},rTTn:function(K,n,e){"use strict";e.d(n,"a",function(){return p});var s=e("q1tI"),t=e.n(s),a=e("owWc"),r=e("/MKj"),c=e("qDEp"),o=e("Ws5+"),i=e("ovHh"),l=e("YUBf"),u=e("3V+Q"),f=e("Eoji"),d=e("nNoG"),O=e("Tevt"),m=e("B4ch"),g=e("d/xU");const E=new d.b("huddles");var p;(function(I){I.HuddleSurvey="huddle-survey"})(p||(p={}));function h(I){return Object(a.a)(I,(C,y,P)=>(y&&C.push(P),C),[])}v(h,"collectResponses");const _=v(I=>{let{closeModal:C,callId:y}=I;const[P,T]=Object(s.useState)({}),[S,A]=Object(s.useState)(""),[R,x]=Object(s.useState)(!1),M=`https://${Object(g.l)()}`,j=Object(r.useDispatch)(),W=[{value:"echo",text:E.t("I could hear an echo")},{value:"robot",text:E.t("Some people sounded like robots")},{value:"no-audio",text:E.t("I couldn\u2019t hear anything at all")},{value:"disconnect",text:E.t("The huddle kept disconnecting")},{value:"screen-share",text:E.t("Screensharing didn\u2019t work well")}],U=p.HuddleSurvey,B=v(()=>{x(!0),j(Object(i.a)({isOk:!1,notOkResponses:h(P),comments:S,callId:y,type:U})).then(()=>{x(!1),C==null||C()})},"onGo"),Y=v(()=>{j(Object(i.a)({isOk:!1,notOkResponses:["dismiss"],callId:y,type:U})),C==null||C()},"onCloseModal");return t.a.createElement(l.a,{closeModal:Y,showCloseButton:!0,centered:!0},t.a.createElement(t.a.Fragment,null,t.a.createElement(l.i,null,t.a.createElement(l.l,{title:E.t("What went wrong?")})),t.a.createElement(l.d,null,t.a.createElement(l.e,null,W.map(z=>{let{value:F,text:V}=z;return t.a.createElement(u.b,{text:V,key:F,id:F,type:"inline",cursor:"pointer",className:"p-huddle_survey_modal_checkbox"},t.a.createElement(o.a,{name:F,value:F,checked:!!P[F],onChange:L=>T(Q=>({...Q,[F]:L.target.checked}))}))}),t.a.createElement(u.b,{className:"padding_top_75",text:E.t("If you\u2019d like, please share any other details here:"),id:"details",optional:!0},t.a.createElement(f.a,{name:"details",id:"details",onChange:z=>A(z),value:S})))),t.a.createElement(l.g,null,t.a.createElement(O.a,{href:`${M}/privacy-policy`,target:"_blank"},E.t("Privacy Policy")),t.a.createElement(l.h,null,t.a.createElement(c.a,{onClick:Y,type:"outline"},E.t("Dismiss")),t.a.createElement(c.c,{loading:R,onClick:B},E.t("Send"))))))},"HuddleSurveyModal");_.displayName="HuddleSurveyModal";var b=n.b=Object(m.a)(_)},rVFV:function(K,n,e){"use strict";e.d(n,"a",function(){return c});var s=e("gSGL"),t=e("pl4z"),a=e.n(t);const r=new a.a;function c(o){return Object(s.a)(o)?r.countGraphemes(o):!1}v(c,"getStringLength")},rYtS:function(K,n,e){"use strict";e.d(n,"a",function(){return g}),e.d(n,"d",function(){return P}),e.d(n,"c",function(){return T}),e.d(n,"b",function(){return S}),e.d(n,"e",function(){return A});var s=e("Vfgr"),t=e("nNoG"),a=e("rdha"),r=e("ZKjC"),c=e("ZOzc"),o=e("3REw"),i=e("2OfI"),l=e("sgFo"),u=e("i3z+"),f=e("UIWO"),d=e("beVI"),O=e("3vtZ"),m=e("ZTSm");const g={video:"video",audio:"audio",profileFieldOptions:"profile_field_options"},E=new t.b("huddles"),p=v((R,x)=>({video:[...R&&R.video?R.video:[]],audio:[...!x&&R&&R.audio?R.audio:[]],profile_field_options:[]}),"getInnerCallsAppsFromTeamPref"),h=v(R=>{const x=R.reduce((j,W)=>(Object.entries(W).forEach(U=>{let[B,Y]=U;(B==="video"||B==="audio")&&(j[B]=j[B]?[...j[B],...Y]:[...Y])}),j),{}),M={video:[],audio:[]};return Object.entries(x).forEach(j=>{let[W,U]=j;(W==="video"||W==="audio")&&(M[W]=U.filter((B,Y,z)=>Y===z.findIndex(F=>F.id===B.id&&F.id!==void 0)))}),M},"combineCallApps"),_=v(R=>{const M=Object(d.r)(R).map(W=>Object(c.a)(R,"calls_apps",W.id)).filter(m.a);return h(M)},"retrieveCallsAppsForUnifiedOrg"),b=v(R=>Object(f.a)(R)?_(R):Object(c.a)(R,"calls_apps"),"retrieveCallsAppsFromPrefs"),I=v((R,x)=>{const M=b(R);if(x){var j;const W=M==null||(j=M.video)===null||j===void 0?void 0:j.findIndex(U=>U.id===o.j);W>=0&&M.video.splice(W,1)}return M},"filterCallsAppsFromTeamPref"),C=Object(a.b)((R,x)=>I(R,x),R=>p(R,!1)),y=Object(a.b)((R,x)=>I(R,x),R=>p(R,!0)),P=v(function(R){let x=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;const M=Object(l.e)(R);return x?y(R,M):C(R,M)},"getCallsAppsFromTeamPref"),T=Object(r.b)(R=>{const x={},M=P(R),j=M&&M.video?M.video:[],W=M&&M.audio?M.audio:[],U=Object(O.M)(R),B=E.t("Start a huddle"),Y=U?[{id:"A01",name:B,image:"/marketing/img/homepage/icons/huddle-icon.png"}]:[];return[...j,...W,...Y].forEach(z=>{let F;z.id===o.j?F={id:z.id,name:z.name,image:z.image}:["A5GE9BMQC","A649AA069","A5W4BRDNX","ARQS1U88Y","ARUFE7YMU"].findIndex(V=>z.id===V)!==-1?F={id:z.id,name:z.name,image:"/marketing/img/homepage/icons/zoom-icon.png"}:F=z,x[F.id]=F}),x});T.meta={name:"createSelector",key:"createSelectorgetCallAppsById",description:R=>{const x={},M=P(R),j=M&&M.video?M.video:[],W=M&&M.audio?M.audio:[],U=Object(O.M)(R),B=E.t("Start a huddle"),Y=U?[{id:"A01",name:B,image:"/marketing/img/homepage/icons/huddle-icon.png"}]:[];return[...j,...W,...Y].forEach(z=>{let F;z.id===o.j?F={id:z.id,name:z.name,image:z.image}:["A5GE9BMQC","A649AA069","A5W4BRDNX","ARQS1U88Y","ARUFE7YMU"].findIndex(V=>z.id===V)!==-1?F={id:z.id,name:z.name,image:"/marketing/img/homepage/icons/zoom-icon.png"}:F=z,x[F.id]=F}),x}};const S=v(R=>{let{callsApp:x,memberPhoneNumber:M,hideVideoApps:j=!1}=R;const W=[];return x&&(!j&&x.video&&W.push(...x.video.map(U=>({...U,type:u.b.Video}))),x.audio&&Object(i.a)(Object(s.a)(M))&&W.push(...x.audio.map(U=>({...U,type:u.b.Audio})))),W},"getCallAppList"),A=v(R=>{const x=Object(l.e)(R),M=I(R,x),j=M&&M.video?M.video:[],W=M&&M.audio?M.audio:[];return[...j,...W]},"getFlattenTeamPrefCallsApps")},rcBr:function(K,n,e){"use strict";e.d(n,"a",function(){return t});var s=e("Lgge");function t(a,r,c){return new s.a((o,i)=>{const l=v(u=>{u.propertyName===r&&(o(u),a.removeEventListener("transitionend",l))},"endHandler");a.addEventListener("transitionend",l),c&&c>0&&setTimeout(()=>{i(new Error("maxWaitTime exceeded")),a.removeEventListener("transitionend",l)},c)})}v(t,"waitForTransitionEnd")},rf28:function(K,n,e){"use strict";var s=e("ZvnG");n.a=new s.a},rmZX:function(K,n,e){K.exports=e.p+"moment_of_zen-d03f218.mp3"},rq2v:function(K,n,e){"use strict";e.d(n,"a",function(){return g}),e.d(n,"b",function(){return p});var s=e("q1tI"),t=e.n(s),a=e("/MKj"),r=e("zxER"),c=e("7+Lm"),o=e("uVZW"),i=e("VxqI"),l=e("eWGC"),u=e("q6Tz"),f=e("6FZx"),d=e("Trx9");const O={isInMegaphoneContainerContext:!0},m={isInMegaphoneContainerContext:!1},g=Object(s.createContext)(m),E=v(h=>{let{fetchDataOnMount:_,notifications:b,spaceName:I,children:C,shouldAlwaysRenderChildren:y,channelScopedId:P,componentClassName:T,...S}=h;var A;const R=Object(a.useDispatch)(),x=Object(r.a)(Y=>Object(c.c)(Y,I,P)),M=Object(r.a)(Y=>Object(c.b)(Y,I,P)),j=Object(s.useCallback)(()=>{R(Object(l.a)({notificationName:x,action:o.f.IMPRESSION}))},[R,x]),W=Object(s.useCallback)(()=>{R(Object(u.b)({event:{type:o.e.REQUEST_SPACES,spaces:[I]}}))},[R,I]),U=v(()=>y?t.a.createElement(t.a.Fragment,null,C):null,"maybeRenderChildren");if(Object(s.useEffect)(()=>{I&&_&&W()},[_,I,W]),!I||!x)return U();const B=b==null||(A=b[x])===null||A===void 0?void 0:A.component;return B?t.a.createElement(d.a,{megaphoneSpaceName:I,megaphoneNotificationName:x},t.a.createElement(g.Provider,{value:O},t.a.createElement(s.Suspense,{fallback:null},t.a.createElement(B,{...M,recordNotificationEventImpression:j,notificationName:x,className:T,...S},C)))):(b||Object(i.a)({spaceName:I,notificationName:x}),U())},"MegaphoneContainer");E.displayName="MegaphoneContainer";const p=Object(f.b)(E);n.c=E},rxiy:function(K,n,e){"use strict";e.d(n,"a",function(){return m});var s=e("n3tL"),t=e("SQ0V"),a=e("O86Y"),r=e("s4P+"),c=e("JV3N"),o=e("GNAk");const i=Object(t.c)("Mark actions for channelIds as stale",(g,E,p)=>{const h=Object(o.a)(),_=E(),b=Object(a.g)(_);h.markObjectsAsStale(b,p)});i.meta={name:"createThunk",key:"createThunkmarkChannelActionsAsStaleForChannels",description:"Mark actions for channelIds as stale"},i.propTypes=s.default.arrayOf(s.default.string).isRequired;var l=e("26vS"),u=e("lsLQ");const f=Object(t.c)("Upserts the count of channel actions for a channel, marking the channel as having stale actions if the count changed.",(g,E,p)=>{let{channelId:h,count:_}=p;const b=E(),I=Object(r.a)({state:b,label:u.a});if(!Number.isInteger(_)){I.error(`Attempt to set channel action count to non-integer value ${_} for channel ${h}. Ignoring.`,{subtype:"channel_action_count_non_integer"});return}const C=Object(l.d)(b,h);!Object(l.e)(b,h)||C!==_?(I.info(`setting count for channel ${h} to ${_}, and marking channel as stale.`),g(i([h])),g(Object(c.d)({channelId:h,count:_}))):I.info(`Not updating count for channel ${h}, as count was already set to ${C}`)});f.meta={name:"createThunk",key:"createThunkupsertChannelActionCountForChannelId",description:"Upserts the count of channel actions for a channel, marking the channel as having stale actions if the count changed."},f.propTypes={channelId:s.default.string.isRequired,count:s.default.number.isRequired};var d=e("G5NC"),O=e("MIV3");const m=Object(t.c)("upsertChannelActionCountForChannelId",(g,E,p)=>{const h=E(),_=Object(a.d)(h);if(!_||!Object(d.a)()){g(f(p));return}Object(O.b)({action:f(p),enterpriseId:_})});m.meta={name:"createThunk",key:"createThunkupsertXWSChannelActionCountForChannelId",description:"upsertChannelActionCountForChannelId"},m.propTypes={channelId:s.default.string.isRequired,count:s.default.number.isRequired}},s0AW:function(K,n,e){"use strict";var s=e("q1tI"),t=e.n(s),a=e("iuhU");const r=t.a.memo(l=>{let{className:u,iconClassName:f,allowMuteAnimation:d,wasMicEverEnabled:O}=l;return t.a.createElement("div",{className:Object(a.default)("p-huddle_mic_icon p-huddle_mic_icon__container",u),"data-qa":"huddle_mic_icon_unmute"},t.a.createElement("svg",{className:f,xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 20 20",fill:"none"},t.a.createElement("path",{d:"M5.35086 10.3436C5.12445 9.77312 5 9.15109 5 8.5V8.25C5 7.83579 4.66421 7.5 4.25 7.5C3.83579 7.5 3.5 7.83579 3.5 8.25V8.5C3.5 9.60794 3.7772 10.6511 4.26603 11.564L5.35086 10.3436ZM7.62904 14.554C8.36362 14.8419 9.16335 15 10 15C13.5899 15 16.5 12.0899 16.5 8.5V8.25C16.5 7.83579 16.1642 7.5 15.75 7.5C15.3358 7.5 15 7.83579 15 8.25V8.5C15 11.2614 12.7614 13.5 10 13.5C9.55549 13.5 9.12453 13.442 8.71427 13.3331L7.62904 14.554Z",fill:"currentColor"}),t.a.createElement("path",{d:"M10 14.25V17",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round"}),t.a.createElement("path",{d:"M12.25 17.25L7.75 17.25",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round"}),t.a.createElement("path",{d:"M12.1271 2.72031C11.5376 2.2685 10.8001 2 10 2C8.067 2 6.5 3.567 6.5 5.5V8.5C6.5 8.67302 6.51255 8.84311 6.5368 9.0094L8 7.3633V5.5C8 4.39543 8.89543 3.5 10 3.5C10.4175 3.5 10.8051 3.62793 11.1258 3.84674L12.1271 2.72031ZM9.90052 11.9986C9.93357 11.9995 9.96673 12 10 12C11.933 12 13.5 10.433 13.5 8.5V7.9492L9.90052 11.9986Z",fill:"currentColor"}),t.a.createElement("path",{className:Object(a.default)("p-huddle_mic_icon__microphone--slash",{"p-huddle_mic_icon__microphone--slash_animated":d&&O}),d:"M4 15.25L15.5 2.25",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round"})))}),c=t.a.memo(l=>{let{volumeLevel:u=0,className:f,iconClassName:d}=l;const[O,m]=Object(s.useState)(0);return Object(s.useEffect)(()=>{if(u!=="auto"){m(Math.min(1,u||0));return}const g=setInterval(()=>{const E=(Math.floor(Math.random()*100)+1)/100;m(E)},100);return()=>{clearInterval(g)}},[u]),t.a.createElement("div",{className:Object(a.default)("p-huddle_mic_icon p-huddle_mic_icon__container",f),"data-qa":"huddle_mic_icon_mute"},t.a.createElement("svg",{className:d,xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 20 20",fill:"none"},t.a.createElement("path",{className:"p-huddle_mic_icon__microphone--input_level",style:{transform:`scaleY(${O})`},d:"M10 11V3",stroke:"currentColor",strokeWidth:"4"}),t.a.createElement("path",{d:"M7.25 5.5C7.25 3.98122 8.48122 2.75 10 2.75V2.75C11.5188 2.75 12.75 3.98122 12.75 5.5V8.5C12.75 10.0188 11.5188 11.25 10 11.25V11.25C8.48122 11.25 7.25 10.0188 7.25 8.5V5.5Z",stroke:"currentColor",strokeWidth:"1.5"}),t.a.createElement("path",{d:"M4.25 8.25V8.5C4.25 11.6756 6.82436 14.25 10 14.25V14.25C13.1756 14.25 15.75 11.6756 15.75 8.5V8.25",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round"}),t.a.createElement("path",{d:"M10 14.25V17",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round"}),t.a.createElement("path",{d:"M12.25 17.25L7.75 17.25",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round"})))}),o=v(l=>{let{type:u,volumeLevel:f,className:d,iconClassName:O,allowMuteAnimation:m=!1}=l;const[g,E]=Object(s.useState)(u==="unmuted");return Object(s.useEffect)(()=>{u==="unmuted"&&E(!0)},[u]),u==="unmuted"?t.a.createElement(c,{className:d,iconClassName:O,volumeLevel:f}):t.a.createElement(r,{className:d,iconClassName:O,allowMuteAnimation:m,wasMicEverEnabled:g})},"HuddleMicIcon");o.displayName="HuddleMicIcon";var i=n.a=t.a.memo(o)},s9IP:function(K,n,e){"use strict";e.d(n,"a",function(){return s});function s(t){return t&&t.emoji}v(s,"getEmojiCollectionEmoji")},"sB/w":function(K,n,e){K.exports=e.p+"b2-67a4126.mp3"},sEtg:function(K,n,e){"use strict";e.d(n,"i",function(){return g}),e.d(n,"e",function(){return E}),e.d(n,"f",function(){return p}),e.d(n,"c",function(){return h}),e.d(n,"d",function(){return _}),e.d(n,"j",function(){return b}),e.d(n,"g",function(){return I}),e.d(n,"h",function(){return C}),e.d(n,"a",function(){return y}),e.d(n,"b",function(){return P});var s=e("ZKjC"),t=e("G4qV"),a=e("EsgF"),r=e("Muja"),c=e("fujP"),o=e("i5Ig"),i=e("Eh7F"),l=e("BSP1");const u=Object(t.b)(a.a,r.a),f=v(T=>{var S;return(T==null||(S=T.awareness)===null||S===void 0?void 0:S.awarenessEntries)||o.a},"selectAwarenessEntries"),d=Object(t.a)([f,(T,S)=>S,(T,S,A)=>A,(T,S,A,R)=>R],(T,S,A,R)=>{if(S===void 0)return o.b;const x=T.filter(j=>{const W=j.channel===S,U=j.fieldName===A,B=R?j.uniqueId===R:!0,Y=!Object(l.a)(j);return W&&U&&B&&Y}).map(j=>[j.user,j.fieldValue]),M=Object.fromEntries(x);return Object(c.a)(M)?o.b:M}),O=Object(t.a)([f,(T,S)=>S,(T,S,A)=>A],(T,S,A)=>{if(S===void 0)return o.b;const R=T.filter(M=>{const j=M.channel===S,W=M.fieldName===A,U=!Object(l.a)(M);return j&&W&&U}).map(M=>[M.uniqueId,[M.user,M.fieldValue]]),x=Object.fromEntries(R);return Object(c.a)(x)?o.b:x}),m=Object(t.a)([f,(T,S)=>S,(T,S,A)=>A],(T,S,A)=>{if(S===void 0)return o.b;var R,x;const M=T.filter(W=>{const U=W.channel===S,B=W.fieldName===A,Y=!Object(l.a)(W);return U&&B&&Y}).sort((W,U)=>((R=W.fieldTimestampMs)!==null&&R!==void 0?R:Number.MAX_SAFE_INTEGER)-((x=U.fieldTimestampMs)!==null&&x!==void 0?x:Number.MAX_SAFE_INTEGER)).map(W=>[W.user,W.fieldValue]);return Object.fromEntries(M)}),g=Object(s.b)((T,S)=>{const A=m(T,S,i.a.STICKYEMOJI);return Object(c.a)(A)?o.b:A});g.meta={name:"createSelector",key:"createSelectorgetStickyEmojisForTopicByUser",description:(T,S)=>{const A=m(T,S,i.a.STICKYEMOJI);return Object(c.a)(A)?o.b:A}};const E=Object(s.b)((T,S)=>d(T,S,i.a.CONTENTVIEW));E.meta={name:"createSelector",key:"createSelectorgetContentViewsForTopicByUser",description:(T,S)=>d(T,S,i.a.CONTENTVIEW)};const p=Object(s.b)((T,S)=>O(T,S,i.a.CONTENTVIEW));p.meta={name:"createSelector",key:"createSelectorgetContentViewsKeyedByPeerId",description:(T,S)=>O(T,S,i.a.CONTENTVIEW)};const h=Object(s.b)((T,S,A,R)=>{var x;return(T==null||(x=T.awareness)===null||x===void 0?void 0:x.awarenessEntries).filter(W=>{const U=W.channel===S,B=W.user===A,Y=!R||Object(l.b)(W.fieldName)?!0:W.uniqueId===R,z=!Object(l.a)(W);return U&&B&&Y&&z}).map(W=>({field_name:W.fieldName,field_value:W.fieldValue,...!!W.fieldTimestampMs&&{field_timestamp_ms:W.fieldTimestampMs}}))});h.meta={name:"createSelector",key:"createSelectorgetAwarenessForMe",description:(T,S,A,R)=>{var x;return(T==null||(x=T.awareness)===null||x===void 0?void 0:x.awarenessEntries).filter(W=>{const U=W.channel===S,B=W.user===A,Y=!R||Object(l.b)(W.fieldName)?!0:W.uniqueId===R,z=!Object(l.a)(W);return U&&B&&Y&&z}).map(W=>({field_name:W.fieldName,field_value:W.fieldValue,...!!W.fieldTimestampMs&&{field_timestamp_ms:W.fieldTimestampMs}}))}};const _=Object(s.b)((T,S,A,R)=>{const x=h(T,S,A,R);for(const M of x)if(M.field_name===i.a.STICKYEMOJI)return M;return null});_.meta={name:"createSelector",key:"createSelectorgetAwarenessStickyEmoji",description:(T,S,A,R)=>{const x=h(T,S,A,R);for(const M of x)if(M.field_name===i.a.STICKYEMOJI)return M;return null}};const b=Object(s.b)((T,S)=>{let{callId:A,userId:R,uniqueId:x}=S;return A?d(T,A,i.a.STICKYEMOJI,x)[R]:void 0});b.meta={name:"createSelector",key:"createSelectorgetStickyReactionsByUserId",description:(T,S)=>{let{callId:A,userId:R,uniqueId:x}=S;return A?d(T,A,i.a.STICKYEMOJI,x)[R]:void 0}};const I=Object(s.b)((T,S)=>{let{callId:A,userId:R}=S;if(!A)return;const x=d(T,A,i.a.HUDDLE_ACTIVE_SONG);if(Object(c.a)(x))return;if(R)return x[R];const M=Object.values(x);if(M.length!==0)return M[0]});I.meta={name:"createSelector",key:"createSelectorgetRequestedSong",description:(T,S)=>{let{callId:A,userId:R}=S;if(!A)return;const x=d(T,A,i.a.HUDDLE_ACTIVE_SONG);if(Object(c.a)(x))return;if(R)return x[R];const M=Object.values(x);if(M.length!==0)return M[0]}};const C=Object(s.b)((T,S)=>{let{callId:A,userId:R,uniqueId:x}=S;return A?d(T,A,i.a.STEPS,x)[R]:void 0});C.meta={name:"createSelector",key:"createSelectorgetStepsByUserId",description:(T,S)=>{let{callId:A,userId:R,uniqueId:x}=S;return A?d(T,A,i.a.STEPS,x)[R]:void 0}};const y=u([f,(T,S,A,R,x)=>`${S},${A},${R},${x}`],(T,S)=>{const[A,R,x,M]=S.split(","),j=T.filter(W=>{const U=W.channel===A,B=W.user!==R,Y=W.fieldName===i.a.ACTIVE_CELL&&W.fieldValue&&W.fieldValue.rowId===x&&W.fieldValue.colId===M,z=!Object(l.a)(W);return U&&B&&Y&&z}).map(W=>[[`${W.fieldValue.rowId},${W.fieldValue.colId}`],W.user]);return j.length?Object.fromEntries(j):o.b}),P=Object(t.a)([f,(T,S)=>S],(T,S)=>S===void 0?o.a:T.filter(R=>{const x=R.channel===S,M=R.fieldName===i.a.ACTIVE_CELL;return x&&M}).map(R=>R.user))},sGXp:function(K,n,e){"use strict";e.d(n,"a",function(){return s}),e.d(n,"d",function(){return t}),e.d(n,"b",function(){return a}),e.d(n,"c",function(){return r}),e.d(n,"e",function(){return c});const s={xxlarge:102,xlarge:72,large:56,medium:36,small:20,inline:14},t={normal:"normal",dim:"dim",highlightDark:"highlight-dark",highlightDim:"highlight-dim",highlightLight:"highlight-light"},a={normal:"12px",none:"0"},r={small:"small",medium:"medium"},c={true:!0,bestOnly:"best_only",false:!1}},sJV7:function(K,n,e){"use strict";e.d(n,"a",function(){return t});var s=e("QOYf");function t(){return Object(s.a)()?null:{launchedFromLegacyUrl:window.location.href}}v(t,"getDefaultQueryStringParams")},sK3r:function(K,n,e){"use strict";e.d(n,"a",function(){return s}),e.d(n,"b",function(){return t});const s=3e5,t={shareChannelPaywall:"share_channel_paywall",sharedChannelsIntro:"shared_channels_intro",trialStart:"trial_start",limitedHistoryForeword:"limited_history_foreword",slackConnectHub:"slack_connect_hub",slackConnectHubHeader:"slack_connect_hub_header",slackConnectDMBanner:"slack_connect_dm_banner",addMoreItemsLink:"add_more_items_link",connectionsChannelSection:"connections_channel_section",paidBenefitsPage:"paid_benefits_page",adminBillingOverview:"admin_billing_overview",channelInviteModal:"channel_invite_modal",huddleChannelJoinMsgText:"huddle_channel_join_msg_text",fileStorageWarning:"file_storage_warning",huddleInviteModal:"huddle_invite_modal",canvasPageSyntheticView:"canvas_page_synthetic_view",workflowBuilderFreemiumBanner:"workflow_builder_freemium_banner"}},sNDC:function(K,n,e){"use strict";e.d(n,"e",function(){return E}),e.d(n,"f",function(){return p}),e.d(n,"g",function(){return h}),e.d(n,"h",function(){return _}),e.d(n,"b",function(){return b}),e.d(n,"c",function(){return I}),e.d(n,"d",function(){return C}),e.d(n,"a",function(){return y});var s=e("UXvI"),t=e("SQ0V"),a=e("1Zcw"),r=e("s4P+"),c=e("jUSB"),o=e("pJ2S"),i=e("JoR1"),l=e("IYwZ"),u=e("ctiz");const f=Object(s.a)(function(){let P=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;return Object(c.c)(P?o.E:o.w,{loop:!1})},7e3,{leading:!0,trailing:!1}),d=Object(s.a)(function(){let P=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;return Object(c.c)(P?o.F:o.x,{loop:!1})},7e3,{leading:!0,trailing:!1}),O=Object(s.a)(function(){let P=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;return Object(c.c)(P?o.n:o.o,{loop:!1})},0,{leading:!0,trailing:!1}),m=Object(s.a)((P,T)=>{const S=T?o.B:o.d,A=.25;Object(c.c)(S,{loop:!1,volume:A})},5e3,{leading:!0,trailing:!1}),g=v(P=>!Object(i.u)(P,"mute_huddle_sounds"),"canPlayHuddleSound"),E=Object(t.c)("Play sound when user joins",(P,T)=>{g(T())&&(Object(r.a)({getState:T}).info(a.c,"playSoundOnUserJoin"),f(!1))});E.meta={name:"createThunk",key:"createThunkplaySoundOnUserJoin",description:"Play sound when user joins"};const p=Object(t.c)("Play sound when user leaves",(P,T)=>{g(T())&&(Object(r.a)({getState:T}).info(a.c,"playSoundOnUserLeft"),d(!1))});p.meta={name:"createThunk",key:"createThunkplaySoundOnUserLeft",description:"Play sound when user leaves"};const h=Object(t.c)("Play sound when you join",(P,T)=>{g(T())&&(Object(r.a)({getState:T}).info(a.c,"playSoundOnYouJoin"),f(!0))});h.meta={name:"createThunk",key:"createThunkplaySoundOnYouJoin",description:"Play sound when you join"};const _=Object(t.c)("Play sound when you leave",(P,T)=>{g(T())&&(Object(r.a)({getState:T}).info(a.c,"playSoundOnYouLeft"),d(!0))});_.meta={name:"createThunk",key:"createThunkplaySoundOnYouLeft",description:"Play sound when you leave"};const b=Object(t.c)("Play sound when user mutes the mic using keyboard shortcut",(P,T)=>{g(T())&&(Object(r.a)({getState:T}).info(a.c,"playSoundOnMicMute"),O(!0))});b.meta={name:"createThunk",key:"createThunkplaySoundOnMicMute",description:"Play sound when user mutes the mic using keyboard shortcut"};const I=Object(t.c)("Play sound when user unmutes the mic using keyboard shortcut",(P,T)=>{g(T())&&(Object(r.a)({getState:T}).info(a.c,"playSoundOnMicUnmute"),O(!1))});I.meta={name:"createThunk",key:"createThunkplaySoundOnMicUnmute",description:"Play sound when user unmutes the mic using keyboard shortcut"};const C=Object(t.c)("Play sound when reaction is received",(P,T,S)=>{let{emoji:A,isEffect:R}=S;const x=T();Object(i.u)(x,"huddles_reactions_play_sound")&&g(x)?(Object(r.a)({getState:T}).info(a.c,"playSoundOnReaction"),m(A,R)):Object(r.a)({getState:T}).info(a.c,"did not playSoundOnReaction")});C.meta={name:"createThunk",key:"createThunkplaySoundOnReaction",description:"Play sound when reaction is received"};const y=Object(t.c)("Plays the huddle invite sound",(P,T)=>{const S=T();Object(l.b)(S)||!g(S)||Object(c.c)(Object(u.l)(S))});y.meta={name:"createThunk",key:"createThunkplayHuddleInviteSound",description:"Plays the huddle invite sound"}},sOAz:function(K,n,e){"use strict";e.d(n,"b",function(){return o}),e.d(n,"c",function(){return i});var s=e("SQ0V"),t=e("Cudo");e.d(n,"a",function(){return t.a});const a=3*1e3,r={[t.a.NoUserAudioStream]:!0,[t.a.NoUserVideoStream]:!0,[t.a.NoAudioOutputAudioElementError]:!0,[t.a.NoAudioOutputAudioLevelError]:!0,[t.a.SlowNetwork]:!0,[t.a.PeerMuteRequest]:!0};let c={};const o=Object(s.c)("Display alert message for huddle call",(u,f,d)=>{let{alert:O,peerId:m}=d;if(!c[O]){if(r[O]){c[O]=setTimeout(()=>{c[O]&&(clearTimeout(c[O]),delete c[O]),u(Object(t.c)({alert:O,peerId:m}))},a);return}u(Object(t.c)({alert:O,peerId:m}))}});o.meta={name:"createThunk",key:"createThunkdisplayAlertMessage",description:"Display alert message for huddle call"};const i=Object(s.c)("Undisplay an alert message for huddle call",(u,f,d)=>{c[d]&&(clearTimeout(c[d]),delete c[d]),u(Object(t.i)(d))});i.meta={name:"createThunk",key:"createThunkhideAlertMessage",description:"Undisplay an alert message for huddle call"},Object.defineProperty({alertTimeouts:c},"alertTimeouts",{get:()=>c,set:u=>{c=u}})},sOnb:function(K,n,e){"use strict";e.d(n,"a",function(){return t});const s=/^Ft[A-Z0-9]{8,}$/;function t(a){return s.test(a)}v(t,"looksLikeHermesTriggerId")},sR4G:function(K,n,e){"use strict";e.d(n,"a",function(){return r});var s=e("lhZz"),t=e("beVI"),a=e("7xYR");function r(c,o){const i=Object(s.getClientStoreInstance)();if(i){const u=i.getState(),f=Object(a.getWorkspaceMetaBySubdomain)(u,o);if(f)return f.id}const l=Object(t.s)(c,o);if(l)return l.id}v(r,"findWorkspaceIdForSubdomain")},seWQ:function(K,n,e){"use strict";var s=e("9oTK"),t=e.n(s),a=e("SQ0V"),r=e("E3dU"),c=e("Fqb6"),o=e("Sl1j"),i=e("Yauy"),l=e("eUIW"),u=e("Zbwg"),f=e("s4P+");const d=Object(a.c)("Redirects a tile navigation",function(){var O=Object(s.coroutine)(function*(m,g,E){let{prevTile:p,nextTile:h}=E;const _={...h};if(Object(l.a)(_.view)){const b=_.view,I=Object(r.l)(g(),b);if(I&&Object(i.jb)(I))_.view=I.id;else{const{channel:C}=yield m(Object(o.r)({memberIds:[b],reason:"tiles/redirect"}));C&&(m(Object(c.a)({channel:C})),_.view=C.id)}}if(Object(u.a)(_.view)&&!Object(r.z)(g(),_.view)){const{resolved:b}=yield m(Object(o.f)({ids:[_.view],reason:"redirectTile",callSource:o.a.RedirectTile}));if(!b.includes(_.view))return null}return Object(f.a)({getState:g}).debug("TILES","redirect",p,h,_),_});return function(m,g,E){return O.apply(this,arguments)}}());d.meta={name:"createThunk",key:"createThunkredirectTile",description:"Redirects a tile navigation"},n.a=d},sekU:function(K,n,e){"use strict";e.d(n,"a",function(){return g}),e.d(n,"b",function(){return p}),e.d(n,"c",function(){return _});var s=e("oTSI"),t=e("x5lL"),a=e("A1dN"),r=e("Lgge"),c=e("Kmpi"),o=e("uAML"),i=e("SQ0V"),l=e("lhZz"),u=e("gpLM"),f=e("HKlo"),d=e("+CZ0"),O=e("lpU5");const m=v((I,C)=>Object(l.dispatchForTeamId)(I,Object(a.a)({callIds:C,reason:"all-calls-store/conditional-fetch"})).then(y=>y.map(P=>Object(l.dispatchForTeamId)(I,Object(t.E)(P)))),"fetchAndUpsert"),g=Object(s.a)(()=>new o.b({fetch:m,isEnabled:()=>!0})),E=v((I,C)=>{const y=C.map(P=>(Object(l.dispatchForTeamId)(I,Object(t.E)(P)),P.id));g().markObjectsAsFresh(I,y)},"upsertCalls"),p=Object(s.a)(()=>new c.a({fetch:(I,C)=>Object(l.dispatchForTeamId)(I,Object(a.a)({callIds:C,reason:"all-calls-store/unknown-fetch"})),upsertKnown:E,upsertNonExistent:(I,C)=>E(I,C.map(y=>{let{id:P}=y;return{id:P,name:""}}))}));let h=0;const _=Object(i.c)("Set a huddle topic",(I,C,y)=>{let{channelId:P,topic:T}=y;const S=Object(l.getStateForClientStore)();if(Object(d.z)(S))return I(Object(O.e)(T)),r.a.resolve();const A=Object(d.a)(S);if(!A)return r.a.reject(new Error(`No callId for channel ${P}`));I(Object(O.e)(T)),h+=1;const R=h;return I(Object(a.e)({roomId:A,name:T})).then(()=>I(Object(t.E)({id:A,name:T}))).finally(()=>{R===h&&I(Object(O.e)(null)),I(Object(u.c)({focusKey:f.c.HUDDLE_SIDEBAR_TOPIC,forceFocus:!0}))})});_.meta={name:"createThunk",key:"createThunksetHuddleTopic",description:"Set a huddle topic"};const b={fetchAndUpsert:m}},sjEp:function(K,n,e){"use strict";e.d(n,"a",function(){return r});var s=e("7ibc"),t=e("rZ8V"),a=e("i9jZ");function r(c){return Object(t.g)(c)||Object(s.Dd)(c,"summary_detail",s.a.PILOT)||Object(a.d)(c)}v(r,"isSummaryDetailEnabled")},somW:function(K,n,e){"use strict";var s=e("q1tI"),t=e.n(s),a=e("ifKl"),r=e("Jk7K"),c=e("DXiN"),o=e("2SCj"),i=e("MLXQ"),l=e("VymY"),u=e("WfUL"),f=e("lhZz"),d=e("SQ0V"),O=e("JoR1"),m=e("npde"),g=e("nNoG"),E=e("mD0D"),p=e.n(E),h=e("Cfcg"),_=e("iuhU"),b=e("+kJ4"),I=e("I6n1"),C=e("WMzb"),y=e("/MKj"),P=e("T1zM"),T=e("zxER");function S(Me){const Ne=Object(y.useDispatch)();return[Object(T.a)(He=>Object(O.u)(He,Me)),He=>Ne(Object(P.f)({pref:Me,value:He}))]}v(S,"useUserPref");var A=e("G5NC"),R=e("7JUD"),x=e("iUFw"),M=e("Ws5+"),j=e("3V+Q"),W=e("AEEY"),U=e("9org"),B=e("zKrX"),Y=e("YyjR"),z=e("lvWT"),F=e("1Qjs"),V=e("tYRW"),L=e("MIV3");function Q(){return Q=Object.assign||function(Me){for(var Ne=1;Ne<arguments.length;Ne++){var He=arguments[Ne];for(var Et in He)Object.prototype.hasOwnProperty.call(He,Et)&&(Me[Et]=He[Et])}return Me},Q.apply(this,arguments)}v(Q,"_extends");const ee=new g.b("contextual_help"),te={elementName:"contextual_help_modal_pref",onChange:{enableClogAction:!0}},le=v(Me=>{let{suppressOnClose:Ne=!1,cancelButtonAutoClogProps:He,cancelButtonText:Et,children:Je,className:qe,closeModal:ke,"data-qa":rt="contextual_help_modal",onSubmit:pe=a.a,contextualHelpCheckboxLabel:je,pref:xe,showCancelButton:ze=!1,submitButtonAutoClogProps:st,submitButtonText:ct,submitButtonType:dt="primary",title:bt="",illustration:Ft,setUserPrefByApi:Bt=a.a}=Me;const at=Object(C.a)(),[Ht]=S(xe),Wt=I.c[xe],[yt,Xt]=Object(s.useState)(Wt!==Ht),cn="contextual-help-modal-dialog-title",mn="contextual-help-modal-dialog-content",In=Object(s.useCallback)(gt=>{at.action("CONTEXTUAL-HELP-MODAL",`Changed ${xe}: ${gt}`),Object(A.a)()?Object(L.a)(Object(P.f)({pref:xe,value:gt})):Bt({pref:xe,value:gt})},[at,xe,Bt]),pt=Object(s.useCallback)(function(){let gt=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;Ne?In(!Wt):gt&&In(Wt!==yt),ke()},[Ne,ke,Wt,yt,In]),Tt=Object(s.useCallback)(gt=>{Xt(gt.target.checked)},[]),Lt=Object(s.useCallback)(()=>{pe(),pt(!0)},[pt,pe]);return t.a.createElement(R.a,{className:qe,labelledby:cn,describedby:mn,closeModal:pt,role:"alertdialog",dataQa:rt,shouldReturnFocusAfterClose:!0,showCloseButton:!1},t.a.createElement(z.a,null,Ft?t.a.createElement(F.a,Q({"aria-hidden":!0},Ft)):null,t.a.createElement(V.a,{title:bt,id:cn,"data-qa":`${rt}_header`})),t.a.createElement(W.a,null,t.a.createElement(U.a,{"data-qa":`${rt}_content`,id:mn},Je)),t.a.createElement(B.a,{"data-qa":`${rt}_footer`,className:Object(_.default)({"c-contextual_help_shortcuts_list__footer_with_checkbox":!Ne})},!Ne&&t.a.createElement(j.b,{"data-qa":`${rt}_pref_checkbox_label`,type:"inline",cursor:"pointer",text:je||ee.t("Don\u2019t show me this again",{fallbackHash:"a4232cdf54911c7d294da66c7a7a824355769293",fallbackHashNs:"msg_edit"})},t.a.createElement(M.a,{checked:yt,onChange:Tt,autoClogProps:te})),t.a.createElement(Y.a,null,ze&&t.a.createElement(x.d,{type:"outline",onClick:pt,"data-qa":`${rt}_cancel`,autoClogProps:He},Et||ee.t("Cancel",{fallbackHash:"77dfd2135f4db726c47299bb55be26f7f4525a46",fallbackHashNs:"generic_dialog"})),t.a.createElement(x.d,{type:dt,onClick:Lt,"data-qa":`${rt}_submit`,autoClogProps:st,autoFocus:!0},ct||ee.t("Got It",{fallbackHash:"c8a487428d655b8f4d84feb9acdac446bb649d66",fallbackHashNs:"messages"})))))},"ContextualHelpModal");le.displayName="ContextualHelpModal";const Oe=v(Me=>({closeModal:()=>Me(Object(b.a)()),setUserPrefByApi:Ne=>Object(P.f)(Ne)}),"mapDispatchToProps");var he=Object(h.a)(null,Oe)(le),Ee=e("DPHH"),ge=e("Trx9"),J=e("kBpe"),H=e("d/xU"),Z=e("Tevt");const q=new g.b("contextual_help"),k={elementName:"confirm_seen_contextual_help_for_section_navigation",onClick:{enableClogAction:!0}},se={elementName:"learn_more_link_contextual_help_for_section_navigation",onClick:{enableClogAction:!0}},re={src:p.a,alt:""},X=v(()=>{const Me=Object(J.i)(),Ne=q.t("Are you trying to move sections?",{fallbackHash:"3f506b9d5da983587d6842f20a64fa5d55ff16a2"}),He=`https://${Object(H.l)()}/help/articles/115003340723-Navigate-Slack-with-your-keyboard`,Et=Object(Ee.c)("Cmd"),Je=Object(Ee.c)("Ctrl"),qe=Object(Ee.c)(Ee.b.ArrowLeft),ke=Object(Ee.c)(Ee.b.ArrowRight),rt=q.t("F6"),pe=q.rt("{ctrlKey}+{f6Key}",{ctrlKey:Je,f6Key:rt}),je=v(()=>Object(J.p)()?q.rt("{cmdKey}+{ctrlKey}+{leftArrowKey} or {rightArrowKey}",{cmdKey:Et,ctrlKey:Je,leftArrowKey:qe,rightArrowKey:ke}):Me?rt:pe,"getSectionNavigationKeys"),xe=q.rt("<ul><li>To move focus between different sections of Slack\u2019s interface press <strong>{sectionNavigationKeys}</strong></li><li>To navigate between items in toolbars, lists, and tabs use <strong>arrow keys</strong></li></ul><link>Learn more about keyboard navigation</link>",{sectionNavigationKeys:je(),"<link>":st=>{let{text:ct}=st;return t.a.createElement(Z.a,{href:He,autoClogProps:se},ct)},fallbackHash:"98591a618babdd526f05af764ebdd2c6a90047c1"}),ze=q.t("OK",{fallbackHash:"9ce3bd4224c8c1780db56b4125ecf3f24bf748b7",fallbackHashNs:"generic_dialog"});return t.a.createElement(ge.a,{uiComponentName:"ContextualHelpForSectionNavigationModal",clogImpression:!0},t.a.createElement(he,{pref:"should_show_contextual_help_for_section_navigation",submitButtonAutoClogProps:k,title:Ne,illustration:re,suppressOnClose:!0,submitButtonText:ze},xe))},"ContextualHelpForSectionNavigationModal");X.displayName="ContextualHelpForSectionNavigationModal";var w=X;const ce=Object(m.a)(w),ie=Object(d.c)("Maybe open modal dialog with contextual help for section navigation",(Me,Ne)=>{const He=Ne();Object(O.u)(He,"should_show_contextual_help_for_section_navigation")&&Me(ce())});ie.meta={name:"createThunk",key:"createThunkshowContextualHelpForSectionNavigation",description:"Maybe open modal dialog with contextual help for section navigation"};var oe=ie,me=e("u43d"),ue=e("O86Y"),_e=e("1ufr"),be=e("/0iu"),Ae=e("s4P+"),Ce=e("7xYR");function De(){return De=Object.assign||function(Me){for(var Ne=1;Ne<arguments.length;Ne++){var He=arguments[Ne];for(var Et in He)Object.prototype.hasOwnProperty.call(He,Et)&&(Me[Et]=He[Et])}return Me},De.apply(this,arguments)}v(De,"managed_focus_container_extends");const Pe=100,Ue={display:"contents"},ae="active-managed-focus-container",ne=v(()=>!0,"shouldAlwaysFocus"),Ie=v(Me=>{const{id:Ne,index:He,focusFn:Et=a.a,restoreFocusFn:Je=void 0,enableSectionNavigation:qe=!0,refToForward:ke=void 0,onFocus:rt=a.a,onBlur:pe=a.a,shouldFocus:je=ne,onFirstHiddenTabStopFocus:xe=a.a,onLastHiddenTabStopFocus:ze=a.a,tabCountToShowContextualHelp:st=4,window:ct,windowToken:dt=void 0,windowId:bt=void 0,className:Ft,...Bt}=Me,{document:at}=ct,{registerSection:Ht,unregisterSection:Wt,setActiveSection:yt}=Object(s.useContext)(r.a),Xt=Object(i.a)(ke),[cn,mn]=Object(s.useState)(),[In,pt]=Object(s.useState)(0),{getState:Tt}=Object(y.useStore)(),Lt=Tt();let gt=Lt,it;Object(me.a)(Lt)?(it=Object(Ce.getFocusedWorkspace)(Lt),gt=Object(f.getStateByTeamId)(it)):it=Object(ue.g)(Lt);const ft=Object(Ae.a)({state:gt}),Ke=Object(O.u)(gt,"should_show_contextual_help_for_section_navigation"),Ve=Object(s.useCallback)(tt=>Object(f.dispatchForTeamId)(it,Object(P.f)({pref:"should_show_contextual_help_for_section_navigation",value:tt})),[it]),[Be,Ye]=Object(s.useState)(!1),we=Object(s.useCallback)(()=>{if(Be)return;const tt=In+1;if(Ke){pt(0),Ve(!1),Ye(!0),Object(f.dispatchForTeamId)(it,ce());return}if(tt>=st){pt(0),Ye(!0),Object(f.dispatchForTeamId)(it,ce());return}pt(tt)},[Be,Ve,Ke,st,In,it]),mt=Object(s.useCallback)(tt=>{xe(tt)},[xe]),Pt=Object(s.useCallback)(tt=>{ze(tt),we()},[we,ze]),Nt=Object(s.useCallback)(tt=>{yt(Ne),rt(tt)},[Ne,rt,yt]),Ze=Object(s.useCallback)(tt=>{const{target:ut,currentTarget:St,relatedTarget:tn}=tt;St.contains(tn)||mn(ut),pe(tt)},[pe,mn]),Xe=Object(s.useCallback)(()=>je()?!Xt.current||Ne===be.c?!0:!!Object(l.d)(Xt.current):!1,[Xt,je,Ne]),Ct=Object(s.useCallback)(()=>{var tt;return!!(!((tt=Xt.current)===null||tt===void 0)&&tt.contains(at.activeElement))},[Xt,at.activeElement]),G=v(()=>!(!cn||!cn.focus||!Xt.current.contains(cn)||!Object(u.a)(cn,ct)),"canFocusPreviouslyFocusedElement"),de=Object(s.useCallback)(tt=>{if(tt!==at.activeElement||!Xt.current||Ct())return;const ut=Object(l.d)(Xt.current);ut&&ut.focus()},[Xt,at.activeElement,Ct]),Le=Object(s.useCallback)(tt=>{if(In===0||Be)return;const{key:ut,shiftKey:St}=tt.detail;ut==="Tab"&&!St||pt(0)},[Be,In]),[Re]=Object(o.a)(de);Object(s.useEffect)(()=>(at.addEventListener("keyboard-navigation",Le),()=>{at.removeEventListener("keyboard-navigation",Le)}),[at,Le]),Object(s.useEffect)(()=>(qe&&(Ht(Ne,{focus:()=>{G()&&(Je?Je(cn):cn==null||cn.focus(),at.activeElement===cn)||(Et(),Re(Pe,at.activeElement))},shouldFocus:Xe},He),Ct()&&yt(Ne)),qe||Wt(Ne),()=>{Wt(Ne)}),[qe,Et,Je,Ne,He,Ht,Wt,Xe,cn]),Object(s.useEffect)(()=>{var tt;qe&&(!((tt=Xt.current)===null||tt===void 0)&&tt.getElementsByClassName(ae).length)&&ft.devHint("UNEXPECTED MANAGED FOCUS CONTAINER HIERARCHY",`Detected an active nested ManagedFocusContainer in container ${Ne}; this will disrupt app-level F6 navigation (see https://slack-github.com/slack/webapp/blob/master/js/modern/slack-kit/accessibility-components/managed-focus-container/managed-focus-container.tsx#L30-L36)`)},[qe,Xt,ft,Ne]);const Fe=qe?ae:void 0;return t.a.createElement(c.b,De({onFocus:Nt,onBlur:Ze,onFirstHiddenTabStopFocus:mt,onLastHiddenTabStopFocus:Pt,ref:Xt,className:Object(_.default)(Ft,Fe)},Bt))},"ManagedFocusContainer");Ie.displayName="ManagedFocusContainer",Ie.defaultProps={style:Ue,window};var Te=n.a=Object(_e.a)(Ie)},spq4:function(K,n,e){"use strict";e.d(n,"a",function(){return s});function s(){return!0}v(s,"isIaLayoutEnabled")},srzd:function(K,n,e){"use strict";e.d(n,"a",function(){return h}),e.d(n,"b",function(){return _});var s=e("ZKjC"),t=e("9068"),a=e("O86Y"),r=e("mY+K"),c=e("9oTK"),o=e("oTSI"),i=e("zmn3"),l=e("Lgge"),u=e("Kmpi"),f=e("lhZz"),d=e("GAXn"),O=e("F56K");const m=Object(o.a)(()=>new u.a({fetch:g,upsertKnown:E,upsertNonExistent:E,isEnabled:()=>!0}));function g(b,I){return l.a.map(I,function(){var C=Object(c.coroutine)(function*(y){try{return(yield Object(f.dispatchForTeamId)(b,Object(d.a)({workflowId:y,reason:"hermes_workflows_store"}))).workflow}catch{var P;const S=(P=Object(f.getStateByTeamId)(b).hermesWorkflows)===null||P===void 0?void 0:P[y];return Object(u.e)(S)?null:S}});return function(y){return C.apply(this,arguments)}}()).filter(C=>C)}v(g,"fetchWorkflowsForTeamId");function E(b,I){Object(r.a)().markObjectsAsFresh(b,Object(i.a)(I,"id")),Object(f.dispatchForTeamId)(b,Object(O.b)({workflows:I}))}v(E,"upsertWorkflowsForTeamId");const p={fetchWorkflowsForTeamId:g,upsertWorkflowsForTeamId:E},h=Object(s.b)(function(b,I){let C=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;var y;const P=Object(a.g)(b),T=(y=b.hermesWorkflows)===null||y===void 0?void 0:y[I];return P?T?(Object(r.a)().maybeRefetch(P,I),T):C?m().fetchObjectWithId(P,I):Object(t.e)(I):Object(t.e)(I)});h.meta={name:"createSelector",key:"createSelectorgetWorkflowById",description:function(b,I){let C=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;var y;const P=Object(a.g)(b),T=(y=b.hermesWorkflows)===null||y===void 0?void 0:y[I];return P?T?(Object(r.a)().maybeRefetch(P,I),T):C?m().fetchObjectWithId(P,I):Object(t.e)(I):Object(t.e)(I)}};const _=Object(s.b)((b,I)=>{const C=h(b,I);return Object(t.d)(C)?[]:C.steps});_.meta={name:"createSelector",key:"createSelectorgetWorkflowStepsById",description:(b,I)=>{const C=h(b,I);return Object(t.d)(C)?[]:C.steps}}},ssje:function(K,n,e){"use strict";e.d(n,"a",function(){return a});var s=e("+l5E"),t=e("pu3F");function a(r){return Object(s.z)(r)===t.W}v(a,"isSlackbotMessage")},stkM:function(K,n,e){"use strict";var s=e("Lgge"),t=e("SQ0V"),a=e("0Wfr"),r=e("sK3r"),c=e("DhzV"),o=e("beVI"),i=e("AaDX"),l=e("G0eX"),u=e("s4P+");const f=Object(t.c)("Fetch promo campaign eligibility",(m,g,E)=>{let{campaignType:p,campaignSubType:h,context:_,reason:b}=E;const I=Object(o.g)(g());return Object(l.C)(I)?(m(Object(c.c)({campaignType:p,campaignSubType:h,isFetching:!0})),m(Object(i.a)({campaignType:p,campaignSubType:h,context:_,reason:b})).then(y=>{const{isEligible:P,discountPercent:T,expirationTimestamp:S,discountDuration:A}=y;return m(Object(c.b)({campaignType:p,campaignSubType:h,isEligible:P,discountPercent:T,expirationTimestamp:S,discountDuration:A})),m(Object(c.c)({campaignType:p,campaignSubType:h,isFetching:!1})),y}).catch(y=>(Object(u.a)({state:g()}).error(y.message),m(Object(c.c)({campaignType:p,campaignSubType:h,isFetching:!1})),y))):s.a.resolve({isEligible:!1})});f.meta={name:"createThunk",key:"createThunkfetchPromoEligibility",description:"Fetch promo campaign eligibility"};const d=Object(a.a)(f,r.a);n.a=d;const O={fetchPromoEligibility:f}},sueV:function(K,n,e){"use strict";e.d(n,"a",function(){return s});const s={PINS:"pins",CHANNEL_MEMBERSHIP:"channel_membership",HELP:"help"}},svhO:function(K,n,e){"use strict";var s=e("q1tI"),t=e.n(s),a=e("/MKj"),r=e("zxER"),c=e("c+dP"),o=e("nNoG"),i=e("lpU5"),l=e("6FZx"),u=e("sgFo"),f=e("VFSv");function d(){return d=Object.assign||function(E){for(var p=1;p<arguments.length;p++){var h=arguments[p];for(var _ in h)Object.prototype.hasOwnProperty.call(h,_)&&(E[_]=h[_])}return E},d.apply(this,arguments)}v(d,"_extends");const O=new o.b("huddles"),m=v(E=>{let{onClose:p,hideMenuIcon:h,channelId:_,showHuddleScheduleNux:b,...I}=E;const C=Object(a.useDispatch)(),y=Object(r.a)(u.u),P=Object(s.useCallback)(()=>{p==null||p(),_&&C(Object(i.b)({channelId:_,showHuddleScheduleNux:b}))},[C,p,_,b]);return y?t.a.createElement(c.b,d({key:"huddle-schedule-menu-item",classNameListItem:"display_flex align_items_center",onSelected:P,"data-qa":"huddle-schedule",icon:h?null:t.a.createElement(f.a,{size:"18",name:"calendar"}),label:O.t("Huddle later")},I)):null},"HuddleScheduleMenuItem");m.displayName="HuddleScheduleMenuItem";var g=n.a=Object(l.b)(m)},swWY:function(K,n,e){"use strict";var s=e("q1tI"),t=e.n(s),a=e("GzZI"),r=e("lCmp"),c=e("Cfcg"),o=e("n3tL"),i=e("Yauy"),l=e("xwCZ"),u=e("E3dU"),f=e("Kmpi"),d=e("CD4m"),O=e("CTEJ"),m=e("QaYX");const g=4,E={className:o.default.string,mpim:o.default.object,multiline:o.default.bool,name:o.default.string,isAnyMemberUnknown:o.default.bool,invert:o.default.bool,inline:o.default.bool,onlyBoldIfUnread:o.default.bool},p={className:void 0,mpim:void 0,multiline:!1,name:void 0,isAnyMemberUnknown:!1,invert:!1,inline:void 0,onlyBoldIfUnread:!1};function h(b){let{className:I,mpim:C,multiline:y,name:P,invert:T,isAnyMemberUnknown:S,inline:A,onlyBoldIfUnread:R}=b;const x=Object(f.c)(C),M=Object(f.d)(C),j=Object(i.H)(C),W=!R||Object(i.ub)(C);let U;return M||x||S?U=Object(a.a)(j||g).map(B=>t.a.createElement(O.a,{key:B,className:"c-mpim_entity__missing_text",isNonExistent:x,size:"random",invert:T})):U=W?t.a.createElement("strong",{"data-qa":"mpim_name"},P):t.a.createElement("span",{"data-qa":"mpim_name"},P),t.a.createElement(d.c,{className:I,multiline:y,breakWords:!1,inline:A},U)}v(h,"MpimName"),h.displayName="MpimName",h.propTypes=E,h.defaultProps=p;const _=v((b,I)=>{let{id:C,mpim:y,matchData:P}=I;const T=y||Object(u.c)(b,C),S=Object(m.a)({state:b,mpim:T,matchData:P}),A=S&&S.map(M=>Object(l.g)(b,M)),R=Object(r.a)(A,f.e),x=Object(i.G)(b,T,S);return{mpim:T,name:x,isAnyMemberUnknown:R}},"mapStateToProps");n.a=Object(c.a)(_)(h)},sxEY:function(K,n,e){"use strict";var s=e("SQ0V"),t=e("XZo2"),a=e("Yauy"),r=e("E97Y"),c=e("E3dU"),o=e("5IZy"),i=e("ktUG");const l=Object(s.c)("Clogs a message sent or resent",function(u,f){let{channelId:d,msgTs:O,resent:m=!1}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const g=f(),E=d?Object(c.c)(g,d):null;let p={message_timestamp:O,channel_id:d,channel_type:d?d.charAt(0):null,channel_privacy_type:E?Object(r.c)(E):null,is_file_channel:E?Object(a.X)(E):null};const h=Object(t.d)(g);h!==null&&(p={...p,channel_session_id:h});const _=Object(o.a)({state:g}),b=m?i.EventId.MSG_RESENT:i.EventId.MSG_SENT;_.track(b,p)});l.meta={name:"createThunk",key:"createThunkclogMessageSent",description:"Clogs a message sent or resent"},n.a=l},sypA:function(K,n,e){"use strict";var s=e("SQ0V"),t=e("TBTs"),a=e("3fJ/");const r=Object(s.c)("Reset session timeout ids when someone returns to their search",(c,o)=>{clearTimeout(Object(t.z)(o())),c(Object(a.I)({sessionTimeoutId:null})),c(Object(a.E)({querySessionTimeoutId:null}))});r.meta={name:"createThunk",key:"createThunkresetSessionTimeoutIds",description:"Reset session timeout ids when someone returns to their search"},n.a=r},t35X:function(K,n,e){"use strict";e.d(n,"a",function(){return i});var s=e("SQ0V"),t=e("lhZz"),a=e("dKQz"),r=e("FZZA"),c=e("lA92"),o=e("qr10"),i;(function(u){u.ACCEPT="accept",u.DECLINE="decline",u.JOINING_SOON="joining_soon"})(i||(i={}));const l=Object(s.c)("Respond to an invitation to a huddle",(u,f,d)=>{let{channelId:O,inviteResponse:m,callId:g}=d;u(Object(c.a)());let E;return m!==i.ACCEPT&&(E=u(Object(o.a)({response:m,channelId:O,roomId:g,reason:"respond-to-huddle-invite"}))),m===i.DECLINE&&(Object(t.dispatchForClientStore)(Object(a.c)(O)),u(Object(r.c)(O))),E});l.meta={name:"createThunk",key:"createThunkrespondToHuddleInvite",description:"Respond to an invitation to a huddle"},n.b=l},t3jr:function(K,n,e){"use strict";e.d(n,"a",function(){return r});var s=e("S4vl"),t=e("e9jb"),a=e("rCwz");const r=Object(a.a)(function(c,o){let i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;Object(s.b)(!Object(t.a)(),"Expected to send message from the slack window"),Object(a.b)({direction:"send",type:c,payload:i?o:"REDACTED"})})},t890:function(K,n,e){"use strict";e.d(n,"g",function(){return t}),e.d(n,"i",function(){return a}),e.d(n,"c",function(){return r}),e.d(n,"a",function(){return c}),e.d(n,"j",function(){return o}),e.d(n,"d",function(){return i}),e.d(n,"k",function(){return l}),e.d(n,"e",function(){return u}),e.d(n,"l",function(){return f}),e.d(n,"f",function(){return d}),e.d(n,"h",function(){return O}),e.d(n,"b",function(){return m});var s=e("DwFS");const t=Object(s.a)("Set Awareness State for another user");t.meta={name:"createAction",key:"createActionsetAwarenessStateForOtherUser",description:"Set Awareness State for another user"};const a=Object(s.a)("Set Awareness State for me");a.meta={name:"createAction",key:"createActionsetMyAwarenessState",description:"Set Awareness State for me"};const r=Object(s.a)("Remove Awareness State for me");r.meta={name:"createAction",key:"createActionremoveMyAwarenessState",description:"Remove Awareness State for me"};const c=Object(s.a)("Clear the full awareness state for a user");c.meta={name:"createAction",key:"createActionclearUserAwarenessState",description:"Clear the full awareness state for a user"};const o=Object(s.a)("Set my screenshare view");o.meta={name:"createAction",key:"createActionsetMyScreenshareView",description:"Set my screenshare view"};const i=Object(s.a)("Remove my screenshare view");i.meta={name:"createAction",key:"createActionremoveMyScreenshareView",description:"Remove my screenshare view"};const l=Object(s.a)("Set my sticky reaction");l.meta={name:"createAction",key:"createActionsetMyStickyReaction",description:"Set my sticky reaction"};const u=Object(s.a)("Remove my sticky reaction");u.meta={name:"createAction",key:"createActionremoveMyStickyReaction",description:"Remove my sticky reaction"};const f=Object(s.a)("Clear any stale awareness entries");f.meta={name:"createAction",key:"createActionttlAwarenessEntries",description:"Clear any stale awareness entries"};const d=Object(s.a)("Sets updatedTimestamp for my awareness entries to current time");d.meta={name:"createAction",key:"createActionrenewMyUpdatedTimestamps",description:"Sets updatedTimestamp for my awareness entries to current time"};const O=Object(s.a)("Set my active song");O.meta={name:"createAction",key:"createActionsetMyActiveSong",description:"Set my active song"};const m=Object(s.a)("Remove my active song");m.meta={name:"createAction",key:"createActionremoveMyActiveSong",description:"Remove my active song"}},"tBN+":function(K,n,e){"use strict";var s=e("9oTK"),t=e.n(s),a=e("JfJV"),r=e("SQ0V"),c=e("KtMe"),o=e("PJXs"),i=e("2VFn"),l=e("25cE"),u=e("WUSA"),f=e("nNoG"),d=e("gPPH"),O=e("xcHN"),m=e("n2bd"),g=e("bczA");const E=new f.b("client"),p=Object(r.c)("Restore the detail view for an entity",function(){var h=Object(s.coroutine)(function*(_,b,I){let{entityId:C,windowId:y=i.c,nextRouteParams:P}=I;var T,S;const A=b(),R=Object(o.b)(A,{entityId:C,windowId:y});var x;const M=(x=R==null?void 0:R.params)!==null&&x!==void 0?x:{};if(!R||y!==i.c)return;const j=Object(o.a)(A,{entityId:C,windowId:y});if(R.routeName!==l.o&&j&&Date.now()>j)return _(Object(m.a)({entityId:C,windowId:y})),{entityId:C,expired:!0};const U=Object(g.a)(A);U===l.b?_(Object(u.a)({message:E.t("Secondary view has opened"),uuid:Object(d.a)()})):U!=null&&U.includes("FLEX")&&_(Object(u.a)({message:E.t("Secondary view has changed"),uuid:Object(d.a)()}));let B={...M};return((T=Object(O.a)(P==null?void 0:P.threadId))===null||T===void 0?void 0:T.channelId)===((S=Object(O.a)(M==null?void 0:M.threadId))===null||S===void 0?void 0:S.channelId)&&(B={...R.params,...P}),Object(a.h)(R.routeName,B,{reason:c.c,shouldReplaceState:!0})});return function(_,b,I){return h.apply(this,arguments)}}());p.meta={name:"createThunk",key:"createThunkopenDetailViewForEntityId",description:"Restore the detail view for an entity"},n.a=p},tE34:function(K,n,e){"use strict";e.d(n,"a",function(){return l});var s=e("SQ0V"),t=e("oYx9"),a=e("9sUu"),r=e("2VFn"),c=e("BHiC"),o=e("PIf0"),i=e("DuRM");const l=Object(s.c)("Switch child window column modes based on window width and the width breakpoints",(u,f,d,O)=>{const m=f(),{clogOperation:g}=d||{},{window:E}=O(o.a),p=Object(i.b)(E);if(!p||p===r.c)return;const h=Object(c.a)(m,{windowId:p});if(h!=null&&h.forceSingleColumnMode){if((h==null?void 0:h.columnMode)===a.c.Single)return;u(Object(t.c)({windowId:p||r.c,metadata:{columnMode:a.c.Single}})),g==null||g("column_mode_switch_to_single");return}h!=null&&h.columnModeBreakpoint&&(h==null?void 0:h.columnMode)!==a.c.Multi&&E.innerWidth>(h==null?void 0:h.columnModeBreakpoint)&&(u(Object(t.c)({windowId:p||r.c,metadata:{columnMode:a.c.Multi}})),g==null||g("column_mode_switch_to_multi")),h!=null&&h.columnModeBreakpoint&&(h==null?void 0:h.columnMode)!==a.c.Single&&E.innerWidth<=(h==null?void 0:h.columnModeBreakpoint)&&(u(Object(t.c)({windowId:p||r.c,metadata:{columnMode:a.c.Single}})),g==null||g("column_mode_switch_to_single"))});l.meta={name:"createThunk",key:"createThunkmaybeSwitchChildWindowColumnModes",description:"Switch child window column modes based on window width and the width breakpoints"}},tF1a:function(K,n,e){"use strict";e.d(n,"a",function(){return r});var s=e("Kyco"),t=e("2VFn"),a=e("iodP");const r={App:"app",Messages:"messages",About:"about",Home:"home"},c={[t.c]:{[t.h.Sidebar]:r.App,[t.h.Primary]:r.App,[t.h.Secondary]:r.App,[t.h.Tile]:r.App,[t.h.Modal]:r.App,[t.h.Peek]:r.App}},o={persistenceEnabled:!1,storeKey:"appTabs"},i=Object(s.b)({},c,o).on(a.a,(l,u)=>{let{windowId:f,viewContainer:d,tabKey:O}=u;return{...l,[f]:{...l[f],[d]:O}}});n.b=i},tHoN:function(K,n,e){"use strict";e.d(n,"a",function(){return o}),e.d(n,"b",function(){return i}),e.d(n,"e",function(){return l}),e.d(n,"c",function(){return u}),e.d(n,"d",function(){return f});var s=e("kiPk"),t=e("xt0X"),a;let r=!!(!(window==null||(a=window.performance)===null||a===void 0)&&a.memory);function c(){return r?window.performance.memory.jsHeapSizeLimit:null}v(c,"getMemoryLimit");function o(){return r?window.performance.memory.totalJSHeapSize:null}v(o,"getMemoryTotal");function i(){return r?window.performance.memory.usedJSHeapSize:null}v(i,"getMemoryUsed");function l(){return r}v(l,"supportsMemoryMeasurement");function u(O){const m=O/1e3/1e3;return`${m<100?m.toPrecision(3):Math.round(m)} MB`}v(u,"humanizeBytes");function f(O,m){const g=Object(s.a)(O,E=>{let{memory:p}=E;return p[m]||0});return Math.ceil(Object(t.b)(g))}v(f,"sumMemoryMetricsByKey"),Object.defineProperties({},{SUPPORTS_MEMORY_MEASUREMENT:{get:()=>r,set:O=>{r=O}}})},tM7h:function(K,n,e){K.exports=e.p+"slackbot_fancy_192-fc3f24d.png"},tOKv:function(K,n,e){"use strict";e.d(n,"b",function(){return o});var s=e("q1tI"),t=e.n(s),a=e("/MKj"),r=e("QYtq"),c=e("nxhD");const o=v(l=>{const{left:u=0,top:f=0}=l||{};return{left:u,top:f,right:u,bottom:f,width:0,height:0}},"makeTargetBounds"),i=v(l=>{let{targetBounds:u,onCloseRequested:f,children:d}=l;const O=t.a.Children.only(d),m=Object(a.useDispatch)();Object(s.useEffect)(()=>(m(Object(c.b)({})),()=>{m(Object(c.a)({}))}),[m]);const g=Object(s.useMemo)(()=>({isContextMenu:!0,width:"auto",onTriggerClose:f,onMenuItemSelected:f}),[f]);return t.a.createElement(r.a,{shouldFade:!1,position:"right-bottom",tryOppositePosition:!0,useTargetBoundsAsPosition:!0,shouldCloseOnOverlayMouseDown:!0,isOpen:!0,targetBounds:o(u),onClose:f},t.a.cloneElement(O,g))},"ContextMenu");i.displayName="ContextMenu",n.a=i},tUtw:function(K,n,e){"use strict";e.d(n,"a",function(){return o}),e.d(n,"b",function(){return i}),e.d(n,"c",function(){return l});var s=e("ZKjC"),t=e("vLZU"),a=e("UOL+"),r=e("w2SD");const{getObjectById:c}=r.c,o=v((f,d)=>c(Object(t.B)({reducer:r.b})?Object(a.a)(f):f,d),"innerGetChannelLoadingDataById"),i=Object(s.b)((f,d)=>{var O;return!!(!((O=o(f,d))===null||O===void 0)&&O.loading)});i.meta={name:"createSelector",key:"createSelectorisChannelLoading",description:(f,d)=>{var O;return!!(!((O=o(f,d))===null||O===void 0)&&O.loading)}};const l=Object(s.b)((f,d)=>{const O=o(f,d);return!!(O!=null&&O.loading&&(O!=null&&O.loadingOlder))});l.meta={name:"createSelector",key:"createSelectorisChannelLoadingOlder",description:(f,d)=>{const O=o(f,d);return!!(O!=null&&O.loading&&(O!=null&&O.loadingOlder))}};const u={innerGetChannelLoadingDataById:o}},tYRW:function(K,n,e){"use strict";var s=e("q1tI"),t=e.n(s),a=e("iuhU"),r=e("Cs2y"),c=e("zxER"),o=e("YiJ7");function i(){return i=Object.assign||function(f){for(var d=1;d<arguments.length;d++){var O=arguments[d];for(var m in O)Object.prototype.hasOwnProperty.call(O,m)&&(f[m]=O[m])}return f},i.apply(this,arguments)}v(i,"_extends");const l=v(f=>{let{children:d,className:O,icon:m,subtitle:g,title:E,titleTextClassName:p,titleHeaderClassName:h,..._}=f;const b=Object(c.a)(o.b),{closeButtonIsVisible:I}=Object(r.b)();return t.a.createElement("div",i({},_,{className:Object(a.default)("c-sk-modal_title_bar",{"c-sk-modal_title_bar--pad_right":I,"c-sk-modal_title_bar--responsive":b},O)}),m&&t.a.createElement("div",{className:"c-sk-modal_title_bar__icon"},m),t.a.createElement("div",{className:Object(a.default)("c-sk-modal_title_bar__text",p,{"c-sk-modal_title_bar__text_responsive":b})},E&&t.a.createElement("h1",{className:Object(a.default)(h)},E),g&&t.a.createElement("h2",null,g)),d)},"ModalTitleBar");l.displayName="ModalTitleBar";var u=n.a=l},tZQI:function(K,n,e){"use strict";e.d(n,"d",function(){return A}),e.d(n,"c",function(){return R}),e.d(n,"a",function(){return x}),e.d(n,"b",function(){return M});var s=e("q1tI"),t=e.n(s),a=e("ifKl"),r=e("oTSI"),c=e("WIr4"),o=e("vd/O"),i=e("iuhU"),l=e("HP72"),u=e("YsXF"),f=e("fEGR"),d=e("yh68"),O=e("cRTT"),m=e("HUUN"),g=e("Pewd"),E=e("9ADk"),p=e("2K8U"),h=e("MYuU"),_=e("OmHH"),b=e("FRd1"),I=e("ktUG");function C(){return C=Object.assign||function(j){for(var W=1;W<arguments.length;W++){var U=arguments[W];for(var B in U)Object.prototype.hasOwnProperty.call(U,B)&&(j[B]=U[B])}return j},C.apply(this,arguments)}v(C,"_extends");const y={onOptionSelected:{action:I.UiAction.SELECT}},P=v(j=>j.map(W=>{let{id:U}=W;return U}),"getIdsFromHintOrErrors");let T=v(class extends s.Component{renderOptionsList(){const{selectState:W,setSelectState:U,renderOption:B,emptyStateMessage:Y,enableLoadingState:z,width:F,maxOptionsListHeight:V,inputRef:L,resultsInPopover:Q,isLoading:ee,classPrefix:te,optionsRowHeight:le,onOptionsListOpen:Oe,onOptionsListClose:he,overlayClassName:Ee,onScrollablePage:ge,onOptionSelected:J,shouldOptionBeSelected:H,shouldTokenizeOnComma:Z,shouldTokenizeOnSpace:q,autoClogProps:k,dynamicHeight:se,shouldAllowUnselectInMultiSelectMode:re,stayExpandedAfterSelection:X,optionsListFooterBannerContent:w}=this.props,{isDisabled:ce,loadInBackground:ie}=W;if(ce)return null;const oe=Q?t.a.createElement(u.a,{selectState:W,setSelectState:U,renderOption:B,emptyStateMessage:Y,enableLoadingState:z,width:F,maxListHeight:V,multiSelectMode:!0,inputRef:L,inputContainerRef:this.inputContainerRef,measurePopoverEventName:this.measurePopoverEventName,isLoading:ee&&!ie,classPrefix:te,selectDataQa:this.fallbackDataQa,optionsRowHeight:le,onOpen:Oe,onOptionsListClose:he,popoverProps:Ee?{overlayClassName:Ee}:void 0,onScrollablePage:ge,onOptionSelected:J,shouldOptionBeSelected:H,shouldTokenizeOnComma:Z,shouldTokenizeOnSpace:q,autoClogProps:k,dynamicHeight:se,shouldAllowUnselectInMultiSelectMode:re,stayExpandedAfterSelection:X,footerBannerContent:w}):t.a.createElement(l.b,{selectState:W,setSelectState:U,renderOption:B,emptyStateMessage:Y,enableLoadingState:z,width:F,maxListHeight:V,multiSelectMode:!0,classPrefix:te,selectDataQa:this.fallbackDataQa,optionsRowHeight:le,onOptionsListClose:he,onOptionSelected:J,shouldOptionBeSelected:H,shouldTokenizeOnComma:Z,shouldTokenizeOnSpace:q,dynamicHeight:se,footerBannerContent:w});return k?t.a.createElement(b.a,{elementType:I.ElementType.DROPDOWN,actionProps:y,autoClogProps:k},oe):oe}render(){const{selectState:W,setSelectState:U,inputRef:B,maxHeight:Y,placeholderText:z,size:F,width:V,isLoading:L,focusOnMount:Q,resultsInPopover:ee,onSelectedItemsChange:te,onKeyDown:le,onKeyUp:Oe,className:he,classPrefix:Ee,onFilterQueryChange:ge,onFilterQueryPaste:J,processOptions:H,onBlur:Z,onOptionsListClose:q,expandOnFocus:k,ariaLabel:se,ariaLabelledBy:re,ariaDescribedBy:X,onTokenSelect:w,onInputFocused:ce,forceRealName:ie,autoClogProps:oe,errors:me,hints:ue,disableIdParsing:_e,customizeTokenProps:be,iconType:Ae,isTokenEditable:Ce,ignoreSelectAllTokensAfterMount:De,disableCloseOnTab:Pe}=this.props;let Ue;me&&(Ue=Object(o.a)(me));let ae;ue&&(ae=Object(o.a)(ue));let ne;me&&(ne=Ue?P(me):void 0);let Ie;ue&&(Ie=ae?P(ue):void 0);const Te=Object(h.e)([X,ne,Ie]);return t.a.createElement("div",{className:Object(i.default)(he,"c-multi-select"),"data-qa":this.fallbackDataQa,ref:this.inputContainerRef},t.a.createElement(f.a,{selectState:W,setSelectState:U,size:F,width:V,maxHeight:Y,placeholderText:z,isLoading:L,inputRef:B,focusOnMount:Q,measurePopoverEventName:ee&&this.measurePopoverEventName,onSelectedItemsChange:te,selectDataQa:this.fallbackDataQa,onKeyDown:le,onKeyUp:Oe,classPrefix:Ee,onFilterQueryChange:ge,onFilterQueryPaste:J,processOptions:H,onBlur:Z,onOptionsListClose:q,expandOnFocus:k,ariaLabel:se,ariaLabelledBy:re,ariaDescribedBy:Te,onTokenSelect:w,onInputFocused:ce,forceRealName:ie,autoClogProps:oe,customizeTokenProps:be,iconType:Ae,disableIdParsing:_e,isTokenEditable:Ce,ignoreSelectAllTokensAfterMount:De,disableCloseOnTab:Pe}),Ue&&me&&t.a.createElement(g.a,{errors:me}),ae&&ue&&ue.map(Me=>{let{id:Ne,message:He}=Me;return t.a.createElement(E.a,{key:Ne,id:Ne},He)}),this.renderOptionsList())}constructor(W){super(W),Object(c.a)(this,["renderOptionsList"]),this.inputContainerRef=t.a.createRef();const{selectId:U}=W.selectState;this.measurePopoverEventName=`measureSelectPopover--${U}`,this.fallbackDataQa=W.selectDataQa||U}},"ControlledMultiSelect");T.displayName="ControlledMultiSelect",T.defaultProps={renderOption:j=>j.label,size:p.f.MEDIUM,width:300,optionsRowHeight:p.a,maxHeight:void 0,maxOptionsListHeight:void 0,errors:[],hints:[],placeholderText:"",prefix:void 0,emptyStateMessage:void 0,isLoading:!1,resultsInPopover:!0,overlayClassName:void 0,enableLoadingState:!0,selectDataQa:void 0,focusOnMount:!1,onSelectedItemsChange:a.a,onKeyDown:a.a,onKeyUp:a.a,className:void 0,classPrefix:void 0,onFilterQueryChange:a.a,onFilterQueryPaste:a.a,processOptions:a.a,onBlur:a.a,ariaLabel:void 0,ariaLabelledBy:void 0,ariaDescribedBy:void 0,expandOnFocus:!1,onTokenSelect:a.a,onInputFocused:a.a,forceRealName:void 0,onOptionsListOpen:a.a,onOptionsListClose:a.a,onScrollablePage:!1,onOptionSelected:a.a,shouldOptionBeSelected:a.a,shouldTokenizeOnComma:!1,shouldTokenizeOnSpace:!1,autoClogProps:void 0,dynamicHeight:!1,customizeTokenProps:{},iconType:void 0,disableIdParsing:!1,isTokenEditable:!1,ignoreSelectAllTokensAfterMount:!1,optionsListFooterBannerContent:void 0};let S=v(class extends s.Component{setSelectState(W,U){this.setState(B=>{let Y=W();const{filter:z,options:F}=this.props;return Y.filterQuery!==void 0&&Y.filterQuery!==B.filterQuery&&z&&(Y=z(F,Y)),Y},U)}render(){const{isDisabled:W,isInvalid:U,isRequired:B,customControlledMultiSelectComponent:Y,errors:z}=this.props,F=U||Object(o.a)(z),V=Y??T,L=Object(r.a)(()=>({...this.state,isDisabled:W,isInvalid:F,isRequired:B}));return t.a.createElement(V,C({},this.props,{selectState:L(),setSelectState:this.setSelectState,inputRef:this.inputRef}))}constructor(W){super(W),this.state={filterQuery:"",options:W.options,isDisabled:W.isDisabled,isExpanded:W.isExpanded,isInvalid:W.isInvalid,isRequired:W.isRequired,selectId:W.selectId,selectedOptions:W.selectedOptions||[],shouldRefocusInputAfterSelection:!!W.showConfirmDialog,selectedTokenIndexes:W.selectedTokenIndexes||[]},this.inputRef=t.a.createRef(),Object(c.a)(this,["setSelectState"])}},"MultiSelect");S.displayName="MultiSelect",S.defaultProps={selectedOptions:null,isDisabled:!1,isExpanded:!1,isInvalid:!1,isRequired:!0,className:void 0,errors:[],hints:[],filter:_.a,selectId:`multi-select-${Object(h.d)()}`,customControlledMultiSelectComponent:null,showConfirmDialog:void 0,autoClogProps:void 0,selectedTokenIndexes:[]},n.e=S;const A=Object(d.a)(T),R=Object(d.a)(Object(O.a)(T)),x=Object(O.a)(T),M=Object(m.a)(T)},tZRe:function(K,n,e){"use strict";e.d(n,"a",function(){return U});var s=e("q1tI"),t=e.n(s),a=e("Cfcg"),r=e("iuhU"),c=e("ifKl"),o=e("3Hq1"),i=e("2K8U"),l=e("Iy3M"),u=e("oEDn"),f=e("0i82"),d=e("Tsh7"),O=e("i9y5"),m=e("3RZE"),g=e("M2+7"),E=e("55av"),p=e("XcMG"),h=e("gVOt"),_=e("E97Y"),b=e("eUIW"),I=e("bJfW"),C=e("bjy1"),y=e("D2c/"),P=e("E3dU"),T=e("beVI"),S=e("G0eX"),A=e("zm5I"),R=e("DQKV"),x=e("/qcS"),M=e("bqbz"),j=e("NV6F");function W(){return W=Object.assign||function(z){for(var F=1;F<arguments.length;F++){var V=arguments[F];for(var L in V)Object.prototype.hasOwnProperty.call(V,L)&&(z[L]=V[L])}return z},W.apply(this,arguments)}v(W,"_extends");let U=v(class extends s.Component{renderChannelToken(F){const{channel:V,showMemberCounts:L,isSelected:Q}=this.props;let ee;return Object(_.g)(V)?ee=t.a.createElement(g.b,{id:Object(h.a)(V),className:"c-token_channel"}):Object(_.i)(V)?ee=t.a.createElement(E.a,{mpim:V,className:"c-token_channel",isActive:Q}):ee=t.a.createElement(l.a,{channel:V,className:"c-token_channel",displayFormerNames:!1,showFilledIcon:!0,showMemberCounts:L}),t.a.createElement("span",{className:F,"data-qa":"token_channel"},ee)}renderContent(){const{isLoading:F,isUnknown:V,isError:L,isMemberError:Q,isInvalid:ee,channel:te,memberId:le,teamName:Oe,userGroupId:he,channelSection:Ee,contentInnerClassName:ge,emailTeam:J}=this.props;let H=Object(r.default)("c-token_content__inner",ge);return F&&!ee?(H+=" c-token_content__inner--loading",this.renderLoadingToken(H)):V?(H+=" c-token_content__inner--unknown",this.renderUnknownToken(H)):L?(H+=" c-token_content__inner--error",this.renderErrorToken(H)):J?(H+=" c-token_content__inner--email_with_team_icon",this.renderEmailTokenWithTeamIcon(H)):le&&Q?(H+=" c-token_content__inner--error",this.renderMemberErrorToken(H)):le?(H+=" c-token_content__inner--member",this.renderMemberToken()):te?this.renderChannelToken(H):Oe?(H+=" c-token_content__inner--team",this.renderTeamToken(H)):Ee?(H+=" c-token_content__inner--channel_section",this.renderChannelSectionToken(H)):he?(H+=" c-token_content__inner--usergroup",this.renderUserGroupToken(H)):this.renderPlainToken(H)}renderErrorToken(F){const{label:V}=this.props;return t.a.createElement("div",{className:"inline_flex"},t.a.createElement("span",{className:"c-token__error_icon_container"},t.a.createElement(u.a,{type:"exclamation-circle","data-qa":"token_error_icon"})),t.a.createElement("span",{className:Object(r.default)(F,"c-token_content__label"),"data-qa":"token_error"},V))}renderLoadingToken(F){const{isSelected:V,size:L,label:Q,theme:ee}=this.props,te=ee==="dark";return t.a.createElement("div",{className:"inline_flex"},t.a.createElement("span",{className:"c-token__loading_icon_container"},t.a.createElement(O.a,W({color:!te&&V||te&&!V?"white":"blue"},L?{size:L}:{},{"data-qa":"token_loading_icon"}))),t.a.createElement("span",{className:Object(r.default)(F,"c-token_content__label"),"data-qa":"token_loading"},Q))}renderMemberToken(){const{forceRealName:F,isDisabled:V,memberId:L,size:Q}=this.props;return t.a.createElement(g.b,{id:L,isDeactivated:V,showPresence:!1,showTooltip:!1,useShortMode:!0,forceRealName:F,showStatus:!1,className:"c-token--member c-token__avatar margin_right_25","data-qa":"token_member",tokenSize:Q})}renderMemberErrorToken(F){const{forceRealName:V,isDisabled:L,memberId:Q,size:ee}=this.props;return t.a.createElement(g.b,{id:Q,isDeactivated:L,showPresence:!1,showTooltip:!1,useShortMode:!0,forceRealName:V,showStatus:!1,className:Object(r.default)(F,"c-token--member c-token__avatar"),"data-qa":"token_member",tokenSize:ee})}renderPlainToken(F){const{icon:V,label:L}=this.props;return t.a.createElement("span",{className:F},V&&t.a.createElement(u.a,{"data-qa":"token_plain_icon",size:"inherit",className:"c-token_content__icon",type:V,inline:!0}),t.a.createElement("span",{className:"c-token_content__label","data-qa":"token_plain_label"},t.a.createElement(R.a,{text:L,inputIsEscaped:!0,emojiSize:x.a.MEDIUM})))}renderEmailTokenWithTeamIcon(F){const{icon:V,label:L,emailTeam:Q}=this.props;return t.a.createElement("span",{className:F},V&&t.a.createElement(u.a,{"data-qa":"token_email_with_team_icon_icon",size:"inherit",className:"c-token_content__icon margin_right_50",type:V,inline:!0}),t.a.createElement("span",{className:"c-token_content__label margin_right_25","data-qa":"token_email_with_team_icon_content_label"},t.a.createElement(R.a,{text:L,inputIsEscaped:!0,emojiSize:x.a.MEDIUM})),Q&&t.a.createElement("span",{className:"c-member__secondary_content"},t.a.createElement(f.b,{team:Q,"data-qa":"token_email_with_team_icon",size:g.a,className:"c-member__team_icon"})))}renderTeamToken(F){const{teamId:V,teamName:L}=this.props;return t.a.createElement("div",{className:"inline_flex"},t.a.createElement(f.b,{id:V,size:26,className:"c-token__team_icon","data-qa":"token_team_icon"}),t.a.createElement("span",{className:Object(r.default)(F,"c-token_content__label"),"data-qa":"token_team_name"},L))}renderChannelSectionToken(F){const{channelSection:V}=this.props;return V?t.a.createElement("span",{className:Object(r.default)(F,"c-token_content__label")},t.a.createElement(p.a,{channelSection:V})):null}renderUnknownToken(F){const{label:V}=this.props;return t.a.createElement("div",{className:"inline_flex"},t.a.createElement("span",{className:"c-token__unknown_icon_container"},t.a.createElement(u.a,{type:"missing-emoji","data-qa":"token_unknown_icon"})),t.a.createElement("span",{className:Object(r.default)(F,"c-token_content__label"),"data-qa":"token_unknown"},V))}renderUserGroupToken(F){const{userGroupId:V}=this.props;return t.a.createElement(m.a,{id:V,showDescription:!1,className:Object(r.default)(F,"c-token_content__label")})}render(){const{isDisabled:F,isInvalid:V,isError:L,memberId:Q,isMemberError:ee,isUnknown:te,isLoading:le,isSelected:Oe,size:he,theme:Ee,hoverText:ge,tabIndex:J,contentEditable:H,className:Z,onMouseDown:q,enableProfileHoverCard:k,customizeProfileHoverCardProps:se,isRestricted:re}=this.props,X=Object(r.default)("c-token",Z,`c-token--${he}`,`c-token--${Ee}`,{"c-token--selected":Oe,"c-token--disabled":F,"c-token--invalid":V,"c-token--restricted":re,"c-token--error":L||ee,"c-token--unknown":te,"c-token--loading":le}),w=this.renderContent();let ce=w;ge&&w?ce=t.a.createElement(d.d,{tip:ge},w):Q&&k&&(ce=Object(j.y)({...se||{},memberId:Q,children:w}));const ie=this.props.renderIcon(this.props);return t.a.createElement("span",{className:X,"data-id":this.props["data-id"],"data-qa":this.props["data-qa"],tabIndex:J,contentEditable:H,onMouseDown:q},t.a.createElement("span",{className:"c-token__content","data-qa":"token_content"},ce),ie)}},"Token");U.displayName="Token",U.defaultProps={"data-qa":"select_token",isDisabled:!1,isInvalid:!1,isError:!1,isUnknown:!1,isLoading:!1,isSelected:!1,size:i.f.MEDIUM,theme:"light",renderIcon:c.a,forceRealName:!1,contentEditable:!1};const B=v((z,F)=>{const{entityId:V,disableIdParsing:L}=F,Q=Object(A.a)(z);if(Object(o.a)(V))return{theme:Q};let ee;Object(b.a)(V)&&!L&&(ee=V);let te,le;if((Object(I.a)(V)||Object(I.b)(V))&&!L){const Ee=Object(T.t)(z,V);Ee&&(te=V,le=Object(S.g)(Ee))}let Oe;Object(y.a)(V)&&!L&&(Oe=Object(M.g)(z,V));let he;return Object(C.a)(V)&&!L&&(he=V),{channel:Object(P.c)(z,V),memberId:ee,teamName:le,teamId:te,userGroupId:he,theme:Q,channelSection:Oe}},"mapStateToProps");var Y=n.b=Object(a.a)(B,null)(U)},tcEy:function(K,n,e){"use strict";e.d(n,"a",function(){return a});var s=e("bdgK"),t=e("UXvI");function a(r){let c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:250;const o=v(i=>{!Array.isArray(i)||!i.length||requestAnimationFrame(()=>r(i))},"observer");return new s.a(Object(t.a)(o,c))}v(a,"getResizeObserver")},tcZJ:function(K,n,e){"use strict";e.d(n,"a",function(){return o});var s=e("IzLi"),t=e("SQ0V"),a=e("Lgge"),r=e("OqoL"),c=e("k6mT");const o=Object(t.c)("Submits changes to the current user\u2019s profile",(i,l,u)=>{let{profile:f,reason:d="submitProfileChange"}=u;if(!Object(s.a)(f))return a.a.resolve();const O={...f},m=l();return f.status_text&&(O.status_text=Object(r.b)(m,f.status_text)),i(Object(c.b)({profile:JSON.stringify(O),reason:d}))});o.meta={name:"createThunk",key:"createThunksubmitProfileChange",description:"Submits changes to the current user\u2019s profile"}},tfcd:function(K,n,e){"use strict";e.d(n,"a",function(){return t});const s=/^(quip|Qp):F[A-Z0-9]{8,}-(Qpv:[a-z0-9:]{8,}&Qpvs:[0-9]{1,})?$/;function t(a){return a?s.test(a):!1}v(t,"looksLikeQuipHistoryId")},tg2r:function(K,n,e){"use strict";e.d(n,"a",function(){return m});var s=e("SQ0V"),t=e("QLhP"),a=e("MUHj"),r=e("O86Y"),c=e("9I4P"),o=e("x/ke"),i=e("xwCZ"),l=e("RV0M"),u=e("I0j/"),f=e("37+L"),d=e("3956");const O=Object(s.c)("Shows message pane for bots",function(g,E){let{memberId:p,serviceId:h,botProfile:_}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};var b;const{member:I,bot:C,memberIsHuman:y}=Object(t.f)(E(),{userId:p,botId:h,botProfile:_}),P=Object(r.g)(E())||"",T=!y||h?Object(c.c)({member:I||void 0,bot:C,botProfile:_,currentTeamId:P}):void 0,S=Object(o.c)(E(),{serviceId:h,homeWorkspaceId:T,memberId:p});var A;const R=Object(i.g)(E(),p||((A=S==null||(b=S.app_user)===null||b===void 0?void 0:b.id)!==null&&A!==void 0?A:void 0));var x;return g(Object(a.a)({memberId:(x=R==null?void 0:R.id)!==null&&x!==void 0?x:void 0}))});O.meta={name:"createThunk",key:"createThunkopenMessagesForBot",description:"Shows message pane for bots"};const m=Object(s.c)("Shows the flexpane profile for humans or messages for bots",(g,E,p,h)=>{let{memberId:_,serviceId:b,botProfile:I}=p;const{shouldUseNavigate:C}=h(l.a);return _&&Object(t.e)(E(),_)?g(C?Object(u.a)(Object(f.K)(_)):Object(d.a)({memberId:_})):g(O({memberId:_,serviceId:b,botProfile:I}))});m.meta={name:"createThunk",key:"createThunkopenProfile",description:"Shows the flexpane profile for humans or messages for bots"}},to1N:function(K,n,e){"use strict";var s=e("SQ0V"),t=e("Lgge"),a=e("s4P+"),r=e("Pw4T"),c=e("AaY3"),o=e("lA92"),i=e("lhZz"),l=e("3vtZ"),u=e("bYrq"),f=e("SZMM"),d=e("+CZ0"),O=e("4cJY"),m=e("RBHu"),g=e("vHY4"),E=e("uVZW"),p=e("7+Lm"),h=e("q6Tz"),_=e("sgFo"),b=e("lpU5");const I=Object(s.c)("Join/start huddle, but confirm with shouty rooster modal first",(y,P,T)=>{let{channelId:S,threadTs:A,muted:R,callId:x,forceFocus:M,entryPoint:j,forceConfirmation:W,markTelemeter:U,isMultiDevice:B}=T;const Y=v(()=>{var z;U&&Object(r.d)({state:P()}).mark(m.n),(z=y(Object(c.a)({channelId:S,threadTs:A,muted:R,callId:x,forceFocus:M,entryPoint:j,isMultiDevice:B})))===null||z===void 0||z.catch(F=>{Object(a.a)({getState:P}).error("Could not start huddle",F)})},"onConfirm");if(Object(l.ab)(P(),S,A)||W){A?y(Object(h.b)({event:{type:E.e.HUDDLE_STARTED_FROM_THREAD}})).then(()=>{Object(p.c)(P(),E.g.LAUNCH_MODAL)===E.h.HUDDLE_FROM_THREAD_EDUCATIONAL_MODAL?y(Object(O.b)({channelId:S,onConfirm:Y})):Y()}):y(Object(g.b)({channelId:S,onConfirm:Y}));return}Y()});I.meta={name:"createThunk",key:"createThunkstartHuddleWithShoutyRooster",description:"Join/start huddle, but confirm with shouty rooster modal first"};const C=Object(s.c)("Join/start huddle, but confirm if already in another huddle",(y,P,T)=>{const{channelId:S}=T,A=P(),R=Object(_.x)(A),x=Object(i.getStateForClientStore)(),M=Object(d.b)(x),j=Object(d.x)(x),W=Object(l.T)(A,{channelId:S});if(y(Object(o.a)()),Object(u.b)()){const U=Object(f.b)();return U?U.sendQuery({type:C.getType(),payload:T}):t.a.reject(new Error("multiverse-redirect-no-parent-window"))}if(M&&S!==M&&!j)return y(Object(g.c)({prevChannelId:M,nextChannelId:S,onConfirm:()=>{y(I({...T,markTelemeter:!1}))}}));if(R&&W){y(Object(b.a)({channelId:S,onConfirm:U=>{let{isMultiDevice:B}=U;return y(I({...T,markTelemeter:!1,isMultiDevice:B}))}}));return}return M&&S===M?t.a.resolve():y(I({...T,markTelemeter:!0}))});C.meta={name:"createThunk",key:"createThunkstartHuddleWithConfirmation",description:"Join/start huddle, but confirm if already in another huddle"},n.a=C},trVL:function(K,n,e){"use strict";var s=e("Trx9"),t=e("ktUG"),a=e("i5Ig"),r=e("nNoG"),c=e("q1tI"),o=e.n(c),i=e("zxER"),l=e("Tevt"),u=e("/0Xg"),f=e("/MKj"),d=e("/cL/"),O=e("qlBN"),m=e("xeGy"),g=e("+fxZ"),E=e("sgFo"),p=e("lpU5"),h=e("s9Q6"),_=e("stkM"),b=e("sK3r"),I=e("fRJc"),C=e("0cEW");const y=new r.b("trials_highlight_paid_features"),P={onClick:{enableClogAction:!0},elementName:"start_trial"},T={elementName:"upgrade_link",onClick:{enableClogAction:!0}},S=v(R=>{let{selectedMemberIds:x=a.a}=R;const M=Object(f.useDispatch)(),j=u.o.PaidFeatureTrial,W=u.n.Vhq,U=Object(i.a)(L=>Object(h.c)(L,j,W)),B=Object(i.a)(L=>Object(h.b)(L,j,W)),Y=Object(i.a)(E.t),z=Object(c.useCallback)(()=>{M(Object(p.f)(x))},[M,x]),F=Object(c.useCallback)(()=>{M(Object(O.a)({uiComponentVariant:t.UiComponentVariant.HUDDLES_INVITE_MODAL_FOOTER,onSpeedbumpContinue:z}))},[M,z]);if(Object(c.useEffect)(()=>{M(Object(_.a)({campaignType:j,campaignSubType:W,reason:"huddle_invite_modal",context:b.b.huddleInviteModal}))},[M,j,W]),!Y||B)return null;const V=U?y.rt("To use huddles with more people, <a>start a free trial.</a>",{"<a>":L=>{let{text:Q}=L;return o.a.createElement(l.a,{"data-qa":"huddle_invite_modal_footer_banner_cta",onClick:F,autoClogProps:P},Q)}}):y.rt("To use huddles with more people, <a>see upgrade options.</a>",{"<a>":L=>{let{text:Q}=L;return o.a.createElement(d.a,{"data-qa":"huddle_invite_modal_footer_banner_cta",autoClogProps:T,useLink:!0},Q)}});return o.a.createElement(s.a,{eventId:t.EventId.UPGRDEXP_HIGHLIGHT_PAID_FEATURES,uiComponentName:t.UiComponentName.HUDDLE_INVITE_MODAL_FREE_BANNER,clogImpression:!0},o.a.createElement("div",{className:"p-huddle_invite_modal_footer_banner"},o.a.createElement(m.a,{variant:g.a.HuddlesFreemium,promoType:j,promoSubtype:W,uiComponentVariant:t.UiComponentVariant.HUDDLES_INVITE_MODAL_FOOTER,toolTipZIndex:I.a.AboveFullScreen,toolTipPosition:C.b.Bottom}),o.a.createElement("span",{className:"margin_left_50"},V)))},"HuddleInviteModalFooterBanner");S.displayName="HuddleInviteModalFooterBanner";var A=n.a=S},tstp:function(K,n,e){"use strict";e.d(n,"a",function(){return t}),e.d(n,"d",function(){return a}),e.d(n,"c",function(){return r}),e.d(n,"b",function(){return c});var s=e("DwFS");const t=Object(s.a)("Have we already sent boot metrics");t.meta={name:"createAction",key:"createActionsetShouldLogAppBootMetrics",description:"Have we already sent boot metrics"};const a=Object(s.a)("Should we log team switch metrics");a.meta={name:"createAction",key:"createActionsetShouldLogTeamSwitchMetrics",description:"Should we log team switch metrics"};const r=Object(s.a)("Set whether we should continue logging time to visible metrics");r.meta={name:"createAction",key:"createActionsetShouldLogTTVMetrics",description:"Set whether we should continue logging time to visible metrics"};const c=Object(s.a)("Set whether we should continue logging time to usable metrics");c.meta={name:"createAction",key:"createActionsetShouldLogTTUMetrics",description:"Set whether we should continue logging time to usable metrics"}},tv4y:function(K,n,e){"use strict";const s={default:"default",compactItem:"compact_item",separator:"separator",sub_separator:"sub_separator",submenu:"submenu",header:"header",loading:"loading",custom:"custom",subheaderChild:"subheader_child",radio:"radio",checkbox:"checkbox"};n.a=s},ty0f:function(K,n,e){"use strict";e.d(n,"a",function(){return c});var s=e("vJtL"),t=e("G8aS"),a=e("IzLi"),r=e("/1FC");function c(o){return o===null||o===void 0?!0:Object(s.a)(o)||Object(t.a)(o)&&o!==Symbol.for("react.element")||Object(s.a)(o==null?void 0:o.then)?!1:Object(a.a)(o)?Object.keys(o).every(i=>c(o[i])):Object(r.a)(o)?o.every(c):o!==Object(o)}v(c,"isSerializable")},"u+Mq":function(K,n,e){"use strict";e.d(n,"b",function(){return o});var s=e("SQ0V"),t=e("LDoU");e.d(n,"a",function(){return t.a});var a=e("gpLM"),r=e("HKlo");const c=v(i=>{switch(i){case t.a.ShowDocFlexpane:return!0;default:return!1}},"shouldForceFocus"),o=Object(s.c)("Focus a Quip Embed",(i,l,u)=>{i(Object(a.c)({focusKey:r.c.QUIP_EMBED,forceFocus:c(u.uiState.reason),focusMetadata:u}))});o.meta={name:"createThunk",key:"createThunkfocusQuipEmbed",description:"Focus a Quip Embed"}},u09r:function(K,n,e){"use strict";e.d(n,"a",function(){return g});var s=e("n3tL"),t=e("SQ0V"),a=e("Wn1n"),r=e("v7mh"),c=e("RV0M"),o=e("8d8q"),i=e("HKlo"),l=e("gpLM"),u=e("IsIP"),f=e("59uo"),d=e("2VFn"),O=e("PIf0");const m=Object(t.c)("Get target view id for focus transition out of thread",(E,p,h,_)=>{var b,I;const C=p();if(h)return(b=Object(f.a)(C))===null||b===void 0?void 0:b.view;const{shouldUseNavigate:y,getViewSet:P}=_(c.a);if(y){var T,S;const M=P(C);var A;return(A=M==null||(T=M[d.h.Primary])===null||T===void 0?void 0:T.id)!==null&&A!==void 0?A:M==null||(S=M[d.h.Sidebar])===null||S===void 0?void 0:S.id}const x=_(O.a).windowId||d.c;return x===d.c?Object(a.a)(C):(I=Object(r.d)(C,{windowId:x,container:d.h.Primary}))===null||I===void 0?void 0:I.id});m.meta={name:"createThunk",key:"createThunkgetTargetViewId",description:"Get target view id for focus transition out of thread"};const g=Object(t.c)("Handle focus transitions away from thread",(E,p,h)=>{let{channelId:_,threadTs:b,shouldTransitionWithinTile:I,id:C}=h;if(!_||!b)return;const y=p(),P=C??E(m(I)),T=I?Object(f.b)(y):void 0;if(P==="Punreads"){E(Object(l.c)({focusKey:Object(u.e)({focusKey:i.c.UNREAD_VIEW_MESSAGE_LIST,tileKey:T}),focusMetadata:{uiState:{channelId:_,ts:b}}}));return}if(P===o.a.allThreads){E(Object(l.c)({focusKey:Object(u.e)({focusKey:i.c.THREADS_VIEW_MESSAGE_LIST,tileKey:T}),focusMetadata:{uiState:{channelId:_,ts:b}}}));return}E(P===_?Object(l.c)({focusKey:Object(u.e)({focusKey:i.c.MESSAGE_PANE_MESSAGE_LIST,tileKey:T}),focusMetadata:{id:_,uiState:{ts:b}}}):Object(l.d)({id:P,forceFocus:!0}))});g.meta={name:"createThunk",key:"createThunktransitionFocusOutOfThread",description:"Handle focus transitions away from thread"},g.propTypes={channelId:s.default.string.isRequired,shouldJumpToMessage:s.default.bool,threadTs:s.default.string.isRequired}},u4cD:function(K,n,e){"use strict";e.d(n,"e",function(){return t}),e.d(n,"c",function(){return a}),e.d(n,"d",function(){return r}),e.d(n,"a",function(){return c}),e.d(n,"b",function(){return o});var s=e("DwFS");const t=Object(s.a)("Set Megaphone notification and (optional) data to a Megaphone space");t.meta={name:"createAction",key:"createActionsetMegaphoneNotification",description:"Set Megaphone notification and (optional) data to a Megaphone space"};const a=Object(s.a)("Clear Megaphone space");a.meta={name:"createAction",key:"createActionclearMegaphoneSpace",description:"Clear Megaphone space"};const r=Object(s.a)("Set Megaphone notification boot Data as loaded");r.meta={name:"createAction",key:"createActionmegaphoneNotificationBootDataFetched",description:"Set Megaphone notification boot Data as loaded"};const c=Object(s.a)("Side effect action for triggering sending of megaphone client event");c.meta={name:"createAction",key:"createActionbroadcastMegaphoneClientEvent",description:"Side effect action for triggering sending of megaphone client event"};const o=Object(s.a)("In response to an RTM event, clear a Megaphone notification from all spaces where it is currently showing");o.meta={name:"createAction",key:"createActionclearMegaphoneNotificationFromRtmEvent",description:"In response to an RTM event, clear a Megaphone notification from all spaces where it is currently showing"}},"uTJ+":function(K,n,e){"use strict";var s=e("uiBO"),t=e("nNoG");const a=new t.b("ia4"),r={get[s.a.BrowseCanvases](){return a.t("All canvases",{fallbackHash:"50a279de829f2dc398ac2ac7c9367508ea4b5df5",fallbackHashNs:"channel_sidebar"})},get[s.a.BrowseChannels](){return a.t("All channels",{fallbackHash:"50a279de829f2dc398ac2ac7c9367508ea4b5df5",fallbackHashNs:"channel_sidebar"})},get[s.a.BrowsePeople](){return a.t("All people",{fallbackHash:"7aeeec03f7c076af275e9b7c0e187a40bd193acc",fallbackHashNs:"enterprise_dashboard"})},get[s.a.BrowseFiles](){return a.t("All files",{fallbackHash:"f7857dcc71d3ce6a9095d1fbca5acb8cc9319005",fallbackHashNs:"search"})},get[s.a.RecentFiles](){return a.t("Recently Viewed Files",{fallbackHash:"6ce6c512ea433a7fc5c8841628e7696cd0ff7f2b"})},get[s.a.FilesSharedWithYou](){return a.t("Files shared with you",{fallbackHash:"72f2b0dfa1e68a34813db5999ff8098f60ef699d",fallbackHashNs:"search"})},get[s.a.FilesCreatedByYou](){return a.t("Files created by you",{fallbackHash:"8c292710d9aa5d3b598cf24b70f804cb0341e24e",fallbackHashNs:"search"})},get[s.a.RecentCanvases](){return a.t("Recently Viewed Canvases",{fallbackHash:"6ce6c512ea433a7fc5c8841628e7696cd0ff7f2b"})},get[s.a.CanvasesSharedWithYou](){return a.t("Canvases shared with you",{fallbackHash:"6ce6c512ea433a7fc5c8841628e7696cd0ff7f2b"})},get[s.a.CanvasesCreatedByYou](){return a.t("Canvases created by you",{fallbackHash:"6ce6c512ea433a7fc5c8841628e7696cd0ff7f2b"})},[s.a.DmsList]:void 0,[s.a.LaterList]:void 0,[s.a.Channel]:void 0,[s.a.AppSpace]:void 0,[s.a.Quip]:void 0,[s.a.BrowseApps]:void 0,get[s.a.ExternalOrganizations](){return a.t("External organizations",{fallbackHash:"e21da9e565b1e32162650ed549e03eaf5b4364e5",fallbackHashNs:"slack_connect_hub"})},get[s.a.ExternalPeople](){return a.t("External people",{fallbackHash:"e21da9e565b1e32162650ed549e03eaf5b4364e5",fallbackHashNs:"slack_connect_hub"})},get[s.a.SlackConnectChannels](){return a.t("Slack Connect channels",{fallbackHash:"e21da9e565b1e32162650ed549e03eaf5b4364e5",fallbackHashNs:"slack_connect_hub"})},get[s.a.AllEvents](){return a.t("All events",{fallbackHash:"e21da9e565b1e32162650ed549e03eaf5b4364e5",fallbackHashNs:"slack_connect_hub"})},get[s.a.UpcomingEvents](){return a.t("Upcoming events",{fallbackHash:"e21da9e565b1e32162650ed549e03eaf5b4364e5",fallbackHashNs:"slack_connect_hub"})},get[s.a.ArchivedEvents](){return a.t("Archived events",{fallbackHash:"e21da9e565b1e32162650ed549e03eaf5b4364e5",fallbackHashNs:"slack_connect_hub"})},get[s.a.SlackConnectInvitations](){return a.t("Slack Connect invitations",{fallbackHash:"e21da9e565b1e32162650ed549e03eaf5b4364e5",fallbackHashNs:"slack_connect_hub"})},[s.a.BrowseExternalWorkspace]:void 0,[s.a.BrowseShortcuts]:void 0,[s.a.BrowseWorkflowTemplates]:void 0,[s.a.BrowseUserGroups]:void 0,[s.a.OrgDirectory]:void 0,get[s.a.RecentPlatform](){return a.t("Recently run",{fallbackHash:"fd316b7c502381bae53b74d8cf9d7c7df621b0d0",fallbackHashNs:"search"})},[s.a.SlackConnect]:void 0,[s.a.Page]:void 0,[s.a.Threads]:void 0,[s.a.Thread]:void 0,[s.a.Profile]:void 0,[s.a.FileDetails]:void 0,[s.a.Help]:void 0,[s.a.UserGroup]:void 0,[s.a.KeyboardShortcuts]:void 0,[s.a.WhatsNew]:void 0,[s.a.Feedback]:void 0,[s.a.List]:void 0,[s.a.ComposeList]:void 0,[s.a.Compose]:void 0,[s.a.QuipCommentThread]:void 0,[s.a.QuipCommentStream]:void 0,[s.a.QuipActivityHistory]:void 0,[s.a.Canvas]:void 0,[s.a.ChannelCanvas]:void 0,[s.a.CanvasBrowser]:void 0,[s.a.PaidBenefits]:void 0,[s.a.Setup]:void 0,[s.a.SearchEmpty]:void 0,[s.a.AboutWorkspace]:void 0,[s.a.Unknown]:void 0,[s.a.MorePeopleSidebar]:void 0,[s.a.MoreCanvasesSidebar]:void 0,[s.a.SalesHome]:void 0,[s.a.SalesHomeSidebar]:void 0,[s.a.CRM]:void 0,[s.a.CRMSidebar]:void 0,[s.a.AppPopout]:void 0,[s.a.MorePlatformSidebar]:void 0,[s.a.Search]:void 0,[s.a.ChannelList]:void 0,[s.a.BrowseLists]:void 0,[s.a.BrowseList]:void 0,[s.a.ActivityList]:void 0,[s.a.MoreFilesSidebar]:void 0,[s.a.MoreChannelsSidebar]:void 0,[s.a.MoreHuddlesSidebar]:void 0,[s.a.MoreExternalConnectionsSidebar]:void 0,[s.a.HelpBrowser]:void 0,[s.a.KeyboardShortcutsBrowser]:void 0,[s.a.WhatsNewBrowser]:void 0,[s.a.FeedbackBrowser]:void 0,[s.a.ExternalWorkspaceSidebar]:void 0},c=v(o=>o in r?r[o]:"","getDisplayNameForViewType");n.a=c},uXea:function(K,n,e){"use strict";e.d(n,"a",function(){return s});function s(t){let{width:a,height:r,top:c,left:o}=t;return{position:"absolute",width:`${a}px`,height:`${r}px`,top:`${c}px`,left:`${o}px`}}v(s,"cssForRect")},ueJG:function(K,n,e){"use strict";e.d(n,"a",function(){return u}),e.d(n,"b",function(){return f});var s=e("q1tI"),t=e.n(s),a=e("/MKj"),r=e("l0nk"),c=e("0dq7"),o=e("PPXB"),i=e("KciV");const l=Object(i.c)("HUDDLE-ERROR");var u;(function(d){d.Huddles="huddles",d.Sidebar="huddles_pro_max-sidebar",d.Flexpane="huddles_pro_max-flexpane",d.CompactWindow="huddles_pro_max-compact_window",d.LargeWindow="huddles_pro_max-large_window",d.WindowFooter="huddles_pro_max-window_footer",d.AlertBanner="huddles_pro_max-alert_banner",d.InviteWindow="huddles_invite_window",d.ControlStripButton="huddles_control_strip_button",d.ChannelHeader="huddles_channel_header",d.Composer="huddles_composer",d.HuddleSpecialReactions="huddle_special_reactions"})(u||(u={}));function f(d){let{children:O,onError:m,isQuiet:g=!0,shouldStopHuddle:E=!1,subtype:p=u.Huddles}=d;const h=Object(a.useDispatch)(),_=Object(s.useCallback)(()=>{E&&h(Object(r.a)({terminalState:c.c.ClientUIError}))},[h,E]),b=Object(s.useCallback)(C=>{l.error(`${p} ${C}`),m?m():_()},[_,m,p]),I=g?o.a:o.b;return t.a.createElement(I,{subtype:p,onError:b},O)}v(f,"HuddleErrorBoundary")},uoFi:function(K,n,e){"use strict";e.d(n,"b",function(){return t}),e.d(n,"q",function(){return a}),e.d(n,"k",function(){return r}),e.d(n,"o",function(){return c}),e.d(n,"j",function(){return o}),e.d(n,"c",function(){return i}),e.d(n,"r",function(){return l}),e.d(n,"l",function(){return u}),e.d(n,"s",function(){return f}),e.d(n,"d",function(){return d}),e.d(n,"m",function(){return O}),e.d(n,"g",function(){return m}),e.d(n,"p",function(){return g}),e.d(n,"n",function(){return E}),e.d(n,"t",function(){return p}),e.d(n,"a",function(){return h}),e.d(n,"h",function(){return _}),e.d(n,"e",function(){return b}),e.d(n,"f",function(){return I}),e.d(n,"i",function(){return C});var s=e("DwFS");const t=Object(s.a)("Add / update multiple lists");t.meta={name:"createAction",key:"createActionbulkUpsertLists",description:"Add / update multiple lists"};const a=Object(s.a)("Add / update a list");a.meta={name:"createAction",key:"createActionupsertList",description:"Add / update a list"};const r=Object(s.a)("Remove a list");r.meta={name:"createAction",key:"createActionremoveList",description:"Remove a list"};const c=Object(s.a)("Add / update a list column");c.meta={name:"createAction",key:"createActionupsertColumn",description:"Add / update a list column"};const o=Object(s.a)("Remove a list column");o.meta={name:"createAction",key:"createActionremoveColumn",description:"Remove a list column"};const i=Object(s.a)("Add / update multiple records");i.meta={name:"createAction",key:"createActionbulkUpsertRecords",description:"Add / update multiple records"};const l=Object(s.a)("Add / update a list record");l.meta={name:"createAction",key:"createActionupsertRecord",description:"Add / update a list record"};const u=Object(s.a)("Remove a list record");u.meta={name:"createAction",key:"createActionremoveRecord",description:"Remove a list record"};const f=Object(s.a)("Add/update a record position in a view");f.meta={name:"createAction",key:"createActionupsertRecordPosition",description:"Add/update a record position in a view"};const d=Object(s.a)("Add / update multiple templates");d.meta={name:"createAction",key:"createActionbulkUpsertTemplates",description:"Add / update multiple templates"};const O=Object(s.a)("Set the list's banner message");O.meta={name:"createAction",key:"createActionsetBannerMessageForList",description:"Set the list's banner message"};const m=Object(s.a)("Clear this list's banner message");m.meta={name:"createAction",key:"createActionclearBannerMessageForList",description:"Clear this list's banner message"};const g=Object(s.a)("Add / update a list record field");g.meta={name:"createAction",key:"createActionupsertField",description:"Add / update a list record field"};const E=Object(s.a)("Add / update a list cell");E.meta={name:"createAction",key:"createActionupsertCell",description:"Add / update a list cell"};const p=Object(s.a)("Add / update a workflow for a list");p.meta={name:"createAction",key:"createActionupsertWorkflow",description:"Add / update a workflow for a list"};const h=Object(s.a)("Apply an edit action to a list");h.meta={name:"createAction",key:"createActionapplyEditAction",description:"Apply an edit action to a list"};const _=Object(s.a)("Clear edit history for a list");_.meta={name:"createAction",key:"createActionclearEditHistory",description:"Clear edit history for a list"};const b=Object(s.a)("Update local filters");b.meta={name:"createAction",key:"createActionchangeViewLocalFilters",description:"Update local filters"};const I=Object(s.a)("Update local sorts");I.meta={name:"createAction",key:"createActionchangeViewLocalSorts",description:"Update local sorts"};const C=Object(s.a)("Destroy local filters and sorts");C.meta={name:"createAction",key:"createActiondestroyLocalSortsAndFilters",description:"Destroy local filters and sorts"}},updQ:function(K,n,e){K.exports=e.p+"boop-ec22f02.mp3"},uslK:function(K,n,e){"use strict";e.d(n,"d",function(){return o}),e.d(n,"a",function(){return i}),e.d(n,"b",function(){return l}),e.d(n,"c",function(){return u});var s=e("3Hq1"),t=e("kBpe"),a=e("cthg");const r="4.30.79",c=[a.a.DesktopScreen,a.a.DesktopWindow];function o(){return!!Object(t.j)(r)}v(o,"isWindowDrawingSupported");function i(f){return Object(s.a)(f)?a.b.None:f.startsWith("screen:")?a.b.Screen:f.startsWith("window:")?a.b.Window:a.b.Other}v(i,"determineContentShareTypeFromSourceId");function l(f){if(!Object(t.i)())return a.a.BrowserContent;const d=i(f);if(Object(t.i)())switch(d){case a.b.Screen:return a.a.DesktopScreen;case a.b.Window:return a.a.DesktopWindow;default:return a.a.DesktopUnknown}return a.a.Unknown}v(l,"determineFullContentShareSourceType");function u(f){return c.includes(f)}v(u,"doesContentShareTypeSupportDrawing")},uubn:function(K,n,e){"use strict";e.d(n,"a",function(){return m});var s=e("lhZz"),t=e("BeL+"),a=e("m8R6"),r=e("SQ0V"),c=e("O86Y"),o=e("Kmpi"),i=e("x/ke"),l=e("+ujC"),u=e("GTsZ"),f=e("TGfC");const d=Object(r.c)("Upsert app profiles and mark as fresh in CFM",(g,E,p)=>{const h=E(),_=Object(c.h)(h),b=[],I=[];p.forEach(C=>{if(!C||!C.service_id)return;const y=Object(i.d)(h,C.service_id);if(!Object(o.b)(C)&&Object(o.b)(y))return;const P={...C};C&&y&&Object(o.c)(C)&&Object(o.c)(y)&&(P.failed_home_workspace_ids=Object(t.a)((C.failed_home_workspace_ids||[]).concat(y.failed_home_workspace_ids||[]))),b.push(P.id?Object(a.a)(P,["id"]):P);const T=Object(f.a)({serviceId:P.service_id,homeWorkspaceId:P.home_workspace_id||_});I.push(T)}),b.length&&(g(Object(u.b)(b)),Object(l.a)(_,I))});d.meta={name:"createThunk",key:"createThunkbulkUpsertAppProfiles",description:"Upsert app profiles and mark as fresh in CFM"};var O=d;function m(g,E){return Object(s.dispatchForTeamId)(g,O(E))}v(m,"upsertAppProfilesForTeamId")},uwEJ:function(K,n,e){"use strict";var s=e("SQ0V"),t=e("O86Y"),a=e("PWAB"),r=e("59uo"),c=e("1Mwh"),o=e("j77i");const i=Object(s.c)("Updates params for the given tile key",(l,u,f)=>{let{key:d,params:O}=f;if(!d)return;const m=u(),g=Object(r.f)(m,d);if(!g)return;const E=Object(r.h)(m),p={...g,params:{...g.params,...O}},h={...E,[d]:p},_=Object(t.g)(m);Object(o.w)(_,a.a.TILES,h),l(Object(c.i)({tiles:h}))});i.meta={name:"createThunk",key:"createThunkupdateTileParams",description:"Updates params for the given tile key"},n.a=i},uxre:function(K,n,e){"use strict"},v0Vs:function(K,n,e){K.exports=e.p+"beach-preview-33d7acf.jpg"},vC6O:function(K,n,e){"use strict";var s=e("DwFS");const t=Object(s.a)("Triggers a side-effect that starts the DND Timer in the client");t.meta={name:"createAction",key:"createActionkickOffDndTimerCircular",description:"Triggers a side-effect that starts the DND Timer in the client"},n.a=t},vDCl:function(K,n,e){"use strict";e.d(n,"a",function(){return s}),e.d(n,"b",function(){return t});var s;(function(a){a.SMALL="small",a.MEDIUM="medium",a.LARGE="large"})(s||(s={}));var t;(function(a){a.NONE="none",a.PURPLE="purple",a.LIGHT_PURPLE="light_purple",a.BLUE="blue",a.ERROR="error"})(t||(t={}))},"vGF+":function(K,n,e){"use strict";e.d(n,"a",function(){return t});var s=e("7ibc");function t(a){return Object(s.Dd)(a,"message_edit_window",s.a.PILOT)}v(t,"isMessageEditWindowEnabled")},vHY4:function(K,n,e){"use strict";e.d(n,"a",function(){return R}),e.d(n,"c",function(){return M}),e.d(n,"b",function(){return W});var s=e("q1tI"),t=e.n(s),a=e("/MKj"),r=e("Kmpi"),c=e("zxER"),o=e("Ccc1"),i=e("KkHf"),l=e("3V+Q"),u=e("Ws5+"),f=e("Trx9"),d=e("E97Y"),O=e("B4ch"),m=e("9Gfp"),g=e("E3dU"),E=e("dlm8"),p=e("Yauy"),h=e("gVOt"),_=e("Enx8"),b=e("ktUG"),I=e("nNoG"),C=e("T1zM"),y=e("JoR1");function P(){return P=Object.assign||function(U){for(var B=1;B<arguments.length;B++){var Y=arguments[B];for(var z in Y)Object.prototype.hasOwnProperty.call(Y,z)&&(U[z]=Y[z])}return U},P.apply(this,arguments)}v(P,"_extends");const T=new I.b("huddles"),S={elementName:"huddles_confirmation_dialog_ok",eventId:b.EventId.HUDDLES_JOIN_CONFIRM,onClick:{enableClogAction:!0}},A={elementName:"huddles_confirmation_dialog_cancel",eventId:b.EventId.HUDDLES_JOIN_CANCEL,onClick:{enableClogAction:!0}},R=v(U=>{let{children:B,closeModal:Y,onConfirm:z,uiComponentName:F,...V}=U;const L=Object(s.useCallback)(()=>{z(),Y==null||Y()},[Y,z]);return t.a.createElement(f.a,{uiComponentName:F,eventId:b.EventId.HUDDLES_CONFIRM_DIALOG_SHOWN,clogImpression:!0},t.a.createElement(i.a,P({overlayClassName:"p-huddle_join_modal__overlay","data-qa":"huddle_join_modal",onCancel:Y,onClose:Y,onSubmit:L,submitButtonText:T.t("OK"),submitAutoClogProps:S,cancelAutoClogProps:A},V),B))},"HuddleJoinModal");R.displayName="HuddleJoinModal";const x=v(U=>{let{prevChannelId:B,nextChannelId:Y,onConfirm:z,closeModal:F}=U;const V=Object(c.a)(Oe=>Object(g.c)(Oe,B)),L=Object(c.a)(Oe=>{if(!V)return[];let he=[];if(Object(d.g)(V))he=[Object(h.a)(V)];else if(Object(d.i)(V)){const Ee=Object(p.E)(V);if(Ee&&Ee.length){const ge=Object(m.a)(Oe);he=Ee.filter(J=>J!==ge)}}return he.map(Ee=>Object(_.a)(Oe,Ee))}),Q=Object(c.a)(Oe=>Object(g.c)(Oe,Y)),ee=Object(c.a)(Oe=>{if(!Q)return[];let he=[];if(Object(d.g)(Q))he=[Object(h.a)(Q)];else if(Object(d.i)(Q)){const Ee=Object(p.E)(Q);if(Ee&&Ee.length){const ge=Object(m.a)(Oe);he=Ee.filter(J=>J!==ge)}}return he.map(Ee=>Object(_.a)(Oe,Ee))});let te=T.rt("You\u2019re already in a huddle.");L.length?te=T.rt("You\u2019re already in a huddle with {listOfPersons}.",{listOfPersons:Object(I.h)(L).join("")}):V&&Object(r.b)(V)&&(te=T.rt("You\u2019re already in a huddle in {channel}.",{channel:t.a.createElement(o.a,{channel:V,channelId:B})}));let le=T.rt("Would you like to leave it and join this one instead?");return ee.length?le=T.rt("Would you like to leave it and join a huddle with {listOfPersons} instead?",{listOfPersons:t.a.createElement("strong",null,Object(I.h)(ee).join(""))}):Q&&Object(r.b)(Q)&&(le=T.rt("Would you like to leave it and join a huddle in {channel} instead?",{channel:t.a.createElement("strong",null,t.a.createElement(o.a,{channel:Q,channelId:Y}))})),t.a.createElement(R,{uiComponentName:b.UiComponentName.HUDDLES_CONFIRMATION_DIALOG,title:T.t("Switch to this huddle?"),onConfirm:z,closeModal:F},t.a.createElement("p",null,te," ",le))},"HuddleSwitchModal");x.displayName="HuddleSwitchModal";const M=Object(O.a)(x),j=v(U=>{let{channelId:B,onConfirm:Y,closeModal:z}=U;const F=Object(c.a)(ge=>Object(g.c)(ge,B));var V;const L=Object(c.a)(ge=>{var J,H;return(V=(J=Object(E.d)(ge,B))===null||J===void 0||(H=J.counts)===null||H===void 0?void 0:H.member_count)!==null&&V!==void 0?V:0}),Q=Object(c.a)(ge=>Object(y.u)(ge,"huddles_show_shouty_rooster")),[ee,te]=Object(s.useState)(Q),le=Object(a.useDispatch)(),Oe=F&&Object(r.b)(F)&&t.a.createElement("strong",null,t.a.createElement(o.a,{channelId:B,channel:F})),he=L>1?T.rt("You\u2019ll be starting a huddle that all {count} members of {channel} can join.",{count:t.a.createElement("strong",null,L),channel:Oe}):T.rt("You\u2019ll be starting a huddle that every member of {channel} can join.",{channel:Oe}),Ee=Object(s.useCallback)(()=>{const ge=!ee;te(ge),le(Object(C.f)({pref:"huddles_show_shouty_rooster",value:ge}))},[ee,le]);return t.a.createElement(R,{uiComponentName:b.UiComponentName.HUDDLES_SHOUTY_ROOSTER_DIALOG,title:T.t("Start a huddle in this channel?"),onConfirm:Y,closeModal:z},t.a.createElement("p",null,he),t.a.createElement(l.b,{text:T.t("Don\u2019t show this message again."),type:"inline",cursor:"pointer"},t.a.createElement(u.a,{name:"ns",checked:!ee,onChange:Ee})))},"HuddleShoutyRoosterModal");j.displayName="HuddleShoutyRoosterModal";const W=Object(O.a)(j)},vSKv:function(K,n,e){"use strict";e.d(n,"c",function(){return d}),e.d(n,"e",function(){return O}),e.d(n,"b",function(){return m}),e.d(n,"d",function(){return g});var s=e("fujP"),t=e("XIp8"),a=e("4Ok1"),r=e("m8R6"),c=e("Kyco"),o=e("2VFn"),i=e("l2Je");const l=100,u={},f={persistenceEnabled:!1,storeKey:"windowHistory"};function d(p){let{windowState:h,entry:_}=p;const b=h?h.stack:[],I=Object(s.a)(b)?null:1;return{stack:[Object(t.a)(_)].concat(b).slice(0,l),index:0,previousIndex:I}}v(d,"handlePushHistoryEntryForWindow");function O(p){let{windowState:h,index:_,previousIndex:b}=p;return{stack:h.stack,index:_,previousIndex:b}}v(O,"handleUpdateIndexForWindow");function m(p){let{windowState:h,index:_}=p;return{stack:Object(a.a)(h.stack,_),index:h.index,previousIndex:null}}v(m,"handlePopHistoryAboveIndexForWindow");function g(p){let{windowState:h,entry:_}=p;const b=[...h.stack];return b[h.index]=Object(t.a)(_),{...h,stack:b}}v(g,"handleReplaceCurrentHistoryEntryForWindowInternal");const E=Object(c.b)({},u,f).on(i.c,(p,h)=>{let{windowId:_,entry:b}=h;return!_||!b?p:{...p,[_]:d({windowState:p[_],entry:b})}}).on(i.d,(p,h)=>{let{windowId:_}=h;return Object(r.a)(p,_)}).on(i.h,(p,h)=>{let{windowId:_,index:b,previousIndex:I}=h;return{...p,[_]:O({windowState:p[_],index:b,previousIndex:I})}}).on(i.f,(p,h)=>{let{windowId:_,viewSet:b}=h;return{...p,[_]:{stack:[Object(t.a)(b)],index:0,previousIndex:null}}}).on(i.b,(p,h)=>{let{windowId:_,index:b}=h;return p[_]?{...p,[_]:m({windowState:p[_],index:b})}:p}).on(i.e,(p,h)=>{let{windowId:_,entry:b}=h;return p[_]?{...p,[_]:g({windowState:p[_],entry:b})}:p}).on(i.g,(p,h)=>{let{windowId:_,viewParams:b,index:I}=h;if(!p[_])return p;const y=[...p[_]?p[_].stack:[]];if(!y[I])return p;const P=Object(t.a)(y[I]),T=P[o.h.Primary];if(!(T!=null&&T.id))return p;const S={...P,[o.h.Primary]:{...T,params:{...T.params,...b}}};return y[I]=S,{...p,[_]:{...p[_],stack:y}}});n.a=E},vYXD:function(K,n,e){"use strict";e.d(n,"d",function(){return l}),e.d(n,"b",function(){return u}),e.d(n,"c",function(){return f}),e.d(n,"a",function(){return d}),e.d(n,"g",function(){return O}),e.d(n,"f",function(){return g}),e.d(n,"e",function(){return E});var s=e("8f+r"),t=e("BeUZ"),a=e("kBpe"),r=e("vfQU"),c=e("G5NC"),o=e("nNoG");const i=new o.b("calls_wrong_build");function l(){if(!Object(a.i)())return!1;const h=Object(r.B)();return m(h,{major:4,minor:13,patch:0})}v(l,"isWrongGantryHuddlesBuild");function u(){if(!Object(a.i)())return!1;const h=Object(r.B)();return h.major<4?h.minor<4?m(h,{major:3,minor:3,patch:7}):m(h,{major:3,minor:4,patch:0,prerelease:"alpha3"}):h.prerelease&&(h.prerelease.startsWith("sonic")||h.prerelease.startsWith("alpha2"))?!1:m(h,{major:4,minor:0,patch:0,prerelease:"alpha1190201"})}v(u,"isWrongGantryCallsBuild");const f=v(()=>{if(Object(a.i)())return!1;if(Object(a.m)()){if(!(Object(a.p)()||Object(a.x)()))return!0;const _=87;return Number(Object(a.d)().split(".")[0])<_}return!Object(a.h)()},"isWrongGantryHuddlesBrowser");function d(){return Object(a.i)()?!1:!Object(a.h)()}v(d,"isWrongGantryCallsBrowser");function O(){return Object(c.a)()||(Object(a.i)()?!u():!d())}v(O,"useGantryCalls");function m(h,_){const b=Object(t.a)(h,_),I=b<0,C=b>0;return I?!0:C||!h.prerelease?!1:_.prerelease?h.prerelease<_.prerelease:!0}v(m,"isPrereleaseVersionOlder");function g(h){return p(h,i.t("Unfortunately, this version of Slack is out of date. Update your Slack app for access to calls &mdash; as well as bug fixes and an all-around smoother experience.",{fallbackHash:"15f4227e116c3dce202df6486303491344a6350d",fallbackHashNs:"utility"}))}v(g,"sendEphemeralMessageWithCorrectBuildInfo");function E(h){return p(h,i.t("Unfortunately, Slack calls aren't available in this browser. We recommend downloading the Slack desktop app, or you can switch to Chrome.",{fallbackHash:"c3316caea826cdc00385e8aca03517944038abcc",fallbackHashNs:"utility"}))}v(E,"sendEphemeralMessageWithCorrectBrowserInfo");function p(h,_){return Object(s.b)({temporary:!0,message:{text:_,channel:h}})}v(p,"sendEphemeralMessage")},"vd/O":function(K,n,e){"use strict";var s=e("fujP"),t=e("Z0Cl"),a=e("s4P+"),r=e("ykb+");n.a=function(){let c=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];if(Object(s.a)(c))return!1;const o=Object(t.a)(c,i=>(i&&!i.message&&Object(r.b)()&&Object(a.b)({label:"Invalid Error or Hint Object"}).error(`The following error or hint object is invalid: { id: ${i.id}, message: ${i.message}}`),i&&!!i.message));return!Object(s.a)(o)}},vhAc:function(K,n,e){"use strict";e.d(n,"a",function(){return o}),e.d(n,"c",function(){return i}),e.d(n,"b",function(){return l});var s=e("7EGn"),t=e("n3tL"),a=e("2XU3"),r=e("WCk1"),c=e("zFGr");const o=Object(r.a)("fetch a list of app actions",(u,f,d)=>u(Object(a.a)({method:"apps.actions.v2.list",args:{resource_id:d,resource_type:"team",action_type:"message_action"},reason:"list-message-actions"})).then(O=>Object(s.a)(O,"app_actions",{})));o.meta={name:"createFetcher",key:"createFetcherfetchAppActions",description:"fetch a list of app actions"},o.propTypes={teamId:t.default.string};const i=Object(r.a)("run an app action",function(u,f){let{type:d,actionId:O,appId:m,channelId:g,messageTs:E,reason:p,clientToken:h}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return u(Object(a.a)({method:"apps.actions.run",args:{action_id:O,type:d,app_id:m,channel:g,message_ts:E,client_token:h??c.a.generateAndEnqueue(f())},reason:p??"run-app-action"}))});i.meta={name:"createFetcher",key:"createFetcherrunAppAction",description:"run an app action"},i.propTypes={type:t.default.string,actionId:t.default.string,appId:t.default.string,channelId:t.default.string,messageTs:t.default.string};const l=Object(r.a)("fetch a list of app actions for a given resource",(u,f,d)=>{let{resourceType:O,resourceId:m}=d;return u(Object(a.a)({method:"apps.actions.listForResource",args:{resource_type:O,resource_id:m},reason:"fetch-app-actions-for-resource"})).then(g=>Object(s.a)(g,"actions",[]))});l.meta={name:"createFetcher",key:"createFetcherfetchAppActionsForResource",description:"fetch a list of app actions for a given resource"},l.propTypes={resourceType:t.default.oneOf(["channel"]).isRequired,resourceId:t.default.string.isRequired}},vjDR:function(K,n,e){"use strict";e.d(n,"a",function(){return u});var s=e("4Lve"),t=e("JN2d"),a=e("PPXH"),r=e("LqbL"),c=e("lhZz"),o=e("t4eE"),i=e("Z7Ay"),l=e("7xYR");function u(d){if(!d||Object(c.getClientStoreInstance)())return;const O=Object(a.a)(),m=Object(o.b)()?Object(s.a)():[d],g=Object(t.a)();O.dispatch(Object(r.initialize)({focusedWorkspace:d,allWorkspaces:m,workspacesMeta:g})),f()}v(u,"initializeClientStore");function f(){const d=Object(c.getClientStoreInstance)();Object(i.a)("clientStore",d),Object(i.b)("teamIds",()=>{const m=d.getState();return l.getAllWorkspaces(m)}),Object(i.b)("activeTeam",()=>{const m=d.getState(),g=l.getFocusedWorkspace(m);return window.slackDebug[g]}),Object(i.b)("activeTeamId",()=>{const m=d.getState();return l.getFocusedWorkspace(m)}),Object(i.b)("activeEnterprise",()=>{var m,g;const E=d.getState(),p=(m=l.getWorkspacesMeta(E))===null||m===void 0||(g=m[l.getFocusedWorkspace(E)])===null||g===void 0?void 0:g.enterprise_id;return window.slackDebug[p]});const O={};Object.keys(r).forEach(m=>{O[m]=function(){for(var g=arguments.length,E=new Array(g),p=0;p<g;p++)E[p]=arguments[p];return d.dispatch(r[m](...E))}}),Object.keys(l).forEach(m=>{O[m]=function(){for(var g=arguments.length,E=new Array(g),p=0;p<g;p++)E[p]=arguments[p];return l[m](d.getState(),...E)}}),Object(i.a)("clientStore.workspaces",O)}v(f,"setupClientStoreDebugger")},vkL2:function(K,n,e){"use strict";e.d(n,"a",function(){return t});var s=e("DwFS");const t=Object(s.a)("Set the last executed encoded search string");t.meta={name:"createAction",key:"createActionsetLastExecutedEncodedSearchString",description:"Set the last executed encoded search string"}},vlVB:function(K,n,e){K.exports=e.p+"ava_0002-32-798f043.png"},vlz8:function(K,n,e){"use strict";e.d(n,"a",function(){return i});var s=e("qAkX"),t=e("SQ0V"),a=e("Jhy3"),r=e("SRu2"),c=e("Bi0v"),o=e("8Xig");const i=Object(t.c)("Add or update the last ephemeral message of a certain type",(l,u,f)=>{let{ephemeralType:d,message:O,ignoreExistingMessage:m=!1}=f;const g=u(),E=O.channel,p=O.thread_ts;if(d){const h=d&&Object(s.a)(Object(o.a)(g,{ephemeralType:d,channelId:E,threadTs:p}));if(h&&h.ts&&!m){l(Object(a.a)([{...Object(r.a)(g,O),ts:h.ts,channel:E,thread_ts:p}]));return}}l(Object(c.a)({ephemeralType:d,message:O}))});i.meta={name:"createThunk",key:"createThunkaddOrFlashEphemeralBotMsg",description:"Add or update the last ephemeral message of a certain type"}},vobO:function(K,n,e){"use strict";e.d(n,"b",function(){return s}),e.d(n,"a",function(){return t}),e.d(n,"c",function(){return a}),e.d(n,"d",function(){return l});const s="quipDragActionStart",t="quipDragActionEnd",a={MESSAGE:"MESSAGE",FILE:"FILE"},r=["CGVPKJ732","C02CZ316NAE","C031ED1LE6N","CUN5FJ9K3","C036PC7LYDN","C03FSC27Y","C7WEVLBFD","C031FEDELTF","C02HSRQJA0G","C038E90MF89","C03HNDEBJ7P","C02AK19M0M7","CP97CB7M3","C02PAAR6F0X","C01GDFXTM53","C02L5LJ4P88","C032SMNP9SL","C013LBE0VEJ","C02TS9TTGQJ","C03JEG5LXRN","C038AKRBELX","C0RBK4C30","C03KA2UGEUW","C024JREV2","C5JN6JH7V","C9TA80XUP","C02P3CWDTQD","G7MNYNEEQ","C02RXGQ12","C022VMCAVM0","C03C9GNABQW","C8VC8PMGX","C032G1PGPSQ","C03MU9BG8R3","C8EMTMR8E","C0234ENH8GP","CHC9ZBVS8","G01QBU928N7","C03N560HYCF","C03NCFWC8RG","C7LTMBHJQ","C031DBS4F89","C02LLQZEMR9","C02KYGEPTAP","C03NMLTU61K","C03NR3REESH","C02LH2JR8H3","C03NH526JJY","CJNPK1Z1S","CG61RJUF3","C03BDCULXED","C03P41F7SE8","CEL19537T","C015C3SNKEX","C03PZJCTTMX","C021T5Z7DM1","C01JZCLJ77G","C03PY2QUZ97","C03QVMJQUAZ","C03NSC6P4A1","C03FZ6VB1HV","C0400H23HFB","C03RU0UTNU8","C041Q4FCX6Y","C041JMS0FC5","C0449M12T3J","C039VEST9L6","C03R1C5N5GD","C03RK099TM3","C031ED1LE6N","C03T69J3KED","C02RPFYBQMS","C03PEA6FVHR","CSM3ZGUD8","C0406DDK5S5","C03VCECFTNF","C02NF7TCG7P","C041NLJV7LJ","C010FCB4HB8","C010FCB4HB8","C01RREFNRMZ","G5232P7CY","C046CJ0E4DQ","C046EFE8EDV","C0470KJFP2M","C046FHE18SJ","C046K4M3GA1","C042F6AS3ED","C045GF868F3","C052G3F2Q81"],c="p-quip_popout_modal",o="p-quip_popout_modal",i={DEFAULT_HEIGHT:770,DEFAULT_WIDTH:970,POSITION_OFFSET:60,CHILD_WINDOW_BAR_HEIGHT:70},l="quip-child-window-"},vr9t:function(K,n,e){"use strict";e.d(n,"e",function(){return l}),e.d(n,"d",function(){return u}),e.d(n,"c",function(){return f}),e.d(n,"f",function(){return d}),e.d(n,"a",function(){return O}),e.d(n,"b",function(){return m});var s=e("AFNo"),t=e("O86Y"),a=e("UIhb"),r=e("JQ3U"),c=e("dmdh"),o=e("YKhI"),i=e("8z+9");const l=Object(s.c)(function(E,p){let{refetchIfNeeded:h=!0}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(h){const _=Object(t.g)(E);Object(o.a)().maybeRefetch(_,p)}return E&&E.pins&&E.pins.pinsByChannel[p]});l.meta={name:"createSelector",key:"createSelectorgetPinnedItemsForChannel",description:function(E,p){let{refetchIfNeeded:h=!0}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(h){const _=Object(t.g)(E);Object(o.a)().maybeRefetch(_,p)}return E&&E.pins&&E.pins.pinsByChannel[p]}};const u=Object(s.c)((E,p)=>{var h,_;return E&&E.pins&&E.pins.pinsByChannel[p]?(h=E.pins.pinsByChannel)===null||h===void 0||(_=h[p])===null||_===void 0?void 0:_.length:0});u.meta={name:"createSelector",key:"createSelectorgetPinCountForChannel",description:(E,p)=>{var h,_;return E&&E.pins&&E.pins.pinsByChannel[p]?(h=E.pins.pinsByChannel)===null||h===void 0||(_=h[p])===null||_===void 0?void 0:_.length:0}};const f=Object(s.c)((E,p)=>E&&E.pins&&E.pins.loadingStateByChannel[p]);f.meta={name:"createSelector",key:"createSelectorgetLoadingState",description:(E,p)=>E&&E.pins&&E.pins.loadingStateByChannel[p]};const d=Object(s.c)((E,p)=>{let{channelId:h,ts:_}=p;const b=!1,I=Object(a.b)(E,h,_,b);if(!I)return!1;if(Object(r.e)(I)&&I.comment){const C=Object(c.e)(E,I.file,I.comment.id);return C?!!(C.pinned_to&&C.pinned_to.includes(h)):!1}return!!(I.pinned_to&&I.pinned_to.includes(h))});d.meta={name:"createSelector",key:"createSelectorisMessagePinned",description:(E,p)=>{let{channelId:h,ts:_}=p;const b=!1,I=Object(a.b)(E,h,_,b);if(!I)return!1;if(Object(r.e)(I)&&I.comment){const C=Object(c.e)(E,I.file,I.comment.id);return C?!!(C.pinned_to&&C.pinned_to.includes(h)):!1}return!!(I.pinned_to&&I.pinned_to.includes(h))}};const O=v((E,p)=>{switch(p.type){case i.a.MESSAGE:return{...Object(a.b)(E,p.channel,p.ts),type:i.a.MESSAGE};case i.a.FILE:return{...Object(c.c)(E,p.id),type:i.a.FILE};case i.a.FILE_COMMENT:return{...Object(c.e)(E,p.fileId,p.id),fileId:p.fileId,type:i.a.FILE_COMMENT};default:return{}}},"getItemWithPinIdentifier"),m=Object(s.c)((E,p)=>{const h=l(E,p);return h?h.map(_=>O(E,_)):[]});m.meta={name:"createSelector",key:"createSelectorgetItemsMappedFromPins",description:(E,p)=>{const h=l(E,p);return h?h.map(_=>O(E,_)):[]}};const g=Object(s.c)(E=>E&&E.pins&&E.pins.popoverScrollTop);g.meta={name:"createSelector",key:"createSelectorgetPopoverScrollTop",description:E=>E&&E.pins&&E.pins.popoverScrollTop}},vsbg:function(K,n,e){"use strict";e.d(n,"a",function(){return s});const s=v(function(t){let{channelId:a,ts:r,threadTs:c,viewContext:o}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};t.warn("UNSAVED-EDITS",`unsaved edit in ${a}, ts: ${r}, threadTs: ${c}, viewContext: ${o}`)},"logWarning")},vws0:function(K,n,e){"use strict";e.d(n,"a",function(){return l});var s=e("SQ0V"),t=e("vkL2"),a=e("ohbk"),r=e("TU0B"),c=e("rZ8V"),o=e("I0j/"),i=e("37+L");const l=Object(s.c)("Adds a search history item and updates the url with its id",function(u,f){let{isSearchInSidebar:d=!1}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const O=f(),m=Object(r.a)(O),g=Object(c.g)(O);if(m){if(u(Object(t.a)({value:m})),g){u(Object(o.a)(Object(i.S)(m)));return}d||u(Object(a.a)({id:"Psearch",routeParams:{searchQuery:m}}))}});l.meta={name:"createThunk",key:"createThunkrunSearchFromReduxState",description:"Adds a search history item and updates the url with its id"}},w0jh:function(K,n,e){K.exports=e.p+"you_left_call_v2-7994bfa.mp3"},w2SD:function(K,n,e){"use strict";e.d(n,"a",function(){return c}),e.d(n,"c",function(){return o});var s=e("ivW5"),t=e("vLZU");const a={storeKey:"channelLoading",persistenceEnabled:!1,scope:t.k.orgShared},{reducer:r,actions:c,selectors:o}=Object(s.a)(a,{idKey:"channelId",transform:i=>{const{channelId:l,...u}=i;return{id:l,object:u}}});n.b=r},"w3c/":function(K,n,e){"use strict"},wA9Q:function(K,n,e){"use strict";e.d(n,"a",function(){return a});var s=e("fujP"),t=e("Oy0v");function a(r,c){if(!c||Object(s.a)(c))return{name:r};const o=Object(t.a)(r);if(!o)return{name:r};const{name:i,skinTone:l}=o,u=c[i];if(!u||Object(s.a)(u))return{name:r};const f=u.display_alias,d=f??i,O=l?`:${d}::skin-tone-${l}:`:`:${d}:`,m=u.display_url;return{name:O,url:m}}v(a,"getEmojiDisplayInfoFromMap")},wCNw:function(K,n,e){"use strict";e.d(n,"b",function(){return f}),e.d(n,"a",function(){return O});var s=e("Lgge"),t=e("9Gfp"),a=e("O86Y"),r=e("U3eH"),c=e("n0Pp"),o=e("SQ0V"),i=e("4d+W");const l={},u={};function f(g){if(!Object(t.p)(g))return s.a.reject(new Error("Socket intentionally disabled in this app"));if(Object(c.f)(g))return s.a.resolve();const E=Object(a.g)(g);return E?(l[E]||(l[E]=new s.a(p=>{u[E]=p})),l[E]):s.a.reject(new Error("Failed to get teamId"))}v(f,"promiseToHaveOpenWebSocket");const d=Object(o.c)("Maybe resolve promise to have open websocket",(g,E)=>{const p=Object(a.g)(E());p&&u[p]&&(u[p](),u[p]=void 0,l[p]=void 0)});d.meta={name:"createThunk",key:"createThunkmaybeResolveOpenWebSocketPromise",description:"Maybe resolve promise to have open websocket"};const O=Object(i.c)([r.a,r.d],d),m={openWebSocketPromiseByTeam:l,openWebSocketResolveByTeam:u,maybeResolveOpenWebSocketPromise:d}},wGfi:function(K,n,e){"use strict";e.d(n,"a",function(){return i});var s=e("Qrgz"),t=e("E3dU"),a=e("xwCZ"),r=e("6etV"),c=e("miM7"),o=e("9Gfp");const i=v((l,u)=>{const f=Object(t.z)(l,u)&&Object(t.c)(l,u)||void 0;if(!u||!f||!Object(c.a)(f))return!1;if(!Object(o.m)(l))return Object(s.c)(l,u);const d=Object(a.d)(l);return Object(s.c)(l,u)&&!Object(r.a)(l,f==null?void 0:f.id,d.id)},"canUserAtEveryoneInChannelById")},wHDZ:function(K,n,e){"use strict";e.d(n,"a",function(){return r});var s=e("SQ0V"),t=e("59uo"),a=e("AO5M");const r=Object(s.c)("Push a fresh history entry",(c,o,i)=>{let{key:l,tile:u,activeTile:f}=i;const d=o(),O=l||Object(t.b)(d);O&&(f&&c(Object(a.c)({tileKey:O,tile:f})),c(Object(a.a)({tileKey:O,tile:u})))});r.meta={name:"createThunk",key:"createThunkpushHistoryEntry",description:"Push a fresh history entry"}},wVLq:function(K,n,e){"use strict";e.d(n,"a",function(){return s});var s;(function(t){t.JOIN="JOIN",t.LEAVE="LEAVE",t.SCREENSHARE_START="SCREENSHARE_START",t.SCREENSHARE_STOP="SCREENSHARE_STOP",t.TRANSCRIBE="TRANSCRIBE",t.SEND_REACTION="SEND_REACTION",t.START_TRANSCRIPTION="START_TRANSCRIPTION"})(s||(s={}))},wY8X:function(K,n,e){"use strict";var s=e("q1tI"),t=e.n(s),a=e("Muja"),r=e("fujP"),c=e("zxER"),o=e("/qcS"),i=e("FlEr"),l=e("wA9Q");function u(f){let{memberId:d,className:O,emoji:m,emojiSize:g,showTooltips:E,stopAnimations:p}=f;const h=Object(c.a)(I=>Object(i.a)(I,d),a.a);if(!d||!m)return null;const{name:_=m,url:b=void 0}=h?Object(l.a)(m,Object(r.a)(h)?void 0:h):{};return t.a.createElement(o.b,{className:O,emojiSize:g||o.a.SMALL,iconInTextMode:!0,isEmojiInlineWithText:!0,showTooltip:!!E,stopAnimations:!!p,text:_,url:b})}v(u,"CustomStatusEmoji"),u.displayName="CustomStatusEmoji",n.a=t.a.memo(u)},"wb/b":function(K,n,e){K.exports=e.p+"bop-61dbe26.mp3"},whaK:function(K,n,e){"use strict";e.d(n,"a",function(){return a});var s=e("kBpe"),t=e("jlKB");function a(r){let{forceDisplay:c}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return Object(t.a)(r)&&!c?"as_text":Object(s.p)()?"apple":"google"}v(a,"getEmojiMode")},wlwd:function(K,n,e){"use strict";e.d(n,"a",function(){return o});var s=e("SQ0V"),t=e("u43d"),a=e("GYPw"),r=e("WUSA"),c=e("j77i");const o=Object(s.c)("Set the pref for the sound that plays when a message arrives to the focused conversation",(i,l,u)=>{if(Object(t.a)(l()))try{Object(c.v)(a.b,u)}catch{}i(Object(r.c)(u))});o.meta={name:"createThunk",key:"createThunksetPersistentConversationIncomingMessageAnnouncement",description:"Set the pref for the sound that plays when a message arrives to the focused conversation"}},wnRj:function(K,n,e){"use strict";e.d(n,"b",function(){return t}),e.d(n,"a",function(){return a});var s=e("ZKjC");const t=Object(s.b)((r,c)=>{var o;return r==null||(o=r.contextBar)===null||o===void 0?void 0:o.timeZoneIsShowing[c]});t.meta={name:"createSelector",key:"createSelectorisContextBarTimeZoneShowingForChannelId",description:(r,c)=>{var o;return r==null||(o=r.contextBar)===null||o===void 0?void 0:o.timeZoneIsShowing[c]}};const a=Object(s.b)((r,c)=>{var o,i;return r==null||(o=r.contextBar)===null||o===void 0||(i=o.dndOverride)===null||i===void 0?void 0:i[c]});a.meta={name:"createSelector",key:"createSelectorgetContextBarDndOverrideForChannelId",description:(r,c)=>{var o,i;return r==null||(o=r.contextBar)===null||o===void 0||(i=o.dndOverride)===null||i===void 0?void 0:i[c]}}},wnwW:function(K,n,e){"use strict";var s=e("DwFS");const t=Object(s.a)("Triggers a side-effect that opens a specific modal for the launch_modal space in our Megaphone framework");t.meta={name:"createAction",key:"createActiononLaunchModalMegaphoneDataLoadedCircular",description:"Triggers a side-effect that opens a specific modal for the launch_modal space in our Megaphone framework"},n.a=t},woMp:function(K,n,e){"use strict";var s=e("q1tI"),t=e.n(s),a=e("iuhU"),r=e("VFSv"),c=e("sGXp"),o=e("E97Y"),i=e("zxER"),l=e("zMr6");function u(){return u=Object.assign||function(O){for(var m=1;m<arguments.length;m++){var g=arguments[m];for(var E in g)Object.prototype.hasOwnProperty.call(g,E)&&(O[E]=g[E])}return O},u.apply(this,arguments)}v(u,"_extends");function f(O){let{size:m=c.a.medium,className:g,channel:E,showDraftIcon:p=!1,showFilledIcon:h=!1}=O;const _=Object(o.o)(E),b=Object(i.a)(I=>Object(l.b)(I,E,{filled:h,showDraftIcon:p}));return m!==c.a.small&&(b.inline=!0),t.a.createElement("span",{className:Object(a.default)("c-channel_icon",{"c-channel_icon--unknown":_,"c-channel_icon--with-background":m!==c.a.small},g),"data-channel-type-icon":(b==null?void 0:b.name)||"unknown"},!_&&t.a.createElement(r.a,u({},m===c.a.small?{size:"18"}:{},b)))}v(f,"ChannelIcon"),f.displayName="ChannelIcon";var d=n.a=f},ww7Y:function(K,n,e){"use strict";var s=e("q1tI"),t=e.n(s),a=e("iuhU"),r=e("nNoG"),c=e("A7Fl");function o(){return o=Object.assign||function(u){for(var f=1;f<arguments.length;f++){var d=arguments[f];for(var O in d)Object.prototype.hasOwnProperty.call(d,O)&&(u[O]=d[O])}return u},o.apply(this,arguments)}v(o,"_extends");const i=new r.b("members");function l(u){let{className:f,inverse:d=!1,isWorkflow:O=!1,...m}=u;const g=Object(a.default)(f,"c-app_badge",{"c-app_badge--inverse":d});return t.a.createElement("span",o({},m,{className:g,"data-stringify-suffix":" "}),O?i.t("WORKFLOW",{fallbackHash:"aa16061e7815ca19a57c9db8f84c9601b739f570"}):i.t("APP"))}v(l,"AppBadge"),l.displayName="AppBadge",n.a=Object(s.memo)(l)},"x+oO":function(K,n,e){"use strict";e.d(n,"f",function(){return r}),e.d(n,"d",function(){return c}),e.d(n,"e",function(){return o}),e.d(n,"c",function(){return i}),e.d(n,"b",function(){return l}),e.d(n,"a",function(){return u});var s=e("ZKjC"),t=e("O86Y"),a=e("OW01");const r=Object(s.b)((f,d)=>{var O,m;return Object(a.c)(Object(t.g)(f),d),(f==null||(O=f.extSharedChannelTeams)===null||O===void 0||(m=O[d])===null||m===void 0?void 0:m.connections)||[]});r.meta={name:"createSelector",key:"createSelectorgetTeamConnectionsForChannelId",description:(f,d)=>{var O,m;return Object(a.c)(Object(t.g)(f),d),(f==null||(O=f.extSharedChannelTeams)===null||O===void 0||(m=O[d])===null||m===void 0?void 0:m.connections)||[]}};const c=Object(s.b)((f,d)=>{var O,m;return Object(a.c)(Object(t.g)(f),d),(f==null||(O=f.extSharedChannelTeams)===null||O===void 0||(m=O[d])===null||m===void 0?void 0:m.pendingConnections)||[]});c.meta={name:"createSelector",key:"createSelectorgetPendingTeamConnectionsForChannelId",description:(f,d)=>{var O,m;return Object(a.c)(Object(t.g)(f),d),(f==null||(O=f.extSharedChannelTeams)===null||O===void 0||(m=O[d])===null||m===void 0?void 0:m.pendingConnections)||[]}};const o=Object(s.b)((f,d)=>{var O,m;return Object(a.c)(Object(t.g)(f),d),(f==null||(O=f.extSharedChannelTeams)===null||O===void 0||(m=O[d])===null||m===void 0?void 0:m.previousConnections)||[]});o.meta={name:"createSelector",key:"createSelectorgetPreviousTeamConnectionsForChannelId",description:(f,d)=>{var O,m;return Object(a.c)(Object(t.g)(f),d),(f==null||(O=f.extSharedChannelTeams)===null||O===void 0||(m=O[d])===null||m===void 0?void 0:m.previousConnections)||[]}};const i=Object(s.b)((f,d)=>{var O,m;return Object(a.c)(Object(t.g)(f),d),f==null||(O=f.extSharedChannelTeams)===null||O===void 0||(m=O[d])===null||m===void 0?void 0:m.conversationHostId});i.meta={name:"createSelector",key:"createSelectorgetConversationHostTeamIdForChannelId",description:(f,d)=>{var O,m;return Object(a.c)(Object(t.g)(f),d),f==null||(O=f.extSharedChannelTeams)===null||O===void 0||(m=O[d])===null||m===void 0?void 0:m.conversationHostId}};const l=Object(s.b)((f,d)=>{var O,m;return d?(Object(a.c)(Object(t.g)(f),d),!!(!(f==null||(O=f.extSharedChannelTeams)===null||O===void 0||(m=O[d])===null||m===void 0)&&m.isChannelSponsored)):!1});l.meta={name:"createSelector",key:"createSelectorgetChannelIsSponsored",description:(f,d)=>{var O,m;return d?(Object(a.c)(Object(t.g)(f),d),!!(!(f==null||(O=f.extSharedChannelTeams)===null||O===void 0||(m=O[d])===null||m===void 0)&&m.isChannelSponsored)):!1}};const u=Object(s.b)((f,d)=>{var O,m,g,E,p,h,_,b,I;Object(a.c)(Object(t.g)(f),d);const C=(f==null||(O=f.extSharedChannelTeams)===null||O===void 0||(m=O[d])===null||m===void 0||(g=m.connections)===null||g===void 0?void 0:g.length)||0,y=(f==null||(E=f.extSharedChannelTeams)===null||E===void 0||(p=E[d])===null||p===void 0||(h=p.pendingConnections)===null||h===void 0?void 0:h.length)||0,P=(f==null||(_=f.extSharedChannelTeams)===null||_===void 0||(b=_[d])===null||b===void 0||(I=b.previousConnections)===null||I===void 0?void 0:I.length)||0;return C>1||y>0||P>0});u.meta={name:"createSelector",key:"createSelectordoesChannelHaveExternalTeamConnections",description:(f,d)=>{var O,m,g,E,p,h,_,b,I;Object(a.c)(Object(t.g)(f),d);const C=(f==null||(O=f.extSharedChannelTeams)===null||O===void 0||(m=O[d])===null||m===void 0||(g=m.connections)===null||g===void 0?void 0:g.length)||0,y=(f==null||(E=f.extSharedChannelTeams)===null||E===void 0||(p=E[d])===null||p===void 0||(h=p.pendingConnections)===null||h===void 0?void 0:h.length)||0,P=(f==null||(_=f.extSharedChannelTeams)===null||_===void 0||(b=_[d])===null||b===void 0||(I=b.previousConnections)===null||I===void 0?void 0:I.length)||0;return C>1||y>0||P>0}}},"x/ke":function(K,n,e){"use strict";e.d(n,"e",function(){return C}),e.d(n,"d",function(){return P}),e.d(n,"c",function(){return T}),e.d(n,"b",function(){return S}),e.d(n,"a",function(){return R});var s=e("ZKjC"),t=e("UOL+"),a=e("E3dU"),r=e("9I4P"),c=e("gVOt"),o=e("C3vN"),i=e("Nnn3"),l=e("O86Y"),u=e("TGfC"),f=e("xwCZ"),d=e("+ujC"),O=e("oTSI"),m=e("Kmpi"),g=e("uubn"),E=e("CQj+");const p=Object(O.a)(()=>new m.a({fetch:E.a,upsertKnown:g.a,upsertNonExistent:g.a,makeUnknownObject:h,makeNonExistentObject:_}));function h(M){const{serviceId:j,homeWorkspaceId:W}=Object(u.b)(M);return{id:M,isUnknown:!0,service_id:j,home_workspace_id:W,failed_home_workspace_ids:[]}}v(h,"makeUnknownAppProfileStub");function _(M){const{serviceId:j,homeWorkspaceId:W}=Object(u.b)(M);return{id:M,isNonExistent:!0,service_id:j,home_workspace_id:W,failed_home_workspace_ids:[W]}}v(_,"makeNonExistentAppProfileStub");var b=e("s4P+"),I;const C=Object(s.b)(M=>{var j;return(I=(j=Object(t.a)(M))===null||j===void 0?void 0:j.appProfiles)!==null&&I!==void 0?I:M==null?void 0:M.appProfiles});var y;C.meta={name:"createSelector",key:"createSelectorgetAppProfilesState",description:M=>{var j;return(y=(j=Object(t.a)(M))===null||j===void 0?void 0:j.appProfiles)!==null&&y!==void 0?y:M==null?void 0:M.appProfiles}};const P=Object(s.b)((M,j)=>{var W;return j&&((W=C(M))===null||W===void 0?void 0:W[j])||null});P.meta={name:"createSelector",key:"createSelectorgetAppProfileByServiceId",description:(M,j)=>{var W;return j&&((W=C(M))===null||W===void 0?void 0:W[j])||null}};const T=Object(s.b)(function(M){let{serviceId:j,homeWorkspaceId:W,memberId:U}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const B=P(M,j),Y=Object(l.h)(M),z=W||Y,F=Object(u.a)({serviceId:j,homeWorkspaceId:z}),V=B&&Object(m.c)(B)&&!B.failed_home_workspace_ids.includes(z);if(!B||V)return p().fetchObjectWithId(Y,F);if(Object(d.c)(Y,F),U&&!B.app_user){const L=Object(f.g)(M,U);return{...B,app_user:{id:L.id,username:Object(o.q)(L)}}}return B});T.meta={name:"createSelector",key:"createSelectorgetAppProfileByIds",description:function(M){let{serviceId:j,homeWorkspaceId:W,memberId:U}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const B=P(M,j),Y=Object(l.h)(M),z=W||Y,F=Object(u.a)({serviceId:j,homeWorkspaceId:z}),V=B&&Object(m.c)(B)&&!B.failed_home_workspace_ids.includes(z);if(!B||V)return p().fetchObjectWithId(Y,F);if(Object(d.c)(Y,F),U&&!B.app_user){const L=Object(f.g)(M,U);return{...B,app_user:{id:L.id,username:Object(o.q)(L)}}}return B}};const S=Object(s.b)((M,j)=>{if(!j)return Object(b.b)().error("Channel Id is undefined");const W=Object(a.c)(M,j),U=Object(c.a)(W),B=Object(f.g)(M,U),Y=Object(i.a)(M,B),z=Object(l.h)(M),F=Object(r.b)(B,z);return T(M,{serviceId:Y,homeWorkspaceId:F,memberId:U})});S.meta={name:"createSelector",key:"createSelectorgetAppProfileByChannelId",description:(M,j)=>{if(!j)return Object(b.b)().error("Channel Id is undefined");const W=Object(a.c)(M,j),U=Object(c.a)(W),B=Object(f.g)(M,U),Y=Object(i.a)(M,B),z=Object(l.h)(M),F=Object(r.b)(B,z);return T(M,{serviceId:Y,homeWorkspaceId:F,memberId:U})}};var A;const R=Object(s.b)((M,j)=>{var W;return(W=Object.values((A=C(M))!==null&&A!==void 0?A:{}).filter(U=>U.app_id===j))===null||W===void 0?void 0:W[0]});var x;R.meta={name:"createSelector",key:"createSelectorgetAppProfileByAppId",description:(M,j)=>{var W;return(W=Object.values((x=C(M))!==null&&x!==void 0?x:{}).filter(U=>U.app_id===j))===null||W===void 0?void 0:W[0]}}},x5cI:function(K,n,e){"use strict";var s=e("q1tI"),t=e.n(s),a=e("iuhU"),r=e("gSGL"),c=e("ifKl"),o=e("qDEp"),i=e("oEDn"),l=e("zNRp"),u=e("GWPn"),f=e("nNoG"),d=e("kBpe"),O=e("VFSv"),m=e("ktUG"),g=e("tv4y"),E=e("6FZx"),p=e("YiJ7"),h=e("Cfcg"),_=e("boyP");const b=new f.b("menu");let I=v(class extends s.Component{componentDidMount(){this.props.onMount&&this.props.onMount()}componentWillUnmount(){this.props.onUnmount&&this.props.onUnmount()}onSelected(T){var S,A;(A=(S=this.props).menuCallbackBefore)===null||A===void 0||A.call(S,T),this.props.onSelected(T),this.props.menuCallback(this.props.menuCallbackId,T)}determineMenuRole(){const{type:T}=this.props;switch(T){case g.a.radio:return"menuitemradio";case g.a.checkbox:return"menuitemcheckbox";default:return"menuitem"}}renderBadgeMaybe(){const{badgeLabel:T,badgeCount:S,badgeClassName:A,highlighted:R}=this.props;return S?t.a.createElement(l.b,{count:S,style:R?l.a.white:l.a.red}):T?t.a.createElement(u.a,{className:A},T):null}renderCaret(){return!this.props.withSubmenu||this.props.disabled?null:t.a.createElement("div",{className:"c-menu_item__submenu-indicator","data-qa":"menu_item_submenu_indicator",role:"presentation"},t.a.createElement(O.a,{name:"caret-right"}))}renderEnterMaybe(){const{showEnter:T,highlighted:S}=this.props;return!T||!S?null:t.a.createElement(i.a,{legacy:!0,type:"enter",className:"c-menu_item__enter","data-qa":"menu_item_enter",role:"presentation"})}renderCheckmarkMaybe(){const{type:T,checked:S,indeterminate:A}=this.props,R=T===g.a.radio||T===g.a.checkbox;return R&&A?t.a.createElement(i.a,{className:"c-menu_item__checkbox_dash","data-qa":"menu_item_checkbox_dash",type:"form-checkbox-dash",size:"inherit",inline:!0}):R&&S?t.a.createElement("div",{className:"c-menu_item__checkmark"},t.a.createElement(O.a,{name:"check",size:"16",inline:!0,"data-qa":"menu_item_checkmark"})):null}renderIconMaybe(){const{icon:T}=this.props;return T?t.a.createElement("div",{className:"c-menu_item__icon","data-qa":"menu_item_icon",role:"presentation"},T):null}renderLinkIconMaybe(){const{href:T,showLinkIndicatorIcon:S}=this.props;return S===!1||S!==!0&&!T?null:t.a.createElement("div",{className:"c-menu_item__link_icon","data-qa":"menu_item_link_icon",role:"presentation"},t.a.createElement(O.a,{name:"new-window","data-qa":"menu_item_link_indicator"}))}renderShortcutMaybe(){const{shortcut:T,containerSize:S,experimentSkResponsiveMenusGroupOn:A,isResponsive:R}=this.props;if(!T||A&&R&&S&&S.width<300)return null;if(!Object(r.a)(T)&&"label"in T){const{label:x}=T;if(x&&Object(r.a)(x))return t.a.createElement("div",{className:"c-menu_item__shortcut"},x)}return t.a.createElement("div",{className:"c-menu_item__shortcut"},T)}render(){const{autoClogProps:T,children:S,className:A,classNameListItem:R,danger:x,description:M,disabled:j,showOfflineIcon:W,highlighted:U,label:B,onMouseEnter:Y,onMouseLeave:z,href:F,target:V,download:L,type:Q,withSubmenu:ee,standaloneHoverEffect:te,checked:le,indeterminate:Oe,measureRef:he,containerSize:Ee,experimentSkResponsiveMenusGroupOn:ge,isResponsive:J,ariaDescribedBy:H,ariaLabel:Z}=this.props,q=Object(a.default)(A,"c-menu_item__button",{"c-menu_item__button--highlighted":U&&!j,"c-menu_item__button--danger":x,"c-menu_item__button--disabled":j,"c-menu_item__button--with_submenu":ee,"c-menu_item--button--subheader_child":Q===g.a.subheaderChild,"c-menu_item__button--checked":(Q===g.a.radio||Q===g.a.checkbox)&&(le||Oe),"c-menu_item--compact":Q===g.a.compactItem,"c-menu_item--standalone":te}),k=Object(a.default)(R,"c-menu_item__li",{"c-menu_item__li--highlighted":U}),se=Object(a.default)(R,"c-menu_item__label",{"c-menu_item__label--with_description":M}),re=ee?"true":void 0,X=M?t.a.createElement("div",{className:"c-menu_item__description"},M):"",w=this.props.activeMenuId,ce=this.props.featureSubmenuRoleDescription?b.t("submenu"):void 0,ie=Object(d.p)()&&ee?ce:void 0;return t.a.createElement("div",{ref:he,className:k,onMouseEnter:Y,onMouseLeave:z,"data-qa":`${this.props["data-qa"]}-wrapper`},t.a.createElement(o.d,{autoClogProps:{...T,elementType:m.ElementType.MENU_ITEM},ref:this.buttonRef,id:w,className:q,disabled:j,onClick:this.onSelected,href:F,target:V,download:L,"data-qa":this.props["data-qa"],role:this.determineMenuRole(),checked:le,"aria-checked":Oe?"mixed":le,"aria-haspopup":re,tabIndex:-1,"aria-roledescription":ie,"aria-describedby":H,"aria-label":Z},this.renderCheckmarkMaybe(),this.renderIconMaybe(),t.a.createElement("div",{className:se},B,S,!(ge&&J&&Ee&&Ee.width<300)&&X),this.renderShortcutMaybe(),this.renderBadgeMaybe(),this.renderCaret(),this.renderEnterMaybe(),this.renderLinkIconMaybe(),W&&t.a.createElement("div",{className:"c-menu_item__icon c-menu_item__icon--offline","data-qa":"menu_item_icon",role:"presentation"},t.a.createElement(i.a,{type:"cloud-offline-small"}))))}constructor(T){super(T),this.onSelected=this.onSelected.bind(this),this.buttonRef=t.a.createRef()}},"MenuItem");I.displayName="MenuItem",I.defaultProps={children:void 0,highlighted:!1,onMouseEnter:c.a,onMouseLeave:c.a,onSelected:c.a,menuCallback:c.a,menuCallbackBefore:c.a,menuCallbackId:null,className:"",classNameListItem:"",label:"",description:"",danger:!1,disabled:!1,showOfflineIcon:!1,href:null,showLinkIndicatorIcon:void 0,icon:null,shortcut:void 0,badgeCount:void 0,badgeLabel:void 0,badgeClassName:void 0,showEnter:!1,target:void 0,download:void 0,type:g.a.default,withSubmenu:!1,"data-qa":"menu_item_button",activeMenuId:void 0,standaloneHoverEffect:void 0,autoClogProps:void 0,checked:void 0,indeterminate:void 0,featureSubmenuRoleDescription:!1,group:void 0,experimentSkResponsiveMenusGroupOn:!1,isResponsive:!0,ariaDescribedBy:void 0,ariaLabel:void 0,onMount:c.a,onUnmount:c.a};const C={MenuItem:I},y=v(P=>({experimentSkResponsiveMenusGroupOn:Object(p.a)(P)}),"mapStateToProps");n.a=Object(E.b)(Object(h.a)(y)(Object(p.c)(I)))},xCPE:function(K,n,e){"use strict";e.d(n,"a",function(){return s}),e.d(n,"b",function(){return t});const s=32,t={TOP:6,LEFT:12}},xQ1x:function(K,n,e){"use strict";e.d(n,"a",function(){return o});var s=e("CpTu"),t=e("Bw5p"),a=e("1myf"),r=e("lE2N"),c=e("yJbr");function o(i,l){if(!i||!l)return l;const u=l.comments||[],f=Object(s.a)(u,h=>h.id===i.id),d=Object(t.a)(f,["is_starred","_rxn_key"]),O={...f,...i,...d},m=Object(a.a)(Object(r.a)([O,...u],"id"),"timestamp"),g=l.initial_comment&&i.id===l.initial_comment.id,E=g?O:l.initial_comment;f||Object(c.d)(l,i),g&&Object(c.c)(l);const p={...l,comments:m};return E&&(p.initial_comment=E),p}v(o,"addCommentToFile")},xU06:function(K,n,e){K.exports=e.p+"channel_message-d11d14d.mp3"},xY6W:function(K,n,e){"use strict";e.d(n,"a",function(){return l});var s=e("SQ0V"),t=e("HoeF"),a=e("QIbu"),r=e("PfQc"),c=e("gpLM"),o=e("HKlo"),i=e("SIMs");const l=Object(s.c)("closes the canvas within the huddle",(u,f)=>{Object(i.w)(f())&&u(Object(t.r)({isNotesOpen:!1})),u(Object(r.a)({peerId:"self",contentViewType:a.a.None})),u(Object(c.c)({focusKey:o.c.HUDDLE_TOP_TOOLBAR,forceFocus:!0}))});l.meta={name:"createThunk",key:"createThunkcloseHuddleCanvas",description:"closes the canvas within the huddle"}},xeGy:function(K,n,e){"use strict";var s=e("q1tI"),t=e.n(s),a=e("iuhU"),r=e("nNoG"),c=e("zxER"),o=e("G0eX"),i=e("beVI"),l=e("s9Q6"),u=e("/0Xg"),f=e("GiOu"),d=e("UjK0");function O(){return O=Object.assign||function(p){for(var h=1;h<arguments.length;h++){var _=arguments[h];for(var b in _)Object.prototype.hasOwnProperty.call(_,b)&&(p[b]=_[b])}return p},O.apply(this,arguments)}v(O,"_extends");const m=new r.b("trials"),g=v(p=>{let{badgeTheme:h=f.a.Purple,className:_,hideTooltip:b,uiComponentVariant:I,...C}=p;const y=Object(c.a)(i.g),P=Object(c.a)(S=>Object(l.e)(S)===u.i.standard.id);if(!(Object(o.C)(y)||P))return null;const T=m.t("PRO");return b?t.a.createElement(f.b,{autoClogProps:{uiComponentVariant:I},badgeTheme:h,className:_}):t.a.createElement(d.a,O({ariaLabel:T,uiComponentVariant:I},C),t.a.createElement("span",{className:Object(a.default)("p-trial_pro_badge",_),"data-qa":"trial_pro_badge"},t.a.createElement(f.b,{autoClogProps:{uiComponentVariant:I},badgeTheme:h})))},"TrialProBadge");g.displayName="TrialProBadge";var E=n.a=g},xt0X:function(K,n,e){"use strict";e.d(n,"c",function(){return r}),e.d(n,"a",function(){return o}),e.d(n,"b",function(){return l});const s=["B","KiB","MiB","GiB","TiB","PiB","EiB","ZiB","YiB"],t=["B","kB","MB","GB","TB","PB","EB","ZB","YB"],a=v(function(f,d,O){let m=arguments.length>3&&arguments[3]!==void 0?arguments[3]:2,g=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0;if(f===0)return 0;if(d===O)return parseFloat(f.toFixed(m));const E=g?1024:1e3,p=g?s:t,h=p.findIndex(b=>b.toLowerCase()===d.toLowerCase()),_=p.findIndex(b=>b.toLowerCase()===O.toLowerCase());if(h===-1)throw new Error(`Unknown currentType '${d}' passed to convertToSize`);if(_===-1)throw new Error(`Unknown desiredType '${O}' passed to convertToSize`);return h<_?parseFloat((f/E**(_-h)).toFixed(m)):parseFloat((f*E**(h-_)).toFixed(m))},"convertToSize"),r=v(function(f){let d=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"B",O=arguments.length>2&&arguments[2]!==void 0?arguments[2]:2,m=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!0;if(f===0)return{size:0,type:"B"};const g=m?1024:1e3,E=m?s:t;let p=Math.log(f)/Math.log(g);p<1&&(p=-Math.floor(Math.log(Math.abs(p))/Math.log(10)+1));const h=E.findIndex(b=>b.toLowerCase()===d.toLowerCase()),_=Math.max(Math.min(h+Math.floor(p),E.length-1),0);if(h===-1)throw new Error(`Unknown currentType '${d}' passed to convertToSize`);return{size:a(f,d,E[_],O,m),type:E[_]}},"convertToOptimumSize"),c=v(function(f){let d=arguments.length>1&&arguments[1]!==void 0?arguments[1]:2;return a(f,"B","KB",d,!1)},"convertBytesToKilobytes"),o=v(function(f){let d=arguments.length>1&&arguments[1]!==void 0?arguments[1]:2;return a(f,"B","MB",d,!1)},"convertBytesToMegabytes"),i=v(function(f){let d=arguments.length>1&&arguments[1]!==void 0?arguments[1]:2;return a(f,"B","GB",d,!1)},"convertBytesToGigabytes"),l=v(function(f){let d=arguments.length>1&&arguments[1]!==void 0?arguments[1]:2;return a(f,"KB","MB",d,!1)},"convertKilobytesToMegabytes"),u=v(function(f){let d=arguments.length>1&&arguments[1]!==void 0?arguments[1]:2;return a(f,"KB","GB",d,!1)},"convertKilobytesToGigabytes")},xvpf:function(K,n,e){"use strict";e.d(n,"a",function(){return s}),e.d(n,"b",function(){return t});var s;(function(a){a.BOOT_INITIAL_LOAD="boot:initial_load",a.BOOT_INITIAL_LOAD_HTML="boot:initial_load:html",a.BOOT_INITIAL_LOAD_JS="boot:initial_load:js",a.BOOT_TIME_TO_START_RENDER="boot:time_to_start_render",a.BOOT_TIME_TO_MOUNT_CLIENT="boot:time_to_mount_client"})(s||(s={}));var t;(function(a){a.COLD="cold",a.WARM="warm"})(t||(t={}))},y23z:function(K,n,e){"use strict";e.d(n,"a",function(){return d});var s=e("uZL6"),t=e("ZKjC"),a=e("UOL+"),r=e("i5Ig"),c,o;const i=Object(t.b)(O=>{var m;return(o=(c=(m=Object(a.a)(O))===null||m===void 0?void 0:m.links)!==null&&c!==void 0?c:O==null?void 0:O.links)!==null&&o!==void 0?o:r.b});var l,u;i.meta={name:"createSelector",key:"createSelectorgetLinksState",description:O=>{var m;return(u=(l=(m=Object(a.a)(O))===null||m===void 0?void 0:m.links)!==null&&l!==void 0?l:O==null?void 0:O.links)!==null&&u!==void 0?u:r.b}};const f=Object(t.b)((O,m)=>i(O)[m]);f.meta={name:"createSelector",key:"createSelectorgetLinkByUrl",description:(O,m)=>i(O)[m]};const d=Object(s.a)(i,O=>Object.values(O).filter(m=>!m.fileId).sort((m,g)=>(g.timestamp||0)-(m.timestamp||0)))},"yM+I":function(K,n,e){"use strict";var s=e("ZvnG");n.a=new s.a},yUYH:function(K,n,e){"use strict";e.d(n,"a",function(){return s});var s;(function(t){t.SpecificMembers="add-specific-members",t.AllMembers="add-all-members"})(s||(s={}))},yVpb:function(K,n,e){"use strict";e.d(n,"a",function(){return r});var s=e("q1tI"),t=e.n(s),a=e("SwdH");function r(c){const o=Object(a.a)(),i=Object(s.useRef)(c);i.current=c;const l=Object(s.useCallback)(function(){for(var d=arguments.length,O=new Array(d),m=0;m<d;m++)O[m]=arguments[m];o.info(i.current,...O)},[o]),u=Object(s.useCallback)(function(){for(var d=arguments.length,O=new Array(d),m=0;m<d;m++)O[m]=arguments[m];o.warn(i.current,...O)},[o]),f=Object(s.useCallback)(function(d){for(var O=arguments.length,m=new Array(O>1?O-1:0),g=1;g<O;g++)m[g-1]=arguments[g];o.error(d,i.current,...m)},[o]);return Object(s.useMemo)(()=>({info:l,warn:u,error:f}),[l,u,f])}v(r,"useEmbedLogger")},yZZd:function(K,n,e){"use strict";e.d(n,"b",function(){return t}),e.d(n,"a",function(){return a});var s=e("DwFS");const t=Object(s.a)("Update the last channel switch trigger");t.meta={name:"createAction",key:"createActionupdateChannelLastTrigger",description:"Update the last channel switch trigger"};const a=Object(s.a)("Update the last channel focus time");a.meta={name:"createAction",key:"createActionupdateChannelLastFocus",description:"Update the last channel focus time"}},ybyy:function(K,n,e){"use strict";e.d(n,"b",function(){return s}),e.d(n,"a",function(){return t});const s={openCount:0,unreadCount:0},t={issues:{},stats:s,locale:"",zdLocale:"",helpSearchArticles:[],productReleaseCards:[],recommendedArticles:{articles:[],requestId:""},helpSections:[],helpCategories:[],helpNavigation:{categoryId:null},helpTour:null,anchorId:null,isArticleLoaded:!1,isHelpTipHistoryTourActive:!1}},ybzm:function(K,n,e){K.exports=e.p+"save_and_checkout-adbd5c9.mp3"},yh68:function(K,n,e){"use strict";e.d(n,"a",function(){return ee});var s=e("9oTK"),t=e("Lgge"),a=e("q1tI"),r=e.n(a),c=e("ifKl"),o=e("Muja"),i=e("fujP"),l=e("fp5s"),u=e("BeL+"),f=e("bPB8"),d=e("OZf9"),O=e("CpTu"),m=e("F3Uw"),g=e("dYt1"),E=e("Z0Cl"),p=e("zmn3"),h=e("hbEN"),_=e("UXvI"),b=e("n3tL"),I=e("Cfcg"),C=e("s4P+"),y=e("yxNq"),P=e("nNoG");function T(te){return[...te.filter(le=>!le.isError&&!le.isUnknown),...te.filter(le=>!le.isError&&le.isUnknown),...te.filter(le=>le.isError)]}v(T,"sortTokens");var S=e("FeOl"),A=e("O86Y"),R=e("6ysl"),x=e("coh6"),M=e("pCrW"),j=e("MKPB"),W=e("5IZy"),U=e("ICFZ"),B=e("eUIW"),Y=e("bjy1"),z=e("G7vT"),F=e("Icpd");function V(){return V=Object.assign||function(te){for(var le=1;le<arguments.length;le++){var Oe=arguments[le];for(var he in Oe)Object.prototype.hasOwnProperty.call(Oe,he)&&(te[he]=Oe[he])}return te},V.apply(this,arguments)}v(V,"_extends");const L=Object(C.b)(),Q=new P.b("form_inputs");function ee(te){const le={searcherOptions:b.default.object.isRequired,selectId:b.default.string.isRequired,inputRef:b.default.object,isRequired:b.default.bool,selectedOptions:b.default.array,selectedOption:b.default.object,isExpanded:b.default.bool,isDisabled:b.default.bool,isInvalid:b.default.bool,focusOnMount:b.default.bool,searchOnPaste:b.default.bool,expandOnFocus:b.default.bool,expandOnClick:b.default.bool,searchBatchSize:b.default.number,debounceWaitPeriod:b.default.number,onFilterQueryPaste:b.default.func,onInputFocused:b.default.func,onSearch:b.default.func,onSearchError:b.default.func,onSearchResolved:b.default.func,onOptionsListClose:b.default.func,splitPastedQuery:b.default.func,processOptions:b.default.func,processSelectedOptions:b.default.func,clogger:b.default.object.isRequired,search:b.default.func.isRequired,teamId:b.default.string.isRequired,useSearcherSessions:b.default.bool,showConfirmDialog:b.default.func,restrictedSelectedTokenIndexes:b.default.array},Oe={isRequired:!0,selectedOptions:null,selectedOption:null,inputRef:null,isExpanded:!1,isDisabled:!1,isInvalid:!1,focusOnMount:!1,searchOnPaste:!1,expandOnFocus:void 0,expandOnClick:void 0,searchBatchSize:1,debounceWaitPeriod:50,onFilterQueryPaste:c.a,onInputFocused:c.a,onSearch:c.a,onSearchError:c.a,onSearchResolved:c.a,onOptionsListClose:c.a,splitPastedQuery:S.a,processOptions:J=>t.a.resolve(J),processSelectedOptions:void 0,useSearcherSessions:!1,showConfirmDialog:void 0,restrictedSelectedTokenIndexes:[]};let he=v(class extends a.Component{componentDidMount(){this.props.focusOnMount&&this.setState(()=>({isLoading:!0})),this.searchQuery(this.state.filterQuery)}componentDidUpdate(H,Z){const{isDisabled:q,isInvalid:k,selectedOptions:se,selectedOption:re,searchOnPaste:X,expandOnFocus:w,expandOnClick:ce,restrictedSelectedTokenIndexes:ie}=this.props,oe={};if(H.isInvalid!==k&&(oe.isInvalid=k),H.isDisabled!==q&&(oe.isDisabled=q),Object(o.a)(H.selectedOptions,se)||(oe.selectedOptions=se),Object(o.a)(H.selectedOption,re)||(oe.selectedOption=re),(H.expandOnFocus&&!w||H.expandOnClick&&!ce)&&(oe.isExpanded=!1),this.wasUnknownTokenResolved(this.state.selectedOptions,Z.selectedOptions)){var ue,_e;const Ue=this.getNextUnknownTokenIndex();oe.selectedTokenIndexes=[Ue],(ue=this.inputRef)===null||ue===void 0||(_e=ue.current)===null||_e===void 0||_e.focus()}H.restrictedSelectedTokenIndexes!==ie&&(oe.restrictedSelectedTokenIndexes=ie);const{isLoading:be,pendingQueries:Ae,selectedOptions:Ce,pendingEscapeQueries:De,filterQuery:Pe}=this.state;if(X&&!be){if(!Object(i.a)(Ae))oe.isLoading=!0,oe.loadInBackground=!0,this.searchQueryObjects(Ae);else if(Z.isLoading){if(this.updateDisabled(!1),De.length>0&&Pe===""){const Ue=Object(P.h)(De.map(Me=>Me.query),{noConj:!0}).join(""),ae=De[0],{options:ne}=ae,Ie=v(Me=>Me.map(Ne=>{const{query:He,options:Et,...Je}=Ne,qe=Et?{options:Ie(Et)}:{};return{...Je,...qe,query:Ue}}),"getUpdatedOptions"),Te={...ae,options:Ie(ne),query:Ue};oe.pendingEscapeQueries=[],oe.options=Te.options,oe.filterQuery=Ue,oe.isExpanded=!0,oe.isLoading=!1}if(Ce.length){const Ue=Ce.filter(ne=>ne.isError||ne.isUnknown).length,ae=Ue?Q.t("Loading complete. There {count, plural, =1 {is # unknown entry} other {are # unknown entries}}.",{count:Ue}):Q.t("Loading complete.");this.updateAriaTextThrottled.cancel&&this.updateAriaTextThrottled.cancel(),this.updateAriaTextThrottled(ae)}}}Object(i.a)(oe)||this.setSelectState(()=>oe)}componentWillUnmount(){this.updateAriaText.cancel&&this.updateAriaText.cancel(),this.searchPromise&&this.searchPromise.cancel&&this.searchPromise.cancel(),this._isMounted=!1}onFilterQueryPaste(H){var Z=this;return Object(s.coroutine)(function*(){const{searchOnPaste:q,searcherOptions:k,splitPastedQuery:se,processOptions:re}=Z.props;if(!q||!H&&!H.clipboardData)return;H.preventDefault();const X=H.clipboardData.getData("text/plain")?"text/plain":"Text",w=Object(U.b)(H),ce=w.text,ie=se(ce,{...k,fromMetadata:w.text!==H.clipboardData.getData(X)});Z.props.onFilterQueryPaste(ie);const oe=[],me=[];yield t.a.all(ie.map(ue=>{const _e=Z.getQueryId();return Object(B.a)(ue)||Object(Y.a)(ue)?re([{key:_e,pasted:!0,fromMetadata:!0,value:ue,label:w.members?w.members[ue]:ue}]).then(be=>(be[0]&&me.push(be[0]),t.a.resolve())):(oe.push({query:ue,queryId:_e,pasted:!0}),me.push({label:ue,queryId:_e,isLoading:!0,key:_e,pasted:!0}),t.a.resolve())})),Z.setSelectState(ue=>({pendingQueries:ue.pendingQueries.concat(oe),selectedOptions:ue.selectedOptions.concat(me)})),Z.updateDisabled(!Object(i.a)(oe)),Z.updateAriaTextThrottled.cancel&&Z.updateAriaTextThrottled.cancel()})()}onInputFocused(){this.props.onInputFocused(),!(this.props.expandOnClick||this.shouldExpandOnFocus())&&this.setState(()=>({isExpanded:!1,options:[]}))}onOptionsListClose(){const{isLoading:H,isExpanded:Z,filterQuery:q}=this.state;!H&&Z&&q.length>0&&this.clogSearcherResults(),this.props.onOptionsListClose()}onTokenSelect(H){var Z=this;return Object(s.coroutine)(function*(){if(!(Z.props.expandOnClick||Z.shouldExpandOnFocus())){if(H&&!H.isUnknown)Z.setState(()=>({isExpanded:!1,options:[]}));else if(H){const q=yield Z.props.processOptions(H.resultOptions.map(k=>({...k,fromUnknown:!0})),H.label);Z.lastShownSearchDetails=H.searcher,Z.setState(()=>({isExpanded:!0,options:q}))}}})()}getQueryId(){return Object(l.a)("query__")}setSelectState(H,Z){var q=this;return Object(s.coroutine)(function*(){var k;const{processSelectedOptions:se}=q.props;let re=H(q.state);const{selectedOption:X,selectedOptions:w}=q.state;re.filterQuery!==void 0&&re.filterQuery!==q.state.filterQuery&&(re.isLoading=!0,re.loadInBackground=!1,q.searchQuery(re.filterQuery));const{searchOnPaste:ce}=q.props;if(ce&&re.selectedOptions){const oe=re.selectedOptions.map(ue=>{let{key:_e}=ue;return _e}),me=Object(u.a)(Object(f.a)(oe.filter(ue=>oe.indexOf(ue)!==oe.lastIndexOf(ue))));Object(d.a)(me,ue=>{const _e=Object(O.a)(re.selectedOptions,Ae=>{let{key:Ce,isUnknown:De}=Ae;return Ce===ue&&!De}),be=Object(f.a)(re.selectedOptions.map(Ae=>Ae.key===ue?Ae.isUnknown?_e:null:Ae));re.selectedOptions=be})}if(re.selectedOptions!==void 0&&!Object(o.a)(re.selectedOptions,w)){const oe=re.selectedOptions.filter(ue=>{let{isLoading:_e,isUnknown:be}=ue;return!_e&&!be}),[me]=Object(m.a)(oe,w,"value");me&&q.clogSearcherResults(me)}re.selectedOption!==void 0&&re.selectedOption!==null&&((k=re.selectedOption)===null||k===void 0?void 0:k.value)!==(X==null?void 0:X.value)&&q.clogSearcherResults(re.selectedOption);const ie=!!re.removalInitiator;if(re.selectedOptions&&!ie&&se){if(re=Object(g.a)(re),re.isLoading!==void 0){const oe=re.isLoading;q.setState(()=>({isLoading:oe})),delete re.isLoading}re.selectedOptions=yield se(re.selectedOptions)}q.setState(()=>re,Z)})()}getNextUnknownTokenIndex(){return this.state.selectedOptions.findIndex(H=>H.isUnknown&&H.queryId)}wasUnknownTokenResolved(H,Z){const q=H.filter(se=>se.isUnknown).length,k=Z.filter(se=>se.isUnknown).length;return q<k}shouldExpandOnFocus(){const{expandOnFocus:H}=this.props,{selectedOptions:Z}=this.state,q=Object(F.a)(Z);return H&&!q}clogSearcherResults(H){if(this.lastShownSearchDetails===null)return;const{clogger:Z,selectId:q,useSearcherSessions:k,teamId:se}=this.props,{query:re,results:X}=this.lastShownSearchDetails,w={source:q,query:re,results:X};H?(w.selectedItemId=H.value,k?Object(j.a)({teamId:se,key:q}).clogSearcherAccept({clogger:Z,data:w}):Object(x.c)({clogger:Z,data:w})):k?Object(j.a)({teamId:se,key:q}).clogSearcherReject({clogger:Z,data:w}):Object(x.d)({clogger:Z,data:w})}processSearchResults(H){const{searchOnPaste:Z,onSearchResolved:q,searcherOptions:k}=this.props,{escapeHatchEnabled:se,escapeHatchKeys:re}=k,X=this.state.selectedOptions.slice(0);Z&&H.forEach(w=>{let{queryId:ce,options:ie,searcher:oe}=w;const me=X.findIndex(be=>be.queryId===ce),ue=X[me];let _e=null;if(ue){this.lastShownSearchDetails=oe;let be;ie.length===1?(be=ie[0],se&&oe&&oe.results&&oe.results.length===0&&oe.pasted&&re&&re[be.key]&&this.setState(Ce=>({pendingEscapeQueries:[...Ce.pendingEscapeQueries,{query:oe.query,options:[be]}]})),this.clogSearcherResults(be)):ie.length?be={isUnknown:!0}:(be={isError:!0},this.clogSearcherResults()),_e={...ue,...be,resultOptions:ie,searcher:oe,isLoading:!1},X[me]=_e}q({result:ie,selectedOption:_e})}),this.setState(w=>{if(Object(y.a)(w.selectedOptions,X,2)){const{options:ce,searcher:ie}=H[0];return this.lastShownSearchDetails=ie,w.loadInBackground?null:{options:ce}}return{selectedOptions:T(X)}})}runBatchedSearch(H){const q=H.slice(0,this.props.searchBatchSize).map(k=>{let{query:se,queryId:re,pasted:X,initial:w}=k;return this.runSingleSearch({query:se,queryId:re,pasted:X,initial:w})});return t.a.all(q)}runSingleSearch(H){let{query:Z,queryId:q,pasted:k,initial:se}=H;const{onSearch:re,onSearchError:X,processOptions:w,searcherOptions:ce,selectId:ie,useSearcherSessions:oe,teamId:me}=this.props,ue=q||this.getQueryId(),_e=Object(S.b)(Z,ce);if(re(Z)===!1)return w([],_e).then(Ce=>({queryId:ue,options:Ce,searcher:this.lastShownSearchDetails}));let be;oe&&!k?be=Object(j.a)({teamId:me,key:se?ue:ie}).search({query:_e,options:{...ce,sort:{source:ie,...ce.sort},returnMetadata:!0}}):be=this.props.search({query:_e,options:{...ce,sort:{source:ie,...ce.sort},returnMetadata:!0}});var Ae=this;return be.then(function(){var Ce=Object(s.coroutine)(function*(De){Ae.lastShownSearchDetails={query:_e,results:De};const Pe=(De||[]).map(ne=>{var Ie;return{key:ue,value:ne.item.id,label:ne.name||((Ie=ne.item)===null||Ie===void 0?void 0:Ie.name)||Z,entity:ne.item,matchData:ne.subqueryScoresByMember}}),{selectedOption:Ue}=Ae.state;_e===""&&Ue&&(Object(O.a)(Pe,["value",Ue.value])||Pe.unshift(Ue));const ae=yield w(Pe,Z,{pasted:k});return{queryId:ue,options:ae,searcher:{...Ae.lastShownSearchDetails,pasted:k}}});return function(De){return Ce.apply(this,arguments)}}()).catch(Ce=>{L.error(`Error when searching for select id: ${ie}, error: ${Ce}`),X(Ce);const De=[];return{queryId:ue,options:De,searcher:{query:_e,results:De,pasted:k,isError:!0}}})}searchQuery(H){this._isMounted&&this.searchQueryObjects([{query:H}])}searchQueryObjects(H){if(Object(i.a)(H))return;if(this.searchPromise&&this.searchPromise.cancel&&this.searchPromise.cancel(),!this.props.searchOnPaste){const{query:q,queryId:k}=H[0];this.searchPromise=this.runSingleSearch({query:q,queryId:k}).then(se=>{let{options:re}=se;this.setSelectState(()=>({options:re})),this.setState(()=>({isLoading:!1}))});return}this.searchPromise=this.runBatchedSearch(H).then(q=>{this.processSearchResults(q);const k=q.map(se=>{let{queryId:re}=se;return re});this.setState(se=>({pendingQueries:se.pendingQueries.filter(X=>{let{queryId:w}=X;return!k.includes(w)}),isLoading:!1}))});const Z=Q.t("Loading {count, plural, =1 {# more entry} other {# more entries}}",{count:H.length});this.updateAriaTextThrottled(Z)}updateAriaText(H){this.setState(Z=>Z.ariaText===H?null:{ariaText:H})}updateDisabled(H){this.setState(Z=>Z.isDisabled===H?null:{isDisabled:H})}render(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(te,V({},this.props,{expandOnFocus:this.shouldExpandOnFocus(),inputRef:this.inputRef,selectState:this.state,setSelectState:this.setSelectState,onOptionsListClose:this.onOptionsListClose,onFilterQueryPaste:this.onFilterQueryPaste,onTokenSelect:this.onTokenSelect,onInputFocused:this.onInputFocused,isLoading:this.state.isLoading})),r.a.createElement(z.b,{message:this.state.ariaText}))}constructor(H){super(H),this.searchPromise=null,this.setSelectState=this.setSelectState.bind(this),this.onOptionsListClose=this.onOptionsListClose.bind(this),this.onFilterQueryPaste=this.onFilterQueryPaste.bind(this),this.onTokenSelect=this.onTokenSelect.bind(this),this.onInputFocused=this.onInputFocused.bind(this);const{selectedOptions:Z,searchOnPaste:q}=H,k=Object(E.a)(Z,re=>Object(R.e)(re));let se=[];q&&(se=Object(f.a)(Object(p.a)(k,re=>!re.label||!re.queryId?null:{query:re.label,queryId:re.queryId,initial:!0}))),this.state={filterQuery:"",options:[],isExpanded:H.isExpanded,selectId:H.selectId,selectedOptions:H.selectedOptions||[],selectedOption:H.selectedOption||null,isRequired:H.isRequired,isLoading:!1,isDisabled:H.isDisabled,isInvalid:H.isInvalid,pendingQueries:se||[],loadInBackground:!1,ariaText:"",shouldRefocusInputAfterSelection:!!H.showConfirmDialog,pendingEscapeQueries:[],selectedTokenIndexes:[],restrictedSelectedTokenIndexes:H.restrictedSelectedTokenIndexes||[]},this.searchQuery=Object(h.a)(this.searchQuery,H.debounceWaitPeriod),this.updateAriaTextThrottled=Object(_.a)(this.updateAriaText,3e4),this.lastShownSearchDetails=null,this.inputRef=H.inputRef||r.a.createRef(),this._isMounted=!0}},"SearcherSelectWrapper");he.displayName="SearcherSelectWrapper",he.propTypes=le,he.defaultProps=Oe;const Ee=v(J=>({clogger:Object(W.a)({state:J}),teamId:Object(A.h)(J),useSearcherSessions:Object(M.c)(J)}),"mapStateToProps"),ge={search:function(){for(var J=arguments.length,H=new Array(J),Z=0;Z<J;Z++)H[Z]=arguments[Z];return Object(x.F)(...H)}};return Object(I.a)(Ee,ge)(he)}v(ee,"withSearcher")},yuD6:function(K,n,e){"use strict";e.d(n,"d",function(){return t}),e.d(n,"a",function(){return a}),e.d(n,"c",function(){return r}),e.d(n,"b",function(){return c}),e.d(n,"e",function(){return o});var s=e("DwFS");const t=Object(s.a)("Sets the current loading state for a channel");t.meta={name:"createAction",key:"createActionsetLoadingState",description:"Sets the current loading state for a channel"};const a=Object(s.a)("Adds pinned item identifiers for files and messages to list of pinned items");a.meta={name:"createAction",key:"createActionaddPinnedItems",description:"Adds pinned item identifiers for files and messages to list of pinned items"};const r=Object(s.a)("Remove an item from the pinned items list for a channel");r.meta={name:"createAction",key:"createActionremovePinnedItem",description:"Remove an item from the pinned items list for a channel"};const c=Object(s.a)("Clears the existing pinned items for a channel and sets the loading state");c.meta={name:"createAction",key:"createActionclearPinnedItems",description:"Clears the existing pinned items for a channel and sets the loading state"};const o=Object(s.a)("Sets the scrollTop value of the pins popover so that it can be opened to the same spot again");o.meta={name:"createAction",key:"createActionsetPopoverScrollTop",description:"Sets the scrollTop value of the pins popover so that it can be opened to the same spot again"}},yz5U:function(K,n,e){"use strict";var s=e("q1tI"),t=e.n(s),a=e("Muja"),r=e("zxER"),c=e("/qcS"),o=e("FlEr"),i=e("DQKV"),l=e("Q755");function u(f){let{memberId:d,className:O,emojiSize:m,showTooltips:g,stopAnimations:E,text:p}=f;const h=Object(r.a)(_=>d?Object(o.a)(_,d):void 0,a.a);return p?t.a.createElement("span",{className:O,"data-qa":"custom_status_text"},t.a.createElement(i.a,{text:p,inputIsEscaped:!0,emojiSize:m||c.a.MEDIUM,showTooltips:!!g,stopAnimations:!!E,emojiDisplayInfo:h})):null}v(u,"CustomStatusText"),u.displayName="CustomStatusText",n.a=t.a.memo(u)},yzO5:function(K,n,e){"use strict";var s=e("q1tI"),t=e.n(s),a=e("/MKj"),r=e("zxER"),c=e("nNoG"),o=e("ktUG"),i=e("RVJP"),l=e("+kJ4"),u=e("Trx9"),f=e("PFo8"),d=e("vDCl"),O=e("Tevt"),m=e("WAPM");const g=new c.b("msg_input"),E={elementName:"learn_more",onClick:{enableClogAction:!0}},p={elementName:"contact_us",onClick:{enableClogAction:!0}},h=v(P=>{let{isScheduledMessage:T}=P;const S=Object(a.useDispatch)(),A=Object(s.useCallback)(()=>{S(Object(l.a)())},[S]);if(!Object(r.a)(U=>Object(i.d)(U,"upgrd_5684")==="on"))return null;const x=g.t("Team not able to send messages"),M=`help/requests/new?title=${encodeURIComponent(x)}`,j=T?g.t("Message not scheduled"):g.t("Message not sent"),W=g.rt("Your team isn\u2019t able to send messages right now. <learnMoreLink>Learn more</learnMoreLink> about message limits, or <contactUsLink>contact us</contactUsLink> for additional support.",{"<learnMoreLink>":U=>{let{text:B}=U;return t.a.createElement(m.a,{"data-qa":"Message-limit-error-modal-learn-more-link",articleId:115002422943,hash:"message-and-file-visibility-limit",autoClogProps:E,forceOpenInBrowser:!0},B)},"<contactUsLink>":U=>{let{text:B}=U;return t.a.createElement(O.a,{"data-qa":"message-limit-error-modal-contact-us-link",href:M,autoClogProps:p},B)}});return t.a.createElement(u.a,{eventId:o.EventId.UPGRDEXP_HIGHLIGHT_PAID_FEATURES,clogImpression:!0,uiComponentName:o.UiComponentName.MESSAGE_LIMIT_ERROR_MODAL},t.a.createElement(f.b,{"data-qa":"message-limit-error-modal",title:j,titleIcon:"warning",bodyContent:W,onRequestClose:A,theme:d.b.ERROR}))},"MessageLimitErrorModal");h.displayName="MessageLimitErrorModal";var _=h,b=e("SQ0V"),I=e("3l96");const C=Object(b.c)("Open modal when a message send fails due to team having hit the message limit",function(P,T){let S=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return P(Object(I.a)({element:t.a.createElement(_,S)}))});C.meta={name:"createThunk",key:"createThunkopenMessageLimitErrorModal",description:"Open modal when a message send fails due to team having hit the message limit"};var y=n.a=C},"z/sp":function(K,n,e){"use strict";e.d(n,"a",function(){return r});var s=e("ZKjC"),t=e("UOL+"),a;const r=Object(s.b)(o=>{var i;return(a=(i=Object(t.a)(o))===null||i===void 0?void 0:i.messagePlaceholders)!==null&&a!==void 0?a:o==null?void 0:o.messagePlaceholders});var c;r.meta={name:"createSelector",key:"createSelectorgetAllPlaceholders",description:o=>{var i;return(c=(i=Object(t.a)(o))===null||i===void 0?void 0:i.messagePlaceholders)!==null&&c!==void 0?c:o==null?void 0:o.messagePlaceholders}}},zEKE:function(K,n,e){"use strict";var s=e("q1tI"),t=e.n(s),a=e("iuhU"),r=e("nNoG"),c=e("ktUG"),o=e("jWAO"),i=e("nFQW"),l=e("j/0O"),u=e("vDCl");const f=new r.b("upgrades_kit"),d={action:c.UiAction.CLOSE,onClick:{enableClogAction:!0},elementName:"close",elementType:c.ElementType.X},O=v(g=>{let{className:E,iconType:p,customIcon:h,image:_,heading:b,children:I,onDismiss:C,useRoundedCorners:y=!0,showBorder:P=!0,size:T=u.a.MEDIUM,theme:S=u.b.PURPLE,"data-qa":A="",primaryCTA:R,secondaryCTA:x}=g;const M=v(()=>{let Y;const z="p-upgrades_alert_banner__icon";return h?Y=t.a.createElement("div",{className:z},h):_?Y=t.a.createElement("div",{className:Object(a.default)(z,"p-upgrades_alert_banner__icon--image")},_):p&&(Y=t.a.createElement(l.a,{className:z,size:T,theme:S,type:p})),Y},"renderIcon");M.displayName="renderIcon";const j=v(()=>t.a.createElement(i.a,{className:"p-upgrades_alert_banner__close_icon","data-qa":"alert_banner_close_button",icon:"times",size:"small","aria-label":f.t("Dismiss",{fallbackHash:"70afe9eff3f2888493d9b5169fec8331af1810de",fallbackHashNs:"trials_highlight_paid_features"}),onClick:C,autoClogProps:d}),"renderCloseIcon");j.displayName="renderCloseIcon";const W=v(()=>!R&&!x?null:t.a.createElement("div",{className:"p-upgrades_alert_banner__button_container"},R,x),"renderButtons");W.displayName="renderButtons";const U=M(),B=Object(a.default)("p-upgrades_alert_banner",`p-upgrades_alert_banner--${T}`,`p-upgrades_alert_banner--${S}`,E,{"p-upgrades_alert_banner--with_close_icon":!!C,"p-upgrades_alert_banner--rounded_corners":y,"p-upgrades_alert_banner--no_border":!P,"p-upgrades_alert_banner--with_image":!!_});return t.a.createElement("div",{className:"full_width"},t.a.createElement(o.d,{className:B,"data-qa":A,customIcon:U,heading:b,type:U?o.c.boxed:o.c.custom},t.a.createElement("div",{className:"p-upgrades_alert_banner__body"},I),W(),C&&j()))},"AlertBanner");O.displayName="AlertBanner";var m=n.a=O},zHTW:function(K,n,e){"use strict";var s=e("q1tI"),t=e.n(s),a=e("wSSu"),r=e("iuhU"),c=e("oTSI"),o=e("C3Bw"),i=e("WSQ4"),l=e("azFB"),u=e("zrD9"),f=e("4t6+"),d=e("2U/2"),O=e("fRJc");function m(){return m=Object.assign||function(b){for(var I=1;I<arguments.length;I++){var C=arguments[I];for(var y in C)Object.prototype.hasOwnProperty.call(C,y)&&(b[y]=C[y])}return b},m.apply(this,arguments)}v(m,"_extends");const g=80,E={top:"bottom","top-left":"bottom-left","top-right":"bottom-right",left:"left","left-bottom":"left-top","left-top":"left-bottom",right:"right","right-bottom":"right-top","right-top":"right-bottom",bottom:"top","bottom-left":"top-left","bottom-right":"top-right"},p=Object(c.a)((b,I)=>({label:b,...I!==void 0&&{hidden:I}}),function(){for(var b=arguments.length,I=new Array(b),C=0;C<b;C++)I[C]=arguments[C];return JSON.stringify(I)});class h extends s.Component{componentDidMount(){this.props.window.addEventListener("resize",this.onResize)}UNSAFE_componentWillReceiveProps(I){this.props.targetBounds!==I.targetBounds&&this.setState(()=>({targetBounds:I.targetBounds}),()=>this.measureContents())}componentDidUpdate(){if(!this.props.isOpen||!this.popoverContent)return;const I=this.popoverContent.offsetHeight;I!==this.popoverContentHeight&&(this.popoverContentHeight=I,this.measureContents())}componentWillUnmount(){this.props.window.removeEventListener("resize",this.onResize),this.props.shouldCloseOnOverlayMouseDown&&this.overlayRef&&this.overlayRef.removeEventListener("mousedown",this.onOverlayMouseDown),this.mutationObserver&&(this.mutationObserver.disconnect(),this.mutationObserver=null)}getBoundaries(){const{pageYOffset:I,innerWidth:C,innerHeight:y}=this.props.window;return{top:Object(f.a)(I+this.props.allowanceY),right:C-this.props.allowanceX,bottom:I+y-this.props.allowanceY,left:this.props.allowanceX}}getInitialPosition(I,C,y){let{offsetX:P,offsetY:T}=y;const{targetBounds:S}=this.state;switch(C){case"top":return{width:I.width,height:I.height,top:S.top-I.height+T,bottom:S.top+T,right:S.right-(S.width-I.width)/2-P,left:S.left+(S.width-I.width)/2+P};case"top-left":return{width:I.width,height:I.height,top:S.top-I.height+T,bottom:S.top+T,right:S.left+I.width+P,left:S.left+P};case"top-right":return{width:I.width,height:I.height,top:S.top-I.height+T,bottom:S.top+T,right:S.right+P,left:S.right-I.width+P};case"left":return{width:I.width,height:I.height,top:S.top+(S.height-I.height)/2+T,bottom:S.bottom-(S.height-I.height)/2-T,right:S.left+P,left:S.left-I.width+P};case"left-bottom":return{width:I.width,height:I.height,top:S.top+T,bottom:S.top+I.height+T,right:S.left+P,left:S.left-I.width+P};case"left-top":return{width:I.width,height:I.height,top:S.bottom-I.height+T,bottom:S.bottom+T,right:S.left+P,left:S.left-I.width+P};case"right":return{width:I.width,height:I.height,top:S.top+(S.height-I.height)/2+T,bottom:S.bottom-(S.height-I.height)/2-T,right:S.right+I.width+P,left:S.right+P};case"right-bottom":return{width:I.width,height:I.height,top:S.top+T,bottom:S.bottom+I.height+T,right:S.right+I.width+P,left:S.right+P};case"right-top":return{width:I.width,height:I.height,top:S.bottom-I.height+T,bottom:S.bottom+T,right:S.right+I.width+P,left:S.right+P};case"bottom":return{width:I.width,height:I.height,top:S.bottom+T,bottom:S.bottom+I.height+T,right:S.right-(S.width-I.width)/2-P,left:S.left+(S.width-I.width)/2+P};case"bottom-left":return{width:I.width,height:I.height,top:S.bottom+T,bottom:S.bottom+I.height+T,right:S.left+I.width+P,left:S.left+P};case"bottom-right":return{width:I.width,height:I.height,top:S.bottom+T,bottom:S.bottom+I.height+T,right:S.right+P,left:S.right-I.width+P};default:return this.props.useTargetBoundsAsPosition?{width:I.width,height:I.height,top:S.top,bottom:S.top+I.height,right:S.left+I.width,left:S.left}:I}}getStyle(){const I=this.state.contentBounds||{},C=this.getBoundaries(),y=this.props.shouldFade?`${g}ms`:void 0;return{overlay:{animationDuration:y,...this.props.overlayStyle},content:{position:"absolute",left:I.left||C.left,top:I.top||C.top,outline:"none",transitionDuration:y,...this.props.contentStyle}}}keepInBounds(I){const C=this.getBoundaries();let y=this.props.position||null;const P={offsetX:this.props.offsetX,offsetY:this.props.offsetY},{usingOppositePosition:T}=this.state;T&&(y=this.props.position&&E[this.props.position],P.offsetY=-P.offsetY);const S=this.getInitialPosition(I,y,P);let A=S.left,R=S.top;if(S.left<C.left?A=C.left:S.right>C.right&&(A=Math.max(C.left,C.right-S.width)),S.top<C.top?R=C.top:S.bottom>C.bottom&&(R=Math.max(C.top,C.bottom-S.height)),R!==S.top&&this.props.tryOppositePosition){const M=this.getInitialPosition(I,y&&E[y],{offsetX:P.offsetX,offsetY:-P.offsetY});if(!(M.top<C.top||M.bottom>C.bottom))return this.setState(()=>({usingOppositePosition:!T})),{left:A,top:M.top}}return{left:A,top:R}}measureContents(){if(this.popoverContent){const I=Object(a.findDOMNode)(this.popoverContent).getBoundingClientRect(),C=this.props.shouldAnchorAtInitialPosition?this.getInitialPosition(I,this.props.position,{offsetX:this.props.offsetX,offsetY:this.props.offsetY}):this.keepInBounds(I),y=this.state.contentBounds;if(y&&C&&typeof y.left=="number"&&typeof y.top=="number"&&typeof C.left=="number"&&typeof C.top=="number"&&Object(d.a)(y.left,C.left,.5)&&Object(d.a)(y.top,C.top,.5))return;this.setState(()=>({contentBounds:C}))}}renderChildren(){if(typeof this.props.children=="function"){var I,C;const y=this.getStyle();return this.props.children({position:this.state.usingOppositePosition?this.props.position&&E[this.props.position]:this.props.position,left:(I=y.content)===null||I===void 0?void 0:I.left,top:(C=y.content)===null||C===void 0?void 0:C.top,targetBounds:this.props.targetBounds})}return this.props.children}render(){if(!this.props.isOpen)return null;const I=Object(r.default)(this.props.overlayClassName,`c-popover--z_${this.props.zIndex}`,{"c-popover--fade":this.props.shouldFade}),C=this.props.shouldFade?g:0;return t.a.createElement(o.a,{isOpen:this.props.isOpen,contentLabel:"popover",className:"popover c-popover__content",overlayClassName:I,bodyOpenClassName:this.props.modalBodyOpenClassName,style:this.getStyle(),onAfterOpen:this.onOpen,onRequestClose:this.onClose,parentSelector:this.props.parentSelector,shouldFocusAfterRender:this.props.shouldFocusAfterRender,shouldCloseOnOverlayClick:this.props.shouldCloseOnOverlayClick,shouldReturnFocusAfterClose:this.props.shouldReturnFocusAfterClose,closeTimeoutMS:C,ariaHideApp:this.props.ariaHideApp,overlayRef:this.setOverlayRef,role:this.props.ariaRole,aria:p(this.props.ariaLabel,this.props.ariaHidden),contentRef:this.setReactModalContentRef,preventScroll:this.props.preventScroll},t.a.createElement(u.a,{onFocusedElementRemoved:this.onFocusedElementRemoved},t.a.createElement("div",{ref:this.setContentRef,role:"presentation"},this.renderChildren())))}constructor(I){super(I),this.onClose=C=>{var y,P;this.props.shouldPropagateOnClose||C.stopPropagation(),(P=(y=this.props).onClose)===null||P===void 0||P.call(y,C,{isRequestClose:!0}),this.setState(()=>({contentBounds:{}})),this.mutationObserver&&(this.mutationObserver.disconnect(),this.mutationObserver=null),this.props.shouldCloseOnOverlayMouseDown&&this.overlayRef&&this.overlayRef.removeEventListener("mousedown",this.onOverlayMouseDown)},this.onFocusedElementRemoved=()=>{var C;(C=this.reactModalContentRef)===null||C===void 0||C.focus()},this.onOpen=()=>{var C,y;(y=(C=this.props).onOpen)===null||y===void 0||y.call(C),this.measureContents(),this.popoverContent&&this.props.shouldObserveResize&&(this.mutationObserver=new MutationObserver(this.onResize),this.mutationObserver.observe(this.popoverContent,{childList:!0,subtree:!0,attributes:!0,characterData:!0})),this.props.shouldCloseOnOverlayMouseDown&&this.overlayRef&&this.overlayRef.addEventListener("mousedown",this.onOverlayMouseDown)},this.onOverlayMouseDown=C=>{this.props.shouldCloseOnOverlayMouseDown&&C.target===this.overlayRef&&this.onClose(C)},this.onResize=()=>{this.props.onResize&&this.props.onResize(),this.props.isOpen&&this.measureContents()},this.setContentRef=C=>{this.popoverContent=C},this.setOverlayRef=C=>{this.overlayRef=C},this.setReactModalContentRef=C=>{this.reactModalContentRef=C},this.popoverContent=null,this.popoverContentHeight=null,this.mutationObserver=null,this.overlayRef=null,this.reactModalContentRef=null,this.state={contentBounds:{},targetBounds:this.props.targetBounds,usingOppositePosition:!1}}}v(h,"popover_Popover"),h.displayName="Popover",h.defaultProps={allowanceX:16,allowanceY:10,offsetX:0,offsetY:0,targetBounds:{top:0,left:0,right:20,bottom:20},overlayClassName:"c-popover",zIndex:O.a.AboveFullScreen,shouldFocusAfterRender:!0,shouldReturnFocusAfterClose:!0,shouldCloseOnOverlayClick:!0,shouldObserveResize:!0,shouldFade:!0,ariaRole:"presentation",window:l.a,preventScroll:!1};var _=n.a=t.a.forwardRef((b,I)=>t.a.createElement(i.a.Consumer,null,C=>{let{window:y}=C;return t.a.createElement(h,m({ref:I},b,{targetBounds:b.targetBounds,window:y}))}))},zIak:function(K,n,e){"use strict";e.d(n,"a",function(){return s});function s(t){const a=v(()=>{window.Cypress||t()},"unloadHandler");window.addEventListener("beforeunload",a)}v(s,"addUnloadHandler")},zKNY:function(K,n,e){K.exports=e.p+"slackbot_fancy_24-e726b64.png"},zKrX:function(K,n,e){"use strict";var s=e("q1tI"),t=e.n(s),a=e("pQ8y"),r=e("iuhU"),c=e("Cs2y"),o=e("zxER"),i=e("YiJ7");function l(){return l=Object.assign||function(O){for(var m=1;m<arguments.length;m++){var g=arguments[m];for(var E in g)Object.prototype.hasOwnProperty.call(g,E)&&(O[E]=g[E])}return O},l.apply(this,arguments)}v(l,"_extends");const u={enter:160,exit:160},f=v(O=>{let{children:m,className:g,isAdaptive:E=!1,renderSpeedBump:p,isChildrenDirectionColumn:h=!1,..._}=O;const b=Object(o.a)(i.b),{closeModal:I,isSpeedBumpVisible:C,showSpeedBump:y}=Object(c.b)();return t.a.createElement(t.a.Fragment,null,t.a.createElement("div",l({},_,{className:Object(r.default)("c-sk-modal_footer",{"c-sk-modal_footer--adaptive":E,"c-sk-modal_footer--responsive":b,"c-sk-modal_footer--responsive-column":h},g)}),m),p&&t.a.createElement(a.a,{in:C,classNames:"c-sk-modal_footer--speedbump_transition",timeout:u,unmountOnExit:!0},t.a.createElement("div",{className:Object(r.default)("c-sk-modal_footer--speedbump",{"c-sk-modal_footer--speedbump_responsive":b})},p({cancel:()=>y(!1),closeModal:I}))))},"ModalFooter");f.displayName="ModalFooter";var d=n.a=f},zMr6:function(K,n,e){"use strict";e.d(n,"c",function(){return _}),e.d(n,"a",function(){return I}),e.d(n,"b",function(){return y});var s=e("ISSR"),t=e("vfvl"),a=e("Yauy"),r=e("E97Y"),c=e("G0eX"),o=e("beVI"),i=e("hjzp"),l=e("dmdh"),u=e("P9LH"),f=e("E3dU");const d={name:"archive"},O={name:"archive",variation:"filled"},m={name:"edit"},g={name:"edit",variation:"filled"},E={name:"file"},p={name:"bulleted-list"},h={name:"lock"},_={name:"lock",variation:"filled"},b={name:"channel"},I={name:"channel",variation:"filled"},C={name:"canvas"};function y(P,T){let{filled:S,bold:A,disableArchived:R,showDraftIcon:x}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{filled:!1,bold:!1,disableArchived:!1,showDraftIcon:!1};const M=Object(o.g)(P)||Object(o.p)(P),j=Object(c.m)(M);if(!Object(t.b)(j,T)&&(Object(s.a)(T)&&!R||Object(t.a)(T)))return S?O:d;if(x&&Object(a.w)(P,T.id))return S?g:m;if(Object(a.X)(T)){const W=Object(l.c)(P,Object(i.b)(T.id));if(Object(u.s)(W))return C;if(Object(u.h)(W)){const U=Object(f.e)(P,W.id),B=Object(f.c)(P,U);return Object(r.k)(B)||Object(r.h)(B)?S?_:h:C}return Object(u.m)(W)?p:E}return Object(r.k)(T)?S?_:h:A?I:b}v(y,"getChannelIconType")},zNRp:function(K,n,e){"use strict";e.d(n,"a",function(){return c});var s=e("q1tI"),t=e.n(s),a=e("iuhU"),r=e("Tsh7");const c={transparent:"transparent",black:"black",red:"red",white:"white",blue:"blue",minGray:"min_gray",minGrayDarken:"min_gray_darken"},o=v((f,d)=>f>d?`${d}+`:String(f),"getCountText"),i=v(f=>{let{condition:d,wrapper:O,children:m}=f;return d?O(m):m},"TooltipWrapper"),l=v(f=>{let{className:d,count:O,maxCount:m=9,style:g="black",toolTipText:E=""}=f;return!O||O<0?null:t.a.createElement(i,{condition:E,wrapper:p=>t.a.createElement(r.d,{tip:E},p)},t.a.createElement("span",{"aria-hidden":"true",className:Object(a.default)(d,"c-mention_badge",`c-mention_badge--${g}`,{"c-mention_badge--max":O>m},E&&"c-mention_badge--default"),"data-qa":"mention_badge"},o(O,m)))},"MentionBadge");l.displayName="MentionBadge";var u=n.b=t.a.memo(l)},zUbs:function(K,n,e){"use strict";var s=e("q1tI"),t=e.n(s),a=e("iuhU"),r=e("ww7Y"),c=e("CD4m"),o=e("i2F6"),i=e("BJra"),l=e("zxER"),u=e("K2b1"),f=e("RVJP");function d(){return d=Object.assign||function(E){for(var p=1;p<arguments.length;p++){var h=arguments[p];for(var _ in h)Object.prototype.hasOwnProperty.call(h,_)&&(E[_]=h[_])}return E},d.apply(this,arguments)}v(d,"_extends");const O=new u.b("inline_member");function m(E){const{className:p,multiline:h=!1,inline:_=!1,invert:b=!1,name:I,isSelf:C=!1,isAppOrBot:y=!1,showAppOrBotBadge:P=!0,isDeleted:T=!1,isUnknown:S=!1,isNonExistent:A=!1,withTruncationTooltip:R=!1,isBold:x=!0,isUserHidden:M=!1,isChannelFiles:j=!1,showMemberNameIfHidden:W=!1}=E,U=Object(l.a)(V=>Object(f.d)(V,"hide_user_v1")==="on"),B=Object(l.a)(V=>Object(f.d)(V,"member_name_channel_files_view_two")==="on");let Y;S||A?Y=t.a.createElement(o.a,{type:A?"non-existent":"unknown","data-qa":"member_name__missing"}):U&&M&&!W?Y=O.t("Name hidden"):j?Y=B?O.rt("Shared by {name}",{name:I}):"":Y=I;const z=Object(a.default)(p,"c-member_name",{"c-member_name--deactivated":T,"c-member_name--inverted":b}),F=x?"strong":"span";return t.a.createElement(c.c,d({className:z,multiline:h,inline:_,withTruncationTooltip:R},Object(i.a)(E)),t.a.createElement(F,{"data-qa":"member_name"},Y,C&&t.a.createElement("span",{className:"c-member_name__indicator","data-qa":"member_name__you"},O.t("(you)")),T&&t.a.createElement("span",{className:"c-member_name__indicator","data-qa":"member_name__deactivated"},O.t("(deactivated)")),y&&P&&t.a.createElement(r.a,{className:"c-member_name__indicator","data-qa":"member_name__app",inverse:b})))}v(m,"MemberName"),m.displayName="MemberName";var g=n.a=m},zn7T:function(K,n,e){K.exports=e.p+"nature_meditation-265e387.mp3"},zrD9:function(K,n,e){"use strict";e.d(n,"a",function(){return c});var s=e("q1tI"),t=e.n(s),a=e("YpEo");function r(o){return o}v(r,"castTargets");function c(o){let{onFocus:i,onBlur:l,onFocusedElementRemoved:u,children:f}=o;const d=Object(s.useRef)(null),O=Object(s.useRef)(null),m=Object(s.useRef)(null),g=Object(s.useCallback)(()=>{m.current&&(m.current.disconnect(),m.current=null)},[]);Object(s.useEffect)(()=>()=>g(),[g]);const E=Object(s.useCallback)(b=>{if(!d.current)return;const I=O.current;if(!I)return;b.some(y=>Array.from(y.removedNodes).some(P=>P.contains(I)))&&(u==null||u({currentTarget:d.current,target:I}),O.current=null)},[u]),p=Object(s.useCallback)(b=>{const{currentTarget:I,target:C}=b;if(!I.contains(C)){O.current=null;return}O.current=C,d.current!==I&&(d.current=I,g(),m.current=new MutationObserver(E),m.current.observe(d.current,{childList:!0,subtree:!0})),i==null||i(b)},[g,E,i]),h=Object(s.useCallback)(b=>{const{currentTarget:I,relatedTarget:C}=b;(!C||!I.contains(C))&&(O.current=null),l==null||l(b)},[l]),_={onFocus:p,onBlur:h};return Object(a.a)(f,_)}v(c,"Refocus")},zwKj:function(K,n,e){"use strict";e.d(n,"a",function(){return a});var s=e("zmn3"),t=e("C3vN");const a=v((r,c,o)=>{const{app_card_color:i,app_user_id:l,auth:u,bot_user:f,config:d,commands:O,config_url:m,enterprise_id:g,desc:E,icons:p,id:h,is_directory_published:_,is_directory_approved:b,is_slack_integration:I,is_distributed:C,is_xoxa_app:y,is_workflow_app:P,long_desc:T,long_desc_formatted:S,org_status:A,name:R,support_url:x,team_id:M,screenshots:j,url:W,youtube_url:U,is_installed:B,is_sales_home_workflow_app:Y}=c;let z="xoxp";y?z="xoxa":d&&d.is_custom_integration?z="custom_integration":I&&(z="slack");let F=!0,V=!1;d?(parseInt(d.date_deleted,10)!==0&&(V=!0,F=!1),parseInt(d.date_deleted,10)!==0&&(F=!1),d.is_active<1&&(F=!1)):u?u.revoked&&(F=!1):F=!1;let L=null;d&&d.created_by&&(L=d.created_by),u&&u.created_by&&(L=u.created_by);const Q=O?Object(s.a)(O,J=>({name:J.name,usage:J.usage,description:J.desc})):null;let ee=null;y?ee={id:l,username:R}:f?ee={id:f.id,username:f.username}:Object(t.qb)(o)||(ee={id:o.id,username:Object(t.q)(o)});let te=R;d&&(d.real_name?te=d.real_name:d.username&&(te=d.username));let le=E;d&&d.descriptive_label&&(le=d.descriptive_label);let Oe=p;d&&d.icons&&(Oe=d.icons);const he=f&&f.memberships_count||null,Ee=d&&d.custom_integration_type||null,ge=d&&d.date_created||null;return{app_id:h,home_workspace_id:M,home_enterprise_id:g,service_id:r,config_url:m,app_type:z,is_workflow_app:P,is_sales_home_workflow_app:Y,org_status:A,profile:{name:te,color:i||void 0,description:T,formattedDescription:S,tagline:le,icons:Oe,custom_integration_type:Ee},directory_profile:{screenshots:j,youtube_url:U,home_url:W,support_url:x,is_distributed:C,is_published:_,is_approved:b},installation:{installer_user_id:L,is_active:F,is_deleted:V,memberships_count:he,date_created:ge,is_installed:B},app_user:ee,commands:Q,legacy_app:c}},"buildAppProfileFromLegacyEndpoint")}},[["edAB","gantry-v2-manifest","gantry-v2-vendors","gantry-v2-vendors-client","gantry-v2-shared","client-boot-styles"]]]);})();
