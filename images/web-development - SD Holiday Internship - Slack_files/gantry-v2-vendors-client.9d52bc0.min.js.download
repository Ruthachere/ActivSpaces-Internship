(()=>{var Dv=Object.defineProperty;var o=(N,c)=>Dv(N,"name",{value:c,configurable:!0});(window.webpackJsonp=window.webpackJsonp||[]).push([["gantry-v2-vendors-client","gantry-v2-vendors-workflow-builder"],{"+7ft":function(N,c,d){"use strict";Object.defineProperty(c,"__esModule",{value:!0});let S=o(class{constructor(){this.timeoutMs=1e4,this.waitDurationMs=3e3,this.audioOutputFrequency=440,this.audioOutputGain=.1}},"MeetingReadinessCheckerConfiguration");c.default=S},"+D+n":function(N,c,d){"use strict";var S=this&&this.__awaiter||function(i,e,t,r){function l(p){return p instanceof t?p:new t(function(v){v(p)})}return o(l,"adopt"),new(t||(t=Promise))(function(p,v){function g(I){try{s(r.next(I))}catch(M){v(M)}}o(g,"fulfilled");function u(I){try{s(r.throw(I))}catch(M){v(M)}}o(u,"rejected");function s(I){I.done?p(I.value):l(I.value).then(g,u)}o(s,"step"),s((r=r.apply(i,e||[])).next())})};Object.defineProperty(c,"__esModule",{value:!0});const h=d("t9Fz"),m=d("QzVx"),f=d("KyYT"),a=d("JTre");let n=o(class{createDevicePixelRatioMonitorIfNeeded(){this.devicePixelRatioMonitor||(this.devicePixelRatioMonitor=new h.default(new m.default,this.logger))}discardDevicePixelRatioMonitorIfNotNeeded(){return S(this,void 0,void 0,function*(){if(this.tileMap.size||!this.devicePixelRatioMonitor)return;const e=this.devicePixelRatioMonitor;return this.devicePixelRatioMonitor=void 0,e.destroy()})}bindVideoElement(e,t){const r=this.getVideoTile(e);if(r===null){this.logger.warn(`Ignoring video element binding for unknown tile id ${e}`);return}r.bindVideoElement(t)}unbindVideoElement(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;const r=this.getVideoTile(e);if(r===null){this.logger.warn(`Ignoring video element unbinding for unknown tile id ${e}`);return}this.logger.info("Unbinding the video element");const l=r.stateRef().boundVideoElement;r.bindVideoElement(null),t&&(this.logger.info("Cleaning up the video element"),a.default.disconnectVideoStreamFromVideoElement(l,!1))}startLocalVideoTile(){const e=this.findOrCreateLocalVideoTile();return this.currentLocalTile.stateRef().localTileStarted=!0,this.audioVideoController.update({needsRenegotiation:!0}),e.id()}stopLocalVideoTile(){this.currentLocalTile&&(this.currentLocalTile.stateRef().localTileStarted=!1,this.currentLocalTile.bindVideoStream(this.audioVideoController.configuration.credentials.attendeeId,!0,null,null,null,null,this.audioVideoController.configuration.credentials.externalUserId),this.audioVideoController.update({needsRenegotiation:!0}))}hasStartedLocalVideoTile(){return!!(this.currentLocalTile&&this.currentLocalTile.stateRef().localTileStarted)}removeLocalVideoTile(){this.currentLocalTile&&this.removeVideoTile(this.currentLocalTile.id())}getLocalVideoTile(){return this.currentLocalTile}pauseVideoTile(e){const t=this.getVideoTile(e);t&&(this.currentPausedTilesByIds.has(e)||(this.audioVideoController.pauseReceivingStream(t.stateRef().streamId),this.currentPausedTilesByIds.add(e)),t.pause())}unpauseVideoTile(e){const t=this.getVideoTile(e);t&&(this.currentPausedTilesByIds.has(e)&&(this.audioVideoController.resumeReceivingStream(t.stateRef().streamId),this.currentPausedTilesByIds.delete(e)),t.unpause())}getVideoTile(e){return this.tileMap.has(e)?this.tileMap.get(e):null}getVideoTileArea(e){const t=e.state();let r=0,l=0;return t.boundVideoElement&&(r=t.boundVideoElement.clientHeight*t.devicePixelRatio,l=t.boundVideoElement.clientWidth*t.devicePixelRatio),r*l}getAllRemoteVideoTiles(){const e=new Array;return this.tileMap.forEach((t,r)=>{(!this.currentLocalTile||r!==this.currentLocalTile.id())&&e.push(t)}),e}getAllVideoTiles(){return Array.from(this.tileMap.values())}addVideoTile(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;const t=this.nextTileId;this.nextTileId+=1,this.createDevicePixelRatioMonitorIfNeeded();const r=this.tileFactory.makeTile(t,e,this,this.devicePixelRatioMonitor);return this.tileMap.set(t,r),r}removeVideoTile(e){if(!this.tileMap.has(e))return;const t=this.tileMap.get(e);this.currentLocalTile===t&&(this.currentLocalTile=null),t.destroy(),this.tileMap.delete(e),this.audioVideoController.forEachObserver(r=>{f.Maybe.of(r.videoTileWasRemoved).map(l=>l.bind(r)(e))}),this.discardDevicePixelRatioMonitorIfNotNeeded()}removeVideoTilesByAttendeeId(e){const t=[];for(const r of this.getAllVideoTiles()){const l=r.state();l.boundAttendeeId===e&&(this.removeVideoTile(l.tileId),t.push(l.tileId))}return t}removeAllVideoTiles(){const e=Array.from(this.tileMap.keys());for(const t of e)this.removeVideoTile(t)}sendTileStateUpdate(e){this.audioVideoController.forEachObserver(t=>{f.Maybe.of(t.videoTileDidUpdate).map(r=>r.bind(t)(e))})}haveVideoTilesWithStreams(){for(const e of this.getAllVideoTiles())if(e.state().boundVideoStream)return!0;return!1}haveVideoTileForAttendeeId(e){return!!this.getVideoTileForAttendeeId(e)}getVideoTileForAttendeeId(e){for(const t of this.getAllVideoTiles())if(t.state().boundAttendeeId===e)return t}captureVideoTile(e){const t=this.getVideoTile(e);return t?t.capture():null}findOrCreateLocalVideoTile(){return this.currentLocalTile?this.currentLocalTile:(this.currentLocalTile=this.addVideoTile(!0),this.currentLocalTile.bindVideoStream(this.audioVideoController.configuration.credentials.attendeeId,!0,null,null,null,null,this.audioVideoController.configuration.credentials.externalUserId),this.currentLocalTile)}constructor(e,t,r){this.tileFactory=e,this.audioVideoController=t,this.logger=r,this.tileMap=new Map,this.nextTileId=1,this.currentLocalTile=null,this.currentPausedTilesByIds=new Set,this.keepLastFrameWhenPaused=!1,this.keepLastFrameWhenPaused=t.configuration.keepLastFrameWhenPaused}},"DefaultVideoTileController");c.default=n},"+DE9":function(N,c,d){"use strict";var S=this&&this.__awaiter||function(m,f,a,n){function i(e){return e instanceof a?e:new a(function(t){t(e)})}return o(i,"adopt"),new(a||(a=Promise))(function(e,t){function r(v){try{p(n.next(v))}catch(g){t(g)}}o(r,"fulfilled");function l(v){try{p(n.throw(v))}catch(g){t(g)}}o(l,"rejected");function p(v){v.done?e(v.value):i(v.value).then(r,l)}o(p,"step"),p((n=n.apply(m,f||[])).next())})};Object.defineProperty(c,"__esModule",{value:!0});let h=o(class{destroy(){return S(this,void 0,void 0,function*(){this.mediaQueryList&&(typeof this.mediaQueryList.addEventListener=="function"?this.mediaQueryList.removeEventListener("change",this.mediaQueryListener):this.mediaQueryList.removeListener(this.mediaQueryListener)),delete this.mediaQueryListener,this.observerQueue.clear()})}registerObserver(f){this.observerQueue.add(f),f.devicePixelRatioChanged(this.devicePixelRatioSource.devicePixelRatio())}removeObserver(f){this.observerQueue.delete(f)}constructor(f,a){if(this.devicePixelRatioSource=f,this.observerQueue=new Set,this.mediaQueryListener=()=>{this.observerQueue.forEach(i=>{i.devicePixelRatioChanged(this.devicePixelRatioSource.devicePixelRatio())})},typeof window>"u")return;const n=matchMedia(`(resolution: ${this.devicePixelRatioSource.devicePixelRatio()}dppx)`);typeof n.addEventListener=="function"?(n.addEventListener("change",this.mediaQueryListener),this.mediaQueryList=n):typeof n.addListener=="function"?(n.addListener(this.mediaQueryListener),this.mediaQueryList=n):a.warn("ignoring DefaultDevicePixelRatioMonitor")}},"DefaultDevicePixelRatioMonitor");c.default=h},"+JPL":function(N,c,d){N.exports={default:d("gRli"),__esModule:!0}},"+br/":function(N,c,d){"use strict";d.r(c),d.d(c,"__extends",function(){return h}),d.d(c,"__assign",function(){return m}),d.d(c,"__rest",function(){return f}),d.d(c,"__decorate",function(){return a}),d.d(c,"__param",function(){return n}),d.d(c,"__metadata",function(){return i}),d.d(c,"__awaiter",function(){return e}),d.d(c,"__generator",function(){return t}),d.d(c,"__createBinding",function(){return r}),d.d(c,"__exportStar",function(){return l}),d.d(c,"__values",function(){return p}),d.d(c,"__read",function(){return v}),d.d(c,"__spread",function(){return g}),d.d(c,"__spreadArrays",function(){return u}),d.d(c,"__await",function(){return s}),d.d(c,"__asyncGenerator",function(){return I}),d.d(c,"__asyncDelegator",function(){return M}),d.d(c,"__asyncValues",function(){return R}),d.d(c,"__makeTemplateObject",function(){return B}),d.d(c,"__importStar",function(){return j}),d.d(c,"__importDefault",function(){return A}),d.d(c,"__classPrivateFieldGet",function(){return D}),d.d(c,"__classPrivateFieldSet",function(){return $});/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var S=o(function(O,P){return S=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(k,K){k.__proto__=K}||function(k,K){for(var Z in K)K.hasOwnProperty(Z)&&(k[Z]=K[Z])},S(O,P)},"extendStatics");function h(O,P){S(O,P);function k(){this.constructor=O}o(k,"__"),O.prototype=P===null?Object.create(P):(k.prototype=P.prototype,new k)}o(h,"__extends");var m=o(function(){return m=Object.assign||o(function(P){for(var k,K=1,Z=arguments.length;K<Z;K++){k=arguments[K];for(var Y in k)Object.prototype.hasOwnProperty.call(k,Y)&&(P[Y]=k[Y])}return P},"__assign"),m.apply(this,arguments)},"__assign");function f(O,P){var k={};for(var K in O)Object.prototype.hasOwnProperty.call(O,K)&&P.indexOf(K)<0&&(k[K]=O[K]);if(O!=null&&typeof Object.getOwnPropertySymbols=="function")for(var Z=0,K=Object.getOwnPropertySymbols(O);Z<K.length;Z++)P.indexOf(K[Z])<0&&Object.prototype.propertyIsEnumerable.call(O,K[Z])&&(k[K[Z]]=O[K[Z]]);return k}o(f,"__rest");function a(O,P,k,K){var Z=arguments.length,Y=Z<3?P:K===null?K=Object.getOwnPropertyDescriptor(P,k):K,ie;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")Y=Reflect.decorate(O,P,k,K);else for(var ge=O.length-1;ge>=0;ge--)(ie=O[ge])&&(Y=(Z<3?ie(Y):Z>3?ie(P,k,Y):ie(P,k))||Y);return Z>3&&Y&&Object.defineProperty(P,k,Y),Y}o(a,"__decorate");function n(O,P){return function(k,K){P(k,K,O)}}o(n,"__param");function i(O,P){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(O,P)}o(i,"__metadata");function e(O,P,k,K){function Z(Y){return Y instanceof k?Y:new k(function(ie){ie(Y)})}return o(Z,"adopt"),new(k||(k=Promise))(function(Y,ie){function ge(we){try{le(K.next(we))}catch(Be){ie(Be)}}o(ge,"fulfilled");function Ie(we){try{le(K.throw(we))}catch(Be){ie(Be)}}o(Ie,"rejected");function le(we){we.done?Y(we.value):Z(we.value).then(ge,Ie)}o(le,"step"),le((K=K.apply(O,P||[])).next())})}o(e,"__awaiter");function t(O,P){var k={label:0,sent:function(){if(Y[0]&1)throw Y[1];return Y[1]},trys:[],ops:[]},K,Z,Y,ie;return ie={next:ge(0),throw:ge(1),return:ge(2)},typeof Symbol=="function"&&(ie[Symbol.iterator]=function(){return this}),ie;function ge(le){return function(we){return Ie([le,we])}}function Ie(le){if(K)throw new TypeError("Generator is already executing.");for(;k;)try{if(K=1,Z&&(Y=le[0]&2?Z.return:le[0]?Z.throw||((Y=Z.return)&&Y.call(Z),0):Z.next)&&!(Y=Y.call(Z,le[1])).done)return Y;switch(Z=0,Y&&(le=[le[0]&2,Y.value]),le[0]){case 0:case 1:Y=le;break;case 4:return k.label++,{value:le[1],done:!1};case 5:k.label++,Z=le[1],le=[0];continue;case 7:le=k.ops.pop(),k.trys.pop();continue;default:if(Y=k.trys,!(Y=Y.length>0&&Y[Y.length-1])&&(le[0]===6||le[0]===2)){k=0;continue}if(le[0]===3&&(!Y||le[1]>Y[0]&&le[1]<Y[3])){k.label=le[1];break}if(le[0]===6&&k.label<Y[1]){k.label=Y[1],Y=le;break}if(Y&&k.label<Y[2]){k.label=Y[2],k.ops.push(le);break}Y[2]&&k.ops.pop(),k.trys.pop();continue}le=P.call(O,k)}catch(we){le=[6,we],Z=0}finally{K=Y=0}if(le[0]&5)throw le[1];return{value:le[0]?le[1]:void 0,done:!0}}}o(t,"__generator");function r(O,P,k,K){K===void 0&&(K=k),O[K]=P[k]}o(r,"__createBinding");function l(O,P){for(var k in O)k!=="default"&&!P.hasOwnProperty(k)&&(P[k]=O[k])}o(l,"__exportStar");function p(O){var P=typeof Symbol=="function"&&Symbol.iterator,k=P&&O[P],K=0;if(k)return k.call(O);if(O&&typeof O.length=="number")return{next:function(){return O&&K>=O.length&&(O=void 0),{value:O&&O[K++],done:!O}}};throw new TypeError(P?"Object is not iterable.":"Symbol.iterator is not defined.")}o(p,"__values");function v(O,P){var k=typeof Symbol=="function"&&O[Symbol.iterator];if(!k)return O;var K=k.call(O),Z,Y=[],ie;try{for(;(P===void 0||P-- >0)&&!(Z=K.next()).done;)Y.push(Z.value)}catch(ge){ie={error:ge}}finally{try{Z&&!Z.done&&(k=K.return)&&k.call(K)}finally{if(ie)throw ie.error}}return Y}o(v,"__read");function g(){for(var O=[],P=0;P<arguments.length;P++)O=O.concat(v(arguments[P]));return O}o(g,"__spread");function u(){for(var O=0,P=0,k=arguments.length;P<k;P++)O+=arguments[P].length;for(var K=Array(O),Z=0,P=0;P<k;P++)for(var Y=arguments[P],ie=0,ge=Y.length;ie<ge;ie++,Z++)K[Z]=Y[ie];return K}o(u,"__spreadArrays");function s(O){return this instanceof s?(this.v=O,this):new s(O)}o(s,"__await");function I(O,P,k){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var K=k.apply(O,P||[]),Z,Y=[];return Z={},ie("next"),ie("throw"),ie("return"),Z[Symbol.asyncIterator]=function(){return this},Z;function ie(Re){K[Re]&&(Z[Re]=function(Ne){return new Promise(function(_e,Ze){Y.push([Re,Ne,_e,Ze])>1||ge(Re,Ne)})})}function ge(Re,Ne){try{Ie(K[Re](Ne))}catch(_e){Be(Y[0][3],_e)}}function Ie(Re){Re.value instanceof s?Promise.resolve(Re.value.v).then(le,we):Be(Y[0][2],Re)}function le(Re){ge("next",Re)}function we(Re){ge("throw",Re)}function Be(Re,Ne){Re(Ne),Y.shift(),Y.length&&ge(Y[0][0],Y[0][1])}}o(I,"__asyncGenerator");function M(O){var P,k;return P={},K("next"),K("throw",function(Z){throw Z}),K("return"),P[Symbol.iterator]=function(){return this},P;function K(Z,Y){P[Z]=O[Z]?function(ie){return(k=!k)?{value:s(O[Z](ie)),done:Z==="return"}:Y?Y(ie):ie}:Y}}o(M,"__asyncDelegator");function R(O){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var P=O[Symbol.asyncIterator],k;return P?P.call(O):(O=typeof p=="function"?p(O):O[Symbol.iterator](),k={},K("next"),K("throw"),K("return"),k[Symbol.asyncIterator]=function(){return this},k);function K(Y){k[Y]=O[Y]&&function(ie){return new Promise(function(ge,Ie){ie=O[Y](ie),Z(ge,Ie,ie.done,ie.value)})}}function Z(Y,ie,ge,Ie){Promise.resolve(Ie).then(function(le){Y({value:le,done:ge})},ie)}}o(R,"__asyncValues");function B(O,P){return Object.defineProperty?Object.defineProperty(O,"raw",{value:P}):O.raw=P,O}o(B,"__makeTemplateObject");function j(O){if(O&&O.__esModule)return O;var P={};if(O!=null)for(var k in O)Object.hasOwnProperty.call(O,k)&&(P[k]=O[k]);return P.default=O,P}o(j,"__importStar");function A(O){return O&&O.__esModule?O:{default:O}}o(A,"__importDefault");function D(O,P){if(!P.has(O))throw new TypeError("attempted to get private field on non-instance");return P.get(O)}o(D,"__classPrivateFieldGet");function $(O,P,k){if(!P.has(O))throw new TypeError("attempted to set private field on non-instance");return P.set(O,k),k}o($,"__classPrivateFieldSet")},"+j7y":function(N,c,d){"use strict";var S=d("YXGX"),h=d("ifKl"),m=S.a?function(f){return S.a.get(f)}:h.a;c.a=m},"+vXQ":function(N,c,d){N.exports=!d("C61u")&&!d("S4vA")(function(){return Object.defineProperty(d("BfU5")("div"),"a",{get:function(){return 7}}).a!=7})},"/AJg":function(N,c,d){"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.convertServerSideNetworkAdaptionEnumToSignaled=c.convertServerSideNetworkAdaptionEnumFromSignaled=c.ServerSideNetworkAdaption=void 0;const S=d("XCDq");var h;(function(a){a[a.Default=0]="Default",a[a.None=1]="None",a[a.BandwidthProbing=2]="BandwidthProbing"})(h=c.ServerSideNetworkAdaption||(c.ServerSideNetworkAdaption={})),c.default=h;function m(a){switch(a){case S.SdkServerSideNetworkAdaption.DEFAULT:return h.Default;case S.SdkServerSideNetworkAdaption.NONE:return h.None;case S.SdkServerSideNetworkAdaption.BANDWIDTH_PROBING:return h.BandwidthProbing}}o(m,"convertServerSideNetworkAdaptionEnumFromSignaled"),c.convertServerSideNetworkAdaptionEnumFromSignaled=m;function f(a){switch(a){case h.Default:return S.SdkServerSideNetworkAdaption.DEFAULT;case h.None:return S.SdkServerSideNetworkAdaption.NONE;case h.BandwidthProbing:return S.SdkServerSideNetworkAdaption.BANDWIDTH_PROBING}}o(f,"convertServerSideNetworkAdaptionEnumToSignaled"),c.convertServerSideNetworkAdaptionEnumToSignaled=f},"/F7N":function(N,c){var d=Math.ceil,S=Math.floor;N.exports=function(h){return isNaN(h=+h)?0:(h>0?S:d)(h)}},"/N6y":function(N,c,d){"use strict";Object.defineProperty(c,"__esModule",{value:!0});let S=o(class{toJSON(){return{attendeeId:this.attendeeId,joinToken:this.joinToken===null?null:"<redacted>"}}constructor(){this.attendeeId=null,this.externalUserId=null,this.joinToken=null}},"MeetingSessionCredentials");c.default=S},"/NTb":function(N,c,d){c.f=d("zBWt")},"/U1e":function(N,c,d){"use strict";Object.defineProperty(c,"__esModule",{value:!0});const S=d("wR/T"),h=d("R4Nl"),m=d("a16/"),f=d("iNgN");let a=o(class{constructor(i,e){this.meetingId=null,this.externalMeetingId=null,this.credentials=null,this.urls=null,this.connectionTimeoutMs=15e3,this.attendeePresenceTimeoutMs=0,this.connectionHealthPolicyConfiguration=new S.default,this.reconnectTimeoutMs=120*1e3,this.reconnectFixedWaitMs=0,this.reconnectShortBackOffMs=1*1e3,this.reconnectLongBackOffMs=5*1e3,this.enableSimulcastForUnifiedPlanChromiumBasedBrowsers=!1,this.videoDownlinkBandwidthPolicy=null,this.videoUplinkBandwidthPolicy=null,this.keepLastFrameWhenPaused=!1,this.disablePeriodicKeyframeRequestOnContentSender=!1,i&&(i=h.toLowerCasePropertyNames(i),i.meeting&&(i=i.meeting),this.meetingId=i.meetingid,this.externalMeetingId=i.externalmeetingid,this.urls=new f.default,this.urls.audioHostURL=i.mediaplacement.audiohosturl,this.urls.signalingURL=i.mediaplacement.signalingurl,this.urls.turnControlURL=i.mediaplacement.turncontrolurl,i.mediaplacement.eventingestionurl&&(this.urls.eventIngestionURL=i.mediaplacement.eventingestionurl)),e&&(e=h.toLowerCasePropertyNames(e),e.attendee&&(e=e.attendee),this.credentials=new m.default,this.credentials.attendeeId=e.attendeeid,this.credentials.externalUserId=e.externaluserid,this.credentials.joinToken=e.jointoken)}},"MeetingSessionConfiguration");c.default=a},"/sFY":function(N,c,d){"use strict";Object.defineProperty(c,"__esModule",{value:!0});let S=o(class{},"SignalingClientVideoSubscriptionConfiguration");c.default=S},"/tXR":function(N,c){c.f=Object.getOwnPropertySymbols},"046c":function(N,c,d){"use strict";d.d(c,"a",function(){return h});const S={Shortcut:"shortcut",Event:"event",Webhook:"webhook",Scheduled:"scheduled",External:"external"},h={Shortcut:"shortcut",Event:"event",Webhook:"webhook",Scheduled:"scheduled",External:"external"}},"0JTw":function(N,c,d){"use strict";Object.defineProperty(c,"__esModule",{value:!0});const S=d("HbHZ");let h=o(class{isConnectionTerminated(){switch(this.type){case S.default.WebSocketFailed:case S.default.WebSocketError:case S.default.WebSocketClosing:case S.default.WebSocketClosed:return!0;default:return!1}}constructor(f,a,n,i,e){this.client=f,this.type=a,this.message=n,this.closeCode=i,this.closeReason=e,this.timestampMs=Date.now()}},"SignalingClientEvent");c.default=h},"0Kz9":function(N,c,d){"use strict";var S=this&&this.__awaiter||function(m,f,a,n){function i(e){return e instanceof a?e:new a(function(t){t(e)})}return o(i,"adopt"),new(a||(a=Promise))(function(e,t){function r(v){try{p(n.next(v))}catch(g){t(g)}}o(r,"fulfilled");function l(v){try{p(n.throw(v))}catch(g){t(g)}}o(l,"rejected");function p(v){v.done?e(v.value):i(v.value).then(r,l)}o(p,"step"),p((n=n.apply(m,f||[])).next())})};Object.defineProperty(c,"__esModule",{value:!0});let h=o(class{mute(f){return S(this,void 0,void 0,function*(){})}stop(){var f;return S(this,void 0,void 0,function*(){(f=this.node)===null||f===void 0||f.disconnect()})}intrinsicDevice(){return S(this,void 0,void 0,function*(){return this.inner})}createAudioNode(f){var a;return S(this,void 0,void 0,function*(){return(a=this.node)===null||a===void 0||a.disconnect(),this.node=yield this.createSingleAudioNode(f),{start:this.node,end:this.node}})}constructor(f){this.inner=f}},"SingleNodeAudioTransformDevice");c.default=h},"0LIx":function(N,c,d){"use strict";Object.defineProperty(c,"__esModule",{value:!0});const S=d("XCDq"),h=d("MpTp"),m=d("OEM7");let f=o(class{localStreamDescriptions(){return[this.videoStreamDescription.clone()]}convertBpsToKbps(n){return n>0&&n<1e3?1:Math.trunc(n/1e3)}remoteStreamDescriptions(){if(!this.currentIndex||!this.currentIndex.sources)return[];const n=[];return this.currentIndex.sources.forEach(i=>{const e=new m.default;e.attendeeId=i.attendeeId,e.groupId=i.groupId,e.streamId=i.streamId,e.maxBitrateKbps=i.maxBitrateKbps,e.avgBitrateKbps=this.convertBpsToKbps(i.avgBitrateBps),n.push(e)}),n}integrateUplinkPolicyDecision(n){if(n&&n.length){const i=n[0];this.videoStreamDescription.maxBitrateKbps=i.maxBitrate/1e3,this.videoStreamDescription.maxFrameRate=i.maxFramerate}}integrateIndexFrame(n){this.currentIndex=n;const i=new Map;let e=!1;for(const t of n.sources){if(!i.has(t.attendeeId)){i.set(t.attendeeId,t.groupId);continue}const r=i.get(t.attendeeId);r<t.groupId&&(this.logger.warn(`Old group ID ${r} found for attendee ID ${t.attendeeId}, replacing with newer group ID ${t.groupId}`),i.set(t.attendeeId,t.groupId)),e=!0}e&&(this.currentIndex.sources=this.currentIndex.sources.filter(t=>i.get(t.attendeeId)===t.groupId)),this.streamToAttendeeMap=null,this.streamToExternalUserIdMap=null}subscribeFrameSent(){this.indexForSubscribe=this.currentIndex}integrateSubscribeAckFrame(n){this.currentSubscribeAck=n,this.subscribeTrackToStreamMap=this.buildTrackToStreamMap(this.currentSubscribeAck),this.subscribeSsrcToStreamMap=this.buildSSRCToStreamMap(this.currentSubscribeAck),this.subscribeStreamToAttendeeMap=this.buildStreamToAttendeeMap(this.indexForSubscribe),this.subscribeStreamToExternalUserIdMap=this.buildStreamExternalUserIdMap(this.indexForSubscribe)}integrateBitratesFrame(n){if(this.currentIndex)for(const i of n.bitrates){const e=this.currentIndex.sources.find(t=>t.streamId===i.sourceStreamId);e!==void 0&&(e.avgBitrateBps=i.avgBitrateBps)}}allStreams(){const n=new h.default;if(this.currentIndex)for(const i of this.currentIndex.sources)n.add(i.streamId);return n}allVideoSendingSourcesExcludingSelf(n){const i=[],e=new Set;if(this.currentIndex&&this.currentIndex.sources&&this.currentIndex.sources.length)for(const t of this.currentIndex.sources){const{attendeeId:r,externalUserId:l,mediaType:p}=t;r!==n&&p===S.SdkStreamMediaType.VIDEO&&(e.has(r)||(i.push({attendee:{attendeeId:r,externalUserId:l}}),e.add(r)))}return i}streamSelectionUnderBandwidthConstraint(n,i,e,t){const r=new Set;if(this.currentIndex)for(const u of this.currentIndex.sources)u.attendeeId===n||u.mediaType!==S.SdkStreamMediaType.VIDEO||!i.has(u.attendeeId)&&!e.has(u.attendeeId)&&r.add(u.attendeeId);const l=this.buildAttendeeToSortedStreamDescriptorMapExcludingSelf(n),p=new Map;let v=0;l.forEach((u,s)=>{p.set(s,u[0]),v+=u[0].maxBitrateKbps}),v=this.trySelectHighBitrateForAttendees(l,i,v,t,p),this.trySelectHighBitrateForAttendees(l,r,v,t,p);const g=new h.default;for(const u of p.values())g.add(u.streamId);return g}highestQualityStreamFromEachGroupExcludingSelf(n){const i=new h.default;if(this.currentIndex){const e=new Map;for(const t of this.currentIndex.sources)t.attendeeId===n||t.mediaType!==S.SdkStreamMediaType.VIDEO||(!e.has(t.groupId)||t.maxBitrateKbps>e.get(t.groupId).maxBitrateKbps)&&e.set(t.groupId,t);for(const t of e.values())i.add(t.streamId)}return i}numberOfVideoPublishingParticipantsExcludingSelf(n){return this.highestQualityStreamFromEachGroupExcludingSelf(n).array().length}numberOfParticipants(){return this.currentIndex.numParticipants?this.currentIndex.numParticipants:-1}attendeeIdForTrack(n){const i=this.streamIdForTrack(n);if(i===void 0||!this.subscribeStreamToAttendeeMap)return this.logger.warn(`no attendee found for track ${n}`),"";const e=this.subscribeStreamToAttendeeMap.get(i);return e||(this.logger.info(`track ${n} (stream ${i}) does not correspond to a known attendee`),"")}externalUserIdForTrack(n){const i=this.streamIdForTrack(n);if(i===void 0||!this.subscribeStreamToExternalUserIdMap)return this.logger.warn(`no external user id found for track ${n}`),"";const e=this.subscribeStreamToExternalUserIdMap.get(i);return e||(this.logger.info(`track ${n} (stream ${i}) does not correspond to a known externalUserId`),"")}attendeeIdForStreamId(n){if(!this.streamToAttendeeMap)if(this.currentIndex)this.streamToAttendeeMap=this.buildStreamToAttendeeMap(this.currentIndex);else return"";const i=this.streamToAttendeeMap.get(n);return i||(this.logger.info(`stream ${n}) does not correspond to a known attendee`),"")}groupIdForStreamId(n){if(!(!this.currentIndex||!this.currentIndex.sources)){for(const i of this.currentIndex.sources)if(i.streamId===n)return i.groupId;if(this.indexForSubscribe){for(const i of this.indexForSubscribe.sources)if(i.streamId===n)return i.groupId}}}StreamIdsInSameGroup(n,i){return this.groupIdForStreamId(n)===this.groupIdForStreamId(i)}streamIdForTrack(n){if(this.subscribeTrackToStreamMap)return this.subscribeTrackToStreamMap.get(n)}streamIdForSSRC(n){if(this.subscribeSsrcToStreamMap)return this.subscribeSsrcToStreamMap.get(n)}overrideStreamIdMappings(n,i){if(this.subscribeTrackToStreamMap){for(const[e,t]of this.subscribeTrackToStreamMap.entries())if(n===t){this.subscribeTrackToStreamMap.set(e,i);break}}if(this.subscribeSsrcToStreamMap){for(const[e,t]of this.subscribeSsrcToStreamMap.entries())if(n===t){this.subscribeSsrcToStreamMap.set(e,i);break}}}streamsPausedAtSource(){const n=new h.default;if(this.currentIndex)for(const i of this.currentIndex.pausedAtSourceIds)n.add(i);return n}buildTrackToStreamMap(n){const i=new Map;this.logger.debug(()=>`trackMap ${JSON.stringify(n.tracks)}`);for(const e of n.tracks)e.trackLabel.length>0&&e.streamId>0&&i.set(e.trackLabel,e.streamId);return i}buildSSRCToStreamMap(n){const i=new Map;this.logger.debug(()=>`ssrcMap ${JSON.stringify(n.tracks)}`);for(const e of n.tracks)e.trackLabel.length>0&&e.streamId>0&&i.set(e.ssrc,e.streamId);return i}buildStreamToAttendeeMap(n){const i=new Map;if(n)for(const e of n.sources)i.set(e.streamId,e.attendeeId);return i}buildStreamExternalUserIdMap(n){const i=new Map;if(n)for(const e of n.sources)e.externalUserId&&i.set(e.streamId,e.externalUserId);return i}trySelectHighBitrateForAttendees(n,i,e,t,r){for(const l of i){if(e>=t)break;if(n.has(l)){const p=n.get(l);for(const v of p.reverse())if(e-r.get(l).maxBitrateKbps+v.maxBitrateKbps<t){e=e-r.get(l).maxBitrateKbps+v.maxBitrateKbps,r.set(l,v);break}}}return e}buildAttendeeToSortedStreamDescriptorMapExcludingSelf(n){const i=new Map;if(this.currentIndex)for(const e of this.currentIndex.sources)e.attendeeId===n||e.mediaType!==S.SdkStreamMediaType.VIDEO||(i.has(e.attendeeId)?i.get(e.attendeeId).push(e):i.set(e.attendeeId,[e]));return i.forEach((e,t)=>{e.sort((r,l)=>r.maxBitrateKbps>l.maxBitrateKbps?1:r.maxBitrateKbps<l.maxBitrateKbps?-1:0)}),i}constructor(n){this.logger=n,this.currentIndex=null,this.indexForSubscribe=null,this.currentSubscribeAck=null,this.subscribeTrackToStreamMap=null,this.subscribeStreamToAttendeeMap=null,this.subscribeStreamToExternalUserIdMap=null,this.subscribeSsrcToStreamMap=null,this.streamToAttendeeMap=null,this.streamToExternalUserIdMap=null,this.videoStreamDescription=new m.default,this.videoStreamDescription.trackLabel="AmazonChimeExpressVideo",this.videoStreamDescription.streamId=2,this.videoStreamDescription.groupId=2}},"DefaultVideoStreamIndex");c.default=f},"0NFC":function(N,c,d){"use strict";var S=this&&this.__awaiter||function(r,l,p,v){function g(u){return u instanceof p?u:new p(function(s){s(u)})}return o(g,"adopt"),new(p||(p=Promise))(function(u,s){function I(B){try{R(v.next(B))}catch(j){s(j)}}o(I,"fulfilled");function M(B){try{R(v.throw(B))}catch(j){s(j)}}o(M,"rejected");function R(B){B.done?u(B.value):g(B.value).then(I,M)}o(R,"step"),R((v=v.apply(r,l||[])).next())})};Object.defineProperty(c,"__esModule",{value:!0});const h=d("/U1e"),m=d("a16/"),f=d("bTau"),a=d("6/h7"),n=d("KyYT"),i=d("NWIo"),e=d("34ho");let t=o(class{static createContentShareMeetingSessionConfigure(l){const p=new h.default;return p.meetingId=l.meetingId,p.externalMeetingId=l.externalMeetingId,p.urls=l.urls,p.disablePeriodicKeyframeRequestOnContentSender=l.disablePeriodicKeyframeRequestOnContentSender,p.credentials=new m.default,p.credentials.attendeeId=l.credentials.attendeeId+e.default.Modality,p.credentials.externalUserId=l.credentials.externalUserId,p.credentials.joinToken=l.credentials.joinToken+e.default.Modality,p}setContentAudioProfile(l){this.contentAudioVideo.setAudioProfile(l)}enableSimulcastForContentShare(l,p){l?(this.contentAudioVideo.configuration.enableSimulcastForUnifiedPlanChromiumBasedBrowsers=!0,this.contentAudioVideo.configuration.videoUplinkBandwidthPolicy=new i.default(this.contentAudioVideo.logger,p)):(this.contentAudioVideo.configuration.enableSimulcastForUnifiedPlanChromiumBasedBrowsers=!1,this.contentAudioVideo.configuration.videoUplinkBandwidthPolicy=void 0)}startContentShare(l){return S(this,void 0,void 0,function*(){if(l){this.mediaStreamBroker.mediaStream=l;for(let p=0;p<this.mediaStreamBroker.mediaStream.getTracks().length;p++)this.mediaStreamBroker.mediaStream.getTracks()[p].addEventListener("ended",()=>{this.stopContentShare()});this.contentAudioVideo.start()}})}startContentShareFromScreenCapture(l,p){return S(this,void 0,void 0,function*(){const v=yield this.mediaStreamBroker.acquireScreenCaptureDisplayInputStream(l,p);return yield this.startContentShare(v),v})}pauseContentShare(){this.mediaStreamBroker.toggleMediaStream(!1)&&this.forEachContentShareObserver(l=>{n.Maybe.of(l.contentShareDidPause).map(p=>p.call(l))})}unpauseContentShare(){this.mediaStreamBroker.toggleMediaStream(!0)&&this.forEachContentShareObserver(l=>{n.Maybe.of(l.contentShareDidUnpause).map(p=>p.call(l))})}setContentShareVideoCodecPreferences(l){this.contentAudioVideo.setVideoCodecSendPreferences(l)}destroy(){return S(this,void 0,void 0,function*(){this.contentAudioVideo&&(this.destroyed=!0,this.contentAudioVideo.removeObserver(this),this.stopContentShare(),this.observerQueue.clear(),this.contentAudioVideo=void 0,this.attendeeAudioVideo=void 0,this.mediaStreamBroker=void 0)})}stopContentShare(){this.contentAudioVideo.stop(),this.mediaStreamBroker.cleanup()}addContentShareObserver(l){this.observerQueue.add(l)}removeContentShareObserver(l){this.observerQueue.delete(l)}forEachContentShareObserver(l){for(const p of this.observerQueue)a.default.nextTick(()=>{this.observerQueue.has(p)&&l(p)})}audioVideoDidStart(){this.mediaStreamBroker.mediaStream.getVideoTracks().length>0&&this.contentAudioVideo.videoTileController.startLocalVideoTile()}audioVideoDidStop(l){this.mediaStreamBroker.cleanup(),this.contentShareTile&&(this.attendeeAudioVideo.videoTileController.removeVideoTile(this.contentShareTile.id()),this.contentShareTile=null),this.forEachContentShareObserver(p=>{n.Maybe.of(p.contentShareDidStop).map(v=>v.call(p))})}setupContentShareEvents(){this.attendeeAudioVideo.realtimeController.realtimeSubscribeToAttendeeIdPresence((l,p,v,g)=>{const u=new f.default(l).hasModality(f.default.MODALITY_CONTENT),s=new f.default(l).base()===this.attendeeAudioVideo.configuration.credentials.attendeeId;if(!u||!s||!p||this.contentShareTile)return;const I=this.mediaStreamBroker.mediaStream;if(I!=null&&I.getVideoTracks().length){this.contentShareTile=this.attendeeAudioVideo.videoTileController.addVideoTile();const M=I.getVideoTracks()[0];let R,B;if(M.getSettings){const j=M.getSettings();R=j.width,B=j.height}else{const j=M.getCapabilities();R=j.width,B=j.height}this.contentShareTile.bindVideoStream(this.contentAudioVideo.configuration.credentials.attendeeId,!1,I,R,B,null,this.contentAudioVideo.configuration.credentials.externalUserId)}this.forEachContentShareObserver(M=>{n.Maybe.of(M.contentShareDidStart).map(R=>R.call(M))})})}constructor(l,p,v){this.mediaStreamBroker=l,this.contentAudioVideo=p,this.attendeeAudioVideo=v,this.observerQueue=new Set,this.destroyed=!1,this.contentAudioVideo.addObserver(this),this.setupContentShareEvents()}},"DefaultContentShareController");c.default=t},"0OOd":function(N,c,d){"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.isVideoTransformDevice=void 0;function S(h){return!!h&&typeof h=="object"&&"transformStream"in h&&"stop"in h&&"intrinsicDevice"in h}o(S,"isVideoTransformDevice"),c.isVideoTransformDevice=S},"0PSK":function(N,c,d){"use strict";var S=d("q1tI"),h=d.n(S);c.a=h.a.createContext(null)},"0WpP":function(N,c,d){var S=d("/F7N"),h=Math.min;N.exports=function(m){return m>0?h(S(m),9007199254740991):0}},"0YRd":function(N,c,d){"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.SDPCandidateType=void 0;var S;(function(h){h.Host="host",h.ServerReflexive="srflx",h.PeerReflexive="prflx",h.Relay="relay"})(S=c.SDPCandidateType||(c.SDPCandidateType={})),c.default=S},"0jNb":function(N,c,d){"use strict";var S=this&&this.__awaiter||function(i,e,t,r){function l(p){return p instanceof t?p:new t(function(v){v(p)})}return o(l,"adopt"),new(t||(t=Promise))(function(p,v){function g(I){try{s(r.next(I))}catch(M){v(M)}}o(g,"fulfilled");function u(I){try{s(r.throw(I))}catch(M){v(M)}}o(u,"rejected");function s(I){I.done?p(I.value):l(I.value).then(g,u)}o(s,"step"),s((r=r.apply(i,e||[])).next())})};Object.defineProperty(c,"__esModule",{value:!0});const h=d("CtrA"),m=d("hEYi"),f=d("f2XL"),a=d("aVV0");let n=o(class Ih extends a.default{run(){return S(this,void 0,void 0,function*(){this.context.removableObservers.push(this),this.context.signalingClient.registerObserver(this),this.context.realtimeController.realtimeSubscribeToSendDataMessage(this.sendDataMessageHandler)})}removeObserver(){this.context.realtimeController.realtimeUnsubscribeFromSendDataMessage(this.sendDataMessageHandler),this.context.signalingClient.removeObserver(this)}handleSignalingClientEvent(e){if(e.type===m.default.ReceivedSignalFrame&&e.message.type===f.SdkSignalFrame.Type.DATA_MESSAGE)for(const t of e.message.dataMessage.messages){const r=new h.default(t.ingestTimeNs/1e6,t.topic,t.data,t.senderAttendeeId,t.senderExternalUserId,t.ingestTimeNs===0);this.context.realtimeController.realtimeReceiveDataMessage(r)}}validateDataMessage(e,t,r){if(!Ih.TOPIC_REGEX.test(e))throw new Error("Invalid topic");if(t.length>Ih.DATA_SIZE)throw new Error("Data size has to be less than 2048 bytes");if(r&&r<0)throw new Error("The life time of the message has to be non negative")}constructor(e){super(e.logger),this.context=e,this.taskName="SendAndReceiveDataMessagesTask",this.sendDataMessageHandler=(t,r,l)=>{if(this.context.signalingClient.ready()){let p;r instanceof Uint8Array?p=r:typeof r=="string"?p=new TextEncoder().encode(r):p=new TextEncoder().encode(JSON.stringify(r)),this.validateDataMessage(t,p,l);const v=f.SdkDataMessagePayload.create();v.topic=t,v.lifetimeMs=l,v.data=p;const g=f.SdkDataMessageFrame.create();g.messages=[v],this.context.signalingClient.sendDataMessage(g)}else this.context.logger.error("Signaling client is not ready")}}},"SendAndReceiveDataMessagesTask");c.default=n,n.TOPIC_REGEX=new RegExp(/^[a-zA-Z0-9_-]{1,36}$/),n.DATA_SIZE=2048},"1+fu":function(N,c,d){"use strict";var S=d("uRGJ"),h=d("LV2V"),m=d("FLqD"),f=d("IzLi");function a(r,l,p,v,g,u){return Object(f.a)(r)&&Object(f.a)(l)&&(u.set(l,r),Object(m.a)(r,l,void 0,a,u),u.delete(l)),r}o(a,"customDefaultsMerge");var n=a,i=d("dhcM"),e=Object(h.a)(function(r){return r.push(void 0,n),Object(S.a)(i.a,void 0,r)}),t=c.a=e},"10yS":function(N,c,d){"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.VideoLogEvent=void 0;var S;(function(h){h[h.InputAttached=0]="InputAttached",h[h.SendingFailed=1]="SendingFailed",h[h.SendingSuccess=2]="SendingSuccess"})(S=c.VideoLogEvent||(c.VideoLogEvent={})),c.default=S},"18tZ":function(N,c,d){"use strict";Object.defineProperty(c,"__esModule",{value:!0});var S;(function(h){h.Connect="connect"})(S||(S={})),c.default=S},"1AO7":function(N,c,d){"use strict";var S=this&&this.__awaiter||function(f,a,n,i){function e(t){return t instanceof n?t:new n(function(r){r(t)})}return o(e,"adopt"),new(n||(n=Promise))(function(t,r){function l(g){try{v(i.next(g))}catch(u){r(u)}}o(l,"fulfilled");function p(g){try{v(i.throw(g))}catch(u){r(u)}}o(p,"rejected");function v(g){g.done?t(g.value):e(g.value).then(l,p)}o(v,"step"),v((i=i.apply(f,a||[])).next())})};Object.defineProperty(c,"__esModule",{value:!0}),c.VideoFxCanvasOpsManager=void 0;const h=d("Lxy7");let m=o(class{getInferenceInputData(a){return this.inferenceCtx.save(),this.inferenceCtx.scale(this.horizontalResizeScalar,this.verticalResizeScalar),this.inferenceCtx.drawImage(a,0,0),this.inferenceCtx.restore(),this.inferenceCtx.getImageData(0,0,h.SEGMENTATION_MODEL.WIDTH_IN_PIXELS,h.SEGMENTATION_MODEL.HEIGHT_IN_PIXELS)}configureForStreamParameters(a){return S(this,void 0,void 0,function*(){if(this.streamParameters=a,this.outputCanvas.width=this.streamParameters.width,this.outputCanvas.height=this.streamParameters.height,this.backgroundReplacementCanvas){const n=document.createElement("canvas");n.width=this.streamParameters.width,n.height=this.streamParameters.height,n.getContext("2d").drawImage(this.backgroundReplacementCanvas,0,0,this.streamParameters.width,this.streamParameters.height),this.backgroundReplacementCanvas=n}this.configureCanvasPipeline()})}configureCanvasPipeline(){this.inferenceCanvas=document.createElement("canvas"),this.inferenceCtx=this.inferenceCanvas.getContext("2d",{willReadFrequently:!0}),this.inferenceCanvas.width=h.SEGMENTATION_MODEL.WIDTH_IN_PIXELS,this.inferenceCanvas.height=h.SEGMENTATION_MODEL.HEIGHT_IN_PIXELS,this.horizontalResizeScalar=h.SEGMENTATION_MODEL.WIDTH_IN_PIXELS/this.streamParameters.width,this.verticalResizeScalar=h.SEGMENTATION_MODEL.HEIGHT_IN_PIXELS/this.streamParameters.height}getBackgroundReplacementCanvas(){return this.backgroundReplacementCanvas}loadReplacementBackground(a){return S(this,void 0,void 0,function*(){const n=a.backgroundReplacement.backgroundImageURL,i=a.backgroundReplacement.defaultColor;if(n)try{const e=yield this.loadImage(n);this.backgroundReplacementImage=e,this.resizeAndSetReplacementImage(this.backgroundReplacementImage)}catch(e){throw this.logger.error(e),new Error("Failed to set the replacement image.")}else this.resizeAndSetReplacementColor(i)})}resizeAndSetReplacementImage(a){const n=document.createElement("canvas"),i=n.getContext("2d");n.width=this.streamParameters.width,n.height=this.streamParameters.height,i.drawImage(a,0,0,this.streamParameters.width,this.streamParameters.height),this.backgroundReplacementCanvas=n}resizeAndSetReplacementColor(a){const n=document.createElement("canvas"),i=n.getContext("2d");n.width=this.streamParameters.width,n.height=this.streamParameters.height,i.fillStyle=a,i.fillRect(0,0,this.streamParameters.width,this.streamParameters.height),this.backgroundReplacementCanvas=n}loadImage(a){return S(this,void 0,void 0,function*(){const i=yield(yield fetch(a).catch(t=>{throw this.logger.error(t.toString()),new Error("Failed to fetch image.")})).blob(),e=new Image;return e.src=URL.createObjectURL(i),new Promise((t,r)=>{e.onload=()=>{t(e)},e.onerror=l=>{r(l)}})})}constructor(a,n){this.streamParameters=a,this.outputCanvas=n,this.configureCanvasPipeline()}},"VideoFxCanvasOpsManager");c.VideoFxCanvasOpsManager=m},"1Apa":function(N,c,d){"use strict";var S=d("Ue8S");function h(r){var l=r.length;return l?r[Object(S.a)(0,l-1)]:void 0}o(h,"arraySample");var m=h,f=d("TGBA");function a(r){return m(Object(f.a)(r))}o(a,"baseSample");var n=a,i=d("/1FC");function e(r){var l=Object(i.a)(r)?m:n;return l(r)}o(e,"sample");var t=c.a=e},"1Cbm":function(N,c,d){"use strict";var S=this&&this.__awaiter||function(f,a,n,i){function e(t){return t instanceof n?t:new n(function(r){r(t)})}return o(e,"adopt"),new(n||(n=Promise))(function(t,r){function l(g){try{v(i.next(g))}catch(u){r(u)}}o(l,"fulfilled");function p(g){try{v(i.throw(g))}catch(u){r(u)}}o(p,"rejected");function v(g){g.done?t(g.value):e(g.value).then(l,p)}o(v,"step"),v((i=i.apply(f,a||[])).next())})};Object.defineProperty(c,"__esModule",{value:!0});const h=d("8wPz");let m=o(class{needUpdate(a){return this.activeSpeakers?this.speakerScores[a]===0&&this.activeSpeakers.includes(a)||this.speakerScores[a]>0&&!this.activeSpeakers.includes(a):!0}updateActiveSpeakers(a,n,i){if(!this.needUpdate(i))return;const e=[],t=Object.keys(this.speakerScores);for(let g=0;g<t.length;g++){const u=t[g];e.push({attendeeId:u,activeScore:this.speakerScores[u]})}const r=e.sort((g,u)=>u.activeScore-g.activeScore).filter(function(g){return g.activeScore>0}).map(function(g){return g.attendeeId});this.activeSpeakers=r,n(r);const p=r.length>0&&r[0]===this.selfAttendeeId&&a.prioritizeVideoSendBandwidthForActiveSpeaker();this.hasBandwidthPriority!==p&&(this.hasBandwidthPriority=p,this.hasBandwidthPriorityCallback(p))}updateScore(a,n,i,e,t){const r=a.calculateScore(i,e,t);this.speakerScores[i]!==r&&(this.speakerScores[i]=r,this.mostRecentUpdateTimestamp[i]=Date.now(),this.updateActiveSpeakers(a,n,i))}subscribe(a,n,i,e){const t=o((l,p)=>{if(!p){this.speakerScores[l]=0,this.mostRecentUpdateTimestamp[l]=Date.now(),this.updateActiveSpeakers(a,n,l);return}this.realtimeController.realtimeSubscribeToVolumeIndicator(l,(v,g,u,s)=>{this.mostRecentUpdateTimestamp[v]=Date.now(),u!==null&&(this.speakerMuteState[v]=u),this.updateScore(a,n,v,g,u)})},"handler");this.detectorCallbackToHandler.set(n,t);const r=new h.default(this.updateIntervalMs);if(r.start(()=>{for(const l in this.speakerScores)Date.now()-this.mostRecentUpdateTimestamp[l]>this.waitIntervalMs&&this.updateScore(a,n,l,0,this.speakerMuteState[l])}),this.detectorCallbackToActivityTimer.set(n,r),i&&e){const l=new h.default(e);l.start(()=>{i(this.speakerScores)}),this.detectorCallbackToScoresTimer.set(n,l)}this.realtimeController.realtimeSubscribeToAttendeeIdPresence(t)}unsubscribe(a){const n=this.detectorCallbackToHandler.get(a);this.detectorCallbackToHandler.delete(a),n&&this.realtimeController.realtimeUnsubscribeToAttendeeIdPresence(n);const i=this.detectorCallbackToActivityTimer.get(a);i&&(i.stop(),this.detectorCallbackToActivityTimer.delete(a));const e=this.detectorCallbackToScoresTimer.get(a);e&&(e.stop(),this.detectorCallbackToHandler.delete(a))}destroy(){return S(this,void 0,void 0,function*(){for(const a of this.detectorCallbackToHandler.values())this.realtimeController.realtimeUnsubscribeToAttendeeIdPresence(a);for(const a of this.detectorCallbackToActivityTimer.values())a.stop();for(const a of this.detectorCallbackToScoresTimer.values())a.stop();this.detectorCallbackToHandler.clear(),this.detectorCallbackToActivityTimer.clear(),this.detectorCallbackToScoresTimer.clear()})}constructor(a,n,i,e=1e3,t=200){this.realtimeController=a,this.selfAttendeeId=n,this.hasBandwidthPriorityCallback=i,this.waitIntervalMs=e,this.updateIntervalMs=t,this.speakerScores={},this.speakerMuteState={},this.detectorCallbackToHandler=new Map,this.detectorCallbackToScoresTimer=new Map,this.detectorCallbackToActivityTimer=new Map,this.hasBandwidthPriority=!1,this.mostRecentUpdateTimestamp={}}},"DefaultActiveSpeakerDetector");c.default=m},"1GR6":function(N,c,d){"use strict";Object.defineProperty(c,"__esModule",{value:!0});const S=d("oHvd");let h=o(class extends S.default{isSendingAudioUnhealthy(){const f=!this.currentData.isConnectionStartRecent(this.sendingAudioFailureInitialWaitTimeMs),a=this.currentData.consecutiveStatsWithNoAudioPacketsSent>=this.sendingAudioFailureSamplesToConsider;return f&&a}health(){if(this.isSendingAudioUnhealthy()){const f=Date.now()-this.lastWarnTimestampMs<this.coolDownTimeMs;return this.currentHealth>this.minimumHealth()&&!f?(this.logger.warn(`Sending Audio is unhealthy for ${this.sendingAudioFailureSamplesToConsider} seconds consecutively.`),this.warnCount++,this.warnCount>this.maximumTimesToWarn?(this.logger.warn("SendingAudioFailure health policy maximum warnings breached. Falling back to reporting healthy."),this.maximumHealth()):(this.lastWarnTimestampMs=Date.now(),this.minimumHealth())):this.currentHealth}return this.maximumHealth()}constructor(f,a,n){super(a,n,"Sending Audio Health"),this.logger=f,this.sendingAudioFailureSamplesToConsider=a.sendingAudioFailureSamplesToConsider>0?a.sendingAudioFailureSamplesToConsider:1,this.sendingAudioFailureInitialWaitTimeMs=a.sendingAudioFailureInitialWaitTimeMs,this.maximumTimesToWarn=a.maximumTimesToWarn,this.coolDownTimeMs=a.cooldownTimeMs,this.lastWarnTimestampMs=0,this.warnCount=0}},"SendingAudioFailureConnectionHealthPolicy");c.default=h},"1GvH":function(N,c,d){d("5w6Y"),N.exports=d("VSTI").Object.keys},"1J7j":function(N,c,d){"use strict";var S=this&&this.__awaiter||function(r,l,p,v){function g(u){return u instanceof p?u:new p(function(s){s(u)})}return o(g,"adopt"),new(p||(p=Promise))(function(u,s){function I(B){try{R(v.next(B))}catch(j){s(j)}}o(I,"fulfilled");function M(B){try{R(v.throw(B))}catch(j){s(j)}}o(M,"rejected");function R(B){B.done?u(B.value):g(B.value).then(I,M)}o(R,"step"),R((v=v.apply(r,l||[])).next())})};Object.defineProperty(c,"__esModule",{value:!0});const h=d("v8aG"),m=d("bTau"),f=d("CLOt"),a=d("hEYi"),n=d("f2XL"),i=d("KyYT"),e=d("aVV0");let t=o(class extends e.default{removeObserver(){this.context.signalingClient.removeObserver(this)}run(){return S(this,void 0,void 0,function*(){this.handleIndexFrame(this.context.indexFrame),this.context.signalingClient.registerObserver(this),this.context.removableObservers.push(this)})}handleSignalingClientEvent(l){if(l.type!==a.default.ReceivedSignalFrame||l.message.type!==n.SdkSignalFrame.Type.INDEX)return;const p=l.message.index;this.context.logger.info(`received new index ${JSON.stringify(p)}`),this.handleIndexFrame(p)}pauseIngestion(){this.isIngestionPaused=!0}resumeIngestion(){this.isIngestionPaused&&(this.isIngestionPaused=!1,this.pendingIndex&&(this.context.logger.info("Resuming index ingestion with pending index"),this.handleIndexFrame(this.pendingIndex)))}handleIndexFrame(l){if(!l)return;if(this.isIngestionPaused){this.context.logger.info("Index ingestion is paused, setting most recent index as pending"),this.pendingIndex=l;return}else this.pendingIndex=null;const p=this.context.audioVideoController.configuration.credentials.attendeeId;l.sources=l.sources.filter(M=>{const R=new m.default(M.attendeeId);return!(R.base()===p&&R.hasModality(m.default.MODALITY_CONTENT))});const{videoStreamIndex:v,videoDownlinkBandwidthPolicy:g,videoUplinkBandwidthPolicy:u}=this.context,s=v.allVideoSendingSourcesExcludingSelf(p);v.integrateIndexFrame(l),g.updateIndex(v),u.updateIndex(v),this.resubscribe(g,u),this.updateVideoAvailability(l),this.handleIndexVideosPausedAtSource(),l.supportedReceiveCodecIntersection.length>0&&this.handleSupportedVideoReceiveCodecIntersection(l);const I=v.allVideoSendingSourcesExcludingSelf(p);this.areVideoSourcesEqual(s,I)||this.context.audioVideoController.forEachObserver(M=>{i.Maybe.of(M.remoteVideoSourcesDidChange).map(R=>R.bind(M)(I))})}areVideoSourcesEqual(l,p){if(l.length!==p.length)return!1;const v=o((s,I)=>s.attendee.attendeeId.localeCompare(I.attendee.attendeeId),"compare"),g=[...l].sort(v),u=[...p].sort(v);for(let s=0;s<g.length;s++)if(g[s].attendee.attendeeId!==u[s].attendee.attendeeId)return!1;return!0}resubscribe(l,p){const v=l.wantsResubscribe(),g=(this.context.videoDuplexMode===n.SdkStreamServiceType.TX||this.context.videoDuplexMode===n.SdkStreamServiceType.DUPLEX)&&p.wantsResubscribe(),u=v||g;if(this.logger.info(`should resubscribe: ${u} (downlink: ${v} uplink: ${g})`),!u)return;const s=l.chooseSubscriptions();this.context.videosToReceive=s.truncate(this.context.videoSubscriptionLimit),s.size()>this.context.videosToReceive.size()&&this.logger.warn(`Video receive limit exceeded. Limiting the videos to ${this.context.videosToReceive.size()}. Please consider using AllHighestVideoBandwidthPolicy or VideoPriorityBasedPolicy along with chooseRemoteVideoSources api to select the video sources to be displayed.`),this.context.videoCaptureAndEncodeParameter=p.chooseCaptureAndEncodeParameters(),this.logger.info(`trigger resubscribe for up=${g} down=${v}; videosToReceive=[${this.context.videosToReceive.array()}] captureParams=${JSON.stringify(this.context.videoCaptureAndEncodeParameter)}`),this.context.audioVideoController.update({needsRenegotiation:!1})}updateVideoAvailability(l){if(!this.context.videosToReceive){this.logger.error("videosToReceive must be set in the meeting context.");return}const p=new h.default;p.remoteVideoAvailable=!this.context.videosToReceive.empty(),p.canStartLocalVideo=!l.atCapacity,(!this.context.lastKnownVideoAvailability||!this.context.lastKnownVideoAvailability.equal(p))&&(this.context.lastKnownVideoAvailability=p.clone(),this.context.audioVideoController.forEachObserver(v=>{i.Maybe.of(v.videoAvailabilityDidChange).map(g=>g.bind(v)(p.clone()))}))}handleSupportedVideoReceiveCodecIntersection(l){if(this.context.videoSendCodecPreferences===void 0)return;const p=[];let v=!1;for(const g of this.context.videoSendCodecPreferences){let u=!1;for(const s of l.supportedReceiveCodecIntersection)if(g.equals(f.default.fromSignaled(s))){u=!0,p.push(g);break}this.context.currentVideoSendCodec!==void 0&&!u&&g.equals(this.context.currentVideoSendCodec)&&(v=!0)}p.length>0?this.context.meetingSupportedVideoSendCodecPreferences=p:(this.logger.warn("Interesection of meeting receive codec support and send codec preferences has no overlap, falling back to just values provided in `setVideoCodecSendPreferences`"),this.context.meetingSupportedVideoSendCodecPreferences=void 0),v&&this.context.audioVideoController.update({needsRenegotiation:!0})}handleIndexVideosPausedAtSource(){const l=this.context.videoStreamIndex.streamsPausedAtSource();for(const p of this.context.videoTileController.getAllVideoTiles()){const v=p.state();l.contain(v.streamId)?p.markPoorConnection()&&this.logger.info(`marks the tile ${v.tileId} as having a poor connection`):p.unmarkPoorConnection()&&this.logger.info(`unmarks the tile ${v.tileId} as having a poor connection`)}}constructor(l){super(l.logger),this.context=l,this.taskName="ReceiveVideoStreamIndexTask",this.isIngestionPaused=!1,this.pendingIndex=null}},"ReceiveVideoStreamIndexTask");c.default=t},"1ZHK":function(N,c,d){"use strict";Object.defineProperty(c,"__esModule",{value:!0});let S=o(class{addObserver(m){this.observers.add(m)}removeObserver(m){this.observers.delete(m)}onFallback(m,f){var a;for(const n of this.observers)(a=n.voiceFocusFellBackToInnerStream)===null||a===void 0||a.call(n,m,f)}onCPUWarning(){var m;for(const f of this.observers)(m=f.voiceFocusInsufficientResources)===null||m===void 0||m.call(f)}constructor(){this.observers=new Set}},"VoiceFocusTransformDeviceDelegate");c.default=S},"1i73":function(N,c,d){"use strict";Object.defineProperty(c,"__esModule",{value:!0});const S=d("MpTp");let h=o(class{reset(){}updateIndex(f){}updateMetrics(f){}wantsResubscribe(){return!1}chooseSubscriptions(){return new S.default}},"NoVideoDownlinkBandwidthPolicy");c.default=h},"1uai":function(N,c,d){"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.DEFAULT_VIDEO_SUBSCRIPTION_LIMIT=void 0,c.DEFAULT_VIDEO_SUBSCRIPTION_LIMIT=25;let S=o(class{resetConnectionSpecificState(){this.peer&&this.peer.close(),this.peer=null,this.previousSdpOffer=null,this.sdpOfferInit=null,this.transceiverController!==void 0&&this.transceiverController.reset(),this.indexFrame=null,this.iceCandidates=[],this.iceCandidateHandler=null,this.sdpAnswer=null,this.turnCredentials=null,this.videoDownlinkBandwidthPolicy.reset(),this.videoUplinkBandwidthPolicy.reset&&this.videoUplinkBandwidthPolicy.reset(),this.lastVideosToReceive=null,this.videoSubscriptions=null,this.videoSubscriptionLimit=c.DEFAULT_VIDEO_SUBSCRIPTION_LIMIT,this.previousSdpAnswerAsString="",this.serverSupportsCompression=!1,this.currentVideoSendCodec=void 0,this.meetingSupportedVideoSendCodecPreferences=void 0,this.videoDuplexMode=null}constructor(){this.logger=null,this.browserBehavior=null,this.meetingSessionConfiguration=null,this.signalingClient=null,this.peer=null,this.previousSdpOffer=null,this.sdpOfferInit=null,this.audioVideoController=null,this.realtimeController=null,this.videoTileController=null,this.mediaStreamBroker=null,this.activeAudioInput=void 0,this.activeVideoInput=void 0,this.audioMixController=null,this.transceiverController=null,this.indexFrame=null,this.iceCandidates=[],this.iceCandidateHandler=null,this.iceGatheringStateEventHandler=null,this.sdpAnswer=null,this.turnCredentials=null,this.reconnectController=null,this.removableObservers=[],this.audioProfile=null,this.videoStreamIndex=null,this.videoDownlinkBandwidthPolicy=null,this.videoUplinkBandwidthPolicy=null,this.lastKnownVideoAvailability=null,this.videoCaptureAndEncodeParameter=null,this.videosToReceive=null,this.lastVideosToReceive=null,this.videoSubscriptions=null,this.videoSubscriptionLimit=c.DEFAULT_VIDEO_SUBSCRIPTION_LIMIT,this.previousSdpAnswerAsString="",this.serverSupportsCompression=!1,this.videoSendCodecPreferences=[],this.currentVideoSendCodec=void 0,this.meetingSupportedVideoSendCodecPreferences=void 0,this.videosPaused=null,this.videoDuplexMode=null,this.volumeIndicatorAdapter=null,this.statsCollector=null,this.connectionMonitor=null,this.videoInputAttachedTimestampMs=0,this.audioDeviceInformation={},this.videoDeviceInformation={},this.enableSimulcast=!1,this.eventController=null,this.signalingOpenDurationMs=null,this.iceGatheringDurationMs=null,this.startAudioVideoTimestamp=null,this.attendeePresenceDurationMs=null,this.meetingStartDurationMs=null,this.poorConnectionCount=0,this.maxVideoTileCount=0,this.startTimeMs=null}},"AudioVideoControllerState");c.default=S},"25+x":function(N,c,d){"use strict";var S=this&&this.__awaiter||function(a,n,i,e){function t(r){return r instanceof i?r:new i(function(l){l(r)})}return o(t,"adopt"),new(i||(i=Promise))(function(r,l){function p(u){try{g(e.next(u))}catch(s){l(s)}}o(p,"fulfilled");function v(u){try{g(e.throw(u))}catch(s){l(s)}}o(v,"rejected");function g(u){u.done?r(u.value):t(u.value).then(p,v)}o(g,"step"),g((e=e.apply(a,n||[])).next())})};Object.defineProperty(c,"__esModule",{value:!0});const h=d("Sa54");let m=o(class Yg{getInnerDevice(){return this.device}mute(n){return S(this,void 0,void 0,function*(){this.node&&(n?yield this.node.disable():yield this.node.enable())})}stop(){return S(this,void 0,void 0,function*(){this.node&&(this.node.disconnect(),yield this.node.stop())})}chooseNewInnerDevice(n){return S(this,void 0,void 0,function*(){return this.device===n&&!f(n)?this:new Yg(n,this.voiceFocus,this.delegate,this.nodeOptions,this.failed,this.node,this.browserBehavior,this.farEndStreamToAudioSourceNode,this.mixDestNode,this.mixSourceNode)})}intrinsicDevice(){return S(this,void 0,void 0,function*(){if(this.failed)return this.device;const n=this.nodeOptions.es,i={echoCancellation:!n,googEchoCancellation:!n,googEchoCancellation2:!n,noiseSuppression:!1,googNoiseSuppression:!1,googHighpassFilter:!1,googNoiseSuppression2:!1};let e;return this.nodeOptions&&this.nodeOptions.agc!==void 0?e=this.nodeOptions.agc.useBuiltInAGC:e=!0,i.autoGainControl=e,i.googAutoGainControl=e,i.googAutoGainControl2=e,this.device?typeof this.device=="string"?(this.browserBehavior.requiresNoExactMediaStreamConstraints()?i.deviceId=this.device:i.deviceId={exact:this.device},i):this.device.id?this.device:Object.assign(Object.assign({},this.device),i):i})}createAudioNode(n){var i,e;return S(this,void 0,void 0,function*(){if(((i=this.node)===null||i===void 0?void 0:i.context)===n)return{start:this.node,end:this.node};const r=Object.assign({enabled:!0,agc:{useVoiceFocusAGC:!1}},this.nodeOptions);try{if((e=this.node)===null||e===void 0||e.disconnect(),this.node=yield this.voiceFocus.createNode(n,r),this.nodeOptions.es){this.mixDestNode=new MediaStreamAudioDestinationNode(n,{channelCount:1,channelCountMode:"explicit"});for(const v of this.farEndStreamToAudioSourceNode.keys())this.assignFarEndStreamToAudioSourceNode(v);this.createMixSourceNode()}const l=this.node,p=this.node;return{start:l,end:p}}catch(l){throw this.failed=!0,this.delegate.onFallback(this,l),l}})}observeMeetingAudio(n){return S(this,void 0,void 0,function*(){if(!this.nodeOptions.es)return;n.addAudioMixObserver(this);const i=yield n.getCurrentMeetingAudioStream();i&&this.addFarEndStream(i)})}unObserveMeetingAudio(n){return S(this,void 0,void 0,function*(){if(!this.nodeOptions.es)return;n.removeAudioMixObserver(this);const i=yield n.getCurrentMeetingAudioStream();i&&this.removeFarendStream(i)})}addObserver(n){this.delegate.addObserver(n)}removeObserver(n){this.delegate.removeObserver(n)}addFarEndStream(n){return S(this,void 0,void 0,function*(){!this.nodeOptions.es||!n||this.farEndStreamToAudioSourceNode.has(n)||(this.node?this.assignFarEndStreamToAudioSourceNode(n):this.farEndStreamToAudioSourceNode.set(n,null))})}removeFarendStream(n){var i;return S(this,void 0,void 0,function*(){(i=this.farEndStreamToAudioSourceNode.get(n))===null||i===void 0||i.disconnect(),this.farEndStreamToAudioSourceNode.delete(n)})}meetingAudioStreamBecameActive(n){return S(this,void 0,void 0,function*(){this.addFarEndStream(n)})}meetingAudioStreamBecameInactive(n){return S(this,void 0,void 0,function*(){this.removeFarendStream(n)})}assignFarEndStreamToAudioSourceNode(n){const i=this.node.context.createMediaStreamSource(n);i.channelCount=1,i.channelCountMode="explicit",this.farEndStreamToAudioSourceNode.set(n,i),i.connect(this.mixDestNode,0)}createMixSourceNode(){this.mixSourceNode=this.node.context.createMediaStreamSource(this.mixDestNode.stream),this.mixSourceNode.channelCount=1,this.mixSourceNode.channelCountMode="explicit",this.mixSourceNode.connect(this.node,0,1)}constructor(n,i,e,t,r=!1,l=void 0,p=new h.default,v=new Map,g=void 0,u=void 0){this.device=n,this.voiceFocus=i,this.delegate=e,this.nodeOptions=t,this.failed=r,this.node=l,this.browserBehavior=p,this.farEndStreamToAudioSourceNode=v,this.mixDestNode=g,this.mixSourceNode=u}},"VoiceFocusTransformDevice");function f(a){return a==="default"?!0:!a||typeof a!="object"?!1:"deviceId"in a&&a.deviceId==="default"||"id"in a&&a.id==="default"}o(f,"isDefaultDevice"),c.default=m},"2Bsk":function(N,c,d){"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.CheckContentShareConnectivityFeedback=void 0;var S;(function(h){h[h.Succeeded=0]="Succeeded",h[h.Failed=1]="Failed",h[h.PermissionDenied=2]="PermissionDenied",h[h.TimedOut=3]="TimedOut",h[h.ConnectionFailed=4]="ConnectionFailed"})(S=c.CheckContentShareConnectivityFeedback||(c.CheckContentShareConnectivityFeedback={})),c.default=S},"2IS5":function(N,c,d){"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.TranscriptEventConverter=void 0;const S=d("XCDq"),h=d("VPK4"),m=d("PbSJ"),f=d("HrOX"),a=d("QPT4"),n={[S.SdkTranscriptionStatus.Type.STARTED]:f.default.STARTED,[S.SdkTranscriptionStatus.Type.INTERRUPTED]:f.default.INTERRUPTED,[S.SdkTranscriptionStatus.Type.RESUMED]:f.default.RESUMED,[S.SdkTranscriptionStatus.Type.STOPPED]:f.default.STOPPED,[S.SdkTranscriptionStatus.Type.FAILED]:f.default.FAILED};let i=o(class{static from(t){let r;try{r=S.SdkTranscriptFrame.decode(t.data)}catch(p){throw new Error("Cannot decode transcript data message: "+p)}const l=[];for(const p of r.events)if(p.status){const v=n[p.status.type];if(!v)continue;const g=new m.default;g.type=v,g.eventTimeMs=p.status.eventTime,g.transcriptionRegion=p.status.transcriptionRegion,g.transcriptionConfiguration=p.status.transcriptionConfiguration,p.status.message&&(g.message=p.status.message),l.push(g)}else if(p.transcript){const v=new h.default;v.results=[];for(const g of p.transcript.results){const u={channelId:g.channelId,isPartial:g.isPartial,resultId:g.resultId,startTimeMs:g.startTime,endTimeMs:g.endTime,alternatives:[]};if(g.languageCode&&(u.languageCode=g.languageCode),g.languageIdentification&&g.languageIdentification.length>0){u.languageIdentification=[];for(const s of g.languageIdentification){const I={languageCode:s.languageCode,score:s.score};u.languageIdentification.push(I)}}for(const s of g.alternatives){const I={items:[],transcript:s.transcript};for(const M of s.items){const R={content:M.content,attendee:{attendeeId:M.speakerAttendeeId,externalUserId:M.speakerExternalUserId},startTimeMs:M.startTime,endTimeMs:M.endTime,type:null};switch(M.vocabularyFilterMatch&&(R.vocabularyFilterMatch=M.vocabularyFilterMatch),M.hasOwnProperty("stable")&&(R.stable=M.stable),M.hasOwnProperty("confidence")&&(R.confidence=M.confidence),M.type){case S.SdkTranscriptItem.Type.PRONUNCIATION:R.type=a.default.PRONUNCIATION;break;case S.SdkTranscriptItem.Type.PUNCTUATION:R.type=a.default.PUNCTUATION;break}I.items.push(R)}for(const M of s.entities){I.entities||(I.entities=[]);const R={category:M.category,confidence:M.confidence,content:M.content,startTimeMs:M.startTime,endTimeMs:M.endTime};M.type&&(R.type=M.type),I.entities.push(R)}u.alternatives.push(I)}v.results.push(u)}l.push(v)}return l}},"TranscriptEventConverter");c.TranscriptEventConverter=i},"2ZyS":function(N,c,d){"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.RawSha256=void 0;var S=d("V7js"),h=function(){function m(){this.state=Int32Array.from(S.INIT),this.temp=new Int32Array(64),this.buffer=new Uint8Array(64),this.bufferLength=0,this.bytesHashed=0,this.finished=!1}return o(m,"RawSha2561"),m.prototype.update=function(f){if(this.finished)throw new Error("Attempted to update an already finished hash.");var a=0,n=f.byteLength;if(this.bytesHashed+=n,this.bytesHashed*8>S.MAX_HASHABLE_LENGTH)throw new Error("Cannot hash more than 2^53 - 1 bits");for(;n>0;)this.buffer[this.bufferLength++]=f[a++],n--,this.bufferLength===S.BLOCK_SIZE&&(this.hashBuffer(),this.bufferLength=0)},m.prototype.digest=function(){if(!this.finished){var f=this.bytesHashed*8,a=new DataView(this.buffer.buffer,this.buffer.byteOffset,this.buffer.byteLength),n=this.bufferLength;if(a.setUint8(this.bufferLength++,128),n%S.BLOCK_SIZE>=S.BLOCK_SIZE-8){for(var i=this.bufferLength;i<S.BLOCK_SIZE;i++)a.setUint8(i,0);this.hashBuffer(),this.bufferLength=0}for(var i=this.bufferLength;i<S.BLOCK_SIZE-8;i++)a.setUint8(i,0);a.setUint32(S.BLOCK_SIZE-8,Math.floor(f/4294967296),!0),a.setUint32(S.BLOCK_SIZE-4,f),this.hashBuffer(),this.finished=!0}for(var e=new Uint8Array(S.DIGEST_LENGTH),i=0;i<8;i++)e[i*4]=this.state[i]>>>24&255,e[i*4+1]=this.state[i]>>>16&255,e[i*4+2]=this.state[i]>>>8&255,e[i*4+3]=this.state[i]>>>0&255;return e},m.prototype.hashBuffer=function(){for(var f=this,a=f.buffer,n=f.state,i=n[0],e=n[1],t=n[2],r=n[3],l=n[4],p=n[5],v=n[6],g=n[7],u=0;u<S.BLOCK_SIZE;u++){if(u<16)this.temp[u]=(a[u*4]&255)<<24|(a[u*4+1]&255)<<16|(a[u*4+2]&255)<<8|a[u*4+3]&255;else{var s=this.temp[u-2],I=(s>>>17|s<<15)^(s>>>19|s<<13)^s>>>10;s=this.temp[u-15];var M=(s>>>7|s<<25)^(s>>>18|s<<14)^s>>>3;this.temp[u]=(I+this.temp[u-7]|0)+(M+this.temp[u-16]|0)}var R=(((l>>>6|l<<26)^(l>>>11|l<<21)^(l>>>25|l<<7))+(l&p^~l&v)|0)+(g+(S.KEY[u]+this.temp[u]|0)|0)|0,B=((i>>>2|i<<30)^(i>>>13|i<<19)^(i>>>22|i<<10))+(i&e^i&t^e&t)|0;g=v,v=p,p=l,l=r+R|0,r=t,t=e,e=i,i=R+B|0}n[0]+=i,n[1]+=e,n[2]+=t,n[3]+=r,n[4]+=l,n[5]+=p,n[6]+=v,n[7]+=g},m}();c.RawSha256=h},"2ede":function(N,c,d){"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.DeferredPromise=void 0;let S=o(class{getPromise(){return this.promise}resolvePromise(m){this.resolve(m)}resolveAndReplacePromise(m){this.resolve(m),this.promise=new Promise((f,a)=>{this.resolve=f,this.reject=a})}rejectPromise(m){this.reject(m)}rejectAndReplacePromise(m){this.reject(m),this.promise=new Promise((f,a)=>{this.resolve=f,this.reject=a})}constructor(){this.promise=new Promise((m,f)=>{this.resolve=m,this.reject=f})}},"DeferredPromise");c.DeferredPromise=S},"2nae":function(N,c,d){"use strict";var S=this&&this.__awaiter||function(li,Ee,Pe,Fe){function Dt(zt){return zt instanceof Pe?zt:new Pe(function(Ut){Ut(zt)})}return o(Dt,"adopt"),new(Pe||(Pe=Promise))(function(zt,Ut){function bn(xt){try{pn(Fe.next(xt))}catch(Vn){Ut(Vn)}}o(bn,"fulfilled");function wn(xt){try{pn(Fe.throw(xt))}catch(Vn){Ut(Vn)}}o(wn,"rejected");function pn(xt){xt.done?zt(xt.value):Dt(xt.value).then(bn,wn)}o(pn,"step"),pn((Fe=Fe.apply(li,Ee||[])).next())})};Object.defineProperty(c,"__esModule",{value:!0});const h=d("1Cbm"),m=d("WHnE"),f=d("SO8M"),a=d("Sa54"),n=d("RfPO"),i=d("8dVZ"),e=d("6Bxv"),t=d("lUhs"),r=d("v8aG"),l=d("bTau"),p=d("ML5K"),v=d("gTDO"),g=d("6/h7"),u=d("9ETa"),s=d("JHsX"),I=d("I0Bj"),M=d("87Nr"),R=d("jP1N"),B=d("hEYi"),j=d("/sFY"),A=d("f2XL"),D=d("R9j3"),$=d("5ViG"),O=d("yMiq"),P=d("teem"),k=d("Fyq9"),K=d("7W6Z"),Z=d("N9oo"),Y=d("xJ9D"),ie=d("FCN7"),ge=d("curu"),Ie=d("3Ft5"),le=d("mjQB"),we=d("mv1L"),Be=d("LNXf"),Re=d("LhvI"),Ne=d("cizm"),_e=d("5z6C"),Ze=d("1J7j"),tt=d("0jNb"),$e=d("8tla"),at=d("ohOv"),lt=d("CRwe"),ot=d("ZPwG"),Gt=d("L+i+"),Zt=d("yqyw"),un=d("IBi3"),Un=d("riOr"),jn=d("OND3"),ci=d("NUAg"),fn=d("KyYT"),ri=d("XJrD"),gi=d("nYR4"),Nn=d("5mR7"),Ti=d("Zkgh"),Bi=d("ldli"),vn=d("nq15"),Mn=d("+D+n"),Ot=d("rcF0"),Ke=d("LUct"),gt=d("hhlX"),ht=d("P3Bx"),en=d("rEUf");let Kn=o(class Pd{destroy(){return S(this,void 0,void 0,function*(){this.observerQueue.clear(),this._mediaStreamBroker.removeMediaStreamBrokerObserver(this._audioMixController),this.destroyed=!0})}get configuration(){return this._configuration}get realtimeController(){return this._realtimeController}get activeSpeakerDetector(){return this._activeSpeakerDetector||(this._activeSpeakerDetector=new h.default(this._realtimeController,this._configuration.credentials.attendeeId,this.handleHasBandwidthPriority.bind(this))),this._activeSpeakerDetector}get videoTileController(){return this._videoTileController}get audioMixController(){return this._audioMixController}get logger(){return this._logger}get rtcPeerConnection(){return this.meetingSessionContext&&this.meetingSessionContext.peer||null}get mediaStreamBroker(){return this._mediaStreamBroker}get eventController(){return this._eventController}getRTCPeerConnectionStats(Ee){return this.hasGetRTCPeerConnectionStatsDeprecationMessageBeenSent||(this.logger.warn("The `getRTCPeerConnectionStats()` is on its way to be deprecated. It makes an additional call to the `getStats` API and therefore may cause slight performance degradation. Please use the new API `clientMetricReport.getRTCStatsReport()` returned by `metricsDidReceive(clientMetricReport)` callback instead."),this.hasGetRTCPeerConnectionStatsDeprecationMessageBeenSent=!0),this.rtcPeerConnection?this.rtcPeerConnection.getStats(Ee):null}setAudioProfile(Ee){this._audioProfile=Ee}addObserver(Ee){this.logger.info("adding meeting observer"),this.observerQueue.add(Ee)}removeObserver(Ee){this.logger.info("removing meeting observer"),this.observerQueue.delete(Ee)}forEachObserver(Ee){for(const Pe of this.observerQueue)g.default.nextTick(()=>{this.observerQueue.has(Pe)&&Ee(Pe)})}initSignalingClient(){this.connectionHealthData.reset(),!this.meetingSessionContext.signalingClient&&(this.meetingSessionContext=new en.default,this.meetingSessionContext.logger=this.logger,this.meetingSessionContext.eventController=this.eventController,this.meetingSessionContext.browserBehavior=new a.default,this.meetingSessionContext.videoSendCodecPreferences=this.videoSendCodecPreferences,this.meetingSessionContext.meetingSessionConfiguration=this.configuration,this.meetingSessionContext.signalingClient=new R.default(this._webSocketAdapter,this.logger))}uninstallPreStartObserver(){this.meetingSessionContext.signalingClient.removeObserver(this.preStartObserver),this.preStartObserver=void 0}prestart(){return this.logger.info("Pre-connecting signaling connection."),this.createOrReuseSignalingTask().run().then(()=>{const Ee=o(()=>S(this,void 0,void 0,function*(){this.logger.info("Early connection closed; discarding signaling task."),this.signalingTask=void 0,this.uninstallPreStartObserver()}),"handleClosed");this.preStartObserver={handleSignalingClientEvent(Pe){Pe.type===B.default.WebSocketClosed&&Ee()}},this.meetingSessionContext.signalingClient.registerObserver(this.preStartObserver)}).catch(Ee=>{this.logger.error(`Signaling task pre-start failed: ${Ee}`),this.signalingTask=void 0})}start(Ee){this.startReturningPromise(Ee).then(()=>{this.logger.info("start completed")}).catch(Pe=>{this.logger.error(`start failed: ${Pe}`)})}startReturningPromise(Ee){return(Ee==null?void 0:Ee.signalingOnly)===!0?this.prestart():(this.activeSpeakerDetector,new Promise((Pe,Fe)=>{this.sessionStateController.perform(s.default.Connect,()=>{this.actionConnect(!1).then(Pe).catch(Fe)})}))}connectWithPromises(Ee){const Pe=this.meetingSessionContext,Fe=o((Xn,vi)=>new Gt.default(this.logger,vi,Xn),"timeout");this.monitorTask=new Ie.default(Pe,this.configuration.connectionHealthPolicyConfiguration,this.connectionHealthData);const Dt=this.monitorTask.once(),zt=new Re.default(Pe).once();this.receiveIndexTask=new Ze.default(Pe),this.monitorTask.pauseResubscribeCheck(),this.receiveIndexTask.pauseIngestion();const Ut=new $e.default(this.logger,"Signaling",[this.createOrReuseSignalingTask(),new ge.default(Pe),new tt.default(Pe),new Y.default(Pe),new Ne.default(Pe),this.receiveIndexTask]).once(),bn=new k.default(Pe).once(Ut),wn=new $.default(Pe).once(bn,zt),pn=new K.default(Pe).once(wn),xt=new at.default(Pe).once(pn),Vn=new Z.default(Pe).once(xt),on=new ot.default(Pe).once(Vn);return new $e.default(this.logger,this.wrapTaskName("AudioVideoStart"),[Dt,Fe(this.configuration.connectionTimeoutMs,new $e.default(this.logger,"Peer",[on,Ee?new Gt.default(this.logger,new we.default(this.logger,"FinalizeConnection",[new Zt.default(Pe),new lt.default(Pe)]),this.meetingSessionContext.meetingSessionConfiguration.attendeePresenceTimeoutMs):new lt.default(Pe)]))])}actionConnect(Ee){var Pe;return S(this,void 0,void 0,function*(){this.initSignalingClient(),this.uninstallPreStartObserver(),this.meetingSessionContext.mediaStreamBroker=this._mediaStreamBroker,this.meetingSessionContext.realtimeController=this._realtimeController,this.meetingSessionContext.audioMixController=this._audioMixController,this.meetingSessionContext.audioVideoController=this,this.enableSimulcast=this.configuration.enableSimulcastForUnifiedPlanChromiumBasedBrowsers&&new a.default().hasChromiumWebRTC();const Fe=!!this.configuration.urls.audioHostURL;if(Fe?this.enableSimulcast?(this.logger.info("Using transceiver controller with simulcast support"),new l.default(this.configuration.credentials.attendeeId).hasModality(l.default.MODALITY_CONTENT)?this.meetingSessionContext.transceiverController=new Un.default(this.logger,this.meetingSessionContext.browserBehavior):this.meetingSessionContext.transceiverController=new jn.default(this.logger,this.meetingSessionContext.browserBehavior)):(this.logger.info("Using default transceiver controller"),this.meetingSessionContext.transceiverController=new un.default(this.logger,this.meetingSessionContext.browserBehavior)):(this.logger.info("Using video only transceiver controller"),this.meetingSessionContext.transceiverController=new ci.default(this.logger,this.meetingSessionContext.browserBehavior)),this.meetingSessionContext.volumeIndicatorAdapter=new ht.default(this.logger,this._realtimeController,Pd.MIN_VOLUME_DECIBELS,Pd.MAX_VOLUME_DECIBELS,this.configuration.credentials.attendeeId),this.meetingSessionContext.videoTileController=this._videoTileController,this.meetingSessionContext.videoDownlinkBandwidthPolicy=this.configuration.videoDownlinkBandwidthPolicy,this.meetingSessionContext.videoUplinkBandwidthPolicy=this.configuration.videoUplinkBandwidthPolicy,this.meetingSessionContext.enableSimulcast=this.enableSimulcast,this.enableSimulcast){let Ut=this.meetingSessionContext.videoUplinkBandwidthPolicy;Ut||(Ut=new Ke.default(this.configuration.credentials.attendeeId,this.meetingSessionContext.logger),this.meetingSessionContext.videoUplinkBandwidthPolicy=Ut),Ut.addObserver(this),this.meetingSessionContext.videoDownlinkBandwidthPolicy||(this.meetingSessionContext.videoDownlinkBandwidthPolicy=new Nn.default(this.meetingSessionContext.logger)),this.meetingSessionContext.videoStreamIndex=new vn.default(this.logger)}else this.meetingSessionContext.enableSimulcast=!1,this.meetingSessionContext.videoStreamIndex=new Bi.default(this.logger),this.meetingSessionContext.videoUplinkBandwidthPolicy||(this.meetingSessionContext.videoUplinkBandwidthPolicy=new gt.default(this.configuration.credentials.attendeeId,!this.meetingSessionContext.browserBehavior.disableResolutionScaleDown(),this.meetingSessionContext.logger,this.meetingSessionContext.browserBehavior)),this.meetingSessionContext.videoDownlinkBandwidthPolicy||(this.meetingSessionContext.videoDownlinkBandwidthPolicy=new gi.default(this.configuration.credentials.attendeeId)),this.meetingSessionContext.videoUplinkBandwidthPolicy.setTransceiverController&&this.meetingSessionContext.videoUplinkBandwidthPolicy.updateTransceiverController&&(this.useUpdateTransceiverControllerForUplink=!0,this.meetingSessionContext.videoUplinkBandwidthPolicy.setTransceiverController(this.meetingSessionContext.transceiverController)),this.meetingSessionContext.audioProfile=this._audioProfile;this.meetingSessionContext.videoUplinkBandwidthPolicy&&this.maxUplinkBandwidthKbps&&this.meetingSessionContext.videoUplinkBandwidthPolicy.setIdealMaxBandwidthKbps(this.maxUplinkBandwidthKbps),this.meetingSessionContext.videoDownlinkBandwidthPolicy.bindToTileController&&this.meetingSessionContext.videoDownlinkBandwidthPolicy.bindToTileController(this._videoTileController),this.meetingSessionContext.lastKnownVideoAvailability=new r.default,this.meetingSessionContext.videoCaptureAndEncodeParameter=new ri.default(0,0,0,0,!1),this.meetingSessionContext.videosToReceive=new Ti.default,this.meetingSessionContext.videosPaused=new Ti.default,this.meetingSessionContext.statsCollector=new D.default(this,this.logger),this.meetingSessionContext.connectionMonitor=new i.default(this,this._realtimeController,this.connectionHealthData,new p.default(this.meetingSessionContext.signalingClient,Pd.PING_PONG_INTERVAL_MS,this.logger),this.meetingSessionContext.statsCollector),this.meetingSessionContext.reconnectController=this._reconnectController,this.meetingSessionContext.videoDeviceInformation={},Ee||(this.totalRetryCount=0,this._reconnectController.reset(),this.startAudioVideoTimestamp=Date.now(),this.forEachObserver(Ut=>{fn.Maybe.of(Ut.audioVideoDidStartConnecting).map(bn=>bn.bind(Ut)(!1))}),(Pe=this.eventController)===null||Pe===void 0||Pe.publishEvent("meetingStartRequested")),this.meetingSessionContext.startAudioVideoTimestamp=this.startAudioVideoTimestamp,this._reconnectController.hasStartedConnectionAttempt()?this._reconnectController.startedConnectionAttempt(!1):this._reconnectController.startedConnectionAttempt(!0);const Dt=Fe&&this.meetingSessionContext.meetingSessionConfiguration.attendeePresenceTimeoutMs>0;this.logger.info("Needs to wait for attendee presence? "+Dt);const zt=this.connectWithPromises(Dt);try{yield zt.run(),this.connectionHealthData.setConnectionStartTime(),this._mediaStreamBroker.addMediaStreamBrokerObserver(this),this.sessionStateController.perform(s.default.FinishConnecting,()=>{this.eventController&&(this.meetingSessionContext.meetingStartDurationMs=Date.now()-this.startAudioVideoTimestamp,this.eventController.publishEvent("meetingStartSucceeded",{maxVideoTileCount:this.meetingSessionContext.maxVideoTileCount,poorConnectionCount:this.meetingSessionContext.poorConnectionCount,retryCount:this.totalRetryCount,signalingOpenDurationMs:this.meetingSessionContext.signalingOpenDurationMs,iceGatheringDurationMs:this.meetingSessionContext.iceGatheringDurationMs,meetingStartDurationMs:this.meetingSessionContext.meetingStartDurationMs})),this.meetingSessionContext.startTimeMs=Date.now(),this.actionFinishConnecting()})}catch(Ut){this.signalingTask=void 0;const bn=new e.default(this.getMeetingStatusCode(Ut)||t.default.TaskFailed);if(this.logger.info(`Start failed: ${bn} due to error ${Ut}.`),this.sessionStateController.state()===I.default.NotConnected){this.logger.info("Start failed and not connected. Not cleaning up.");return}this.sessionStateController.perform(s.default.Fail,()=>S(this,void 0,void 0,function*(){yield this.actionDisconnect(bn,!0,Ut),this.handleMeetingSessionStatus(bn,Ut)||this.notifyStop(bn,Ut)}))}})}createOrReuseSignalingTask(){return this.signalingTask||(this.initSignalingClient(),this.signalingTask=new Gt.default(this.logger,new le.default(this.meetingSessionContext),this.configuration.connectionTimeoutMs).once()),this.signalingTask}actionFinishConnecting(){this.signalingTask=void 0,this.meetingSessionContext.videoDuplexMode=A.SdkStreamServiceType.RX,this.meetingSessionContext.enableSimulcast||(this.useUpdateTransceiverControllerForUplink?this.meetingSessionContext.videoUplinkBandwidthPolicy.updateTransceiverController():this.enforceBandwidthLimitationForSender(this.meetingSessionContext.videoCaptureAndEncodeParameter.encodeBitrates()[0])),this.forEachObserver(Ee=>{fn.Maybe.of(Ee.audioVideoDidStart).map(Pe=>Pe.bind(Ee)())}),this._reconnectController.reset(),this.receiveIndexTask.resumeIngestion(),this.monitorTask.resumeResubscribeCheck()}stopReturningPromise(){var Ee;return this.sessionStateController.state()===I.default.NotConnected?((Ee=this.meetingSessionContext.signalingClient)===null||Ee===void 0||Ee.closeConnection(),this.cleanUpMediaStreamsAfterStop(),Promise.resolve()):new Promise((Pe,Fe)=>{this.sessionStateController.perform(s.default.Disconnect,()=>{this._reconnectController.disableReconnect(),this.logger.info("attendee left meeting, session will not be reconnected"),this.actionDisconnect(new e.default(t.default.Left),!1,null).then(Pe).catch(Fe)})})}stop(){this.stopReturningPromise()}actionDisconnect(Ee,Pe,Fe){return S(this,void 0,void 0,function*(){try{yield new $e.default(this.logger,this.wrapTaskName("AudioVideoStop"),[new Gt.default(this.logger,new ie.default(this.meetingSessionContext),this.configuration.connectionTimeoutMs)]).run()}catch{this.logger.info("fail to stop")}try{const Dt=[new Gt.default(this.logger,new P.default(this.meetingSessionContext),this.configuration.connectionTimeoutMs)];this.cleanUpMediaStreamsAfterStop(),yield new $e.default(this.logger,this.wrapTaskName("AudioVideoClean"),Dt).run()}catch{this.logger.info("fail to clean")}this.sessionStateController.perform(s.default.FinishDisconnecting,()=>{Pe||this.notifyStop(Ee,Fe)})})}update(){let Pe=(arguments.length>0&&arguments[0]!==void 0?arguments[0]:{needsRenegotiation:!0}).needsRenegotiation;if(Pe||(Pe=this.meetingSessionContext.peer===void 0),Pe||(Pe=!this.updateRemoteVideosFromLastVideosToReceive()),Pe||(Pe=!this.updateLocalVideoFromPolicy()),this.meetingSessionContext.lastVideosToReceive=this.meetingSessionContext.videosToReceive,!Pe)return this.logger.info("Update request does not require resubscribe"),this.actionFinishUpdating(),!0;this.logger.info("Update request requires resubscribe");const Fe=this.sessionStateController.perform(s.default.Update,()=>{this.actionUpdateWithRenegotiation(!0)});return Fe===M.default.Transitioned||Fe===M.default.DeferredTransition}updateRemoteVideosFromLastVideosToReceive(){var Ee,Pe;const Fe=this.meetingSessionContext;if(!((Ee=Fe.videosToReceive)===null||Ee===void 0)&&Ee.empty()||!((Pe=Fe.lastVideosToReceive)===null||Pe===void 0)&&Pe.empty()||!Fe.transceiverController||!Fe.transceiverController.getMidForStreamId||!Fe.transceiverController.setStreamIdForMid||!Fe.videosToReceive.forEach||!Fe.signalingClient.remoteVideoUpdate||!Fe.videoStreamIndex.overrideStreamIdMappings)return!1;let Dt=[];const zt=new Map;let Ut=[];if(Fe.lastVideosToReceive===null)Dt=Fe.videosToReceive.array();else{const wn=Fe.videoStreamIndex;Fe.videosToReceive.forEach(pn=>{if(Fe.lastVideosToReceive.contain(pn))return;let xt=!1;Fe.lastVideosToReceive.forEach(Vn=>{xt||wn.StreamIdsInSameGroup(Vn,pn)&&(zt.set(Vn,pn),xt=!0)}),xt||Dt.push(pn)}),Ut=Fe.lastVideosToReceive.array().filter(pn=>{const xt=Fe.videosToReceive.contain(pn),Vn=zt.has(pn);return!xt&&!Vn})}this.logger.info(`Request to update remote videos with added: ${Dt}, updated: ${[...zt.entries()]}, removed: ${Ut}`);const bn=[];for(const[wn,pn]of zt.entries()){const xt=new j.default;if(xt.streamId=pn,xt.attendeeId=Fe.videoStreamIndex.attendeeIdForStreamId(pn),xt.mid=Fe.transceiverController.getMidForStreamId(wn),xt.mid===void 0)return this.logger.info(`No MID found for stream ID ${wn}, cannot update stream without renegotiation`),!1;if(bn.push(xt),Fe.transceiverController.setStreamIdForMid(xt.mid,pn),Fe.videoStreamIndex.overrideStreamIdMappings(wn,pn),Fe.videoTileController.haveVideoTileForAttendeeId(xt.attendeeId)){const Vn=Fe.videoTileController.getVideoTileForAttendeeId(xt.attendeeId);if(!Vn.setStreamId)return!1;Vn.setStreamId(pn)}}return bn.length!==0&&Fe.signalingClient.remoteVideoUpdate(bn,[]),Dt.length!==0||Ut.length!==0?!1:(Fe.videoStreamIndex.subscribeFrameSent(),!0)}updateLocalVideoFromPolicy(){if(this.meetingSessionContext.enableSimulcast){const Ee=this.meetingSessionContext.videoUplinkBandwidthPolicy.chooseEncodingParameters();if(this.mayNeedRenegotiationForSimulcastLayerChange&&!this.negotiatedBitrateLayersAllocationRtpHeaderExtension())return this.logger.info("Needs regenotiation for local video simulcast layer change"),this.mayNeedRenegotiationForSimulcastLayerChange=!1,!1;this.meetingSessionContext.transceiverController.setEncodingParameters(Ee)}else this.meetingSessionContext.videoCaptureAndEncodeParameter=this.meetingSessionContext.videoUplinkBandwidthPolicy.chooseCaptureAndEncodeParameters();return this.logger.info("Updated local video from policy without renegotiation"),!0}negotiatedBitrateLayersAllocationRtpHeaderExtension(){if(!this.meetingSessionContext.transceiverController.localVideoTransceiver())return!1;const Ee=this.meetingSessionContext.transceiverController.localVideoTransceiver().sender.getParameters();return!Ee||!Ee.headerExtensions?!1:Ee.headerExtensions.some(Pe=>Pe.uri==="http://www.webrtc.org/experiments/rtp-hdrext/video-layers-allocation00")}restartLocalVideo(Ee){const Pe=o(()=>S(this,void 0,void 0,function*(){this._videoTileController.hasStartedLocalVideoTile()&&(this.logger.info("stopping local video tile prior to local video restart"),this._videoTileController.stopLocalVideoTile(),this.logger.info("preparing local video restart update"),yield this.actionUpdateWithRenegotiation(!1),this.logger.info("starting local video tile for local video restart"),this._videoTileController.startLocalVideoTile()),this.logger.info("finalizing local video restart update"),yield this.actionUpdateWithRenegotiation(!0),Ee()}),"restartVideo"),Fe=this.sessionStateController.perform(s.default.Update,()=>{Pe()});return Fe===M.default.Transitioned||Fe===M.default.DeferredTransition}replaceLocalVideo(Ee){return S(this,void 0,void 0,function*(){if(!Ee||Ee.getVideoTracks().length<1)throw new Error("could not acquire video track");if(!this.meetingSessionContext||!this.meetingSessionContext.peer)throw new Error("no active meeting and peer connection");const Pe=this.meetingSessionContext.videoTileController.getLocalVideoTile();if(Pe){const Fe=Pe.state(),Dt=Ee.getVideoTracks()[0].getSettings();Pe.bindVideoStream(Fe.boundAttendeeId,!0,Ee,Dt.width,Dt.height,Fe.streamId,Fe.boundExternalUserId)}yield this.meetingSessionContext.transceiverController.setVideoInput(Ee.getVideoTracks()[0]),this.meetingSessionContext.activeVideoInput=Ee,this.logger.info("Local video input is updated")})}replaceLocalAudio(Ee){return S(this,void 0,void 0,function*(){if(!Ee||Ee.getAudioTracks().length<1)throw new Error("could not acquire audio track");if(!this.meetingSessionContext||!this.meetingSessionContext.peer)throw new Error("no active meeting and peer connection");if(this.connectionHealthData.reset(),this.connectionHealthData.setConnectionStartTime(),!(yield this.meetingSessionContext.transceiverController.replaceAudioTrack(Ee.getAudioTracks()[0])))throw new Error("Failed to replace audio track");this.meetingSessionContext.activeAudioInput=Ee,this.logger.info("Local audio input is updated")})}actionUpdateWithRenegotiation(Ee){return S(this,void 0,void 0,function*(){this.monitorTask.pauseResubscribeCheck(),this.receiveIndexTask.pauseIngestion();try{yield new $e.default(this.logger,this.wrapTaskName("AudioVideoUpdate"),[new _e.default(this.meetingSessionContext),new Gt.default(this.logger,new $e.default(this.logger,"UpdateSession",[new $.default(this.meetingSessionContext),new K.default(this.meetingSessionContext),new at.default(this.meetingSessionContext),new Z.default(this.meetingSessionContext),new ot.default(this.meetingSessionContext),new lt.default(this.meetingSessionContext)]),this.configuration.connectionTimeoutMs)]).run(),Ee&&this.sessionStateController.perform(s.default.FinishUpdating,()=>{this.actionFinishUpdating()})}catch(Pe){this.sessionStateController.perform(s.default.FinishUpdating,()=>{const Fe=new e.default(this.getMeetingStatusCode(Pe)||t.default.TaskFailed);Fe.statusCode()!==t.default.IncompatibleSDP&&this.logger.info("failed to update audio-video session"),this.handleMeetingSessionStatus(Fe,Pe)})}})}notifyStop(Ee,Pe){var Fe;if(this.forEachObserver(Dt=>{fn.Maybe.of(Dt.audioVideoDidStop).map(zt=>zt.bind(Dt)(Ee))}),this.promotedToPrimaryMeeting&&Pe&&this.forEachObserver(Dt=>{this.promotedToPrimaryMeeting=!1,fn.Maybe.of(Dt.audioVideoWasDemotedFromPrimaryMeeting).map(zt=>zt.bind(Dt)(new e.default(t.default.SignalingInternalServerError)))}),this.eventController){const{signalingOpenDurationMs:Dt,poorConnectionCount:zt,startTimeMs:Ut,iceGatheringDurationMs:bn,attendeePresenceDurationMs:wn,meetingStartDurationMs:pn}=this.meetingSessionContext,xt={maxVideoTileCount:this.meetingSessionContext.maxVideoTileCount,meetingDurationMs:Ut===null?0:Math.round(Date.now()-Ut),meetingStatus:t.default[Ee.statusCode()],signalingOpenDurationMs:Dt,iceGatheringDurationMs:bn,attendeePresenceDurationMs:wn,poorConnectionCount:zt,meetingStartDurationMs:pn,retryCount:this.totalRetryCount},Vn=Pe&&Pe.message||((Fe=Ee.toString)===null||Fe===void 0?void 0:Fe.call(Ee))||"";xt.meetingDurationMs===0?(xt.meetingErrorMessage=Vn,delete xt.meetingDurationMs,delete xt.attendeePresenceDurationMs,delete xt.meetingStartDurationMs,this.eventController.publishEvent("meetingStartFailed",xt)):Ee.isFailure()||Ee.isAudioConnectionFailure()?(xt.meetingErrorMessage=Vn,this.eventController.publishEvent("meetingFailed",xt)):this.eventController.publishEvent("meetingEnded",xt)}}actionFinishUpdating(){if(!this.meetingSessionContext.enableSimulcast)if(this.useUpdateTransceiverControllerForUplink)this.meetingSessionContext.videoUplinkBandwidthPolicy.updateTransceiverController();else{const Ee=this.meetingSessionContext.videoCaptureAndEncodeParameter.encodeBitrates()[0];this.enforceBandwidthLimitationForSender(Ee)}this.monitorTask.resumeResubscribeCheck(),this.receiveIndexTask.resumeIngestion(),this.logger.info("updated audio-video session")}reconnect(Ee,Pe){const Fe=this._reconnectController.retryWithBackoff(()=>S(this,void 0,void 0,function*(){this.sessionStateController.state()===I.default.NotConnected?this.sessionStateController.perform(s.default.Connect,()=>{this.actionConnect(!0)}):this.sessionStateController.perform(s.default.Reconnect,()=>{this.actionReconnect(Ee)}),this.totalRetryCount+=1}),()=>{this.logger.info("canceled retry")});return Fe||this.sessionStateController.perform(s.default.Fail,()=>{this.actionDisconnect(Ee,!1,Pe)}),Fe}actionReconnect(Ee){return S(this,void 0,void 0,function*(){this._reconnectController.hasStartedConnectionAttempt()||(this._reconnectController.startedConnectionAttempt(!1),this.forEachObserver(Pe=>{fn.Maybe.of(Pe.audioVideoDidStartConnecting).map(Fe=>Fe.bind(Pe)(!0))})),this.meetingSessionContext.volumeIndicatorAdapter.onReconnect(),this.connectionHealthData.reset();try{yield new $e.default(this.logger,this.wrapTaskName("AudioVideoReconnect"),[new Gt.default(this.logger,new $e.default(this.logger,"Media",[new O.default(this.meetingSessionContext),new $e.default(this.logger,"Signaling",[new le.default(this.meetingSessionContext),new Y.default(this.meetingSessionContext),new Ne.default(this.meetingSessionContext)]),new k.default(this.meetingSessionContext)]),this.configuration.connectionTimeoutMs),new _e.default(this.meetingSessionContext),new Gt.default(this.logger,new $e.default(this.logger,"UpdateSession",[new $.default(this.meetingSessionContext),new K.default(this.meetingSessionContext),new at.default(this.meetingSessionContext),new Z.default(this.meetingSessionContext),new ot.default(this.meetingSessionContext),new lt.default(this.meetingSessionContext)]),this.configuration.connectionTimeoutMs)]).run(),this.sessionStateController.perform(s.default.FinishConnecting,()=>{if(this.eventController){const{signalingOpenDurationMs:Pe,poorConnectionCount:Fe,startTimeMs:Dt,iceGatheringDurationMs:zt,attendeePresenceDurationMs:Ut,meetingStartDurationMs:bn}=this.meetingSessionContext,wn={maxVideoTileCount:this.meetingSessionContext.maxVideoTileCount,meetingDurationMs:Math.round(Date.now()-Dt),meetingStatus:t.default[Ee.statusCode()],signalingOpenDurationMs:Pe,iceGatheringDurationMs:zt,attendeePresenceDurationMs:Ut,poorConnectionCount:Fe,meetingStartDurationMs:bn,retryCount:this.totalRetryCount};this.eventController.publishEvent("meetingReconnected",wn)}this.actionFinishConnecting()})}catch(Pe){this.sessionStateController.perform(s.default.FinishConnecting,()=>{this.logger.info("failed to reconnect audio-video session");const Fe=new e.default(this.getMeetingStatusCode(Pe)||t.default.TaskFailed);this.handleMeetingSessionStatus(Fe,Pe)})}this.connectionHealthData.setConnectionStartTime()})}wrapTaskName(Ee){return`${Ee}/${this.configuration.meetingId}/${this.configuration.credentials.attendeeId}`}cleanUpMediaStreamsAfterStop(){this._mediaStreamBroker.removeMediaStreamBrokerObserver(this),this.meetingSessionContext.activeAudioInput=void 0,this.meetingSessionContext.activeVideoInput=void 0}getMeetingStatusCode(Ee){const Pe=/the meeting status code: (\d+)/.exec(Ee&&Ee.message);return Pe&&Pe.length>1?Number.parseInt(Pe[1],10):null}enforceBandwidthLimitationForSender(Ee){return S(this,void 0,void 0,function*(){yield this.meetingSessionContext.transceiverController.setVideoSendingBitrateKbps(Ee)})}handleMeetingSessionStatus(Ee,Pe){if(this.logger.info(`handling status: ${t.default[Ee.statusCode()]}`),Ee.isTerminal()||this.meetingSessionContext.statsCollector&&this.meetingSessionContext.statsCollector.logMeetingSessionStatus(Ee),Ee.statusCode()===t.default.IncompatibleSDP)return this.restartLocalVideo(()=>{this.logger.info("handled incompatible SDP by attempting to restart video")}),!0;if(Ee.statusCode()===t.default.VideoCallSwitchToViewOnly)return this._videoTileController.removeLocalVideoTile(),this.forEachObserver(Fe=>{fn.Maybe.of(Fe.videoSendDidBecomeUnavailable).map(Dt=>Dt.bind(Fe)())}),!1;if(Ee.statusCode()===t.default.AudioVideoWasRemovedFromPrimaryMeeting)return this.forEachObserver(Fe=>{fn.Maybe.of(Fe.audioVideoWasDemotedFromPrimaryMeeting).map(Dt=>Dt.bind(Fe)(Ee))}),!1;if(Ee.isTerminal()&&(this.logger.error("session will not be reconnected"),this.meetingSessionContext.reconnectController&&this.meetingSessionContext.reconnectController.disableReconnect()),(Ee.isFailure()||Ee.isTerminal())&&this.meetingSessionContext.reconnectController){const Fe=this.reconnect(Ee,Pe);return Fe?this.logger.warn(`will retry due to status code ${t.default[Ee.statusCode()]}${Pe?` and error: ${Pe.message}`:""}`):this.logger.error(`failed with status code ${t.default[Ee.statusCode()]}${Pe?` and error: ${Pe.message}`:""}`),Fe}return!1}setVideoMaxBandwidthKbps(Ee){if(Ee<=0)throw new Error("Max bandwidth kbps has to be greater than 0");this.meetingSessionContext&&this.meetingSessionContext.videoUplinkBandwidthPolicy&&(this.logger.info(`video send has ideal max bandwidth ${Ee} kbps`),this.meetingSessionContext.videoUplinkBandwidthPolicy.setIdealMaxBandwidthKbps(Ee)),this.maxUplinkBandwidthKbps=Ee}handleHasBandwidthPriority(Ee){return S(this,void 0,void 0,function*(){if(this.meetingSessionContext&&this.meetingSessionContext.videoUplinkBandwidthPolicy&&!this.meetingSessionContext.enableSimulcast){if(this.useUpdateTransceiverControllerForUplink){this.meetingSessionContext.videoUplinkBandwidthPolicy.setHasBandwidthPriority(Ee),yield this.meetingSessionContext.videoUplinkBandwidthPolicy.updateTransceiverController();return}const Pe=this.meetingSessionContext.videoUplinkBandwidthPolicy.maxBandwidthKbps();this.meetingSessionContext.videoUplinkBandwidthPolicy.setHasBandwidthPriority(Ee);const Fe=this.meetingSessionContext.videoUplinkBandwidthPolicy.maxBandwidthKbps();Pe!==Fe&&(this.logger.info(`video send bandwidth priority ${Ee} max has changed from ${Pe} kbps to ${Fe} kbps`),yield this.enforceBandwidthLimitationForSender(Fe))}})}pauseReceivingStream(Ee){this.meetingSessionContext&&this.meetingSessionContext.signalingClient&&this.meetingSessionContext.signalingClient.pause([Ee])}resumeReceivingStream(Ee){this.meetingSessionContext&&this.meetingSessionContext.signalingClient&&this.meetingSessionContext.signalingClient.resume([Ee])}setVideoCodecSendPreferences(Ee){this.videoSendCodecPreferences=Ee,this.meetingSessionContext.videoSendCodecPreferences=Ee,this.update({needsRenegotiation:!0})}getRemoteVideoSources(){const{videoStreamIndex:Ee}=this.meetingSessionContext;if(!Ee)return this.logger.info("meeting has not started"),[];const Pe=this.configuration.credentials.attendeeId;return Ee.allVideoSendingSourcesExcludingSelf(Pe)}encodingSimulcastLayersDidChange(Ee){this.mayNeedRenegotiationForSimulcastLayerChange=!0,this.forEachObserver(Pe=>{fn.Maybe.of(Pe.encodingSimulcastLayersDidChange).map(Fe=>Fe.bind(Pe)(Ee))})}promoteToPrimaryMeeting(Ee){return this.actionPromoteToPrimaryMeeting(Ee)}actionPromoteToPrimaryMeeting(Ee){return S(this,void 0,void 0,function*(){let Pe=new e.default(t.default.SignalingRequestFailed);return yield new $e.default(this.logger,this.wrapTaskName("PromoteToPrimaryMeeting"),[new Gt.default(this.logger,new Be.default(this.meetingSessionContext,Ee,Fe=>{Pe=Fe}),this.configuration.connectionTimeoutMs)]).run(),this.promotedToPrimaryMeeting=Pe.statusCode()===t.default.OK,Pe})}demoteFromPrimaryMeeting(){this.meetingSessionContext.signalingClient.demoteFromPrimaryMeeting(),this.forEachObserver(Ee=>{fn.Maybe.of(Ee.audioVideoWasDemotedFromPrimaryMeeting).map(Pe=>Pe.bind(Ee)(new e.default(t.default.OK)))})}videoInputDidChange(Ee){return S(this,void 0,void 0,function*(){if(this.logger.info("Receive a video input change event"),!this.meetingSessionContext||!this.meetingSessionContext.peer){this.logger.info("Skip updating video input because there is no active meeting and peer connection");return}this._videoTileController.hasStartedLocalVideoTile()&&(Ee?yield this.replaceLocalVideo(Ee):this._videoTileController.stopLocalVideoTile())})}audioInputDidChange(Ee){return S(this,void 0,void 0,function*(){if(this.logger.info("Receive an audio input change event"),!this.meetingSessionContext||!this.meetingSessionContext.peer){this.logger.info("Skip updating audio input because there is no active meeting and peer connection");return}if(!Ee)try{Ee=yield this.mediaStreamBroker.acquireAudioInputStream()}catch{this.logger.error("Could not acquire audio track from mediaStreamBroker");return}yield this.replaceLocalAudio(Ee)})}constructor(Ee,Pe,Fe,Dt,zt,Ut){this._audioProfile=new f.default,this.connectionHealthData=new n.default,this.observerQueue=new Set,this.meetingSessionContext=new en.default,this.enableSimulcast=!1,this.useUpdateTransceiverControllerForUplink=!1,this.totalRetryCount=0,this.startAudioVideoTimestamp=0,this.mayNeedRenegotiationForSimulcastLayerChange=!1,this.promotedToPrimaryMeeting=!1,this.hasGetRTCPeerConnectionStatsDeprecationMessageBeenSent=!1,this.receiveIndexTask=void 0,this.monitorTask=void 0,this.destroyed=!1,this._logger=Pe,this.sessionStateController=new u.default(this._logger),this._configuration=Ee,this._webSocketAdapter=Fe,this._realtimeController=new v.default(Dt),this._realtimeController.realtimeSetLocalAttendeeId(Ee.credentials.attendeeId,Ee.credentials.externalUserId),this._mediaStreamBroker=Dt,this._reconnectController=zt,this._videoTileController=new Mn.default(new Ot.default,this,this._logger),this._audioMixController=new m.default(this._logger),this._mediaStreamBroker.addMediaStreamBrokerObserver(this._audioMixController),this.meetingSessionContext.logger=this._logger,this._eventController=Ut}},"DefaultAudioVideoController");c.default=Kn,Kn.MIN_VOLUME_DECIBELS=-42,Kn.MAX_VOLUME_DECIBELS=-14,Kn.PING_PONG_INTERVAL_MS=1e4},"2oFa":function(N,c,d){"use strict";Object.defineProperty(c,"__esModule",{value:!0});let S=o(class{constructor(){this.previousMetrics={},this.currentMetrics={},this.currentStringMetrics={}}},"GlobalMetricReport");c.default=S},"2q7c":function(N,c,d){"use strict";Object.defineProperty(c,"__esModule",{value:!0});const S=d("aVV0");let h=o(class extends S.default{run(){return this.fn().then(()=>{})}constructor(f,a,n="RunnableTask"){super(f),this.fn=a,this.taskName=n}},"RunnableTask");c.default=h},"2vi8":function(N,c,d){"use strict";var S=this&&this.__awaiter||function(n,i,e,t){function r(l){return l instanceof e?l:new e(function(p){p(l)})}return o(r,"adopt"),new(e||(e=Promise))(function(l,p){function v(s){try{u(t.next(s))}catch(I){p(I)}}o(v,"fulfilled");function g(s){try{u(t.throw(s))}catch(I){p(I)}}o(g,"rejected");function u(s){s.done?l(s.value):r(s.value).then(v,g)}o(u,"step"),u((t=t.apply(n,i||[])).next())})};Object.defineProperty(c,"__esModule",{value:!0});const h=d("HbHZ"),m=d("XCDq"),f=d("j+uH");let a=o(class extends f.default{cancel(){this.taskCanceler&&(this.taskCanceler.cancel(),this.taskCanceler=null)}run(){return S(this,void 0,void 0,function*(){this.context.signalingClient.ready()&&(this.context.signalingClient.leave(),this.context.logger.info("sent leave"),yield this.receiveLeaveAck())})}receiveLeaveAck(){return new Promise((i,e)=>{let t=o(class{cancel(){this.signalingClient.removeObserver(this),e(new Error("LeaveAndReceiveLeaveAckTask got canceled while waiting for IndexFrame"))}handleSignalingClientEvent(p){if(p.isConnectionTerminated()){this.signalingClient.removeObserver(this),this.logger.info("LeaveAndReceiveLeaveAckTask connection terminated"),i();return}p.type===h.default.ReceivedSignalFrame&&p.message.type===m.SdkSignalFrame.Type.LEAVE_ACK&&(this.signalingClient.removeObserver(this),this.logger.info("got leave ack"),i())}constructor(p,v){this.signalingClient=p,this.logger=v}},"Interceptor");const r=new t(this.context.signalingClient,this.context.logger);this.taskCanceler=r,this.context.signalingClient.registerObserver(r)})}constructor(i){super(i.logger),this.context=i,this.taskName="LeaveAndReceiveLeaveAckTask",this.taskCanceler=null}},"LeaveAndReceiveLeaveAckTask");c.default=a},"2wCG":function(N,c,d){"use strict";Object.defineProperty(c,"__esModule",{value:!0});let S=o(class{},"SDPMediaSection");c.default=S},"2xSc":function(N,c,d){"use strict";Object.defineProperty(c,"__esModule",{value:!0});let S=o(class{},"TranscriptEntity");c.default=S},"2y31":function(N,c,d){"use strict";Object.defineProperty(c,"__esModule",{value:!0});const S=d("uctb");let h=o(class{info(f){}warn(f){}error(f){}debug(f){S.default.DEBUG<this.level||typeof f!="string"&&f()}setLogLevel(f){this.level=f}getLogLevel(){return this.level}constructor(f=S.default.OFF){this.level=f}},"NoOpLogger");c.default=h},"2zfi":function(N,c,d){var S=d("d+lc"),h=d("FgkJ"),m=d("zBWt")("species");N.exports=function(f,a){var n=S(f).constructor,i;return n===void 0||(i=S(n)[m])==null?a:h(i)}},"3+Ww":function(N,c){},"34ho":function(N,c,d){"use strict";Object.defineProperty(c,"__esModule",{value:!0});var S;(function(h){h.Modality="#content"})(S||(S={})),c.default=S},"3B23":function(N,c,d){"use strict";var S=d("l5Mp");c.__esModule=!0,c.default=m;var h=S(d("RGQ0"));function m(f,a){f.classList?f.classList.add(a):(0,h.default)(f,a)||(typeof f.className=="string"?f.className=f.className+" "+a:f.setAttribute("class",(f.className&&f.className.baseVal||"")+" "+a))}o(m,"addClass"),N.exports=c.default},"3E7f":function(N,c,d){"use strict";N.exports={}},"3EKQ":function(N,c,d){"use strict";(function(S){var h=this&&this.__awaiter||function(t,r,l,p){function v(g){return g instanceof l?g:new l(function(u){u(g)})}return o(v,"adopt"),new(l||(l=Promise))(function(g,u){function s(R){try{M(p.next(R))}catch(B){u(B)}}o(s,"fulfilled");function I(R){try{M(p.throw(R))}catch(B){u(B)}}o(I,"rejected");function M(R){R.done?g(R.value):v(R.value).then(s,I)}o(M,"step"),M((p=p.apply(t,r||[])).next())})},m=this&&this.__rest||function(t,r){var l={};for(var p in t)Object.prototype.hasOwnProperty.call(t,p)&&r.indexOf(p)<0&&(l[p]=t[p]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var v=0,p=Object.getOwnPropertySymbols(t);v<p.length;v++)r.indexOf(p[v])<0&&Object.prototype.propertyIsEnumerable.call(t,p[v])&&(l[p[v]]=t[p[v]]);return l};Object.defineProperty(c,"__esModule",{value:!0});const f=d("Np2I"),a=d("8wPz"),n=d("X3Fi"),i=d("R4Nl");let e=o(class nl{addEventListeners(){!this.beaconEventListener||!("window"in S)||!window.addEventListener||!("document"in S)||!document.addEventListener||(this.logger.debug("Event Reporting - InMemoryJSONEventBuffer - addEventListeners - adding pagehide and visibility change event listeners"),window.addEventListener("pagehide",this.beaconEventListener),document.addEventListener("visibilitychange",this.beaconEventListener))}beaconEventHandler(r){(r.type==="visibilitychange"&&document.visibilityState==="hidden"||r.type==="pagehide")&&(this.logger.debug("Event Reporting - InMemoryJSONEventBuffer - beaconEventHandler is triggered calling sendBeacon"),this.sendBeacon())}removeEventListeners(){!this.beaconEventListener||!("window"in S)||!window.removeEventListener||!("document"in S)||!document.removeEventListener||(window.removeEventListener("pagehide",this.beaconEventListener),document.removeEventListener("visibilitychange",this.beaconEventListener),this.logger.debug("Event Reporting - InMemoryJSONEventBuffer - removeEventListeners - removing pagehide and visibility change event listeners"))}start(){var r;this.removeEventListeners(),this.addEventListeners(),(r=this.intervalScheduler)===null||r===void 0||r.stop(),this.intervalScheduler=new a.default(this.flushIntervalMs),this.intervalScheduler.start(()=>this.sendEvents())}stop(){var r;(r=this.intervalScheduler)===null||r===void 0||r.stop(),this.intervalScheduler=void 0,this.sendBeacon(),this.removeEventListeners()}addItem(r){return h(this,void 0,void 0,function*(){this.logger.debug(`Event Reporting - InMemoryJSONEventBuffer - addItem - received event ${JSON.stringify(r)}`);const{name:l,ts:p,attributes:v}=r,g=v&&this.filterAttributes(v,this.attributesToFilter),u=Object.assign({name:l,ts:p},g);this.logger.debug(`Event Reporting - InMemoryJSONEventBuffer - addItem - event after filtering attributes ${JSON.stringify(u)}`);const s=this.getSize(u);if(s>nl.MAX_ITEM_SIZE_BYTES_ALLOWED)throw new Error(`Event Reporting - Item to be added has size ${s} bytes. Item cannot exceed max item size allowed of ${nl.MAX_ITEM_SIZE_BYTES_ALLOWED} bytes.`);if(this.importantEvents.has(l)){this.logger.debug(`Event Reporting - InMemoryJSONEventBuffer - addItem - sending important event ${JSON.stringify(u)}`),this.sendEventImmediately({name:l,ts:p,attributes:g});return}if(this.isFull())throw this.logger.warn("Event Reporting - Event buffer is full"),new Error("Buffer full");if(this.currentIngestionEvent.payloads.push(u),this.ingestionEventSize+=s,this.bufferItemThresholdReached(s)){const I=this.deepCopyCurrentIngestionEvent(this.currentIngestionEvent);this.buffer.push(I),this.bufferSize+=this.ingestionEventSize,this.currentIngestionEvent=this.initializeAndGetCurrentIngestionEvent(),this.logger.debug(`Event Reporting - InMemoryJSONEventBuffer - addItem - buffer item threshold reached updated buffer ${JSON.stringify(this.buffer)}`)}})}filterAttributes(r,l){const p=new Set(l);return Object.keys(r).filter(g=>p.has(g)).forEach(g=>delete r[g]),r}initializeAndGetCurrentIngestionEvent(){const r={type:this.type,v:this.v,payloads:[]};return this.ingestionEventSize=this.getSize(r),r}bufferItemThresholdReached(r){return r+this.ingestionEventSize>=this.maxBufferItemCapacityBytes||this.currentIngestionEvent.payloads.length===nl.MAX_PAYLOAD_ITEMS}getSize(r){let l=0;if(typeof r=="object")for(const[p,v]of Object.entries(r))l+=this.getPrimitiveSize(p),l+=this.getSize(v);else l+=this.getPrimitiveSize(r);return l}getPrimitiveSize(r){let l=0;return typeof r=="string"?l+=r.length*2:typeof r=="number"&&(l+=8),l}isFull(){return this.bufferSize===this.maxBufferCapacityBytes||this.buffer.length===this.totalBufferItems}isEmpty(){return this.buffer.length===0||this.bufferSize===0}getItems(r){let l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return this.isEmpty()?[]:(r=Math.min(this.buffer.length,r+1),this.buffer.splice(l,r))}makeBeaconRequestBody(r){const l={metadata:this.metadata,events:r,authorization:this.authenticationToken};return JSON.stringify(l)}makeRequestBody(r){const l={metadata:this.metadata,events:r};return JSON.stringify(l)}sendEventImmediately(r){return h(this,void 0,void 0,function*(){this.logger.debug(`Event Reporting - InMemoryJSONEventBuffer - sendEventImmediately - important event received ${JSON.stringify(r)}`);const{name:l,ts:p,attributes:v}=r,g={type:this.type,v:this.v,payloads:[Object.assign({name:l,ts:p},v)]};let u=!1,s=null;const I=this.makeRequestBody([g]);try{if(s=yield this.send(I),s.ok){try{const M=yield s.json();this.logger.debug(`Event Reporting - InMemoryJSONEventBuffer - sendEventImmediately - send successful event: ${I}, message: ${JSON.stringify(M)}`)}catch(M){this.logger.warn(`Event Reporting - InMemoryJSONEventBuffer - sendEventImmediately - Error reading OK response ${M} for event ${I}`)}return}else this.logger.error(`Event Reporting - InMemoryJSONEventBuffer - sendEventImmediately - Failed to send an important event ${I} with response status ${s.status}`),u=!0}catch(M){this.logger.warn(`Event Reporting - There may be a failure in sending an important event ${I} to the ingestion endpoint ${M}.`),u=!0;try{if(this.metadata.browserName.toLowerCase()==="firefox"){const R=this.makeBeaconRequestBody([g]);this.logger.debug(`Event Reporting - InMemoryJSONEventBuffer - sendEventImmediately - beaconing data out ${R}`),navigator.sendBeacon(`${this.ingestionURL}?beacon=1`,R)?u=!1:u=!0}}catch{this.logger.warn(`Event Reporting - Error sending beacon for an important event ${I}`),u=!0}}u&&(this.logger.debug(`Event Reporting - InMemoryJSONEventBuffer - sendEventImmediately - pushing to failed events ${I}`),this.failedIngestionEvents.push(g))})}send(r){return h(this,void 0,void 0,function*(){const l=new f.default(nl.RETRY_FIXED_BACKOFF_WAIT_MS,nl.RETRY_SHORT_BACKOFF_MS,nl.RETRY_LONG_BACKOFF_MS);try{let p=0;for(;p<this.retryCountLimit;){const v=yield fetch(this.ingestionURL,{method:"POST",headers:{Authorization:`Bearer ${this.authenticationToken}`},body:r});if(v.ok||!nl.SENDING_FAILURE_CODES.has(v.status))return v;if(this.logger.warn(`Will retry sending failure for ${r} due to status code ${v.status}.`),p++,p<this.retryCountLimit){const g=l.nextBackoffAmountMs();yield i.wait(g)}}if(p===this.retryCountLimit)throw new Error(`Retry count limit reached for ${r}`)}catch(p){throw p}})}sendBeacon(){return h(this,void 0,void 0,function*(){const r=this.buffer;if(this.logger.debug(`Event Reporting - InMemoryJSONEventBuffer - sendBeacon - clearing out buffer events ${JSON.stringify(r)}`),this.buffer=[],this.currentIngestionEvent.payloads.length>0){const p=this.deepCopyCurrentIngestionEvent(this.currentIngestionEvent);r.push(p),this.logger.debug(`Event Reporting - InMemoryJSONEventBuffer - sendBeacon - clearing out current ingestion event ${JSON.stringify(p)}`),this.currentIngestionEvent=this.initializeAndGetCurrentIngestionEvent()}if(this.failedIngestionEvents.length>0){const p=this.failedIngestionEvents.map(v=>this.deepCopyCurrentIngestionEvent(v));r.push(...p),this.logger.debug(`Event Reporting - InMemoryJSONEventBuffer - sendBeacon - clearing out any failed ingestion event ${JSON.stringify(p)}`),this.failedIngestionEvents=[]}if(this.cancellableEvents.size>0&&(this.cancellableEvents.forEach(p=>{r.push(...p),this.logger.debug(`Event Reporting - InMemoryJSONEventBuffer - sendBeacon - clearing out each cancellable event ${JSON.stringify(p)}`)}),this.cancellableEvents.clear()),r.length===0)return;const l=this.makeBeaconRequestBody(r);this.logger.debug(`Event Reporting - InMemoryJSONEventBuffer - sendBeacon - beacon data to send ${l}`);try{navigator.sendBeacon(`${this.ingestionURL}?beacon=1`,l)||this.logger.warn(`Event Reporting - Browser failed to queue beacon data ${l}`)}catch(p){this.logger.warn(`Event Reporting - Sending beacon data ${l} failed with error ${p}`)}})}reset(){this.maxBufferCapacityBytes=0,this.totalBufferItems=0,this.buffer=[],this.bufferSize=0,this.maxBufferItemCapacityBytes=0,this.ingestionEventSize=0,this.flushIntervalMs=0,this.flushSize=0,this.failedIngestionEvents=[],this.lock=!1,this.beaconEventListener=void 0,this.cancellableEvents.clear()}destroy(){return h(this,void 0,void 0,function*(){this.stop(),this.reset()})}constructor(r,l,p,v,g){this.buffer=[],this.bufferSize=0,this.maxBufferItemCapacityBytes=0,this.ingestionEventSize=0,this.flushIntervalMs=0,this.flushSize=0,this.failedIngestionEvents=[],this.retryCountLimit=15,this.lock=!1,this.cancellableEvents=new Map,this.attributesToFilter=["externalUserId","externalMeetingId","timestampMs"],this.deepCopyCurrentIngestionEvent=k=>({type:k.type,v:k.v,payloads:[...k.payloads]}),this.sendEvents=()=>h(this,void 0,void 0,function*(){if(this.lock)return;const k=this.getItems(this.flushSize);if(k.length===0)return;this.lock=!0;const K=this.makeRequestBody(k);let Z=!1;const Y=Date.now();this.metadata.browserName.toLowerCase()==="firefox"&&this.cancellableEvents.set(Y,k);try{this.logger.debug(`Event Reporting - InMemoryJSONEventBuffer - sendEvents - sending body ${K}`);const ie=yield this.send(K);if(this.cancellableEvents.delete(Y),!ie.ok)this.logger.error(`Event Reporting - InMemoryJSONEventBuffer - sendEvents - Failed to send events ${K} with response status ${ie.status}`),Z=!0;else try{const ge=yield ie.json();this.logger.debug(`Event Reporting - InMemoryJSONEventBuffer - sendEvents - send successful events: ${K} message: ${JSON.stringify(ge)}`)}catch(ge){this.logger.warn(`Event Reporting - InMemoryJSONEventBuffer - sendEvents error reading OK response ${ge} for events ${K}`)}}catch(ie){Z=!0,this.logger.warn(`Event Reporting - InMemoryJSONEventBuffer - sendEvents - Error in sending events ${K} to the ingestion endpoint ${ie}`)}finally{this.lock=!1}Z&&(this.cancellableEvents.delete(Y),this.failedIngestionEvents.push(...k))});const u=new n.default(g).getParserResult(),{browserMajorVersion:s}=u,I=m(u,["browserMajorVersion"]),M=l.toJSON(),{type:R,v:B}=M,j=m(M,["type","v"]);this.authenticationToken=l.getAuthenticationToken(),this.metadata=Object.assign(Object.assign({},I),j),Object.keys(this.metadata).forEach(k=>this.attributesToFilter.push(k)),this.type=R,this.v=B,this.ingestionURL=p,this.logger=g,this.importantEvents=new Set(v);const{maxBufferCapacityKb:A,totalBufferItems:D,flushSize:$,flushIntervalMs:O,retryCountLimit:P}=r;this.maxBufferCapacityBytes=A*1024,this.totalBufferItems=D,this.maxBufferItemCapacityBytes=Math.round(this.maxBufferCapacityBytes/D),this.flushIntervalMs=O,this.flushSize=$,this.retryCountLimit=P,this.currentIngestionEvent=this.initializeAndGetCurrentIngestionEvent(),this.beaconEventListener=k=>this.beaconEventHandler(k),this.addEventListeners()}},"InMemoryJSONEventBuffer");c.default=e,e.SENDING_FAILURE_CODES=new Set([408,429,500,502,503,504]),e.RETRY_FIXED_BACKOFF_WAIT_MS=0,e.RETRY_SHORT_BACKOFF_MS=1e3,e.RETRY_LONG_BACKOFF_MS=15e3,e.MAX_PAYLOAD_ITEMS=2,e.MAX_ITEM_SIZE_BYTES_ALLOWED=3e3}).call(this,d("yLpj"))},"3Ft5":function(N,c,d){"use strict";var S=this&&this.__awaiter||function(s,I,M,R){function B(j){return j instanceof M?j:new M(function(A){A(j)})}return o(B,"adopt"),new(M||(M=Promise))(function(j,A){function D(P){try{O(R.next(P))}catch(k){A(k)}}o(D,"fulfilled");function $(P){try{O(R.throw(P))}catch(k){A(k)}}o($,"rejected");function O(P){P.done?j(P.value):B(P.value).then(D,$)}o(O,"step"),O((R=R.apply(s,I||[])).next())})};Object.defineProperty(c,"__esModule",{value:!0});const h=d("LmyK"),m=d("mpmV"),f=d("ya0l"),a=d("kItj"),n=d("LuEC"),i=d("pCf5"),e=d("6Bxv"),t=d("lUhs"),r=d("hEYi"),l=d("f2XL"),p=d("J+fJ"),v=d("KyYT"),g=d("aVV0");let u=o(class wh extends g.default{removeObserver(){this.context.audioVideoController.removeObserver(this),this.context.realtimeController.realtimeUnsubscribeToFatalError(this.realtimeFatalErrorCallback),this.context.realtimeController.realtimeUnsubscribeToLocalSignalStrengthChange(this.checkAndSendWeakSignalEvent),this.context.realtimeController.realtimeUnsubscribeToAttendeeIdPresence(this.realtimeAttendeeIdPresenceHandler),this.context.signalingClient.removeObserver(this)}run(){return S(this,void 0,void 0,function*(){this.context.removableObservers.push(this),this.context.audioVideoController.addObserver(this),this.context.realtimeController.realtimeSubscribeToFatalError(this.realtimeFatalErrorCallback),this.context.realtimeController.realtimeSubscribeToLocalSignalStrengthChange(this.checkAndSendWeakSignalEvent),this.context.realtimeController.realtimeSubscribeToAttendeeIdPresence(this.realtimeAttendeeIdPresenceHandler),this.context.connectionMonitor.start(),this.context.statsCollector.start(this.context.signalingClient,this.context.videoStreamIndex),this.context.signalingClient.registerObserver(this)})}pauseResubscribeCheck(){this.isResubscribeCheckPaused=!0}resumeResubscribeCheck(){this.isResubscribeCheckPaused&&(this.isResubscribeCheckPaused=!1,this.pendingMetricsReport&&(this.context.logger.info("Resuming resubscribe check with pending metrics report"),this.checkResubscribe(this.pendingMetricsReport)&&this.context.audioVideoController.update({needsRenegotiation:!1})))}videoTileDidUpdate(I){this.context.maxVideoTileCount=Math.max(this.context.maxVideoTileCount,this.context.videoTileController.getAllVideoTiles().length)}checkResubscribe(I){if(this.isResubscribeCheckPaused){this.context.logger.info("Resubscribe check is paused, setting incoming client metric report as pending"),this.pendingMetricsReport=I;return}else this.pendingMetricsReport=void 0;const M=I.getObservableMetrics();if(!M)return!1;const R=M.availableOutgoingBitrate,B=M.nackCountReceivedPerSecond;let j=!1;this.context.videoDownlinkBandwidthPolicy.updateMetrics(I);const A=this.context.videoDownlinkBandwidthPolicy.wantsResubscribe();if(j=j||A,A){const D=this.context.videoDownlinkBandwidthPolicy.chooseSubscriptions();this.context.videosToReceive=D.truncate(this.context.videoSubscriptionLimit),D.size()>this.context.videosToReceive.size()&&this.logger.warn(`Video receive limit exceeded. Limiting the videos to ${this.context.videosToReceive.size()}. Please consider using AllHighestVideoBandwidthPolicy or VideoPriorityBasedPolicy along with chooseRemoteVideoSources api to select the video sources to be displayed.`),this.logger.info(`trigger resubscribe for down=${A}; videosToReceive=[${this.context.videosToReceive.array()}]`)}if(this.context.videoTileController.hasStartedLocalVideoTile()){this.context.videoUplinkBandwidthPolicy.updateConnectionMetric({uplinkKbps:R/1e3,nackCountPerSecond:B});const D=this.context.videoUplinkBandwidthPolicy.wantsResubscribe();j=j||D,D&&(this.logger.info(`trigger resubscribe for up=${D}; videosToReceive=[${this.context.videosToReceive.array()}]`),this.context.videoUplinkBandwidthPolicy.chooseEncodingParameters(),this.context.videoUplinkBandwidthPolicy.chooseMediaTrackConstraints())}return j}metricsDidReceive(I){const M=I;if(!M||(this.checkResubscribe(I)&&this.context.audioVideoController.update({needsRenegotiation:!1}),!this.currentAvailableStreamAvgBitrates))return;const R=M.streamMetricReports;if(!R)return;const B=I.getObservableMetrics();this.currentVideoDownlinkBandwidthEstimationKbps=B.availableIncomingBitrate;const j=new Map,A=new Map;for(const $ in R)R[$].mediaType===m.default.VIDEO&&R[$].direction===h.default.DOWNSTREAM&&j.set(R[$].streamId,R[$]);let D=!1;for(const $ of this.currentAvailableStreamAvgBitrates.bitrates)if(j.has($.sourceStreamId)){const O=j.get($.sourceStreamId),P=this.context.videoStreamIndex.attendeeIdForStreamId($.sourceStreamId);if(!P)continue;const k=new f.default,K=O.previousMetrics.bytesReceived,Z=O.currentMetrics.bytesReceived;if(!K||!Z)continue;const Y=(Z-K)*8/1e3;k.expectedAverageBitrateKbps=$.avgBitrateBps/1e3,k.receivedAverageBitrateKbps=Y,k.attendeeId=P,Y<$.avgBitrateBps/1e3*wh.DEFAULT_DOWNLINK_CALLRATE_UNDERSHOOT_FACTOR&&(D=!0),A.set(P,k)}D&&this.logger.info(`One or more video streams are not receiving expected amounts of data ${JSON.stringify(Array.from(A.values()))}`)}connectionHealthDidChange(I){I.consecutiveMissedPongs===0&&this.context.reconnectController&&this.context.reconnectController.setLastActiveTimestampMs(Date.now()),this.applyHealthPolicy(this.reconnectionHealthPolicy,I,()=>{this.context.audioVideoController.handleMeetingSessionStatus(new e.default(t.default.ConnectionHealthReconnect),null)}),this.applyHealthPolicy(this.unusableAudioWarningHealthPolicy,I,()=>{var M;this.context.poorConnectionCount+=1;const R=this.generateAudioVideoEventAttributesForReceivingAudioDropped();(M=this.context.eventController)===null||M===void 0||M.publishEvent("receivingAudioDropped",R),this.context.videoTileController.haveVideoTilesWithStreams()?this.context.audioVideoController.forEachObserver(B=>{v.Maybe.of(B.connectionDidSuggestStopVideo).map(j=>j.bind(B)())}):this.context.audioVideoController.forEachObserver(B=>{v.Maybe.of(B.connectionDidBecomePoor).map(j=>j.bind(B)())})},()=>{this.context.audioVideoController.forEachObserver(M=>{v.Maybe.of(M.connectionDidBecomeGood).map(R=>R.bind(M)())})}),this.isMeetingConnected&&this.applyHealthPolicy(this.sendingAudioFailureHealthPolicy,I,()=>{var M;const R=this.generateBaseAudioVideoEventAttributes();(M=this.context.eventController)===null||M===void 0||M.publishEvent("sendingAudioFailed",R)},()=>{var M;const R=this.generateBaseAudioVideoEventAttributes();(M=this.context.eventController)===null||M===void 0||M.publishEvent("sendingAudioRecovered",R)})}audioVideoDidStart(){this.isMeetingConnected=!0}audioVideoDidStartConnecting(I){this.isMeetingConnected=!1}audioVideoDidStop(I){this.isMeetingConnected=!1}applyHealthPolicy(I,M,R,B){I.update(M);const j=I.healthIfChanged();j!==null&&(this.logger.info(`${I.name} value is now ${j}`),j<=I.minimumHealth()?v.Maybe.of(R).map(A=>A.bind(this)()):v.Maybe.of(B).map(A=>A.bind(this)()))}handleBitrateFrame(I){let M=0;this.currentAvailableStreamAvgBitrates=I,this.logger.debug(()=>`simulcast: bitrates from server ${JSON.stringify(I)}`);for(const R of I.bitrates)this.context.videosToReceive.contain(R.sourceStreamId)&&(M+=R.avgBitrateBps);M/=1e3,this.currentVideoDownlinkBandwidthEstimationKbps*wh.DEFAULT_DOWNLINK_CALLRATE_OVERSHOOT_FACTOR<M&&this.logger.info(`Downlink bandwidth pressure is high: estimated bandwidth ${this.currentVideoDownlinkBandwidthEstimationKbps}Kbps, required bandwidth ${M}Kbps`)}handleSignalingClientEvent(I){var M;if(I.type===r.default.WebSocketClosed&&(I.closeCode===4410||I.closeCode>=4500&&I.closeCode<4600)||I.type===r.default.WebSocketError||I.type===r.default.WebSocketFailed){if(!this.hasSignalingError){const R=this.generateAudioVideoEventAttributesForReceivingAudioDropped();(M=this.context.eventController)===null||M===void 0||M.publishEvent("signalingDropped",R),this.hasSignalingError=!0}}else I.type===r.default.WebSocketOpen&&(this.hasSignalingError=!1);if(I.type===r.default.ReceivedSignalFrame){if(I.message.bitrates){const B=I.message.bitrates;this.context.videoStreamIndex.integrateBitratesFrame(B),this.context.videoDownlinkBandwidthPolicy.updateIndex(this.context.videoStreamIndex),this.handleBitrateFrame(I.message.bitrates)}const R=e.default.fromSignalFrame(I.message);I.message.type!==l.SdkSignalFrame.Type.PRIMARY_MEETING_JOIN_ACK&&R.statusCode()!==t.default.OK&&this.context.audioVideoController.handleMeetingSessionStatus(R,null)}}constructor(I,M,R){super(I.logger),this.context=I,this.initialConnectionHealthData=R,this.taskName="MonitorTask",this.prevSignalStrength=1,this.currentVideoDownlinkBandwidthEstimationKbps=1e4,this.currentAvailableStreamAvgBitrates=null,this.hasSignalingError=!1,this.presenceHandlerCalled=!1,this.isResubscribeCheckPaused=!1,this.pendingMetricsReport=void 0,this.isMeetingConnected=!1,this.checkAndSendWeakSignalEvent=B=>{const j=B<1,A=this.prevSignalStrength<1,D=j?A?null:p.default.RedmicStartLoss:A?p.default.RedmicEndLoss:null;D&&this.context.statsCollector.logAudioEvent(D),this.prevSignalStrength=B},this.realtimeFatalErrorCallback=B=>{this.logger.error(`realtime error: ${B}: ${B.stack}`),this.context.audioVideoController.handleMeetingSessionStatus(new e.default(t.default.RealtimeApiFailed),B)},this.realtimeAttendeeIdPresenceHandler=(B,j)=>{var A;const D=this.context.meetingSessionConfiguration.credentials.attendeeId;this.logger.info(`attendeePresenceReceived: ${D}`),D===B&&j&&!this.presenceHandlerCalled&&(this.presenceHandlerCalled=!0,this.context.attendeePresenceDurationMs=Date.now()-this.context.startAudioVideoTimestamp,(A=this.context.eventController)===null||A===void 0||A.publishEvent("attendeePresenceReceived",{attendeePresenceDurationMs:this.context.attendeePresenceDurationMs}))},this.generateBaseAudioVideoEventAttributes=()=>{const{signalingOpenDurationMs:B,startTimeMs:j,iceGatheringDurationMs:A,attendeePresenceDurationMs:D,meetingStartDurationMs:$}=this.context;return{meetingDurationMs:j===null?0:Math.round(Date.now()-j),signalingOpenDurationMs:B,iceGatheringDurationMs:A,attendeePresenceDurationMs:D,meetingStartDurationMs:$}},this.generateAudioVideoEventAttributesForReceivingAudioDropped=()=>{const B=this.generateBaseAudioVideoEventAttributes();return Object.assign(Object.assign({},B),{maxVideoTileCount:this.context.maxVideoTileCount,poorConnectionCount:this.context.poorConnectionCount})},this.reconnectionHealthPolicy=new a.default(I.logger,Object.assign({},M),this.initialConnectionHealthData.clone()),this.unusableAudioWarningHealthPolicy=new i.default(Object.assign({},M),this.initialConnectionHealthData.clone()),this.sendingAudioFailureHealthPolicy=new n.default(I.logger,Object.assign({},M),this.initialConnectionHealthData.clone())}},"MonitorTask");c.default=u,u.DEFAULT_DOWNLINK_CALLRATE_OVERSHOOT_FACTOR=2,u.DEFAULT_DOWNLINK_CALLRATE_UNDERSHOOT_FACTOR=.2},"3ZJV":function(N,c,d){"use strict";Object.defineProperty(c,"__esModule",{value:!0});const S=d("Czkq");let h=o(class extends S.default{},"BackgroundReplacementVideoFrameProcessorDelegate");c.default=h},"3i7i":function(N,c,d){"use strict";Object.defineProperty(c,"__esModule",{value:!0});let S=o(class{text(){return new TextDecoder().decode(this.data)}json(){return JSON.parse(new TextDecoder().decode(this.data))}constructor(m,f,a,n,i,e){this.timestampMs=m,this.topic=f,this.data=a,this.senderAttendeeId=n,this.senderExternalUserId=i,this.throttled=!!e}},"DataMessage");c.default=S},"3jln":function(N,c,d){"use strict";Object.defineProperty(c,"__esModule",{value:!0});const S=d("ac3q"),h=d("z8+u");let m=o(class{create(a,n,i){this.connection=new WebSocket(i?a:S.default.urlWithVersion(a),n),this.connection.binaryType="arraybuffer"}send(a){if(!this.connection)return this.logger.error("WebSocket not yet created or already destroyed."),!1;try{return a instanceof Uint8Array?this.connection.send(a.buffer):this.connection.send(a),!0}catch(n){return this.logger.debug(()=>`send error: ${n.message}, websocket state=${h.default[this.readyState()]}`),!1}}close(a,n){var i;(i=this.connection)===null||i===void 0||i.close(a,n)}destroy(){this.connection=void 0}addEventListener(a,n){if(!this.connection){this.logger.warn("Cannot add event listener with no WebSocket connection.");return}this.connection.addEventListener(a,n)}removeEventListener(a,n){var i;(i=this.connection)===null||i===void 0||i.removeEventListener(a,n)}readyState(){if(!this.connection)return h.default.None;switch(this.connection.readyState){case WebSocket.CONNECTING:return h.default.Connecting;case WebSocket.OPEN:return h.default.Open;case WebSocket.CLOSING:return h.default.Closing;case WebSocket.CLOSED:return h.default.Closed}}constructor(a){this.logger=a}},"DefaultWebSocketAdapter");c.default=m},"3niY":function(N,c,d){"use strict";Object.defineProperty(c,"__esModule",{value:!0});let S=o(class{acquireAudioInputStream(){return Promise.reject()}acquireVideoInputStream(){return Promise.reject()}acquireDisplayInputStream(m){return Promise.reject()}muteLocalAudioInputStream(){}unmuteLocalAudioInputStream(){}addMediaStreamBrokerObserver(m){}removeMediaStreamBrokerObserver(m){}},"NoOpMediaStreamBroker");c.default=S},"3taG":function(N,c,d){"use strict";var S=this&&this.__awaiter||function(n,i,e,t){function r(l){return l instanceof e?l:new e(function(p){p(l)})}return o(r,"adopt"),new(e||(e=Promise))(function(l,p){function v(s){try{u(t.next(s))}catch(I){p(I)}}o(v,"fulfilled");function g(s){try{u(t.throw(s))}catch(I){p(I)}}o(g,"rejected");function u(s){s.done?l(s.value):r(s.value).then(v,g)}o(u,"step"),u((t=t.apply(n,i||[])).next())})};Object.defineProperty(c,"__esModule",{value:!0});const h=d("HbHZ"),m=d("XCDq"),f=d("j+uH");let a=o(class extends f.default{run(){return S(this,void 0,void 0,function*(){this.context.removableObservers.push(this),this.context.signalingClient.registerObserver(this),this.context.realtimeController.realtimeSubscribeToMuteAndUnmuteLocalAudio(this.realtimeMuteAndUnmuteHandler)})}removeObserver(){this.context.realtimeController.realtimeUnsubscribeToMuteAndUnmuteLocalAudio(this.realtimeMuteAndUnmuteHandler),this.context.signalingClient.removeObserver(this)}handleSignalingClientEvent(i){if(i.type===h.default.ReceivedSignalFrame){if(i.message.type===m.SdkSignalFrame.Type.AUDIO_STREAM_ID_INFO){const e=i.message.audioStreamIdInfo;this.context.volumeIndicatorAdapter.sendRealtimeUpdatesForAudioStreamIdInfo(e)}else if(i.message.type===m.SdkSignalFrame.Type.AUDIO_METADATA){const e=i.message.audioMetadata;this.context.volumeIndicatorAdapter.sendRealtimeUpdatesForAudioMetadata(e)}}}constructor(i){super(i.logger),this.context=i,this.taskName="ListenForVolumeIndicatorsTask",this.realtimeMuteAndUnmuteHandler=e=>{this.context.signalingClient.mute(e)}}},"ListenForVolumeIndicatorsTask");c.default=a},"3wzr":function(N,c,d){"use strict";Object.defineProperty(c,"__esModule",{value:!0});var S=d("+br/");S.__exportStar(d("irli"),c)},"3zPy":function(N,c){c=N.exports=function(a){if(a&&typeof a=="object"){var n=a.which||a.keyCode||a.charCode;n&&(a=n)}if(typeof a=="number")return m[a];var i=String(a),e=d[i.toLowerCase()];if(e)return e;var e=S[i.toLowerCase()];if(e)return e;if(i.length===1)return i.charCodeAt(0)};var d=c.code=c.codes={backspace:8,tab:9,enter:13,shift:16,ctrl:17,alt:18,"pause/break":19,"caps lock":20,esc:27,space:32,"page up":33,"page down":34,end:35,home:36,left:37,up:38,right:39,down:40,insert:45,delete:46,command:91,"left command":91,"right command":93,"numpad *":106,"numpad +":107,"numpad -":109,"numpad .":110,"numpad /":111,"num lock":144,"scroll lock":145,"my computer":182,"my calculator":183,";":186,"=":187,",":188,"-":189,".":190,"/":191,"`":192,"[":219,"\\":220,"]":221,"'":222},S=c.aliases={windows:91,"\u21E7":16,"\u2325":18,"\u2303":17,"\u2318":91,ctl:17,control:17,option:18,pause:19,break:19,caps:20,return:13,escape:27,spc:32,pgup:33,pgdn:34,ins:45,del:46,cmd:91};/*!
 * Programatically add the following
 */for(h=97;h<123;h++)d[String.fromCharCode(h)]=h-32;for(var h=48;h<58;h++)d[h-48]=h;for(h=1;h<13;h++)d["f"+h]=h+111;for(h=0;h<10;h++)d["numpad "+h]=h+96;var m=c.names=c.title={};for(h in d)m[d[h]]=h;for(var f in S)d[f]=S[f]},"3zlU":function(N,c,d){"use strict";var S=this&&this.__awaiter||function(a,n,i,e){function t(r){return r instanceof i?r:new i(function(l){l(r)})}return o(t,"adopt"),new(i||(i=Promise))(function(r,l){function p(u){try{g(e.next(u))}catch(s){l(s)}}o(p,"fulfilled");function v(u){try{g(e.throw(u))}catch(s){l(s)}}o(v,"rejected");function g(u){u.done?r(u.value):t(u.value).then(p,v)}o(g,"step"),g((e=e.apply(a,n||[])).next())})};Object.defineProperty(c,"__esModule",{value:!0});const h=d("KsuK"),m=15;let f=o(class{destroy(){if(this.stop(),this.stages)for(const n of this.stages)n.destroy()}get framerate(){return this.fr}set framerate(n){this.fr=n<0?m:n}stop(){if(this.videoInput.removeEventListener("loadedmetadata",this.process),this.videoInput.srcObject=null,this.destroyInputMediaStreamAndBuffers(),this.outputMediaStream)for(const n of this.outputMediaStream.getVideoTracks())n.stop();this.lastTimeOut&&(clearTimeout(this.lastTimeOut),this.lastTimeOut=void 0),this.hasStarted&&(this.hasStarted=!1,this.forEachObserver(n=>{n.processingDidStop&&n.processingDidStop()}))}addObserver(n){this.observers.add(n)}removeObserver(n){this.observers.delete(n)}getInputMediaStream(){return S(this,void 0,void 0,function*(){return this.inputVideoStream})}getActiveOutputMediaStream(){return this.isOutputMediaStreamActive()?this.outputMediaStream:(this.outputMediaStream=this.canvasOutput.captureStream(this.framerate),this.cloneInputAudioTracksToOutput(),this.outputMediaStream)}setInputMediaStream(n){return S(this,void 0,void 0,function*(){if(!n){this.stop();return}if(n.getVideoTracks().length===0){this.logger.error("No video tracks in input media stream, ignoring");return}this.inputVideoStream=n;const i=this.inputVideoStream.getVideoTracks()[0].getSettings();this.logger.info(`processing pipeline input stream settings ${JSON.stringify(i)}`),this.canvasOutput.width=i.width,this.canvasOutput.height=i.height,this.videoInput.addEventListener("loadedmetadata",this.process),this.videoInput.srcObject=this.inputVideoStream,this.videoInput.setAttribute("playsinline","true");const e=new h.default(this.canvasInput);this.sourceBuffers.push(e),this.videoInput.load();try{yield this.videoInput.play()}catch{this.logger.warn("Video element play() overrided by another load().")}this.cloneInputAudioTracksToOutput()})}cloneInputAudioTracksToOutput(){if(!this.isOutputMediaStreamActive()||this.inputVideoStream===null){this.logger.info("Not cloning input audio tracks to output, do not have media streams ready");return}for(const n of this.outputMediaStream.getAudioTracks())this.logger.info(`Removing audio track ${n.id} from output stream`),this.outputMediaStream.removeTrack(n);for(const n of this.inputVideoStream.getAudioTracks())this.logger.info(`Adding audio track ${n.id} to output stream`),this.outputMediaStream.addTrack(n)}isOutputMediaStreamActive(){return this.outputMediaStream&&this.outputMediaStream.active}set processors(n){this.stages=n}get processors(){return this.stages}forEachObserver(n){for(const i of this.observers)setTimeout(()=>{n(i)},0)}destroyInputMediaStreamAndBuffers(){if(this.inputVideoStream)for(const n of this.inputVideoStream.getTracks())n.stop();this.inputVideoStream=null;for(const n of this.sourceBuffers)n.destroy();this.sourceBuffers=[]}constructor(n,i){this.logger=n,this.stages=i,this.fr=m,this.outputMediaStream=new MediaStream,this.videoInput=document.createElement("video"),this.canvasOutput=document.createElement("canvas"),this.outputCtx=this.canvasOutput.getContext("2d"),this.canvasInput=document.createElement("canvas"),this.inputCtx=this.canvasInput.getContext("2d"),this.inputVideoStream=null,this.sourceBuffers=[],this.destBuffers=[],this.observers=new Set,this.hasStarted=!1,this.process=e=>S(this,void 0,void 0,function*(){if(!this.inputVideoStream)return;const t=performance.now();this.videoInput.videoWidth&&(this.canvasInput.width!==this.videoInput.videoWidth&&(this.canvasInput.width=this.videoInput.videoWidth,this.canvasInput.height=this.videoInput.videoHeight,this.sourceBuffers[0].height=this.canvasInput.height,this.sourceBuffers[0].width=this.canvasInput.width,this.sourceBuffers[0].framerate=this.framerate),this.inputCtx.drawImage(this.videoInput,0,0));let r=[];r.push(this.sourceBuffers[0]);try{for(const I of this.processors)r=yield I.process(r)}catch{this.forEachObserver(M=>{M.processingDidFailToStart&&M.processingDidFailToStart()});return}this.destBuffers=r;let l;try{l=yield this.destBuffers[0].asCanvasImageSource()}catch{this.inputVideoStream&&(this.logger.info("buffers are destroyed and pipeline could not start"),this.forEachObserver(M=>{M.processingDidFailToStart&&M.processingDidFailToStart()}));return}const p=l.width,v=l.height;p!==0&&v!==0&&(this.canvasOutput.width!==p&&this.canvasOutput.height!==v&&(this.canvasOutput.width=p,this.canvasOutput.height=v),this.outputCtx.drawImage(l,0,0,p,v,0,0,p,v),this.hasStarted||(this.hasStarted=!0,this.forEachObserver(I=>{I.processingDidStart&&I.processingDidStart()})));const g=performance.now()-t,u=1e3*2/this.framerate-g,s=Math.max(0,1e3/this.framerate-g);u<=0&&this.forEachObserver(I=>{I.processingLatencyTooHigh&&I.processingLatencyTooHigh(g)}),this.lastTimeOut=setTimeout(this.process,s)})}},"DefaultVideoFrameProcessorPipeline");c.default=f},"40oJ":function(N,c,d){var S=d("ixoo")("meta"),h=d("ekG2"),m=d("nA4W"),f=d("GhSp").f,a=0,n=Object.isExtensible||function(){return!0},i=!d("S4vA")(function(){return n(Object.preventExtensions({}))}),e=o(function(v){f(v,S,{value:{i:"O"+ ++a,w:{}}})},"setMeta"),t=o(function(v,g){if(!h(v))return typeof v=="symbol"?v:(typeof v=="string"?"S":"P")+v;if(!m(v,S)){if(!n(v))return"F";if(!g)return"E";e(v)}return v[S].i},"fastKey"),r=o(function(v,g){if(!m(v,S)){if(!n(v))return!0;if(!g)return!1;e(v)}return v[S].w},"getWeak"),l=o(function(v){return i&&p.NEED&&n(v)&&!m(v,S)&&e(v),v},"onFreeze"),p=N.exports={KEY:S,NEED:!1,fastKey:t,getWeak:r,onFreeze:l}},"42jQ":function(N,c,d){"use strict";Object.defineProperty(c,"__esModule",{value:!0});let S=o(class{constructor(){this.username=null,this.password=null,this.ttl=null,this.uris=null}},"MeetingSessionTURNCredentials");c.default=S},"4EN+":function(N,c,d){"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.WebSocketReadyState=void 0;var S;(function(h){h[h.None=0]="None",h[h.Connecting=1]="Connecting",h[h.Open=2]="Open",h[h.Closing=3]="Closing",h[h.Closed=4]="Closed"})(S=c.WebSocketReadyState||(c.WebSocketReadyState={})),c.default=S},"4Ok1":function(N,c,d){"use strict";var S=d("5iG2"),h=d("fshX");function m(f,a,n){var i=f==null?0:f.length;return i?(a=n||a===void 0?1:Object(h.a)(a),Object(S.a)(f,a<0?0:a,i)):[]}o(m,"drop"),c.a=m},"4Zg2":function(N,c,d){var S=d("7whZ"),h=d("VSTI"),m=d("5ETA"),f=d("/NTb"),a=d("GhSp").f;N.exports=function(n){var i=h.Symbol||(h.Symbol=m?{}:S.Symbol||{});n.charAt(0)!="_"&&!(n in i)&&a(i,n,{value:f.f(n)})}},"4d7F":function(N,c,d){N.exports={default:d("Ir+t"),__esModule:!0}},"4k7n":function(N,c,d){"use strict";var S=d("Yvae"),h=d("uT1x"),m=d("jLvU");function f(a,n,i){var e=a.length;if(e<2)return e?Object(m.a)(a[0]):[];for(var t=-1,r=Array(e);++t<e;)for(var l=a[t],p=-1;++p<e;)p!=t&&(r[t]=Object(S.a)(r[t]||l,a[p],n,i));return Object(m.a)(Object(h.a)(r,1),n,i)}o(f,"baseXor"),c.a=f},"4vb1":function(N,c,d){"use strict";d.r(c),d.d(c,"__extends",function(){return h}),d.d(c,"__assign",function(){return m}),d.d(c,"__rest",function(){return f}),d.d(c,"__decorate",function(){return a}),d.d(c,"__param",function(){return n}),d.d(c,"__metadata",function(){return i}),d.d(c,"__awaiter",function(){return e}),d.d(c,"__generator",function(){return t}),d.d(c,"__createBinding",function(){return r}),d.d(c,"__exportStar",function(){return l}),d.d(c,"__values",function(){return p}),d.d(c,"__read",function(){return v}),d.d(c,"__spread",function(){return g}),d.d(c,"__spreadArrays",function(){return u}),d.d(c,"__await",function(){return s}),d.d(c,"__asyncGenerator",function(){return I}),d.d(c,"__asyncDelegator",function(){return M}),d.d(c,"__asyncValues",function(){return R}),d.d(c,"__makeTemplateObject",function(){return B}),d.d(c,"__importStar",function(){return j}),d.d(c,"__importDefault",function(){return A}),d.d(c,"__classPrivateFieldGet",function(){return D}),d.d(c,"__classPrivateFieldSet",function(){return $});/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var S=o(function(O,P){return S=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(k,K){k.__proto__=K}||function(k,K){for(var Z in K)K.hasOwnProperty(Z)&&(k[Z]=K[Z])},S(O,P)},"extendStatics");function h(O,P){S(O,P);function k(){this.constructor=O}o(k,"__"),O.prototype=P===null?Object.create(P):(k.prototype=P.prototype,new k)}o(h,"__extends");var m=o(function(){return m=Object.assign||o(function(P){for(var k,K=1,Z=arguments.length;K<Z;K++){k=arguments[K];for(var Y in k)Object.prototype.hasOwnProperty.call(k,Y)&&(P[Y]=k[Y])}return P},"__assign"),m.apply(this,arguments)},"__assign");function f(O,P){var k={};for(var K in O)Object.prototype.hasOwnProperty.call(O,K)&&P.indexOf(K)<0&&(k[K]=O[K]);if(O!=null&&typeof Object.getOwnPropertySymbols=="function")for(var Z=0,K=Object.getOwnPropertySymbols(O);Z<K.length;Z++)P.indexOf(K[Z])<0&&Object.prototype.propertyIsEnumerable.call(O,K[Z])&&(k[K[Z]]=O[K[Z]]);return k}o(f,"__rest");function a(O,P,k,K){var Z=arguments.length,Y=Z<3?P:K===null?K=Object.getOwnPropertyDescriptor(P,k):K,ie;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")Y=Reflect.decorate(O,P,k,K);else for(var ge=O.length-1;ge>=0;ge--)(ie=O[ge])&&(Y=(Z<3?ie(Y):Z>3?ie(P,k,Y):ie(P,k))||Y);return Z>3&&Y&&Object.defineProperty(P,k,Y),Y}o(a,"__decorate");function n(O,P){return function(k,K){P(k,K,O)}}o(n,"__param");function i(O,P){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(O,P)}o(i,"__metadata");function e(O,P,k,K){function Z(Y){return Y instanceof k?Y:new k(function(ie){ie(Y)})}return o(Z,"adopt"),new(k||(k=Promise))(function(Y,ie){function ge(we){try{le(K.next(we))}catch(Be){ie(Be)}}o(ge,"fulfilled");function Ie(we){try{le(K.throw(we))}catch(Be){ie(Be)}}o(Ie,"rejected");function le(we){we.done?Y(we.value):Z(we.value).then(ge,Ie)}o(le,"step"),le((K=K.apply(O,P||[])).next())})}o(e,"__awaiter");function t(O,P){var k={label:0,sent:function(){if(Y[0]&1)throw Y[1];return Y[1]},trys:[],ops:[]},K,Z,Y,ie;return ie={next:ge(0),throw:ge(1),return:ge(2)},typeof Symbol=="function"&&(ie[Symbol.iterator]=function(){return this}),ie;function ge(le){return function(we){return Ie([le,we])}}function Ie(le){if(K)throw new TypeError("Generator is already executing.");for(;k;)try{if(K=1,Z&&(Y=le[0]&2?Z.return:le[0]?Z.throw||((Y=Z.return)&&Y.call(Z),0):Z.next)&&!(Y=Y.call(Z,le[1])).done)return Y;switch(Z=0,Y&&(le=[le[0]&2,Y.value]),le[0]){case 0:case 1:Y=le;break;case 4:return k.label++,{value:le[1],done:!1};case 5:k.label++,Z=le[1],le=[0];continue;case 7:le=k.ops.pop(),k.trys.pop();continue;default:if(Y=k.trys,!(Y=Y.length>0&&Y[Y.length-1])&&(le[0]===6||le[0]===2)){k=0;continue}if(le[0]===3&&(!Y||le[1]>Y[0]&&le[1]<Y[3])){k.label=le[1];break}if(le[0]===6&&k.label<Y[1]){k.label=Y[1],Y=le;break}if(Y&&k.label<Y[2]){k.label=Y[2],k.ops.push(le);break}Y[2]&&k.ops.pop(),k.trys.pop();continue}le=P.call(O,k)}catch(we){le=[6,we],Z=0}finally{K=Y=0}if(le[0]&5)throw le[1];return{value:le[0]?le[1]:void 0,done:!0}}}o(t,"__generator");function r(O,P,k,K){K===void 0&&(K=k),O[K]=P[k]}o(r,"__createBinding");function l(O,P){for(var k in O)k!=="default"&&!P.hasOwnProperty(k)&&(P[k]=O[k])}o(l,"__exportStar");function p(O){var P=typeof Symbol=="function"&&Symbol.iterator,k=P&&O[P],K=0;if(k)return k.call(O);if(O&&typeof O.length=="number")return{next:function(){return O&&K>=O.length&&(O=void 0),{value:O&&O[K++],done:!O}}};throw new TypeError(P?"Object is not iterable.":"Symbol.iterator is not defined.")}o(p,"__values");function v(O,P){var k=typeof Symbol=="function"&&O[Symbol.iterator];if(!k)return O;var K=k.call(O),Z,Y=[],ie;try{for(;(P===void 0||P-- >0)&&!(Z=K.next()).done;)Y.push(Z.value)}catch(ge){ie={error:ge}}finally{try{Z&&!Z.done&&(k=K.return)&&k.call(K)}finally{if(ie)throw ie.error}}return Y}o(v,"__read");function g(){for(var O=[],P=0;P<arguments.length;P++)O=O.concat(v(arguments[P]));return O}o(g,"__spread");function u(){for(var O=0,P=0,k=arguments.length;P<k;P++)O+=arguments[P].length;for(var K=Array(O),Z=0,P=0;P<k;P++)for(var Y=arguments[P],ie=0,ge=Y.length;ie<ge;ie++,Z++)K[Z]=Y[ie];return K}o(u,"__spreadArrays");function s(O){return this instanceof s?(this.v=O,this):new s(O)}o(s,"__await");function I(O,P,k){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var K=k.apply(O,P||[]),Z,Y=[];return Z={},ie("next"),ie("throw"),ie("return"),Z[Symbol.asyncIterator]=function(){return this},Z;function ie(Re){K[Re]&&(Z[Re]=function(Ne){return new Promise(function(_e,Ze){Y.push([Re,Ne,_e,Ze])>1||ge(Re,Ne)})})}function ge(Re,Ne){try{Ie(K[Re](Ne))}catch(_e){Be(Y[0][3],_e)}}function Ie(Re){Re.value instanceof s?Promise.resolve(Re.value.v).then(le,we):Be(Y[0][2],Re)}function le(Re){ge("next",Re)}function we(Re){ge("throw",Re)}function Be(Re,Ne){Re(Ne),Y.shift(),Y.length&&ge(Y[0][0],Y[0][1])}}o(I,"__asyncGenerator");function M(O){var P,k;return P={},K("next"),K("throw",function(Z){throw Z}),K("return"),P[Symbol.iterator]=function(){return this},P;function K(Z,Y){P[Z]=O[Z]?function(ie){return(k=!k)?{value:s(O[Z](ie)),done:Z==="return"}:Y?Y(ie):ie}:Y}}o(M,"__asyncDelegator");function R(O){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var P=O[Symbol.asyncIterator],k;return P?P.call(O):(O=typeof p=="function"?p(O):O[Symbol.iterator](),k={},K("next"),K("throw"),K("return"),k[Symbol.asyncIterator]=function(){return this},k);function K(Y){k[Y]=O[Y]&&function(ie){return new Promise(function(ge,Ie){ie=O[Y](ie),Z(ge,Ie,ie.done,ie.value)})}}function Z(Y,ie,ge,Ie){Promise.resolve(Ie).then(function(le){Y({value:le,done:ge})},ie)}}o(R,"__asyncValues");function B(O,P){return Object.defineProperty?Object.defineProperty(O,"raw",{value:P}):O.raw=P,O}o(B,"__makeTemplateObject");function j(O){if(O&&O.__esModule)return O;var P={};if(O!=null)for(var k in O)Object.hasOwnProperty.call(O,k)&&(P[k]=O[k]);return P.default=O,P}o(j,"__importStar");function A(O){return O&&O.__esModule?O:{default:O}}o(A,"__importDefault");function D(O,P){if(!P.has(O))throw new TypeError("attempted to get private field on non-instance");return P.get(O)}o(D,"__classPrivateFieldGet");function $(O,P,k){if(!P.has(O))throw new TypeError("attempted to set private field on non-instance");return P.set(O,k),k}o($,"__classPrivateFieldSet")},"4w5z":function(N,c,d){"use strict";Object.defineProperty(c,"__esModule",{value:!0});const S=d("cKqT"),h=d("KEX5"),m=d("ZHiL"),f=d("3niY"),a=d("94P3"),n=d("/N6y"),i=d("aZba"),e=d("papz"),t=d("GZjp"),r=d("l7oq"),l=d("3jln"),p=d("a6MJ");let v=o(class extends p.default{setAudioProfile(u){}start(){}stop(){}promoteToPrimaryMeeting(u){return Promise.resolve(new i.default(e.default.OK))}demoteFromPrimaryMeeting(){}constructor(u){const s=new a.default;s.meetingId="",s.externalMeetingId="",s.credentials=new n.default,s.credentials.attendeeId="",s.credentials.joinToken="",s.urls=new t.default,s.urls.turnControlURL="",s.urls.audioHostURL="",s.urls.signalingURL="wss://localhost/";const I=new m.default;super(u||s,I,new l.default(new m.default),new f.default,new r.default(0,new S.default(0,0,0)),new h.default(u||s,I))}},"NoOpAudioVideoController");c.default=v},"5/Tg":function(N,c,d){"use strict";Object.defineProperty(c,"__esModule",{value:!0});const S=d("Np2I");let h=o(class extends S.default{nextBackoffAmountMs(){if(this.attempts++,this.attempts>this.limit)throw new Error("retry limit exceeded");return super.nextBackoffAmountMs()}constructor(f,a,n,i){super(f,a,n),this.limit=i,this.attempts=0}},"FullJitterLimitedBackoff");c.default=h},"5/lR":function(N,c,d){"use strict";Object.defineProperty(c,"__esModule",{value:!0});const S=d("bjg3"),h=d("x8On"),m=d("r3TB"),f=d("mlaT"),a=d("/AJg"),n=d("MpTp"),i=d("w1x/"),e=d("h96U"),t=d("T44/"),r=d("BY2i");let l=o(class{constructor(){this.bandwidthEstimateKbps=0,this.usedBandwidthKbps=0,this.packetsLost=0,this.nackCount=0,this.rttMs=0}},"LinkMediaStats"),p=o(class Cr{reset(){this.optimalReceiveSet=new n.default,this.optimalReceiveStreams=[],this.optimalNonPausedReceiveStreams=[],this.subscribedReceiveSet=new n.default,this.subscribedReceiveStreams=[],this.videoPreferences=void 0,this.defaultVideoPreferences=void 0,this.shouldPauseTiles=!0,this.pausedStreamIds=new n.default,this.pausedBwAttendeeIds=new Set,this.videoPreferencesUpdated=!1,this.logCount=0,this.startupPeriod=!0,this.usingPrevTargetRate=!1,this.rateProbeState="Not Probing",this.firstEstimateTimestamp=0,this.lastUpgradeRateKbps=0,this.timeBeforeAllowSubscribeMs=Cr.MIN_TIME_BETWEEN_SUBSCRIBE_MS,this.lastProbeTimestamp=Date.now(),this.timeBeforeAllowProbeMs=Cr.MIN_TIME_BETWEEN_PROBE_MS,this.downlinkStats=new l,this.prevDownlinkStats=new l,this.probeFailed=!1,this.serverSideNetworkAdaption=this.videoPriorityBasedPolicyConfig.serverSideNetworkAdaption}bindToTileController(g){this.tileController=g,this.logger.info("tileController bound")}chooseRemoteVideoSources(g){var u;!((u=this.videoPreferences)===null||u===void 0)&&u.equals(g)||(this.videoPreferences=g==null?void 0:g.clone(),this.videoPreferencesUpdated=!0,this.logger.info(`bwe: setVideoPreferences bwe: new preferences: ${JSON.stringify(g)}`))}updateIndex(g){this.videoIndex=g,this.videoPreferences||this.updateDefaultVideoPreferences()}updateDefaultVideoPreferences(){const g=new Set;for(const M of this.videoIndex.remoteStreamDescriptions())g.add(M.attendeeId);const u=t.VideoPreferences.prepare(),s=g.size;let I=i.default.High;s>8?I=i.default.Low:s>4&&(I=i.default.Medium);for(const M of g)u.add(new e.default(M,1,I));this.defaultVideoPreferences=u.build()}updateMetrics(g){if(!this.videoIndex||this.videoIndex.allStreams().empty())return;this.prevDownlinkStats=this.downlinkStats,this.downlinkStats=new l;const u=g.getObservableMetrics();this.downlinkStats.bandwidthEstimateKbps=u.availableIncomingBitrate/1e3;for(const s in g.streamMetricReports){const I=Number.parseInt(s,10),M=g.streamMetricReports[I];M.direction===S.default.DOWNSTREAM&&M.mediaType===h.default.VIDEO&&(M.currentMetrics.hasOwnProperty("nackCount")&&(this.downlinkStats.nackCount+=g.countPerSecond("nackCount",I)),M.currentMetrics.hasOwnProperty("packetsLost")&&(this.downlinkStats.packetsLost+=g.countPerSecond("packetsLost",I)),M.currentMetrics.hasOwnProperty("bytesReceived")&&(this.downlinkStats.usedBandwidthKbps+=g.bitsPerSecond("bytesReceived",I)/1e3))}}wantsResubscribe(){return this.calculateOptimalReceiveSet(),!this.subscribedReceiveSet.equal(this.optimalReceiveSet)}chooseSubscriptions(){return this.subscribedReceiveSet.equal(this.optimalReceiveSet)||(this.lastSubscribeTimestamp=Date.now()),this.subscribedReceiveSet=this.optimalReceiveSet.clone(),this.subscribedReceiveStreams=this.optimalReceiveStreams.slice(),this.subscribedReceiveSet.clone()}addObserver(g){this.observerQueue.add(g)}removeObserver(g){this.observerQueue.delete(g)}forEachObserver(g){for(const u of this.observerQueue)g(u)}setVideoPriorityBasedPolicyConfigs(g){this.videoPriorityBasedPolicyConfig=g}calculateOptimalReceiveStreams(){var g;const u=[],s=this.videoIndex.remoteStreamDescriptions();if(s.length===0||!((g=this.videoPreferences)===null||g===void 0)&&g.isEmpty()){this.optimalReceiveStreams=[];return}const I=this.rateProbeState;this.cleanBwPausedTiles(s),this.handleAppPausedStreams(u,s);const M=this.availStreamsSameAsLast(s),R=!this.startupPeriod&&M;if(R&&Date.now()-this.lastSubscribeTimestamp<this.timeBeforeAllowSubscribeMs)return;s.sort((K,Z)=>K.maxBitrateKbps===Z.maxBitrateKbps?K.streamId-Z.streamId:K.maxBitrateKbps-Z.maxBitrateKbps);for(const K of s)(K.avgBitrateKbps===0||K.avgBitrateKbps>K.maxBitrateKbps)&&(K.attendeeId.endsWith(m.default.Modality)&&K.maxBitrateKbps<100?K.maxBitrateKbps=K.avgBitrateKbps:K.avgBitrateKbps=K.maxBitrateKbps);const B={targetDownlinkBitrate:0,chosenTotalBitrate:0,deltaToNextUpgrade:0};B.targetDownlinkBitrate=this.determineTargetRate();const j=this.subscribedReceiveSet.size(),A=this.downlinkStats.bandwidthEstimateKbps,D=!this.videoPriorityBasedPolicyConfig.allowSubscribe(j,A);if(this.probeFailed&&(this.probeFailed=!1,this.timeBeforeAllowSubscribeMs=Cr.MIN_TIME_BETWEEN_SUBSCRIBE_MS,R&&D))return;const $=this.priorityPolicy(B,s,u),O=this.serverSideNetworkAdaption!==a.default.None&&this.serverSideNetworkAdaption!==a.default.Default;let P=0;if(!O&&!this.startupPeriod&&M?this.rateProbeState==="Probing"?P=this.handleProbe(u,B.targetDownlinkBitrate):B.deltaToNextUpgrade!==0&&(P=this.maybeOverrideOrProbe(u,B,$)):(this.setProbeState("Not Probing"),this.lastUpgradeRateKbps=0),this.prevRemoteInfos=s,this.videoPreferencesUpdated=!1,P===1){this.logger.info(`bwe: keepSameSubscriptions stats:${JSON.stringify(this.downlinkStats)}`),this.prevTargetRateKbps=B.targetDownlinkBitrate;return}if(P===2){const K=this.calculateSubscribeRate(this.preProbeNonPausedReceiveStreams);this.optimalReceiveStreams=this.preProbeReceiveStreams.slice(),this.processBwPausedStreams(s,this.preProbeNonPausedReceiveStreams),this.logger.info("bwe: Use Pre-Probe subscription subscribedRate:"+K);return}this.optimalNonPausedReceiveStreams=u.slice();const k=this.pausedBwAttendeeIds.size;this.processBwPausedStreams(s,u),this.logger.getLogLevel()<=f.LogLevel.INFO&&(this.logCount%15===0||this.rateProbeState!==I||this.optimalReceiveStreams.length!==u.length||k!==this.pausedBwAttendeeIds.size)&&(this.logger.info(this.policyStateLogStr(s,B.targetDownlinkBitrate)),this.logCount=0),this.logCount++,this.prevTargetRateKbps=B.targetDownlinkBitrate,this.optimalReceiveStreams=u.slice()}calculateOptimalReceiveSet(){const g=new n.default;this.calculateOptimalReceiveStreams();for(const u of this.optimalReceiveStreams)g.add(u.streamId);if(!this.optimalReceiveSet.equal(g)){const u=this.calculateSubscribeRate(this.optimalReceiveStreams);this.logger.info(`bwe: new streamSelection: ${JSON.stringify(g)} subscribedRate:${u}`)}this.optimalReceiveSet=g}determineTargetRate(){let g=0;const u=Date.now();return this.downlinkStats.bandwidthEstimateKbps!==0?(this.firstEstimateTimestamp===0&&(this.firstEstimateTimestamp=u),this.startupPeriod&&(this.downlinkStats.bandwidthEstimateKbps>Cr.DEFAULT_BANDWIDTH_KBPS||this.downlinkStats.packetsLost>0||u-this.firstEstimateTimestamp>Cr.STARTUP_PERIOD_MS&&this.downlinkStats.bandwidthEstimateKbps<=this.prevDownlinkStats.bandwidthEstimateKbps)&&(this.startupPeriod=!1,this.prevTargetRateKbps=this.downlinkStats.bandwidthEstimateKbps),this.startupPeriod?g=Cr.DEFAULT_BANDWIDTH_KBPS:this.rateProbeState==="Probing"&&this.downlinkStats.usedBandwidthKbps>this.downlinkStats.bandwidthEstimateKbps&&this.downlinkStats.packetsLost<Cr.SPURIOUS_PACKET_LOST_THRESHOLD?(this.logger.info(`bwe: In probe state, overriding estimate ${this.downlinkStats.bandwidthEstimateKbps} with actual receive bitrate ${this.downlinkStats.usedBandwidthKbps}`),g=this.downlinkStats.usedBandwidthKbps+Cr.USED_BANDWIDTH_OVERRIDE_BUFFER_KBPS):g=this.downlinkStats.bandwidthEstimateKbps):this.firstEstimateTimestamp===0?g=Cr.DEFAULT_BANDWIDTH_KBPS:g=this.prevTargetRateKbps,!this.startupPeriod&&(this.usingPrevTargetRate&&this.downlinkStats.bandwidthEstimateKbps<this.prevTargetRateKbps||this.downlinkStats.bandwidthEstimateKbps<this.prevTargetRateKbps*(100-Cr.LARGE_RATE_CHANGE_TRIGGER_PERCENT)/100||this.downlinkStats.bandwidthEstimateKbps<this.downlinkStats.usedBandwidthKbps*Cr.LARGE_RATE_CHANGE_TRIGGER_PERCENT/100)&&this.downlinkStats.packetsLost===0?(this.logger.debug(()=>"bwe: ValidateRate: Using Previous rate "+this.prevTargetRateKbps),this.usingPrevTargetRate=!0,g=this.prevTargetRateKbps):this.usingPrevTargetRate=!1,g}setProbeState(g){if(this.rateProbeState===g)return!1;const u=Date.now();switch(g){case"Not Probing":this.probePendingStartTimestamp=0;break;case"Probe Pending":if(this.lastProbeTimestamp===0||u-this.lastProbeTimestamp>Cr.MIN_TIME_BETWEEN_PROBE_MS)this.probePendingStartTimestamp=u;else return!1;break;case"Probing":if(u-this.probePendingStartTimestamp>this.timeBeforeAllowProbeMs)this.lastProbeTimestamp=u,this.preProbeReceiveStreams=this.subscribedReceiveStreams.slice(),this.preProbeNonPausedReceiveStreams=this.optimalNonPausedReceiveStreams,this.timeBeforeAllowProbeMs=Math.min(this.timeBeforeAllowProbeMs*2,Cr.MAX_HOLD_BEFORE_PROBE_MS);else return!1;break}return this.logger.info("bwe: setProbeState to "+g+" from "+this.rateProbeState),this.rateProbeState=g,!0}upgradeToStream(g,u){for(let s=0;s<g.length;s++)if(g[s].groupId===u.groupId){const I=u.avgBitrateKbps-g[s].avgBitrateKbps;return this.logger.info("bwe: upgradeStream from "+JSON.stringify(g[s])+" to "+u),this.lastUpgradeRateKbps=I,g[s]=u,I}return g.push(u),this.lastUpgradeRateKbps=u.avgBitrateKbps,this.lastUpgradeRateKbps}handleProbe(g,u){if(Date.now()-this.lastProbeTimestamp>Cr.MAX_ALLOWED_PROBE_TIME_MS)return this.logger.info("bwe: Canceling probe due to timeout"),this.setProbeState("Not Probing"),0;if(this.downlinkStats.packetsLost>0&&(this.logger.info(`bwe: Probe encountering packets lost:${this.downlinkStats.packetsLost}`),this.downlinkStats.packetsLost>Cr.SPURIOUS_PACKET_LOST_THRESHOLD))return this.setProbeState("Not Probing"),this.logger.info(`bwe: Canceling probe due to packets lost:${this.downlinkStats.packetsLost}`),this.probeFailed=!0,this.timeBeforeAllowSubscribeMs=Math.max(Cr.MIN_TIME_BETWEEN_SUBSCRIBE_MS,this.timeBeforeAllowSubscribeMs)*3,2;const s=this.calculateSubscribeRate(this.optimalReceiveStreams);return this.chosenStreamsSameAsLast(g)||u>s?(this.logger.info("bwe: Probe successful"),this.setProbeState("Not Probing"),this.timeBeforeAllowProbeMs=Cr.MIN_TIME_BETWEEN_PROBE_MS,0):1}maybeOverrideOrProbe(g,u,s){const I=this.chosenStreamsSameAsLast(g);let M=0;const R=u.targetDownlinkBitrate>Cr.LOW_BITRATE_THRESHOLD_KBPS?Cr.TARGET_RATE_CHANGE_TRIGGER_PERCENT:Cr.TARGET_RATE_CHANGE_TRIGGER_PERCENT*2,B=u.targetDownlinkBitrate*R/100;if(this.targetRateBaselineForDeltaCheckKbps=this.targetRateBaselineForDeltaCheckKbps!==void 0?this.targetRateBaselineForDeltaCheckKbps:this.prevTargetRateKbps,!I&&Math.abs(u.targetDownlinkBitrate-this.targetRateBaselineForDeltaCheckKbps)<B?(this.logger.info("bwe: MaybeOverrideOrProbe: Reuse last decision based on delta rate. {"+JSON.stringify(this.subscribedReceiveSet)+"}"),M=1):this.targetRateBaselineForDeltaCheckKbps=u.targetDownlinkBitrate,this.downlinkStats.packetsLost>this.prevDownlinkStats.packetsLost)return this.setProbeState("Not Probing"),this.lastUpgradeRateKbps=0,M;if(I||M===1)switch(this.rateProbeState){case"Not Probing":this.setProbeState("Probe Pending");break;case"Probe Pending":this.setProbeState("Probing")&&(this.upgradeToStream(g,s),M=0);break}else this.setProbeState("Not Probing");return M}calculateSubscribeRate(g){let u=0;for(const s of g)!this.pausedStreamIds.contain(s.streamId)&&!this.pausedBwAttendeeIds.has(s.attendeeId)&&(u+=s.maxBitrateKbps);return u}handleAppPausedStreams(g,u){if(!this.tileController){this.logger.warn("tileController not found!");return}this.pausedStreamIds=new n.default;const s=this.tileController.getAllRemoteVideoTiles();for(const I of s){const M=I.state();if(M.paused&&!this.pausedBwAttendeeIds.has(M.boundAttendeeId)){let R=u.length;for(;R--;)u[R].attendeeId===M.boundAttendeeId&&(this.logger.info("bwe: removed paused attendee "+M.boundAttendeeId+" streamId: "+u[R].streamId),this.pausedStreamIds.add(u[R].streamId),this.subscribedReceiveSet.contain(u[R].streamId)&&g.push(u[R]),u.splice(R,1))}}}processBwPausedStreams(g,u){if(!this.tileController){this.logger.warn("tileController not found!");return}const s=this.getCurrentVideoPreferences();if(s&&this.shouldPauseTiles){const I=this.tileController.getAllVideoTiles();for(const M of s){const R=this.getVideoTileForAttendeeId(M.attendeeId,I),B=(R==null?void 0:R.state().paused)||!1;if(u.some(j=>j.attendeeId===M.attendeeId))B&&this.pausedBwAttendeeIds.has(M.attendeeId)&&(this.logger.info(`bwe: unpausing attendee ${M.attendeeId} due to bandwidth`),this.forEachObserver(j=>{j.tileWillBeUnpausedByDownlinkPolicy(R.id())}),this.tileController.unpauseVideoTile(R.id()),this.pausedBwAttendeeIds.delete(M.attendeeId));else{const j=g.some(A=>A.attendeeId===M.attendeeId);if(R&&j){const A=this.optimalReceiveStreams.find(D=>D.attendeeId===M.attendeeId);A!==void 0&&(B||(this.logger.info(`bwe: pausing streamId ${A.streamId} attendee ${M.attendeeId} due to bandwidth`),this.forEachObserver(D=>{D.tileWillBePausedByDownlinkPolicy(R.id())}),this.tileController.pauseVideoTile(R.id())),u.push(A)),this.pausedBwAttendeeIds.add(M.attendeeId)}else if(j){const A=this.tileController.addVideoTile();A.bindVideoStream(M.attendeeId,!1,null,0,0,0,null),this.forEachObserver(D=>{D.tileWillBePausedByDownlinkPolicy(A.id())}),A.pause(),this.logger.info(`bwe: Created video tile ${A.id()} for bw paused attendee ${M.attendeeId}`),this.pausedBwAttendeeIds.add(M.attendeeId)}}}}}cleanBwPausedTiles(g){if(!this.tileController){this.logger.warn("tileController not found!");return}const u=this.tileController.getAllRemoteVideoTiles(),s=this.getCurrentVideoPreferences();for(const I of u){const M=I.state();M.boundVideoStream||(g.some(R=>R.attendeeId===M.boundAttendeeId)?s!==void 0&&!s.some(R=>R.attendeeId===M.boundAttendeeId)&&this.tileController.removeVideoTile(M.tileId):(this.tileController.removeVideoTile(M.tileId),this.logger.info(`bwe: Removed video tile ${M.tileId} for bw paused attendee ${M.boundAttendeeId}`)))}}priorityPolicy(g,u,s){let I;const M=this.getCurrentVideoPreferences(),R=M.highestPriority();let B,j=R;for(;j!==-1;){B=-1;for(const A of M)if(A.priority===j)for(const D of u)D.attendeeId===A.attendeeId&&(s.some($=>$.groupId===D.groupId)||(g.chosenTotalBitrate+D.avgBitrateKbps<=g.targetDownlinkBitrate?(s.push(D),g.chosenTotalBitrate+=D.avgBitrateKbps):g.deltaToNextUpgrade===0&&(g.deltaToNextUpgrade=D.avgBitrateKbps,I=D)));else if(A.priority>j){B=A.priority;break}for(const A of M)if(A.priority===j){for(const D of u)if(D.attendeeId===A.attendeeId){const $=s.findIndex(O=>O.groupId===D.groupId&&O.maxBitrateKbps<D.maxBitrateKbps);if($!==-1){const O=D.avgBitrateKbps-s[$].avgBitrateKbps;this.hasSimulcastStreams(u,D.attendeeId,D.groupId)&&this.canUpgrade(D.avgBitrateKbps,A.targetSize,A.targetSizeToBitrateKbps(A.targetSize),D.attendeeId.endsWith(m.default.Modality))?(this.logger.info(`bwe: attendee: ${D.attendeeId} group: ${D.groupId} has simulcast and can upgrade avgBitrate: ${D.avgBitrateKbps} target: ${A.targetSizeToBitrateKbps(A.targetSize)} targetTotalBitrate: ${g.targetDownlinkBitrate}`),g.chosenTotalBitrate+O<=g.targetDownlinkBitrate?(g.chosenTotalBitrate+=O,s[$]=D):g.deltaToNextUpgrade===0&&(g.deltaToNextUpgrade=O,I=D)):this.logger.info("bwe: cannot upgrade stream quality beyond target size")}}}else if(A.priority>j)break;if(j===R&&g.deltaToNextUpgrade!==0)break;j=B}return I}getVideoTileForAttendeeId(g,u){for(const s of u)if(s.state().boundAttendeeId===g)return s;return null}canUpgrade(g,u,s,I){let M=!1;return I?(u===i.default.High||u===i.default.Medium&&g<=s)&&(M=!0):g<=s&&(M=!0),M?(this.logger.info(`bwe: canUpgrade: bitrateKbp: ${g} targetBitrateKbp: ${s}`),!0):(this.logger.info(`bwe: cannot Upgrade: bitrateKbp: ${g} targetBitrateKbp: ${s}`),!1)}hasSimulcastStreams(g,u,s){let I=0;for(const M of g)M.attendeeId===u&&M.groupId===s&&I++;return this.logger.info(`bwe: attendeeId: ${u} groupId: ${s} hasSimulcastStreams: streamCount: ${I}`),I>1}availStreamsSameAsLast(g){if(this.prevRemoteInfos===void 0||g.length!==this.prevRemoteInfos.length||this.videoPreferencesUpdated===!0)return!1;for(const u of g)if(this.prevRemoteInfos.find(I=>I.groupId===u.groupId&&I.streamId===u.streamId&&I.maxBitrateKbps===u.maxBitrateKbps)===void 0)return!1;return!0}chosenStreamsSameAsLast(g){if(this.optimalNonPausedReceiveStreams.length!==g.length)return!1;for(const u of this.optimalNonPausedReceiveStreams)if(!g.some(s=>s.streamId===u.streamId))return!1;return!0}policyStateLogStr(g,u){const s=this.calculateSubscribeRate(this.optimalReceiveStreams),I={targetBitrate:u,subscribedRate:s,probeState:this.rateProbeState,startupPeriod:this.startupPeriod};let M="remoteInfos: [";for(const B of g)M+=`{grpId:${B.groupId} strId:${B.streamId} maxBr:${B.maxBitrateKbps} avgBr:${B.avgBitrateKbps}}, `;M+="]";let R=`bwe: optimalReceiveSet ${JSON.stringify(I)}
bwe:   prev ${JSON.stringify(this.prevDownlinkStats)}
bwe:   now  ${JSON.stringify(this.downlinkStats)}
bwe:   ${M}
`;return(this.pausedStreamIds.size()>0||this.pausedBwAttendeeIds.size>0)&&(R+=`bwe:   paused: app stream ids ${JSON.stringify(this.pausedStreamIds)}  bw attendees { ${Array.from(this.pausedBwAttendeeIds).join(" ")} }
`),this.videoPreferences?R+=`bwe:   preferences: ${JSON.stringify(this.videoPreferences)}`:R+=`bwe:   default preferences: ${JSON.stringify(this.defaultVideoPreferences)}`,R}getCurrentVideoPreferences(){return this.videoPreferences||this.defaultVideoPreferences}getServerSideNetworkAdaption(){return this.serverSideNetworkAdaption}setServerSideNetworkAdaption(g){this.serverSideNetworkAdaption=g,this.setProbeState("Not Probing")}supportedServerSideNetworkAdaptions(){return[a.default.None,a.default.BandwidthProbing]}getVideoPreferences(){let g=this.getCurrentVideoPreferences();return g||(g=t.VideoPreferences.prepare().build()),g}constructor(g,u=r.default.Default){this.logger=g,this.videoPriorityBasedPolicyConfig=u,this.shouldPauseTiles=!0,this.observerQueue=new Set,this.pausedBwAttendeeIds=new Set,this.reset()}},"VideoPriorityBasedPolicy");c.default=p,p.DEFAULT_BANDWIDTH_KBPS=2800,p.STARTUP_PERIOD_MS=6e3,p.LARGE_RATE_CHANGE_TRIGGER_PERCENT=20,p.TARGET_RATE_CHANGE_TRIGGER_PERCENT=15,p.LOW_BITRATE_THRESHOLD_KBPS=300,p.MIN_TIME_BETWEEN_PROBE_MS=5e3,p.MIN_TIME_BETWEEN_SUBSCRIBE_MS=2e3,p.MAX_HOLD_BEFORE_PROBE_MS=3e4,p.MAX_ALLOWED_PROBE_TIME_MS=6e4,p.SPURIOUS_PACKET_LOST_THRESHOLD=2,p.USED_BANDWIDTH_OVERRIDE_BUFFER_KBPS=100},"59sL":function(N,c,d){"use strict";Object.defineProperty(c,"__esModule",{value:!0});const S=d("Sa54"),h=d("AM8c");let m=o(class Jc{static get sdkName(){return"amazon-chime-sdk-js"}static get sdkVersion(){return h.default.semverString}static get sdkVersionSemVer(){var a,n,i,e;const t=h.default.semverString.match(/^(?<major>[0-9]+)\.(?<minor>[0-9]+)((?:\.(?<patch>[0-9]+))(?:-(?<preRelease>[a-zA-Z]+(\.[0-9])*))?)?/);return{major:(a=t==null?void 0:t.groups)===null||a===void 0?void 0:a.major,minor:(n=t==null?void 0:t.groups)===null||n===void 0?void 0:n.minor,patch:(i=t==null?void 0:t.groups)===null||i===void 0?void 0:i.patch,preRelease:(e=t==null?void 0:t.groups)===null||e===void 0?void 0:e.preRelease}}static get buildSHA(){return h.default.hash.substr(1)}static get sdkUserAgentLowResolution(){const a=new S.default;return`${a.name()}-${a.majorVersion()}`}static urlWithVersion(a){const n=new URL(a);return n.searchParams.append(Jc.X_AMZN_VERSION,Jc.sdkVersion),n.searchParams.append(Jc.X_AMZN_USER_AGENT,Jc.sdkUserAgentLowResolution),n.toString()}},"Versioning");c.default=m,m.X_AMZN_VERSION="X-Amzn-Version",m.X_AMZN_USER_AGENT="X-Amzn-User-Agent"},"5ETA":function(N,c){N.exports=!0},"5Qd4":function(N,c,d){var S=d("USwo");S(S.S+S.F,"Object",{assign:d("By1P")})},"5ViG":function(N,c,d){"use strict";var S=this&&this.__awaiter||function(a,n,i,e){function t(r){return r instanceof i?r:new i(function(l){l(r)})}return o(t,"adopt"),new(i||(i=Promise))(function(r,l){function p(u){try{g(e.next(u))}catch(s){l(s)}}o(p,"fulfilled");function v(u){try{g(e.throw(u))}catch(s){l(s)}}o(v,"rejected");function g(u){u.done?r(u.value):t(u.value).then(p,v)}o(g,"step"),g((e=e.apply(a,n||[])).next())})};Object.defineProperty(c,"__esModule",{value:!0});const h=d("DG83"),m=d("aVV0");let f=o(class extends m.default{run(){return S(this,void 0,void 0,function*(){const n=this.context.transceiverController;n.setPeer(this.context.peer),n.setupLocalTransceivers();const i=this.context.activeAudioInput;if(i){const t=i.getAudioTracks();this.context.logger.info("attaching audio track to peer connection"),yield n.setAudioInput(t.length?t[0]:null)}else yield n.setAudioInput(null),this.context.logger.info("no audio track");const e=this.context.activeVideoInput;if(e){const t=e.getVideoTracks(),r=t.length?t[0]:null;if(this.context.logger.info("attaching video track to peer connection"),yield n.setVideoInput(r),this.context.enableSimulcast&&this.context.videoUplinkBandwidthPolicy){const l=this.context.videoUplinkBandwidthPolicy.chooseEncodingParameters();n.setEncodingParameters(l)}r&&this.context.statsCollector.logVideoEvent(h.default.InputAttached,this.context.videoDeviceInformation)}else yield n.setVideoInput(null),this.context.logger.info("no video track");this.context.videoSubscriptions=n.updateVideoTransceivers(this.context.videoStreamIndex,this.context.videosToReceive)})}constructor(n){super(n.logger),this.context=n,this.taskName="AttachMediaInputTask"}},"AttachMediaInputTask");c.default=f},"5mR7":function(N,c,d){"use strict";Object.defineProperty(c,"__esModule",{value:!0});const S=d("34ho"),h=d("uaNU"),m=d("P7D+"),f=d("knPd");let a=o(class extends f.default{reset(){super.reset(),super.shouldPauseTiles=!1,this.videoPreferences=void 0}updateIndex(i){super.updateIndex(i);const e=m.VideoPreferences.prepare();let t=!1;const r=i.remoteStreamDescriptions();for(const l of r)e.some(p=>p.attendeeId===l.attendeeId)||(l.attendeeId.endsWith(S.default.Modality)?(e.add(new h.default(l.attendeeId,1)),t=!0):e.add(new h.default(l.attendeeId,2)));t?(this.videoPreferences=e.build(),this.videoPreferencesUpdated=!0):this.videoPreferences=void 0}chooseRemoteVideoSources(i){this.logger.error("chooseRemoteVideoSources should not be called by VideoAdaptiveProbePolicy")}constructor(i){super(i),this.logger=i,super.shouldPauseTiles=!1,this.videoPreferences=void 0}},"VideoAdaptiveProbePolicy");c.default=a},"5mqp":function(N,c,d){"use strict";Object.defineProperty(c,"__esModule",{value:!0});let S=o(class Xg{clone(){const m=new Xg;return m.tileId=this.tileId,m.localTile=this.localTile,m.isContent=this.isContent,m.active=this.active,m.paused=this.paused,m.poorConnection=this.poorConnection,m.boundAttendeeId=this.boundAttendeeId,m.boundExternalUserId=this.boundExternalUserId,m.boundVideoStream=this.boundVideoStream,m.boundVideoElement=this.boundVideoElement,m.nameplate=this.nameplate,m.videoStreamContentWidth=this.videoStreamContentWidth,m.videoStreamContentHeight=this.videoStreamContentHeight,m.videoElementCSSWidthPixels=this.videoElementCSSWidthPixels,m.videoElementCSSHeightPixels=this.videoElementCSSHeightPixels,m.devicePixelRatio=this.devicePixelRatio,m.videoElementPhysicalWidthPixels=this.videoElementPhysicalWidthPixels,m.videoElementPhysicalHeightPixels=this.videoElementPhysicalHeightPixels,m.streamId=this.streamId,m}constructor(){this.tileId=null,this.localTile=!1,this.localTileStarted=!1,this.isContent=!1,this.active=!1,this.paused=!1,this.poorConnection=!1,this.boundAttendeeId=null,this.boundExternalUserId=null,this.boundVideoStream=null,this.boundVideoElement=null,this.nameplate=null,this.videoStreamContentWidth=null,this.videoStreamContentHeight=null,this.videoElementCSSWidthPixels=null,this.videoElementCSSHeightPixels=null,this.devicePixelRatio=0,this.videoElementPhysicalWidthPixels=null,this.videoElementPhysicalHeightPixels=null,this.streamId=null}},"VideoTileState");c.default=S},"5rM1":function(N,c,d){"use strict";Object.defineProperty(c,"__esModule",{value:!0});let S=o(class{url(){return this.signalingURL+"?X-Chime-Control-Protocol-Version=3&X-Amzn-Chime-Send-Close-On-Error=1"}protocols(){return["_aws_wt_session",this.joinToken]}constructor(m,f){this.signalingURL=m,this.joinToken=f}},"SignalingClientConnectionRequest");c.default=S},"5rZr":function(N,c,d){"use strict";Object.defineProperty(c,"__esModule",{value:!0});let S=o(class{},"TranscriptResult");c.default=S},"5w6Y":function(N,c,d){var S=d("CYMq"),h=d("mHY4");d("czaS")("keys",function(){return o(function(f){return h(S(f))},"keys")})},"5xrR":function(N,c,d){"use strict";N.exports=m;var S=d("s0Ci");(m.prototype=Object.create(S.prototype)).constructor=m;var h=d("kU+7");function m(f){S.call(this,f)}o(m,"BufferReader"),m._configure=function(){h.Buffer&&(m.prototype._slice=h.Buffer.prototype.slice)},m.prototype.string=o(function(){var a=this.uint32();return this.buf.utf8Slice?this.buf.utf8Slice(this.pos,this.pos=Math.min(this.pos+a,this.len)):this.buf.toString("utf-8",this.pos,this.pos=Math.min(this.pos+a,this.len))},"read_string_buffer"),m._configure()},"5z6C":function(N,c,d){"use strict";var S=this&&this.__awaiter||function(n,i,e,t){function r(l){return l instanceof e?l:new e(function(p){p(l)})}return o(r,"adopt"),new(e||(e=Promise))(function(l,p){function v(s){try{u(t.next(s))}catch(I){p(I)}}o(v,"fulfilled");function g(s){try{u(t.throw(s))}catch(I){p(I)}}o(g,"rejected");function u(s){s.done?l(s.value):r(s.value).then(v,g)}o(u,"step"),u((t=t.apply(n,i||[])).next())})};Object.defineProperty(c,"__esModule",{value:!0});const h=d("bTau"),m=d("f2XL"),f=d("aVV0");let a=o(class extends f.default{run(){return S(this,void 0,void 0,function*(){const i=this.context.videoDuplexMode===m.SdkStreamServiceType.RX||this.context.videoDuplexMode===m.SdkStreamServiceType.DUPLEX;if(this.context.videoTileController.hasStartedLocalVideoTile()?this.context.videoDuplexMode=i?m.SdkStreamServiceType.DUPLEX:m.SdkStreamServiceType.TX:this.context.videoDuplexMode=i?m.SdkStreamServiceType.RX:0,this.context.videoCaptureAndEncodeParameter=this.context.videoUplinkBandwidthPolicy.chooseCaptureAndEncodeParameters(),!this.context.videoTileController.hasStartedLocalVideoTile()){this.context.logger.info("has not started local video tile"),this.context.activeVideoInput&&(this.context.activeVideoInput=void 0,this.context.videoStreamIndex.integrateUplinkPolicyDecision([]));return}const e=this.context.videoTileController.getLocalVideoTile();let t;try{t=yield this.context.mediaStreamBroker.acquireVideoInputStream()}catch{this.context.logger.warn("could not acquire video input from current device"),this.context.videoTileController.stopLocalVideoTile()}if(this.context.enableSimulcast){const r=this.context.videoUplinkBandwidthPolicy.chooseEncodingParameters();this.context.videoStreamIndex.integrateUplinkPolicyDecision(Array.from(r.values()))}if(this.context.activeVideoInput=t,t){const r=t.getVideoTracks();if(!r||r.length===0)return;const l=this.context.meetingSessionConfiguration.credentials.attendeeId,p=new h.default(l).hasModality(h.default.MODALITY_CONTENT),v=r[0].getSettings();if(this.context.enableSimulcast&&!p){const u=this.context.videoUplinkBandwidthPolicy.chooseMediaTrackConstraints();this.context.logger.info(`simulcast: choose constraint ${JSON.stringify(u)}`);try{yield r[0].applyConstraints(u)}catch{this.context.logger.info("simulcast: pass video without more constraint")}}const g=this.context.audioVideoController.configuration.credentials.externalUserId;e.bindVideoStream(l,!0,t,v.width,v.height,null,g);for(let u=0;u<r.length;u++){const s=r[u];this.logger.info(`using video device label=${s.label} id=${s.id}`),this.context.videoDeviceInformation.current_camera_name=s.label,this.context.videoDeviceInformation.current_camera_id=s.id}}})}constructor(i){super(i.logger),this.context=i,this.taskName="ReceiveVideoInputTask"}},"ReceiveVideoInputTask");c.default=a},"6/h7":function(N,c,d){"use strict";Object.defineProperty(c,"__esModule",{value:!0});const S=d("yQ3g");let h=o(class extends S.default{static nextTick(f){setTimeout(f,0)}constructor(){super(0)}},"AsyncScheduler");c.default=h},"6Bxv":function(N,c,d){"use strict";Object.defineProperty(c,"__esModule",{value:!0});const S=d("f2XL"),h=d("lUhs");let m=o(class ir{statusCode(){return this._statusCode}isFailure(){switch(this._statusCode){case h.default.AudioAuthenticationRejected:case h.default.AudioCallAtCapacity:case h.default.AudioInternalServerError:case h.default.AudioServiceUnavailable:case h.default.AudioDisconnected:case h.default.VideoCallAtSourceCapacity:case h.default.SignalingBadRequest:case h.default.SignalingInternalServerError:case h.default.SignalingRequestFailed:case h.default.ICEGatheringTimeoutWorkaround:case h.default.ConnectionHealthReconnect:case h.default.RealtimeApiFailed:case h.default.TaskFailed:case h.default.NoAttendeePresent:return!0;default:return!1}}isTerminal(){switch(this._statusCode){case h.default.Left:case h.default.AudioJoinedFromAnotherDevice:case h.default.AudioAuthenticationRejected:case h.default.AudioCallAtCapacity:case h.default.MeetingEnded:case h.default.AudioDisconnected:case h.default.TURNCredentialsForbidden:case h.default.SignalingBadRequest:case h.default.SignalingRequestFailed:case h.default.VideoCallAtSourceCapacity:case h.default.RealtimeApiFailed:case h.default.AudioAttendeeRemoved:return!0;default:return!1}}isAudioConnectionFailure(){switch(this._statusCode){case h.default.AudioAuthenticationRejected:case h.default.AudioInternalServerError:case h.default.AudioServiceUnavailable:case h.default.ICEGatheringTimeoutWorkaround:case h.default.SignalingBadRequest:case h.default.SignalingInternalServerError:case h.default.SignalingRequestFailed:case h.default.RealtimeApiFailed:case h.default.NoAttendeePresent:return!0;default:return!1}}toString(){switch(this._statusCode){case h.default.OK:return"Everything is OK so far.";case h.default.Left:return"The attendee left the meeting.";case h.default.AudioJoinedFromAnotherDevice:return"The attendee joined from another device.";case h.default.AudioAuthenticationRejected:return"The meeting rejected the attendee.";case h.default.AudioCallAtCapacity:return"The attendee couldn't join because the meeting was at capacity.";case h.default.MeetingEnded:return"The meeting ended.";case h.default.AudioInternalServerError:case h.default.AudioServiceUnavailable:case h.default.AudioDisconnected:return"The audio connection failed.";case h.default.VideoCallSwitchToViewOnly:return"The attendee couldn't start the local video because the maximum video capacity was reached.";case h.default.VideoCallAtSourceCapacity:return"The connection failed due to an internal server error.";case h.default.SignalingBadRequest:case h.default.SignalingInternalServerError:case h.default.SignalingRequestFailed:return"The signaling connection failed.";case h.default.ICEGatheringTimeoutWorkaround:return"Gathering ICE candidates timed out. In Chrome, this might indicate that the browser is in a bad state after reconnecting to VPN.";case h.default.ConnectionHealthReconnect:return"The meeting was reconnected.";case h.default.RealtimeApiFailed:return"The real-time API failed. This status code might indicate that the callback you passed to the real-time API threw an exception.";case h.default.TaskFailed:return"The connection failed. See the error message for more details.";case h.default.IncompatibleSDP:return"The connection failed due to incompatible SDP.";case h.default.TURNCredentialsForbidden:return"The meeting ended, or the attendee was removed.";case h.default.NoAttendeePresent:return"The attendee was not present.";case h.default.AudioAttendeeRemoved:return"The meeting ended because attendee removed.";case h.default.AudioVideoWasRemovedFromPrimaryMeeting:return"The Primary meeting credentials provided are no longer valid. chime::DeleteAttendee may have been called on them.";case h.default.AudioDisconnectAudio:return"The audio connection failed.";default:{const a=this._statusCode;throw new Error(`Unhandled case: ${a}`)}}}static fromSignalFrame(a){return a.error&&a.error.status?this.fromSignalingStatus(a.error.status):a.type===S.SdkSignalFrame.Type.AUDIO_STATUS?a.audioStatus?this.fromAudioStatus(a.audioStatus.audioStatus):new ir(h.default.SignalingRequestFailed):a.type===S.SdkSignalFrame.Type.PRIMARY_MEETING_LEAVE?new ir(h.default.AudioVideoWasRemovedFromPrimaryMeeting):new ir(h.default.OK)}static fromAudioStatus(a){switch(a){case 200:return new ir(h.default.OK);case 301:return new ir(h.default.AudioJoinedFromAnotherDevice);case 302:return new ir(h.default.AudioDisconnectAudio);case 403:return new ir(h.default.AudioAuthenticationRejected);case 409:return new ir(h.default.AudioCallAtCapacity);case 410:return new ir(h.default.MeetingEnded);case 411:return new ir(h.default.AudioAttendeeRemoved);case 500:return new ir(h.default.AudioInternalServerError);case 503:return new ir(h.default.AudioServiceUnavailable);default:switch(Math.floor(a/100)){case 2:return new ir(h.default.OK);default:return new ir(h.default.AudioDisconnected)}}}static fromSignalingStatus(a){switch(a){case 206:return new ir(h.default.VideoCallSwitchToViewOnly);case 509:return new ir(h.default.VideoCallAtSourceCapacity);case 403:return new ir(h.default.AudioAuthenticationRejected);case 409:return new ir(h.default.AudioCallAtCapacity);default:switch(Math.floor(a/100)){case 2:return new ir(h.default.OK);case 4:return new ir(h.default.SignalingBadRequest);case 5:return new ir(h.default.SignalingInternalServerError);default:return new ir(h.default.SignalingRequestFailed)}}}constructor(a){this._statusCode=a}},"MeetingSessionStatus");c.default=m},"6DYs":function(N,c,d){"use strict";Object.defineProperty(c,"__esModule",{value:!0});let S=o(class{matchesConstraints(m){return JSON.stringify(this.constraints)===JSON.stringify(m)}constructor(){this.groupId=""}},"DeviceSelection");c.default=S},"6JeQ":function(N,c,d){"use strict";var S=this&&this.__awaiter||function(t,r,l,p){function v(g){return g instanceof l?g:new l(function(u){u(g)})}return o(v,"adopt"),new(l||(l=Promise))(function(g,u){function s(R){try{M(p.next(R))}catch(B){u(B)}}o(s,"fulfilled");function I(R){try{M(p.throw(R))}catch(B){u(B)}}o(I,"rejected");function M(R){R.done?g(R.value):v(R.value).then(s,I)}o(M,"step"),M((p=p.apply(t,r||[])).next())})};Object.defineProperty(c,"__esModule",{value:!0}),c.VoiceFocusDeviceTransformer=void 0;const h=d("o4xN"),m=d("R4Nl"),f=d("59sL"),a=d("X9Jc"),n=d("25+x"),i=d("8Bz5");let e=o(class wa{static isSupported(r,l){var p,v;const g=wa.defaultFetchBehavior(),u=l!=null&&l.logger?new a.default(l.logger):void 0,s={fetchBehavior:g,logger:u};if(m.isIFramed()){if((l==null?void 0:l.allowIFrame)===!1)return(p=l==null?void 0:l.logger)===null||p===void 0||p.error("Amazon Voice Focus support check inside iframe: not supported."),Promise.resolve(!1);(v=l==null?void 0:l.logger)===null||v===void 0||v.warn("Amazon Voice Focus support check inside iframe: not recommended.")}return h.VoiceFocus.isSupported(wa.augmentSpec(r),s)}static create(){let r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},p=arguments.length>2?arguments[2]:void 0,v=arguments.length>3?arguments[3]:void 0,g=arguments.length>4?arguments[4]:void 0;var u,s,I;return S(this,void 0,void 0,function*(){v&&v.Meeting.Meeting&&(v=v.Meeting);const M=((I=(s=(u=v==null?void 0:v.Meeting)===null||u===void 0?void 0:u.MeetingFeatures)===null||s===void 0?void 0:s.Audio)===null||I===void 0?void 0:I.EchoReduction)==="AVAILABLE",R=p&&p.supported===!0&&p.model.name==="ns_es"&&!M,B=r.name==="ns_es"&&!M;if(R||B)throw new Error("Echo Reduction requested but not enabled.");const j=new wa(r,l,p);return yield j.init(),j})}static configure(){let r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return S(this,void 0,void 0,function*(){return new wa(r,l,void 0).configure(!0)})}getConfiguration(){return this.configuration}isSupported(){return this.supported}createTransformDevice(r,l){return S(this,void 0,void 0,function*(){if(this.supported)try{const[v,g]=yield this.allocateVoiceFocus(!0),u=Object.assign(Object.assign({},l),{es:this.spec.name==="ns_es"});return new n.default(r,v,g,u)}catch{return}})}static destroyVoiceFocus(r){var l;return S(this,void 0,void 0,function*(){(l=r==null?void 0:r.vf)===null||l===void 0||l.destroy()})}static augmentSpec(r){return!r||!r.assetGroup&&!r.revisionID?Object.assign(Object.assign({},r),{assetGroup:wa.currentSDKAssetGroup()}):r}configure(){let r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;return S(this,void 0,void 0,function*(){const l={fetchBehavior:this.fetchBehavior,preResolve:r,logger:this.vfLogger};return h.VoiceFocus.configure(this.spec,l)})}init(){var r;return S(this,void 0,void 0,function*(){this.configuration||(this.configuration=this.configure());const l=yield this.configuration;if(!l.supported){this.supported=!1;return}this.pendingVoiceFocus=this.createVoiceFocus(l,this.preload);try{yield this.pendingVoiceFocus}catch(p){(r=this.logger)===null||r===void 0||r.error(`Unable to initialize Amazon Voice Focus: ${p}`),this.supported=!1}})}createVoiceFocus(r,l){return S(this,void 0,void 0,function*(){const p=new i.default;return this.vf=yield h.VoiceFocus.init(r,{delegate:p,preload:l,logger:this.vfLogger}),[this.vf,p]})}allocateVoiceFocus(r){return S(this,void 0,void 0,function*(){if(!this.supported)throw new Error("Not supported.");if(this.pendingVoiceFocus){const l=this.pendingVoiceFocus;return this.pendingVoiceFocus=void 0,l}return this.createVoiceFocus(yield this.configuration,r)})}static majorVersion(){return f.default.sdkVersion.match(/^[1-9][0-9]*\.(?:0|[1-9][0-9]*)/)[0]}static majorMinorVersion(){return f.default.sdkVersion.match(/^[1-9][0-9]*\.(?:0|(?:[1-9][0-9]*))\.(?:0|[1-9][0-9]*)/)[0]}static currentSDKAssetGroup(){const r=this.majorVersion();return r?`sdk-${r}`:"stable-v1"}static defaultFetchBehavior(){const r=wa.majorMinorVersion()||"unknown",l=f.default.sdkUserAgentLowResolution;return{escapedQueryString:`sdk=${encodeURIComponent(r)}&ua=${encodeURIComponent(l)}`}}constructor(r,{preload:l=!0,logger:p,fetchBehavior:v=wa.defaultFetchBehavior()},g){this.spec=r,this.supported=!0,this.logger=p,this.vfLogger=p?new a.default(p):void 0,this.preload=l,this.fetchBehavior=v,this.spec=wa.augmentSpec(this.spec),g&&(this.configuration=Promise.resolve(g))}},"VoiceFocusDeviceTransformer");c.VoiceFocusDeviceTransformer=e,c.default=e},"6SO8":function(N,c,d){"use strict";Object.defineProperty(c,"__esModule",{value:!0});const S=d("XCDq"),h=d("bjg3"),m=d("x8On"),f=d("U3GI");let a=o(class Zg{getMetricMap(i,e){switch(i){case m.default.AUDIO:switch(e){case h.default.UPSTREAM:return this.audioUpstreamMetricMap;case h.default.DOWNSTREAM:return this.audioDownstreamMetricMap}case m.default.VIDEO:switch(e){case h.default.UPSTREAM:return this.videoUpstreamMetricMap;case h.default.DOWNSTREAM:return this.videoDownstreamMetricMap}default:return this.globalMetricMap}}getStreamDimensionMap(){return this.streamDimensionMap}getObservableMetricValue(i){const e=this.observableMetricSpec[i],r=this.getMetricMap(e.media,e.dir)[e.source],{transform:l,source:p}=r;if(e.hasOwnProperty("media"))for(const v in this.streamMetricReports){const g=this.streamMetricReports[v];if(g.direction===e.dir&&g.mediaType===e.media)return l(p||e.source,Number(v))}else return l(p||e.source);return 0}getObservableVideoMetricValue(i,e){const t=this.observableVideoMetricSpec[i],l=this.getMetricMap(t.media,t.dir)[t.source],{transform:p,source:v}=l;return p(v||t.source,e)}getObservableMetrics(){const i={};for(const e in this.observableMetricSpec)i[e]=this.getObservableMetricValue(e);return i}getObservableVideoMetrics(){const i={};if(!this.videoStreamIndex||!this.selfAttendeeId)return this.logger.error("Need to define VideoStreamIndex and selfAttendeeId if using getObservableVideoMetrics API"),i;for(const e in this.streamMetricReports)if(this.streamMetricReports[e].mediaType===m.default.VIDEO){const t={};for(const p in this.observableVideoMetricSpec)if(this.observableVideoMetricSpec[p].dir===this.streamMetricReports[e].direction){const v=this.getObservableVideoMetricValue(p,Number(e));isNaN(v)||(t[p]=v)}const r=this.streamMetricReports[e].streamId,l=r?this.videoStreamIndex.attendeeIdForStreamId(r):this.selfAttendeeId;i[l]=i[l]?i[l]:{},i[l][e]=t}return i}getRTCStatsReport(){return this.rtcStatsReport}clone(){const i=new Zg(this.logger,this.videoStreamIndex,this.selfAttendeeId);return i.globalMetricReport=this.globalMetricReport,i.streamMetricReports=this.streamMetricReports,i.rtcStatsReport=this.rtcStatsReport,i.currentTimestampMs=this.currentTimestampMs,i.previousTimestampMs=this.previousTimestampMs,i}print(){const i={globalMetricReport:this.globalMetricReport,streamMetricReports:this.streamMetricReports,currentTimestampMs:this.currentTimestampMs,previousTimestampMs:this.previousTimestampMs};this.logger.debug(()=>`Client Metric Report: ${JSON.stringify(i)}`)}removeDestroyedSsrcs(){for(const i in this.streamMetricReports)this.currentSsrcs[i]||delete this.streamMetricReports[i]}constructor(i,e,t){this.logger=i,this.videoStreamIndex=e,this.selfAttendeeId=t,this.globalMetricReport=new f.default,this.streamMetricReports={},this.rtcStatsReport={},this.currentTimestampMs=0,this.previousTimestampMs=0,this.currentSsrcs={},this.identityValue=(r,l)=>{const p=l?this.streamMetricReports[l]:this.globalMetricReport;return Number(p.currentMetrics[r])},this.decoderLossPercent=(r,l)=>{const p=this.streamMetricReports[l],v=p.currentMetrics.concealedSamples-(p.previousMetrics.concealedSamples||0),g=p.currentMetrics.totalSamplesReceived-(p.previousMetrics.totalSamplesReceived||0);return g<=0||g-v<=0?0:v/g*100},this.packetLossPercent=(r,l)=>{const p=this.streamMetricReports[l],v=p.currentMetrics[r]-(p.previousMetrics[r]||0),g=p.currentMetrics.packetsLost-(p.previousMetrics.packetsLost||0),u=v+g;return u<=0||g<=0?0:g*100/u},this.jitterBufferMs=(r,l)=>{const p=this.streamMetricReports[l],v=p.currentMetrics.jitterBufferDelay-(p.previousMetrics.jitterBufferDelay||0),g=p.currentMetrics.jitterBufferEmittedCount-(p.previousMetrics.jitterBufferEmittedCount||0);return v<=0||g<=0?0:v/g*1e3},this.countPerSecond=(r,l)=>{const p=l?this.streamMetricReports[l]:this.globalMetricReport;let v=(this.currentTimestampMs-this.previousTimestampMs)/1e3;if(v<=0)return 0;this.previousTimestampMs<=0&&(v=1);const g=p.currentMetrics[r]-(p.previousMetrics[r]||0);return g<=0?0:Math.trunc(g/v)},this.bitsPerSecond=(r,l)=>{const p=l?this.streamMetricReports[l]:this.globalMetricReport;let v=(this.currentTimestampMs-this.previousTimestampMs)/1e3;if(v<=0)return 0;this.previousTimestampMs<=0&&(v=1);const g=(p.currentMetrics[r]-(p.previousMetrics[r]||0))*8;return g<=0?0:Math.trunc(g/v)},this.secondsToMilliseconds=(r,l)=>{const p=l?this.streamMetricReports[l]:this.globalMetricReport;return Number(p.currentMetrics[r]*1e3)},this.averageTimeSpentPerSecondInMilliseconds=(r,l)=>{const p=l?this.streamMetricReports[l]:this.globalMetricReport;let v=(this.currentTimestampMs-this.previousTimestampMs)/1e3;if(v<=0)return 0;this.previousTimestampMs<=0&&(v=1);const g=p.currentMetrics[r]-(p.previousMetrics[r]||0);return g<=0?0:g*1e3/v},this.isHardwareImplementation=(r,l)=>{const p=this.streamMetricReports[l],v=String(p.currentStringMetrics[r]),g=v.includes("ExternalDecoder")||v.includes("ExternalEncoder")||v.includes("EncodeAccelerator")||v.includes("DecodeAccelerator"),u=v.includes("fallback from");return g&&!u?1:0},this.globalMetricMap={retransmittedBytesSent:{transform:this.identityValue,type:S.SdkMetric.Type.VIDEO_RETRANSMIT_BITRATE},totalEncodedBytesTarget:{transform:this.identityValue,type:S.SdkMetric.Type.VIDEO_TARGET_ENCODER_BITRATE},totalPacketSendDelay:{transform:this.identityValue,type:S.SdkMetric.Type.VIDEO_BUCKET_DELAY_MS},packetsDiscardedOnSend:{transform:this.countPerSecond,type:S.SdkMetric.Type.SOCKET_DISCARDED_PPS},availableIncomingBitrate:{transform:this.identityValue,type:S.SdkMetric.Type.VIDEO_AVAILABLE_RECEIVE_BANDWIDTH},availableOutgoingBitrate:{transform:this.identityValue,type:S.SdkMetric.Type.VIDEO_AVAILABLE_SEND_BANDWIDTH},currentRoundTripTime:{transform:this.secondsToMilliseconds,type:S.SdkMetric.Type.STUN_RTT_MS}},this.audioUpstreamMetricMap={jitter:{transform:this.secondsToMilliseconds,type:S.SdkMetric.Type.RTC_MIC_JITTER_MS},packetsSent:{transform:this.countPerSecond,type:S.SdkMetric.Type.RTC_MIC_PPS},bytesSent:{transform:this.bitsPerSecond,type:S.SdkMetric.Type.RTC_MIC_BITRATE},roundTripTime:{transform:this.secondsToMilliseconds,type:S.SdkMetric.Type.RTC_MIC_RTT_MS},packetsLost:{transform:this.packetLossPercent,type:S.SdkMetric.Type.RTC_MIC_FRACTION_PACKET_LOST_PERCENT,source:"packetsSent"}},this.audioDownstreamMetricMap={concealedSamples:{transform:this.countPerSecond},totalSamplesReceived:{transform:this.countPerSecond},decoderLoss:{transform:this.decoderLossPercent,type:S.SdkMetric.Type.RTC_SPK_FRACTION_DECODER_LOSS_PERCENT},packetsReceived:{transform:this.countPerSecond,type:S.SdkMetric.Type.RTC_SPK_PPS},packetsLost:{transform:this.packetLossPercent,type:S.SdkMetric.Type.RTC_SPK_FRACTION_PACKET_LOST_PERCENT,source:"packetsReceived"},jitter:{transform:this.secondsToMilliseconds,type:S.SdkMetric.Type.RTC_SPK_JITTER_MS},jitterBufferDelay:{transform:this.countPerSecond},jitterBufferEmittedCount:{transform:this.countPerSecond},jitterBufferMs:{transform:this.jitterBufferMs,type:S.SdkMetric.Type.RTC_SPK_JITTER_BUFFER_MS},bytesReceived:{transform:this.bitsPerSecond,type:S.SdkMetric.Type.RTC_SPK_BITRATE}},this.videoUpstreamMetricMap={roundTripTime:{transform:this.secondsToMilliseconds,type:S.SdkMetric.Type.VIDEO_SENT_RTT_MS},nackCount:{transform:this.countPerSecond,type:S.SdkMetric.Type.VIDEO_NACKS_RECEIVED},pliCount:{transform:this.countPerSecond,type:S.SdkMetric.Type.VIDEO_PLIS_RECEIVED},firCount:{transform:this.countPerSecond,type:S.SdkMetric.Type.VIDEO_FIRS_RECEIVED},framesPerSecond:{transform:this.identityValue,type:S.SdkMetric.Type.VIDEO_INPUT_FPS},framesEncoded:{transform:this.countPerSecond,type:S.SdkMetric.Type.VIDEO_ENCODE_FPS},packetsSent:{transform:this.countPerSecond,type:S.SdkMetric.Type.VIDEO_SENT_PPS},packetsLost:{transform:this.packetLossPercent,type:S.SdkMetric.Type.VIDEO_SENT_FRACTION_PACKET_LOST_PERCENT,source:"packetsSent"},bytesSent:{transform:this.bitsPerSecond,type:S.SdkMetric.Type.VIDEO_SENT_BITRATE},qpSum:{transform:this.countPerSecond,type:S.SdkMetric.Type.VIDEO_SENT_QP_SUM},frameHeight:{transform:this.identityValue,type:S.SdkMetric.Type.VIDEO_ENCODE_HEIGHT},frameWidth:{transform:this.identityValue,type:S.SdkMetric.Type.VIDEO_ENCODE_WIDTH},jitter:{transform:this.secondsToMilliseconds},totalEncodeTime:{transform:this.averageTimeSpentPerSecondInMilliseconds,type:S.SdkMetric.Type.VIDEO_ENCODE_MS},encoderImplementation:{transform:this.isHardwareImplementation,type:S.SdkMetric.Type.VIDEO_ENCODER_IS_HARDWARE}},this.videoDownstreamMetricMap={packetsReceived:{transform:this.countPerSecond,type:S.SdkMetric.Type.VIDEO_RECEIVED_PPS},packetsLost:{transform:this.packetLossPercent,type:S.SdkMetric.Type.VIDEO_RECEIVED_FRACTION_PACKET_LOST_PERCENT,source:"packetsReceived"},framesReceived:{transform:this.identityValue,type:S.SdkMetric.Type.VIDEO_RECEIVED_FPS},framesDecoded:{transform:this.countPerSecond,type:S.SdkMetric.Type.VIDEO_DECODE_FPS},nackCount:{transform:this.countPerSecond,type:S.SdkMetric.Type.VIDEO_NACKS_SENT},firCount:{transform:this.countPerSecond,type:S.SdkMetric.Type.VIDEO_FIRS_SENT},pliCount:{transform:this.countPerSecond,type:S.SdkMetric.Type.VIDEO_PLIS_SENT},bytesReceived:{transform:this.bitsPerSecond,type:S.SdkMetric.Type.VIDEO_RECEIVED_BITRATE},jitter:{transform:this.secondsToMilliseconds,type:S.SdkMetric.Type.VIDEO_RECEIVED_JITTER_MS},jitterBufferDelay:{transform:this.countPerSecond},jitterBufferEmittedCount:{transform:this.countPerSecond},jitterBufferMs:{transform:this.jitterBufferMs,type:S.SdkMetric.Type.VIDEO_JITTER_BUFFER_MS},qpSum:{transform:this.countPerSecond,type:S.SdkMetric.Type.VIDEO_RECEIVED_QP_SUM},frameHeight:{transform:this.identityValue,type:S.SdkMetric.Type.VIDEO_DECODE_HEIGHT},frameWidth:{transform:this.identityValue,type:S.SdkMetric.Type.VIDEO_DECODE_WIDTH},totalDecodeTime:{transform:this.averageTimeSpentPerSecondInMilliseconds,type:S.SdkMetric.Type.VIDEO_DECODE_MS},decoderImplementation:{transform:this.isHardwareImplementation,type:S.SdkMetric.Type.VIDEO_DECODER_IS_HARDWARE}},this.streamDimensionMap={encoderImplementation:S.SdkStreamDimension.Type.VIDEO_ENCODER_NAME,decoderImplementation:S.SdkStreamDimension.Type.VIDEO_DECODER_NAME},this.observableVideoMetricSpec={videoUpstreamBitrate:{source:"bytesSent",media:m.default.VIDEO,dir:h.default.UPSTREAM},videoUpstreamPacketsSent:{source:"packetsSent",media:m.default.VIDEO,dir:h.default.UPSTREAM},videoUpstreamPacketLossPercent:{source:"packetsLost",media:m.default.VIDEO,dir:h.default.UPSTREAM},videoUpstreamFramesEncodedPerSecond:{source:"framesEncoded",media:m.default.VIDEO,dir:h.default.UPSTREAM},videoUpstreamFrameHeight:{source:"frameHeight",media:m.default.VIDEO,dir:h.default.UPSTREAM},videoUpstreamFrameWidth:{source:"frameWidth",media:m.default.VIDEO,dir:h.default.UPSTREAM},videoUpstreamJitterMs:{source:"jitter",media:m.default.VIDEO,dir:h.default.UPSTREAM},videoUpstreamRoundTripTimeMs:{source:"roundTripTime",media:m.default.VIDEO,dir:h.default.UPSTREAM},videoDownstreamBitrate:{source:"bytesReceived",media:m.default.VIDEO,dir:h.default.DOWNSTREAM},videoDownstreamPacketLossPercent:{source:"packetsLost",media:m.default.VIDEO,dir:h.default.DOWNSTREAM},videoDownstreamPacketsReceived:{source:"packetsReceived",media:m.default.VIDEO,dir:h.default.DOWNSTREAM},videoDownstreamFramesDecodedPerSecond:{source:"framesDecoded",media:m.default.VIDEO,dir:h.default.DOWNSTREAM},videoDownstreamFrameHeight:{source:"frameHeight",media:m.default.VIDEO,dir:h.default.DOWNSTREAM},videoDownstreamFrameWidth:{source:"frameWidth",media:m.default.VIDEO,dir:h.default.DOWNSTREAM},videoDownstreamJitterMs:{source:"jitter",media:m.default.VIDEO,dir:h.default.DOWNSTREAM},videoDownstreamDelayMs:{source:"jitterBufferMs",media:m.default.VIDEO,dir:h.default.DOWNSTREAM}},this.observableMetricSpec={audioPacketsReceived:{source:"packetsReceived",media:m.default.AUDIO,dir:h.default.DOWNSTREAM},audioPacketsReceivedFractionLoss:{source:"packetsLost",media:m.default.AUDIO,dir:h.default.DOWNSTREAM},audioDecoderLoss:{source:"decoderLoss",media:m.default.AUDIO,dir:h.default.DOWNSTREAM},audioPacketsSent:{source:"packetsSent",media:m.default.AUDIO,dir:h.default.UPSTREAM},audioPacketLossPercent:{source:"packetsLost",media:m.default.AUDIO,dir:h.default.UPSTREAM},audioUpstreamRoundTripTimeMs:{source:"roundTripTime",media:m.default.AUDIO,dir:h.default.UPSTREAM},videoUpstreamBitrate:{source:"bytesSent",media:m.default.VIDEO,dir:h.default.UPSTREAM},videoPacketSentPerSecond:{source:"packetsSent",media:m.default.VIDEO,dir:h.default.UPSTREAM},audioSpeakerDelayMs:{source:"jitterBufferMs",media:m.default.AUDIO,dir:h.default.DOWNSTREAM},audioUpstreamJitterMs:{source:"jitter",media:m.default.AUDIO,dir:h.default.UPSTREAM},audioDownstreamJitterMs:{source:"jitter",media:m.default.AUDIO,dir:h.default.DOWNSTREAM},nackCountReceivedPerSecond:{source:"nackCount",media:m.default.VIDEO,dir:h.default.UPSTREAM},availableOutgoingBitrate:{source:"availableOutgoingBitrate"},availableIncomingBitrate:{source:"availableIncomingBitrate"},currentRoundTripTimeMs:{source:"currentRoundTripTime"}}}},"ClientMetricReport");c.default=a},"6jRP":function(N,c){N.exports=function(d,S){return{value:S,done:!!d}}},"6k+I":function(N,c,d){"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.isAudioTransformDevice=void 0;function S(h){return!!h&&typeof h=="object"&&"mute"in h&&"stop"in h&&"intrinsicDevice"in h}o(S,"isAudioTransformDevice"),c.isAudioTransformDevice=S},"6k9T":function(N,c,d){"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.CheckVideoInputFeedback=void 0;var S;(function(h){h[h.Succeeded=0]="Succeeded",h[h.Failed=1]="Failed",h[h.PermissionDenied=2]="PermissionDenied"})(S=c.CheckVideoInputFeedback||(c.CheckVideoInputFeedback={})),c.default=S},"6qF3":function(N,c,d){"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.FXLIB_PATH=c.WORKER_PATH=c.CDN_BASE_PATH=c.RESOURCE_CONSTRAINTS=c.SEGMENTATION_MODEL=c.DEFAULT_STREAM_PARAMETERS=c.WORKER_MSG=void 0,c.WORKER_MSG={BUILD_ENGINE_REQUEST:"BuildEngineRequest",BUILD_ENGINE_RESPONSE:"BuildEngineResponse",PERFORM_SEGMENTATION_REQUEST:"PerformSegmentationRequest",PERFORM_SEGMENTATION_RESPONSE:"PerformSegmentationResponse",PERFORM_SEGMENTATION_SAB_REQUEST:"PerformSegmentationSABRequest",PERFORM_SEGMENTATION_SAB_RESPONSE:"PerformSegmentationSABResponse",DESTROY_ASSETS_REQUEST:"DestroyAssetsRequest",DESTROY_ASSETS_RESPONSE:"DestroyAssetsResponse",CLOSE_WORKER_REQUEST:"CloseWorkerRequest"},c.DEFAULT_STREAM_PARAMETERS={FRAMES_PER_SECOND:15,WIDTH_IN_PIXEL:960,HEIGHT_IN_PIXEL:540,CHANNEL_COUNT:4},c.SEGMENTATION_MODEL={LOAD_SUCCESS:2,WIDTH_IN_PIXELS:176,HEIGHT_IN_PIXELS:160},c.RESOURCE_CONSTRAINTS={DEFAULT_PROCESSING_BUDGET_PER_FRAME:50,SEGMENTATION_DEFAULT_FRAMES_PER_SEGMENTATION:1,SEGMENTATION_SAMPLING_PERIOD_FRAME_COUNT:500,BLUR_DEFAULT_CYCLE_PERCENTAGE:10,BLUR_SAMPLING_PERIOD_FRAME_COUNT:1e3,MIN_PROCESSING_BUDGET:0,MAX_PROCESSING_BUDGET:100},c.CDN_BASE_PATH="https://static.sdkassets.chime.aws";const S="/ml_media_fx/otherassets";c.WORKER_PATH=`${S}/worker.js`,c.FXLIB_PATH=`${S}/fxlib.js`},"725M":function(N,c,d){"use strict";Object.defineProperty(c,"__esModule",{value:!0});function S(m){return m.map(f=>typeof f=="object"?JSON.stringify(f):`${f}`).join(" ")}o(S,"stringify");let h=o(class{debug(){for(var f=arguments.length,a=new Array(f),n=0;n<f;n++)a[n]=arguments[n];this.base.debug(S(a))}info(){for(var f=arguments.length,a=new Array(f),n=0;n<f;n++)a[n]=arguments[n];this.base.info(S(a))}warn(){for(var f=arguments.length,a=new Array(f),n=0;n<f;n++)a[n]=arguments[n];this.base.warn(S(a))}error(){for(var f=arguments.length,a=new Array(f),n=0;n<f;n++)a[n]=arguments[n];this.base.error(S(a))}constructor(f){this.base=f}},"LoggerAdapter");c.default=h},"7EAL":function(N,c,d){"use strict";var S=this&&this.__awaiter||function(f,a,n,i){function e(t){return t instanceof n?t:new n(function(r){r(t)})}return o(e,"adopt"),new(n||(n=Promise))(function(t,r){function l(g){try{v(i.next(g))}catch(u){r(u)}}o(l,"fulfilled");function p(g){try{v(i.throw(g))}catch(u){r(u)}}o(p,"rejected");function v(g){g.done?t(g.value):e(g.value).then(l,p)}o(v,"step"),v((i=i.apply(f,a||[])).next())})};Object.defineProperty(c,"__esModule",{value:!0});const h=d("j+uH");let m=o(class extends h.default{run(){return S(this,void 0,void 0,function*(){this.context.resetConnectionSpecificState()})}constructor(a){super(a.logger),this.context=a,this.taskName="CleanRestartedSessionTask"}},"CleanRestartedSessionTask");c.default=m},"7H4U":function(N,c,d){"use strict";Object.defineProperty(c,"__esModule",{value:!0});const S=o(h=>{const m={};for(const[f,a]of Object.entries(h))if(!(a==null||a===""))if(typeof a=="number"||typeof a=="string")m[f]=a;else throw new TypeError("Unhandled type received while flattening attributes.");return m},"flattenEventAttributes");c.default=S},"7JaV":function(N,c,d){"use strict";d.r(c),d.d(c,"__extends",function(){return h}),d.d(c,"__assign",function(){return m}),d.d(c,"__rest",function(){return f}),d.d(c,"__decorate",function(){return a}),d.d(c,"__param",function(){return n}),d.d(c,"__metadata",function(){return i}),d.d(c,"__awaiter",function(){return e}),d.d(c,"__generator",function(){return t}),d.d(c,"__createBinding",function(){return r}),d.d(c,"__exportStar",function(){return l}),d.d(c,"__values",function(){return p}),d.d(c,"__read",function(){return v}),d.d(c,"__spread",function(){return g}),d.d(c,"__spreadArrays",function(){return u}),d.d(c,"__await",function(){return s}),d.d(c,"__asyncGenerator",function(){return I}),d.d(c,"__asyncDelegator",function(){return M}),d.d(c,"__asyncValues",function(){return R}),d.d(c,"__makeTemplateObject",function(){return B}),d.d(c,"__importStar",function(){return j}),d.d(c,"__importDefault",function(){return A}),d.d(c,"__classPrivateFieldGet",function(){return D}),d.d(c,"__classPrivateFieldSet",function(){return $});/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var S=o(function(O,P){return S=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(k,K){k.__proto__=K}||function(k,K){for(var Z in K)K.hasOwnProperty(Z)&&(k[Z]=K[Z])},S(O,P)},"extendStatics");function h(O,P){S(O,P);function k(){this.constructor=O}o(k,"__"),O.prototype=P===null?Object.create(P):(k.prototype=P.prototype,new k)}o(h,"__extends");var m=o(function(){return m=Object.assign||o(function(P){for(var k,K=1,Z=arguments.length;K<Z;K++){k=arguments[K];for(var Y in k)Object.prototype.hasOwnProperty.call(k,Y)&&(P[Y]=k[Y])}return P},"__assign"),m.apply(this,arguments)},"__assign");function f(O,P){var k={};for(var K in O)Object.prototype.hasOwnProperty.call(O,K)&&P.indexOf(K)<0&&(k[K]=O[K]);if(O!=null&&typeof Object.getOwnPropertySymbols=="function")for(var Z=0,K=Object.getOwnPropertySymbols(O);Z<K.length;Z++)P.indexOf(K[Z])<0&&Object.prototype.propertyIsEnumerable.call(O,K[Z])&&(k[K[Z]]=O[K[Z]]);return k}o(f,"__rest");function a(O,P,k,K){var Z=arguments.length,Y=Z<3?P:K===null?K=Object.getOwnPropertyDescriptor(P,k):K,ie;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")Y=Reflect.decorate(O,P,k,K);else for(var ge=O.length-1;ge>=0;ge--)(ie=O[ge])&&(Y=(Z<3?ie(Y):Z>3?ie(P,k,Y):ie(P,k))||Y);return Z>3&&Y&&Object.defineProperty(P,k,Y),Y}o(a,"__decorate");function n(O,P){return function(k,K){P(k,K,O)}}o(n,"__param");function i(O,P){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(O,P)}o(i,"__metadata");function e(O,P,k,K){function Z(Y){return Y instanceof k?Y:new k(function(ie){ie(Y)})}return o(Z,"adopt"),new(k||(k=Promise))(function(Y,ie){function ge(we){try{le(K.next(we))}catch(Be){ie(Be)}}o(ge,"fulfilled");function Ie(we){try{le(K.throw(we))}catch(Be){ie(Be)}}o(Ie,"rejected");function le(we){we.done?Y(we.value):Z(we.value).then(ge,Ie)}o(le,"step"),le((K=K.apply(O,P||[])).next())})}o(e,"__awaiter");function t(O,P){var k={label:0,sent:function(){if(Y[0]&1)throw Y[1];return Y[1]},trys:[],ops:[]},K,Z,Y,ie;return ie={next:ge(0),throw:ge(1),return:ge(2)},typeof Symbol=="function"&&(ie[Symbol.iterator]=function(){return this}),ie;function ge(le){return function(we){return Ie([le,we])}}function Ie(le){if(K)throw new TypeError("Generator is already executing.");for(;k;)try{if(K=1,Z&&(Y=le[0]&2?Z.return:le[0]?Z.throw||((Y=Z.return)&&Y.call(Z),0):Z.next)&&!(Y=Y.call(Z,le[1])).done)return Y;switch(Z=0,Y&&(le=[le[0]&2,Y.value]),le[0]){case 0:case 1:Y=le;break;case 4:return k.label++,{value:le[1],done:!1};case 5:k.label++,Z=le[1],le=[0];continue;case 7:le=k.ops.pop(),k.trys.pop();continue;default:if(Y=k.trys,!(Y=Y.length>0&&Y[Y.length-1])&&(le[0]===6||le[0]===2)){k=0;continue}if(le[0]===3&&(!Y||le[1]>Y[0]&&le[1]<Y[3])){k.label=le[1];break}if(le[0]===6&&k.label<Y[1]){k.label=Y[1],Y=le;break}if(Y&&k.label<Y[2]){k.label=Y[2],k.ops.push(le);break}Y[2]&&k.ops.pop(),k.trys.pop();continue}le=P.call(O,k)}catch(we){le=[6,we],Z=0}finally{K=Y=0}if(le[0]&5)throw le[1];return{value:le[0]?le[1]:void 0,done:!0}}}o(t,"__generator");function r(O,P,k,K){K===void 0&&(K=k),O[K]=P[k]}o(r,"__createBinding");function l(O,P){for(var k in O)k!=="default"&&!P.hasOwnProperty(k)&&(P[k]=O[k])}o(l,"__exportStar");function p(O){var P=typeof Symbol=="function"&&Symbol.iterator,k=P&&O[P],K=0;if(k)return k.call(O);if(O&&typeof O.length=="number")return{next:function(){return O&&K>=O.length&&(O=void 0),{value:O&&O[K++],done:!O}}};throw new TypeError(P?"Object is not iterable.":"Symbol.iterator is not defined.")}o(p,"__values");function v(O,P){var k=typeof Symbol=="function"&&O[Symbol.iterator];if(!k)return O;var K=k.call(O),Z,Y=[],ie;try{for(;(P===void 0||P-- >0)&&!(Z=K.next()).done;)Y.push(Z.value)}catch(ge){ie={error:ge}}finally{try{Z&&!Z.done&&(k=K.return)&&k.call(K)}finally{if(ie)throw ie.error}}return Y}o(v,"__read");function g(){for(var O=[],P=0;P<arguments.length;P++)O=O.concat(v(arguments[P]));return O}o(g,"__spread");function u(){for(var O=0,P=0,k=arguments.length;P<k;P++)O+=arguments[P].length;for(var K=Array(O),Z=0,P=0;P<k;P++)for(var Y=arguments[P],ie=0,ge=Y.length;ie<ge;ie++,Z++)K[Z]=Y[ie];return K}o(u,"__spreadArrays");function s(O){return this instanceof s?(this.v=O,this):new s(O)}o(s,"__await");function I(O,P,k){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var K=k.apply(O,P||[]),Z,Y=[];return Z={},ie("next"),ie("throw"),ie("return"),Z[Symbol.asyncIterator]=function(){return this},Z;function ie(Re){K[Re]&&(Z[Re]=function(Ne){return new Promise(function(_e,Ze){Y.push([Re,Ne,_e,Ze])>1||ge(Re,Ne)})})}function ge(Re,Ne){try{Ie(K[Re](Ne))}catch(_e){Be(Y[0][3],_e)}}function Ie(Re){Re.value instanceof s?Promise.resolve(Re.value.v).then(le,we):Be(Y[0][2],Re)}function le(Re){ge("next",Re)}function we(Re){ge("throw",Re)}function Be(Re,Ne){Re(Ne),Y.shift(),Y.length&&ge(Y[0][0],Y[0][1])}}o(I,"__asyncGenerator");function M(O){var P,k;return P={},K("next"),K("throw",function(Z){throw Z}),K("return"),P[Symbol.iterator]=function(){return this},P;function K(Z,Y){P[Z]=O[Z]?function(ie){return(k=!k)?{value:s(O[Z](ie)),done:Z==="return"}:Y?Y(ie):ie}:Y}}o(M,"__asyncDelegator");function R(O){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var P=O[Symbol.asyncIterator],k;return P?P.call(O):(O=typeof p=="function"?p(O):O[Symbol.iterator](),k={},K("next"),K("throw"),K("return"),k[Symbol.asyncIterator]=function(){return this},k);function K(Y){k[Y]=O[Y]&&function(ie){return new Promise(function(ge,Ie){ie=O[Y](ie),Z(ge,Ie,ie.done,ie.value)})}}function Z(Y,ie,ge,Ie){Promise.resolve(Ie).then(function(le){Y({value:le,done:ge})},ie)}}o(R,"__asyncValues");function B(O,P){return Object.defineProperty?Object.defineProperty(O,"raw",{value:P}):O.raw=P,O}o(B,"__makeTemplateObject");function j(O){if(O&&O.__esModule)return O;var P={};if(O!=null)for(var k in O)Object.hasOwnProperty.call(O,k)&&(P[k]=O[k]);return P.default=O,P}o(j,"__importStar");function A(O){return O&&O.__esModule?O:{default:O}}o(A,"__importDefault");function D(O,P){if(!P.has(O))throw new TypeError("attempted to get private field on non-instance");return P.get(O)}o(D,"__classPrivateFieldGet");function $(O,P,k){if(!P.has(O))throw new TypeError("attempted to set private field on non-instance");return P.set(O,k),k}o($,"__classPrivateFieldSet")},"7JpI":function(N,c,d){"use strict";Object.defineProperty(c,"__esModule",{value:!0});let S=o(class{},"ClientVideoStreamReceivingReport");c.default=S},"7TH8":function(N,c,d){"use strict";var S=this&&this.__awaiter||function(a,n,i,e){function t(r){return r instanceof i?r:new i(function(l){l(r)})}return o(t,"adopt"),new(i||(i=Promise))(function(r,l){function p(u){try{g(e.next(u))}catch(s){l(s)}}o(p,"fulfilled");function v(u){try{g(e.throw(u))}catch(s){l(s)}}o(v,"rejected");function g(u){u.done?r(u.value):t(u.value).then(p,v)}o(g,"step"),g((e=e.apply(a,n||[])).next())})};Object.defineProperty(c,"__esModule",{value:!0});const h=d("U9CR"),m=d("eFki");let f=o(class Qg{get outputMediaStream(){return this.pipe.outputMediaStream}passEventControllerToProcessors(n){if(this.pipe.processors)for(const i of this.pipe.processors)typeof i.setEventController=="function"&&i.setEventController(n)}chooseNewInnerDevice(n){const i=new Qg(this.logger,n,this.processors,this.browserBehavior);return i.pipe=this.pipe,i}getInnerDevice(){return this.device}intrinsicDevice(){return S(this,void 0,void 0,function*(){return this.device})}transformStream(n){return S(this,void 0,void 0,function*(){return yield this.pipe.setInputMediaStream(n),this.inputMediaStream=n,this.pipe.getActiveOutputMediaStream()})}onOutputStreamDisconnect(){this.logger.info("DefaultVideoTransformDevice: detach stopping input media stream");const n=this.device&&this.device.id;if(this.pipe.stop(),!n&&this.inputMediaStream)for(const i of this.inputMediaStream.getVideoTracks())i.stop()}stop(){return S(this,void 0,void 0,function*(){if(this.inputMediaStream)for(const n of this.inputMediaStream.getVideoTracks())n.stop();this.pipe.destroy(),this.inputMediaStream=null})}addObserver(n){this.observers.add(n)}removeObserver(n){this.observers.delete(n)}processingDidStart(){this.logger.info("video transform device processing started"),this.forEachObserver(n=>{n.processingDidStart&&n.processingDidStart()})}processingLatencyTooHigh(n){this.forEachObserver(i=>{i.processingLatencyTooHigh&&i.processingLatencyTooHigh(n)})}processingDidFailToStart(){this.logger.info("video transform device processing failed to start"),this.forEachObserver(n=>{n.processingDidFailToStart&&n.processingDidFailToStart()})}processingDidStop(){this.logger.info("video transform device processing stopped"),this.forEachObserver(n=>{n.processingDidStop&&n.processingDidStop()})}forEachObserver(n){for(const i of this.observers)setTimeout(()=>{n(i)},0)}constructor(n,i,e,t=new h.default){this.logger=n,this.device=i,this.processors=e,this.browserBehavior=t,this.observers=new Set,this.pipe=new m.default(this.logger,this.processors),this.pipe.addObserver(this)}},"DefaultVideoTransformDevice");c.default=f},"7UVU":function(N,c,d){"use strict";var S=this&&this.__awaiter||function(f,a,n,i){function e(t){return t instanceof n?t:new n(function(r){r(t)})}return o(e,"adopt"),new(n||(n=Promise))(function(t,r){function l(g){try{v(i.next(g))}catch(u){r(u)}}o(l,"fulfilled");function p(g){try{v(i.throw(g))}catch(u){r(u)}}o(p,"rejected");function v(g){g.done?t(g.value):e(g.value).then(l,p)}o(v,"step"),v((i=i.apply(f,a||[])).next())})};Object.defineProperty(c,"__esModule",{value:!0});const h=d("j+uH");let m=o(class extends h.default{removeObserver(){this.removeTrackAddedEventListener&&this.removeTrackAddedEventListener();for(const a in this.removeTrackRemovedEventListeners)this.removeTrackRemovedEventListeners[a]()}addPeerConnectionEventLogger(){const a=this.context.peer;a.addEventListener("connectionstatechange",()=>{this.context.logger.info(`peer connection state changed: ${a.connectionState}`)}),a.addEventListener("negotiationneeded",()=>{this.context.logger.info("peer connection negotiation is needed")}),a.addEventListener("icegatheringstatechange",()=>{this.context.logger.info(`peer connection ice gathering state changed: ${a.iceGatheringState}`)}),a.addEventListener("icecandidate",n=>{this.context.logger.info(`peer connection ice candidate: ${n.candidate?n.candidate.candidate:"(null)"}`)}),a.addEventListener("iceconnectionstatechange",()=>{this.context.logger.info(`peer connection ice connection state changed: ${a.iceConnectionState}`)})}run(){return S(this,void 0,void 0,function*(){this.context.removableObservers.push(this);const n=this.context.turnCredentials&&this.context.turnCredentials.uris.length>0?{iceServers:[{urls:this.context.turnCredentials.uris,username:this.context.turnCredentials.username,credential:this.context.turnCredentials.password,credentialType:"password"}],iceTransportPolicy:"relay"}:{};n.bundlePolicy=this.context.browserBehavior.requiresBundlePolicy(),n.sdpSemantics="unified-plan",this.context.peer?this.context.logger.info("reusing peer connection"):(this.context.logger.info("creating new peer connection"),this.context.peer=new RTCPeerConnection(n),this.addPeerConnectionEventLogger()),this.removeTrackAddedEventListener=()=>{this.context.peer&&this.context.peer.removeEventListener("track",this.trackAddedHandler),this.removeTrackAddedEventListener=null},this.context.peer.addEventListener("track",this.trackAddedHandler)})}trackIsVideoInput(a){return this.context.transceiverController.useTransceivers()?(this.logger.debug(()=>"getting video track type"),this.context.transceiverController.trackIsVideoInput(a)):!1}addRemoteVideoTrack(a,n){var i;const e=n.id,t=this.context.videoStreamIndex.attendeeIdForTrack(e);let r,l;if(this.context.videoTileController.getVideoTileForAttendeeId?(l=this.context.videoTileController.getVideoTileForAttendeeId(t),r=!!(!((i=l==null?void 0:l.state())===null||i===void 0)&&i.boundVideoStream)):r=this.context.videoTileController.haveVideoTileForAttendeeId(t),r){this.context.logger.info(`Not adding remote track. Already have tile for attendeeId:  ${t}`);return}l||(l=this.context.videoTileController.addVideoTile(),this.logger.info(`Created video tile ${l.id()}`));let p=this.context.videoStreamIndex.streamIdForTrack(e);typeof p>"u"&&(this.logger.warn(`stream not found for tile=${l.id()} track=${e}`),p=null);for(let R=0;R<this.trackEvents.length;R++){const B=this.trackEvents[R],j=n.getVideoTracks();if(j&&j.length){const A=j[0],D=o(()=>{this.context.logger.info(`received the ${B} event for tile=${l.id()} id=${a.id} streamId=${p}`),B==="ended"&&this.removeRemoteVideoTrack(a,l.state())},"callback");A.addEventListener(B,D),this.removeVideoTrackEventListeners[a.id]||(this.removeVideoTrackEventListeners[a.id]=[]),this.removeVideoTrackEventListeners[a.id].push(()=>{A.removeEventListener(B,D)})}}let v,g;if(a.getSettings){const R=a.getSettings();v=R.width,g=R.height}else{const R=a.getCapabilities();v=R.width,g=R.height}const u=this.context.videoStreamIndex.externalUserIdForTrack(e);l.bindVideoStream(t,!1,n,v,g,p,u),this.logger.info(`video track added, use tile=${l.id()} track=${e} streamId=${p}`);const s="removetrack",I=n,M=o(()=>this.removeRemoteVideoTrack(a,l.state()),"trackRemovedHandler");this.removeTrackRemovedEventListeners[a.id]=()=>{I.removeEventListener(s,M),delete this.removeTrackRemovedEventListeners[a.id]},I.addEventListener(s,M)}removeRemoteVideoTrack(a,n){if(this.removeTrackRemovedEventListeners.hasOwnProperty(a.id)){this.removeTrackRemovedEventListeners[a.id]();for(const i of this.removeVideoTrackEventListeners[a.id])i();delete this.removeVideoTrackEventListeners[a.id]}this.logger.info(`video track ended, removing tile=${n.tileId} id=${a.id} stream=${n.streamId}`),n.streamId?this.context.videosPaused.remove(n.streamId):this.logger.warn(`no stream found for tile=${n.tileId}`),this.context.videoTileController.removeVideoTile(n.tileId)}constructor(a){super(a.logger),this.context=a,this.taskName="CreatePeerConnectionTask",this.removeTrackAddedEventListener=null,this.removeTrackRemovedEventListeners={},this.trackEvents=["ended","mute","unmute","isolationchange","overconstrained"],this.removeVideoTrackEventListeners={},this.trackAddedHandler=n=>{const i=n.track;if(this.context.logger.info(`received track event: kind=${i.kind} id=${i.id} label=${i.label}`),n.transceiver&&n.transceiver.currentDirection==="inactive")return;if(n.streams.length===0){this.context.logger.warn("Track event but no stream");return}const e=n.streams[0];i.kind==="audio"?this.context.audioMixController.bindAudioStream(e):i.kind==="video"&&!this.trackIsVideoInput(i)&&this.addRemoteVideoTrack(i,e)}}},"CreatePeerConnectionTask");c.default=m,m.REMOVE_HANDLER_INTERVAL_MS=1e4},"7W6Z":function(N,c,d){"use strict";var S=this&&this.__awaiter||function(n,i,e,t){function r(l){return l instanceof e?l:new e(function(p){p(l)})}return o(r,"adopt"),new(e||(e=Promise))(function(l,p){function v(s){try{u(t.next(s))}catch(I){p(I)}}o(v,"fulfilled");function g(s){try{u(t.throw(s))}catch(I){p(I)}}o(g,"rejected");function u(s){s.done?l(s.value):r(s.value).then(v,g)}o(u,"step"),u((t=t.apply(n,i||[])).next())})};Object.defineProperty(c,"__esModule",{value:!0});const h=d("lUhs"),m=d("AUdx"),f=d("aVV0");let a=o(class extends f.default{cancel(){if(this.cancelPromise){const i=new Error(`canceling ${this.name()}`);this.cancelPromise(i),delete this.cancelPromise}}sessionUsesAudio(){var i,e;return!!(!((e=(i=this.context.meetingSessionConfiguration)===null||i===void 0?void 0:i.urls)===null||e===void 0)&&e.audioHostURL)}sessionUsesVideo(){let e;this.context.transceiverController.useTransceivers()?e=this.context.transceiverController.hasVideoInput():e=this.context.videoTileController.hasStartedLocalVideoTile();const t=!!this.context.videosToReceive&&!this.context.videosToReceive.empty(),r=e||t;return this.context.logger.info(`uses video: ${r} (enabled: ${!0}, sending: ${e}, receiving: ${t})`),r}run(){return S(this,void 0,void 0,function*(){const i={offerToReceiveAudio:this.sessionUsesAudio(),offerToReceiveVideo:this.sessionUsesVideo()};this.logger.info(`peer connection offerOptions: ${JSON.stringify(i)}`),yield new Promise((e,t)=>S(this,void 0,void 0,function*(){this.cancelPromise=r=>{t(r)};try{if(this.context.sdpOfferInit=yield this.context.peer.createOffer(i),this.context.logger.info("peer connection created offer"),this.context.previousSdpOffer&&new m.default(this.context.sdpOfferInit.sdp).videoSendSectionHasDifferentSSRC(this.context.previousSdpOffer)){const r=new Error(`canceling ${this.name()} due to the meeting status code: ${h.default.IncompatibleSDP}`);this.context.previousSdpOffer=null,t(r);return}e()}catch(r){t(r)}finally{delete this.cancelPromise}}))})}constructor(i){super(i.logger),this.context=i,this.taskName="CreateSDPTask"}},"CreateSDPTask");c.default=a},"7nob":function(N,c,d){"use strict";Object.defineProperty(c,"__esModule",{value:!0});let S=o(class{},"Transcript");c.default=S},"7p5e":function(N,c,d){"use strict";Object.defineProperty(c,"__esModule",{value:!0});let S=o(class{},"VideoSource");c.default=S},"7whZ":function(N,c){var d=N.exports=typeof window<"u"&&window.Math==Math?window:typeof self<"u"&&self.Math==Math?self:Function("return this")();typeof __g=="number"&&(__g=d)},"83pg":function(N,c,d){"use strict";Object.defineProperty(c,"__esModule",{value:!0});const S=d("Mr6q");let h=o(class extends S.default{},"BackgroundReplacementVideoFrameProcessorDelegate");c.default=h},"87Nr":function(N,c,d){"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.SessionStateControllerTransitionResult=void 0;var S;(function(h){h[h.Transitioned=0]="Transitioned",h[h.NoTransitionAvailable=1]="NoTransitionAvailable",h[h.DeferredTransition=2]="DeferredTransition",h[h.TransitionFailed=3]="TransitionFailed"})(S=c.SessionStateControllerTransitionResult||(c.SessionStateControllerTransitionResult={})),c.default=S},"8Bz5":function(N,c,d){"use strict";Object.defineProperty(c,"__esModule",{value:!0});let S=o(class{addObserver(m){this.observers.add(m)}removeObserver(m){this.observers.delete(m)}onFallback(m,f){var a;for(const n of this.observers)(a=n.voiceFocusFellBackToInnerStream)===null||a===void 0||a.call(n,m,f)}onCPUWarning(){var m;for(const f of this.observers)(m=f.voiceFocusInsufficientResources)===null||m===void 0||m.call(f)}constructor(){this.observers=new Set}},"VoiceFocusTransformDeviceDelegate");c.default=S},"8FET":function(N,c,d){"use strict";Object.defineProperty(c,"__esModule",{value:!0});let S=o(class{constructor(m=5e3,f=2,a=64,n=100,i=15){this.flushIntervalMs=m,this.flushSize=f,this.maxBufferCapacityKb=a,this.totalBufferItems=n,this.retryCountLimit=i}},"EventBufferConfiguration");c.default=S},"8V8Y":function(N,c,d){"use strict";Object.defineProperty(c,"__esModule",{value:!0});const S=.8;let h=o(class{reportEvent(f){const a=f-this.lastReportedEventTimestamp;if(a>=this.reportingPeriodMillis){const n=this.filterCount,i=this.filterTotalMillis;if(this.filterCount=0,this.filterTotalMillis=0,this.lastReportedEventTimestamp=f,this.framerate===0||n===0)return;const e=Math.round(i/n),t=Math.round(this.framerate*(a/1e3))-n,r=Math.round(100*i/a);e>=this.filterDurationNotifyMillis&&this.delegate.filterFrameDurationHigh({framesDropped:t,avgFilterDurationMillis:e,framerate:this.framerate,periodMillis:a}),r>=this.filterCPUUtilization&&this.delegate.filterCPUUtilizationHigh({cpuUtilization:r,filterMillis:i,periodMillis:a})}}setSegmentationDuration(){this.filterDurationNotifyMillis=Math.round(1e3/this.framerate*S)}frameReceived(f){f!==this.framerate&&(this.framerate=f,this.logger.info(`frame counter setting frame rate to ${this.framerate}`),this.setSegmentationDuration());const a=Date.now();this.reportEvent(a)}filterSubmitted(){this._processingFilter=!0,this.lastFilterCompleteTimestamp=Date.now()}filterComplete(){this.filterTotalMillis+=Date.now()-this.lastFilterCompleteTimestamp,this._processingFilter=!1,this.filterCount++}get processingSegment(){return this._processingFilter}constructor(f,a,n,i){this.delegate=f,this.reportingPeriodMillis=a,this.filterCPUUtilization=n,this.logger=i,this._processingFilter=!0,this.lastReportedEventTimestamp=0,this.lastFilterCompleteTimestamp=0,this.filterTotalMillis=0,this.filterCount=0,this.framerate=0,this.filterDurationNotifyMillis=0,this.setSegmentationDuration()}},"BackgroundFilterFrameCounter");c.default=h},"8dVZ":function(N,c,d){"use strict";Object.defineProperty(c,"__esModule",{value:!0});const S=d("KyYT");let h=o(class{start(){this.isActive=!0,this.pingPong.addObserver(this),this.pingPong.start(),this.audioVideoController.addObserver(this)}stop(){this.isActive=!1,this.pingPong.removeObserver(this),this.pingPong.stop(),this.audioVideoController.removeObserver(this)}receiveSignalStrengthChange(f){f===0?this.connectionHealthData.setLastNoSignalTimestampMs(Date.now()):f<=.5?this.connectionHealthData.setLastWeakSignalTimestampMs(Date.now()):this.connectionHealthData.setLastGoodSignalTimestampMs(Date.now()),this.updateConnectionHealth()}didReceivePong(f,a,n){this.connectionHealthData.setConsecutiveMissedPongs(0),this.statsCollector.logLatency("ping_pong",a),this.statsCollector.logLatency("ping_pong_clock_skew",n),this.updateConnectionHealth()}didMissPongs(){this.connectionHealthData.setConsecutiveMissedPongs(this.connectionHealthData.consecutiveMissedPongs+1),this.updateConnectionHealth()}metricsDidReceive(f){let a=0,n=0;const i=f.getObservableMetrics(),e=i.audioPacketsReceived,t=i.audioPacketsReceivedFractionLoss,r=i.audioSpeakerDelayMs;if(typeof r=="number"&&!isNaN(r)&&this.connectionHealthData.setAudioSpeakerDelayMs(r),typeof e=="number"&&typeof t=="number"){if(a=e,n=t,a<0||n<0)return}else return;this.addToMinuteWindow(this.connectionHealthData.packetsReceivedInLastMinute,a),this.addToMinuteWindow(this.connectionHealthData.fractionPacketsLostInboundInLastMinute,n),a>0?(this.hasSeenValidPacketMetricsBefore=!0,this.connectionHealthData.setConsecutiveStatsWithNoPackets(0)):this.hasSeenValidPacketMetricsBefore&&this.connectionHealthData.setConsecutiveStatsWithNoPackets(this.connectionHealthData.consecutiveStatsWithNoPackets+1),(a===0||n>0)&&this.connectionHealthData.setLastPacketLossInboundTimestampMs(Date.now()),typeof i.audioPacketsSent=="number"&&this.updateAudioPacketsSentInConnectionHealth(i.audioPacketsSent),this.updateConnectionHealth()}updateAudioPacketsSentInConnectionHealth(f){f>0?this.connectionHealthData.setConsecutiveStatsWithNoAudioPacketsSent(0):this.connectionHealthData.setConsecutiveStatsWithNoAudioPacketsSent(this.connectionHealthData.consecutiveStatsWithNoAudioPacketsSent+1)}addToMinuteWindow(f,a){f.unshift(a),f.length>60&&f.pop()}updateConnectionHealth(){this.audioVideoController.forEachObserver(f=>{S.Maybe.of(f.connectionHealthDidChange).map(a=>a.bind(f)(this.connectionHealthData.clone()))})}constructor(f,a,n,i,e){this.audioVideoController=f,this.realtimeController=a,this.connectionHealthData=n,this.pingPong=i,this.statsCollector=e,this.isActive=!1,this.hasSeenValidPacketMetricsBefore=!1,this.realtimeController.realtimeSubscribeToLocalSignalStrengthChange(t=>{this.isActive&&this.receiveSignalStrengthChange(t)})}},"SignalingAndMetricsConnectionMonitor");c.default=h},"8pZh":function(N,c,d){"use strict";var S=d("MkRQ"),h=d("LV2V"),m=d("4k7n"),f=d("AQwl"),a=d("qAkX"),n=Object(h.a)(function(i){var e=Object(a.a)(i);return e=typeof e=="function"?e:void 0,Object(m.a)(Object(S.a)(i,f.a),void 0,e)});c.a=n},"8sL3":function(N,c,d){"use strict";var S=d("FgkJ");function h(m){var f,a;this.promise=new m(function(n,i){if(f!==void 0||a!==void 0)throw TypeError("Bad Promise constructor");f=n,a=i}),this.resolve=S(f),this.reject=S(a)}o(h,"PromiseCapability"),N.exports.f=function(m){return new h(m)}},"8tla":function(N,c,d){"use strict";var S=this&&this.__awaiter||function(a,n,i,e){function t(r){return r instanceof i?r:new i(function(l){l(r)})}return o(t,"adopt"),new(i||(i=Promise))(function(r,l){function p(u){try{g(e.next(u))}catch(s){l(s)}}o(p,"fulfilled");function v(u){try{g(e.throw(u))}catch(s){l(s)}}o(v,"rejected");function g(u){u.done?r(u.value):t(u.value).then(p,v)}o(g,"step"),g((e=e.apply(a,n||[])).next())})};Object.defineProperty(c,"__esModule",{value:!0});const h=d("aVV0"),m=d("Sl5A");let f=o(class extends h.default{cancel(){this.currentTask&&(this.logger.info(`canceling serial group task ${this.name()} subtask ${this.currentTask.name()}`),this.currentTask.cancel())}run(){return S(this,void 0,void 0,function*(){for(const n of this.tasksToRunSerially){this.getStatus()===m.default.CANCELED&&this.logAndThrow(`serial group task ${this.name()} was canceled`);try{this.logger.info(`serial group task ${this.name()} running subtask ${n.name()}`),this.currentTask=n,yield n.run(),this.logger.info(`serial group task ${this.name()} completed subtask ${n.name()}`)}catch(i){this.logAndThrow(`serial group task ${this.name()} was canceled due to subtask ${this.currentTask.name()} error: ${i.message}`)}finally{this.currentTask=null}}this.logger.info(`serial group task ${this.name()} completed`)})}constructor(n,i,e){super(n),this.taskName=i,this.tasksToRunSerially=e,this.currentTask=null;for(const t of e)t.setParent(this)}},"SerialGroupTask");c.default=f},"8wPz":function(N,c,d){"use strict";Object.defineProperty(c,"__esModule",{value:!0});let S=o(class{start(m){this.stop(),this.timer=setInterval(m,this.intervalMs)}stop(){this.timer!==void 0&&(clearInterval(this.timer),this.timer=void 0)}running(){return this.timer!==void 0}constructor(m){this.intervalMs=m}},"IntervalScheduler");c.default=S},"91j7":function(N,c,d){"use strict";Object.defineProperty(c,"__esModule",{value:!0});let S=o(class{constructor(m,f,a,n){this.sequenceNumber=m,this.message=f,this.timestampMs=a,this.logLevel=n}},"Log");c.default=S},"92Bn":function(N,c,d){"use strict";N.exports=m;var S=d("hl97");(m.prototype=Object.create(S.prototype)).constructor=m;var h=d("kU+7");function m(){S.call(this)}o(m,"BufferWriter"),m._configure=function(){m.alloc=h._Buffer_allocUnsafe,m.writeBytesBuffer=h.Buffer&&h.Buffer.prototype instanceof Uint8Array&&h.Buffer.prototype.set.name==="set"?o(function(n,i,e){i.set(n,e)},"writeBytesBuffer_set"):o(function(n,i,e){if(n.copy)n.copy(i,e,0,n.length);else for(var t=0;t<n.length;)i[e++]=n[t++]},"writeBytesBuffer_copy")},m.prototype.bytes=o(function(n){h.isString(n)&&(n=h._Buffer_from(n,"base64"));var i=n.length>>>0;return this.uint32(i),i&&this._push(m.writeBytesBuffer,i,n),this},"write_bytes_buffer");function f(a,n,i){a.length<40?h.utf8.write(a,n,i):n.utf8Write?n.utf8Write(a,i):n.write(a,i)}o(f,"writeStringBuffer"),m.prototype.string=o(function(n){var i=h.Buffer.byteLength(n);return this.uint32(i),i&&this._push(f,i,n),this},"write_string_buffer"),m._configure()},"94P3":function(N,c,d){"use strict";Object.defineProperty(c,"__esModule",{value:!0});const S=d("U++r"),h=d("VCUZ"),m=d("/N6y"),f=d("GZjp");let a=o(class{constructor(i,e){this.meetingId=null,this.externalMeetingId=null,this.credentials=null,this.urls=null,this.connectionTimeoutMs=15e3,this.attendeePresenceTimeoutMs=0,this.connectionHealthPolicyConfiguration=new S.default,this.reconnectTimeoutMs=120*1e3,this.reconnectFixedWaitMs=0,this.reconnectShortBackOffMs=1*1e3,this.reconnectLongBackOffMs=5*1e3,this.enableSimulcastForUnifiedPlanChromiumBasedBrowsers=!1,this.videoDownlinkBandwidthPolicy=null,this.videoUplinkBandwidthPolicy=null,this.keepLastFrameWhenPaused=!1,this.disablePeriodicKeyframeRequestOnContentSender=!1,i&&(i=h.toLowerCasePropertyNames(i),i.meeting&&(i=i.meeting),this.meetingId=i.meetingid,this.externalMeetingId=i.externalmeetingid,this.urls=new f.default,this.urls.audioHostURL=i.mediaplacement.audiohosturl,this.urls.signalingURL=i.mediaplacement.signalingurl,this.urls.turnControlURL=i.mediaplacement.turncontrolurl,i.mediaplacement.eventingestionurl&&(this.urls.eventIngestionURL=i.mediaplacement.eventingestionurl)),e&&(e=h.toLowerCasePropertyNames(e),e.attendee&&(e=e.attendee),this.credentials=new m.default,this.credentials.attendeeId=e.attendeeid,this.credentials.externalUserId=e.externaluserid,this.credentials.joinToken=e.jointoken)}},"MeetingSessionConfiguration");c.default=a},"9AGb":function(N,c,d){"use strict";var S=this&&this.__awaiter||function(a,n,i,e){function t(r){return r instanceof i?r:new i(function(l){l(r)})}return o(t,"adopt"),new(i||(i=Promise))(function(r,l){function p(u){try{g(e.next(u))}catch(s){l(s)}}o(p,"fulfilled");function v(u){try{g(e.throw(u))}catch(s){l(s)}}o(v,"rejected");function g(u){u.done?r(u.value):t(u.value).then(p,v)}o(g,"step"),g((e=e.apply(a,n||[])).next())})};Object.defineProperty(c,"__esModule",{value:!0});const h=d("KvYa"),m=d("nJ1/");let f=o(class extends m.VoiceFocusAudioWorkletNode{enable(){return S(this,void 0,void 0,function*(){this.worker.postMessage({message:"enable"})})}disable(){return S(this,void 0,void 0,function*(){this.worker.postMessage({message:"disable"})})}stop(){return S(this,void 0,void 0,function*(){try{this.worker.postMessage({message:"stop"})}catch{}this.disconnect()})}onWorkerMessage(n){var i;const e=n.data;switch(e.message){case"ready":this.port.postMessage({message:"ready",shared:e.shared},e.shared?Object.values(e.shared):[]);break;case"data":if(!e.buffer)return;this.port.postMessage({message:"data",buffer:e.buffer},[e.buffer]);break;case"stopped":this.worker.terminate();break;case"module-buffer":case"module":this.port.postMessage(e);break;case"cpu":(i=this.delegate)===null||i===void 0||i.onCPUWarning();break;case"processing":this.port.postMessage(e);break;default:return}}onProcessorMessage(n){var i;const e=n.data;switch(e.message){case"data":if(!e.buffer)return;this.worker.postMessage({message:"data",buffer:e.buffer},[e.buffer]);break;case"cpu":(i=this.delegate)===null||i===void 0||i.onCPUWarning();break;case"prepare-for-frames":this.worker.postMessage(e);break;default:return}}constructor(n,i){super(n,i.processor,i),this.channelCountMode="explicit",this.channelCount=1;const{modelURL:e,audioBufferURL:t,worker:r,fetchBehavior:l,delegate:p}=i;this.delegate=p,this.worker=r,this.worker.onmessage=this.onWorkerMessage.bind(this),this.port.onmessage=this.onProcessorMessage.bind(this);const{enabled:v,agc:g,supportFarendStream:u}=i.processorOptions;this.worker.postMessage({message:"init",approach:"postMessage",frames:n.sampleRate===16e3?160:480,enabled:v,agc:g,fetchBehavior:l,model:e,supportFarendStream:u});const s=h.supportsWASMPostMessage(globalThis)?"get-module":"get-module-buffer";this.worker.postMessage({message:s,key:"buffer",fetchBehavior:l,path:t})}},"VoiceFocusWorkerPostMessageNode");c.default=f},"9BEE":function(N,c,d){"use strict";Object.defineProperty(c,"__esModule",{value:!0});let S=o(class qg{static create(m,f){const a=/^[a-zA-Z0-9]+[a-zA-Z0-9_-]*[a-zA-Z0-9]+$/g;if(!m||m.length>32)throw new Error("appName should be a valid string and 1 to 32 characters in length");if(!a.test(m))throw new Error(`appName must satisfy ${a} regular expression`);const n=/^(0|[1-9]\d*)\.(0|[1-9]\d*)\.(0|[1-9]\d*)(?:-((?:0|[1-9]\d*|\d*[a-zA-Z-][0-9a-zA-Z-]*)(?:\.(?:0|[1-9]\d*|\d*[a-zA-Z-][0-9a-zA-Z-]*))*))?(?:\+([0-9a-zA-Z-]+(?:\.[0-9a-zA-Z-]+)*))?$/gm;if(!f||f.length>32)throw new Error("appVersion should be a valid string and 1 to 32 characters in length");if(!n.test(f))throw new Error("appVersion must satisfy Semantic Versioning format");return new qg(m,f)}constructor(m,f){this.appName=m,this.appVersion=f}},"ApplicationMetadata");c.default=S},"9Bli":function(N,c,d){"use strict";Object.defineProperty(c,"__esModule",{value:!0});let S=o(class{constructor(){this.localAttendeeId=null,this.localExternalUserId=null,this.attendeeIdChangesCallbacks=[],this.canUnmute=!0,this.setCanUnmuteLocalAudioCallbacks=[],this.muted=!1,this.muteAndUnmuteLocalAudioCallbacks=[],this.volumeIndicatorState={},this.attendeeIdToExternalUserId={},this.volumeIndicatorCallbacks={},this.localSignalStrengthChangeCallbacks=[],this.fatalErrorCallbacks=[],this.sendDataMessageCallbacks=[],this.receiveDataMessageCallbacks=new Map}},"RealtimeState");c.default=S},"9ETa":function(N,c,d){"use strict";Object.defineProperty(c,"__esModule",{value:!0});const S=d("JHsX"),h=d("hWev"),m=d("I0Bj"),f=d("87Nr");let a=o(class{perform(i,e){const t=this.currentState;if(t===m.SessionStateControllerState.NotConnected&&i===S.SessionStateControllerAction.Connect)this.transition(m.SessionStateControllerState.Connecting,i);else if(t===m.SessionStateControllerState.Connecting&&i===S.SessionStateControllerAction.Fail)this.transition(m.SessionStateControllerState.Disconnecting,i);else if(t===m.SessionStateControllerState.Connecting&&i===S.SessionStateControllerAction.FinishConnecting)this.transition(m.SessionStateControllerState.Connected,i);else if(t===m.SessionStateControllerState.Connected&&i===S.SessionStateControllerAction.Disconnect)this.transition(m.SessionStateControllerState.Disconnecting,i);else if(t===m.SessionStateControllerState.Connected&&i===S.SessionStateControllerAction.Reconnect)this.transition(m.SessionStateControllerState.Connecting,i);else if(t===m.SessionStateControllerState.Connected&&i===S.SessionStateControllerAction.Fail)this.transition(m.SessionStateControllerState.Disconnecting,i);else if(t===m.SessionStateControllerState.Connected&&i===S.SessionStateControllerAction.Update)this.transition(m.SessionStateControllerState.Updating,i);else if(t===m.SessionStateControllerState.Updating&&i===S.SessionStateControllerAction.Fail)this.transition(m.SessionStateControllerState.Disconnecting,i);else if(t===m.SessionStateControllerState.Updating&&i===S.SessionStateControllerAction.FinishUpdating)this.transition(m.SessionStateControllerState.Connected,i);else if(t===m.SessionStateControllerState.Disconnecting&&i===S.SessionStateControllerAction.FinishDisconnecting)this.transition(m.SessionStateControllerState.NotConnected,i);else return this.canDefer(i)?(this.logger.info(`deferring transition from ${m.SessionStateControllerState[this.currentState]} with ${S.SessionStateControllerAction[i]}`),this.deferAction(i,e),f.SessionStateControllerTransitionResult.DeferredTransition):(this.logger.warn(`no transition found from ${m.SessionStateControllerState[this.currentState]} with ${S.SessionStateControllerAction[i]}`),f.SessionStateControllerTransitionResult.NoTransitionAvailable);try{e()}catch(r){return this.logger.error(`error during state ${m.SessionStateControllerState[this.currentState]} with action ${S.SessionStateControllerAction[i]}: ${r}`),this.logger.info(`rolling back transition to ${m.SessionStateControllerState[t]}`),this.currentState=t,f.SessionStateControllerTransitionResult.TransitionFailed}return this.performDeferredAction(),f.SessionStateControllerTransitionResult.Transitioned}state(){return this.currentState}transition(i,e){this.logger.info(`transitioning from ${m.SessionStateControllerState[this.currentState]} to ${m.SessionStateControllerState[i]} with ${S.SessionStateControllerAction[e]}`),this.currentState=i}deferPriority(i){switch(i){case S.SessionStateControllerAction.Disconnect:return h.SessionStateControllerDeferPriority.VeryHigh;case S.SessionStateControllerAction.Fail:return h.SessionStateControllerDeferPriority.High;case S.SessionStateControllerAction.Reconnect:return h.SessionStateControllerDeferPriority.Medium;case S.SessionStateControllerAction.Update:return h.SessionStateControllerDeferPriority.Low;default:return h.SessionStateControllerDeferPriority.DoNotDefer}}deferAction(i,e){this.deferredAction!==null&&this.deferPriority(this.deferredAction)>this.deferPriority(i)||(this.deferredAction=i,this.deferredWork=e)}canDefer(i){return this.deferPriority(i)!==h.SessionStateControllerDeferPriority.DoNotDefer&&(this.currentState===m.SessionStateControllerState.Connecting||this.currentState===m.SessionStateControllerState.Updating)}performDeferredAction(){if(!this.deferredAction)return;const i=this.deferredAction,e=this.deferredWork;this.deferredAction=null,this.deferredWork=null,this.logger.info(`performing deferred action ${S.SessionStateControllerAction[i]}`),this.perform(i,e)!==f.SessionStateControllerTransitionResult.Transitioned&&this.logger.info(`unable to perform deferred action ${S.SessionStateControllerAction[i]} in state ${m.SessionStateControllerState[this.currentState]}`)}constructor(i){this.logger=i,this.currentState=m.SessionStateControllerState.NotConnected,this.deferredAction=null,this.deferredWork=null}},"DefaultSessionStateController");c.default=a},"9IN5":function(N,c,d){"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.MAX_HASHABLE_LENGTH=c.INIT=c.KEY=c.DIGEST_LENGTH=c.BLOCK_SIZE=void 0,c.BLOCK_SIZE=64,c.DIGEST_LENGTH=32,c.KEY=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),c.INIT=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],c.MAX_HASHABLE_LENGTH=Math.pow(2,53)-1},"9IcX":function(N,c,d){"use strict";function S(h,m){return h.replace(new RegExp("(^|\\s)"+m+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}o(S,"replaceClassName"),N.exports=o(function(m,f){m.classList?m.classList.remove(f):typeof m.className=="string"?m.className=S(m.className,f):m.setAttribute("class",S(m.className&&m.className.baseVal||"",f))},"removeClass")},"9bRS":function(N,c,d){"use strict";Object.defineProperty(c,"__esModule",{value:!0});let S=o(class{create(){const m={clientWidth:400,clientHeight:300,width:400,height:300,videoWidth:400,videoHeight:300,style:{transform:""},hasAttribute:()=>!1,removeAttribute:()=>{},setAttribute:()=>{},srcObject:!1,paused:!0,pause:()=>{m.paused=!0},play:()=>(m.paused=!1,Promise.resolve())};return m}},"NoOpVideoElementFactory");c.default=S},"9mJw":function(N,c,d){"use strict";var S=d("wpDl"),h=Object(S.a)("round");c.a=h},"9oOt":function(N,c,d){"use strict";var S=this&&this.__awaiter||function(a,n,i,e){function t(r){return r instanceof i?r:new i(function(l){l(r)})}return o(t,"adopt"),new(i||(i=Promise))(function(r,l){function p(u){try{g(e.next(u))}catch(s){l(s)}}o(p,"fulfilled");function v(u){try{g(e.throw(u))}catch(s){l(s)}}o(v,"rejected");function g(u){u.done?r(u.value):t(u.value).then(p,v)}o(g,"step"),g((e=e.apply(a,n||[])).next())})};Object.defineProperty(c,"__esModule",{value:!0}),c.NoOpDeviceControllerWithEventController=void 0;const h=d("3niY");let m=o(class extends h.default{destroy(){return S(this,void 0,void 0,function*(){this.destroyed=!0})}listAudioInputDevices(){return Promise.resolve([])}listVideoInputDevices(){return Promise.resolve([])}listAudioOutputDevices(){return Promise.resolve([])}startAudioInput(n){return Promise.reject()}stopAudioInput(){return Promise.resolve()}startVideoInput(n){return Promise.reject()}stopVideoInput(){return Promise.resolve()}chooseAudioOutput(n){return Promise.reject()}addDeviceChangeObserver(n){}removeDeviceChangeObserver(n){}createAnalyserNodeForAudioInput(){return null}startVideoPreviewForVideoInput(n){}stopVideoPreviewForVideoInput(n){}setDeviceLabelTrigger(n){}mixIntoAudioInput(n){return null}chooseVideoInputQuality(n,i,e){}getVideoInputQualitySettings(){return null}constructor(n){super(),this.destroyed=!1}},"NoOpDeviceController");c.default=m;let f=o(class extends m{constructor(n){super(),this.eventController=n}},"NoOpDeviceControllerWithEventController");c.NoOpDeviceControllerWithEventController=f},A4hc:function(N,c,d){"use strict";N.exports=d("PhnE")},A9a0:function(N,c,d){var S=d("nA4W"),h=d("bKEA"),m=d("Oa1h")(!1),f=d("WpRT")("IE_PROTO");N.exports=function(a,n){var i=h(a),e=0,t=[],r;for(r in i)r!=f&&S(i,r)&&t.push(r);for(;n.length>e;)S(i,r=n[e++])&&(~m(t,r)||t.push(r));return t}},AI3F:function(N,c,d){"use strict";(function(S){Object.defineProperty(c,"__esModule",{value:!0}),c.convertToBuffer=void 0;var h=d("f/KM"),m=typeof S<"u"&&S.from?function(a){return S.from(a,"utf8")}:h.fromUtf8;function f(a){return a instanceof Uint8Array?a:typeof a=="string"?m(a):ArrayBuffer.isView(a)?new Uint8Array(a.buffer,a.byteOffset,a.byteLength/Uint8Array.BYTES_PER_ELEMENT):new Uint8Array(a)}o(f,"convertToBuffer"),c.convertToBuffer=f}).call(this,d("HDXh").Buffer)},AM8c:function(N,c,d){"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.default={hash:"bd71fb9",raw:"v3.14.1",semverString:"3.14.1"}},AUdx:function(N,c,d){"use strict";Object.defineProperty(c,"__esModule",{value:!0});const S=d("0YRd"),h=d("Iwfh"),m=d("CLOt");let f=o(class yn{clone(){return new yn(this.sdp)}static isRTPCandidate(n){const i=/candidate[:](\S+) (\d+)/g.exec(n);return!(i===null||i[2]!=="1")}static linesToSDP(n){return new yn(n.join(yn.CRLF))}static candidateTypeFromString(n){switch(n){case S.default.Host:return S.default.Host;case S.default.ServerReflexive:return S.default.ServerReflexive;case S.default.PeerReflexive:return S.default.PeerReflexive;case S.default.Relay:return S.default.Relay}return null}static candidateType(n){const i=/a[=]candidate[:].* typ ([a-z]+) /g.exec(n);return i===null?null:yn.candidateTypeFromString(i[1])}static mediaType(n){const i=/m=(audio|video)/g.exec(n);if(i!==null)return i[1]}static mid(n){if(n.includes("a=mid:"))return n.replace(/^(a=mid:)/,"")}static direction(n){const i=/a=(sendrecv|sendonly|recvonly|inactive)/g.exec(n);if(i!==null)return i[1]}static splitLines(n){return n.trim().split(`
`).map(i=>i.trim())}static splitSections(n){return n.split(`
m=`).map((e,t)=>(t>0?"m="+e:e).trim()+yn.CRLF)}static findActiveCameraSection(n){let i=0,e=!1;for(const t of n){if(/^m=video/.test(t)&&(t.indexOf("sendrecv")>-1||t.indexOf("sendonly")===-1&&t.indexOf("recvonly")===-1&&t.indexOf("inactive")===-1)){e=!0;break}i++}return e===!1&&(i=-1),i}static extractSSRCsFromFIDGroupLine(n){return/^a=ssrc-group:FID\s(.+)/.exec(n)[1]}static matchPrefix(n,i){return yn.splitLines(n).filter(e=>e.indexOf(i)===0)}lines(){return this.sdp.split(yn.CRLF)}hasVideo(){return/^m=video/gm.exec(this.sdp)!==null}hasCandidates(){return/a[=]candidate[:]/g.exec(this.sdp)!==null}hasCandidatesForAllMLines(){return!(this.sdp.indexOf("c=IN IP4 0.0.0.0")>-1)}withoutCandidateType(n){return yn.linesToSDP(this.lines().filter(i=>yn.candidateType(i)!==n))}withoutServerReflexiveCandidates(){return this.withoutCandidateType(S.default.ServerReflexive)}withAudioMaxAverageBitrate(n){if(!n)return this.clone();n=Math.trunc(Math.min(Math.max(n,yn.rfc7587LowestBitrate),yn.rfc7587HighestBitrate));const i=this.lines(),e=yn.findOpusFmtpAttributes(i),t=yn.updateOpusFmtpAttributes(i,e,[`maxaveragebitrate=${n}`]);return yn.linesToSDP(t)}withStereoAudio(){const n=this.lines(),i=yn.findOpusFmtpAttributes(n),e=yn.updateOpusFmtpAttributes(n,i,["stereo=1","sprop-stereo=1"]);return yn.linesToSDP(e)}static findOpusFmtpAttributes(n){const i=/^a=rtpmap:\s*(\d+)\s+opus\/48000/;let e=!1;const t=[];for(const r of n)if(r.startsWith("m=audio")&&(t.push(null),e=!0),r.startsWith("m=video")&&(e=!1),e){const l=i.exec(r);l!==null&&(t[t.length-1]=`a=fmtp:${l[1]} `)}return t}static updateOpusFmtpAttributes(n,i,e){const t=[];let r=0,l=null;for(const p of n)if(p.startsWith("m=audio")&&(l=i[r],r++),p.startsWith("m=video")&&(l=null),l&&p.startsWith(l)){const v=p.slice(l.length).split(";"),g=[];for(const u of v)e.findIndex(I=>I.startsWith(u.split("=")[0]))<0&&g.push(u);for(const u of e)g.push(u);t.push(l+g.join(";"))}else t.push(p);return t}withUnifiedPlanFormat(){let n=this.sdp;return n.includes("mozilla")?this.clone():(n=n.replace("o=-","o=mozilla-chrome"),new yn(n))}getUniqueRtpHeaderExtensionId(n){const i=[];for(const t of n)if(/^a=extmap:/.test(t.trim())){const l=+t.split("a=extmap:")[1].split(" ")[0];i.includes(l)||i.push(l)}i.sort((t,r)=>t-r);let e=0;for(const t of i){if(t-e>1)return e+1;e=t}return e===14?-1:e+1}withVideoLayersAllocationRtpHeaderExtension(n){const i="http://www.webrtc.org/experiments/rtp-hdrext/video-layers-allocation00",e=n?n.getRtpHeaderExtensionId(i):-1,t=e===-1?this.getUniqueRtpHeaderExtensionId(yn.splitLines(this.sdp)):e,r=yn.splitSections(this.sdp),l=[];for(let v of r){if(/^m=video/.test(v)&&yn.getRtpHeaderExtensionIdInSection(v,i)===-1){const g=yn.splitLines(v),u=[];if(t===-1||this.hasRtpHeaderExtensionId(t)){l.push(v);continue}for(const s of g)if(u.push(s),/^a=sendrecv/.test(s.trim())){const I="a=extmap:"+t+" "+i;u.push(I)}v=u.join(yn.CRLF)+yn.CRLF}else if(e!==-1&&/^m=video/.test(v)&&yn.getRtpHeaderExtensionIdInSection(v,i)!==e){const g=yn.splitLines(v),u=[];for(const s of g){if(/^a=extmap:/.test(s.trim())&&s.split("a=extmap:")[1].split(" ")[1]===i){if(!this.hasRtpHeaderExtensionId(e)){const M="a=extmap:"+e+" "+i;u.push(M)}continue}u.push(s)}v=u.join(yn.CRLF)+yn.CRLF}l.push(v)}const p=l.join("");return new yn(p)}ssrcForVideoSendingSection(){const n=this.sdp,i=yn.splitSections(n);if(i.length<2)return"";const e=yn.findActiveCameraSection(i);if(e===-1)return"";const t=yn.matchPrefix(i[e],"a=ssrc-group:FID ");if(t.length<1)return"";const r=yn.extractSSRCsFromFIDGroupLine(t[0]),[l]=r.split(" ").map(p=>parseInt(p,10));return l.toString()}videoSendSectionHasDifferentSSRC(n){const i=this.ssrcForVideoSendingSection(),e=n.ssrcForVideoSendingSection();if(i===""||e==="")return!1;const t=parseInt(i,10),r=parseInt(e,10);return t!==r}removeH264SupportFromSendSection(){const n=this.sdp,i=yn.splitSections(n),e=yn.findActiveCameraSection(i);if(e===-1)return new yn(this.sdp);const t=i[e],r=yn.splitLines(t),l=[],p=new Map;r.forEach(s=>{if(/^a=rtpmap:/.test(s)){const I=/^a=rtpmap:([0-9]+)\s/.exec(s);I&&s.toLowerCase().includes("h264")&&l.push(parseInt(I[1],10))}if(/^a=fmtp:/.test(s)){const I=/^a=fmtp:([0-9]+) apt=([0-9]+)/.exec(s);if(I&&I.length===3){const M=parseInt(I[1],10),R=parseInt(I[2],10);p.has(R)?p.get(R).push(M):p.set(R,[M])}}});const v=new Set;for(const s of l){v.add(s);const I=p.get(s);if(I)for(const M of I)v.add(M)}if(l.length>0){const s=r[0].split(" ");r[0]=s.filter(I=>!v.has(parseInt(I))).join(" ")}const g=r.filter(s=>{if(!s.includes("rtpmap")&&!s.includes("rtcp-fb")&&!s.includes("fmtp"))return!0;for(const I of v)if(s.includes(I.toString()))return!1;return!0});i[e]=g.join(yn.CRLF)+yn.CRLF;const u=i.join("");return new yn(u)}mediaSections(){const n=yn.splitSections(this.sdp);if(n.length<2)return[];const i=[];for(let e=1;e<n.length;e++){const t=new h.default,r=yn.splitLines(n[e]);for(const l of r){const p=yn.mediaType(l);if(p!==void 0){t.mediaType=p;continue}const v=yn.direction(l);if(v!==void 0){t.direction=v;continue}const g=yn.mid(l);if(g!==void 0){t.mid=g;continue}}i.push(t)}return i}static getRtpHeaderExtensionIdInSection(n,i){const e=yn.splitLines(n);for(const t of e)if(/^a=extmap:/.test(t.trim())){const r=t.split("a=extmap:")[1].split(" "),l=+r[0];if(r[1]===i)return l}return-1}getRtpHeaderExtensionId(n){const i=yn.splitSections(this.sdp);for(const e of i)if(/^m=video/.test(e)){const t=yn.getRtpHeaderExtensionIdInSection(e,n);if(t!==-1)return t}return-1}hasRtpHeaderExtensionId(n){const i=yn.splitLines(this.sdp);for(const e of i)if(/^a=extmap:/.test(e.trim())&&+e.split("a=extmap:")[1].split(" ")[0]===n)return!0;return!1}withVideoSendCodecPreferences(n){const i=this.sdp,e=yn.splitSections(i),t=yn.findActiveCameraSection(e);if(t===-1)return new yn(this.sdp);e[t]=this.sectionWithCodecPreferences(e[t],n);const r=e.join("");return new yn(r)}sectionWithCodecPreferences(n,i){const e=new Map,t=yn.splitLines(n);t.forEach(v=>{if(/^a=rtpmap:/.test(v))for(const g of i){if(!v.includes(`${g.codecName}/${g.codecCapability.clockRate}`))continue;const u=/^a=rtpmap:([0-9]+)\s/.exec(v);let s=!1;if(g.codecCapability.sdpFmtpLine!==void 0){for(const I of t)if(I.startsWith(`a=fmtp:${u[1]} ${g.codecCapability.sdpFmtpLine}`)){s=!0;break}}else s=!0;if(s){e.set(g.codecName,u[1]);break}}});const r=new Set(e.values()),l=t[0].split(" ").filter(v=>!r.has(v)),p=Array.from(e.values()).sort((v,g)=>{const u=i.findIndex(I=>e.get(I.codecName)===v),s=i.findIndex(I=>e.get(I.codecName)===g);return u-s});return l.splice(3,0,...p.values()),t[0]=l.join(" "),t.join(yn.CRLF)+yn.CRLF}highestPriorityVideoSendCodec(){const n=this.sdp,i=yn.splitSections(n),e=yn.findActiveCameraSection(i);if(e===-1)return;const t=yn.splitLines(i[e]),r=t[0].split(" ");if(r.length<4)return;const l=r[3];let p,v,g;for(const u of t){const s=/^a=rtpmap:([0-9]+)\s/.exec(u);if(s===null||s.length<2||s[1]!==l)continue;const M=u.split(" ")[1].split("/");if(!(M===void 0||M.length<2)){p=M[0],v=M[1];for(const R of t)if(R.startsWith(`a=fmtp:${l}`)){const B=R.split(" ");if(B===void 0||B.length<2)return;g=B[1];continue}break}}if(p!==void 0)return new m.default(p,{clockRate:parseInt(v),mimeType:`video/${p}`,sdpFmtpLine:g})}constructor(n){this.sdp=n}},"SDP");c.default=f,f.CRLF=`\r
`,f.rfc7587LowestBitrate=6e3,f.rfc7587HighestBitrate=51e4},AXyi:function(N,c,d){"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.SessionStateControllerState=void 0;var S;(function(h){h[h.NotConnected=0]="NotConnected",h[h.Connecting=1]="Connecting",h[h.Connected=2]="Connected",h[h.Updating=3]="Updating",h[h.Disconnecting=4]="Disconnecting"})(S=c.SessionStateControllerState||(c.SessionStateControllerState={})),c.default=S},AaDX:function(N,c,d){"use strict";d.d(c,"a",function(){return t});var S=d("9oTK"),h=d.n(S),m=d("m8R6"),f=d("2XU3"),a=d("WCk1"),n=d("s4P+"),i=d("pjW8");const e={InvalidCampaign:"invalid_campaign"},t=Object(a.a)("promo.campaigns.eligibilityInfo generated fetcher",function(){var r=Object(S.coroutine)(function*(l,p,v){try{const g=["reason"],u=Object(m.a)(v,g),s=Object(i.b)(u),I=yield l(Object(f.a)({method:"promo.campaigns.eligibilityInfo",args:s,reason:v.reason}));return Object(i.a)(I)}catch(g){throw Object(n.a)({getState:p}).error(`API call to promo.campaigns.eligibilityInfo
				with reason ${v.reason} failed, initiated by generated fetcher`),g}});return function(l,p,v){return r.apply(this,arguments)}}());t.meta={name:"createFetcher",key:"createFetcherpromoCampaignsEligibilityInfoFetcher",description:"promo.campaigns.eligibilityInfo generated fetcher"}},"Agw+":function(N,c,d){"use strict";var S=this&&this.__awaiter||function(t,r,l,p){function v(g){return g instanceof l?g:new l(function(u){u(g)})}return o(v,"adopt"),new(l||(l=Promise))(function(g,u){function s(R){try{M(p.next(R))}catch(B){u(B)}}o(s,"fulfilled");function I(R){try{M(p.throw(R))}catch(B){u(B)}}o(I,"rejected");function M(R){R.done?g(R.value):v(R.value).then(s,I)}o(M,"step"),M((p=p.apply(t,r||[])).next())})};Object.defineProperty(c,"__esModule",{value:!0});const h=d("ywpn"),m=d("e/ca"),f=d("uctb"),a=d("Wjms"),n=d("raQ4");let i=o(class extends a.default{loadAssets(){return S(this,void 0,void 0,function*(){})}addObserver(){}removeObserver(){}setImageBlob(){return S(this,void 0,void 0,function*(){})}},"NoOpBackgroundReplacementProcessor"),e=o(class ev extends h.default{static create(r,l){return S(this,void 0,void 0,function*(){r=this.resolveSpec(r),l=this.resolveOptions(l),yield this.resolveOptionsAsync(l);const{logger:p}=l;if(!(yield ev.isSupported(r,l)))return p.warn("Using no-op processor because background replacement is not supported"),new i;p.info("Using background replacement filter");const g=new n.default(r,l);return yield g.loadAssets(),g})}static resolveOptions(){let r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const l=Object.assign({},r);return l.logger||(l.logger=new m.default("BackgroundReplacementProcessor",f.default.INFO)),super.resolveOptions(l)}static resolveOptionsAsync(r){return S(this,void 0,void 0,function*(){if(!r.imageBlob){const l=document.createElement("canvas");l.width=100,l.height=100;const p=l.getContext("2d");p.fillStyle="blue",p.fillRect(0,0,100,100);const v=yield new Promise(g=>{l.toBlob(g)});r.imageBlob=v}})}static isSupported(r,l){const p=Object.create(null,{isSupported:{get:()=>super.isSupported}});return S(this,void 0,void 0,function*(){r=this.resolveSpec(r),l=this.resolveOptions(l),yield this.resolveOptionsAsync(l);const v=l.imageBlob,g=URL.createObjectURL(v);try{yield n.default.loadImage(g)}catch(u){return l.logger.info(`Failed to fetch load replacement image ${u.message}`),!1}finally{URL.revokeObjectURL(g)}return p.isSupported.call(this,r,l)})}},"BackgroundReplacementVideoFrameProcessor");c.default=e},Aplu:function(N,c,d){"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.None=c.Some=c.Maybe=void 0;let S=o(class{static of(a){return a==null?m.of():h.of(a)}},"Maybe");c.Maybe=S;let h=o(class tv{map(a){return S.of(a(this.value))}flatMap(a){return a(this.value)}get(){return this.value}getOrElse(a){return this.value}defaulting(a){return S.of(this.getOrElse(a))}static of(a){if(a==null)throw new Error("value is ${value}");return new tv(a)}constructor(a){this.value=a,this.isSome=!0,this.isNone=!1}},"Some");c.Some=h;let m=o(class Dd{get(){throw new Error("value is null")}getOrElse(a){return a}map(a){return new Dd}flatMap(a){return new Dd}defaulting(a){return S.of(this.getOrElse(a))}static of(){return new Dd}constructor(){this.isSome=!1,this.isNone=!0}},"None");c.None=m},AqXs:function(N,c,d){"use strict";d.d(c,"a",function(){return t});var S=d("9oTK"),h=d.n(S),m=d("m8R6"),f=d("2XU3"),a=d("WCk1"),n=d("s4P+"),i=d("pjW8");const e={ListNotFound:"list_not_found",TeamNotFound:"team_not_found",UserNotFound:"user_not_found",InvalidCursor:"invalid_cursor"},t=Object(a.a)("lists.records.list generated fetcher",function(){var r=Object(S.coroutine)(function*(l,p,v){try{const g=["reason"],u=Object(m.a)(v,g),s=Object(i.b)(u);return yield l(Object(f.a)({method:"lists.records.list",args:s,reason:v.reason}))}catch(g){throw Object(n.a)({getState:p}).error(`API call to lists.records.list
				with reason ${v.reason} failed, initiated by generated fetcher`),g}});return function(l,p,v){return r.apply(this,arguments)}}());t.meta={name:"createFetcher",key:"createFetcherlistsRecordsListFetcher",description:"lists.records.list generated fetcher"}},AtlK:function(N,c,d){"use strict";var S=this&&this.__awaiter||function(u,s,I,M){function R(B){return B instanceof I?B:new I(function(j){j(B)})}return o(R,"adopt"),new(I||(I=Promise))(function(B,j){function A(O){try{$(M.next(O))}catch(P){j(P)}}o(A,"fulfilled");function D(O){try{$(M.throw(O))}catch(P){j(P)}}o(D,"rejected");function $(O){O.done?B(O.value):R(O.value).then(A,D)}o($,"step"),$((M=M.apply(u,s||[])).next())})};Object.defineProperty(c,"__esModule",{value:!0});const h=d("o3U+"),m=d("EkyC"),f=d("KvYa"),a=d("U9CR"),n=d("aZJ3"),i=d("VCUZ"),e=d("ac3q"),t=d("Xv43"),r=d("O9RP"),l=d("1AO7"),p=d("Lxy7"),v=d("C5KY");let g=o(class Sc{process(s){return S(this,void 0,void 0,function*(){return s})}fxProcess(s){return S(this,void 0,void 0,function*(){const I=s[0].asCanvasElement();this.didStreamParametersChange(I)&&(yield this.adjustProcessorForNewStreamParameters(I));try{yield this.manageSegmentationMask(I)}catch(M){throw this.logger.error(M),new Error("Video stream could not be processed")}return yield this.renderer.render(I,this.segmentationMask),s[0]=this.canvasVideoFrameBuffer,s})}noOpProcess(s){return S(this,void 0,void 0,function*(){return s})}didStreamParametersChange(s){return s.width!==this.streamParameters.width||s.height!==this.streamParameters.height}adjustProcessorForNewStreamParameters(s){return S(this,void 0,void 0,function*(){this.streamParameters.width=s.width,this.streamParameters.height=s.height,yield this.canvasOpsManager.configureForStreamParameters(this.streamParameters),yield this.renderer.configure(this.streamParameters.width,this.streamParameters.height,this.effectConfig)})}destroy(){return S(this,void 0,void 0,function*(){this.canvasVideoFrameBuffer.destroy(),this.fxLibScript&&this.fxLibScript.parentNode&&this.fxLibScript.parentNode.removeChild(this.fxLibScript),this.engineWorker&&(this.destroyedAssetsPromise=new r.DeferredPromise,this.engineWorker.postMessage({msg:p.WORKER_MSG.DESTROY_ASSETS_REQUEST}),yield this.destroyedAssetsPromise.getPromise(),this.engineWorker.postMessage({msg:p.WORKER_MSG.CLOSE_WORKER_REQUEST})),this.logger.info("VideoFxProcessor destroyed.")})}manageSegmentationMask(s){return S(this,void 0,void 0,function*(){try{if(this.segmentationRateManager.submitFrame(),this.segmentationRateManager.shouldApplySegmentation()){this.segmentationRateManager.startSegmentation();const I=this.canvasOpsManager.getInferenceInputData(s);this.segmentationMask=yield this.generateSegmentationMask(I),this.segmentationRateManager.completeSegmentation()}}catch(I){throw this.logger.error(I.toString()),new Error("Can not properly manage the returned segmentation mask")}})}generateSegmentationMask(s){return S(this,void 0,void 0,function*(){Sc.isSharedArrayBufferSupported?(this.sharedImageData.set(s.data),this.engineWorker.postMessage({msg:p.WORKER_MSG.PERFORM_SEGMENTATION_SAB_REQUEST,payload:this.sharedImageBuffer})):this.engineWorker.postMessage({msg:p.WORKER_MSG.PERFORM_SEGMENTATION_REQUEST,payload:s},[s.data.buffer]);try{return yield this.segmentationRequestPromise.getPromise()}catch(I){throw this.logger.error(I.toString()),new Error("Segmentation mask could not be generated")}})}cloneConfigFrom(s){return{backgroundBlur:{isEnabled:s.backgroundBlur.isEnabled,strength:s.backgroundBlur.strength},backgroundReplacement:{isEnabled:s.backgroundReplacement.isEnabled,backgroundImageURL:s.backgroundReplacement.backgroundImageURL,defaultColor:s.backgroundReplacement.defaultColor}}}setEffectConfig(s){return S(this,void 0,void 0,function*(){if(this.sameVideoFxConfig(s,this.effectConfig))return;const I=this.cloneConfigFrom(s);try{yield this.validateEffectConfig(I)}catch(M){throw this.logger.error(M.toString()),new Error("Provided effect config is invalid, not updating VideoFxProcessor")}I.backgroundReplacement.isEnabled&&(yield this.canvasOpsManager.loadReplacementBackground(I),yield this.renderer.setBackgroundReplacementCanvas(this.canvasOpsManager.getBackgroundReplacementCanvas())),yield this.renderer.configure(this.streamParameters.width,this.streamParameters.height,I),this.effectConfig=I,!this.effectConfig.backgroundBlur.isEnabled&&!this.effectConfig.backgroundReplacement.isEnabled?this.process=this.noOpProcess:this.process=this.fxProcess,this.logger.info(`VideoFxProcessor effect configuration updated to: ${JSON.stringify(this.effectConfig)}`),this.eventController&&this.publishVideoFxConfigEvent()})}validateEffectConfig(s){return S(this,void 0,void 0,function*(){if(s.backgroundBlur.isEnabled&&s.backgroundReplacement.isEnabled)throw new Error("Invalid VideoFx configuration: Background Blur and Background Replacement can not both be enabled");s.backgroundReplacement.isEnabled&&(yield this.validateReplacementConfig(s))})}validateReplacementConfig(s){return S(this,void 0,void 0,function*(){if(s.backgroundReplacement.backgroundImageURL&&s.backgroundReplacement.defaultColor)throw new Error("Invalid VideoFx configuration: Background Replacement can not have both an image URL and default color");if(!s.backgroundReplacement.backgroundImageURL&&!s.backgroundReplacement.defaultColor)throw new Error("Invalid VideoFx configuration: Background Replacement image URL and default can not both be null/undefined");try{s.backgroundReplacement.backgroundImageURL&&(yield this.canvasOpsManager.loadImage(s.backgroundReplacement.backgroundImageURL))}catch(M){throw this.logger.error(M.toString()),new Error("Invalid VideoFx configuration: backgroundImageURL failed to load")}const I=s.backgroundReplacement.defaultColor;if(I&&I!=="black"&&I!=="#000000"&&I!=="#000"){if(I.includes("#")&&!new RegExp(/^#([A-Fa-f0-9]{6}|[A-Fa-f0-9]{3})$/).test(I))throw new Error(`Invalid hexadecimal color code for default replacement background: ${I}`);const R=document.createElement("canvas").getContext("2d"),B=R.fillStyle;if(R.fillStyle=I,R.fillStyle===B)throw new Error(`Invalid color for default replacement background: ${I}`)}})}validateProcessingBudgetPerFrame(s){if(s<p.RESOURCE_CONSTRAINTS.MIN_PROCESSING_BUDGET||s>p.RESOURCE_CONSTRAINTS.MAX_PROCESSING_BUDGET)throw new Error(`Invalid resource constraint: cycle percentage must be within range of ${p.RESOURCE_CONSTRAINTS.MIN_PROCESSING_BUDGET} and ${p.RESOURCE_CONSTRAINTS.MAX_PROCESSING_BUDGET}`)}loadAssets(){return S(this,void 0,void 0,function*(){this.logger.info("Loading required assets for the VideoFxProcessor");try{const s=this.getVideoFxAssetParams();yield this.loadEngineWorker(s),yield this.buildEngine(s),yield this.loadFxLib(s),this.renderer=constructRenderer(p.SEGMENTATION_MODEL.WIDTH_IN_PIXELS,p.SEGMENTATION_MODEL.HEIGHT_IN_PIXELS,this.effectConfig,this.outputCanvas)}catch(s){throw this.logger.error(s.toString()),new Error("Failed to load necessary assets for the VideoFxProcessor")}this.logger.info("Finished loading of essential VideoFxProcessor assets.")})}getVideoFxAssetParams(){const s=i.getDefaultAssetSpec();return{assetGroup:s.assetGroup,revisionID:s.revisionID,sdk:encodeURIComponent(e.default.sdkVersion),ua:encodeURIComponent(e.default.sdkUserAgentLowResolution)}}getPathFromVideoFxAssetParams(s,I){const M=new URL(s);for(const[R,B]of Object.entries(I))if(B!==void 0){const j=encodeURIComponent(R),A=encodeURIComponent(B);M.searchParams.set(j,A)}return M.toString()}loadEngineWorker(s){return S(this,void 0,void 0,function*(){try{const I=this.getPathFromVideoFxAssetParams(p.CDN_BASE_PATH+p.WORKER_PATH,s);this.engineWorker=yield m.loadWorker(I,"VideoFxEngineWorker",{},null),this.logger.info("Successfully loaded the VideoFxProcessor's engine worker"),this.engineWorker.addEventListener("message",M=>this.engineWorkerReceiver(M))}catch(I){throw this.logger.error(I.toString()),new Error("Failed to load the VideoFxProcessor's engine worker")}})}buildEngine(s){return S(this,void 0,void 0,function*(){this.buildEnginePromise=new r.DeferredPromise,this.engineWorker.postMessage({msg:p.WORKER_MSG.BUILD_ENGINE_REQUEST,payload:{cdnBasePath:p.CDN_BASE_PATH,sdkVersioningParams:s}});try{yield this.buildEnginePromise.getPromise()}catch(I){throw this.logger.error(I.toString()),new Error("Failed to instantiate the VideoFxEngine")}})}loadFxLib(s){return S(this,void 0,void 0,function*(){const I=this.getPathFromVideoFxAssetParams(p.CDN_BASE_PATH+p.FXLIB_PATH,s),M={method:"GET",mode:"cors",credentials:"omit",redirect:"follow",referrerPolicy:"no-referrer"};try{const R=yield h.fetchWithBehavior(I,M,{});if(!R.ok)throw new Error("Fetch failed.");const B=window.URL.createObjectURL(yield R.blob());yield new Promise((j,A)=>{this.fxLibScript=document.createElement("script"),this.fxLibScript.setAttribute("src",B),this.fxLibScript.setAttribute("type","module"),this.fxLibScript.setAttribute("async","false"),this.fxLibScript.addEventListener("load",j),this.fxLibScript.addEventListener("error",A),document.body.appendChild(this.fxLibScript)})}catch(R){throw this.logger.error(R.toString()),new Error("Failed to load the fxlib")}})}getEffectConfig(){return this.cloneConfigFrom(this.effectConfig)}engineWorkerReceiver(s){const I=s.data;switch(I.msg){case p.WORKER_MSG.BUILD_ENGINE_RESPONSE:this.settleEngineBuildPromise(I.payload);break;case p.WORKER_MSG.PERFORM_SEGMENTATION_RESPONSE:this.settleSegmentationPromise(I.payload.output);break;case p.WORKER_MSG.PERFORM_SEGMENTATION_SAB_RESPONSE:this.settleSegmentationPromiseSAB();break;case p.WORKER_MSG.DESTROY_ASSETS_RESPONSE:this.destroyedAssetsPromise.resolvePromise();break;default:this.logger.info(`VideoFx worker received unknown event msg: ${JSON.stringify(I)}`);break}}settleEngineBuildPromise(s){s!==p.SEGMENTATION_MODEL.LOAD_SUCCESS?this.buildEnginePromise.rejectPromise(new Error("Failed to build VideoFxProcessor's engine")):(this.logger.info("Successfully built the VideoFxEngine"),this.buildEnginePromise.resolvePromise())}settleSegmentationPromise(s){s?this.segmentationRequestPromise.resolveAndReplacePromise(s):this.segmentationRequestPromise.rejectAndReplacePromise(new Error("Failed to perform a segmentation on the input image"))}settleSegmentationPromiseSAB(){try{const s=new ImageData(new Uint8ClampedArray(this.sharedImageData),p.SEGMENTATION_MODEL.WIDTH_IN_PIXELS,p.SEGMENTATION_MODEL.HEIGHT_IN_PIXELS);this.segmentationRequestPromise.resolveAndReplacePromise(s)}catch{this.segmentationRequestPromise.rejectAndReplacePromise(new Error("Failed to perform a segmentation with a shared array buffer on the input image"))}}setToNoOpProcess(){this.process=this.noOpProcess}static isSupported(){let s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:new n.default,I=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return S(this,void 0,void 0,function*(){let M=!0;const R=o((A,D)=>{A&&(s.info(D),M=!1)},"checkEnv");R(typeof globalThis>"u","Browser does not have globalThis."),R(!f.supportsWorker(globalThis,s),"Browser does not support web workers."),R(!f.supportsWASM(globalThis,s),"Browser does not support wasm."),R(!document.createElement("canvas").getContext("webgl2"),"Browser does not support webgl.");const B=new a.default;R(!B.isVideoFxSupportedBrowser(),"Browser is unsupported for VideoFxProcessor");const j=o(()=>S(this,void 0,void 0,function*(){if(I)try{const A=new Sc(s);yield A.loadAssets(),yield A.destroy()}catch{return s.info("Browser environment is unable to access the required external assets."),Promise.resolve(!1)}return Promise.resolve(!0)}),"checkProcessor");return Promise.resolve(M?yield j():!1)})}static create(s,I){let M=arguments.length>2&&arguments[2]!==void 0?arguments[2]:p.RESOURCE_CONSTRAINTS.DEFAULT_PROCESSING_BUDGET_PER_FRAME;return S(this,void 0,void 0,function*(){const R=new Sc(s,M);try{return yield R.loadAssets(),yield R.setEffectConfig(I),R}catch(B){throw s.error(B.toString()),R.setToNoOpProcess(),new Error("VideoFxProcessor built with support for only NoOp processing")}})}setEventController(s){this.eventController?this.eventController=s:(this.eventController=s,this.publishVideoFxConfigEvent())}publishVideoFxConfigEvent(){const s={backgroundBlurEnabled:this.effectConfig.backgroundBlur.isEnabled.toString(),backgroundBlurStrength:this.effectConfig.backgroundBlur.strength,backgroundReplacementEnabled:this.effectConfig.backgroundReplacement.isEnabled.toString(),backgroundFilterVersion:2};this.eventController.publishEvent("backgroundFilterConfigSelected",s)}sameVideoFxConfig(s,I){return s.backgroundBlur.isEnabled===I.backgroundBlur.isEnabled&&s.backgroundBlur.strength===I.backgroundBlur.strength&&s.backgroundReplacement.backgroundImageURL===I.backgroundReplacement.backgroundImageURL&&s.backgroundReplacement.defaultColor===I.backgroundReplacement.defaultColor&&s.backgroundReplacement.isEnabled===I.backgroundReplacement.isEnabled}constructor(s,I=p.RESOURCE_CONSTRAINTS.DEFAULT_PROCESSING_BUDGET_PER_FRAME,M){this.logger=s,this.outputCanvas=document.createElement("canvas"),this.canvasVideoFrameBuffer=new t.default(this.outputCanvas);try{this.validateProcessingBudgetPerFrame(I)}catch(R){throw this.logger.error(R),new Error(`Cannot instantiate VideoFxProcessor due to invalid processingBudgetPerFrame of ${I}`)}M&&(this.eventController=M),this.effectConfig={backgroundBlur:{isEnabled:!1,strength:"low"},backgroundReplacement:{isEnabled:!1,backgroundImageURL:null,defaultColor:"black"}},this.segmentationRequestPromise=new r.DeferredPromise,this.segmentationRateManager=new v.VideoFxSegmentationRateManager(this.logger,I),this.streamParameters={framerate:p.DEFAULT_STREAM_PARAMETERS.FRAMES_PER_SECOND,width:p.DEFAULT_STREAM_PARAMETERS.WIDTH_IN_PIXEL,height:p.DEFAULT_STREAM_PARAMETERS.HEIGHT_IN_PIXEL,channels:p.DEFAULT_STREAM_PARAMETERS.CHANNEL_COUNT},Sc.isSharedArrayBufferSupported&&(this.sharedImageBuffer=new SharedArrayBuffer(p.SEGMENTATION_MODEL.WIDTH_IN_PIXELS*p.SEGMENTATION_MODEL.HEIGHT_IN_PIXELS*this.streamParameters.channels),this.sharedImageData=new Uint8ClampedArray(this.sharedImageBuffer)),this.logger.info(`VideoFx supports Shared Array Buffer: ${Sc.isSharedArrayBufferSupported}`),this.canvasOpsManager=new l.VideoFxCanvasOpsManager(this.streamParameters,this.outputCanvas),this.outputCanvas.width=this.streamParameters.width,this.outputCanvas.height=this.streamParameters.height,this.segmentationMask=new ImageData(this.streamParameters.width,this.streamParameters.height),this.logger.info(`VideoFxProcessor instantiated with a processingBudgetPerFrame of ${I}`)}},"VideoFxProcessor");c.default=g,g.isSharedArrayBufferSupported=typeof SharedArrayBuffer<"u"},AyUB:function(N,c,d){N.exports={default:d("vNbC"),__esModule:!0}},B7cK:function(N,c,d){"use strict";Object.defineProperty(c,"__esModule",{value:!0});const S=d("xzjI");let h=o(class extends S.default{constructor(f){super(f),this.name="NotFoundError"}},"NotFoundError");c.default=h},BEtg:function(N,c,d){"use strict";Object.defineProperty(c,"__esModule",{value:!0});const S=d("K4CH"),h=d("ac3q");let m=o(class Pl{getParserResult(){var a,n;return{browserMajorVersion:this.browserMajorVersion,browserName:this.browserName,browserVersion:this.browserVersion,deviceName:this.deviceName,osName:((a=this.parserResult)===null||a===void 0?void 0:a.os.name)||Pl.UNAVAILABLE,osVersion:((n=this.parserResult)===null||n===void 0?void 0:n.os.version)||Pl.UNAVAILABLE,sdkVersion:h.default.sdkVersion,sdkName:h.default.sdkName}}constructor(a){var n,i,e,t,r,l,p;try{this.parserResult=navigator&&navigator.userAgent?new S.UAParser(navigator.userAgent).getResult():void 0}catch(v){a.error(v.message)}this.browserMajorVersion=((e=(i=(n=this.parserResult)===null||n===void 0?void 0:n.browser)===null||i===void 0?void 0:i.version)===null||e===void 0?void 0:e.split(".")[0])||Pl.UNAVAILABLE,this.browserName=((t=this.parserResult)===null||t===void 0?void 0:t.browser.name)||Pl.UNAVAILABLE,this.browserVersion=((r=this.parserResult)===null||r===void 0?void 0:r.browser.version)||Pl.UNAVAILABLE,this.deviceName=[((l=this.parserResult)===null||l===void 0?void 0:l.device.vendor)||"",((p=this.parserResult)===null||p===void 0?void 0:p.device.model)||""].join(" ").trim()||Pl.UNAVAILABLE}},"DefaultUserAgentParser");c.default=m,m.UNAVAILABLE="Unavailable"},BGMr:function(N,c,d){"use strict";Object.defineProperty(c,"__esModule",{value:!0});const S=d("ezoW"),h=d("VYs+"),m=d("Aplu"),f=d("Biyp"),a=d("p5Ac");let n=o(class xo{updateConnectionMetric(e){let{uplinkKbps:t=0}=e;if(isNaN(t))return;this.startTimeMs===0&&(this.startTimeMs=Date.now()),Date.now()-this.startTimeMs<xo.startupDurationMs?this.lastUplinkBandwidthKbps=xo.defaultUplinkBandwidthKbps:this.lastUplinkBandwidthKbps=t,this.logger.debug(()=>`simulcast: uplink policy update metrics ${this.lastUplinkBandwidthKbps}`);let r=xo.holdDownDurationMs;this.currentActiveStreams===3?r=xo.holdDownDurationMs*2:(this.currentActiveStreams===2&&t<=xo.kMidDisabledRate||this.currentActiveStreams===1&&t<=xo.kHiDisabledRate)&&(r=xo.holdDownDurationMs/2),!(Date.now()<this.lastUpdatedMs+r)&&(this.newQualityMap=this.calculateEncodingParameters(!1))}calculateEncodingParameters(e){const t=[new a.default,new a.default,new a.default];let r=0,l=0;if(this.currentActiveStreams===0?(r=this.lastUplinkBandwidthKbps+1,l=0):this.currentActiveStreams===1?(r=2400,l=xo.kHiDisabledRate):this.currentActiveStreams===2?(r=1e3,l=xo.kMidDisabledRate):(r=300,l=0),e||this.lastUplinkBandwidthKbps>=r||this.lastUplinkBandwidthKbps<=l){this.shouldDisableSimulcast?(this.newActiveStreams=0,t[0].maxBitrateKbps=0,t[1].maxBitrateKbps=1200,t[2].maxBitrateKbps=0):this.numSenders<=4&&this.lastUplinkBandwidthKbps>=xo.kHiDisabledRate?(this.newActiveStreams=1,t[0].maxBitrateKbps=300,t[1].maxBitrateKbps=0,t[2].maxBitrateKbps=1200):this.lastUplinkBandwidthKbps>=xo.kMidDisabledRate?(this.newActiveStreams=2,t[0].maxBitrateKbps=this.lastUplinkBandwidthKbps>=350?200:150,t[1].maxBitrateKbps=this.numSenders<=6?600:350,t[2].maxBitrateKbps=0):(this.newActiveStreams=3,t[0].maxBitrateKbps=300,t[1].maxBitrateKbps=0,t[2].maxBitrateKbps=0);const p=t.map((v,g,u)=>v.maxBitrateKbps);this.newQualityMap=this.fillEncodingParamWithBitrates(p),this.encodingParametersEqual()||this.logger.info(`simulcast: policy:calculateEncodingParameters bw:${this.lastUplinkBandwidthKbps} numSources:${this.numSenders} shouldDisableSimulcast:${this.shouldDisableSimulcast} newQualityMap: ${this.getQualityMapString(this.newQualityMap)}`)}return this.newQualityMap}chooseMediaTrackConstraints(){return{width:{ideal:1280},height:{ideal:768},frameRate:{ideal:15}}}chooseEncodingParameters(){return this.currentQualityMap=this.newQualityMap,this.currentActiveStreams=this.newActiveStreams,this.activeStreamsToPublish!==this.newActiveStreams&&(this.activeStreamsToPublish=this.newActiveStreams,this.publishEncodingSimulcastLayer()),this.currentQualityMap}updateIndex(e){const t=e.numberOfVideoPublishingParticipantsExcludingSelf(this.selfAttendeeId)+1,r=t!==this.numSenders,l=e.numberOfParticipants(),p=l>=0&&l<=2,v=this.shouldDisableSimulcast!==p;this.numSenders=t,this.shouldDisableSimulcast=p,this.optimalParameters=new f.default(this.captureWidth(),this.captureHeight(),this.captureFrameRate(),this.maxBandwidthKbps(),!1),this.videoIndex=e,this.newQualityMap=this.calculateEncodingParameters(r||v)}wantsResubscribe(){let e=!this.encodingParametersEqual();this.nextLocalDescriptions=this.videoIndex.localStreamDescriptions();for(let t=0;t<this.nextLocalDescriptions.length;t++){const r=this.nextLocalDescriptions[t].streamId;if(r!==0&&r){const l=this.currLocalDescriptions.findIndex(p=>p.streamId===r);l!==-1&&this.nextLocalDescriptions[t].disabledByWebRTC!==this.currLocalDescriptions[l].disabledByWebRTC&&(e=!0)}}return e&&(this.lastUpdatedMs=Date.now()),this.currLocalDescriptions=this.nextLocalDescriptions,e}compareEncodingParameter(e,t){return JSON.stringify(e)===JSON.stringify(t)}encodingParametersEqual(){let e=!1;for(const t of h.default.NAME_ARR_ASCENDING)if(e=e||!this.compareEncodingParameter(this.newQualityMap.get(t),this.currentQualityMap.get(t)),e)break;return!e}chooseCaptureAndEncodeParameters(){return this.parametersInEffect=this.optimalParameters.clone(),this.parametersInEffect.clone()}captureWidth(){return 1280}captureHeight(){return 768}captureFrameRate(){return 15}maxBandwidthKbps(){return 1400}setIdealMaxBandwidthKbps(e){}setHasBandwidthPriority(e){}fillEncodingParamWithBitrates(e){const t=new Map,r=1e3,l=h.default.NAME_ARR_ASCENDING,p=e;let v=this.shouldDisableSimulcast?1:4;for(let g=0;g<l.length;g++){const u=l[g];t.set(u,{rid:u,active:p[g]>0,scaleResolutionDownBy:Math.max(v,1),maxBitrate:p[g]*r}),v=v/2}return t}getQualityMapString(e){let t="";const r=this.videoIndex.localStreamDescriptions();return r.length===3&&e.forEach(l=>{let p=!1;l.rid==="low"?p=r[0].disabledByWebRTC:l.rid==="mid"?p=r[1].disabledByWebRTC:p=r[2].disabledByWebRTC,t+=`{ rid: ${l.rid} active:${l.active} disabledByWebRTC: ${p} maxBitrate:${l.maxBitrate}}`}),t}getEncodingSimulcastLayer(e){switch(e){case 0:return S.default.High;case 1:return S.default.LowAndHigh;case 2:return S.default.LowAndMedium;case 3:return S.default.Low}}publishEncodingSimulcastLayer(){const e=this.getEncodingSimulcastLayer(this.activeStreamsToPublish);this.forEachObserver(t=>{m.Maybe.of(t.encodingSimulcastLayersDidChange).map(r=>r.bind(t)(e))})}addObserver(e){this.logger.info("adding simulcast uplink observer"),this.observerQueue.add(e)}removeObserver(e){this.logger.info("removing simulcast uplink observer"),this.observerQueue.delete(e)}forEachObserver(e){for(const t of this.observerQueue)e(t)}constructor(e,t){this.selfAttendeeId=e,this.logger=t,this.numSenders=0,this.shouldDisableSimulcast=!1,this.newQualityMap=new Map,this.currentQualityMap=new Map,this.newActiveStreams=1,this.currentActiveStreams=1,this.lastUplinkBandwidthKbps=xo.defaultUplinkBandwidthKbps,this.startTimeMs=0,this.lastUpdatedMs=Date.now(),this.videoIndex=null,this.currLocalDescriptions=[],this.nextLocalDescriptions=[],this.observerQueue=new Set,this.optimalParameters=new f.default(0,0,0,0,!0),this.parametersInEffect=new f.default(0,0,0,0,!0),this.lastUplinkBandwidthKbps=xo.defaultUplinkBandwidthKbps,this.currentQualityMap=this.fillEncodingParamWithBitrates([300,0,1200]),this.newQualityMap=this.fillEncodingParamWithBitrates([300,0,1200])}},"DefaultSimulcastUplinkPolicy");c.default=n,n.defaultUplinkBandwidthKbps=1200,n.startupDurationMs=6e3,n.holdDownDurationMs=4e3,n.defaultMaxFrameRate=15,n.kHiDisabledRate=700,n.kMidDisabledRate=240},BQaj:function(N,c,d){"use strict";d.r(c),d.d(c,"fromHex",function(){return m}),d.d(c,"toHex",function(){return f});const S={},h={};for(let a=0;a<256;a++){let n=a.toString(16).toLowerCase();n.length===1&&(n=`0${n}`),S[a]=n,h[n]=a}function m(a){if(a.length%2!==0)throw new Error("Hex encoded strings must have an even number length");const n=new Uint8Array(a.length/2);for(let i=0;i<a.length;i+=2){const e=a.slice(i,i+2).toLowerCase();if(e in h)n[i/2]=h[e];else throw new Error(`Cannot decode unrecognized sequence ${e} as hexadecimal`)}return n}o(m,"fromHex");function f(a){let n="";for(let i=0;i<a.byteLength;i++)n+=S[a[i]];return n}o(f,"toHex")},BRsN:function(N,c,d){var S=d("GhSp"),h=d("ENu8");N.exports=d("C61u")?function(m,f,a){return S.f(m,f,h(1,a))}:function(m,f,a){return m[f]=a,m}},BY2i:function(N,c,d){"use strict";Object.defineProperty(c,"__esModule",{value:!0});const S=d("/AJg");let h=o(class Yc{allowSubscribe(f,a){let n=0;const i=this.currentNetworkEvent;if(a>this.referenceBitrate)return this.currentNetworkEvent=2,this.referenceBitrate=a,!0;if(a<this.referenceBitrate){if(this.currentNetworkEvent=1,n=this.getSubscribeDelay(this.currentNetworkEvent,f),i!==1)this.bandwidthDecreaseTimestamp=Date.now();else if(Date.now()-this.bandwidthDecreaseTimestamp>n)return this.referenceBitrate=a,!0;return!1}else return this.currentNetworkEvent=0,!1}getSubscribeDelay(f,a){let n=Yc.MINIMUM_DELAY_MS;const i=Yc.MAXIMUM_DELAY_MS-Yc.MINIMUM_DELAY_MS,e=this.networkIssueResponseDelayFactor;switch(f){case 1:n+=i*e*(1+a/10),n=Math.min(Yc.MAXIMUM_DELAY_MS,n);break}return n}constructor(f=0,a=0){this.networkIssueResponseDelayFactor=f,this.networkIssueRecoveryDelayFactor=a,this.currentNetworkEvent=0,this.bandwidthDecreaseTimestamp=0,this.referenceBitrate=0,this.serverSideNetworkAdaption=S.default.Default,f<0?f=0:f>1&&(f=1),this.networkIssueResponseDelayFactor=f,a<0?a=0:a>1&&(a=1),this.networkIssueRecoveryDelayFactor=a}},"VideoPriorityBasedPolicyConfig");c.default=h,h.MINIMUM_DELAY_MS=2e3,h.MAXIMUM_DELAY_MS=8e3,h.Default=new h(0,0),h.UnstableNetworkPreset=new h(0,1),h.StableNetworkPreset=new h(1,0)},BfU5:function(N,c,d){var S=d("ekG2"),h=d("7whZ").document,m=S(h)&&S(h.createElement);N.exports=function(f){return m?h.createElement(f):{}}},Biyp:function(N,c,d){"use strict";Object.defineProperty(c,"__esModule",{value:!0});let S=o(class nv{equal(m){let f=m.captureWidth()===this.cameraWidth&&m.captureHeight()===this.cameraHeight&&m.captureFrameRate()===this.cameraFrameRate&&m.encodeBitrates().length===this.encodeBitrates().length&&m.encodeScaleResolutionDownBy().length===this.encodeScaleResolutionDownBy().length&&m.encodeWidths().length===this.encodeWidths().length&&m.encodeHeights().length===this.encodeHeights().length;if(f){for(let a=0;a<m.encodeWidths().length;a++)if(m.encodeWidths()[a]!==this.encodeWidths()[a]||m.encodeHeights()[a]!==this.encodeHeights()[a]||m.encodeBitrates()[a]!==this.encodeBitrates()[a]||m.encodeScaleResolutionDownBy()[a]!==this.encodeScaleResolutionDownBy()[a])return f=!1,f}return f}clone(){return new nv(this.cameraWidth,this.cameraHeight,this.cameraFrameRate,this.maxEncodeBitrateKbps,this.isSimulcast,this.scaleResolutionDownBy)}captureWidth(){return this.cameraWidth}captureHeight(){return this.cameraHeight}captureFrameRate(){return this.cameraFrameRate}encodeBitrates(){return[this.maxEncodeBitrateKbps]}encodeScaleResolutionDownBy(){return[this.scaleResolutionDownBy]}encodeWidths(){return[this.cameraWidth]}encodeHeights(){return[this.cameraHeight]}constructor(m,f,a,n,i,e=1){this.cameraWidth=m,this.cameraHeight=f,this.cameraFrameRate=a,this.maxEncodeBitrateKbps=n,this.isSimulcast=i,this.scaleResolutionDownBy=e}},"DefaultVideoCaptureAndEncodeParameter");c.default=S},BkFD:function(N,c,d){"use strict";Object.defineProperty(c,"__esModule",{value:!0});let S=o(class{start(m){this.stop(),this.timer=setInterval(m,this.intervalMs)}stop(){this.timer!==void 0&&(clearInterval(this.timer),this.timer=void 0)}running(){return this.timer!==void 0}constructor(m){this.intervalMs=m}},"IntervalScheduler");c.default=S},Bkbp:function(N,c,d){"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.Sha256=void 0;var S=d("dJwD"),h=d("V7js"),m=d("2ZyS"),f=d("MdQ0"),a=function(){function i(e){if(this.hash=new m.RawSha256,e){this.outer=new m.RawSha256;var t=n(e),r=new Uint8Array(h.BLOCK_SIZE);r.set(t);for(var l=0;l<h.BLOCK_SIZE;l++)t[l]^=54,r[l]^=92;this.hash.update(t),this.outer.update(r);for(var l=0;l<t.byteLength;l++)t[l]=0}}return o(i,"Sha2561"),i.prototype.update=function(e){if(!((0,f.isEmptyData)(e)||this.error))try{this.hash.update((0,f.convertToBuffer)(e))}catch(t){this.error=t}},i.prototype.digestSync=function(){if(this.error)throw this.error;return this.outer?(this.outer.finished||this.outer.update(this.hash.digest()),this.outer.digest()):this.hash.digest()},i.prototype.digest=function(){return S.__awaiter(this,void 0,void 0,function(){return S.__generator(this,function(e){return[2,this.digestSync()]})})},i}();c.Sha256=a;function n(i){var e=(0,f.convertToBuffer)(i);if(e.byteLength>h.BLOCK_SIZE){var t=new m.RawSha256;t.update(e),e=t.digest()}var r=new Uint8Array(h.BLOCK_SIZE);return r.set(e),r}o(n,"bufferFromSecret")},BlE4:function(N,c,d){"use strict";var S=d("YSNz"),h=d("LFf6"),m=d("fshX"),f=d("efZk");function a(n,i,e){n=Object(f.a)(n),i=Object(h.a)(i);var t=n.length;e=e===void 0?t:Object(S.a)(Object(m.a)(e),0,t);var r=e;return e-=i.length,e>=0&&n.slice(e,r)==i}o(a,"endsWith"),c.a=a},BvK0:function(N,c,d){"use strict";var S=d("YBmv"),h=d("fywt"),m=d("eP7z");function f(a,n){return a&&a.length?Object(S.a)(a,Object(h.a)(n,2),m.a):void 0}o(f,"minBy"),c.a=f},By1P:function(N,c,d){"use strict";var S=d("C61u"),h=d("mHY4"),m=d("/tXR"),f=d("GRew"),a=d("CYMq"),n=d("n7vu"),i=Object.assign;N.exports=!i||d("S4vA")(function(){var e={},t={},r=Symbol(),l="abcdefghijklmnopqrst";return e[r]=7,l.split("").forEach(function(p){t[p]=p}),i({},e)[r]!=7||Object.keys(i({},t)).join("")!=l})?o(function(t,r){for(var l=a(t),p=arguments.length,v=1,g=m.f,u=f.f;p>v;)for(var s=n(arguments[v++]),I=g?h(s).concat(g(s)):h(s),M=I.length,R=0,B;M>R;)B=I[R++],(!S||u.call(s,B))&&(l[B]=s[B]);return l},"assign"):i},C5KY:function(N,c,d){"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.VideoFxSegmentationRateManager=void 0;const S=d("Lxy7");let h=o(class{submitFrame(){this.frameCountOverSamplingPeriod++}shouldApplySegmentation(){return this.frameCountOverSamplingPeriod%this.framesPerSegmentation===0}startSegmentation(){this.frameSegmentationStartTime=performance.now()}completeSegmentation(){this.totalSegmentationDurationOverSamplingPeriod+=performance.now()-this.frameSegmentationStartTime,this.frameCountOverSamplingPeriod>=S.RESOURCE_CONSTRAINTS.SEGMENTATION_SAMPLING_PERIOD_FRAME_COUNT&&this.adjustFramesPerSegmentation(this.totalSegmentationDurationOverSamplingPeriod/(performance.now()-this.samplingPeriodStartTime))}adjustFramesPerSegmentation(f){f>this.targetSegmentationCyclePercentage?(this.framesPerSegmentation++,this.logger.info(`Segmentation cycle percentage above the configured maximal value. Decreasing segmentation rate to 1 segmentation per ${this.framesPerSegmentation} frames`)):this.framesPerSegmentation>1&&f<this.targetSegmentationCyclePercentage&&(this.framesPerSegmentation--,this.logger.info(`Segmentation cycle percentage below the configured maximal value. Increasing segmentation rate to 1 segmentation per ${this.framesPerSegmentation} frames`)),this.totalSegmentationDurationOverSamplingPeriod=0,this.frameCountOverSamplingPeriod=0,this.samplingPeriodStartTime=performance.now()}constructor(f,a){this.logger=f,this.targetSegmentationCyclePercentage=a/100,this.frameCountOverSamplingPeriod=0,this.totalSegmentationDurationOverSamplingPeriod=0,this.samplingPeriodStartTime=performance.now(),this.framesPerSegmentation=S.RESOURCE_CONSTRAINTS.SEGMENTATION_DEFAULT_FRAMES_PER_SEGMENTATION}},"VideoFxSegmentationRateManager");c.VideoFxSegmentationRateManager=h},C5aR:function(N,c,d){"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.isEmptyData=void 0;function S(h){return typeof h=="string"?h.length===0:h.byteLength===0}o(S,"isEmptyData"),c.isEmptyData=S},C5kU:function(N,c,d){"use strict";var S=d("GfoU")(!0);d("OTpG")(String,"String",function(h){this._t=String(h),this._i=0},function(){var h=this._t,m=this._i,f;return m>=h.length?{value:void 0,done:!0}:(f=S(h,m),this._i+=f.length,{value:f,done:!1})})},C61u:function(N,c,d){N.exports=!d("S4vA")(function(){return Object.defineProperty({},"a",{get:function(){return 7}}).a!=7})},CAce:function(N,c,d){"use strict";Object.defineProperty(c,"__esModule",{value:!0});const S=d("XCDq");let h=o(class Oh{equals(f){return f!==void 0&&this.codecName===f.codecName&&this.codecCapability.mimeType===f.codecCapability.mimeType&&this.codecCapability.clockRate===f.codecCapability.clockRate&&this.codecCapability.sdpFmtpLine===f.codecCapability.sdpFmtpLine}static vp8(){return new Oh("VP8",{clockRate:9e4,mimeType:"video/VP8"})}static h264ConstrainedBaselineProfile(){return new Oh("H264",{clockRate:9e4,mimeType:"video/H264",sdpFmtpLine:"level-asymmetry-allowed=1;packetization-mode=1;profile-level-id=42e01f"})}static h264(){return this.h264ConstrainedBaselineProfile()}static fromSignaled(f){switch(f){case S.SdkVideoCodecCapability.VP8:return this.vp8();case S.SdkVideoCodecCapability.H264_CONSTRAINED_BASELINE_PROFILE:return this.h264ConstrainedBaselineProfile();default:return}}constructor(f,a){this.codecName=f,this.codecCapability=a}},"VideoCodecCapability");c.default=h},"CE4/":function(N,c,d){"use strict";var S=d("nAx8"),h=d("USwo"),m=d("CYMq"),f=d("xMGN"),a=d("bS86"),n=d("0WpP"),i=d("SkeG"),e=d("I90/");h(h.S+h.F*!d("h3Hq")(function(t){Array.from(t)}),"Array",{from:o(function(r){var l=m(r),p=typeof this=="function"?this:Array,v=arguments.length,g=v>1?arguments[1]:void 0,u=g!==void 0,s=0,I=e(l),M,R,B,j;if(u&&(g=S(g,v>2?arguments[2]:void 0,2)),I!=null&&!(p==Array&&a(I)))for(j=I.call(l),R=new p;!(B=j.next()).done;s++)i(R,s,u?f(j,g,[B.value,s],!0):B.value);else for(M=n(l.length),R=new p(M);M>s;s++)i(R,s,u?g(l[s],s):l[s]);return R.length=s,R},"from")})},CLOt:function(N,c,d){"use strict";Object.defineProperty(c,"__esModule",{value:!0});const S=d("f2XL");let h=o(class Mh{equals(f){return f!==void 0&&this.codecName===f.codecName&&this.codecCapability.mimeType===f.codecCapability.mimeType&&this.codecCapability.clockRate===f.codecCapability.clockRate&&this.codecCapability.sdpFmtpLine===f.codecCapability.sdpFmtpLine}static vp8(){return new Mh("VP8",{clockRate:9e4,mimeType:"video/VP8"})}static h264ConstrainedBaselineProfile(){return new Mh("H264",{clockRate:9e4,mimeType:"video/H264",sdpFmtpLine:"level-asymmetry-allowed=1;packetization-mode=1;profile-level-id=42e01f"})}static h264(){return this.h264ConstrainedBaselineProfile()}static fromSignaled(f){switch(f){case S.SdkVideoCodecCapability.VP8:return this.vp8();case S.SdkVideoCodecCapability.H264_CONSTRAINED_BASELINE_PROFILE:return this.h264ConstrainedBaselineProfile();default:return}}constructor(f,a){this.codecName=f,this.codecCapability=a}},"VideoCodecCapability");c.default=h},CMvH:function(N,c,d){"use strict";function S(){return S=Object.assign?Object.assign.bind():function(u){for(var s=1;s<arguments.length;s++){var I=arguments[s];for(var M in I)Object.prototype.hasOwnProperty.call(I,M)&&(u[M]=I[M])}return u},S.apply(this,arguments)}o(S,"_extends");function h(u,s){if(u==null)return{};var I={},M=Object.keys(u),R,B;for(B=0;B<M.length;B++)R=M[B],!(s.indexOf(R)>=0)&&(I[R]=u[R]);return I}o(h,"_objectWithoutPropertiesLoose");function m(u,s){return m=Object.setPrototypeOf?Object.setPrototypeOf.bind():o(function(M,R){return M.__proto__=R,M},"_setPrototypeOf"),m(u,s)}o(m,"_setPrototypeOf");function f(u,s){u.prototype=Object.create(s.prototype),u.prototype.constructor=u,m(u,s)}o(f,"_inheritsLoose");var a=d("q1tI"),n=d("n3tL"),i=d("bdgK"),e=["client","offset","scroll","bounds","margin"];function t(u){var s=[];return e.forEach(function(I){u[I]&&s.push(I)}),s}o(t,"getTypes");function r(u,s){var I={};if(s.indexOf("client")>-1&&(I.client={top:u.clientTop,left:u.clientLeft,width:u.clientWidth,height:u.clientHeight}),s.indexOf("offset")>-1&&(I.offset={top:u.offsetTop,left:u.offsetLeft,width:u.offsetWidth,height:u.offsetHeight}),s.indexOf("scroll")>-1&&(I.scroll={top:u.scrollTop,left:u.scrollLeft,width:u.scrollWidth,height:u.scrollHeight}),s.indexOf("bounds")>-1){var M=u.getBoundingClientRect();I.bounds={top:M.top,right:M.right,bottom:M.bottom,left:M.left,width:M.width,height:M.height}}if(s.indexOf("margin")>-1){var R=getComputedStyle(u);I.margin={top:R?parseInt(R.marginTop):0,right:R?parseInt(R.marginRight):0,bottom:R?parseInt(R.marginBottom):0,left:R?parseInt(R.marginLeft):0}}return I}o(r,"getContentRect");function l(u){var s=u&&u.ownerDocument&&u.ownerDocument.defaultView;return s||window}o(l,"getWindowOf");function p(u){return function(s){var I,M;return M=I=function(R){f(B,R);function B(){for(var A,D=arguments.length,$=new Array(D),O=0;O<D;O++)$[O]=arguments[O];return A=R.call.apply(R,[this].concat($))||this,A.state={contentRect:{entry:{},client:{},offset:{},scroll:{},bounds:{},margin:{}}},A._animationFrameID=null,A._resizeObserver=null,A._node=null,A._window=null,A.measure=function(P){var k=r(A._node,u||t(A.props));P&&(k.entry=P[0].contentRect),A._animationFrameID=A._window.requestAnimationFrame(function(){A._resizeObserver!==null&&(A.setState({contentRect:k}),typeof A.props.onResize=="function"&&A.props.onResize(k))})},A._handleRef=function(P){A._resizeObserver!==null&&A._node!==null&&A._resizeObserver.unobserve(A._node),A._node=P,A._window=l(A._node);var k=A.props.innerRef;k&&(typeof k=="function"?k(A._node):k.current=A._node),A._resizeObserver!==null&&A._node!==null&&A._resizeObserver.observe(A._node)},A}o(B,"WithContentRect");var j=B.prototype;return j.componentDidMount=o(function(){this._resizeObserver=this._window!==null&&this._window.ResizeObserver?new this._window.ResizeObserver(this.measure):new i.a(this.measure),this._node!==null&&(this._resizeObserver.observe(this._node),typeof this.props.onResize=="function"&&this.props.onResize(r(this._node,u||t(this.props))))},"componentDidMount"),j.componentWillUnmount=o(function(){this._window!==null&&this._window.cancelAnimationFrame(this._animationFrameID),this._resizeObserver!==null&&(this._resizeObserver.disconnect(),this._resizeObserver=null)},"componentWillUnmount"),j.render=o(function(){var D=this.props,$=D.innerRef,O=D.onResize,P=h(D,["innerRef","onResize"]);return Object(a.createElement)(s,S({},P,{measureRef:this._handleRef,measure:this.measure,contentRect:this.state.contentRect}))},"render"),B}(a.Component),I.propTypes={client:n.default.bool,offset:n.default.bool,scroll:n.default.bool,bounds:n.default.bool,margin:n.default.bool,innerRef:n.default.oneOfType([n.default.object,n.default.func]),onResize:n.default.func},M}}o(p,"withContentRect");var v=p()(function(u){var s=u.measure,I=u.measureRef,M=u.contentRect,R=u.children;return R({measure:s,measureRef:I,contentRect:M})});v.displayName="Measure",v.propTypes.children=n.default.func;var g=c.a=v},COTZ:function(N,c,d){"use strict";Object.defineProperty(c,"__esModule",{value:!0});const S=d("DUgj");let h=o(class{constructor(f){this.applicationMetadata=f,this.serverSideNetworkAdaption=S.default.Default,this.supportedServerSideNetworkAdaptions=[],this.disablePeriodicKeyframeRequestOnContentSender=!1}},"SignalingClientJoin");c.default=h},CPHI:function(N,c,d){"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.CheckCameraResolutionFeedback=void 0;var S;(function(h){h[h.Succeeded=0]="Succeeded",h[h.Failed=1]="Failed",h[h.ResolutionNotSupported=2]="ResolutionNotSupported",h[h.PermissionDenied=3]="PermissionDenied"})(S=c.CheckCameraResolutionFeedback||(c.CheckCameraResolutionFeedback={})),c.default=S},CRwe:function(N,c,d){"use strict";var S=this&&this.__awaiter||function(a,n,i,e){function t(r){return r instanceof i?r:new i(function(l){l(r)})}return o(t,"adopt"),new(i||(i=Promise))(function(r,l){function p(u){try{g(e.next(u))}catch(s){l(s)}}o(p,"fulfilled");function v(u){try{g(e.throw(u))}catch(s){l(s)}}o(v,"rejected");function g(u){u.done?r(u.value):t(u.value).then(p,v)}o(g,"step"),g((e=e.apply(a,n||[])).next())})};Object.defineProperty(c,"__esModule",{value:!0});const h=d("AUdx"),m=d("aVV0");let f=o(class extends m.default{cancel(){this.cancelICEPromise&&this.cancelICEPromise()}run(){return S(this,void 0,void 0,function*(){this.context.peer||this.logAndThrow("session does not have peer connection; bypass set remote description");let i=this.context.sdpAnswer;i=new h.default(i).withoutServerReflexiveCandidates().sdp,this.context.audioProfile&&(i=new h.default(i).withAudioMaxAverageBitrate(this.context.audioProfile.audioBitrateBps).sdp,this.context.audioProfile.isStereo()&&(i=new h.default(i).withStereoAudio().sdp)),this.context.videoSendCodecPreferences!==void 0&&this.context.videoSendCodecPreferences.length>0&&(i=new h.default(i).withVideoSendCodecPreferences(this.context.meetingSupportedVideoSendCodecPreferences!==void 0?this.context.meetingSupportedVideoSendCodecPreferences:this.context.videoSendCodecPreferences).sdp,this.context.currentVideoSendCodec=new h.default(i).highestPriorityVideoSendCodec()),this.logger.info(`processed remote description is >>>${i}<<<`);const e={type:"answer",sdp:i,toJSON:null};try{yield this.createICEConnectionCompletedPromise(e)}catch(t){throw t}})}createICEConnectionCompletedPromise(n){return new Promise((i,e)=>S(this,void 0,void 0,function*(){const t=o(()=>{(this.context.peer.iceConnectionState==="connected"||this.context.peer.iceConnectionState==="completed")&&(this.context.peer.removeEventListener("iceconnectionstatechange",t),i())},"checkConnectionCompleted");this.cancelICEPromise=()=>{this.context.peer&&this.context.peer.removeEventListener("iceconnectionstatechange",t),e(new Error(`${this.name()} got canceled while waiting for the ICE connection state`))},this.context.peer.addEventListener("iceconnectionstatechange",t);try{yield this.context.peer.setRemoteDescription(n),this.logger.info("set remote description, waiting for ICE connection"),t()}catch(r){e(r)}}))}constructor(n){super(n.logger),this.context=n,this.taskName="SetRemoteDescriptionTask"}},"SetRemoteDescriptionTask");c.default=f},CWxj:function(N,c,d){"use strict";var S=this&&this.__awaiter||function(g,u,s,I){function M(R){return R instanceof s?R:new s(function(B){B(R)})}return o(M,"adopt"),new(s||(s=Promise))(function(R,B){function j($){try{D(I.next($))}catch(O){B(O)}}o(j,"fulfilled");function A($){try{D(I.throw($))}catch(O){B(O)}}o(A,"rejected");function D($){$.done?R($.value):M($.value).then(j,A)}o(D,"step"),D((I=I.apply(g,u||[])).next())})};Object.defineProperty(c,"__esModule",{value:!0});const h=d("a6MJ"),m=d("Fm4y"),f=d("cKqT"),a=d("U9CR"),n=d("InPl"),i=d("egzF"),e=d("p7bP"),t=d("crgu"),r=d("KEX5"),l=d("l7oq"),p=d("3jln");let v=o(class{get configuration(){return this._configuration}get logger(){return this._logger}get audioVideo(){return this.audioVideoFacade}get contentShare(){return this.contentShareController}get deviceController(){return this._deviceController}get eventController(){return this._eventController}destroy(){return S(this,void 0,void 0,function*(){t.isDestroyable(this.contentShareController)&&(yield this.contentShareController.destroy()),t.isDestroyable(this.audioVideoController)&&(yield this.audioVideoController.destroy()),t.isDestroyable(this.eventController)&&(yield this.eventController.destroy()),e.default.removeLogger(this._logger),this._logger=void 0,this._configuration=void 0,this._deviceController=void 0,this.audioVideoFacade=void 0,this.audioVideoController=void 0,this.contentShareController=void 0,this._eventController=void 0})}checkBrowserSupportAndFeatureConfiguration(){const u=new a.default,s=`${u.name()} ${u.majorVersion()} (${u.version()})`;if(this.logger.info(`browser is ${s}`),u.isSupported()||this.logger.warn(`this browser is not currently supported. Stability may suffer. Supported browsers are: ${u.supportString()}.`),this._configuration.videoUplinkBandwidthPolicy)if(this.isSimulcastUplinkPolicy(this._configuration.videoUplinkBandwidthPolicy)){if(!u.hasChromiumWebRTC())throw new Error("Simulcast is only supported on Chromium-based browsers");this._configuration.enableSimulcastForUnifiedPlanChromiumBasedBrowsers=!0}else this._configuration.enableSimulcastForUnifiedPlanChromiumBasedBrowsers=!1;this._configuration.enableSimulcastForUnifiedPlanChromiumBasedBrowsers&&(u.hasChromiumWebRTC()?this.logger.info(`Simulcast is enabled for ${u.name()}`):(this._configuration.enableSimulcastForUnifiedPlanChromiumBasedBrowsers=!1,this.logger.info("Simulcast is only supported on Chromium-based browsers")))}isSimulcastUplinkPolicy(u){return!!(u&&u.addObserver)}constructor(u,s,I,M){this._eventController=M,this._configuration=u,this._logger=s,this.checkBrowserSupportAndFeatureConfiguration(),e.default.addLogger(this._logger),e.default.register(),this._eventController||(this._eventController=new r.default(u,s)),I.eventController||(I.eventController=this.eventController),this.audioVideoController=new h.default(this._configuration,this._logger,new p.default(this._logger),I,new l.default(this._configuration.reconnectTimeoutMs,new f.default(this._configuration.reconnectFixedWaitMs,this._configuration.reconnectShortBackOffMs,this._configuration.reconnectLongBackOffMs)),this.eventController),this._deviceController=I;const R=new n.default(this._logger);this.contentShareController=new i.default(R,new h.default(i.default.createContentShareMeetingSessionConfigure(this._configuration),this._logger,new p.default(this._logger),R,new l.default(this._configuration.reconnectTimeoutMs,new f.default(this._configuration.reconnectFixedWaitMs,this._configuration.reconnectShortBackOffMs,this._configuration.reconnectLongBackOffMs))),this.audioVideoController),this.audioVideoFacade=new m.default(this.audioVideoController,this.audioVideoController.videoTileController,this.audioVideoController.realtimeController,this.audioVideoController.audioMixController,this._deviceController,this.contentShareController)}},"DefaultMeetingSession");c.default=v},CYMq:function(N,c,d){var S=d("yQFZ");N.exports=function(h){return Object(S(h))}},Cgcc:function(N,c,d){"use strict";d.d(c,"m",function(){return n}),d.d(c,"h",function(){return e}),d.d(c,"k",function(){return l}),d.d(c,"f",function(){return v}),d.d(c,"j",function(){return g}),d.d(c,"i",function(){return u}),d.d(c,"a",function(){return j}),d.d(c,"g",function(){return A}),d.d(c,"c",function(){return $}),d.d(c,"l",function(){return K}),d.d(c,"b",function(){return Y}),d.d(c,"e",function(){return ie}),d.d(c,"d",function(){return ge});var S=d("eT7J");function h(Ie){const le=/^#?([a-f\d])([a-f\d])([a-f\d])$/i;Ie=Ie.replace(le,function(Be,Re,Ne,_e){return Re+Re+Ne+Ne+_e+_e});const we=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(Ie);return we?{r:parseInt(we[1],16),g:parseInt(we[2],16),b:parseInt(we[3],16)}:{r:0,g:0,b:0}}o(h,"hexToRgb");function m(Ie){let{r:le,g:we,b:Be}=h(Ie);le/=255,we/=255,Be/=255;const Re=Math.min(le,we,Be),Ne=Math.max(le,we,Be),_e=Ne-Re;let Ze=0,tt=0,$e=0;return _e==0?Ze=0:Ne==le?Ze=(we-Be)/_e%6:Ne==we?Ze=(Be-le)/_e+2:Ze=(le-we)/_e+4,Ze=Math.round(Ze*60),Ze<0&&(Ze+=360),$e=(Ne+Re)/2,tt=_e==0?0:_e/(1-Math.abs(2*$e-1)),tt=+(tt*100).toFixed(1),$e=+($e*100).toFixed(1),{h:Ze,s:tt,l:$e}}o(m,"hexToHSL");function f(Ie){return Ie?"100":"70"}o(f,"getInteractionStateShadeVariant");const a=["0","5","10","20","30","40","50","60","70","80","90","100"],n=["primary","highlight1","highlight2","important"],i=["light","dark"],e=["tomato","paprika","tangerine","campfire","honeycomb","sunflower","grass","cilantro","mojito","jade","aquarium","lagoon","ocean","indigo","aubergine","sangria","flamingo","rose","horchata","gray"],t=[1,2,3,4,5,6],r=5,l=[{id:"single-color",name:"Single color",themes:[{id:"aubergine",name:"Aubergine",monochromatic:!0,brightness:5,colors:{primary:{palette:"aubergine"},highlight1:{palette:"aubergine"},highlight2:{palette:"jade"},important:{palette:"aubergine"}}},{id:"tomato",name:"Tomato",monochromatic:!0,brightness:4,colors:{primary:{palette:"tomato"},highlight1:{palette:"tomato"},highlight2:{palette:"tomato"},important:{palette:"tomato"}}},{id:"tangerine",name:"Tangerine",monochromatic:!0,brightness:4,colors:{primary:{palette:"tangerine"},highlight1:{palette:"tangerine"},highlight2:{palette:"jade"},important:{palette:"tangerine"}}},{id:"banana",name:"Banana",monochromatic:!0,brightness:2,colors:{primary:{palette:"sunflower"},highlight1:{palette:"sunflower"},highlight2:{palette:"jade"},important:{palette:"sunflower"}}},{id:"jade",name:"Jade",monochromatic:!0,brightness:4,colors:{primary:{palette:"jade"},highlight1:{palette:"jade"},highlight2:{palette:"jade"},important:{palette:"jade"}}},{id:"lagoon",name:"Lagoon",monochromatic:!0,brightness:4,colors:{primary:{palette:"lagoon"},highlight1:{palette:"lagoon"},highlight2:{palette:"jade"},important:{palette:"lagoon"}}},{id:"indigo",name:"Indigo",monochromatic:!0,brightness:5,colors:{primary:{palette:"indigo"},highlight1:{palette:"indigo"},highlight2:{palette:"jade"},important:{palette:"indigo"}}},{id:"flamingo",name:"Flamingo",monochromatic:!0,brightness:4,colors:{primary:{palette:"flamingo"},highlight1:{palette:"flamingo"},highlight2:{palette:"jade"},important:{palette:"flamingo"}}},{id:"gray",name:"Gray",monochromatic:!0,brightness:2,colors:{primary:{palette:"gray"},highlight1:{palette:"gray"},highlight2:{palette:"jade"},important:{palette:"gray"}}}]},{id:"vision-assist",name:"Vision assistive",themes:[{id:"tritanopia",name:"Tritanopia",monochromatic:!1,brightness:5,colors:{primary:{palette:"aubergine"},highlight1:{palette:"jade"},highlight2:{palette:"jade"},important:{palette:"paprika"}}},{id:"protanopia",name:"Protanopia & Deuteranopia",monochromatic:!1,brightness:5,colors:{primary:{palette:"aubergine"},highlight1:{palette:"grass"},highlight2:{palette:"grass"},important:{palette:"aubergine"}}}]},{id:"fun-and-new",name:"Fun and new",themes:[{id:"raspberry-beret",name:"Raspberry Beret",brightness:4,monochromatic:!1,colors:{primary:{palette:"aubergine"},highlight1:{palette:"flamingo"},highlight2:{palette:"aubergine"},important:{palette:"flamingo"}}},{id:"big-business",name:"Big Business",brightness:4,monochromatic:!1,colors:{primary:{palette:"gray"},highlight1:{palette:"indigo"},highlight2:{palette:"indigo"},important:{palette:"gray"}}},{id:"pog",name:"POG",monochromatic:!1,brightness:3,colors:{primary:{palette:"sangria"},highlight1:{palette:"honeycomb"},highlight2:{palette:"sunflower"},important:{palette:"sunflower"}}},{id:"mint-chip",name:"Mint Chip",monochromatic:!1,brightness:3,colors:{primary:{palette:"cilantro"},highlight1:{palette:"indigo"},highlight2:{palette:"indigo"},important:{palette:"gray"}}},{id:"pbj",name:"PB&J",monochromatic:!1,brightness:2,colors:{primary:{palette:"horchata"},highlight1:{palette:"sangria"},highlight2:{palette:"sangria"},important:{palette:"flamingo"}}},{id:"chill-vibes",name:"Chill Vibes",monochromatic:!1,brightness:4,colors:{primary:{palette:"jade"},highlight1:{palette:"aquarium"},highlight2:{palette:"jade"},important:{palette:"aquarium"}}},{id:"forest-floor",name:"Forest Floor",monochromatic:!1,brightness:4,colors:{primary:{palette:"grass"},highlight1:{palette:"horchata"},highlight2:{palette:"sunflower"},important:{palette:"sunflower"}}},{id:"slackr",name:"Slackr",monochromatic:!1,brightness:4,colors:{primary:{palette:"flamingo"},highlight1:{palette:"lagoon"},highlight2:{palette:"mojito"},important:{palette:"flamingo"}}},{id:"sea-glass",name:"Sea Glass",monochromatic:!1,brightness:3,colors:{primary:{palette:"aquarium"},highlight1:{palette:"aubergine"},highlight2:{palette:"aquarium"},important:{palette:"aubergine"}}},{id:"lemon-lime",name:"Lemon Lime",monochromatic:!1,brightness:4,colors:{primary:{palette:"sunflower"},highlight1:{palette:"cilantro"},highlight2:{palette:"aubergine"},important:{palette:"cilantro"}}},{id:"falling-leaves",name:"Falling Leaves",brightness:4,monochromatic:!1,colors:{primary:{palette:"horchata"},highlight1:{palette:"sunflower"},highlight2:{palette:"tangerine"},important:{palette:"tomato"}}},{id:"sunrise",name:"Sunrise",brightness:2,monochromatic:!1,colors:{primary:{palette:"tangerine"},highlight1:{palette:"flamingo"},highlight2:{palette:"campfire"},important:{palette:"honeycomb"}}}]},{id:"old-favorites",name:"Old favorites",themes:[{id:"slack-classic",name:"Slack Classic",monochromatic:!1,brightness:4,colors:{primary:{palette:"aubergine"},highlight1:{palette:"ocean"},highlight2:{palette:"jade"},important:{palette:"flamingo"}}},{id:"cmyk",name:"CMYK",monochromatic:!1,brightness:4,colors:{primary:{palette:"lagoon"},highlight1:{palette:"flamingo"},highlight2:{palette:"sunflower"},important:{palette:"gray"}}},{id:"hoth",name:"Hoth",monochromatic:!1,brightness:1,colors:{primary:{palette:"gray"},highlight1:{palette:"lagoon"},highlight2:{palette:"cilantro"},important:{palette:"rose"}}},{id:"sweet-treat",name:"Sweet Treat",monochromatic:!1,brightness:2,colors:{primary:{palette:"tomato"},highlight1:{palette:"tomato"},highlight2:{palette:"horchata"},important:{palette:"jade"}}}]}],p=l.map(Ie=>Ie.themes).flat();function v(Ie){const le=p.find(we=>we.id===Ie);return le?le.name:Ie}o(v,"getPresetFormattedName");const g=p.map(Ie=>Ie.id),u=p.reduce((Ie,le)=>(Ie[le.id]={...le.colors,brightness:le.brightness},Ie),{});function s(Ie){switch(Ie){case"0":case"5":return 1;case"10":case"20":return 2;case"30":case"40":return 3;case"50":case"60":return 4;case"70":case"80":return 5;case"90":case"100":return 6;default:return 1}}o(s,"getBrightnessFromPaletteShade");function I(Ie){let{mode:le,variable:we,brightness:Be}=Ie;if(!t.some(Re=>Re===Be))return"0";if(we==="--ia_theme-base-pry"){if(le==="dark")return"90";switch(Be){case 1:case 2:case 3:return"70";case 4:case 5:case 6:return"0";default:return"0"}}if(we==="--ia_theme-base-inv-pry"){const Re="90";if(le==="dark")return"10";switch(Be){case 1:return"10";case 2:return"20";case 3:return"30";case 4:return"80";case 5:return Re;case 6:return"100";default:return Re}}if(we==="--ia_theme-base-inv-sec"){const Re="70";if(le==="dark")return"0";switch(Be){case 1:return"0";case 2:return"5";case 3:return"10";case 4:return"60";case 5:return Re;case 6:return"80";default:return Re}}if(we==="--ia_theme-base-inv-hgl-1")return le==="dark"?"20":"80";if(we==="--ia_theme-base-inv-hgl-2")return le==="dark"?"60":"50";if(we==="--ia_theme-base-inv-imp")return le==="dark"?"30":"70";if(we==="--ia_theme-surf-sec")return le==="dark"?"10":"80";if(we==="--ia_theme-surf-inv-pry"){const Re="0";if(le==="dark")return"100";switch(Be){case 1:case 2:case 3:return"80";case 4:case 5:case 6:return Re;default:return Re}}if(we==="--ia_theme-content-pry")return le==="dark"?"0":"100";if(we==="--ia_theme-content-sec")return"80";if(we==="--ia_theme-content-ter"){const Re="100";if(le==="dark")return"100";switch(Be){case 1:case 2:case 3:return"0";case 4:case 5:case 6:return Re;default:return Re}}if(we==="--ia_theme-content-inv-sec"){const Re="0";if(le==="dark")return"90";switch(Be){case 1:case 2:case 3:return"80";case 4:case 5:case 6:return Re;default:return Re}}if(we==="--ia_theme-content-inv-ter"){const Re="0";if(le==="dark")return"90";switch(Be){case 1:case 2:case 3:return"80";case 4:case 5:case 6:return Re;default:return Re}}return"0"}o(I,"getPaletteShadeFromBrightness");function M(Ie){let{palette:le,mode:we,brightness:Be=r}=Ie;const Re="255, 255, 255";if(we==="dark")return"var(--dt_color-plt-gray-100)";switch(Be){case 1:case 2:case 3:return`var(--dt_color-plt-${le}-100)`;case 4:case 5:case 6:return Re;default:return Re}}o(M,"getThemeContentInvPryValue");function R(Ie){let{palette:le,mode:we,brightness:Be=r}=Ie;const Re="255, 255, 255";if(we==="dark")return Re;switch(Be){case 1:case 2:case 3:return`var(--dt_color-plt-${le}-80)`;case 4:case 5:case 6:return Re;default:return Re}}o(R,"getThemeOutlineInvPryValue");function B(Ie){let{mode:le,role:we,palette:Be,brightness:Re=r}=Ie;const Ne=le==="dark";return we==="primary"?[{property:"--ia_theme-base-pry",value:`var(--dt_color-plt-${Be}-${I({mode:le,variable:"--ia_theme-base-pry",brightness:Re})})`},{property:"--ia_theme-base-pry-hover",value:`var(--dt_color-plt-${Be}-${f(Ne)})`},{property:"--ia_theme-base-pry-pressed",value:`var(--dt_color-plt-${Be}-${f(Ne)})`},{property:"--ia_theme-base-inv-pry",value:`var(--dt_color-plt-${Be}-${I({mode:le,variable:"--ia_theme-base-inv-pry",brightness:Re})})`},{property:"--ia_theme-base-inv-pry-hover",value:`var(--dt_color-plt-${Be}-${f(Ne)})`},{property:"--ia_theme-base-inv-pry-pressed",value:`var(--dt_color-plt-${Be}-${f(Ne)})`},{property:"--ia_theme-base-inv-sec",value:`var(--dt_color-plt-${Be}-${I({mode:le,variable:"--ia_theme-base-inv-sec",brightness:Re})})`},{property:"--ia_theme-base-inv-sec-hover",value:`var(--dt_color-plt-${Be}-${f(Ne)})`},{property:"--ia_theme-base-inv-sec-pressed",value:`var(--dt_color-plt-${Be}-${f(Ne)})`},{property:"--ia_theme-surf-sec",value:`var(--dt_color-plt-${Be}-${I({mode:le,variable:"--ia_theme-surf-sec",brightness:Re})})`},{property:"--ia_theme-surf-sec-hover",value:`var(--dt_color-plt-${Be}-${f(Ne)})`},{property:"--ia_theme-surf-sec-pressed",value:`var(--dt_color-plt-${Be}-${f(Ne)})`},{property:"--ia_theme-surf-ter-hover",value:`var(--dt_color-plt-${Be}-${f(Ne)})`},{property:"--ia_theme-surf-ter-pressed",value:`var(--dt_color-plt-${Be}-${f(Ne)})`},{property:"--ia_theme-surf-inv-pry",value:`var(--dt_color-plt-${Be}-${I({mode:le,variable:"--ia_theme-surf-inv-pry",brightness:Re})})`},{property:"--ia_theme-surf-inv-pry-hover",value:`var(--dt_color-plt-${Be}-${f(Ne)})`},{property:"--ia_theme-surf-inv-pry-pressed",value:`var(--dt_color-plt-${Be}-${f(Ne)})`},{property:"--ia_theme-content-pry",value:`var(--dt_color-plt-${Be}-${I({mode:le,variable:"--ia_theme-content-pry",brightness:Re})})`},{property:"--ia_theme-content-sec",value:`var(--dt_color-plt-${Be}-${I({mode:le,variable:"--ia_theme-content-sec",brightness:Re})})`},{property:"--ia_theme-content-ter",value:`var(--dt_color-plt-${Be}-${I({mode:le,variable:"--ia_theme-content-ter",brightness:Re})})`},{property:"--ia_theme-content-inv-pry",value:M({palette:Be,mode:le,brightness:Re})},{property:"--ia_theme-content-inv-sec",value:`var(--dt_color-plt-${Be}-${I({mode:le,variable:"--ia_theme-content-inv-sec",brightness:Re})})`},{property:"--ia_theme-content-inv-ter",value:`var(--dt_color-plt-${Be}-${I({mode:le,variable:"--ia_theme-content-inv-ter",brightness:Re})})`},{property:"--ia_theme-otl-inv-pry",value:R({palette:Be,mode:le,brightness:Re})}]:we==="highlight1"?[{property:"--ia_theme-base-inv-hgl-1",value:`var(--dt_color-plt-${Be}-${I({mode:le,variable:"--ia_theme-base-inv-hgl-1",brightness:Re})})`},{property:"--ia_theme-base-inv-hgl-1-hover",value:`var(--dt_color-plt-${Be}-${f(Ne)})`},{property:"--ia_theme-base-inv-hgl-1-pressed",value:`var(--dt_color-plt-${Be}-${f(Ne)})`}]:we==="highlight2"?[{property:"--ia_theme-base-inv-hgl-2",value:`var(--dt_color-plt-${Be}-${I({mode:le,variable:"--ia_theme-base-inv-hgl-2",brightness:Re})})`},{property:"--ia_theme-base-inv-hgl-2-hover",value:`var(--dt_color-plt-${Be}-${f(Ne)})`},{property:"--ia_theme-base-inv-hgl-2-pressed",value:`var(--dt_color-plt-${Be}-${f(Ne)})`}]:we==="important"?[{property:"--ia_theme-base-inv-imp",value:`var(--dt_color-plt-${Be}-${I({mode:le,variable:"--ia_theme-base-inv-imp",brightness:Re})})`},{property:"--ia_theme-base-inv-imp-hover",value:`var(--dt_color-plt-${Be}-${f(Ne)})`},{property:"--ia_theme-base-inv-imp-pressed",value:`var(--dt_color-plt-${Be}-${f(Ne)})`}]:[]}o(B,"getThemeVariableDefinitions");const j={mode:"light",brightness:5,primary:{palette:"aubergine"},highlight1:{palette:"aubergine"},highlight2:{palette:"jade"},important:{palette:"aubergine"}};function A(Ie){const le=[],we={...j,...Ie||{}},{mode:Be,brightness:Re,...Ne}=we;for(const[_e,{palette:Ze}]of Object.entries(Ne)){const tt=B({role:_e,palette:Ze,mode:Be,brightness:Re});le.push(...tt)}return le.map(_e=>{let{property:Ze,value:tt}=_e;return{property:Ze,value:tt}})}o(A,"getThemeVariables");function D(Ie){let{mode:le,role:we,brightness:Be=r}=Ie;if(we==="primary"){if(le==="dark")return"20";const Re="70";switch(Be){case 1:return"0";case 2:return"5";case 3:return"10";case 4:return"60";case 5:return Re;case 6:return"80";default:return Re}}else if(we==="highlight1"){if(le==="dark")return"5";const Re="90";switch(Be){case 1:return"10";case 2:return"20";case 3:return"30";case 4:return"80";case 5:return Re;case 6:return"100";default:return Re}}return"0"}o(D,"getConicGradientShadeColor");function $(Ie){let{mode:le,primary:we="aubergine",highlight1:Be="aubergine",brightness:Re=r}=Ie;const Ne=D({mode:le,role:"primary",brightness:Re}),_e=D({mode:le,role:"highlight1",brightness:Re});return`conic-gradient(
    from 45deg at 50% 50%,
    rgb(var(--dt_color-plt-${Be}-${_e})) 0%,
    rgb(var(--dt_color-plt-${we}-${Ne})) 25%,
    rgb(var(--dt_color-plt-${Be}-${_e})) 50%,
    rgb(var(--dt_color-plt-${we}-${Ne})) 75%,
    rgb(var(--dt_color-plt-${Be}-${_e})) 100%
  )`}o($,"getConicGradient");function O(Ie){return`rgb(var(--dt_color-plt-${Ie}-50))`}o(O,"getPalettePreviewBackgroundColor");function P(Ie){return{primary:{palette:Ie},highlight1:{palette:Ie},highlight2:{palette:Ie},important:{palette:Ie}}}o(P,"harmonizeRoles");function k(){return e[Math.floor(Math.random()*e.length)]}o(k,"generateRandomPalette");function K(){return{primary:{palette:k()},highlight1:{palette:k()},highlight2:{palette:k()},important:{palette:k()}}}o(K,"randomizeTheme");function Z(Ie,le){const{h:we,s:Be,l:Re}=m(Ie);let Ne="0",_e=1/0;const Ze=S.filter(tt=>tt.name===le);if(!Ze.length)return Ne;for(const tt of Ze){const $e=Math.sqrt(Math.pow(tt.hsl.h-we,2)+Math.pow(tt.hsl.s-Be,2)+Math.pow(tt.hsl.l-Re,2));$e<_e&&(_e=$e,Ne=tt.shade)}return Ne}o(Z,"getClosestPaletteShade");function Y(Ie){const{h:le,s:we,l:Be}=m(Ie);let Re="gray",Ne=1/0;for(const _e of S){const Ze=Math.sqrt(Math.pow(_e.hsl.h-le,2)+Math.pow(_e.hsl.s-we,2)+Math.pow(_e.hsl.l-Be,2));Ze<Ne&&(Ne=Ze,Re=_e.name)}return Re}o(Y,"getClosestPaletteName");function ie(Ie){var le;return Ie?(le=S.find(we=>we.hex.toLowerCase()===Ie.toLowerCase()))===null||le===void 0?void 0:le.name:null}o(ie,"getPaletteFromHex");function ge(Ie,le){var we;return!Ie||!le?null:(we=S.find(Be=>Be.name===Ie&&Be.shade===le))===null||we===void 0?void 0:we.hex}o(ge,"getHexFromPalette")},CmE0:function(N,c,d){"use strict";var S=this&&this.__awaiter||function(e,t,r,l){function p(v){return v instanceof r?v:new r(function(g){g(v)})}return o(p,"adopt"),new(r||(r=Promise))(function(v,g){function u(M){try{I(l.next(M))}catch(R){g(R)}}o(u,"fulfilled");function s(M){try{I(l.throw(M))}catch(R){g(R)}}o(s,"rejected");function I(M){M.done?v(M.value):p(M.value).then(u,s)}o(I,"step"),I((l=l.apply(e,t||[])).next())})};Object.defineProperty(c,"__esModule",{value:!0}),c.BackgroundFilterMonitor=void 0;const h=d("GEtQ"),m=d("KsuK"),f=d("8V8Y");let a=o(class{whenNext(){return this.promise||(this.promise=new Promise(t=>this.resolve=t)),this.promise}next(t){this.value=t,this.resolve(t),delete this.promise}constructor(){this.value=void 0,this.resolve=null}},"DeferredObservable"),n=o(class Ah{static createWorkerPromise(){const t={resolve:null,reject:null,promise:null};return t.promise=new Promise((r,l)=>{t.resolve=r,t.reject=l}),t}validateSpec(t){if(!t)throw new Error("processor has null spec");if(!t.model)throw new Error("processor spec has null model");if(!t.paths)throw new Error("processor spec has null paths")}validateOptions(t){if(!t)throw new Error("processor has null options");if(!t.logger)throw new Error("processor has null options - logger");if(!t.reportingPeriodMillis)throw new Error("processor has null options - reportingPeriodMillis");if(!t.filterCPUUtilization)throw new Error("processor has null options - filterCPUUtilization")}initCPUMonitor(t){this.videoFramesPerFilterUpdate=1,this.frameCounter=new f.default(this.delegate,t.reportingPeriodMillis,t.filterCPUUtilization,this.logger),this.cpuMonitor=new i(5e3,{reduceCPUUtilization:()=>{this.updateVideoFramesPerFilterUpdate(Math.min(this.videoFramesPerFilterUpdate+1,10))},increaseCPUUtilization:()=>{this.updateVideoFramesPerFilterUpdate(Math.max(this.videoFramesPerFilterUpdate-1,1))}}),this.delegate.addObserver(this.cpuMonitor)}stringify(t){return JSON.stringify(t,null,2)}handleInitialize(t){if(this.logger.info(`received initialize message: ${this.stringify(t)}`),!t.payload){this.logger.error("failed to initialize module"),this.initWorkerPromise.reject(new Error("failed to initialize the module"));return}const r=this.spec.model;this.worker.postMessage({msg:"loadModel",payload:{modelUrl:r.path,inputHeight:r.input.height,inputWidth:r.input.width,inputChannels:4,modelRangeMin:r.input.range[0],modelRangeMax:r.input.range[1],blurPixels:0}}),this.initWorkerPromise.resolve({})}handleLoadModel(t){if(this.logger.info(`received load model message: ${this.stringify(t)}`),t.payload!==2){this.logger.error("failed to load model! status: "+t.payload),this.loadModelPromise.reject(new Error("failed to load model! status: "+t.payload));return}this.modelInitialized=!0,this.loadModelPromise.resolve({})}handlePredict(t){this.mask$.next(t.payload.output)}handleWorkerEvent(t){const r=t.data;switch(r.msg){case"initialize":this.handleInitialize(r);break;case"loadModel":this.handleLoadModel(r);break;case"predict":this.handlePredict(r);break;default:this.logger.info(`unexpected event msg: ${this.stringify(r)}`);break}}loadAssets(){return S(this,void 0,void 0,function*(){this.logger.info("start initializing the processor");try{this.worker=yield h.loadWorker(this.spec.paths.worker,"BackgroundFilterWorker",{},null),this.worker.addEventListener("message",t=>this.handleWorkerEvent(t)),this.worker.postMessage({msg:"initialize",payload:{wasmPath:this.spec.paths.wasm,simdPath:this.spec.paths.simd}}),yield this.initWorkerPromise.promise,this.logger.info(`successfully initialized the ${this.filterType} worker`),yield this.loadModelPromise.promise,this.logger.info(`successfully loaded ${this.filterType} worker segmentation model`)}catch(t){throw new Error(`could not initialize the ${this.filterType} video frame processor due to '${t.message}'`)}this.logger.info(`successfully initialized the ${this.filterType} processor`)})}process(t){return S(this,void 0,void 0,function*(){if(this.destroyed)return t;this.frameCounter.frameReceived(t[0].framerate),this.cpuMonitor.frameReceived();const r=t[0].asCanvasElement();if(!r)return t;if(!this.modelInitialized)return t[0]=this.canvasVideoFrameBuffer,t;const l=r.width,p=r.height;if(l===0||p===0)return t;this.sourceWidth===0&&(this.sourceWidth=l,this.sourceHeight=p,this.targetCanvas.width=this.sourceWidth,this.targetCanvas.height=this.sourceHeight,this.logger.info(`${this.filterType} source width: ${this.sourceWidth}`),this.logger.info(`${this.filterType} source height: ${this.sourceHeight}`),this.initOnFirstExecution()),(this.sourceWidth!==l||this.sourceHeight!==p)&&(this.sourceWidth=l,this.sourceHeight=p,this.targetCanvas.width=this.sourceWidth,this.targetCanvas.height=this.sourceHeight);try{this.frameCounter.filterSubmitted();let v=this.mask$.value;const g=this.spec.model.input.width/r.width,u=this.spec.model.input.height/r.height;this.scaledCanvas===void 0&&(this.scaledCanvas=document.createElement("canvas"),this.scaledCanvas.width=this.spec.model.input.width,this.scaledCanvas.height=this.spec.model.input.height);const s=this.scaledCanvas.getContext("2d");s.save(),s.scale(g,u),s.drawImage(r,0,0),s.restore();const I=s.getImageData(0,0,this.scaledCanvas.width,this.scaledCanvas.height);if(this.frameNumber%this.videoFramesPerFilterUpdate===0){const M=this.mask$.whenNext();this.worker.postMessage({msg:"predict",payload:I},[I.data.buffer]),v=yield M}this.destroyed||this.drawImageWithMask(r,v)}catch(v){return this.logger.error(`could not process ${this.filterType} frame buffer due to ${v}`),t}finally{this.frameCounter.filterComplete(),this.frameNumber++}return t[0]=this.canvasVideoFrameBuffer,t})}updateVideoFramesPerFilterUpdate(t){t!==this.videoFramesPerFilterUpdate&&(this.videoFramesPerFilterUpdate=t,this.logger.info(`Adjusting filter rate to compensate for CPU utilization. Filter rate is ${this.videoFramesPerFilterUpdate} video frames per filter.`))}destroy(){var t,r,l,p;return S(this,void 0,void 0,function*(){this.destroyed=!0,this.delegate.removeObserver(this.cpuMonitor),this.canvasVideoFrameBuffer.destroy(),(t=this.worker)===null||t===void 0||t.postMessage({msg:"destroy"}),(r=this.worker)===null||r===void 0||r.postMessage({msg:"stop"}),(l=this.targetCanvas)===null||l===void 0||l.remove(),this.targetCanvas=void 0,(p=this.scaledCanvas)===null||p===void 0||p.remove(),this.scaledCanvas=void 0,this.logger.info(`${this.filterType} frame process destroyed`)})}constructor(t,r,l,p,v){this.targetCanvas=document.createElement("canvas"),this.canvasCtx=this.targetCanvas.getContext("2d"),this.canvasVideoFrameBuffer=new m.default(this.targetCanvas),this.mask$=new a,this.sourceWidth=0,this.sourceHeight=0,this.frameNumber=0,this.videoFramesPerFilterUpdate=1,this.initWorkerPromise=Ah.createWorkerPromise(),this.loadModelPromise=Ah.createWorkerPromise(),this.modelInitialized=!1,this.destroyed=!1,this.filterType=t,this.validateSpec(r),this.validateOptions(l),this.spec=r,this.logger=l.logger,this.delegate=p,this.initCPUMonitor(l),this.eventController=v}},"BackgroundFilterProcessor");c.default=n;let i=o(class{filterCPUUtilizationHigh(){const t=Date.now();t-this.lastCPUChangeTimestamp>=this.monitoringPeriodMillis&&(this.lastCPUChangeTimestamp=t,this.observer.reduceCPUUtilization())}frameReceived(){const t=Date.now();t-this.lastCPUChangeTimestamp>=this.monitoringPeriodMillis*2&&(this.lastCPUChangeTimestamp=t,this.observer.increaseCPUUtilization())}constructor(t,r){this.monitoringPeriodMillis=t,this.observer=r,this.lastCPUChangeTimestamp=0}},"BackgroundFilterMonitor");c.BackgroundFilterMonitor=i},CtrA:function(N,c,d){"use strict";Object.defineProperty(c,"__esModule",{value:!0});let S=o(class{text(){return new TextDecoder().decode(this.data)}json(){return JSON.parse(new TextDecoder().decode(this.data))}constructor(m,f,a,n,i,e){this.timestampMs=m,this.topic=f,this.data=a,this.senderAttendeeId=n,this.senderExternalUserId=i,this.throttled=!!e}},"DataMessage");c.default=S},CuL1:function(N,c,d){var S=d("mHY4"),h=d("/tXR"),m=d("GRew");N.exports=function(f){var a=S(f),n=h.f;if(n)for(var i=n(f),e=m.f,t=0,r;i.length>t;)e.call(f,r=i[t++])&&a.push(r);return a}},CxCb:function(N,c,d){"use strict";Object.defineProperty(c,"__esModule",{value:!0});let S=o(class{calculateScore(m,f,a){(a||f===null)&&(f=0),this.volumes.hasOwnProperty(m)||(this.volumes[m]=0),f>this.silenceThreshold?f=1:f=0;const n=this.volumes[m]*this.speakerWeight+f*(1-this.speakerWeight);this.volumes[m]=n;for(const i in this.volumes)i!==m&&(this.volumes[i]=Math.max(this.volumes[i]-this.takeoverRate*f,0));return n<this.cutoffThreshold?0:n}prioritizeVideoSendBandwidthForActiveSpeaker(){return!0}constructor(m=.9,f=.01,a=.2,n=.2){this.speakerWeight=m,this.cutoffThreshold=f,this.silenceThreshold=a,this.takeoverRate=n,this.volumes={}}},"DefaultActiveSpeakerPolicy");c.default=S},Czkq:function(N,c,d){"use strict";Object.defineProperty(c,"__esModule",{value:!0});let S=o(class{addObserver(m){this.observers.add(m)}removeObserver(m){this.observers.delete(m)}filterFrameDurationHigh(m){var f;for(const a of this.observers)(f=a.filterFrameDurationHigh)===null||f===void 0||f.call(a,m)}filterCPUUtilizationHigh(m){var f;for(const a of this.observers)(f=a.filterCPUUtilizationHigh)===null||f===void 0||f.call(a,m)}constructor(){this.observers=new Set}},"BackgroundFilterVideoFrameProcessorDelegate");c.default=S},D3pN:function(N,c,d){"use strict";d.r(c),d.d(c,"__extends",function(){return h}),d.d(c,"__assign",function(){return m}),d.d(c,"__rest",function(){return f}),d.d(c,"__decorate",function(){return a}),d.d(c,"__param",function(){return n}),d.d(c,"__metadata",function(){return i}),d.d(c,"__awaiter",function(){return e}),d.d(c,"__generator",function(){return t}),d.d(c,"__createBinding",function(){return r}),d.d(c,"__exportStar",function(){return l}),d.d(c,"__values",function(){return p}),d.d(c,"__read",function(){return v}),d.d(c,"__spread",function(){return g}),d.d(c,"__spreadArrays",function(){return u}),d.d(c,"__await",function(){return s}),d.d(c,"__asyncGenerator",function(){return I}),d.d(c,"__asyncDelegator",function(){return M}),d.d(c,"__asyncValues",function(){return R}),d.d(c,"__makeTemplateObject",function(){return B}),d.d(c,"__importStar",function(){return j}),d.d(c,"__importDefault",function(){return A}),d.d(c,"__classPrivateFieldGet",function(){return D}),d.d(c,"__classPrivateFieldSet",function(){return $});/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var S=o(function(O,P){return S=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(k,K){k.__proto__=K}||function(k,K){for(var Z in K)K.hasOwnProperty(Z)&&(k[Z]=K[Z])},S(O,P)},"extendStatics");function h(O,P){S(O,P);function k(){this.constructor=O}o(k,"__"),O.prototype=P===null?Object.create(P):(k.prototype=P.prototype,new k)}o(h,"__extends");var m=o(function(){return m=Object.assign||o(function(P){for(var k,K=1,Z=arguments.length;K<Z;K++){k=arguments[K];for(var Y in k)Object.prototype.hasOwnProperty.call(k,Y)&&(P[Y]=k[Y])}return P},"__assign"),m.apply(this,arguments)},"__assign");function f(O,P){var k={};for(var K in O)Object.prototype.hasOwnProperty.call(O,K)&&P.indexOf(K)<0&&(k[K]=O[K]);if(O!=null&&typeof Object.getOwnPropertySymbols=="function")for(var Z=0,K=Object.getOwnPropertySymbols(O);Z<K.length;Z++)P.indexOf(K[Z])<0&&Object.prototype.propertyIsEnumerable.call(O,K[Z])&&(k[K[Z]]=O[K[Z]]);return k}o(f,"__rest");function a(O,P,k,K){var Z=arguments.length,Y=Z<3?P:K===null?K=Object.getOwnPropertyDescriptor(P,k):K,ie;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")Y=Reflect.decorate(O,P,k,K);else for(var ge=O.length-1;ge>=0;ge--)(ie=O[ge])&&(Y=(Z<3?ie(Y):Z>3?ie(P,k,Y):ie(P,k))||Y);return Z>3&&Y&&Object.defineProperty(P,k,Y),Y}o(a,"__decorate");function n(O,P){return function(k,K){P(k,K,O)}}o(n,"__param");function i(O,P){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(O,P)}o(i,"__metadata");function e(O,P,k,K){function Z(Y){return Y instanceof k?Y:new k(function(ie){ie(Y)})}return o(Z,"adopt"),new(k||(k=Promise))(function(Y,ie){function ge(we){try{le(K.next(we))}catch(Be){ie(Be)}}o(ge,"fulfilled");function Ie(we){try{le(K.throw(we))}catch(Be){ie(Be)}}o(Ie,"rejected");function le(we){we.done?Y(we.value):Z(we.value).then(ge,Ie)}o(le,"step"),le((K=K.apply(O,P||[])).next())})}o(e,"__awaiter");function t(O,P){var k={label:0,sent:function(){if(Y[0]&1)throw Y[1];return Y[1]},trys:[],ops:[]},K,Z,Y,ie;return ie={next:ge(0),throw:ge(1),return:ge(2)},typeof Symbol=="function"&&(ie[Symbol.iterator]=function(){return this}),ie;function ge(le){return function(we){return Ie([le,we])}}function Ie(le){if(K)throw new TypeError("Generator is already executing.");for(;k;)try{if(K=1,Z&&(Y=le[0]&2?Z.return:le[0]?Z.throw||((Y=Z.return)&&Y.call(Z),0):Z.next)&&!(Y=Y.call(Z,le[1])).done)return Y;switch(Z=0,Y&&(le=[le[0]&2,Y.value]),le[0]){case 0:case 1:Y=le;break;case 4:return k.label++,{value:le[1],done:!1};case 5:k.label++,Z=le[1],le=[0];continue;case 7:le=k.ops.pop(),k.trys.pop();continue;default:if(Y=k.trys,!(Y=Y.length>0&&Y[Y.length-1])&&(le[0]===6||le[0]===2)){k=0;continue}if(le[0]===3&&(!Y||le[1]>Y[0]&&le[1]<Y[3])){k.label=le[1];break}if(le[0]===6&&k.label<Y[1]){k.label=Y[1],Y=le;break}if(Y&&k.label<Y[2]){k.label=Y[2],k.ops.push(le);break}Y[2]&&k.ops.pop(),k.trys.pop();continue}le=P.call(O,k)}catch(we){le=[6,we],Z=0}finally{K=Y=0}if(le[0]&5)throw le[1];return{value:le[0]?le[1]:void 0,done:!0}}}o(t,"__generator");function r(O,P,k,K){K===void 0&&(K=k),O[K]=P[k]}o(r,"__createBinding");function l(O,P){for(var k in O)k!=="default"&&!P.hasOwnProperty(k)&&(P[k]=O[k])}o(l,"__exportStar");function p(O){var P=typeof Symbol=="function"&&Symbol.iterator,k=P&&O[P],K=0;if(k)return k.call(O);if(O&&typeof O.length=="number")return{next:function(){return O&&K>=O.length&&(O=void 0),{value:O&&O[K++],done:!O}}};throw new TypeError(P?"Object is not iterable.":"Symbol.iterator is not defined.")}o(p,"__values");function v(O,P){var k=typeof Symbol=="function"&&O[Symbol.iterator];if(!k)return O;var K=k.call(O),Z,Y=[],ie;try{for(;(P===void 0||P-- >0)&&!(Z=K.next()).done;)Y.push(Z.value)}catch(ge){ie={error:ge}}finally{try{Z&&!Z.done&&(k=K.return)&&k.call(K)}finally{if(ie)throw ie.error}}return Y}o(v,"__read");function g(){for(var O=[],P=0;P<arguments.length;P++)O=O.concat(v(arguments[P]));return O}o(g,"__spread");function u(){for(var O=0,P=0,k=arguments.length;P<k;P++)O+=arguments[P].length;for(var K=Array(O),Z=0,P=0;P<k;P++)for(var Y=arguments[P],ie=0,ge=Y.length;ie<ge;ie++,Z++)K[Z]=Y[ie];return K}o(u,"__spreadArrays");function s(O){return this instanceof s?(this.v=O,this):new s(O)}o(s,"__await");function I(O,P,k){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var K=k.apply(O,P||[]),Z,Y=[];return Z={},ie("next"),ie("throw"),ie("return"),Z[Symbol.asyncIterator]=function(){return this},Z;function ie(Re){K[Re]&&(Z[Re]=function(Ne){return new Promise(function(_e,Ze){Y.push([Re,Ne,_e,Ze])>1||ge(Re,Ne)})})}function ge(Re,Ne){try{Ie(K[Re](Ne))}catch(_e){Be(Y[0][3],_e)}}function Ie(Re){Re.value instanceof s?Promise.resolve(Re.value.v).then(le,we):Be(Y[0][2],Re)}function le(Re){ge("next",Re)}function we(Re){ge("throw",Re)}function Be(Re,Ne){Re(Ne),Y.shift(),Y.length&&ge(Y[0][0],Y[0][1])}}o(I,"__asyncGenerator");function M(O){var P,k;return P={},K("next"),K("throw",function(Z){throw Z}),K("return"),P[Symbol.iterator]=function(){return this},P;function K(Z,Y){P[Z]=O[Z]?function(ie){return(k=!k)?{value:s(O[Z](ie)),done:Z==="return"}:Y?Y(ie):ie}:Y}}o(M,"__asyncDelegator");function R(O){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var P=O[Symbol.asyncIterator],k;return P?P.call(O):(O=typeof p=="function"?p(O):O[Symbol.iterator](),k={},K("next"),K("throw"),K("return"),k[Symbol.asyncIterator]=function(){return this},k);function K(Y){k[Y]=O[Y]&&function(ie){return new Promise(function(ge,Ie){ie=O[Y](ie),Z(ge,Ie,ie.done,ie.value)})}}function Z(Y,ie,ge,Ie){Promise.resolve(Ie).then(function(le){Y({value:le,done:ge})},ie)}}o(R,"__asyncValues");function B(O,P){return Object.defineProperty?Object.defineProperty(O,"raw",{value:P}):O.raw=P,O}o(B,"__makeTemplateObject");function j(O){if(O&&O.__esModule)return O;var P={};if(O!=null)for(var k in O)Object.hasOwnProperty.call(O,k)&&(P[k]=O[k]);return P.default=O,P}o(j,"__importStar");function A(O){return O&&O.__esModule?O:{default:O}}o(A,"__importDefault");function D(O,P){if(!P.has(O))throw new TypeError("attempted to get private field on non-instance");return P.get(O)}o(D,"__classPrivateFieldGet");function $(O,P,k){if(!P.has(O))throw new TypeError("attempted to set private field on non-instance");return P.set(O,k),k}o($,"__classPrivateFieldSet")},D7wJ:function(N,c,d){"use strict";var S=this&&this.__awaiter||function(i,e,t,r){function l(p){return p instanceof t?p:new t(function(v){v(p)})}return o(l,"adopt"),new(t||(t=Promise))(function(p,v){function g(I){try{s(r.next(I))}catch(M){v(M)}}o(g,"fulfilled");function u(I){try{s(r.throw(I))}catch(M){v(M)}}o(u,"rejected");function s(I){I.done?p(I.value):l(I.value).then(g,u)}o(s,"step"),s((r=r.apply(i,e||[])).next())})};Object.defineProperty(c,"__esModule",{value:!0});const h=d("3i7i"),m=d("HbHZ"),f=d("XCDq"),a=d("j+uH");let n=o(class Rh extends a.default{run(){return S(this,void 0,void 0,function*(){this.context.removableObservers.push(this),this.context.signalingClient.registerObserver(this),this.context.realtimeController.realtimeSubscribeToSendDataMessage(this.sendDataMessageHandler)})}removeObserver(){this.context.realtimeController.realtimeUnsubscribeFromSendDataMessage(this.sendDataMessageHandler),this.context.signalingClient.removeObserver(this)}handleSignalingClientEvent(e){if(e.type===m.default.ReceivedSignalFrame&&e.message.type===f.SdkSignalFrame.Type.DATA_MESSAGE)for(const t of e.message.dataMessage.messages){const r=new h.default(t.ingestTimeNs/1e6,t.topic,t.data,t.senderAttendeeId,t.senderExternalUserId,t.ingestTimeNs===0);this.context.realtimeController.realtimeReceiveDataMessage(r)}}validateDataMessage(e,t,r){if(!Rh.TOPIC_REGEX.test(e))throw new Error("Invalid topic");if(t.length>Rh.DATA_SIZE)throw new Error("Data size has to be less than 2048 bytes");if(r&&r<0)throw new Error("The life time of the message has to be non negative")}constructor(e){super(e.logger),this.context=e,this.taskName="SendAndReceiveDataMessagesTask",this.sendDataMessageHandler=(t,r,l)=>{if(this.context.signalingClient.ready()){let p;r instanceof Uint8Array?p=r:typeof r=="string"?p=new TextEncoder().encode(r):p=new TextEncoder().encode(JSON.stringify(r)),this.validateDataMessage(t,p,l);const v=f.SdkDataMessagePayload.create();v.topic=t,v.lifetimeMs=l,v.data=p;const g=f.SdkDataMessageFrame.create();g.messages=[v],this.context.signalingClient.sendDataMessage(g)}else this.context.logger.error("Signaling client is not ready")}}},"SendAndReceiveDataMessagesTask");c.default=n,n.TOPIC_REGEX=new RegExp(/^[a-zA-Z0-9_-]{1,36}$/),n.DATA_SIZE=2048},DE61:function(N,c,d){"use strict";Object.defineProperty(c,"__esModule",{value:!0});let S=o(class iv{static builder(){return new iv}withDefaultModel(){return this.withSelfieSegmentationDefaults()}withSelfieSegmentationDefaults(){const m={height:144,width:256,range:[0,1],channels:3},f={height:144,width:256,range:[0,1],channels:1},a="https://static.sdkassets.chime.aws/bgblur/models/selfie_segmentation_landscape.tflite";return this.path=a,this.input=m,this.output=f,this}withPath(m){return this.path=m,this}withInput(m){return this.input=m,this}withOutput(m){return this.output=m,this}validate(){if(!this.path)throw new Error("model spec path is not set");if(!this.input)throw new Error("model spec input is not set");if(!this.output)throw new Error("model spec output is not set")}build(){return this.validate(),{path:this.path,input:this.input,output:this.output}}constructor(){this.path=null,this.input=null,this.output=null}},"ModelSpecBuilder");c.default=S},DG83:function(N,c,d){"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.VideoLogEvent=void 0;var S;(function(h){h[h.InputAttached=0]="InputAttached",h[h.SendingFailed=1]="SendingFailed",h[h.SendingSuccess=2]="SendingSuccess"})(S=c.VideoLogEvent||(c.VideoLogEvent={})),c.default=S},DJNY:function(N,c,d){"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.default={hash:"bd71fb9",raw:"v3.14.1",semverString:"3.14.1"}},DJgg:function(N,c,d){"use strict";N.exports=h;var S=d("kU+7");(h.prototype=Object.create(S.EventEmitter.prototype)).constructor=h;function h(m,f,a){if(typeof m!="function")throw TypeError("rpcImpl must be a function");S.EventEmitter.call(this),this.rpcImpl=m,this.requestDelimited=Boolean(f),this.responseDelimited=Boolean(a)}o(h,"Service"),h.prototype.rpcCall=o(function m(f,a,n,i,e){if(!i)throw TypeError("request must be specified");var t=this;if(!e)return S.asPromise(m,t,f,a,n,i);if(!t.rpcImpl){setTimeout(function(){e(Error("already ended"))},0);return}try{return t.rpcImpl(f,a[t.requestDelimited?"encodeDelimited":"encode"](i).finish(),o(function(l,p){if(l)return t.emit("error",l,f),e(l);if(p===null){t.end(!0);return}if(!(p instanceof n))try{p=n[t.responseDelimited?"decodeDelimited":"decode"](p)}catch(v){return t.emit("error",v,f),e(v)}return t.emit("data",p,f),e(null,p)},"rpcCallback"))}catch(r){t.emit("error",r,f),setTimeout(function(){e(r)},0);return}},"rpcCall"),h.prototype.end=o(function(f){return this.rpcImpl&&(f||this.rpcImpl(null,null,null),this.rpcImpl=null,this.emit("end").off()),this},"end")},DUgj:function(N,c,d){"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.convertServerSideNetworkAdaptionEnumToSignaled=c.convertServerSideNetworkAdaptionEnumFromSignaled=c.ServerSideNetworkAdaption=void 0;const S=d("f2XL");var h;(function(a){a[a.Default=0]="Default",a[a.None=1]="None",a[a.BandwidthProbing=2]="BandwidthProbing"})(h=c.ServerSideNetworkAdaption||(c.ServerSideNetworkAdaption={})),c.default=h;function m(a){switch(a){case S.SdkServerSideNetworkAdaption.DEFAULT:return h.Default;case S.SdkServerSideNetworkAdaption.NONE:return h.None;case S.SdkServerSideNetworkAdaption.BANDWIDTH_PROBING:return h.BandwidthProbing}}o(m,"convertServerSideNetworkAdaptionEnumFromSignaled"),c.convertServerSideNetworkAdaptionEnumFromSignaled=m;function f(a){switch(a){case h.Default:return S.SdkServerSideNetworkAdaption.DEFAULT;case h.None:return S.SdkServerSideNetworkAdaption.NONE;case h.BandwidthProbing:return S.SdkServerSideNetworkAdaption.BANDWIDTH_PROBING}}o(f,"convertServerSideNetworkAdaptionEnumToSignaled"),c.convertServerSideNetworkAdaptionEnumToSignaled=f},DbLV:function(N,c,d){"use strict";Object.defineProperty(c,"__esModule",{value:!0});let S=o(class{matchesConstraints(m){return JSON.stringify(this.constraints)===JSON.stringify(m)}constructor(){this.groupId=""}},"DeviceSelection");c.default=S},DcUe:function(N,c,d){"use strict";Object.defineProperty(c,"__esModule",{value:!0});const S=d("XJrD");let h=o(class{updateConnectionMetric(f){}chooseMediaTrackConstraints(){return{}}chooseEncodingParameters(){return new Map}updateIndex(f){}wantsResubscribe(){return!1}chooseCaptureAndEncodeParameters(){return new S.default(0,0,0,0,!1)}maxBandwidthKbps(){return 0}setIdealMaxBandwidthKbps(f){}setHasBandwidthPriority(f){}constructor(){}},"NoVideoUplinkBandwidthPolicy");c.default=h},DmQM:function(N,c,d){"use strict";Object.defineProperty(c,"__esModule",{value:!0});let S=o(class rv{static create(m,f){const a=/^[a-zA-Z0-9]+[a-zA-Z0-9_-]*[a-zA-Z0-9]+$/g;if(!m||m.length>32)throw new Error("appName should be a valid string and 1 to 32 characters in length");if(!a.test(m))throw new Error(`appName must satisfy ${a} regular expression`);const n=/^(0|[1-9]\d*)\.(0|[1-9]\d*)\.(0|[1-9]\d*)(?:-((?:0|[1-9]\d*|\d*[a-zA-Z-][0-9a-zA-Z-]*)(?:\.(?:0|[1-9]\d*|\d*[a-zA-Z-][0-9a-zA-Z-]*))*))?(?:\+([0-9a-zA-Z-]+(?:\.[0-9a-zA-Z-]+)*))?$/gm;if(!f||f.length>32)throw new Error("appVersion should be a valid string and 1 to 32 characters in length");if(!n.test(f))throw new Error("appVersion must satisfy Semantic Versioning format");return new rv(m,f)}constructor(m,f){this.appName=m,this.appVersion=f}},"ApplicationMetadata");c.default=S},DrT7:function(N,c,d){var S=d("ekG2"),h=d("d+lc"),m=o(function(f,a){if(h(f),!S(a)&&a!==null)throw TypeError(a+": can't set as prototype!")},"check");N.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(f,a,n){try{n=d("nAx8")(Function.call,d("TSC6").f(Object.prototype,"__proto__").set,2),n(f,[]),a=!(f instanceof Array)}catch{a=!0}return o(function(e,t){return m(e,t),a?e.__proto__=t:n(e,t),e},"setPrototypeOf")}({},!1):void 0),check:m}},E6e8:function(N,c,d){"use strict";Object.defineProperty(c,"__esModule",{value:!0});var S=d("dJwD");S.__exportStar(d("Bkbp"),c)},EJiy:function(N,c,d){"use strict";c.__esModule=!0;var S=d("F+2o"),h=n(S),m=d("+JPL"),f=n(m),a=typeof f.default=="function"&&typeof h.default=="symbol"?function(i){return typeof i}:function(i){return i&&typeof f.default=="function"&&i.constructor===f.default&&i!==f.default.prototype?"symbol":typeof i};function n(i){return i&&i.__esModule?i:{default:i}}o(n,"_interopRequireDefault"),c.default=typeof f.default=="function"&&a(h.default)==="symbol"?function(i){return typeof i>"u"?"undefined":a(i)}:function(i){return i&&typeof f.default=="function"&&i.constructor===f.default&&i!==f.default.prototype?"symbol":typeof i>"u"?"undefined":a(i)}},ENu8:function(N,c){N.exports=function(d,S){return{enumerable:!(d&1),configurable:!(d&2),writable:!(d&4),value:S}}},"EX/T":function(N,c,d){"use strict";d.r(c),d.d(c,"fromHex",function(){return m}),d.d(c,"toHex",function(){return f});const S={},h={};for(let a=0;a<256;a++){let n=a.toString(16).toLowerCase();n.length===1&&(n=`0${n}`),S[a]=n,h[n]=a}function m(a){if(a.length%2!==0)throw new Error("Hex encoded strings must have an even number length");const n=new Uint8Array(a.length/2);for(let i=0;i<a.length;i+=2){const e=a.slice(i,i+2).toLowerCase();if(e in h)n[i/2]=h[e];else throw new Error(`Cannot decode unrecognized sequence ${e} as hexadecimal`)}return n}o(m,"fromHex");function f(a){let n="";for(let i=0;i<a.byteLength;i++)n+=S[a[i]];return n}o(f,"toHex")},EjQB:function(N,c,d){"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.VideoFxSegmentationRateManager=void 0;const S=d("6qF3");let h=o(class{submitFrame(){this.frameCountOverSamplingPeriod++}shouldApplySegmentation(){return this.frameCountOverSamplingPeriod%this.framesPerSegmentation===0}startSegmentation(){this.frameSegmentationStartTime=performance.now()}completeSegmentation(){this.totalSegmentationDurationOverSamplingPeriod+=performance.now()-this.frameSegmentationStartTime,this.frameCountOverSamplingPeriod>=S.RESOURCE_CONSTRAINTS.SEGMENTATION_SAMPLING_PERIOD_FRAME_COUNT&&this.adjustFramesPerSegmentation(this.totalSegmentationDurationOverSamplingPeriod/(performance.now()-this.samplingPeriodStartTime))}adjustFramesPerSegmentation(f){f>this.targetSegmentationCyclePercentage?(this.framesPerSegmentation++,this.logger.info(`Segmentation cycle percentage above the configured maximal value. Decreasing segmentation rate to 1 segmentation per ${this.framesPerSegmentation} frames`)):this.framesPerSegmentation>1&&f<this.targetSegmentationCyclePercentage&&(this.framesPerSegmentation--,this.logger.info(`Segmentation cycle percentage below the configured maximal value. Increasing segmentation rate to 1 segmentation per ${this.framesPerSegmentation} frames`)),this.totalSegmentationDurationOverSamplingPeriod=0,this.frameCountOverSamplingPeriod=0,this.samplingPeriodStartTime=performance.now()}constructor(f,a){this.logger=f,this.targetSegmentationCyclePercentage=a/100,this.frameCountOverSamplingPeriod=0,this.totalSegmentationDurationOverSamplingPeriod=0,this.samplingPeriodStartTime=performance.now(),this.framesPerSegmentation=S.RESOURCE_CONSTRAINTS.SEGMENTATION_DEFAULT_FRAMES_PER_SEGMENTATION}},"VideoFxSegmentationRateManager");c.VideoFxSegmentationRateManager=h},EkyC:function(N,c,d){"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.loadWorker=void 0;const S=d("o3U+"),h={method:"GET",mode:"cors",credentials:"omit",redirect:"follow",referrerPolicy:"no-referrer"},m=o((f,a,n,i)=>{i==null||i.debug(`Loading ${a} worker from ${f}.`);let e=!1;try{e=self.origin===new URL(f).origin}catch(t){i==null||i.error("Could not compare origins.",t)}if(e){const t=S.withQueryString(f,n);return Promise.resolve(new Worker(t,{name:a}))}return S.fetchWithBehavior(f,h,n).then(t=>{if(t.ok)return t.blob().then(r=>new Worker(window.URL.createObjectURL(r)));throw new Error("Fetch failed.")})},"loadWorker");c.loadWorker=m},"F+2o":function(N,c,d){N.exports={default:d("UR8F"),__esModule:!0}},F7zz:function(N,c,d){"use strict";Object.defineProperty(c,"__esModule",{value:!0});const S=d("zcg+");let h=o(class extends S.default{static nextTick(f){setTimeout(f,0)}constructor(){super(0)}},"AsyncScheduler");c.default=h},FCN7:function(N,c,d){"use strict";var S=this&&this.__awaiter||function(n,i,e,t){function r(l){return l instanceof e?l:new e(function(p){p(l)})}return o(r,"adopt"),new(e||(e=Promise))(function(l,p){function v(s){try{u(t.next(s))}catch(I){p(I)}}o(v,"fulfilled");function g(s){try{u(t.throw(s))}catch(I){p(I)}}o(g,"rejected");function u(s){s.done?l(s.value):r(s.value).then(v,g)}o(u,"step"),u((t=t.apply(n,i||[])).next())})};Object.defineProperty(c,"__esModule",{value:!0});const h=d("hEYi"),m=d("f2XL"),f=d("aVV0");let a=o(class extends f.default{cancel(){this.taskCanceler&&(this.taskCanceler.cancel(),this.taskCanceler=null)}run(){return S(this,void 0,void 0,function*(){this.context.signalingClient.ready()&&(this.context.signalingClient.leave(),this.context.logger.info("sent leave"),yield this.receiveLeaveAck())})}receiveLeaveAck(){return new Promise((i,e)=>{let t=o(class{cancel(){this.signalingClient.removeObserver(this),e(new Error("LeaveAndReceiveLeaveAckTask got canceled while waiting for IndexFrame"))}handleSignalingClientEvent(p){if(p.isConnectionTerminated()){this.signalingClient.removeObserver(this),this.logger.info("LeaveAndReceiveLeaveAckTask connection terminated"),i();return}p.type===h.default.ReceivedSignalFrame&&p.message.type===m.SdkSignalFrame.Type.LEAVE_ACK&&(this.signalingClient.removeObserver(this),this.logger.info("got leave ack"),i())}constructor(p,v){this.signalingClient=p,this.logger=v}},"Interceptor");const r=new t(this.context.signalingClient,this.context.logger);this.taskCanceler=r,this.context.signalingClient.registerObserver(r)})}constructor(i){super(i.logger),this.context=i,this.taskName="LeaveAndReceiveLeaveAckTask",this.taskCanceler=null}},"LeaveAndReceiveLeaveAckTask");c.default=a},FKpq:function(N,c,d){"use strict";Object.defineProperty(c,"__esModule",{value:!0});const S=d("Mr6q");let h=o(class extends S.default{},"BackgroundBlurVideoFrameProcessorDelegate");c.default=h},FMuk:function(N,c,d){"use strict";Object.defineProperty(c,"__esModule",{value:!0});let S=o(class{add(m){return new Promise((f,a)=>{this.queue=this.queue.then(m).then(f).catch(a)})}constructor(){this.queue=Promise.resolve()}},"PromiseQueue");c.default=S},FYw3:function(N,c,d){"use strict";c.__esModule=!0;var S=d("EJiy"),h=m(S);function m(f){return f&&f.__esModule?f:{default:f}}o(m,"_interopRequireDefault"),c.default=function(f,a){if(!f)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return a&&((typeof a>"u"?"undefined":(0,h.default)(a))==="object"||typeof a=="function")?a:f}},FgkJ:function(N,c){N.exports=function(d){if(typeof d!="function")throw TypeError(d+" is not a function!");return d}},Fm4y:function(N,c,d){"use strict";var S=this&&this.__awaiter||function(f,a,n,i){function e(t){return t instanceof n?t:new n(function(r){r(t)})}return o(e,"adopt"),new(n||(n=Promise))(function(t,r){function l(g){try{v(i.next(g))}catch(u){r(u)}}o(l,"fulfilled");function p(g){try{v(i.throw(g))}catch(u){r(u)}}o(p,"rejected");function v(g){g.done?t(g.value):e(g.value).then(l,p)}o(v,"step"),v((i=i.apply(f,a||[])).next())})};Object.defineProperty(c,"__esModule",{value:!0});const h=d("0OOd");let m=o(class{addObserver(a){this.audioVideoController.addObserver(a),this.trace("addObserver")}removeObserver(a){this.audioVideoController.removeObserver(a),this.trace("removeObserver")}setAudioProfile(a){this.trace("setAudioProfile",a),this.audioVideoController.setAudioProfile(a)}start(a){this.audioVideoController.start(a),this.trace("start")}stop(){this.audioVideoController.stop(),this.trace("stop")}getRTCPeerConnectionStats(a){return this.trace("getRTCPeerConnectionStats",a?a.id:null),this.audioVideoController.getRTCPeerConnectionStats(a)}bindAudioElement(a){const n=this.audioMixController.bindAudioElement(a);return this.trace("bindAudioElement",a.id,n),n}unbindAudioElement(){this.audioMixController.unbindAudioElement(),this.trace("unbindAudioElement")}getCurrentMeetingAudioStream(){return this.trace("getCurrentConferenceStream"),this.audioMixController.getCurrentMeetingAudioStream()}addAudioMixObserver(a){this.trace("addAudioMixObserver"),this.audioMixController.addAudioMixObserver(a)}removeAudioMixObserver(a){this.trace("removeAudioMixObserver"),this.audioMixController.removeAudioMixObserver(a)}bindVideoElement(a,n){this.videoTileController.bindVideoElement(a,n),this.trace("bindVideoElement",{tileId:a,videoElementId:n.id})}unbindVideoElement(a){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;this.videoTileController.unbindVideoElement(a,n),this.trace("unbindVideoElement",{tileId:a,cleanUpVideoElement:n})}startLocalVideoTile(){const a=this.videoTileController.startLocalVideoTile();return this.trace("startLocalVideoTile",null,a),a}stopLocalVideoTile(){this.videoTileController.stopLocalVideoTile(),this.trace("stopLocalVideoTile")}hasStartedLocalVideoTile(){const a=this.videoTileController.hasStartedLocalVideoTile();return this.trace("hasStartedLocalVideoTile",null,a),a}removeLocalVideoTile(){this.videoTileController.removeLocalVideoTile(),this.trace("removeLocalVideoTile")}getLocalVideoTile(){const a=this.videoTileController.getLocalVideoTile();return this.trace("getLocalVideoTile"),a}pauseVideoTile(a){this.videoTileController.pauseVideoTile(a),this.trace("pauseVideoTile",a)}unpauseVideoTile(a){this.videoTileController.unpauseVideoTile(a),this.trace("unpauseVideoTile",a)}getVideoTile(a){const n=this.videoTileController.getVideoTile(a);return this.trace("getVideoTile",a),n}getAllRemoteVideoTiles(){const a=this.videoTileController.getAllRemoteVideoTiles();return this.trace("getAllRemoteVideoTiles"),a}getAllVideoTiles(){const a=this.videoTileController.getAllVideoTiles();return this.trace("getAllVideoTiles"),a}addVideoTile(){const a=this.videoTileController.addVideoTile();return this.trace("addVideoTile",null,a.state()),a}removeVideoTile(a){this.videoTileController.removeVideoTile(a),this.trace("removeVideoTile",a)}removeVideoTilesByAttendeeId(a){const n=this.videoTileController.removeVideoTilesByAttendeeId(a);return this.trace("removeVideoTilesByAttendeeId",a,n),n}removeAllVideoTiles(){this.videoTileController.removeAllVideoTiles(),this.trace("removeAllVideoTiles")}captureVideoTile(a){const n=this.videoTileController.captureVideoTile(a);return this.trace("captureVideoTile",a),n}realtimeSubscribeToAttendeeIdPresence(a){this.realtimeController.realtimeSubscribeToAttendeeIdPresence(a),this.trace("realtimeSubscribeToAttendeeIdPresence")}realtimeUnsubscribeToAttendeeIdPresence(a){this.realtimeController.realtimeUnsubscribeToAttendeeIdPresence(a),this.trace("realtimeUnsubscribeToAttendeeIdPresence")}realtimeSetCanUnmuteLocalAudio(a){this.realtimeController.realtimeSetCanUnmuteLocalAudio(a),this.trace("realtimeSetCanUnmuteLocalAudio",a)}realtimeSubscribeToSetCanUnmuteLocalAudio(a){this.realtimeController.realtimeSubscribeToSetCanUnmuteLocalAudio(a),this.trace("realtimeSubscribeToSetCanUnmuteLocalAudio")}realtimeUnsubscribeToSetCanUnmuteLocalAudio(a){this.realtimeController.realtimeUnsubscribeToSetCanUnmuteLocalAudio(a),this.trace("realtimeUnsubscribeToSetCanUnmuteLocalAudio")}realtimeCanUnmuteLocalAudio(){const a=this.realtimeController.realtimeCanUnmuteLocalAudio();return this.trace("realtimeCanUnmuteLocalAudio",null,a),a}realtimeMuteLocalAudio(){this.realtimeController.realtimeMuteLocalAudio(),this.trace("realtimeMuteLocalAudio")}realtimeUnmuteLocalAudio(){const a=this.realtimeController.realtimeUnmuteLocalAudio();return this.trace("realtimeUnmuteLocalAudio"),a}realtimeSubscribeToMuteAndUnmuteLocalAudio(a){this.realtimeController.realtimeSubscribeToMuteAndUnmuteLocalAudio(a),this.trace("realtimeSubscribeToMuteAndUnmuteLocalAudio")}realtimeUnsubscribeToMuteAndUnmuteLocalAudio(a){this.realtimeController.realtimeUnsubscribeToMuteAndUnmuteLocalAudio(a),this.trace("realtimeUnsubscribeToMuteAndUnmuteLocalAudio")}realtimeIsLocalAudioMuted(){const a=this.realtimeController.realtimeIsLocalAudioMuted();return this.trace("realtimeIsLocalAudioMuted"),a}realtimeSubscribeToVolumeIndicator(a,n){this.realtimeController.realtimeSubscribeToVolumeIndicator(a,n),this.trace("realtimeSubscribeToVolumeIndicator",a)}realtimeUnsubscribeFromVolumeIndicator(a,n){this.realtimeController.realtimeUnsubscribeFromVolumeIndicator(a,n),this.trace("realtimeUnsubscribeFromVolumeIndicator",a,n)}realtimeSubscribeToLocalSignalStrengthChange(a){this.realtimeController.realtimeSubscribeToLocalSignalStrengthChange(a),this.trace("realtimeSubscribeToLocalSignalStrengthChange")}realtimeUnsubscribeToLocalSignalStrengthChange(a){this.realtimeController.realtimeUnsubscribeToLocalSignalStrengthChange(a),this.trace("realtimeUnsubscribeToLocalSignalStrengthChange")}realtimeSendDataMessage(a,n,i){this.realtimeController.realtimeSendDataMessage(a,n,i),this.trace("realtimeSendDataMessage")}realtimeSubscribeToReceiveDataMessage(a,n){this.realtimeController.realtimeSubscribeToReceiveDataMessage(a,n),this.trace("realtimeSubscribeToReceiveDataMessage")}realtimeUnsubscribeFromReceiveDataMessage(a){this.realtimeController.realtimeUnsubscribeFromReceiveDataMessage(a),this.trace("realtimeUnsubscribeFromReceiveDataMessage")}realtimeSubscribeToFatalError(a){this.realtimeController.realtimeSubscribeToFatalError(a),this.trace("realtimeSubscribeToFatalError")}realtimeUnsubscribeToFatalError(a){this.realtimeController.realtimeUnsubscribeToFatalError(a),this.trace("realtimeUnsubscribeToFatalError")}subscribeToActiveSpeakerDetector(a,n,i,e){this.audioVideoController.activeSpeakerDetector.subscribe(a,n,i,e),this.trace("subscribeToActiveSpeakerDetector")}unsubscribeFromActiveSpeakerDetector(a){this.audioVideoController.activeSpeakerDetector.unsubscribe(a),this.trace("unsubscribeFromActiveSpeakerDetector")}listAudioInputDevices(){let a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;return S(this,void 0,void 0,function*(){const n=yield this.deviceController.listAudioInputDevices(a);return this.trace("listAudioInputDevices",a,n),n})}listVideoInputDevices(){let a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;return S(this,void 0,void 0,function*(){const n=yield this.deviceController.listVideoInputDevices(a);return this.trace("listVideoInputDevices",a,n),n})}listAudioOutputDevices(){let a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;return S(this,void 0,void 0,function*(){const n=yield this.deviceController.listAudioOutputDevices(a);return this.trace("listAudioOutputDevices",a,n),n})}startAudioInput(a){return S(this,void 0,void 0,function*(){return this.trace("startAudioInput",a),this.deviceController.startAudioInput(a)})}stopAudioInput(){return S(this,void 0,void 0,function*(){return this.trace("stopAudioInput"),this.deviceController.stopAudioInput()})}startVideoInput(a){return S(this,void 0,void 0,function*(){return h.isVideoTransformDevice(a)?this.trace("startVideoInput with transform device"):this.trace("startVideoInput",a),this.deviceController.startVideoInput(a)})}stopVideoInput(){return S(this,void 0,void 0,function*(){return this.trace("stopVideoInput"),this.deviceController.stopVideoInput()})}chooseAudioOutput(a){const n=this.deviceController.chooseAudioOutput(a);return this.trace("chooseAudioOutput",a),n}addDeviceChangeObserver(a){this.deviceController.addDeviceChangeObserver(a),this.trace("addDeviceChangeObserver")}removeDeviceChangeObserver(a){this.deviceController.removeDeviceChangeObserver(a),this.trace("removeDeviceChangeObserver")}createAnalyserNodeForAudioInput(){const a=this.deviceController.createAnalyserNodeForAudioInput();return this.trace("createAnalyserNodeForAudioInput"),a}startVideoPreviewForVideoInput(a){this.deviceController.startVideoPreviewForVideoInput(a),this.trace("startVideoPreviewForVideoInput",a.id)}stopVideoPreviewForVideoInput(a){this.deviceController.stopVideoPreviewForVideoInput(a),this.trace("stopVideoPreviewForVideoInput",a.id)}setDeviceLabelTrigger(a){this.deviceController.setDeviceLabelTrigger(a),this.trace("setDeviceLabelTrigger")}mixIntoAudioInput(a){const n=this.deviceController.mixIntoAudioInput(a);return this.trace("mixIntoAudioInput",a.id),n}chooseVideoInputQuality(a,n,i){this.deviceController.chooseVideoInputQuality(a,n,i),this.trace("chooseVideoInputQuality",{width:a,height:n,frameRate:i})}setVideoMaxBandwidthKbps(a){this.audioVideoController.setVideoMaxBandwidthKbps(a),this.trace("setVideoMaxBandwidthKbps",a)}setVideoCodecSendPreferences(a){this.audioVideoController.setVideoCodecSendPreferences(a),this.trace("setVideoCodecSendPreferences",a)}getVideoInputQualitySettings(){const a=this.deviceController.getVideoInputQualitySettings();return this.trace("getVideoInputQualitySettings"),a}setContentAudioProfile(a){this.trace("setContentAudioProfile",a),this.contentShareController.setContentAudioProfile(a)}enableSimulcastForContentShare(a,n){this.trace("enableSimulcastForContentShare"),this.contentShareController.enableSimulcastForContentShare(a,n)}startContentShare(a){const n=this.contentShareController.startContentShare(a);return this.trace("startContentShare"),n}startContentShareFromScreenCapture(a,n){const i=this.contentShareController.startContentShareFromScreenCapture(a,n);return this.trace("startContentShareFromScreenCapture"),i}pauseContentShare(){this.contentShareController.pauseContentShare(),this.trace("pauseContentShare")}unpauseContentShare(){this.contentShareController.unpauseContentShare(),this.trace("unpauseContentShare")}stopContentShare(){this.contentShareController.stopContentShare(),this.trace("stopContentShare")}addContentShareObserver(a){this.contentShareController.addContentShareObserver(a),this.trace("addContentShareObserver")}removeContentShareObserver(a){this.contentShareController.removeContentShareObserver(a),this.trace("removeContentShareObserver")}setContentShareVideoCodecPreferences(a){this.contentShareController.setContentShareVideoCodecPreferences(a),this.trace("setContentShareVideoCodecPreferences")}trace(a,n,i){const e=this.audioVideoController.configuration.meetingId,t=this.audioVideoController.configuration.credentials.attendeeId;let r=`API/DefaultAudioVideoFacade/${e}/${t}/${a}`;typeof n<"u"&&(r+=` ${JSON.stringify(n)}`),typeof i<"u"&&(r+=` -> ${JSON.stringify(i)}`),this.audioVideoController.logger.info(r)}getRemoteVideoSources(){const a=this.audioVideoController.getRemoteVideoSources();return this.trace("getRemoteVideoSources",null,a),a}get transcriptionController(){return this.realtimeController.transcriptionController}promoteToPrimaryMeeting(a){this.audioVideoController.removeObserver(this),this.audioVideoController.addObserver(this);const n=this.audioVideoController.promoteToPrimaryMeeting(a);return this.trace("promoteToPrimaryMeeting",null,n),n}demoteFromPrimaryMeeting(){this.trace("demoteFromPrimaryMeeting"),this.audioVideoController.demoteFromPrimaryMeeting()}audioVideoWasDemotedFromPrimaryMeeting(a){this.contentShareController.stopContentShare(),this.audioVideoController.removeObserver(this)}constructor(a,n,i,e,t,r){this.audioVideoController=a,this.videoTileController=n,this.realtimeController=i,this.audioMixController=e,this.deviceController=t,this.contentShareController=r}},"DefaultAudioVideoFacade");c.default=m},FxSh:function(N,c,d){"use strict";var S=this&&this.__awaiter||function(a,n,i,e){function t(r){return r instanceof i?r:new i(function(l){l(r)})}return o(t,"adopt"),new(i||(i=Promise))(function(r,l){function p(u){try{g(e.next(u))}catch(s){l(s)}}o(p,"fulfilled");function v(u){try{g(e.throw(u))}catch(s){l(s)}}o(v,"rejected");function g(u){u.done?r(u.value):t(u.value).then(p,v)}o(g,"step"),g((e=e.apply(a,n||[])).next())})};Object.defineProperty(c,"__esModule",{value:!0});const h=d("Sa54"),m=d("3zlU");let f=o(class ov{get outputMediaStream(){return this.pipe.outputMediaStream}passEventControllerToProcessors(n){if(this.pipe.processors)for(const i of this.pipe.processors)typeof i.setEventController=="function"&&i.setEventController(n)}chooseNewInnerDevice(n){const i=new ov(this.logger,n,this.processors,this.browserBehavior);return i.pipe=this.pipe,i}getInnerDevice(){return this.device}intrinsicDevice(){return S(this,void 0,void 0,function*(){return this.device})}transformStream(n){return S(this,void 0,void 0,function*(){return yield this.pipe.setInputMediaStream(n),this.inputMediaStream=n,this.pipe.getActiveOutputMediaStream()})}onOutputStreamDisconnect(){this.logger.info("DefaultVideoTransformDevice: detach stopping input media stream");const n=this.device&&this.device.id;if(this.pipe.stop(),!n&&this.inputMediaStream)for(const i of this.inputMediaStream.getVideoTracks())i.stop()}stop(){return S(this,void 0,void 0,function*(){if(this.inputMediaStream)for(const n of this.inputMediaStream.getVideoTracks())n.stop();this.pipe.destroy(),this.inputMediaStream=null})}addObserver(n){this.observers.add(n)}removeObserver(n){this.observers.delete(n)}processingDidStart(){this.logger.info("video transform device processing started"),this.forEachObserver(n=>{n.processingDidStart&&n.processingDidStart()})}processingLatencyTooHigh(n){this.forEachObserver(i=>{i.processingLatencyTooHigh&&i.processingLatencyTooHigh(n)})}processingDidFailToStart(){this.logger.info("video transform device processing failed to start"),this.forEachObserver(n=>{n.processingDidFailToStart&&n.processingDidFailToStart()})}processingDidStop(){this.logger.info("video transform device processing stopped"),this.forEachObserver(n=>{n.processingDidStop&&n.processingDidStop()})}forEachObserver(n){for(const i of this.observers)setTimeout(()=>{n(i)},0)}constructor(n,i,e,t=new h.default){this.logger=n,this.device=i,this.processors=e,this.browserBehavior=t,this.observers=new Set,this.pipe=new m.default(this.logger,this.processors),this.pipe.addObserver(this)}},"DefaultVideoTransformDevice");c.default=f},FyfS:function(N,c,d){N.exports={default:d("fUKC"),__esModule:!0}},Fyq9:function(N,c,d){"use strict";var S=this&&this.__awaiter||function(f,a,n,i){function e(t){return t instanceof n?t:new n(function(r){r(t)})}return o(e,"adopt"),new(n||(n=Promise))(function(t,r){function l(g){try{v(i.next(g))}catch(u){r(u)}}o(l,"fulfilled");function p(g){try{v(i.throw(g))}catch(u){r(u)}}o(p,"rejected");function v(g){g.done?t(g.value):e(g.value).then(l,p)}o(v,"step"),v((i=i.apply(f,a||[])).next())})};Object.defineProperty(c,"__esModule",{value:!0});const h=d("aVV0");let m=o(class extends h.default{removeObserver(){this.removeTrackAddedEventListener&&this.removeTrackAddedEventListener();for(const a in this.removeTrackRemovedEventListeners)this.removeTrackRemovedEventListeners[a]()}addPeerConnectionEventLogger(){const a=this.context.peer;a.addEventListener("connectionstatechange",()=>{this.context.logger.info(`peer connection state changed: ${a.connectionState}`)}),a.addEventListener("negotiationneeded",()=>{this.context.logger.info("peer connection negotiation is needed")}),a.addEventListener("icegatheringstatechange",()=>{this.context.logger.info(`peer connection ice gathering state changed: ${a.iceGatheringState}`)}),a.addEventListener("icecandidate",n=>{this.context.logger.info(`peer connection ice candidate: ${n.candidate?n.candidate.candidate:"(null)"}`)}),a.addEventListener("iceconnectionstatechange",()=>{this.context.logger.info(`peer connection ice connection state changed: ${a.iceConnectionState}`)})}run(){return S(this,void 0,void 0,function*(){this.context.removableObservers.push(this);const n=this.context.turnCredentials&&this.context.turnCredentials.uris.length>0?{iceServers:[{urls:this.context.turnCredentials.uris,username:this.context.turnCredentials.username,credential:this.context.turnCredentials.password,credentialType:"password"}],iceTransportPolicy:"relay"}:{};n.bundlePolicy=this.context.browserBehavior.requiresBundlePolicy(),n.sdpSemantics="unified-plan",this.context.peer?this.context.logger.info("reusing peer connection"):(this.context.logger.info("creating new peer connection"),this.context.peer=new RTCPeerConnection(n),this.addPeerConnectionEventLogger()),this.removeTrackAddedEventListener=()=>{this.context.peer&&this.context.peer.removeEventListener("track",this.trackAddedHandler),this.removeTrackAddedEventListener=null},this.context.peer.addEventListener("track",this.trackAddedHandler)})}trackIsVideoInput(a){return this.context.transceiverController.useTransceivers()?(this.logger.debug(()=>"getting video track type"),this.context.transceiverController.trackIsVideoInput(a)):!1}addRemoteVideoTrack(a,n){var i;const e=n.id,t=this.context.videoStreamIndex.attendeeIdForTrack(e);let r,l;if(this.context.videoTileController.getVideoTileForAttendeeId?(l=this.context.videoTileController.getVideoTileForAttendeeId(t),r=!!(!((i=l==null?void 0:l.state())===null||i===void 0)&&i.boundVideoStream)):r=this.context.videoTileController.haveVideoTileForAttendeeId(t),r){this.context.logger.info(`Not adding remote track. Already have tile for attendeeId:  ${t}`);return}l||(l=this.context.videoTileController.addVideoTile(),this.logger.info(`Created video tile ${l.id()}`));let p=this.context.videoStreamIndex.streamIdForTrack(e);typeof p>"u"&&(this.logger.warn(`stream not found for tile=${l.id()} track=${e}`),p=null);for(let R=0;R<this.trackEvents.length;R++){const B=this.trackEvents[R],j=n.getVideoTracks();if(j&&j.length){const A=j[0],D=o(()=>{this.context.logger.info(`received the ${B} event for tile=${l.id()} id=${a.id} streamId=${p}`),B==="ended"&&this.removeRemoteVideoTrack(a,l.state())},"callback");A.addEventListener(B,D),this.removeVideoTrackEventListeners[a.id]||(this.removeVideoTrackEventListeners[a.id]=[]),this.removeVideoTrackEventListeners[a.id].push(()=>{A.removeEventListener(B,D)})}}let v,g;if(a.getSettings){const R=a.getSettings();v=R.width,g=R.height}else{const R=a.getCapabilities();v=R.width,g=R.height}const u=this.context.videoStreamIndex.externalUserIdForTrack(e);l.bindVideoStream(t,!1,n,v,g,p,u),this.logger.info(`video track added, use tile=${l.id()} track=${e} streamId=${p}`);const s="removetrack",I=n,M=o(()=>this.removeRemoteVideoTrack(a,l.state()),"trackRemovedHandler");this.removeTrackRemovedEventListeners[a.id]=()=>{I.removeEventListener(s,M),delete this.removeTrackRemovedEventListeners[a.id]},I.addEventListener(s,M)}removeRemoteVideoTrack(a,n){if(this.removeTrackRemovedEventListeners.hasOwnProperty(a.id)){this.removeTrackRemovedEventListeners[a.id]();for(const i of this.removeVideoTrackEventListeners[a.id])i();delete this.removeVideoTrackEventListeners[a.id]}this.logger.info(`video track ended, removing tile=${n.tileId} id=${a.id} stream=${n.streamId}`),n.streamId?this.context.videosPaused.remove(n.streamId):this.logger.warn(`no stream found for tile=${n.tileId}`),this.context.videoTileController.removeVideoTile(n.tileId)}constructor(a){super(a.logger),this.context=a,this.taskName="CreatePeerConnectionTask",this.removeTrackAddedEventListener=null,this.removeTrackRemovedEventListeners={},this.trackEvents=["ended","mute","unmute","isolationchange","overconstrained"],this.removeVideoTrackEventListeners={},this.trackAddedHandler=n=>{const i=n.track;if(this.context.logger.info(`received track event: kind=${i.kind} id=${i.id} label=${i.label}`),n.transceiver&&n.transceiver.currentDirection==="inactive")return;if(n.streams.length===0){this.context.logger.warn("Track event but no stream");return}const e=n.streams[0];i.kind==="audio"?this.context.audioMixController.bindAudioStream(e):i.kind==="video"&&!this.trackIsVideoInput(i)&&this.addRemoteVideoTrack(i,e)}}},"CreatePeerConnectionTask");c.default=m,m.REMOVE_HANDLER_INTERVAL_MS=1e4},GAXn:function(N,c,d){"use strict";d.d(c,"a",function(){return t});var S=d("9oTK"),h=d.n(S),m=d("m8R6"),f=d("2XU3"),a=d("WCk1"),n=d("s4P+"),i=d("pjW8");const e={UnknownMethod:"unknown_method",UnknownWorkflowId:"unknown_workflow_id",AccessDenied:"access_denied"},t=Object(a.a)("workflows.get generated fetcher",function(){var r=Object(S.coroutine)(function*(l,p,v){try{const g=["reason"],u=Object(m.a)(v,g),s=Object(i.b)(u);return yield l(Object(f.a)({method:"workflows.get",args:s,reason:v.reason}))}catch(g){throw Object(n.a)({getState:p}).error(`API call to workflows.get
				with reason ${v.reason} failed, initiated by generated fetcher`),g}});return function(l,p,v){return r.apply(this,arguments)}}());t.meta={name:"createFetcher",key:"createFetcherworkflowsGetFetcher",description:"workflows.get generated fetcher"}},GDZC:function(N,c,d){var S=d("bKEA"),h=d("ZDin").f,m={}.toString,f=typeof window=="object"&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],a=o(function(n){try{return h(n)}catch{return f.slice()}},"getWindowNames");N.exports.f=o(function(i){return f&&m.call(i)=="[object Window]"?a(i):h(S(i))},"getOwnPropertyNames")},GEtQ:function(N,c,d){"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.loadWorker=void 0;const S=d("XEV2"),h={method:"GET",mode:"cors",credentials:"omit",redirect:"follow",referrerPolicy:"no-referrer"},m=o((f,a,n,i)=>{i==null||i.debug(`Loading ${a} worker from ${f}.`);let e=!1;try{e=self.origin===new URL(f).origin}catch(t){i==null||i.error("Could not compare origins.",t)}if(e){const t=S.withQueryString(f,n);return Promise.resolve(new Worker(t,{name:a}))}return S.fetchWithBehavior(f,h,n).then(t=>{if(t.ok)return t.blob().then(r=>new Worker(window.URL.createObjectURL(r)));throw new Error("Fetch failed.")})},"loadWorker");c.loadWorker=m},GQeE:function(N,c,d){N.exports={default:d("1GvH"),__esModule:!0}},GRew:function(N,c){c.f={}.propertyIsEnumerable},GW5S:function(N,c,d){"use strict";var S=this&&this.__awaiter||function(m,f,a,n){function i(e){return e instanceof a?e:new a(function(t){t(e)})}return o(i,"adopt"),new(a||(a=Promise))(function(e,t){function r(v){try{p(n.next(v))}catch(g){t(g)}}o(r,"fulfilled");function l(v){try{p(n.throw(v))}catch(g){t(g)}}o(l,"rejected");function p(v){v.done?e(v.value):i(v.value).then(r,l)}o(p,"step"),p((n=n.apply(m,f||[])).next())})};Object.defineProperty(c,"__esModule",{value:!0});let h=o(class{mute(f){return S(this,void 0,void 0,function*(){})}stop(){var f;return S(this,void 0,void 0,function*(){(f=this.node)===null||f===void 0||f.disconnect()})}intrinsicDevice(){return S(this,void 0,void 0,function*(){return this.inner})}createAudioNode(f){var a;return S(this,void 0,void 0,function*(){return(a=this.node)===null||a===void 0||a.disconnect(),this.node=yield this.createSingleAudioNode(f),{start:this.node,end:this.node}})}constructor(f){this.inner=f}},"SingleNodeAudioTransformDevice");c.default=h},GZjp:function(N,c,d){"use strict";Object.defineProperty(c,"__esModule",{value:!0});let S=o(class{get audioHostURL(){return this.urlRewriter(this._audioHostURL)}set audioHostURL(m){this._audioHostURL=m}get signalingURL(){return this.urlRewriter(this._signalingURL)}set signalingURL(m){this._signalingURL=m}get turnControlURL(){return this.urlRewriter(this._turnControlURL)}set turnControlURL(m){this._turnControlURL=m}get eventIngestionURL(){return this.urlRewriter(this._eventIngestionURL)}set eventIngestionURL(m){this._eventIngestionURL=m}constructor(){this._audioHostURL=null,this._signalingURL=null,this._turnControlURL=null,this._eventIngestionURL=null,this.urlRewriter=m=>m}},"MeetingSessionURLs");c.default=S},GfoU:function(N,c,d){var S=d("/F7N"),h=d("yQFZ");N.exports=function(m){return function(f,a){var n=String(h(f)),i=S(a),e=n.length,t,r;return i<0||i>=e?m?"":void 0:(t=n.charCodeAt(i),t<55296||t>56319||i+1===e||(r=n.charCodeAt(i+1))<56320||r>57343?m?n.charAt(i):t:m?n.slice(i,i+2):(t-55296<<10)+(r-56320)+65536)}}},GhSp:function(N,c,d){var S=d("d+lc"),h=d("+vXQ"),m=d("M5dz"),f=Object.defineProperty;c.f=d("C61u")?Object.defineProperty:o(function(n,i,e){if(S(n),i=m(i,!0),S(e),h)try{return f(n,i,e)}catch{}if("get"in e||"set"in e)throw TypeError("Accessors not supported!");return"value"in e&&(n[i]=e.value),n},"defineProperty")},Gn1W:function(N,c,d){"use strict";var S=d("c3gm"),h=d("XFRR");function m(f,a){this.__wrapped__=f,this.__actions__=[],this.__chain__=!!a,this.__index__=0,this.__values__=void 0}o(m,"LodashWrapper"),m.prototype=Object(S.a)(h.a.prototype),m.prototype.constructor=m,c.a=m},"Gs2/":function(N,c,d){"use strict";Object.defineProperty(c,"__esModule",{value:!0});const S=d("zH6K");let h=o(class{create(){if(this.isMediaDevicesSupported)return new Proxy(navigator.mediaDevices,new S.default);throw new Error("navigator.mediaDevices is not supported")}constructor(){this.isMediaDevicesSupported=typeof navigator<"u"&&!!navigator.mediaDevices}},"DefaultMediaDeviceFactory");c.default=h},GtHv:function(N,c,d){"use strict";var S=this&&this.__awaiter||function(n,i,e,t){function r(l){return l instanceof e?l:new e(function(p){p(l)})}return o(r,"adopt"),new(e||(e=Promise))(function(l,p){function v(s){try{u(t.next(s))}catch(I){p(I)}}o(v,"fulfilled");function g(s){try{u(t.throw(s))}catch(I){p(I)}}o(g,"rejected");function u(s){s.done?l(s.value):r(s.value).then(v,g)}o(u,"step"),u((t=t.apply(n,i||[])).next())})};Object.defineProperty(c,"__esModule",{value:!0});const h=d("CmE0"),m=d("vjEy"),f=d("l8QA");let a=o(class extends h.default{validateOptions(i){if(super.validateOptions(i),!i.blurStrength)throw new Error("processor has null options - blurStrength")}initOnFirstExecution(){this.setBlurPixels()}drawImageWithMask(i,e){e||(e=new ImageData(this.spec.model.input.width,this.spec.model.input.height)),this.scaledCanvas.getContext("2d").putImageData(e,0,0);const{canvasCtx:r,targetCanvas:l}=this,{width:p,height:v}=l;r.save(),r.clearRect(0,0,p,v),r.drawImage(this.scaledCanvas,0,0,p,v),r.globalCompositeOperation="source-in",r.drawImage(i,0,0,p,v),r.globalCompositeOperation="destination-over",r.filter=`blur(${this.blurAmount}px)`,r.drawImage(i,0,0,l.width,l.height),r.restore()}setBlurStrength(i){this._blurStrength=i,this.logger.info(`blur strength set to ${this._blurStrength}`),this.setBlurPixels()}setBlurPixels(){this.blurAmount=m.BlurStrengthMapper.getBlurAmount(this._blurStrength,{height:this.sourceHeight}),this.logger.info(`background blur amount set to ${this.blurAmount}`)}addObserver(i){this.delegate.addObserver(i)}removeObserver(i){this.delegate.removeObserver(i)}static isSupported(){return S(this,void 0,void 0,function*(){const i=document.createElement("canvas"),e=i.getContext("2d").filter!==void 0;return i.remove(),e})}setEventController(i){this.eventController?this.eventController=i:(this.eventController=i,this.publishBackgroundFilterEvent())}publishBackgroundFilterEvent(){const i={backgroundBlurEnabled:"true",backgroundBlurStrength:this._blurStrength,backgroundReplacementEnabled:"false",backgroundFilterVersion:1};this.eventController.publishEvent("backgroundFilterConfigSelected",i)}constructor(i,e){super("background blur",i,e,new f.default),this.blurAmount=0,this.setBlurStrength(e.blurStrength),this.logger.info("BackgroundBlur processor successfully created"),this.logger.info(`BackgroundBlur spec: ${this.stringify(this.spec)}`),this.logger.info(`BackgroundBlur options: ${this.stringify(e)}`)}},"BackgroundBlurProcessorProvided");c.default=a},GxrV:function(N,c,d){"use strict";Object.defineProperty(c,"__esModule",{value:!0});let S=o(class{},"BitrateParameters");c.default=S},GzZI:function(N,c,d){"use strict";var S=d("u37q"),h=d("ZnfP"),m=d("fshX"),f=9007199254740991,a=4294967295,n=Math.min;function i(e,t){if(e=Object(m.a)(e),e<1||e>f)return[];var r=a,l=n(e,a);t=Object(h.a)(t),e-=a;for(var p=Object(S.a)(l,t);++r<e;)t(r);return p}o(i,"times"),c.a=i},H7ma:function(N,c,d){"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.SimulcastLayers=void 0;var S;(function(h){h[h.Low=0]="Low",h[h.LowAndMedium=1]="LowAndMedium",h[h.LowAndHigh=2]="LowAndHigh",h[h.Medium=3]="Medium",h[h.MediumAndHigh=4]="MediumAndHigh",h[h.High=5]="High"})(S=c.SimulcastLayers||(c.SimulcastLayers={})),c.default=S},HAqy:function(N,c,d){"use strict";var S=this&&this.__awaiter||function(f,a,n,i){function e(t){return t instanceof n?t:new n(function(r){r(t)})}return o(e,"adopt"),new(n||(n=Promise))(function(t,r){function l(g){try{v(i.next(g))}catch(u){r(u)}}o(l,"fulfilled");function p(g){try{v(i.throw(g))}catch(u){r(u)}}o(p,"rejected");function v(g){g.done?t(g.value):e(g.value).then(l,p)}o(v,"step"),v((i=i.apply(f,a||[])).next())})};Object.defineProperty(c,"__esModule",{value:!0});const h=d("BkFD");let m=o(class{needUpdate(a){return this.activeSpeakers?this.speakerScores[a]===0&&this.activeSpeakers.includes(a)||this.speakerScores[a]>0&&!this.activeSpeakers.includes(a):!0}updateActiveSpeakers(a,n,i){if(!this.needUpdate(i))return;const e=[],t=Object.keys(this.speakerScores);for(let g=0;g<t.length;g++){const u=t[g];e.push({attendeeId:u,activeScore:this.speakerScores[u]})}const r=e.sort((g,u)=>u.activeScore-g.activeScore).filter(function(g){return g.activeScore>0}).map(function(g){return g.attendeeId});this.activeSpeakers=r,n(r);const p=r.length>0&&r[0]===this.selfAttendeeId&&a.prioritizeVideoSendBandwidthForActiveSpeaker();this.hasBandwidthPriority!==p&&(this.hasBandwidthPriority=p,this.hasBandwidthPriorityCallback(p))}updateScore(a,n,i,e,t){const r=a.calculateScore(i,e,t);this.speakerScores[i]!==r&&(this.speakerScores[i]=r,this.mostRecentUpdateTimestamp[i]=Date.now(),this.updateActiveSpeakers(a,n,i))}subscribe(a,n,i,e){const t=o((l,p)=>{if(!p){this.speakerScores[l]=0,this.mostRecentUpdateTimestamp[l]=Date.now(),this.updateActiveSpeakers(a,n,l);return}this.realtimeController.realtimeSubscribeToVolumeIndicator(l,(v,g,u,s)=>{this.mostRecentUpdateTimestamp[v]=Date.now(),u!==null&&(this.speakerMuteState[v]=u),this.updateScore(a,n,v,g,u)})},"handler");this.detectorCallbackToHandler.set(n,t);const r=new h.default(this.updateIntervalMs);if(r.start(()=>{for(const l in this.speakerScores)Date.now()-this.mostRecentUpdateTimestamp[l]>this.waitIntervalMs&&this.updateScore(a,n,l,0,this.speakerMuteState[l])}),this.detectorCallbackToActivityTimer.set(n,r),i&&e){const l=new h.default(e);l.start(()=>{i(this.speakerScores)}),this.detectorCallbackToScoresTimer.set(n,l)}this.realtimeController.realtimeSubscribeToAttendeeIdPresence(t)}unsubscribe(a){const n=this.detectorCallbackToHandler.get(a);this.detectorCallbackToHandler.delete(a),n&&this.realtimeController.realtimeUnsubscribeToAttendeeIdPresence(n);const i=this.detectorCallbackToActivityTimer.get(a);i&&(i.stop(),this.detectorCallbackToActivityTimer.delete(a));const e=this.detectorCallbackToScoresTimer.get(a);e&&(e.stop(),this.detectorCallbackToHandler.delete(a))}destroy(){return S(this,void 0,void 0,function*(){for(const a of this.detectorCallbackToHandler.values())this.realtimeController.realtimeUnsubscribeToAttendeeIdPresence(a);for(const a of this.detectorCallbackToActivityTimer.values())a.stop();for(const a of this.detectorCallbackToScoresTimer.values())a.stop();this.detectorCallbackToHandler.clear(),this.detectorCallbackToActivityTimer.clear(),this.detectorCallbackToScoresTimer.clear()})}constructor(a,n,i,e=1e3,t=200){this.realtimeController=a,this.selfAttendeeId=n,this.hasBandwidthPriorityCallback=i,this.waitIntervalMs=e,this.updateIntervalMs=t,this.speakerScores={},this.speakerMuteState={},this.detectorCallbackToHandler=new Map,this.detectorCallbackToScoresTimer=new Map,this.detectorCallbackToActivityTimer=new Map,this.hasBandwidthPriority=!1,this.mostRecentUpdateTimestamp={}}},"DefaultActiveSpeakerDetector");c.default=m},HCbE:function(N,c,d){"use strict";Object.defineProperty(c,"__esModule",{value:!0});const S=d("cKqT");let h=o(class extends S.default{nextBackoffAmountMs(){if(this.attempts++,this.attempts>this.limit)throw new Error("retry limit exceeded");return super.nextBackoffAmountMs()}constructor(f,a,n,i){super(f,a,n),this.limit=i,this.attempts=0}},"FullJitterLimitedBackoff");c.default=h},HG8V:function(N,c,d){"use strict";(function(S){Object.defineProperty(c,"__esModule",{value:!0});const h=d("U9CR"),m=d("zcg+"),f=d("XCDq"),a=d("VCUZ"),n=d("ac3q"),i=d("z8+u"),e=d("/AJg"),t=d("0JTw"),r=d("HbHZ");let l=o(class Xc{registerObserver(v){this.logger.debug(()=>"registering signaling client observer"),this.observerQueue.add(v)}removeObserver(v){this.logger.debug(()=>"removing signaling client observer"),this.observerQueue.delete(v)}openConnection(v){this.logger.info("adding connection request to queue: "+v.url()),this.connectionRequestQueue.push(v),this.closeConnection()}pingPong(v){this.logger.debug(()=>"sending ping");const g=f.SdkSignalFrame.create();return g.type=f.SdkSignalFrame.Type.PING_PONG,g.pingPong=v,this.sendMessage(g),g.timestampMs}join(v){this.logger.info("sending join");const g=f.SdkJoinFrame.create();g.protocolVersion=2,g.flags=f.SdkJoinFlags.HAS_STREAM_UPDATE;const u=new h.default,s={platformName:u.name(),platformVersion:u.version(),clientSource:n.default.sdkName,chimeSdkVersion:n.default.sdkVersion,clientUtcOffset:a.getFormattedOffset(new Date().getTimezoneOffset())};if(v.applicationMetadata){const{appName:M,appVersion:R}=v.applicationMetadata;s.appName=M,s.appVersion=R}g.clientDetails=f.SdkClientDetails.create(s),g.audioSessionId=this.audioSessionId,g.wantsCompressedSdp=Xc.CLIENT_SUPPORTS_COMPRESSION,g.disablePeriodicKeyframeRequestOnContentSender=v.disablePeriodicKeyframeRequestOnContentSender,g.serverSideNetworkAdaption=e.convertServerSideNetworkAdaptionEnumToSignaled(v.serverSideNetworkAdaption),g.supportedServerSideNetworkAdaptions=v.supportedServerSideNetworkAdaptions.map(e.convertServerSideNetworkAdaptionEnumToSignaled);const I=f.SdkSignalFrame.create();I.type=f.SdkSignalFrame.Type.JOIN,I.join=g,this.sendMessage(I)}subscribe(v){const g=f.SdkSubscribeFrame.create();if(g.sendStreams=[],g.sdpOffer=v.sdpOffer,v.connectionTypeHasVideo&&(g.receiveStreamIds=v.receiveStreamIds),v.audioHost&&(g.audioCheckin=v.audioCheckin,g.audioHost=v.audioHost,g.audioMuted=v.audioMuted,!v.audioCheckin)){const s=f.SdkStreamDescriptor.create();s.mediaType=f.SdkStreamMediaType.AUDIO,s.trackLabel="AmazonChimeExpressAudio",s.attendeeId=v.attendeeId,s.streamId=1,s.groupId=1,s.framerate=15,s.maxBitrateKbps=600,s.avgBitrateBps=4e5,g.sendStreams.push(s)}if(g.compressedSdpOffer=v.compressedSdpOffer,g.duplex=f.SdkStreamServiceType.RX,v.localVideoEnabled){g.duplex=f.SdkStreamServiceType.DUPLEX;for(let s=0;s<v.videoStreamDescriptions.length;s++){const I=v.videoStreamDescriptions[s].clone();I.attendeeId=v.attendeeId,g.sendStreams.push(I.toStreamDescriptor())}}v.videoSubscriptionConfiguration.length>0&&(g.videoSubscriptionConfiguration=v.videoSubscriptionConfiguration.map(this.convertVideoSubscriptionConfiguration));const u=f.SdkSignalFrame.create();u.type=f.SdkSignalFrame.Type.SUBSCRIBE,u.sub=g,this.sendMessage(u)}remoteVideoUpdate(v,g){const u=f.SdkRemoteVideoUpdateFrame.create();u.addedOrUpdatedVideoSubscriptions=v.map(this.convertVideoSubscriptionConfiguration),u.removedVideoSubscriptionMids=g;const s=f.SdkSignalFrame.create();s.type=f.SdkSignalFrame.Type.REMOTE_VIDEO_UPDATE,s.remoteVideoUpdate=u,this.sendMessage(s)}convertVideoSubscriptionConfiguration(v){const g=new f.SdkVideoSubscriptionConfiguration;return g.mid=v.mid,g.attendeeId=v.attendeeId,g.streamId=v.streamId,g.groupId=v.groupId,g.priority=v.priority,g.targetBitrateKbps=v.targetBitrateKbps,g}leave(){const v=f.SdkSignalFrame.create();v.type=f.SdkSignalFrame.Type.LEAVE,v.leave=f.SdkLeaveFrame.create(),this.sendMessage(v),this.logger.debug(()=>"sent leave")}sendClientMetrics(v){const g=f.SdkSignalFrame.create();g.type=f.SdkSignalFrame.Type.CLIENT_METRIC,g.clientMetric=v,this.sendMessage(g)}sendDataMessage(v){const g=f.SdkSignalFrame.create();g.type=f.SdkSignalFrame.Type.DATA_MESSAGE,g.dataMessage=v,this.sendMessage(g)}closeConnection(){var v,g;if(this.webSocket.readyState()!==i.default.None&&this.webSocket.readyState()!==i.default.Closed){this.isClosing=!0,this.sendEvent(new t.default(this,r.default.WebSocketClosing,null));const u=new m.default(Xc.CLOSE_EVENT_TIMEOUT_MS),s=o(I=>{var M,R;(R=(M=this.webSocket).removeEventListener)===null||R===void 0||R.call(M,"close",s),u.stop(),this.closeEventHandler(I)},"handler");(g=(v=this.webSocket).removeEventListener)===null||g===void 0||g.call(v,"close",this.closeEventHandler),this.webSocket.addEventListener("close",s),u.start(()=>{s(new CloseEvent("close",{wasClean:!1,code:1006,reason:"",bubbles:!1}))}),this.webSocket.close(),this.deactivatePageUnloadHandler()}else this.logger.info("no existing signaling client connection needs closing"),this.serviceConnectionRequestQueue()}ready(){return this.webSocket.readyState()===i.default.Open&&!this.isClosing&&this.wasOpened}mute(v){const g=f.SdkSignalFrame.create();g.type=f.SdkSignalFrame.Type.AUDIO_CONTROL;const u=f.SdkAudioControlFrame.create();u.muted=v,g.audioControl=u,this.sendMessage(g)}pause(v){const g=f.SdkSignalFrame.create();g.type=f.SdkSignalFrame.Type.PAUSE,g.pause=f.SdkPauseResumeFrame.create(),g.pause.streamIds=v,this.sendMessage(g)}resume(v){const g=f.SdkSignalFrame.create();g.type=f.SdkSignalFrame.Type.RESUME,g.pause=f.SdkPauseResumeFrame.create(),g.pause.streamIds=v,this.sendMessage(g)}resetConnection(){this.webSocket.destroy(),this.wasOpened=!1}sendMessage(v){v.timestampMs=Date.now(),this.logger.debug(()=>`sending: ${JSON.stringify(v)}`);const g=this.prependWithFrameTypeRTC(f.SdkSignalFrame.encode(v).finish());if(this.ready()){if(!this.webSocket.send(g)){this.sendEvent(new t.default(this,r.default.WebSocketSendMessageFailure,null));return}this.sendEvent(new t.default(this,r.default.WebSocketSentMessage,null))}else this.sendEvent(new t.default(this,r.default.WebSocketSkippedMessage,null))}receiveMessage(v){let g;try{g=f.SdkSignalFrame.decode(v)}catch{this.logger.info(`failed to decode: ${v}`),this.sendEvent(new t.default(this,r.default.ProtocolDecodeFailure,null));return}this.logger.debug(()=>`received: ${JSON.stringify(g)}`),this.webSocket.readyState()===i.default.Open?this.sendEvent(new t.default(this,r.default.ReceivedSignalFrame,g)):this.logger.info(`skipping notification of message since WebSocket is not open: ${JSON.stringify(g)}`)}stripFrameTypeRTC(v){const g=v[0];return g!==Xc.FRAME_TYPE_RTC&&g!==2&&this.logger.warn(`expected FrameTypeRTC for message but got ${g}`),v.slice(1)}prependWithFrameTypeRTC(v){const g=new Uint8Array(v.length+1);return g[0]=Xc.FRAME_TYPE_RTC,g.set(v,1),g}serviceConnectionRequestQueue(){if(this.connectionRequestQueue.length===0){this.logger.info("no connection requests to service");return}const v=this.connectionRequestQueue.shift();this.logger.info(`opening connection to ${v.url()}`),this.isClosing=!1,this.webSocket.create(v.url(),v.protocols()),this.setUpEventListeners(),this.sendEvent(new t.default(this,r.default.WebSocketConnecting,null))}sendEvent(v){switch(v.type){case r.default.WebSocketMessage:case r.default.ReceivedSignalFrame:case r.default.WebSocketSentMessage:this.logger.debug(()=>`notifying event: ${r.default[v.type]}`);break;case r.default.WebSocketSkippedMessage:this.logger.debug(()=>`notifying event: ${r.default[v.type]}, websocket state=${i.default[this.webSocket.readyState()]}`);break;default:this.logger.info(`notifying event: ${r.default[v.type]}`);break}for(const g of this.observerQueue)g.handleSignalingClientEvent(v)}setUpEventListeners(){this.webSocket.addEventListener("open",()=>{this.activatePageUnloadHandler(),this.wasOpened=!0,this.sendEvent(new t.default(this,r.default.WebSocketOpen,null))}),this.webSocket.addEventListener("message",v=>{this.sendEvent(new t.default(this,r.default.WebSocketMessage,null)),this.receiveMessage(this.stripFrameTypeRTC(new Uint8Array(v.data)))}),this.webSocket.addEventListener("close",this.closeEventHandler),this.webSocket.addEventListener("error",()=>{if(this.isClosing&&!this.wasOpened){this.logger.info("ignoring error closing signaling while connecting");return}this.wasOpened?(this.logger.error("received error while connected"),this.sendEvent(new t.default(this,r.default.WebSocketError,null))):(this.logger.error("failed to connect"),this.sendEvent(new t.default(this,r.default.WebSocketFailed,null)))})}activatePageUnloadHandler(){this.unloadHandler=()=>{this.leave()};const v=S;v.window&&v.window.addEventListener&&window.addEventListener("unload",this.unloadHandler)}deactivatePageUnloadHandler(){const v=S;v.window&&v.window.removeEventListener&&window.removeEventListener("unload",this.unloadHandler),this.unloadHandler=null}generateNewAudioSessionId(){const v=new Uint32Array(1);return window.crypto.getRandomValues(v)[0]}promoteToPrimaryMeeting(v){const g=f.SdkMeetingSessionCredentials.create();g.attendeeId=v.attendeeId,g.externalUserId=v.externalUserId,g.joinToken=v.joinToken;const u=f.SdkPrimaryMeetingJoinFrame.create();u.credentials=g;const s=f.SdkSignalFrame.create();s.type=f.SdkSignalFrame.Type.PRIMARY_MEETING_JOIN,s.primaryMeetingJoin=u,this.sendMessage(s)}demoteFromPrimaryMeeting(){const v=f.SdkPrimaryMeetingLeaveFrame.create(),g=f.SdkSignalFrame.create();g.type=f.SdkSignalFrame.Type.PRIMARY_MEETING_LEAVE,g.primaryMeetingLeave=v,this.sendMessage(g)}constructor(v,g){this.webSocket=v,this.logger=g,this.unloadHandler=null,this.closeEventHandler=u=>{this.deactivatePageUnloadHandler(),this.resetConnection(),this.sendEvent(new t.default(this,r.default.WebSocketClosed,null,u.code,u.reason)),this.serviceConnectionRequestQueue()},this.observerQueue=new Set,this.connectionRequestQueue=[],this.resetConnection(),this.logger.debug(()=>"signaling client init"),this.audioSessionId=this.generateNewAudioSessionId()}},"DefaultSignalingClient");c.default=l,l.FRAME_TYPE_RTC=5,l.CLOSE_EVENT_TIMEOUT_MS=2e3,l.CLIENT_SUPPORTS_COMPRESSION=!0}).call(this,d("yLpj"))},HK1f:function(N,c,d){"use strict";Object.defineProperty(c,"__esModule",{value:!0});const S=d("IKDz");let h=o(class{constructor(f,a,n=new S.default){this.eventsClientConfiguration=f,this.ingestionURL=a,this.eventBufferConfiguration=n}},"EventIngestionConfiguration");c.default=h},HLgz:function(N,c,d){"use strict";var S=this&&this.__awaiter||function(f,a,n,i){function e(t){return t instanceof n?t:new n(function(r){r(t)})}return o(e,"adopt"),new(n||(n=Promise))(function(t,r){function l(g){try{v(i.next(g))}catch(u){r(u)}}o(l,"fulfilled");function p(g){try{v(i.throw(g))}catch(u){r(u)}}o(p,"rejected");function v(g){g.done?t(g.value):e(g.value).then(l,p)}o(v,"step"),v((i=i.apply(f,a||[])).next())})};Object.defineProperty(c,"__esModule",{value:!0});const h=d("dWP+");let m=o(class{addObserver(a){this.audioVideoController.addObserver(a),this.trace("addObserver")}removeObserver(a){this.audioVideoController.removeObserver(a),this.trace("removeObserver")}setAudioProfile(a){this.trace("setAudioProfile",a),this.audioVideoController.setAudioProfile(a)}start(a){this.audioVideoController.start(a),this.trace("start")}stop(){this.audioVideoController.stop(),this.trace("stop")}getRTCPeerConnectionStats(a){return this.trace("getRTCPeerConnectionStats",a?a.id:null),this.audioVideoController.getRTCPeerConnectionStats(a)}bindAudioElement(a){const n=this.audioMixController.bindAudioElement(a);return this.trace("bindAudioElement",a.id,n),n}unbindAudioElement(){this.audioMixController.unbindAudioElement(),this.trace("unbindAudioElement")}getCurrentMeetingAudioStream(){return this.trace("getCurrentConferenceStream"),this.audioMixController.getCurrentMeetingAudioStream()}addAudioMixObserver(a){this.trace("addAudioMixObserver"),this.audioMixController.addAudioMixObserver(a)}removeAudioMixObserver(a){this.trace("removeAudioMixObserver"),this.audioMixController.removeAudioMixObserver(a)}bindVideoElement(a,n){this.videoTileController.bindVideoElement(a,n),this.trace("bindVideoElement",{tileId:a,videoElementId:n.id})}unbindVideoElement(a){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;this.videoTileController.unbindVideoElement(a,n),this.trace("unbindVideoElement",{tileId:a,cleanUpVideoElement:n})}startLocalVideoTile(){const a=this.videoTileController.startLocalVideoTile();return this.trace("startLocalVideoTile",null,a),a}stopLocalVideoTile(){this.videoTileController.stopLocalVideoTile(),this.trace("stopLocalVideoTile")}hasStartedLocalVideoTile(){const a=this.videoTileController.hasStartedLocalVideoTile();return this.trace("hasStartedLocalVideoTile",null,a),a}removeLocalVideoTile(){this.videoTileController.removeLocalVideoTile(),this.trace("removeLocalVideoTile")}getLocalVideoTile(){const a=this.videoTileController.getLocalVideoTile();return this.trace("getLocalVideoTile"),a}pauseVideoTile(a){this.videoTileController.pauseVideoTile(a),this.trace("pauseVideoTile",a)}unpauseVideoTile(a){this.videoTileController.unpauseVideoTile(a),this.trace("unpauseVideoTile",a)}getVideoTile(a){const n=this.videoTileController.getVideoTile(a);return this.trace("getVideoTile",a),n}getAllRemoteVideoTiles(){const a=this.videoTileController.getAllRemoteVideoTiles();return this.trace("getAllRemoteVideoTiles"),a}getAllVideoTiles(){const a=this.videoTileController.getAllVideoTiles();return this.trace("getAllVideoTiles"),a}addVideoTile(){const a=this.videoTileController.addVideoTile();return this.trace("addVideoTile",null,a.state()),a}removeVideoTile(a){this.videoTileController.removeVideoTile(a),this.trace("removeVideoTile",a)}removeVideoTilesByAttendeeId(a){const n=this.videoTileController.removeVideoTilesByAttendeeId(a);return this.trace("removeVideoTilesByAttendeeId",a,n),n}removeAllVideoTiles(){this.videoTileController.removeAllVideoTiles(),this.trace("removeAllVideoTiles")}captureVideoTile(a){const n=this.videoTileController.captureVideoTile(a);return this.trace("captureVideoTile",a),n}realtimeSubscribeToAttendeeIdPresence(a){this.realtimeController.realtimeSubscribeToAttendeeIdPresence(a),this.trace("realtimeSubscribeToAttendeeIdPresence")}realtimeUnsubscribeToAttendeeIdPresence(a){this.realtimeController.realtimeUnsubscribeToAttendeeIdPresence(a),this.trace("realtimeUnsubscribeToAttendeeIdPresence")}realtimeSetCanUnmuteLocalAudio(a){this.realtimeController.realtimeSetCanUnmuteLocalAudio(a),this.trace("realtimeSetCanUnmuteLocalAudio",a)}realtimeSubscribeToSetCanUnmuteLocalAudio(a){this.realtimeController.realtimeSubscribeToSetCanUnmuteLocalAudio(a),this.trace("realtimeSubscribeToSetCanUnmuteLocalAudio")}realtimeUnsubscribeToSetCanUnmuteLocalAudio(a){this.realtimeController.realtimeUnsubscribeToSetCanUnmuteLocalAudio(a),this.trace("realtimeUnsubscribeToSetCanUnmuteLocalAudio")}realtimeCanUnmuteLocalAudio(){const a=this.realtimeController.realtimeCanUnmuteLocalAudio();return this.trace("realtimeCanUnmuteLocalAudio",null,a),a}realtimeMuteLocalAudio(){this.realtimeController.realtimeMuteLocalAudio(),this.trace("realtimeMuteLocalAudio")}realtimeUnmuteLocalAudio(){const a=this.realtimeController.realtimeUnmuteLocalAudio();return this.trace("realtimeUnmuteLocalAudio"),a}realtimeSubscribeToMuteAndUnmuteLocalAudio(a){this.realtimeController.realtimeSubscribeToMuteAndUnmuteLocalAudio(a),this.trace("realtimeSubscribeToMuteAndUnmuteLocalAudio")}realtimeUnsubscribeToMuteAndUnmuteLocalAudio(a){this.realtimeController.realtimeUnsubscribeToMuteAndUnmuteLocalAudio(a),this.trace("realtimeUnsubscribeToMuteAndUnmuteLocalAudio")}realtimeIsLocalAudioMuted(){const a=this.realtimeController.realtimeIsLocalAudioMuted();return this.trace("realtimeIsLocalAudioMuted"),a}realtimeSubscribeToVolumeIndicator(a,n){this.realtimeController.realtimeSubscribeToVolumeIndicator(a,n),this.trace("realtimeSubscribeToVolumeIndicator",a)}realtimeUnsubscribeFromVolumeIndicator(a,n){this.realtimeController.realtimeUnsubscribeFromVolumeIndicator(a,n),this.trace("realtimeUnsubscribeFromVolumeIndicator",a,n)}realtimeSubscribeToLocalSignalStrengthChange(a){this.realtimeController.realtimeSubscribeToLocalSignalStrengthChange(a),this.trace("realtimeSubscribeToLocalSignalStrengthChange")}realtimeUnsubscribeToLocalSignalStrengthChange(a){this.realtimeController.realtimeUnsubscribeToLocalSignalStrengthChange(a),this.trace("realtimeUnsubscribeToLocalSignalStrengthChange")}realtimeSendDataMessage(a,n,i){this.realtimeController.realtimeSendDataMessage(a,n,i),this.trace("realtimeSendDataMessage")}realtimeSubscribeToReceiveDataMessage(a,n){this.realtimeController.realtimeSubscribeToReceiveDataMessage(a,n),this.trace("realtimeSubscribeToReceiveDataMessage")}realtimeUnsubscribeFromReceiveDataMessage(a){this.realtimeController.realtimeUnsubscribeFromReceiveDataMessage(a),this.trace("realtimeUnsubscribeFromReceiveDataMessage")}realtimeSubscribeToFatalError(a){this.realtimeController.realtimeSubscribeToFatalError(a),this.trace("realtimeSubscribeToFatalError")}realtimeUnsubscribeToFatalError(a){this.realtimeController.realtimeUnsubscribeToFatalError(a),this.trace("realtimeUnsubscribeToFatalError")}subscribeToActiveSpeakerDetector(a,n,i,e){this.audioVideoController.activeSpeakerDetector.subscribe(a,n,i,e),this.trace("subscribeToActiveSpeakerDetector")}unsubscribeFromActiveSpeakerDetector(a){this.audioVideoController.activeSpeakerDetector.unsubscribe(a),this.trace("unsubscribeFromActiveSpeakerDetector")}listAudioInputDevices(){let a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;return S(this,void 0,void 0,function*(){const n=yield this.deviceController.listAudioInputDevices(a);return this.trace("listAudioInputDevices",a,n),n})}listVideoInputDevices(){let a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;return S(this,void 0,void 0,function*(){const n=yield this.deviceController.listVideoInputDevices(a);return this.trace("listVideoInputDevices",a,n),n})}listAudioOutputDevices(){let a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;return S(this,void 0,void 0,function*(){const n=yield this.deviceController.listAudioOutputDevices(a);return this.trace("listAudioOutputDevices",a,n),n})}startAudioInput(a){return S(this,void 0,void 0,function*(){return this.trace("startAudioInput",a),this.deviceController.startAudioInput(a)})}stopAudioInput(){return S(this,void 0,void 0,function*(){return this.trace("stopAudioInput"),this.deviceController.stopAudioInput()})}startVideoInput(a){return S(this,void 0,void 0,function*(){return h.isVideoTransformDevice(a)?this.trace("startVideoInput with transform device"):this.trace("startVideoInput",a),this.deviceController.startVideoInput(a)})}stopVideoInput(){return S(this,void 0,void 0,function*(){return this.trace("stopVideoInput"),this.deviceController.stopVideoInput()})}chooseAudioOutput(a){const n=this.deviceController.chooseAudioOutput(a);return this.trace("chooseAudioOutput",a),n}addDeviceChangeObserver(a){this.deviceController.addDeviceChangeObserver(a),this.trace("addDeviceChangeObserver")}removeDeviceChangeObserver(a){this.deviceController.removeDeviceChangeObserver(a),this.trace("removeDeviceChangeObserver")}createAnalyserNodeForAudioInput(){const a=this.deviceController.createAnalyserNodeForAudioInput();return this.trace("createAnalyserNodeForAudioInput"),a}startVideoPreviewForVideoInput(a){this.deviceController.startVideoPreviewForVideoInput(a),this.trace("startVideoPreviewForVideoInput",a.id)}stopVideoPreviewForVideoInput(a){this.deviceController.stopVideoPreviewForVideoInput(a),this.trace("stopVideoPreviewForVideoInput",a.id)}setDeviceLabelTrigger(a){this.deviceController.setDeviceLabelTrigger(a),this.trace("setDeviceLabelTrigger")}mixIntoAudioInput(a){const n=this.deviceController.mixIntoAudioInput(a);return this.trace("mixIntoAudioInput",a.id),n}chooseVideoInputQuality(a,n,i){this.deviceController.chooseVideoInputQuality(a,n,i),this.trace("chooseVideoInputQuality",{width:a,height:n,frameRate:i})}setVideoMaxBandwidthKbps(a){this.audioVideoController.setVideoMaxBandwidthKbps(a),this.trace("setVideoMaxBandwidthKbps",a)}setVideoCodecSendPreferences(a){this.audioVideoController.setVideoCodecSendPreferences(a),this.trace("setVideoCodecSendPreferences",a)}getVideoInputQualitySettings(){const a=this.deviceController.getVideoInputQualitySettings();return this.trace("getVideoInputQualitySettings"),a}setContentAudioProfile(a){this.trace("setContentAudioProfile",a),this.contentShareController.setContentAudioProfile(a)}enableSimulcastForContentShare(a,n){this.trace("enableSimulcastForContentShare"),this.contentShareController.enableSimulcastForContentShare(a,n)}startContentShare(a){const n=this.contentShareController.startContentShare(a);return this.trace("startContentShare"),n}startContentShareFromScreenCapture(a,n){const i=this.contentShareController.startContentShareFromScreenCapture(a,n);return this.trace("startContentShareFromScreenCapture"),i}pauseContentShare(){this.contentShareController.pauseContentShare(),this.trace("pauseContentShare")}unpauseContentShare(){this.contentShareController.unpauseContentShare(),this.trace("unpauseContentShare")}stopContentShare(){this.contentShareController.stopContentShare(),this.trace("stopContentShare")}addContentShareObserver(a){this.contentShareController.addContentShareObserver(a),this.trace("addContentShareObserver")}removeContentShareObserver(a){this.contentShareController.removeContentShareObserver(a),this.trace("removeContentShareObserver")}setContentShareVideoCodecPreferences(a){this.contentShareController.setContentShareVideoCodecPreferences(a),this.trace("setContentShareVideoCodecPreferences")}trace(a,n,i){const e=this.audioVideoController.configuration.meetingId,t=this.audioVideoController.configuration.credentials.attendeeId;let r=`API/DefaultAudioVideoFacade/${e}/${t}/${a}`;typeof n<"u"&&(r+=` ${JSON.stringify(n)}`),typeof i<"u"&&(r+=` -> ${JSON.stringify(i)}`),this.audioVideoController.logger.info(r)}getRemoteVideoSources(){const a=this.audioVideoController.getRemoteVideoSources();return this.trace("getRemoteVideoSources",null,a),a}get transcriptionController(){return this.realtimeController.transcriptionController}promoteToPrimaryMeeting(a){this.audioVideoController.removeObserver(this),this.audioVideoController.addObserver(this);const n=this.audioVideoController.promoteToPrimaryMeeting(a);return this.trace("promoteToPrimaryMeeting",null,n),n}demoteFromPrimaryMeeting(){this.trace("demoteFromPrimaryMeeting"),this.audioVideoController.demoteFromPrimaryMeeting()}audioVideoWasDemotedFromPrimaryMeeting(a){this.contentShareController.stopContentShare(),this.audioVideoController.removeObserver(this)}constructor(a,n,i,e,t,r){this.audioVideoController=a,this.videoTileController=n,this.realtimeController=i,this.audioMixController=e,this.deviceController=t,this.contentShareController=r}},"DefaultAudioVideoFacade");c.default=m},HXIC:function(N,c,d){"use strict";Object.defineProperty(c,"__esModule",{value:!0});let S=o(class{constructor(m,f,a){this.type=m,this.headers=f,this.payload=a}},"Message");c.default=S},HbHZ:function(N,c,d){"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.SignalingClientEventType=void 0;var S;(function(h){h[h.WebSocketConnecting=0]="WebSocketConnecting",h[h.WebSocketOpen=1]="WebSocketOpen",h[h.WebSocketError=2]="WebSocketError",h[h.WebSocketClosing=3]="WebSocketClosing",h[h.WebSocketClosed=4]="WebSocketClosed",h[h.WebSocketFailed=5]="WebSocketFailed",h[h.WebSocketMessage=6]="WebSocketMessage",h[h.WebSocketSendMessageFailure=7]="WebSocketSendMessageFailure",h[h.WebSocketSentMessage=8]="WebSocketSentMessage",h[h.ProtocolDecodeFailure=9]="ProtocolDecodeFailure",h[h.ReceivedSignalFrame=10]="ReceivedSignalFrame",h[h.WebSocketSkippedMessage=11]="WebSocketSkippedMessage"})(S=c.SignalingClientEventType||(c.SignalingClientEventType={})),c.default=S},Hi4k:function(N,c,d){"use strict";var S=this&&this.__awaiter||function(s,I,M,R){function B(j){return j instanceof M?j:new M(function(A){A(j)})}return o(B,"adopt"),new(M||(M=Promise))(function(j,A){function D(P){try{O(R.next(P))}catch(k){A(k)}}o(D,"fulfilled");function $(P){try{O(R.throw(P))}catch(k){A(k)}}o($,"rejected");function O(P){P.done?j(P.value):B(P.value).then(D,$)}o(O,"step"),O((R=R.apply(s,I||[])).next())})};Object.defineProperty(c,"__esModule",{value:!0});const h=d("bjg3"),m=d("x8On"),f=d("7JpI"),a=d("Zful"),n=d("1GR6"),i=d("I/xa"),e=d("aZba"),t=d("papz"),r=d("HbHZ"),l=d("XCDq"),p=d("PPZC"),v=d("Aplu"),g=d("j+uH");let u=o(class Ph extends g.default{removeObserver(){this.context.audioVideoController.removeObserver(this),this.context.realtimeController.realtimeUnsubscribeToFatalError(this.realtimeFatalErrorCallback),this.context.realtimeController.realtimeUnsubscribeToLocalSignalStrengthChange(this.checkAndSendWeakSignalEvent),this.context.realtimeController.realtimeUnsubscribeToAttendeeIdPresence(this.realtimeAttendeeIdPresenceHandler),this.context.signalingClient.removeObserver(this)}run(){return S(this,void 0,void 0,function*(){this.context.removableObservers.push(this),this.context.audioVideoController.addObserver(this),this.context.realtimeController.realtimeSubscribeToFatalError(this.realtimeFatalErrorCallback),this.context.realtimeController.realtimeSubscribeToLocalSignalStrengthChange(this.checkAndSendWeakSignalEvent),this.context.realtimeController.realtimeSubscribeToAttendeeIdPresence(this.realtimeAttendeeIdPresenceHandler),this.context.connectionMonitor.start(),this.context.statsCollector.start(this.context.signalingClient,this.context.videoStreamIndex),this.context.signalingClient.registerObserver(this)})}pauseResubscribeCheck(){this.isResubscribeCheckPaused=!0}resumeResubscribeCheck(){this.isResubscribeCheckPaused&&(this.isResubscribeCheckPaused=!1,this.pendingMetricsReport&&(this.context.logger.info("Resuming resubscribe check with pending metrics report"),this.checkResubscribe(this.pendingMetricsReport)&&this.context.audioVideoController.update({needsRenegotiation:!1})))}videoTileDidUpdate(I){this.context.maxVideoTileCount=Math.max(this.context.maxVideoTileCount,this.context.videoTileController.getAllVideoTiles().length)}checkResubscribe(I){if(this.isResubscribeCheckPaused){this.context.logger.info("Resubscribe check is paused, setting incoming client metric report as pending"),this.pendingMetricsReport=I;return}else this.pendingMetricsReport=void 0;const M=I.getObservableMetrics();if(!M)return!1;const R=M.availableOutgoingBitrate,B=M.nackCountReceivedPerSecond;let j=!1;this.context.videoDownlinkBandwidthPolicy.updateMetrics(I);const A=this.context.videoDownlinkBandwidthPolicy.wantsResubscribe();if(j=j||A,A){const D=this.context.videoDownlinkBandwidthPolicy.chooseSubscriptions();this.context.videosToReceive=D.truncate(this.context.videoSubscriptionLimit),D.size()>this.context.videosToReceive.size()&&this.logger.warn(`Video receive limit exceeded. Limiting the videos to ${this.context.videosToReceive.size()}. Please consider using AllHighestVideoBandwidthPolicy or VideoPriorityBasedPolicy along with chooseRemoteVideoSources api to select the video sources to be displayed.`),this.logger.info(`trigger resubscribe for down=${A}; videosToReceive=[${this.context.videosToReceive.array()}]`)}if(this.context.videoTileController.hasStartedLocalVideoTile()){this.context.videoUplinkBandwidthPolicy.updateConnectionMetric({uplinkKbps:R/1e3,nackCountPerSecond:B});const D=this.context.videoUplinkBandwidthPolicy.wantsResubscribe();j=j||D,D&&(this.logger.info(`trigger resubscribe for up=${D}; videosToReceive=[${this.context.videosToReceive.array()}]`),this.context.videoUplinkBandwidthPolicy.chooseEncodingParameters(),this.context.videoUplinkBandwidthPolicy.chooseMediaTrackConstraints())}return j}metricsDidReceive(I){const M=I;if(!M||(this.checkResubscribe(I)&&this.context.audioVideoController.update({needsRenegotiation:!1}),!this.currentAvailableStreamAvgBitrates))return;const R=M.streamMetricReports;if(!R)return;const B=I.getObservableMetrics();this.currentVideoDownlinkBandwidthEstimationKbps=B.availableIncomingBitrate;const j=new Map,A=new Map;for(const $ in R)R[$].mediaType===m.default.VIDEO&&R[$].direction===h.default.DOWNSTREAM&&j.set(R[$].streamId,R[$]);let D=!1;for(const $ of this.currentAvailableStreamAvgBitrates.bitrates)if(j.has($.sourceStreamId)){const O=j.get($.sourceStreamId),P=this.context.videoStreamIndex.attendeeIdForStreamId($.sourceStreamId);if(!P)continue;const k=new f.default,K=O.previousMetrics.bytesReceived,Z=O.currentMetrics.bytesReceived;if(!K||!Z)continue;const Y=(Z-K)*8/1e3;k.expectedAverageBitrateKbps=$.avgBitrateBps/1e3,k.receivedAverageBitrateKbps=Y,k.attendeeId=P,Y<$.avgBitrateBps/1e3*Ph.DEFAULT_DOWNLINK_CALLRATE_UNDERSHOOT_FACTOR&&(D=!0),A.set(P,k)}D&&this.logger.info(`One or more video streams are not receiving expected amounts of data ${JSON.stringify(Array.from(A.values()))}`)}connectionHealthDidChange(I){I.consecutiveMissedPongs===0&&this.context.reconnectController&&this.context.reconnectController.setLastActiveTimestampMs(Date.now()),this.applyHealthPolicy(this.reconnectionHealthPolicy,I,()=>{this.context.audioVideoController.handleMeetingSessionStatus(new e.default(t.default.ConnectionHealthReconnect),null)}),this.applyHealthPolicy(this.unusableAudioWarningHealthPolicy,I,()=>{var M;this.context.poorConnectionCount+=1;const R=this.generateAudioVideoEventAttributesForReceivingAudioDropped();(M=this.context.eventController)===null||M===void 0||M.publishEvent("receivingAudioDropped",R),this.context.videoTileController.haveVideoTilesWithStreams()?this.context.audioVideoController.forEachObserver(B=>{v.Maybe.of(B.connectionDidSuggestStopVideo).map(j=>j.bind(B)())}):this.context.audioVideoController.forEachObserver(B=>{v.Maybe.of(B.connectionDidBecomePoor).map(j=>j.bind(B)())})},()=>{this.context.audioVideoController.forEachObserver(M=>{v.Maybe.of(M.connectionDidBecomeGood).map(R=>R.bind(M)())})}),this.isMeetingConnected&&this.applyHealthPolicy(this.sendingAudioFailureHealthPolicy,I,()=>{var M;const R=this.generateBaseAudioVideoEventAttributes();(M=this.context.eventController)===null||M===void 0||M.publishEvent("sendingAudioFailed",R)},()=>{var M;const R=this.generateBaseAudioVideoEventAttributes();(M=this.context.eventController)===null||M===void 0||M.publishEvent("sendingAudioRecovered",R)})}audioVideoDidStart(){this.isMeetingConnected=!0}audioVideoDidStartConnecting(I){this.isMeetingConnected=!1}audioVideoDidStop(I){this.isMeetingConnected=!1}applyHealthPolicy(I,M,R,B){I.update(M);const j=I.healthIfChanged();j!==null&&(this.logger.info(`${I.name} value is now ${j}`),j<=I.minimumHealth()?v.Maybe.of(R).map(A=>A.bind(this)()):v.Maybe.of(B).map(A=>A.bind(this)()))}handleBitrateFrame(I){let M=0;this.currentAvailableStreamAvgBitrates=I,this.logger.debug(()=>`simulcast: bitrates from server ${JSON.stringify(I)}`);for(const R of I.bitrates)this.context.videosToReceive.contain(R.sourceStreamId)&&(M+=R.avgBitrateBps);M/=1e3,this.currentVideoDownlinkBandwidthEstimationKbps*Ph.DEFAULT_DOWNLINK_CALLRATE_OVERSHOOT_FACTOR<M&&this.logger.info(`Downlink bandwidth pressure is high: estimated bandwidth ${this.currentVideoDownlinkBandwidthEstimationKbps}Kbps, required bandwidth ${M}Kbps`)}handleSignalingClientEvent(I){var M;if(I.type===r.default.WebSocketClosed&&(I.closeCode===4410||I.closeCode>=4500&&I.closeCode<4600)||I.type===r.default.WebSocketError||I.type===r.default.WebSocketFailed){if(!this.hasSignalingError){const R=this.generateAudioVideoEventAttributesForReceivingAudioDropped();(M=this.context.eventController)===null||M===void 0||M.publishEvent("signalingDropped",R),this.hasSignalingError=!0}}else I.type===r.default.WebSocketOpen&&(this.hasSignalingError=!1);if(I.type===r.default.ReceivedSignalFrame){if(I.message.bitrates){const B=I.message.bitrates;this.context.videoStreamIndex.integrateBitratesFrame(B),this.context.videoDownlinkBandwidthPolicy.updateIndex(this.context.videoStreamIndex),this.handleBitrateFrame(I.message.bitrates)}const R=e.default.fromSignalFrame(I.message);I.message.type!==l.SdkSignalFrame.Type.PRIMARY_MEETING_JOIN_ACK&&R.statusCode()!==t.default.OK&&this.context.audioVideoController.handleMeetingSessionStatus(R,null)}}constructor(I,M,R){super(I.logger),this.context=I,this.initialConnectionHealthData=R,this.taskName="MonitorTask",this.prevSignalStrength=1,this.currentVideoDownlinkBandwidthEstimationKbps=1e4,this.currentAvailableStreamAvgBitrates=null,this.hasSignalingError=!1,this.presenceHandlerCalled=!1,this.isResubscribeCheckPaused=!1,this.pendingMetricsReport=void 0,this.isMeetingConnected=!1,this.checkAndSendWeakSignalEvent=B=>{const j=B<1,A=this.prevSignalStrength<1,D=j?A?null:p.default.RedmicStartLoss:A?p.default.RedmicEndLoss:null;D&&this.context.statsCollector.logAudioEvent(D),this.prevSignalStrength=B},this.realtimeFatalErrorCallback=B=>{this.logger.error(`realtime error: ${B}: ${B.stack}`),this.context.audioVideoController.handleMeetingSessionStatus(new e.default(t.default.RealtimeApiFailed),B)},this.realtimeAttendeeIdPresenceHandler=(B,j)=>{var A;const D=this.context.meetingSessionConfiguration.credentials.attendeeId;this.logger.info(`attendeePresenceReceived: ${D}`),D===B&&j&&!this.presenceHandlerCalled&&(this.presenceHandlerCalled=!0,this.context.attendeePresenceDurationMs=Date.now()-this.context.startAudioVideoTimestamp,(A=this.context.eventController)===null||A===void 0||A.publishEvent("attendeePresenceReceived",{attendeePresenceDurationMs:this.context.attendeePresenceDurationMs}))},this.generateBaseAudioVideoEventAttributes=()=>{const{signalingOpenDurationMs:B,startTimeMs:j,iceGatheringDurationMs:A,attendeePresenceDurationMs:D,meetingStartDurationMs:$}=this.context;return{meetingDurationMs:j===null?0:Math.round(Date.now()-j),signalingOpenDurationMs:B,iceGatheringDurationMs:A,attendeePresenceDurationMs:D,meetingStartDurationMs:$}},this.generateAudioVideoEventAttributesForReceivingAudioDropped=()=>{const B=this.generateBaseAudioVideoEventAttributes();return Object.assign(Object.assign({},B),{maxVideoTileCount:this.context.maxVideoTileCount,poorConnectionCount:this.context.poorConnectionCount})},this.reconnectionHealthPolicy=new a.default(I.logger,Object.assign({},M),this.initialConnectionHealthData.clone()),this.unusableAudioWarningHealthPolicy=new i.default(Object.assign({},M),this.initialConnectionHealthData.clone()),this.sendingAudioFailureHealthPolicy=new n.default(I.logger,Object.assign({},M),this.initialConnectionHealthData.clone())}},"MonitorTask");c.default=u,u.DEFAULT_DOWNLINK_CALLRATE_OVERSHOOT_FACTOR=2,u.DEFAULT_DOWNLINK_CALLRATE_UNDERSHOOT_FACTOR=.2},HlBM:function(N,c,d){"use strict";d.d(c,"a",function(){return i});var S=d("VDtp"),h=d.n(S);const m=S.Reader,f=S.Writer,a=S.util,n=S.roots.default||(S.roots.default={}),i=n.PeerMessage=(()=>{function e(t){if(t)for(let r=Object.keys(t),l=0;l<r.length;++l)t[r[l]]!=null&&(this[r[l]]=t[r[l]])}return o(e,"PeerMessage1"),e.prototype.reacji=null,e.prototype.draw=null,e.prototype.fromPeerId=a.Long?a.Long.fromBits(0,0,!0):0,e.prototype.fromPeerIdString="",e.prototype.capabilities=null,e.prototype.background=null,e.prototype.muteRequest=null,e.prototype.awarenessBroadcast=null,e.prototype.awarenessQuery=null,e.prototype.awarenessClose=null,e.prototype.jukeboxRequest=null,e.prototype.contentShareDetails=null,e.create=o(function(r){return new e(r)},"create"),e.encode=o(function(r,l){return l||(l=f.create()),r.reacji!=null&&Object.hasOwnProperty.call(r,"reacji")&&n.PeerMessage.Reacji.encode(r.reacji,l.uint32(10).fork()).ldelim(),r.draw!=null&&Object.hasOwnProperty.call(r,"draw")&&n.PeerMessage.Draw.encode(r.draw,l.uint32(18).fork()).ldelim(),r.fromPeerId!=null&&Object.hasOwnProperty.call(r,"fromPeerId")&&l.uint32(24).uint64(r.fromPeerId),r.fromPeerIdString!=null&&Object.hasOwnProperty.call(r,"fromPeerIdString")&&l.uint32(34).string(r.fromPeerIdString),r.capabilities!=null&&Object.hasOwnProperty.call(r,"capabilities")&&n.PeerMessage.Capabilities.encode(r.capabilities,l.uint32(42).fork()).ldelim(),r.background!=null&&Object.hasOwnProperty.call(r,"background")&&n.PeerMessage.Background.encode(r.background,l.uint32(50).fork()).ldelim(),r.muteRequest!=null&&Object.hasOwnProperty.call(r,"muteRequest")&&n.PeerMessage.MuteRequest.encode(r.muteRequest,l.uint32(82).fork()).ldelim(),r.awarenessBroadcast!=null&&Object.hasOwnProperty.call(r,"awarenessBroadcast")&&n.PeerMessage.AwarenessBroadcast.encode(r.awarenessBroadcast,l.uint32(90).fork()).ldelim(),r.awarenessQuery!=null&&Object.hasOwnProperty.call(r,"awarenessQuery")&&n.PeerMessage.AwarenessQuery.encode(r.awarenessQuery,l.uint32(98).fork()).ldelim(),r.awarenessClose!=null&&Object.hasOwnProperty.call(r,"awarenessClose")&&n.PeerMessage.AwarenessClose.encode(r.awarenessClose,l.uint32(106).fork()).ldelim(),r.jukeboxRequest!=null&&Object.hasOwnProperty.call(r,"jukeboxRequest")&&n.PeerMessage.JukeboxRequest.encode(r.jukeboxRequest,l.uint32(114).fork()).ldelim(),r.contentShareDetails!=null&&Object.hasOwnProperty.call(r,"contentShareDetails")&&n.PeerMessage.ContentShareDetails.encode(r.contentShareDetails,l.uint32(122).fork()).ldelim(),l},"encode"),e.encodeDelimited=o(function(r,l){return this.encode(r,l).ldelim()},"encodeDelimited"),e.decode=o(function(r,l){r instanceof m||(r=m.create(r));let p=l===void 0?r.len:r.pos+l,v=new n.PeerMessage;for(;r.pos<p;){let g=r.uint32();switch(g>>>3){case 1:{v.reacji=n.PeerMessage.Reacji.decode(r,r.uint32());break}case 2:{v.draw=n.PeerMessage.Draw.decode(r,r.uint32());break}case 3:{v.fromPeerId=r.uint64();break}case 4:{v.fromPeerIdString=r.string();break}case 5:{v.capabilities=n.PeerMessage.Capabilities.decode(r,r.uint32());break}case 6:{v.background=n.PeerMessage.Background.decode(r,r.uint32());break}case 10:{v.muteRequest=n.PeerMessage.MuteRequest.decode(r,r.uint32());break}case 11:{v.awarenessBroadcast=n.PeerMessage.AwarenessBroadcast.decode(r,r.uint32());break}case 12:{v.awarenessQuery=n.PeerMessage.AwarenessQuery.decode(r,r.uint32());break}case 13:{v.awarenessClose=n.PeerMessage.AwarenessClose.decode(r,r.uint32());break}case 14:{v.jukeboxRequest=n.PeerMessage.JukeboxRequest.decode(r,r.uint32());break}case 15:{v.contentShareDetails=n.PeerMessage.ContentShareDetails.decode(r,r.uint32());break}default:r.skipType(g&7);break}}return v},"decode"),e.decodeDelimited=o(function(r){return r instanceof m||(r=new m(r)),this.decode(r,r.uint32())},"decodeDelimited"),e.verify=o(function(r){if(typeof r!="object"||r===null)return"object expected";if(r.reacji!=null&&r.hasOwnProperty("reacji")){let l=n.PeerMessage.Reacji.verify(r.reacji);if(l)return"reacji."+l}if(r.draw!=null&&r.hasOwnProperty("draw")){let l=n.PeerMessage.Draw.verify(r.draw);if(l)return"draw."+l}if(r.fromPeerId!=null&&r.hasOwnProperty("fromPeerId")&&!a.isInteger(r.fromPeerId)&&!(r.fromPeerId&&a.isInteger(r.fromPeerId.low)&&a.isInteger(r.fromPeerId.high)))return"fromPeerId: integer|Long expected";if(r.fromPeerIdString!=null&&r.hasOwnProperty("fromPeerIdString")&&!a.isString(r.fromPeerIdString))return"fromPeerIdString: string expected";if(r.capabilities!=null&&r.hasOwnProperty("capabilities")){let l=n.PeerMessage.Capabilities.verify(r.capabilities);if(l)return"capabilities."+l}if(r.background!=null&&r.hasOwnProperty("background")){let l=n.PeerMessage.Background.verify(r.background);if(l)return"background."+l}if(r.muteRequest!=null&&r.hasOwnProperty("muteRequest")){let l=n.PeerMessage.MuteRequest.verify(r.muteRequest);if(l)return"muteRequest."+l}if(r.awarenessBroadcast!=null&&r.hasOwnProperty("awarenessBroadcast")){let l=n.PeerMessage.AwarenessBroadcast.verify(r.awarenessBroadcast);if(l)return"awarenessBroadcast."+l}if(r.awarenessQuery!=null&&r.hasOwnProperty("awarenessQuery")){let l=n.PeerMessage.AwarenessQuery.verify(r.awarenessQuery);if(l)return"awarenessQuery."+l}if(r.awarenessClose!=null&&r.hasOwnProperty("awarenessClose")){let l=n.PeerMessage.AwarenessClose.verify(r.awarenessClose);if(l)return"awarenessClose."+l}if(r.jukeboxRequest!=null&&r.hasOwnProperty("jukeboxRequest")){let l=n.PeerMessage.JukeboxRequest.verify(r.jukeboxRequest);if(l)return"jukeboxRequest."+l}if(r.contentShareDetails!=null&&r.hasOwnProperty("contentShareDetails")){let l=n.PeerMessage.ContentShareDetails.verify(r.contentShareDetails);if(l)return"contentShareDetails."+l}return null},"verify"),e.fromObject=o(function(r){if(r instanceof n.PeerMessage)return r;let l=new n.PeerMessage;if(r.reacji!=null){if(typeof r.reacji!="object")throw TypeError(".PeerMessage.reacji: object expected");l.reacji=n.PeerMessage.Reacji.fromObject(r.reacji)}if(r.draw!=null){if(typeof r.draw!="object")throw TypeError(".PeerMessage.draw: object expected");l.draw=n.PeerMessage.Draw.fromObject(r.draw)}if(r.fromPeerId!=null&&(a.Long?(l.fromPeerId=a.Long.fromValue(r.fromPeerId)).unsigned=!0:typeof r.fromPeerId=="string"?l.fromPeerId=parseInt(r.fromPeerId,10):typeof r.fromPeerId=="number"?l.fromPeerId=r.fromPeerId:typeof r.fromPeerId=="object"&&(l.fromPeerId=new a.LongBits(r.fromPeerId.low>>>0,r.fromPeerId.high>>>0).toNumber(!0))),r.fromPeerIdString!=null&&(l.fromPeerIdString=String(r.fromPeerIdString)),r.capabilities!=null){if(typeof r.capabilities!="object")throw TypeError(".PeerMessage.capabilities: object expected");l.capabilities=n.PeerMessage.Capabilities.fromObject(r.capabilities)}if(r.background!=null){if(typeof r.background!="object")throw TypeError(".PeerMessage.background: object expected");l.background=n.PeerMessage.Background.fromObject(r.background)}if(r.muteRequest!=null){if(typeof r.muteRequest!="object")throw TypeError(".PeerMessage.muteRequest: object expected");l.muteRequest=n.PeerMessage.MuteRequest.fromObject(r.muteRequest)}if(r.awarenessBroadcast!=null){if(typeof r.awarenessBroadcast!="object")throw TypeError(".PeerMessage.awarenessBroadcast: object expected");l.awarenessBroadcast=n.PeerMessage.AwarenessBroadcast.fromObject(r.awarenessBroadcast)}if(r.awarenessQuery!=null){if(typeof r.awarenessQuery!="object")throw TypeError(".PeerMessage.awarenessQuery: object expected");l.awarenessQuery=n.PeerMessage.AwarenessQuery.fromObject(r.awarenessQuery)}if(r.awarenessClose!=null){if(typeof r.awarenessClose!="object")throw TypeError(".PeerMessage.awarenessClose: object expected");l.awarenessClose=n.PeerMessage.AwarenessClose.fromObject(r.awarenessClose)}if(r.jukeboxRequest!=null){if(typeof r.jukeboxRequest!="object")throw TypeError(".PeerMessage.jukeboxRequest: object expected");l.jukeboxRequest=n.PeerMessage.JukeboxRequest.fromObject(r.jukeboxRequest)}if(r.contentShareDetails!=null){if(typeof r.contentShareDetails!="object")throw TypeError(".PeerMessage.contentShareDetails: object expected");l.contentShareDetails=n.PeerMessage.ContentShareDetails.fromObject(r.contentShareDetails)}return l},"fromObject"),e.toObject=o(function(r,l){l||(l={});let p={};if(l.defaults){if(p.reacji=null,p.draw=null,a.Long){let v=new a.Long(0,0,!0);p.fromPeerId=l.longs===String?v.toString():l.longs===Number?v.toNumber():v}else p.fromPeerId=l.longs===String?"0":0;p.fromPeerIdString="",p.capabilities=null,p.background=null,p.muteRequest=null,p.awarenessBroadcast=null,p.awarenessQuery=null,p.awarenessClose=null,p.jukeboxRequest=null,p.contentShareDetails=null}return r.reacji!=null&&r.hasOwnProperty("reacji")&&(p.reacji=n.PeerMessage.Reacji.toObject(r.reacji,l)),r.draw!=null&&r.hasOwnProperty("draw")&&(p.draw=n.PeerMessage.Draw.toObject(r.draw,l)),r.fromPeerId!=null&&r.hasOwnProperty("fromPeerId")&&(typeof r.fromPeerId=="number"?p.fromPeerId=l.longs===String?String(r.fromPeerId):r.fromPeerId:p.fromPeerId=l.longs===String?a.Long.prototype.toString.call(r.fromPeerId):l.longs===Number?new a.LongBits(r.fromPeerId.low>>>0,r.fromPeerId.high>>>0).toNumber(!0):r.fromPeerId),r.fromPeerIdString!=null&&r.hasOwnProperty("fromPeerIdString")&&(p.fromPeerIdString=r.fromPeerIdString),r.capabilities!=null&&r.hasOwnProperty("capabilities")&&(p.capabilities=n.PeerMessage.Capabilities.toObject(r.capabilities,l)),r.background!=null&&r.hasOwnProperty("background")&&(p.background=n.PeerMessage.Background.toObject(r.background,l)),r.muteRequest!=null&&r.hasOwnProperty("muteRequest")&&(p.muteRequest=n.PeerMessage.MuteRequest.toObject(r.muteRequest,l)),r.awarenessBroadcast!=null&&r.hasOwnProperty("awarenessBroadcast")&&(p.awarenessBroadcast=n.PeerMessage.AwarenessBroadcast.toObject(r.awarenessBroadcast,l)),r.awarenessQuery!=null&&r.hasOwnProperty("awarenessQuery")&&(p.awarenessQuery=n.PeerMessage.AwarenessQuery.toObject(r.awarenessQuery,l)),r.awarenessClose!=null&&r.hasOwnProperty("awarenessClose")&&(p.awarenessClose=n.PeerMessage.AwarenessClose.toObject(r.awarenessClose,l)),r.jukeboxRequest!=null&&r.hasOwnProperty("jukeboxRequest")&&(p.jukeboxRequest=n.PeerMessage.JukeboxRequest.toObject(r.jukeboxRequest,l)),r.contentShareDetails!=null&&r.hasOwnProperty("contentShareDetails")&&(p.contentShareDetails=n.PeerMessage.ContentShareDetails.toObject(r.contentShareDetails,l)),p},"toObject"),e.prototype.toJSON=o(function(){return this.constructor.toObject(this,S.util.toJSONOptions)},"toJSON"),e.getTypeUrl=o(function(r){return r===void 0&&(r="type.googleapis.com"),r+"/PeerMessage"},"getTypeUrl"),e.Reacji=function(){function t(r){if(r)for(let l=Object.keys(r),p=0;p<l.length;++p)r[l[p]]!=null&&(this[l[p]]=r[l[p]])}return o(t,"Reacji"),t.prototype.emoji="",t.prototype.type=0,t.create=o(function(l){return new t(l)},"create"),t.encode=o(function(l,p){return p||(p=f.create()),l.emoji!=null&&Object.hasOwnProperty.call(l,"emoji")&&p.uint32(10).string(l.emoji),l.type!=null&&Object.hasOwnProperty.call(l,"type")&&p.uint32(16).int32(l.type),p},"encode"),t.encodeDelimited=o(function(l,p){return this.encode(l,p).ldelim()},"encodeDelimited"),t.decode=o(function(l,p){l instanceof m||(l=m.create(l));let v=p===void 0?l.len:l.pos+p,g=new n.PeerMessage.Reacji;for(;l.pos<v;){let u=l.uint32();switch(u>>>3){case 1:{g.emoji=l.string();break}case 2:{g.type=l.int32();break}default:l.skipType(u&7);break}}return g},"decode"),t.decodeDelimited=o(function(l){return l instanceof m||(l=new m(l)),this.decode(l,l.uint32())},"decodeDelimited"),t.verify=o(function(l){if(typeof l!="object"||l===null)return"object expected";if(l.emoji!=null&&l.hasOwnProperty("emoji")&&!a.isString(l.emoji))return"emoji: string expected";if(l.type!=null&&l.hasOwnProperty("type"))switch(l.type){default:return"type: enum value expected";case 0:case 1:case 2:break}return null},"verify"),t.fromObject=o(function(l){if(l instanceof n.PeerMessage.Reacji)return l;let p=new n.PeerMessage.Reacji;switch(l.emoji!=null&&(p.emoji=String(l.emoji)),l.type){default:if(typeof l.type=="number"){p.type=l.type;break}break;case"Unknown_reaction_type":case 0:p.type=0;break;case"Effect":case 1:p.type=1;break;case"Standard":case 2:p.type=2;break}return p},"fromObject"),t.toObject=o(function(l,p){p||(p={});let v={};return p.defaults&&(v.emoji="",v.type=p.enums===String?"Unknown_reaction_type":0),l.emoji!=null&&l.hasOwnProperty("emoji")&&(v.emoji=l.emoji),l.type!=null&&l.hasOwnProperty("type")&&(v.type=p.enums===String?n.PeerMessage.Reacji.Type[l.type]===void 0?l.type:n.PeerMessage.Reacji.Type[l.type]:l.type),v},"toObject"),t.prototype.toJSON=o(function(){return this.constructor.toObject(this,S.util.toJSONOptions)},"toJSON"),t.getTypeUrl=o(function(l){return l===void 0&&(l="type.googleapis.com"),l+"/PeerMessage.Reacji"},"getTypeUrl"),t.Type=function(){const r={},l=Object.create(r);return l[r[0]="Unknown_reaction_type"]=0,l[r[1]="Effect"]=1,l[r[2]="Standard"]=2,l}(),t}(),e.Point=function(){function t(r){if(r)for(let l=Object.keys(r),p=0;p<l.length;++p)r[l[p]]!=null&&(this[l[p]]=r[l[p]])}return o(t,"Point"),t.prototype.x=0,t.prototype.y=0,t.create=o(function(l){return new t(l)},"create"),t.encode=o(function(l,p){return p||(p=f.create()),l.x!=null&&Object.hasOwnProperty.call(l,"x")&&p.uint32(9).double(l.x),l.y!=null&&Object.hasOwnProperty.call(l,"y")&&p.uint32(17).double(l.y),p},"encode"),t.encodeDelimited=o(function(l,p){return this.encode(l,p).ldelim()},"encodeDelimited"),t.decode=o(function(l,p){l instanceof m||(l=m.create(l));let v=p===void 0?l.len:l.pos+p,g=new n.PeerMessage.Point;for(;l.pos<v;){let u=l.uint32();switch(u>>>3){case 1:{g.x=l.double();break}case 2:{g.y=l.double();break}default:l.skipType(u&7);break}}return g},"decode"),t.decodeDelimited=o(function(l){return l instanceof m||(l=new m(l)),this.decode(l,l.uint32())},"decodeDelimited"),t.verify=o(function(l){return typeof l!="object"||l===null?"object expected":l.x!=null&&l.hasOwnProperty("x")&&typeof l.x!="number"?"x: number expected":l.y!=null&&l.hasOwnProperty("y")&&typeof l.y!="number"?"y: number expected":null},"verify"),t.fromObject=o(function(l){if(l instanceof n.PeerMessage.Point)return l;let p=new n.PeerMessage.Point;return l.x!=null&&(p.x=Number(l.x)),l.y!=null&&(p.y=Number(l.y)),p},"fromObject"),t.toObject=o(function(l,p){p||(p={});let v={};return p.defaults&&(v.x=0,v.y=0),l.x!=null&&l.hasOwnProperty("x")&&(v.x=p.json&&!isFinite(l.x)?String(l.x):l.x),l.y!=null&&l.hasOwnProperty("y")&&(v.y=p.json&&!isFinite(l.y)?String(l.y):l.y),v},"toObject"),t.prototype.toJSON=o(function(){return this.constructor.toObject(this,S.util.toJSONOptions)},"toJSON"),t.getTypeUrl=o(function(l){return l===void 0&&(l="type.googleapis.com"),l+"/PeerMessage.Point"},"getTypeUrl"),t}(),e.Segment=function(){function t(r){if(r)for(let l=Object.keys(r),p=0;p<l.length;++p)r[l[p]]!=null&&(this[l[p]]=r[l[p]])}return o(t,"Segment"),t.prototype.a=null,t.prototype.b=null,t.prototype.c=null,t.prototype.d=null,t.create=o(function(l){return new t(l)},"create"),t.encode=o(function(l,p){return p||(p=f.create()),l.a!=null&&Object.hasOwnProperty.call(l,"a")&&n.PeerMessage.Point.encode(l.a,p.uint32(10).fork()).ldelim(),l.b!=null&&Object.hasOwnProperty.call(l,"b")&&n.PeerMessage.Point.encode(l.b,p.uint32(18).fork()).ldelim(),l.c!=null&&Object.hasOwnProperty.call(l,"c")&&n.PeerMessage.Point.encode(l.c,p.uint32(26).fork()).ldelim(),l.d!=null&&Object.hasOwnProperty.call(l,"d")&&n.PeerMessage.Point.encode(l.d,p.uint32(34).fork()).ldelim(),p},"encode"),t.encodeDelimited=o(function(l,p){return this.encode(l,p).ldelim()},"encodeDelimited"),t.decode=o(function(l,p){l instanceof m||(l=m.create(l));let v=p===void 0?l.len:l.pos+p,g=new n.PeerMessage.Segment;for(;l.pos<v;){let u=l.uint32();switch(u>>>3){case 1:{g.a=n.PeerMessage.Point.decode(l,l.uint32());break}case 2:{g.b=n.PeerMessage.Point.decode(l,l.uint32());break}case 3:{g.c=n.PeerMessage.Point.decode(l,l.uint32());break}case 4:{g.d=n.PeerMessage.Point.decode(l,l.uint32());break}default:l.skipType(u&7);break}}return g},"decode"),t.decodeDelimited=o(function(l){return l instanceof m||(l=new m(l)),this.decode(l,l.uint32())},"decodeDelimited"),t.verify=o(function(l){if(typeof l!="object"||l===null)return"object expected";if(l.a!=null&&l.hasOwnProperty("a")){let p=n.PeerMessage.Point.verify(l.a);if(p)return"a."+p}if(l.b!=null&&l.hasOwnProperty("b")){let p=n.PeerMessage.Point.verify(l.b);if(p)return"b."+p}if(l.c!=null&&l.hasOwnProperty("c")){let p=n.PeerMessage.Point.verify(l.c);if(p)return"c."+p}if(l.d!=null&&l.hasOwnProperty("d")){let p=n.PeerMessage.Point.verify(l.d);if(p)return"d."+p}return null},"verify"),t.fromObject=o(function(l){if(l instanceof n.PeerMessage.Segment)return l;let p=new n.PeerMessage.Segment;if(l.a!=null){if(typeof l.a!="object")throw TypeError(".PeerMessage.Segment.a: object expected");p.a=n.PeerMessage.Point.fromObject(l.a)}if(l.b!=null){if(typeof l.b!="object")throw TypeError(".PeerMessage.Segment.b: object expected");p.b=n.PeerMessage.Point.fromObject(l.b)}if(l.c!=null){if(typeof l.c!="object")throw TypeError(".PeerMessage.Segment.c: object expected");p.c=n.PeerMessage.Point.fromObject(l.c)}if(l.d!=null){if(typeof l.d!="object")throw TypeError(".PeerMessage.Segment.d: object expected");p.d=n.PeerMessage.Point.fromObject(l.d)}return p},"fromObject"),t.toObject=o(function(l,p){p||(p={});let v={};return p.defaults&&(v.a=null,v.b=null,v.c=null,v.d=null),l.a!=null&&l.hasOwnProperty("a")&&(v.a=n.PeerMessage.Point.toObject(l.a,p)),l.b!=null&&l.hasOwnProperty("b")&&(v.b=n.PeerMessage.Point.toObject(l.b,p)),l.c!=null&&l.hasOwnProperty("c")&&(v.c=n.PeerMessage.Point.toObject(l.c,p)),l.d!=null&&l.hasOwnProperty("d")&&(v.d=n.PeerMessage.Point.toObject(l.d,p)),v},"toObject"),t.prototype.toJSON=o(function(){return this.constructor.toObject(this,S.util.toJSONOptions)},"toJSON"),t.getTypeUrl=o(function(l){return l===void 0&&(l="type.googleapis.com"),l+"/PeerMessage.Segment"},"getTypeUrl"),t}(),e.Draw=function(){function t(r){if(r)for(let l=Object.keys(r),p=0;p<l.length;++p)r[l[p]]!=null&&(this[l[p]]=r[l[p]])}return o(t,"Draw"),t.prototype.type=0,t.prototype.segment=null,t.prototype.hue=0,t.prototype.itemId="",t.prototype.x=0,t.prototype.y=0,t.create=o(function(l){return new t(l)},"create"),t.encode=o(function(l,p){return p||(p=f.create()),l.type!=null&&Object.hasOwnProperty.call(l,"type")&&p.uint32(8).int32(l.type),l.segment!=null&&Object.hasOwnProperty.call(l,"segment")&&n.PeerMessage.Segment.encode(l.segment,p.uint32(18).fork()).ldelim(),l.hue!=null&&Object.hasOwnProperty.call(l,"hue")&&p.uint32(24).int32(l.hue),l.itemId!=null&&Object.hasOwnProperty.call(l,"itemId")&&p.uint32(34).string(l.itemId),l.x!=null&&Object.hasOwnProperty.call(l,"x")&&p.uint32(41).double(l.x),l.y!=null&&Object.hasOwnProperty.call(l,"y")&&p.uint32(49).double(l.y),p},"encode"),t.encodeDelimited=o(function(l,p){return this.encode(l,p).ldelim()},"encodeDelimited"),t.decode=o(function(l,p){l instanceof m||(l=m.create(l));let v=p===void 0?l.len:l.pos+p,g=new n.PeerMessage.Draw;for(;l.pos<v;){let u=l.uint32();switch(u>>>3){case 1:{g.type=l.int32();break}case 2:{g.segment=n.PeerMessage.Segment.decode(l,l.uint32());break}case 3:{g.hue=l.int32();break}case 4:{g.itemId=l.string();break}case 5:{g.x=l.double();break}case 6:{g.y=l.double();break}default:l.skipType(u&7);break}}return g},"decode"),t.decodeDelimited=o(function(l){return l instanceof m||(l=new m(l)),this.decode(l,l.uint32())},"decodeDelimited"),t.verify=o(function(l){if(typeof l!="object"||l===null)return"object expected";if(l.type!=null&&l.hasOwnProperty("type"))switch(l.type){default:return"type: enum value expected";case 0:case 1:case 2:case 3:case 4:case 5:break}if(l.segment!=null&&l.hasOwnProperty("segment")){let p=n.PeerMessage.Segment.verify(l.segment);if(p)return"segment."+p}return l.hue!=null&&l.hasOwnProperty("hue")&&!a.isInteger(l.hue)?"hue: integer expected":l.itemId!=null&&l.hasOwnProperty("itemId")&&!a.isString(l.itemId)?"itemId: string expected":l.x!=null&&l.hasOwnProperty("x")&&typeof l.x!="number"?"x: number expected":l.y!=null&&l.hasOwnProperty("y")&&typeof l.y!="number"?"y: number expected":null},"verify"),t.fromObject=o(function(l){if(l instanceof n.PeerMessage.Draw)return l;let p=new n.PeerMessage.Draw;switch(l.type){default:if(typeof l.type=="number"){p.type=l.type;break}break;case"UNKNOWN_DRAW_TYPE":case 0:p.type=0;break;case"NEW":case 1:p.type=1;break;case"EDIT":case 2:p.type=2;break;case"END":case 3:p.type=3;break;case"CHANGE_HUE":case 4:p.type=4;break;case"POSITION":case 5:p.type=5;break}if(l.segment!=null){if(typeof l.segment!="object")throw TypeError(".PeerMessage.Draw.segment: object expected");p.segment=n.PeerMessage.Segment.fromObject(l.segment)}return l.hue!=null&&(p.hue=l.hue|0),l.itemId!=null&&(p.itemId=String(l.itemId)),l.x!=null&&(p.x=Number(l.x)),l.y!=null&&(p.y=Number(l.y)),p},"fromObject"),t.toObject=o(function(l,p){p||(p={});let v={};return p.defaults&&(v.type=p.enums===String?"UNKNOWN_DRAW_TYPE":0,v.segment=null,v.hue=0,v.itemId="",v.x=0,v.y=0),l.type!=null&&l.hasOwnProperty("type")&&(v.type=p.enums===String?n.PeerMessage.Draw.Type[l.type]===void 0?l.type:n.PeerMessage.Draw.Type[l.type]:l.type),l.segment!=null&&l.hasOwnProperty("segment")&&(v.segment=n.PeerMessage.Segment.toObject(l.segment,p)),l.hue!=null&&l.hasOwnProperty("hue")&&(v.hue=l.hue),l.itemId!=null&&l.hasOwnProperty("itemId")&&(v.itemId=l.itemId),l.x!=null&&l.hasOwnProperty("x")&&(v.x=p.json&&!isFinite(l.x)?String(l.x):l.x),l.y!=null&&l.hasOwnProperty("y")&&(v.y=p.json&&!isFinite(l.y)?String(l.y):l.y),v},"toObject"),t.prototype.toJSON=o(function(){return this.constructor.toObject(this,S.util.toJSONOptions)},"toJSON"),t.getTypeUrl=o(function(l){return l===void 0&&(l="type.googleapis.com"),l+"/PeerMessage.Draw"},"getTypeUrl"),t.Type=function(){const r={},l=Object.create(r);return l[r[0]="UNKNOWN_DRAW_TYPE"]=0,l[r[1]="NEW"]=1,l[r[2]="EDIT"]=2,l[r[3]="END"]=3,l[r[4]="CHANGE_HUE"]=4,l[r[5]="POSITION"]=5,l}(),t}(),e.Capabilities=function(){function t(r){if(r)for(let l=Object.keys(r),p=0;p<l.length;++p)r[l[p]]!=null&&(this[l[p]]=r[l[p]])}return o(t,"Capabilities"),t.prototype.isDrawEnabled=!1,t.create=o(function(l){return new t(l)},"create"),t.encode=o(function(l,p){return p||(p=f.create()),l.isDrawEnabled!=null&&Object.hasOwnProperty.call(l,"isDrawEnabled")&&p.uint32(8).bool(l.isDrawEnabled),p},"encode"),t.encodeDelimited=o(function(l,p){return this.encode(l,p).ldelim()},"encodeDelimited"),t.decode=o(function(l,p){l instanceof m||(l=m.create(l));let v=p===void 0?l.len:l.pos+p,g=new n.PeerMessage.Capabilities;for(;l.pos<v;){let u=l.uint32();switch(u>>>3){case 1:{g.isDrawEnabled=l.bool();break}default:l.skipType(u&7);break}}return g},"decode"),t.decodeDelimited=o(function(l){return l instanceof m||(l=new m(l)),this.decode(l,l.uint32())},"decodeDelimited"),t.verify=o(function(l){return typeof l!="object"||l===null?"object expected":l.isDrawEnabled!=null&&l.hasOwnProperty("isDrawEnabled")&&typeof l.isDrawEnabled!="boolean"?"isDrawEnabled: boolean expected":null},"verify"),t.fromObject=o(function(l){if(l instanceof n.PeerMessage.Capabilities)return l;let p=new n.PeerMessage.Capabilities;return l.isDrawEnabled!=null&&(p.isDrawEnabled=Boolean(l.isDrawEnabled)),p},"fromObject"),t.toObject=o(function(l,p){p||(p={});let v={};return p.defaults&&(v.isDrawEnabled=!1),l.isDrawEnabled!=null&&l.hasOwnProperty("isDrawEnabled")&&(v.isDrawEnabled=l.isDrawEnabled),v},"toObject"),t.prototype.toJSON=o(function(){return this.constructor.toObject(this,S.util.toJSONOptions)},"toJSON"),t.getTypeUrl=o(function(l){return l===void 0&&(l="type.googleapis.com"),l+"/PeerMessage.Capabilities"},"getTypeUrl"),t}(),e.ContentShareDetails=function(){function t(r){if(r)for(let l=Object.keys(r),p=0;p<l.length;++p)r[l[p]]!=null&&(this[l[p]]=r[l[p]])}return o(t,"ContentShareDetails"),t.prototype.sourceType="",t.prototype.itemId="",t.create=o(function(l){return new t(l)},"create"),t.encode=o(function(l,p){return p||(p=f.create()),l.sourceType!=null&&Object.hasOwnProperty.call(l,"sourceType")&&p.uint32(10).string(l.sourceType),l.itemId!=null&&Object.hasOwnProperty.call(l,"itemId")&&p.uint32(18).string(l.itemId),p},"encode"),t.encodeDelimited=o(function(l,p){return this.encode(l,p).ldelim()},"encodeDelimited"),t.decode=o(function(l,p){l instanceof m||(l=m.create(l));let v=p===void 0?l.len:l.pos+p,g=new n.PeerMessage.ContentShareDetails;for(;l.pos<v;){let u=l.uint32();switch(u>>>3){case 1:{g.sourceType=l.string();break}case 2:{g.itemId=l.string();break}default:l.skipType(u&7);break}}return g},"decode"),t.decodeDelimited=o(function(l){return l instanceof m||(l=new m(l)),this.decode(l,l.uint32())},"decodeDelimited"),t.verify=o(function(l){return typeof l!="object"||l===null?"object expected":l.sourceType!=null&&l.hasOwnProperty("sourceType")&&!a.isString(l.sourceType)?"sourceType: string expected":l.itemId!=null&&l.hasOwnProperty("itemId")&&!a.isString(l.itemId)?"itemId: string expected":null},"verify"),t.fromObject=o(function(l){if(l instanceof n.PeerMessage.ContentShareDetails)return l;let p=new n.PeerMessage.ContentShareDetails;return l.sourceType!=null&&(p.sourceType=String(l.sourceType)),l.itemId!=null&&(p.itemId=String(l.itemId)),p},"fromObject"),t.toObject=o(function(l,p){p||(p={});let v={};return p.defaults&&(v.sourceType="",v.itemId=""),l.sourceType!=null&&l.hasOwnProperty("sourceType")&&(v.sourceType=l.sourceType),l.itemId!=null&&l.hasOwnProperty("itemId")&&(v.itemId=l.itemId),v},"toObject"),t.prototype.toJSON=o(function(){return this.constructor.toObject(this,S.util.toJSONOptions)},"toJSON"),t.getTypeUrl=o(function(l){return l===void 0&&(l="type.googleapis.com"),l+"/PeerMessage.ContentShareDetails"},"getTypeUrl"),t}(),e.Background=function(){function t(r){if(r)for(let l=Object.keys(r),p=0;p<l.length;++p)r[l[p]]!=null&&(this[l[p]]=r[l[p]])}return o(t,"Background"),t.prototype.url="",t.create=o(function(l){return new t(l)},"create"),t.encode=o(function(l,p){return p||(p=f.create()),l.url!=null&&Object.hasOwnProperty.call(l,"url")&&p.uint32(10).string(l.url),p},"encode"),t.encodeDelimited=o(function(l,p){return this.encode(l,p).ldelim()},"encodeDelimited"),t.decode=o(function(l,p){l instanceof m||(l=m.create(l));let v=p===void 0?l.len:l.pos+p,g=new n.PeerMessage.Background;for(;l.pos<v;){let u=l.uint32();switch(u>>>3){case 1:{g.url=l.string();break}default:l.skipType(u&7);break}}return g},"decode"),t.decodeDelimited=o(function(l){return l instanceof m||(l=new m(l)),this.decode(l,l.uint32())},"decodeDelimited"),t.verify=o(function(l){return typeof l!="object"||l===null?"object expected":l.url!=null&&l.hasOwnProperty("url")&&!a.isString(l.url)?"url: string expected":null},"verify"),t.fromObject=o(function(l){if(l instanceof n.PeerMessage.Background)return l;let p=new n.PeerMessage.Background;return l.url!=null&&(p.url=String(l.url)),p},"fromObject"),t.toObject=o(function(l,p){p||(p={});let v={};return p.defaults&&(v.url=""),l.url!=null&&l.hasOwnProperty("url")&&(v.url=l.url),v},"toObject"),t.prototype.toJSON=o(function(){return this.constructor.toObject(this,S.util.toJSONOptions)},"toJSON"),t.getTypeUrl=o(function(l){return l===void 0&&(l="type.googleapis.com"),l+"/PeerMessage.Background"},"getTypeUrl"),t}(),e.MuteRequest=function(){function t(r){if(r)for(let l=Object.keys(r),p=0;p<l.length;++p)r[l[p]]!=null&&(this[l[p]]=r[l[p]])}return o(t,"MuteRequest"),t.prototype.peerId="",t.create=o(function(l){return new t(l)},"create"),t.encode=o(function(l,p){return p||(p=f.create()),l.peerId!=null&&Object.hasOwnProperty.call(l,"peerId")&&p.uint32(10).string(l.peerId),p},"encode"),t.encodeDelimited=o(function(l,p){return this.encode(l,p).ldelim()},"encodeDelimited"),t.decode=o(function(l,p){l instanceof m||(l=m.create(l));let v=p===void 0?l.len:l.pos+p,g=new n.PeerMessage.MuteRequest;for(;l.pos<v;){let u=l.uint32();switch(u>>>3){case 1:{g.peerId=l.string();break}default:l.skipType(u&7);break}}return g},"decode"),t.decodeDelimited=o(function(l){return l instanceof m||(l=new m(l)),this.decode(l,l.uint32())},"decodeDelimited"),t.verify=o(function(l){return typeof l!="object"||l===null?"object expected":l.peerId!=null&&l.hasOwnProperty("peerId")&&!a.isString(l.peerId)?"peerId: string expected":null},"verify"),t.fromObject=o(function(l){if(l instanceof n.PeerMessage.MuteRequest)return l;let p=new n.PeerMessage.MuteRequest;return l.peerId!=null&&(p.peerId=String(l.peerId)),p},"fromObject"),t.toObject=o(function(l,p){p||(p={});let v={};return p.defaults&&(v.peerId=""),l.peerId!=null&&l.hasOwnProperty("peerId")&&(v.peerId=l.peerId),v},"toObject"),t.prototype.toJSON=o(function(){return this.constructor.toObject(this,S.util.toJSONOptions)},"toJSON"),t.getTypeUrl=o(function(l){return l===void 0&&(l="type.googleapis.com"),l+"/PeerMessage.MuteRequest"},"getTypeUrl"),t}(),e.JukeboxRequest=function(){function t(r){if(r)for(let l=Object.keys(r),p=0;p<l.length;++p)r[l[p]]!=null&&(this[l[p]]=r[l[p]])}return o(t,"JukeboxRequest"),t.prototype.songKey="",t.prototype.stop=!1,t.create=o(function(l){return new t(l)},"create"),t.encode=o(function(l,p){return p||(p=f.create()),l.songKey!=null&&Object.hasOwnProperty.call(l,"songKey")&&p.uint32(10).string(l.songKey),l.stop!=null&&Object.hasOwnProperty.call(l,"stop")&&p.uint32(16).bool(l.stop),p},"encode"),t.encodeDelimited=o(function(l,p){return this.encode(l,p).ldelim()},"encodeDelimited"),t.decode=o(function(l,p){l instanceof m||(l=m.create(l));let v=p===void 0?l.len:l.pos+p,g=new n.PeerMessage.JukeboxRequest;for(;l.pos<v;){let u=l.uint32();switch(u>>>3){case 1:{g.songKey=l.string();break}case 2:{g.stop=l.bool();break}default:l.skipType(u&7);break}}return g},"decode"),t.decodeDelimited=o(function(l){return l instanceof m||(l=new m(l)),this.decode(l,l.uint32())},"decodeDelimited"),t.verify=o(function(l){return typeof l!="object"||l===null?"object expected":l.songKey!=null&&l.hasOwnProperty("songKey")&&!a.isString(l.songKey)?"songKey: string expected":l.stop!=null&&l.hasOwnProperty("stop")&&typeof l.stop!="boolean"?"stop: boolean expected":null},"verify"),t.fromObject=o(function(l){if(l instanceof n.PeerMessage.JukeboxRequest)return l;let p=new n.PeerMessage.JukeboxRequest;return l.songKey!=null&&(p.songKey=String(l.songKey)),l.stop!=null&&(p.stop=Boolean(l.stop)),p},"fromObject"),t.toObject=o(function(l,p){p||(p={});let v={};return p.defaults&&(v.songKey="",v.stop=!1),l.songKey!=null&&l.hasOwnProperty("songKey")&&(v.songKey=l.songKey),l.stop!=null&&l.hasOwnProperty("stop")&&(v.stop=l.stop),v},"toObject"),t.prototype.toJSON=o(function(){return this.constructor.toObject(this,S.util.toJSONOptions)},"toJSON"),t.getTypeUrl=o(function(l){return l===void 0&&(l="type.googleapis.com"),l+"/PeerMessage.JukeboxRequest"},"getTypeUrl"),t}(),e.AwarenessPayload=function(){function t(l){if(l)for(let p=Object.keys(l),v=0;v<p.length;++v)l[p[v]]!=null&&(this[p[v]]=l[p[v]])}o(t,"AwarenessPayload"),t.prototype.fieldName="",t.prototype.fieldValue="",t.prototype.fieldTimestampMs=null;let r;return Object.defineProperty(t.prototype,"_fieldTimestampMs",{get:a.oneOfGetter(r=["fieldTimestampMs"]),set:a.oneOfSetter(r)}),t.create=o(function(p){return new t(p)},"create"),t.encode=o(function(p,v){return v||(v=f.create()),p.fieldName!=null&&Object.hasOwnProperty.call(p,"fieldName")&&v.uint32(10).string(p.fieldName),p.fieldValue!=null&&Object.hasOwnProperty.call(p,"fieldValue")&&v.uint32(18).string(p.fieldValue),p.fieldTimestampMs!=null&&Object.hasOwnProperty.call(p,"fieldTimestampMs")&&v.uint32(24).int64(p.fieldTimestampMs),v},"encode"),t.encodeDelimited=o(function(p,v){return this.encode(p,v).ldelim()},"encodeDelimited"),t.decode=o(function(p,v){p instanceof m||(p=m.create(p));let g=v===void 0?p.len:p.pos+v,u=new n.PeerMessage.AwarenessPayload;for(;p.pos<g;){let s=p.uint32();switch(s>>>3){case 1:{u.fieldName=p.string();break}case 2:{u.fieldValue=p.string();break}case 3:{u.fieldTimestampMs=p.int64();break}default:p.skipType(s&7);break}}return u},"decode"),t.decodeDelimited=o(function(p){return p instanceof m||(p=new m(p)),this.decode(p,p.uint32())},"decodeDelimited"),t.verify=o(function(p){if(typeof p!="object"||p===null)return"object expected";let v={};return p.fieldName!=null&&p.hasOwnProperty("fieldName")&&!a.isString(p.fieldName)?"fieldName: string expected":p.fieldValue!=null&&p.hasOwnProperty("fieldValue")&&!a.isString(p.fieldValue)?"fieldValue: string expected":p.fieldTimestampMs!=null&&p.hasOwnProperty("fieldTimestampMs")&&(v._fieldTimestampMs=1,!a.isInteger(p.fieldTimestampMs)&&!(p.fieldTimestampMs&&a.isInteger(p.fieldTimestampMs.low)&&a.isInteger(p.fieldTimestampMs.high)))?"fieldTimestampMs: integer|Long expected":null},"verify"),t.fromObject=o(function(p){if(p instanceof n.PeerMessage.AwarenessPayload)return p;let v=new n.PeerMessage.AwarenessPayload;return p.fieldName!=null&&(v.fieldName=String(p.fieldName)),p.fieldValue!=null&&(v.fieldValue=String(p.fieldValue)),p.fieldTimestampMs!=null&&(a.Long?(v.fieldTimestampMs=a.Long.fromValue(p.fieldTimestampMs)).unsigned=!1:typeof p.fieldTimestampMs=="string"?v.fieldTimestampMs=parseInt(p.fieldTimestampMs,10):typeof p.fieldTimestampMs=="number"?v.fieldTimestampMs=p.fieldTimestampMs:typeof p.fieldTimestampMs=="object"&&(v.fieldTimestampMs=new a.LongBits(p.fieldTimestampMs.low>>>0,p.fieldTimestampMs.high>>>0).toNumber())),v},"fromObject"),t.toObject=o(function(p,v){v||(v={});let g={};return v.defaults&&(g.fieldName="",g.fieldValue=""),p.fieldName!=null&&p.hasOwnProperty("fieldName")&&(g.fieldName=p.fieldName),p.fieldValue!=null&&p.hasOwnProperty("fieldValue")&&(g.fieldValue=p.fieldValue),p.fieldTimestampMs!=null&&p.hasOwnProperty("fieldTimestampMs")&&(typeof p.fieldTimestampMs=="number"?g.fieldTimestampMs=v.longs===String?String(p.fieldTimestampMs):p.fieldTimestampMs:g.fieldTimestampMs=v.longs===String?a.Long.prototype.toString.call(p.fieldTimestampMs):v.longs===Number?new a.LongBits(p.fieldTimestampMs.low>>>0,p.fieldTimestampMs.high>>>0).toNumber():p.fieldTimestampMs,v.oneofs&&(g._fieldTimestampMs="fieldTimestampMs")),g},"toObject"),t.prototype.toJSON=o(function(){return this.constructor.toObject(this,S.util.toJSONOptions)},"toJSON"),t.getTypeUrl=o(function(p){return p===void 0&&(p="type.googleapis.com"),p+"/PeerMessage.AwarenessPayload"},"getTypeUrl"),t}(),e.AwarenessBroadcast=function(){function t(r){if(this.awarenessState=[],r)for(let l=Object.keys(r),p=0;p<l.length;++p)r[l[p]]!=null&&(this[l[p]]=r[l[p]])}return o(t,"AwarenessBroadcast"),t.prototype.channel="",t.prototype.user="",t.prototype.awarenessState=a.emptyArray,t.create=o(function(l){return new t(l)},"create"),t.encode=o(function(l,p){if(p||(p=f.create()),l.channel!=null&&Object.hasOwnProperty.call(l,"channel")&&p.uint32(10).string(l.channel),l.user!=null&&Object.hasOwnProperty.call(l,"user")&&p.uint32(18).string(l.user),l.awarenessState!=null&&l.awarenessState.length)for(let v=0;v<l.awarenessState.length;++v)n.PeerMessage.AwarenessPayload.encode(l.awarenessState[v],p.uint32(26).fork()).ldelim();return p},"encode"),t.encodeDelimited=o(function(l,p){return this.encode(l,p).ldelim()},"encodeDelimited"),t.decode=o(function(l,p){l instanceof m||(l=m.create(l));let v=p===void 0?l.len:l.pos+p,g=new n.PeerMessage.AwarenessBroadcast;for(;l.pos<v;){let u=l.uint32();switch(u>>>3){case 1:{g.channel=l.string();break}case 2:{g.user=l.string();break}case 3:{g.awarenessState&&g.awarenessState.length||(g.awarenessState=[]),g.awarenessState.push(n.PeerMessage.AwarenessPayload.decode(l,l.uint32()));break}default:l.skipType(u&7);break}}return g},"decode"),t.decodeDelimited=o(function(l){return l instanceof m||(l=new m(l)),this.decode(l,l.uint32())},"decodeDelimited"),t.verify=o(function(l){if(typeof l!="object"||l===null)return"object expected";if(l.channel!=null&&l.hasOwnProperty("channel")&&!a.isString(l.channel))return"channel: string expected";if(l.user!=null&&l.hasOwnProperty("user")&&!a.isString(l.user))return"user: string expected";if(l.awarenessState!=null&&l.hasOwnProperty("awarenessState")){if(!Array.isArray(l.awarenessState))return"awarenessState: array expected";for(let p=0;p<l.awarenessState.length;++p){let v=n.PeerMessage.AwarenessPayload.verify(l.awarenessState[p]);if(v)return"awarenessState."+v}}return null},"verify"),t.fromObject=o(function(l){if(l instanceof n.PeerMessage.AwarenessBroadcast)return l;let p=new n.PeerMessage.AwarenessBroadcast;if(l.channel!=null&&(p.channel=String(l.channel)),l.user!=null&&(p.user=String(l.user)),l.awarenessState){if(!Array.isArray(l.awarenessState))throw TypeError(".PeerMessage.AwarenessBroadcast.awarenessState: array expected");p.awarenessState=[];for(let v=0;v<l.awarenessState.length;++v){if(typeof l.awarenessState[v]!="object")throw TypeError(".PeerMessage.AwarenessBroadcast.awarenessState: object expected");p.awarenessState[v]=n.PeerMessage.AwarenessPayload.fromObject(l.awarenessState[v])}}return p},"fromObject"),t.toObject=o(function(l,p){p||(p={});let v={};if((p.arrays||p.defaults)&&(v.awarenessState=[]),p.defaults&&(v.channel="",v.user=""),l.channel!=null&&l.hasOwnProperty("channel")&&(v.channel=l.channel),l.user!=null&&l.hasOwnProperty("user")&&(v.user=l.user),l.awarenessState&&l.awarenessState.length){v.awarenessState=[];for(let g=0;g<l.awarenessState.length;++g)v.awarenessState[g]=n.PeerMessage.AwarenessPayload.toObject(l.awarenessState[g],p)}return v},"toObject"),t.prototype.toJSON=o(function(){return this.constructor.toObject(this,S.util.toJSONOptions)},"toJSON"),t.getTypeUrl=o(function(l){return l===void 0&&(l="type.googleapis.com"),l+"/PeerMessage.AwarenessBroadcast"},"getTypeUrl"),t}(),e.AwarenessQuery=function(){function t(r){if(r)for(let l=Object.keys(r),p=0;p<l.length;++p)r[l[p]]!=null&&(this[l[p]]=r[l[p]])}return o(t,"AwarenessQuery"),t.prototype.channel="",t.prototype.user="",t.create=o(function(l){return new t(l)},"create"),t.encode=o(function(l,p){return p||(p=f.create()),l.channel!=null&&Object.hasOwnProperty.call(l,"channel")&&p.uint32(10).string(l.channel),l.user!=null&&Object.hasOwnProperty.call(l,"user")&&p.uint32(18).string(l.user),p},"encode"),t.encodeDelimited=o(function(l,p){return this.encode(l,p).ldelim()},"encodeDelimited"),t.decode=o(function(l,p){l instanceof m||(l=m.create(l));let v=p===void 0?l.len:l.pos+p,g=new n.PeerMessage.AwarenessQuery;for(;l.pos<v;){let u=l.uint32();switch(u>>>3){case 1:{g.channel=l.string();break}case 2:{g.user=l.string();break}default:l.skipType(u&7);break}}return g},"decode"),t.decodeDelimited=o(function(l){return l instanceof m||(l=new m(l)),this.decode(l,l.uint32())},"decodeDelimited"),t.verify=o(function(l){return typeof l!="object"||l===null?"object expected":l.channel!=null&&l.hasOwnProperty("channel")&&!a.isString(l.channel)?"channel: string expected":l.user!=null&&l.hasOwnProperty("user")&&!a.isString(l.user)?"user: string expected":null},"verify"),t.fromObject=o(function(l){if(l instanceof n.PeerMessage.AwarenessQuery)return l;let p=new n.PeerMessage.AwarenessQuery;return l.channel!=null&&(p.channel=String(l.channel)),l.user!=null&&(p.user=String(l.user)),p},"fromObject"),t.toObject=o(function(l,p){p||(p={});let v={};return p.defaults&&(v.channel="",v.user=""),l.channel!=null&&l.hasOwnProperty("channel")&&(v.channel=l.channel),l.user!=null&&l.hasOwnProperty("user")&&(v.user=l.user),v},"toObject"),t.prototype.toJSON=o(function(){return this.constructor.toObject(this,S.util.toJSONOptions)},"toJSON"),t.getTypeUrl=o(function(l){return l===void 0&&(l="type.googleapis.com"),l+"/PeerMessage.AwarenessQuery"},"getTypeUrl"),t}(),e.AwarenessClose=function(){function t(r){if(r)for(let l=Object.keys(r),p=0;p<l.length;++p)r[l[p]]!=null&&(this[l[p]]=r[l[p]])}return o(t,"AwarenessClose"),t.prototype.channel="",t.prototype.user="",t.create=o(function(l){return new t(l)},"create"),t.encode=o(function(l,p){return p||(p=f.create()),l.channel!=null&&Object.hasOwnProperty.call(l,"channel")&&p.uint32(10).string(l.channel),l.user!=null&&Object.hasOwnProperty.call(l,"user")&&p.uint32(18).string(l.user),p},"encode"),t.encodeDelimited=o(function(l,p){return this.encode(l,p).ldelim()},"encodeDelimited"),t.decode=o(function(l,p){l instanceof m||(l=m.create(l));let v=p===void 0?l.len:l.pos+p,g=new n.PeerMessage.AwarenessClose;for(;l.pos<v;){let u=l.uint32();switch(u>>>3){case 1:{g.channel=l.string();break}case 2:{g.user=l.string();break}default:l.skipType(u&7);break}}return g},"decode"),t.decodeDelimited=o(function(l){return l instanceof m||(l=new m(l)),this.decode(l,l.uint32())},"decodeDelimited"),t.verify=o(function(l){return typeof l!="object"||l===null?"object expected":l.channel!=null&&l.hasOwnProperty("channel")&&!a.isString(l.channel)?"channel: string expected":l.user!=null&&l.hasOwnProperty("user")&&!a.isString(l.user)?"user: string expected":null},"verify"),t.fromObject=o(function(l){if(l instanceof n.PeerMessage.AwarenessClose)return l;let p=new n.PeerMessage.AwarenessClose;return l.channel!=null&&(p.channel=String(l.channel)),l.user!=null&&(p.user=String(l.user)),p},"fromObject"),t.toObject=o(function(l,p){p||(p={});let v={};return p.defaults&&(v.channel="",v.user=""),l.channel!=null&&l.hasOwnProperty("channel")&&(v.channel=l.channel),l.user!=null&&l.hasOwnProperty("user")&&(v.user=l.user),v},"toObject"),t.prototype.toJSON=o(function(){return this.constructor.toObject(this,S.util.toJSONOptions)},"toJSON"),t.getTypeUrl=o(function(l){return l===void 0&&(l="type.googleapis.com"),l+"/PeerMessage.AwarenessClose"},"getTypeUrl"),t}(),e})()},HpkP:function(N,c,d){"use strict";d.d(c,"a",function(){return e}),d.d(c,"b",function(){return t});var S=d("9oTK"),h=d.n(S),m=d("m8R6"),f=d("2XU3"),a=d("WCk1"),n=d("s4P+"),i=d("pjW8");const e={NoAliasSelected:"no_alias_selected",RateLimited:"rate_limited",NoImageUploaded:"no_image_uploaded",InvalidMode:"invalid_mode",ErrorBadNameI18N:"error_bad_name_i18n",ErrorNameTaken:"error_name_taken",ErrorNameTakenI18N:"error_name_taken_i18n",ErrorInvalidAlias:"error_invalid_alias",ErrorBadUpload:"error_bad_upload",ErrorTooBig:"error_too_big",ErrorBadWide:"error_bad_wide",ErrorMissingName:"error_missing_name",ErrorNoImage:"error_no_image",ErrorBadFormat:"error_bad_format",ResizedButStillTooLarge:"resized_but_still_too_large",UnableToEnqueue:"unable_to_enqueue",TooManyFrames:"too_many_frames",UnknownMethod:"unknown_method",NoPermission:"no_permission",UnableToFetchEmoji:"unable_to_fetch_emoji",EmojiLimitReached:"emoji_limit_reached",NoUrlProvided:"no_url_provided",NoUrlImage:"no_url_image"},t=Object(a.a)("emoji.add generated fetcher",function(){var r=Object(S.coroutine)(function*(l,p,v){try{const g=["reason"],u=Object(m.a)(v,g),s=Object(i.b)(u);return yield l(Object(f.a)({method:"emoji.add",args:s,reason:v.reason}))}catch(g){throw Object(n.a)({getState:p}).error(`API call to emoji.add
				with reason ${v.reason} failed, initiated by generated fetcher`),g}});return function(l,p,v){return r.apply(this,arguments)}}());t.meta={name:"createFetcher",key:"createFetcheremojiAddFetcher",description:"emoji.add generated fetcher"}},HrOX:function(N,c,d){"use strict";Object.defineProperty(c,"__esModule",{value:!0});var S;(function(h){h.STARTED="started",h.INTERRUPTED="interrupted",h.RESUMED="resumed",h.STOPPED="stopped",h.FAILED="failed"})(S||(S={})),c.default=S},"I/xa":function(N,c,d){"use strict";Object.defineProperty(c,"__esModule",{value:!0});const S=d("oHvd");let h=o(class extends S.default{calculateFractionalLoss(){if(this.currentData.packetsReceivedInLastMinute.length<this.pastSamplesToConsider)return 0;const f=this.pastSamplesToConsider,a=f*this.packetsExpected;let n=0;for(let i=0;i<f;i++)n+=this.currentData.packetsReceivedInLastMinute[i];return Math.min(Math.max(1-n/a,0),1)}health(){return Date.now()-this.lastWarnTimestampMs<this.coolDownTimeMs?this.currentHealth:this.calculateFractionalLoss()>=this.fractionalLoss?this.currentHealth!==0&&(this.lastWarnTimestampMs=Date.now(),this.warnCount++,this.warnCount>this.maximumTimesToWarn)?1:0:1}constructor(f,a){super(f,a,"Unusable Audio Warning"),this.coolDownTimeMs=f.cooldownTimeMs,this.pastSamplesToConsider=f.pastSamplesToConsider,this.fractionalLoss=f.fractionalLoss,this.packetsExpected=f.packetsExpected,this.maximumTimesToWarn=f.maximumTimesToWarn,this.lastWarnTimestampMs=0,this.warnCount=0}},"UnusableAudioWarningConnectionHealthPolicy");c.default=h},I0Bj:function(N,c,d){"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.SessionStateControllerState=void 0;var S;(function(h){h[h.NotConnected=0]="NotConnected",h[h.Connecting=1]="Connecting",h[h.Connected=2]="Connected",h[h.Updating=3]="Updating",h[h.Disconnecting=4]="Disconnecting"})(S=c.SessionStateControllerState||(c.SessionStateControllerState={})),c.default=S},"I90/":function(N,c,d){var S=d("aqg2"),h=d("zBWt")("iterator"),m=d("ig3W");N.exports=d("VSTI").getIteratorMethod=function(f){if(f!=null)return f[h]||f["@@iterator"]||m[S(f)]}},IBi3:function(N,c,d){"use strict";var S=this&&this.__awaiter||function(m,f,a,n){function i(e){return e instanceof a?e:new a(function(t){t(e)})}return o(i,"adopt"),new(a||(a=Promise))(function(e,t){function r(v){try{p(n.next(v))}catch(g){t(g)}}o(r,"fulfilled");function l(v){try{p(n.throw(v))}catch(g){t(g)}}o(l,"rejected");function p(v){v.done?e(v.value):i(v.value).then(r,l)}o(p,"step"),p((n=n.apply(m,f||[])).next())})};Object.defineProperty(c,"__esModule",{value:!0});let h=o(class{setEncodingParameters(f){return S(this,void 0,void 0,function*(){if(!this._localCameraTransceiver||this._localCameraTransceiver.direction!=="sendrecv")return;const a=this._localCameraTransceiver.sender;if(!f||f.size===0)return;const n=Array.from(f.values()),i=a.getParameters();if(!i.encodings||i.encodings.length===0)i.encodings=n;else for(const e of i.encodings)for(const t of n){if((e.rid||t.rid)&&e.rid!==t.rid)continue;let r;for(r in t)r==="rid"||r==="codecPayloadType"||t.hasOwnProperty(r)&&(e[r]=t[r])}yield a.setParameters(i)})}localAudioTransceiver(){return this._localAudioTransceiver}localVideoTransceiver(){return this._localCameraTransceiver}setVideoSendingBitrateKbps(f){return S(this,void 0,void 0,function*(){if(!this._localCameraTransceiver||this._localCameraTransceiver.direction!=="sendrecv")return;const a=this._localCameraTransceiver.sender;if(!a||f<=0)return;const n=a.getParameters();n.encodings||(n.encodings=[{}]);for(const i of n.encodings)i.maxBitrate=f*1e3;yield a.setParameters(n)})}setPeer(f){this.peer=f}reset(){this._localCameraTransceiver=null,this._localAudioTransceiver=null,this.videoSubscriptions=[],this.defaultMediaStream=null,this.peer=null}useTransceivers(){return!!this.peer&&typeof this.peer.getTransceivers<"u"}hasVideoInput(){return!(!this._localCameraTransceiver||this._localCameraTransceiver.direction!=="sendrecv")}trackIsVideoInput(f){return this._localCameraTransceiver?f===this._localCameraTransceiver.sender.track||f===this._localCameraTransceiver.receiver.track:!1}setupLocalTransceivers(){this.useTransceivers()&&(!this.defaultMediaStream&&typeof MediaStream<"u"&&(this.defaultMediaStream=new MediaStream),this._localAudioTransceiver||(this._localAudioTransceiver=this.peer.addTransceiver("audio",{direction:"inactive",streams:[this.defaultMediaStream]})),this._localCameraTransceiver||(this._localCameraTransceiver=this.peer.addTransceiver("video",{direction:"inactive",streams:[this.defaultMediaStream]})))}replaceAudioTrack(f){return S(this,void 0,void 0,function*(){return!this._localAudioTransceiver||this._localAudioTransceiver.direction!=="sendrecv"?(this.logger.info("audio transceiver direction is not set up or not activated"),!1):(yield this._localAudioTransceiver.sender.replaceTrack(f),!0)})}setAudioInput(f){return S(this,void 0,void 0,function*(){yield this.setTransceiverInput(this._localAudioTransceiver,f)})}setVideoInput(f){return S(this,void 0,void 0,function*(){yield this.setTransceiverInput(this._localCameraTransceiver,f)})}updateVideoTransceivers(f,a){if(!this.useTransceivers())return a.array();const n=this.peer.getTransceivers();return this.videoSubscriptions=[0],a=a.clone(),this.updateTransceivers(n,f,a),this.logger.debug(()=>this.debugDumpTransceivers()),this.videoSubscriptions}updateTransceivers(f,a,n){const i=n.array();f.length!==0&&!f[0].stop?(this.logger.info("Updating transceivers without `stop` function"),this.updateTransceiverWithoutStop(f,a,i)):f.length!==0&&this.updateTransceiverWithStop(f,a,i);for(const e of i){const t=this.peer.addTransceiver("video",{direction:"recvonly",streams:[new MediaStream]});this.streamIdToTransceiver.set(e,t),this.videoSubscriptions.push(e),this.logger.info(`adding transceiver mid: ${t.mid} subscription: ${e} direction: recvonly`)}}updateTransceiverWithStop(f,a,n){let i=1;this.videoSubscriptions=[0];for(const e of f){if(e===this._localCameraTransceiver||!this.transceiverIsVideo(e)||!e.mid)continue;let t=!1;const r=a.streamIdForTrack("v_"+e.mid);if(e.direction!=="inactive"&&r!==void 0){for(const[l,p]of n.entries())if(a.StreamIdsInSameGroup(r,p)){e.direction="recvonly",this.videoSubscriptions[i]=p,t=!0,this.streamIdToTransceiver.delete(r),this.streamIdToTransceiver.set(p,e),n.splice(l,1);break}}if(!t){this.videoSubscriptions[i]=0,this.logger.info(`Stopping MID: ${e.mid}, direction: ${e.direction}, current direction: ${e.currentDirection}`),e.stop();for(const[l,p]of this.streamIdToTransceiver.entries())e.mid===p.mid&&this.streamIdToTransceiver.delete(l)}i+=1}}updateTransceiverWithoutStop(f,a,n){let i=1;for(const e of f)if(!(e===this._localCameraTransceiver||!this.transceiverIsVideo(e))){if(this.videoSubscriptions[i]=0,e.direction!=="inactive"){const t=a.streamIdForTrack("v_"+e.mid);if(t!==void 0){for(const[r,l]of n.entries())if(a.StreamIdsInSameGroup(t,l)){e.direction="recvonly",this.videoSubscriptions[i]=l,this.streamIdToTransceiver.delete(t),this.streamIdToTransceiver.set(l,e),n.splice(r,1);break}}}i+=1}i=1;for(const e of f)if(!(e===this._localCameraTransceiver||!this.transceiverIsVideo(e))){if(e.direction==="inactive"&&n.length>0){e.direction="recvonly";const t=n.shift();this.videoSubscriptions[i]=t,this.streamIdToTransceiver.set(t,e)}else if(this.videoSubscriptions[i]===0){e.direction="inactive";for(const[t,r]of this.streamIdToTransceiver.entries())e===r&&this.streamIdToTransceiver.delete(t)}i+=1}}getMidForStreamId(f){var a;return(a=this.streamIdToTransceiver.get(f))===null||a===void 0?void 0:a.mid}setStreamIdForMid(f,a){for(const[n,i]of this.streamIdToTransceiver.entries())if(i.mid===f){this.streamIdToTransceiver.delete(n),this.streamIdToTransceiver.set(a,i);return}}transceiverIsVideo(f){return f.receiver&&f.receiver.track&&f.receiver.track.kind==="video"||f.sender&&f.sender.track&&f.sender.track.kind==="video"}debugDumpTransceivers(){let f="",a=0;for(const n of this.peer.getTransceivers())this.transceiverIsVideo(n)&&(f+=`transceiver index=${a} mid=${n.mid} subscription=${this.videoSubscriptions[a]} direction=${n.direction}
`,a+=1);return f}setTransceiverInput(f,a){return S(this,void 0,void 0,function*(){f&&(a?f.direction="sendrecv":f.direction="inactive",yield f.sender.replaceTrack(a))})}constructor(f,a){this.logger=f,this.browserBehavior=a,this._localCameraTransceiver=null,this._localAudioTransceiver=null,this.videoSubscriptions=[],this.defaultMediaStream=null,this.peer=null,this.streamIdToTransceiver=new Map}},"DefaultTransceiverController");c.default=h},IGBW:function(N,c,d){"use strict";Object.defineProperty(c,"__esModule",{value:!0});var S;(function(h){h.IDLE="IDLE",h.RUNNING="RUNNING",h.CANCELED="CANCELED",h.FINISHED="FINISHED"})(S||(S={})),c.default=S},IKDz:function(N,c,d){"use strict";Object.defineProperty(c,"__esModule",{value:!0});let S=o(class{constructor(m=5e3,f=2,a=64,n=100,i=15){this.flushIntervalMs=m,this.flushSize=f,this.maxBufferCapacityKb=a,this.totalBufferItems=n,this.retryCountLimit=i}},"EventBufferConfiguration");c.default=S},InPl:function(N,c,d){"use strict";var S=this&&this.__awaiter||function(a,n,i,e){function t(r){return r instanceof i?r:new i(function(l){l(r)})}return o(t,"adopt"),new(i||(i=Promise))(function(r,l){function p(u){try{g(e.next(u))}catch(s){l(s)}}o(p,"fulfilled");function v(u){try{g(e.throw(u))}catch(s){l(s)}}o(v,"rejected");function g(u){u.done?r(u.value):t(u.value).then(p,v)}o(g,"step"),g((e=e.apply(a,n||[])).next())})};Object.defineProperty(c,"__esModule",{value:!0});const h=d("U9CR"),m=d("ZsEg");let f=o(class Dh{get mediaStream(){return this._mediaStream}set mediaStream(n){this._mediaStream=n}acquireAudioInputStream(){return S(this,void 0,void 0,function*(){return this._mediaStream.getAudioTracks().length===0?(this.logger.info("No audio stream available. Synthesizing an audio stream."),m.default.synthesizeAudioDevice(0)):this._mediaStream})}acquireVideoInputStream(){return S(this,void 0,void 0,function*(){return this._mediaStream})}acquireDisplayInputStream(n){return S(this,void 0,void 0,function*(){return n&&n.video&&n.video.mandatory&&n.video.mandatory.chromeMediaSource&&n.video.mandatory.chromeMediaSourceId?navigator.mediaDevices.getUserMedia(n):navigator.mediaDevices.getDisplayMedia(n)})}acquireScreenCaptureDisplayInputStream(n,i){return S(this,void 0,void 0,function*(){return this.acquireDisplayInputStream(this.screenCaptureDisplayMediaConstraints(n,i))})}screenCaptureDisplayMediaConstraints(n,i){return{audio:!!(!n&&new h.default().getDisplayMediaAudioCaptureSupport()),video:Object.assign(Object.assign({},!n&&{frameRate:{max:i||Dh.defaultFrameRate}}),n&&{mandatory:{chromeMediaSource:"desktop",chromeMediaSourceId:n,maxFrameRate:i||Dh.defaultFrameRate}})}}toggleMediaStream(n){let i=!1;if(this.mediaStream)for(let e=0;e<this.mediaStream.getTracks().length;e++)this.mediaStream.getTracks()[e].enabled!==n&&(this.mediaStream.getTracks()[e].enabled=n,i=!0);return i}cleanup(){if(this.mediaStream)for(let n=0;n<this.mediaStream.getTracks().length;n++)this.mediaStream.getTracks()[n].stop();this.mediaStream=null}muteLocalAudioInputStream(){throw new Error("unsupported")}unmuteLocalAudioInputStream(){throw new Error("unsupported")}addMediaStreamBrokerObserver(n){}removeMediaStreamBrokerObserver(n){}constructor(n){this.logger=n}},"ContentShareMediaStreamBroker");c.default=f,f.defaultFrameRate=15},"Ir+t":function(N,c,d){d("3+Ww"),d("C5kU"),d("ZY/g"),d("xXl2"),d("Nlwn"),d("XLeT"),N.exports=d("VSTI").Promise},IsLT:function(N,c,d){"use strict";var S=this&&this.__awaiter||function(l,p,v,g){function u(s){return s instanceof v?s:new v(function(I){I(s)})}return o(u,"adopt"),new(v||(v=Promise))(function(s,I){function M(j){try{B(g.next(j))}catch(A){I(A)}}o(M,"fulfilled");function R(j){try{B(g.throw(j))}catch(A){I(A)}}o(R,"rejected");function B(j){j.done?s(j.value):u(j.value).then(M,R)}o(B,"step"),B((g=g.apply(l,p||[])).next())})};Object.defineProperty(c,"__esModule",{value:!0});const h=d("EkyC"),m=d("KvYa"),f=d("DE61"),a=d("U9CR"),n=d("ac3q"),i=o(()=>f.default.builder().withSelfieSegmentationDefaults().build(),"CREATE_DEFAULT_MODEL_SPEC"),e="https://static.sdkassets.chime.aws",t={worker:`${e}/bgblur/workers/worker.js`,wasm:`${e}/bgblur/wasm/_cwt-wasm.wasm`,simd:`${e}/bgblur/wasm/_cwt-wasm-simd.wasm`};let r=o(class{static defaultAssetSpec(){const p=n.default.sdkVersionSemVer;return{assetGroup:`sdk-${p.major}.${p.minor}`}}static createUrlWithParams(p,v){const g=new URL(p),u=Object.keys(v);for(const s of u)v[s]!==void 0&&g.searchParams.set(s,v[s]);return g.toString()}static resolveSpec(p){const{paths:v=t,model:g=i(),assetGroup:u=this.defaultAssetSpec().assetGroup,revisionID:s=this.defaultAssetSpec().revisionID}=p||{},I={assetGroup:u,revisionID:s,sdk:encodeURIComponent(n.default.sdkVersion),ua:encodeURIComponent(n.default.sdkUserAgentLowResolution)};return v.worker=this.createUrlWithParams(v.worker,I),v.wasm=this.createUrlWithParams(v.wasm,I),v.simd=this.createUrlWithParams(v.simd,I),g.path=this.createUrlWithParams(g.path,I),{paths:v,model:g,assetGroup:u,revisionID:s}}static resolveOptions(p){p.reportingPeriodMillis||(p.reportingPeriodMillis=1e3);const v=30;return p.filterCPUUtilization?(p.filterCPUUtilization<0||p.filterCPUUtilization>100)&&(p.logger.warn(`filterCPUUtilization must be set to a range between 0 and 100 percent. Falling back to default of ${v} percent`),p.filterCPUUtilization=v):p.filterCPUUtilization=v,p}static isSupported(p,v){const{logger:g}=v;return typeof globalThis>"u"?(g.info("Browser does not have globalThis."),Promise.resolve(!1)):new a.default().supportsBackgroundFilter()?m.supportsWASM(globalThis,g)?this.supportsBackgroundFilter(globalThis,p,g):(g.info("Browser does not support WASM."),Promise.resolve(!1)):(g.info("Browser is not supported."),Promise.resolve(!1))}static supportsBackgroundFilter(){let p=arguments.length>0&&arguments[0]!==void 0?arguments[0]:globalThis,v=arguments.length>1?arguments[1]:void 0,g=arguments.length>2?arguments[2]:void 0;return S(this,void 0,void 0,function*(){if(!m.supportsWorker(p,g))return g.info("Browser does not support web workers."),!1;const u=v.paths.worker;try{const s=yield h.loadWorker(u,"BackgroundFilterWorker",{},null);try{s.terminate()}catch(I){g.info(`Failed to terminate worker. ${I.message}`)}return!0}catch(s){return g.info(`Failed to fetch and instantiate test worker ${s.message}`),!1}})}},"BackgroundFilterVideoFrameProcessor");c.default=r},Iwfh:function(N,c,d){"use strict";Object.defineProperty(c,"__esModule",{value:!0});let S=o(class{},"SDPMediaSection");c.default=S},"J+fJ":function(N,c,d){"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.AudioLogEvent=void 0;var S;(function(h){h[h.DeviceChanged=0]="DeviceChanged",h[h.MutedLocal=1]="MutedLocal",h[h.UnmutedLocal=2]="UnmutedLocal",h[h.Connected=3]="Connected",h[h.ConnectFailed=4]="ConnectFailed",h[h.RedmicStartLoss=5]="RedmicStartLoss",h[h.RedmicEndLoss=6]="RedmicEndLoss"})(S=c.AudioLogEvent||(c.AudioLogEvent={})),c.default=S},J1op:function(N,c,d){"use strict";Object.defineProperty(c,"__esModule",{value:!0});const S=d("DUgj");let h=o(class Zc{allowSubscribe(f,a){let n=0;const i=this.currentNetworkEvent;if(a>this.referenceBitrate)return this.currentNetworkEvent=2,this.referenceBitrate=a,!0;if(a<this.referenceBitrate){if(this.currentNetworkEvent=1,n=this.getSubscribeDelay(this.currentNetworkEvent,f),i!==1)this.bandwidthDecreaseTimestamp=Date.now();else if(Date.now()-this.bandwidthDecreaseTimestamp>n)return this.referenceBitrate=a,!0;return!1}else return this.currentNetworkEvent=0,!1}getSubscribeDelay(f,a){let n=Zc.MINIMUM_DELAY_MS;const i=Zc.MAXIMUM_DELAY_MS-Zc.MINIMUM_DELAY_MS,e=this.networkIssueResponseDelayFactor;switch(f){case 1:n+=i*e*(1+a/10),n=Math.min(Zc.MAXIMUM_DELAY_MS,n);break}return n}constructor(f=0,a=0){this.networkIssueResponseDelayFactor=f,this.networkIssueRecoveryDelayFactor=a,this.currentNetworkEvent=0,this.bandwidthDecreaseTimestamp=0,this.referenceBitrate=0,this.serverSideNetworkAdaption=S.default.Default,f<0?f=0:f>1&&(f=1),this.networkIssueResponseDelayFactor=f,a<0?a=0:a>1&&(a=1),this.networkIssueRecoveryDelayFactor=a}},"VideoPriorityBasedPolicyConfig");c.default=h,h.MINIMUM_DELAY_MS=2e3,h.MAXIMUM_DELAY_MS=8e3,h.Default=new h(0,0),h.UnstableNetworkPreset=new h(0,1),h.StableNetworkPreset=new h(1,0)},J5JU:function(N,c,d){"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.TRANSCRIPTION_DATA_MESSAGE_TOPIC=void 0;const S=d("2IS5");c.TRANSCRIPTION_DATA_MESSAGE_TOPIC="aws:chime:transcription";let h=o(class{subscribeToTranscriptEvent(f){this.transcriptEventCallbacks.size===0&&this.realtimeController.realtimeSubscribeToReceiveDataMessage(c.TRANSCRIPTION_DATA_MESSAGE_TOPIC,a=>{for(const n of S.TranscriptEventConverter.from(a))for(const i of this.transcriptEventCallbacks)i(n)}),this.transcriptEventCallbacks.add(f)}unsubscribeFromTranscriptEvent(f){this.transcriptEventCallbacks.delete(f),this.transcriptEventCallbacks.size===0&&this.realtimeController.realtimeUnsubscribeFromReceiveDataMessage(c.TRANSCRIPTION_DATA_MESSAGE_TOPIC)}constructor(f){this.realtimeController=f,this.transcriptEventCallbacks=new Set}},"DefaultTranscriptionController");c.default=h},J93s:function(N,c,d){"use strict";Object.defineProperty(c,"__esModule",{value:!0});let S=o(class sv{static builder(){return new sv}withDefaultModel(){return this.withSelfieSegmentationDefaults()}withSelfieSegmentationDefaults(){const m={height:144,width:256,range:[0,1],channels:3},f={height:144,width:256,range:[0,1],channels:1},a="https://static.sdkassets.chime.aws/bgblur/models/selfie_segmentation_landscape.tflite";return this.path=a,this.input=m,this.output=f,this}withPath(m){return this.path=m,this}withInput(m){return this.input=m,this}withOutput(m){return this.output=m,this}validate(){if(!this.path)throw new Error("model spec path is not set");if(!this.input)throw new Error("model spec input is not set");if(!this.output)throw new Error("model spec output is not set")}build(){return this.validate(),{path:this.path,input:this.input,output:this.output}}constructor(){this.path=null,this.input=null,this.output=null}},"ModelSpecBuilder");c.default=S},JBVX:function(N,c,d){"use strict";Object.defineProperty(c,"__esModule",{value:!0})},JEbH:function(N,c,d){"use strict";Object.defineProperty(c,"__esModule",{value:!0})},JHsX:function(N,c,d){"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.SessionStateControllerAction=void 0;var S;(function(h){h[h.Connect=0]="Connect",h[h.FinishConnecting=1]="FinishConnecting",h[h.Update=2]="Update",h[h.FinishUpdating=3]="FinishUpdating",h[h.Reconnect=4]="Reconnect",h[h.Disconnect=5]="Disconnect",h[h.Fail=6]="Fail",h[h.FinishDisconnecting=7]="FinishDisconnecting"})(S=c.SessionStateControllerAction||(c.SessionStateControllerAction={})),c.default=S},JJ3a:function(N,c,d){"use strict";var S=this&&this.__awaiter||function(v,g,u,s){function I(M){return M instanceof u?M:new u(function(R){R(M)})}return o(I,"adopt"),new(u||(u=Promise))(function(M,R){function B(D){try{A(s.next(D))}catch($){R($)}}o(B,"fulfilled");function j(D){try{A(s.throw(D))}catch($){R($)}}o(j,"rejected");function A(D){D.done?M(D.value):I(D.value).then(B,j)}o(A,"step"),A((s=s.apply(v,g||[])).next())})};Object.defineProperty(c,"__esModule",{value:!0});const h=d("Zit3"),m=d("Np2I"),f=d("Q8+J"),a=d("evlv"),n=d("ULlC"),i=d("6/h7"),e=d("PsbS"),t=d("jHTc"),r=d("4EN+"),l=d("p3mT");let p=o(class{addObserver(g){this.logger.info("adding messaging observer"),this.observerQueue.add(g)}removeObserver(g){this.logger.info("removing messaging observer"),this.observerQueue.delete(g)}start(){return S(this,void 0,void 0,function*(){this.isClosed()?yield this.startConnecting(!1):this.logger.info("messaging session already started")})}stop(){this.isClosed()?this.logger.info("no existing messaging session needs closing"):(this.isClosing=!0,this.webSocket.close(),f.default.removeLogger(this.logger))}forEachObserver(g){for(const u of this.observerQueue)i.default.nextTick(()=>{this.observerQueue.has(u)&&g(u)})}setUpEventListeners(){this.webSocket.addEventListener("open",()=>{this.openEventHandler()}),this.webSocket.addEventListener("message",g=>{this.receiveMessageHandler(g.data)}),this.webSocket.addEventListener("close",g=>{this.closeEventHandler(g)}),this.webSocket.addEventListener("error",()=>{this.logger.error("WebSocket error")})}startConnecting(g){return S(this,void 0,void 0,function*(){return yield this.startConnectingInternal(g),yield new Promise((u,s)=>{this.bootstrapResolved=u,this.bootstrapRejected=s})})}startConnectingInternal(g){var u;return S(this,void 0,void 0,function*(){let s=this.configuration.endpointUrl;if(g||this.reconnectController.reset(),this.reconnectController.hasStartedConnectionAttempt()?this.reconnectController.startedConnectionAttempt(!1):this.reconnectController.startedConnectionAttempt(!0),g||s===void 0)try{if(this.configuration.chimeClient.getMessagingSessionEndpoint instanceof Function){const M=yield this.configuration.chimeClient.getMessagingSessionEndpoint();!((u=M.Endpoint)===null||u===void 0)&&u.Url?s=M.Endpoint.Url:s=(yield this.configuration.chimeClient.getMessagingSessionEndpoint().promise()).Endpoint.Url}else s=(yield this.configuration.chimeClient.send(new h.GetMessagingSessionEndpointCommand({}))).Endpoint.Url;this.logger.debug(`Messaging endpoint resolved to: ${s}`)}catch(M){this.logger.error(`Messaging Session failed to resolve endpoint: ${M}`);const R=new CloseEvent("close",{wasClean:!1,code:4999,reason:"Failed to get messaging session endpoint URL",bubbles:!1});this.closeEventHandler(R);return}const I=yield this.prepareWebSocketUrl(s);this.logger.info(`opening connection to ${I}`),g||this.reconnectController.reset(),this.reconnectController.hasStartedConnectionAttempt()?this.reconnectController.startedConnectionAttempt(!1):this.reconnectController.startedConnectionAttempt(!0),this.webSocket.create(I,[],!0),this.forEachObserver(M=>{M.messagingSessionDidStartConnecting&&M.messagingSessionDidStartConnecting(g)}),this.setUpEventListeners()})}prepareWebSocketUrl(g){return S(this,void 0,void 0,function*(){const u=new Map;return u.set("userArn",[this.configuration.userArn]),u.set("sessionId",[this.configuration.messagingSessionId]),this.configuration.prefetchOn===l.default.Connect&&u.set("prefetch-on",[l.default.Connect]),this.configuration.prefetchSortBy&&u.set("prefetch-sort-by",[this.configuration.prefetchSortBy]),yield this.sigV4.signURL("GET","wss","chime",g,"/connect","",u)})}isClosed(){return this.webSocket.readyState()===r.default.None||this.webSocket.readyState()===r.default.Closed}openEventHandler(){this.reconnectController.reset(),this.isSessionEstablished=!1}receiveMessageHandler(g){try{const u=JSON.parse(g),s=u.Headers["x-amz-chime-event-type"],I=new a.default(s,u.Headers,u.Payload||null);if(!this.isSessionEstablished&&s==="SESSION_ESTABLISHED"){this.forEachObserver(R=>{R.messagingSessionDidStart&&R.messagingSessionDidStart()}),this.bootstrapResolved(),this.isSessionEstablished=!0;const M=this.preBootstrapMessages.length;for(let R=0;R<M;R++){const B=this.preBootstrapMessages.shift();this.forEachObserver(j=>{this.sendMessageToObserver(j,B)})}}else if(!this.isSessionEstablished){this.preBootstrapMessages.push(I);return}this.forEachObserver(M=>{this.sendMessageToObserver(M,I)})}catch(u){this.logger.error(`Messaging parsing failed: ${u}`)}}sendMessageToObserver(g,u){g.messagingSessionDidReceiveMessage&&g.messagingSessionDidReceiveMessage(u)}retryConnection(){return this.reconnectController.retryWithBackoff(()=>S(this,void 0,void 0,function*(){yield this.startConnecting(!0)}),null)}closeEventHandler(g){this.logger.info(`WebSocket close: ${g.code} ${g.reason}`),g.code!==4999&&this.webSocket.destroy(),!(!this.isClosing&&this.canReconnect(g.code)&&this.retryConnection())&&(this.isClosing=!1,this.isSessionEstablished?this.forEachObserver(u=>{u.messagingSessionDidStop&&u.messagingSessionDidStop(g)}):this.bootstrapRejected(g))}canReconnect(g){return g===1001||g===1006||g>=1011&&g<=1014||g>4e3&&g!==4002&&g!==4003&&g!==4401}constructor(g,u,s,I,M){this.configuration=g,this.logger=u,this.webSocket=s,this.reconnectController=I,this.sigV4=M,this.observerQueue=new Set,this.webSocket||(this.webSocket=new t.default(this.logger)),this.reconnectController||(this.reconnectController=new n.default(g.reconnectTimeoutMs,new m.default(g.reconnectFixedWaitMs,g.reconnectShortBackoffMs,g.reconnectLongBackoffMs))),this.sigV4||(this.sigV4=new e.default(this.configuration.chimeClient)),f.default.addLogger(this.logger),f.default.register(),this.preBootstrapMessages=[]}},"DefaultMessagingSession");c.default=p},JKKi:function(N,c,d){var S=d("d+lc"),h=d("ekG2"),m=d("8sL3");N.exports=function(f,a){if(S(f),h(a)&&a.constructor===f)return a;var n=m.f(f),i=n.resolve;return i(a),n.promise}},"JMN+":function(N,c,d){"use strict";Object.defineProperty(c,"__esModule",{value:!0});let S=o(class{},"TranscriptAlternative");c.default=S},JO7F:function(N,c,d){N.exports={default:d("ZblS"),__esModule:!0}},JOZa:function(N,c,d){"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.SessionStateControllerDeferPriority=void 0;var S;(function(h){h[h.DoNotDefer=0]="DoNotDefer",h[h.Low=1]="Low",h[h.Medium=2]="Medium",h[h.High=3]="High",h[h.VeryHigh=4]="VeryHigh"})(S=c.SessionStateControllerDeferPriority||(c.SessionStateControllerDeferPriority={})),c.default=S},JTre:function(N,c,d){"use strict";Object.defineProperty(c,"__esModule",{value:!0});const S=d("Sa54"),h=d("bTau"),m=d("5mqp");let f=o(class il{static connectVideoStreamToVideoElement(n,i,e){const t=e&&n.getVideoTracks()[0].getSettings().facingMode!=="environment"?"rotateY(180deg)":"";if(il.setVideoElementFlag(i,"disablePictureInPicture",e),il.setVideoElementFlag(i,"disableRemotePlayback",e),i.style.transform!==t&&(i.style.transform=t),i.hasAttribute("controls")&&i.removeAttribute("controls"),i.hasAttribute("autoplay")||i.setAttribute("autoplay","true"),i.hasAttribute("playsinline")||i.setAttribute("playsinline","true"),i.hasAttribute("muted")||(i.setAttribute("muted","true"),i.muted=!0),i.srcObject!==n&&(i.srcObject=n,new S.default().requiresVideoPlayWorkaround()&&i.paused)){const r=i.play();r!==void 0&&r.catch(l=>{console.warn("Error playing video in Safari",l)}).then(()=>{console.debug("Video played successfully in Safari")})}}static disconnectVideoStreamFromVideoElement(n,i){let e=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;if(n)if(i)e||(n.srcObject=null,n.style.transform="");else{if(!n.srcObject)return;n.pause(),n.style.transform="",il.setVideoElementFlag(n,"disablePictureInPicture",!1),il.setVideoElementFlag(n,"disableRemotePlayback",!1),n.srcObject=null}}destroy(){this.devicePixelRatioMonitor.removeObserver(this),this.tileState.boundVideoElement&&this.tileState.boundVideoElement.srcObject===this.tileState.boundVideoStream&&il.disconnectVideoStreamFromVideoElement(this.tileState.boundVideoElement,!1),this.tileState=new m.default}devicePixelRatioChanged(n){this.tileState.devicePixelRatio=n,this.sendTileStateUpdate()}id(){return this.tileState.tileId}state(){return this.tileState.clone()}stateRef(){return this.tileState}bindVideoStream(n,i,e,t,r,l,p){let v=!1;this.tileState.boundAttendeeId!==n&&(this.tileState.boundAttendeeId=n,new h.default(n).hasModality(h.default.MODALITY_CONTENT)&&(this.tileState.isContent=!0),v=!0),this.tileState.boundExternalUserId!==p&&(this.tileState.boundExternalUserId=p,v=!0),this.tileState.localTile!==i&&(this.tileState.localTile=i,v=!0),this.tileState.boundVideoStream!==e&&(this.tileState.boundVideoStream=e,v=!0),this.tileState.videoStreamContentWidth!==t&&(this.tileState.videoStreamContentWidth=t,v=!0),this.tileState.videoStreamContentHeight!==r&&(this.tileState.videoStreamContentHeight=r,v=!0),this.tileState.streamId!==l&&(this.tileState.streamId=l,v=!0),v&&this.sendTileStateUpdate()}bindVideoElement(n){let i=!1;this.tileState.boundVideoElement!==n&&(this.tileState.boundVideoElement=n,i=!0),this.tileState.boundVideoElement!==null?(this.tileState.videoElementCSSWidthPixels!==n.clientWidth&&(this.tileState.videoElementCSSWidthPixels=n.clientWidth,i=!0),this.tileState.videoElementCSSHeightPixels!==n.clientHeight&&(this.tileState.videoElementCSSHeightPixels=n.clientHeight,i=!0)):(this.tileState.videoElementCSSWidthPixels=null,this.tileState.videoElementCSSHeightPixels=null),i&&this.sendTileStateUpdate()}pause(){this.tileState.paused||(this.tileState.paused=!0,this.sendTileStateUpdate())}unpause(){this.tileState.paused&&(this.tileState.paused=!1,this.sendTileStateUpdate())}markPoorConnection(){return this.tileState.poorConnection?!1:(this.tileState.poorConnection=!0,this.sendTileStateUpdate(),!0)}unmarkPoorConnection(){return this.tileState.poorConnection?(this.tileState.poorConnection=!1,this.sendTileStateUpdate(),!0):!1}capture(){if(!this.tileState.active)return null;const n=document.createElement("canvas"),i=this.tileState.boundVideoElement;n.width=i.videoWidth||i.width,n.height=i.videoHeight||i.height;const e=n.getContext("2d");return e.drawImage(i,0,0,n.width,n.height),e.getImageData(0,0,n.width,n.height)}setStreamId(n){this.tileState.streamId=n,this.tileController.sendTileStateUpdate(this.state())}sendTileStateUpdate(){this.updateActiveState(),this.updateVideoStreamOnVideoElement(),this.updateVideoElementPhysicalPixels(),this.tileController.sendTileStateUpdate(this.state())}updateActiveState(){this.tileState.active=!!(!this.tileState.paused&&!this.tileState.poorConnection&&this.tileState.boundAttendeeId&&this.tileState.boundVideoElement&&this.tileState.boundVideoStream)}updateVideoElementPhysicalPixels(){typeof this.tileState.videoElementCSSWidthPixels=="number"&&typeof this.tileState.videoElementCSSHeightPixels=="number"?(this.tileState.videoElementPhysicalWidthPixels=this.tileState.devicePixelRatio*this.tileState.videoElementCSSWidthPixels,this.tileState.videoElementPhysicalHeightPixels=this.tileState.devicePixelRatio*this.tileState.videoElementCSSHeightPixels):(this.tileState.videoElementPhysicalWidthPixels=null,this.tileState.videoElementPhysicalHeightPixels=null)}updateVideoStreamOnVideoElement(){this.tileState.active?il.connectVideoStreamToVideoElement(this.tileState.boundVideoStream,this.tileState.boundVideoElement,this.tileState.localTile):il.disconnectVideoStreamFromVideoElement(this.tileState.boundVideoElement,this.tileState.paused,this.tileController.keepLastFrameWhenPaused)}static setVideoElementFlag(n,i,e){i in n&&(n[i]=e)}constructor(n,i,e,t){this.tileController=e,this.devicePixelRatioMonitor=t,this.tileState=new m.default,this.tileState.tileId=n,this.tileState.localTile=i,this.devicePixelRatioMonitor.registerObserver(this)}},"DefaultVideoTile");c.default=f},JXEU:function(N,c,d){"use strict";d.d(c,"a",function(){return t});var S=d("9oTK"),h=d.n(S),m=d("m8R6"),f=d("2XU3"),a=d("WCk1"),n=d("s4P+"),i=d("pjW8");const e={FailedToRecordInteraction:"failed_to_record_interaction",InvalidComponent:"invalid_component",InvalidType:"invalid_type"},t=Object(a.a)("users.interactions.set generated fetcher",function(){var r=Object(S.coroutine)(function*(l,p,v){try{const g=["reason"],u=Object(m.a)(v,g),s=Object(i.b)(u),I=yield l(Object(f.a)({method:"users.interactions.set",args:s,reason:v.reason}));return Object(i.a)(I)}catch(g){throw Object(n.a)({getState:p}).error(`API call to users.interactions.set
				with reason ${v.reason} failed, initiated by generated fetcher`),g}});return function(l,p,v){return r.apply(this,arguments)}}());t.meta={name:"createFetcher",key:"createFetcherusersInteractionsSetFetcher",description:"users.interactions.set generated fetcher"}},JpO0:function(N,c,d){var S=d("CYMq"),h=d("znrX");d("czaS")("getPrototypeOf",function(){return o(function(f){return h(S(f))},"getPrototypeOf")})},JsnC:function(N,c,d){"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.SDPCandidateType=void 0;var S;(function(h){h.Host="host",h.ServerReflexive="srflx",h.PeerReflexive="prflx",h.Relay="relay"})(S=c.SDPCandidateType||(c.SDPCandidateType={})),c.default=S},Jsna:function(N,c,d){"use strict";Object.defineProperty(c,"__esModule",{value:!0});const S=d("Np2I"),h=d("eeYi"),m=d("ir/0"),f=d("r9Lw"),a=d("/U1e"),n=d("a16/"),i=d("6Bxv"),e=d("lUhs"),t=d("iNgN"),r=d("ULlC"),l=d("jHTc"),p=d("2nae");let v=o(class extends p.default{setAudioProfile(u){}start(){}stop(){}promoteToPrimaryMeeting(u){return Promise.resolve(new i.default(e.default.OK))}demoteFromPrimaryMeeting(){}constructor(u){const s=new a.default;s.meetingId="",s.externalMeetingId="",s.credentials=new n.default,s.credentials.attendeeId="",s.credentials.joinToken="",s.urls=new t.default,s.urls.turnControlURL="",s.urls.audioHostURL="",s.urls.signalingURL="wss://localhost/";const I=new m.default;super(u||s,I,new l.default(new m.default),new f.default,new r.default(0,new S.default(0,0,0)),new h.default(u||s,I))}},"NoOpAudioVideoController");c.default=v},Jt1Q:function(N,c,d){"use strict";var S=d("b08l"),h=d("ENu8"),m=d("kvAF"),f={};d("BRsN")(f,d("zBWt")("iterator"),function(){return this}),N.exports=function(a,n,i){a.prototype=S(f,{next:h(1,i)}),m(a,n+" Iterator")}},JwAW:function(N,c,d){"use strict";d.d(c,"a",function(){return S});function S(h,m){if(h==null)return{};var f={},a=Object.keys(h),n,i;for(i=0;i<a.length;i++)n=a[i],!(m.indexOf(n)>=0)&&(f[n]=h[n]);return f}o(S,"_objectWithoutPropertiesLoose")},"K+bq":function(N,c,d){"use strict";var S=this&&this.__awaiter||function(a,n,i,e){function t(r){return r instanceof i?r:new i(function(l){l(r)})}return o(t,"adopt"),new(i||(i=Promise))(function(r,l){function p(u){try{g(e.next(u))}catch(s){l(s)}}o(p,"fulfilled");function v(u){try{g(e.throw(u))}catch(s){l(s)}}o(v,"rejected");function g(u){u.done?r(u.value):t(u.value).then(p,v)}o(g,"step"),g((e=e.apply(a,n||[])).next())})};Object.defineProperty(c,"__esModule",{value:!0});const h=d("j+uH"),m=d("IGBW");let f=o(class extends h.default{cancel(){this.currentTask&&(this.logger.info(`canceling serial group task ${this.name()} subtask ${this.currentTask.name()}`),this.currentTask.cancel())}run(){return S(this,void 0,void 0,function*(){for(const n of this.tasksToRunSerially){this.getStatus()===m.default.CANCELED&&this.logAndThrow(`serial group task ${this.name()} was canceled`);try{this.logger.info(`serial group task ${this.name()} running subtask ${n.name()}`),this.currentTask=n,yield n.run(),this.logger.info(`serial group task ${this.name()} completed subtask ${n.name()}`)}catch(i){this.logAndThrow(`serial group task ${this.name()} was canceled due to subtask ${this.currentTask.name()} error: ${i.message}`)}finally{this.currentTask=null}}this.logger.info(`serial group task ${this.name()} completed`)})}constructor(n,i,e){super(n),this.taskName=i,this.tasksToRunSerially=e,this.currentTask=null;for(const t of e)t.setParent(this)}},"SerialGroupTask");c.default=f},K4CH:function(N,c,d){var S;(function(h,m){"use strict";var f="1.0.2",a="",n="?",i="function",e="undefined",t="object",r="string",l="major",p="model",v="name",g="type",u="vendor",s="version",I="architecture",M="console",R="mobile",B="tablet",j="smarttv",A="wearable",D="embedded",$=255,O="Amazon",P="Apple",k="ASUS",K="BlackBerry",Z="Browser",Y="Chrome",ie="Edge",ge="Firefox",Ie="Google",le="Huawei",we="LG",Be="Microsoft",Re="Motorola",Ne="Opera",_e="Samsung",Ze="Sony",tt="Xiaomi",$e="Zebra",at="Facebook",lt=o(function(vn,Mn){var Ot={};for(var Ke in vn)Mn[Ke]&&Mn[Ke].length%2===0?Ot[Ke]=Mn[Ke].concat(vn[Ke]):Ot[Ke]=vn[Ke];return Ot},"extend"),ot=o(function(vn){for(var Mn={},Ot=0;Ot<vn.length;Ot++)Mn[vn[Ot].toUpperCase()]=vn[Ot];return Mn},"enumerize"),Gt=o(function(vn,Mn){return typeof vn===r?Zt(Mn).indexOf(Zt(vn))!==-1:!1},"has"),Zt=o(function(vn){return vn.toLowerCase()},"lowerize"),un=o(function(vn){return typeof vn===r?vn.replace(/[^\d\.]/g,a).split(".")[0]:m},"majorize"),Un=o(function(vn,Mn){if(typeof vn===r)return vn=vn.replace(/^\s\s*/,a).replace(/\s\s*$/,a),typeof Mn===e?vn:vn.substring(0,$)},"trim"),jn=o(function(vn,Mn){for(var Ot=0,Ke,gt,ht,en,Kn,li;Ot<Mn.length&&!Kn;){var Ee=Mn[Ot],Pe=Mn[Ot+1];for(Ke=gt=0;Ke<Ee.length&&!Kn;)if(Kn=Ee[Ke++].exec(vn),Kn)for(ht=0;ht<Pe.length;ht++)li=Kn[++gt],en=Pe[ht],typeof en===t&&en.length>0?en.length===2?typeof en[1]==i?this[en[0]]=en[1].call(this,li):this[en[0]]=en[1]:en.length===3?typeof en[1]===i&&!(en[1].exec&&en[1].test)?this[en[0]]=li?en[1].call(this,li,en[2]):m:this[en[0]]=li?li.replace(en[1],en[2]):m:en.length===4&&(this[en[0]]=li?en[3].call(this,li.replace(en[1],en[2])):m):this[en]=li||m;Ot+=2}},"rgxMapper"),ci=o(function(vn,Mn){for(var Ot in Mn)if(typeof Mn[Ot]===t&&Mn[Ot].length>0){for(var Ke=0;Ke<Mn[Ot].length;Ke++)if(Gt(Mn[Ot][Ke],vn))return Ot===n?m:Ot}else if(Gt(Mn[Ot],vn))return Ot===n?m:Ot;return vn},"strMapper"),fn={"1.0":"/8","1.2":"/1","1.3":"/3","2.0":"/412","2.0.2":"/416","2.0.3":"/417","2.0.4":"/419","?":"/"},ri={ME:"4.90","NT 3.11":"NT3.51","NT 4.0":"NT4.0",2e3:"NT 5.0",XP:["NT 5.1","NT 5.2"],Vista:"NT 6.0",7:"NT 6.1",8:"NT 6.2","8.1":"NT 6.3",10:["NT 6.4","NT 10.0"],RT:"ARM"},gi={browser:[[/\b(?:crmo|crios)\/([\w\.]+)/i],[s,[v,"Chrome"]],[/edg(?:e|ios|a)?\/([\w\.]+)/i],[s,[v,"Edge"]],[/(opera mini)\/([-\w\.]+)/i,/(opera [mobiletab]{3,6})\b.+version\/([-\w\.]+)/i,/(opera)(?:.+version\/|[\/ ]+)([\w\.]+)/i],[v,s],[/opios[\/ ]+([\w\.]+)/i],[s,[v,Ne+" Mini"]],[/\bopr\/([\w\.]+)/i],[s,[v,Ne]],[/(kindle)\/([\w\.]+)/i,/(lunascape|maxthon|netfront|jasmine|blazer)[\/ ]?([\w\.]*)/i,/(avant |iemobile|slim)(?:browser)?[\/ ]?([\w\.]*)/i,/(ba?idubrowser)[\/ ]?([\w\.]+)/i,/(?:ms|\()(ie) ([\w\.]+)/i,/(flock|rockmelt|midori|epiphany|silk|skyfire|ovibrowser|bolt|iron|vivaldi|iridium|phantomjs|bowser|quark|qupzilla|falkon|rekonq|puffin|brave|whale|qqbrowserlite|qq)\/([-\w\.]+)/i,/(weibo)__([\d\.]+)/i],[v,s],[/(?:\buc? ?browser|(?:juc.+)ucweb)[\/ ]?([\w\.]+)/i],[s,[v,"UC"+Z]],[/\bqbcore\/([\w\.]+)/i],[s,[v,"WeChat(Win) Desktop"]],[/micromessenger\/([\w\.]+)/i],[s,[v,"WeChat"]],[/konqueror\/([\w\.]+)/i],[s,[v,"Konqueror"]],[/trident.+rv[: ]([\w\.]{1,9})\b.+like gecko/i],[s,[v,"IE"]],[/yabrowser\/([\w\.]+)/i],[s,[v,"Yandex"]],[/(avast|avg)\/([\w\.]+)/i],[[v,/(.+)/,"$1 Secure "+Z],s],[/\bfocus\/([\w\.]+)/i],[s,[v,ge+" Focus"]],[/\bopt\/([\w\.]+)/i],[s,[v,Ne+" Touch"]],[/coc_coc\w+\/([\w\.]+)/i],[s,[v,"Coc Coc"]],[/dolfin\/([\w\.]+)/i],[s,[v,"Dolphin"]],[/coast\/([\w\.]+)/i],[s,[v,Ne+" Coast"]],[/miuibrowser\/([\w\.]+)/i],[s,[v,"MIUI "+Z]],[/fxios\/([-\w\.]+)/i],[s,[v,ge]],[/\bqihu|(qi?ho?o?|360)browser/i],[[v,"360 "+Z]],[/(oculus|samsung|sailfish)browser\/([\w\.]+)/i],[[v,/(.+)/,"$1 "+Z],s],[/(comodo_dragon)\/([\w\.]+)/i],[[v,/_/g," "],s],[/(electron)\/([\w\.]+) safari/i,/(tesla)(?: qtcarbrowser|\/(20\d\d\.[-\w\.]+))/i,/m?(qqbrowser|baiduboxapp|2345Explorer)[\/ ]?([\w\.]+)/i],[v,s],[/(metasr)[\/ ]?([\w\.]+)/i,/(lbbrowser)/i],[v],[/((?:fban\/fbios|fb_iab\/fb4a)(?!.+fbav)|;fbav\/([\w\.]+);)/i],[[v,at],s],[/safari (line)\/([\w\.]+)/i,/\b(line)\/([\w\.]+)\/iab/i,/(chromium|instagram)[\/ ]([-\w\.]+)/i],[v,s],[/\bgsa\/([\w\.]+) .*safari\//i],[s,[v,"GSA"]],[/headlesschrome(?:\/([\w\.]+)| )/i],[s,[v,Y+" Headless"]],[/ wv\).+(chrome)\/([\w\.]+)/i],[[v,Y+" WebView"],s],[/droid.+ version\/([\w\.]+)\b.+(?:mobile safari|safari)/i],[s,[v,"Android "+Z]],[/(chrome|omniweb|arora|[tizenoka]{5} ?browser)\/v?([\w\.]+)/i],[v,s],[/version\/([\w\.]+) .*mobile\/\w+ (safari)/i],[s,[v,"Mobile Safari"]],[/version\/([\w\.]+) .*(mobile ?safari|safari)/i],[s,v],[/webkit.+?(mobile ?safari|safari)(\/[\w\.]+)/i],[v,[s,ci,fn]],[/(webkit|khtml)\/([\w\.]+)/i],[v,s],[/(navigator|netscape\d?)\/([-\w\.]+)/i],[[v,"Netscape"],s],[/mobile vr; rv:([\w\.]+)\).+firefox/i],[s,[v,ge+" Reality"]],[/ekiohf.+(flow)\/([\w\.]+)/i,/(swiftfox)/i,/(icedragon|iceweasel|camino|chimera|fennec|maemo browser|minimo|conkeror|klar)[\/ ]?([\w\.\+]+)/i,/(seamonkey|k-meleon|icecat|iceape|firebird|phoenix|palemoon|basilisk|waterfox)\/([-\w\.]+)$/i,/(firefox)\/([\w\.]+)/i,/(mozilla)\/([\w\.]+) .+rv\:.+gecko\/\d+/i,/(polaris|lynx|dillo|icab|doris|amaya|w3m|netsurf|sleipnir|obigo|mosaic|(?:go|ice|up)[\. ]?browser)[-\/ ]?v?([\w\.]+)/i,/(links) \(([\w\.]+)/i],[v,s]],cpu:[[/(?:(amd|x(?:(?:86|64)[-_])?|wow|win)64)[;\)]/i],[[I,"amd64"]],[/(ia32(?=;))/i],[[I,Zt]],[/((?:i[346]|x)86)[;\)]/i],[[I,"ia32"]],[/\b(aarch64|arm(v?8e?l?|_?64))\b/i],[[I,"arm64"]],[/\b(arm(?:v[67])?ht?n?[fl]p?)\b/i],[[I,"armhf"]],[/windows (ce|mobile); ppc;/i],[[I,"arm"]],[/((?:ppc|powerpc)(?:64)?)(?: mac|;|\))/i],[[I,/ower/,a,Zt]],[/(sun4\w)[;\)]/i],[[I,"sparc"]],[/((?:avr32|ia64(?=;))|68k(?=\))|\barm(?=v(?:[1-7]|[5-7]1)l?|;|eabi)|(?=atmel )avr|(?:irix|mips|sparc)(?:64)?\b|pa-risc)/i],[[I,Zt]]],device:[[/\b(sch-i[89]0\d|shw-m380s|sm-[pt]\w{2,4}|gt-[pn]\d{2,4}|sgh-t8[56]9|nexus 10)/i],[p,[u,_e],[g,B]],[/\b((?:s[cgp]h|gt|sm)-\w+|galaxy nexus)/i,/samsung[- ]([-\w]+)/i,/sec-(sgh\w+)/i],[p,[u,_e],[g,R]],[/\((ip(?:hone|od)[\w ]*);/i],[p,[u,P],[g,R]],[/\((ipad);[-\w\),; ]+apple/i,/applecoremedia\/[\w\.]+ \((ipad)/i,/\b(ipad)\d\d?,\d\d?[;\]].+ios/i],[p,[u,P],[g,B]],[/\b((?:ag[rs][23]?|bah2?|sht?|btv)-a?[lw]\d{2})\b(?!.+d\/s)/i],[p,[u,le],[g,B]],[/(?:huawei|honor)([-\w ]+)[;\)]/i,/\b(nexus 6p|\w{2,4}-[atu]?[ln][01259x][012359][an]?)\b(?!.+d\/s)/i],[p,[u,le],[g,R]],[/\b(poco[\w ]+)(?: bui|\))/i,/\b; (\w+) build\/hm\1/i,/\b(hm[-_ ]?note?[_ ]?(?:\d\w)?) bui/i,/\b(redmi[\-_ ]?(?:note|k)?[\w_ ]+)(?: bui|\))/i,/\b(mi[-_ ]?(?:a\d|one|one[_ ]plus|note lte|max)?[_ ]?(?:\d?\w?)[_ ]?(?:plus|se|lite)?)(?: bui|\))/i],[[p,/_/g," "],[u,tt],[g,R]],[/\b(mi[-_ ]?(?:pad)(?:[\w_ ]+))(?: bui|\))/i],[[p,/_/g," "],[u,tt],[g,B]],[/; (\w+) bui.+ oppo/i,/\b(cph[12]\d{3}|p(?:af|c[al]|d\w|e[ar])[mt]\d0|x9007|a101op)\b/i],[p,[u,"OPPO"],[g,R]],[/vivo (\w+)(?: bui|\))/i,/\b(v[12]\d{3}\w?[at])(?: bui|;)/i],[p,[u,"Vivo"],[g,R]],[/\b(rmx[12]\d{3})(?: bui|;|\))/i],[p,[u,"Realme"],[g,R]],[/\b(milestone|droid(?:[2-4x]| (?:bionic|x2|pro|razr))?:?( 4g)?)\b[\w ]+build\//i,/\bmot(?:orola)?[- ](\w*)/i,/((?:moto[\w\(\) ]+|xt\d{3,4}|nexus 6)(?= bui|\)))/i],[p,[u,Re],[g,R]],[/\b(mz60\d|xoom[2 ]{0,2}) build\//i],[p,[u,Re],[g,B]],[/((?=lg)?[vl]k\-?\d{3}) bui| 3\.[-\w; ]{10}lg?-([06cv9]{3,4})/i],[p,[u,we],[g,B]],[/(lm(?:-?f100[nv]?|-[\w\.]+)(?= bui|\))|nexus [45])/i,/\blg[-e;\/ ]+((?!browser|netcast|android tv)\w+)/i,/\blg-?([\d\w]+) bui/i],[p,[u,we],[g,R]],[/(ideatab[-\w ]+)/i,/lenovo ?(s[56]000[-\w]+|tab(?:[\w ]+)|yt[-\d\w]{6}|tb[-\d\w]{6})/i],[p,[u,"Lenovo"],[g,B]],[/(?:maemo|nokia).*(n900|lumia \d+)/i,/nokia[-_ ]?([-\w\.]*)/i],[[p,/_/g," "],[u,"Nokia"],[g,R]],[/(pixel c)\b/i],[p,[u,Ie],[g,B]],[/droid.+; (pixel[\daxl ]{0,6})(?: bui|\))/i],[p,[u,Ie],[g,R]],[/droid.+ ([c-g]\d{4}|so[-gl]\w+|xq-a\w[4-7][12])(?= bui|\).+chrome\/(?![1-6]{0,1}\d\.))/i],[p,[u,Ze],[g,R]],[/sony tablet [ps]/i,/\b(?:sony)?sgp\w+(?: bui|\))/i],[[p,"Xperia Tablet"],[u,Ze],[g,B]],[/ (kb2005|in20[12]5|be20[12][59])\b/i,/(?:one)?(?:plus)? (a\d0\d\d)(?: b|\))/i],[p,[u,"OnePlus"],[g,R]],[/(alexa)webm/i,/(kf[a-z]{2}wi)( bui|\))/i,/(kf[a-z]+)( bui|\)).+silk\//i],[p,[u,O],[g,B]],[/((?:sd|kf)[0349hijorstuw]+)( bui|\)).+silk\//i],[[p,/(.+)/g,"Fire Phone $1"],[u,O],[g,R]],[/(playbook);[-\w\),; ]+(rim)/i],[p,u,[g,B]],[/\b((?:bb[a-f]|st[hv])100-\d)/i,/\(bb10; (\w+)/i],[p,[u,K],[g,R]],[/(?:\b|asus_)(transfo[prime ]{4,10} \w+|eeepc|slider \w+|nexus 7|padfone|p00[cj])/i],[p,[u,k],[g,B]],[/ (z[bes]6[027][012][km][ls]|zenfone \d\w?)\b/i],[p,[u,k],[g,R]],[/(nexus 9)/i],[p,[u,"HTC"],[g,B]],[/(htc)[-;_ ]{1,2}([\w ]+(?=\)| bui)|\w+)/i,/(zte)[- ]([\w ]+?)(?: bui|\/|\))/i,/(alcatel|geeksphone|nexian|panasonic|sony)[-_ ]?([-\w]*)/i],[u,[p,/_/g," "],[g,R]],[/droid.+; ([ab][1-7]-?[0178a]\d\d?)/i],[p,[u,"Acer"],[g,B]],[/droid.+; (m[1-5] note) bui/i,/\bmz-([-\w]{2,})/i],[p,[u,"Meizu"],[g,R]],[/\b(sh-?[altvz]?\d\d[a-ekm]?)/i],[p,[u,"Sharp"],[g,R]],[/(blackberry|benq|palm(?=\-)|sonyericsson|acer|asus|dell|meizu|motorola|polytron)[-_ ]?([-\w]*)/i,/(hp) ([\w ]+\w)/i,/(asus)-?(\w+)/i,/(microsoft); (lumia[\w ]+)/i,/(lenovo)[-_ ]?([-\w]+)/i,/(jolla)/i,/(oppo) ?([\w ]+) bui/i],[u,p,[g,R]],[/(archos) (gamepad2?)/i,/(hp).+(touchpad(?!.+tablet)|tablet)/i,/(kindle)\/([\w\.]+)/i,/(nook)[\w ]+build\/(\w+)/i,/(dell) (strea[kpr\d ]*[\dko])/i,/(le[- ]+pan)[- ]+(\w{1,9}) bui/i,/(trinity)[- ]*(t\d{3}) bui/i,/(gigaset)[- ]+(q\w{1,9}) bui/i,/(vodafone) ([\w ]+)(?:\)| bui)/i],[u,p,[g,B]],[/(surface duo)/i],[p,[u,Be],[g,B]],[/droid [\d\.]+; (fp\du?)(?: b|\))/i],[p,[u,"Fairphone"],[g,R]],[/(u304aa)/i],[p,[u,"AT&T"],[g,R]],[/\bsie-(\w*)/i],[p,[u,"Siemens"],[g,R]],[/\b(rct\w+) b/i],[p,[u,"RCA"],[g,B]],[/\b(venue[\d ]{2,7}) b/i],[p,[u,"Dell"],[g,B]],[/\b(q(?:mv|ta)\w+) b/i],[p,[u,"Verizon"],[g,B]],[/\b(?:barnes[& ]+noble |bn[rt])([\w\+ ]*) b/i],[p,[u,"Barnes & Noble"],[g,B]],[/\b(tm\d{3}\w+) b/i],[p,[u,"NuVision"],[g,B]],[/\b(k88) b/i],[p,[u,"ZTE"],[g,B]],[/\b(nx\d{3}j) b/i],[p,[u,"ZTE"],[g,R]],[/\b(gen\d{3}) b.+49h/i],[p,[u,"Swiss"],[g,R]],[/\b(zur\d{3}) b/i],[p,[u,"Swiss"],[g,B]],[/\b((zeki)?tb.*\b) b/i],[p,[u,"Zeki"],[g,B]],[/\b([yr]\d{2}) b/i,/\b(dragon[- ]+touch |dt)(\w{5}) b/i],[[u,"Dragon Touch"],p,[g,B]],[/\b(ns-?\w{0,9}) b/i],[p,[u,"Insignia"],[g,B]],[/\b((nxa|next)-?\w{0,9}) b/i],[p,[u,"NextBook"],[g,B]],[/\b(xtreme\_)?(v(1[045]|2[015]|[3469]0|7[05])) b/i],[[u,"Voice"],p,[g,R]],[/\b(lvtel\-)?(v1[12]) b/i],[[u,"LvTel"],p,[g,R]],[/\b(ph-1) /i],[p,[u,"Essential"],[g,R]],[/\b(v(100md|700na|7011|917g).*\b) b/i],[p,[u,"Envizen"],[g,B]],[/\b(trio[-\w\. ]+) b/i],[p,[u,"MachSpeed"],[g,B]],[/\btu_(1491) b/i],[p,[u,"Rotor"],[g,B]],[/(shield[\w ]+) b/i],[p,[u,"Nvidia"],[g,B]],[/(sprint) (\w+)/i],[u,p,[g,R]],[/(kin\.[onetw]{3})/i],[[p,/\./g," "],[u,Be],[g,R]],[/droid.+; (cc6666?|et5[16]|mc[239][23]x?|vc8[03]x?)\)/i],[p,[u,$e],[g,B]],[/droid.+; (ec30|ps20|tc[2-8]\d[kx])\)/i],[p,[u,$e],[g,R]],[/(ouya)/i,/(nintendo) ([wids3utch]+)/i],[u,p,[g,M]],[/droid.+; (shield) bui/i],[p,[u,"Nvidia"],[g,M]],[/(playstation [345portablevi]+)/i],[p,[u,Ze],[g,M]],[/\b(xbox(?: one)?(?!; xbox))[\); ]/i],[p,[u,Be],[g,M]],[/smart-tv.+(samsung)/i],[u,[g,j]],[/hbbtv.+maple;(\d+)/i],[[p,/^/,"SmartTV"],[u,_e],[g,j]],[/(nux; netcast.+smarttv|lg (netcast\.tv-201\d|android tv))/i],[[u,we],[g,j]],[/(apple) ?tv/i],[u,[p,P+" TV"],[g,j]],[/crkey/i],[[p,Y+"cast"],[u,Ie],[g,j]],[/droid.+aft(\w)( bui|\))/i],[p,[u,O],[g,j]],[/\(dtv[\);].+(aquos)/i],[p,[u,"Sharp"],[g,j]],[/\b(roku)[\dx]*[\)\/]((?:dvp-)?[\d\.]*)/i,/hbbtv\/\d+\.\d+\.\d+ +\([\w ]*; *(\w[^;]*);([^;]*)/i],[[u,Un],[p,Un],[g,j]],[/\b(android tv|smart[- ]?tv|opera tv|tv; rv:)\b/i],[[g,j]],[/((pebble))app/i],[u,p,[g,A]],[/droid.+; (glass) \d/i],[p,[u,Ie],[g,A]],[/droid.+; (wt63?0{2,3})\)/i],[p,[u,$e],[g,A]],[/(quest( 2)?)/i],[p,[u,at],[g,A]],[/(tesla)(?: qtcarbrowser|\/[-\w\.]+)/i],[u,[g,D]],[/droid .+?; ([^;]+?)(?: bui|\) applew).+? mobile safari/i],[p,[g,R]],[/droid .+?; ([^;]+?)(?: bui|\) applew).+?(?! mobile) safari/i],[p,[g,B]],[/\b((tablet|tab)[;\/]|focus\/\d(?!.+mobile))/i],[[g,B]],[/(phone|mobile(?:[;\/]| safari)|pda(?=.+windows ce))/i],[[g,R]],[/(android[-\w\. ]{0,9});.+buil/i],[p,[u,"Generic"]]],engine:[[/windows.+ edge\/([\w\.]+)/i],[s,[v,ie+"HTML"]],[/webkit\/537\.36.+chrome\/(?!27)([\w\.]+)/i],[s,[v,"Blink"]],[/(presto)\/([\w\.]+)/i,/(webkit|trident|netfront|netsurf|amaya|lynx|w3m|goanna)\/([\w\.]+)/i,/ekioh(flow)\/([\w\.]+)/i,/(khtml|tasman|links)[\/ ]\(?([\w\.]+)/i,/(icab)[\/ ]([23]\.[\d\.]+)/i],[v,s],[/rv\:([\w\.]{1,9})\b.+(gecko)/i],[s,v]],os:[[/microsoft (windows) (vista|xp)/i],[v,s],[/(windows) nt 6\.2; (arm)/i,/(windows (?:phone(?: os)?|mobile))[\/ ]?([\d\.\w ]*)/i,/(windows)[\/ ]?([ntce\d\. ]+\w)(?!.+xbox)/i],[v,[s,ci,ri]],[/(win(?=3|9|n)|win 9x )([nt\d\.]+)/i],[[v,"Windows"],[s,ci,ri]],[/ip[honead]{2,4}\b(?:.*os ([\w]+) like mac|; opera)/i,/cfnetwork\/.+darwin/i],[[s,/_/g,"."],[v,"iOS"]],[/(mac os x) ?([\w\. ]*)/i,/(macintosh|mac_powerpc\b)(?!.+haiku)/i],[[v,"Mac OS"],[s,/_/g,"."]],[/droid ([\w\.]+)\b.+(android[- ]x86)/i],[s,v],[/(android|webos|qnx|bada|rim tablet os|maemo|meego|sailfish)[-\/ ]?([\w\.]*)/i,/(blackberry)\w*\/([\w\.]*)/i,/(tizen|kaios)[\/ ]([\w\.]+)/i,/\((series40);/i],[v,s],[/\(bb(10);/i],[s,[v,K]],[/(?:symbian ?os|symbos|s60(?=;)|series60)[-\/ ]?([\w\.]*)/i],[s,[v,"Symbian"]],[/mozilla\/[\d\.]+ \((?:mobile|tablet|tv|mobile; [\w ]+); rv:.+ gecko\/([\w\.]+)/i],[s,[v,ge+" OS"]],[/web0s;.+rt(tv)/i,/\b(?:hp)?wos(?:browser)?\/([\w\.]+)/i],[s,[v,"webOS"]],[/crkey\/([\d\.]+)/i],[s,[v,Y+"cast"]],[/(cros) [\w]+ ([\w\.]+\w)/i],[[v,"Chromium OS"],s],[/(nintendo|playstation) ([wids345portablevuch]+)/i,/(xbox); +xbox ([^\);]+)/i,/\b(joli|palm)\b ?(?:os)?\/?([\w\.]*)/i,/(mint)[\/\(\) ]?(\w*)/i,/(mageia|vectorlinux)[; ]/i,/([kxln]?ubuntu|debian|suse|opensuse|gentoo|arch(?= linux)|slackware|fedora|mandriva|centos|pclinuxos|red ?hat|zenwalk|linpus|raspbian|plan 9|minix|risc os|contiki|deepin|manjaro|elementary os|sabayon|linspire)(?: gnu\/linux)?(?: enterprise)?(?:[- ]linux)?(?:-gnu)?[-\/ ]?(?!chrom|package)([-\w\.]*)/i,/(hurd|linux) ?([\w\.]*)/i,/(gnu) ?([\w\.]*)/i,/\b([-frentopcghs]{0,5}bsd|dragonfly)[\/ ]?(?!amd|[ix346]{1,2}86)([\w\.]*)/i,/(haiku) (\w+)/i],[v,s],[/(sunos) ?([\w\.\d]*)/i],[[v,"Solaris"],s],[/((?:open)?solaris)[-\/ ]?([\w\.]*)/i,/(aix) ((\d)(?=\.|\)| )[\w\.])*/i,/\b(beos|os\/2|amigaos|morphos|openvms|fuchsia|hp-ux)/i,/(unix) ?([\w\.]*)/i],[v,s]]},Nn=o(function(vn,Mn){if(typeof vn===t&&(Mn=vn,vn=m),!(this instanceof Nn))return new Nn(vn,Mn).getResult();var Ot=vn||(typeof h!==e&&h.navigator&&h.navigator.userAgent?h.navigator.userAgent:a),Ke=Mn?lt(gi,Mn):gi;return this.getBrowser=function(){var gt={};return gt[v]=m,gt[s]=m,jn.call(gt,Ot,Ke.browser),gt.major=un(gt.version),gt},this.getCPU=function(){var gt={};return gt[I]=m,jn.call(gt,Ot,Ke.cpu),gt},this.getDevice=function(){var gt={};return gt[u]=m,gt[p]=m,gt[g]=m,jn.call(gt,Ot,Ke.device),gt},this.getEngine=function(){var gt={};return gt[v]=m,gt[s]=m,jn.call(gt,Ot,Ke.engine),gt},this.getOS=function(){var gt={};return gt[v]=m,gt[s]=m,jn.call(gt,Ot,Ke.os),gt},this.getResult=function(){return{ua:this.getUA(),browser:this.getBrowser(),engine:this.getEngine(),os:this.getOS(),device:this.getDevice(),cpu:this.getCPU()}},this.getUA=function(){return Ot},this.setUA=function(gt){return Ot=typeof gt===r&&gt.length>$?Un(gt,$):gt,this},this.setUA(Ot),this},"UAParser");Nn.VERSION=f,Nn.BROWSER=ot([v,s,l]),Nn.CPU=ot([I]),Nn.DEVICE=ot([p,u,g,M,R,j,B,A,D]),Nn.ENGINE=Nn.OS=ot([v,s]),typeof c!==e?(typeof N!==e&&N.exports&&(c=N.exports=Nn),c.UAParser=Nn):i==="function"&&d("PDX0")?(S=function(){return Nn}.call(c,d,c,N),S!==m&&(N.exports=S)):typeof h!==e&&(h.UAParser=Nn);var Ti=typeof h!==e&&(h.jQuery||h.Zepto);if(Ti&&!Ti.ua){var Bi=new Nn;Ti.ua=Bi.getResult(),Ti.ua.get=function(){return Bi.getUA()},Ti.ua.set=function(vn){Bi.setUA(vn);var Mn=Bi.getResult();for(var Ot in Mn)Ti.ua[Ot]=Mn[Ot]}}})(typeof window=="object"?window:this)},K5tc:function(N,c,d){"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.SessionStateControllerAction=void 0;var S;(function(h){h[h.Connect=0]="Connect",h[h.FinishConnecting=1]="FinishConnecting",h[h.Update=2]="Update",h[h.FinishUpdating=3]="FinishUpdating",h[h.Reconnect=4]="Reconnect",h[h.Disconnect=5]="Disconnect",h[h.Fail=6]="Fail",h[h.FinishDisconnecting=7]="FinishDisconnecting"})(S=c.SessionStateControllerAction||(c.SessionStateControllerAction={})),c.default=S},K7TJ:function(N,c,d){"use strict";function S(h){for(var m=-1,f=h==null?0:h.length,a={};++m<f;){var n=h[m];a[n[0]]=n[1]}return a}o(S,"fromPairs"),c.a=S},KCGh:function(N,c,d){"use strict";Object.defineProperty(c,"__esModule",{value:!0});let S=o(class{constructor(m,f,a,n){this.sequenceNumber=m,this.message=f,this.timestampMs=a,this.logLevel=n}},"Log");c.default=S},KEX5:function(N,c,d){"use strict";var S=this&&this.__awaiter||function(l,p,v,g){function u(s){return s instanceof v?s:new v(function(I){I(s)})}return o(u,"adopt"),new(v||(v=Promise))(function(s,I){function M(j){try{B(g.next(j))}catch(A){I(A)}}o(M,"fulfilled");function R(j){try{B(g.throw(j))}catch(A){I(A)}}o(R,"rejected");function B(j){j.done?s(j.value):u(j.value).then(M,R)}o(B,"step"),B((g=g.apply(l,p||[])).next())})};Object.defineProperty(c,"__esModule",{value:!0});const h=d("K4CH"),m=d("crgu"),f=d("HK1f"),a=d("pewp"),n=d("V2kw"),i=d("F7zz"),e=d("ac3q"),t=d("iAlb");let r=o(class Dl{addObserver(p){this.observerSet.add(p)}removeObserver(p){this.observerSet.delete(p)}forEachObserver(p){for(const v of this.observerSet)i.default.nextTick(()=>{this.observerSet.has(v)&&p(v)})}publishEvent(p,v){return S(this,void 0,void 0,function*(){const g=Date.now();this.meetingHistoryStates.push({name:p,timestampMs:g});const u=Object.freeze(Object.assign(this.getAttributes(g),v));this.forEachObserver(s=>{s.eventDidReceive(p,u)}),this.reportEvent(p,g,v)})}reportEvent(p,v,g){var u;return S(this,void 0,void 0,function*(){let s;try{g&&(s=t.default(g)),yield(u=this.eventReporter)===null||u===void 0?void 0:u.reportEvent(v,p,s)}catch(I){this.logger.error(`Error reporting event ${I}`)}})}setupEventReporter(p,v,g){if(g)this._eventReporter=g;else if(p.urls){const u=p.urls.eventIngestionURL;if(u){this.logger.info("Event ingestion URL is present in the configuration");const{meetingId:s,credentials:{attendeeId:I,joinToken:M}}=p,R=new n.default(s,I,M),B=new f.default(R,u);this._eventReporter=new a.default(B,v)}}}getAttributes(p){var v,g;return{attendeeId:this.configuration.credentials.attendeeId,browserMajorVersion:this.browserMajorVersion,browserName:this.browserName,browserVersion:this.browserVersion,deviceName:this.deviceName,externalMeetingId:typeof this.configuration.externalMeetingId=="string"?this.configuration.externalMeetingId:"",externalUserId:this.configuration.credentials.externalUserId,meetingHistory:this.meetingHistoryStates,meetingId:this.configuration.meetingId,osName:((v=this.parserResult)===null||v===void 0?void 0:v.os.name)||Dl.UNAVAILABLE,osVersion:((g=this.parserResult)===null||g===void 0?void 0:g.os.version)||Dl.UNAVAILABLE,sdkVersion:e.default.sdkVersion,sdkName:e.default.sdkName,timestampMs:p}}get eventReporter(){return this._eventReporter}destroy(){return S(this,void 0,void 0,function*(){m.isDestroyable(this.eventReporter)&&(yield this.eventReporter.destroy()),this.logger=void 0,this.configuration=void 0,this._eventReporter=void 0,this.destroyed=!0})}constructor(p,v,g){var u,s,I,M,R,B,j;this.meetingHistoryStates=[],this.observerSet=new Set,this.destroyed=!1,this.logger=v,this.configuration=p,this.setupEventReporter(p,v,g);try{this.parserResult=navigator&&navigator.userAgent?new h.UAParser(navigator.userAgent).getResult():null}catch(A){this.logger.error(A.message)}this.browserMajorVersion=((I=(s=(u=this.parserResult)===null||u===void 0?void 0:u.browser)===null||s===void 0?void 0:s.version)===null||I===void 0?void 0:I.split(".")[0])||Dl.UNAVAILABLE,this.browserName=((M=this.parserResult)===null||M===void 0?void 0:M.browser.name)||Dl.UNAVAILABLE,this.browserVersion=((R=this.parserResult)===null||R===void 0?void 0:R.browser.version)||Dl.UNAVAILABLE,this.deviceName=[((B=this.parserResult)===null||B===void 0?void 0:B.device.vendor)||"",((j=this.parserResult)===null||j===void 0?void 0:j.device.model)||""].join(" ").trim()||Dl.UNAVAILABLE}},"DefaultEventController");c.default=r,r.UNAVAILABLE="Unavailable"},KJDN:function(N,c,d){"use strict";Object.defineProperty(c,"__esModule",{value:!0});let S=o(class extends Error{constructor(m,f){super(f||"Error fetching device."),this.cause=m,this.name="GetUserMediaError"}},"GetUserMediaError");c.default=S},KSud:function(N,c,d){"use strict";function S(h){var m=h;return m.placeholder}o(S,"getHolder"),c.a=S},Ka3M:function(N,c,d){"use strict";Object.defineProperty(c,"__esModule",{value:!0});let S=o(class{},"TranscriptLanguageWithScore");c.default=S},KsuK:function(N,c,d){"use strict";var S=this&&this.__awaiter||function(m,f,a,n){function i(e){return e instanceof a?e:new a(function(t){t(e)})}return o(i,"adopt"),new(a||(a=Promise))(function(e,t){function r(v){try{p(n.next(v))}catch(g){t(g)}}o(r,"fulfilled");function l(v){try{p(n.throw(v))}catch(g){t(g)}}o(l,"rejected");function p(v){v.done?e(v.value):i(v.value).then(r,l)}o(p,"step"),p((n=n.apply(m,f||[])).next())})};Object.defineProperty(c,"__esModule",{value:!0});let h=o(class{destroy(){this.canvas=null,this.destroyed=!0}asCanvasImageSource(){return S(this,void 0,void 0,function*(){return this.destroyed?Promise.reject("canvas buffer is destroyed"):Promise.resolve(this.canvas)})}asCanvasElement(){return this.canvas}constructor(f){this.canvas=f,this.destroyed=!1}},"CanvasVideoFrameBuffer");c.default=h},KvYa:function(N,c,d){"use strict";var S=this&&this.__awaiter||function(u,s,I,M){function R(B){return B instanceof I?B:new I(function(j){j(B)})}return o(R,"adopt"),new(I||(I=Promise))(function(B,j){function A(O){try{$(M.next(O))}catch(P){j(P)}}o(A,"fulfilled");function D(O){try{$(M.throw(O))}catch(P){j(P)}}o(D,"rejected");function $(O){O.done?B(O.value):R(O.value).then(A,D)}o($,"step"),$((M=M.apply(u,s||[])).next())})};Object.defineProperty(c,"__esModule",{value:!0}),c.isOldChrome=c.supportsWASMStreaming=c.supportsSharedArrayBuffer=c.supportsWASM=c.supportsAudioWorklet=c.supportsWorker=c.supportsVoiceFocusWorker=c.supportsWASMPostMessage=c.isSafari=void 0;const h=d("EkyC"),m=o(function(){return!!(arguments.length>0&&arguments[0]!==void 0?arguments[0]:globalThis).navigator.userAgent.match(/Chrom(?:e|ium)\/([0-9]+)/)},"isChrome"),f=o(function(){const s=(arguments.length>0&&arguments[0]!==void 0?arguments[0]:globalThis).navigator.userAgent,I=s.match(/Safari\//),M=s.match(/Chrom(?:e|ium)\//);return!!(I&&!M)},"isSafari");c.isSafari=f;const a=o(function(){let u=arguments.length>0&&arguments[0]!==void 0?arguments[0]:globalThis;return c.isSafari(u)?!1:m(u)?(v(u)||0)<95:!0},"supportsWASMPostMessage");c.supportsWASMPostMessage=a;const n=o(function(){let u=arguments.length>0&&arguments[0]!==void 0?arguments[0]:globalThis,s=arguments.length>1?arguments[1]:void 0,I=arguments.length>2?arguments[2]:void 0;return S(void 0,void 0,void 0,function*(){if(!c.supportsWorker(u,I))return!1;const M=`${s.paths.workers}worker-v1.js`;try{const R=yield h.loadWorker(M,"VoiceFocusTestWorker",s,I);try{R.terminate()}catch(B){I==null||I.debug("Failed to terminate worker.",B)}return!0}catch(R){return I==null||I.info("Failed to fetch and instantiate test worker",R),!1}})},"supportsVoiceFocusWorker");c.supportsVoiceFocusWorker=n;const i=o(function(){let u=arguments.length>0&&arguments[0]!==void 0?arguments[0]:globalThis,s=arguments.length>1?arguments[1]:void 0;try{return!!u.Worker}catch(I){return s==null||s.info("Does not support Worker",I),!1}},"supportsWorker");c.supportsWorker=i;const e=o(function(){let u=arguments.length>0&&arguments[0]!==void 0?arguments[0]:globalThis,s=arguments.length>1?arguments[1]:void 0;try{return!!u.AudioWorklet&&!!u.AudioWorkletNode}catch(I){return s==null||s.info("Does not support Audio Worklet",I),!1}},"supportsAudioWorklet");c.supportsAudioWorklet=e;const t=o(function(){let u=arguments.length>0&&arguments[0]!==void 0?arguments[0]:globalThis,s=arguments.length>1?arguments[1]:void 0;try{return!!u.WebAssembly&&(!!u.WebAssembly.compile||!!u.WebAssembly.compileStreaming)}catch(I){return s==null||s.info("Does not support WASM",I),!1}},"supportsWASM");c.supportsWASM=t;const r=o(function(){let u=arguments.length>0&&arguments[0]!==void 0?arguments[0]:globalThis,s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:globalThis,I=arguments.length>2?arguments[2]:void 0;try{return!!u.SharedArrayBuffer&&(!!s.chrome||!!u.crossOriginIsolated)}catch{return I==null||I.info("Does not support SharedArrayBuffer."),!1}},"supportsSharedArrayBuffer");c.supportsSharedArrayBuffer=r;const l=o(function(){let u=arguments.length>0&&arguments[0]!==void 0?arguments[0]:globalThis,s=arguments.length>1?arguments[1]:void 0;var I;try{return!!(!((I=u.WebAssembly)===null||I===void 0)&&I.compileStreaming)}catch(M){return s==null||s.info("Does not support WASM streaming compilation",M),!1}},"supportsWASMStreaming");c.supportsWASMStreaming=l;const p=90,v=o(function(){let u=arguments.length>0&&arguments[0]!==void 0?arguments[0]:globalThis;try{if(!u.chrome)return}catch{}const s=u.navigator.userAgent.match(/Chrom(?:e|ium)\/([0-9]+)/);if(s)return parseInt(s[1],10)},"chromeVersion"),g=o(function(){let u=arguments.length>0&&arguments[0]!==void 0?arguments[0]:globalThis,s=arguments.length>1?arguments[1]:void 0;const I=v(u);return I&&I<p?(s==null||s.debug(`Chrome ${I} has incomplete SIMD support.`),!0):!1},"isOldChrome");c.isOldChrome=g},KyYT:function(N,c,d){"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.None=c.Some=c.Maybe=void 0;let S=o(class{static of(a){return a==null?m.of():h.of(a)}},"Maybe");c.Maybe=S;let h=o(class av{map(a){return S.of(a(this.value))}flatMap(a){return a(this.value)}get(){return this.value}getOrElse(a){return this.value}defaulting(a){return S.of(this.getOrElse(a))}static of(a){if(a==null)throw new Error("value is ${value}");return new av(a)}constructor(a){this.value=a,this.isSome=!0,this.isNone=!1}},"Some");c.Some=h;let m=o(class xd{get(){throw new Error("value is null")}getOrElse(a){return a}map(a){return new xd}flatMap(a){return new xd}defaulting(a){return S.of(this.getOrElse(a))}static of(){return new xd}constructor(){this.isSome=!1,this.isNone=!0}},"None");c.None=m},"L+i+":function(N,c,d){"use strict";var S=this&&this.__awaiter||function(a,n,i,e){function t(r){return r instanceof i?r:new i(function(l){l(r)})}return o(t,"adopt"),new(i||(i=Promise))(function(r,l){function p(u){try{g(e.next(u))}catch(s){l(s)}}o(p,"fulfilled");function v(u){try{g(e.throw(u))}catch(s){l(s)}}o(v,"rejected");function g(u){u.done?r(u.value):t(u.value).then(p,v)}o(g,"step"),g((e=e.apply(a,n||[])).next())})};Object.defineProperty(c,"__esModule",{value:!0});const h=d("yQ3g"),m=d("aVV0");let f=o(class extends m.default{cancel(){this.logger.info(`canceling timeout task ${this.name()} subtask ${this.taskToRunBeforeTimeout}`),this.taskToRunBeforeTimeout.cancel()}run(){return S(this,void 0,void 0,function*(){const n=new h.default(this.timeoutMs);n.start(()=>{this.logger.info(`timeout reached for task ${this.name()}`),this.taskToRunBeforeTimeout.cancel()});try{yield this.taskToRunBeforeTimeout.run()}finally{n.stop()}this.logger.info(`timeout task ${this.name()} completed`)})}constructor(n,i,e){super(n),this.taskToRunBeforeTimeout=i,this.timeoutMs=e,this.taskName=`Timeout${this.timeoutMs}ms`,i.setParent(this)}},"TimeoutTask");c.default=f},L5pH:function(N,c){N.exports=function(){}},LDIi:function(N,c,d){"use strict";N.exports=n;var S=d("j4TH"),h,m=S.LongBits,f=S.utf8;function a(p,v){return RangeError("index out of range: "+p.pos+" + "+(v||1)+" > "+p.len)}o(a,"indexOutOfRange");function n(p){this.buf=p,this.pos=0,this.len=p.length}o(n,"Reader");var i=typeof Uint8Array<"u"?o(function(v){if(v instanceof Uint8Array||Array.isArray(v))return new n(v);throw Error("illegal buffer")},"create_typed_array"):o(function(v){if(Array.isArray(v))return new n(v);throw Error("illegal buffer")},"create_array"),e=o(function(){return S.Buffer?o(function(g){return(n.create=o(function(s){return S.Buffer.isBuffer(s)?new h(s):i(s)},"create_buffer"))(g)},"create_buffer_setup"):i},"create");n.create=e(),n.prototype._slice=S.Array.prototype.subarray||S.Array.prototype.slice,n.prototype.uint32=o(function(){var v=4294967295;return o(function(){if(v=(this.buf[this.pos]&127)>>>0,this.buf[this.pos++]<128||(v=(v|(this.buf[this.pos]&127)<<7)>>>0,this.buf[this.pos++]<128)||(v=(v|(this.buf[this.pos]&127)<<14)>>>0,this.buf[this.pos++]<128)||(v=(v|(this.buf[this.pos]&127)<<21)>>>0,this.buf[this.pos++]<128)||(v=(v|(this.buf[this.pos]&15)<<28)>>>0,this.buf[this.pos++]<128))return v;if((this.pos+=5)>this.len)throw this.pos=this.len,a(this,10);return v},"read_uint32")},"read_uint32_setup")(),n.prototype.int32=o(function(){return this.uint32()|0},"read_int32"),n.prototype.sint32=o(function(){var v=this.uint32();return v>>>1^-(v&1)|0},"read_sint32");function t(){var p=new m(0,0),v=0;if(this.len-this.pos>4){for(;v<4;++v)if(p.lo=(p.lo|(this.buf[this.pos]&127)<<v*7)>>>0,this.buf[this.pos++]<128)return p;if(p.lo=(p.lo|(this.buf[this.pos]&127)<<28)>>>0,p.hi=(p.hi|(this.buf[this.pos]&127)>>4)>>>0,this.buf[this.pos++]<128)return p;v=0}else{for(;v<3;++v){if(this.pos>=this.len)throw a(this);if(p.lo=(p.lo|(this.buf[this.pos]&127)<<v*7)>>>0,this.buf[this.pos++]<128)return p}return p.lo=(p.lo|(this.buf[this.pos++]&127)<<v*7)>>>0,p}if(this.len-this.pos>4){for(;v<5;++v)if(p.hi=(p.hi|(this.buf[this.pos]&127)<<v*7+3)>>>0,this.buf[this.pos++]<128)return p}else for(;v<5;++v){if(this.pos>=this.len)throw a(this);if(p.hi=(p.hi|(this.buf[this.pos]&127)<<v*7+3)>>>0,this.buf[this.pos++]<128)return p}throw Error("invalid varint encoding")}o(t,"readLongVarint"),n.prototype.bool=o(function(){return this.uint32()!==0},"read_bool");function r(p,v){return(p[v-4]|p[v-3]<<8|p[v-2]<<16|p[v-1]<<24)>>>0}o(r,"readFixed32_end"),n.prototype.fixed32=o(function(){if(this.pos+4>this.len)throw a(this,4);return r(this.buf,this.pos+=4)},"read_fixed32"),n.prototype.sfixed32=o(function(){if(this.pos+4>this.len)throw a(this,4);return r(this.buf,this.pos+=4)|0},"read_sfixed32");function l(){if(this.pos+8>this.len)throw a(this,8);return new m(r(this.buf,this.pos+=4),r(this.buf,this.pos+=4))}o(l,"readFixed64"),n.prototype.float=o(function(){if(this.pos+4>this.len)throw a(this,4);var v=S.float.readFloatLE(this.buf,this.pos);return this.pos+=4,v},"read_float"),n.prototype.double=o(function(){if(this.pos+8>this.len)throw a(this,4);var v=S.float.readDoubleLE(this.buf,this.pos);return this.pos+=8,v},"read_double"),n.prototype.bytes=o(function(){var v=this.uint32(),g=this.pos,u=this.pos+v;if(u>this.len)throw a(this,v);return this.pos+=v,Array.isArray(this.buf)?this.buf.slice(g,u):g===u?new this.buf.constructor(0):this._slice.call(this.buf,g,u)},"read_bytes"),n.prototype.string=o(function(){var v=this.bytes();return f.read(v,0,v.length)},"read_string"),n.prototype.skip=o(function(v){if(typeof v=="number"){if(this.pos+v>this.len)throw a(this,v);this.pos+=v}else do if(this.pos>=this.len)throw a(this);while(this.buf[this.pos++]&128);return this},"skip"),n.prototype.skipType=function(p){switch(p){case 0:this.skip();break;case 1:this.skip(8);break;case 2:this.skip(this.uint32());break;case 3:for(;(p=this.uint32()&7)!==4;)this.skipType(p);break;case 5:this.skip(4);break;default:throw Error("invalid wire type "+p+" at offset "+this.pos)}return this},n._configure=function(p){h=p,n.create=e(),h._configure();var v=S.Long?"toLong":"toNumber";S.merge(n.prototype,{int64:o(function(){return t.call(this)[v](!1)},"read_int64"),uint64:o(function(){return t.call(this)[v](!0)},"read_uint64"),sint64:o(function(){return t.call(this).zzDecode()[v](!1)},"read_sint64"),fixed64:o(function(){return l.call(this)[v](!0)},"read_fixed64"),sfixed64:o(function(){return l.call(this)[v](!1)},"read_sfixed64")})}},LEQH:function(N,c,d){"use strict";var S=this&&this.__awaiter||function(a,n,i,e){function t(r){return r instanceof i?r:new i(function(l){l(r)})}return o(t,"adopt"),new(i||(i=Promise))(function(r,l){function p(u){try{g(e.next(u))}catch(s){l(s)}}o(p,"fulfilled");function v(u){try{g(e.throw(u))}catch(s){l(s)}}o(v,"rejected");function g(u){u.done?r(u.value):t(u.value).then(p,v)}o(g,"step"),g((e=e.apply(a,n||[])).next())})};Object.defineProperty(c,"__esModule",{value:!0});const h=d("GtHv"),m=d("vjEy");let f=o(class extends h.default{drawImageWithMask(n,i){const e=this.blurredImage,{canvasCtx:t,targetCanvas:r}=this,{width:l,height:p}=r;if(!i||!e){t.clearRect(0,0,l,p);return}this.scaledCanvas.getContext("2d").putImageData(i,0,0),this.blurCanvasCtx.putImageData(this.blurredImage,0,0),t.save(),t.clearRect(0,0,l,p),t.drawImage(this.scaledCanvas,0,0,l,p),t.globalCompositeOperation="source-in",t.drawImage(n,0,0,l,p),t.globalCompositeOperation="destination-over",t.drawImage(this.blurCanvas,0,0,l,p),t.restore()}setBlurStrength(n){if(super.setBlurStrength(n),this.worker){this.modelInitialized=!1,this.worker.postMessage({msg:"destroy"});const i=this.spec.model;this.worker.postMessage({msg:"loadModel",payload:{modelUrl:i.path,inputHeight:i.input.height,inputWidth:i.input.width,inputChannels:4,modelRangeMin:i.input.range[0],modelRangeMax:i.input.range[1],blurPixels:this.blurAmount}})}}setBlurPixels(){this.blurAmount=m.BlurStrengthMapper.getBlurAmount(this._blurStrength,{height:540}),this.logger.info(`background blur amount set to ${this.blurAmount}`)}handleInitialize(n){if(this.logger.info(`received initialize message: ${this.stringify(n)}`),!n.payload){this.logger.error("failed to initialize module"),this.initWorkerPromise.reject(new Error("failed to initialize the module"));return}const i=this.spec.model;this.worker.postMessage({msg:"loadModel",payload:{modelUrl:i.path,inputHeight:i.input.height,inputWidth:i.input.width,inputChannels:4,modelRangeMin:i.input.range[0],modelRangeMax:i.input.range[1],blurPixels:this.blurAmount}}),this.initWorkerPromise.resolve({})}handlePredict(n){this.blurredImage=n.payload.blurOutput,super.handlePredict(n)}destroy(){const n=Object.create(null,{destroy:{get:()=>super.destroy}});var i;return S(this,void 0,void 0,function*(){n.destroy.call(this),(i=this.blurCanvas)===null||i===void 0||i.remove(),this.blurCanvas=void 0})}constructor(n,i){super(n,i),this.blurCanvas=document.createElement("canvas"),this.blurCanvasCtx=this.blurCanvas.getContext("2d"),this.blurCanvas.width=this.spec.model.input.width,this.blurCanvas.height=this.spec.model.input.height,this.logger.info("BackgroundBlur processor using builtin blur")}},"BackgroundBlurProcessorBuiltIn");c.default=f},LIUS:function(N,c,d){"use strict";Object.defineProperty(c,"__esModule",{value:!0});const S=d("XCDq"),h=d("0LIx"),m=d("OEM7");let f=o(class Oa extends h.default{localStreamDescriptions(){const n=[];return this._localStreamInfos.forEach(i=>{n.push(i.clone())}),n}integrateUplinkPolicyDecision(n){let i=!0,e=0;for(let t=0;t<n.length;t++){const r=n[t].maxBitrate/1e3,l=n[t].maxFramerate;if(!i||t===this._localStreamInfos.length){i=!1;const p=new m.default;p.maxBitrateKbps=r,p.maxFrameRate=l,p.disabledByUplinkPolicy=r===0,r!==0&&(p.timeEnabled=Date.now()),this._localStreamInfos.push(p),e++;continue}this._localStreamInfos[e].maxBitrateKbps===0&&r>0&&(this._localStreamInfos[e].timeEnabled=Date.now()),this._localStreamInfos[e].maxBitrateKbps=r,this._localStreamInfos[e].maxFrameRate=l,this._localStreamInfos[e].disabledByUplinkPolicy=r===0,this._localStreamInfos[e].disabledByUplinkPolicy===!0&&(this._localStreamInfos[e].disabledByWebRTC=!1),e++}i&&this._localStreamInfos.splice(e)}integrateBitratesFrame(n){super.integrateBitratesFrame(n);const i=new Set,e=new Set(this.streamIdToBitrateKbpsMap.keys());for(const t of n.bitrates)i.add(t.sourceStreamId),this.streamIdToBitrateKbpsMap.set(t.sourceStreamId,this.convertBpsToKbps(t.avgBitrateBps));for(const t of e)i.has(t)||(this.streamIdToBitrateKbpsMap.get(t)===Oa.UNSEEN_STREAM_BITRATE?this.streamIdToBitrateKbpsMap.set(t,Oa.RECENTLY_INACTIVE_STREAM_BITRATE):this.streamIdToBitrateKbpsMap.set(t,Oa.NOT_SENDING_STREAM_BITRATE));for(let t=0;t<this._localStreamInfos.length;t++){this._localStreamInfos[t].disabledByWebRTC=!1;const r=this._localStreamInfos[t].streamId;this._localStreamInfos[t].disabledByUplinkPolicy||(this.streamIdToBitrateKbpsMap.has(r)?this.streamIdToBitrateKbpsMap.get(r)===Oa.NOT_SENDING_STREAM_BITRATE&&this._lastBitRateMsgTime-this._localStreamInfos[t].timeEnabled>Oa.BitratesMsgFrequencyMs&&(this._localStreamInfos[t].disabledByWebRTC=!0):this._lastBitRateMsgTime-this._localStreamInfos[t].timeEnabled>Oa.BitratesMsgFrequencyMs&&(this._localStreamInfos[t].disabledByWebRTC=!0))}this._lastBitRateMsgTime=Date.now(),this.logLocalStreamDescriptions()}logLocalStreamDescriptions(){let n="";for(const i of this._localStreamInfos)n+=`streamId=${i.streamId} maxBitrate=${i.maxBitrateKbps} disabledByWebRTC=${i.disabledByWebRTC} disabledByUplink=${i.disabledByUplinkPolicy}
`;this.logger.debug(()=>n)}integrateIndexFrame(n){super.integrateIndexFrame(n);const i=new Set,e=new Set(this.streamIdToBitrateKbpsMap.keys());for(const t of this.currentIndex.sources)t.mediaType===S.SdkStreamMediaType.VIDEO&&(i.add(t.streamId),this.streamIdToBitrateKbpsMap.has(t.streamId)||this.streamIdToBitrateKbpsMap.set(t.streamId,Oa.UNSEEN_STREAM_BITRATE));for(const t of e)i.has(t)||this.streamIdToBitrateKbpsMap.delete(t)}integrateSubscribeAckFrame(n){if(super.integrateSubscribeAckFrame(n),!n.allocations||n.allocations===void 0)return;let i=0;for(const e of n.allocations){if(this._localStreamInfos.length<i+1){this.logger.info("simulcast: allocation has more than number of local streams");break}this._localStreamInfos[i].groupId=e.groupId,this._localStreamInfos[i].streamId=e.streamId,this.streamIdToBitrateKbpsMap.has(e.streamId)||this.streamIdToBitrateKbpsMap.set(e.streamId,Oa.UNSEEN_STREAM_BITRATE),i++}}constructor(n){super(n),this.streamIdToBitrateKbpsMap=new Map,this._localStreamInfos=[],this._lastBitRateMsgTime=Date.now()}},"SimulcastVideoStreamIndex");c.default=f,f.UNSEEN_STREAM_BITRATE=-2,f.RECENTLY_INACTIVE_STREAM_BITRATE=-1,f.NOT_SENDING_STREAM_BITRATE=0,f.BitratesMsgFrequencyMs=4e3},LK2A:function(N,c,d){"use strict";d.r(c),function(S){d.d(c,"AutocompleteActions",function(){return tr}),d.d(c,"CardRenderType",function(){return hi}),d.d(c,"CollabApi",function(){return Ot}),d.d(c,"CollabPopoverDismissSource",function(){return on}),d.d(c,"CollabUrlType",function(){return Er}),d.d(c,"CommentFocusTarget",function(){return Or}),d.d(c,"CommentLevel",function(){return Tr}),d.d(c,"DocBlockStyle",function(){return wn}),d.d(c,"DocInlineStyle",function(){return bn}),d.d(c,"EmbeddedMoveDirection",function(){return _r}),d.d(c,"EmbeddedObjectType",function(){return Lr}),d.d(c,"EmbeddedUIAttributes",function(){return or}),d.d(c,"EmbeddedUiAction",function(){return fi}),d.d(c,"EmbeddedUiContext",function(){return Ki}),d.d(c,"ErrorSource",function(){return sr}),d.d(c,"Feature",function(){return Xn}),d.d(c,"GetSlackObjectFailureReason",function(){return Gr}),d.d(c,"GrafterUrls",function(){return t}),d.d(c,"NavigationTypeMetric",function(){return Ut}),d.d(c,"SectionInsertionType",function(){return Jn}),d.d(c,"ShortcutModifier",function(){return vi}),d.d(c,"SlackObjectActionType",function(){return Ir}),d.d(c,"SlackObjectType",function(){return kr}),d.d(c,"TableModificationEntity",function(){return Ii}),d.d(c,"TableModificationType",function(){return Nr}),d.d(c,"TemplateTriggerType",function(){return pn}),d.d(c,"UnfurlType",function(){return oi});var h,m,f=typeof S<"u"?S:self;class a{constructor(){this.o=!1,this.l=[]}run(){this.o=!0;const te=this.l;this.l=[];for(let Oe=0;Oe<te.length;Oe++)te[Oe]()}add(te){this.o?te():this.l.push(te)}}o(a,"s"),function(H){var te;(te=H.Op||(H.Op={}))[te.DID_INITIALIZE=8]="DID_INITIALIZE",te[te.DID_FAIL_TO_INITIALIZE=9]="DID_FAIL_TO_INITIALIZE"}(h||(h={})),function(H){var te;(te=H.Op||(H.Op={}))[te.INIT=0]="INIT"}(m||(m={}));class n{constructor(te){this._=new Map,this.u=null,this.destinationFn=te}setTransportHook(te){this.u=te}tearDown(){}addHandler(te,Oe){this._.has(te)&&this.logError(`Already had handler for op ${te} will overwrite.`),this._.set(te,Oe)}getHandler(te){const Oe=this._.get(te);return Oe?this.u?(ke,Ge)=>{var ft;return(ft=this.u)===null||ft===void 0||ft.call(this,te,ke,e.INCOMING),Oe(ke,pt=>{var ct;return(ct=this.u)===null||ct===void 0||ct.call(this,te,pt,e.OUTGOING_REPLY),Ge(pt)})}:Oe:null}invoke(te,Oe,ke){var Ge;if((Ge=this.u)===null||Ge===void 0||Ge.call(this,te,Oe,e.OUTGOING),this.u&&ke){const ct=ke;ke=o(St=>{var Mt;(Mt=this.u)===null||Mt===void 0||Mt.call(this,te,St,e.INCOMING_REPLY),ct(St)},"i")}const ft=this.destinationFn().getHandler(te);if(!ft)return void this.logError(`Bridge transport doesn't have handler for op ${te}`);let pt;try{pt=ft(Oe,ct=>{ke?ke(ct):this.logError(`Invoke response received without callback for op ${te}`)})}catch{i(te,Oe)}pt instanceof Promise&&pt.catch(ct=>i(te,Oe))}logError(te){}}o(n,"n");let i=o((H,te,Oe)=>{let ke="";try{ke=JSON.stringify(te)}catch{ke="(Unserializable message)"}},"r");var e,t,r;(function(H){H[H.INCOMING=1]="INCOMING",H[H.INCOMING_REPLY=2]="INCOMING_REPLY",H[H.OUTGOING=3]="OUTGOING",H[H.OUTGOING_REPLY=4]="OUTGOING_REPLY"})(e||(e={})),function(H){H.CONTROLLER_CSS="https://quip.codes/-/static/less/stylesheet/-?retina=True&mode=normal&less=collab%2Fcontroller.less",H.CONTROLLER_JS="https://slackdocs.codes:3000/ts/src/collab/controller/bundle.ts",H.EMBEDDED_JS="https://slackdocs.codes/-/static-script-files?grafted=True&resource_bundle_name=collab_embedded"}(t||(t={})),function(H){H.BRIDGE_TRANSPORT_SET="bridge-transport-set",H.BRIDGE_TRANSPORT_READY="bridge-transport-ready",H.HANDLER_REGISTERED="handler-registered",H.HANDLER_REGISTRATION_FINISHED="handler_registration_finished",H.MESSAGE_SENT="message_sent",H.MESSAGE_HANDLED="message-handled",H.INIT_SENT="init_sent",H.INIT_RECEIVED="init_received",H.DID_INIT_SENT="did_init_sent",H.DID_INIT_RECEIVED="did_init_received",H.BRIDGE_OPEN="bridge-open",H.ERROR="error",H.SYSTEMJS_LOADED="systemjs-loaded",H.CONTROLLER_SYSTEMJS_MODULE_IMPORTED="controller-systemjs-imported",H.CONTROLLER_INIT_DATA_FETCHED="controller-init-data-fetched",H.CONTROLLER_RESOURCE_DATA_FETCHED="controller-resource-data-fetched",H.PROBE="probe",H.OTHER="misc"}(r||(r={}));class l{constructor(te){this.O=te,this.T=[],this.S=[],this.N=[],this.I=[],this.L=[],this.A=Date.now(),this.onlyBefore("Handler registered late",r.HANDLER_REGISTERED,[r.HANDLER_REGISTRATION_FINISHED]),this.onlyAfter("Message sent before bridge open",r.MESSAGE_SENT,[r.BRIDGE_OPEN]),this.onlyAfter("Message handled before bridge open",r.MESSAGE_HANDLED,[r.BRIDGE_OPEN])}getTimeRemaining(){return l.INIT_TIMEOUT-(Date.now()-this.A)}fireEvent(te,Oe=null){if(this.S.filter(Ge=>Ge.beforeEvent==te).forEach(Ge=>{Ge.afterEvents.some(ft=>this.T.includes(ft))&&Ge.message&&this.m(`${this.O}: ${Ge.message}`)}),this.N.filter(Ge=>Ge.afterEvent==te).forEach(Ge=>{Ge.beforeEvents.some(ft=>!this.T.includes(ft))&&Ge.message&&this.m(`${this.O}: ${Ge.message}`)}),te!=r.HANDLER_REGISTERED&&this.m(Oe?Promise.resolve(Oe).then(Ge=>`${te}: ${Ge}`):te),this.T.includes(te))return;this.T.push(te);const ke=[];this.I=this.I.filter(Ge=>!Ge.events.every(ft=>this.T.includes(ft))||(ke.push(Ge),!1)),ke.forEach(Ge=>{Ge.description&&this.m(`${te} -> ${Ge.description}`),Ge.callback()})}after(te,Oe,ke=null){te.every(Ge=>this.T.includes(Ge))?Oe():(ke&&this.m(`${ke} deferred`),this.I.push({events:te,description:ke,callback:Oe}))}onlyBefore(te,Oe,ke){this.S.push({beforeEvent:Oe,afterEvents:ke,message:te})}onlyAfter(te,Oe,ke){this.N.push({beforeEvents:ke,afterEvent:Oe,message:te})}m(te){if(this.L.length>l.MAX_INIT_LOG)return;const Oe=Date.now()-this.A,ke=Promise.resolve(te);this.L.push({timestamp:Oe,message:ke}),ke.then(Ge=>{f.console.debug(`${this.O}: ${Ge}`)})}getInitLog(te){const Oe=(te?this.L.slice(0,te):this.L).map(async ke=>({t:ke.timestamp,e:await ke.message}));return Promise.all(Oe).then(ke=>({id:this.O,log:ke}))}}o(l,"h"),l.MAX_INIT_LOG=50,l.INIT_TIMEOUT=3e4;function p(H,{logCallback:te=o(()=>{},"e"),timeoutMillis:Oe=3e4,name:ke="Unnamed"}={}){return new Promise((Ge,ft)=>{let pt=f.window.setTimeout(()=>{pt=null,te(`${ke} promise timed out`),ft(new Error(`${ke} promise timed out`))},Oe);const ct=o(()=>{pt&&(f.clearTimeout(pt),pt=null)},"E");H.then(St=>{pt?(ct(),Ge(St)):te(`${ke} promise resolved after timeout.`)}).catch(St=>{pt?(ct(),ft(St)):te(`${ke} promise rejected after timeout`)})})}o(p,"_");function v(H,te,Oe,ke,Ge){const{span:ft,closeSpanFn:pt}=ke.createBasicTraceSpan(Ge,Oe,{[Fe.URL]:H}),{closeSpanFn:ct}=ke.createBasicTraceSpan(ft,Pe.HTTP_FETCH_HEADER),St=new f.AbortController,Mt=f.setTimeout(()=>{St.abort()},ke.bridgeInit.getTimeRemaining());return f.fetch(H,Object.assign({signal:St.signal},te)).catch(kt=>{throw ct(kt),Error(`${Oe} fetch failed: ${kt}`)}).then(kt=>{if(f.clearTimeout(Mt),!kt.ok)return ct(new Error(`returned ${kt.status}`)),u(ke,Oe,kt,ft).then($t=>{throw Error($t)});ct();const{closeSpanFn:En}=ke.createBasicTraceSpan(ft,Pe.HTTP_FETCH_CONTENT,{[Fe.URL]:H});return kt.text().catch($t=>{throw En($t),$t}).then($t=>{En();const{closeSpanFn:Hn}=ke.createBasicTraceSpan(ft,Pe.JSON_PARSE);try{const bt=JSON.parse($t);return Hn(),bt}catch(bt){throw Hn(new Error(`${bt}`)),ke.bridgeInit.fireEvent(r.ERROR,u(ke,Oe,kt,null)),bt}})}).finally(()=>{pt()})}o(v,"a");function g(H,te,Oe,ke){const Ge=new f.AbortController,ft=f.setTimeout(()=>{Ge.abort()},Oe.bridgeInit.getTimeRemaining());Oe.bridgeInit.fireEvent(r.OTHER,`${te} prefetch start`);const{span:pt,closeSpanFn:ct}=Oe.createBasicTraceSpan(ke,Pe.MODULE_PREFETCH,{[Fe.URL]:H}),{closeSpanFn:St}=Oe.createBasicTraceSpan(pt,Pe.HTTP_FETCH_HEADER);return f.fetch(H,{method:"GET",mode:"cors",cache:"default",signal:Ge.signal}).catch(Mt=>{throw St(Mt),Error(`${te} fetch failed: ${Mt}`)}).then(Mt=>{if(!Mt.ok)return St(new Error(`Returned ${Mt.status}`)),u(Oe,te,Mt,pt).then(En=>{throw Error(En)});St();const{closeSpanFn:kt}=Oe.createBasicTraceSpan(pt,Pe.HTTP_FETCH_CONTENT);return Mt.text().then(()=>{kt(),Oe.bridgeInit.fireEvent(r.OTHER,`${te} prefetch ok`)}).catch(En=>{throw kt(En),En})}).finally(()=>{ct(),f.clearTimeout(ft)})}o(g,"c");function u(H,te,Oe,ke){const{closeSpanFn:Ge}=H.createBasicTraceSpan(ke,Pe.HTTP_FETCH_CONTENT);return Oe.text().then(ft=>{const pt=function(St){if(!St||St.trim().length==0)return"response body empty";try{const Mt=new f.DOMParser().parseFromString(St,"text/html").documentElement.textContent;if(Mt&&Mt.trim().length>0)return Mt.trim().replace(/\s+/g," ").slice(0,50)}catch{}return St.trim().slice(0,50)}(ft),ct=`${te} fetch returned ${Oe.status}: ${pt}`;return Ge(new Error(ct)),ct}).catch(ft=>{const pt=`${te} fetch returned ${Oe.status}: response body unavailable (${ft})`;return Ge(new Error(pt)),pt})}o(u,"d");function s(H,te,Oe){let ke=null;const{id:Ge,promise:ft}=function(St){const Mt=Symbol(),kt=new Promise(En=>{Z.push({id:Mt,callback:$t=>{St(),En($t)}})});return Y||(Y=!0,f.window._collabInit=En=>{var $t;($t=Z.shift())===null||$t===void 0||$t.callback(En)}),{promise:kt,id:Mt}}(()=>{var St,Mt;(Mt=(St=H==null?void 0:H.platformDelegate)===null||St===void 0?void 0:St.endTraceOrSpan)===null||Mt===void 0||Mt.call(St,ke)}),pt=ft.then(St=>(H.bridgeInit.fireEvent(r.OTHER,"_collabInit called"),St));return function(St,Mt,kt){return Mt.then(En=>{if(En.module_loader_url==null)throw Error("No module loader URL.  Server likely isn't in SystemJS mode.");const{span:$t,closeSpanFn:Hn}=St.createBasicTraceSpan(kt,Pe.LOAD_CONTROLLER),bt=St.config.useGraftedMode?t.CONTROLLER_JS:En.controller_entry_module_url;return function(Zn,zn,yi,ei){yi&&function(pi,di){K(di.bridgeInit),P=pi,k=f.document.createElement("script"),k.type="systemjs-importmap",k.textContent=JSON.stringify(pi),f.document.body.appendChild(k),di.bridgeInit.fireEvent(r.OTHER,"Created import map script tag")}(yi,Zn);const $n=Zn.bridgeInit;if(A){const pi=j;return $n.fireEvent(r.OTHER,`Collab ${pi} is loading systemjs, reusing the promise`),A.then(()=>{$n.fireEvent(r.OTHER,`Systemjs promise reused from collab ${pi} succeeded`)}).catch(di=>{throw $n.fireEvent(r.ERROR,`Systemjs promise reused from collab ${pi} failed: ${di}`),di})}let Ei,Pi=null;if(D())$n.fireEvent(r.OTHER,"systemjs already loaded, running prepareImport"),Pi="System.prepareImport() promise resolved",Ei=p(System.prepareImport(!0),{name:"System.prepareImport",timeoutMillis:$n.getTimeRemaining()});else{$n.fireEvent(r.OTHER,"No SystemJS found, loading it");const{span:pi,closeSpanFn:di}=Zn.createBasicTraceSpan(ei,Pe.LOAD_SYSTEMJS,{[Fe.JS_PREFETCH_ENABLED]:"true",[Fe.URL]:zn});Pi="systemjs script tag onload fired",Ei=function(wi,tn,si){return g(tn,"systemjs-module-loader",wi,si).then(()=>{const Qn=f.document.createElement("script");return new Promise((Di,io)=>{const{closeSpanFn:mi}=wi.createBasicTraceSpan(si,Pe.SCRIPT_TAG);Qn.src=tn,Qn.defer=!0,Qn.crossOrigin="anonymous",Qn.onload=()=>{mi(),Di()},Qn.onerror=Br=>{const Ui=Error(`systemjs onerror called: ${Br}`);mi(Ui),io(Ui)},f.document.body.appendChild(Qn)}).then(()=>{if(!D())throw Error("SystemJS not found after it was loaded")}).catch(Di=>{throw typeof System=="object"&&(delete f.window.System,wi.bridgeInit.fireEvent(r.OTHER,"Cleaned up systemjs global object")),Qn.onload=null,Qn.onerror=null,Qn.parentNode&&(Qn.parentNode.removeChild(Qn),wi.bridgeInit.fireEvent(r.OTHER,"Cleaned up systemjs loader script tag")),Di})})}(Zn,zn,pi).finally(()=>{di()})}return j=Zn.id,A=Ei.then(()=>{$n.fireEvent(r.SYSTEMJS_LOADED,Pi)}).finally(()=>{A=null,j=null}),A}(St,En.module_loader_url,En.import_map,$t).then(()=>R(bt,St,$t)).finally(()=>{Hn()})})}(H,te,Oe).then(()=>{var St,Mt,kt;return ke=(kt=(Mt=(St=H==null?void 0:H.platformDelegate)===null||St===void 0?void 0:St.startSpan)===null||Mt===void 0?void 0:Mt.call(St,Oe,Pe.AWAIT_CALLBACK))!==null&&kt!==void 0?kt:null,p(pt,{name:"_collabInit callback",timeoutMillis:H.bridgeInit.getTimeRemaining()}).catch(En=>{var $t,Hn;throw(Hn=($t=H==null?void 0:H.platformDelegate)===null||$t===void 0?void 0:$t.endTraceOrSpan)===null||Hn===void 0||Hn.call($t,ke,{[Fe.ERROR]:`${En}`}),En})}).catch(St=>{var Mt;throw Mt=Ge,Z=Z.filter(kt=>kt.id!==Mt),K(H.bridgeInit),St})}o(s,"u");let I=null,M=null;function R(H,te,Oe){const ke=te.bridgeInit;if(M){const ct=I;return ke.fireEvent(r.OTHER,`Collab ${ct} is loading the controller, waiting for it to finish...`),M.then(()=>(ke.fireEvent(r.OTHER,`Collab ${ct} module loading complete`),R(H,te,Oe))).catch(St=>(ke.fireEvent(r.OTHER,`Collab ${ct} module loading failed`),R(H,te,Oe)))}if(ke.fireEvent(r.OTHER,"Loading controller module"),System.fork===void 0)return Promise.reject(Error("SystemJS is missing the fork() method"));const Ge=System.fork(globalThis);ke.fireEvent(r.OTHER,`controller module${System.isAlreadyLoaded(H)?" ":" not "}in systemjs cache`);const{span:ft,closeSpanFn:pt}=te.createBasicTraceSpan(Oe,Pe.LOAD_CONTROLLER_MODULE,{[Fe.JS_PREFETCH_ENABLED]:"true",[Fe.URL]:H});return M=g(H,"controller-module",te,ft).then(()=>{const{closeSpanFn:ct}=te.createBasicTraceSpan(ft,Pe.SYSTEMJS_IMPORT_MODULE,{[Fe.URL]:H}),St=[],Mt=new f.MutationObserver(kt=>{St.push(...B(kt))});return Mt.observe(f.document.head,{childList:!0}),Ge.import(H).then(()=>{ct(),ke.fireEvent(r.CONTROLLER_SYSTEMJS_MODULE_IMPORTED)}).catch(kt=>{ct(kt),St.push(...B(Mt.takeRecords()));let En=0;throw St.forEach($t=>{$t.onload=null,$t.onerror=null,$t.parentNode&&($t.parentNode.removeChild($t),En++)}),En>0&&ke.fireEvent(r.OTHER,`Cleaned up ${En} SystemJS script tags`),System.resetInstantiationCache()&&ke.fireEvent(r.OTHER,"SystemJS cache cleared"),kt}).finally(()=>{Mt.disconnect()})}).finally(()=>{pt(),I=null,M=null}),I=te.id,M}o(R,"S");function B(H){const te=[];return H.forEach(Oe=>{Oe.addedNodes.forEach(ke=>{ke instanceof f.HTMLScriptElement&&ke.getAttribute("systemjs")==="1"&&te.push(ke)})}),te}o(B,"N");let j=null,A=null;function D(){return typeof System=="object"&&typeof System.register=="function"}o(D,"A");function $(){if(!P)return f.console.warn("No import map data found"),[];const H=P.imports;return!H||typeof H!="object"?(f.console.warn("Imports property missing from importMapsData"),[]):Object.values(H).filter(te=>typeof te=="string"||te instanceof String)}o($,"m");const O={};let P,k;function K(H){k&&(k.remove(),k=void 0,H.fireEvent(r.OTHER,"Cleaned up import map script tag"))}o(K,"f");let Z=[],Y=!1,ie=null;class ge extends n{constructor(te,Oe){super(Oe),this.C=te,this.p=te.bridgeInit,this.R()}tearDown(){super.tearDown()}D(te){var Oe,ke;f.console.error("EmbeddedSameOriginBridgeTransport did not load",te),te&&f.console.error(te.stack),this.p.fireEvent(r.ERROR,`Failure constructing EmbeddedSameOriginBridgeTransport: ${te}`),(ke=(Oe=this.C.config.delegate)===null||Oe===void 0?void 0:Oe.didFailToInitialize)===null||ke===void 0||ke.call(Oe,"exception",te)}R(){var te,Oe,ke;const Ge=(ke=(Oe=(te=this.C.platformDelegate)===null||te===void 0?void 0:te.startTrace)===null||Oe===void 0?void 0:Oe.call(te,Pe.COLLAB_INIT,{[Fe.CONTROLLER_ID]:`${this.C.id}`}))!==null&&ke!==void 0?ke:null,ft=function(ct,St){const Mt=new f.FormData,{authToken:kt,userJwt:En,slackToken:$t,useCdnFallback:Hn,isGov:bt}=ct.config;kt&&Mt.append("oauth_token",kt),En&&Mt.append("user_jwt",En),$t&&Mt.append("token",$t);const Zn=ct.config.xhrWithCredentials===!0?"include":void 0,zn=v(`${Ee(ct)}/collab/controller-init?format=map`,{method:"POST",body:Mt,credentials:Zn},Pe.CONTROLLER_INIT,ct,St).then(Ei=>(ct.bridgeInit.fireEvent(r.CONTROLLER_INIT_DATA_FETCHED),Ei)),yi=f.window.QUIP_VERSION_NAME||"server",ei=new f.URLSearchParams([["version-name",yi]]);ct.config.enableSlackCDN&&ei.append("enable-slack-cdn","1"),ct.config.language&&ei.append("language-code",ct.config.language),Hn&&ei.append("cdn_fallback",`${ct.getAttemptNumber()}`),bt&&ei.append("serve_gov","1");let $n="POST";return ct.config.enableResourcesGet&&($n="GET"),ie=v(`${Ee(ct)}/collab/controller-resources?${ei.toString()}`,{method:$n,credentials:Zn},Pe.CONTROLLER_RESORCES,ct,St).then(Ei=>(ct.bridgeInit.fireEvent(r.CONTROLLER_RESOURCE_DATA_FETCHED),Ei)).catch(Ei=>(ie=null,ct.bridgeInit.fireEvent(r.ERROR,`controller-resources request failed: ${Ei}`),{module_loader_url:null,controller_entry_module_url:null,import_map:null})),Promise.all([zn,ie]).then(Ei=>{const[Pi,pi]=Ei;return Object.assign(Object.assign({},Pi),pi)})}(this.C,Ge),pt=s(this.C,ft,Ge);Promise.all([pt,ft]).then(ct=>{var St;const Mt=ct[0],kt=ct[1];Mt.main(kt.init_options,kt.preserialized,(St=this.C.config.slackToken)!==null&&St!==void 0?St:kt.oauth_token,this.C.config.slackToken?null:kt.oauth_token_expiry,Ee(this.C),this.destinationFn(),kt.js_initializer,kt.user_id,this.C.config.xhrWithCredentials,this.C.config.enableWebCaching?kt.web_cache_key:void 0,this.C.config.enableWebCaching?kt.web_cache_key_version:void 0,this.C.config.requestsAreCors,kt.body_classes,kt.css_url,!!this.C.config.useGraftedMode,this.C.config.pathRewriteHook),this.p.fireEvent(r.BRIDGE_TRANSPORT_READY)}).catch(ct=>this.D(ct)).finally(()=>{var ct,St;(St=(ct=this.C.platformDelegate)===null||ct===void 0?void 0:ct.endTraceOrSpan)===null||St===void 0||St.call(ct,Ge)})}logError(te){this.p.fireEvent(r.ERROR,te)}}o(ge,"P");class Ie{constructor(te){this.embeddedSide=new ge(te,()=>this.controllerSide),this.controllerSide=new n(()=>this.embeddedSide)}}o(Ie,"U");function le(H,te){let Oe=null;for(const ke of function(Ge){const ft=[];for(const pt of Object.keys(Ge))isNaN(Number(pt))&&ft.push(pt);return ft}(H))H[ke]===te&&(Oe=ke);return Oe||(Oe=String(te)),Oe+=` (${te})`,Oe}o(le,"g");const we={[e.INCOMING]:"ToEmbedded",[e.OUTGOING]:"FromEmbedded",[e.INCOMING_REPLY]:"ReplyToEmbedded",[e.OUTGOING_REPLY]:"ReplyFromEmbedded"},Be=[h.Op.DID_INITIALIZE,h.Op.DID_FAIL_TO_INITIALIZE],Re=[m.Op.INIT];class Ne{constructor(te,Oe){this.v=te,this.M=Oe,this.L=[],this.P=[],this.U={[we[e.INCOMING]]:{},[we[e.OUTGOING_REPLY]]:{},[we[e.OUTGOING]]:{},[we[e.INCOMING_REPLY]]:{}}}getHook(){const te=this.L,Oe=this.P,ke=this.U;return(Ge,ft,pt)=>{var ct,St;const Mt={ts:Date.now(),op:Ge,message:ft,type:pt},kt=Ze(pt,Ge);if((ct=(St=ke[we[pt]])[kt])!==null&&ct!==void 0||(St[kt]=0),ke[we[pt]][kt]+=1,te.length>=30)for(Oe.push(Mt);Oe.length>20;)Oe.shift();else te.push(Mt)}}getReport(te=!0){var Oe;return{collabInstanceId:this.v,collabInstanceTeamId:(Oe=this.M)!==null&&Oe!==void 0?Oe:"not_provided",reportTimestamp:Date.now(),messageCounts:this.U,startupLog:_e(this.L,te),recentLog:_e(this.P,te)}}}o(Ne,"y");function _e(H,te=!0){return H.map(Oe=>{const ke={op:Ze(Oe.type,Oe.op),type:we[Oe.type]};var Ge,ft;return te&&(Ge=Oe.type,ft=Oe.op,!([e.INCOMING,e.OUTGOING_REPLY].includes(Ge)?Be.includes(ft):Re.includes(ft)))||(ke.message=Oe.message),te||(ke.ts=Oe.ts),ke})}o(_e,"B");function Ze(H,te){return[e.INCOMING,e.OUTGOING_REPLY].includes(H)?le(h.Op,te):le(m.Op,te)}o(Ze,"H");class tt{constructor(te){this.p=te.bridgeInit,this.F=function(Oe){return new Ie(Oe).embeddedSide}(te),this.B=new Ne(te.id,te.config.teamId),this.p.fireEvent(r.BRIDGE_TRANSPORT_SET),this.F.setTransportHook(this.B.getHook())}init(te){this.p.after([r.BRIDGE_TRANSPORT_SET,r.BRIDGE_TRANSPORT_READY,r.HANDLER_REGISTRATION_FINISHED],()=>{this.invoke(m.Op.INIT,te),this.p.fireEvent(r.INIT_SENT)})}tearDown(){this.F.tearDown()}invoke(te,Oe){const ke=te==m.Op.INIT,Ge=o(()=>{this.F.invoke(te,Oe),ke||this.p.fireEvent(r.MESSAGE_SENT,`Op ${te}`)},"n");ke?Ge():this.p.after([r.BRIDGE_OPEN],Ge,`Send op ${te}`)}addHandler(te,Oe){this.F.addHandler(te,te===h.Op.DID_INITIALIZE?Oe:ke=>{this.p.after([r.BRIDGE_OPEN],()=>{Oe(ke),this.p.fireEvent(r.MESSAGE_HANDLED,`Op ${te}`)},`Handle op ${te}`)})}getDebugReport(te=!0){return this.B.getReport(te)}}o(tt,"G");class $e{constructor(te,Oe){this.H=new WeakMap,this.G=te,this.$=Oe}get(){const te=this.G.get();return this.K(te)}getAsync(){return this.G.getAsync().then(te=>this.K(te))}listen(te){let Oe=this.H.get(te);Oe||(Oe=o((ke,Ge)=>{te(this.K(ke),this.$(Ge))},"e"),this.H.set(te,Oe)),this.G.listen(Oe)}once(te){let Oe=this.H.get(te);Oe||(Oe=o((ke,Ge)=>{te(this.K(ke),this.$(Ge))},"e"),this.H.set(te,Oe)),this.G.once(Oe)}unlisten(te){const Oe=this.H.get(te);Oe&&this.G.unlisten(Oe)}K(te){if(te!==void 0)return this.$(te)}}o($e,"$");class at{constructor(te,Oe){this.G=te,this.V=Oe}get(){return this.G.get()}getAsync(){const te=this.G.getAsync();return new Promise((Oe,ke)=>{te.then(Ge=>{Ge?Oe(Ge):this.G.once((ft,pt)=>{Oe(pt??this.V)})}).catch(ke)})}listen(te){this.G.listen(te)}unlisten(te){this.G.unlisten(te)}once(te){this.G.once(te)}}o(at,"K");var lt;(function(H){H[H.DOC_DISPLAY_TITLE=0]="DOC_DISPLAY_TITLE",H[H.DOC_UPDATED_USEC=1]="DOC_UPDATED_USEC",H[H.DOC_EMBED_SCROLL_POSITION=2]="DOC_EMBED_SCROLL_POSITION",H[H.DOC_BLOCK_KIT_THUMBNAIL=3]="DOC_BLOCK_KIT_THUMBNAIL",H[H.SECTION_SNIPPET=4]="SECTION_SNIPPET",H[H.CANNED_DOC_NAME=5]="CANNED_DOC_NAME",H[H.DOC_IS_EMPTY=6]="DOC_IS_EMPTY",H[H.DOC_LAST_UPDATED_USER_ID=8]="DOC_LAST_UPDATED_USER_ID",H[H.A11Y_READ_ONLY_MODE=9]="A11Y_READ_ONLY_MODE",H[H.DOC_EMBED_FOCUS_STATE=10]="DOC_EMBED_FOCUS_STATE",H[H.DOC_EMBED_SELECTION_STATE=11]="DOC_EMBED_SELECTION_STATE",H[H.TEXT_SECTION_OVERLAY_SHOWING=12]="TEXT_SECTION_OVERLAY_SHOWING",H[H.DOC_HAS_FILE_UNFURLS=13]="DOC_HAS_FILE_UNFURLS"})(lt||(lt={}));const ot=new WeakMap;class Gt{constructor(te={}){this.Y=new Set,this.W=te}add(te,Oe){if(!this.Y.has(te)&&(this.Y.add(te),Oe&&ot.set(te,Oe),this.Y.size===1)){const{didStartHavingListeners:ke}=this.W;ke&&ke()}}addOneShot(te,Oe){const ke=o((...Ge)=>{this.remove(ke),te.apply(f.window,Ge)},"s");this.add(ke,Oe)}remove(te){if(this.Y.delete(te)&&this.Y.size===0){const{didStopHavingListeners:Oe}=this.W;Oe&&Oe()}}removeAll(){this.Y.forEach(te=>this.remove(te))}empty(){return this.Y.size===0}notify(...te){if(this.Y.size===0)return;const{notifyDecorator:Oe,catchError:ke}=this.W;let Ge;Oe&&(Ge=Oe());const ft=Array.from(this.Y);for(let pt=0;pt<ft.length;pt++)if(ke)try{ft[pt].apply(f.window,te)}catch(ct){ke(ct)}else ft[pt].apply(f.window,te);Ge&&Ge.clear()}debugGetDescriptions(){return Array.from(this.Y,(te,Oe)=>ot.get(te)||`<anonymous-${Oe}>`)}}o(Gt,"j");class Zt{constructor(te,Oe,ke,Ge=!1){this.J=te,this.X=Oe,this.Z=ke,this.q=Ge;const ft=o((pt,ct)=>{this.Y.notify(pt,ct)},"n");this.Y=new Gt({didStartHavingListeners:()=>this.Z.addListener(te,Oe,ft),didStopHavingListeners:()=>{this.Z.removeListener(te,Oe,ft),this.q||this.Z.cleanupStorage(te,Oe)}})}get(){return this.Z.getValue(this.J,this.X)}getAsync(){return this.Z.getValueAsync(this.J,this.X)}listen(te){this.Y.add(te)}unlisten(te){this.Y.remove(te)}unlistenAll(){this.Y.removeAll()}once(te){this.Y.addOneShot(te)}}o(Zt,"Y");class un{constructor(te){this.Y=new Gt,this.tt=te}set(te){const Oe=this.tt;this.tt=te,this.Y.notify(Oe,te)}get(){return this.tt}getAsync(){return Promise.resolve(this.get())}listen(te){this.Y.add(te)}unlisten(te){this.Y.remove(te)}once(te){this.Y.addOneShot(te)}}o(un,"W");class Un{constructor(te){this.et=new Map,this.C=te}didCreateDoc(te,Oe){const ke=this.et.get(te);ke?(this.et.set(Oe,ke),ke.idInternal.set(Oe)):f.console.warn(`Could not find doc mapped to ID ${te}`)}didDeleteDoc(te){const Oe=this.et.get(te);Oe==null||Oe.deletedInternal.set(!0)}create(te={}){const{title:Oe,cannedDoc:ke,context:Ge,usesOnlyInlineTextComments:ft}=te;return this.controllerAccess.docs.createDoc(Oe,ke,Ge,ft).then(pt=>this.get(pt))}get(te){let Oe=this.et.get(te);return Oe||(Oe=new jn(te,this.C),this.et.set(te,Oe)),Oe}get controllerAccess(){return this.C.controllerAccess}setEditsDisabled(te,Oe){for(const ke of fn.values())ke.doc().id.get()===te&&ke.docEditor.setEditsDisabled(Oe);this.controllerAccess.docs.reloadThread(te)}getBlockKitThumbnail(te,Oe=!0,ke){const Ge=ht(this.C),ft=ke?`${te}/${ke}`:te;return new at(new Zt(lt.DOC_BLOCK_KIT_THUMBNAIL,ft,Ge,!0),'{"blocks": []}').getAsync().then(JSON.parse).then(pt=>(Oe&&pt.blocks.length>0&&pt.blocks.shift(),pt))}getCannedDocName(te){const Oe=ht(this.C);return new at(new Zt(lt.CANNED_DOC_NAME,te,Oe,!0),"").getAsync().then(ke=>ke.length===0?null:ke)}getSectionSnippet(te){const Oe=ht(this.C);return new at(new Zt(lt.SECTION_SNIPPET,te,Oe,!0),"").getAsync()}setDebugOption(te,Oe){this.controllerAccess.docs.setDebugOption(te,Oe)}findSlackObject(te,Oe,ke){return this.controllerAccess.docs.findSlackObject(te,Oe,ke)}insertSlackObject(te,Oe,ke,Ge,ft){return this.controllerAccess.docs.insertSlackObject(te,Oe,ke,Ge,ft)}editLink(te,Oe,ke){this.controllerAccess.docs.editLink(te,Oe,ke)}loadData(te,Oe){return this.controllerAccess.docs.loadData([te],Oe)}it(){return Ke(this.C)}}o(Un,"J");class jn{constructor(te,Oe){this.st=null,this.id=this.idInternal=new un(te),this.C=Oe;const ke=ht(this.C);this.title=new Zt(lt.DOC_DISPLAY_TITLE,te,ke),this.lastUpdated=new $e(new Zt(lt.DOC_UPDATED_USEC,te,ke,!0),Ge=>new Date(Ge/1e3)),this.lastUpdatedUsec=new Zt(lt.DOC_UPDATED_USEC,te,ke,!0),this.lastUpdatedSlackUserId=new Zt(lt.DOC_LAST_UPDATED_USER_ID,te,ke,!0),this.deleted=this.deletedInternal=new un(!1),this.isEmpty=new Zt(lt.DOC_IS_EMPTY,te,ke,!0),this.hasPerformedEditingAction=new un(!1),this.hasFileUnfurls=new Zt(lt.DOC_HAS_FILE_UNFURLS,te,ke,!0)}getBlockKitThumbnailValue(){if(!this.st&&this.isCreated()){const te=ht(this.C);this.st=new $e(new Zt(lt.DOC_BLOCK_KIT_THUMBNAIL,this.idInternal.get(),te,!0),JSON.parse)}return this.st}embed(te,Oe={mode:"editor",templateOptions:{allowTemplateOverlay:!1}}){let ke=ci.get(te);return ke||(ke=new gi(this,te,Oe,this.C),ci.set(te,ke),ke.mount()),ke.doc()!==this&&f.console.error("There was a different document embedded in the container",te),ke}isCreated(){return!this.idInternal.get().startsWith("temp:")}}o(jn,"X");const ci=new WeakMap,fn=new Map,ri={mode:"editor"};class gi{constructor(te,Oe,ke,Ge){this.rendered=new un(!1),this.incrementalRendered=new un(!1),this.failedToLoad=new un(!1),this.loadInfo=new un(void 0),this.editingActionPerformed=new un(!1),this.loadError=new un(void 0),this.editorContainer=new un(void 0),this.nt=!1,this.rt=!1,this.ot=[],this.lt=te,this.Et=Oe,this.W=Object.assign(Object.assign({},ri),ke),this.C=Ge,this.ht=`${Ti}-${this.C.id}-${Bi++}`,this._t=function(){const ft=f.document.createElement("div");return ft.classList.add("collab-root"),ft}(),this.at(lt.DOC_EMBED_SCROLL_POSITION),this.scrollPosition=this.at(lt.DOC_EMBED_SCROLL_POSITION),this.focusState=this.at(lt.DOC_EMBED_FOCUS_STATE),this.selectionState=this.at(lt.DOC_EMBED_SELECTION_STATE),this.a11yReadOnlyMode=this.at(lt.A11Y_READ_ONLY_MODE),this.textSectionOverlayShowing=this.at(lt.TEXT_SECTION_OVERLAY_SHOWING),this.controllerAccess.run(()=>{this.ct=this.controllerAccess.docs.getDocEditor(this.ht)})}get docEditor(){if(!this.ct)throw new Error("DocEditor object not set");return this.ct}get controllerAccess(){return this.C.controllerAccess}at(te){const Oe=ht(this.C),ke=new Zt(te,this.ht,Oe,!1);return this.ot.push(ke),ke}onEditorLoadError(te){this.failedToLoad.set(!0),this.loadError.set(te)}didLoadModel(te){this.loadInfo.set(te)}didRender(te){this.rendered.set(!0),this.failedToLoad.set(!1),this.loadError.set(void 0),this.editorContainer.set(te)}didFinishIncrementalRender(){this.incrementalRendered.set(!0)}didPerformEditingAction(){this.editingActionPerformed.set(!0)}doc(){return this.lt}docId(){return this.lt.id.get()}containerElement(){return this.Et}frameName(){return this.ht}mount(){if(fn.set(this.ht,this),!this.rt){const te=this._t;te.style.visibility="hidden",this.Et.appendChild(te);let Oe=te.ownerDocument.defaultView;Oe||(f.console.warn(`Mounting ${this.ht} into element with no window`),Oe=f.window),this.nt=!0,this.controllerAccess.run(()=>{this.docEditor.createdViewFrame(te)}),te.style.visibility="visible",this.rt&&this.dt(),this.rt=!0}this.nt&&this.dt()}unmount(){this.nt&&(this.ut(),this.rendered.set(!1),this.incrementalRendered.set(!1),this.failedToLoad.set(!1),this.loadError.set(void 0),this.nt=!1),this.rt&&(ci.delete(this.Et),this._t.remove(),this.rt=!1),fn.delete(this.ht),this.ot.forEach(te=>te.unlistenAll())}it(){return Ke(this.C)}dt(){this.controllerAccess.run(()=>{this.docEditor.renderDoc(this.lt.id.get(),this.W)})}ut(){this.controllerAccess.run(()=>{this.docEditor.cleanupViewFrame()})}setCommentsUiProvider(te){this.commentsUiProvider=te,te==null||te.setDelegate(this.docEditor)}setAutocompleteUiProvider(te){this.autocompleteUiProvider=te,te==null||te.setDelegate(this.docEditor)}setPermalinkUiProvider(te){this.permalinkUiProvider=te}setEmbeddedUiProvider(te){this.embeddedUiProvider=te}setErrorUiProvider(te){this.errorUiProvider=te}}o(gi,"z");class Nn{constructor(te){this.Ot=te}getFrameByName(te){return this.Ot.get(te)}withFrame(te,Oe){const ke=this.getFrameByName(te);ke||f.console.warn(`Could not find a frame with name ${te}.`),Oe(ke)}}o(Nn,"Q");const Ti=`collab-doc-${(1e3*Math.random()).toString(36)}`;let Bi=0;class vn{constructor(){this.Tt=[],this.St=!1}get docs(){return this.Nt}get settings(){return this.It}get providers(){return this.Lt}run(te){this.St?te():this.Tt.push(te)}setObjects({docs:te,settings:Oe,providers:ke}){this.St=!0,this.Nt=te,this.It=Oe,this.Lt=ke;for(const Ge of this.Tt)Ge();this.Tt=[]}}o(vn,"it");let Mn=0;class Ot{constructor(te){this.id=Mn++,this.o=!1,this.At=!1,this.config=te,this.platformDelegate=te.delegate,this.bridgeInit=Ot.Ct(`embedded ${this.id}`);const Oe=new tt(this);gt.set(this,Oe),this.controllerAccess=new vn,this.docs=new Un(this),this.failedToInitialize=new un(!1),this.initializationError=new un(void 0),this.Rt()}Rt(){if(this.o)return void this.bridgeInit.fireEvent(r.ERROR,"Collab instance initialized more than once");const{appearance:te,language:Oe,delegate:ke,commentsDataProvider:Ge,bookmarksDataProvider:ft,fileDataProvider:pt,slackObjectProvider:ct,features:St,documentEventProvider:Mt,underlineAllLinks:kt,enableAnimations:En,displayEmojiAsPlainText:$t,embeddedConfigProvider:Hn,embeddedUiProvider:bt,topLevelTeamId:Zn,anchorLinkProvider:zn,slackObjectUIProvider:yi,slackTextyHtmlConversionProvider:ei,useSmartQuotesAndDashes:$n,atomStorageProvider:Ei}=this.config,Pi=this.it();Pi.init({features:St,delegate:ke,anchorLinkProvider:zn,bookmarksDataProvider:ft,commentsDataProvider:Ge,documentEventProvider:Mt,fileDataProvider:pt,slackObjectProvider:ct,slackObjectUIProvider:yi,slackTextyHtmlConversionProvider:ei,mountedFrameProvider:new Nn(fn),embeddedAccessDelegate:this.controllerAccess,docs:this.docs}),this.controllerAccess.run(()=>{this.atomClient=this.controllerAccess.providers.getAtomClient(Ei)});const pi=new a;var di,wi;pi.add(()=>{te&&this.ft(te),Oe&&this.Dt(Oe),kt!==void 0&&this.setUnderlineAllLinks(kt),En!==void 0&&this.setEnableAnimations(En),$t!==void 0&&this.setDisplayEmojiAsPlainText($t),Zn&&this.vt(Zn),$n!==void 0&&this.setUseSmartQuotesAndDashes($n)}),function(tn,si,Qn){if(!Qn)return;const Di=Qn.supportedAutocompleteTypes;Di&&si.add(()=>{tn.providers.registerAutocompleteTypes(Di)}),tn.run(()=>Qn.setDelegate(tn.providers.getSlackObjectProviderDelegate()))}(this.controllerAccess,pi,ct),function(tn,si={},Qn,Di,io=mi=>{}){tn.addHandler(h.Op.DID_INITIALIZE,()=>{var mi;(mi=si.didInitialize)===null||mi===void 0||mi.call(si),Qn.run(),Di.fireEvent(r.DID_INIT_RECEIVED)}),tn.addHandler(h.Op.DID_FAIL_TO_INITIALIZE,({initError:mi})=>{var Br;io(mi),(Br=si.didFailToInitialize)===null||Br===void 0||Br.call(si,mi)})}(Pi,ke,pi,this.bridgeInit,tn=>{this.Mt(!0,tn)}),di=this.controllerAccess,wi=Ge,di.run(()=>{wi==null||wi.setDelegate(di.providers.getCommentsDataProviderDelegate())}),function(tn,si){tn.run(()=>{si==null||si.setDelegate(tn.providers.getBookmarksDataProviderDelegate())})}(this.controllerAccess,ft),function(tn,si){tn.run(()=>si==null?void 0:si.setDelegate(tn.providers.getDocumentEventProviderDelegate()))}(this.controllerAccess,Mt),function(tn,si,Qn){Qn&&si.add(()=>{tn.providers.registerEmbeddedUiProvider(Qn.config())})}(this.controllerAccess,pi,Hn||bt),this.o=!0,this.bridgeInit.fireEvent(r.HANDLER_REGISTRATION_FINISHED)}Mt(te,Oe){const ke=this.failedToInitialize,Ge=this.initializationError;ke.set(te),Ge.set(Oe)}static Ct(te){const Oe=new l(te);return Oe.after([r.BRIDGE_TRANSPORT_SET,r.BRIDGE_TRANSPORT_READY,r.INIT_SENT,r.DID_INIT_RECEIVED,r.HANDLER_REGISTRATION_FINISHED],()=>{Oe.fireEvent(r.BRIDGE_OPEN)}),Oe}controllerModuleUrls(){return $()}preload(){return!this.At&&($().forEach(te=>{if(!O[te]){const Oe=f.document.createElement("link");Oe.rel="preload",Oe.as="script",Oe.href=te,Oe.crossOrigin="anonymous",O[te]=Oe,f.document.head.appendChild(Oe)}}),this.At=!0,!0)}tearDown(){this.it().tearDown(),gt.delete(this),this.Mt(!1),this.o=!1}createBasicTraceSpan(te,Oe,ke){var Ge,ft,pt;const ct=(pt=(ft=(Ge=this.platformDelegate)===null||Ge===void 0?void 0:Ge.startSpan)===null||ft===void 0?void 0:ft.call(Ge,te,Oe,ke))!==null&&pt!==void 0?pt:null;return ct?{span:ct,closeSpanFn:St=>{var Mt,kt;(kt=(Mt=this.platformDelegate)===null||Mt===void 0?void 0:Mt.endTraceOrSpan)===null||kt===void 0||kt.call(Mt,ct,St?{[Fe.ERROR]:`${St}`}:{})}}:{span:null,closeSpanFn:()=>{}}}getAttemptNumber(){var te;return(te=this.config.attemptNumber)!==null&&te!==void 0?te:0}preloadThreads(te,Oe){this.controllerAccess.run(()=>this.controllerAccess.docs.preloadData(te,Oe))}setAppearance(te){this.config.appearance=te,this.ft(te)}setLanguage(te){this.config.language=te}setAppKeyboardFocusModeEnabled(te,Oe){this.Pt(te,Oe)}ft(te){this.controllerAccess.settings.setAppearance(te)}Dt(te){this.controllerAccess.settings.setLanguage(te)}Pt(te,Oe){this.controllerAccess.settings.setAppKeyboardFocusModeEnabled(te,Oe)}vt(te){this.controllerAccess.settings.setDefaultTeamId(te)}setUnderlineAllLinks(te){this.controllerAccess.settings.setUnderlineLinks(te)}setEnableAnimations(te){this.controllerAccess.settings.setEnableAnimations(te)}setDisplayEmojiAsPlainText(te){this.controllerAccess.settings.setDisplayEmojiAsPlainText(te)}setUseSmartQuotesAndDashes(te){this.controllerAccess.settings.setUseSmartQuotesAndDashes(te)}async getInitLog(te){return Object.assign(Object.assign({},await this.bridgeInit.getInitLog(te)),{lm:"SYSTEMJS_SCRIPT_CONTROLLER",dr:!0})}async getInitLogStr(te){for(let Oe=l.MAX_INIT_LOG;Oe>=0;Oe--){const ke=JSON.stringify(await this.getInitLog(Oe));if(ke.length<=te)return ke}return"Failed to generate"}getDebugReport(te){return this.getBridgeDebugReport(te)}getBridgeDebugReport(te=!0){return this.it().getDebugReport(te)}it(){return gt.get(this)}}o(Ot,"nt");function Ke(H){return gt.get(H)}o(Ke,"rt");const gt=new Map;function ht(H){return H.atomClient}o(ht,"lt");const en=f.document.querySelector("script[src*='/collab/embedded.js']"),Kn=en==null?void 0:en.src,li=Kn?new f.URL(Kn).origin:"https://prod.slack.quip.systems";function Ee(H){return H.config.origin||li}o(Ee,"at");var Pe,Fe;(function(H){H.COLLAB_INIT="collab-init",H.CONTROLLER_INIT="controller-init",H.CONTROLLER_RESORCES="controller-resources",H.HTTP_FETCH_HEADER="http-fetch-header",H.HTTP_FETCH_CONTENT="http-fetch-content",H.JSON_PARSE="json-parse",H.LOAD_CONTROLLER="load-controller",H.AWAIT_CALLBACK="await-callback",H.LOAD_SYSTEMJS="load-systemjs",H.MODULE_PREFETCH="module-prefetch",H.SCRIPT_TAG="script-tag",H.LOAD_CONTROLLER_MODULE="load-controller-module",H.SYSTEMJS_IMPORT_MODULE="systemjs-import-module"})(Pe||(Pe={})),function(H){H.CONTROLLER_ID="controller-id",H.ERROR="error",H.JS_PREFETCH_ENABLED="js-prefetch-enabled",H.URL="url"}(Fe||(Fe={}));const Dt=(()=>{if(typeof S=="object")return S;if(typeof f.window=="object")return f.window;if(typeof f.self=="object")return f.self;throw new Error("Cannot find global")})();function zt(H,te,Oe){const ke=H.split(".");let Ge=Oe||Dt;for(let ft=0;ft<ke.length;ft++){const pt=ke[ft];ft===ke.length-1?Ge[pt]=te:(pt in Ge||(Ge[pt]={}),Ge=Ge[pt])}}o(zt,"Ot");var Ut,bn,wn,pn,xt,Vn,on,Xn,vi,kr,Gr,Lr,hi,_r,Ii,Nr,or,fi,Er,oi,tr,Jn,sr,$i,Tr,Ir,Ki,Or;(function(H){H[H.IN_APP_USER_INITIATED=0]="IN_APP_USER_INITIATED",H[H.PERMALINK=1]="PERMALINK",H[H.POPOUT=2]="POPOUT"})(Ut||(Ut={})),function(H){H.BOLD="bold",H.ITALIC="italic",H.UNDERLINE="underline",H.STRIKETHROUGH="strikethrough",H.CODE="code",H.SUBSCRIPT="subscript",H.SUPERSCRIPT="superscript",H.LINK="link"}(bn||(bn={})),function(H){H.PLAIN="plain",H.H1="h1",H.H2="h2",H.H3="h3",H.CODE="code",H.BLOCKQUOTE="blockquote",H.LIST_BULLET="list_bullet",H.LIST_NUMBERED="list_numbered",H.LIST_CHECKLIST="list_checklist"}(wn||(wn={})),function(H){H.TODO_LISTS="todo_lists",H.LINKS_N_RESOURCES="links_and_resources",H.MEETING_NOTES="meeting_notes",H.BLANK_PAGE="blank_page"}(pn||(pn={})),function(H){H.CACHE="cache",H.MEMORY="memory",H.NETWORK="network"}(xt||(xt={})),function(H){H.NONE="none",H.SCROLL_TO_SECTION="scroll_to_section",H.FOCUS_SECTION="focus_section"}(Vn||(Vn={})),function(H){H[H.ANY=1]="ANY",H[H.ON_MOUSE_LEAVE=2]="ON_MOUSE_LEAVE"}(on||(on={})),function(H){H[H.COMMENTS=0]="COMMENTS",H[H.FILE_UPLOADS=1]="FILE_UPLOADS",H[H.DOCUMENT_EVENTS=2]="DOCUMENT_EVENTS",H[H.SPREADSHEETS=3]="SPREADSHEETS",H[H.HOVERCARDS=4]="HOVERCARDS",H[H.LINK_UNFURL=5]="LINK_UNFURL",H[H.UNREAD_COMMENTS=6]="UNREAD_COMMENTS",H[H.REMINDERS=7]="REMINDERS",H[H.DOCUMENT_UPDATE=8]="DOCUMENT_UPDATE",H[H.FLEXBOX_COLLAB=9]="FLEXBOX_COLLAB",H[H.SLACK_WORKFLOW_BUTTON_PROTOTYPE=10]="SLACK_WORKFLOW_BUTTON_PROTOTYPE",H[H.DOPE_TABLE=11]="DOPE_TABLE",H[H.UI_PARITY=12]="UI_PARITY",H[H.MOBILE_DOCUMENT_EDITING=13]="MOBILE_DOCUMENT_EDITING",H[H.MOBILE_IMAGE_LOADING=14]="MOBILE_IMAGE_LOADING",H[H.GALLERY_LAYOUT=15]="GALLERY_LAYOUT",H[H.ANCHOR_LINKS=16]="ANCHOR_LINKS",H[H.IMAGE_EMBEDS=17]="IMAGE_EMBEDS",H[H.IMAGE_CAPTION=18]="IMAGE_CAPTION",H[H.EMBEDS_DRAG_HANDLE=19]="EMBEDS_DRAG_HANDLE",H[H.SLACK_AUTOCOMPLETE=20]="SLACK_AUTOCOMPLETE",H[H.SHARE_ANCHOR_LINK=21]="SHARE_ANCHOR_LINK",H[H.DOCUMENT_SLASH_COMMANDS=23]="DOCUMENT_SLASH_COMMANDS",H[H.DRAG_AND_DROP_MAX_DISTANCE=24]="DRAG_AND_DROP_MAX_DISTANCE",H[H.APP_UNFURL_NON_IFRAME_RENDERS=25]="APP_UNFURL_NON_IFRAME_RENDERS",H[H.A11Y_KEYBOARD_NAVIGATION=28]="A11Y_KEYBOARD_NAVIGATION",H[H.INSERT_TOOLBAR=29]="INSERT_TOOLBAR",H[H.MENTIONS_SHARE=30]="MENTIONS_SHARE",H[H.TEXT_IN_GALLERY_LAYOUT=31]="TEXT_IN_GALLERY_LAYOUT",H[H.AUTOSIZE_FLEXBOX=32]="AUTOSIZE_FLEXBOX",H[H.FORMATTING_TOOLBAR=33]="FORMATTING_TOOLBAR",H[H.UI_PARITY_SLACK_LINK_INSPECTOR=34]="UI_PARITY_SLACK_LINK_INSPECTOR",H[H.PREVENT_OBJECTS_IN_LISTS=35]="PREVENT_OBJECTS_IN_LISTS",H[H.ANCHOR_LINKS_UNFURL=36]="ANCHOR_LINKS_UNFURL",H[H.DISALLOW_SECTION_COMMENTS=37]="DISALLOW_SECTION_COMMENTS",H[H.SECTION_TOOLBAR_ON_LEFT=38]="SECTION_TOOLBAR_ON_LEFT",H[H.MOBILE_WEBVIEW_UNFURLS=39]="MOBILE_WEBVIEW_UNFURLS",H[H.INLINE_COMMENTS=40]="INLINE_COMMENTS",H[H.UNIVERSAL_DRAG_PREVIEW=41]="UNIVERSAL_DRAG_PREVIEW",H[H.DISABLE_GLOBAL_SHORTCUTS=42]="DISABLE_GLOBAL_SHORTCUTS",H[H.NARROW_COLLAB_INDENTATION=43]="NARROW_COLLAB_INDENTATION",H[H.EXPANDED_FLEXBOX_MARGIN=44]="EXPANDED_FLEXBOX_MARGIN",H[H.ADD_COLUMN_FROM_SECTION_MENU=45]="ADD_COLUMN_FROM_SECTION_MENU",H[H.REQUEST_COMPLETION_HOOK=46]="REQUEST_COMPLETION_HOOK",H[H.A11Y_CARET=47]="A11Y_CARET",H[H.BOOKMARKS=48]="BOOKMARKS",H[H.GRIDLIKE_DRAG_AND_DROP_PLACEMENT=50]="GRIDLIKE_DRAG_AND_DROP_PLACEMENT",H[H.SLACK_MESSAGE_TITLE=51]="SLACK_MESSAGE_TITLE",H[H.LENIENT_STARTUP=52]="LENIENT_STARTUP",H[H.ALLOW_SELECTING_ARCHIVED_COMMENTS=53]="ALLOW_SELECTING_ARCHIVED_COMMENTS",H[H.ANIMATE_LAYOUT_DRAG=54]="ANIMATE_LAYOUT_DRAG",H[H.STATIC_TITLES=55]="STATIC_TITLES",H[H.PROFILE_UNFURLS=56]="PROFILE_UNFURLS",H[H.DISABLE_PERSISTING_CLIENT_USER_DOCUMENT_OVERLAY_UPDATES=57]="DISABLE_PERSISTING_CLIENT_USER_DOCUMENT_OVERLAY_UPDATES",H[H.MOBILE_NATIVE_UNFURLS=58]="MOBILE_NATIVE_UNFURLS",H[H.DEFAULT_UNFURLS_ON_PASTE=59]="DEFAULT_UNFURLS_ON_PASTE",H[H.SAVED_FOR_LATER=60]="SAVED_FOR_LATER",H[H.COMMENTS_REDESIGN=61]="COMMENTS_REDESIGN",H[H.SLACK_USER_CONTEXT_MENU=62]="SLACK_USER_CONTEXT_MENU",H[H.SLACK_OBJECT_CONTROL_CONTEXT_MENUS=63]="SLACK_OBJECT_CONTROL_CONTEXT_MENUS",H[H.JS_MODULE_PREFETCH=64]="JS_MODULE_PREFETCH",H[H.SLACK_SECTION_MENUS=65]="SLACK_SECTION_MENUS",H[H.PADDING_RESIZING=66]="PADDING_RESIZING",H[H.HOVERABLE_SECTION_MENU=68]="HOVERABLE_SECTION_MENU",H[H.SLACK_PRESENCE_UPDATES=69]="SLACK_PRESENCE_UPDATES",H[H.HIDE_INLINE_COMMENT_BUBBLES=70]="HIDE_INLINE_COMMENT_BUBBLES",H[H.HIDE_ADD_COMMENT_BUBBLE=71]="HIDE_ADD_COMMENT_BUBBLE",H[H.HYPERLINK_CONTEXT_MENU=72]="HYPERLINK_CONTEXT_MENU",H[H.UNIVERSAL_DRAG_PREVIEW_EMBEDDED_UI=73]="UNIVERSAL_DRAG_PREVIEW_EMBEDDED_UI",H[H.LOCK_SECTION_FOR_INLINE_ANNOTATION=74]="LOCK_SECTION_FOR_INLINE_ANNOTATION",H[H.EDITABLE_CONTROL=75]="EDITABLE_CONTROL",H[H.OPEN_ANNOTATION_TAB_IN_FOCUSED_SECTION=76]="OPEN_ANNOTATION_TAB_IN_FOCUSED_SECTION",H[H.MOVE_CARET_WHEN_OPENING_ANNOTATION=77]="MOVE_CARET_WHEN_OPENING_ANNOTATION",H[H.EMBEDDED_LINK_INSPECTOR_TOOLBAR=78]="EMBEDDED_LINK_INSPECTOR_TOOLBAR",H[H.DISABLE_TITLE_UNFURL=79]="DISABLE_TITLE_UNFURL",H[H.HIDE_STUB_ANNOTATIONS=80]="HIDE_STUB_ANNOTATIONS",H[H.OBSERVE_CONTENT_OUTSIDE_SECTION_MUTATIONS=81]="OBSERVE_CONTENT_OUTSIDE_SECTION_MUTATIONS",H[H.USE_EXTERNAL_EDITOR_SAVE=82]="USE_EXTERNAL_EDITOR_SAVE",H[H.IMPROVED_WORD_WRAPPING=83]="IMPROVED_WORD_WRAPPING",H[H.HIGHLIGHT_TEXT_WITH_SECTION_LEVEL_COMMENTS=84]="HIGHLIGHT_TEXT_WITH_SECTION_LEVEL_COMMENTS",H[H.USE_NEW_FIND_MODAL=85]="USE_NEW_FIND_MODAL",H[H.DISPLAY_COMMENT_TOOLTIP=86]="DISPLAY_COMMENT_TOOLTIP",H[H.HIDE_SLACK_SECTION_HIGHLIGHT_FOR_OPEN_COMMENT=87]="HIDE_SLACK_SECTION_HIGHLIGHT_FOR_OPEN_COMMENT",H[H.SLACK_FILE_UNFURL_PLACEHOLDER=88]="SLACK_FILE_UNFURL_PLACEHOLDER",H[H.PRIORITIZE_OPENING_ANNOTATIONS_OVER_LINKS=89]="PRIORITIZE_OPENING_ANNOTATIONS_OVER_LINKS",H[H.CLEANUP_SENTINEL=90]="CLEANUP_SENTINEL",H[H.OPEN_COMMENTS_HIGHLIGHT_TEMPORARY=91]="OPEN_COMMENTS_HIGHLIGHT_TEMPORARY",H[H.UNFURL_PRIVATE_MESSAGES=92]="UNFURL_PRIVATE_MESSAGES",H[H.MOBILE_DISABLE_PRESENCE_MENU_POPOVER=93]="MOBILE_DISABLE_PRESENCE_MENU_POPOVER",H[H.SHORTCUT_LINK_UNFURL=94]="SHORTCUT_LINK_UNFURL",H[H.CANVAS_GA_FAST_FOLLOW=95]="CANVAS_GA_FAST_FOLLOW",H[H.BRIDGE_REFACTORING=96]="BRIDGE_REFACTORING",H[H.SIMPLE_TABLES=97]="SIMPLE_TABLES",H[H.ALLOW_LARGE_SIZE_FILE_IMAGE_UPLOADS=98]="ALLOW_LARGE_SIZE_FILE_IMAGE_UPLOADS",H[H.ALLOW_SLACK_OBJECT_TITLE_UNFURL=99]="ALLOW_SLACK_OBJECT_TITLE_UNFURL",H[H.ALLOW_SLACK_WEB_OR_APP_LINKS_TITLE_UNFURL=100]="ALLOW_SLACK_WEB_OR_APP_LINKS_TITLE_UNFURL",H[H.CANVAS_GA_FAST_FOLLOW_2=101]="CANVAS_GA_FAST_FOLLOW_2",H[H.USE_LEFT_GUTTER_DISPLAY=102]="USE_LEFT_GUTTER_DISPLAY",H[H.USE_PRIVATE_MESSAGE_SPEEDBUMP_IN_CARD=103]="USE_PRIVATE_MESSAGE_SPEEDBUMP_IN_CARD",H[H.TITLE_BLOCK_KIT_FORMAT=104]="TITLE_BLOCK_KIT_FORMAT",H[H.USE_LIST_ITEM_MARKER_CONTAINER=105]="USE_LIST_ITEM_MARKER_CONTAINER",H[H.ALLOW_SLACK_TEMPLATE_PLACEHOLDER=106]="ALLOW_SLACK_TEMPLATE_PLACEHOLDER",H[H.USE_INLINE_TOOLBAR_PERF_IMPROVEMENTS=107]="USE_INLINE_TOOLBAR_PERF_IMPROVEMENTS",H[H.IMAGE_RESIZING=108]="IMAGE_RESIZING",H[H.PRIVATE_MESSAGE_SPEEDBUMP_MODAL=109]="PRIVATE_MESSAGE_SPEEDBUMP_MODAL",H[H.ALLOW_HEADER_IMAGE=110]="ALLOW_HEADER_IMAGE",H[H.PRIVATE_MESSAGE_SPEEDBUMP_FOR_TITLE_UNFURLS=111]="PRIVATE_MESSAGE_SPEEDBUMP_FOR_TITLE_UNFURLS",H[H.USE_NEW_SECTION_HIGHLIGHT=112]="USE_NEW_SECTION_HIGHLIGHT"}(Xn||(Xn={})),function(H){H[H.NONE=0]="NONE",H[H.SHIFT=1]="SHIFT",H[H.ALT=2]="ALT",H[H.META=4]="META",H[H.CTRL=8]="CTRL",H[H.MOD=16]="MOD"}(vi||(vi={})),function(H){H[H.CHANNEL=0]="CHANNEL",H[H.USER=1]="USER",H[H.EMOJI=2]="EMOJI",H[H.FILE=4]="FILE",H[H.UNFURL=5]="UNFURL",H[H.DOCUMENT=6]="DOCUMENT",H[H.LINK=7]="LINK",H[H.WORKFLOW=8]="WORKFLOW",H[H.DOCUMENT_USER_ACCESS=9]="DOCUMENT_USER_ACCESS",H[H.PENDING_URL=10]="PENDING_URL",H[H.GENERIC=11]="GENERIC",H[H.TEMPLATE=12]="TEMPLATE"}(kr||(kr={})),function(H){H[H.NOT_FOUND=0]="NOT_FOUND"}(Gr||(Gr={})),function(H){H[H.SLACK_OBJECT=0]="SLACK_OBJECT",H[H.LINK=1]="LINK",H[H.HEADER=2]="HEADER",H[H.TEXT=3]="TEXT",H[H.DIVIDER=4]="DIVIDER",H[H.HYPERLINK=5]="HYPERLINK",H[H.TITLE=6]="TITLE",H[H.TABLE=7]="TABLE",H[H.DRAG_OVERLAY=8]="DRAG_OVERLAY"}(Lr||(Lr={})),function(H){H[H.DEFAULT=0]="DEFAULT",H[H.BUTTON=1]="BUTTON"}(hi||(hi={})),function(H){H[H.PREVIOUS=0]="PREVIOUS",H[H.NEXT=1]="NEXT"}(_r||(_r={})),function(H){H[H.ROW=0]="ROW",H[H.COLUMN=1]="COLUMN"}(Ii||(Ii={})),function(H){H[H.INSERT_BEFORE=0]="INSERT_BEFORE",H[H.INSERT_AFTER=1]="INSERT_AFTER",H[H.DELETE=2]="DELETE"}(Nr||(Nr={})),function(H){H.NO_FOCUS_ON_CLICK="data-no-focus-section-on-click",H.NO_DRAG_ON_MOUSE_MOVE="data-no-drag-on-mouse-move",H.EMBEDDED_FILE_CARD_CLASSNAME="card-view__file_card",H.EMBEDDED_IMAGE_CARD_CLASSNAME="card-view__image_card"}(or||(or={})),function(H){H[H.DISMISS_POPOVER=0]="DISMISS_POPOVER",H[H.REMOVE_ASSOCIATED_CONTENT=1]="REMOVE_ASSOCIATED_CONTENT",H[H.COPY_OBJECT=2]="COPY_OBJECT",H[H.CREATE_OR_VIEW_COMMENT=3]="CREATE_OR_VIEW_COMMENT",H[H.REPLACE_FILE=4]="REPLACE_FILE",H[H.SWITCH_UNFURL_TYPE=5]="SWITCH_UNFURL_TYPE",H[H.PREVENT_POPOVER_DISMISS=6]="PREVENT_POPOVER_DISMISS",H[H.SYNC_METADATA=7]="SYNC_METADATA",H[H.COPY_SECTION_LINK=8]="COPY_SECTION_LINK",H[H.SET_BLOCK_STYLE=9]="SET_BLOCK_STYLE",H[H.ADD_COLUMN=10]="ADD_COLUMN",H[H.MOVE_LINE=11]="MOVE_LINE",H[H.TOGGLE_COLLAPSE=12]="TOGGLE_COLLAPSE",H[H.CHECK_ALL=13]="CHECK_ALL",H[H.UNCHECK_ALL=14]="UNCHECK_ALL",H[H.REMOVE_CHECKED=15]="REMOVE_CHECKED",H[H.MOVE_CHECKED_TO_BOTTOM=16]="MOVE_CHECKED_TO_BOTTOM",H[H.SORT_ALPHA=17]="SORT_ALPHA",H[H.TAKE_OVER_EDITING=18]="TAKE_OVER_EDITING",H[H.ADD_TEXT_BELOW=19]="ADD_TEXT_BELOW",H[H.UPDATE_INLINE_ENTITY_DISPLAY_INFO=20]="UPDATE_INLINE_ENTITY_DISPLAY_INFO",H[H.ON_LINK_INSPECTOR_INPUT_CHANGE=21]="ON_LINK_INSPECTOR_INPUT_CHANGE",H[H.FOCUS_ASSOCIATED_SECTION=22]="FOCUS_ASSOCIATED_SECTION",H[H.UNFURL_URL=23]="UNFURL_URL",H[H.MODIFY_TABLE=24]="MODIFY_TABLE",H[H.RESUME_SNAPSHOTS=25]="RESUME_SNAPSHOTS"}(fi||(fi={})),function(H){H[H.SLACK_MESSAGE=0]="SLACK_MESSAGE",H[H.SLACK_FILE=1]="SLACK_FILE",H[H.SLACK_DOCUMENT=2]="SLACK_DOCUMENT",H[H.SLACK_DOCUMENT_SECTION=3]="SLACK_DOCUMENT_SECTION",H[H.SLACK_PUBLIC_LINK=4]="SLACK_PUBLIC_LINK",H[H.SLACK_USER=5]="SLACK_USER",H[H.SLACK_CHANNEL=6]="SLACK_CHANNEL",H[H.SLACK_SHORTCUT=7]="SLACK_SHORTCUT"}(Er||(Er={})),function(H){H[H.CARD=0]="CARD",H[H.INLINE=1]="INLINE",H[H.LINK=2]="LINK"}(oi||(oi={})),function(H){H[H.CLOSE=0]="CLOSE",H[H.SELECT=1]="SELECT",H[H.MOVE_SELECTION_DOWN=2]="MOVE_SELECTION_DOWN",H[H.MOVE_SELECTION_UP=3]="MOVE_SELECTION_UP"}(tr||(tr={})),function(H){H.IMAGE="image",H.HORIZONTAL_RULE="horizontal-rule",H.CHECKLIST="checklist",H.NUMBERED_LIST="numbered-list",H.BULLETED_LIST="bullet-list",H.TABLE="table"}(Jn||(Jn={})),function(H){H[H.DOCUMENT_SAVING=1]="DOCUMENT_SAVING",H[H.IO=2]="IO",H[H.LISTENER=3]="LISTENER",H[H.ELEMENT=4]="ELEMENT"}(sr||(sr={})),function(H){H[H.NONE=0]="NONE",H[H.DOCUMENT_FAILED_TO_LOAD=1]="DOCUMENT_FAILED_TO_LOAD",H[H.DOCUMENT_SAVE_FAILED=2]="DOCUMENT_SAVE_FAILED",H[H.DOCUMENT_SAVE_FAILED_CONNECTION_OFFLINE=3]="DOCUMENT_SAVE_FAILED_CONNECTION_OFFLINE",H[H.DOCUMENT_SAVE_FAILED_SERVER_NOT_REACHABLE=4]="DOCUMENT_SAVE_FAILED_SERVER_NOT_REACHABLE",H[H.DOCUMENT_TOO_LARGE_TO_SAVE=5]="DOCUMENT_TOO_LARGE_TO_SAVE",H[H.SESSION_EXPIRED=6]="SESSION_EXPIRED",H[H.THREAD_CLOSED=7]="THREAD_CLOSED",H[H.DOCUMENT_SAVE_FAILED_TO_COMPLETE=8]="DOCUMENT_SAVE_FAILED_TO_COMPLETE",H[H.DOCUMENT_SAVE_FAILED_DUE_TO_PREVIOUS_FAILURES=9]="DOCUMENT_SAVE_FAILED_DUE_TO_PREVIOUS_FAILURES"}($i||($i={})),function(H){H[H.WRITE=0]="WRITE",H[H.READ=1]="READ",H[H.NONE=2]="NONE"}(Tr||(Tr={})),function(H){H.DOWNLOAD="download",H.EDIT_FILE="edit-file",H.OPEN_IN_NEW_WINDOW="open-in-new-window",H.PREVIEW_FILE="preview-file",H.VIEW_FULL_SCREEN="view-full-screen",H.SHARE="share"}(Ir||(Ir={})),function(H){H[H.HOVERCARD=0]="HOVERCARD",H[H.CARD=1]="CARD",H[H.HEADER=2]="HEADER",H[H.CONTROL_CONTEXT_MENU=3]="CONTROL_CONTEXT_MENU",H[H.SECTION_MENU=4]="SECTION_MENU",H[H.HYPERLINK_CONTEXT_MENU=5]="HYPERLINK_CONTEXT_MENU",H[H.HYPERLINK_INSPECTOR_TOOLBAR=6]="HYPERLINK_INSPECTOR_TOOLBAR",H[H.CONTROL_OBJECT_OBSERVER=7]="CONTROL_OBJECT_OBSERVER",H[H.TABLE_SELECTION_MENU=8]="TABLE_SELECTION_MENU",H[H.FILE_UPLOAD_BLOCKED_OVERLAY=9]="FILE_UPLOAD_BLOCKED_OVERLAY",H[H.EPHEMERAL_MESSAGE_MODAL_TRIGGER=10]="EPHEMERAL_MESSAGE_MODAL_TRIGGER"}(Ki||(Ki={})),function(H){H.NONE="none",H.THREAD_ROOT="thread_root",H.THREAD_COMPOSER="thread_composer"}(Or||(Or={})),zt("Collab",Ot),zt("dumpCollabDebugReport",function(){gt.forEach((H,te)=>{te.getInitLog().then(Oe=>{f.console.log(`Collab instance ${te.id} debug report:`,te.getBridgeDebugReport(!1),Oe)})})}),window.JS_CLIENT_HASH="S6M0NbI2ibuC6ZJ-D57LLw",window.QUIP_VERSION_NAME="quipbuild_2023_08_14T17_06_5eff3a0"}.call(this,d("yLpj"))},LNXf:function(N,c,d){"use strict";var S=this&&this.__awaiter||function(i,e,t,r){function l(p){return p instanceof t?p:new t(function(v){v(p)})}return o(l,"adopt"),new(t||(t=Promise))(function(p,v){function g(I){try{s(r.next(I))}catch(M){v(M)}}o(g,"fulfilled");function u(I){try{s(r.throw(I))}catch(M){v(M)}}o(u,"rejected");function s(I){I.done?p(I.value):l(I.value).then(g,u)}o(s,"step"),s((r=r.apply(i,e||[])).next())})};Object.defineProperty(c,"__esModule",{value:!0});const h=d("hGh8"),m=d("hEYi"),f=d("f2XL"),a=d("aVV0");let n=o(class extends a.default{cancel(){this.taskCanceler&&(this.taskCanceler.cancel(),this.taskCanceler=null)}run(){return S(this,void 0,void 0,function*(){this.context.signalingClient.ready()?(this.context.signalingClient.promoteToPrimaryMeeting(this.credentials),this.context.logger.info("Sent request to join primary meeting"),yield this.receivePrimaryMeetingJoinAck()):this.completionCallback(new h.MeetingSessionStatus(h.MeetingSessionStatusCode.SignalingRequestFailed))})}receivePrimaryMeetingJoinAck(){return new Promise((e,t)=>{let r=o(class{cancel(){this.signalingClient.removeObserver(this),this.completionCallback(new h.MeetingSessionStatus(h.MeetingSessionStatusCode.SignalingRequestFailed)),e()}handleSignalingClientEvent(v){v.isConnectionTerminated()&&(this.signalingClient.removeObserver(this),this.logger.info("PromoteToPrimaryMeetingTask connection terminated"),this.completionCallback(new h.MeetingSessionStatus(h.MeetingSessionStatusCode.SignalingRequestFailed)),e()),v.type===m.default.ReceivedSignalFrame&&v.message.type===f.SdkSignalFrame.Type.PRIMARY_MEETING_JOIN_ACK&&(this.signalingClient.removeObserver(this),this.logger.info("Got a primary meeting join ACK"),this.completionCallback(h.MeetingSessionStatus.fromSignalFrame(v.message)),e())}constructor(v,g,u){this.signalingClient=v,this.completionCallback=g,this.logger=u}},"Interceptor");const l=new r(this.context.signalingClient,this.completionCallback,this.context.logger);this.taskCanceler=l,this.context.signalingClient.registerObserver(l)})}constructor(e,t,r){super(e.logger),this.context=e,this.credentials=t,this.completionCallback=r,this.taskName="PromoteToPrimaryMeetingTask",this.taskCanceler=null}},"PromoteToPrimaryMeetingTask");c.default=n},LUct:function(N,c,d){"use strict";Object.defineProperty(c,"__esModule",{value:!0});const S=d("H7ma"),h=d("OND3"),m=d("KyYT"),f=d("XJrD"),a=d("GxrV");let n=o(class ko{updateConnectionMetric(e){let{uplinkKbps:t=0}=e;if(isNaN(t))return;this.startTimeMs===0&&(this.startTimeMs=Date.now()),Date.now()-this.startTimeMs<ko.startupDurationMs?this.lastUplinkBandwidthKbps=ko.defaultUplinkBandwidthKbps:this.lastUplinkBandwidthKbps=t,this.logger.debug(()=>`simulcast: uplink policy update metrics ${this.lastUplinkBandwidthKbps}`);let r=ko.holdDownDurationMs;this.currentActiveStreams===3?r=ko.holdDownDurationMs*2:(this.currentActiveStreams===2&&t<=ko.kMidDisabledRate||this.currentActiveStreams===1&&t<=ko.kHiDisabledRate)&&(r=ko.holdDownDurationMs/2),!(Date.now()<this.lastUpdatedMs+r)&&(this.newQualityMap=this.calculateEncodingParameters(!1))}calculateEncodingParameters(e){const t=[new a.default,new a.default,new a.default];let r=0,l=0;if(this.currentActiveStreams===0?(r=this.lastUplinkBandwidthKbps+1,l=0):this.currentActiveStreams===1?(r=2400,l=ko.kHiDisabledRate):this.currentActiveStreams===2?(r=1e3,l=ko.kMidDisabledRate):(r=300,l=0),e||this.lastUplinkBandwidthKbps>=r||this.lastUplinkBandwidthKbps<=l){this.shouldDisableSimulcast?(this.newActiveStreams=0,t[0].maxBitrateKbps=0,t[1].maxBitrateKbps=1200,t[2].maxBitrateKbps=0):this.numSenders<=4&&this.lastUplinkBandwidthKbps>=ko.kHiDisabledRate?(this.newActiveStreams=1,t[0].maxBitrateKbps=300,t[1].maxBitrateKbps=0,t[2].maxBitrateKbps=1200):this.lastUplinkBandwidthKbps>=ko.kMidDisabledRate?(this.newActiveStreams=2,t[0].maxBitrateKbps=this.lastUplinkBandwidthKbps>=350?200:150,t[1].maxBitrateKbps=this.numSenders<=6?600:350,t[2].maxBitrateKbps=0):(this.newActiveStreams=3,t[0].maxBitrateKbps=300,t[1].maxBitrateKbps=0,t[2].maxBitrateKbps=0);const p=t.map((v,g,u)=>v.maxBitrateKbps);this.newQualityMap=this.fillEncodingParamWithBitrates(p),this.encodingParametersEqual()||this.logger.info(`simulcast: policy:calculateEncodingParameters bw:${this.lastUplinkBandwidthKbps} numSources:${this.numSenders} shouldDisableSimulcast:${this.shouldDisableSimulcast} newQualityMap: ${this.getQualityMapString(this.newQualityMap)}`)}return this.newQualityMap}chooseMediaTrackConstraints(){return{width:{ideal:1280},height:{ideal:768},frameRate:{ideal:15}}}chooseEncodingParameters(){return this.currentQualityMap=this.newQualityMap,this.currentActiveStreams=this.newActiveStreams,this.activeStreamsToPublish!==this.newActiveStreams&&(this.activeStreamsToPublish=this.newActiveStreams,this.publishEncodingSimulcastLayer()),this.currentQualityMap}updateIndex(e){const t=e.numberOfVideoPublishingParticipantsExcludingSelf(this.selfAttendeeId)+1,r=t!==this.numSenders,l=e.numberOfParticipants(),p=l>=0&&l<=2,v=this.shouldDisableSimulcast!==p;this.numSenders=t,this.shouldDisableSimulcast=p,this.optimalParameters=new f.default(this.captureWidth(),this.captureHeight(),this.captureFrameRate(),this.maxBandwidthKbps(),!1),this.videoIndex=e,this.newQualityMap=this.calculateEncodingParameters(r||v)}wantsResubscribe(){let e=!this.encodingParametersEqual();this.nextLocalDescriptions=this.videoIndex.localStreamDescriptions();for(let t=0;t<this.nextLocalDescriptions.length;t++){const r=this.nextLocalDescriptions[t].streamId;if(r!==0&&r){const l=this.currLocalDescriptions.findIndex(p=>p.streamId===r);l!==-1&&this.nextLocalDescriptions[t].disabledByWebRTC!==this.currLocalDescriptions[l].disabledByWebRTC&&(e=!0)}}return e&&(this.lastUpdatedMs=Date.now()),this.currLocalDescriptions=this.nextLocalDescriptions,e}compareEncodingParameter(e,t){return JSON.stringify(e)===JSON.stringify(t)}encodingParametersEqual(){let e=!1;for(const t of h.default.NAME_ARR_ASCENDING)if(e=e||!this.compareEncodingParameter(this.newQualityMap.get(t),this.currentQualityMap.get(t)),e)break;return!e}chooseCaptureAndEncodeParameters(){return this.parametersInEffect=this.optimalParameters.clone(),this.parametersInEffect.clone()}captureWidth(){return 1280}captureHeight(){return 768}captureFrameRate(){return 15}maxBandwidthKbps(){return 1400}setIdealMaxBandwidthKbps(e){}setHasBandwidthPriority(e){}fillEncodingParamWithBitrates(e){const t=new Map,r=1e3,l=h.default.NAME_ARR_ASCENDING,p=e;let v=this.shouldDisableSimulcast?1:4;for(let g=0;g<l.length;g++){const u=l[g];t.set(u,{rid:u,active:p[g]>0,scaleResolutionDownBy:Math.max(v,1),maxBitrate:p[g]*r}),v=v/2}return t}getQualityMapString(e){let t="";const r=this.videoIndex.localStreamDescriptions();return r.length===3&&e.forEach(l=>{let p=!1;l.rid==="low"?p=r[0].disabledByWebRTC:l.rid==="mid"?p=r[1].disabledByWebRTC:p=r[2].disabledByWebRTC,t+=`{ rid: ${l.rid} active:${l.active} disabledByWebRTC: ${p} maxBitrate:${l.maxBitrate}}`}),t}getEncodingSimulcastLayer(e){switch(e){case 0:return S.default.High;case 1:return S.default.LowAndHigh;case 2:return S.default.LowAndMedium;case 3:return S.default.Low}}publishEncodingSimulcastLayer(){const e=this.getEncodingSimulcastLayer(this.activeStreamsToPublish);this.forEachObserver(t=>{m.Maybe.of(t.encodingSimulcastLayersDidChange).map(r=>r.bind(t)(e))})}addObserver(e){this.logger.info("adding simulcast uplink observer"),this.observerQueue.add(e)}removeObserver(e){this.logger.info("removing simulcast uplink observer"),this.observerQueue.delete(e)}forEachObserver(e){for(const t of this.observerQueue)e(t)}constructor(e,t){this.selfAttendeeId=e,this.logger=t,this.numSenders=0,this.shouldDisableSimulcast=!1,this.newQualityMap=new Map,this.currentQualityMap=new Map,this.newActiveStreams=1,this.currentActiveStreams=1,this.lastUplinkBandwidthKbps=ko.defaultUplinkBandwidthKbps,this.startTimeMs=0,this.lastUpdatedMs=Date.now(),this.videoIndex=null,this.currLocalDescriptions=[],this.nextLocalDescriptions=[],this.observerQueue=new Set,this.optimalParameters=new f.default(0,0,0,0,!0),this.parametersInEffect=new f.default(0,0,0,0,!0),this.lastUplinkBandwidthKbps=ko.defaultUplinkBandwidthKbps,this.currentQualityMap=this.fillEncodingParamWithBitrates([300,0,1200]),this.newQualityMap=this.fillEncodingParamWithBitrates([300,0,1200])}},"DefaultSimulcastUplinkPolicy");c.default=n,n.defaultUplinkBandwidthKbps=1200,n.startupDurationMs=6e3,n.holdDownDurationMs=4e3,n.defaultMaxFrameRate=15,n.kHiDisabledRate=700,n.kMidDisabledRate=240},LVIV:function(N,c,d){"use strict";Object.defineProperty(c,"__esModule",{value:!0})},LhvI:function(N,c,d){"use strict";var S=this&&this.__awaiter||function(f,a,n,i){function e(t){return t instanceof n?t:new n(function(r){r(t)})}return o(e,"adopt"),new(n||(n=Promise))(function(t,r){function l(g){try{v(i.next(g))}catch(u){r(u)}}o(l,"fulfilled");function p(g){try{v(i.throw(g))}catch(u){r(u)}}o(p,"rejected");function v(g){g.done?t(g.value):e(g.value).then(l,p)}o(v,"step"),v((i=i.apply(f,a||[])).next())})};Object.defineProperty(c,"__esModule",{value:!0});const h=d("aVV0");let m=o(class extends h.default{run(){var a,n;return S(this,void 0,void 0,function*(){if(!(!((n=(a=this.context.meetingSessionConfiguration)===null||a===void 0?void 0:a.urls)===null||n===void 0)&&n.audioHostURL)){this.context.logger.info("No audio connection: not acquiring audio input");return}if(this.context.activeAudioInput){this.context.logger.info("an active audio input exists");return}let i;try{i=yield this.context.mediaStreamBroker.acquireAudioInputStream()}catch{this.context.logger.warn("could not acquire audio input from current device")}i?this.context.activeAudioInput=i:this.context.logger.warn("an audio input is not available")})}constructor(a){super(a.logger),this.context=a,this.taskName="ReceiveAudioInputTask"}},"ReceiveAudioInputTask");c.default=m},LmyK:function(N,c,d){"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.ClientMetricReportDirection=void 0;var S;(function(h){h[h.UPSTREAM=0]="UPSTREAM",h[h.DOWNSTREAM=1]="DOWNSTREAM"})(S=c.ClientMetricReportDirection||(c.ClientMetricReportDirection={})),c.default=S},Lr1a:function(N,c,d){d("JpO0"),N.exports=d("VSTI").Object.getPrototypeOf},Lrln:function(N,c,d){"use strict";var S=this&&this.__awaiter||function(a,n,i,e){function t(r){return r instanceof i?r:new i(function(l){l(r)})}return o(t,"adopt"),new(i||(i=Promise))(function(r,l){function p(u){try{g(e.next(u))}catch(s){l(s)}}o(p,"fulfilled");function v(u){try{g(e.throw(u))}catch(s){l(s)}}o(v,"rejected");function g(u){u.done?r(u.value):t(u.value).then(p,v)}o(g,"step"),g((e=e.apply(a,n||[])).next())})};Object.defineProperty(c,"__esModule",{value:!0});const h=d("Sa54"),m=d("RUbL");let f=o(class xh{get mediaStream(){return this._mediaStream}set mediaStream(n){this._mediaStream=n}acquireAudioInputStream(){return S(this,void 0,void 0,function*(){return this._mediaStream.getAudioTracks().length===0?(this.logger.info("No audio stream available. Synthesizing an audio stream."),m.default.synthesizeAudioDevice(0)):this._mediaStream})}acquireVideoInputStream(){return S(this,void 0,void 0,function*(){return this._mediaStream})}acquireDisplayInputStream(n){return S(this,void 0,void 0,function*(){return n&&n.video&&n.video.mandatory&&n.video.mandatory.chromeMediaSource&&n.video.mandatory.chromeMediaSourceId?navigator.mediaDevices.getUserMedia(n):navigator.mediaDevices.getDisplayMedia(n)})}acquireScreenCaptureDisplayInputStream(n,i){return S(this,void 0,void 0,function*(){return this.acquireDisplayInputStream(this.screenCaptureDisplayMediaConstraints(n,i))})}screenCaptureDisplayMediaConstraints(n,i){return{audio:!!(!n&&new h.default().getDisplayMediaAudioCaptureSupport()),video:Object.assign(Object.assign({},!n&&{frameRate:{max:i||xh.defaultFrameRate}}),n&&{mandatory:{chromeMediaSource:"desktop",chromeMediaSourceId:n,maxFrameRate:i||xh.defaultFrameRate}})}}toggleMediaStream(n){let i=!1;if(this.mediaStream)for(let e=0;e<this.mediaStream.getTracks().length;e++)this.mediaStream.getTracks()[e].enabled!==n&&(this.mediaStream.getTracks()[e].enabled=n,i=!0);return i}cleanup(){if(this.mediaStream)for(let n=0;n<this.mediaStream.getTracks().length;n++)this.mediaStream.getTracks()[n].stop();this.mediaStream=null}muteLocalAudioInputStream(){throw new Error("unsupported")}unmuteLocalAudioInputStream(){throw new Error("unsupported")}addMediaStreamBrokerObserver(n){}removeMediaStreamBrokerObserver(n){}constructor(n){this.logger=n}},"ContentShareMediaStreamBroker");c.default=f,f.defaultFrameRate=15},Lspx:function(N,c,d){"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.TargetDisplaySize=void 0;var S;(function(h){h[h.Low=0]="Low",h[h.Medium=1]="Medium",h[h.High=2]="High"})(S=c.TargetDisplaySize||(c.TargetDisplaySize={})),c.default=S},LuEC:function(N,c,d){"use strict";Object.defineProperty(c,"__esModule",{value:!0});const S=d("ghxq");let h=o(class extends S.default{isSendingAudioUnhealthy(){const f=!this.currentData.isConnectionStartRecent(this.sendingAudioFailureInitialWaitTimeMs),a=this.currentData.consecutiveStatsWithNoAudioPacketsSent>=this.sendingAudioFailureSamplesToConsider;return f&&a}health(){if(this.isSendingAudioUnhealthy()){const f=Date.now()-this.lastWarnTimestampMs<this.coolDownTimeMs;return this.currentHealth>this.minimumHealth()&&!f?(this.logger.warn(`Sending Audio is unhealthy for ${this.sendingAudioFailureSamplesToConsider} seconds consecutively.`),this.warnCount++,this.warnCount>this.maximumTimesToWarn?(this.logger.warn("SendingAudioFailure health policy maximum warnings breached. Falling back to reporting healthy."),this.maximumHealth()):(this.lastWarnTimestampMs=Date.now(),this.minimumHealth())):this.currentHealth}return this.maximumHealth()}constructor(f,a,n){super(a,n,"Sending Audio Health"),this.logger=f,this.sendingAudioFailureSamplesToConsider=a.sendingAudioFailureSamplesToConsider>0?a.sendingAudioFailureSamplesToConsider:1,this.sendingAudioFailureInitialWaitTimeMs=a.sendingAudioFailureInitialWaitTimeMs,this.maximumTimesToWarn=a.maximumTimesToWarn,this.coolDownTimeMs=a.cooldownTimeMs,this.lastWarnTimestampMs=0,this.warnCount=0}},"SendingAudioFailureConnectionHealthPolicy");c.default=h},Lxy7:function(N,c,d){"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.FXLIB_PATH=c.WORKER_PATH=c.CDN_BASE_PATH=c.RESOURCE_CONSTRAINTS=c.SEGMENTATION_MODEL=c.DEFAULT_STREAM_PARAMETERS=c.WORKER_MSG=void 0,c.WORKER_MSG={BUILD_ENGINE_REQUEST:"BuildEngineRequest",BUILD_ENGINE_RESPONSE:"BuildEngineResponse",PERFORM_SEGMENTATION_REQUEST:"PerformSegmentationRequest",PERFORM_SEGMENTATION_RESPONSE:"PerformSegmentationResponse",PERFORM_SEGMENTATION_SAB_REQUEST:"PerformSegmentationSABRequest",PERFORM_SEGMENTATION_SAB_RESPONSE:"PerformSegmentationSABResponse",DESTROY_ASSETS_REQUEST:"DestroyAssetsRequest",DESTROY_ASSETS_RESPONSE:"DestroyAssetsResponse",CLOSE_WORKER_REQUEST:"CloseWorkerRequest"},c.DEFAULT_STREAM_PARAMETERS={FRAMES_PER_SECOND:15,WIDTH_IN_PIXEL:960,HEIGHT_IN_PIXEL:540,CHANNEL_COUNT:4},c.SEGMENTATION_MODEL={LOAD_SUCCESS:2,WIDTH_IN_PIXELS:176,HEIGHT_IN_PIXELS:160},c.RESOURCE_CONSTRAINTS={DEFAULT_PROCESSING_BUDGET_PER_FRAME:50,SEGMENTATION_DEFAULT_FRAMES_PER_SEGMENTATION:1,SEGMENTATION_SAMPLING_PERIOD_FRAME_COUNT:500,BLUR_DEFAULT_CYCLE_PERCENTAGE:10,BLUR_SAMPLING_PERIOD_FRAME_COUNT:1e3,MIN_PROCESSING_BUDGET:0,MAX_PROCESSING_BUDGET:100},c.CDN_BASE_PATH="https://static.sdkassets.chime.aws";const S="/ml_media_fx/otherassets";c.WORKER_PATH=`${S}/worker.js`,c.FXLIB_PATH=`${S}/fxlib.js`},M1uR:function(N,c,d){"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.CheckNetworkUDPConnectivityFeedback=void 0;var S;(function(h){h[h.Succeeded=0]="Succeeded",h[h.MeetingSessionURLsNotInitialized=1]="MeetingSessionURLsNotInitialized",h[h.ConnectionFailed=2]="ConnectionFailed",h[h.ICENegotiationFailed=3]="ICENegotiationFailed"})(S=c.CheckNetworkUDPConnectivityFeedback||(c.CheckNetworkUDPConnectivityFeedback={})),c.default=S},M2az:function(N){N.exports=JSON.parse(`{"name":"@aws-sdk/client-chime-sdk-messaging","description":"AWS SDK for JavaScript Chime Sdk Messaging Client for Node.js, Browser and React Native","version":"3.341.0","scripts":{"build":"concurrently 'yarn:build:cjs' 'yarn:build:es' 'yarn:build:types'","build:cjs":"tsc -p tsconfig.cjs.json","build:docs":"typedoc","build:es":"tsc -p tsconfig.es.json","build:include:deps":"lerna run --scope $npm_package_name --include-dependencies build","build:types":"tsc -p tsconfig.types.json","build:types:downlevel":"downlevel-dts dist-types dist-types/ts3.4","clean":"rimraf ./dist-* && rimraf *.tsbuildinfo","extract:docs":"api-extractor run --local","generate:client":"node ../../scripts/generate-clients/single-service --solo chime-sdk-messaging"},"main":"./dist-cjs/index.js","types":"./dist-types/index.d.ts","module":"./dist-es/index.js","sideEffects":false,"dependencies":{"@aws-crypto/sha256-browser":"3.0.0","@aws-crypto/sha256-js":"3.0.0","@aws-sdk/client-sts":"3.341.0","@aws-sdk/config-resolver":"3.341.0","@aws-sdk/credential-provider-node":"3.341.0","@aws-sdk/fetch-http-handler":"3.341.0","@aws-sdk/hash-node":"3.341.0","@aws-sdk/invalid-dependency":"3.341.0","@aws-sdk/middleware-content-length":"3.341.0","@aws-sdk/middleware-endpoint":"3.341.0","@aws-sdk/middleware-host-header":"3.341.0","@aws-sdk/middleware-logger":"3.341.0","@aws-sdk/middleware-recursion-detection":"3.341.0","@aws-sdk/middleware-retry":"3.341.0","@aws-sdk/middleware-serde":"3.341.0","@aws-sdk/middleware-signing":"3.341.0","@aws-sdk/middleware-stack":"3.341.0","@aws-sdk/middleware-user-agent":"3.341.0","@aws-sdk/node-config-provider":"3.341.0","@aws-sdk/node-http-handler":"3.341.0","@aws-sdk/smithy-client":"3.341.0","@aws-sdk/types":"3.341.0","@aws-sdk/url-parser":"3.341.0","@aws-sdk/util-base64":"3.310.0","@aws-sdk/util-body-length-browser":"3.310.0","@aws-sdk/util-body-length-node":"3.310.0","@aws-sdk/util-defaults-mode-browser":"3.341.0","@aws-sdk/util-defaults-mode-node":"3.341.0","@aws-sdk/util-endpoints":"3.341.0","@aws-sdk/util-retry":"3.341.0","@aws-sdk/util-user-agent-browser":"3.341.0","@aws-sdk/util-user-agent-node":"3.341.0","@aws-sdk/util-utf8":"3.310.0","@smithy/protocol-http":"^1.0.1","@smithy/types":"^1.0.0","tslib":"^2.5.0","uuid":"^8.3.2"},"devDependencies":{"@aws-sdk/service-client-documentation-generator":"3.310.0","@tsconfig/node14":"1.0.3","@types/node":"^14.14.31","@types/uuid":"^8.3.0","concurrently":"7.0.0","downlevel-dts":"0.10.1","rimraf":"3.0.2","typedoc":"0.23.23","typescript":"~4.9.5"},"engines":{"node":">=14.0.0"},"typesVersions":{"<4.0":{"dist-types/*":["dist-types/ts3.4/*"]}},"files":["dist-*/**"],"author":{"name":"AWS SDK for JavaScript Team","url":"https://aws.amazon.com/javascript/"},"license":"Apache-2.0","browser":{"./dist-es/runtimeConfig":"./dist-es/runtimeConfig.browser"},"react-native":{"./dist-es/runtimeConfig":"./dist-es/runtimeConfig.native"},"homepage":"https://github.com/aws/aws-sdk-js-v3/tree/main/clients/client-chime-sdk-messaging","repository":{"type":"git","url":"https://github.com/aws/aws-sdk-js-v3.git","directory":"clients/client-chime-sdk-messaging"}}`)},M39V:function(N,c,d){(function(S,h){N.exports=h()})(this,function(){return function(S){var h={};function m(f){if(h[f])return h[f].exports;var a=h[f]={i:f,l:!1,exports:{}};return S[f].call(a.exports,a,a.exports,m),a.l=!0,a.exports}return o(m,"r"),m.m=S,m.c=h,m.d=function(f,a,n){m.o(f,a)||Object.defineProperty(f,a,{enumerable:!0,get:n})},m.r=function(f){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(f,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(f,"__esModule",{value:!0})},m.t=function(f,a){if(1&a&&(f=m(f)),8&a||4&a&&typeof f=="object"&&f&&f.__esModule)return f;var n=Object.create(null);if(m.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:f}),2&a&&typeof f!="string")for(var i in f)m.d(n,i,function(e){return f[e]}.bind(null,i));return n},m.n=function(f){var a=f&&f.__esModule?function(){return f.default}:function(){return f};return m.d(a,"a",a),a},m.o=function(f,a){return Object.prototype.hasOwnProperty.call(f,a)},m.p="",m(m.s=90)}({17:function(S,h,m){"use strict";h.__esModule=!0,h.default=void 0;var f=m(18),a=function(){function n(){}return o(n,"e"),n.getFirstMatch=function(i,e){var t=e.match(i);return t&&t.length>0&&t[1]||""},n.getSecondMatch=function(i,e){var t=e.match(i);return t&&t.length>1&&t[2]||""},n.matchAndReturnConst=function(i,e,t){if(i.test(e))return t},n.getWindowsVersionName=function(i){switch(i){case"NT":return"NT";case"XP":return"XP";case"NT 5.0":return"2000";case"NT 5.1":return"XP";case"NT 5.2":return"2003";case"NT 6.0":return"Vista";case"NT 6.1":return"7";case"NT 6.2":return"8";case"NT 6.3":return"8.1";case"NT 10.0":return"10";default:return}},n.getMacOSVersionName=function(i){var e=i.split(".").splice(0,2).map(function(t){return parseInt(t,10)||0});if(e.push(0),e[0]===10)switch(e[1]){case 5:return"Leopard";case 6:return"Snow Leopard";case 7:return"Lion";case 8:return"Mountain Lion";case 9:return"Mavericks";case 10:return"Yosemite";case 11:return"El Capitan";case 12:return"Sierra";case 13:return"High Sierra";case 14:return"Mojave";case 15:return"Catalina";default:return}},n.getAndroidVersionName=function(i){var e=i.split(".").splice(0,2).map(function(t){return parseInt(t,10)||0});if(e.push(0),!(e[0]===1&&e[1]<5))return e[0]===1&&e[1]<6?"Cupcake":e[0]===1&&e[1]>=6?"Donut":e[0]===2&&e[1]<2?"Eclair":e[0]===2&&e[1]===2?"Froyo":e[0]===2&&e[1]>2?"Gingerbread":e[0]===3?"Honeycomb":e[0]===4&&e[1]<1?"Ice Cream Sandwich":e[0]===4&&e[1]<4?"Jelly Bean":e[0]===4&&e[1]>=4?"KitKat":e[0]===5?"Lollipop":e[0]===6?"Marshmallow":e[0]===7?"Nougat":e[0]===8?"Oreo":e[0]===9?"Pie":void 0},n.getVersionPrecision=function(i){return i.split(".").length},n.compareVersions=function(i,e,t){t===void 0&&(t=!1);var r=n.getVersionPrecision(i),l=n.getVersionPrecision(e),p=Math.max(r,l),v=0,g=n.map([i,e],function(u){var s=p-n.getVersionPrecision(u),I=u+new Array(s+1).join(".0");return n.map(I.split("."),function(M){return new Array(20-M.length).join("0")+M}).reverse()});for(t&&(v=p-Math.min(r,l)),p-=1;p>=v;){if(g[0][p]>g[1][p])return 1;if(g[0][p]===g[1][p]){if(p===v)return 0;p-=1}else if(g[0][p]<g[1][p])return-1}},n.map=function(i,e){var t,r=[];if(Array.prototype.map)return Array.prototype.map.call(i,e);for(t=0;t<i.length;t+=1)r.push(e(i[t]));return r},n.find=function(i,e){var t,r;if(Array.prototype.find)return Array.prototype.find.call(i,e);for(t=0,r=i.length;t<r;t+=1){var l=i[t];if(e(l,t))return l}},n.assign=function(i){for(var e,t,r=i,l=arguments.length,p=new Array(l>1?l-1:0),v=1;v<l;v++)p[v-1]=arguments[v];if(Object.assign)return Object.assign.apply(Object,[i].concat(p));var g=o(function(){var u=p[e];typeof u=="object"&&u!==null&&Object.keys(u).forEach(function(s){r[s]=u[s]})},"o");for(e=0,t=p.length;e<t;e+=1)g();return i},n.getBrowserAlias=function(i){return f.BROWSER_ALIASES_MAP[i]},n.getBrowserTypeByAlias=function(i){return f.BROWSER_MAP[i]||""},n}();h.default=a,S.exports=h.default},18:function(S,h,m){"use strict";h.__esModule=!0,h.ENGINE_MAP=h.OS_MAP=h.PLATFORMS_MAP=h.BROWSER_MAP=h.BROWSER_ALIASES_MAP=void 0,h.BROWSER_ALIASES_MAP={"Amazon Silk":"amazon_silk","Android Browser":"android",Bada:"bada",BlackBerry:"blackberry",Chrome:"chrome",Chromium:"chromium",Electron:"electron",Epiphany:"epiphany",Firefox:"firefox",Focus:"focus",Generic:"generic","Google Search":"google_search",Googlebot:"googlebot","Internet Explorer":"ie","K-Meleon":"k_meleon",Maxthon:"maxthon","Microsoft Edge":"edge","MZ Browser":"mz","NAVER Whale Browser":"naver",Opera:"opera","Opera Coast":"opera_coast",PhantomJS:"phantomjs",Puffin:"puffin",QupZilla:"qupzilla",QQ:"qq",QQLite:"qqlite",Safari:"safari",Sailfish:"sailfish","Samsung Internet for Android":"samsung_internet",SeaMonkey:"seamonkey",Sleipnir:"sleipnir",Swing:"swing",Tizen:"tizen","UC Browser":"uc",Vivaldi:"vivaldi","WebOS Browser":"webos",WeChat:"wechat","Yandex Browser":"yandex",Roku:"roku"},h.BROWSER_MAP={amazon_silk:"Amazon Silk",android:"Android Browser",bada:"Bada",blackberry:"BlackBerry",chrome:"Chrome",chromium:"Chromium",electron:"Electron",epiphany:"Epiphany",firefox:"Firefox",focus:"Focus",generic:"Generic",googlebot:"Googlebot",google_search:"Google Search",ie:"Internet Explorer",k_meleon:"K-Meleon",maxthon:"Maxthon",edge:"Microsoft Edge",mz:"MZ Browser",naver:"NAVER Whale Browser",opera:"Opera",opera_coast:"Opera Coast",phantomjs:"PhantomJS",puffin:"Puffin",qupzilla:"QupZilla",qq:"QQ Browser",qqlite:"QQ Browser Lite",safari:"Safari",sailfish:"Sailfish",samsung_internet:"Samsung Internet for Android",seamonkey:"SeaMonkey",sleipnir:"Sleipnir",swing:"Swing",tizen:"Tizen",uc:"UC Browser",vivaldi:"Vivaldi",webos:"WebOS Browser",wechat:"WeChat",yandex:"Yandex Browser"},h.PLATFORMS_MAP={tablet:"tablet",mobile:"mobile",desktop:"desktop",tv:"tv"},h.OS_MAP={WindowsPhone:"Windows Phone",Windows:"Windows",MacOS:"macOS",iOS:"iOS",Android:"Android",WebOS:"WebOS",BlackBerry:"BlackBerry",Bada:"Bada",Tizen:"Tizen",Linux:"Linux",ChromeOS:"Chrome OS",PlayStation4:"PlayStation 4",Roku:"Roku"},h.ENGINE_MAP={EdgeHTML:"EdgeHTML",Blink:"Blink",Trident:"Trident",Presto:"Presto",Gecko:"Gecko",WebKit:"WebKit"}},90:function(S,h,m){"use strict";h.__esModule=!0,h.default=void 0;var f,a=(f=m(91))&&f.__esModule?f:{default:f},n=m(18);function i(t,r){for(var l=0;l<r.length;l++){var p=r[l];p.enumerable=p.enumerable||!1,p.configurable=!0,"value"in p&&(p.writable=!0),Object.defineProperty(t,p.key,p)}}o(i,"a");var e=function(){function t(){}o(t,"e");var r,l,p;return t.getParser=function(v,g){if(g===void 0&&(g=!1),typeof v!="string")throw new Error("UserAgent should be a string");return new a.default(v,g)},t.parse=function(v){return new a.default(v).getResult()},r=t,p=[{key:"BROWSER_MAP",get:function(){return n.BROWSER_MAP}},{key:"ENGINE_MAP",get:function(){return n.ENGINE_MAP}},{key:"OS_MAP",get:function(){return n.OS_MAP}},{key:"PLATFORMS_MAP",get:function(){return n.PLATFORMS_MAP}}],(l=null)&&i(r.prototype,l),p&&i(r,p),t}();h.default=e,S.exports=h.default},91:function(S,h,m){"use strict";h.__esModule=!0,h.default=void 0;var f=t(m(92)),a=t(m(93)),n=t(m(94)),i=t(m(95)),e=t(m(17));function t(l){return l&&l.__esModule?l:{default:l}}o(t,"u");var r=function(){function l(v,g){if(g===void 0&&(g=!1),v==null||v==="")throw new Error("UserAgent parameter can't be empty");this._ua=v,this.parsedResult={},g!==!0&&this.parse()}o(l,"e");var p=l.prototype;return p.getUA=function(){return this._ua},p.test=function(v){return v.test(this._ua)},p.parseBrowser=function(){var v=this;this.parsedResult.browser={};var g=e.default.find(f.default,function(u){if(typeof u.test=="function")return u.test(v);if(u.test instanceof Array)return u.test.some(function(s){return v.test(s)});throw new Error("Browser's test function is not valid")});return g&&(this.parsedResult.browser=g.describe(this.getUA())),this.parsedResult.browser},p.getBrowser=function(){return this.parsedResult.browser?this.parsedResult.browser:this.parseBrowser()},p.getBrowserName=function(v){return v?String(this.getBrowser().name).toLowerCase()||"":this.getBrowser().name||""},p.getBrowserVersion=function(){return this.getBrowser().version},p.getOS=function(){return this.parsedResult.os?this.parsedResult.os:this.parseOS()},p.parseOS=function(){var v=this;this.parsedResult.os={};var g=e.default.find(a.default,function(u){if(typeof u.test=="function")return u.test(v);if(u.test instanceof Array)return u.test.some(function(s){return v.test(s)});throw new Error("Browser's test function is not valid")});return g&&(this.parsedResult.os=g.describe(this.getUA())),this.parsedResult.os},p.getOSName=function(v){var g=this.getOS().name;return v?String(g).toLowerCase()||"":g||""},p.getOSVersion=function(){return this.getOS().version},p.getPlatform=function(){return this.parsedResult.platform?this.parsedResult.platform:this.parsePlatform()},p.getPlatformType=function(v){v===void 0&&(v=!1);var g=this.getPlatform().type;return v?String(g).toLowerCase()||"":g||""},p.parsePlatform=function(){var v=this;this.parsedResult.platform={};var g=e.default.find(n.default,function(u){if(typeof u.test=="function")return u.test(v);if(u.test instanceof Array)return u.test.some(function(s){return v.test(s)});throw new Error("Browser's test function is not valid")});return g&&(this.parsedResult.platform=g.describe(this.getUA())),this.parsedResult.platform},p.getEngine=function(){return this.parsedResult.engine?this.parsedResult.engine:this.parseEngine()},p.getEngineName=function(v){return v?String(this.getEngine().name).toLowerCase()||"":this.getEngine().name||""},p.parseEngine=function(){var v=this;this.parsedResult.engine={};var g=e.default.find(i.default,function(u){if(typeof u.test=="function")return u.test(v);if(u.test instanceof Array)return u.test.some(function(s){return v.test(s)});throw new Error("Browser's test function is not valid")});return g&&(this.parsedResult.engine=g.describe(this.getUA())),this.parsedResult.engine},p.parse=function(){return this.parseBrowser(),this.parseOS(),this.parsePlatform(),this.parseEngine(),this},p.getResult=function(){return e.default.assign({},this.parsedResult)},p.satisfies=function(v){var g=this,u={},s=0,I={},M=0;if(Object.keys(v).forEach(function(P){var k=v[P];typeof k=="string"?(I[P]=k,M+=1):typeof k=="object"&&(u[P]=k,s+=1)}),s>0){var R=Object.keys(u),B=e.default.find(R,function(P){return g.isOS(P)});if(B){var j=this.satisfies(u[B]);if(j!==void 0)return j}var A=e.default.find(R,function(P){return g.isPlatform(P)});if(A){var D=this.satisfies(u[A]);if(D!==void 0)return D}}if(M>0){var $=Object.keys(I),O=e.default.find($,function(P){return g.isBrowser(P,!0)});if(O!==void 0)return this.compareVersion(I[O])}},p.isBrowser=function(v,g){g===void 0&&(g=!1);var u=this.getBrowserName().toLowerCase(),s=v.toLowerCase(),I=e.default.getBrowserTypeByAlias(s);return g&&I&&(s=I.toLowerCase()),s===u},p.compareVersion=function(v){var g=[0],u=v,s=!1,I=this.getBrowserVersion();if(typeof I=="string")return v[0]===">"||v[0]==="<"?(u=v.substr(1),v[1]==="="?(s=!0,u=v.substr(2)):g=[],v[0]===">"?g.push(1):g.push(-1)):v[0]==="="?u=v.substr(1):v[0]==="~"&&(s=!0,u=v.substr(1)),g.indexOf(e.default.compareVersions(I,u,s))>-1},p.isOS=function(v){return this.getOSName(!0)===String(v).toLowerCase()},p.isPlatform=function(v){return this.getPlatformType(!0)===String(v).toLowerCase()},p.isEngine=function(v){return this.getEngineName(!0)===String(v).toLowerCase()},p.is=function(v,g){return g===void 0&&(g=!1),this.isBrowser(v,g)||this.isOS(v)||this.isPlatform(v)},p.some=function(v){var g=this;return v===void 0&&(v=[]),v.some(function(u){return g.is(u)})},l}();h.default=r,S.exports=h.default},92:function(S,h,m){"use strict";h.__esModule=!0,h.default=void 0;var f,a=(f=m(17))&&f.__esModule?f:{default:f},n=/version\/(\d+(\.?_?\d+)+)/i,i=[{test:[/googlebot/i],describe:function(e){var t={name:"Googlebot"},r=a.default.getFirstMatch(/googlebot\/(\d+(\.\d+))/i,e)||a.default.getFirstMatch(n,e);return r&&(t.version=r),t}},{test:[/opera/i],describe:function(e){var t={name:"Opera"},r=a.default.getFirstMatch(n,e)||a.default.getFirstMatch(/(?:opera)[\s/](\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/opr\/|opios/i],describe:function(e){var t={name:"Opera"},r=a.default.getFirstMatch(/(?:opr|opios)[\s/](\S+)/i,e)||a.default.getFirstMatch(n,e);return r&&(t.version=r),t}},{test:[/SamsungBrowser/i],describe:function(e){var t={name:"Samsung Internet for Android"},r=a.default.getFirstMatch(n,e)||a.default.getFirstMatch(/(?:SamsungBrowser)[\s/](\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/Whale/i],describe:function(e){var t={name:"NAVER Whale Browser"},r=a.default.getFirstMatch(n,e)||a.default.getFirstMatch(/(?:whale)[\s/](\d+(?:\.\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/MZBrowser/i],describe:function(e){var t={name:"MZ Browser"},r=a.default.getFirstMatch(/(?:MZBrowser)[\s/](\d+(?:\.\d+)+)/i,e)||a.default.getFirstMatch(n,e);return r&&(t.version=r),t}},{test:[/focus/i],describe:function(e){var t={name:"Focus"},r=a.default.getFirstMatch(/(?:focus)[\s/](\d+(?:\.\d+)+)/i,e)||a.default.getFirstMatch(n,e);return r&&(t.version=r),t}},{test:[/swing/i],describe:function(e){var t={name:"Swing"},r=a.default.getFirstMatch(/(?:swing)[\s/](\d+(?:\.\d+)+)/i,e)||a.default.getFirstMatch(n,e);return r&&(t.version=r),t}},{test:[/coast/i],describe:function(e){var t={name:"Opera Coast"},r=a.default.getFirstMatch(n,e)||a.default.getFirstMatch(/(?:coast)[\s/](\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/opt\/\d+(?:.?_?\d+)+/i],describe:function(e){var t={name:"Opera Touch"},r=a.default.getFirstMatch(/(?:opt)[\s/](\d+(\.?_?\d+)+)/i,e)||a.default.getFirstMatch(n,e);return r&&(t.version=r),t}},{test:[/yabrowser/i],describe:function(e){var t={name:"Yandex Browser"},r=a.default.getFirstMatch(/(?:yabrowser)[\s/](\d+(\.?_?\d+)+)/i,e)||a.default.getFirstMatch(n,e);return r&&(t.version=r),t}},{test:[/ucbrowser/i],describe:function(e){var t={name:"UC Browser"},r=a.default.getFirstMatch(n,e)||a.default.getFirstMatch(/(?:ucbrowser)[\s/](\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/Maxthon|mxios/i],describe:function(e){var t={name:"Maxthon"},r=a.default.getFirstMatch(n,e)||a.default.getFirstMatch(/(?:Maxthon|mxios)[\s/](\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/epiphany/i],describe:function(e){var t={name:"Epiphany"},r=a.default.getFirstMatch(n,e)||a.default.getFirstMatch(/(?:epiphany)[\s/](\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/puffin/i],describe:function(e){var t={name:"Puffin"},r=a.default.getFirstMatch(n,e)||a.default.getFirstMatch(/(?:puffin)[\s/](\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/sleipnir/i],describe:function(e){var t={name:"Sleipnir"},r=a.default.getFirstMatch(n,e)||a.default.getFirstMatch(/(?:sleipnir)[\s/](\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/k-meleon/i],describe:function(e){var t={name:"K-Meleon"},r=a.default.getFirstMatch(n,e)||a.default.getFirstMatch(/(?:k-meleon)[\s/](\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/micromessenger/i],describe:function(e){var t={name:"WeChat"},r=a.default.getFirstMatch(/(?:micromessenger)[\s/](\d+(\.?_?\d+)+)/i,e)||a.default.getFirstMatch(n,e);return r&&(t.version=r),t}},{test:[/qqbrowser/i],describe:function(e){var t={name:/qqbrowserlite/i.test(e)?"QQ Browser Lite":"QQ Browser"},r=a.default.getFirstMatch(/(?:qqbrowserlite|qqbrowser)[/](\d+(\.?_?\d+)+)/i,e)||a.default.getFirstMatch(n,e);return r&&(t.version=r),t}},{test:[/msie|trident/i],describe:function(e){var t={name:"Internet Explorer"},r=a.default.getFirstMatch(/(?:msie |rv:)(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/\sedg\//i],describe:function(e){var t={name:"Microsoft Edge"},r=a.default.getFirstMatch(/\sedg\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/edg([ea]|ios)/i],describe:function(e){var t={name:"Microsoft Edge"},r=a.default.getSecondMatch(/edg([ea]|ios)\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/vivaldi/i],describe:function(e){var t={name:"Vivaldi"},r=a.default.getFirstMatch(/vivaldi\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/seamonkey/i],describe:function(e){var t={name:"SeaMonkey"},r=a.default.getFirstMatch(/seamonkey\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/sailfish/i],describe:function(e){var t={name:"Sailfish"},r=a.default.getFirstMatch(/sailfish\s?browser\/(\d+(\.\d+)?)/i,e);return r&&(t.version=r),t}},{test:[/silk/i],describe:function(e){var t={name:"Amazon Silk"},r=a.default.getFirstMatch(/silk\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/phantom/i],describe:function(e){var t={name:"PhantomJS"},r=a.default.getFirstMatch(/phantomjs\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/slimerjs/i],describe:function(e){var t={name:"SlimerJS"},r=a.default.getFirstMatch(/slimerjs\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/blackberry|\bbb\d+/i,/rim\stablet/i],describe:function(e){var t={name:"BlackBerry"},r=a.default.getFirstMatch(n,e)||a.default.getFirstMatch(/blackberry[\d]+\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/(web|hpw)[o0]s/i],describe:function(e){var t={name:"WebOS Browser"},r=a.default.getFirstMatch(n,e)||a.default.getFirstMatch(/w(?:eb)?[o0]sbrowser\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/bada/i],describe:function(e){var t={name:"Bada"},r=a.default.getFirstMatch(/dolfin\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/tizen/i],describe:function(e){var t={name:"Tizen"},r=a.default.getFirstMatch(/(?:tizen\s?)?browser\/(\d+(\.?_?\d+)+)/i,e)||a.default.getFirstMatch(n,e);return r&&(t.version=r),t}},{test:[/qupzilla/i],describe:function(e){var t={name:"QupZilla"},r=a.default.getFirstMatch(/(?:qupzilla)[\s/](\d+(\.?_?\d+)+)/i,e)||a.default.getFirstMatch(n,e);return r&&(t.version=r),t}},{test:[/firefox|iceweasel|fxios/i],describe:function(e){var t={name:"Firefox"},r=a.default.getFirstMatch(/(?:firefox|iceweasel|fxios)[\s/](\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/electron/i],describe:function(e){var t={name:"Electron"},r=a.default.getFirstMatch(/(?:electron)\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/MiuiBrowser/i],describe:function(e){var t={name:"Miui"},r=a.default.getFirstMatch(/(?:MiuiBrowser)[\s/](\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/chromium/i],describe:function(e){var t={name:"Chromium"},r=a.default.getFirstMatch(/(?:chromium)[\s/](\d+(\.?_?\d+)+)/i,e)||a.default.getFirstMatch(n,e);return r&&(t.version=r),t}},{test:[/chrome|crios|crmo/i],describe:function(e){var t={name:"Chrome"},r=a.default.getFirstMatch(/(?:chrome|crios|crmo)\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/GSA/i],describe:function(e){var t={name:"Google Search"},r=a.default.getFirstMatch(/(?:GSA)\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:function(e){var t=!e.test(/like android/i),r=e.test(/android/i);return t&&r},describe:function(e){var t={name:"Android Browser"},r=a.default.getFirstMatch(n,e);return r&&(t.version=r),t}},{test:[/playstation 4/i],describe:function(e){var t={name:"PlayStation 4"},r=a.default.getFirstMatch(n,e);return r&&(t.version=r),t}},{test:[/safari|applewebkit/i],describe:function(e){var t={name:"Safari"},r=a.default.getFirstMatch(n,e);return r&&(t.version=r),t}},{test:[/.*/i],describe:function(e){var t=e.search("\\(")!==-1?/^(.*)\/(.*)[ \t]\((.*)/:/^(.*)\/(.*) /;return{name:a.default.getFirstMatch(t,e),version:a.default.getSecondMatch(t,e)}}}];h.default=i,S.exports=h.default},93:function(S,h,m){"use strict";h.__esModule=!0,h.default=void 0;var f,a=(f=m(17))&&f.__esModule?f:{default:f},n=m(18),i=[{test:[/Roku\/DVP/],describe:function(e){var t=a.default.getFirstMatch(/Roku\/DVP-(\d+\.\d+)/i,e);return{name:n.OS_MAP.Roku,version:t}}},{test:[/windows phone/i],describe:function(e){var t=a.default.getFirstMatch(/windows phone (?:os)?\s?(\d+(\.\d+)*)/i,e);return{name:n.OS_MAP.WindowsPhone,version:t}}},{test:[/windows /i],describe:function(e){var t=a.default.getFirstMatch(/Windows ((NT|XP)( \d\d?.\d)?)/i,e),r=a.default.getWindowsVersionName(t);return{name:n.OS_MAP.Windows,version:t,versionName:r}}},{test:[/Macintosh(.*?) FxiOS(.*?)\//],describe:function(e){var t={name:n.OS_MAP.iOS},r=a.default.getSecondMatch(/(Version\/)(\d[\d.]+)/,e);return r&&(t.version=r),t}},{test:[/macintosh/i],describe:function(e){var t=a.default.getFirstMatch(/mac os x (\d+(\.?_?\d+)+)/i,e).replace(/[_\s]/g,"."),r=a.default.getMacOSVersionName(t),l={name:n.OS_MAP.MacOS,version:t};return r&&(l.versionName=r),l}},{test:[/(ipod|iphone|ipad)/i],describe:function(e){var t=a.default.getFirstMatch(/os (\d+([_\s]\d+)*) like mac os x/i,e).replace(/[_\s]/g,".");return{name:n.OS_MAP.iOS,version:t}}},{test:function(e){var t=!e.test(/like android/i),r=e.test(/android/i);return t&&r},describe:function(e){var t=a.default.getFirstMatch(/android[\s/-](\d+(\.\d+)*)/i,e),r=a.default.getAndroidVersionName(t),l={name:n.OS_MAP.Android,version:t};return r&&(l.versionName=r),l}},{test:[/(web|hpw)[o0]s/i],describe:function(e){var t=a.default.getFirstMatch(/(?:web|hpw)[o0]s\/(\d+(\.\d+)*)/i,e),r={name:n.OS_MAP.WebOS};return t&&t.length&&(r.version=t),r}},{test:[/blackberry|\bbb\d+/i,/rim\stablet/i],describe:function(e){var t=a.default.getFirstMatch(/rim\stablet\sos\s(\d+(\.\d+)*)/i,e)||a.default.getFirstMatch(/blackberry\d+\/(\d+([_\s]\d+)*)/i,e)||a.default.getFirstMatch(/\bbb(\d+)/i,e);return{name:n.OS_MAP.BlackBerry,version:t}}},{test:[/bada/i],describe:function(e){var t=a.default.getFirstMatch(/bada\/(\d+(\.\d+)*)/i,e);return{name:n.OS_MAP.Bada,version:t}}},{test:[/tizen/i],describe:function(e){var t=a.default.getFirstMatch(/tizen[/\s](\d+(\.\d+)*)/i,e);return{name:n.OS_MAP.Tizen,version:t}}},{test:[/linux/i],describe:function(){return{name:n.OS_MAP.Linux}}},{test:[/CrOS/],describe:function(){return{name:n.OS_MAP.ChromeOS}}},{test:[/PlayStation 4/],describe:function(e){var t=a.default.getFirstMatch(/PlayStation 4[/\s](\d+(\.\d+)*)/i,e);return{name:n.OS_MAP.PlayStation4,version:t}}}];h.default=i,S.exports=h.default},94:function(S,h,m){"use strict";h.__esModule=!0,h.default=void 0;var f,a=(f=m(17))&&f.__esModule?f:{default:f},n=m(18),i=[{test:[/googlebot/i],describe:function(){return{type:"bot",vendor:"Google"}}},{test:[/huawei/i],describe:function(e){var t=a.default.getFirstMatch(/(can-l01)/i,e)&&"Nova",r={type:n.PLATFORMS_MAP.mobile,vendor:"Huawei"};return t&&(r.model=t),r}},{test:[/nexus\s*(?:7|8|9|10).*/i],describe:function(){return{type:n.PLATFORMS_MAP.tablet,vendor:"Nexus"}}},{test:[/ipad/i],describe:function(){return{type:n.PLATFORMS_MAP.tablet,vendor:"Apple",model:"iPad"}}},{test:[/Macintosh(.*?) FxiOS(.*?)\//],describe:function(){return{type:n.PLATFORMS_MAP.tablet,vendor:"Apple",model:"iPad"}}},{test:[/kftt build/i],describe:function(){return{type:n.PLATFORMS_MAP.tablet,vendor:"Amazon",model:"Kindle Fire HD 7"}}},{test:[/silk/i],describe:function(){return{type:n.PLATFORMS_MAP.tablet,vendor:"Amazon"}}},{test:[/tablet(?! pc)/i],describe:function(){return{type:n.PLATFORMS_MAP.tablet}}},{test:function(e){var t=e.test(/ipod|iphone/i),r=e.test(/like (ipod|iphone)/i);return t&&!r},describe:function(e){var t=a.default.getFirstMatch(/(ipod|iphone)/i,e);return{type:n.PLATFORMS_MAP.mobile,vendor:"Apple",model:t}}},{test:[/nexus\s*[0-6].*/i,/galaxy nexus/i],describe:function(){return{type:n.PLATFORMS_MAP.mobile,vendor:"Nexus"}}},{test:[/[^-]mobi/i],describe:function(){return{type:n.PLATFORMS_MAP.mobile}}},{test:function(e){return e.getBrowserName(!0)==="blackberry"},describe:function(){return{type:n.PLATFORMS_MAP.mobile,vendor:"BlackBerry"}}},{test:function(e){return e.getBrowserName(!0)==="bada"},describe:function(){return{type:n.PLATFORMS_MAP.mobile}}},{test:function(e){return e.getBrowserName()==="windows phone"},describe:function(){return{type:n.PLATFORMS_MAP.mobile,vendor:"Microsoft"}}},{test:function(e){var t=Number(String(e.getOSVersion()).split(".")[0]);return e.getOSName(!0)==="android"&&t>=3},describe:function(){return{type:n.PLATFORMS_MAP.tablet}}},{test:function(e){return e.getOSName(!0)==="android"},describe:function(){return{type:n.PLATFORMS_MAP.mobile}}},{test:function(e){return e.getOSName(!0)==="macos"},describe:function(){return{type:n.PLATFORMS_MAP.desktop,vendor:"Apple"}}},{test:function(e){return e.getOSName(!0)==="windows"},describe:function(){return{type:n.PLATFORMS_MAP.desktop}}},{test:function(e){return e.getOSName(!0)==="linux"},describe:function(){return{type:n.PLATFORMS_MAP.desktop}}},{test:function(e){return e.getOSName(!0)==="playstation 4"},describe:function(){return{type:n.PLATFORMS_MAP.tv}}},{test:function(e){return e.getOSName(!0)==="roku"},describe:function(){return{type:n.PLATFORMS_MAP.tv}}}];h.default=i,S.exports=h.default},95:function(S,h,m){"use strict";h.__esModule=!0,h.default=void 0;var f,a=(f=m(17))&&f.__esModule?f:{default:f},n=m(18),i=[{test:function(e){return e.getBrowserName(!0)==="microsoft edge"},describe:function(e){if(/\sedg\//i.test(e))return{name:n.ENGINE_MAP.Blink};var t=a.default.getFirstMatch(/edge\/(\d+(\.?_?\d+)+)/i,e);return{name:n.ENGINE_MAP.EdgeHTML,version:t}}},{test:[/trident/i],describe:function(e){var t={name:n.ENGINE_MAP.Trident},r=a.default.getFirstMatch(/trident\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:function(e){return e.test(/presto/i)},describe:function(e){var t={name:n.ENGINE_MAP.Presto},r=a.default.getFirstMatch(/presto\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:function(e){var t=e.test(/gecko/i),r=e.test(/like gecko/i);return t&&!r},describe:function(e){var t={name:n.ENGINE_MAP.Gecko},r=a.default.getFirstMatch(/gecko\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/(apple)?webkit\/537\.36/i],describe:function(){return{name:n.ENGINE_MAP.Blink}}},{test:[/(apple)?webkit/i],describe:function(e){var t={name:n.ENGINE_MAP.WebKit},r=a.default.getFirstMatch(/webkit\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}}];h.default=i,S.exports=h.default}})})},M5dz:function(N,c,d){var S=d("ekG2");N.exports=function(h,m){if(!S(h))return h;var f,a;if(m&&typeof(f=h.toString)=="function"&&!S(a=f.call(h))||typeof(f=h.valueOf)=="function"&&!S(a=f.call(h))||!m&&typeof(f=h.toString)=="function"&&!S(a=f.call(h)))return a;throw TypeError("Can't convert object to primitive value")}},M9Lm:function(N,c,d){"use strict";var S=this&&this.__awaiter||function(a,n,i,e){function t(r){return r instanceof i?r:new i(function(l){l(r)})}return o(t,"adopt"),new(i||(i=Promise))(function(r,l){function p(u){try{g(e.next(u))}catch(s){l(s)}}o(p,"fulfilled");function v(u){try{g(e.throw(u))}catch(s){l(s)}}o(v,"rejected");function g(u){u.done?r(u.value):t(u.value).then(p,v)}o(g,"step"),g((e=e.apply(a,n||[])).next())})};Object.defineProperty(c,"__esModule",{value:!0});const h=d("hlxM"),m=d("nSNv");let f=o(class extends m.VoiceFocusAudioWorkletNode{enable(){return S(this,void 0,void 0,function*(){this.worker.postMessage({message:"enable"})})}disable(){return S(this,void 0,void 0,function*(){this.worker.postMessage({message:"disable"})})}stop(){return S(this,void 0,void 0,function*(){try{this.worker.postMessage({message:"stop"})}catch{}this.disconnect()})}onWorkerMessage(n){var i;const e=n.data;switch(e.message){case"ready":this.port.postMessage({message:"ready",shared:e.shared},e.shared?Object.values(e.shared):[]);break;case"data":if(!e.buffer)return;this.port.postMessage({message:"data",buffer:e.buffer},[e.buffer]);break;case"stopped":this.worker.terminate();break;case"module-buffer":case"module":this.port.postMessage(e);break;case"cpu":(i=this.delegate)===null||i===void 0||i.onCPUWarning();break;case"processing":this.port.postMessage(e);break;default:return}}onProcessorMessage(n){var i;const e=n.data;switch(e.message){case"data":if(!e.buffer)return;this.worker.postMessage({message:"data",buffer:e.buffer},[e.buffer]);break;case"cpu":(i=this.delegate)===null||i===void 0||i.onCPUWarning();break;case"prepare-for-frames":this.worker.postMessage(e);break;default:return}}constructor(n,i){super(n,i.processor,i),this.channelCountMode="explicit",this.channelCount=1;const{modelURL:e,audioBufferURL:t,worker:r,fetchBehavior:l,delegate:p}=i;this.delegate=p,this.worker=r,this.worker.onmessage=this.onWorkerMessage.bind(this),this.port.onmessage=this.onProcessorMessage.bind(this);const{enabled:v,agc:g,supportFarendStream:u}=i.processorOptions;this.worker.postMessage({message:"init",approach:"postMessage",frames:n.sampleRate===16e3?160:480,enabled:v,agc:g,fetchBehavior:l,model:e,supportFarendStream:u});const s=h.supportsWASMPostMessage(globalThis)?"get-module":"get-module-buffer";this.worker.postMessage({message:s,key:"buffer",fetchBehavior:l,path:t})}},"VoiceFocusWorkerPostMessageNode");c.default=f},MBy0:function(N,c,d){d("4Zg2")("asyncIterator")},MFJ1:function(N,c,d){"use strict";var S=this&&this.__awaiter||function(a,n,i,e){function t(r){return r instanceof i?r:new i(function(l){l(r)})}return o(t,"adopt"),new(i||(i=Promise))(function(r,l){function p(u){try{g(e.next(u))}catch(s){l(s)}}o(p,"fulfilled");function v(u){try{g(e.throw(u))}catch(s){l(s)}}o(v,"rejected");function g(u){u.done?r(u.value):t(u.value).then(p,v)}o(g,"step"),g((e=e.apply(a,n||[])).next())})};Object.defineProperty(c,"__esModule",{value:!0});const h=d("rwhO"),m=d("3EKQ");let f=o(class{start(){if(!this.reportingEvents)try{this.eventBuffer.start(),this.logger.info("Event reporting started"),this.reportingEvents=!0}catch(n){this.logger.error(`Event Reporting - Error starting the event buffer ${n}`)}}stop(){if(this.reportingEvents)try{this.eventBuffer.stop(),this.logger.info("Event reporting stopped"),this.reportingEvents=!1}catch(n){this.logger.error(`Event Reporting - Error stopping the event buffer ${n}`)}}reportEvent(n,i,e){return S(this,void 0,void 0,function*(){if(this.logger.debug(`Event Reporting - DefaultMeetingEventReporter - event received in reportEvent ${n}, ${i}, ${JSON.stringify(e)}`),this.eventsToIgnore.includes(i)){this.logger.debug(`Event Reporting - DefaultMeetingEventReporter - ${i} event will be ignored as it is in events to ignore`);return}try{this.logger.debug("Event Reporting - DefaultMeetingEventReporter - adding item to event buffer"),yield this.eventBuffer.addItem({ts:n,name:i,attributes:e})}catch(t){this.logger.error(`Event Reporting - Error adding event to buffer ${t}`)}})}destroy(){return S(this,void 0,void 0,function*(){this.destroyed=!0,this.stop(),h.isDestroyable(this.eventBuffer)&&this.eventBuffer.destroy(),this.eventBuffer=void 0})}constructor(n,i){this.reportingEvents=!1,this.importantEvents=["meetingEnded","meetingFailed","meetingStartFailed","audioInputFailed","videoInputFailed","meetingStartSucceeded"],this.destroyed=!1;const{eventsClientConfiguration:e,ingestionURL:t,eventBufferConfiguration:r}=n,{eventsToIgnore:l}=e;this.eventBuffer=new m.default(r,e,t,this.importantEvents,i),this.logger=i,this.eventsToIgnore=l,this.start()}},"DefaultMeetingEventReporter");c.default=f},ML5K:function(N,c,d){"use strict";Object.defineProperty(c,"__esModule",{value:!0});const S=d("6/h7"),h=d("8wPz"),m=d("hEYi"),f=d("f2XL"),a=d("KyYT");let n=o(class{addObserver(e){this.logger.info("adding a ping-pong observer"),this.observerQueue.add(e)}removeObserver(e){this.logger.info("removing a ping-pong observer"),this.observerQueue.delete(e)}forEachObserver(e){for(const t of this.observerQueue)S.default.nextTick(()=>{this.observerQueue.has(t)&&e(t)})}start(){this.stop(),this.signalingClient.registerObserver(this),this.signalingClient.ready()&&this.startPingInterval()}stop(){this.stopPingInterval(),this.signalingClient.removeObserver(this)}startPingInterval(){this.intervalScheduler.start(()=>{this.ping()}),this.ping()}stopPingInterval(){this.intervalScheduler.stop(),this.pingId=0,this.consecutivePongsUnaccountedFor=0}ping(){this.consecutivePongsUnaccountedFor>0&&(this.logger.warn(`missed pong ${this.consecutivePongsUnaccountedFor} time(s)`),this.forEachObserver(t=>{a.Maybe.of(t.didMissPongs).map(r=>r.bind(t)(this.consecutivePongsUnaccountedFor))})),this.consecutivePongsUnaccountedFor+=1,this.pingId=this.pingId+1&4294967295;const e=f.SdkPingPongFrame.create();e.pingId=this.pingId,e.type=f.SdkPingPongType.PING,this.pingTimestampLocalMs=this.signalingClient.pingPong(e),this.logger.debug(()=>`sent ping ${this.pingId}`)}pong(e){const t=f.SdkPingPongFrame.create();t.pingId=e,t.type=f.SdkPingPongType.PONG,this.signalingClient.pingPong(t)}handleSignalingClientEvent(e){switch(e.type){case m.default.WebSocketOpen:this.startPingInterval();break;case m.default.WebSocketFailed:case m.default.WebSocketError:this.logger.warn(`stopped pinging (${m.default[e.type]})`),this.stopPingInterval();break;case m.default.WebSocketClosing:case m.default.WebSocketClosed:this.logger.info(`stopped pinging (${m.default[e.type]})`),this.stopPingInterval();break;case m.default.ReceivedSignalFrame:if(e.message.type!==f.SdkSignalFrame.Type.PING_PONG)break;if(e.message.pingPong.type===f.SdkPingPongType.PONG){const t=e.message.pingPong.pingId;if(t!==this.pingId){this.logger.warn(`unexpected ping id ${t} (expected ${this.pingId})`);break}this.consecutivePongsUnaccountedFor=0;let r;if(typeof e.message.timestampMs=="number")r=e.message.timestampMs;else break;this.logger.debug(()=>`received pong ${t} with timestamp ${r}`);const p=e.timestampMs-this.pingTimestampLocalMs,v=Math.round(r-p/2),g=this.pingTimestampLocalMs-v;this.logger.info(`local clock skew estimate=${g}ms from ping-pong time=${p}ms`),this.forEachObserver(u=>{a.Maybe.of(u.didReceivePong).map(s=>s.bind(u)(t,g,p))})}else this.pong(e.message.pingPong.pingId);break}}constructor(e,t,r){this.signalingClient=e,this.intervalMs=t,this.logger=r,this.observerQueue=new Set,this.consecutivePongsUnaccountedFor=0,this.intervalScheduler=new h.default(this.intervalMs),this.pingId=0}},"DefaultPingPong");c.default=n},MW3S:function(N,c,d){"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.numToUint8=void 0;function S(h){return new Uint8Array([(h&4278190080)>>24,(h&16711680)>>16,(h&65280)>>8,h&255])}o(S,"numToUint8"),c.numToUint8=S},MdQ0:function(N,c,d){"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.uint32ArrayFrom=c.numToUint8=c.isEmptyData=c.convertToBuffer=void 0;var S=d("xsFo");Object.defineProperty(c,"convertToBuffer",{enumerable:!0,get:function(){return S.convertToBuffer}});var h=d("C5aR");Object.defineProperty(c,"isEmptyData",{enumerable:!0,get:function(){return h.isEmptyData}});var m=d("MW3S");Object.defineProperty(c,"numToUint8",{enumerable:!0,get:function(){return m.numToUint8}});var f=d("ZzQ1");Object.defineProperty(c,"uint32ArrayFrom",{enumerable:!0,get:function(){return f.uint32ArrayFrom}})},MelK:function(N,c,d){"use strict";Object.defineProperty(c,"__esModule",{value:!0});const S=d("cYl2");let h=o(class kd{compress(f,a){if(a.length>0){const e=Math.min(a.length,kd.MAX_DICTIONARY_SIZE);a=a.slice(0,e)}const n={memLevel:kd.Z_MEM_LEVEL,dictionary:a};return S.deflateRaw(f,n)}decompress(f,a){if(a.length>0){const e=Math.min(a.length,kd.MAX_DICTIONARY_SIZE);a=a.slice(0,e)}const n={to:"string",dictionary:a,chunkSize:4096};let i="";try{i=S.inflateRaw(f,n)}catch(e){this.logger.error(`failed to decompress the string with error: [${e}]`)}return i}constructor(f){this.logger=f}},"ZLIBTextCompressor");c.default=h,h.Z_MEM_LEVEL=9,h.MAX_DICTIONARY_SIZE=31744},MhWp:function(N,c,d){"use strict";Object.defineProperty(c,"__esModule",{value:!0});const S=d("f2XL");let h=o(class lv{clone(){const f=new lv;return f.attendeeId=this.attendeeId,f.groupId=this.groupId,f.streamId=this.streamId,f.ssrc=this.ssrc,f.trackLabel=this.trackLabel,f.maxBitrateKbps=this.maxBitrateKbps,f.avgBitrateKbps=this.avgBitrateKbps,f.maxFrameRate=this.maxFrameRate,f.timeEnabled=this.timeEnabled,f.disabledByWebRTC=this.disabledByWebRTC,f.disabledByUplinkPolicy=this.disabledByUplinkPolicy,f}toStreamDescriptor(){const f=S.SdkStreamDescriptor.create();return f.mediaType=S.SdkStreamMediaType.VIDEO,f.trackLabel=this.trackLabel,f.attendeeId=this.attendeeId,f.streamId=this.streamId,f.groupId=this.groupId,f.framerate=this.maxFrameRate,f.maxBitrateKbps=this.disabledByUplinkPolicy||this.disabledByWebRTC?0:this.maxBitrateKbps,f.avgBitrateBps=this.avgBitrateKbps,f}constructor(f,a,n,i,e){this.attendeeId="",this.groupId=0,this.streamId=0,this.ssrc=0,this.trackLabel="",this.maxBitrateKbps=0,this.avgBitrateKbps=0,this.maxFrameRate=0,this.timeEnabled=0,this.disabledByWebRTC=!1,this.disabledByUplinkPolicy=!1,this.attendeeId=f,this.groupId=a,this.streamId=n,this.maxBitrateKbps=i,this.avgBitrateKbps=e}},"VideoStreamDescription");c.default=h},MpTp:function(N,c,d){"use strict";Object.defineProperty(c,"__esModule",{value:!0});let S=o(class kh{add(m){this.ids.add(m)}array(){return Array.from(this.ids.values()).sort((f,a)=>f-a)}contain(m){return this.ids.has(m)}forEach(m){this.ids.forEach(m)}empty(){return this.ids.size===0}size(){return this.ids.size}equal(m){if(!m)return this.ids.size===0;const f=this.array(),a=m.array();if(f.length!==a.length)return!1;for(let n=0;n<f.length;n++)if(f[n]!==a[n])return!1;return!0}clone(){return new kh(this.array())}remove(m){this.ids.delete(m)}toJSON(){return this.array()}truncate(m){const f=this.array();return new kh(f.splice(0,m))}constructor(m){this.ids=new Set(m)}},"DefaultVideoStreamIdSet");c.default=S},Mr6q:function(N,c,d){"use strict";Object.defineProperty(c,"__esModule",{value:!0});let S=o(class{addObserver(m){this.observers.add(m)}removeObserver(m){this.observers.delete(m)}filterFrameDurationHigh(m){var f;for(const a of this.observers)(f=a.filterFrameDurationHigh)===null||f===void 0||f.call(a,m)}filterCPUUtilizationHigh(m){var f;for(const a of this.observers)(f=a.filterCPUUtilizationHigh)===null||f===void 0||f.call(a,m)}constructor(){this.observers=new Set}},"BackgroundFilterVideoFrameProcessorDelegate");c.default=S},MwVV:function(N,c,d){(function(S){var h,m,f;N.exports=function(V){var n={},i={exports:n},e=V.AbortController,t=V.AbortSignal,r=V.addEventListener,l=V.alert,p=V.AnalyserNode,v=V.Animation,g=V.AnimationEffectReadOnly,u=V.AnimationEffectTiming,s=V.AnimationEffectTimingReadOnly,I=V.AnimationEvent,M=V.AnimationPlaybackEvent,R=V.AnimationTimeline,B=V.applicationCache,j=V.ApplicationCache,A=V.ApplicationCacheErrorEvent,D=V.atob,$=V.Attr,O=V.Audio,P=V.AudioBuffer,k=V.AudioBufferSourceNode,K=V.AudioContext,Z=V.AudioDestinationNode,Y=V.AudioListener,ie=V.AudioNode,ge=V.AudioParam,Ie=V.AudioProcessingEvent,le=V.AudioScheduledSourceNode,we=V.AudioWorkletGlobalScope,Be=V.AudioWorkletNode,Re=V.AudioWorkletProcessor,Ne=V.BarProp,_e=V.BaseAudioContext,Ze=V.BatteryManager,tt=V.BeforeUnloadEvent,$e=V.BiquadFilterNode,at=V.Blob,lt=V.BlobEvent,ot=V.blur,Gt=V.BroadcastChannel,Zt=V.btoa,un=V.BudgetService,Un=V.ByteLengthQueuingStrategy,jn=V.Cache,ci=V.CacheStorage,fn=V.cancelAnimationFrame,ri=V.cancelIdleCallback,gi=V.CanvasCaptureMediaStreamTrack,Nn=V.CanvasGradient,Ti=V.CanvasPattern,Bi=V.CanvasRenderingContext2D,vn=V.ChannelMergerNode,Mn=V.ChannelSplitterNode,Ot=V.CharacterData,Ke=V.clearInterval,gt=V.clearTimeout,ht=V.clientInformation,en=V.ClipboardEvent,Kn=V.close,li=V.closed,Ee=V.CloseEvent,Pe=V.Comment,Fe=V.CompositionEvent,Dt=V.confirm,zt=V.console,Ut=V.ConstantSourceNode,bn=V.ConvolverNode,wn=V.CountQueuingStrategy,pn=V.createImageBitmap,xt=V.Credential,Vn=V.CredentialsContainer,on=V.crypto,Xn=V.Crypto,vi=V.CryptoKey,kr=V.CSS,Gr=V.CSSConditionRule,Lr=V.CSSFontFaceRule,hi=V.CSSGroupingRule,_r=V.CSSImportRule,Ii=V.CSSKeyframeRule,Nr=V.CSSKeyframesRule,or=V.CSSMatrixComponent,fi=V.CSSMediaRule,Er=V.CSSNamespaceRule,oi=V.CSSPageRule,tr=V.CSSPerspective,Jn=V.CSSRotate,sr=V.CSSRule,$i=V.CSSRuleList,Tr=V.CSSScale,Ir=V.CSSSkew,Ki=V.CSSSkewX,Or=V.CSSSkewY,H=V.CSSStyleDeclaration,te=V.CSSStyleRule,Oe=V.CSSStyleSheet,ke=V.CSSSupportsRule,Ge=V.CSSTransformValue,ft=V.CSSTranslate,pt=V.CustomElementRegistry,ct=V.customElements,St=V.CustomEvent,Mt=V.DataTransfer,kt=V.DataTransferItem,En=V.DataTransferItemList,$t=V.defaultstatus,Hn=V.defaultStatus,bt=V.DelayNode,Zn=V.DeviceMotionEvent,zn=V.DeviceOrientationEvent,yi=V.devicePixelRatio,ei=V.dispatchEvent,$n=V.document,Ei=V.Document,Pi=V.DocumentFragment,pi=V.DocumentType,di=V.DOMError,wi=V.DOMException,tn=V.DOMImplementation,si=V.DOMMatrix,Qn=V.DOMMatrixReadOnly,Di=V.DOMParser,io=V.DOMPoint,mi=V.DOMPointReadOnly,Br=V.DOMQuad,Ui=V.DOMRect,zs=V.DOMRectList,Xi=V.DOMRectReadOnly,Ji=V.DOMStringList,ti=V.DOMStringMap,Jt=V.DOMTokenList,ar=V.DragEvent,Jo=V.DynamicsCompressorNode,ro=V.Element,Hi=V.ErrorEvent,$r=V.event,Fr=V.Event,Zi=V.EventSource,Ss=V.EventTarget,ys=V.external,xi=V.fetch,hr=V.File,bo=V.FileList,Cs=V.FileReader,Mr=V.find,ho=V.focus,oo=V.FocusEvent,Eo=V.FontFace,Yo=V.FontFaceSetLoadEvent,Xo=V.FormData,Lo=V.frameElement,Zo=V.frames,fo=V.GainNode,Ur=V.Gamepad,Ar=V.GamepadButton,To=V.GamepadEvent,po=V.getComputedStyle,Kr=V.getSelection,_o=V.HashChangeEvent,No=V.Headers,Bo=V.history,nr=V.History,Fo=V.HTMLAllCollection,Qo=V.HTMLAnchorElement,Uo=V.HTMLAreaElement,Vr=V.HTMLAudioElement,so=V.HTMLBaseElement,fr=V.HTMLBodyElement,Rr=V.HTMLBRElement,Vo=V.HTMLButtonElement,Jr=V.HTMLCanvasElement,qo=V.HTMLCollection,wr=V.HTMLContentElement,mo=V.HTMLDataElement,Io=V.HTMLDataListElement,Pr=V.HTMLDetailsElement,Hr=V.HTMLDialogElement,wo=V.HTMLDirectoryElement,Ho=V.HTMLDivElement,js=V.HTMLDListElement,Dr=V.HTMLDocument,es=V.HTMLElement,zr=V.HTMLEmbedElement,bs=V.HTMLFieldSetElement,Es=V.HTMLFontElement,lr=V.HTMLFormControlsCollection,Yr=V.HTMLFormElement,Xr=V.HTMLFrameElement,ts=V.HTMLFrameSetElement,ns=V.HTMLHeadElement,Ws=V.HTMLHeadingElement,Oo=V.HTMLHRElement,is=V.HTMLHtmlElement,Ts=V.HTMLIFrameElement,rs=V.HTMLImageElement,Zr=V.HTMLInputElement,Is=V.HTMLLabelElement,Mo=V.HTMLLegendElement,Qi=V.HTMLLIElement,Ao=V.HTMLLinkElement,jr=V.HTMLMapElement,Ro=V.HTMLMarqueeElement,ao=V.HTMLMediaElement,go=V.HTMLMenuElement,lo=V.HTMLMetaElement,ra=V.HTMLMeterElement,Gs=V.HTMLModElement,oa=V.HTMLObjectElement,$s=V.HTMLOListElement,Qr=V.HTMLOptGroupElement,Ks=V.HTMLOptionElement,os=V.HTMLOptionsCollection,Ra=V.HTMLOutputElement,qr=V.HTMLParagraphElement,zo=V.HTMLParamElement,pr=V.HTMLPictureElement,cr=V.HTMLPreElement,Pa=V.HTMLProgressElement,sa=V.HTMLQuoteElement,ki=V.HTMLScriptElement,ss=V.HTMLSelectElement,vo=V.HTMLShadowElement,eo=V.HTMLSlotElement,zi=V.HTMLSourceElement,ws=V.HTMLSpanElement,Os=V.HTMLStyleElement,Ms=V.HTMLTableCaptionElement,as=V.HTMLTableCellElement,ls=V.HTMLTableColElement,cs=V.HTMLTableElement,As=V.HTMLTableRowElement,aa=V.HTMLTableSectionElement,he=V.HTMLTemplateElement,re=V.HTMLTextAreaElement,q=V.HTMLTimeElement,L=V.HTMLTitleElement,G=V.HTMLTrackElement,se=V.HTMLUListElement,oe=V.HTMLUnknownElement,Ce=V.HTMLVideoElement,Ae=V.IDBCursor,xe=V.IDBCursorWithValue,Ve=V.IDBDatabase,He=V.IDBFactory,Je=V.IDBIndex,et=V.IDBKeyRange,mt=V.IDBObjectStore,Rt=V.IDBOpenDBRequest,Kt=V.IDBRequest,Yt=V.IDBTransaction,an=V.IDBVersionChangeEvent,cn=V.IdleDeadline,Tn=V.IIRFilterNode,wt=V.Image,ni=V.ImageBitmap,qn=V.ImageBitmapRenderingContext,Oi=V.ImageCapture,Li=V.ImageData,Mi=V.indexedDB,Si=V.innerHeight,Fi=V.innerWidth,Ri=V.InputEvent,qi=V.IntersectionObserver,to=V.IntersectionObserverEntry,xr=V.Intl,mr=V.isSecureContext,Da=V.KeyboardEvent,co=V.KeyframeEffect,jo=V.KeyframeEffectReadOnly,Rs=V.length,sl=V.localStorage,Js=V.location,In=V.Location,nn=V.locationbar,Fl=V.matchMedia,Ec=V.MediaDeviceInfo,al=V.MediaDevices,Gi=V.MediaElementAudioSourceNode,Ul=V.MediaEncryptedEvent,xa=V.MediaError,la=V.MediaKeyMessageEvent,Tc=V.MediaKeySession,ll=V.MediaKeyStatusMap,cl=V.MediaKeySystemAccess,dl=V.MediaList,ka=V.MediaMetadata,dr=V.MediaQueryList,rn=V.MediaQueryListEvent,Yn=V.MediaRecorder,It=V.MediaSettingsRange,Ic=V.MediaSource,ul=V.MediaStream,Wo=V.MediaStreamAudioDestinationNode,Ys=V.MediaStreamAudioSourceNode,Xs=V.MediaStreamEvent,Ps=V.MediaStreamTrack,ca=V.MediaStreamTrackEvent,wc=V.menubar,Go=V.MessageChannel,da=V.MessageEvent,hl=V.MessagePort,Oc=V.MIDIAccess,Mc=V.MIDIConnectionEvent,Ac=V.MIDIInput,Zs=V.MIDIInputMap,Vl=V.MIDIMessageEvent,ua=V.MIDIOutput,ha=V.MIDIOutputMap,Hl=V.MIDIPort,La=V.MimeType,Rc=V.MimeTypeArray,zl=V.MouseEvent,Pc=V.moveBy,jl=V.moveTo,Dc=V.MutationEvent,_a=V.MutationObserver,Na=V.MutationRecord,Ba=V.name,fl=V.NamedNodeMap,er=V.NavigationPreloadManager,ds=V.navigator,Fa=V.Navigator,Ua=V.NetworkInformation,Va=V.Node,Ha=V.NodeFilter,b=V.NodeIterator,F=V.NodeList,w=V.Notification,X=V.OfflineAudioCompletionEvent,z=V.OfflineAudioContext,ae=V.offscreenBuffering,be=V.OffscreenCanvas,ve=V.OffscreenCanvasRenderingContext2D,qe=V.onabort,pe=V.onafterprint,Te=V.onanimationend,Qt=V.onanimationiteration,Xe=V.onanimationstart,Ue=V.onappinstalled,yt=V.onauxclick,Bn=V.onbeforeinstallprompt,Xt=V.onbeforeprint,Nt=V.onbeforeunload,hn=V.onblur,jt=V.oncancel,Ye=V.oncanplay,qt=V.oncanplaythrough,We=V.onchange,Ct=V.onclick,nt=V.onclose,mn=V.oncontextmenu,Bt=V.oncuechange,Ht=V.ondblclick,Wr=V.ondevicemotion,dn=V.ondeviceorientation,pl=V.ondeviceorientationabsolute,ln=V.ondrag,Ds=V.ondragend,us=V.ondragenter,$h=V.ondragleave,Kh=V.ondragover,Jh=V.ondragstart,Yh=V.ondrop,Wd=V.ondurationchange,fa=V.onemptied,ml=V.onended,gl=V.onerror,Wl=V.onfocus,Xh=V.ongotpointercapture,Gd=V.onhashchange,Zh=V.oninput,Qh=V.oninvalid,qh=V.onkeydown,rd=V.onkeypress,ef=V.onkeyup,od=V.onlanguagechange,tf=V.onload,Mv=V.onloadeddata,nf=V.onloadedmetadata,rf=V.onloadstart,of=V.onlostpointercapture,$d=V.onmessage,sf=V.onmessageerror,Kd=V.onmousedown,Qs=V.onmouseenter,qs=V.onmouseleave,vl=V.onmousemove,Jd=V.onmouseout,uo=V.onmouseover,Sl=V.onmouseup,Gl=V.onmousewheel,sd=V.onoffline,Yd=V.ononline,Xd=V.onpagehide,Zd=V.onpageshow,Qd=V.onpause,qd=V.onplay,xs=V.onplaying,eu=V.onpointercancel,tu=V.onpointerdown,nu=V.onpointerenter,iu=V.onpointerleave,ru=V.onpointermove,Av=V.onpointerout,af=V.onpointerover,lf=V.onpointerup,ad=V.onpopstate,ld=V.onprogress,cd=V.onratechange,dd=V.onrejectionhandled,ud=V.onreset,hd=V.onresize,fd=V.onscroll,pd=V.onsearch,md=V.onseeked,cf=V.onseeking,df=V.onselect,uf=V.onstalled,hf=V.onstorage,ff=V.onsubmit,So=V.onsuspend,gd=V.ontimeupdate,pf=V.ontoggle,mf=V.ontransitionend,On=V.onunhandledrejection,gf=V.onunload,vf=V.onvolumechange,Rv=V.onwaiting,yo=V.onwheel,Sf=V.open,yf=V.openDatabase,Cf=V.opener,$l=V.Option,Kl=V.origin,Jl=V.OscillatorNode,Yl=V.outerHeight,Xl=V.outerWidth,Zl=V.OverconstrainedError,Ql=V.PageTransitionEvent,ql=V.pageXOffset,ec=V.pageYOffset,bf=V.PannerNode,Ef=V.parent,Tf=V.Path2D,If=V.PaymentAddress,wf=V.PaymentRequest,Of=V.PaymentRequestUpdateEvent,Mf=V.PaymentResponse,Af=V.performance,Rf=V.Performance,Pf=V.PerformanceEntry,Df=V.PerformanceLongTaskTiming,xf=V.PerformanceMark,kf=V.PerformanceMeasure,gr=V.PerformanceNavigation,ou=V.PerformanceNavigationTiming,su=V.PerformanceObserver,au=V.PerformanceObserverEntryList,lu=V.PerformancePaintTiming,cu=V.PerformanceResourceTiming,du=V.PerformanceTiming,tc=V.PeriodicWave,uu=V.Permissions,nc=V.PermissionStatus,vd=V.personalbar,hu=V.PhotoCapabilities,fu=V.Plugin,pu=V.PluginArray,mu=V.PointerEvent,ic=V.PopStateEvent,Sd=V.postMessage,gu=V.Presentation,xc=V.PresentationAvailability,vu=V.PresentationConnection,Su=V.PresentationConnectionAvailableEvent,yu=V.PresentationConnectionCloseEvent,yd=V.PresentationConnectionList,Cu=V.PresentationReceiver,bu=V.PresentationRequest,rc=V.print,Eu=V.ProcessingInstruction,Tu=V.ProgressEvent,Iu=V.PromiseRejectionEvent,wu=V.prompt,Ou=V.PushManager,Mu=V.PushSubscription,Au=V.PushSubscriptionOptions,Ru=V.queueMicrotask,Pu=V.RadioNodeList,Du=V.Range,xu=V.ReadableStream,ku=V.registerProcessor,Lu=V.RemotePlayback,_u=V.removeEventListener,Nu=V.Request,Bu=V.requestAnimationFrame,Fu=V.requestIdleCallback,Uu=V.resizeBy,Vu=V.ResizeObserver,Hu=V.ResizeObserverEntry,zu=V.resizeTo,ju=V.Response,Wu=V.RTCCertificate,Gu=V.RTCDataChannel,$u=V.RTCDataChannelEvent,Ku=V.RTCDtlsTransport,Ju=V.RTCIceCandidate,Yu=V.RTCIceGatherer,Xu=V.RTCIceTransport,Zu=V.RTCPeerConnection,Qu=V.RTCPeerConnectionIceEvent,qu=V.RTCRtpContributingSource,eh=V.RTCRtpReceiver,th=V.RTCRtpSender,nh=V.RTCSctpTransport,ih=V.RTCSessionDescription,rh=V.RTCStatsReport,oh=V.RTCTrackEvent,sh=V.screen,ah=V.Screen,lh=V.screenLeft,ch=V.ScreenOrientation,dh=V.screenTop,uh=V.screenX,hh=V.screenY,Lf=V.ScriptProcessorNode,_f=V.scroll,Nf=V.scrollbars,Bf=V.scrollBy,Ff=V.scrollTo,Uf=V.scrollX,Vf=V.scrollY,Hf=V.SecurityPolicyViolationEvent,zf=V.Selection,oc=V.self,jf=V.ServiceWorker,Wf=V.ServiceWorkerContainer,Gf=V.ServiceWorkerRegistration,$f=V.sessionStorage,Kf=V.setInterval,fh=V.setTimeout,Jf=V.ShadowRoot,Yf=V.SharedWorker,Xf=V.SourceBuffer,Zf=V.SourceBufferList,Qf=V.speechSynthesis,qf=V.SpeechSynthesisEvent,ep=V.SpeechSynthesisUtterance,tp=V.StaticRange,np=V.status,ip=V.statusbar,rp=V.StereoPannerNode,op=V.stop,sp=V.Storage,ap=V.StorageEvent,lp=V.StorageManager,cp=V.styleMedia,dp=V.StyleSheet,up=V.StyleSheetList,hp=V.SubtleCrypto,fp=V.SVGAElement,pp=V.SVGAngle,mp=V.SVGAnimatedAngle,gp=V.SVGAnimatedBoolean,vp=V.SVGAnimatedEnumeration,Sp=V.SVGAnimatedInteger,yp=V.SVGAnimatedLength,Cp=V.SVGAnimatedLengthList,bp=V.SVGAnimatedNumber,Ep=V.SVGAnimatedNumberList,Tp=V.SVGAnimatedPreserveAspectRatio,Ip=V.SVGAnimatedRect,wp=V.SVGAnimatedString,Op=V.SVGAnimatedTransformList,Mp=V.SVGAnimateElement,Ap=V.SVGAnimateMotionElement,Rp=V.SVGAnimateTransformElement,Pp=V.SVGAnimationElement,Dp=V.SVGCircleElement,xp=V.SVGClipPathElement,kp=V.SVGComponentTransferFunctionElement,Lp=V.SVGDefsElement,_p=V.SVGDescElement,Np=V.SVGDiscardElement,Bp=V.SVGElement,Fp=V.SVGEllipseElement,Up=V.SVGFEBlendElement,Vp=V.SVGFEColorMatrixElement,Hp=V.SVGFEComponentTransferElement,zp=V.SVGFECompositeElement,jp=V.SVGFEConvolveMatrixElement,Wp=V.SVGFEDiffuseLightingElement,Gp=V.SVGFEDisplacementMapElement,$p=V.SVGFEDistantLightElement,Kp=V.SVGFEDropShadowElement,Jp=V.SVGFEFloodElement,Yp=V.SVGFEFuncAElement,Xp=V.SVGFEFuncBElement,Zp=V.SVGFEFuncGElement,Qp=V.SVGFEFuncRElement,qp=V.SVGFEGaussianBlurElement,em=V.SVGFEImageElement,tm=V.SVGFEMergeElement,nm=V.SVGFEMergeNodeElement,im=V.SVGFEMorphologyElement,rm=V.SVGFEOffsetElement,om=V.SVGFEPointLightElement,sm=V.SVGFESpecularLightingElement,am=V.SVGFESpotLightElement,lm=V.SVGFETileElement,cm=V.SVGFETurbulenceElement,dm=V.SVGFilterElement,um=V.SVGForeignObjectElement,hm=V.SVGGElement,fm=V.SVGGeometryElement,pm=V.SVGGradientElement,mm=V.SVGGraphicsElement,gm=V.SVGImageElement,vm=V.SVGLength,Sm=V.SVGLengthList,ym=V.SVGLinearGradientElement,Cm=V.SVGLineElement,bm=V.SVGMarkerElement,Em=V.SVGMaskElement,Tm=V.SVGMatrix,Im=V.SVGMetadataElement,wm=V.SVGMPathElement,Om=V.SVGNumber,Mm=V.SVGNumberList,Am=V.SVGPathElement,Rm=V.SVGPatternElement,Pm=V.SVGPoint,Dm=V.SVGPointList,xm=V.SVGPolygonElement,km=V.SVGPolylineElement,Lm=V.SVGPreserveAspectRatio,_m=V.SVGRadialGradientElement,Nm=V.SVGRect,Bm=V.SVGRectElement,Fm=V.SVGScriptElement,Um=V.SVGSetElement,Vm=V.SVGStopElement,Hm=V.SVGStringList,zm=V.SVGStyleElement,jm=V.SVGSVGElement,Wm=V.SVGSwitchElement,Gm=V.SVGSymbolElement,$m=V.SVGTextContentElement,Km=V.SVGTextElement,Jm=V.SVGTextPathElement,Ym=V.SVGTextPositioningElement,Xm=V.SVGTitleElement,Zm=V.SVGTransform,Qm=V.SVGTransformList,qm=V.SVGTSpanElement,eg=V.SVGUnitTypes,tg=V.SVGUseElement,ng=V.SVGViewElement,ig=V.TaskAttributionTiming,rg=V.Text,og=V.TextDecoder,sg=V.TextEncoder,ag=V.TextEvent,lg=V.TextMetrics,cg=V.TextTrack,dg=V.TextTrackCue,ug=V.TextTrackCueList,hg=V.TextTrackList,fg=V.TimeRanges,pg=V.toolbar,mg=V.top,gg=V.Touch,vg=V.TouchEvent,Sg=V.TouchList,yg=V.TrackEvent,Cg=V.TransitionEvent,bg=V.TreeWalker,Eg=V.UIEvent,An=V.URL,Fn=V.URLSearchParams,vr=V.ValidityState,Rn=V.visualViewport,ks=V.VisualViewport,za=V.VTTCue,Pn=V.WaveShaperNode,Dn=V.WebAssembly,xn=V.WebGL2RenderingContext,kn=V.WebGLActiveInfo,Tg=V.WebGLBuffer,Ig=V.WebGLContextEvent,wg=V.WebGLFramebuffer,Og=V.WebGLProgram,Mg=V.WebGLQuery,ph=V.WebGLRenderbuffer,Ag=V.WebGLRenderingContext,Rg=V.WebGLSampler,Pg=V.WebGLShader,Dg=V.WebGLShaderPrecisionFormat,mh=V.WebGLSync,xg=V.WebGLTexture,kg=V.WebGLTransformFeedback,Cd=V.WebGLUniformLocation,gh=V.WebGLVertexArrayObject,bd=V.WebSocket,Ed=V.WheelEvent,V=V.window,$o=V.Window,Lg=V.Worker,ui=V.WritableStream,ii=V.XMLDocument,Ln=V.XMLHttpRequest,_n=V.XMLHttpRequestEventTarget,sc=V.XMLHttpRequestUpload,ac=V.XMLSerializer,lc=V.XPathEvaluator,cc=V.XPathExpression,dc=V.XPathResult,uc=V.XSLTProcessor;return function(Ci,gn){typeof n=="object"&&typeof i<"u"?gn(n,d("q1tI"),d("wSSu")):(m=[n,d("q1tI"),d("wSSu")],h=gn,f=typeof h=="function"?h.apply(n,m):h,f!==void 0&&(i.exports=f))}(this,function(Ci,gn,pa){"use strict";function ja(){var ce=this.constructor.getDerivedStateFromProps(this.props,this.state);ce!=null&&this.setState(ce)}o(ja,"componentWillMount");function Wa(ce){this.setState(function(ee){var x=this.constructor.getDerivedStateFromProps(ce,ee);return x??null}.bind(this))}o(Wa,"componentWillReceiveProps");function Ga(ce,ee){try{var x=this.props,J=this.state;this.props=ce,this.state=ee,this.__reactInternalSnapshotFlag=!0,this.__reactInternalSnapshot=this.getSnapshotBeforeUpdate(x,J)}finally{this.props=x,this.state=J}}o(Ga,"componentWillUpdate");function Ls(ce){var ee=ce.prototype;if(!ee||!ee.isReactComponent)throw new Error("Can only polyfill class components");if(typeof ce.getDerivedStateFromProps!="function"&&typeof ee.getSnapshotBeforeUpdate!="function")return ce;var x=null,J=null,Q=null;if(typeof ee.componentWillMount=="function"?x="componentWillMount":typeof ee.UNSAFE_componentWillMount=="function"&&(x="UNSAFE_componentWillMount"),typeof ee.componentWillReceiveProps=="function"?J="componentWillReceiveProps":typeof ee.UNSAFE_componentWillReceiveProps=="function"&&(J="UNSAFE_componentWillReceiveProps"),typeof ee.componentWillUpdate=="function"?Q="componentWillUpdate":typeof ee.UNSAFE_componentWillUpdate=="function"&&(Q="UNSAFE_componentWillUpdate"),x!==null||J!==null||Q!==null){var de=ce.displayName||ce.name,me=typeof ce.getDerivedStateFromProps=="function"?"getDerivedStateFromProps()":"getSnapshotBeforeUpdate()";throw Error(`Unsafe legacy lifecycles will not be called for components using new component APIs.

`+de+" uses "+me+" but also contains the following legacy lifecycles:"+(x!==null?`
  `+x:"")+(J!==null?`
  `+J:"")+(Q!==null?`
  `+Q:"")+`

The above lifecycles should be removed. Learn more about this warning here:
https://fb.me/react-async-component-lifecycle-hooks`)}if(typeof ce.getDerivedStateFromProps=="function"&&(ee.componentWillMount=ja,ee.componentWillReceiveProps=Wa),typeof ee.getSnapshotBeforeUpdate=="function"){if(typeof ee.componentDidUpdate!="function")throw new Error("Cannot polyfill getSnapshotBeforeUpdate() for components that do not define componentDidUpdate() on the prototype");ee.componentWillUpdate=Ga;var Se=ee.componentDidUpdate;ee.componentDidUpdate=function(Me,Le,De){var ze=this.__reactInternalSnapshotFlag?this.__reactInternalSnapshot:De;Se.call(this,Me,Le,ze)}}return ce}o(Ls,"polyfill"),ja.__suppressDeprecationWarning=!0,Wa.__suppressDeprecationWarning=!0,Ga.__suppressDeprecationWarning=!0;var Vi=o(function(ce,ee){if(!(ce instanceof ee))throw new TypeError("Cannot call a class as a function")},"classCallCheck"),ji=function(){function ce(ee,x){for(var J=0;J<x.length;J++){var Q=x[J];Q.enumerable=Q.enumerable||!1,Q.configurable=!0,"value"in Q&&(Q.writable=!0),Object.defineProperty(ee,Q.key,Q)}}return o(ce,"defineProperties"),function(ee,x,J){return x&&ce(ee.prototype,x),J&&ce(ee,J),ee}}(),ea=o(function(ce,ee,x){return ee in ce?Object.defineProperty(ce,ee,{value:x,enumerable:!0,configurable:!0,writable:!0}):ce[ee]=x,ce},"defineProperty"),Wn=Object.assign||function(ce){for(var ee=1;ee<arguments.length;ee++){var x=arguments[ee];for(var J in x)Object.prototype.hasOwnProperty.call(x,J)&&(ce[J]=x[J])}return ce},Sr=o(function(ce,ee){if(typeof ee!="function"&&ee!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof ee);ce.prototype=Object.create(ee&&ee.prototype,{constructor:{value:ce,enumerable:!1,writable:!0,configurable:!0}}),ee&&(Object.setPrototypeOf?Object.setPrototypeOf(ce,ee):ce.__proto__=ee)},"inherits"),hs=o(function(ce,ee){var x={};for(var J in ce)ee.indexOf(J)>=0||Object.prototype.hasOwnProperty.call(ce,J)&&(x[J]=ce[J]);return x},"objectWithoutProperties"),Wi=o(function(ce,ee){if(!ce)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!ee||typeof ee!="object"&&typeof ee!="function"?ce:ee},"possibleConstructorReturn"),yl=function(){return function(ce,ee){if(Array.isArray(ce))return ce;if(Symbol.iterator in Object(ce))return function(x,J){var Q=[],de=!0,me=!1,Se=void 0;try{for(var Me,Le=x[Symbol.iterator]();!(de=(Me=Le.next()).done)&&(Q.push(Me.value),!J||Q.length!==J);de=!0);}catch(De){me=!0,Se=De}finally{try{!de&&Le.return&&Le.return()}finally{if(me)throw Se}}return Q}(ce,ee);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),ma=function(ce){function ee(){var x,J,Q;Vi(this,ee);for(var de=arguments.length,me=Array(de),Se=0;Se<de;Se++)me[Se]=arguments[Se];return J=Q=Wi(this,(x=ee.__proto__||Object.getPrototypeOf(ee)).call.apply(x,[this].concat(me))),Q.state={scrollToColumn:0,scrollToRow:0},Q._columnStartIndex=0,Q._columnStopIndex=0,Q._rowStartIndex=0,Q._rowStopIndex=0,Q._onKeyDown=function(Me){var Le=Q.props,De=Le.columnCount,ze=Le.disabled,Qe=Le.mode,rt=Le.rowCount;if(!ze){var je=Q._getScrollState(),dt=je.scrollToColumn,vt=je.scrollToRow,Tt=Q._getScrollState(),At=Tt.scrollToColumn,Lt=Tt.scrollToRow;switch(Me.key){case"ArrowDown":Lt=Math.min(Qe==="cells"?Lt+1:Q._rowStopIndex+1,rt-1);break;case"ArrowLeft":At=Math.max(Qe==="cells"?At-1:Q._columnStartIndex-1,0);break;case"ArrowRight":At=Math.min(Qe==="cells"?At+1:Q._columnStopIndex+1,De-1);break;case"ArrowUp":Lt=Math.max(Qe==="cells"?Lt-1:Q._rowStartIndex-1,0)}At===dt&&Lt===vt||(Me.preventDefault(),Q._updateScrollState({scrollToColumn:At,scrollToRow:Lt}))}},Q._onSectionRendered=function(Me){var Le=Me.columnStartIndex,De=Me.columnStopIndex,ze=Me.rowStartIndex,Qe=Me.rowStopIndex;Q._columnStartIndex=Le,Q._columnStopIndex=De,Q._rowStartIndex=ze,Q._rowStopIndex=Qe},Wi(Q,J)}return o(ee,"ArrowKeyStepper"),Sr(ee,ce),ji(ee,[{key:"setScrollIndexes",value:function(x){var J=x.scrollToColumn,Q=x.scrollToRow;this.setState({scrollToRow:Q,scrollToColumn:J})}},{key:"render",value:function(){var x=this.props,J=x.className,Q=x.children,de=this._getScrollState(),me=de.scrollToColumn,Se=de.scrollToRow;return gn.createElement("div",{className:J,onKeyDown:this._onKeyDown},Q({onSectionRendered:this._onSectionRendered,scrollToColumn:me,scrollToRow:Se}))}},{key:"_getScrollState",value:function(){return this.props.isControlled?this.props:this.state}},{key:"_updateScrollState",value:function(x){var J=x.scrollToColumn,Q=x.scrollToRow,de=this.props,me=de.isControlled,Se=de.onScrollToChange;typeof Se=="function"&&Se({scrollToColumn:J,scrollToRow:Q}),me||this.setState({scrollToColumn:J,scrollToRow:Q})}}],[{key:"getDerivedStateFromProps",value:function(x,J){return x.isControlled?null:x.scrollToColumn!==J.scrollToColumn||x.scrollToRow!==J.scrollToRow?{scrollToColumn:x.scrollToColumn,scrollToRow:x.scrollToRow}:null}}]),ee}(gn.PureComponent);function $a(ce,ee){var x,J,Q,de=(x=ee!==void 0?ee:typeof V<"u"?V:typeof oc<"u"?oc:S).document!==void 0&&x.document.attachEvent;if(!de){var me=(Q=x.requestAnimationFrame||x.mozRequestAnimationFrame||x.webkitRequestAnimationFrame||function(ut){return x.setTimeout(ut,20)},function(ut){return Q(ut)}),Se=(J=x.cancelAnimationFrame||x.mozCancelAnimationFrame||x.webkitCancelAnimationFrame||x.clearTimeout,function(ut){return J(ut)}),Me=o(function(ut){var Pt=ut.__resizeTriggers__,_t=Pt.firstElementChild,Sn=Pt.lastElementChild,Gn=_t.firstElementChild;Sn.scrollLeft=Sn.scrollWidth,Sn.scrollTop=Sn.scrollHeight,Gn.style.width=_t.offsetWidth+1+"px",Gn.style.height=_t.offsetHeight+1+"px",_t.scrollLeft=_t.scrollWidth,_t.scrollTop=_t.scrollHeight},"resetTriggers"),Le=o(function(ut){if(!(ut.target.className&&typeof ut.target.className.indexOf=="function"&&ut.target.className.indexOf("contract-trigger")<0&&ut.target.className.indexOf("expand-trigger")<0)){var Pt=this;Me(this),this.__resizeRAF__&&Se(this.__resizeRAF__),this.__resizeRAF__=me(function(){(function(_t){return _t.offsetWidth!=_t.__resizeLast__.width||_t.offsetHeight!=_t.__resizeLast__.height})(Pt)&&(Pt.__resizeLast__.width=Pt.offsetWidth,Pt.__resizeLast__.height=Pt.offsetHeight,Pt.__resizeListeners__.forEach(function(_t){_t.call(Pt,ut)}))})}},"scrollListener"),De=!1,ze="",Qe="animationstart",rt="Webkit Moz O ms".split(" "),je="webkitAnimationStart animationstart oAnimationStart MSAnimationStart".split(" "),dt=x.document.createElement("fakeelement");if(dt.style.animationName!==void 0&&(De=!0),De===!1){for(var vt=0;vt<rt.length;vt++)if(dt.style[rt[vt]+"AnimationName"]!==void 0){ze="-"+rt[vt].toLowerCase()+"-",Qe=je[vt],De=!0;break}}var Tt="resizeanim",At="@"+ze+"keyframes "+Tt+" { from { opacity: 0; } to { opacity: 0; } } ",Lt=ze+"animation: 1ms "+Tt+"; "}return{addResizeListener:function(ut,Pt){if(de)ut.attachEvent("onresize",Pt);else{if(!ut.__resizeTriggers__){var _t=ut.ownerDocument,Sn=x.getComputedStyle(ut);Sn&&Sn.position=="static"&&(ut.style.position="relative"),function(Gn){if(!Gn.getElementById("detectElementResize")){var bi=(At||"")+".resize-triggers { "+(Lt||"")+'visibility: hidden; opacity: 0; } .resize-triggers, .resize-triggers > div, .contract-trigger:before { content: " "; display: block; position: absolute; top: 0; left: 0; height: 100%; width: 100%; overflow: hidden; z-index: -1; } .resize-triggers > div { background: #eee; overflow: auto; } .contract-trigger:before { width: 200%; height: 200%; }',ai=Gn.head||Gn.getElementsByTagName("head")[0],Ai=Gn.createElement("style");Ai.id="detectElementResize",Ai.type="text/css",ce!=null&&Ai.setAttribute("nonce",ce),Ai.styleSheet?Ai.styleSheet.cssText=bi:Ai.appendChild(Gn.createTextNode(bi)),ai.appendChild(Ai)}}(_t),ut.__resizeLast__={},ut.__resizeListeners__=[],(ut.__resizeTriggers__=_t.createElement("div")).className="resize-triggers",ut.__resizeTriggers__.innerHTML='<div class="expand-trigger"><div></div></div><div class="contract-trigger"></div>',ut.appendChild(ut.__resizeTriggers__),Me(ut),ut.addEventListener("scroll",Le,!0),Qe&&(ut.__resizeTriggers__.__animationListener__=function(Gn){Gn.animationName==Tt&&Me(ut)},ut.__resizeTriggers__.addEventListener(Qe,ut.__resizeTriggers__.__animationListener__))}ut.__resizeListeners__.push(Pt)}},removeResizeListener:function(ut,Pt){if(de)ut.detachEvent("onresize",Pt);else if(ut.__resizeListeners__.splice(ut.__resizeListeners__.indexOf(Pt),1),!ut.__resizeListeners__.length){ut.removeEventListener("scroll",Le,!0),ut.__resizeTriggers__.__animationListener__&&(ut.__resizeTriggers__.removeEventListener(Qe,ut.__resizeTriggers__.__animationListener__),ut.__resizeTriggers__.__animationListener__=null);try{ut.__resizeTriggers__=!ut.removeChild(ut.__resizeTriggers__)}catch{}}}}}o($a,"createDetectElementResize"),ma.defaultProps={disabled:!1,isControlled:!1,mode:"edges",scrollToColumn:0,scrollToRow:0},Ls(ma);var Ka=function(ce){function ee(){var x,J,Q;Vi(this,ee);for(var de=arguments.length,me=Array(de),Se=0;Se<de;Se++)me[Se]=arguments[Se];return J=Q=Wi(this,(x=ee.__proto__||Object.getPrototypeOf(ee)).call.apply(x,[this].concat(me))),Q.state={height:Q.props.defaultHeight||0,width:Q.props.defaultWidth||0},Q._onResize=function(){var Me=Q.props,Le=Me.disableHeight,De=Me.disableWidth,ze=Me.onResize;if(Q._parentNode){var Qe=Q._parentNode.offsetHeight||0,rt=Q._parentNode.offsetWidth||0,je=(Q._window||V).getComputedStyle(Q._parentNode)||{},dt=parseInt(je.paddingLeft,10)||0,vt=parseInt(je.paddingRight,10)||0,Tt=parseInt(je.paddingTop,10)||0,At=parseInt(je.paddingBottom,10)||0,Lt=Qe-Tt-At,ut=rt-dt-vt;(!Le&&Q.state.height!==Lt||!De&&Q.state.width!==ut)&&(Q.setState({height:Qe-Tt-At,width:rt-dt-vt}),ze({height:Qe,width:rt}))}},Q._setRef=function(Me){Q._autoSizer=Me},Wi(Q,J)}return o(ee,"AutoSizer"),Sr(ee,ce),ji(ee,[{key:"componentDidMount",value:function(){var x=this.props.nonce;this._autoSizer&&this._autoSizer.parentNode&&this._autoSizer.parentNode.ownerDocument&&this._autoSizer.parentNode.ownerDocument.defaultView&&this._autoSizer.parentNode instanceof this._autoSizer.parentNode.ownerDocument.defaultView.HTMLElement&&(this._parentNode=this._autoSizer.parentNode,this._window=this._autoSizer.parentNode.ownerDocument.defaultView,this._detectElementResize=$a(x,this._window),this._detectElementResize.addResizeListener(this._parentNode,this._onResize),this._onResize())}},{key:"componentWillUnmount",value:function(){this._detectElementResize&&this._parentNode&&this._detectElementResize.removeResizeListener(this._parentNode,this._onResize)}},{key:"render",value:function(){var x=this.props,J=x.children,Q=x.className,de=x.disableHeight,me=x.disableWidth,Se=x.style,Me=this.state,Le=Me.height,De=Me.width,ze={overflow:"visible"},Qe={};return de||(ze.height=0,Qe.height=Le),me||(ze.width=0,Qe.width=De),gn.createElement("div",{className:Q,ref:this._setRef,style:Wn({},ze,Se)},J(Qe))}}]),ee}(gn.PureComponent);Ka.defaultProps={onResize:function(){},disableHeight:!1,disableWidth:!1,style:{}};var ga=function(ce){function ee(){var x,J,Q;Vi(this,ee);for(var de=arguments.length,me=Array(de),Se=0;Se<de;Se++)me[Se]=arguments[Se];return J=Q=Wi(this,(x=ee.__proto__||Object.getPrototypeOf(ee)).call.apply(x,[this].concat(me))),Q._measure=function(){var Me=Q.props,Le=Me.cache,De=Me.columnIndex,ze=De===void 0?0:De,Qe=Me.parent,rt=Me.rowIndex,je=rt===void 0?Q.props.index||0:rt,dt=Q._getCellMeasurements(),vt=dt.height,Tt=dt.width;vt===Le.getHeight(je,ze)&&Tt===Le.getWidth(je,ze)||(Le.set(je,ze,Tt,vt),Qe&&typeof Qe.recomputeGridSize=="function"&&Qe.recomputeGridSize({columnIndex:ze,rowIndex:je}))},Wi(Q,J)}return o(ee,"CellMeasurer"),Sr(ee,ce),ji(ee,[{key:"componentDidMount",value:function(){this._maybeMeasureCell()}},{key:"componentDidUpdate",value:function(){this._maybeMeasureCell()}},{key:"render",value:function(){var x=this.props.children;return typeof x=="function"?x({measure:this._measure}):x}},{key:"_getCellMeasurements",value:function(){var x=this.props.cache,J=pa.findDOMNode(this);if(J&&J.ownerDocument&&J.ownerDocument.defaultView&&J instanceof J.ownerDocument.defaultView.HTMLElement){var Q=J.style.width,de=J.style.height;x.hasFixedWidth()||(J.style.width="auto"),x.hasFixedHeight()||(J.style.height="auto");var me=Math.ceil(J.offsetHeight),Se=Math.ceil(J.offsetWidth);return Q&&(J.style.width=Q),de&&(J.style.height=de),{height:me,width:Se}}return{height:0,width:0}}},{key:"_maybeMeasureCell",value:function(){var x=this.props,J=x.cache,Q=x.columnIndex,de=Q===void 0?0:Q,me=x.parent,Se=x.rowIndex,Me=Se===void 0?this.props.index||0:Se;if(!J.has(Me,de)){var Le=this._getCellMeasurements(),De=Le.height,ze=Le.width;J.set(Me,de,ze,De),me&&typeof me.invalidateCellSizeAfterRender=="function"&&me.invalidateCellSizeAfterRender({columnIndex:de,rowIndex:Me})}}}]),ee}(gn.PureComponent);ga.__internalCellMeasurerFlag=!1,ga.__internalCellMeasurerFlag=!0;var Cl=30,bl=100,El=function(){function ce(){var ee=this,x=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};Vi(this,ce),this._cellHeightCache={},this._cellWidthCache={},this._columnWidthCache={},this._rowHeightCache={},this._columnCount=0,this._rowCount=0,this.columnWidth=function(De){var ze=De.index,Qe=ee._keyMapper(0,ze);return ee._columnWidthCache.hasOwnProperty(Qe)?ee._columnWidthCache[Qe]:ee._defaultWidth},this.rowHeight=function(De){var ze=De.index,Qe=ee._keyMapper(ze,0);return ee._rowHeightCache.hasOwnProperty(Qe)?ee._rowHeightCache[Qe]:ee._defaultHeight};var J=x.defaultHeight,Q=x.defaultWidth,de=x.fixedHeight,me=x.fixedWidth,Se=x.keyMapper,Me=x.minHeight,Le=x.minWidth;this._hasFixedHeight=de===!0,this._hasFixedWidth=me===!0,this._minHeight=Me||0,this._minWidth=Le||0,this._keyMapper=Se||Ja,this._defaultHeight=Math.max(this._minHeight,typeof J=="number"?J:Cl),this._defaultWidth=Math.max(this._minWidth,typeof Q=="number"?Q:bl),this._hasFixedHeight===!1&&this._hasFixedWidth===!1&&zt.warn("CellMeasurerCache should only measure a cell's width or height. You have configured CellMeasurerCache to measure both. This will result in poor performance."),this._hasFixedHeight===!1&&this._defaultHeight===0&&zt.warn("Fixed height CellMeasurerCache should specify a :defaultHeight greater than 0. Failing to do so will lead to unnecessary layout and poor performance."),this._hasFixedWidth===!1&&this._defaultWidth===0&&zt.warn("Fixed width CellMeasurerCache should specify a :defaultWidth greater than 0. Failing to do so will lead to unnecessary layout and poor performance.")}return o(ce,"CellMeasurerCache"),ji(ce,[{key:"clear",value:function(ee){var x=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,J=this._keyMapper(ee,x);delete this._cellHeightCache[J],delete this._cellWidthCache[J],this._updateCachedColumnAndRowSizes(ee,x)}},{key:"clearAll",value:function(){this._cellHeightCache={},this._cellWidthCache={},this._columnWidthCache={},this._rowHeightCache={},this._rowCount=0,this._columnCount=0}},{key:"hasFixedHeight",value:function(){return this._hasFixedHeight}},{key:"hasFixedWidth",value:function(){return this._hasFixedWidth}},{key:"getHeight",value:function(ee){var x=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;if(this._hasFixedHeight)return this._defaultHeight;var J=this._keyMapper(ee,x);return this._cellHeightCache.hasOwnProperty(J)?Math.max(this._minHeight,this._cellHeightCache[J]):this._defaultHeight}},{key:"getWidth",value:function(ee){var x=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;if(this._hasFixedWidth)return this._defaultWidth;var J=this._keyMapper(ee,x);return this._cellWidthCache.hasOwnProperty(J)?Math.max(this._minWidth,this._cellWidthCache[J]):this._defaultWidth}},{key:"has",value:function(ee){var x=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,J=this._keyMapper(ee,x);return this._cellHeightCache.hasOwnProperty(J)}},{key:"set",value:function(ee,x,J,Q){var de=this._keyMapper(ee,x);x>=this._columnCount&&(this._columnCount=x+1),ee>=this._rowCount&&(this._rowCount=ee+1),this._cellHeightCache[de]=Q,this._cellWidthCache[de]=J,this._updateCachedColumnAndRowSizes(ee,x)}},{key:"_updateCachedColumnAndRowSizes",value:function(ee,x){if(!this._hasFixedWidth){for(var J=0,Q=0;Q<this._rowCount;Q++)J=Math.max(J,this.getWidth(Q,x));var de=this._keyMapper(0,x);this._columnWidthCache[de]=J}if(!this._hasFixedHeight){for(var me=0,Se=0;Se<this._columnCount;Se++)me=Math.max(me,this.getHeight(ee,Se));var Me=this._keyMapper(ee,0);this._rowHeightCache[Me]=me}}},{key:"defaultHeight",get:function(){return this._defaultHeight}},{key:"defaultWidth",get:function(){return this._defaultWidth}}]),ce}();function Ja(ce,ee){return ce+"-"+ee}o(Ja,"defaultKeyMapper");function _s(ce){return function(){return ce}}o(_s,"makeEmptyFunction");var Po=o(function(){},"emptyFunction");Po.thatReturns=_s,Po.thatReturnsFalse=_s(!1),Po.thatReturnsTrue=_s(!0),Po.thatReturnsNull=_s(null),Po.thatReturnsThis=function(){return this},Po.thatReturnsArgument=function(ce){return ce};var Ns=Po,va=o(function(ce){},"validateFormat");va=o(function(ce){if(ce===void 0)throw new Error("invariant requires an error message argument")},"validateFormat");var Sa=o(function(ce,ee,x,J,Q,de,me,Se){if(va(ee),!ce){var Me;if(ee===void 0)Me=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var Le=[x,J,Q,de,me,Se],De=0;(Me=new Error(ee.replace(/%s/g,function(){return Le[De++]}))).name="Invariant Violation"}throw Me.framesToPop=1,Me}},"invariant_1"),fs=o(function(ce,ee){if(ee===void 0)throw new Error("`warning(condition, format, ...args)` requires a warning message argument");if(ee.indexOf("Failed Composite propType: ")!==0&&!ce){for(var x=arguments.length,J=Array(x>2?x-2:0),Q=2;Q<x;Q++)J[Q-2]=arguments[Q];(function(de){for(var me=arguments.length,Se=Array(me>1?me-1:0),Me=1;Me<me;Me++)Se[Me-1]=arguments[Me];var Le=0,De="Warning: "+de.replace(/%s/g,function(){return Se[Le++]});typeof zt<"u"&&zt.error(De);try{throw new Error(De)}catch{}}).apply(void 0,[ee].concat(J))}},"warning_1"),ya=Object.getOwnPropertySymbols,Ya=Object.prototype.hasOwnProperty,Xa=Object.prototype.propertyIsEnumerable,Tl=function(){try{if(!Object.assign)return!1;var ce=new String("abc");if(ce[5]="de",Object.getOwnPropertyNames(ce)[0]==="5")return!1;for(var ee={},x=0;x<10;x++)ee["_"+String.fromCharCode(x)]=x;if(Object.getOwnPropertyNames(ee).map(function(Q){return ee[Q]}).join("")!=="0123456789")return!1;var J={};return"abcdefghijklmnopqrst".split("").forEach(function(Q){J[Q]=Q}),Object.keys(Object.assign({},J)).join("")==="abcdefghijklmnopqrst"}catch{return!1}}()?Object.assign:function(ce,ee){for(var x,J,Q=function(Me){if(Me==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(Me)}(ce),de=1;de<arguments.length;de++){for(var me in x=Object(arguments[de]))Ya.call(x,me)&&(Q[me]=x[me]);if(ya){J=ya(x);for(var Se=0;Se<J.length;Se++)Xa.call(x,J[Se])&&(Q[J[Se]]=x[J[Se]])}}return Q},Ko="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",Il=Sa,Za=fs,wl=Ko,Ca={},ba,Ol=o(function(ce,ee,x,J,Q){for(var de in ce)if(ce.hasOwnProperty(de)){var me;try{Il(typeof ce[de]=="function","%s: %s type `%s` is invalid; it must be a function, usually from the `prop-types` package, but received `%s`.",J||"React class",x,de,typeof ce[de]),me=ce[de](ee,de,J,x,null,wl)}catch(Me){me=Me}if(Za(!me||me instanceof Error,"%s: type specification of %s `%s` is invalid; the type checker function must return `null` or an `Error` but returned a %s. You may have forgotten to pass an argument to the type checker creator (arrayOf, instanceOf, objectOf, oneOf, oneOfType, and shape all require an argument).",J||"React class",x,de,typeof me),me instanceof Error&&!(me.message in Ca)){Ca[me.message]=!0;var Se=Q?Q():"";Za(!1,"Failed %s type: %s%s",x,me.message,Se??"")}}},"checkPropTypes_1"),Ml=o(function(ce,ee){var x=typeof Symbol=="function"&&Symbol.iterator,J="@@iterator",Q="<<anonymous>>",de={array:Le("array"),bool:Le("boolean"),func:Le("function"),number:Le("number"),object:Le("object"),string:Le("string"),symbol:Le("symbol"),any:Me(Ns.thatReturnsNull),arrayOf:function(je){return Me(function(dt,vt,Tt,At,Lt){if(typeof je!="function")return new Se("Property `"+Lt+"` of component `"+Tt+"` has invalid PropType notation inside arrayOf.");var ut=dt[vt];if(!Array.isArray(ut)){var Pt=ze(ut);return new Se("Invalid "+At+" `"+Lt+"` of type `"+Pt+"` supplied to `"+Tt+"`, expected an array.")}for(var _t=0;_t<ut.length;_t++){var Sn=je(ut,_t,Tt,At,Lt+"["+_t+"]",Ko);if(Sn instanceof Error)return Sn}return null})},element:function(){return Me(function(je,dt,vt,Tt,At){var Lt=je[dt];if(!ce(Lt)){var ut=ze(Lt);return new Se("Invalid "+Tt+" `"+At+"` of type `"+ut+"` supplied to `"+vt+"`, expected a single ReactElement.")}return null})}(),instanceOf:function(je){return Me(function(dt,vt,Tt,At,Lt){if(!(dt[vt]instanceof je)){var ut=je.name||Q,Pt=function(_t){return!_t.constructor||!_t.constructor.name?Q:_t.constructor.name}(dt[vt]);return new Se("Invalid "+At+" `"+Lt+"` of type `"+Pt+"` supplied to `"+Tt+"`, expected instance of `"+ut+"`.")}return null})},node:function(){return Me(function(je,dt,vt,Tt,At){return De(je[dt])?null:new Se("Invalid "+Tt+" `"+At+"` supplied to `"+vt+"`, expected a ReactNode.")})}(),objectOf:function(je){return Me(function(dt,vt,Tt,At,Lt){if(typeof je!="function")return new Se("Property `"+Lt+"` of component `"+Tt+"` has invalid PropType notation inside objectOf.");var ut=dt[vt],Pt=ze(ut);if(Pt!=="object")return new Se("Invalid "+At+" `"+Lt+"` of type `"+Pt+"` supplied to `"+Tt+"`, expected an object.");for(var _t in ut)if(ut.hasOwnProperty(_t)){var Sn=je(ut,_t,Tt,At,Lt+"."+_t,Ko);if(Sn instanceof Error)return Sn}return null})},oneOf:function(je){return Array.isArray(je)?Me(function(dt,vt,Tt,At,Lt){for(var ut=dt[vt],Pt=0;Pt<je.length;Pt++)if(me(ut,je[Pt]))return null;var _t=JSON.stringify(je);return new Se("Invalid "+At+" `"+Lt+"` of value `"+ut+"` supplied to `"+Tt+"`, expected one of "+_t+".")}):(fs(!1,"Invalid argument supplied to oneOf, expected an instance of array."),Ns.thatReturnsNull)},oneOfType:function(je){if(!Array.isArray(je))return fs(!1,"Invalid argument supplied to oneOfType, expected an instance of array."),Ns.thatReturnsNull;for(var dt=0;dt<je.length;dt++){var vt=je[dt];if(typeof vt!="function")return fs(!1,"Invalid argument supplied to oneOfType. Expected an array of check functions, but received %s at index %s.",rt(vt),dt),Ns.thatReturnsNull}return Me(function(Tt,At,Lt,ut,Pt){for(var _t=0;_t<je.length;_t++){var Sn=je[_t];if(Sn(Tt,At,Lt,ut,Pt,Ko)==null)return null}return new Se("Invalid "+ut+" `"+Pt+"` supplied to `"+Lt+"`.")})},shape:function(je){return Me(function(dt,vt,Tt,At,Lt){var ut=dt[vt],Pt=ze(ut);if(Pt!=="object")return new Se("Invalid "+At+" `"+Lt+"` of type `"+Pt+"` supplied to `"+Tt+"`, expected `object`.");for(var _t in je){var Sn=je[_t];if(Sn){var Gn=Sn(ut,_t,Tt,At,Lt+"."+_t,Ko);if(Gn)return Gn}}return null})},exact:function(je){return Me(function(dt,vt,Tt,At,Lt){var ut=dt[vt],Pt=ze(ut);if(Pt!=="object")return new Se("Invalid "+At+" `"+Lt+"` of type `"+Pt+"` supplied to `"+Tt+"`, expected `object`.");var _t=Tl({},dt[vt],je);for(var Sn in _t){var Gn=je[Sn];if(!Gn)return new Se("Invalid "+At+" `"+Lt+"` key `"+Sn+"` supplied to `"+Tt+"`.\nBad object: "+JSON.stringify(dt[vt],null,"  ")+`
Valid keys: `+JSON.stringify(Object.keys(je),null,"  "));var bi=Gn(ut,Sn,Tt,At,Lt+"."+Sn,Ko);if(bi)return bi}return null})}};function me(je,dt){return je===dt?je!==0||1/je==1/dt:je!=je&&dt!=dt}o(me,"is");function Se(je){this.message=je,this.stack=""}o(Se,"PropTypeError");function Me(je){var dt={},vt=0;function Tt(Lt,ut,Pt,_t,Sn,Gn,bi){if(_t=_t||Q,Gn=Gn||Pt,bi!==Ko){if(ee)Sa(!1,"Calling PropTypes validators directly is not supported by the `prop-types` package. Use `PropTypes.checkPropTypes()` to call them. Read more at http://fb.me/use-check-prop-types");else if(typeof zt<"u"){var ai=_t+":"+Pt;!dt[ai]&&vt<3&&(fs(!1,"You are manually calling a React.PropTypes validation function for the `%s` prop on `%s`. This is deprecated and will throw in the standalone `prop-types` package. You may be seeing this warning due to a third-party PropTypes library. See https://fb.me/react-warning-dont-call-proptypes for details.",Gn,_t),dt[ai]=!0,vt++)}}return ut[Pt]==null?Lt?ut[Pt]===null?new Se("The "+Sn+" `"+Gn+"` is marked as required in `"+_t+"`, but its value is `null`."):new Se("The "+Sn+" `"+Gn+"` is marked as required in `"+_t+"`, but its value is `undefined`."):null:je(ut,Pt,_t,Sn,Gn)}o(Tt,"checkType");var At=Tt.bind(null,!1);return At.isRequired=Tt.bind(null,!0),At}o(Me,"createChainableTypeChecker");function Le(je){return Me(function(dt,vt,Tt,At,Lt,ut){var Pt=dt[vt];return ze(Pt)!==je?new Se("Invalid "+At+" `"+Lt+"` of type `"+Qe(Pt)+"` supplied to `"+Tt+"`, expected `"+je+"`."):null})}o(Le,"createPrimitiveTypeChecker");function De(je){switch(typeof je){case"number":case"string":case"undefined":return!0;case"boolean":return!je;case"object":if(Array.isArray(je))return je.every(De);if(je===null||ce(je))return!0;var dt=function(Lt){var ut=Lt&&(x&&Lt[x]||Lt[J]);if(typeof ut=="function")return ut}(je);if(!dt)return!1;var vt,Tt=dt.call(je);if(dt!==je.entries){for(;!(vt=Tt.next()).done;)if(!De(vt.value))return!1}else for(;!(vt=Tt.next()).done;){var At=vt.value;if(At&&!De(At[1]))return!1}return!0;default:return!1}}o(De,"isNode");function ze(je){var dt=typeof je;return Array.isArray(je)?"array":je instanceof RegExp?"object":function(vt,Tt){return vt==="symbol"||Tt["@@toStringTag"]==="Symbol"||typeof Symbol=="function"&&Tt instanceof Symbol}(dt,je)?"symbol":dt}o(ze,"getPropType");function Qe(je){if(je==null)return""+je;var dt=ze(je);if(dt==="object"){if(je instanceof Date)return"date";if(je instanceof RegExp)return"regexp"}return dt}o(Qe,"getPreciseType");function rt(je){var dt=Qe(je);switch(dt){case"array":case"object":return"an "+dt;case"boolean":case"date":case"regexp":return"a "+dt;default:return dt}}return o(rt,"getPostfixForTypeWarning"),Se.prototype=Error.prototype,de.checkPropTypes=Ol,de.PropTypes=de,de},"factoryWithTypeCheckers"),st=(function(ce){var ee=typeof Symbol=="function"&&Symbol.for&&Symbol.for("react.element")||60103;ce.exports=Ml(function(x){return typeof x=="object"&&x!==null&&x.$$typeof===ee},!0)}(ba={exports:{}},ba.exports),ba.exports);function Qa(ce){var ee,x,J="";if(ce)if(typeof ce=="object")for(ee in ce)ce[ee]&&(x=Qa(ce.push?ce[ee]:ee))&&(J&&(J+=" "),J+=x);else typeof ce!="boolean"&&(J&&(J+=" "),J+=ce);return J}o(Qa,"toVal");function no(){for(var ce,ee=0,x="";ee<arguments.length;)(ce=Qa(arguments[ee++]))&&(x&&(x+=" "),x+=ce);return x}o(no,"clsx");function ps(){var ce=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0],ee={};return function(x){var J=x.callback,Q=x.indices,de=Object.keys(Q),me=!ce||de.every(function(Me){var Le=Q[Me];return Array.isArray(Le)?Le.length>0:Le>=0}),Se=de.length!==Object.keys(ee).length||de.some(function(Me){var Le=ee[Me],De=Q[Me];return Array.isArray(De)?Le.join(",")!==De.join(","):Le!==De});ee=Q,me&&Se&&J(Q)}}o(ps,"createCallbackMemoizer");var hc,kc=!(typeof V>"u"||!V.document||!V.document.createElement);function Lc(ce){if((!hc&&hc!==0||ce)&&kc){var ee=$n.createElement("div");ee.style.position="absolute",ee.style.top="-9999px",ee.style.width="50px",ee.style.height="50px",ee.style.overflow="scroll",$n.body.appendChild(ee),hc=ee.offsetWidth-ee.clientWidth,$n.body.removeChild(ee)}return hc}o(Lc,"scrollbarSize");var fc={OBSERVED:"observed",REQUESTED:"requested"},qa=function(ce){function ee(){var x;Vi(this,ee);for(var J=arguments.length,Q=Array(J),de=0;de<J;de++)Q[de]=arguments[de];var me=Wi(this,(x=ee.__proto__||Object.getPrototypeOf(ee)).call.apply(x,[this].concat(Q)));return me.state={isScrolling:!1,scrollLeft:0,scrollTop:0},me._calculateSizeAndPositionDataOnNextUpdate=!1,me._onSectionRenderedMemoizer=ps(),me._onScrollMemoizer=ps(!1),me._invokeOnSectionRenderedHelper=function(){var Se=me.props,Me=Se.cellLayoutManager,Le=Se.onSectionRendered;me._onSectionRenderedMemoizer({callback:Le,indices:{indices:Me.getLastRenderedIndices()}})},me._setScrollingContainerRef=function(Se){me._scrollingContainer=Se},me._updateScrollPositionForScrollToCell=function(){var Se=me.props,Me=Se.cellLayoutManager,Le=Se.height,De=Se.scrollToAlignment,ze=Se.scrollToCell,Qe=Se.width,rt=me.state,je=rt.scrollLeft,dt=rt.scrollTop;if(ze>=0){var vt=Me.getScrollPositionForCell({align:De,cellIndex:ze,height:Le,scrollLeft:je,scrollTop:dt,width:Qe});vt.scrollLeft===je&&vt.scrollTop===dt||me._setScrollPosition(vt)}},me._onScroll=function(Se){if(Se.target===me._scrollingContainer){me._enablePointerEventsAfterDelay();var Me=me.props,Le=Me.cellLayoutManager,De=Me.height,ze=Me.isScrollingChange,Qe=Me.width,rt=me._scrollbarSize,je=Le.getTotalSize(),dt=je.height,vt=je.width,Tt=Math.max(0,Math.min(vt-Qe+rt,Se.target.scrollLeft)),At=Math.max(0,Math.min(dt-De+rt,Se.target.scrollTop));if(me.state.scrollLeft!==Tt||me.state.scrollTop!==At){var Lt=Se.cancelable?fc.OBSERVED:fc.REQUESTED;me.state.isScrolling||ze(!0),me.setState({isScrolling:!0,scrollLeft:Tt,scrollPositionChangeReason:Lt,scrollTop:At})}me._invokeOnScrollMemoizer({scrollLeft:Tt,scrollTop:At,totalWidth:vt,totalHeight:dt})}},me._scrollbarSize=Lc(),me._scrollbarSize===void 0?(me._scrollbarSizeMeasured=!1,me._scrollbarSize=0):me._scrollbarSizeMeasured=!0,me}return o(ee,"CollectionView"),Sr(ee,ce),ji(ee,[{key:"recomputeCellSizesAndPositions",value:function(){this._calculateSizeAndPositionDataOnNextUpdate=!0,this.forceUpdate()}},{key:"componentDidMount",value:function(){var x=this.props,J=x.cellLayoutManager,Q=x.scrollLeft,de=x.scrollToCell,me=x.scrollTop;this._scrollbarSizeMeasured||(this._scrollbarSize=Lc(),this._scrollbarSizeMeasured=!0,this.setState({})),de>=0?this._updateScrollPositionForScrollToCell():(Q>=0||me>=0)&&this._setScrollPosition({scrollLeft:Q,scrollTop:me}),this._invokeOnSectionRenderedHelper();var Se=J.getTotalSize(),Me=Se.height,Le=Se.width;this._invokeOnScrollMemoizer({scrollLeft:Q||0,scrollTop:me||0,totalHeight:Me,totalWidth:Le})}},{key:"componentDidUpdate",value:function(x,J){var Q=this.props,de=Q.height,me=Q.scrollToAlignment,Se=Q.scrollToCell,Me=Q.width,Le=this.state,De=Le.scrollLeft,ze=Le.scrollPositionChangeReason,Qe=Le.scrollTop;ze===fc.REQUESTED&&(De>=0&&De!==J.scrollLeft&&De!==this._scrollingContainer.scrollLeft&&(this._scrollingContainer.scrollLeft=De),Qe>=0&&Qe!==J.scrollTop&&Qe!==this._scrollingContainer.scrollTop&&(this._scrollingContainer.scrollTop=Qe)),de===x.height&&me===x.scrollToAlignment&&Se===x.scrollToCell&&Me===x.width||this._updateScrollPositionForScrollToCell(),this._invokeOnSectionRenderedHelper()}},{key:"componentWillUnmount",value:function(){this._disablePointerEventsTimeoutId&&gt(this._disablePointerEventsTimeoutId)}},{key:"render",value:function(){var x=this.props,J=x.autoHeight,Q=x.cellCount,de=x.cellLayoutManager,me=x.className,Se=x.height,Me=x.horizontalOverscanSize,Le=x.id,De=x.noContentRenderer,ze=x.style,Qe=x.verticalOverscanSize,rt=x.width,je=this.state,dt=je.isScrolling,vt=je.scrollLeft,Tt=je.scrollTop;(this._lastRenderedCellCount!==Q||this._lastRenderedCellLayoutManager!==de||this._calculateSizeAndPositionDataOnNextUpdate)&&(this._lastRenderedCellCount=Q,this._lastRenderedCellLayoutManager=de,this._calculateSizeAndPositionDataOnNextUpdate=!1,de.calculateSizeAndPositionData());var At=de.getTotalSize(),Lt=At.height,ut=At.width,Pt=Math.max(0,vt-Me),_t=Math.max(0,Tt-Qe),Sn=Math.min(ut,vt+rt+Me),Gn=Math.min(Lt,Tt+Se+Qe),bi=Se>0&&rt>0?de.cellRenderers({height:Gn-_t,isScrolling:dt,width:Sn-Pt,x:Pt,y:_t}):[],ai={boxSizing:"border-box",direction:"ltr",height:J?"auto":Se,position:"relative",WebkitOverflowScrolling:"touch",width:rt,willChange:"transform"},Ai=Lt>Se?this._scrollbarSize:0,yr=ut>rt?this._scrollbarSize:0;return ai.overflowX=ut+Ai<=rt?"hidden":"auto",ai.overflowY=Lt+yr<=Se?"hidden":"auto",gn.createElement("div",{ref:this._setScrollingContainerRef,"aria-label":this.props["aria-label"],className:no("ReactVirtualized__Collection",me),id:Le,onScroll:this._onScroll,role:"grid",style:Wn({},ai,ze),tabIndex:0},Q>0&&gn.createElement("div",{className:"ReactVirtualized__Collection__innerScrollContainer",style:{height:Lt,maxHeight:Lt,maxWidth:ut,overflow:"hidden",pointerEvents:dt?"none":"",width:ut}},bi),Q===0&&De())}},{key:"_enablePointerEventsAfterDelay",value:function(){var x=this;this._disablePointerEventsTimeoutId&&gt(this._disablePointerEventsTimeoutId),this._disablePointerEventsTimeoutId=fh(function(){(0,x.props.isScrollingChange)(!1),x._disablePointerEventsTimeoutId=null,x.setState({isScrolling:!1})},150)}},{key:"_invokeOnScrollMemoizer",value:function(x){var J=this,Q=x.scrollLeft,de=x.scrollTop,me=x.totalHeight,Se=x.totalWidth;this._onScrollMemoizer({callback:function(Me){var Le=Me.scrollLeft,De=Me.scrollTop,ze=J.props,Qe=ze.height;(0,ze.onScroll)({clientHeight:Qe,clientWidth:ze.width,scrollHeight:me,scrollLeft:Le,scrollTop:De,scrollWidth:Se})},indices:{scrollLeft:Q,scrollTop:de}})}},{key:"_setScrollPosition",value:function(x){var J=x.scrollLeft,Q=x.scrollTop,de={scrollPositionChangeReason:fc.REQUESTED};J>=0&&(de.scrollLeft=J),Q>=0&&(de.scrollTop=Q),(J>=0&&J!==this.state.scrollLeft||Q>=0&&Q!==this.state.scrollTop)&&this.setState(de)}}],[{key:"getDerivedStateFromProps",value:function(x,J){return x.cellCount!==0||J.scrollLeft===0&&J.scrollTop===0?x.scrollLeft!==J.scrollLeft||x.scrollTop!==J.scrollTop?{scrollLeft:x.scrollLeft!=null?x.scrollLeft:J.scrollLeft,scrollTop:x.scrollTop!=null?x.scrollTop:J.scrollTop}:null:{scrollLeft:0,scrollTop:0}}}]),ee}(gn.PureComponent);qa.propTypes={"aria-label":st.string,autoHeight:st.bool,cellCount:st.number.isRequired,cellLayoutManager:st.object.isRequired,className:st.string,height:st.number.isRequired,id:st.string,horizontalOverscanSize:st.number.isRequired,isScrollingChange:st.func,noContentRenderer:st.func.isRequired,onScroll:st.func.isRequired,onSectionRendered:st.func.isRequired,scrollLeft:st.number,scrollToAlignment:st.oneOf(["auto","end","start","center"]).isRequired,scrollToCell:st.number.isRequired,scrollTop:st.number,style:st.object,verticalOverscanSize:st.number.isRequired,width:st.number.isRequired},qa.defaultProps={"aria-label":"grid",horizontalOverscanSize:0,noContentRenderer:function(){return null},onScroll:function(){return null},onSectionRendered:function(){return null},scrollToAlignment:"auto",scrollToCell:-1,style:{},verticalOverscanSize:0},Ls(qa);var vh=function(){function ce(ee){var x=ee.height,J=ee.width,Q=ee.x,de=ee.y;Vi(this,ce),this.height=x,this.width=J,this.x=Q,this.y=de,this._indexMap={},this._indices=[]}return o(ce,"Section"),ji(ce,[{key:"addCellIndex",value:function(ee){var x=ee.index;this._indexMap[x]||(this._indexMap[x]=!0,this._indices.push(x))}},{key:"getCellIndices",value:function(){return this._indices}},{key:"toString",value:function(){return this.x+","+this.y+" "+this.width+"x"+this.height}}]),ce}(),Sh=100,_c=function(){function ce(){var ee=arguments.length>0&&arguments[0]!==void 0?arguments[0]:Sh;Vi(this,ce),this._sectionSize=ee,this._cellMetadata=[],this._sections={}}return o(ce,"SectionManager"),ji(ce,[{key:"getCellIndices",value:function(ee){var x=ee.height,J=ee.width,Q=ee.x,de=ee.y,me={};return this.getSections({height:x,width:J,x:Q,y:de}).forEach(function(Se){return Se.getCellIndices().forEach(function(Me){me[Me]=Me})}),Object.keys(me).map(function(Se){return me[Se]})}},{key:"getCellMetadata",value:function(ee){var x=ee.index;return this._cellMetadata[x]}},{key:"getSections",value:function(ee){for(var x=ee.height,J=ee.width,Q=ee.x,de=ee.y,me=Math.floor(Q/this._sectionSize),Se=Math.floor((Q+J-1)/this._sectionSize),Me=Math.floor(de/this._sectionSize),Le=Math.floor((de+x-1)/this._sectionSize),De=[],ze=me;ze<=Se;ze++)for(var Qe=Me;Qe<=Le;Qe++){var rt=ze+"."+Qe;this._sections[rt]||(this._sections[rt]=new vh({height:this._sectionSize,width:this._sectionSize,x:ze*this._sectionSize,y:Qe*this._sectionSize})),De.push(this._sections[rt])}return De}},{key:"getTotalSectionCount",value:function(){return Object.keys(this._sections).length}},{key:"toString",value:function(){var ee=this;return Object.keys(this._sections).map(function(x){return ee._sections[x].toString()})}},{key:"registerCell",value:function(ee){var x=ee.cellMetadatum,J=ee.index;this._cellMetadata[J]=x,this.getSections(x).forEach(function(Q){return Q.addCellIndex({index:J})})}}]),ce}();function Td(ce){var ee=ce.align,x=ee===void 0?"auto":ee,J=ce.cellOffset,Q=ce.cellSize,de=ce.containerSize,me=ce.currentOffset,Se=J,Me=Se-de+Q;switch(x){case"start":return Se;case"end":return Me;case"center":return Se-(de-Q)/2;default:return Math.max(Me,Math.min(Se,me))}}o(Td,"getUpdatedOffsetForIndex");var Nc=function(ce){function ee(x,J){Vi(this,ee);var Q=Wi(this,(ee.__proto__||Object.getPrototypeOf(ee)).call(this,x,J));return Q._cellMetadata=[],Q._lastRenderedCellIndices=[],Q._cellCache=[],Q._isScrollingChange=Q._isScrollingChange.bind(Q),Q._setCollectionViewRef=Q._setCollectionViewRef.bind(Q),Q}return o(ee,"Collection"),Sr(ee,ce),ji(ee,[{key:"forceUpdate",value:function(){this._collectionView!==void 0&&this._collectionView.forceUpdate()}},{key:"recomputeCellSizesAndPositions",value:function(){this._cellCache=[],this._collectionView.recomputeCellSizesAndPositions()}},{key:"render",value:function(){var x=hs(this.props,[]);return gn.createElement(qa,Wn({cellLayoutManager:this,isScrollingChange:this._isScrollingChange,ref:this._setCollectionViewRef},x))}},{key:"calculateSizeAndPositionData",value:function(){var x=this.props,J=function(Q){for(var de=Q.cellCount,me=Q.cellSizeAndPositionGetter,Se=Q.sectionSize,Me=[],Le=new _c(Se),De=0,ze=0,Qe=0;Qe<de;Qe++){var rt=me({index:Qe});if(rt.height==null||isNaN(rt.height)||rt.width==null||isNaN(rt.width)||rt.x==null||isNaN(rt.x)||rt.y==null||isNaN(rt.y))throw Error("Invalid metadata returned for cell "+Qe+`:
        x:`+rt.x+", y:"+rt.y+", width:"+rt.width+", height:"+rt.height);De=Math.max(De,rt.y+rt.height),ze=Math.max(ze,rt.x+rt.width),Me[Qe]=rt,Le.registerCell({cellMetadatum:rt,index:Qe})}return{cellMetadata:Me,height:De,sectionManager:Le,width:ze}}({cellCount:x.cellCount,cellSizeAndPositionGetter:x.cellSizeAndPositionGetter,sectionSize:x.sectionSize});this._cellMetadata=J.cellMetadata,this._sectionManager=J.sectionManager,this._height=J.height,this._width=J.width}},{key:"getLastRenderedIndices",value:function(){return this._lastRenderedCellIndices}},{key:"getScrollPositionForCell",value:function(x){var J=x.align,Q=x.cellIndex,de=x.height,me=x.scrollLeft,Se=x.scrollTop,Me=x.width,Le=this.props.cellCount;if(Q>=0&&Q<Le){var De=this._cellMetadata[Q];me=Td({align:J,cellOffset:De.x,cellSize:De.width,containerSize:Me,currentOffset:me,targetIndex:Q}),Se=Td({align:J,cellOffset:De.y,cellSize:De.height,containerSize:de,currentOffset:Se,targetIndex:Q})}return{scrollLeft:me,scrollTop:Se}}},{key:"getTotalSize",value:function(){return{height:this._height,width:this._width}}},{key:"cellRenderers",value:function(x){var J=this,Q=x.height,de=x.isScrolling,me=x.width,Se=x.x,Me=x.y,Le=this.props,De=Le.cellGroupRenderer,ze=Le.cellRenderer;return this._lastRenderedCellIndices=this._sectionManager.getCellIndices({height:Q,width:me,x:Se,y:Me}),De({cellCache:this._cellCache,cellRenderer:ze,cellSizeAndPositionGetter:function(Qe){var rt=Qe.index;return J._sectionManager.getCellMetadata({index:rt})},indices:this._lastRenderedCellIndices,isScrolling:de})}},{key:"_isScrollingChange",value:function(x){x||(this._cellCache=[])}},{key:"_setCollectionViewRef",value:function(x){this._collectionView=x}}]),ee}(gn.PureComponent);Nc.propTypes={"aria-label":st.string,cellCount:st.number.isRequired,cellGroupRenderer:st.func.isRequired,cellRenderer:st.func.isRequired,cellSizeAndPositionGetter:st.func.isRequired,sectionSize:st.number},Nc.defaultProps={"aria-label":"grid",cellGroupRenderer:function(ce){var ee=ce.cellCache,x=ce.cellRenderer,J=ce.cellSizeAndPositionGetter,Q=ce.indices,de=ce.isScrolling;return Q.map(function(me){var Se=J({index:me}),Me={index:me,isScrolling:de,key:me,style:{height:Se.height,left:Se.x,position:"absolute",top:Se.y,width:Se.width}};return de?(me in ee||(ee[me]=x(Me)),ee[me]):x(Me)}).filter(function(me){return!!me})}};var pc=function(ce){function ee(x,J){Vi(this,ee);var Q=Wi(this,(ee.__proto__||Object.getPrototypeOf(ee)).call(this,x,J));return Q._registerChild=Q._registerChild.bind(Q),Q}return o(ee,"ColumnSizer"),Sr(ee,ce),ji(ee,[{key:"componentDidUpdate",value:function(x){var J=this.props,Q=J.columnMaxWidth,de=J.columnMinWidth,me=J.columnCount,Se=J.width;Q===x.columnMaxWidth&&de===x.columnMinWidth&&me===x.columnCount&&Se===x.width||this._registeredChild&&this._registeredChild.recomputeGridSize()}},{key:"render",value:function(){var x=this.props,J=x.children,Q=x.columnMaxWidth,de=x.columnMinWidth,me=x.columnCount,Se=x.width,Me=de||1,Le=Q?Math.min(Q,Se):Se,De=Se/me;return De=Math.max(Me,De),De=Math.min(Le,De),De=Math.floor(De),J({adjustedWidth:Math.min(Se,De*me),columnWidth:De,getColumnWidth:function(){return De},registerChild:this._registerChild})}},{key:"_registerChild",value:function(x){if(x&&typeof x.recomputeGridSize!="function")throw Error("Unexpected child type registered; only Grid/MultiGrid children are supported.");this._registeredChild=x,this._registeredChild&&this._registeredChild.recomputeGridSize()}}]),ee}(gn.PureComponent);function Id(ce){var ee=ce.cellCount,x=ce.cellSize,J=ce.computeMetadataCallback,Q=ce.computeMetadataCallbackProps,de=ce.nextCellsCount,me=ce.nextCellSize,Se=ce.nextScrollToIndex,Me=ce.scrollToIndex,Le=ce.updateScrollOffsetForScrollToIndex;ee===de&&(typeof x!="number"&&typeof me!="number"||x===me)||(J(Q),Me>=0&&Me===Se&&Le())}o(Id,"calculateSizeAndPositionDataAndUpdateScrollOffset"),pc.propTypes={children:st.func.isRequired,columnMaxWidth:st.number,columnMinWidth:st.number,columnCount:st.number.isRequired,width:st.number.isRequired};var yh=function(){function ce(ee){var x=ee.cellCount,J=ee.cellSizeGetter,Q=ee.estimatedCellSize;Vi(this,ce),this._cellSizeAndPositionData={},this._lastMeasuredIndex=-1,this._lastBatchedIndex=-1,this._cellSizeGetter=J,this._cellCount=x,this._estimatedCellSize=Q}return o(ce,"CellSizeAndPositionManager"),ji(ce,[{key:"areOffsetsAdjusted",value:function(){return!1}},{key:"configure",value:function(ee){var x=ee.cellCount,J=ee.estimatedCellSize,Q=ee.cellSizeGetter;this._cellCount=x,this._estimatedCellSize=J,this._cellSizeGetter=Q}},{key:"getCellCount",value:function(){return this._cellCount}},{key:"getEstimatedCellSize",value:function(){return this._estimatedCellSize}},{key:"getLastMeasuredIndex",value:function(){return this._lastMeasuredIndex}},{key:"getOffsetAdjustment",value:function(){return 0}},{key:"getSizeAndPositionOfCell",value:function(ee){if(ee<0||ee>=this._cellCount)throw Error("Requested index "+ee+" is outside of range 0.."+this._cellCount);if(ee>this._lastMeasuredIndex)for(var x=this.getSizeAndPositionOfLastMeasuredCell(),J=x.offset+x.size,Q=this._lastMeasuredIndex+1;Q<=ee;Q++){var de=this._cellSizeGetter({index:Q});if(de===void 0||isNaN(de))throw Error("Invalid size returned for cell "+Q+" of value "+de);de===null?(this._cellSizeAndPositionData[Q]={offset:J,size:0},this._lastBatchedIndex=ee):(this._cellSizeAndPositionData[Q]={offset:J,size:de},J+=de,this._lastMeasuredIndex=ee)}return this._cellSizeAndPositionData[ee]}},{key:"getSizeAndPositionOfLastMeasuredCell",value:function(){return this._lastMeasuredIndex>=0?this._cellSizeAndPositionData[this._lastMeasuredIndex]:{offset:0,size:0}}},{key:"getTotalSize",value:function(){var ee=this.getSizeAndPositionOfLastMeasuredCell();return ee.offset+ee.size+(this._cellCount-this._lastMeasuredIndex-1)*this._estimatedCellSize}},{key:"getUpdatedOffsetForIndex",value:function(ee){var x=ee.align,J=x===void 0?"auto":x,Q=ee.containerSize,de=ee.currentOffset,me=ee.targetIndex;if(Q<=0)return 0;var Se=this.getSizeAndPositionOfCell(me),Me=Se.offset,Le=Me-Q+Se.size,De=void 0;switch(J){case"start":De=Me;break;case"end":De=Le;break;case"center":De=Me-(Q-Se.size)/2;break;default:De=Math.max(Le,Math.min(Me,de))}var ze=this.getTotalSize();return Math.max(0,Math.min(ze-Q,De))}},{key:"getVisibleCellRange",value:function(ee){var x=ee.containerSize,J=ee.offset;if(this.getTotalSize()===0)return{};var Q=J+x,de=this._findNearestCell(J),me=this.getSizeAndPositionOfCell(de);J=me.offset+me.size;for(var Se=de;J<Q&&Se<this._cellCount-1;)Se++,J+=this.getSizeAndPositionOfCell(Se).size;return{start:de,stop:Se}}},{key:"resetCell",value:function(ee){this._lastMeasuredIndex=Math.min(this._lastMeasuredIndex,ee-1)}},{key:"_binarySearch",value:function(ee,x,J){for(;x<=ee;){var Q=x+Math.floor((ee-x)/2),de=this.getSizeAndPositionOfCell(Q).offset;if(de===J)return Q;de<J?x=Q+1:de>J&&(ee=Q-1)}return x>0?x-1:0}},{key:"_exponentialSearch",value:function(ee,x){for(var J=1;ee<this._cellCount&&this.getSizeAndPositionOfCell(ee).offset<x;)ee+=J,J*=2;return this._binarySearch(Math.min(ee,this._cellCount-1),Math.floor(ee/2),x)}},{key:"_findNearestCell",value:function(ee){if(isNaN(ee))throw Error("Invalid offset "+ee+" specified");ee=Math.max(0,ee);var x=this.getSizeAndPositionOfLastMeasuredCell(),J=Math.max(0,this._lastMeasuredIndex);return x.offset>=ee?this._binarySearch(J,0,ee):this._exponentialSearch(J,ee)}}]),ce}(),Bc=o(function(){return typeof V<"u"&&V.chrome?16777100:15e5},"getMaxElementSize"),wd=function(){function ce(ee){var x=ee.maxScrollSize,J=x===void 0?Bc():x,Q=hs(ee,["maxScrollSize"]);Vi(this,ce),this._cellSizeAndPositionManager=new yh(Q),this._maxScrollSize=J}return o(ce,"ScalingCellSizeAndPositionManager"),ji(ce,[{key:"areOffsetsAdjusted",value:function(){return this._cellSizeAndPositionManager.getTotalSize()>this._maxScrollSize}},{key:"configure",value:function(ee){this._cellSizeAndPositionManager.configure(ee)}},{key:"getCellCount",value:function(){return this._cellSizeAndPositionManager.getCellCount()}},{key:"getEstimatedCellSize",value:function(){return this._cellSizeAndPositionManager.getEstimatedCellSize()}},{key:"getLastMeasuredIndex",value:function(){return this._cellSizeAndPositionManager.getLastMeasuredIndex()}},{key:"getOffsetAdjustment",value:function(ee){var x=ee.containerSize,J=ee.offset,Q=this._cellSizeAndPositionManager.getTotalSize(),de=this.getTotalSize(),me=this._getOffsetPercentage({containerSize:x,offset:J,totalSize:de});return Math.round(me*(de-Q))}},{key:"getSizeAndPositionOfCell",value:function(ee){return this._cellSizeAndPositionManager.getSizeAndPositionOfCell(ee)}},{key:"getSizeAndPositionOfLastMeasuredCell",value:function(){return this._cellSizeAndPositionManager.getSizeAndPositionOfLastMeasuredCell()}},{key:"getTotalSize",value:function(){return Math.min(this._maxScrollSize,this._cellSizeAndPositionManager.getTotalSize())}},{key:"getUpdatedOffsetForIndex",value:function(ee){var x=ee.align,J=x===void 0?"auto":x,Q=ee.containerSize,de=ee.currentOffset,me=ee.targetIndex;de=this._safeOffsetToOffset({containerSize:Q,offset:de});var Se=this._cellSizeAndPositionManager.getUpdatedOffsetForIndex({align:J,containerSize:Q,currentOffset:de,targetIndex:me});return this._offsetToSafeOffset({containerSize:Q,offset:Se})}},{key:"getVisibleCellRange",value:function(ee){var x=ee.containerSize,J=ee.offset;return J=this._safeOffsetToOffset({containerSize:x,offset:J}),this._cellSizeAndPositionManager.getVisibleCellRange({containerSize:x,offset:J})}},{key:"resetCell",value:function(ee){this._cellSizeAndPositionManager.resetCell(ee)}},{key:"_getOffsetPercentage",value:function(ee){var x=ee.containerSize,J=ee.offset,Q=ee.totalSize;return Q<=x?0:J/(Q-x)}},{key:"_offsetToSafeOffset",value:function(ee){var x=ee.containerSize,J=ee.offset,Q=this._cellSizeAndPositionManager.getTotalSize(),de=this.getTotalSize();if(Q===de)return J;var me=this._getOffsetPercentage({containerSize:x,offset:J,totalSize:Q});return Math.round(me*(de-x))}},{key:"_safeOffsetToOffset",value:function(ee){var x=ee.containerSize,J=ee.offset,Q=this._cellSizeAndPositionManager.getTotalSize(),de=this.getTotalSize();if(Q===de)return J;var me=this._getOffsetPercentage({containerSize:x,offset:J,totalSize:de});return Math.round(me*(Q-x))}}]),ce}(),Bs=1;function mc(ce){var ee=ce.cellCount,x=ce.overscanCellsCount,J=ce.scrollDirection,Q=ce.startIndex,de=ce.stopIndex;return J===Bs?{overscanStartIndex:Math.max(0,Q),overscanStopIndex:Math.min(ee-1,de+x)}:{overscanStartIndex:Math.max(0,Q-x),overscanStopIndex:Math.min(ee-1,de)}}o(mc,"defaultOverscanIndicesGetter");function Od(ce){var ee=ce.cellSize,x=ce.cellSizeAndPositionManager,J=ce.previousCellsCount,Q=ce.previousCellSize,de=ce.previousScrollToAlignment,me=ce.previousScrollToIndex,Se=ce.previousSize,Me=ce.scrollOffset,Le=ce.scrollToAlignment,De=ce.scrollToIndex,ze=ce.size,Qe=ce.sizeJustIncreasedFromZero,rt=ce.updateScrollIndexCallback,je=x.getCellCount(),dt=De>=0&&De<je;dt&&(ze!==Se||Qe||!Q||typeof ee=="number"&&ee!==Q||Le!==de||De!==me)?rt(De):!dt&&je>0&&(ze<Se||je<J)&&Me>x.getTotalSize()-ze&&rt(je-1)}o(Od,"updateScrollIndexHelper");function Md(ce){for(var ee=ce.cellCache,x=ce.cellRenderer,J=ce.columnSizeAndPositionManager,Q=ce.columnStartIndex,de=ce.columnStopIndex,me=ce.deferredMeasurementCache,Se=ce.horizontalOffsetAdjustment,Me=ce.isScrolling,Le=ce.isScrollingOptOut,De=ce.parent,ze=ce.rowSizeAndPositionManager,Qe=ce.rowStartIndex,rt=ce.rowStopIndex,je=ce.styleCache,dt=ce.verticalOffsetAdjustment,vt=ce.visibleColumnIndices,Tt=ce.visibleRowIndices,At=[],Lt=J.areOffsetsAdjusted()||ze.areOffsetsAdjusted(),ut=!Me&&!Lt,Pt=Qe;Pt<=rt;Pt++)for(var _t=ze.getSizeAndPositionOfCell(Pt),Sn=Q;Sn<=de;Sn++){var Gn=J.getSizeAndPositionOfCell(Sn),bi=Sn>=vt.start&&Sn<=vt.stop&&Pt>=Tt.start&&Pt<=Tt.stop,ai=Pt+"-"+Sn,Ai=void 0;ut&&je[ai]?Ai=je[ai]:me&&!me.has(Pt,Sn)?Ai={height:"auto",left:0,position:"absolute",top:0,width:"auto"}:(Ai={height:_t.size,left:Gn.offset+Se,position:"absolute",top:_t.offset+dt,width:Gn.size},je[ai]=Ai);var yr={columnIndex:Sn,isScrolling:Me,isVisible:bi,key:ai,parent:De,rowIndex:Pt,style:Ai},ur=void 0;!Le&&!Me||Se||dt?ur=x(yr):(ee[ai]||(ee[ai]=x(yr)),ur=ee[ai]),ur!=null&&ur!==!1&&(Fc(De,ur),At.push(ur))}return At}o(Md,"defaultCellRangeRenderer");function Fc(ce,ee){ee&&(ee.type&&ee.type.__internalCellMeasurerFlag&&(ee=ee.props.children),ee&&ee.props&&ee.props.style===void 0&&ce.__warnedAboutMissingStyle!==!0&&(ce.__warnedAboutMissingStyle=!0,zt.warn("Rendered cell should include style property for positioning.")))}o(Fc,"warnAboutMissingStyle");var Do=void 0,Ad=(Do=typeof V<"u"?V:typeof oc<"u"?oc:{}).requestAnimationFrame||Do.webkitRequestAnimationFrame||Do.mozRequestAnimationFrame||Do.oRequestAnimationFrame||Do.msRequestAnimationFrame||function(ce){return Do.setTimeout(ce,1e3/60)},Uc=Do.cancelAnimationFrame||Do.webkitCancelAnimationFrame||Do.mozCancelAnimationFrame||Do.oCancelAnimationFrame||Do.msCancelAnimationFrame||function(ce){Do.clearTimeout(ce)},el=o(function(ce){return Uc(ce.id)},"cancelAnimationTimeout"),Vc=o(function(ce,ee){var x=void 0;Promise.resolve().then(function(){x=Date.now()});var J={id:Ad(o(function Q(){Date.now()-x>=ee?ce.call():J.id=Ad(Q)},"timeout"))};return J},"requestAnimationTimeout"),Hc="observed",Rd="requested",Fs=function(ce){function ee(x){Vi(this,ee);var J=Wi(this,(ee.__proto__||Object.getPrototypeOf(ee)).call(this,x));J._onGridRenderedMemoizer=ps(),J._onScrollMemoizer=ps(!1),J._deferredInvalidateColumnIndex=null,J._deferredInvalidateRowIndex=null,J._recomputeScrollLeftFlag=!1,J._recomputeScrollTopFlag=!1,J._horizontalScrollBarSize=0,J._verticalScrollBarSize=0,J._scrollbarPresenceChanged=!1,J._renderedColumnStartIndex=0,J._renderedColumnStopIndex=0,J._renderedRowStartIndex=0,J._renderedRowStopIndex=0,J._styleCache={},J._cellCache={},J._debounceScrollEndedCallback=function(){J._disablePointerEventsTimeoutId=null,J.setState({isScrolling:!1,needToResetStyleCache:!1})},J._invokeOnGridRenderedHelper=function(){var me=J.props.onSectionRendered;J._onGridRenderedMemoizer({callback:me,indices:{columnOverscanStartIndex:J._columnStartIndex,columnOverscanStopIndex:J._columnStopIndex,columnStartIndex:J._renderedColumnStartIndex,columnStopIndex:J._renderedColumnStopIndex,rowOverscanStartIndex:J._rowStartIndex,rowOverscanStopIndex:J._rowStopIndex,rowStartIndex:J._renderedRowStartIndex,rowStopIndex:J._renderedRowStopIndex}})},J._setScrollingContainerRef=function(me){J._scrollingContainer=me},J._onScroll=function(me){me.target===J._scrollingContainer&&J.handleScrollEvent(me.target)};var Q=new wd({cellCount:x.columnCount,cellSizeGetter:function(me){return ee._wrapSizeGetter(x.columnWidth)(me)},estimatedCellSize:ee._getEstimatedColumnSize(x)}),de=new wd({cellCount:x.rowCount,cellSizeGetter:function(me){return ee._wrapSizeGetter(x.rowHeight)(me)},estimatedCellSize:ee._getEstimatedRowSize(x)});return J.state={instanceProps:{columnSizeAndPositionManager:Q,rowSizeAndPositionManager:de,prevColumnWidth:x.columnWidth,prevRowHeight:x.rowHeight,prevColumnCount:x.columnCount,prevRowCount:x.rowCount,prevIsScrolling:x.isScrolling===!0,prevScrollToColumn:x.scrollToColumn,prevScrollToRow:x.scrollToRow,scrollbarSize:0,scrollbarSizeMeasured:!1},isScrolling:!1,scrollDirectionHorizontal:Bs,scrollDirectionVertical:Bs,scrollLeft:0,scrollTop:0,scrollPositionChangeReason:null,needToResetStyleCache:!1},x.scrollToRow>0&&(J._initialScrollTop=J._getCalculatedScrollTop(x,J.state)),x.scrollToColumn>0&&(J._initialScrollLeft=J._getCalculatedScrollLeft(x,J.state)),J}return o(ee,"Grid"),Sr(ee,ce),ji(ee,[{key:"getOffsetForCell",value:function(){var x=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},J=x.alignment,Q=J===void 0?this.props.scrollToAlignment:J,de=x.columnIndex,me=de===void 0?this.props.scrollToColumn:de,Se=x.rowIndex,Me=Se===void 0?this.props.scrollToRow:Se,Le=Wn({},this.props,{scrollToAlignment:Q,scrollToColumn:me,scrollToRow:Me});return{scrollLeft:this._getCalculatedScrollLeft(Le),scrollTop:this._getCalculatedScrollTop(Le)}}},{key:"getTotalRowsHeight",value:function(){return this.state.instanceProps.rowSizeAndPositionManager.getTotalSize()}},{key:"getTotalColumnsWidth",value:function(){return this.state.instanceProps.columnSizeAndPositionManager.getTotalSize()}},{key:"handleScrollEvent",value:function(x){var J=x.scrollLeft,Q=J===void 0?0:J,de=x.scrollTop,me=de===void 0?0:de;if(!(me<0)){this._debounceScrollEnded();var Se=this.props,Me=Se.autoHeight,Le=Se.autoWidth,De=Se.height,ze=Se.width,Qe=this.state.instanceProps,rt=Qe.scrollbarSize,je=Qe.rowSizeAndPositionManager.getTotalSize(),dt=Qe.columnSizeAndPositionManager.getTotalSize(),vt=Math.min(Math.max(0,dt-ze+rt),Q),Tt=Math.min(Math.max(0,je-De+rt),me);if(this.state.scrollLeft!==vt||this.state.scrollTop!==Tt){var At={isScrolling:!0,scrollDirectionHorizontal:vt!==this.state.scrollLeft?vt>this.state.scrollLeft?Bs:-1:this.state.scrollDirectionHorizontal,scrollDirectionVertical:Tt!==this.state.scrollTop?Tt>this.state.scrollTop?Bs:-1:this.state.scrollDirectionVertical,scrollPositionChangeReason:Hc};Me||(At.scrollTop=Tt),Le||(At.scrollLeft=vt),At.needToResetStyleCache=!1,this.setState(At)}this._invokeOnScrollMemoizer({scrollLeft:vt,scrollTop:Tt,totalColumnsWidth:dt,totalRowsHeight:je})}}},{key:"invalidateCellSizeAfterRender",value:function(x){var J=x.columnIndex,Q=x.rowIndex;this._deferredInvalidateColumnIndex=typeof this._deferredInvalidateColumnIndex=="number"?Math.min(this._deferredInvalidateColumnIndex,J):J,this._deferredInvalidateRowIndex=typeof this._deferredInvalidateRowIndex=="number"?Math.min(this._deferredInvalidateRowIndex,Q):Q}},{key:"measureAllCells",value:function(){var x=this.props,J=x.columnCount,Q=x.rowCount,de=this.state.instanceProps;de.columnSizeAndPositionManager.getSizeAndPositionOfCell(J-1),de.rowSizeAndPositionManager.getSizeAndPositionOfCell(Q-1)}},{key:"recomputeGridSize",value:function(){var x=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},J=x.columnIndex,Q=J===void 0?0:J,de=x.rowIndex,me=de===void 0?0:de,Se=this.props,Me=Se.scrollToColumn,Le=Se.scrollToRow,De=this.state.instanceProps;De.columnSizeAndPositionManager.resetCell(Q),De.rowSizeAndPositionManager.resetCell(me),this._recomputeScrollLeftFlag=Me>=0&&(this.state.scrollDirectionHorizontal===Bs?Q<=Me:Q>=Me),this._recomputeScrollTopFlag=Le>=0&&(this.state.scrollDirectionVertical===Bs?me<=Le:me>=Le),this._styleCache={},this._cellCache={},this.forceUpdate()}},{key:"scrollToCell",value:function(x){var J=x.columnIndex,Q=x.rowIndex,de=this.props.columnCount,me=this.props;de>1&&J!==void 0&&this._updateScrollLeftForScrollToColumn(Wn({},me,{scrollToColumn:J})),Q!==void 0&&this._updateScrollTopForScrollToRow(Wn({},me,{scrollToRow:Q}))}},{key:"componentDidMount",value:function(){var x=this.props,J=x.getScrollbarSize,Q=x.height,de=x.scrollLeft,me=x.scrollToColumn,Se=x.scrollTop,Me=x.scrollToRow,Le=x.width,De=this.state.instanceProps;if(this._initialScrollTop=0,this._initialScrollLeft=0,this._handleInvalidatedGridSize(),De.scrollbarSizeMeasured||this.setState(function(rt){var je=Wn({},rt,{needToResetStyleCache:!1});return je.instanceProps.scrollbarSize=J(),je.instanceProps.scrollbarSizeMeasured=!0,je}),typeof de=="number"&&de>=0||typeof Se=="number"&&Se>=0){var ze=ee._getScrollToPositionStateUpdate({prevState:this.state,scrollLeft:de,scrollTop:Se});ze&&(ze.needToResetStyleCache=!1,this.setState(ze))}this._scrollingContainer&&(this._scrollingContainer.scrollLeft!==this.state.scrollLeft&&(this._scrollingContainer.scrollLeft=this.state.scrollLeft),this._scrollingContainer.scrollTop!==this.state.scrollTop&&(this._scrollingContainer.scrollTop=this.state.scrollTop));var Qe=Q>0&&Le>0;me>=0&&Qe&&this._updateScrollLeftForScrollToColumn(),Me>=0&&Qe&&this._updateScrollTopForScrollToRow(),this._invokeOnGridRenderedHelper(),this._invokeOnScrollMemoizer({scrollLeft:de||0,scrollTop:Se||0,totalColumnsWidth:De.columnSizeAndPositionManager.getTotalSize(),totalRowsHeight:De.rowSizeAndPositionManager.getTotalSize()}),this._maybeCallOnScrollbarPresenceChange()}},{key:"componentDidUpdate",value:function(x,J){var Q=this,de=this.props,me=de.autoHeight,Se=de.autoWidth,Me=de.columnCount,Le=de.height,De=de.rowCount,ze=de.scrollToAlignment,Qe=de.scrollToColumn,rt=de.scrollToRow,je=de.width,dt=this.state,vt=dt.scrollLeft,Tt=dt.scrollPositionChangeReason,At=dt.scrollTop,Lt=dt.instanceProps;this._handleInvalidatedGridSize();var ut=Me>0&&x.columnCount===0||De>0&&x.rowCount===0;Tt===Rd&&(!Se&&vt>=0&&(vt!==this._scrollingContainer.scrollLeft||ut)&&(this._scrollingContainer.scrollLeft=vt),!me&&At>=0&&(At!==this._scrollingContainer.scrollTop||ut)&&(this._scrollingContainer.scrollTop=At));var Pt=(x.width===0||x.height===0)&&Le>0&&je>0;if(this._recomputeScrollLeftFlag?(this._recomputeScrollLeftFlag=!1,this._updateScrollLeftForScrollToColumn(this.props)):Od({cellSizeAndPositionManager:Lt.columnSizeAndPositionManager,previousCellsCount:x.columnCount,previousCellSize:x.columnWidth,previousScrollToAlignment:x.scrollToAlignment,previousScrollToIndex:x.scrollToColumn,previousSize:x.width,scrollOffset:vt,scrollToAlignment:ze,scrollToIndex:Qe,size:je,sizeJustIncreasedFromZero:Pt,updateScrollIndexCallback:function(){return Q._updateScrollLeftForScrollToColumn(Q.props)}}),this._recomputeScrollTopFlag?(this._recomputeScrollTopFlag=!1,this._updateScrollTopForScrollToRow(this.props)):Od({cellSizeAndPositionManager:Lt.rowSizeAndPositionManager,previousCellsCount:x.rowCount,previousCellSize:x.rowHeight,previousScrollToAlignment:x.scrollToAlignment,previousScrollToIndex:x.scrollToRow,previousSize:x.height,scrollOffset:At,scrollToAlignment:ze,scrollToIndex:rt,size:Le,sizeJustIncreasedFromZero:Pt,updateScrollIndexCallback:function(){return Q._updateScrollTopForScrollToRow(Q.props)}}),this._invokeOnGridRenderedHelper(),vt!==J.scrollLeft||At!==J.scrollTop){var _t=Lt.rowSizeAndPositionManager.getTotalSize(),Sn=Lt.columnSizeAndPositionManager.getTotalSize();this._invokeOnScrollMemoizer({scrollLeft:vt,scrollTop:At,totalColumnsWidth:Sn,totalRowsHeight:_t})}this._maybeCallOnScrollbarPresenceChange()}},{key:"componentWillUnmount",value:function(){this._disablePointerEventsTimeoutId&&el(this._disablePointerEventsTimeoutId)}},{key:"render",value:function(){var x=this.props,J=x.autoContainerWidth,Q=x.autoHeight,de=x.autoWidth,me=x.className,Se=x.containerProps,Me=x.containerRole,Le=x.containerStyle,De=x.height,ze=x.id,Qe=x.noContentRenderer,rt=x.role,je=x.style,dt=x.tabIndex,vt=x.width,Tt=this.state,At=Tt.instanceProps,Lt=Tt.needToResetStyleCache,ut=this._isScrolling(),Pt={boxSizing:"border-box",direction:"ltr",height:Q?"auto":De,position:"relative",width:de?"auto":vt,WebkitOverflowScrolling:"touch",willChange:"transform"};Lt&&(this._styleCache={}),this.state.isScrolling||this._resetStyleCache(),this._calculateChildrenToRender(this.props,this.state);var _t=At.columnSizeAndPositionManager.getTotalSize(),Sn=At.rowSizeAndPositionManager.getTotalSize(),Gn=Sn>De?At.scrollbarSize:0,bi=_t>vt?At.scrollbarSize:0;bi===this._horizontalScrollBarSize&&Gn===this._verticalScrollBarSize||(this._horizontalScrollBarSize=bi,this._verticalScrollBarSize=Gn,this._scrollbarPresenceChanged=!0),Pt.overflowX=_t+Gn<=vt?"hidden":"auto",Pt.overflowY=Sn+bi<=De?"hidden":"auto";var ai=this._childrenToDisplay,Ai=ai.length===0&&De>0&&vt>0;return gn.createElement("div",Wn({ref:this._setScrollingContainerRef},Se,{"aria-label":this.props["aria-label"],"aria-readonly":this.props["aria-readonly"],className:no("ReactVirtualized__Grid",me),id:ze,onScroll:this._onScroll,role:rt,style:Wn({},Pt,je),tabIndex:dt}),ai.length>0&&gn.createElement("div",{className:"ReactVirtualized__Grid__innerScrollContainer",role:Me,style:Wn({width:J?"auto":_t,height:Sn,maxWidth:_t,maxHeight:Sn,overflow:"hidden",pointerEvents:ut?"none":"",position:"relative"},Le)},ai),Ai&&Qe())}},{key:"_calculateChildrenToRender",value:function(){var x=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.props,J=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.state,Q=x.cellRenderer,de=x.cellRangeRenderer,me=x.columnCount,Se=x.deferredMeasurementCache,Me=x.height,Le=x.overscanColumnCount,De=x.overscanIndicesGetter,ze=x.overscanRowCount,Qe=x.rowCount,rt=x.width,je=x.isScrollingOptOut,dt=J.scrollDirectionHorizontal,vt=J.scrollDirectionVertical,Tt=J.instanceProps,At=this._initialScrollTop>0?this._initialScrollTop:J.scrollTop,Lt=this._initialScrollLeft>0?this._initialScrollLeft:J.scrollLeft,ut=this._isScrolling(x,J);if(this._childrenToDisplay=[],Me>0&&rt>0){var Pt=Tt.columnSizeAndPositionManager.getVisibleCellRange({containerSize:rt,offset:Lt}),_t=Tt.rowSizeAndPositionManager.getVisibleCellRange({containerSize:Me,offset:At}),Sn=Tt.columnSizeAndPositionManager.getOffsetAdjustment({containerSize:rt,offset:Lt}),Gn=Tt.rowSizeAndPositionManager.getOffsetAdjustment({containerSize:Me,offset:At});this._renderedColumnStartIndex=Pt.start,this._renderedColumnStopIndex=Pt.stop,this._renderedRowStartIndex=_t.start,this._renderedRowStopIndex=_t.stop;var bi=De({direction:"horizontal",cellCount:me,overscanCellsCount:Le,scrollDirection:dt,startIndex:typeof Pt.start=="number"?Pt.start:0,stopIndex:typeof Pt.stop=="number"?Pt.stop:-1}),ai=De({direction:"vertical",cellCount:Qe,overscanCellsCount:ze,scrollDirection:vt,startIndex:typeof _t.start=="number"?_t.start:0,stopIndex:typeof _t.stop=="number"?_t.stop:-1}),Ai=bi.overscanStartIndex,yr=bi.overscanStopIndex,ur=ai.overscanStartIndex,Ia=ai.overscanStopIndex;if(Se){if(!Se.hasFixedHeight()){for(var ms=ur;ms<=Ia;ms++)if(!Se.has(ms,0)){Ai=0,yr=me-1;break}}if(!Se.hasFixedWidth()){for(var ta=Ai;ta<=yr;ta++)if(!Se.has(0,ta)){ur=0,Ia=Qe-1;break}}}this._childrenToDisplay=de({cellCache:this._cellCache,cellRenderer:Q,columnSizeAndPositionManager:Tt.columnSizeAndPositionManager,columnStartIndex:Ai,columnStopIndex:yr,deferredMeasurementCache:Se,horizontalOffsetAdjustment:Sn,isScrolling:ut,isScrollingOptOut:je,parent:this,rowSizeAndPositionManager:Tt.rowSizeAndPositionManager,rowStartIndex:ur,rowStopIndex:Ia,scrollLeft:Lt,scrollTop:At,styleCache:this._styleCache,verticalOffsetAdjustment:Gn,visibleColumnIndices:Pt,visibleRowIndices:_t}),this._columnStartIndex=Ai,this._columnStopIndex=yr,this._rowStartIndex=ur,this._rowStopIndex=Ia}}},{key:"_debounceScrollEnded",value:function(){var x=this.props.scrollingResetTimeInterval;this._disablePointerEventsTimeoutId&&el(this._disablePointerEventsTimeoutId),this._disablePointerEventsTimeoutId=Vc(this._debounceScrollEndedCallback,x)}},{key:"_handleInvalidatedGridSize",value:function(){if(typeof this._deferredInvalidateColumnIndex=="number"&&typeof this._deferredInvalidateRowIndex=="number"){var x=this._deferredInvalidateColumnIndex,J=this._deferredInvalidateRowIndex;this._deferredInvalidateColumnIndex=null,this._deferredInvalidateRowIndex=null,this.recomputeGridSize({columnIndex:x,rowIndex:J})}}},{key:"_invokeOnScrollMemoizer",value:function(x){var J=this,Q=x.scrollLeft,de=x.scrollTop,me=x.totalColumnsWidth,Se=x.totalRowsHeight;this._onScrollMemoizer({callback:function(Me){var Le=Me.scrollLeft,De=Me.scrollTop,ze=J.props,Qe=ze.height;(0,ze.onScroll)({clientHeight:Qe,clientWidth:ze.width,scrollHeight:Se,scrollLeft:Le,scrollTop:De,scrollWidth:me})},indices:{scrollLeft:Q,scrollTop:de}})}},{key:"_isScrolling",value:function(){var x=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.props,J=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.state;return Object.hasOwnProperty.call(x,"isScrolling")?Boolean(x.isScrolling):Boolean(J.isScrolling)}},{key:"_maybeCallOnScrollbarPresenceChange",value:function(){if(this._scrollbarPresenceChanged){var x=this.props.onScrollbarPresenceChange;this._scrollbarPresenceChanged=!1,x({horizontal:this._horizontalScrollBarSize>0,size:this.state.instanceProps.scrollbarSize,vertical:this._verticalScrollBarSize>0})}}},{key:"scrollToPosition",value:function(x){var J=x.scrollLeft,Q=x.scrollTop,de=ee._getScrollToPositionStateUpdate({prevState:this.state,scrollLeft:J,scrollTop:Q});de&&(de.needToResetStyleCache=!1,this.setState(de))}},{key:"_getCalculatedScrollLeft",value:function(){var x=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.props,J=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.state;return ee._getCalculatedScrollLeft(x,J)}},{key:"_updateScrollLeftForScrollToColumn",value:function(){var x=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.props,J=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.state,Q=ee._getScrollLeftForScrollToColumnStateUpdate(x,J);Q&&(Q.needToResetStyleCache=!1,this.setState(Q))}},{key:"_getCalculatedScrollTop",value:function(){var x=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.props,J=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.state;return ee._getCalculatedScrollTop(x,J)}},{key:"_resetStyleCache",value:function(){var x=this._styleCache,J=this._cellCache,Q=this.props.isScrollingOptOut;this._cellCache={},this._styleCache={};for(var de=this._rowStartIndex;de<=this._rowStopIndex;de++)for(var me=this._columnStartIndex;me<=this._columnStopIndex;me++){var Se=de+"-"+me;this._styleCache[Se]=x[Se],Q&&(this._cellCache[Se]=J[Se])}}},{key:"_updateScrollTopForScrollToRow",value:function(){var x=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.props,J=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.state,Q=ee._getScrollTopForScrollToRowStateUpdate(x,J);Q&&(Q.needToResetStyleCache=!1,this.setState(Q))}}],[{key:"getDerivedStateFromProps",value:function(x,J){var Q={};x.columnCount===0&&J.scrollLeft!==0||x.rowCount===0&&J.scrollTop!==0?(Q.scrollLeft=0,Q.scrollTop=0):(x.scrollLeft!==J.scrollLeft&&x.scrollToColumn<0||x.scrollTop!==J.scrollTop&&x.scrollToRow<0)&&Object.assign(Q,ee._getScrollToPositionStateUpdate({prevState:J,scrollLeft:x.scrollLeft,scrollTop:x.scrollTop}));var de=J.instanceProps;Q.needToResetStyleCache=!1,x.columnWidth===de.prevColumnWidth&&x.rowHeight===de.prevRowHeight||(Q.needToResetStyleCache=!0),de.columnSizeAndPositionManager.configure({cellCount:x.columnCount,estimatedCellSize:ee._getEstimatedColumnSize(x),cellSizeGetter:ee._wrapSizeGetter(x.columnWidth)}),de.rowSizeAndPositionManager.configure({cellCount:x.rowCount,estimatedCellSize:ee._getEstimatedRowSize(x),cellSizeGetter:ee._wrapSizeGetter(x.rowHeight)}),de.prevColumnCount!==0&&de.prevRowCount!==0||(de.prevColumnCount=0,de.prevRowCount=0),x.autoHeight&&x.isScrolling===!1&&de.prevIsScrolling===!0&&Object.assign(Q,{isScrolling:!1});var me=void 0,Se=void 0;return Id({cellCount:de.prevColumnCount,cellSize:typeof de.prevColumnWidth=="number"?de.prevColumnWidth:null,computeMetadataCallback:function(){return de.columnSizeAndPositionManager.resetCell(0)},computeMetadataCallbackProps:x,nextCellsCount:x.columnCount,nextCellSize:typeof x.columnWidth=="number"?x.columnWidth:null,nextScrollToIndex:x.scrollToColumn,scrollToIndex:de.prevScrollToColumn,updateScrollOffsetForScrollToIndex:function(){me=ee._getScrollLeftForScrollToColumnStateUpdate(x,J)}}),Id({cellCount:de.prevRowCount,cellSize:typeof de.prevRowHeight=="number"?de.prevRowHeight:null,computeMetadataCallback:function(){return de.rowSizeAndPositionManager.resetCell(0)},computeMetadataCallbackProps:x,nextCellsCount:x.rowCount,nextCellSize:typeof x.rowHeight=="number"?x.rowHeight:null,nextScrollToIndex:x.scrollToRow,scrollToIndex:de.prevScrollToRow,updateScrollOffsetForScrollToIndex:function(){Se=ee._getScrollTopForScrollToRowStateUpdate(x,J)}}),de.prevColumnCount=x.columnCount,de.prevColumnWidth=x.columnWidth,de.prevIsScrolling=x.isScrolling===!0,de.prevRowCount=x.rowCount,de.prevRowHeight=x.rowHeight,de.prevScrollToColumn=x.scrollToColumn,de.prevScrollToRow=x.scrollToRow,de.scrollbarSize=x.getScrollbarSize(),de.scrollbarSize===void 0?(de.scrollbarSizeMeasured=!1,de.scrollbarSize=0):de.scrollbarSizeMeasured=!0,Q.instanceProps=de,Wn({},Q,me,Se)}},{key:"_getEstimatedColumnSize",value:function(x){return typeof x.columnWidth=="number"?x.columnWidth:x.estimatedColumnSize}},{key:"_getEstimatedRowSize",value:function(x){return typeof x.rowHeight=="number"?x.rowHeight:x.estimatedRowSize}},{key:"_getScrollToPositionStateUpdate",value:function(x){var J=x.prevState,Q=x.scrollLeft,de=x.scrollTop,me={scrollPositionChangeReason:Rd};return typeof Q=="number"&&Q>=0&&(me.scrollDirectionHorizontal=Q>J.scrollLeft?Bs:-1,me.scrollLeft=Q),typeof de=="number"&&de>=0&&(me.scrollDirectionVertical=de>J.scrollTop?Bs:-1,me.scrollTop=de),typeof Q=="number"&&Q>=0&&Q!==J.scrollLeft||typeof de=="number"&&de>=0&&de!==J.scrollTop?me:null}},{key:"_wrapSizeGetter",value:function(x){return typeof x=="function"?x:function(){return x}}},{key:"_getCalculatedScrollLeft",value:function(x,J){var Q=x.columnCount,de=x.height,me=x.scrollToAlignment,Se=x.scrollToColumn,Me=x.width,Le=J.scrollLeft,De=J.instanceProps;if(Q>0){var ze=Q-1,Qe=Se<0?ze:Math.min(ze,Se),rt=De.rowSizeAndPositionManager.getTotalSize(),je=De.scrollbarSizeMeasured&&rt>de?De.scrollbarSize:0;return De.columnSizeAndPositionManager.getUpdatedOffsetForIndex({align:me,containerSize:Me-je,currentOffset:Le,targetIndex:Qe})}return 0}},{key:"_getScrollLeftForScrollToColumnStateUpdate",value:function(x,J){var Q=J.scrollLeft,de=ee._getCalculatedScrollLeft(x,J);return typeof de=="number"&&de>=0&&Q!==de?ee._getScrollToPositionStateUpdate({prevState:J,scrollLeft:de,scrollTop:-1}):null}},{key:"_getCalculatedScrollTop",value:function(x,J){var Q=x.height,de=x.rowCount,me=x.scrollToAlignment,Se=x.scrollToRow,Me=x.width,Le=J.scrollTop,De=J.instanceProps;if(de>0){var ze=de-1,Qe=Se<0?ze:Math.min(ze,Se),rt=De.columnSizeAndPositionManager.getTotalSize(),je=De.scrollbarSizeMeasured&&rt>Me?De.scrollbarSize:0;return De.rowSizeAndPositionManager.getUpdatedOffsetForIndex({align:me,containerSize:Q-je,currentOffset:Le,targetIndex:Qe})}return 0}},{key:"_getScrollTopForScrollToRowStateUpdate",value:function(x,J){var Q=J.scrollTop,de=ee._getCalculatedScrollTop(x,J);return typeof de=="number"&&de>=0&&Q!==de?ee._getScrollToPositionStateUpdate({prevState:J,scrollLeft:-1,scrollTop:de}):null}}]),ee}(gn.PureComponent);Fs.defaultProps={"aria-label":"grid","aria-readonly":!0,autoContainerWidth:!1,autoHeight:!1,autoWidth:!1,cellRangeRenderer:Md,containerRole:"rowgroup",containerStyle:{},estimatedColumnSize:100,estimatedRowSize:30,getScrollbarSize:Lc,noContentRenderer:function(){return null},onScroll:function(){},onScrollbarPresenceChange:function(){},onSectionRendered:function(){},overscanColumnCount:0,overscanIndicesGetter:mc,overscanRowCount:10,role:"grid",scrollingResetTimeInterval:150,scrollToAlignment:"auto",scrollToColumn:-1,scrollToRow:-1,style:{},tabIndex:0,isScrollingOptOut:!1},Ls(Fs);var zc=1;function jc(ce){var ee=ce.cellCount,x=ce.overscanCellsCount,J=ce.scrollDirection,Q=ce.startIndex,de=ce.stopIndex;return x=Math.max(1,x),J===zc?{overscanStartIndex:Math.max(0,Q-1),overscanStopIndex:Math.min(ee-1,de+x)}:{overscanStartIndex:Math.max(0,Q-x),overscanStopIndex:Math.min(ee-1,de+1)}}o(jc,"defaultOverscanIndicesGetter$1");var Wc=function(ce){function ee(x,J){Vi(this,ee);var Q=Wi(this,(ee.__proto__||Object.getPrototypeOf(ee)).call(this,x,J));return Q._loadMoreRowsMemoizer=ps(),Q._onRowsRendered=Q._onRowsRendered.bind(Q),Q._registerChild=Q._registerChild.bind(Q),Q}return o(ee,"InfiniteLoader"),Sr(ee,ce),ji(ee,[{key:"resetLoadMoreRowsCache",value:function(x){this._loadMoreRowsMemoizer=ps(),x&&this._doStuff(this._lastRenderedStartIndex,this._lastRenderedStopIndex)}},{key:"render",value:function(){return(0,this.props.children)({onRowsRendered:this._onRowsRendered,registerChild:this._registerChild})}},{key:"_loadUnloadedRanges",value:function(x){var J=this,Q=this.props.loadMoreRows;x.forEach(function(de){var me=Q(de);me&&me.then(function(){var Se,Me,Le,De,ze;Se={lastRenderedStartIndex:J._lastRenderedStartIndex,lastRenderedStopIndex:J._lastRenderedStopIndex,startIndex:de.startIndex,stopIndex:de.stopIndex},Me=Se.lastRenderedStartIndex,Le=Se.lastRenderedStopIndex,De=Se.startIndex,ze=Se.stopIndex,De>Le||ze<Me||J._registeredChild&&function(Qe){var rt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,je=typeof Qe.recomputeGridSize=="function"?Qe.recomputeGridSize:Qe.recomputeRowHeights;je?je.call(Qe,rt):Qe.forceUpdate()}(J._registeredChild,J._lastRenderedStartIndex)})})}},{key:"_onRowsRendered",value:function(x){var J=x.startIndex,Q=x.stopIndex;this._lastRenderedStartIndex=J,this._lastRenderedStopIndex=Q,this._doStuff(J,Q)}},{key:"_doStuff",value:function(x,J){var Q,de=this,me=this.props,Se=me.isRowLoaded,Me=me.minimumBatchSize,Le=me.rowCount,De=me.threshold,ze=function(rt){for(var je=rt.isRowLoaded,dt=rt.minimumBatchSize,vt=rt.rowCount,Tt=rt.startIndex,At=rt.stopIndex,Lt=[],ut=null,Pt=null,_t=Tt;_t<=At;_t++){var Sn=je({index:_t});Sn?Pt!==null&&(Lt.push({startIndex:ut,stopIndex:Pt}),ut=Pt=null):(Pt=_t,ut===null&&(ut=_t))}if(Pt!==null){for(var Gn=Math.min(Math.max(Pt,ut+dt-1),vt-1),bi=Pt+1;bi<=Gn&&!je({index:bi});bi++)Pt=bi;Lt.push({startIndex:ut,stopIndex:Pt})}if(Lt.length)for(var ai=Lt[0];ai.stopIndex-ai.startIndex+1<dt&&ai.startIndex>0;){var Ai=ai.startIndex-1;if(je({index:Ai}))break;ai.startIndex=Ai}return Lt}({isRowLoaded:Se,minimumBatchSize:Me,rowCount:Le,startIndex:Math.max(0,x-De),stopIndex:Math.min(Le-1,J+De)}),Qe=(Q=[]).concat.apply(Q,function(rt){if(Array.isArray(rt)){for(var je=0,dt=Array(rt.length);je<rt.length;je++)dt[je]=rt[je];return dt}return Array.from(rt)}(ze.map(function(rt){return[rt.startIndex,rt.stopIndex]})));this._loadMoreRowsMemoizer({callback:function(){de._loadUnloadedRanges(ze)},indices:{squashedUnloadedRanges:Qe}})}},{key:"_registerChild",value:function(x){this._registeredChild=x}}]),ee}(gn.PureComponent);Wc.propTypes={children:st.func.isRequired,isRowLoaded:st.func.isRequired,loadMoreRows:st.func.isRequired,minimumBatchSize:st.number.isRequired,rowCount:st.number.isRequired,threshold:st.number.isRequired},Wc.defaultProps={minimumBatchSize:10,rowCount:0,threshold:15};var gc=function(ce){function ee(){var x,J,Q;Vi(this,ee);for(var de=arguments.length,me=Array(de),Se=0;Se<de;Se++)me[Se]=arguments[Se];return J=Q=Wi(this,(x=ee.__proto__||Object.getPrototypeOf(ee)).call.apply(x,[this].concat(me))),Q._cellRenderer=function(Me){var Le=Me.parent,De=Me.rowIndex,ze=Me.style,Qe=Me.isScrolling,rt=Me.isVisible,je=Me.key,dt=Q.props.rowRenderer;return Object.getOwnPropertyDescriptor(ze,"width").writable&&(ze.width="100%"),dt({index:De,style:ze,isScrolling:Qe,isVisible:rt,key:je,parent:Le})},Q._setRef=function(Me){Q.Grid=Me},Q._onScroll=function(Me){var Le=Me.clientHeight,De=Me.scrollHeight,ze=Me.scrollTop;(0,Q.props.onScroll)({clientHeight:Le,scrollHeight:De,scrollTop:ze})},Q._onSectionRendered=function(Me){var Le=Me.rowOverscanStartIndex,De=Me.rowOverscanStopIndex,ze=Me.rowStartIndex,Qe=Me.rowStopIndex;(0,Q.props.onRowsRendered)({overscanStartIndex:Le,overscanStopIndex:De,startIndex:ze,stopIndex:Qe})},Wi(Q,J)}return o(ee,"List"),Sr(ee,ce),ji(ee,[{key:"forceUpdateGrid",value:function(){this.Grid&&this.Grid.forceUpdate()}},{key:"getOffsetForRow",value:function(x){var J=x.alignment,Q=x.index;return this.Grid?this.Grid.getOffsetForCell({alignment:J,rowIndex:Q,columnIndex:0}).scrollTop:0}},{key:"invalidateCellSizeAfterRender",value:function(x){var J=x.columnIndex,Q=x.rowIndex;this.Grid&&this.Grid.invalidateCellSizeAfterRender({rowIndex:Q,columnIndex:J})}},{key:"measureAllRows",value:function(){this.Grid&&this.Grid.measureAllCells()}},{key:"recomputeGridSize",value:function(){var x=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},J=x.columnIndex,Q=J===void 0?0:J,de=x.rowIndex,me=de===void 0?0:de;this.Grid&&this.Grid.recomputeGridSize({rowIndex:me,columnIndex:Q})}},{key:"recomputeRowHeights",value:function(){var x=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;this.Grid&&this.Grid.recomputeGridSize({rowIndex:x,columnIndex:0})}},{key:"scrollToPosition",value:function(){var x=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;this.Grid&&this.Grid.scrollToPosition({scrollTop:x})}},{key:"scrollToRow",value:function(){var x=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;this.Grid&&this.Grid.scrollToCell({columnIndex:0,rowIndex:x})}},{key:"render",value:function(){var x=this.props,J=x.className,Q=x.noRowsRenderer,de=x.scrollToIndex,me=x.width,Se=no("ReactVirtualized__List",J);return gn.createElement(Fs,Wn({},this.props,{autoContainerWidth:!0,cellRenderer:this._cellRenderer,className:Se,columnWidth:me,columnCount:1,noContentRenderer:Q,onScroll:this._onScroll,onSectionRendered:this._onSectionRendered,ref:this._setRef,scrollToRow:de}))}}]),ee}(gn.PureComponent);gc.defaultProps={autoHeight:!1,estimatedRowSize:30,onScroll:function(){},noRowsRenderer:function(){return null},onRowsRendered:function(){},overscanIndicesGetter:jc,overscanRowCount:10,scrollToAlignment:"auto",scrollToIndex:-1,style:{}};var vc={ge:function(ce,ee,x,J,Q){return typeof x=="function"?function(de,me,Se,Me,Le){for(var De=Se+1;me<=Se;){var ze=me+Se>>>1;Le(de[ze],Me)>=0?(De=ze,Se=ze-1):me=ze+1}return De}(ce,J===void 0?0:0|J,Q===void 0?ce.length-1:0|Q,ee,x):function(de,me,Se,Me){for(var Le=Se+1;me<=Se;){var De=me+Se>>>1;de[De]>=Me?(Le=De,Se=De-1):me=De+1}return Le}(ce,x===void 0?0:0|x,J===void 0?ce.length-1:0|J,ee)},gt:function(ce,ee,x,J,Q){return typeof x=="function"?function(de,me,Se,Me,Le){for(var De=Se+1;me<=Se;){var ze=me+Se>>>1;Le(de[ze],Me)>0?(De=ze,Se=ze-1):me=ze+1}return De}(ce,J===void 0?0:0|J,Q===void 0?ce.length-1:0|Q,ee,x):function(de,me,Se,Me){for(var Le=Se+1;me<=Se;){var De=me+Se>>>1;de[De]>Me?(Le=De,Se=De-1):me=De+1}return Le}(ce,x===void 0?0:0|x,J===void 0?ce.length-1:0|J,ee)},lt:function(ce,ee,x,J,Q){return typeof x=="function"?function(de,me,Se,Me,Le){for(var De=me-1;me<=Se;){var ze=me+Se>>>1;Le(de[ze],Me)<0?(De=ze,me=ze+1):Se=ze-1}return De}(ce,J===void 0?0:0|J,Q===void 0?ce.length-1:0|Q,ee,x):function(de,me,Se,Me){for(var Le=me-1;me<=Se;){var De=me+Se>>>1;de[De]<Me?(Le=De,me=De+1):Se=De-1}return Le}(ce,x===void 0?0:0|x,J===void 0?ce.length-1:0|J,ee)},le:function(ce,ee,x,J,Q){return typeof x=="function"?function(de,me,Se,Me,Le){for(var De=me-1;me<=Se;){var ze=me+Se>>>1;Le(de[ze],Me)<=0?(De=ze,me=ze+1):Se=ze-1}return De}(ce,J===void 0?0:0|J,Q===void 0?ce.length-1:0|Q,ee,x):function(de,me,Se,Me){for(var Le=me-1;me<=Se;){var De=me+Se>>>1;de[De]<=Me?(Le=De,me=De+1):Se=De-1}return Le}(ce,x===void 0?0:0|x,J===void 0?ce.length-1:0|J,ee)},eq:function(ce,ee,x,J,Q){return typeof x=="function"?function(de,me,Se,Me,Le){for(;me<=Se;){var De=me+Se>>>1,ze=Le(de[De],Me);if(ze===0)return De;ze<=0?me=De+1:Se=De-1}return-1}(ce,J===void 0?0:0|J,Q===void 0?ce.length-1:0|Q,ee,x):function(de,me,Se,Me){for(;me<=Se;){var Le=me+Se>>>1,De=de[Le];if(De===Me)return Le;De<=Me?me=Le+1:Se=Le-1}return-1}(ce,x===void 0?0:0|x,J===void 0?ce.length-1:0|J,ee)}},tl=0,Us=1;function E(ce,ee,x,J,Q){this.mid=ce,this.left=ee,this.right=x,this.leftPoints=J,this.rightPoints=Q,this.count=(ee?ee.count:0)+(x?x.count:0)+J.length}o(E,"IntervalTreeNode");var y=E.prototype;function C(ce,ee){ce.mid=ee.mid,ce.left=ee.left,ce.right=ee.right,ce.leftPoints=ee.leftPoints,ce.rightPoints=ee.rightPoints,ce.count=ee.count}o(C,"copy");function T(ce,ee){var x=Et(ee);ce.mid=x.mid,ce.left=x.left,ce.right=x.right,ce.leftPoints=x.leftPoints,ce.rightPoints=x.rightPoints,ce.count=x.count}o(T,"rebuild");function _(ce,ee){var x=ce.intervals([]);x.push(ee),T(ce,x)}o(_,"rebuildWithInterval");function U(ce,ee){var x=ce.intervals([]),J=x.indexOf(ee);return J<0?tl:(x.splice(J,1),T(ce,x),Us)}o(U,"rebuildWithoutInterval");function W(ce,ee,x){for(var J=0;J<ce.length&&ce[J][0]<=ee;++J){var Q=x(ce[J]);if(Q)return Q}}o(W,"reportLeftRange");function fe(ce,ee,x){for(var J=ce.length-1;J>=0&&ce[J][1]>=ee;--J){var Q=x(ce[J]);if(Q)return Q}}o(fe,"reportRightRange");function ne(ce,ee){for(var x=0;x<ce.length;++x){var J=ee(ce[x]);if(J)return J}}o(ne,"reportRange");function ye(ce,ee){return ce-ee}o(ye,"compareNumbers");function ue(ce,ee){var x=ce[0]-ee[0];return x||ce[1]-ee[1]}o(ue,"compareBegin");function it(ce,ee){var x=ce[1]-ee[1];return x||ce[0]-ee[0]}o(it,"compareEnd");function Et(ce){if(ce.length===0)return null;for(var ee=[],x=0;x<ce.length;++x)ee.push(ce[x][0],ce[x][1]);ee.sort(ye);var J=ee[ee.length>>1],Q=[],de=[],me=[];for(x=0;x<ce.length;++x){var Se=ce[x];Se[1]<J?Q.push(Se):J<Se[0]?de.push(Se):me.push(Se)}var Me=me,Le=me.slice();return Me.sort(ue),Le.sort(it),new E(J,Et(Q),Et(de),Me,Le)}o(Et,"createIntervalTree");function Wt(ce){this.root=ce}o(Wt,"IntervalTree"),y.intervals=function(ce){return ce.push.apply(ce,this.leftPoints),this.left&&this.left.intervals(ce),this.right&&this.right.intervals(ce),ce},y.insert=function(ce){var ee=this.count-this.leftPoints.length;if(this.count+=1,ce[1]<this.mid)this.left?4*(this.left.count+1)>3*(ee+1)?_(this,ce):this.left.insert(ce):this.left=Et([ce]);else if(ce[0]>this.mid)this.right?4*(this.right.count+1)>3*(ee+1)?_(this,ce):this.right.insert(ce):this.right=Et([ce]);else{var x=vc.ge(this.leftPoints,ce,ue),J=vc.ge(this.rightPoints,ce,it);this.leftPoints.splice(x,0,ce),this.rightPoints.splice(J,0,ce)}},y.remove=function(ce){var ee=this.count-this.leftPoints;if(ce[1]<this.mid)return this.left?4*(this.right?this.right.count:0)>3*(ee-1)?U(this,ce):(de=this.left.remove(ce))===2?(this.left=null,this.count-=1,Us):(de===Us&&(this.count-=1),de):tl;if(!(ce[0]>this.mid)){if(this.count===1)return this.leftPoints[0]===ce?2:tl;if(this.leftPoints.length===1&&this.leftPoints[0]===ce){if(this.left&&this.right){for(var x=this,J=this.left;J.right;)x=J,J=J.right;if(x===this)J.right=this.right;else{var Q=this.left;de=this.right,x.count-=J.count,x.right=J.left,J.left=Q,J.right=de}C(this,J),this.count=(this.left?this.left.count:0)+(this.right?this.right.count:0)+this.leftPoints.length}else this.left?C(this,this.left):C(this,this.right);return Us}for(Q=vc.ge(this.leftPoints,ce,ue);Q<this.leftPoints.length&&this.leftPoints[Q][0]===ce[0];++Q)if(this.leftPoints[Q]===ce){for(this.count-=1,this.leftPoints.splice(Q,1),de=vc.ge(this.rightPoints,ce,it);de<this.rightPoints.length&&this.rightPoints[de][1]===ce[1];++de)if(this.rightPoints[de]===ce)return this.rightPoints.splice(de,1),Us}return tl}return this.right?4*(this.left?this.left.count:0)>3*(ee-1)?U(this,ce):(de=this.right.remove(ce))===2?(this.right=null,this.count-=1,Us):(de===Us&&(this.count-=1),de):tl;var de},y.queryPoint=function(ce,ee){if(ce<this.mid)return this.left&&(x=this.left.queryPoint(ce,ee))?x:W(this.leftPoints,ce,ee);if(ce>this.mid){var x;return this.right&&(x=this.right.queryPoint(ce,ee))?x:fe(this.rightPoints,ce,ee)}return ne(this.leftPoints,ee)},y.queryInterval=function(ce,ee,x){var J;return ce<this.mid&&this.left&&(J=this.left.queryInterval(ce,ee,x))||ee>this.mid&&this.right&&(J=this.right.queryInterval(ce,ee,x))?J:ee<this.mid?W(this.leftPoints,ee,x):ce>this.mid?fe(this.rightPoints,ce,x):ne(this.leftPoints,x)};var Vt=Wt.prototype;Vt.insert=function(ce){this.root?this.root.insert(ce):this.root=new E(ce[0],null,null,[ce],[ce])},Vt.remove=function(ce){if(this.root){var ee=this.root.remove(ce);return ee===2&&(this.root=null),ee!==tl}return!1},Vt.queryPoint=function(ce,ee){if(this.root)return this.root.queryPoint(ce,ee)},Vt.queryInterval=function(ce,ee,x){if(ce<=ee&&this.root)return this.root.queryInterval(ce,ee,x)},Object.defineProperty(Vt,"count",{get:function(){return this.root?this.root.count:0}}),Object.defineProperty(Vt,"intervals",{get:function(){return this.root?this.root.intervals([]):[]}});var Ft=function(){function ce(){var ee;Vi(this,ce),this._columnSizeMap={},this._intervalTree=ee&&ee.length!==0?new Wt(Et(ee)):new Wt(null),this._leftMap={}}return o(ce,"PositionCache"),ji(ce,[{key:"estimateTotalHeight",value:function(ee,x,J){var Q=ee-this.count;return this.tallestColumnSize+Math.ceil(Q/x)*J}},{key:"range",value:function(ee,x,J){var Q=this;this._intervalTree.queryInterval(ee,ee+x,function(de){var me=yl(de,3),Se=me[0],Me=(me[1],me[2]);return J(Me,Q._leftMap[Me],Se)})}},{key:"setPosition",value:function(ee,x,J,Q){this._intervalTree.insert([J,J+Q,ee]),this._leftMap[ee]=x;var de=this._columnSizeMap,me=de[x];de[x]=me===void 0?J+Q:Math.max(me,J+Q)}},{key:"count",get:function(){return this._intervalTree.count}},{key:"shortestColumnSize",get:function(){var ee=this._columnSizeMap,x=0;for(var J in ee){var Q=ee[J];x=x===0?Q:Math.min(x,Q)}return x}},{key:"tallestColumnSize",get:function(){var ee=this._columnSizeMap,x=0;for(var J in ee){var Q=ee[J];x=Math.max(x,Q)}return x}}]),ce}(),sn=function(ce){function ee(){var x,J,Q;Vi(this,ee);for(var de=arguments.length,me=Array(de),Se=0;Se<de;Se++)me[Se]=arguments[Se];return J=Q=Wi(this,(x=ee.__proto__||Object.getPrototypeOf(ee)).call.apply(x,[this].concat(me))),Q.state={isScrolling:!1,scrollTop:0},Q._invalidateOnUpdateStartIndex=null,Q._invalidateOnUpdateStopIndex=null,Q._positionCache=new Ft,Q._startIndex=null,Q._startIndexMemoized=null,Q._stopIndex=null,Q._stopIndexMemoized=null,Q._debounceResetIsScrollingCallback=function(){Q.setState({isScrolling:!1})},Q._setScrollingContainerRef=function(Me){Q._scrollingContainer=Me},Q._onScroll=function(Me){var Le=Q.props.height,De=Me.currentTarget.scrollTop,ze=Math.min(Math.max(0,Q._getEstimatedTotalHeight()-Le),De);De===ze&&(Q._debounceResetIsScrolling(),Q.state.scrollTop!==ze&&Q.setState({isScrolling:!0,scrollTop:ze}))},Wi(Q,J)}return o(ee,"Masonry"),Sr(ee,ce),ji(ee,[{key:"clearCellPositions",value:function(){this._positionCache=new Ft,this.forceUpdate()}},{key:"invalidateCellSizeAfterRender",value:function(x){var J=x.rowIndex;this._invalidateOnUpdateStartIndex===null?(this._invalidateOnUpdateStartIndex=J,this._invalidateOnUpdateStopIndex=J):(this._invalidateOnUpdateStartIndex=Math.min(this._invalidateOnUpdateStartIndex,J),this._invalidateOnUpdateStopIndex=Math.max(this._invalidateOnUpdateStopIndex,J))}},{key:"recomputeCellPositions",value:function(){var x=this._positionCache.count-1;this._positionCache=new Ft,this._populatePositionCache(0,x),this.forceUpdate()}},{key:"componentDidMount",value:function(){this._checkInvalidateOnUpdate(),this._invokeOnScrollCallback(),this._invokeOnCellsRenderedCallback()}},{key:"componentDidUpdate",value:function(x,J){this._checkInvalidateOnUpdate(),this._invokeOnScrollCallback(),this._invokeOnCellsRenderedCallback(),this.props.scrollTop!==x.scrollTop&&this._debounceResetIsScrolling()}},{key:"componentWillUnmount",value:function(){this._debounceResetIsScrollingId&&el(this._debounceResetIsScrollingId)}},{key:"render",value:function(){var x=this,J=this.props,Q=J.autoHeight,de=J.cellCount,me=J.cellMeasurerCache,Se=J.cellRenderer,Me=J.className,Le=J.height,De=J.id,ze=J.keyMapper,Qe=J.overscanByPixels,rt=J.role,je=J.style,dt=J.tabIndex,vt=J.width,Tt=J.rowDirection,At=this.state,Lt=At.isScrolling,ut=At.scrollTop,Pt=[],_t=this._getEstimatedTotalHeight(),Sn=this._positionCache.shortestColumnSize,Gn=this._positionCache.count,bi=0,ai=void 0;if(this._positionCache.range(Math.max(0,ut-Qe),Le+2*Qe,function(ur,Ia,ms){var ta;ai===void 0?(bi=ur,ai=ur):(bi=Math.min(bi,ur),ai=Math.max(ai,ur)),Pt.push(Se({index:ur,isScrolling:Lt,key:ze(ur),parent:x,style:(ta={height:me.getHeight(ur)},ea(ta,Tt==="ltr"?"left":"right",Ia),ea(ta,"position","absolute"),ea(ta,"top",ms),ea(ta,"width",me.getWidth(ur)),ta)}))}),Sn<ut+Le+Qe&&Gn<de)for(var Ai=Math.min(de-Gn,Math.ceil((ut+Le+Qe-Sn)/me.defaultHeight*vt/me.defaultWidth)),yr=Gn;yr<Gn+Ai;yr++)ai=yr,Pt.push(Se({index:yr,isScrolling:Lt,key:ze(yr),parent:this,style:{width:me.getWidth(yr)}}));return this._startIndex=bi,this._stopIndex=ai,gn.createElement("div",{ref:this._setScrollingContainerRef,"aria-label":this.props["aria-label"],className:no("ReactVirtualized__Masonry",Me),id:De,onScroll:this._onScroll,role:rt,style:Wn({boxSizing:"border-box",direction:"ltr",height:Q?"auto":Le,overflowX:"hidden",overflowY:_t<Le?"hidden":"auto",position:"relative",width:vt,WebkitOverflowScrolling:"touch",willChange:"transform"},je),tabIndex:dt},gn.createElement("div",{className:"ReactVirtualized__Masonry__innerScrollContainer",style:{width:"100%",height:_t,maxWidth:"100%",maxHeight:_t,overflow:"hidden",pointerEvents:Lt?"none":"",position:"relative"}},Pt))}},{key:"_checkInvalidateOnUpdate",value:function(){if(typeof this._invalidateOnUpdateStartIndex=="number"){var x=this._invalidateOnUpdateStartIndex,J=this._invalidateOnUpdateStopIndex;this._invalidateOnUpdateStartIndex=null,this._invalidateOnUpdateStopIndex=null,this._populatePositionCache(x,J),this.forceUpdate()}}},{key:"_debounceResetIsScrolling",value:function(){var x=this.props.scrollingResetTimeInterval;this._debounceResetIsScrollingId&&el(this._debounceResetIsScrollingId),this._debounceResetIsScrollingId=Vc(this._debounceResetIsScrollingCallback,x)}},{key:"_getEstimatedTotalHeight",value:function(){var x=this.props,J=x.cellCount,Q=x.cellMeasurerCache,de=x.width,me=Math.max(1,Math.floor(de/Q.defaultWidth));return this._positionCache.estimateTotalHeight(J,me,Q.defaultHeight)}},{key:"_invokeOnScrollCallback",value:function(){var x=this.props,J=x.height,Q=x.onScroll,de=this.state.scrollTop;this._onScrollMemoized!==de&&(Q({clientHeight:J,scrollHeight:this._getEstimatedTotalHeight(),scrollTop:de}),this._onScrollMemoized=de)}},{key:"_invokeOnCellsRenderedCallback",value:function(){this._startIndexMemoized===this._startIndex&&this._stopIndexMemoized===this._stopIndex||((0,this.props.onCellsRendered)({startIndex:this._startIndex,stopIndex:this._stopIndex}),this._startIndexMemoized=this._startIndex,this._stopIndexMemoized=this._stopIndex)}},{key:"_populatePositionCache",value:function(x,J){for(var Q=this.props,de=Q.cellMeasurerCache,me=Q.cellPositioner,Se=x;Se<=J;Se++){var Me=me(Se),Le=Me.left,De=Me.top;this._positionCache.setPosition(Se,Le,De,de.getHeight(Se))}}}],[{key:"getDerivedStateFromProps",value:function(x,J){return x.scrollTop!==void 0&&J.scrollTop!==x.scrollTop?{isScrolling:!0,scrollTop:x.scrollTop}:null}}]),ee}(gn.PureComponent);function Yi(){}o(Yi,"noop"),sn.defaultProps={autoHeight:!1,keyMapper:function(ce){return ce},onCellsRendered:Yi,onScroll:Yi,overscanByPixels:20,role:"grid",scrollingResetTimeInterval:150,style:{},tabIndex:0,rowDirection:"ltr"},Ls(sn);var Ea=function(){function ce(){var ee=this,x=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};Vi(this,ce),this.columnWidth=function(Me){var Le=Me.index;ee._cellMeasurerCache.columnWidth({index:Le+ee._columnIndexOffset})},this.rowHeight=function(Me){var Le=Me.index;ee._cellMeasurerCache.rowHeight({index:Le+ee._rowIndexOffset})};var J=x.cellMeasurerCache,Q=x.columnIndexOffset,de=Q===void 0?0:Q,me=x.rowIndexOffset,Se=me===void 0?0:me;this._cellMeasurerCache=J,this._columnIndexOffset=de,this._rowIndexOffset=Se}return o(ce,"CellMeasurerCacheDecorator"),ji(ce,[{key:"clear",value:function(ee,x){this._cellMeasurerCache.clear(ee+this._rowIndexOffset,x+this._columnIndexOffset)}},{key:"clearAll",value:function(){this._cellMeasurerCache.clearAll()}},{key:"hasFixedHeight",value:function(){return this._cellMeasurerCache.hasFixedHeight()}},{key:"hasFixedWidth",value:function(){return this._cellMeasurerCache.hasFixedWidth()}},{key:"getHeight",value:function(ee){var x=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return this._cellMeasurerCache.getHeight(ee+this._rowIndexOffset,x+this._columnIndexOffset)}},{key:"getWidth",value:function(ee){var x=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return this._cellMeasurerCache.getWidth(ee+this._rowIndexOffset,x+this._columnIndexOffset)}},{key:"has",value:function(ee){var x=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return this._cellMeasurerCache.has(ee+this._rowIndexOffset,x+this._columnIndexOffset)}},{key:"set",value:function(ee,x,J,Q){this._cellMeasurerCache.set(ee+this._rowIndexOffset,x+this._columnIndexOffset,J,Q)}},{key:"defaultHeight",get:function(){return this._cellMeasurerCache.defaultHeight}},{key:"defaultWidth",get:function(){return this._cellMeasurerCache.defaultWidth}}]),ce}(),Ta=function(ce){function ee(x,J){Vi(this,ee);var Q=Wi(this,(ee.__proto__||Object.getPrototypeOf(ee)).call(this,x,J));Ch.call(Q);var de=x.deferredMeasurementCache,me=x.fixedColumnCount,Se=x.fixedRowCount;return Q._maybeCalculateCachedStyles(!0),de&&(Q._deferredMeasurementCacheBottomLeftGrid=Se>0?new Ea({cellMeasurerCache:de,columnIndexOffset:0,rowIndexOffset:Se}):de,Q._deferredMeasurementCacheBottomRightGrid=me>0||Se>0?new Ea({cellMeasurerCache:de,columnIndexOffset:me,rowIndexOffset:Se}):de,Q._deferredMeasurementCacheTopRightGrid=me>0?new Ea({cellMeasurerCache:de,columnIndexOffset:me,rowIndexOffset:0}):de),Q}return o(ee,"MultiGrid"),Sr(ee,ce),ji(ee,[{key:"forceUpdateGrids",value:function(){this._bottomLeftGrid&&this._bottomLeftGrid.forceUpdate(),this._bottomRightGrid&&this._bottomRightGrid.forceUpdate(),this._topLeftGrid&&this._topLeftGrid.forceUpdate(),this._topRightGrid&&this._topRightGrid.forceUpdate()}},{key:"invalidateCellSizeAfterRender",value:function(){var x=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},J=x.columnIndex,Q=J===void 0?0:J,de=x.rowIndex,me=de===void 0?0:de;this._deferredInvalidateColumnIndex=typeof this._deferredInvalidateColumnIndex=="number"?Math.min(this._deferredInvalidateColumnIndex,Q):Q,this._deferredInvalidateRowIndex=typeof this._deferredInvalidateRowIndex=="number"?Math.min(this._deferredInvalidateRowIndex,me):me}},{key:"measureAllCells",value:function(){this._bottomLeftGrid&&this._bottomLeftGrid.measureAllCells(),this._bottomRightGrid&&this._bottomRightGrid.measureAllCells(),this._topLeftGrid&&this._topLeftGrid.measureAllCells(),this._topRightGrid&&this._topRightGrid.measureAllCells()}},{key:"recomputeGridSize",value:function(){var x=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},J=x.columnIndex,Q=J===void 0?0:J,de=x.rowIndex,me=de===void 0?0:de,Se=this.props,Me=Se.fixedColumnCount,Le=Se.fixedRowCount,De=Math.max(0,Q-Me),ze=Math.max(0,me-Le);this._bottomLeftGrid&&this._bottomLeftGrid.recomputeGridSize({columnIndex:Q,rowIndex:ze}),this._bottomRightGrid&&this._bottomRightGrid.recomputeGridSize({columnIndex:De,rowIndex:ze}),this._topLeftGrid&&this._topLeftGrid.recomputeGridSize({columnIndex:Q,rowIndex:me}),this._topRightGrid&&this._topRightGrid.recomputeGridSize({columnIndex:De,rowIndex:me}),this._leftGridWidth=null,this._topGridHeight=null,this._maybeCalculateCachedStyles(!0)}},{key:"componentDidMount",value:function(){var x=this.props,J=x.scrollLeft,Q=x.scrollTop;if(J>0||Q>0){var de={};J>0&&(de.scrollLeft=J),Q>0&&(de.scrollTop=Q),this.setState(de)}this._handleInvalidatedGridSize()}},{key:"componentDidUpdate",value:function(){this._handleInvalidatedGridSize()}},{key:"render",value:function(){var x=this.props,J=x.onScroll,Q=x.onSectionRendered,de=(x.onScrollbarPresenceChange,x.scrollLeft,x.scrollToColumn),me=(x.scrollTop,x.scrollToRow),Se=hs(x,["onScroll","onSectionRendered","onScrollbarPresenceChange","scrollLeft","scrollToColumn","scrollTop","scrollToRow"]);if(this._prepareForRender(),this.props.width===0||this.props.height===0)return null;var Me=this.state,Le=Me.scrollLeft,De=Me.scrollTop;return gn.createElement("div",{style:this._containerOuterStyle},gn.createElement("div",{style:this._containerTopStyle},this._renderTopLeftGrid(Se),this._renderTopRightGrid(Wn({},Se,{onScroll:J,scrollLeft:Le}))),gn.createElement("div",{style:this._containerBottomStyle},this._renderBottomLeftGrid(Wn({},Se,{onScroll:J,scrollTop:De})),this._renderBottomRightGrid(Wn({},Se,{onScroll:J,onSectionRendered:Q,scrollLeft:Le,scrollToColumn:de,scrollToRow:me,scrollTop:De}))))}},{key:"_getBottomGridHeight",value:function(x){return x.height-this._getTopGridHeight(x)}},{key:"_getLeftGridWidth",value:function(x){var J=x.fixedColumnCount,Q=x.columnWidth;if(this._leftGridWidth==null)if(typeof Q=="function"){for(var de=0,me=0;me<J;me++)de+=Q({index:me});this._leftGridWidth=de}else this._leftGridWidth=Q*J;return this._leftGridWidth}},{key:"_getRightGridWidth",value:function(x){return x.width-this._getLeftGridWidth(x)}},{key:"_getTopGridHeight",value:function(x){var J=x.fixedRowCount,Q=x.rowHeight;if(this._topGridHeight==null)if(typeof Q=="function"){for(var de=0,me=0;me<J;me++)de+=Q({index:me});this._topGridHeight=de}else this._topGridHeight=Q*J;return this._topGridHeight}},{key:"_handleInvalidatedGridSize",value:function(){if(typeof this._deferredInvalidateColumnIndex=="number"){var x=this._deferredInvalidateColumnIndex,J=this._deferredInvalidateRowIndex;this._deferredInvalidateColumnIndex=null,this._deferredInvalidateRowIndex=null,this.recomputeGridSize({columnIndex:x,rowIndex:J}),this.forceUpdate()}}},{key:"_maybeCalculateCachedStyles",value:function(x){var J=this.props,Q=J.columnWidth,de=J.enableFixedColumnScroll,me=J.enableFixedRowScroll,Se=J.height,Me=J.fixedColumnCount,Le=J.fixedRowCount,De=J.rowHeight,ze=J.style,Qe=J.styleBottomLeftGrid,rt=J.styleBottomRightGrid,je=J.styleTopLeftGrid,dt=J.styleTopRightGrid,vt=J.width,Tt=x||Se!==this._lastRenderedHeight||vt!==this._lastRenderedWidth,At=x||Q!==this._lastRenderedColumnWidth||Me!==this._lastRenderedFixedColumnCount,Lt=x||Le!==this._lastRenderedFixedRowCount||De!==this._lastRenderedRowHeight;(x||Tt||ze!==this._lastRenderedStyle)&&(this._containerOuterStyle=Wn({height:Se,overflow:"visible",width:vt},ze)),(x||Tt||Lt)&&(this._containerTopStyle={height:this._getTopGridHeight(this.props),position:"relative",width:vt},this._containerBottomStyle={height:Se-this._getTopGridHeight(this.props),overflow:"visible",position:"relative",width:vt}),(x||Qe!==this._lastRenderedStyleBottomLeftGrid)&&(this._bottomLeftGridStyle=Wn({left:0,overflowX:"hidden",overflowY:de?"auto":"hidden",position:"absolute"},Qe)),(x||At||rt!==this._lastRenderedStyleBottomRightGrid)&&(this._bottomRightGridStyle=Wn({left:this._getLeftGridWidth(this.props),position:"absolute"},rt)),(x||je!==this._lastRenderedStyleTopLeftGrid)&&(this._topLeftGridStyle=Wn({left:0,overflowX:"hidden",overflowY:"hidden",position:"absolute",top:0},je)),(x||At||dt!==this._lastRenderedStyleTopRightGrid)&&(this._topRightGridStyle=Wn({left:this._getLeftGridWidth(this.props),overflowX:me?"auto":"hidden",overflowY:"hidden",position:"absolute",top:0},dt)),this._lastRenderedColumnWidth=Q,this._lastRenderedFixedColumnCount=Me,this._lastRenderedFixedRowCount=Le,this._lastRenderedHeight=Se,this._lastRenderedRowHeight=De,this._lastRenderedStyle=ze,this._lastRenderedStyleBottomLeftGrid=Qe,this._lastRenderedStyleBottomRightGrid=rt,this._lastRenderedStyleTopLeftGrid=je,this._lastRenderedStyleTopRightGrid=dt,this._lastRenderedWidth=vt}},{key:"_prepareForRender",value:function(){this._lastRenderedColumnWidth===this.props.columnWidth&&this._lastRenderedFixedColumnCount===this.props.fixedColumnCount||(this._leftGridWidth=null),this._lastRenderedFixedRowCount===this.props.fixedRowCount&&this._lastRenderedRowHeight===this.props.rowHeight||(this._topGridHeight=null),this._maybeCalculateCachedStyles(),this._lastRenderedColumnWidth=this.props.columnWidth,this._lastRenderedFixedColumnCount=this.props.fixedColumnCount,this._lastRenderedFixedRowCount=this.props.fixedRowCount,this._lastRenderedRowHeight=this.props.rowHeight}},{key:"_renderBottomLeftGrid",value:function(x){var J=x.enableFixedColumnScroll,Q=x.fixedColumnCount,de=x.fixedRowCount,me=x.rowCount,Se=x.hideBottomLeftGridScrollbar,Me=this.state.showVerticalScrollbar;if(!Q)return null;var Le=Me?1:0,De=this._getBottomGridHeight(x),ze=this._getLeftGridWidth(x),Qe=this.state.showVerticalScrollbar?this.state.scrollbarSize:0,rt=Se?ze+Qe:ze,je=gn.createElement(Fs,Wn({},x,{cellRenderer:this._cellRendererBottomLeftGrid,className:this.props.classNameBottomLeftGrid,columnCount:Q,deferredMeasurementCache:this._deferredMeasurementCacheBottomLeftGrid,height:De,onScroll:J?this._onScrollTop:void 0,ref:this._bottomLeftGridRef,rowCount:Math.max(0,me-de)+Le,rowHeight:this._rowHeightBottomGrid,style:this._bottomLeftGridStyle,tabIndex:null,width:rt}));return Se?gn.createElement("div",{className:"BottomLeftGrid_ScrollWrapper",style:Wn({},this._bottomLeftGridStyle,{height:De,width:ze,overflowY:"hidden"})},je):je}},{key:"_renderBottomRightGrid",value:function(x){var J=x.columnCount,Q=x.fixedColumnCount,de=x.fixedRowCount,me=x.rowCount,Se=x.scrollToColumn,Me=x.scrollToRow;return gn.createElement(Fs,Wn({},x,{cellRenderer:this._cellRendererBottomRightGrid,className:this.props.classNameBottomRightGrid,columnCount:Math.max(0,J-Q),columnWidth:this._columnWidthRightGrid,deferredMeasurementCache:this._deferredMeasurementCacheBottomRightGrid,height:this._getBottomGridHeight(x),onScroll:this._onScroll,onScrollbarPresenceChange:this._onScrollbarPresenceChange,ref:this._bottomRightGridRef,rowCount:Math.max(0,me-de),rowHeight:this._rowHeightBottomGrid,scrollToColumn:Se-Q,scrollToRow:Me-de,style:this._bottomRightGridStyle,width:this._getRightGridWidth(x)}))}},{key:"_renderTopLeftGrid",value:function(x){var J=x.fixedColumnCount,Q=x.fixedRowCount;return J&&Q?gn.createElement(Fs,Wn({},x,{className:this.props.classNameTopLeftGrid,columnCount:J,height:this._getTopGridHeight(x),ref:this._topLeftGridRef,rowCount:Q,style:this._topLeftGridStyle,tabIndex:null,width:this._getLeftGridWidth(x)})):null}},{key:"_renderTopRightGrid",value:function(x){var J=x.columnCount,Q=x.enableFixedRowScroll,de=x.fixedColumnCount,me=x.fixedRowCount,Se=x.scrollLeft,Me=x.hideTopRightGridScrollbar,Le=this.state,De=Le.showHorizontalScrollbar,ze=Le.scrollbarSize;if(!me)return null;var Qe=De?1:0,rt=this._getTopGridHeight(x),je=this._getRightGridWidth(x),dt=De?ze:0,vt=rt,Tt=this._topRightGridStyle;Me&&(vt=rt+dt,Tt=Wn({},this._topRightGridStyle,{left:0}));var At=gn.createElement(Fs,Wn({},x,{cellRenderer:this._cellRendererTopRightGrid,className:this.props.classNameTopRightGrid,columnCount:Math.max(0,J-de)+Qe,columnWidth:this._columnWidthRightGrid,deferredMeasurementCache:this._deferredMeasurementCacheTopRightGrid,height:vt,onScroll:Q?this._onScrollLeft:void 0,ref:this._topRightGridRef,rowCount:me,scrollLeft:Se,style:Tt,tabIndex:null,width:je}));return Me?gn.createElement("div",{className:"TopRightGrid_ScrollWrapper",style:Wn({},this._topRightGridStyle,{height:rt,width:je,overflowX:"hidden"})},At):At}}],[{key:"getDerivedStateFromProps",value:function(x,J){return x.scrollLeft!==J.scrollLeft||x.scrollTop!==J.scrollTop?{scrollLeft:x.scrollLeft!=null&&x.scrollLeft>=0?x.scrollLeft:J.scrollLeft,scrollTop:x.scrollTop!=null&&x.scrollTop>=0?x.scrollTop:J.scrollTop}:null}}]),ee}(gn.PureComponent);Ta.propTypes={classNameBottomLeftGrid:st.string.isRequired,classNameBottomRightGrid:st.string.isRequired,classNameTopLeftGrid:st.string.isRequired,classNameTopRightGrid:st.string.isRequired,enableFixedColumnScroll:st.bool.isRequired,enableFixedRowScroll:st.bool.isRequired,fixedColumnCount:st.number.isRequired,fixedRowCount:st.number.isRequired,onScrollbarPresenceChange:st.func,style:st.object.isRequired,styleBottomLeftGrid:st.object.isRequired,styleBottomRightGrid:st.object.isRequired,styleTopLeftGrid:st.object.isRequired,styleTopRightGrid:st.object.isRequired,hideTopRightGridScrollbar:st.bool,hideBottomLeftGridScrollbar:st.bool},Ta.defaultProps={classNameBottomLeftGrid:"",classNameBottomRightGrid:"",classNameTopLeftGrid:"",classNameTopRightGrid:"",enableFixedColumnScroll:!1,enableFixedRowScroll:!1,fixedColumnCount:0,fixedRowCount:0,scrollToColumn:-1,scrollToRow:-1,style:{},styleBottomLeftGrid:{},styleBottomRightGrid:{},styleTopLeftGrid:{},styleTopRightGrid:{},hideTopRightGridScrollbar:!1,hideBottomLeftGridScrollbar:!1};var Ch=o(function(){var ce=this;this.state={scrollLeft:0,scrollTop:0,scrollbarSize:0,showHorizontalScrollbar:!1,showVerticalScrollbar:!1},this._deferredInvalidateColumnIndex=null,this._deferredInvalidateRowIndex=null,this._bottomLeftGridRef=function(ee){ce._bottomLeftGrid=ee},this._bottomRightGridRef=function(ee){ce._bottomRightGrid=ee},this._cellRendererBottomLeftGrid=function(ee){var x=ee.rowIndex,J=hs(ee,["rowIndex"]),Q=ce.props,de=Q.cellRenderer,me=Q.fixedRowCount;return x===Q.rowCount-me?gn.createElement("div",{key:J.key,style:Wn({},J.style,{height:20})}):de(Wn({},J,{parent:ce,rowIndex:x+me}))},this._cellRendererBottomRightGrid=function(ee){var x=ee.columnIndex,J=ee.rowIndex,Q=hs(ee,["columnIndex","rowIndex"]),de=ce.props,me=de.cellRenderer,Se=de.fixedColumnCount,Me=de.fixedRowCount;return me(Wn({},Q,{columnIndex:x+Se,parent:ce,rowIndex:J+Me}))},this._cellRendererTopRightGrid=function(ee){var x=ee.columnIndex,J=hs(ee,["columnIndex"]),Q=ce.props,de=Q.cellRenderer,me=Q.columnCount,Se=Q.fixedColumnCount;return x===me-Se?gn.createElement("div",{key:J.key,style:Wn({},J.style,{width:20})}):de(Wn({},J,{columnIndex:x+Se,parent:ce}))},this._columnWidthRightGrid=function(ee){var x=ee.index,J=ce.props,Q=J.columnCount,de=J.fixedColumnCount,me=J.columnWidth,Se=ce.state,Me=Se.scrollbarSize;return Se.showHorizontalScrollbar&&x===Q-de?Me:typeof me=="function"?me({index:x+de}):me},this._onScroll=function(ee){var x=ee.scrollLeft,J=ee.scrollTop;ce.setState({scrollLeft:x,scrollTop:J});var Q=ce.props.onScroll;Q&&Q(ee)},this._onScrollbarPresenceChange=function(ee){var x=ee.horizontal,J=ee.size,Q=ee.vertical,de=ce.state,me=de.showHorizontalScrollbar,Se=de.showVerticalScrollbar;if(x!==me||Q!==Se){ce.setState({scrollbarSize:J,showHorizontalScrollbar:x,showVerticalScrollbar:Q});var Me=ce.props.onScrollbarPresenceChange;typeof Me=="function"&&Me({horizontal:x,size:J,vertical:Q})}},this._onScrollLeft=function(ee){var x=ee.scrollLeft;ce._onScroll({scrollLeft:x,scrollTop:ce.state.scrollTop})},this._onScrollTop=function(ee){var x=ee.scrollTop;ce._onScroll({scrollTop:x,scrollLeft:ce.state.scrollLeft})},this._rowHeightBottomGrid=function(ee){var x=ee.index,J=ce.props,Q=J.fixedRowCount,de=J.rowCount,me=J.rowHeight,Se=ce.state,Me=Se.scrollbarSize;return Se.showVerticalScrollbar&&x===de-Q?Me:typeof me=="function"?me({index:x+Q}):me},this._topLeftGridRef=function(ee){ce._topLeftGrid=ee},this._topRightGridRef=function(ee){ce._topRightGrid=ee}},"_initialiseProps");Ls(Ta);var _g=function(ce){function ee(x,J){Vi(this,ee);var Q=Wi(this,(ee.__proto__||Object.getPrototypeOf(ee)).call(this,x,J));return Q.state={clientHeight:0,clientWidth:0,scrollHeight:0,scrollLeft:0,scrollTop:0,scrollWidth:0},Q._onScroll=Q._onScroll.bind(Q),Q}return o(ee,"ScrollSync"),Sr(ee,ce),ji(ee,[{key:"render",value:function(){var x=this.props.children,J=this.state,Q=J.clientHeight,de=J.clientWidth,me=J.scrollHeight,Se=J.scrollLeft,Me=J.scrollTop,Le=J.scrollWidth;return x({clientHeight:Q,clientWidth:de,onScroll:this._onScroll,scrollHeight:me,scrollLeft:Se,scrollTop:Me,scrollWidth:Le})}},{key:"_onScroll",value:function(x){var J=x.clientHeight,Q=x.clientWidth,de=x.scrollHeight,me=x.scrollLeft,Se=x.scrollTop,Me=x.scrollWidth;this.setState({clientHeight:J,clientWidth:Q,scrollHeight:de,scrollLeft:me,scrollTop:Se,scrollWidth:Me})}}]),ee}(gn.PureComponent);function Ng(ce){var ee=ce.dataKey,x=ce.rowData;return typeof x.get=="function"?x.get(ee):x[ee]}o(Ng,"defaultCellDataGetter");function Bg(ce){var ee=ce.cellData;return ee==null?"":String(ee)}o(Bg,"defaultCellRenderer");function Fg(ce){var ee=ce.className,x=ce.columns,J=ce.style;return gn.createElement("div",{className:ee,role:"row",style:J},x)}o(Fg,"defaultHeaderRowRenderer"),_g.propTypes={children:st.func.isRequired};var Co={ASC:"ASC",DESC:"DESC"};function bh(ce){var ee=ce.sortDirection,x=no("ReactVirtualized__Table__sortableHeaderIcon",{"ReactVirtualized__Table__sortableHeaderIcon--ASC":ee===Co.ASC,"ReactVirtualized__Table__sortableHeaderIcon--DESC":ee===Co.DESC});return gn.createElement("svg",{className:x,width:18,height:18,viewBox:"0 0 24 24"},ee===Co.ASC?gn.createElement("path",{d:"M7 14l5-5 5 5z"}):gn.createElement("path",{d:"M7 10l5 5 5-5z"}),gn.createElement("path",{d:"M0 0h24v24H0z",fill:"none"}))}o(bh,"SortIndicator");function Ug(ce){var ee=ce.dataKey,x=ce.label,J=ce.sortBy,Q=ce.sortDirection,de=J===ee,me=[gn.createElement("span",{className:"ReactVirtualized__Table__headerTruncatedText",key:"label",title:typeof x=="string"?x:null},x)];return de&&me.push(gn.createElement(bh,{key:"SortIndicator",sortDirection:Q})),me}o(Ug,"defaultHeaderRenderer");function Vg(ce){var ee=ce.className,x=ce.columns,J=ce.index,Q=ce.key,de=ce.onRowClick,me=ce.onRowDoubleClick,Se=ce.onRowMouseOut,Me=ce.onRowMouseOver,Le=ce.onRowRightClick,De=ce.rowData,ze=ce.style,Qe={"aria-rowindex":J+1};return(de||me||Se||Me||Le)&&(Qe["aria-label"]="row",Qe.tabIndex=0,de&&(Qe.onClick=function(rt){return de({event:rt,index:J,rowData:De})}),me&&(Qe.onDoubleClick=function(rt){return me({event:rt,index:J,rowData:De})}),Se&&(Qe.onMouseOut=function(rt){return Se({event:rt,index:J,rowData:De})}),Me&&(Qe.onMouseOver=function(rt){return Me({event:rt,index:J,rowData:De})}),Le&&(Qe.onContextMenu=function(rt){return Le({event:rt,index:J,rowData:De})})),gn.createElement("div",Wn({},Qe,{className:ee,key:Q,role:"row",style:ze}),x)}o(Vg,"defaultRowRenderer"),bh.propTypes={sortDirection:st.oneOf([Co.ASC,Co.DESC])};var Gc=function(ce){function ee(){return Vi(this,ee),Wi(this,(ee.__proto__||Object.getPrototypeOf(ee)).apply(this,arguments))}return o(ee,"Column"),Sr(ee,ce),ee}(gn.Component);Gc.propTypes={"aria-label":st.string,cellDataGetter:st.func,cellRenderer:st.func,className:st.string,columnData:st.object,dataKey:st.any.isRequired,defaultSortDirection:st.oneOf([Co.ASC,Co.DESC]),disableSort:st.bool,flexGrow:st.number,flexShrink:st.number,headerClassName:st.string,headerRenderer:st.func.isRequired,headerStyle:st.object,id:st.string,label:st.node,maxWidth:st.number,minWidth:st.number,style:st.object,width:st.number.isRequired},Gc.defaultProps={cellDataGetter:Ng,cellRenderer:Bg,defaultSortDirection:Co.ASC,flexGrow:0,flexShrink:1,headerRenderer:Ug,style:{}};var Eh=function(ce){function ee(x){Vi(this,ee);var J=Wi(this,(ee.__proto__||Object.getPrototypeOf(ee)).call(this,x));return J.state={scrollbarWidth:0},J._createColumn=J._createColumn.bind(J),J._createRow=J._createRow.bind(J),J._onScroll=J._onScroll.bind(J),J._onSectionRendered=J._onSectionRendered.bind(J),J._setRef=J._setRef.bind(J),J}return o(ee,"Table"),Sr(ee,ce),ji(ee,[{key:"forceUpdateGrid",value:function(){this.Grid&&this.Grid.forceUpdate()}},{key:"getOffsetForRow",value:function(x){var J=x.alignment,Q=x.index;return this.Grid?this.Grid.getOffsetForCell({alignment:J,rowIndex:Q}).scrollTop:0}},{key:"invalidateCellSizeAfterRender",value:function(x){var J=x.columnIndex,Q=x.rowIndex;this.Grid&&this.Grid.invalidateCellSizeAfterRender({rowIndex:Q,columnIndex:J})}},{key:"measureAllRows",value:function(){this.Grid&&this.Grid.measureAllCells()}},{key:"recomputeGridSize",value:function(){var x=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},J=x.columnIndex,Q=J===void 0?0:J,de=x.rowIndex,me=de===void 0?0:de;this.Grid&&this.Grid.recomputeGridSize({rowIndex:me,columnIndex:Q})}},{key:"recomputeRowHeights",value:function(){var x=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;this.Grid&&this.Grid.recomputeGridSize({rowIndex:x})}},{key:"scrollToPosition",value:function(){var x=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;this.Grid&&this.Grid.scrollToPosition({scrollTop:x})}},{key:"scrollToRow",value:function(){var x=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;this.Grid&&this.Grid.scrollToCell({columnIndex:0,rowIndex:x})}},{key:"getScrollbarWidth",value:function(){if(this.Grid){var x=pa.findDOMNode(this.Grid),J=x.clientWidth||0;return(x.offsetWidth||0)-J}return 0}},{key:"componentDidMount",value:function(){this._setScrollbarWidth()}},{key:"componentDidUpdate",value:function(){this._setScrollbarWidth()}},{key:"render",value:function(){var x=this,J=this.props,Q=J.children,de=J.className,me=J.disableHeader,Se=J.gridClassName,Me=J.gridStyle,Le=J.headerHeight,De=J.headerRowRenderer,ze=J.height,Qe=J.id,rt=J.noRowsRenderer,je=J.rowClassName,dt=J.rowStyle,vt=J.scrollToIndex,Tt=J.style,At=J.width,Lt=this.state.scrollbarWidth,ut=me?ze:ze-Le,Pt=typeof je=="function"?je({index:-1}):je,_t=typeof dt=="function"?dt({index:-1}):dt;return this._cachedColumnStyles=[],gn.Children.toArray(Q).forEach(function(Sn,Gn){var bi=x._getFlexStyleForColumn(Sn,Sn.props.style);x._cachedColumnStyles[Gn]=Wn({overflow:"hidden"},bi)}),gn.createElement("div",{"aria-label":this.props["aria-label"],"aria-labelledby":this.props["aria-labelledby"],"aria-colcount":gn.Children.toArray(Q).length,"aria-rowcount":this.props.rowCount,className:no("ReactVirtualized__Table",de),id:Qe,role:"grid",style:Tt},!me&&De({className:no("ReactVirtualized__Table__headerRow",Pt),columns:this._getHeaderColumns(),style:Wn({height:Le,overflow:"hidden",paddingRight:Lt,width:At},_t)}),gn.createElement(Fs,Wn({},this.props,{"aria-readonly":null,autoContainerWidth:!0,className:no("ReactVirtualized__Table__Grid",Se),cellRenderer:this._createRow,columnWidth:At,columnCount:1,height:ut,id:void 0,noContentRenderer:rt,onScroll:this._onScroll,onSectionRendered:this._onSectionRendered,ref:this._setRef,role:"rowgroup",scrollbarWidth:Lt,scrollToRow:vt,style:Wn({},Me,{overflowX:"hidden"})})))}},{key:"_createColumn",value:function(x){var J=x.column,Q=x.columnIndex,de=x.isScrolling,me=x.parent,Se=x.rowData,Me=x.rowIndex,Le=this.props.onColumnClick,De=J.props,ze=De.cellDataGetter,Qe=De.cellRenderer,rt=De.className,je=De.columnData,dt=De.dataKey,vt=De.id,Tt=Qe({cellData:ze({columnData:je,dataKey:dt,rowData:Se}),columnData:je,columnIndex:Q,dataKey:dt,isScrolling:de,parent:me,rowData:Se,rowIndex:Me}),At=this._cachedColumnStyles[Q],Lt=typeof Tt=="string"?Tt:null;return gn.createElement("div",{"aria-colindex":Q+1,"aria-describedby":vt,className:no("ReactVirtualized__Table__rowColumn",rt),key:"Row"+Me+"-Col"+Q,onClick:function(ut){Le&&Le({columnData:je,dataKey:dt,event:ut})},role:"gridcell",style:At,title:Lt},Tt)}},{key:"_createHeader",value:function(x){var J=x.column,Q=x.index,de=this.props,me=de.headerClassName,Se=de.headerStyle,Me=de.onHeaderClick,Le=de.sort,De=de.sortBy,ze=de.sortDirection,Qe=J.props,rt=Qe.columnData,je=Qe.dataKey,dt=Qe.defaultSortDirection,vt=Qe.disableSort,Tt=Qe.headerRenderer,At=Qe.id,Lt=Qe.label,ut=!vt&&Le,Pt=no("ReactVirtualized__Table__headerColumn",me,J.props.headerClassName,{ReactVirtualized__Table__sortableHeaderColumn:ut}),_t=this._getFlexStyleForColumn(J,Wn({},Se,J.props.headerStyle)),Sn=Tt({columnData:rt,dataKey:je,disableSort:vt,label:Lt,sortBy:De,sortDirection:ze}),Gn=void 0,bi=void 0,ai=void 0,Ai=void 0,yr=void 0;if(ut||Me){var ur=De!==je?dt:ze===Co.DESC?Co.ASC:Co.DESC,Ia=o(function(ms){ut&&Le({defaultSortDirection:dt,event:ms,sortBy:je,sortDirection:ur}),Me&&Me({columnData:rt,dataKey:je,event:ms})},"onClick");yr=J.props["aria-label"]||Lt||je,Ai="none",ai=0,Gn=Ia,bi=o(function(ms){ms.key!=="Enter"&&ms.key!==" "||Ia(ms)},"headerOnKeyDown")}return De===je&&(Ai=ze===Co.ASC?"ascending":"descending"),gn.createElement("div",{"aria-label":yr,"aria-sort":Ai,className:Pt,id:At,key:"Header-Col"+Q,onClick:Gn,onKeyDown:bi,role:"columnheader",style:_t,tabIndex:ai},Sn)}},{key:"_createRow",value:function(x){var J=this,Q=x.rowIndex,de=x.isScrolling,me=x.key,Se=x.parent,Me=x.style,Le=this.props,De=Le.children,ze=Le.onRowClick,Qe=Le.onRowDoubleClick,rt=Le.onRowRightClick,je=Le.onRowMouseOver,dt=Le.onRowMouseOut,vt=Le.rowClassName,Tt=Le.rowGetter,At=Le.rowRenderer,Lt=Le.rowStyle,ut=this.state.scrollbarWidth,Pt=typeof vt=="function"?vt({index:Q}):vt,_t=typeof Lt=="function"?Lt({index:Q}):Lt,Sn=Tt({index:Q}),Gn=gn.Children.toArray(De).map(function(Ai,yr){return J._createColumn({column:Ai,columnIndex:yr,isScrolling:de,parent:Se,rowData:Sn,rowIndex:Q,scrollbarWidth:ut})}),bi=no("ReactVirtualized__Table__row",Pt),ai=Wn({},Me,{height:this._getRowHeight(Q),overflow:"hidden",paddingRight:ut},_t);return At({className:bi,columns:Gn,index:Q,isScrolling:de,key:me,onRowClick:ze,onRowDoubleClick:Qe,onRowRightClick:rt,onRowMouseOver:je,onRowMouseOut:dt,rowData:Sn,style:ai})}},{key:"_getFlexStyleForColumn",value:function(x){var J=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},Q=x.props.flexGrow+" "+x.props.flexShrink+" "+x.props.width+"px",de=Wn({},J,{flex:Q,msFlex:Q,WebkitFlex:Q});return x.props.maxWidth&&(de.maxWidth=x.props.maxWidth),x.props.minWidth&&(de.minWidth=x.props.minWidth),de}},{key:"_getHeaderColumns",value:function(){var x=this,J=this.props,Q=J.children;return(J.disableHeader?[]:gn.Children.toArray(Q)).map(function(de,me){return x._createHeader({column:de,index:me})})}},{key:"_getRowHeight",value:function(x){var J=this.props.rowHeight;return typeof J=="function"?J({index:x}):J}},{key:"_onScroll",value:function(x){var J=x.clientHeight,Q=x.scrollHeight,de=x.scrollTop;(0,this.props.onScroll)({clientHeight:J,scrollHeight:Q,scrollTop:de})}},{key:"_onSectionRendered",value:function(x){var J=x.rowOverscanStartIndex,Q=x.rowOverscanStopIndex,de=x.rowStartIndex,me=x.rowStopIndex;(0,this.props.onRowsRendered)({overscanStartIndex:J,overscanStopIndex:Q,startIndex:de,stopIndex:me})}},{key:"_setRef",value:function(x){this.Grid=x}},{key:"_setScrollbarWidth",value:function(){var x=this.getScrollbarWidth();this.setState({scrollbarWidth:x})}}]),ee}(gn.PureComponent);Eh.propTypes={"aria-label":st.string,"aria-labelledby":st.string,autoHeight:st.bool,children:function(ce){for(var ee=gn.Children.toArray(ce.children),x=0;x<ee.length;x++){var J=ee[x].type;if(J!==Gc&&!(J.prototype instanceof Gc))return new Error("Table only accepts children of type Column")}},className:st.string,disableHeader:st.bool,estimatedRowSize:st.number.isRequired,gridClassName:st.string,gridStyle:st.object,headerClassName:st.string,headerHeight:st.number.isRequired,headerRowRenderer:st.func,headerStyle:st.object,height:st.number.isRequired,id:st.string,noRowsRenderer:st.func,onColumnClick:st.func,onHeaderClick:st.func,onRowClick:st.func,onRowDoubleClick:st.func,onRowMouseOut:st.func,onRowMouseOver:st.func,onRowRightClick:st.func,onRowsRendered:st.func,onScroll:st.func.isRequired,overscanIndicesGetter:st.func.isRequired,overscanRowCount:st.number.isRequired,rowClassName:st.oneOfType([st.string,st.func]),rowGetter:st.func.isRequired,rowHeight:st.oneOfType([st.number,st.func]).isRequired,rowCount:st.number.isRequired,rowRenderer:st.func,rowStyle:st.oneOfType([st.object,st.func]).isRequired,scrollToAlignment:st.oneOf(["auto","end","start","center"]).isRequired,scrollToIndex:st.number.isRequired,scrollTop:st.number,sort:st.func,sortBy:st.string,sortDirection:st.oneOf([Co.ASC,Co.DESC]),style:st.object,tabIndex:st.number,width:st.number.isRequired},Eh.defaultProps={disableHeader:!1,estimatedRowSize:30,headerHeight:0,headerStyle:{},noRowsRenderer:function(){return null},onRowsRendered:function(){return null},onScroll:function(){return null},overscanIndicesGetter:jc,overscanRowCount:10,rowRenderer:Vg,headerRowRenderer:Fg,rowStyle:{},scrollToAlignment:"auto",scrollToIndex:-1,style:{}};var Al=[],$c=null,Rl=null;function Hg(){Rl&&(Rl=null,$n.body&&$c!=null&&($n.body.style.pointerEvents=$c),$c=null)}o(Hg,"enablePointerEventsIfDisabled");function Pv(){Hg(),Al.forEach(function(ce){return ce.__resetIsScrolling()})}o(Pv,"enablePointerEventsAfterDelayCallback");function zg(ce){ce.currentTarget===V&&$c==null&&$n.body&&($c=$n.body.style.pointerEvents,$n.body.style.pointerEvents="none"),function(){Rl&&el(Rl);var ee=0;Al.forEach(function(x){ee=Math.max(ee,x.props.scrollingResetTimeInterval)}),Rl=Vc(Pv,ee)}(),Al.forEach(function(ee){ee.props.scrollElement===ce.currentTarget&&ee.__handleWindowScrollEvent()})}o(zg,"onScrollWindow");function jg(ce,ee){Al.some(function(x){return x.props.scrollElement===ee})||ee.addEventListener("scroll",zg),Al.push(ce)}o(jg,"registerScrollListener");function Wg(ce,ee){(Al=Al.filter(function(x){return x!==ce})).length||(ee.removeEventListener("scroll",zg),Rl&&(el(Rl),Hg()))}o(Wg,"unregisterScrollListener");var Th=o(function(ce){return ce===V},"isWindow"),Kc=o(function(ce){return ce.getBoundingClientRect()},"getBoundingBox");function Gg(ce,ee){if(ce){if(Th(ce)){var x=V,J=x.innerHeight,Q=x.innerWidth;return{height:typeof J=="number"?J:0,width:typeof Q=="number"?Q:0}}return Kc(ce)}return{height:ee.serverHeight,width:ee.serverWidth}}o(Gg,"getDimensions");function $g(ce){return Th(ce)&&$n.documentElement?{top:"scrollY"in V?V.scrollY:$n.documentElement.scrollTop,left:"scrollX"in V?V.scrollX:$n.documentElement.scrollLeft}:{top:ce.scrollTop,left:ce.scrollLeft}}o($g,"getScrollOffset");var Kg=o(function(){return typeof V<"u"?V:void 0},"getWindow"),Jg=function(ce){function ee(){var x,J,Q;Vi(this,ee);for(var de=arguments.length,me=Array(de),Se=0;Se<de;Se++)me[Se]=arguments[Se];return J=Q=Wi(this,(x=ee.__proto__||Object.getPrototypeOf(ee)).call.apply(x,[this].concat(me))),Q._window=Kg(),Q._isMounted=!1,Q._positionFromTop=0,Q._positionFromLeft=0,Q.state=Wn({},Gg(Q.props.scrollElement,Q.props),{isScrolling:!1,scrollLeft:0,scrollTop:0}),Q._registerChild=function(Me){!Me||Me instanceof ro||zt.warn("WindowScroller registerChild expects to be passed Element or null"),Q._child=Me,Q.updatePosition()},Q._onChildScroll=function(Me){var Le=Me.scrollTop;if(Q.state.scrollTop!==Le){var De=Q.props.scrollElement;De&&(typeof De.scrollTo=="function"?De.scrollTo(0,Le+Q._positionFromTop):De.scrollTop=Le+Q._positionFromTop)}},Q._registerResizeListener=function(Me){Me===V?V.addEventListener("resize",Q._onResize,!1):Q._detectElementResize.addResizeListener(Me,Q._onResize)},Q._unregisterResizeListener=function(Me){Me===V?V.removeEventListener("resize",Q._onResize,!1):Me&&Q._detectElementResize.removeResizeListener(Me,Q._onResize)},Q._onResize=function(){Q.updatePosition()},Q.__handleWindowScrollEvent=function(){if(Q._isMounted){var Me=Q.props.onScroll,Le=Q.props.scrollElement;if(Le){var De=$g(Le),ze=Math.max(0,De.left-Q._positionFromLeft),Qe=Math.max(0,De.top-Q._positionFromTop);Q.setState({isScrolling:!0,scrollLeft:ze,scrollTop:Qe}),Me({scrollLeft:ze,scrollTop:Qe})}}},Q.__resetIsScrolling=function(){Q.setState({isScrolling:!1})},Wi(Q,J)}return o(ee,"WindowScroller"),Sr(ee,ce),ji(ee,[{key:"updatePosition",value:function(){var x=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.props.scrollElement,J=this.props.onResize,Q=this.state,de=Q.height,me=Q.width,Se=this._child||pa.findDOMNode(this);if(Se instanceof ro&&x){var Me=function(De,ze){if(Th(ze)&&$n.documentElement){var Qe=$n.documentElement,rt=Kc(De),je=Kc(Qe);return{top:rt.top-je.top,left:rt.left-je.left}}var dt=$g(ze),vt=Kc(De),Tt=Kc(ze);return{top:vt.top+dt.top-Tt.top,left:vt.left+dt.left-Tt.left}}(Se,x);this._positionFromTop=Me.top,this._positionFromLeft=Me.left}var Le=Gg(x,this.props);de===Le.height&&me===Le.width||(this.setState({height:Le.height,width:Le.width}),J({height:Le.height,width:Le.width}))}},{key:"componentDidMount",value:function(){var x=this.props.scrollElement;this._detectElementResize=$a(),this.updatePosition(x),x&&(jg(this,x),this._registerResizeListener(x)),this._isMounted=!0}},{key:"componentDidUpdate",value:function(x,J){var Q=this.props.scrollElement,de=x.scrollElement;de!==Q&&de!=null&&Q!=null&&(this.updatePosition(Q),Wg(this,de),jg(this,Q),this._unregisterResizeListener(de),this._registerResizeListener(Q))}},{key:"componentWillUnmount",value:function(){var x=this.props.scrollElement;x&&(Wg(this,x),this._unregisterResizeListener(x)),this._isMounted=!1}},{key:"render",value:function(){var x=this.props.children,J=this.state,Q=J.isScrolling,de=J.scrollTop,me=J.scrollLeft,Se=J.height,Me=J.width;return x({onChildScroll:this._onChildScroll,registerChild:this._registerChild,height:Se,isScrolling:Q,scrollLeft:me,scrollTop:de,width:Me})}}]),ee}(gn.PureComponent);Jg.defaultProps={onResize:function(){},onScroll:function(){},scrollingResetTimeInterval:150,scrollElement:Kg(),serverHeight:0,serverWidth:0},Ci.ArrowKeyStepper=ma,Ci.AutoSizer=Ka,Ci.CellMeasurer=ga,Ci.CellMeasurerCache=El,Ci.Collection=Nc,Ci.ColumnSizer=pc,Ci.accessibilityOverscanIndicesGetter=jc,Ci.defaultCellRangeRenderer=Md,Ci.defaultOverscanIndicesGetter=mc,Ci.Grid=Fs,Ci.InfiniteLoader=Wc,Ci.List=gc,Ci.createMasonryCellPositioner=function(ce){var ee=ce.cellMeasurerCache,x=ce.columnCount,J=ce.columnWidth,Q=ce.spacer,de=Q===void 0?0:Q,me=void 0;function Se(Le){for(var De=0,ze=1;ze<me.length;ze++)me[ze]<me[De]&&(De=ze);var Qe=De*(J+de),rt=me[De]||0;return me[De]=rt+ee.getHeight(Le)+de,{left:Qe,top:rt}}o(Se,"cellPositioner");function Me(){me=[];for(var Le=0;Le<x;Le++)me[Le]=0}return o(Me,"initOrResetDerivedValues"),Me(),Se.reset=function(Le){x=Le.columnCount,J=Le.columnWidth,de=Le.spacer,Me()},Se},Ci.Masonry=sn,Ci.MultiGrid=Ta,Ci.ScrollSync=_g,Ci.createTableMultiSort=function(ce){var ee=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},x=ee.defaultSortBy,J=ee.defaultSortDirection,Q=J===void 0?{}:J;if(!ce)throw Error('Required parameter "sortCallback" not specified');var de=x||[],me={};return de.forEach(function(Se){me[Se]=Q.hasOwnProperty(Se)?Q[Se]:"ASC"}),{sort:function(Se){var Me=Se.defaultSortDirection,Le=Se.event,De=Se.sortBy;if(Le.shiftKey)me.hasOwnProperty(De)?me[De]=me[De]==="ASC"?"DESC":"ASC":(me[De]=Me,de.push(De));else if(Le.ctrlKey||Le.metaKey){var ze=de.indexOf(De);ze>=0&&(de.splice(ze,1),delete me[De])}else de.length=0,de.push(De),Object.keys(me).forEach(function(Qe){Qe!==De&&delete me[Qe]}),me.hasOwnProperty(De)?me[De]=me[De]==="ASC"?"DESC":"ASC":me[De]=Me;ce({sortBy:de,sortDirection:me})},sortBy:de,sortDirection:me}},Ci.defaultTableCellDataGetter=Ng,Ci.defaultTableCellRenderer=Bg,Ci.defaultTableHeaderRenderer=Ug,Ci.defaultTableHeaderRowRenderer=Fg,Ci.defaultTableRowRenderer=Vg,Ci.Table=Eh,Ci.Column=Gc,Ci.SortDirection=Co,Ci.SortIndicator=bh,Ci.WindowScroller=Jg,Object.defineProperty(Ci,"__esModule",{value:!0})}),i.exports}}).call(this,d("yLpj"))},N4c9:function(N,c,d){d("wYM1");var S=d("VSTI").Object;N.exports=o(function(m,f,a){return S.defineProperty(m,f,a)},"defineProperty")},N7sO:function(N,c,d){"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.isEmptyData=void 0;function S(h){return typeof h=="string"?h.length===0:h.byteLength===0}o(S,"isEmptyData"),c.isEmptyData=S},N8ne:function(N,c,d){"use strict";Object.defineProperty(c,"__esModule",{value:!0});const S=d("mlaT");let h=o(class{info(f){for(const a of this._loggers)a.info(f)}warn(f){for(const a of this._loggers)a.warn(f)}error(f){for(const a of this._loggers)a.error(f)}debug(f){let a,n;typeof f=="string"?n=f:f?n=o(()=>(a||(a=f()),a),"memoized"):n=""+f;for(const i of this._loggers)i.debug(n)}setLogLevel(f){for(const a of this._loggers)a.setLogLevel(f)}getLogLevel(){for(const f of this._loggers)return f.getLogLevel();return S.default.OFF}constructor(...f){this._loggers=f}},"MultiLogger");c.default=h},N9oo:function(N,c,d){"use strict";var S=this&&this.__awaiter||function(n,i,e,t){function r(l){return l instanceof e?l:new e(function(p){p(l)})}return o(r,"adopt"),new(e||(e=Promise))(function(l,p){function v(s){try{u(t.next(s))}catch(I){p(I)}}o(v,"fulfilled");function g(s){try{u(t.throw(s))}catch(I){p(I)}}o(g,"rejected");function u(s){s.done?l(s.value):r(s.value).then(v,g)}o(u,"step"),u((t=t.apply(n,i||[])).next())})};Object.defineProperty(c,"__esModule",{value:!0});const h=d("lUhs"),m=d("AUdx"),f=d("aVV0");let a=o(class cv extends f.default{removeEventListener(){this.context.peer&&(this.context.peer.removeEventListener("icecandidate",this.context.iceCandidateHandler),this.context.turnCredentials||this.context.peer.removeEventListener("icegatheringstatechange",this.context.iceGatheringStateEventHandler))}cancel(){let i;this.context.browserBehavior.requiresIceCandidateGatheringTimeoutWorkaround()&&this.chromeVpnTimeoutMs<this.context.meetingSessionConfiguration.connectionTimeoutMs&&Date.now()-this.startTimestampMs>this.chromeVpnTimeoutMs&&(i=new Error(`canceling ${this.name()} due to the meeting status code: ${h.default.ICEGatheringTimeoutWorkaround}`)),this.cancelPromise&&(i=i||new Error(`canceling ${this.name()}`),this.cancelPromise(i),delete this.cancelPromise)}run(){return S(this,void 0,void 0,function*(){if(this.context.peer||this.logAndThrow("session does not have peer connection; bypass ice gathering"),this.context.browserBehavior.requiresCheckForSdpConnectionAttributes()){if(new m.default(this.context.peer.localDescription.sdp).hasCandidatesForAllMLines()){this.context.logger.info(`ice gathering already complete; bypass gathering, current local description ${this.context.peer.localDescription.sdp}`);return}}else this.context.logger.info(`iOS device does not require checking for connection attributes in SDP, current local description ${this.context.peer.localDescription.sdp}`);if((this.context.browserBehavior.hasFirefoxWebRTC()||this.context.peer.iceGatheringState==="complete")&&new m.default(this.context.peer.localDescription.sdp).hasCandidates()){this.context.logger.info("ice gathering state is complete and candidates are in SDP; bypass gathering");return}try{yield new Promise((i,e)=>{this.cancelPromise=t=>{this.removeEventListener(),e(t)},this.context.turnCredentials||(this.context.iceGatheringStateEventHandler=()=>{if(this.context.peer.iceGatheringState==="complete"){this.removeEventListener(),i(),delete this.cancelPromise;return}},this.context.peer.addEventListener("icegatheringstatechange",this.context.iceGatheringStateEventHandler)),this.context.iceCandidateHandler=t=>{if(this.context.logger.info(`ice candidate: ${t.candidate?t.candidate.candidate:"(null)"} state: ${this.context.peer.iceGatheringState}`),t.candidate&&(m.default.isRTPCandidate(t.candidate.candidate)&&this.context.iceCandidates.push(t.candidate),this.context.turnCredentials&&this.context.iceCandidates.length>=1)){this.context.logger.info("gathered at least one relay candidate"),this.removeEventListener(),i(),delete this.cancelPromise;return}this.context.peer.iceGatheringState==="complete"&&(this.context.logger.info("done gathering ice candidates"),this.removeEventListener(),!new m.default(this.context.peer.localDescription.sdp).hasCandidates()||this.context.iceCandidates.length===0?(e(new Error("no ice candidates were gathered")),delete this.cancelPromise):(i(),delete this.cancelPromise))},this.context.peer.addEventListener("icecandidate",this.context.iceCandidateHandler),this.startTimestampMs=Date.now()})}catch(i){throw i}finally{this.startTimestampMs&&(this.context.iceGatheringDurationMs=Math.round(Date.now()-this.startTimestampMs))}})}constructor(i,e=cv.CHROME_VPN_TIMEOUT_MS){super(i.logger),this.context=i,this.chromeVpnTimeoutMs=e,this.taskName="FinishGatheringICECandidatesTask"}},"FinishGatheringICECandidatesTask");c.default=a,a.CHROME_VPN_TIMEOUT_MS=5e3},NDMw:function(N,c,d){"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.isAudioTransformDevice=void 0;function S(h){return!!h&&typeof h=="object"&&"mute"in h&&"stop"in h&&"intrinsicDevice"in h}o(S,"isAudioTransformDevice"),c.isAudioTransformDevice=S},NE7a:function(N,c,d){"use strict";Object.defineProperty(c,"__esModule",{value:!0});let S=o(class{constructor(){this.previousMetrics={},this.currentMetrics={},this.currentStringMetrics={}}},"StreamMetricReport");c.default=S},NFcc:function(N,c,d){"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.CheckVideoInputFeedback=void 0;var S;(function(h){h[h.Succeeded=0]="Succeeded",h[h.Failed=1]="Failed",h[h.PermissionDenied=2]="PermissionDenied"})(S=c.CheckVideoInputFeedback||(c.CheckVideoInputFeedback={})),c.default=S},NUAg:function(N,c,d){"use strict";Object.defineProperty(c,"__esModule",{value:!0});const S=d("IBi3");let h=o(class extends S.default{setupLocalTransceivers(){this.useTransceivers()&&(!this.defaultMediaStream&&typeof MediaStream<"u"&&(this.defaultMediaStream=new MediaStream),this._localCameraTransceiver||(this._localCameraTransceiver=this.peer.addTransceiver("video",{direction:"inactive",streams:[this.defaultMediaStream]})))}constructor(f,a){super(f,a)}},"VideoOnlyTransceiverController");c.default=h},NWIo:function(N,c,d){"use strict";Object.defineProperty(c,"__esModule",{value:!0});const S=d("riOr");let h=o(class{updateConnectionMetric(f){}chooseMediaTrackConstraints(){}chooseEncodingParameters(){var f,a,n,i,e,t,r,l,p,v,g,u;const s=new Map,I=1e3,M=S.default.NAME_ARR_ASCENDING;return s.set(M[0],{rid:M[0],active:!0,scaleResolutionDownBy:((a=(f=this.encodingParams)===null||f===void 0?void 0:f.low)===null||a===void 0?void 0:a.scaleResolutionDownBy)||2,maxBitrate:(((i=(n=this.encodingParams)===null||n===void 0?void 0:n.low)===null||i===void 0?void 0:i.maxBitrateKbps)||300)*I,maxFramerate:((t=(e=this.encodingParams)===null||e===void 0?void 0:e.low)===null||t===void 0?void 0:t.maxFramerate)||5}),s.set(M[1],{rid:M[1],active:!0,scaleResolutionDownBy:((l=(r=this.encodingParams)===null||r===void 0?void 0:r.high)===null||l===void 0?void 0:l.scaleResolutionDownBy)||1,maxBitrate:(((v=(p=this.encodingParams)===null||p===void 0?void 0:p.high)===null||v===void 0?void 0:v.maxBitrateKbps)||1200)*I,maxFramerate:(u=(g=this.encodingParams)===null||g===void 0?void 0:g.high)===null||u===void 0?void 0:u.maxFramerate}),this.getQualityMapString(s),s}updateIndex(f){this.videoIndex=f}wantsResubscribe(){var f,a;let n=!1;this.nextLocalDescriptions=(f=this.videoIndex)===null||f===void 0?void 0:f.localStreamDescriptions();for(let i=0;i<((a=this.nextLocalDescriptions)===null||a===void 0?void 0:a.length);i++){const e=this.nextLocalDescriptions[i].streamId;if(e!==0&&e){const t=this.currLocalDescriptions.findIndex(r=>r.streamId===e);t!==-1&&this.nextLocalDescriptions[i].disabledByWebRTC!==this.currLocalDescriptions[t].disabledByWebRTC&&(n=!0)}}return this.currLocalDescriptions=this.nextLocalDescriptions,n}chooseCaptureAndEncodeParameters(){}maxBandwidthKbps(){return 1200}setIdealMaxBandwidthKbps(f){}setHasBandwidthPriority(f){}getQualityMapString(f){var a;let n="";const i=(a=this.videoIndex)===null||a===void 0?void 0:a.localStreamDescriptions();(i==null?void 0:i.length)>0&&(f.forEach(e=>{let t=!1;e.rid==="low"?t=i[0].disabledByWebRTC:t=i[1].disabledByWebRTC,n+=`{ rid: ${e.rid} active:${e.active} disabledByWebRTC: ${t} maxBitrate:${e.maxBitrate} scaleResolutionDownBy:${e.scaleResolutionDownBy} maxFrameRate:${e.maxFramerate}`}),this.logger.info(`simulcast: content policy:chooseEncodingParameters newQualityMap: ${n}`))}addObserver(f){}removeObserver(f){}forEachObserver(f){}constructor(f,a){this.logger=f,this.encodingParams=a,this.videoIndex=null,this.currLocalDescriptions=[],this.nextLocalDescriptions=[]}},"DefaultSimulcastUplinkPolicyForContentShare");c.default=h},Ni8D:function(N,c,d){"use strict";Object.defineProperty(c,"__esModule",{value:!0});let S=o(class{reportEvent(m,f,a){}start(){}stop(){}constructor(){}},"NoOpEventReporter");c.default=S},Nlwn:function(N,c,d){"use strict";var S=d("USwo"),h=d("VSTI"),m=d("7whZ"),f=d("2zfi"),a=d("JKKi");S(S.P+S.R,"Promise",{finally:function(n){var i=f(this,h.Promise||m.Promise),e=typeof n=="function";return this.then(e?function(t){return a(i,n()).then(function(){return t})}:n,e?function(t){return a(i,n()).then(function(){throw t})}:n)}})},Np2I:function(N,c,d){"use strict";Object.defineProperty(c,"__esModule",{value:!0});let S=o(class{reset(){this.currentRetry=0}nextBackoffAmountMs(){const m=Math.random()*Math.min(this.longBackoffMs,this.shortBackoffMs*Math.pow(2,this.currentRetry))+this.fixedWaitMs;return this.currentRetry+=1,m}constructor(m,f,a){this.fixedWaitMs=m,this.shortBackoffMs=f,this.longBackoffMs=a,this.currentRetry=0,this.fixedWaitMs<0&&(this.fixedWaitMs=0),this.shortBackoffMs<0&&(this.shortBackoffMs=0),this.longBackoffMs<0&&(this.longBackoffMs=0),this.reset()}},"FullJitterBackoff");c.default=S},Nzn3:function(N,c,d){"use strict";Object.defineProperty(c,"__esModule",{value:!0});let S=o(class{cancel(){}name(){return"NoOpTask"}run(){return Promise.resolve()}setParent(m){}},"NoOpTask");c.default=S},O9RP:function(N,c,d){"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.DeferredPromise=void 0;let S=o(class{getPromise(){return this.promise}resolvePromise(m){this.resolve(m)}resolveAndReplacePromise(m){this.resolve(m),this.promise=new Promise((f,a)=>{this.resolve=f,this.reject=a})}rejectPromise(m){this.reject(m)}rejectAndReplacePromise(m){this.reject(m),this.promise=new Promise((f,a)=>{this.resolve=f,this.reject=a})}constructor(){this.promise=new Promise((m,f)=>{this.resolve=m,this.reject=f})}},"DeferredPromise");c.DeferredPromise=S},OEM7:function(N,c,d){"use strict";Object.defineProperty(c,"__esModule",{value:!0});const S=d("XCDq");let h=o(class dv{clone(){const f=new dv;return f.attendeeId=this.attendeeId,f.groupId=this.groupId,f.streamId=this.streamId,f.ssrc=this.ssrc,f.trackLabel=this.trackLabel,f.maxBitrateKbps=this.maxBitrateKbps,f.avgBitrateKbps=this.avgBitrateKbps,f.maxFrameRate=this.maxFrameRate,f.timeEnabled=this.timeEnabled,f.disabledByWebRTC=this.disabledByWebRTC,f.disabledByUplinkPolicy=this.disabledByUplinkPolicy,f}toStreamDescriptor(){const f=S.SdkStreamDescriptor.create();return f.mediaType=S.SdkStreamMediaType.VIDEO,f.trackLabel=this.trackLabel,f.attendeeId=this.attendeeId,f.streamId=this.streamId,f.groupId=this.groupId,f.framerate=this.maxFrameRate,f.maxBitrateKbps=this.disabledByUplinkPolicy||this.disabledByWebRTC?0:this.maxBitrateKbps,f.avgBitrateBps=this.avgBitrateKbps,f}constructor(f,a,n,i,e){this.attendeeId="",this.groupId=0,this.streamId=0,this.ssrc=0,this.trackLabel="",this.maxBitrateKbps=0,this.avgBitrateKbps=0,this.maxFrameRate=0,this.timeEnabled=0,this.disabledByWebRTC=!1,this.disabledByUplinkPolicy=!1,this.attendeeId=f,this.groupId=a,this.streamId=n,this.maxBitrateKbps=i,this.avgBitrateKbps=e}},"VideoStreamDescription");c.default=h},OND3:function(N,c,d){"use strict";var S=this&&this.__awaiter||function(f,a,n,i){function e(t){return t instanceof n?t:new n(function(r){r(t)})}return o(e,"adopt"),new(n||(n=Promise))(function(t,r){function l(g){try{v(i.next(g))}catch(u){r(u)}}o(l,"fulfilled");function p(g){try{v(i.throw(g))}catch(u){r(u)}}o(p,"rejected");function v(g){g.done?t(g.value):e(g.value).then(l,p)}o(v,"step"),v((i=i.apply(f,a||[])).next())})};Object.defineProperty(c,"__esModule",{value:!0});const h=d("IBi3");let m=o(class na extends h.default{setEncodingParameters(a){return S(this,void 0,void 0,function*(){if(!this._localCameraTransceiver||this._localCameraTransceiver.direction!=="sendrecv")return;const n=this._localCameraTransceiver.sender,i=Array.from(a.values());if(i.length<=0)return;const e=n.getParameters();if(!e.encodings)e.encodings=i;else for(let t=0;t<e.encodings.length;t++)e.encodings[t].rid===na.LOW_LEVEL_NAME&&this.copyEncodingParams(a.get(na.LOW_LEVEL_NAME),e.encodings[t]),e.encodings[t].rid===na.MID_LEVEL_NAME&&this.copyEncodingParams(a.get(na.MID_LEVEL_NAME),e.encodings[t]),e.encodings[t].rid===na.HIGH_LEVEL_NAME&&this.copyEncodingParams(a.get(na.HIGH_LEVEL_NAME),e.encodings[t]);yield n.setParameters(e),this.logVideoTransceiverParameters()})}setVideoSendingBitrateKbps(a){return S(this,void 0,void 0,function*(){})}setupLocalTransceivers(){if(this.useTransceivers()&&(!this.defaultMediaStream&&typeof MediaStream<"u"&&(this.defaultMediaStream=new MediaStream),this._localAudioTransceiver||(this._localAudioTransceiver=this.peer.addTransceiver("audio",{direction:"inactive",streams:[this.defaultMediaStream]})),!this._localCameraTransceiver)){const a=Array.from(this.videoQualityControlParameterMap.values());this._localCameraTransceiver=this.peer.addTransceiver("video",{direction:"inactive",streams:[this.defaultMediaStream],sendEncodings:a})}}logVideoTransceiverParameters(){const n=this._localCameraTransceiver.sender.getParameters().encodings;let i=`simulcast: current encoding parameters 
`;for(const e of n)i+=`rid=${e.rid} maxBitrate=${e.maxBitrate} active=${e.active} scaleDownBy=${e.scaleResolutionDownBy} maxFrameRate = ${e.maxFramerate} 
`;this.logger.info(i)}copyEncodingParams(a,n){n.active=a.active,n.maxBitrate=a.maxBitrate,n.scaleResolutionDownBy=a.scaleResolutionDownBy,n.maxFramerate=a.maxFramerate}constructor(a,n){super(a,n),this.videoQualityControlParameterMap=new Map;let i=4;for(let e=0;e<na.NAME_ARR_ASCENDING.length;e++){const t=na.NAME_ARR_ASCENDING[e];this.videoQualityControlParameterMap.set(t,{rid:t,scaleResolutionDownBy:i,maxBitrate:na.BITRATE_ARR_ASCENDING[e]*1e3}),i=i/2}}},"SimulcastTransceiverController");c.default=m,m.LOW_LEVEL_NAME="low",m.MID_LEVEL_NAME="mid",m.HIGH_LEVEL_NAME="hi",m.NAME_ARR_ASCENDING=["low","mid","hi"],m.BITRATE_ARR_ASCENDING=[200,400,1100]},OTpG:function(N,c,d){"use strict";var S=d("5ETA"),h=d("USwo"),m=d("ugGH"),f=d("BRsN"),a=d("ig3W"),n=d("Jt1Q"),i=d("kvAF"),e=d("znrX"),t=d("zBWt")("iterator"),r=!([].keys&&"next"in[].keys()),l="@@iterator",p="keys",v="values",g=o(function(){return this},"returnThis");N.exports=function(u,s,I,M,R,B,j){n(I,s,M);var A=o(function(le){if(!r&&le in P)return P[le];switch(le){case p:return o(function(){return new I(this,le)},"keys");case v:return o(function(){return new I(this,le)},"values")}return o(function(){return new I(this,le)},"entries")},"getMethod"),D=s+" Iterator",$=R==v,O=!1,P=u.prototype,k=P[t]||P[l]||R&&P[R],K=k||A(R),Z=R?$?A("entries"):K:void 0,Y=s=="Array"&&P.entries||k,ie,ge,Ie;if(Y&&(Ie=e(Y.call(new u)),Ie!==Object.prototype&&Ie.next&&(i(Ie,D,!0),!S&&typeof Ie[t]!="function"&&f(Ie,t,g))),$&&k&&k.name!==v&&(O=!0,K=o(function(){return k.call(this)},"values")),(!S||j)&&(r||O||!P[t])&&f(P,t,K),a[s]=K,a[D]=g,R)if(ie={values:$?K:A(v),keys:B?K:A(p),entries:Z},j)for(ge in ie)ge in P||m(P,ge,ie[ge]);else h(h.P+h.F*(r||O),s,ie);return ie}},OV1w:function(N,c,d){"use strict";Object.defineProperty(c,"__esModule",{value:!0});const S=d("/AJg");let h=o(class{constructor(f){this.applicationMetadata=f,this.serverSideNetworkAdaption=S.default.Default,this.supportedServerSideNetworkAdaptions=[],this.disablePeriodicKeyframeRequestOnContentSender=!1}},"SignalingClientJoin");c.default=h},Oa1h:function(N,c,d){var S=d("bKEA"),h=d("0WpP"),m=d("nRFE");N.exports=function(f){return function(a,n,i){var e=S(a),t=h(e.length),r=m(i,t),l;if(f&&n!=n){for(;t>r;)if(l=e[r++],l!=l)return!0}else for(;t>r;r++)if((f||r in e)&&e[r]===n)return f||r||0;return!f&&-1}}},Obod:function(N,c,d){"use strict";var S=this&&this.__awaiter||function(l,p,v,g){function u(s){return s instanceof v?s:new v(function(I){I(s)})}return o(u,"adopt"),new(v||(v=Promise))(function(s,I){function M(j){try{B(g.next(j))}catch(A){I(A)}}o(M,"fulfilled");function R(j){try{B(g.throw(j))}catch(A){I(A)}}o(R,"rejected");function B(j){j.done?s(j.value):u(j.value).then(M,R)}o(B,"step"),B((g=g.apply(l,p||[])).next())})};Object.defineProperty(c,"__esModule",{value:!0});const h=d("IsLT"),m=d("zd8f"),f=d("mlaT"),a=d("ZZPe"),n=d("PR0U"),i=d("hrQK"),e=d("gLI0");let t=o(class extends a.default{setBlurStrength(){}loadAssets(){return S(this,void 0,void 0,function*(){})}addObserver(){}removeObserver(){}},"NoOpBackgroundBlurProcessor"),r=o(class yc extends h.default{static create(p,v){return S(this,void 0,void 0,function*(){p=yc.resolveSpec(p),v=yc.resolveOptions(v);const{logger:g}=v,u=yield yc.isSupported(p,v);if(g.info(`processor is ${u?"":"not"} supported`),!u)return g.warn("Using no-op processor because background blur is not supported"),new t;let s;return(yield i.default.isSupported())?(g.info("Using browser-provided background blur"),s=new i.default(p,v)):(g.info("Using built-in background blur"),s=new n.default(p,v)),yield s.loadAssets(),s})}static resolveOptions(){let p=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},v=Object.assign({},p);return v.blurStrength||(v.blurStrength=e.default.MEDIUM),v.logger||(v.logger=new m.default("BackgroundBlurProcessor",f.default.INFO)),v=super.resolveOptions(v),v}static isSupported(p,v){return p=yc.resolveSpec(p),v=yc.resolveOptions(v),super.isSupported(p,v)}},"BackgroundBlurVideoFrameProcessor");c.default=r},OdWA:function(N,c,d){"use strict";d.d(c,"a",function(){return e});var S=d("9oTK"),h=d.n(S),m=d("m8R6"),f=d("2XU3"),a=d("WCk1"),n=d("s4P+"),i=d("pjW8");const e=Object(a.a)("users.interactions.list generated fetcher",function(){var t=Object(S.coroutine)(function*(r,l,p){try{const v=["reason"],g=Object(m.a)(p,v),u=Object(i.b)(g),s=yield r(Object(f.a)({method:"users.interactions.list",args:u,reason:p.reason}));return Object(i.a)(s)}catch(v){throw Object(n.a)({getState:l}).error(`API call to users.interactions.list
				with reason ${p.reason} failed, initiated by generated fetcher`),v}});return function(r,l,p){return t.apply(this,arguments)}}());e.meta={name:"createFetcher",key:"createFetcherusersInteractionsListFetcher",description:"users.interactions.list generated fetcher"}},Ol9i:function(N,c,d){"use strict";Object.defineProperty(c,"__esModule",{value:!0});let S=o(class{},"TranscriptItem");c.default=S},Olm7:function(N,c,d){"use strict";var S=d("fywt"),h=d("ntxC");function m(f,a){var n=[];if(!(f&&f.length))return n;var i=-1,e=[],t=f.length;for(a=Object(S.a)(a,3);++i<t;){var r=f[i];a(r,i,f)&&(n.push(r),e.push(i))}return Object(h.a)(f,e),n}o(m,"remove"),c.a=m},Oxpw:function(N,c,d){"use strict";Object.defineProperty(c,"__esModule",{value:!0});var S;(function(h){h.Unread="unread",h.LastMessageTimestamp="last-message-timestamp"})(S||(S={})),c.default=S},P2sY:function(N,c,d){N.exports={default:d("uccp"),__esModule:!0}},P3Bx:function(N,c,d){"use strict";Object.defineProperty(c,"__esModule",{value:!0});let S=o(class Ld{onReconnect(){this.sessionReconnected=!0}sendRealtimeUpdatesForAudioStreamIdInfo(m){let f=0;for(const a of m.streams){const n=!!a.attendeeId,i=!!a.externalUserId,e=a.hasOwnProperty("muted"),t=!!a.dropped;if(n){this.attendeeIdToStreamId[a.attendeeId]&&this.attendeeIdToStreamId[a.attendeeId]<a.audioStreamId&&delete this.attendeeIdToStreamId[a.attendeeId],this.streamIdToAttendeeId[a.audioStreamId]=a.attendeeId;const r=i?a.externalUserId:a.attendeeId;this.streamIdToExternalUserId[a.audioStreamId]=r,this.attendeeIdToStreamId[a.attendeeId]=a.audioStreamId,this.realtimeController.realtimeSetAttendeeIdPresence(a.attendeeId,!0,r,!1,{attendeeIndex:f++,attendeesInFrame:m.streams.length})}if(e){const r=this.streamIdToAttendeeId[a.audioStreamId],l=this.streamIdToExternalUserId[a.audioStreamId];this.realtimeController.realtimeUpdateVolumeIndicator(r,null,a.muted,null,l)}if(!n&&!e){const r=this.streamIdToAttendeeId[a.audioStreamId];if(r){const l=this.streamIdToExternalUserId[a.audioStreamId];delete this.streamIdToAttendeeId[a.audioStreamId],delete this.streamIdToExternalUserId[a.audioStreamId],delete this.warnedAboutMissingStreamIdMapping[a.audioStreamId],this.attendeeIdToStreamId[r]===a.audioStreamId&&delete this.attendeeIdToStreamId[r];let p=!1;for(const v of Object.keys(this.streamIdToAttendeeId)){const g=parseInt(v);if(g>a.audioStreamId&&this.streamIdToAttendeeId[g]===r){p=!0;break}}p||this.realtimeController.realtimeSetAttendeeIdPresence(r,!1,l,t,{attendeeIndex:f++,attendeesInFrame:m.streams.length})}}}this.sessionReconnected&&(this.cleanUpState(m),this.sessionReconnected=!1)}cleanUpState(m){const f=Object.values(this.streamIdToAttendeeId),a=m.streams.map(i=>i.attendeeId),n=f.filter(i=>!a.includes(i));for(const[i,e]of n.entries()){const t=this.attendeeIdToStreamId[e],r=this.streamIdToExternalUserId[t];if(delete this.streamIdToAttendeeId[t],delete this.streamIdToExternalUserId[t],delete this.warnedAboutMissingStreamIdMapping[t],delete this.attendeeIdToStreamId[e],e===this.selfAttendeeId){this.logger.warn("the volume indicator adapter cleans up the current attendee (presence = false) after reconnection");continue}this.realtimeController.realtimeSetAttendeeIdPresence(e,!1,r,!1,{attendeeIndex:i,attendeesInFrame:e.length})}}sendRealtimeUpdatesForAudioMetadata(m){let f=null,a=null;for(const n of m.attendeeStates){const i=this.attendeeIdForStreamId(n.audioStreamId);n.hasOwnProperty("volume")&&(f===null&&(f={}),i!==null&&(f[i]=this.normalizedVolume(n))),n.hasOwnProperty("signalStrength")&&(a===null&&(a={}),i!==null&&(a[i]=this.normalizedSignalStrength(n)))}this.applyRealtimeUpdatesForAudioMetadata(f,a)}normalizedVolume(m){const a=1-(-m.volume-this.maxVolumeDecibels)/(this.minVolumeDecibels-this.maxVolumeDecibels);return Math.min(Math.max(a,0),1)}normalizedSignalStrength(m){const f=m.signalStrength/Ld.MAX_SIGNAL_STRENGTH_LEVELS;return Math.min(Math.max(f,0),1)}applyRealtimeUpdatesForAudioMetadata(m,f){for(const a in this.streamIdToAttendeeId){const n=this.streamIdToAttendeeId[a],i=this.streamIdToExternalUserId[a];let e=null,t=null;m!==null&&(m.hasOwnProperty(n)?e=m[n]:e=Ld.IMPLICIT_VOLUME),f!==null&&(f.hasOwnProperty(n)?t=f[n]:t=Ld.IMPLICIT_SIGNAL_STRENGTH),(e!==null||t!==null)&&this.realtimeController.realtimeUpdateVolumeIndicator(n,e,null,t,i)}}attendeeIdForStreamId(m){if(m===0)return null;const f=this.streamIdToAttendeeId[m];return f||(this.warnedAboutMissingStreamIdMapping[m]||(this.warnedAboutMissingStreamIdMapping[m]=!0,this.logger.warn(`volume indicator stream id ${m} seen before being defined`)),null)}constructor(m,f,a,n,i){this.logger=m,this.realtimeController=f,this.minVolumeDecibels=a,this.maxVolumeDecibels=n,this.selfAttendeeId=i,this.streamIdToAttendeeId={},this.streamIdToExternalUserId={},this.warnedAboutMissingStreamIdMapping={},this.attendeeIdToStreamId={},this.sessionReconnected=!1}},"DefaultVolumeIndicatorAdapter");c.default=S,S.MAX_SIGNAL_STRENGTH_LEVELS=2,S.IMPLICIT_VOLUME=0,S.IMPLICIT_SIGNAL_STRENGTH=1},"P7D+":function(N,c,d){"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.VideoPreferences=c.MutableVideoPreferences=void 0;let S=o(class Lh{static default(){return new Lh([])}[Symbol.iterator](){let n=0;const i=this.items;return{next(){return n<i.length?{done:!1,value:i[n++]}:{done:!0,value:null}}}}first(){return this.items[0]}add(n){this.items.push(n)}replaceFirst(n,i){const e=this.items.findIndex(i);e===-1?this.items.push(n):this.has(n)?this.items.splice(e,1):this.items[e]=n}remove(n){this.items=this.items.filter(i=>!i.equals(n))}clear(){this.items=[]}isEmpty(){return this.items.length===0}equals(n){if(n===this)return!0;if(n.items.length!==this.items.length)return!1;for(const i of this.items)if(!n.items.some(e=>e.equals(i)))return!1;return!0}has(n){return this.items.some(i=>i.equals(n))}some(n){return this.items.some(n)}clone(){return new Lh([...this.items])}sort(){this.items.sort((n,i)=>n.partialCompare(i))}modify(){return new h(this)}constructor(n=[]){this.items=n}},"ObjectSet"),h=o(class{cow(){this.copied||(this.items=this.items.clone(),this.copied=!0)}add(n){this.items.has(n)||(this.cow(),this.items.add(n))}replaceFirst(n,i){this.items.has(n)&&!this.items.some(i)||(this.cow(),this.items.replaceFirst(n,i))}remove(n){this.items.has(n)&&(this.cow(),this.items.remove(n))}some(n){return this.items.some(n)}clear(){this.items.isEmpty()||(this.cow(),this.items.clear())}build(){return this.copied&&this.items.sort(),this.copied=!1,this.items}constructor(n=new S){this.items=n,this.copied=!1}},"SetBuilder"),m=o(class{add(n){this.builder.add(n)}replaceFirst(n,i){this.builder.replaceFirst(n,i)}remove(n){this.builder.remove(n)}some(n){return this.builder.some(n)}clear(){this.builder.clear()}build(){return new f(this.builder.build())}constructor(n){this.builder=n}},"MutableVideoPreferences");c.MutableVideoPreferences=m;let f=o(class _h{static prepare(){return new m(new h)}static default(){return new _h(S.default())}[Symbol.iterator](){return this.items[Symbol.iterator]()}highestPriority(){var n;return(n=this.items.first())===null||n===void 0?void 0:n.priority}sorted(){return this.items[Symbol.iterator]()}equals(n){return n===this||this.items.equals(n.items)}modify(){return new m(this.items.modify())}some(n){return this.items.some(n)}isEmpty(){return this.items.isEmpty()}clone(){const n=_h.prepare();for(const i of this.items)n.add(i.clone());return n.build()}constructor(n){this.items=n}},"VideoPreferences");c.VideoPreferences=f,c.default=f},P7Xm:function(N,c,d){"use strict";var S=this&&this.__awaiter||function(f,a,n,i){function e(t){return t instanceof n?t:new n(function(r){r(t)})}return o(e,"adopt"),new(n||(n=Promise))(function(t,r){function l(g){try{v(i.next(g))}catch(u){r(u)}}o(l,"fulfilled");function p(g){try{v(i.throw(g))}catch(u){r(u)}}o(p,"rejected");function v(g){g.done?t(g.value):e(g.value).then(l,p)}o(v,"step"),v((i=i.apply(f,a||[])).next())})};Object.defineProperty(c,"__esModule",{value:!0});const h=d("Biyp");let m=o(class Qc{reset(){this.numberOfPublishedVideoSources=0,this.optimalParameters=new h.default(0,0,0,0,!1),this.parametersInEffect=new h.default(0,0,0,0,!1),this.encodingParamMap.set(Qc.encodingMapKey,{maxBitrate:0})}updateConnectionMetric(a){}chooseMediaTrackConstraints(){return{}}chooseEncodingParameters(){return new Map}updateIndex(a){var n;let i=!0,e=1;this.transceiverController&&(i=this.transceiverController.hasVideoInput());const t=a.numberOfVideoPublishingParticipantsExcludingSelf(this.selfAttendeeId)+(i?1:0);if(this.numberOfPublishedVideoSources===t){(n=this.logger)===null||n===void 0||n.debug("Skipping update index; Number of participants has not changed");return}if(this.numberOfPublishedVideoSources=t,this.transceiverController){const r=this.getStreamCaptureSetting();r&&(e=this.calculateEncodingParameters(r).scaleResolutionDownBy)}this.optimalParameters=new h.default(this.captureWidth(),this.captureHeight(),this.captureFrameRate(),this.maxBandwidthKbps(),!1,e)}wantsResubscribe(){return!this.parametersInEffect.equal(this.optimalParameters)}chooseCaptureAndEncodeParameters(){return this.parametersInEffect=this.optimalParameters.clone(),this.parametersInEffect.clone()}captureWidth(){let a=640;return this.getNumberOfPublishedVideoSources()>4&&(a=320),a}captureHeight(){let a=384;return this.getNumberOfPublishedVideoSources()>4&&(a=192),a}captureFrameRate(){return 15}maxBandwidthKbps(){if(this.hasBandwidthPriority)return Math.trunc(this.idealMaxBandwidthKbps);let a=0;return this.getNumberOfPublishedVideoSources()<=2?a=this.idealMaxBandwidthKbps:this.getNumberOfPublishedVideoSources()<=4?a=this.idealMaxBandwidthKbps*2/3:a=(544/11+14880/(11*this.getNumberOfPublishedVideoSources()))/600*this.idealMaxBandwidthKbps,Math.trunc(a)}setIdealMaxBandwidthKbps(a){this.idealMaxBandwidthKbps=a}setHasBandwidthPriority(a){this.hasBandwidthPriority=a}setTransceiverController(a){this.transceiverController=a}updateTransceiverController(){return S(this,void 0,void 0,function*(){const a=this.getStreamCaptureSetting();if(!a)return;const n=this.calculateEncodingParameters(a);this.shouldUpdateEndcodingParameters(n)&&(this.encodingParamMap.set(Qc.encodingMapKey,n),this.transceiverController.setEncodingParameters(this.encodingParamMap))})}shouldUpdateEndcodingParameters(a){var n,i;const e=(i=(n=this.transceiverController.localVideoTransceiver().sender.getParameters())===null||n===void 0?void 0:n.encodings)===null||i===void 0?void 0:i[0];return a.maxBitrate!==(e==null?void 0:e.maxBitrate)||a.scaleResolutionDownBy!==(e==null?void 0:e.scaleResolutionDownBy)}calculateEncodingParameters(a){var n,i;const e=this.maxBandwidthKbps()*1e3;let t=1;if(a.height!==void 0&&a.width!==void 0&&this.scaleResolution&&!this.hasBandwidthPriority&&this.getNumberOfPublishedVideoSources()>2){let r=Qc.targetHeightArray[Math.min(this.getNumberOfPublishedVideoSources(),Qc.targetHeightArray.length-1)];r===480&&(!((n=this.browserBehavior)===null||n===void 0)&&n.disable480pResolutionScaleDown())&&(r=360),t=Math.max(Math.min(a.height,a.width)/r,1),(i=this.logger)===null||i===void 0||i.info(`Resolution scale factor is ${t} for capture resolution ${a.width}x${a.height}. New dimension is ${a.width/t}x${a.height/t}`)}return{scaleResolutionDownBy:t,maxBitrate:e}}getStreamCaptureSetting(){var a,n,i,e;return(e=(i=(n=(a=this.transceiverController)===null||a===void 0?void 0:a.localVideoTransceiver())===null||n===void 0?void 0:n.sender)===null||i===void 0?void 0:i.track)===null||e===void 0?void 0:e.getSettings()}getNumberOfPublishedVideoSources(){var a;return(a=this.numberOfPublishedVideoSources)!==null&&a!==void 0?a:0}constructor(a,n=!0,i=void 0,e=void 0){this.selfAttendeeId=a,this.scaleResolution=n,this.logger=i,this.browserBehavior=e,this.numberOfPublishedVideoSources=0,this.idealMaxBandwidthKbps=1400,this.hasBandwidthPriority=!1,this.encodingParamMap=new Map,this.reset()}},"NScaleVideoUplinkBandwidthPolicy");c.default=m,m.encodingMapKey="video",m.targetHeightArray=[0,0,0,540,540,480,480,480,480,360,360,360,360,270,270,270,270,180,180,180,180,180,180,180,180,180]},PDX0:function(N,c){(function(d){N.exports=d}).call(this,{})},PPZC:function(N,c,d){"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.AudioLogEvent=void 0;var S;(function(h){h[h.DeviceChanged=0]="DeviceChanged",h[h.MutedLocal=1]="MutedLocal",h[h.UnmutedLocal=2]="UnmutedLocal",h[h.Connected=3]="Connected",h[h.ConnectFailed=4]="ConnectFailed",h[h.RedmicStartLoss=5]="RedmicStartLoss",h[h.RedmicEndLoss=6]="RedmicEndLoss"})(S=c.AudioLogEvent||(c.AudioLogEvent={})),c.default=S},PR0U:function(N,c,d){"use strict";var S=this&&this.__awaiter||function(a,n,i,e){function t(r){return r instanceof i?r:new i(function(l){l(r)})}return o(t,"adopt"),new(i||(i=Promise))(function(r,l){function p(u){try{g(e.next(u))}catch(s){l(s)}}o(p,"fulfilled");function v(u){try{g(e.throw(u))}catch(s){l(s)}}o(v,"rejected");function g(u){u.done?r(u.value):t(u.value).then(p,v)}o(g,"step"),g((e=e.apply(a,n||[])).next())})};Object.defineProperty(c,"__esModule",{value:!0});const h=d("hrQK"),m=d("gLI0");let f=o(class extends h.default{drawImageWithMask(n,i){const e=this.blurredImage,{canvasCtx:t,targetCanvas:r}=this,{width:l,height:p}=r;if(!i||!e){t.clearRect(0,0,l,p);return}this.scaledCanvas.getContext("2d").putImageData(i,0,0),this.blurCanvasCtx.putImageData(this.blurredImage,0,0),t.save(),t.clearRect(0,0,l,p),t.drawImage(this.scaledCanvas,0,0,l,p),t.globalCompositeOperation="source-in",t.drawImage(n,0,0,l,p),t.globalCompositeOperation="destination-over",t.drawImage(this.blurCanvas,0,0,l,p),t.restore()}setBlurStrength(n){if(super.setBlurStrength(n),this.worker){this.modelInitialized=!1,this.worker.postMessage({msg:"destroy"});const i=this.spec.model;this.worker.postMessage({msg:"loadModel",payload:{modelUrl:i.path,inputHeight:i.input.height,inputWidth:i.input.width,inputChannels:4,modelRangeMin:i.input.range[0],modelRangeMax:i.input.range[1],blurPixels:this.blurAmount}})}}setBlurPixels(){this.blurAmount=m.BlurStrengthMapper.getBlurAmount(this._blurStrength,{height:540}),this.logger.info(`background blur amount set to ${this.blurAmount}`)}handleInitialize(n){if(this.logger.info(`received initialize message: ${this.stringify(n)}`),!n.payload){this.logger.error("failed to initialize module"),this.initWorkerPromise.reject(new Error("failed to initialize the module"));return}const i=this.spec.model;this.worker.postMessage({msg:"loadModel",payload:{modelUrl:i.path,inputHeight:i.input.height,inputWidth:i.input.width,inputChannels:4,modelRangeMin:i.input.range[0],modelRangeMax:i.input.range[1],blurPixels:this.blurAmount}}),this.initWorkerPromise.resolve({})}handlePredict(n){this.blurredImage=n.payload.blurOutput,super.handlePredict(n)}destroy(){const n=Object.create(null,{destroy:{get:()=>super.destroy}});var i;return S(this,void 0,void 0,function*(){n.destroy.call(this),(i=this.blurCanvas)===null||i===void 0||i.remove(),this.blurCanvas=void 0})}constructor(n,i){super(n,i),this.blurCanvas=document.createElement("canvas"),this.blurCanvasCtx=this.blurCanvas.getContext("2d"),this.blurCanvas.width=this.spec.model.input.width,this.blurCanvas.height=this.spec.model.input.height,this.logger.info("BackgroundBlur processor using builtin blur")}},"BackgroundBlurProcessorBuiltIn");c.default=f},PSPT:function(N,c,d){"use strict";var S=this&&this.__awaiter||function(R,B,j,A){function D($){return $ instanceof j?$:new j(function(O){O($)})}return o(D,"adopt"),new(j||(j=Promise))(function($,O){function P(Z){try{K(A.next(Z))}catch(Y){O(Y)}}o(P,"fulfilled");function k(Z){try{K(A.throw(Z))}catch(Y){O(Y)}}o(k,"rejected");function K(Z){Z.done?$(Z.value):D(Z.value).then(P,k)}o(K,"step"),K((A=A.apply(R,B||[])).next())})};Object.defineProperty(c,"__esModule",{value:!0});const h=d("kUL9"),m=d("U9CR"),f=d("ZsEg"),a=d("wkYg"),n=d("j+uH"),i=d("iQPr"),e=d("PmG3"),t=d("ig3o"),r=d("Rx4Y"),l=d("nWLk"),p=d("s3Gi"),v=d("VKrp"),g=d("M1uR"),u=d("sTsL"),s=d("6k9T"),I=d("dazq");let M=o(class uv{static delay(B){return S(this,void 0,void 0,function*(){return new Promise(j=>setTimeout(j,B))})}checkAudioInput(B){return S(this,void 0,void 0,function*(){try{return yield this.meetingSession.audioVideo.startAudioInput(B),yield this.meetingSession.audioVideo.stopAudioInput(),t.default.Succeeded}catch(j){return this.logger.error(`MeetingReadinessChecker: Audio input check failed with error ${j}`),j instanceof a.default?t.default.PermissionDenied:t.default.Failed}})}checkAudioOutput(B,j){let A=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null;return S(this,void 0,void 0,function*(){try{const D=B?f.default.getIntrinsicDeviceId(B):"";return yield this.playTone(D,this.configuration.audioOutputFrequency,A),(yield j())?r.default.Succeeded:r.default.Failed}catch(D){return this.logger.error(`MeetingReadinessChecker: Audio output check failed with error: ${D}`),r.default.Failed}finally{this.stopTone()}})}playTone(B,j,A){return S(this,void 0,void 0,function*(){const $=this.configuration.audioOutputGain;this.oscillatorNode&&this.stopTone(),this.audioContext=f.default.getAudioContext(),this.gainNode=this.audioContext.createGain(),this.gainNode.gain.value=0,this.oscillatorNode=this.audioContext.createOscillator(),this.oscillatorNode.frequency.value=j,this.oscillatorNode.connect(this.gainNode),this.destinationStream=this.audioContext.createMediaStreamDestination(),this.gainNode.connect(this.destinationStream);const P=this.audioContext.currentTime+.1;this.gainNode.gain.linearRampToValueAtTime(0,P),this.gainNode.gain.linearRampToValueAtTime($,P+.1),this.oscillatorNode.start();const k=new h.default(this.logger);try{this.browserBehavior.supportsSetSinkId()&&(yield k.bindAudioDevice({deviceId:B}))}catch(K){this.logger.error(`Failed to bind audio device: ${K}`)}try{yield k.bindAudioElement(A||new Audio)}catch(K){this.logger.error(`Failed to bind audio element: ${K}`)}yield k.bindAudioStream(this.destinationStream.stream)})}stopTone(){if(!this.audioContext||!this.gainNode||!this.oscillatorNode||!this.destinationStream)return;const B=1,j=.1,A=this.configuration.audioOutputGain,D=this.audioContext.currentTime;this.gainNode.gain.linearRampToValueAtTime(A,D+j+B),this.gainNode.gain.linearRampToValueAtTime(0,D+j*2+B),this.oscillatorNode.stop(),this.oscillatorNode.disconnect(this.gainNode),this.gainNode.disconnect(this.destinationStream),this.oscillatorNode=null,this.gainNode=null,this.destinationStream=null}checkVideoInput(B){return S(this,void 0,void 0,function*(){try{return yield this.meetingSession.audioVideo.startVideoInput(B),yield this.meetingSession.audioVideo.stopVideoInput(),s.default.Succeeded}catch(j){return this.logger.error(`MeetingReadinessChecker: Video check failed with error ${j}`),j instanceof a.default?s.default.PermissionDenied:s.default.Failed}})}checkCameraResolution(B,j,A){return S(this,void 0,void 0,function*(){let D;try{const $=f.default.getIntrinsicDeviceId(B),O={video:this.calculateVideoConstraint($,j,A)};D=yield navigator.mediaDevices.getUserMedia(O)}catch($){return this.logger.error(`MeetingReadinessChecker: Camera resolution check with width: ${j} height ${A} failed with error ${$}`),$&&$.name==="OverconstrainedError"?l.default.ResolutionNotSupported:$&&$.name==="NotAllowedError"?l.default.PermissionDenied:l.default.Failed}finally{D&&D.getTracks().forEach(function($){$.stop()})}return l.default.Succeeded})}calculateVideoConstraint(B,j,A){const D=this.browserBehavior.requiresResolutionAlignment(j,A),$={};return this.browserBehavior.requiresNoExactMediaStreamConstraints()?($.deviceId=B,$.width=j,$.height=A):($.deviceId={exact:B},$.width={exact:D[0]},$.height={exact:D[1]}),$}checkContentShareConnectivity(B){return S(this,void 0,void 0,function*(){let j=!1,A=!1;const D={contentShareDidStart:()=>{j=!0}},$={audioVideoDidStart:()=>{A=!0}};try{return this.meetingSession.audioVideo.addObserver($),this.meetingSession.audioVideo.start(),this.meetingSession.audioVideo.addContentShareObserver(D),yield this.meetingSession.audioVideo.startContentShareFromScreenCapture(B),yield this.executeTimeoutTask(()=>S(this,void 0,void 0,function*(){return A&&j})),A?(yield this.stopMeeting(),j?p.default.Succeeded:p.default.TimedOut):p.default.ConnectionFailed}catch(O){return this.logger.error(`MeetingReadinessChecker: Content share check failed with error ${O}`),O.name==="NotAllowedError"?p.default.PermissionDenied:p.default.Failed}finally{this.meetingSession.audioVideo.removeObserver($),this.meetingSession.audioVideo.stopContentShare(),this.meetingSession.audioVideo.removeContentShareObserver(D)}})}checkAudioConnectivity(B){return S(this,void 0,void 0,function*(){let j=!1;const A={packetsReceived:0},D=this.meetingSession.audioVideo,$={metricsDidReceive(P){P.getRTCStatsReport().forEach(k=>{k.type==="inbound-rtp"&&k.mediaType==="audio"&&(A.packetsReceived=k.packetsReceived)})}},O=o((P,k,K,Z)=>{P===this.meetingSession.configuration.credentials.attendeeId&&k&&(j=!0)},"attendeePresenceHandler");try{yield D.startAudioInput(B)}catch(P){return this.logger.error(`MeetingReadinessChecker: Failed to get audio input device with error ${P}`),P instanceof a.default?e.default.AudioInputPermissionDenied:e.default.AudioInputRequestFailed}return D.realtimeSubscribeToAttendeeIdPresence(O),D.addObserver($),(yield this.startMeeting())?(yield this.executeTimeoutTask(()=>S(this,void 0,void 0,function*(){return this.isAudioConnectionSuccessful(j,A)})),D.removeObserver($),D.realtimeUnsubscribeToAttendeeIdPresence(O),yield this.stopMeeting(),yield this.meetingSession.audioVideo.stopAudioInput(),this.isAudioConnectionSuccessful(j,A)?e.default.Succeeded:e.default.AudioNotReceived):(D.removeObserver($),D.realtimeUnsubscribeToAttendeeIdPresence(O),yield this.meetingSession.audioVideo.stopAudioInput(),e.default.ConnectionFailed)})}checkVideoConnectivity(B){return S(this,void 0,void 0,function*(){const j=this.meetingSession.audioVideo;let A=0;const D={metricsDidReceive($){$.getRTCStatsReport().forEach(P=>{P.type==="outbound-rtp"&&P.mediaType==="video"&&(A=P.packetsSent)})}};try{yield j.startVideoInput(B)}catch($){return this.logger.error(`MeetingReadinessChecker: Failed to get video input device with error ${$}`),$ instanceof a.default?u.default.VideoInputPermissionDenied:u.default.VideoInputRequestFailed}return j.addObserver(D),(yield this.startMeeting())?(j.startLocalVideoTile(),yield this.executeTimeoutTask(()=>S(this,void 0,void 0,function*(){return A>0})),yield j.stopVideoInput(),yield this.stopMeeting(),j.removeObserver(D),A<=0?u.default.VideoNotSent:u.default.Succeeded):u.default.ConnectionFailed})}checkNetworkUDPConnectivity(){return S(this,void 0,void 0,function*(){let B=!1;const j={metricsDidReceive(D){D.getRTCStatsReport().forEach(O=>{O.type==="candidate-pair"&&O.state==="succeeded"&&(B=!0)})}};try{this.originalURLRewriter=this.meetingSession.configuration.urls.urlRewriter}catch(D){return this.logger.error(`MeetingSessionConfiguration.urls doesn't exist. Error: ${D}`),g.default.MeetingSessionURLsNotInitialized}this.meetingSession.configuration.urls.urlRewriter=D=>{const $=this.originalURLRewriter(D);return $.includes("transport=tcp")?"":$};const A=this.meetingSession.audioVideo;return A.addObserver(j),(yield this.startMeeting())?(yield this.executeTimeoutTask(()=>S(this,void 0,void 0,function*(){return B})),this.meetingSession.configuration.urls.urlRewriter=this.originalURLRewriter,yield this.stopMeeting(),A.removeObserver(j),B?g.default.Succeeded:g.default.ICENegotiationFailed):(this.meetingSession.configuration.urls.urlRewriter=this.originalURLRewriter,g.default.ConnectionFailed)})}checkNetworkTCPConnectivity(){return S(this,void 0,void 0,function*(){let B=!1;const j={metricsDidReceive(D){D.getRTCStatsReport().forEach(O=>{O.type==="candidate-pair"&&O.state==="succeeded"&&(B=!0)})}};try{this.originalURLRewriter=this.meetingSession.configuration.urls.urlRewriter}catch(D){return this.logger.error(`MeetingSessionConfiguration.urls doesn't exist. Error: ${D}`),v.default.MeetingSessionURLsNotInitialized}this.meetingSession.configuration.urls.urlRewriter=D=>{const $=this.originalURLRewriter(D);return $.includes("transport=udp")?"":$};const A=this.meetingSession.audioVideo;return A.addObserver(j),(yield this.startMeeting())?(yield this.executeTimeoutTask(()=>S(this,void 0,void 0,function*(){return B})),this.meetingSession.configuration.urls.urlRewriter=this.originalURLRewriter,yield this.stopMeeting(),A.removeObserver(j),B?v.default.Succeeded:v.default.ICENegotiationFailed):(this.meetingSession.configuration.urls.urlRewriter=this.originalURLRewriter,v.default.ConnectionFailed)})}startMeeting(){return S(this,void 0,void 0,function*(){let B=!1;const j={audioVideoDidStart:()=>{B=!0}};return this.meetingSession.audioVideo.addObserver(j),this.meetingSession.audioVideo.start(),yield this.executeTimeoutTask(()=>S(this,void 0,void 0,function*(){return B})),this.meetingSession.audioVideo.removeObserver(j),B})}stopMeeting(){return S(this,void 0,void 0,function*(){let B=!1;const j={audioVideoDidStop:A=>{B=!0}};return this.meetingSession.audioVideo.addObserver(j),this.meetingSession.audioVideo.stop(),yield this.executeTimeoutTask(()=>S(this,void 0,void 0,function*(){return B})),this.meetingSession.audioVideo.removeObserver(j),B})}executeTimeoutTask(B){return S(this,void 0,void 0,function*(){let j=!1,A=o(class extends n.default{cancel(){this.isCancelled=!0}run(){return S(this,void 0,void 0,function*(){for(;!this.isCancelled;){if(yield B()){j=!0;break}yield uv.delay(this.waitDurationMs)}})}constructor(O,P){super(O),this.waitDurationMs=P,this.isCancelled=!1}},"CheckForConditionTask");return yield new i.default(this.logger,new A(this.logger,this.configuration.waitDurationMs),this.configuration.timeoutMs).run(),j})}isAudioConnectionSuccessful(B,j){return B&&j.packetsReceived>0}constructor(B,j,A=new I.default){this.logger=B,this.meetingSession=j,this.configuration=A,this.browserBehavior=new m.default}},"DefaultMeetingReadinessChecker");c.default=M},PbSJ:function(N,c,d){"use strict";Object.defineProperty(c,"__esModule",{value:!0});let S=o(class{},"TranscriptionStatus");c.default=S},PhnE:function(N,c,d){"use strict";var S=c;S.build="minimal",S.Writer=d("hl97"),S.BufferWriter=d("92Bn"),S.Reader=d("s0Ci"),S.BufferReader=d("5xrR"),S.util=d("kU+7"),S.rpc=d("rIeS"),S.roots=d("k8sa"),S.configure=h;function h(){S.util._configure(),S.Writer._configure(S.BufferWriter),S.Reader._configure(S.BufferReader)}o(h,"configure"),h()},PmG3:function(N,c,d){"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.CheckAudioConnectivityFeedback=void 0;var S;(function(h){h[h.Succeeded=0]="Succeeded",h[h.AudioInputRequestFailed=1]="AudioInputRequestFailed",h[h.AudioInputPermissionDenied=2]="AudioInputPermissionDenied",h[h.ConnectionFailed=3]="ConnectionFailed",h[h.AudioNotReceived=4]="AudioNotReceived"})(S=c.CheckAudioConnectivityFeedback||(c.CheckAudioConnectivityFeedback={})),c.default=S},PsbS:function(N,c,d){"use strict";var S=this&&this.__awaiter||function(n,i,e,t){function r(l){return l instanceof e?l:new e(function(p){p(l)})}return o(r,"adopt"),new(e||(e=Promise))(function(l,p){function v(s){try{u(t.next(s))}catch(I){p(I)}}o(v,"fulfilled");function g(s){try{u(t.throw(s))}catch(I){p(I)}}o(g,"rejected");function u(s){s.done?l(s.value):r(s.value).then(v,g)}o(u,"step"),u((t=t.apply(n,i||[])).next())})};Object.defineProperty(c,"__esModule",{value:!0});const h=d("3wzr"),m=d("BQaj"),f=d("59sL");let a=o(class{makeTwoDigits(i){return i>9?i.toString():"0"+i.toString()}hmac(i,e){const t=new h.Sha256(e);return t.update(i),t.digest()}getDateTimeString(){const i=new Date;return i.getUTCFullYear()+this.makeTwoDigits(i.getUTCMonth()+1)+this.makeTwoDigits(i.getUTCDate())+"T"+this.makeTwoDigits(i.getUTCHours())+this.makeTwoDigits(i.getUTCMinutes())+this.makeTwoDigits(i.getUTCSeconds())+"Z"}getDateString(i){return i.substring(0,i.indexOf("T"))}getSignatureKey(i,e,t,r){return S(this,void 0,void 0,function*(){const l=yield this.hmac(e,"AWS4"+i),p=yield this.hmac(t,l),v=yield this.hmac(r,p);return yield this.hmac("aws4_request",v)})}signURL(i,e,t,r,l,p,v){return S(this,void 0,void 0,function*(){const g=this.getDateTimeString(),u=this.getDateString(g),s="AWS4-HMAC-SHA256";let I="";this.chimeClient.config.region instanceof Function?I=yield this.chimeClient.config.region():I=this.chimeClient.config.region;const M="host",R="host:"+r.toLowerCase()+`
`,B=u+"/"+I+"/"+t+"/aws4_request";let j;this.chimeClient.config.credentials instanceof Function?j=yield this.chimeClient.config.credentials():j=this.chimeClient.config.credentials;let A=new Map;A.set("X-Amz-Algorithm",[s]),A.set("X-Amz-Credential",[encodeURIComponent(j.accessKeyId+"/"+B)]),A.set("X-Amz-Date",[g]),A.set("X-Amz-Expires",["10"]),A.set("X-Amz-SignedHeaders",["host"]),j.sessionToken&&A.set("X-Amz-Security-Token",[encodeURIComponent(j.sessionToken)]),A.set(f.default.X_AMZN_VERSION,[encodeURIComponent(f.default.sdkVersion)]),A.set(f.default.X_AMZN_USER_AGENT,[encodeURIComponent(f.default.sdkUserAgentLowResolution)]),v==null||v.forEach((Y,ie)=>{const ge=encodeURIComponent(ie);Y.sort().forEach(Ie=>{A.has(ge)||A.set(ge,[]),A.get(ge).push(encodeURIComponent(Ie))})});let D="";A=new Map([...A.entries()].sort()),A.forEach((Y,ie)=>{Y.forEach(ge=>{D.length&&(D+="&"),D+=ie+"="+ge})});const $=i+`
`+l+`
`+D+`
`+R+`
`+M+`
`+m.toHex(yield this.hmac(p)),O=m.toHex(yield this.hmac($)),P=`AWS4-HMAC-SHA256
`+g+`
`+u+"/"+I+"/"+t+`/aws4_request
`+O,k=yield this.getSignatureKey(j.secretAccessKey,u,I,t),K=m.toHex(yield this.hmac(P,k)),Z=D+"&X-Amz-Signature="+K;return e+"://"+r+l+"?"+Z})}constructor(i){this.chimeClient=i}},"DefaultSigV4");c.default=a},PwtQ:function(N,c,d){"use strict";N.exports=m;var S=d("wDi9");(m.prototype=Object.create(S.prototype)).constructor=m;var h=d("j4TH");function m(){S.call(this)}o(m,"BufferWriter"),m._configure=function(){m.alloc=h._Buffer_allocUnsafe,m.writeBytesBuffer=h.Buffer&&h.Buffer.prototype instanceof Uint8Array&&h.Buffer.prototype.set.name==="set"?o(function(n,i,e){i.set(n,e)},"writeBytesBuffer_set"):o(function(n,i,e){if(n.copy)n.copy(i,e,0,n.length);else for(var t=0;t<n.length;)i[e++]=n[t++]},"writeBytesBuffer_copy")},m.prototype.bytes=o(function(n){h.isString(n)&&(n=h._Buffer_from(n,"base64"));var i=n.length>>>0;return this.uint32(i),i&&this._push(m.writeBytesBuffer,i,n),this},"write_bytes_buffer");function f(a,n,i){a.length<40?h.utf8.write(a,n,i):n.utf8Write?n.utf8Write(a,i):n.write(a,i)}o(f,"writeStringBuffer"),m.prototype.string=o(function(n){var i=h.Buffer.byteLength(n);return this.uint32(i),i&&this._push(f,i,n),this},"write_string_buffer"),m._configure()},Q2ix:function(N,c,d){"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.SessionStateControllerTransitionResult=void 0;var S;(function(h){h[h.Transitioned=0]="Transitioned",h[h.NoTransitionAvailable=1]="NoTransitionAvailable",h[h.DeferredTransition=2]="DeferredTransition",h[h.TransitionFailed=3]="TransitionFailed"})(S=c.SessionStateControllerTransitionResult||(c.SessionStateControllerTransitionResult={})),c.default=S},"Q8+J":function(N,c,d){"use strict";(function(S){Object.defineProperty(c,"__esModule",{value:!0});let h=o(class gs{static register(){!("document"in S)||!document.addEventListener||gs.shouldRegisterCSPMonitor&&(gs.added||(document.addEventListener("securitypolicyviolation",gs.listener),gs.added=!0))}static unregister(){!("document"in S)||!document.removeEventListener||(document.removeEventListener("securitypolicyviolation",gs.listener),gs.loggers=new Set,gs.added=!1)}static disable(){gs.shouldRegisterCSPMonitor=!1,gs.unregister()}static addLogger(f){f&&gs.loggers.add(f)}static removeLogger(f){f&&gs.loggers.delete(f)}},"CSPMonitor");c.default=h,h.loggers=new Set,h.shouldRegisterCSPMonitor=!0,h.added=!1,h.listener=m=>{const f=`Security Policy Violation
Blocked URI: ${m.blockedURI}
Violated Directive: ${m.violatedDirective}
Original Policy: ${m.originalPolicy}
Document URI: ${m.documentURI}
Source File: ${m.sourceFile}
Line No.: ${m.lineNumber}
`;for(const a of h.loggers)a.error(f);h.loggers.size===0&&console.error(f)}}).call(this,d("yLpj"))},QPT4:function(N,c,d){"use strict";Object.defineProperty(c,"__esModule",{value:!0});var S;(function(h){h.PRONUNCIATION="pronunciation",h.PUNCTUATION="punctuation"})(S||(S={})),c.default=S},QRdY:function(N,c,d){d("xfML"),N.exports=d("VSTI").Object.setPrototypeOf},QUzi:function(N,c,d){"use strict";Object.defineProperty(c,"__esModule",{value:!0});const S=d("KJDN");let h=o(class extends S.default{constructor(f){super(f),this.name="NotFoundError"}},"NotFoundError");c.default=h},QbLZ:function(N,c,d){"use strict";c.__esModule=!0;var S=d("P2sY"),h=m(S);function m(f){return f&&f.__esModule?f:{default:f}}o(m,"_interopRequireDefault"),c.default=h.default||function(f){for(var a=1;a<arguments.length;a++){var n=arguments[a];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(f[i]=n[i])}return f}},QhKv:function(N,c,d){"use strict";N.exports=m;var S=d("LDIi");(m.prototype=Object.create(S.prototype)).constructor=m;var h=d("j4TH");function m(f){S.call(this,f)}o(m,"BufferReader"),m._configure=function(){h.Buffer&&(m.prototype._slice=h.Buffer.prototype.slice)},m.prototype.string=o(function(){var a=this.uint32();return this.buf.utf8Slice?this.buf.utf8Slice(this.pos,this.pos=Math.min(this.pos+a,this.len)):this.buf.toString("utf-8",this.pos,this.pos=Math.min(this.pos+a,this.len))},"read_string_buffer"),m._configure()},QzVx:function(N,c,d){"use strict";Object.defineProperty(c,"__esModule",{value:!0});let S=o(class{devicePixelRatio(){return typeof window>"u"||!window||!window.devicePixelRatio?1:window.devicePixelRatio}},"DevicePixelRatioWindowSource");c.default=S},"R+jL":function(N,c,d){"use strict";Object.defineProperty(c,"__esModule",{value:!0});let S=o(class{devicePixelRatio(){return typeof window>"u"||!window||!window.devicePixelRatio?1:window.devicePixelRatio}},"DevicePixelRatioWindowSource");c.default=S},R4Nl:function(N,c,d){"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.getFormattedOffset=c.getDefaultAssetSpec=c.toLowerCasePropertyNames=c.isIFramed=c.wait=void 0;const S=d("59sL");function h(i){return new Promise(e=>setTimeout(e,i))}o(h,"wait"),c.wait=h;function m(){var i;try{return((i=window.frameElement)===null||i===void 0?void 0:i.nodeName)==="IFRAME"||parent!==top}catch{return!0}}o(m,"isIFramed"),c.isIFramed=m;function f(i){return i===null?null:typeof i!="object"?i:Array.isArray(i)?i.map(f):Object.keys(i).reduce((e,t)=>{const r=i[t],l=typeof r=="object"?f(r):r;return e[t.toLowerCase()]=l,e},{})}o(f,"toLowerCasePropertyNames"),c.toLowerCasePropertyNames=f;function a(){const i=S.default.sdkVersionSemVer;return{assetGroup:`sdk-${i.major}.${i.minor}`}}o(a,"getDefaultAssetSpec"),c.getDefaultAssetSpec=a;function n(i){const e=Math.abs(i),t=i<=0?"+":"-",r=Math.floor(e/60).toString().padStart(2,"0"),l=Math.floor(e%60).toString().padStart(2,"0");return`${t}${r}:${l}`}o(n,"getFormattedOffset"),c.getFormattedOffset=n},R9j3:function(N,c,d){"use strict";var S=this&&this.__awaiter||function(g,u,s,I){function M(R){return R instanceof s?R:new s(function(B){B(R)})}return o(M,"adopt"),new(s||(s=Promise))(function(R,B){function j($){try{D(I.next($))}catch(O){B(O)}}o(j,"fulfilled");function A($){try{D(I.throw($))}catch(O){B(O)}}o(A,"rejected");function D($){$.done?R($.value):M($.value).then(j,A)}o(D,"step"),D((I=I.apply(g,u||[])).next())})};Object.defineProperty(c,"__esModule",{value:!0});const h=d("uCvS"),m=d("LmyK"),f=d("mpmV"),a=d("NE7a"),n=d("tcc5"),i=d("dPBs"),e=d("8wPz"),t=d("f2XL"),r=d("KyYT"),l=d("J+fJ"),p=d("DG83");let v=o(class _d{toAttribute(u){return this.toSuffix(u).substring(1)}toSuffix(u){return u.toLowerCase()===u?`_${u}`:u.toUpperCase()===u?`_${u.toLowerCase()}`:u.replace(/([A-Z][a-z]+)/g,function(s){return`_${s}`}).replace(/([A-Z][A-Z]+)/g,function(s){return`_${s}`}).toLowerCase()}logLatency(u,s,I){const M=this.toSuffix(u);this.logEventTime("meeting"+M,s,I)}logStateTimeout(u,s){const I=this.toSuffix(u);this.logEvent("meeting_session_state_timeout",Object.assign(Object.assign({},s),{state:`state${I}`}))}logAudioEvent(u,s){const I="audio"+this.toSuffix(l.default[u]);this.logEvent(I,s)}logVideoEvent(u,s){const I="video"+this.toSuffix(p.default[u]);this.logEvent(I,s)}logEventTime(u,s){let I=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const M=Object.assign(Object.assign({},I),{call_id:this.audioVideoController.configuration.meetingId,client_type:_d.CLIENT_TYPE,metric_type:"latency"});this.logger.debug(()=>`[StatsCollector] ${u}: ${JSON.stringify(M)}`),this.metricsAddTime(u,s,M)}logMeetingSessionStatus(u){const s=`${u.statusCode()}`;this.logEvent(s);const I={status:s,status_code:`${u.statusCode()}`};this.logEvent("meeting_session_status",I),u.isTerminal()&&this.logEvent("meeting_session_stopped",I),u.isAudioConnectionFailure()&&this.logEvent("meeting_session_audio_failed",I),u.isFailure()&&this.logEvent("meeting_session_failed",I)}logLifecycleEvent(u,s){const I={lifecycle_event:`lifecycle${this.toSuffix(n.default[u])}`,lifecycle_event_code:`${u}`,lifecycle_event_condition:`condition${this.toSuffix(i.default[s])}`,lifecycle_event_condition_code:`${s}`};this.logEvent("meeting_session_lifecycle",I)}logEvent(u){let s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const I=Object.assign(Object.assign({},s),{call_id:this.audioVideoController.configuration.meetingId,client_type:_d.CLIENT_TYPE});this.logger.debug(()=>`[StatsCollector] ${u}: ${JSON.stringify(I)}`),this.metricsLogEvent(u,I)}start(u,s){return this.intervalScheduler?!1:(this.logger.info("Starting StatsCollector"),this.signalingClient=u,this.videoStreamIndex=s,this.clientMetricReport=new h.default(this.logger,this.videoStreamIndex,this.audioVideoController.configuration.credentials.attendeeId),this.intervalScheduler=new e.default(this.interval),this.intervalScheduler.start(()=>S(this,void 0,void 0,function*(){yield this.getStatsWrapper()})),!0)}stop(){this.logger.info("Stopping StatsCollector"),this.intervalScheduler&&this.intervalScheduler.stop(),this.intervalScheduler=null}updateMetricValues(u,s){const I=s?this.clientMetricReport.streamMetricReports[Number(u.ssrc)]:this.clientMetricReport.globalMetricReport;let M;s?M=this.clientMetricReport.getMetricMap(I.mediaType,I.direction):M=this.clientMetricReport.getMetricMap();for(const R in u)R in M&&(typeof u[R]=="number"?(I.previousMetrics[R]=I.currentMetrics[R],I.currentMetrics[R]=u[R]):typeof u[R]=="string"?I.currentStringMetrics[R]=u[R]:this.logger.error(`Unknown metric value type ${typeof u[R]} for metric ${R}`))}processRawMetricReports(u){this.clientMetricReport.currentSsrcs={};const s=Date.now();for(const I of u){const M=this.isStreamRawMetricReport(I.type);if(M){const R=this.clientMetricReport.streamMetricReports[Number(I.ssrc)];if(R)R.streamId=this.videoStreamIndex.streamIdForSSRC(Number(I.ssrc));else{const B=new a.default;B.mediaType=this.getMediaType(I),B.direction=this.getDirectionType(I),this.videoStreamIndex.allStreams().empty()||(B.streamId=this.videoStreamIndex.streamIdForSSRC(Number(I.ssrc))),this.clientMetricReport.streamMetricReports[Number(I.ssrc)]=B}this.clientMetricReport.currentSsrcs[Number(I.ssrc)]=1}this.updateMetricValues(I,M)}this.clientMetricReport.removeDestroyedSsrcs(),this.clientMetricReport.previousTimestampMs=this.clientMetricReport.currentTimestampMs,this.clientMetricReport.currentTimestampMs=s,this.clientMetricReport.print()}addStreamMetricDimensionFrames(u,s){const I=this.clientMetricReport.getStreamDimensionMap();for(const M in s.currentStringMetrics)if(M in I){const R=t.SdkStreamDimension.create();R.type=I[M];const B=t.SdkDimensionValue.create();B.stringValue=s.currentStringMetrics[M],R.value=B,u.dimensions.push(R)}}addMetricFrame(u,s,I,M){const R=I.type,B=I.transform,j=I.source,A=s.streamMetricFrames.length,D=s.streamMetricFrames[A-1];if(R){const $=t.SdkMetric.create();$.type=R,$.value=B(j||u,M),M?D.metrics.push($):s.globalMetrics.push($)}}addGlobalMetricsToProtobuf(u){const s=this.clientMetricReport.getMetricMap();for(const I in this.clientMetricReport.globalMetricReport.currentMetrics)this.addMetricFrame(I,u,s[I])}addStreamMetricsToProtobuf(u){for(const s in this.clientMetricReport.streamMetricReports){const I=this.clientMetricReport.streamMetricReports[s],M=t.SdkStreamMetricFrame.create();M.streamId=I.streamId,M.metrics=[],this.addStreamMetricDimensionFrames(M,I),u.streamMetricFrames.push(M);const R=this.clientMetricReport.getMetricMap(I.mediaType,I.direction);for(const B in I.currentMetrics)this.addMetricFrame(B,u,R[B],Number(s));for(const B in I.currentStringMetrics)this.addMetricFrame(B,u,R[B],Number(s))}}makeClientMetricProtobuf(){const u=t.SdkClientMetricFrame.create();return u.globalMetrics=[],u.streamMetricFrames=[],this.addGlobalMetricsToProtobuf(u),this.addStreamMetricsToProtobuf(u),u}sendClientMetricProtobuf(u){this.signalingClient.sendClientMetrics(u)}isStreamRawMetricReport(u){return["inbound-rtp","outbound-rtp","remote-inbound-rtp","remote-outbound-rtp"].includes(u)}getMediaType(u){return u.kind==="audio"?f.default.AUDIO:f.default.VIDEO}getDirectionType(u){const{type:s}=u;return s==="inbound-rtp"||s==="remote-outbound-rtp"?m.default.DOWNSTREAM:m.default.UPSTREAM}isValidStandardRawMetric(u){return u.type==="inbound-rtp"||u.type==="outbound-rtp"||u.type==="remote-inbound-rtp"||u.type==="remote-outbound-rtp"||u.type==="candidate-pair"&&u.state==="succeeded"}isValidSsrc(u){let s=!0;return this.isStreamRawMetricReport(u.type)&&this.getDirectionType(u)===m.default.DOWNSTREAM&&this.getMediaType(u)===f.default.VIDEO&&(s=this.videoStreamIndex.streamIdForSSRC(Number(u.ssrc))>0),s}isValidRawMetricReport(u){return this.isValidStandardRawMetric(u)&&this.isValidSsrc(u)}filterRawMetricReports(u){const s=[];for(const I of u)this.isValidRawMetricReport(I)&&s.push(I);return s}handleRawMetricReports(u){const s=this.filterRawMetricReports(u);this.logger.debug(()=>`Filtered raw metrics : ${JSON.stringify(s)}`),this.processRawMetricReports(s);const I=this.makeClientMetricProtobuf();this.sendClientMetricProtobuf(I),this.audioVideoController.forEachObserver(M=>{r.Maybe.of(M.metricsDidReceive).map(R=>R.bind(M)(this.clientMetricReport.clone()))})}getStatsWrapper(){return S(this,void 0,void 0,function*(){if(!this.audioVideoController.rtcPeerConnection)return;const u=[];try{const s=yield this.audioVideoController.rtcPeerConnection.getStats();this.clientMetricReport.rtcStatsReport=s,s.forEach(I=>{u.push(I)}),this.handleRawMetricReports(u)}catch(s){this.logger.error(s.message)}})}constructor(u,s,I=_d.INTERVAL_MS){this.audioVideoController=u,this.logger=s,this.interval=I,this.intervalScheduler=null,this.metricsAddTime=(M,R,B)=>{},this.metricsLogEvent=(M,R)=>{}}},"StatsCollector");c.default=v,v.INTERVAL_MS=1e3,v.CLIENT_TYPE="amazon-chime-sdk-js"},RGQ0:function(N,c,d){"use strict";c.__esModule=!0,c.default=S;function S(h,m){return h.classList?!!m&&h.classList.contains(m):(" "+(h.className.baseVal||h.className)+" ").indexOf(" "+m+" ")!==-1}o(S,"hasClass"),N.exports=c.default},RPF1:function(N,c,d){"use strict";d.d(c,"a",function(){return h});function S(m,f){return S=Object.setPrototypeOf?Object.setPrototypeOf.bind():o(function(n,i){return n.__proto__=i,n},"_setPrototypeOf"),S(m,f)}o(S,"_setPrototypeOf");function h(m,f){m.prototype=Object.create(f.prototype),m.prototype.constructor=m,S(m,f)}o(h,"_inheritsLoose")},RUbL:function(N,c,d){"use strict";var S=this&&this.__awaiter||function(j,A,D,$){function O(P){return P instanceof D?P:new D(function(k){k(P)})}return o(O,"adopt"),new(D||(D=Promise))(function(P,k){function K(ie){try{Y($.next(ie))}catch(ge){k(ge)}}o(K,"fulfilled");function Z(ie){try{Y($.throw(ie))}catch(ge){k(ge)}}o(Z,"rejected");function Y(ie){ie.done?P(ie.value):O(ie.value).then(K,Z)}o(Y,"step"),Y(($=$.apply(j,A||[])).next())})};Object.defineProperty(c,"__esModule",{value:!0});const h=d("Sa54"),m=d("Y8b2"),f=d("6/h7"),a=d("o13v"),n=d("KyYT"),i=d("FxSh"),e=d("JTre"),t=d("NDMw"),r=d("DbLV"),l=d("xzjI"),p=d("B7cK"),v=d("UW8m"),g=d("XhYu"),u=d("V4cD"),s=d("SgmS"),I=d("dWQL"),M=d("dWP+");let R=o(class _i{isWatchingForDeviceChanges(){return!!this.onDeviceChangeCallback}ensureWatchingDeviceChanges(){var A;this.isWatchingForDeviceChanges()||(this.logger.info("Starting devicechange listener."),this.onDeviceChangeCallback=()=>{this.logger.info("Device change event callback is triggered"),this.handleDeviceChange()},(A=this.mediaDeviceWrapper)===null||A===void 0||A.addEventListener("devicechange",this.onDeviceChangeCallback))}stopWatchingDeviceChanges(){var A;this.isWatchingForDeviceChanges()&&(this.logger.info("Stopping devicechange listener."),(A=this.mediaDeviceWrapper)===null||A===void 0||A.removeEventListener("devicechange",this.onDeviceChangeCallback),this.onDeviceChangeCallback=void 0)}shouldObserveDeviceChanges(){return this.deviceChangeObservers.size?!0:this.activeDevices.audio&&this.activeDevices.audio.constraints!==null||this.activeDevices.video&&this.activeDevices.video.constraints!==null||!!this.audioOutputDeviceId}watchForDeviceChangesIfNecessary(){this.shouldObserveDeviceChanges()?this.ensureWatchingDeviceChanges():this.stopWatchingDeviceChanges()}destroy(){return S(this,void 0,void 0,function*(){this.stopWatchingDeviceChanges(),yield this.stopAudioInput(),yield this.stopVideoInput()})}listAudioInputDevices(){let A=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;return S(this,void 0,void 0,function*(){const D=yield this.listDevicesOfKind("audioinput",A);return this.trace("listAudioInputDevices",A,D),D})}listVideoInputDevices(){let A=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;return S(this,void 0,void 0,function*(){const D=yield this.listDevicesOfKind("videoinput",A);return this.trace("listVideoInputDevices",A,D),D})}listAudioOutputDevices(){let A=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;return S(this,void 0,void 0,function*(){const D=yield this.listDevicesOfKind("audiooutput",A);return this.trace("listAudioOutputDevices",A,D),D})}pushAudioMeetingStateForPermissions(A){var D;(D=this.eventController)===null||D===void 0||D.publishEvent(A===void 0?"audioInputUnselected":"audioInputSelected")}pushVideoMeetingStateForPermissions(A){var D;(D=this.eventController)===null||D===void 0||D.publishEvent(A===void 0?"videoInputUnselected":"videoInputSelected")}startAudioInput(A){return S(this,void 0,void 0,function*(){return yield this.audioInputTaskQueue.add(()=>this.startAudioInputTask(A))})}startAudioInputTask(A){var D;return S(this,void 0,void 0,function*(){if(A===void 0){this.logger.error("Audio input device cannot be undefined");return}try{return t.isAudioTransformDevice(A)?(this.logger.info(`Choosing transform input device ${A}`),yield this.chooseAudioTransformInputDevice(A)):(this.logger.info(`Choosing intrinsic audio input device ${A}`),this.removeTransform(),yield this.chooseInputIntrinsicDevice("audio",A)),this.trace("startAudioInputDevice",A,"success"),this.useWebAudio?(this.attachAudioInputStreamToAudioContext(this.activeDevices.audio.stream),this.pushAudioMeetingStateForPermissions(this.getMediaStreamDestinationNode().stream),yield(D=this.transform)===null||D===void 0?void 0:D.device.mute(this.muted),this.getMediaStreamDestinationNode().stream):(this.publishAudioInputDidChangeEvent(this.activeDevices.audio.stream),this.activeDevices.audio.stream)}catch($){throw $}})}stopAudioInput(){return S(this,void 0,void 0,function*(){return this.audioInputTaskQueue.add(()=>this.stopAudioInputTask())})}stopAudioInputTask(){return S(this,void 0,void 0,function*(){try{if(this.useWebAudio){this.releaseAudioTransformStream();return}this.stopTracksAndRemoveCallbacks("audio")}finally{this.watchForDeviceChangesIfNecessary(),this.publishAudioInputDidChangeEvent(void 0)}})}chooseAudioTransformInputDevice(A){var D;return S(this,void 0,void 0,function*(){if(((D=this.transform)===null||D===void 0?void 0:D.device)===A)return;if(!this.useWebAudio)throw new Error("Cannot apply transform device without enabling Web Audio.");const $=_i.getAudioContext();if(!($ instanceof OfflineAudioContext))switch($.state){case"running":break;case"closed":throw new Error("Cannot choose a transform device with a closed audio context.");case"suspended":yield $.resume()}let O;try{O=yield A.createAudioNode($)}catch(k){throw this.logger.error(`Unable to create transform device node: ${k}.`),k}const P=yield A.intrinsicDevice();yield this.chooseInputIntrinsicDevice("audio",P),this.logger.debug(`Got inner stream: ${P}.`),this.setTransform(A,O)})}chooseVideoTransformInputDevice(A){var D;return S(this,void 0,void 0,function*(){if(this.eventController&&A instanceof i.default&&A.passEventControllerToProcessors(this.eventController),A===this.chosenVideoTransformDevice){this.logger.info("Reselecting same VideoTransformDevice");return}const $=this.chosenVideoTransformDevice;$&&this.logger.info("Switched from previous VideoTransformDevice");const O=!!$,P=yield A.intrinsicDevice();if(!this.isMediaStreamReusableByDeviceId((D=this.activeDevices.video)===null||D===void 0?void 0:D.stream,P)){this.logger.info("video transform device needs new intrinsic device"),O&&$.onOutputStreamDisconnect(),this.chosenVideoTransformDevice=A,this.activeDevices.video=null,yield this.chooseInputIntrinsicDevice("video",P),this.logger.info("apply processors to transform"),yield this.chosenVideoTransformDevice.transformStream(this.activeDevices.video.stream);return}this.chosenVideoTransformDevice=A,this.logger.info("video transform device uses previous stream"),this.logger.info("apply processors to transform"),yield A.transformStream(this.activeDevices.video.stream)})}startVideoInput(A){return S(this,void 0,void 0,function*(){return yield this.videoInputTaskQueue.add(()=>this.startVideoInputTask(A))})}startVideoInputTask(A){return S(this,void 0,void 0,function*(){if(!A){this.logger.error("Invalid video input device");return}try{return M.isVideoTransformDevice(A)?(this.logger.info(`Choosing video transform device ${A}`),yield this.chooseVideoTransformInputDevice(A),this.publishVideoInputDidChangeEvent(this.chosenVideoTransformDevice.outputMediaStream),this.chosenVideoTransformDevice.outputMediaStream):(this.chosenVideoInputIsTransformDevice()&&(this.chosenVideoTransformDevice.onOutputStreamDisconnect(),this.chosenVideoTransformDevice=null),yield this.chooseInputIntrinsicDevice("video",A),this.trace("startVideoInputDevice",A),this.publishVideoInputDidChangeEvent(this.activeDevices.video.stream),this.activeDevices.video.stream)}catch(D){throw D}})}stopVideoInput(){return S(this,void 0,void 0,function*(){return this.videoInputTaskQueue.add(()=>this.stopVideoInputTask())})}stopVideoInputTask(){return S(this,void 0,void 0,function*(){try{if(this.chosenVideoInputIsTransformDevice()){this.releaseVideoTransformStream();return}this.stopTracksAndRemoveCallbacks("video")}finally{this.watchForDeviceChangesIfNecessary(),this.publishVideoInputDidChangeEvent(void 0)}})}chooseAudioOutput(A){return S(this,void 0,void 0,function*(){this.audioOutputDeviceId=A,this.watchForDeviceChangesIfNecessary();const D=this.deviceInfoFromDeviceId("audiooutput",this.audioOutputDeviceId);this.publishAudioOutputDidChangeEvent(D),this.trace("chooseAudioOutput",A,null)})}addDeviceChangeObserver(A){this.logger.info("adding device change observer"),this.deviceChangeObservers.add(A),this.watchForDeviceChangesIfNecessary(),this.trace("addDeviceChangeObserver")}removeDeviceChangeObserver(A){this.logger.info("removing device change observer"),this.deviceChangeObservers.delete(A),this.watchForDeviceChangesIfNecessary(),this.trace("removeDeviceChangeObserver")}createAnalyserNodeForAudioInput(){var A,D;if(!this.activeDevices.audio)return null;const $=(D=(A=this.transform)===null||A===void 0?void 0:A.nodes)===null||D===void 0?void 0:D.end;if($){const O=$.context.createAnalyser();return O.removeOriginalInputs=()=>{try{$.disconnect(O)}catch{}},$.connect(O),O}return this.createAnalyserNodeForRawAudioInput()}createAnalyserNodeForRawAudioInput(){return this.activeDevices.audio?this.createAnalyserNodeForStream(this.activeDevices.audio.stream):null}createAnalyserNodeForStream(A){const D=_i.getAudioContext(),$=D.createAnalyser(),O=D.createMediaStreamSource(A);return O.connect($),this.trace("createAnalyserNodeForAudioInput"),$.removeOriginalInputs=()=>{try{O.disconnect($)}catch{}},$}startVideoPreviewForVideoInput(A){if(!this.activeDevices.video){this.logger.warn("cannot bind video preview since video input device has not been chosen"),this.trace("startVideoPreviewForVideoInput",A.id);return}e.default.connectVideoStreamToVideoElement(this.chosenVideoTransformDevice?this.chosenVideoTransformDevice.outputMediaStream:this.activeDevices.video.stream,A,!0),this.trace("startVideoPreviewForVideoInput",A.id)}stopVideoPreviewForVideoInput(A){e.default.disconnectVideoStreamFromVideoElement(A,!1),this.trace("stopVideoPreviewForVideoInput",A.id)}setDeviceLabelTrigger(A){if(this.deviceInfoCache){for(const D of this.deviceInfoCache)if(!D.label){this.deviceInfoCache=null;break}}this.deviceLabelTrigger=A,this.trace("setDeviceLabelTrigger")}mixIntoAudioInput(A){let D=null;return this.useWebAudio?(D=_i.getAudioContext().createMediaStreamSource(A),D.connect(this.getMediaStreamOutputNode())):this.logger.warn("WebAudio is not enabled, mixIntoAudioInput will not work"),this.trace("mixIntoAudioInput",A.id),D}chooseVideoInputQuality(A,D,$){const O=this.browserBehavior.requiresResolutionAlignment(A,D);this.videoInputQualitySettings=new I.default(O[0],O[1],$)}getVideoInputQualitySettings(){return this.videoInputQualitySettings}acquireAudioInputStream(){return S(this,void 0,void 0,function*(){return this.activeDevices.audio||(this.logger.info("No audio device chosen, creating empty audio device"),yield this.startAudioInput(null)),this.useWebAudio?this.getMediaStreamDestinationNode().stream:this.activeDevices.audio.stream})}acquireVideoInputStream(){return S(this,void 0,void 0,function*(){if(!this.activeDevices.video)throw new Error("No video device chosen");return this.chosenVideoInputIsTransformDevice()?this.chosenVideoTransformDevice.outputMediaStream:this.activeDevices.video.stream})}acquireDisplayInputStream(A){return S(this,void 0,void 0,function*(){throw new Error("unsupported")})}releaseAudioTransformStream(){this.logger.info("Stopping audio track for Web Audio graph"),this.stopTracksAndRemoveCallbacks("audio"),this.logger.info("Removing audio transform, if there is one."),this.removeTransform(),this.audioInputSourceNode&&(this.audioInputSourceNode.disconnect(),this.audioInputSourceNode=void 0),this.audioInputDestinationNode&&(this.audioInputDestinationNode.disconnect(),this.audioInputDestinationNode=void 0)}releaseVideoTransformStream(){this.logger.info("Stopping video track for transform"),this.stopTracksAndRemoveCallbacks("video"),this.logger.info("Disconnecting video transform"),this.chosenVideoTransformDevice.onOutputStreamDisconnect(),this.chosenVideoTransformDevice=null}stopTracksAndRemoveCallbacks(A){const D=this.activeDevices[A];if(!D)return;const $=D.endedCallback,O=D.trackMuteCallback,P=D.trackUnmuteCallback;for(const k of D.stream.getTracks())k.stop(),$&&k.removeEventListener("ended",$),O&&k.removeEventListener("mute",O),P&&k.removeEventListener("unmute",P),delete D.endedCallback,delete D.trackMuteCallback,delete D.trackUnmuteCallback,delete this.activeDevices[A]}chosenVideoInputIsTransformDevice(){return!!this.chosenVideoTransformDevice}muteLocalAudioInputStream(){this.toggleLocalAudioInputStream(!1)}unmuteLocalAudioInputStream(){this.toggleLocalAudioInputStream(!0)}toggleLocalAudioInputStream(A){var D;let $=this.activeDevices.audio;if(this.useWebAudio&&($=this.getMediaStreamDestinationNode()),!!$){for(const O of $.stream.getTracks())O.enabled!==A&&(O.enabled=A);this.muted!==!A&&(this.muted=!A,(D=this.transform)===null||D===void 0||D.device.mute(this.muted))}}static getIntrinsicDeviceId(A){if(!A)return;if(typeof A=="string")return A;if(A.id)return A.id;const $=A.deviceId;if(!$)return;if(typeof $=="string"||Array.isArray($))return $;const O=$;if(typeof O.exact=="string"||Array.isArray(O.exact))return O.exact}static createEmptyAudioDevice(){return _i.synthesizeAudioDevice(0)}static synthesizeAudioDevice(A){const D=_i.getAudioContext(),$=D.createMediaStreamDestination();if(A){const O=D.createGain();O.gain.value=.1,O.connect($);const P=D.createOscillator();P.frequency.value=A,P.connect(O),P.start()}else{const O=D.createBufferSource();try{O.buffer=D.createBuffer(1,D.sampleRate*5,D.sampleRate)}catch(P){if(P&&P.name==="NotSupportedError")O.buffer=D.createBuffer(1,_i.defaultSampleRate*5,_i.defaultSampleRate);else throw P}O.buffer.getChannelData(0)[0]=3e-4,O.loop=!0,O.connect($),O.start()}return $.stream}listDevicesOfKind(A,D){return S(this,void 0,void 0,function*(){return(D||this.deviceInfoCache===null||!this.isWatchingForDeviceChanges())&&(yield this.updateDeviceInfoCacheFromBrowser()),this.listCachedDevicesOfKind(A)})}updateDeviceInfoCacheFromBrowser(){var A,D;return S(this,void 0,void 0,function*(){if(typeof MediaDeviceInfo>"u"){this.deviceInfoCache=[];return}let O=yield navigator.mediaDevices.enumerateDevices(),P=!0;for(const k of O)if(!k.label){P=!1;break}if(!P)try{this.logger.info("attempting to trigger media device labels since they are hidden");const k=yield this.deviceLabelTrigger();O=yield navigator.mediaDevices.enumerateDevices();for(const K of k.getTracks())K.stop()}catch(k){this.logger.info("unable to get media device labels"),(A=this.eventController)===null||A===void 0||A.publishEvent("audioInputFailed",{audioInputErrorMessage:this.getErrorMessage(k)}),(D=this.eventController)===null||D===void 0||D.publishEvent("videoInputFailed",{videoInputErrorMessage:this.getErrorMessage(k)})}this.logger.debug(`Update device info cache with devices: ${JSON.stringify(O)}`),this.deviceInfoCache=O})}listCachedDevicesOfKind(A){const D=[];if(this.deviceInfoCache)for(const $ of this.deviceInfoCache)$.kind===A&&D.push($);return D}handleDeviceChange(){return S(this,void 0,void 0,function*(){if(this.deviceInfoCache===null)return;if(this.alreadyHandlingDeviceChange){f.default.nextTick(()=>{this.handleDeviceChange()});return}this.alreadyHandlingDeviceChange=!0;const A=this.listCachedDevicesOfKind("audioinput"),D=this.listCachedDevicesOfKind("videoinput"),$=this.listCachedDevicesOfKind("audiooutput");yield this.updateDeviceInfoCacheFromBrowser();const O=this.listCachedDevicesOfKind("audioinput"),P=this.listCachedDevicesOfKind("videoinput"),k=this.listCachedDevicesOfKind("audiooutput");this.forEachObserver(K=>{this.areDeviceListsEqual(A,O)||n.Maybe.of(K.audioInputsChanged).map(Z=>Z.bind(K)(O)),this.areDeviceListsEqual(D,P)||n.Maybe.of(K.videoInputsChanged).map(Z=>Z.bind(K)(P)),this.areDeviceListsEqual($,k)||n.Maybe.of(K.audioOutputsChanged).map(Z=>Z.bind(K)(k))}),this.alreadyHandlingDeviceChange=!1})}handleDeviceStreamEnded(A,D){return S(this,void 0,void 0,function*(){try{A==="audio"?(this.logger.warn("Audio input device which was active is no longer available, resetting to null device"),yield this.startAudioInput(null)):(this.logger.warn("Video input device which was active is no longer available, stopping video"),yield this.stopVideoInput())}catch{this.logger.error("Failed to choose null device after stream ended.")}A==="audio"?this.forEachObserver($=>{n.Maybe.of($.audioInputStreamEnded).map(O=>O.bind($)(D))}):this.forEachObserver($=>{n.Maybe.of($.videoInputStreamEnded).map(O=>O.bind($)(D))})})}forEachObserver(A){for(const D of this.deviceChangeObservers)f.default.nextTick(()=>{this.deviceChangeObservers.has(D)&&A(D)})}forEachMediaStreamBrokerObserver(A){for(const D of this.mediaStreamBrokerObservers)A(D)}areDeviceListsEqual(A,D){return JSON.stringify(A.map($=>JSON.stringify($)).sort())===JSON.stringify(D.map($=>JSON.stringify($)).sort())}intrinsicDeviceAsMediaStream(A){return A&&A.id?A:null}hasSameMediaStreamId(A,D,$){var O,P,k,K;let Z;return A==="audio"?(Z=$==null?void 0:$.audio.streamId,!!Z&&Z===((P=(O=D.constraints)===null||O===void 0?void 0:O.audio)===null||P===void 0?void 0:P.streamId)):(Z=$==null?void 0:$.video.streamId,!!Z&&Z===((K=(k=D==null?void 0:D.constraints)===null||k===void 0?void 0:k.video)===null||K===void 0?void 0:K.streamId))}hasSameGroupId(A,D,$){if(A==="")return!0;const O=_i.getIntrinsicDeviceId($);return this.logger.debug(`Checking deviceIds ${O} of type ${typeof O} with groupId ${A}`),typeof O=="string"&&A===this.getGroupIdFromDeviceId(D,O)}getGroupIdFromDeviceId(A,D){if(this.deviceInfoCache!==null){const $=this.listCachedDevicesOfKind(`${A}input`).find(O=>O.deviceId===D);if($&&$.groupId)return this.logger.debug(`GroupId of deviceId ${D} found in cache is ${$.groupId}`),$.groupId}return this.logger.debug(`GroupId of deviceId ${D} found in cache is empty`),""}handleGetUserMediaError(A,D){if(!A)throw new l.default(A);switch(A.name){case"NotReadableError":case"TrackStartError":throw new v.default(A);case"NotFoundError":case"DevicesNotFoundError":throw new p.default(A);case"NotAllowedError":case"PermissionDeniedError":case"SecurityError":throw D&&D<_i.permissionDeniedOriginDetectionThresholdMs?new u.default(A,"Permission denied by browser"):new u.default(A,"Permission denied by user");case"OverconstrainedError":case"ConstraintNotSatisfiedError":throw new g.default(A);case"TypeError":throw new s.default(A);case"AbortError":default:throw new l.default(A)}}matchesDeviceSelection(A,D,$,O){return $&&$.stream.active&&(this.hasSameMediaStreamId(A,$,O)||$.groupId!==null&&this.hasSameGroupId($.groupId,A,D))?(this.logger.debug(`Compare current device constraint ${JSON.stringify($.constraints)} to proposed constraints ${JSON.stringify(O)}`),$.matchesConstraints(O)):!1}chooseInputIntrinsicDevice(A,D){var $,O;return S(this,void 0,void 0,function*(){const P=this.getMediaStreamConstraints(A,D);if(this.matchesDeviceSelection(A,D,this.activeDevices[A],P)){this.logger.info(`reusing existing ${A} input device`);return}this.activeDevices[A]&&this.activeDevices[A].stream&&this.stopTracksAndRemoveCallbacks(A);const k=Date.now(),K=new r.default;try{this.logger.info(`requesting new ${A} device with constraint ${JSON.stringify(P)}`);const Z=this.intrinsicDeviceAsMediaStream(D);A==="audio"&&D===null?(K.stream=_i.createEmptyAudioDevice(),K.constraints=null):Z?(this.logger.info(`using media stream ${Z.id} for ${A} device`),K.stream=Z,K.constraints=P):(K.stream=yield navigator.mediaDevices.getUserMedia(P),K.constraints=P),yield this.handleNewInputDevice(A,K)}catch(Z){const Y=this.getErrorMessage(Z);A==="audio"?($=this.eventController)===null||$===void 0||$.publishEvent("audioInputFailed",{audioInputErrorMessage:Y}):(O=this.eventController)===null||O===void 0||O.publishEvent("videoInputFailed",{videoInputErrorMessage:Y}),this.logger.error(`failed to get ${A} device for constraints ${JSON.stringify(P)}: ${Y}`);let ie=!0;if(Z&&"constraint"in Z&&(this.logger.error(`Over-constrained by constraint: ${Z.constraint}`),this.useMediaConstraintsFallback)){const ge=this.getMediaStreamConstraints(A,D,!0),Ie=JSON.stringify(ge);if(Ie!==JSON.stringify(P)){this.logger.info(`retry requesting new ${A} device with minimal constraint ${Ie}`);try{K.stream=yield navigator.mediaDevices.getUserMedia(ge),K.constraints=ge,yield this.handleNewInputDevice(A,K),ie=!1}catch(le){this.logger.error(`failed to get ${A} device for constraints ${Ie}: ${this.getErrorMessage(le)}`)}}}if(ie){if(A==="audio"){this.logger.info(`choosing null ${A} device instead`);try{K.stream=_i.createEmptyAudioDevice(),K.constraints=null,yield this.handleNewInputDevice(A,K)}catch(ge){this.logger.error(`failed to choose null ${A} device. ${ge.name}: ${ge.message}`)}}this.handleGetUserMediaError(Z,Date.now()-k)}}finally{this.watchForDeviceChangesIfNecessary()}})}getErrorMessage(A){return A?A.name&&A.message?`${A.name}: ${A.message}`:A.name?A.name:A.message?A.message:"UnknownError":"UnknownError"}handleNewInputDevice(A,D){var $;return S(this,void 0,void 0,function*(){this.logger.info(`got ${A} device for constraints ${JSON.stringify(D.constraints)}`);const O=($=this.getMediaTrackSettings(D.stream))===null||$===void 0?void 0:$.deviceId;D.groupId=O?this.getGroupIdFromDeviceId(A,O):"",this.activeDevices[A]=D,this.logger.debug(`Set activeDevice to ${JSON.stringify(D)}`),this.watchForDeviceChangesIfNecessary();const P=D.stream.getTracks()[0];if(P&&(D.endedCallback=()=>{this.activeDevices[A]&&this.activeDevices[A].stream===D.stream&&(this.handleDeviceStreamEnded(A,O),delete D.endedCallback)},P.addEventListener("ended",D.endedCallback,{once:!0})),A==="audio"){const k=D.stream.getAudioTracks()[0];if(k){const K=k.getSettings().deviceId||D.stream;D.trackMuteCallback=()=>{this.mediaStreamMuteObserver(K,!0)},D.trackUnmuteCallback=()=>{this.mediaStreamMuteObserver(K,!1)},k.addEventListener("mute",D.trackMuteCallback,{once:!1}),k.addEventListener("unmute",D.trackUnmuteCallback,{once:!1}),this.logger.debug("Notifying mute state after selection"),k.muted?D.trackMuteCallback():D.trackUnmuteCallback()}}})}calculateMediaStreamConstraints(A,D,$,O){if(O&&this.listCachedDevicesOfKind(`${A}input`).length===1)return!0;const P={};return this.browserBehavior.requiresNoExactMediaStreamConstraints()?P.deviceId=D:P.deviceId={exact:D},$&&(P.groupId=$),O?P:A==="video"?(P.width={ideal:this.videoInputQualitySettings.videoWidth},P.height={ideal:this.videoInputQualitySettings.videoHeight},P.frameRate={ideal:this.videoInputQualitySettings.videoFrameRate},P):(this.supportSampleRateConstraint()&&(P.sampleRate={ideal:_i.defaultSampleRate}),this.supportSampleSizeConstraint()&&(P.sampleSize={ideal:_i.defaultSampleSize}),this.supportChannelCountConstraint()&&(P.channelCount={ideal:_i.defaultChannelCount}),Object.assign({echoCancellation:!0,googEchoCancellation:!0,googEchoCancellation2:!0,googAutoGainControl:!0,googAutoGainControl2:!0,googNoiseSuppression:!0,googNoiseSuppression2:!0,googHighpassFilter:!0},P))}getMediaStreamConstraintsFromTrackConstraints(A,D){return A==="audio"?{audio:D}:{video:D}}getMediaStreamConstraints(A,D){let $=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,O={};if(!D)return null;const P=this.intrinsicDeviceAsMediaStream(D);if(P)return O.streamId=P.id,this.getMediaStreamConstraintsFromTrackConstraints(A,O);if(typeof D=="string"){let k="";return this.browserBehavior.requiresGroupIdMediaStreamConstraints()&&(this.deviceInfoCache!==null?k=this.getGroupIdFromDeviceId(A,D):this.logger.error("Device cache is not populated. Please make sure to call list devices first")),O=this.calculateMediaStreamConstraints(A,D,k,$),this.getMediaStreamConstraintsFromTrackConstraints(A,O)}return B(D)?(O=this.calculateMediaStreamConstraints(A,D.deviceId,D.groupId,$),this.getMediaStreamConstraintsFromTrackConstraints(A,O)):(O=D,this.getMediaStreamConstraintsFromTrackConstraints(A,O))}deviceInfoFromDeviceId(A,D){if(this.deviceInfoCache===null)return null;for(const $ of this.deviceInfoCache)if($.kind===A&&$.deviceId===D)return $;return null}hasAppliedTransform(){return!!this.transform}isMediaStreamReusableByDeviceId(A,D){if(!A||!A.active||!D)return!1;if(D.id)return A.id===D.id;const $=this.getMediaTrackSettings(A);if(!$.deviceId)return!1;const O=_i.getIntrinsicDeviceId(D);return typeof O=="string"?$.deviceId===O:!1}getMediaTrackSettings(A){var D;return(D=A.getTracks()[0])===null||D===void 0?void 0:D.getSettings()}reconnectAudioInputs(){if(!this.audioInputSourceNode)return;this.audioInputSourceNode.disconnect();const A=this.getMediaStreamOutputNode();this.audioInputSourceNode.connect(A)}setTransform(A,D){var $,O;(O=($=this.transform)===null||$===void 0?void 0:$.nodes)===null||O===void 0||O.end.disconnect(),this.transform={nodes:D,device:A};const P=D==null?void 0:D.end,k=this.getMediaStreamDestinationNode();this.logger.debug(`Connecting transform node ${P} to destination ${k}.`),P==null||P.connect(k),this.reconnectAudioInputs()}removeTransform(){var A;const D=this.transform;if(D)return(A=this.transform.nodes)===null||A===void 0||A.end.disconnect(),this.transform=void 0,this.reconnectAudioInputs(),D}attachAudioInputStreamToAudioContext(A){var D;(D=this.audioInputSourceNode)===null||D===void 0||D.disconnect(),this.audioInputSourceNode=_i.getAudioContext().createMediaStreamSource(A);const $=this.getMediaStreamOutputNode();this.audioInputSourceNode.connect($)}getMediaStreamDestinationNode(){return this.audioInputDestinationNode||(this.audioInputDestinationNode=_i.getAudioContext().createMediaStreamDestination()),this.audioInputDestinationNode}getMediaStreamOutputNode(){var A,D;return((D=(A=this.transform)===null||A===void 0?void 0:A.nodes)===null||D===void 0?void 0:D.start)||this.getMediaStreamDestinationNode()}static setDefaultLatencyHint(A){_i.defaultLatencyHint=A}static getAudioContext(){if(!_i.audioContext){const A={};navigator.mediaDevices.getSupportedConstraints().sampleRate&&(A.sampleRate=_i.defaultSampleRate),new h.default().requiresPlaybackLatencyHintForAudioContext()&&(A.latencyHint="playback"),_i.defaultLatencyHint&&(A.latencyHint=_i.defaultLatencyHint),_i.audioContext=new(window.AudioContext||window.webkitAudioContext)(A)}return _i.audioContext}static closeAudioContext(){if(_i.audioContext)try{_i.audioContext.close()}catch{}_i.audioContext=null}addMediaStreamBrokerObserver(A){this.mediaStreamBrokerObservers.add(A)}removeMediaStreamBrokerObserver(A){this.mediaStreamBrokerObservers.delete(A)}publishVideoInputDidChangeEvent(A){this.forEachMediaStreamBrokerObserver(D=>{D.videoInputDidChange&&D.videoInputDidChange(A)}),this.pushVideoMeetingStateForPermissions(A)}publishAudioInputDidChangeEvent(A){this.forEachMediaStreamBrokerObserver(D=>{D.audioInputDidChange&&D.audioInputDidChange(A)}),this.pushAudioMeetingStateForPermissions(A)}publishAudioOutputDidChangeEvent(A){this.forEachMediaStreamBrokerObserver(D=>{D.audioOutputDidChange&&D.audioOutputDidChange(A)})}supportSampleRateConstraint(){return this.useWebAudio&&!!navigator.mediaDevices.getSupportedConstraints().sampleRate}supportSampleSizeConstraint(){return this.useWebAudio&&!!navigator.mediaDevices.getSupportedConstraints().sampleSize}supportChannelCountConstraint(){return this.useWebAudio&&!!navigator.mediaDevices.getSupportedConstraints().channelCount}trace(A,D,$){let O=`API/DefaultDeviceController/${A}`;typeof D<"u"&&(O+=` ${JSON.stringify(D)}`),typeof $<"u"&&(O+=` -> ${JSON.stringify($)}`),this.logger.info(O)}constructor(A,D,$=new h.default,O){this.logger=A,this.browserBehavior=$,this.eventController=O,this.deviceInfoCache=null,this.activeDevices={audio:null,video:null},this.chosenVideoTransformDevice=null,this.audioOutputDeviceId=void 0,this.deviceChangeObservers=new Set,this.mediaStreamBrokerObservers=new Set,this.deviceLabelTrigger=()=>navigator.mediaDevices.getUserMedia({audio:!0,video:!0}),this.audioInputDestinationNode=null,this.audioInputSourceNode=null,this.videoInputQualitySettings=null,this.useWebAudio=!1,this.useMediaConstraintsFallback=!0,this.audioInputTaskQueue=new a.default,this.videoInputTaskQueue=new a.default,this.muted=!1,this.mediaStreamMuteObserver=(Z,Y)=>{for(const ie of this.deviceChangeObservers)f.default.nextTick(()=>{this.deviceChangeObservers.has(ie)&&ie.audioInputMuteStateChanged&&ie.audioInputMuteStateChanged(Z,Y)})},this.alreadyHandlingDeviceChange=!1;const{enableWebAudio:P=!1,useMediaConstraintsFallback:k=!0}=D||{};this.useWebAudio=P,this.useMediaConstraintsFallback=k,this.videoInputQualitySettings=new I.default(_i.defaultVideoWidth,_i.defaultVideoHeight,_i.defaultVideoFrameRate);const K=this.browserBehavior.requiresResolutionAlignment(this.videoInputQualitySettings.videoWidth,this.videoInputQualitySettings.videoHeight);this.videoInputQualitySettings.videoWidth=K[0],this.videoInputQualitySettings.videoHeight=K[1],this.logger.info(`DefaultDeviceController video dimension ${this.videoInputQualitySettings.videoWidth} x ${this.videoInputQualitySettings.videoHeight}`);try{this.mediaDeviceWrapper=new m.default().create();const Z=navigator.mediaDevices.getSupportedConstraints();this.logger.info(`Supported Constraints in this browser ${JSON.stringify(Z)}`)}catch(Z){A.error(Z.message)}}},"DefaultDeviceController");c.default=R,R.permissionDeniedOriginDetectionThresholdMs=500,R.defaultVideoWidth=960,R.defaultVideoHeight=540,R.defaultVideoFrameRate=15,R.defaultSampleRate=48e3,R.defaultSampleSize=16,R.defaultChannelCount=1,R.audioContext=null;function B(j){return typeof j=="object"&&"deviceId"in j&&"groupId"in j&&"kind"in j&&"label"in j}o(B,"isMediaDeviceInfo")},RfPO:function(N,c,d){"use strict";Object.defineProperty(c,"__esModule",{value:!0});let S=o(class xl{static isTimestampRecent(m,f){return Date.now()<m+f}setConnectionStartTime(){this.connectionStartTimestampMs=Date.now(),this.lastGoodSignalTimestampMs=Date.now()}reset(){this.connectionStartTimestampMs=0,this.consecutiveStatsWithNoPackets=0,this.consecutiveStatsWithNoAudioPacketsSent=0,this.lastPacketLossInboundTimestampMs=0,this.lastGoodSignalTimestampMs=0,this.lastWeakSignalTimestampMs=0,this.lastNoSignalTimestampMs=0,this.consecutiveMissedPongs=0,this.packetsReceivedInLastMinute=[],this.fractionPacketsLostInboundInLastMinute=[],this.audioSpeakerDelayMs=0,this.connectionStartTimestampMs=Date.now(),this.lastGoodSignalTimestampMs=Date.now()}isConnectionStartRecent(m){return xl.isTimestampRecent(this.connectionStartTimestampMs,m)}isLastPacketLossRecent(m){return xl.isTimestampRecent(this.lastPacketLossInboundTimestampMs,m)}isGoodSignalRecent(m){return xl.isTimestampRecent(this.lastGoodSignalTimestampMs,m)}isWeakSignalRecent(m){return xl.isTimestampRecent(this.lastWeakSignalTimestampMs,m)}isNoSignalRecent(m){return xl.isTimestampRecent(this.lastNoSignalTimestampMs,m)}clone(){const m=new xl;return m.connectionStartTimestampMs=this.connectionStartTimestampMs,m.consecutiveStatsWithNoPackets=this.consecutiveStatsWithNoPackets,m.consecutiveStatsWithNoAudioPacketsSent=this.consecutiveStatsWithNoAudioPacketsSent,m.lastPacketLossInboundTimestampMs=this.lastPacketLossInboundTimestampMs,m.lastGoodSignalTimestampMs=this.lastGoodSignalTimestampMs,m.lastWeakSignalTimestampMs=this.lastWeakSignalTimestampMs,m.lastNoSignalTimestampMs=this.lastNoSignalTimestampMs,m.consecutiveMissedPongs=this.consecutiveMissedPongs,m.packetsReceivedInLastMinute=this.packetsReceivedInLastMinute.slice(0),m.fractionPacketsLostInboundInLastMinute=this.fractionPacketsLostInboundInLastMinute.slice(0),m.audioSpeakerDelayMs=this.audioSpeakerDelayMs,m}setConsecutiveMissedPongs(m){this.consecutiveMissedPongs=m}setConsecutiveStatsWithNoPackets(m){this.consecutiveStatsWithNoPackets=m}setConsecutiveStatsWithNoAudioPacketsSent(m){this.consecutiveStatsWithNoAudioPacketsSent=m}setLastPacketLossInboundTimestampMs(m){this.lastPacketLossInboundTimestampMs=m}setLastNoSignalTimestampMs(m){this.lastNoSignalTimestampMs=m}setLastWeakSignalTimestampMs(m){this.lastWeakSignalTimestampMs=m}setLastGoodSignalTimestampMs(m){this.lastGoodSignalTimestampMs=m}setAudioSpeakerDelayMs(m){this.audioSpeakerDelayMs=m}constructor(){this.connectionStartTimestampMs=0,this.consecutiveStatsWithNoPackets=0,this.consecutiveStatsWithNoAudioPacketsSent=0,this.lastPacketLossInboundTimestampMs=0,this.lastGoodSignalTimestampMs=0,this.lastWeakSignalTimestampMs=0,this.lastNoSignalTimestampMs=0,this.consecutiveMissedPongs=0,this.packetsReceivedInLastMinute=[],this.fractionPacketsLostInboundInLastMinute=[],this.audioSpeakerDelayMs=0,this.connectionStartTimestampMs=Date.now(),this.lastGoodSignalTimestampMs=Date.now()}},"ConnectionHealthData");c.default=S},Rx4Y:function(N,c,d){"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.CheckAudioOutputFeedback=void 0;var S;(function(h){h[h.Succeeded=0]="Succeeded",h[h.Failed=1]="Failed"})(S=c.CheckAudioOutputFeedback||(c.CheckAudioOutputFeedback={})),c.default=S},S4vA:function(N,c){N.exports=function(d){try{return!!d()}catch{return!0}}},SEkw:function(N,c,d){N.exports={default:d("N4c9"),__esModule:!0}},SM5d:function(N,c,d){"use strict";Object.defineProperty(c,"__esModule",{value:!0});let S=o(class{},"TranscriptLanguageWithScore");c.default=S},SO8M:function(N,c,d){"use strict";Object.defineProperty(c,"__esModule",{value:!0});let S=o(class Nd{static fullbandSpeechMono(){return new Nd(4e4)}static fullbandMusicMono(){return new Nd(64e3)}static fullbandMusicStereo(){return new Nd(128e3)}isStereo(){return this.audioBitrateBps===128e3}constructor(m=null){this.audioBitrateBps=m}},"AudioProfile");c.default=S},Sa54:function(N,c,d){"use strict";var S=this&&this.__awaiter||function(a,n,i,e){function t(r){return r instanceof i?r:new i(function(l){l(r)})}return o(t,"adopt"),new(i||(i=Promise))(function(r,l){function p(u){try{g(e.next(u))}catch(s){l(s)}}o(p,"fulfilled");function v(u){try{g(e.throw(u))}catch(s){l(s)}}o(v,"rejected");function g(u){u.done?r(u.value):t(u.value).then(p,v)}o(g,"step"),g((e=e.apply(a,n||[])).next())})};Object.defineProperty(c,"__esModule",{value:!0});const h=d("e0ae"),m=d("K4CH");let f=o(class Nh{version(){return this.browser.version}majorVersion(){return parseInt(this.version().split(".")[0])}osMajorVersion(){return parseInt(this.uaParserResult.os.version.split(".")[0])}name(){return this.browser.name}hasChromiumWebRTC(){for(const n of this.chromeLike)if(n===this.browser.name)return!0;return!1}hasWebKitWebRTC(){for(const n of this.webkitBrowsers)if(n===this.browser.name)return!0;return!1}hasFirefoxWebRTC(){return this.isFirefox()}requiresPlaybackLatencyHintForAudioContext(){return navigator.userAgent.indexOf("Windows")!==-1}supportsCanvasCapturedStreamPlayback(){return!this.isIOSSafari()&&!this.isIOSChrome()&&!this.isIOSFirefox()&&!this.isIOSEdge()||this.isIOSSafari()&&this.majorVersion()>=Nh.MIN_IOS_SUPPORT_CANVAS_STREAM_PLAYBACK||this.majorVersion()>=Nh.MIN_IOS_NON_SAFARI_SUPPORT_CANVAS_STREAM_PLAYBACK}supportsBackgroundFilter(){return!(this.name()==="safari"&&this.majorVersion()===15||!this.supportsCanvasCapturedStreamPlayback())}supportsVideoLayersAllocationRtpHeaderExtension(){return this.hasChromiumWebRTC()}requiresResolutionAlignment(n,i){return this.isAndroid()&&this.isPixel3()?[Math.ceil(n/64)*64,Math.ceil(i/64)*64]:[n,i]}requiresCheckForSdpConnectionAttributes(){return!this.isIOSSafari()&&!this.isIOSChrome()&&!this.isIOSFirefox()}requiresIceCandidateGatheringTimeoutWorkaround(){return this.hasChromiumWebRTC()}requiresBundlePolicy(){return"max-bundle"}requiresNoExactMediaStreamConstraints(){return this.isSamsungInternet()}requiresGroupIdMediaStreamConstraints(){return this.isSamsungInternet()}getDisplayMediaAudioCaptureSupport(){return this.isChrome()||this.isEdge()}doesNotSupportMediaDeviceLabels(){return this.browser.name==="chromium-webview"}isSupported(){return!(!this.browserSupport[this.browser.name]||this.majorVersion()<this.browserSupport[this.browser.name]||this.browser.name==="firefox"&&this.isAndroid())}isSimulcastSupported(){return this.hasChromiumWebRTC()}supportDownlinkBandwidthEstimation(){return!this.isFirefox()}supportString(){if(this.isAndroid())return`${this.browserName.chrome} ${this.browserSupport.chrome}+, ${this.browserName.samsung} ${this.browserSupport.samsung}+`;const n=[];for(const i in this.browserSupport)n.push(`${this.browserName[i]} ${this.browserSupport[i]}+`);return n.join(", ")}supportedVideoCodecs(){return S(this,void 0,void 0,function*(){const n=new RTCPeerConnection;return n.addTransceiver("video",{direction:"inactive",streams:[]}),(yield n.createOffer({offerToReceiveVideo:!0})).sdp.split(`\r
`).filter(i=>i.includes("a=rtpmap:")).map(i=>i.replace(/.* /,"").replace(/\/.*/,"")).filter((i,e,t)=>t.indexOf(i)===e).filter(i=>i!=="rtx"&&i!=="red"&&i!=="ulpfec")})}supportsSetSinkId(){return"setSinkId"in HTMLAudioElement.prototype}disableResolutionScaleDown(){return this.isAndroid()}disable480pResolutionScaleDown(){return/( Chrome\/98\.)/i.test(navigator.userAgent)&&this.browser.os.startsWith("Windows")}requiresDisablingH264Encoding(){return(this.isIOSSafari()||this.isIOSChrome()||this.isIOSFirefox())&&(this.version()==="15.1.0"||/( OS 15_1)/i.test(navigator.userAgent))}requiresVideoPlayWorkaround(){return this.isSafari()}isVideoFxSupportedBrowser(){return this.supportsBackgroundFilter()}isIOSSafari(){return this.browser.name==="ios"||this.browser.name==="ios-webview"||this.browser.name==="safari"&&/( Mac )/i.test(navigator.userAgent)&&navigator.maxTouchPoints>1}isSafari(){return this.browser.name==="safari"||this.isIOSSafari()}isFirefox(){return this.browser.name==="firefox"}isIOSFirefox(){return this.browser.name==="fxios"}isIOSChrome(){return this.browser.name==="crios"}isChrome(){return this.browser.name==="chrome"}isEdge(){return this.browser.name==="edge-chromium"}isIOSEdge(){return this.browser.name==="edge-ios"}isSamsungInternet(){return this.browser.name==="samsung"}isAndroid(){return/(android)/i.test(navigator.userAgent)}isPixel3(){return/( pixel 3)/i.test(navigator.userAgent)}constructor(){this.FALLBACK_BROWSER={type:"browser",name:"unknown",version:"unknown",os:"unknown"},this.browser=h.detect()||this.FALLBACK_BROWSER,this.uaParserResult=navigator&&navigator.userAgent?new m.UAParser(navigator.userAgent).getResult():null,this.browserSupport={chrome:78,"edge-chromium":79,electron:7,firefox:75,ios:13,safari:13,opera:66,samsung:12,crios:86,fxios:23,"ios-webview":605,"chromium-webview":92},this.browserName={chrome:"Google Chrome","edge-chromium":"Microsoft Edge",electron:"Electron",firefox:"Mozilla Firefox",ios:"Safari iOS",safari:"Safari",opera:"Opera",samsung:"Samsung Internet",crios:"Chrome iOS",fxios:"Firefox iOS","ios-webview":"WKWebView iOS","chromium-webview":"Chrome WebView"},this.chromeLike=["chrome","edge-chromium","chromium-webview","opera","samsung"],this.webkitBrowsers=["crios","fxios","safari","ios","ios-webview","edge-ios"]}},"DefaultBrowserBehavior");c.default=f,f.MIN_IOS_SUPPORT_CANVAS_STREAM_PLAYBACK=16,f.MIN_IOS_NON_SAFARI_SUPPORT_CANVAS_STREAM_PLAYBACK=106},SdmA:function(N,c,d){"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.CheckVideoConnectivityFeedback=void 0;var S;(function(h){h[h.Succeeded=0]="Succeeded",h[h.VideoInputRequestFailed=1]="VideoInputRequestFailed",h[h.VideoInputPermissionDenied=2]="VideoInputPermissionDenied",h[h.ConnectionFailed=3]="ConnectionFailed",h[h.VideoNotSent=4]="VideoNotSent"})(S=c.CheckVideoConnectivityFeedback||(c.CheckVideoConnectivityFeedback={})),c.default=S},SgmS:function(N,c,d){"use strict";Object.defineProperty(c,"__esModule",{value:!0});const S=d("xzjI");let h=o(class extends S.default{constructor(f){super(f),this.name="TypeError"}},"TypeError");c.default=h},SkeG:function(N,c,d){"use strict";var S=d("GhSp"),h=d("ENu8");N.exports=function(m,f,a){f in m?S.f(m,f,h(0,a)):m[f]=a}},Sl5A:function(N,c,d){"use strict";Object.defineProperty(c,"__esModule",{value:!0});var S;(function(h){h.IDLE="IDLE",h.RUNNING="RUNNING",h.CANCELED="CANCELED",h.FINISHED="FINISHED"})(S||(S={})),c.default=S},Sz6V:function(N,c,d){"use strict";Object.defineProperty(c,"__esModule",{value:!0});let S=o(class{url(){return this.signalingURL+"?X-Chime-Control-Protocol-Version=3&X-Amzn-Chime-Send-Close-On-Error=1"}protocols(){return["_aws_wt_session",this.joinToken]}constructor(m,f){this.signalingURL=m,this.joinToken=f}},"SignalingClientConnectionRequest");c.default=S},"T44/":function(N,c,d){"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.VideoPreferences=c.MutableVideoPreferences=void 0;let S=o(class Bh{static default(){return new Bh([])}[Symbol.iterator](){let n=0;const i=this.items;return{next(){return n<i.length?{done:!1,value:i[n++]}:{done:!0,value:null}}}}first(){return this.items[0]}add(n){this.items.push(n)}replaceFirst(n,i){const e=this.items.findIndex(i);e===-1?this.items.push(n):this.has(n)?this.items.splice(e,1):this.items[e]=n}remove(n){this.items=this.items.filter(i=>!i.equals(n))}clear(){this.items=[]}isEmpty(){return this.items.length===0}equals(n){if(n===this)return!0;if(n.items.length!==this.items.length)return!1;for(const i of this.items)if(!n.items.some(e=>e.equals(i)))return!1;return!0}has(n){return this.items.some(i=>i.equals(n))}some(n){return this.items.some(n)}clone(){return new Bh([...this.items])}sort(){this.items.sort((n,i)=>n.partialCompare(i))}modify(){return new h(this)}constructor(n=[]){this.items=n}},"ObjectSet"),h=o(class{cow(){this.copied||(this.items=this.items.clone(),this.copied=!0)}add(n){this.items.has(n)||(this.cow(),this.items.add(n))}replaceFirst(n,i){this.items.has(n)&&!this.items.some(i)||(this.cow(),this.items.replaceFirst(n,i))}remove(n){this.items.has(n)&&(this.cow(),this.items.remove(n))}some(n){return this.items.some(n)}clear(){this.items.isEmpty()||(this.cow(),this.items.clear())}build(){return this.copied&&this.items.sort(),this.copied=!1,this.items}constructor(n=new S){this.items=n,this.copied=!1}},"SetBuilder"),m=o(class{add(n){this.builder.add(n)}replaceFirst(n,i){this.builder.replaceFirst(n,i)}remove(n){this.builder.remove(n)}some(n){return this.builder.some(n)}clear(){this.builder.clear()}build(){return new f(this.builder.build())}constructor(n){this.builder=n}},"MutableVideoPreferences");c.MutableVideoPreferences=m;let f=o(class Fh{static prepare(){return new m(new h)}static default(){return new Fh(S.default())}[Symbol.iterator](){return this.items[Symbol.iterator]()}highestPriority(){var n;return(n=this.items.first())===null||n===void 0?void 0:n.priority}sorted(){return this.items[Symbol.iterator]()}equals(n){return n===this||this.items.equals(n.items)}modify(){return new m(this.items.modify())}some(n){return this.items.some(n)}isEmpty(){return this.items.isEmpty()}clone(){const n=Fh.prepare();for(const i of this.items)n.add(i.clone());return n.build()}constructor(n){this.items=n}},"VideoPreferences");c.VideoPreferences=f,c.default=f},TSC6:function(N,c,d){var S=d("GRew"),h=d("ENu8"),m=d("bKEA"),f=d("M5dz"),a=d("nA4W"),n=d("+vXQ"),i=Object.getOwnPropertyDescriptor;c.f=d("C61u")?i:o(function(t,r){if(t=m(t),r=f(r,!0),n)try{return i(t,r)}catch{}if(a(t,r))return h(!S.f.call(t,r),t[r])},"getOwnPropertyDescriptor")},TYXu:function(N,c,d){"use strict";Object.defineProperty(c,"__esModule",{value:!0});let S=o(class{constructor(){this.localAttendeeId=null,this.localExternalUserId=null,this.attendeeIdChangesCallbacks=[],this.canUnmute=!0,this.setCanUnmuteLocalAudioCallbacks=[],this.muted=!1,this.muteAndUnmuteLocalAudioCallbacks=[],this.volumeIndicatorState={},this.attendeeIdToExternalUserId={},this.volumeIndicatorCallbacks={},this.localSignalStrengthChangeCallbacks=[],this.fatalErrorCallbacks=[],this.sendDataMessageCallbacks=[],this.receiveDataMessageCallbacks=new Map}},"RealtimeState");c.default=S},TYje:function(N,c){var d={}.toString;N.exports=function(S){return d.call(S).slice(8,-1)}},TdKi:function(N,c,d){"use strict";var S=this&&this.__awaiter||function(i,e,t,r){function l(p){return p instanceof t?p:new t(function(v){v(p)})}return o(l,"adopt"),new(t||(t=Promise))(function(p,v){function g(I){try{s(r.next(I))}catch(M){v(M)}}o(g,"fulfilled");function u(I){try{s(r.throw(I))}catch(M){v(M)}}o(u,"rejected");function s(I){I.done?p(I.value):l(I.value).then(g,u)}o(s,"step"),s((r=r.apply(i,e||[])).next())})};Object.defineProperty(c,"__esModule",{value:!0});const h=d("hlxM"),m=d("nSNv"),f={ready:0,enabled:1},a={disabled:0,enabled:1,stopped:2};let n=o(class extends m.VoiceFocusAudioWorkletNode{enable(){return S(this,void 0,void 0,function*(){this.state?(Atomics.store(this.state,f.enabled,a.enabled),Atomics.notify(this.state,f.ready,1)):this.worker.postMessage({message:"enable"})})}disable(){return S(this,void 0,void 0,function*(){this.state?(Atomics.store(this.state,f.enabled,a.disabled),Atomics.notify(this.state,f.ready,1)):this.worker.postMessage({message:"disable"})})}stop(){return S(this,void 0,void 0,function*(){if(this.state)Atomics.store(this.state,f.enabled,a.stopped),Atomics.notify(this.state,f.ready,1);else try{this.worker.postMessage({message:"stop"})}catch{}this.disconnect()})}onWorkerMessage(e){var t;const r=e.data;switch(r.message){case"ready":if(!r.shared)throw new Error("No shared state.");this.state=new Int32Array(r.shared.state),this.port.postMessage(r);break;case"stopped":this.worker.terminate();break;case"module-buffer":case"module":this.port.postMessage(r);break;case"cpu":(t=this.delegate)===null||t===void 0||t.onCPUWarning();break;case"processing":this.port.postMessage(r);break;default:return}}onProcessorMessage(e){var t;const r=e.data;switch(r.message){case"cpu":(t=this.delegate)===null||t===void 0||t.onCPUWarning();break;case"prepare-for-frames":this.worker.postMessage(r);break;default:}}constructor(e,t){super(e,t.processor,t),this.channelCountMode="explicit",this.channelCount=1;const{modelURL:r,resamplerURL:l,worker:p,fetchBehavior:v,delegate:g}=t;this.delegate=g,this.worker=p,this.worker.onmessage=this.onWorkerMessage.bind(this),this.port.onmessage=this.onProcessorMessage.bind(this);const{enabled:u,supportFarendStream:s}=t.processorOptions;this.worker.postMessage({message:"init",approach:"sab",frames:e.sampleRate===16e3?160:480,enabled:u,model:r,supportFarendStream:s});const I=h.supportsWASMPostMessage(globalThis)?"get-module":"get-module-buffer";this.worker.postMessage({message:I,key:"resampler",fetchBehavior:v,path:l})}},"VoiceFocusWorkerBufferNode");c.default=n},Temt:function(N,c){N.exports=function(d,S,h){var m=h===void 0;switch(S.length){case 0:return m?d():d.call(h);case 1:return m?d(S[0]):d.call(h,S[0]);case 2:return m?d(S[0],S[1]):d.call(h,S[0],S[1]);case 3:return m?d(S[0],S[1],S[2]):d.call(h,S[0],S[1],S[2]);case 4:return m?d(S[0],S[1],S[2],S[3]):d.call(h,S[0],S[1],S[2],S[3])}return d.apply(h,S)}},TnF5:function(N,c,d){d("4Zg2")("observable")},Trx6:function(N,c,d){var S=d("TYje");N.exports=Array.isArray||o(function(m){return S(m)=="Array"},"isArray")},Tsvd:function(N,c,d){"use strict";Object.defineProperty(c,"__esModule",{value:!0});let S=o(class{constructor(){this.previousMetrics={},this.currentMetrics={},this.currentStringMetrics={}}},"StreamMetricReport");c.default=S},"U++r":function(N,c,d){"use strict";Object.defineProperty(c,"__esModule",{value:!0});let S=o(class{constructor(){this.minHealth=0,this.maxHealth=1,this.initialHealth=1,this.connectionUnhealthyThreshold=25,this.noSignalThresholdTimeMs=1e4,this.connectionWaitTimeMs=1e4,this.zeroBarsNoSignalTimeMs=5e3,this.oneBarWeakSignalTimeMs=5e3,this.twoBarsTimeMs=5e3,this.threeBarsTimeMs=1e4,this.fourBarsTimeMs=2e4,this.fiveBarsTimeMs=6e4,this.cooldownTimeMs=6e4,this.pastSamplesToConsider=15,this.goodSignalTimeMs=15e3,this.fractionalLoss=.5,this.packetsExpected=50,this.maximumTimesToWarn=2,this.missedPongsLowerThreshold=1,this.missedPongsUpperThreshold=4,this.maximumAudioDelayMs=6e4,this.maximumAudioDelayDataPoints=10,this.sendingAudioFailureSamplesToConsider=2,this.sendingAudioFailureInitialWaitTimeMs=3e3}},"ConnectionHealthPolicyConfiguration");c.default=S},U3GI:function(N,c,d){"use strict";Object.defineProperty(c,"__esModule",{value:!0});let S=o(class{constructor(){this.previousMetrics={},this.currentMetrics={},this.currentStringMetrics={}}},"GlobalMetricReport");c.default=S},U9CR:function(N,c,d){"use strict";var S=this&&this.__awaiter||function(a,n,i,e){function t(r){return r instanceof i?r:new i(function(l){l(r)})}return o(t,"adopt"),new(i||(i=Promise))(function(r,l){function p(u){try{g(e.next(u))}catch(s){l(s)}}o(p,"fulfilled");function v(u){try{g(e.throw(u))}catch(s){l(s)}}o(v,"rejected");function g(u){u.done?r(u.value):t(u.value).then(p,v)}o(g,"step"),g((e=e.apply(a,n||[])).next())})};Object.defineProperty(c,"__esModule",{value:!0});const h=d("e0ae"),m=d("K4CH");let f=o(class Uh{version(){return this.browser.version}majorVersion(){return parseInt(this.version().split(".")[0])}osMajorVersion(){return parseInt(this.uaParserResult.os.version.split(".")[0])}name(){return this.browser.name}hasChromiumWebRTC(){for(const n of this.chromeLike)if(n===this.browser.name)return!0;return!1}hasWebKitWebRTC(){for(const n of this.webkitBrowsers)if(n===this.browser.name)return!0;return!1}hasFirefoxWebRTC(){return this.isFirefox()}requiresPlaybackLatencyHintForAudioContext(){return navigator.userAgent.indexOf("Windows")!==-1}supportsCanvasCapturedStreamPlayback(){return!this.isIOSSafari()&&!this.isIOSChrome()&&!this.isIOSFirefox()&&!this.isIOSEdge()||this.isIOSSafari()&&this.majorVersion()>=Uh.MIN_IOS_SUPPORT_CANVAS_STREAM_PLAYBACK||this.majorVersion()>=Uh.MIN_IOS_NON_SAFARI_SUPPORT_CANVAS_STREAM_PLAYBACK}supportsBackgroundFilter(){return!(this.name()==="safari"&&this.majorVersion()===15||!this.supportsCanvasCapturedStreamPlayback())}supportsVideoLayersAllocationRtpHeaderExtension(){return this.hasChromiumWebRTC()}requiresResolutionAlignment(n,i){return this.isAndroid()&&this.isPixel3()?[Math.ceil(n/64)*64,Math.ceil(i/64)*64]:[n,i]}requiresCheckForSdpConnectionAttributes(){return!this.isIOSSafari()&&!this.isIOSChrome()&&!this.isIOSFirefox()}requiresIceCandidateGatheringTimeoutWorkaround(){return this.hasChromiumWebRTC()}requiresBundlePolicy(){return"max-bundle"}requiresNoExactMediaStreamConstraints(){return this.isSamsungInternet()}requiresGroupIdMediaStreamConstraints(){return this.isSamsungInternet()}getDisplayMediaAudioCaptureSupport(){return this.isChrome()||this.isEdge()}doesNotSupportMediaDeviceLabels(){return this.browser.name==="chromium-webview"}isSupported(){return!(!this.browserSupport[this.browser.name]||this.majorVersion()<this.browserSupport[this.browser.name]||this.browser.name==="firefox"&&this.isAndroid())}isSimulcastSupported(){return this.hasChromiumWebRTC()}supportDownlinkBandwidthEstimation(){return!this.isFirefox()}supportString(){if(this.isAndroid())return`${this.browserName.chrome} ${this.browserSupport.chrome}+, ${this.browserName.samsung} ${this.browserSupport.samsung}+`;const n=[];for(const i in this.browserSupport)n.push(`${this.browserName[i]} ${this.browserSupport[i]}+`);return n.join(", ")}supportedVideoCodecs(){return S(this,void 0,void 0,function*(){const n=new RTCPeerConnection;return n.addTransceiver("video",{direction:"inactive",streams:[]}),(yield n.createOffer({offerToReceiveVideo:!0})).sdp.split(`\r
`).filter(i=>i.includes("a=rtpmap:")).map(i=>i.replace(/.* /,"").replace(/\/.*/,"")).filter((i,e,t)=>t.indexOf(i)===e).filter(i=>i!=="rtx"&&i!=="red"&&i!=="ulpfec")})}supportsSetSinkId(){return"setSinkId"in HTMLAudioElement.prototype}disableResolutionScaleDown(){return this.isAndroid()}disable480pResolutionScaleDown(){return/( Chrome\/98\.)/i.test(navigator.userAgent)&&this.browser.os.startsWith("Windows")}requiresDisablingH264Encoding(){return(this.isIOSSafari()||this.isIOSChrome()||this.isIOSFirefox())&&(this.version()==="15.1.0"||/( OS 15_1)/i.test(navigator.userAgent))}requiresVideoPlayWorkaround(){return this.isSafari()}isVideoFxSupportedBrowser(){return this.supportsBackgroundFilter()}isIOSSafari(){return this.browser.name==="ios"||this.browser.name==="ios-webview"||this.browser.name==="safari"&&/( Mac )/i.test(navigator.userAgent)&&navigator.maxTouchPoints>1}isSafari(){return this.browser.name==="safari"||this.isIOSSafari()}isFirefox(){return this.browser.name==="firefox"}isIOSFirefox(){return this.browser.name==="fxios"}isIOSChrome(){return this.browser.name==="crios"}isChrome(){return this.browser.name==="chrome"}isEdge(){return this.browser.name==="edge-chromium"}isIOSEdge(){return this.browser.name==="edge-ios"}isSamsungInternet(){return this.browser.name==="samsung"}isAndroid(){return/(android)/i.test(navigator.userAgent)}isPixel3(){return/( pixel 3)/i.test(navigator.userAgent)}constructor(){this.FALLBACK_BROWSER={type:"browser",name:"unknown",version:"unknown",os:"unknown"},this.browser=h.detect()||this.FALLBACK_BROWSER,this.uaParserResult=navigator&&navigator.userAgent?new m.UAParser(navigator.userAgent).getResult():null,this.browserSupport={chrome:78,"edge-chromium":79,electron:7,firefox:75,ios:13,safari:13,opera:66,samsung:12,crios:86,fxios:23,"ios-webview":605,"chromium-webview":92},this.browserName={chrome:"Google Chrome","edge-chromium":"Microsoft Edge",electron:"Electron",firefox:"Mozilla Firefox",ios:"Safari iOS",safari:"Safari",opera:"Opera",samsung:"Samsung Internet",crios:"Chrome iOS",fxios:"Firefox iOS","ios-webview":"WKWebView iOS","chromium-webview":"Chrome WebView"},this.chromeLike=["chrome","edge-chromium","chromium-webview","opera","samsung"],this.webkitBrowsers=["crios","fxios","safari","ios","ios-webview","edge-ios"]}},"DefaultBrowserBehavior");c.default=f,f.MIN_IOS_SUPPORT_CANVAS_STREAM_PLAYBACK=16,f.MIN_IOS_NON_SAFARI_SUPPORT_CANVAS_STREAM_PLAYBACK=106},UIXl:function(N,c,d){"use strict";Object.defineProperty(c,"__esModule",{value:!0});let S=o(class{calculateScore(m,f,a){(a||f===null)&&(f=0),this.volumes.hasOwnProperty(m)||(this.volumes[m]=0),f>this.silenceThreshold?f=1:f=0;const n=this.volumes[m]*this.speakerWeight+f*(1-this.speakerWeight);this.volumes[m]=n;for(const i in this.volumes)i!==m&&(this.volumes[i]=Math.max(this.volumes[i]-this.takeoverRate*f,0));return n<this.cutoffThreshold?0:n}prioritizeVideoSendBandwidthForActiveSpeaker(){return!0}constructor(m=.9,f=.01,a=.2,n=.2){this.speakerWeight=m,this.cutoffThreshold=f,this.silenceThreshold=a,this.takeoverRate=n,this.volumes={}}},"DefaultActiveSpeakerPolicy");c.default=S},ULlC:function(N,c,d){"use strict";Object.defineProperty(c,"__esModule",{value:!0});const S=d("yQ3g");let h=o(class hv{timeSpentReconnectingMs(){return this.firstConnectionAttempted?Date.now()-this.firstConnectionAttemptTimestampMs:0}hasPastReconnectDeadline(){return Date.now()-this.lastActiveTimestampMs>=this.reconnectTimeoutMs?!0:this.timeSpentReconnectingMs()>=this.reconnectTimeoutMs}reset(){this.cancel(),this.shouldReconnect=!0,this.onlyRestartPeerConnection=!1,this.firstConnectionAttempted=!1,this.firstConnectionAttemptTimestampMs=0,this.lastActiveTimestampMs=1/0,this.backoffPolicy.reset()}startedConnectionAttempt(f){this._isFirstConnection=f,this.firstConnectionAttempted||(this.firstConnectionAttempted=!0,this.firstConnectionAttemptTimestampMs=Date.now())}hasStartedConnectionAttempt(){return this.firstConnectionAttempted}isFirstConnection(){return this._isFirstConnection}disableReconnect(){this.shouldReconnect=!1}enableRestartPeerConnection(){this.onlyRestartPeerConnection=!0}cancel(){this.disableReconnect(),this.backoffTimer&&(this.backoffTimer.stop(),this.backoffCancel&&(this.backoffCancel(),this.backoffCancel=null))}retryWithBackoff(f,a){const n=this.shouldReconnect&&!this.hasPastReconnectDeadline();return n&&(this.backoffCancel=a,this.backoffTimer=new S.default(this.backoffPolicy.nextBackoffAmountMs()),this.backoffTimer.start(()=>{this.backoffCancel=null,f()})),n}shouldOnlyRestartPeerConnection(){return this.onlyRestartPeerConnection}clone(){return new hv(this.reconnectTimeoutMs,this.backoffPolicy)}setLastActiveTimestampMs(f){this.lastActiveTimestampMs=f}constructor(f,a){this.reconnectTimeoutMs=f,this.backoffPolicy=a,this.shouldReconnect=!0,this.onlyRestartPeerConnection=!1,this.firstConnectionAttempted=!1,this.firstConnectionAttemptTimestampMs=0,this.lastActiveTimestampMs=1/0,this._isFirstConnection=!0,this.backoffTimer=null,this.backoffCancel=null,this.reset()}},"DefaultReconnectController");c.default=h},UR8F:function(N,c,d){d("C5kU"),d("ZY/g"),N.exports=d("/NTb").f("iterator")},USwo:function(N,c,d){var S=d("7whZ"),h=d("VSTI"),m=d("nAx8"),f=d("BRsN"),a=d("nA4W"),n="prototype",i=o(function(e,t,r){var l=e&i.F,p=e&i.G,v=e&i.S,g=e&i.P,u=e&i.B,s=e&i.W,I=p?h:h[t]||(h[t]={}),M=I[n],R=p?S:v?S[t]:(S[t]||{})[n],B,j,A;p&&(r=t);for(B in r)j=!l&&R&&R[B]!==void 0,!(j&&a(I,B))&&(A=j?R[B]:r[B],I[B]=p&&typeof R[B]!="function"?r[B]:u&&j?m(A,S):s&&R[B]==A?function(D){var $=o(function(O,P,k){if(this instanceof D){switch(arguments.length){case 0:return new D;case 1:return new D(O);case 2:return new D(O,P)}return new D(O,P,k)}return D.apply(this,arguments)},"F");return $[n]=D[n],$}(A):g&&typeof A=="function"?m(Function.call,A):A,g&&((I.virtual||(I.virtual={}))[B]=A,e&i.R&&M&&!M[B]&&f(M,B,A)))},"$export");i.F=1,i.G=2,i.S=4,i.P=8,i.B=16,i.W=32,i.U=64,i.R=128,N.exports=i},UW8m:function(N,c,d){"use strict";Object.defineProperty(c,"__esModule",{value:!0});const S=d("xzjI");let h=o(class extends S.default{constructor(f){super(f),this.name="NotReadableError"}},"NotReadableError");c.default=h},V2kw:function(N,c,d){"use strict";Object.defineProperty(c,"__esModule",{value:!0});let S=o(class{getAuthenticationToken(){return this.authenticationToken}toJSON(){const m={};return m.type=this.type,m.v=this.v,m.meetingId=this.meetingId,m.attendeeId=this.attendeeId,m}constructor(m,f,a,n=[]){this.type="Meet",this.v=1,this.meetingId=m,this.attendeeId=f,this.eventsToIgnore=n,this.authenticationToken=a}},"MeetingEventsClientConfiguration");c.default=S},V3UW:function(N,c,d){"use strict";Object.defineProperty(c,"__esModule",{value:!0});const S=d("uctb"),h=d("6/h7");let m=o(class{name(){return`${this.task.name()} (once)`}cancel(){if(!this.canceled){if(this.dependencies)for(const a of this.dependencies)a.cancel();this.logger.info(`Canceling ${this.name()}`),h.default.nextTick(()=>this.task.cancel()),this.canceled=!0,this.cancelPromise&&h.default.nextTick(()=>this.cancelPromise(new Error(`canceling ${this.name()}`)))}}logDependencies(){if(this.logger.getLogLevel()>S.default.INFO||!this.dependencies)return;const a=this.dependencies.filter(n=>n).map(n=>n.name()).join(", ");this.logger.info(`${this.task.name()} waiting for dependencies: ${a}`)}run(){if(this.promise)return this.promise;const a=this.dependencies?Promise.all(this.dependencies.map(n=>n==null?void 0:n.run())):Promise.resolve();return this.logDependencies(),this.ongoing=a.then(()=>this.task.run()),this.promise=new Promise((n,i)=>{this.cancelPromise=i,this.ongoing.then(n).catch(i)})}setParent(a){this.task.setParent(a)}constructor(a,n,i){this.logger=a,this.task=n,this.dependencies=i,this.canceled=!1}},"OnceTask");c.default=m},V4cD:function(N,c,d){"use strict";Object.defineProperty(c,"__esModule",{value:!0});const S=d("xzjI");let h=o(class extends S.default{constructor(f,a){super(f,a),this.name="PermissionDeniedError"}},"PermissionDeniedError");c.default=h},V5IF:function(N,c,d){"use strict";Object.defineProperty(c,"__esModule",{value:!0});let S=o(class{constructor(){this.username=null,this.password=null,this.ttl=null,this.uris=null}},"MeetingSessionTURNCredentials");c.default=S},V7js:function(N,c,d){"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.MAX_HASHABLE_LENGTH=c.INIT=c.KEY=c.DIGEST_LENGTH=c.BLOCK_SIZE=void 0,c.BLOCK_SIZE=64,c.DIGEST_LENGTH=32,c.KEY=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),c.INIT=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],c.MAX_HASHABLE_LENGTH=Math.pow(2,53)-1},V7oC:function(N,c,d){"use strict";c.__esModule=!0;var S=d("SEkw"),h=m(S);function m(f){return f&&f.__esModule?f:{default:f}}o(m,"_interopRequireDefault"),c.default=function(){function f(a,n){for(var i=0;i<n.length;i++){var e=n[i];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),(0,h.default)(a,e.key,e)}}return o(f,"defineProperties"),function(a,n,i){return n&&f(a.prototype,n),i&&f(a,i),a}}()},VCUZ:function(N,c,d){"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.getFormattedOffset=c.getDefaultAssetSpec=c.toLowerCasePropertyNames=c.isIFramed=c.wait=void 0;const S=d("ac3q");function h(i){return new Promise(e=>setTimeout(e,i))}o(h,"wait"),c.wait=h;function m(){var i;try{return((i=window.frameElement)===null||i===void 0?void 0:i.nodeName)==="IFRAME"||parent!==top}catch{return!0}}o(m,"isIFramed"),c.isIFramed=m;function f(i){return i===null?null:typeof i!="object"?i:Array.isArray(i)?i.map(f):Object.keys(i).reduce((e,t)=>{const r=i[t],l=typeof r=="object"?f(r):r;return e[t.toLowerCase()]=l,e},{})}o(f,"toLowerCasePropertyNames"),c.toLowerCasePropertyNames=f;function a(){const i=S.default.sdkVersionSemVer;return{assetGroup:`sdk-${i.major}.${i.minor}`}}o(a,"getDefaultAssetSpec"),c.getDefaultAssetSpec=a;function n(i){const e=Math.abs(i),t=i<=0?"+":"-",r=Math.floor(e/60).toString().padStart(2,"0"),l=Math.floor(e%60).toString().padStart(2,"0");return`${t}${r}:${l}`}o(n,"getFormattedOffset"),c.getFormattedOffset=n},VKrp:function(N,c,d){"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.CheckNetworkTCPConnectivityFeedback=void 0;var S;(function(h){h[h.Succeeded=0]="Succeeded",h[h.MeetingSessionURLsNotInitialized=1]="MeetingSessionURLsNotInitialized",h[h.ConnectionFailed=2]="ConnectionFailed",h[h.ICENegotiationFailed=3]="ICENegotiationFailed"})(S=c.CheckNetworkTCPConnectivityFeedback||(c.CheckNetworkTCPConnectivityFeedback={})),c.default=S},VPK4:function(N,c,d){"use strict";Object.defineProperty(c,"__esModule",{value:!0});let S=o(class{},"Transcript");c.default=S},VSTI:function(N,c){var d=N.exports={version:"2.6.12"};typeof __e=="number"&&(__e=d)},VUud:function(N,c,d){"use strict";d.d(c,"a",function(){return t});var S=d("9oTK"),h=d.n(S),m=d("m8R6"),f=d("2XU3"),a=d("WCk1"),n=d("s4P+"),i=d("pjW8");const e={NotificationNotFound:"notification_not_found",InvalidAction:"invalid_action",ErrorPersistingImpression:"error_persisting_impression",ChannelNotFound:"channel_not_found",InvalidNotificationParams:"invalid_notification_params"},t=Object(a.a)("megaphone.setNotificationAsSeen generated fetcher",function(){var r=Object(S.coroutine)(function*(l,p,v){try{const g=["reason"],u=Object(m.a)(v,g),s=Object(i.b)(u);return yield l(Object(f.a)({method:"megaphone.setNotificationAsSeen",args:s,reason:v.reason}))}catch(g){throw Object(n.a)({getState:p}).error(`API call to megaphone.setNotificationAsSeen
				with reason ${v.reason} failed, initiated by generated fetcher`),g}});return function(l,p,v){return r.apply(this,arguments)}}());t.meta={name:"createFetcher",key:"createFetchermegaphoneSetNotificationAsSeenFetcher",description:"megaphone.setNotificationAsSeen generated fetcher"}},VWEK:function(N,c,d){"use strict";Object.defineProperty(c,"__esModule",{value:!0});var S;(function(h){h.PRONUNCIATION="pronunciation",h.PUNCTUATION="punctuation"})(S||(S={})),c.default=S},VWHd:function(N,c,d){"use strict";Object.defineProperty(c,"__esModule",{value:!0});const S=d("Biyp");let h=o(class{updateConnectionMetric(f){}chooseMediaTrackConstraints(){return{}}chooseEncodingParameters(){return new Map}updateIndex(f){}wantsResubscribe(){return!1}chooseCaptureAndEncodeParameters(){return new S.default(0,0,0,0,!1)}maxBandwidthKbps(){return 0}setIdealMaxBandwidthKbps(f){}setHasBandwidthPriority(f){}constructor(){}},"NoVideoUplinkBandwidthPolicy");c.default=h},"VYs+":function(N,c,d){"use strict";var S=this&&this.__awaiter||function(f,a,n,i){function e(t){return t instanceof n?t:new n(function(r){r(t)})}return o(e,"adopt"),new(n||(n=Promise))(function(t,r){function l(g){try{v(i.next(g))}catch(u){r(u)}}o(l,"fulfilled");function p(g){try{v(i.throw(g))}catch(u){r(u)}}o(p,"rejected");function v(g){g.done?t(g.value):e(g.value).then(l,p)}o(v,"step"),v((i=i.apply(f,a||[])).next())})};Object.defineProperty(c,"__esModule",{value:!0});const h=d("ZdbB");let m=o(class ia extends h.default{setEncodingParameters(a){return S(this,void 0,void 0,function*(){if(!this._localCameraTransceiver||this._localCameraTransceiver.direction!=="sendrecv")return;const n=this._localCameraTransceiver.sender,i=Array.from(a.values());if(i.length<=0)return;const e=n.getParameters();if(!e.encodings)e.encodings=i;else for(let t=0;t<e.encodings.length;t++)e.encodings[t].rid===ia.LOW_LEVEL_NAME&&this.copyEncodingParams(a.get(ia.LOW_LEVEL_NAME),e.encodings[t]),e.encodings[t].rid===ia.MID_LEVEL_NAME&&this.copyEncodingParams(a.get(ia.MID_LEVEL_NAME),e.encodings[t]),e.encodings[t].rid===ia.HIGH_LEVEL_NAME&&this.copyEncodingParams(a.get(ia.HIGH_LEVEL_NAME),e.encodings[t]);yield n.setParameters(e),this.logVideoTransceiverParameters()})}setVideoSendingBitrateKbps(a){return S(this,void 0,void 0,function*(){})}setupLocalTransceivers(){if(this.useTransceivers()&&(!this.defaultMediaStream&&typeof MediaStream<"u"&&(this.defaultMediaStream=new MediaStream),this._localAudioTransceiver||(this._localAudioTransceiver=this.peer.addTransceiver("audio",{direction:"inactive",streams:[this.defaultMediaStream]})),!this._localCameraTransceiver)){const a=Array.from(this.videoQualityControlParameterMap.values());this._localCameraTransceiver=this.peer.addTransceiver("video",{direction:"inactive",streams:[this.defaultMediaStream],sendEncodings:a})}}logVideoTransceiverParameters(){const n=this._localCameraTransceiver.sender.getParameters().encodings;let i=`simulcast: current encoding parameters 
`;for(const e of n)i+=`rid=${e.rid} maxBitrate=${e.maxBitrate} active=${e.active} scaleDownBy=${e.scaleResolutionDownBy} maxFrameRate = ${e.maxFramerate} 
`;this.logger.info(i)}copyEncodingParams(a,n){n.active=a.active,n.maxBitrate=a.maxBitrate,n.scaleResolutionDownBy=a.scaleResolutionDownBy,n.maxFramerate=a.maxFramerate}constructor(a,n){super(a,n),this.videoQualityControlParameterMap=new Map;let i=4;for(let e=0;e<ia.NAME_ARR_ASCENDING.length;e++){const t=ia.NAME_ARR_ASCENDING[e];this.videoQualityControlParameterMap.set(t,{rid:t,scaleResolutionDownBy:i,maxBitrate:ia.BITRATE_ARR_ASCENDING[e]*1e3}),i=i/2}}},"SimulcastTransceiverController");c.default=m,m.LOW_LEVEL_NAME="low",m.MID_LEVEL_NAME="mid",m.HIGH_LEVEL_NAME="hi",m.NAME_ARR_ASCENDING=["low","mid","hi"],m.BITRATE_ARR_ASCENDING=[200,400,1100]},VcdL:function(N,c,d){"use strict";var S=this&&this.__awaiter||function(f,a,n,i){function e(t){return t instanceof n?t:new n(function(r){r(t)})}return o(e,"adopt"),new(n||(n=Promise))(function(t,r){function l(g){try{v(i.next(g))}catch(u){r(u)}}o(l,"fulfilled");function p(g){try{v(i.throw(g))}catch(u){r(u)}}o(p,"rejected");function v(g){g.done?t(g.value):e(g.value).then(l,p)}o(v,"step"),v((i=i.apply(f,a||[])).next())})};Object.defineProperty(c,"__esModule",{value:!0}),c.VideoFxCanvasOpsManager=void 0;const h=d("6qF3");let m=o(class{getInferenceInputData(a){return this.inferenceCtx.save(),this.inferenceCtx.scale(this.horizontalResizeScalar,this.verticalResizeScalar),this.inferenceCtx.drawImage(a,0,0),this.inferenceCtx.restore(),this.inferenceCtx.getImageData(0,0,h.SEGMENTATION_MODEL.WIDTH_IN_PIXELS,h.SEGMENTATION_MODEL.HEIGHT_IN_PIXELS)}configureForStreamParameters(a){return S(this,void 0,void 0,function*(){if(this.streamParameters=a,this.outputCanvas.width=this.streamParameters.width,this.outputCanvas.height=this.streamParameters.height,this.backgroundReplacementCanvas){const n=document.createElement("canvas");n.width=this.streamParameters.width,n.height=this.streamParameters.height,n.getContext("2d").drawImage(this.backgroundReplacementCanvas,0,0,this.streamParameters.width,this.streamParameters.height),this.backgroundReplacementCanvas=n}this.configureCanvasPipeline()})}configureCanvasPipeline(){this.inferenceCanvas=document.createElement("canvas"),this.inferenceCtx=this.inferenceCanvas.getContext("2d",{willReadFrequently:!0}),this.inferenceCanvas.width=h.SEGMENTATION_MODEL.WIDTH_IN_PIXELS,this.inferenceCanvas.height=h.SEGMENTATION_MODEL.HEIGHT_IN_PIXELS,this.horizontalResizeScalar=h.SEGMENTATION_MODEL.WIDTH_IN_PIXELS/this.streamParameters.width,this.verticalResizeScalar=h.SEGMENTATION_MODEL.HEIGHT_IN_PIXELS/this.streamParameters.height}getBackgroundReplacementCanvas(){return this.backgroundReplacementCanvas}loadReplacementBackground(a){return S(this,void 0,void 0,function*(){const n=a.backgroundReplacement.backgroundImageURL,i=a.backgroundReplacement.defaultColor;if(n)try{const e=yield this.loadImage(n);this.backgroundReplacementImage=e,this.resizeAndSetReplacementImage(this.backgroundReplacementImage)}catch(e){throw this.logger.error(e),new Error("Failed to set the replacement image.")}else this.resizeAndSetReplacementColor(i)})}resizeAndSetReplacementImage(a){const n=document.createElement("canvas"),i=n.getContext("2d");n.width=this.streamParameters.width,n.height=this.streamParameters.height,i.drawImage(a,0,0,this.streamParameters.width,this.streamParameters.height),this.backgroundReplacementCanvas=n}resizeAndSetReplacementColor(a){const n=document.createElement("canvas"),i=n.getContext("2d");n.width=this.streamParameters.width,n.height=this.streamParameters.height,i.fillStyle=a,i.fillRect(0,0,this.streamParameters.width,this.streamParameters.height),this.backgroundReplacementCanvas=n}loadImage(a){return S(this,void 0,void 0,function*(){const i=yield(yield fetch(a).catch(t=>{throw this.logger.error(t.toString()),new Error("Failed to fetch image.")})).blob(),e=new Image;return e.src=URL.createObjectURL(i),new Promise((t,r)=>{e.onload=()=>{t(e)},e.onerror=l=>{r(l)}})})}constructor(a,n){this.streamParameters=a,this.outputCanvas=n,this.configureCanvasPipeline()}},"VideoFxCanvasOpsManager");c.VideoFxCanvasOpsManager=m},VgUL:function(N,c,d){"use strict";Object.defineProperty(c,"__esModule",{value:!0});const S=d("wQGL");let h=o(class{updateConnectionMetric(f){}chooseMediaTrackConstraints(){}chooseEncodingParameters(){var f,a,n,i,e,t,r,l,p,v,g,u;const s=new Map,I=1e3,M=S.default.NAME_ARR_ASCENDING;return s.set(M[0],{rid:M[0],active:!0,scaleResolutionDownBy:((a=(f=this.encodingParams)===null||f===void 0?void 0:f.low)===null||a===void 0?void 0:a.scaleResolutionDownBy)||2,maxBitrate:(((i=(n=this.encodingParams)===null||n===void 0?void 0:n.low)===null||i===void 0?void 0:i.maxBitrateKbps)||300)*I,maxFramerate:((t=(e=this.encodingParams)===null||e===void 0?void 0:e.low)===null||t===void 0?void 0:t.maxFramerate)||5}),s.set(M[1],{rid:M[1],active:!0,scaleResolutionDownBy:((l=(r=this.encodingParams)===null||r===void 0?void 0:r.high)===null||l===void 0?void 0:l.scaleResolutionDownBy)||1,maxBitrate:(((v=(p=this.encodingParams)===null||p===void 0?void 0:p.high)===null||v===void 0?void 0:v.maxBitrateKbps)||1200)*I,maxFramerate:(u=(g=this.encodingParams)===null||g===void 0?void 0:g.high)===null||u===void 0?void 0:u.maxFramerate}),this.getQualityMapString(s),s}updateIndex(f){this.videoIndex=f}wantsResubscribe(){var f,a;let n=!1;this.nextLocalDescriptions=(f=this.videoIndex)===null||f===void 0?void 0:f.localStreamDescriptions();for(let i=0;i<((a=this.nextLocalDescriptions)===null||a===void 0?void 0:a.length);i++){const e=this.nextLocalDescriptions[i].streamId;if(e!==0&&e){const t=this.currLocalDescriptions.findIndex(r=>r.streamId===e);t!==-1&&this.nextLocalDescriptions[i].disabledByWebRTC!==this.currLocalDescriptions[t].disabledByWebRTC&&(n=!0)}}return this.currLocalDescriptions=this.nextLocalDescriptions,n}chooseCaptureAndEncodeParameters(){}maxBandwidthKbps(){return 1200}setIdealMaxBandwidthKbps(f){}setHasBandwidthPriority(f){}getQualityMapString(f){var a;let n="";const i=(a=this.videoIndex)===null||a===void 0?void 0:a.localStreamDescriptions();(i==null?void 0:i.length)>0&&(f.forEach(e=>{let t=!1;e.rid==="low"?t=i[0].disabledByWebRTC:t=i[1].disabledByWebRTC,n+=`{ rid: ${e.rid} active:${e.active} disabledByWebRTC: ${t} maxBitrate:${e.maxBitrate} scaleResolutionDownBy:${e.scaleResolutionDownBy} maxFrameRate:${e.maxFramerate}`}),this.logger.info(`simulcast: content policy:chooseEncodingParameters newQualityMap: ${n}`))}addObserver(f){}removeObserver(f){}forEachObserver(f){}constructor(f,a){this.logger=f,this.encodingParams=a,this.videoIndex=null,this.currLocalDescriptions=[],this.nextLocalDescriptions=[]}},"DefaultSimulcastUplinkPolicyForContentShare");c.default=h},VhCr:function(N,c,d){"use strict";Object.defineProperty(c,"__esModule",{value:!0});let S=o(class{constructor(m,f,a,n,i,e,t,r,l,p){this.attendeeId=m,this.sdpOffer=f,this.audioHost=a,this.audioMuted=n,this.audioCheckin=i,this.receiveStreamIds=e,this.localVideoEnabled=t,this.videoStreamDescriptions=r,this.connectionTypeHasVideo=l,this.compressedSdpOffer=p,this.videoSubscriptionConfiguration=[]}},"SignalingClientSubscribe");c.default=S},VoiG:function(N,c,d){"use strict";Object.defineProperty(c,"__esModule",{value:!0});let S=o(class{},"TranscriptionStatus");c.default=S},"W+eo":function(N,c,d){"use strict";var S=this&&this.__awaiter||function(f,a,n,i){function e(t){return t instanceof n?t:new n(function(r){r(t)})}return o(e,"adopt"),new(n||(n=Promise))(function(t,r){function l(g){try{v(i.next(g))}catch(u){r(u)}}o(l,"fulfilled");function p(g){try{v(i.throw(g))}catch(u){r(u)}}o(p,"rejected");function v(g){g.done?t(g.value):e(g.value).then(l,p)}o(v,"step"),v((i=i.apply(f,a||[])).next())})};Object.defineProperty(c,"__esModule",{value:!0});const h=d("j+uH");let m=o(class extends h.default{cancel(){for(const a of this.tasksToRunParallel)this.logger.info(`canceling parallel group task ${this.name()} subtask ${a.name()}`),a.cancel()}run(){return S(this,void 0,void 0,function*(){const a=[];for(const i of this.tasksToRunParallel)this.logger.info(`parallel group task ${this.name()} running subtask ${i.name()}`),a.push(i.run());const n=[];for(let i=0;i<a.length;i++){try{yield a[i]}catch(e){n.push(`task ${this.tasksToRunParallel[i].name()} failed: ${e.message}`)}this.logger.info(`parallel group task ${this.name()} completed subtask ${this.tasksToRunParallel[i].name()}`)}if(n.length>0){const i=n.join(", ");this.logAndThrow(`parallel group task ${this.name()} failed for tasks: ${i}`)}this.logger.info(`parallel group task ${this.name()} completed`)})}constructor(a,n,i){super(a),this.taskName=n,this.tasksToRunParallel=i;for(const e of i)e.setParent(this)}},"ParallelGroupTask");c.default=m},WHnE:function(N,c,d){"use strict";var S=this&&this.__awaiter||function(a,n,i,e){function t(r){return r instanceof i?r:new i(function(l){l(r)})}return o(t,"adopt"),new(i||(i=Promise))(function(r,l){function p(u){try{g(e.next(u))}catch(s){l(s)}}o(p,"fulfilled");function v(u){try{g(e.throw(u))}catch(s){l(s)}}o(v,"rejected");function g(u){u.done?r(u.value):t(u.value).then(p,v)}o(g,"step"),g((e=e.apply(a,n||[])).next())})};Object.defineProperty(c,"__esModule",{value:!0});const h=d("Sa54"),m=d("6/h7");let f=o(class{bindAudioElement(n){return S(this,void 0,void 0,function*(){if(!n)throw new Error(`Cannot bind audio element: ${n}`);return this.audioElement=n,this.audioElement.autoplay=!0,this.bindAudioMix()})}unbindAudioElement(){this.audioElement&&(this.audioElement.srcObject=null,this.audioElement=null,this.forEachObserver(n=>{this.audioStream&&n.meetingAudioStreamBecameInactive(this.audioStream)}))}bindAudioStream(n){return S(this,void 0,void 0,function*(){if(n){this.audioStream=n;try{yield this.bindAudioMix()}catch(i){this.logger&&this.logger.warn(`Failed to bind audio stream: ${i}`)}}})}bindAudioDevice(n){return S(this,void 0,void 0,function*(){if(n&&!this.browserBehavior.supportsSetSinkId())throw new Error("Cannot select audio output device. This browser does not support setSinkId.");return this.audioDevice=n,this.bindAudioMix()})}forEachObserver(n){for(const i of this.observers)m.default.nextTick(()=>{n(i)})}bindAudioMix(){var n,i;return S(this,void 0,void 0,function*(){if(!this.audioElement)return;const e=this.audioElement.srcObject;this.audioStream&&(this.audioElement.srcObject=this.audioStream),e!==this.audioStream&&this.forEachObserver(g=>{e&&g.meetingAudioStreamBecameInactive(e),this.audioStream&&g.meetingAudioStreamBecameActive(this.audioStream)});const t=((n=this.audioDevice)===null||n===void 0?void 0:n.deviceId)!==this.audioElement.sinkId;if(t&&typeof this.audioElement.sinkId>"u")throw new Error("Cannot select audio output device. This browser does not support setSinkId.");const r=this.audioDevice?this.audioDevice.deviceId:"",l=this.audioElement.sinkId;if(r===l)return;const p=this.audioElement,v=this.audioStream;if(this.browserBehavior.hasChromiumWebRTC()&&(p.srcObject=null),t)try{yield p.setSinkId(r)}catch(g){throw(i=this.logger)===null||i===void 0||i.error(`Failed to set sinkId for audio element: ${g}`),g}this.browserBehavior.hasChromiumWebRTC()&&(p.srcObject=v)})}getCurrentMeetingAudioStream(){return S(this,void 0,void 0,function*(){return this.audioStream})}addAudioMixObserver(n){return S(this,void 0,void 0,function*(){this.observers.add(n)})}removeAudioMixObserver(n){return S(this,void 0,void 0,function*(){this.observers.delete(n)})}audioOutputDidChange(n){return S(this,void 0,void 0,function*(){return this.logger.info("Receive an audio output change event"),this.bindAudioDevice(n)})}constructor(n){this.logger=n,this.audioDevice=null,this.audioElement=null,this.audioStream=null,this.browserBehavior=new h.default,this.observers=new Set}},"DefaultAudioMixController");c.default=f},WcgR:function(N,c,d){"use strict";var S=d("ILaC"),h=d("uE2L"),m=d("LV2V"),f=d("ngjY"),a=d("KSud"),n=d("nzLN"),i=1,e=32,t=Object(m.a)(function(u,s,I){var M=i;if(I.length){var R=Object(n.a)(I,Object(a.a)(t));M|=e}return Object(f.a)(u,M,s,I,R)});t.placeholder={};var r=t,l=d("Tjpy"),p=d("Tchk"),v=Object(l.a)(function(u,s){return Object(S.a)(s,function(I){I=Object(p.a)(I),Object(h.a)(u,I,r(u[I],u))}),u}),g=c.a=v},Wdtm:function(N,c,d){"use strict";var S=this&&this.__awaiter||function(l,p,v,g){function u(s){return s instanceof v?s:new v(function(I){I(s)})}return o(u,"adopt"),new(v||(v=Promise))(function(s,I){function M(j){try{B(g.next(j))}catch(A){I(A)}}o(M,"fulfilled");function R(j){try{B(g.throw(j))}catch(A){I(A)}}o(R,"rejected");function B(j){j.done?s(j.value):u(j.value).then(M,R)}o(B,"step"),B((g=g.apply(l,p||[])).next())})};Object.defineProperty(c,"__esModule",{value:!0});const h=d("aZba"),m=d("papz"),f=d("42jQ"),a=d("/AJg"),n=d("HbHZ"),i=d("OV1w"),e=d("XCDq"),t=d("j+uH");let r=o(class extends t.default{cancel(){this.taskCanceler&&(this.taskCanceler.cancel(),this.taskCanceler=null)}run(){return S(this,void 0,void 0,function*(){const p=yield new Promise((v,g)=>{const u=this.context;u.turnCredentials=null;let s=o(class{cancel(){this.signalingClient.removeObserver(this),g(new Error("JoinAndReceiveIndexTask got canceled while waiting for SdkIndexFrame"))}handleSignalingClientEvent(B){if(B.type===n.default.WebSocketClosed){let A=`The signaling connection was closed with code ${B.closeCode} and reason: ${B.closeReason}`;u.logger.warn(A);let D=m.default.SignalingBadRequest;B.closeCode===4410?(A="The meeting already ended.",u.logger.warn(A),D=m.default.MeetingEnded):B.closeCode>=4500&&B.closeCode<4600&&(D=m.default.SignalingInternalServerError),u.audioVideoController.handleMeetingSessionStatus(new h.default(D),new Error(A));return}if(B.type!==n.default.ReceivedSignalFrame)return;if(B.message.type===e.SdkSignalFrame.Type.JOIN_ACK){const A=B.message.joinack;if(A&&A.videoSubscriptionLimit&&(u.videoSubscriptionLimit=A.videoSubscriptionLimit),u.serverSupportsCompression=A==null?void 0:A.wantsCompressedSdp,(A==null?void 0:A.defaultServerSideNetworkAdaption)!==void 0&&A.defaultServerSideNetworkAdaption!==a.default.Default&&u.videoDownlinkBandwidthPolicy.setServerSideNetworkAdaption!==void 0){const D=A.defaultServerSideNetworkAdaption;u.logger.info(`Overriding server side network adaption value to ${D}`),u.videoDownlinkBandwidthPolicy.setServerSideNetworkAdaption(a.convertServerSideNetworkAdaptionEnumFromSignaled(D))}A&&A.turnCredentials?(u.turnCredentials=new f.default,u.turnCredentials.username=A.turnCredentials.username,u.turnCredentials.password=A.turnCredentials.password,u.turnCredentials.ttl=A.turnCredentials.ttl,u.turnCredentials.uris=A.turnCredentials.uris.map(D=>u.meetingSessionConfiguration.urls.urlRewriter(D)).filter(D=>!!D)):u.logger.error("missing TURN credentials in JoinAckFrame");return}if(B.message.type!==e.SdkSignalFrame.Type.INDEX)return;this.signalingClient.removeObserver(this);const j=B.message.index;v(j)}constructor(B){this.signalingClient=B}},"IndexFrameInterceptor");const I=new s(this.context.signalingClient);this.context.signalingClient.registerObserver(I),this.taskCanceler=I,this.context.previousSdpAnswerAsString="",this.context.previousSdpOffer=null,this.context.serverSupportsCompression=!1;const M=new i.default(this.context.meetingSessionConfiguration.applicationMetadata);this.context.videoDownlinkBandwidthPolicy.getServerSideNetworkAdaption!==void 0&&this.context.videoDownlinkBandwidthPolicy.supportedServerSideNetworkAdaptions!==void 0&&(M.serverSideNetworkAdaption=this.context.videoDownlinkBandwidthPolicy.getServerSideNetworkAdaption(),M.supportedServerSideNetworkAdaptions=this.context.videoDownlinkBandwidthPolicy.supportedServerSideNetworkAdaptions()),M.disablePeriodicKeyframeRequestOnContentSender=this.context.meetingSessionConfiguration.disablePeriodicKeyframeRequestOnContentSender,this.context.signalingClient.join(M)});this.context.logger.info(`received first index ${JSON.stringify(p)}`),this.context.indexFrame=p})}constructor(p){super(p.logger),this.context=p,this.taskName="JoinAndReceiveIndexTask",this.taskCanceler=null}},"JoinAndReceiveIndexTask");c.default=r},Wjms:function(N,c,d){"use strict";var S=this&&this.__awaiter||function(m,f,a,n){function i(e){return e instanceof a?e:new a(function(t){t(e)})}return o(i,"adopt"),new(a||(a=Promise))(function(e,t){function r(v){try{p(n.next(v))}catch(g){t(g)}}o(r,"fulfilled");function l(v){try{p(n.throw(v))}catch(g){t(g)}}o(l,"rejected");function p(v){v.done?e(v.value):i(v.value).then(r,l)}o(p,"step"),p((n=n.apply(m,f||[])).next())})};Object.defineProperty(c,"__esModule",{value:!0});let h=o(class{process(f){return S(this,void 0,void 0,function*(){return f})}destroy(){return S(this,void 0,void 0,function*(){})}},"NoOpVideoFrameProcessor");c.default=h},Wnnr:function(N,c,d){"use strict";Object.defineProperty(c,"__esModule",{value:!0});const S=d("Z/hr");let h=o(class{makeTile(f,a,n,i){return new S.default(f,a,n,i)}},"DefaultVideoTileFactory");c.default=h},WpRT:function(N,c,d){var S=d("s2er")("keys"),h=d("ixoo");N.exports=function(m){return S[m]||(S[m]=h(m))}},X0TA:function(N,c,d){"use strict";d.d(c,"a",function(){return e});var S=d("9oTK"),h=d.n(S),m=d("m8R6"),f=d("2XU3"),a=d("WCk1"),n=d("s4P+"),i=d("pjW8");const e={SnoozeEndFailed:"snooze_end_failed"},t=Object(a.a)("dnd.endSnooze generated fetcher",function(){var r=Object(S.coroutine)(function*(l,p,v){try{const g=["reason"],u=Object(m.a)(v,g),s=Object(i.b)(u);return yield l(Object(f.a)({method:"dnd.endSnooze",args:s,reason:v.reason}))}catch(g){throw Object(n.a)({getState:p}).error(`API call to dnd.endSnooze
				with reason ${v.reason} failed, initiated by generated fetcher`),g}});return function(l,p,v){return r.apply(this,arguments)}}());t.meta={name:"createFetcher",key:"createFetcherdndEndSnoozeFetcher",description:"dnd.endSnooze generated fetcher"}},X3Fi:function(N,c,d){"use strict";Object.defineProperty(c,"__esModule",{value:!0});const S=d("K4CH"),h=d("59sL");let m=o(class kl{getParserResult(){var a,n;return{browserMajorVersion:this.browserMajorVersion,browserName:this.browserName,browserVersion:this.browserVersion,deviceName:this.deviceName,osName:((a=this.parserResult)===null||a===void 0?void 0:a.os.name)||kl.UNAVAILABLE,osVersion:((n=this.parserResult)===null||n===void 0?void 0:n.os.version)||kl.UNAVAILABLE,sdkVersion:h.default.sdkVersion,sdkName:h.default.sdkName}}constructor(a){var n,i,e,t,r,l,p;try{this.parserResult=navigator&&navigator.userAgent?new S.UAParser(navigator.userAgent).getResult():void 0}catch(v){a.error(v.message)}this.browserMajorVersion=((e=(i=(n=this.parserResult)===null||n===void 0?void 0:n.browser)===null||i===void 0?void 0:i.version)===null||e===void 0?void 0:e.split(".")[0])||kl.UNAVAILABLE,this.browserName=((t=this.parserResult)===null||t===void 0?void 0:t.browser.name)||kl.UNAVAILABLE,this.browserVersion=((r=this.parserResult)===null||r===void 0?void 0:r.browser.version)||kl.UNAVAILABLE,this.deviceName=[((l=this.parserResult)===null||l===void 0?void 0:l.device.vendor)||"",((p=this.parserResult)===null||p===void 0?void 0:p.device.model)||""].join(" ").trim()||kl.UNAVAILABLE}},"DefaultUserAgentParser");c.default=m,m.UNAVAILABLE="Unavailable"},X9Jc:function(N,c,d){"use strict";Object.defineProperty(c,"__esModule",{value:!0});function S(m){return m.map(f=>typeof f=="object"?JSON.stringify(f):`${f}`).join(" ")}o(S,"stringify");let h=o(class{debug(){for(var f=arguments.length,a=new Array(f),n=0;n<f;n++)a[n]=arguments[n];this.base.debug(S(a))}info(){for(var f=arguments.length,a=new Array(f),n=0;n<f;n++)a[n]=arguments[n];this.base.info(S(a))}warn(){for(var f=arguments.length,a=new Array(f),n=0;n<f;n++)a[n]=arguments[n];this.base.warn(S(a))}error(){for(var f=arguments.length,a=new Array(f),n=0;n<f;n++)a[n]=arguments[n];this.base.error(S(a))}constructor(f){this.base=f}},"LoggerAdapter");c.default=h},XCDq:function(N,c,d){"use strict";var S=d("A4hc"),h=S.Reader,m=S.Writer,f=S.util,a=S.roots.default||(S.roots.default={});a.SdkSignalFrame=function(){function n(i){if(i)for(var e=Object.keys(i),t=0;t<e.length;++t)i[e[t]]!=null&&(this[e[t]]=i[e[t]])}return o(n,"SdkSignalFrame"),n.prototype.timestampMs=f.Long?f.Long.fromBits(0,0,!0):0,n.prototype.type=1,n.prototype.error=null,n.prototype.join=null,n.prototype.joinack=null,n.prototype.sub=null,n.prototype.suback=null,n.prototype.index=null,n.prototype.pause=null,n.prototype.leave=null,n.prototype.leaveAck=null,n.prototype.bitrates=null,n.prototype.audioControl=null,n.prototype.audioMetadata=null,n.prototype.audioStreamIdInfo=null,n.prototype.pingPong=null,n.prototype.audioStatus=null,n.prototype.clientMetric=null,n.prototype.dataMessage=null,n.prototype.remoteVideoUpdate=null,n.prototype.primaryMeetingJoin=null,n.prototype.primaryMeetingJoinAck=null,n.prototype.primaryMeetingLeave=null,n.create=o(function(e){return new n(e)},"create"),n.encode=o(function(e,t){return t||(t=m.create()),t.uint32(8).uint64(e.timestampMs),t.uint32(16).int32(e.type),e.error!=null&&Object.hasOwnProperty.call(e,"error")&&a.SdkErrorFrame.encode(e.error,t.uint32(26).fork()).ldelim(),e.join!=null&&Object.hasOwnProperty.call(e,"join")&&a.SdkJoinFrame.encode(e.join,t.uint32(34).fork()).ldelim(),e.joinack!=null&&Object.hasOwnProperty.call(e,"joinack")&&a.SdkJoinAckFrame.encode(e.joinack,t.uint32(42).fork()).ldelim(),e.sub!=null&&Object.hasOwnProperty.call(e,"sub")&&a.SdkSubscribeFrame.encode(e.sub,t.uint32(50).fork()).ldelim(),e.suback!=null&&Object.hasOwnProperty.call(e,"suback")&&a.SdkSubscribeAckFrame.encode(e.suback,t.uint32(58).fork()).ldelim(),e.index!=null&&Object.hasOwnProperty.call(e,"index")&&a.SdkIndexFrame.encode(e.index,t.uint32(66).fork()).ldelim(),e.pause!=null&&Object.hasOwnProperty.call(e,"pause")&&a.SdkPauseResumeFrame.encode(e.pause,t.uint32(82).fork()).ldelim(),e.leave!=null&&Object.hasOwnProperty.call(e,"leave")&&a.SdkLeaveFrame.encode(e.leave,t.uint32(90).fork()).ldelim(),e.leaveAck!=null&&Object.hasOwnProperty.call(e,"leaveAck")&&a.SdkLeaveAckFrame.encode(e.leaveAck,t.uint32(98).fork()).ldelim(),e.bitrates!=null&&Object.hasOwnProperty.call(e,"bitrates")&&a.SdkBitrateFrame.encode(e.bitrates,t.uint32(114).fork()).ldelim(),e.audioControl!=null&&Object.hasOwnProperty.call(e,"audioControl")&&a.SdkAudioControlFrame.encode(e.audioControl,t.uint32(138).fork()).ldelim(),e.audioMetadata!=null&&Object.hasOwnProperty.call(e,"audioMetadata")&&a.SdkAudioMetadataFrame.encode(e.audioMetadata,t.uint32(146).fork()).ldelim(),e.audioStreamIdInfo!=null&&Object.hasOwnProperty.call(e,"audioStreamIdInfo")&&a.SdkAudioStreamIdInfoFrame.encode(e.audioStreamIdInfo,t.uint32(154).fork()).ldelim(),e.pingPong!=null&&Object.hasOwnProperty.call(e,"pingPong")&&a.SdkPingPongFrame.encode(e.pingPong,t.uint32(162).fork()).ldelim(),e.audioStatus!=null&&Object.hasOwnProperty.call(e,"audioStatus")&&a.SdkAudioStatusFrame.encode(e.audioStatus,t.uint32(170).fork()).ldelim(),e.clientMetric!=null&&Object.hasOwnProperty.call(e,"clientMetric")&&a.SdkClientMetricFrame.encode(e.clientMetric,t.uint32(178).fork()).ldelim(),e.dataMessage!=null&&Object.hasOwnProperty.call(e,"dataMessage")&&a.SdkDataMessageFrame.encode(e.dataMessage,t.uint32(186).fork()).ldelim(),e.remoteVideoUpdate!=null&&Object.hasOwnProperty.call(e,"remoteVideoUpdate")&&a.SdkRemoteVideoUpdateFrame.encode(e.remoteVideoUpdate,t.uint32(202).fork()).ldelim(),e.primaryMeetingJoin!=null&&Object.hasOwnProperty.call(e,"primaryMeetingJoin")&&a.SdkPrimaryMeetingJoinFrame.encode(e.primaryMeetingJoin,t.uint32(210).fork()).ldelim(),e.primaryMeetingJoinAck!=null&&Object.hasOwnProperty.call(e,"primaryMeetingJoinAck")&&a.SdkPrimaryMeetingJoinAckFrame.encode(e.primaryMeetingJoinAck,t.uint32(218).fork()).ldelim(),e.primaryMeetingLeave!=null&&Object.hasOwnProperty.call(e,"primaryMeetingLeave")&&a.SdkPrimaryMeetingLeaveFrame.encode(e.primaryMeetingLeave,t.uint32(226).fork()).ldelim(),t},"encode"),n.encodeDelimited=o(function(e,t){return this.encode(e,t).ldelim()},"encodeDelimited"),n.decode=o(function(e,t){e instanceof h||(e=h.create(e));for(var r=t===void 0?e.len:e.pos+t,l=new a.SdkSignalFrame;e.pos<r;){var p=e.uint32();switch(p>>>3){case 1:l.timestampMs=e.uint64();break;case 2:l.type=e.int32();break;case 3:l.error=a.SdkErrorFrame.decode(e,e.uint32());break;case 4:l.join=a.SdkJoinFrame.decode(e,e.uint32());break;case 5:l.joinack=a.SdkJoinAckFrame.decode(e,e.uint32());break;case 6:l.sub=a.SdkSubscribeFrame.decode(e,e.uint32());break;case 7:l.suback=a.SdkSubscribeAckFrame.decode(e,e.uint32());break;case 8:l.index=a.SdkIndexFrame.decode(e,e.uint32());break;case 10:l.pause=a.SdkPauseResumeFrame.decode(e,e.uint32());break;case 11:l.leave=a.SdkLeaveFrame.decode(e,e.uint32());break;case 12:l.leaveAck=a.SdkLeaveAckFrame.decode(e,e.uint32());break;case 14:l.bitrates=a.SdkBitrateFrame.decode(e,e.uint32());break;case 17:l.audioControl=a.SdkAudioControlFrame.decode(e,e.uint32());break;case 18:l.audioMetadata=a.SdkAudioMetadataFrame.decode(e,e.uint32());break;case 19:l.audioStreamIdInfo=a.SdkAudioStreamIdInfoFrame.decode(e,e.uint32());break;case 20:l.pingPong=a.SdkPingPongFrame.decode(e,e.uint32());break;case 21:l.audioStatus=a.SdkAudioStatusFrame.decode(e,e.uint32());break;case 22:l.clientMetric=a.SdkClientMetricFrame.decode(e,e.uint32());break;case 23:l.dataMessage=a.SdkDataMessageFrame.decode(e,e.uint32());break;case 25:l.remoteVideoUpdate=a.SdkRemoteVideoUpdateFrame.decode(e,e.uint32());break;case 26:l.primaryMeetingJoin=a.SdkPrimaryMeetingJoinFrame.decode(e,e.uint32());break;case 27:l.primaryMeetingJoinAck=a.SdkPrimaryMeetingJoinAckFrame.decode(e,e.uint32());break;case 28:l.primaryMeetingLeave=a.SdkPrimaryMeetingLeaveFrame.decode(e,e.uint32());break;default:e.skipType(p&7);break}}if(!l.hasOwnProperty("timestampMs"))throw f.ProtocolError("missing required 'timestampMs'",{instance:l});if(!l.hasOwnProperty("type"))throw f.ProtocolError("missing required 'type'",{instance:l});return l},"decode"),n.decodeDelimited=o(function(e){return e instanceof h||(e=new h(e)),this.decode(e,e.uint32())},"decodeDelimited"),n.verify=o(function(e){if(typeof e!="object"||e===null)return"object expected";if(!f.isInteger(e.timestampMs)&&!(e.timestampMs&&f.isInteger(e.timestampMs.low)&&f.isInteger(e.timestampMs.high)))return"timestampMs: integer|Long expected";switch(e.type){default:return"type: enum value expected";case 1:case 2:case 3:case 4:case 5:case 7:case 8:case 9:case 10:case 13:case 16:case 17:case 18:case 19:case 20:case 21:case 22:case 24:case 25:case 26:case 27:break}if(e.error!=null&&e.hasOwnProperty("error")){var t=a.SdkErrorFrame.verify(e.error);if(t)return"error."+t}if(e.join!=null&&e.hasOwnProperty("join")){var t=a.SdkJoinFrame.verify(e.join);if(t)return"join."+t}if(e.joinack!=null&&e.hasOwnProperty("joinack")){var t=a.SdkJoinAckFrame.verify(e.joinack);if(t)return"joinack."+t}if(e.sub!=null&&e.hasOwnProperty("sub")){var t=a.SdkSubscribeFrame.verify(e.sub);if(t)return"sub."+t}if(e.suback!=null&&e.hasOwnProperty("suback")){var t=a.SdkSubscribeAckFrame.verify(e.suback);if(t)return"suback."+t}if(e.index!=null&&e.hasOwnProperty("index")){var t=a.SdkIndexFrame.verify(e.index);if(t)return"index."+t}if(e.pause!=null&&e.hasOwnProperty("pause")){var t=a.SdkPauseResumeFrame.verify(e.pause);if(t)return"pause."+t}if(e.leave!=null&&e.hasOwnProperty("leave")){var t=a.SdkLeaveFrame.verify(e.leave);if(t)return"leave."+t}if(e.leaveAck!=null&&e.hasOwnProperty("leaveAck")){var t=a.SdkLeaveAckFrame.verify(e.leaveAck);if(t)return"leaveAck."+t}if(e.bitrates!=null&&e.hasOwnProperty("bitrates")){var t=a.SdkBitrateFrame.verify(e.bitrates);if(t)return"bitrates."+t}if(e.audioControl!=null&&e.hasOwnProperty("audioControl")){var t=a.SdkAudioControlFrame.verify(e.audioControl);if(t)return"audioControl."+t}if(e.audioMetadata!=null&&e.hasOwnProperty("audioMetadata")){var t=a.SdkAudioMetadataFrame.verify(e.audioMetadata);if(t)return"audioMetadata."+t}if(e.audioStreamIdInfo!=null&&e.hasOwnProperty("audioStreamIdInfo")){var t=a.SdkAudioStreamIdInfoFrame.verify(e.audioStreamIdInfo);if(t)return"audioStreamIdInfo."+t}if(e.pingPong!=null&&e.hasOwnProperty("pingPong")){var t=a.SdkPingPongFrame.verify(e.pingPong);if(t)return"pingPong."+t}if(e.audioStatus!=null&&e.hasOwnProperty("audioStatus")){var t=a.SdkAudioStatusFrame.verify(e.audioStatus);if(t)return"audioStatus."+t}if(e.clientMetric!=null&&e.hasOwnProperty("clientMetric")){var t=a.SdkClientMetricFrame.verify(e.clientMetric);if(t)return"clientMetric."+t}if(e.dataMessage!=null&&e.hasOwnProperty("dataMessage")){var t=a.SdkDataMessageFrame.verify(e.dataMessage);if(t)return"dataMessage."+t}if(e.remoteVideoUpdate!=null&&e.hasOwnProperty("remoteVideoUpdate")){var t=a.SdkRemoteVideoUpdateFrame.verify(e.remoteVideoUpdate);if(t)return"remoteVideoUpdate."+t}if(e.primaryMeetingJoin!=null&&e.hasOwnProperty("primaryMeetingJoin")){var t=a.SdkPrimaryMeetingJoinFrame.verify(e.primaryMeetingJoin);if(t)return"primaryMeetingJoin."+t}if(e.primaryMeetingJoinAck!=null&&e.hasOwnProperty("primaryMeetingJoinAck")){var t=a.SdkPrimaryMeetingJoinAckFrame.verify(e.primaryMeetingJoinAck);if(t)return"primaryMeetingJoinAck."+t}if(e.primaryMeetingLeave!=null&&e.hasOwnProperty("primaryMeetingLeave")){var t=a.SdkPrimaryMeetingLeaveFrame.verify(e.primaryMeetingLeave);if(t)return"primaryMeetingLeave."+t}return null},"verify"),n.fromObject=o(function(e){if(e instanceof a.SdkSignalFrame)return e;var t=new a.SdkSignalFrame;switch(e.timestampMs!=null&&(f.Long?(t.timestampMs=f.Long.fromValue(e.timestampMs)).unsigned=!0:typeof e.timestampMs=="string"?t.timestampMs=parseInt(e.timestampMs,10):typeof e.timestampMs=="number"?t.timestampMs=e.timestampMs:typeof e.timestampMs=="object"&&(t.timestampMs=new f.LongBits(e.timestampMs.low>>>0,e.timestampMs.high>>>0).toNumber(!0))),e.type){case"JOIN":case 1:t.type=1;break;case"JOIN_ACK":case 2:t.type=2;break;case"SUBSCRIBE":case 3:t.type=3;break;case"SUBSCRIBE_ACK":case 4:t.type=4;break;case"INDEX":case 5:t.type=5;break;case"PAUSE":case 7:t.type=7;break;case"RESUME":case 8:t.type=8;break;case"LEAVE":case 9:t.type=9;break;case"LEAVE_ACK":case 10:t.type=10;break;case"BITRATES":case 13:t.type=13;break;case"AUDIO_CONTROL":case 16:t.type=16;break;case"AUDIO_METADATA":case 17:t.type=17;break;case"AUDIO_STREAM_ID_INFO":case 18:t.type=18;break;case"PING_PONG":case 19:t.type=19;break;case"AUDIO_STATUS":case 20:t.type=20;break;case"CLIENT_METRIC":case 21:t.type=21;break;case"DATA_MESSAGE":case 22:t.type=22;break;case"REMOTE_VIDEO_UPDATE":case 24:t.type=24;break;case"PRIMARY_MEETING_JOIN":case 25:t.type=25;break;case"PRIMARY_MEETING_JOIN_ACK":case 26:t.type=26;break;case"PRIMARY_MEETING_LEAVE":case 27:t.type=27;break}if(e.error!=null){if(typeof e.error!="object")throw TypeError(".SdkSignalFrame.error: object expected");t.error=a.SdkErrorFrame.fromObject(e.error)}if(e.join!=null){if(typeof e.join!="object")throw TypeError(".SdkSignalFrame.join: object expected");t.join=a.SdkJoinFrame.fromObject(e.join)}if(e.joinack!=null){if(typeof e.joinack!="object")throw TypeError(".SdkSignalFrame.joinack: object expected");t.joinack=a.SdkJoinAckFrame.fromObject(e.joinack)}if(e.sub!=null){if(typeof e.sub!="object")throw TypeError(".SdkSignalFrame.sub: object expected");t.sub=a.SdkSubscribeFrame.fromObject(e.sub)}if(e.suback!=null){if(typeof e.suback!="object")throw TypeError(".SdkSignalFrame.suback: object expected");t.suback=a.SdkSubscribeAckFrame.fromObject(e.suback)}if(e.index!=null){if(typeof e.index!="object")throw TypeError(".SdkSignalFrame.index: object expected");t.index=a.SdkIndexFrame.fromObject(e.index)}if(e.pause!=null){if(typeof e.pause!="object")throw TypeError(".SdkSignalFrame.pause: object expected");t.pause=a.SdkPauseResumeFrame.fromObject(e.pause)}if(e.leave!=null){if(typeof e.leave!="object")throw TypeError(".SdkSignalFrame.leave: object expected");t.leave=a.SdkLeaveFrame.fromObject(e.leave)}if(e.leaveAck!=null){if(typeof e.leaveAck!="object")throw TypeError(".SdkSignalFrame.leaveAck: object expected");t.leaveAck=a.SdkLeaveAckFrame.fromObject(e.leaveAck)}if(e.bitrates!=null){if(typeof e.bitrates!="object")throw TypeError(".SdkSignalFrame.bitrates: object expected");t.bitrates=a.SdkBitrateFrame.fromObject(e.bitrates)}if(e.audioControl!=null){if(typeof e.audioControl!="object")throw TypeError(".SdkSignalFrame.audioControl: object expected");t.audioControl=a.SdkAudioControlFrame.fromObject(e.audioControl)}if(e.audioMetadata!=null){if(typeof e.audioMetadata!="object")throw TypeError(".SdkSignalFrame.audioMetadata: object expected");t.audioMetadata=a.SdkAudioMetadataFrame.fromObject(e.audioMetadata)}if(e.audioStreamIdInfo!=null){if(typeof e.audioStreamIdInfo!="object")throw TypeError(".SdkSignalFrame.audioStreamIdInfo: object expected");t.audioStreamIdInfo=a.SdkAudioStreamIdInfoFrame.fromObject(e.audioStreamIdInfo)}if(e.pingPong!=null){if(typeof e.pingPong!="object")throw TypeError(".SdkSignalFrame.pingPong: object expected");t.pingPong=a.SdkPingPongFrame.fromObject(e.pingPong)}if(e.audioStatus!=null){if(typeof e.audioStatus!="object")throw TypeError(".SdkSignalFrame.audioStatus: object expected");t.audioStatus=a.SdkAudioStatusFrame.fromObject(e.audioStatus)}if(e.clientMetric!=null){if(typeof e.clientMetric!="object")throw TypeError(".SdkSignalFrame.clientMetric: object expected");t.clientMetric=a.SdkClientMetricFrame.fromObject(e.clientMetric)}if(e.dataMessage!=null){if(typeof e.dataMessage!="object")throw TypeError(".SdkSignalFrame.dataMessage: object expected");t.dataMessage=a.SdkDataMessageFrame.fromObject(e.dataMessage)}if(e.remoteVideoUpdate!=null){if(typeof e.remoteVideoUpdate!="object")throw TypeError(".SdkSignalFrame.remoteVideoUpdate: object expected");t.remoteVideoUpdate=a.SdkRemoteVideoUpdateFrame.fromObject(e.remoteVideoUpdate)}if(e.primaryMeetingJoin!=null){if(typeof e.primaryMeetingJoin!="object")throw TypeError(".SdkSignalFrame.primaryMeetingJoin: object expected");t.primaryMeetingJoin=a.SdkPrimaryMeetingJoinFrame.fromObject(e.primaryMeetingJoin)}if(e.primaryMeetingJoinAck!=null){if(typeof e.primaryMeetingJoinAck!="object")throw TypeError(".SdkSignalFrame.primaryMeetingJoinAck: object expected");t.primaryMeetingJoinAck=a.SdkPrimaryMeetingJoinAckFrame.fromObject(e.primaryMeetingJoinAck)}if(e.primaryMeetingLeave!=null){if(typeof e.primaryMeetingLeave!="object")throw TypeError(".SdkSignalFrame.primaryMeetingLeave: object expected");t.primaryMeetingLeave=a.SdkPrimaryMeetingLeaveFrame.fromObject(e.primaryMeetingLeave)}return t},"fromObject"),n.toObject=o(function(e,t){t||(t={});var r={};if(t.defaults){if(f.Long){var l=new f.Long(0,0,!0);r.timestampMs=t.longs===String?l.toString():t.longs===Number?l.toNumber():l}else r.timestampMs=t.longs===String?"0":0;r.type=t.enums===String?"JOIN":1,r.error=null,r.join=null,r.joinack=null,r.sub=null,r.suback=null,r.index=null,r.pause=null,r.leave=null,r.leaveAck=null,r.bitrates=null,r.audioControl=null,r.audioMetadata=null,r.audioStreamIdInfo=null,r.pingPong=null,r.audioStatus=null,r.clientMetric=null,r.dataMessage=null,r.remoteVideoUpdate=null,r.primaryMeetingJoin=null,r.primaryMeetingJoinAck=null,r.primaryMeetingLeave=null}return e.timestampMs!=null&&e.hasOwnProperty("timestampMs")&&(typeof e.timestampMs=="number"?r.timestampMs=t.longs===String?String(e.timestampMs):e.timestampMs:r.timestampMs=t.longs===String?f.Long.prototype.toString.call(e.timestampMs):t.longs===Number?new f.LongBits(e.timestampMs.low>>>0,e.timestampMs.high>>>0).toNumber(!0):e.timestampMs),e.type!=null&&e.hasOwnProperty("type")&&(r.type=t.enums===String?a.SdkSignalFrame.Type[e.type]:e.type),e.error!=null&&e.hasOwnProperty("error")&&(r.error=a.SdkErrorFrame.toObject(e.error,t)),e.join!=null&&e.hasOwnProperty("join")&&(r.join=a.SdkJoinFrame.toObject(e.join,t)),e.joinack!=null&&e.hasOwnProperty("joinack")&&(r.joinack=a.SdkJoinAckFrame.toObject(e.joinack,t)),e.sub!=null&&e.hasOwnProperty("sub")&&(r.sub=a.SdkSubscribeFrame.toObject(e.sub,t)),e.suback!=null&&e.hasOwnProperty("suback")&&(r.suback=a.SdkSubscribeAckFrame.toObject(e.suback,t)),e.index!=null&&e.hasOwnProperty("index")&&(r.index=a.SdkIndexFrame.toObject(e.index,t)),e.pause!=null&&e.hasOwnProperty("pause")&&(r.pause=a.SdkPauseResumeFrame.toObject(e.pause,t)),e.leave!=null&&e.hasOwnProperty("leave")&&(r.leave=a.SdkLeaveFrame.toObject(e.leave,t)),e.leaveAck!=null&&e.hasOwnProperty("leaveAck")&&(r.leaveAck=a.SdkLeaveAckFrame.toObject(e.leaveAck,t)),e.bitrates!=null&&e.hasOwnProperty("bitrates")&&(r.bitrates=a.SdkBitrateFrame.toObject(e.bitrates,t)),e.audioControl!=null&&e.hasOwnProperty("audioControl")&&(r.audioControl=a.SdkAudioControlFrame.toObject(e.audioControl,t)),e.audioMetadata!=null&&e.hasOwnProperty("audioMetadata")&&(r.audioMetadata=a.SdkAudioMetadataFrame.toObject(e.audioMetadata,t)),e.audioStreamIdInfo!=null&&e.hasOwnProperty("audioStreamIdInfo")&&(r.audioStreamIdInfo=a.SdkAudioStreamIdInfoFrame.toObject(e.audioStreamIdInfo,t)),e.pingPong!=null&&e.hasOwnProperty("pingPong")&&(r.pingPong=a.SdkPingPongFrame.toObject(e.pingPong,t)),e.audioStatus!=null&&e.hasOwnProperty("audioStatus")&&(r.audioStatus=a.SdkAudioStatusFrame.toObject(e.audioStatus,t)),e.clientMetric!=null&&e.hasOwnProperty("clientMetric")&&(r.clientMetric=a.SdkClientMetricFrame.toObject(e.clientMetric,t)),e.dataMessage!=null&&e.hasOwnProperty("dataMessage")&&(r.dataMessage=a.SdkDataMessageFrame.toObject(e.dataMessage,t)),e.remoteVideoUpdate!=null&&e.hasOwnProperty("remoteVideoUpdate")&&(r.remoteVideoUpdate=a.SdkRemoteVideoUpdateFrame.toObject(e.remoteVideoUpdate,t)),e.primaryMeetingJoin!=null&&e.hasOwnProperty("primaryMeetingJoin")&&(r.primaryMeetingJoin=a.SdkPrimaryMeetingJoinFrame.toObject(e.primaryMeetingJoin,t)),e.primaryMeetingJoinAck!=null&&e.hasOwnProperty("primaryMeetingJoinAck")&&(r.primaryMeetingJoinAck=a.SdkPrimaryMeetingJoinAckFrame.toObject(e.primaryMeetingJoinAck,t)),e.primaryMeetingLeave!=null&&e.hasOwnProperty("primaryMeetingLeave")&&(r.primaryMeetingLeave=a.SdkPrimaryMeetingLeaveFrame.toObject(e.primaryMeetingLeave,t)),r},"toObject"),n.prototype.toJSON=o(function(){return this.constructor.toObject(this,S.util.toJSONOptions)},"toJSON"),n.Type=function(){var i={},e=Object.create(i);return e[i[1]="JOIN"]=1,e[i[2]="JOIN_ACK"]=2,e[i[3]="SUBSCRIBE"]=3,e[i[4]="SUBSCRIBE_ACK"]=4,e[i[5]="INDEX"]=5,e[i[7]="PAUSE"]=7,e[i[8]="RESUME"]=8,e[i[9]="LEAVE"]=9,e[i[10]="LEAVE_ACK"]=10,e[i[13]="BITRATES"]=13,e[i[16]="AUDIO_CONTROL"]=16,e[i[17]="AUDIO_METADATA"]=17,e[i[18]="AUDIO_STREAM_ID_INFO"]=18,e[i[19]="PING_PONG"]=19,e[i[20]="AUDIO_STATUS"]=20,e[i[21]="CLIENT_METRIC"]=21,e[i[22]="DATA_MESSAGE"]=22,e[i[24]="REMOTE_VIDEO_UPDATE"]=24,e[i[25]="PRIMARY_MEETING_JOIN"]=25,e[i[26]="PRIMARY_MEETING_JOIN_ACK"]=26,e[i[27]="PRIMARY_MEETING_LEAVE"]=27,e}(),n}(),a.SdkErrorFrame=function(){function n(i){if(i)for(var e=Object.keys(i),t=0;t<e.length;++t)i[e[t]]!=null&&(this[e[t]]=i[e[t]])}return o(n,"SdkErrorFrame"),n.prototype.status=0,n.prototype.description="",n.create=o(function(e){return new n(e)},"create"),n.encode=o(function(e,t){return t||(t=m.create()),e.status!=null&&Object.hasOwnProperty.call(e,"status")&&t.uint32(8).uint32(e.status),e.description!=null&&Object.hasOwnProperty.call(e,"description")&&t.uint32(18).string(e.description),t},"encode"),n.encodeDelimited=o(function(e,t){return this.encode(e,t).ldelim()},"encodeDelimited"),n.decode=o(function(e,t){e instanceof h||(e=h.create(e));for(var r=t===void 0?e.len:e.pos+t,l=new a.SdkErrorFrame;e.pos<r;){var p=e.uint32();switch(p>>>3){case 1:l.status=e.uint32();break;case 2:l.description=e.string();break;default:e.skipType(p&7);break}}return l},"decode"),n.decodeDelimited=o(function(e){return e instanceof h||(e=new h(e)),this.decode(e,e.uint32())},"decodeDelimited"),n.verify=o(function(e){return typeof e!="object"||e===null?"object expected":e.status!=null&&e.hasOwnProperty("status")&&!f.isInteger(e.status)?"status: integer expected":e.description!=null&&e.hasOwnProperty("description")&&!f.isString(e.description)?"description: string expected":null},"verify"),n.fromObject=o(function(e){if(e instanceof a.SdkErrorFrame)return e;var t=new a.SdkErrorFrame;return e.status!=null&&(t.status=e.status>>>0),e.description!=null&&(t.description=String(e.description)),t},"fromObject"),n.toObject=o(function(e,t){t||(t={});var r={};return t.defaults&&(r.status=0,r.description=""),e.status!=null&&e.hasOwnProperty("status")&&(r.status=e.status),e.description!=null&&e.hasOwnProperty("description")&&(r.description=e.description),r},"toObject"),n.prototype.toJSON=o(function(){return this.constructor.toObject(this,S.util.toJSONOptions)},"toJSON"),n}(),a.SdkJoinFlags=function(){var n={},i=Object.create(n);return i[n[2]="HAS_STREAM_UPDATE"]=2,i[n[16]="COMPLETE_VIDEO_SOURCES_LIST"]=16,i[n[32]="EXCLUDE_SELF_CONTENT_IN_INDEX"]=32,i}(),a.SdkClientDetails=function(){function n(i){if(i)for(var e=Object.keys(i),t=0;t<e.length;++t)i[e[t]]!=null&&(this[e[t]]=i[e[t]])}return o(n,"SdkClientDetails"),n.prototype.appName="",n.prototype.appVersion="",n.prototype.deviceModel="",n.prototype.deviceMake="",n.prototype.platformName="",n.prototype.platformVersion="",n.prototype.clientSource="",n.prototype.chimeSdkVersion="",n.prototype.clientUtcOffset="",n.create=o(function(e){return new n(e)},"create"),n.encode=o(function(e,t){return t||(t=m.create()),e.appName!=null&&Object.hasOwnProperty.call(e,"appName")&&t.uint32(10).string(e.appName),e.appVersion!=null&&Object.hasOwnProperty.call(e,"appVersion")&&t.uint32(18).string(e.appVersion),e.deviceModel!=null&&Object.hasOwnProperty.call(e,"deviceModel")&&t.uint32(26).string(e.deviceModel),e.deviceMake!=null&&Object.hasOwnProperty.call(e,"deviceMake")&&t.uint32(34).string(e.deviceMake),e.platformName!=null&&Object.hasOwnProperty.call(e,"platformName")&&t.uint32(42).string(e.platformName),e.platformVersion!=null&&Object.hasOwnProperty.call(e,"platformVersion")&&t.uint32(50).string(e.platformVersion),e.clientSource!=null&&Object.hasOwnProperty.call(e,"clientSource")&&t.uint32(58).string(e.clientSource),e.chimeSdkVersion!=null&&Object.hasOwnProperty.call(e,"chimeSdkVersion")&&t.uint32(66).string(e.chimeSdkVersion),e.clientUtcOffset!=null&&Object.hasOwnProperty.call(e,"clientUtcOffset")&&t.uint32(74).string(e.clientUtcOffset),t},"encode"),n.encodeDelimited=o(function(e,t){return this.encode(e,t).ldelim()},"encodeDelimited"),n.decode=o(function(e,t){e instanceof h||(e=h.create(e));for(var r=t===void 0?e.len:e.pos+t,l=new a.SdkClientDetails;e.pos<r;){var p=e.uint32();switch(p>>>3){case 1:l.appName=e.string();break;case 2:l.appVersion=e.string();break;case 3:l.deviceModel=e.string();break;case 4:l.deviceMake=e.string();break;case 5:l.platformName=e.string();break;case 6:l.platformVersion=e.string();break;case 7:l.clientSource=e.string();break;case 8:l.chimeSdkVersion=e.string();break;case 9:l.clientUtcOffset=e.string();break;default:e.skipType(p&7);break}}return l},"decode"),n.decodeDelimited=o(function(e){return e instanceof h||(e=new h(e)),this.decode(e,e.uint32())},"decodeDelimited"),n.verify=o(function(e){return typeof e!="object"||e===null?"object expected":e.appName!=null&&e.hasOwnProperty("appName")&&!f.isString(e.appName)?"appName: string expected":e.appVersion!=null&&e.hasOwnProperty("appVersion")&&!f.isString(e.appVersion)?"appVersion: string expected":e.deviceModel!=null&&e.hasOwnProperty("deviceModel")&&!f.isString(e.deviceModel)?"deviceModel: string expected":e.deviceMake!=null&&e.hasOwnProperty("deviceMake")&&!f.isString(e.deviceMake)?"deviceMake: string expected":e.platformName!=null&&e.hasOwnProperty("platformName")&&!f.isString(e.platformName)?"platformName: string expected":e.platformVersion!=null&&e.hasOwnProperty("platformVersion")&&!f.isString(e.platformVersion)?"platformVersion: string expected":e.clientSource!=null&&e.hasOwnProperty("clientSource")&&!f.isString(e.clientSource)?"clientSource: string expected":e.chimeSdkVersion!=null&&e.hasOwnProperty("chimeSdkVersion")&&!f.isString(e.chimeSdkVersion)?"chimeSdkVersion: string expected":e.clientUtcOffset!=null&&e.hasOwnProperty("clientUtcOffset")&&!f.isString(e.clientUtcOffset)?"clientUtcOffset: string expected":null},"verify"),n.fromObject=o(function(e){if(e instanceof a.SdkClientDetails)return e;var t=new a.SdkClientDetails;return e.appName!=null&&(t.appName=String(e.appName)),e.appVersion!=null&&(t.appVersion=String(e.appVersion)),e.deviceModel!=null&&(t.deviceModel=String(e.deviceModel)),e.deviceMake!=null&&(t.deviceMake=String(e.deviceMake)),e.platformName!=null&&(t.platformName=String(e.platformName)),e.platformVersion!=null&&(t.platformVersion=String(e.platformVersion)),e.clientSource!=null&&(t.clientSource=String(e.clientSource)),e.chimeSdkVersion!=null&&(t.chimeSdkVersion=String(e.chimeSdkVersion)),e.clientUtcOffset!=null&&(t.clientUtcOffset=String(e.clientUtcOffset)),t},"fromObject"),n.toObject=o(function(e,t){t||(t={});var r={};return t.defaults&&(r.appName="",r.appVersion="",r.deviceModel="",r.deviceMake="",r.platformName="",r.platformVersion="",r.clientSource="",r.chimeSdkVersion="",r.clientUtcOffset=""),e.appName!=null&&e.hasOwnProperty("appName")&&(r.appName=e.appName),e.appVersion!=null&&e.hasOwnProperty("appVersion")&&(r.appVersion=e.appVersion),e.deviceModel!=null&&e.hasOwnProperty("deviceModel")&&(r.deviceModel=e.deviceModel),e.deviceMake!=null&&e.hasOwnProperty("deviceMake")&&(r.deviceMake=e.deviceMake),e.platformName!=null&&e.hasOwnProperty("platformName")&&(r.platformName=e.platformName),e.platformVersion!=null&&e.hasOwnProperty("platformVersion")&&(r.platformVersion=e.platformVersion),e.clientSource!=null&&e.hasOwnProperty("clientSource")&&(r.clientSource=e.clientSource),e.chimeSdkVersion!=null&&e.hasOwnProperty("chimeSdkVersion")&&(r.chimeSdkVersion=e.chimeSdkVersion),e.clientUtcOffset!=null&&e.hasOwnProperty("clientUtcOffset")&&(r.clientUtcOffset=e.clientUtcOffset),r},"toObject"),n.prototype.toJSON=o(function(){return this.constructor.toObject(this,S.util.toJSONOptions)},"toJSON"),n}(),a.SdkServerSideNetworkAdaption=function(){var n={},i=Object.create(n);return i[n[1]="DEFAULT"]=1,i[n[2]="NONE"]=2,i[n[3]="BANDWIDTH_PROBING"]=3,i}(),a.SdkJoinFrame=function(){function n(i){if(this.supportedServerSideNetworkAdaptions=[],i)for(var e=Object.keys(i),t=0;t<e.length;++t)i[e[t]]!=null&&(this[e[t]]=i[e[t]])}return o(n,"SdkJoinFrame"),n.prototype.protocolVersion=2,n.prototype.maxNumOfVideos=0,n.prototype.flags=0,n.prototype.clientDetails=null,n.prototype.audioSessionId=f.Long?f.Long.fromBits(0,0,!0):0,n.prototype.wantsCompressedSdp=!1,n.prototype.serverSideNetworkAdaption=1,n.prototype.supportedServerSideNetworkAdaptions=f.emptyArray,n.prototype.disablePeriodicKeyframeRequestOnContentSender=!1,n.create=o(function(e){return new n(e)},"create"),n.encode=o(function(e,t){if(t||(t=m.create()),e.protocolVersion!=null&&Object.hasOwnProperty.call(e,"protocolVersion")&&t.uint32(8).uint32(e.protocolVersion),e.maxNumOfVideos!=null&&Object.hasOwnProperty.call(e,"maxNumOfVideos")&&t.uint32(16).uint32(e.maxNumOfVideos),e.flags!=null&&Object.hasOwnProperty.call(e,"flags")&&t.uint32(24).uint32(e.flags),e.clientDetails!=null&&Object.hasOwnProperty.call(e,"clientDetails")&&a.SdkClientDetails.encode(e.clientDetails,t.uint32(34).fork()).ldelim(),e.audioSessionId!=null&&Object.hasOwnProperty.call(e,"audioSessionId")&&t.uint32(48).uint64(e.audioSessionId),e.wantsCompressedSdp!=null&&Object.hasOwnProperty.call(e,"wantsCompressedSdp")&&t.uint32(56).bool(e.wantsCompressedSdp),e.serverSideNetworkAdaption!=null&&Object.hasOwnProperty.call(e,"serverSideNetworkAdaption")&&t.uint32(80).int32(e.serverSideNetworkAdaption),e.supportedServerSideNetworkAdaptions!=null&&e.supportedServerSideNetworkAdaptions.length)for(var r=0;r<e.supportedServerSideNetworkAdaptions.length;++r)t.uint32(88).int32(e.supportedServerSideNetworkAdaptions[r]);return e.disablePeriodicKeyframeRequestOnContentSender!=null&&Object.hasOwnProperty.call(e,"disablePeriodicKeyframeRequestOnContentSender")&&t.uint32(104).bool(e.disablePeriodicKeyframeRequestOnContentSender),t},"encode"),n.encodeDelimited=o(function(e,t){return this.encode(e,t).ldelim()},"encodeDelimited"),n.decode=o(function(e,t){e instanceof h||(e=h.create(e));for(var r=t===void 0?e.len:e.pos+t,l=new a.SdkJoinFrame;e.pos<r;){var p=e.uint32();switch(p>>>3){case 1:l.protocolVersion=e.uint32();break;case 2:l.maxNumOfVideos=e.uint32();break;case 3:l.flags=e.uint32();break;case 4:l.clientDetails=a.SdkClientDetails.decode(e,e.uint32());break;case 6:l.audioSessionId=e.uint64();break;case 7:l.wantsCompressedSdp=e.bool();break;case 10:l.serverSideNetworkAdaption=e.int32();break;case 11:if(l.supportedServerSideNetworkAdaptions&&l.supportedServerSideNetworkAdaptions.length||(l.supportedServerSideNetworkAdaptions=[]),(p&7)===2)for(var v=e.uint32()+e.pos;e.pos<v;)l.supportedServerSideNetworkAdaptions.push(e.int32());else l.supportedServerSideNetworkAdaptions.push(e.int32());break;case 13:l.disablePeriodicKeyframeRequestOnContentSender=e.bool();break;default:e.skipType(p&7);break}}return l},"decode"),n.decodeDelimited=o(function(e){return e instanceof h||(e=new h(e)),this.decode(e,e.uint32())},"decodeDelimited"),n.verify=o(function(e){if(typeof e!="object"||e===null)return"object expected";if(e.protocolVersion!=null&&e.hasOwnProperty("protocolVersion")&&!f.isInteger(e.protocolVersion))return"protocolVersion: integer expected";if(e.maxNumOfVideos!=null&&e.hasOwnProperty("maxNumOfVideos")&&!f.isInteger(e.maxNumOfVideos))return"maxNumOfVideos: integer expected";if(e.flags!=null&&e.hasOwnProperty("flags")&&!f.isInteger(e.flags))return"flags: integer expected";if(e.clientDetails!=null&&e.hasOwnProperty("clientDetails")){var t=a.SdkClientDetails.verify(e.clientDetails);if(t)return"clientDetails."+t}if(e.audioSessionId!=null&&e.hasOwnProperty("audioSessionId")&&!f.isInteger(e.audioSessionId)&&!(e.audioSessionId&&f.isInteger(e.audioSessionId.low)&&f.isInteger(e.audioSessionId.high)))return"audioSessionId: integer|Long expected";if(e.wantsCompressedSdp!=null&&e.hasOwnProperty("wantsCompressedSdp")&&typeof e.wantsCompressedSdp!="boolean")return"wantsCompressedSdp: boolean expected";if(e.serverSideNetworkAdaption!=null&&e.hasOwnProperty("serverSideNetworkAdaption"))switch(e.serverSideNetworkAdaption){default:return"serverSideNetworkAdaption: enum value expected";case 1:case 2:case 3:break}if(e.supportedServerSideNetworkAdaptions!=null&&e.hasOwnProperty("supportedServerSideNetworkAdaptions")){if(!Array.isArray(e.supportedServerSideNetworkAdaptions))return"supportedServerSideNetworkAdaptions: array expected";for(var r=0;r<e.supportedServerSideNetworkAdaptions.length;++r)switch(e.supportedServerSideNetworkAdaptions[r]){default:return"supportedServerSideNetworkAdaptions: enum value[] expected";case 1:case 2:case 3:break}}return e.disablePeriodicKeyframeRequestOnContentSender!=null&&e.hasOwnProperty("disablePeriodicKeyframeRequestOnContentSender")&&typeof e.disablePeriodicKeyframeRequestOnContentSender!="boolean"?"disablePeriodicKeyframeRequestOnContentSender: boolean expected":null},"verify"),n.fromObject=o(function(e){if(e instanceof a.SdkJoinFrame)return e;var t=new a.SdkJoinFrame;if(e.protocolVersion!=null&&(t.protocolVersion=e.protocolVersion>>>0),e.maxNumOfVideos!=null&&(t.maxNumOfVideos=e.maxNumOfVideos>>>0),e.flags!=null&&(t.flags=e.flags>>>0),e.clientDetails!=null){if(typeof e.clientDetails!="object")throw TypeError(".SdkJoinFrame.clientDetails: object expected");t.clientDetails=a.SdkClientDetails.fromObject(e.clientDetails)}switch(e.audioSessionId!=null&&(f.Long?(t.audioSessionId=f.Long.fromValue(e.audioSessionId)).unsigned=!0:typeof e.audioSessionId=="string"?t.audioSessionId=parseInt(e.audioSessionId,10):typeof e.audioSessionId=="number"?t.audioSessionId=e.audioSessionId:typeof e.audioSessionId=="object"&&(t.audioSessionId=new f.LongBits(e.audioSessionId.low>>>0,e.audioSessionId.high>>>0).toNumber(!0))),e.wantsCompressedSdp!=null&&(t.wantsCompressedSdp=Boolean(e.wantsCompressedSdp)),e.serverSideNetworkAdaption){case"DEFAULT":case 1:t.serverSideNetworkAdaption=1;break;case"NONE":case 2:t.serverSideNetworkAdaption=2;break;case"BANDWIDTH_PROBING":case 3:t.serverSideNetworkAdaption=3;break}if(e.supportedServerSideNetworkAdaptions){if(!Array.isArray(e.supportedServerSideNetworkAdaptions))throw TypeError(".SdkJoinFrame.supportedServerSideNetworkAdaptions: array expected");t.supportedServerSideNetworkAdaptions=[];for(var r=0;r<e.supportedServerSideNetworkAdaptions.length;++r)switch(e.supportedServerSideNetworkAdaptions[r]){default:case"DEFAULT":case 1:t.supportedServerSideNetworkAdaptions[r]=1;break;case"NONE":case 2:t.supportedServerSideNetworkAdaptions[r]=2;break;case"BANDWIDTH_PROBING":case 3:t.supportedServerSideNetworkAdaptions[r]=3;break}}return e.disablePeriodicKeyframeRequestOnContentSender!=null&&(t.disablePeriodicKeyframeRequestOnContentSender=Boolean(e.disablePeriodicKeyframeRequestOnContentSender)),t},"fromObject"),n.toObject=o(function(e,t){t||(t={});var r={};if((t.arrays||t.defaults)&&(r.supportedServerSideNetworkAdaptions=[]),t.defaults){if(r.protocolVersion=2,r.maxNumOfVideos=0,r.flags=0,r.clientDetails=null,f.Long){var l=new f.Long(0,0,!0);r.audioSessionId=t.longs===String?l.toString():t.longs===Number?l.toNumber():l}else r.audioSessionId=t.longs===String?"0":0;r.wantsCompressedSdp=!1,r.serverSideNetworkAdaption=t.enums===String?"DEFAULT":1,r.disablePeriodicKeyframeRequestOnContentSender=!1}if(e.protocolVersion!=null&&e.hasOwnProperty("protocolVersion")&&(r.protocolVersion=e.protocolVersion),e.maxNumOfVideos!=null&&e.hasOwnProperty("maxNumOfVideos")&&(r.maxNumOfVideos=e.maxNumOfVideos),e.flags!=null&&e.hasOwnProperty("flags")&&(r.flags=e.flags),e.clientDetails!=null&&e.hasOwnProperty("clientDetails")&&(r.clientDetails=a.SdkClientDetails.toObject(e.clientDetails,t)),e.audioSessionId!=null&&e.hasOwnProperty("audioSessionId")&&(typeof e.audioSessionId=="number"?r.audioSessionId=t.longs===String?String(e.audioSessionId):e.audioSessionId:r.audioSessionId=t.longs===String?f.Long.prototype.toString.call(e.audioSessionId):t.longs===Number?new f.LongBits(e.audioSessionId.low>>>0,e.audioSessionId.high>>>0).toNumber(!0):e.audioSessionId),e.wantsCompressedSdp!=null&&e.hasOwnProperty("wantsCompressedSdp")&&(r.wantsCompressedSdp=e.wantsCompressedSdp),e.serverSideNetworkAdaption!=null&&e.hasOwnProperty("serverSideNetworkAdaption")&&(r.serverSideNetworkAdaption=t.enums===String?a.SdkServerSideNetworkAdaption[e.serverSideNetworkAdaption]:e.serverSideNetworkAdaption),e.supportedServerSideNetworkAdaptions&&e.supportedServerSideNetworkAdaptions.length){r.supportedServerSideNetworkAdaptions=[];for(var p=0;p<e.supportedServerSideNetworkAdaptions.length;++p)r.supportedServerSideNetworkAdaptions[p]=t.enums===String?a.SdkServerSideNetworkAdaption[e.supportedServerSideNetworkAdaptions[p]]:e.supportedServerSideNetworkAdaptions[p]}return e.disablePeriodicKeyframeRequestOnContentSender!=null&&e.hasOwnProperty("disablePeriodicKeyframeRequestOnContentSender")&&(r.disablePeriodicKeyframeRequestOnContentSender=e.disablePeriodicKeyframeRequestOnContentSender),r},"toObject"),n.prototype.toJSON=o(function(){return this.constructor.toObject(this,S.util.toJSONOptions)},"toJSON"),n}(),a.SdkJoinAckFrame=function(){function n(i){if(i)for(var e=Object.keys(i),t=0;t<e.length;++t)i[e[t]]!=null&&(this[e[t]]=i[e[t]])}return o(n,"SdkJoinAckFrame"),n.prototype.turnCredentials=null,n.prototype.videoSubscriptionLimit=0,n.prototype.wantsCompressedSdp=!1,n.prototype.defaultServerSideNetworkAdaption=1,n.create=o(function(e){return new n(e)},"create"),n.encode=o(function(e,t){return t||(t=m.create()),e.turnCredentials!=null&&Object.hasOwnProperty.call(e,"turnCredentials")&&a.SdkTurnCredentials.encode(e.turnCredentials,t.uint32(10).fork()).ldelim(),e.videoSubscriptionLimit!=null&&Object.hasOwnProperty.call(e,"videoSubscriptionLimit")&&t.uint32(16).uint32(e.videoSubscriptionLimit),e.wantsCompressedSdp!=null&&Object.hasOwnProperty.call(e,"wantsCompressedSdp")&&t.uint32(24).bool(e.wantsCompressedSdp),e.defaultServerSideNetworkAdaption!=null&&Object.hasOwnProperty.call(e,"defaultServerSideNetworkAdaption")&&t.uint32(32).int32(e.defaultServerSideNetworkAdaption),t},"encode"),n.encodeDelimited=o(function(e,t){return this.encode(e,t).ldelim()},"encodeDelimited"),n.decode=o(function(e,t){e instanceof h||(e=h.create(e));for(var r=t===void 0?e.len:e.pos+t,l=new a.SdkJoinAckFrame;e.pos<r;){var p=e.uint32();switch(p>>>3){case 1:l.turnCredentials=a.SdkTurnCredentials.decode(e,e.uint32());break;case 2:l.videoSubscriptionLimit=e.uint32();break;case 3:l.wantsCompressedSdp=e.bool();break;case 4:l.defaultServerSideNetworkAdaption=e.int32();break;default:e.skipType(p&7);break}}return l},"decode"),n.decodeDelimited=o(function(e){return e instanceof h||(e=new h(e)),this.decode(e,e.uint32())},"decodeDelimited"),n.verify=o(function(e){if(typeof e!="object"||e===null)return"object expected";if(e.turnCredentials!=null&&e.hasOwnProperty("turnCredentials")){var t=a.SdkTurnCredentials.verify(e.turnCredentials);if(t)return"turnCredentials."+t}if(e.videoSubscriptionLimit!=null&&e.hasOwnProperty("videoSubscriptionLimit")&&!f.isInteger(e.videoSubscriptionLimit))return"videoSubscriptionLimit: integer expected";if(e.wantsCompressedSdp!=null&&e.hasOwnProperty("wantsCompressedSdp")&&typeof e.wantsCompressedSdp!="boolean")return"wantsCompressedSdp: boolean expected";if(e.defaultServerSideNetworkAdaption!=null&&e.hasOwnProperty("defaultServerSideNetworkAdaption"))switch(e.defaultServerSideNetworkAdaption){default:return"defaultServerSideNetworkAdaption: enum value expected";case 1:case 2:case 3:break}return null},"verify"),n.fromObject=o(function(e){if(e instanceof a.SdkJoinAckFrame)return e;var t=new a.SdkJoinAckFrame;if(e.turnCredentials!=null){if(typeof e.turnCredentials!="object")throw TypeError(".SdkJoinAckFrame.turnCredentials: object expected");t.turnCredentials=a.SdkTurnCredentials.fromObject(e.turnCredentials)}switch(e.videoSubscriptionLimit!=null&&(t.videoSubscriptionLimit=e.videoSubscriptionLimit>>>0),e.wantsCompressedSdp!=null&&(t.wantsCompressedSdp=Boolean(e.wantsCompressedSdp)),e.defaultServerSideNetworkAdaption){case"DEFAULT":case 1:t.defaultServerSideNetworkAdaption=1;break;case"NONE":case 2:t.defaultServerSideNetworkAdaption=2;break;case"BANDWIDTH_PROBING":case 3:t.defaultServerSideNetworkAdaption=3;break}return t},"fromObject"),n.toObject=o(function(e,t){t||(t={});var r={};return t.defaults&&(r.turnCredentials=null,r.videoSubscriptionLimit=0,r.wantsCompressedSdp=!1,r.defaultServerSideNetworkAdaption=t.enums===String?"DEFAULT":1),e.turnCredentials!=null&&e.hasOwnProperty("turnCredentials")&&(r.turnCredentials=a.SdkTurnCredentials.toObject(e.turnCredentials,t)),e.videoSubscriptionLimit!=null&&e.hasOwnProperty("videoSubscriptionLimit")&&(r.videoSubscriptionLimit=e.videoSubscriptionLimit),e.wantsCompressedSdp!=null&&e.hasOwnProperty("wantsCompressedSdp")&&(r.wantsCompressedSdp=e.wantsCompressedSdp),e.defaultServerSideNetworkAdaption!=null&&e.hasOwnProperty("defaultServerSideNetworkAdaption")&&(r.defaultServerSideNetworkAdaption=t.enums===String?a.SdkServerSideNetworkAdaption[e.defaultServerSideNetworkAdaption]:e.defaultServerSideNetworkAdaption),r},"toObject"),n.prototype.toJSON=o(function(){return this.constructor.toObject(this,S.util.toJSONOptions)},"toJSON"),n}(),a.SdkLeaveFrame=function(){function n(i){if(i)for(var e=Object.keys(i),t=0;t<e.length;++t)i[e[t]]!=null&&(this[e[t]]=i[e[t]])}return o(n,"SdkLeaveFrame"),n.create=o(function(e){return new n(e)},"create"),n.encode=o(function(e,t){return t||(t=m.create()),t},"encode"),n.encodeDelimited=o(function(e,t){return this.encode(e,t).ldelim()},"encodeDelimited"),n.decode=o(function(e,t){e instanceof h||(e=h.create(e));for(var r=t===void 0?e.len:e.pos+t,l=new a.SdkLeaveFrame;e.pos<r;){var p=e.uint32();switch(p>>>3){default:e.skipType(p&7);break}}return l},"decode"),n.decodeDelimited=o(function(e){return e instanceof h||(e=new h(e)),this.decode(e,e.uint32())},"decodeDelimited"),n.verify=o(function(e){return typeof e!="object"||e===null?"object expected":null},"verify"),n.fromObject=o(function(e){return e instanceof a.SdkLeaveFrame?e:new a.SdkLeaveFrame},"fromObject"),n.toObject=o(function(){return{}},"toObject"),n.prototype.toJSON=o(function(){return this.constructor.toObject(this,S.util.toJSONOptions)},"toJSON"),n}(),a.SdkLeaveAckFrame=function(){function n(i){if(i)for(var e=Object.keys(i),t=0;t<e.length;++t)i[e[t]]!=null&&(this[e[t]]=i[e[t]])}return o(n,"SdkLeaveAckFrame"),n.create=o(function(e){return new n(e)},"create"),n.encode=o(function(e,t){return t||(t=m.create()),t},"encode"),n.encodeDelimited=o(function(e,t){return this.encode(e,t).ldelim()},"encodeDelimited"),n.decode=o(function(e,t){e instanceof h||(e=h.create(e));for(var r=t===void 0?e.len:e.pos+t,l=new a.SdkLeaveAckFrame;e.pos<r;){var p=e.uint32();switch(p>>>3){default:e.skipType(p&7);break}}return l},"decode"),n.decodeDelimited=o(function(e){return e instanceof h||(e=new h(e)),this.decode(e,e.uint32())},"decodeDelimited"),n.verify=o(function(e){return typeof e!="object"||e===null?"object expected":null},"verify"),n.fromObject=o(function(e){return e instanceof a.SdkLeaveAckFrame?e:new a.SdkLeaveAckFrame},"fromObject"),n.toObject=o(function(){return{}},"toObject"),n.prototype.toJSON=o(function(){return this.constructor.toObject(this,S.util.toJSONOptions)},"toJSON"),n}(),a.SdkStreamServiceType=function(){var n={},i=Object.create(n);return i[n[1]="RX"]=1,i[n[2]="TX"]=2,i[n[3]="DUPLEX"]=3,i}(),a.SdkStreamMediaType=function(){var n={},i=Object.create(n);return i[n[1]="AUDIO"]=1,i[n[2]="VIDEO"]=2,i}(),a.SdkSubscribeFrame=function(){function n(i){if(this.sendStreams=[],this.receiveStreamIds=[],this.videoSubscriptionConfiguration=[],i)for(var e=Object.keys(i),t=0;t<e.length;++t)i[e[t]]!=null&&(this[e[t]]=i[e[t]])}return o(n,"SdkSubscribeFrame"),n.prototype.duplex=1,n.prototype.sendStreams=f.emptyArray,n.prototype.receiveStreamIds=f.emptyArray,n.prototype.sdpOffer="",n.prototype.audioHost="",n.prototype.audioCheckin=!1,n.prototype.audioMuted=!1,n.prototype.compressedSdpOffer=f.newBuffer([]),n.prototype.videoSubscriptionConfiguration=f.emptyArray,n.create=o(function(e){return new n(e)},"create"),n.encode=o(function(e,t){if(t||(t=m.create()),e.duplex!=null&&Object.hasOwnProperty.call(e,"duplex")&&t.uint32(8).int32(e.duplex),e.sendStreams!=null&&e.sendStreams.length)for(var r=0;r<e.sendStreams.length;++r)a.SdkStreamDescriptor.encode(e.sendStreams[r],t.uint32(18).fork()).ldelim();if(e.receiveStreamIds!=null&&e.receiveStreamIds.length)for(var r=0;r<e.receiveStreamIds.length;++r)t.uint32(24).uint32(e.receiveStreamIds[r]);if(e.sdpOffer!=null&&Object.hasOwnProperty.call(e,"sdpOffer")&&t.uint32(34).string(e.sdpOffer),e.audioHost!=null&&Object.hasOwnProperty.call(e,"audioHost")&&t.uint32(42).string(e.audioHost),e.audioCheckin!=null&&Object.hasOwnProperty.call(e,"audioCheckin")&&t.uint32(48).bool(e.audioCheckin),e.audioMuted!=null&&Object.hasOwnProperty.call(e,"audioMuted")&&t.uint32(56).bool(e.audioMuted),e.compressedSdpOffer!=null&&Object.hasOwnProperty.call(e,"compressedSdpOffer")&&t.uint32(66).bytes(e.compressedSdpOffer),e.videoSubscriptionConfiguration!=null&&e.videoSubscriptionConfiguration.length)for(var r=0;r<e.videoSubscriptionConfiguration.length;++r)a.SdkVideoSubscriptionConfiguration.encode(e.videoSubscriptionConfiguration[r],t.uint32(74).fork()).ldelim();return t},"encode"),n.encodeDelimited=o(function(e,t){return this.encode(e,t).ldelim()},"encodeDelimited"),n.decode=o(function(e,t){e instanceof h||(e=h.create(e));for(var r=t===void 0?e.len:e.pos+t,l=new a.SdkSubscribeFrame;e.pos<r;){var p=e.uint32();switch(p>>>3){case 1:l.duplex=e.int32();break;case 2:l.sendStreams&&l.sendStreams.length||(l.sendStreams=[]),l.sendStreams.push(a.SdkStreamDescriptor.decode(e,e.uint32()));break;case 3:if(l.receiveStreamIds&&l.receiveStreamIds.length||(l.receiveStreamIds=[]),(p&7)===2)for(var v=e.uint32()+e.pos;e.pos<v;)l.receiveStreamIds.push(e.uint32());else l.receiveStreamIds.push(e.uint32());break;case 4:l.sdpOffer=e.string();break;case 5:l.audioHost=e.string();break;case 6:l.audioCheckin=e.bool();break;case 7:l.audioMuted=e.bool();break;case 8:l.compressedSdpOffer=e.bytes();break;case 9:l.videoSubscriptionConfiguration&&l.videoSubscriptionConfiguration.length||(l.videoSubscriptionConfiguration=[]),l.videoSubscriptionConfiguration.push(a.SdkVideoSubscriptionConfiguration.decode(e,e.uint32()));break;default:e.skipType(p&7);break}}return l},"decode"),n.decodeDelimited=o(function(e){return e instanceof h||(e=new h(e)),this.decode(e,e.uint32())},"decodeDelimited"),n.verify=o(function(e){if(typeof e!="object"||e===null)return"object expected";if(e.duplex!=null&&e.hasOwnProperty("duplex"))switch(e.duplex){default:return"duplex: enum value expected";case 1:case 2:case 3:break}if(e.sendStreams!=null&&e.hasOwnProperty("sendStreams")){if(!Array.isArray(e.sendStreams))return"sendStreams: array expected";for(var t=0;t<e.sendStreams.length;++t){var r=a.SdkStreamDescriptor.verify(e.sendStreams[t]);if(r)return"sendStreams."+r}}if(e.receiveStreamIds!=null&&e.hasOwnProperty("receiveStreamIds")){if(!Array.isArray(e.receiveStreamIds))return"receiveStreamIds: array expected";for(var t=0;t<e.receiveStreamIds.length;++t)if(!f.isInteger(e.receiveStreamIds[t]))return"receiveStreamIds: integer[] expected"}if(e.sdpOffer!=null&&e.hasOwnProperty("sdpOffer")&&!f.isString(e.sdpOffer))return"sdpOffer: string expected";if(e.audioHost!=null&&e.hasOwnProperty("audioHost")&&!f.isString(e.audioHost))return"audioHost: string expected";if(e.audioCheckin!=null&&e.hasOwnProperty("audioCheckin")&&typeof e.audioCheckin!="boolean")return"audioCheckin: boolean expected";if(e.audioMuted!=null&&e.hasOwnProperty("audioMuted")&&typeof e.audioMuted!="boolean")return"audioMuted: boolean expected";if(e.compressedSdpOffer!=null&&e.hasOwnProperty("compressedSdpOffer")&&!(e.compressedSdpOffer&&typeof e.compressedSdpOffer.length=="number"||f.isString(e.compressedSdpOffer)))return"compressedSdpOffer: buffer expected";if(e.videoSubscriptionConfiguration!=null&&e.hasOwnProperty("videoSubscriptionConfiguration")){if(!Array.isArray(e.videoSubscriptionConfiguration))return"videoSubscriptionConfiguration: array expected";for(var t=0;t<e.videoSubscriptionConfiguration.length;++t){var r=a.SdkVideoSubscriptionConfiguration.verify(e.videoSubscriptionConfiguration[t]);if(r)return"videoSubscriptionConfiguration."+r}}return null},"verify"),n.fromObject=o(function(e){if(e instanceof a.SdkSubscribeFrame)return e;var t=new a.SdkSubscribeFrame;switch(e.duplex){case"RX":case 1:t.duplex=1;break;case"TX":case 2:t.duplex=2;break;case"DUPLEX":case 3:t.duplex=3;break}if(e.sendStreams){if(!Array.isArray(e.sendStreams))throw TypeError(".SdkSubscribeFrame.sendStreams: array expected");t.sendStreams=[];for(var r=0;r<e.sendStreams.length;++r){if(typeof e.sendStreams[r]!="object")throw TypeError(".SdkSubscribeFrame.sendStreams: object expected");t.sendStreams[r]=a.SdkStreamDescriptor.fromObject(e.sendStreams[r])}}if(e.receiveStreamIds){if(!Array.isArray(e.receiveStreamIds))throw TypeError(".SdkSubscribeFrame.receiveStreamIds: array expected");t.receiveStreamIds=[];for(var r=0;r<e.receiveStreamIds.length;++r)t.receiveStreamIds[r]=e.receiveStreamIds[r]>>>0}if(e.sdpOffer!=null&&(t.sdpOffer=String(e.sdpOffer)),e.audioHost!=null&&(t.audioHost=String(e.audioHost)),e.audioCheckin!=null&&(t.audioCheckin=Boolean(e.audioCheckin)),e.audioMuted!=null&&(t.audioMuted=Boolean(e.audioMuted)),e.compressedSdpOffer!=null&&(typeof e.compressedSdpOffer=="string"?f.base64.decode(e.compressedSdpOffer,t.compressedSdpOffer=f.newBuffer(f.base64.length(e.compressedSdpOffer)),0):e.compressedSdpOffer.length&&(t.compressedSdpOffer=e.compressedSdpOffer)),e.videoSubscriptionConfiguration){if(!Array.isArray(e.videoSubscriptionConfiguration))throw TypeError(".SdkSubscribeFrame.videoSubscriptionConfiguration: array expected");t.videoSubscriptionConfiguration=[];for(var r=0;r<e.videoSubscriptionConfiguration.length;++r){if(typeof e.videoSubscriptionConfiguration[r]!="object")throw TypeError(".SdkSubscribeFrame.videoSubscriptionConfiguration: object expected");t.videoSubscriptionConfiguration[r]=a.SdkVideoSubscriptionConfiguration.fromObject(e.videoSubscriptionConfiguration[r])}}return t},"fromObject"),n.toObject=o(function(e,t){t||(t={});var r={};if((t.arrays||t.defaults)&&(r.sendStreams=[],r.receiveStreamIds=[],r.videoSubscriptionConfiguration=[]),t.defaults&&(r.duplex=t.enums===String?"RX":1,r.sdpOffer="",r.audioHost="",r.audioCheckin=!1,r.audioMuted=!1,t.bytes===String?r.compressedSdpOffer="":(r.compressedSdpOffer=[],t.bytes!==Array&&(r.compressedSdpOffer=f.newBuffer(r.compressedSdpOffer)))),e.duplex!=null&&e.hasOwnProperty("duplex")&&(r.duplex=t.enums===String?a.SdkStreamServiceType[e.duplex]:e.duplex),e.sendStreams&&e.sendStreams.length){r.sendStreams=[];for(var l=0;l<e.sendStreams.length;++l)r.sendStreams[l]=a.SdkStreamDescriptor.toObject(e.sendStreams[l],t)}if(e.receiveStreamIds&&e.receiveStreamIds.length){r.receiveStreamIds=[];for(var l=0;l<e.receiveStreamIds.length;++l)r.receiveStreamIds[l]=e.receiveStreamIds[l]}if(e.sdpOffer!=null&&e.hasOwnProperty("sdpOffer")&&(r.sdpOffer=e.sdpOffer),e.audioHost!=null&&e.hasOwnProperty("audioHost")&&(r.audioHost=e.audioHost),e.audioCheckin!=null&&e.hasOwnProperty("audioCheckin")&&(r.audioCheckin=e.audioCheckin),e.audioMuted!=null&&e.hasOwnProperty("audioMuted")&&(r.audioMuted=e.audioMuted),e.compressedSdpOffer!=null&&e.hasOwnProperty("compressedSdpOffer")&&(r.compressedSdpOffer=t.bytes===String?f.base64.encode(e.compressedSdpOffer,0,e.compressedSdpOffer.length):t.bytes===Array?Array.prototype.slice.call(e.compressedSdpOffer):e.compressedSdpOffer),e.videoSubscriptionConfiguration&&e.videoSubscriptionConfiguration.length){r.videoSubscriptionConfiguration=[];for(var l=0;l<e.videoSubscriptionConfiguration.length;++l)r.videoSubscriptionConfiguration[l]=a.SdkVideoSubscriptionConfiguration.toObject(e.videoSubscriptionConfiguration[l],t)}return r},"toObject"),n.prototype.toJSON=o(function(){return this.constructor.toObject(this,S.util.toJSONOptions)},"toJSON"),n}(),a.SdkSubscribeAckFrame=function(){function n(i){if(this.allocations=[],this.tracks=[],i)for(var e=Object.keys(i),t=0;t<e.length;++t)i[e[t]]!=null&&(this[e[t]]=i[e[t]])}return o(n,"SdkSubscribeAckFrame"),n.prototype.duplex=1,n.prototype.allocations=f.emptyArray,n.prototype.sdpAnswer="",n.prototype.tracks=f.emptyArray,n.prototype.compressedSdpAnswer=f.newBuffer([]),n.create=o(function(e){return new n(e)},"create"),n.encode=o(function(e,t){if(t||(t=m.create()),e.duplex!=null&&Object.hasOwnProperty.call(e,"duplex")&&t.uint32(8).int32(e.duplex),e.allocations!=null&&e.allocations.length)for(var r=0;r<e.allocations.length;++r)a.SdkStreamAllocation.encode(e.allocations[r],t.uint32(18).fork()).ldelim();if(e.sdpAnswer!=null&&Object.hasOwnProperty.call(e,"sdpAnswer")&&t.uint32(26).string(e.sdpAnswer),e.tracks!=null&&e.tracks.length)for(var r=0;r<e.tracks.length;++r)a.SdkTrackMapping.encode(e.tracks[r],t.uint32(34).fork()).ldelim();return e.compressedSdpAnswer!=null&&Object.hasOwnProperty.call(e,"compressedSdpAnswer")&&t.uint32(42).bytes(e.compressedSdpAnswer),t},"encode"),n.encodeDelimited=o(function(e,t){return this.encode(e,t).ldelim()},"encodeDelimited"),n.decode=o(function(e,t){e instanceof h||(e=h.create(e));for(var r=t===void 0?e.len:e.pos+t,l=new a.SdkSubscribeAckFrame;e.pos<r;){var p=e.uint32();switch(p>>>3){case 1:l.duplex=e.int32();break;case 2:l.allocations&&l.allocations.length||(l.allocations=[]),l.allocations.push(a.SdkStreamAllocation.decode(e,e.uint32()));break;case 3:l.sdpAnswer=e.string();break;case 4:l.tracks&&l.tracks.length||(l.tracks=[]),l.tracks.push(a.SdkTrackMapping.decode(e,e.uint32()));break;case 5:l.compressedSdpAnswer=e.bytes();break;default:e.skipType(p&7);break}}return l},"decode"),n.decodeDelimited=o(function(e){return e instanceof h||(e=new h(e)),this.decode(e,e.uint32())},"decodeDelimited"),n.verify=o(function(e){if(typeof e!="object"||e===null)return"object expected";if(e.duplex!=null&&e.hasOwnProperty("duplex"))switch(e.duplex){default:return"duplex: enum value expected";case 1:case 2:case 3:break}if(e.allocations!=null&&e.hasOwnProperty("allocations")){if(!Array.isArray(e.allocations))return"allocations: array expected";for(var t=0;t<e.allocations.length;++t){var r=a.SdkStreamAllocation.verify(e.allocations[t]);if(r)return"allocations."+r}}if(e.sdpAnswer!=null&&e.hasOwnProperty("sdpAnswer")&&!f.isString(e.sdpAnswer))return"sdpAnswer: string expected";if(e.tracks!=null&&e.hasOwnProperty("tracks")){if(!Array.isArray(e.tracks))return"tracks: array expected";for(var t=0;t<e.tracks.length;++t){var r=a.SdkTrackMapping.verify(e.tracks[t]);if(r)return"tracks."+r}}return e.compressedSdpAnswer!=null&&e.hasOwnProperty("compressedSdpAnswer")&&!(e.compressedSdpAnswer&&typeof e.compressedSdpAnswer.length=="number"||f.isString(e.compressedSdpAnswer))?"compressedSdpAnswer: buffer expected":null},"verify"),n.fromObject=o(function(e){if(e instanceof a.SdkSubscribeAckFrame)return e;var t=new a.SdkSubscribeAckFrame;switch(e.duplex){case"RX":case 1:t.duplex=1;break;case"TX":case 2:t.duplex=2;break;case"DUPLEX":case 3:t.duplex=3;break}if(e.allocations){if(!Array.isArray(e.allocations))throw TypeError(".SdkSubscribeAckFrame.allocations: array expected");t.allocations=[];for(var r=0;r<e.allocations.length;++r){if(typeof e.allocations[r]!="object")throw TypeError(".SdkSubscribeAckFrame.allocations: object expected");t.allocations[r]=a.SdkStreamAllocation.fromObject(e.allocations[r])}}if(e.sdpAnswer!=null&&(t.sdpAnswer=String(e.sdpAnswer)),e.tracks){if(!Array.isArray(e.tracks))throw TypeError(".SdkSubscribeAckFrame.tracks: array expected");t.tracks=[];for(var r=0;r<e.tracks.length;++r){if(typeof e.tracks[r]!="object")throw TypeError(".SdkSubscribeAckFrame.tracks: object expected");t.tracks[r]=a.SdkTrackMapping.fromObject(e.tracks[r])}}return e.compressedSdpAnswer!=null&&(typeof e.compressedSdpAnswer=="string"?f.base64.decode(e.compressedSdpAnswer,t.compressedSdpAnswer=f.newBuffer(f.base64.length(e.compressedSdpAnswer)),0):e.compressedSdpAnswer.length&&(t.compressedSdpAnswer=e.compressedSdpAnswer)),t},"fromObject"),n.toObject=o(function(e,t){t||(t={});var r={};if((t.arrays||t.defaults)&&(r.allocations=[],r.tracks=[]),t.defaults&&(r.duplex=t.enums===String?"RX":1,r.sdpAnswer="",t.bytes===String?r.compressedSdpAnswer="":(r.compressedSdpAnswer=[],t.bytes!==Array&&(r.compressedSdpAnswer=f.newBuffer(r.compressedSdpAnswer)))),e.duplex!=null&&e.hasOwnProperty("duplex")&&(r.duplex=t.enums===String?a.SdkStreamServiceType[e.duplex]:e.duplex),e.allocations&&e.allocations.length){r.allocations=[];for(var l=0;l<e.allocations.length;++l)r.allocations[l]=a.SdkStreamAllocation.toObject(e.allocations[l],t)}if(e.sdpAnswer!=null&&e.hasOwnProperty("sdpAnswer")&&(r.sdpAnswer=e.sdpAnswer),e.tracks&&e.tracks.length){r.tracks=[];for(var l=0;l<e.tracks.length;++l)r.tracks[l]=a.SdkTrackMapping.toObject(e.tracks[l],t)}return e.compressedSdpAnswer!=null&&e.hasOwnProperty("compressedSdpAnswer")&&(r.compressedSdpAnswer=t.bytes===String?f.base64.encode(e.compressedSdpAnswer,0,e.compressedSdpAnswer.length):t.bytes===Array?Array.prototype.slice.call(e.compressedSdpAnswer):e.compressedSdpAnswer),r},"toObject"),n.prototype.toJSON=o(function(){return this.constructor.toObject(this,S.util.toJSONOptions)},"toJSON"),n}(),a.SdkIndexFrame=function(){function n(i){if(this.sources=[],this.pausedAtSourceIds=[],this.supportedReceiveCodecIntersection=[],i)for(var e=Object.keys(i),t=0;t<e.length;++t)i[e[t]]!=null&&(this[e[t]]=i[e[t]])}return o(n,"SdkIndexFrame"),n.prototype.atCapacity=!1,n.prototype.sources=f.emptyArray,n.prototype.pausedAtSourceIds=f.emptyArray,n.prototype.numParticipants=0,n.prototype.supportedReceiveCodecIntersection=f.emptyArray,n.create=o(function(e){return new n(e)},"create"),n.encode=o(function(e,t){if(t||(t=m.create()),e.atCapacity!=null&&Object.hasOwnProperty.call(e,"atCapacity")&&t.uint32(8).bool(e.atCapacity),e.sources!=null&&e.sources.length)for(var r=0;r<e.sources.length;++r)a.SdkStreamDescriptor.encode(e.sources[r],t.uint32(18).fork()).ldelim();if(e.pausedAtSourceIds!=null&&e.pausedAtSourceIds.length)for(var r=0;r<e.pausedAtSourceIds.length;++r)t.uint32(24).uint32(e.pausedAtSourceIds[r]);if(e.numParticipants!=null&&Object.hasOwnProperty.call(e,"numParticipants")&&t.uint32(32).uint32(e.numParticipants),e.supportedReceiveCodecIntersection!=null&&e.supportedReceiveCodecIntersection.length)for(var r=0;r<e.supportedReceiveCodecIntersection.length;++r)t.uint32(40).int32(e.supportedReceiveCodecIntersection[r]);return t},"encode"),n.encodeDelimited=o(function(e,t){return this.encode(e,t).ldelim()},"encodeDelimited"),n.decode=o(function(e,t){e instanceof h||(e=h.create(e));for(var r=t===void 0?e.len:e.pos+t,l=new a.SdkIndexFrame;e.pos<r;){var p=e.uint32();switch(p>>>3){case 1:l.atCapacity=e.bool();break;case 2:l.sources&&l.sources.length||(l.sources=[]),l.sources.push(a.SdkStreamDescriptor.decode(e,e.uint32()));break;case 3:if(l.pausedAtSourceIds&&l.pausedAtSourceIds.length||(l.pausedAtSourceIds=[]),(p&7)===2)for(var v=e.uint32()+e.pos;e.pos<v;)l.pausedAtSourceIds.push(e.uint32());else l.pausedAtSourceIds.push(e.uint32());break;case 4:l.numParticipants=e.uint32();break;case 5:if(l.supportedReceiveCodecIntersection&&l.supportedReceiveCodecIntersection.length||(l.supportedReceiveCodecIntersection=[]),(p&7)===2)for(var v=e.uint32()+e.pos;e.pos<v;)l.supportedReceiveCodecIntersection.push(e.int32());else l.supportedReceiveCodecIntersection.push(e.int32());break;default:e.skipType(p&7);break}}return l},"decode"),n.decodeDelimited=o(function(e){return e instanceof h||(e=new h(e)),this.decode(e,e.uint32())},"decodeDelimited"),n.verify=o(function(e){if(typeof e!="object"||e===null)return"object expected";if(e.atCapacity!=null&&e.hasOwnProperty("atCapacity")&&typeof e.atCapacity!="boolean")return"atCapacity: boolean expected";if(e.sources!=null&&e.hasOwnProperty("sources")){if(!Array.isArray(e.sources))return"sources: array expected";for(var t=0;t<e.sources.length;++t){var r=a.SdkStreamDescriptor.verify(e.sources[t]);if(r)return"sources."+r}}if(e.pausedAtSourceIds!=null&&e.hasOwnProperty("pausedAtSourceIds")){if(!Array.isArray(e.pausedAtSourceIds))return"pausedAtSourceIds: array expected";for(var t=0;t<e.pausedAtSourceIds.length;++t)if(!f.isInteger(e.pausedAtSourceIds[t]))return"pausedAtSourceIds: integer[] expected"}if(e.numParticipants!=null&&e.hasOwnProperty("numParticipants")&&!f.isInteger(e.numParticipants))return"numParticipants: integer expected";if(e.supportedReceiveCodecIntersection!=null&&e.hasOwnProperty("supportedReceiveCodecIntersection")){if(!Array.isArray(e.supportedReceiveCodecIntersection))return"supportedReceiveCodecIntersection: array expected";for(var t=0;t<e.supportedReceiveCodecIntersection.length;++t)switch(e.supportedReceiveCodecIntersection[t]){default:return"supportedReceiveCodecIntersection: enum value[] expected";case 1:case 3:break}}return null},"verify"),n.fromObject=o(function(e){if(e instanceof a.SdkIndexFrame)return e;var t=new a.SdkIndexFrame;if(e.atCapacity!=null&&(t.atCapacity=Boolean(e.atCapacity)),e.sources){if(!Array.isArray(e.sources))throw TypeError(".SdkIndexFrame.sources: array expected");t.sources=[];for(var r=0;r<e.sources.length;++r){if(typeof e.sources[r]!="object")throw TypeError(".SdkIndexFrame.sources: object expected");t.sources[r]=a.SdkStreamDescriptor.fromObject(e.sources[r])}}if(e.pausedAtSourceIds){if(!Array.isArray(e.pausedAtSourceIds))throw TypeError(".SdkIndexFrame.pausedAtSourceIds: array expected");t.pausedAtSourceIds=[];for(var r=0;r<e.pausedAtSourceIds.length;++r)t.pausedAtSourceIds[r]=e.pausedAtSourceIds[r]>>>0}if(e.numParticipants!=null&&(t.numParticipants=e.numParticipants>>>0),e.supportedReceiveCodecIntersection){if(!Array.isArray(e.supportedReceiveCodecIntersection))throw TypeError(".SdkIndexFrame.supportedReceiveCodecIntersection: array expected");t.supportedReceiveCodecIntersection=[];for(var r=0;r<e.supportedReceiveCodecIntersection.length;++r)switch(e.supportedReceiveCodecIntersection[r]){default:case"VP8":case 1:t.supportedReceiveCodecIntersection[r]=1;break;case"H264_CONSTRAINED_BASELINE_PROFILE":case 3:t.supportedReceiveCodecIntersection[r]=3;break}}return t},"fromObject"),n.toObject=o(function(e,t){t||(t={});var r={};if((t.arrays||t.defaults)&&(r.sources=[],r.pausedAtSourceIds=[],r.supportedReceiveCodecIntersection=[]),t.defaults&&(r.atCapacity=!1,r.numParticipants=0),e.atCapacity!=null&&e.hasOwnProperty("atCapacity")&&(r.atCapacity=e.atCapacity),e.sources&&e.sources.length){r.sources=[];for(var l=0;l<e.sources.length;++l)r.sources[l]=a.SdkStreamDescriptor.toObject(e.sources[l],t)}if(e.pausedAtSourceIds&&e.pausedAtSourceIds.length){r.pausedAtSourceIds=[];for(var l=0;l<e.pausedAtSourceIds.length;++l)r.pausedAtSourceIds[l]=e.pausedAtSourceIds[l]}if(e.numParticipants!=null&&e.hasOwnProperty("numParticipants")&&(r.numParticipants=e.numParticipants),e.supportedReceiveCodecIntersection&&e.supportedReceiveCodecIntersection.length){r.supportedReceiveCodecIntersection=[];for(var l=0;l<e.supportedReceiveCodecIntersection.length;++l)r.supportedReceiveCodecIntersection[l]=t.enums===String?a.SdkVideoCodecCapability[e.supportedReceiveCodecIntersection[l]]:e.supportedReceiveCodecIntersection[l]}return r},"toObject"),n.prototype.toJSON=o(function(){return this.constructor.toObject(this,S.util.toJSONOptions)},"toJSON"),n}(),a.SdkPauseResumeFrame=function(){function n(i){if(this.streamIds=[],this.groupIds=[],i)for(var e=Object.keys(i),t=0;t<e.length;++t)i[e[t]]!=null&&(this[e[t]]=i[e[t]])}return o(n,"SdkPauseResumeFrame"),n.prototype.streamIds=f.emptyArray,n.prototype.groupIds=f.emptyArray,n.create=o(function(e){return new n(e)},"create"),n.encode=o(function(e,t){if(t||(t=m.create()),e.streamIds!=null&&e.streamIds.length)for(var r=0;r<e.streamIds.length;++r)t.uint32(8).uint32(e.streamIds[r]);if(e.groupIds!=null&&e.groupIds.length)for(var r=0;r<e.groupIds.length;++r)t.uint32(16).uint32(e.groupIds[r]);return t},"encode"),n.encodeDelimited=o(function(e,t){return this.encode(e,t).ldelim()},"encodeDelimited"),n.decode=o(function(e,t){e instanceof h||(e=h.create(e));for(var r=t===void 0?e.len:e.pos+t,l=new a.SdkPauseResumeFrame;e.pos<r;){var p=e.uint32();switch(p>>>3){case 1:if(l.streamIds&&l.streamIds.length||(l.streamIds=[]),(p&7)===2)for(var v=e.uint32()+e.pos;e.pos<v;)l.streamIds.push(e.uint32());else l.streamIds.push(e.uint32());break;case 2:if(l.groupIds&&l.groupIds.length||(l.groupIds=[]),(p&7)===2)for(var v=e.uint32()+e.pos;e.pos<v;)l.groupIds.push(e.uint32());else l.groupIds.push(e.uint32());break;default:e.skipType(p&7);break}}return l},"decode"),n.decodeDelimited=o(function(e){return e instanceof h||(e=new h(e)),this.decode(e,e.uint32())},"decodeDelimited"),n.verify=o(function(e){if(typeof e!="object"||e===null)return"object expected";if(e.streamIds!=null&&e.hasOwnProperty("streamIds")){if(!Array.isArray(e.streamIds))return"streamIds: array expected";for(var t=0;t<e.streamIds.length;++t)if(!f.isInteger(e.streamIds[t]))return"streamIds: integer[] expected"}if(e.groupIds!=null&&e.hasOwnProperty("groupIds")){if(!Array.isArray(e.groupIds))return"groupIds: array expected";for(var t=0;t<e.groupIds.length;++t)if(!f.isInteger(e.groupIds[t]))return"groupIds: integer[] expected"}return null},"verify"),n.fromObject=o(function(e){if(e instanceof a.SdkPauseResumeFrame)return e;var t=new a.SdkPauseResumeFrame;if(e.streamIds){if(!Array.isArray(e.streamIds))throw TypeError(".SdkPauseResumeFrame.streamIds: array expected");t.streamIds=[];for(var r=0;r<e.streamIds.length;++r)t.streamIds[r]=e.streamIds[r]>>>0}if(e.groupIds){if(!Array.isArray(e.groupIds))throw TypeError(".SdkPauseResumeFrame.groupIds: array expected");t.groupIds=[];for(var r=0;r<e.groupIds.length;++r)t.groupIds[r]=e.groupIds[r]>>>0}return t},"fromObject"),n.toObject=o(function(e,t){t||(t={});var r={};if((t.arrays||t.defaults)&&(r.streamIds=[],r.groupIds=[]),e.streamIds&&e.streamIds.length){r.streamIds=[];for(var l=0;l<e.streamIds.length;++l)r.streamIds[l]=e.streamIds[l]}if(e.groupIds&&e.groupIds.length){r.groupIds=[];for(var l=0;l<e.groupIds.length;++l)r.groupIds[l]=e.groupIds[l]}return r},"toObject"),n.prototype.toJSON=o(function(){return this.constructor.toObject(this,S.util.toJSONOptions)},"toJSON"),n}(),a.SdkBitrateFrame=function(){function n(i){if(this.bitrates=[],i)for(var e=Object.keys(i),t=0;t<e.length;++t)i[e[t]]!=null&&(this[e[t]]=i[e[t]])}return o(n,"SdkBitrateFrame"),n.prototype.bitrates=f.emptyArray,n.create=o(function(e){return new n(e)},"create"),n.encode=o(function(e,t){if(t||(t=m.create()),e.bitrates!=null&&e.bitrates.length)for(var r=0;r<e.bitrates.length;++r)a.SdkBitrate.encode(e.bitrates[r],t.uint32(10).fork()).ldelim();return t},"encode"),n.encodeDelimited=o(function(e,t){return this.encode(e,t).ldelim()},"encodeDelimited"),n.decode=o(function(e,t){e instanceof h||(e=h.create(e));for(var r=t===void 0?e.len:e.pos+t,l=new a.SdkBitrateFrame;e.pos<r;){var p=e.uint32();switch(p>>>3){case 1:l.bitrates&&l.bitrates.length||(l.bitrates=[]),l.bitrates.push(a.SdkBitrate.decode(e,e.uint32()));break;default:e.skipType(p&7);break}}return l},"decode"),n.decodeDelimited=o(function(e){return e instanceof h||(e=new h(e)),this.decode(e,e.uint32())},"decodeDelimited"),n.verify=o(function(e){if(typeof e!="object"||e===null)return"object expected";if(e.bitrates!=null&&e.hasOwnProperty("bitrates")){if(!Array.isArray(e.bitrates))return"bitrates: array expected";for(var t=0;t<e.bitrates.length;++t){var r=a.SdkBitrate.verify(e.bitrates[t]);if(r)return"bitrates."+r}}return null},"verify"),n.fromObject=o(function(e){if(e instanceof a.SdkBitrateFrame)return e;var t=new a.SdkBitrateFrame;if(e.bitrates){if(!Array.isArray(e.bitrates))throw TypeError(".SdkBitrateFrame.bitrates: array expected");t.bitrates=[];for(var r=0;r<e.bitrates.length;++r){if(typeof e.bitrates[r]!="object")throw TypeError(".SdkBitrateFrame.bitrates: object expected");t.bitrates[r]=a.SdkBitrate.fromObject(e.bitrates[r])}}return t},"fromObject"),n.toObject=o(function(e,t){t||(t={});var r={};if((t.arrays||t.defaults)&&(r.bitrates=[]),e.bitrates&&e.bitrates.length){r.bitrates=[];for(var l=0;l<e.bitrates.length;++l)r.bitrates[l]=a.SdkBitrate.toObject(e.bitrates[l],t)}return r},"toObject"),n.prototype.toJSON=o(function(){return this.constructor.toObject(this,S.util.toJSONOptions)},"toJSON"),n}(),a.SdkStreamDescriptor=function(){function n(i){if(i)for(var e=Object.keys(i),t=0;t<e.length;++t)i[e[t]]!=null&&(this[e[t]]=i[e[t]])}return o(n,"SdkStreamDescriptor"),n.prototype.streamId=0,n.prototype.framerate=0,n.prototype.maxBitrateKbps=0,n.prototype.trackLabel="",n.prototype.groupId=0,n.prototype.avgBitrateBps=0,n.prototype.attendeeId="",n.prototype.mediaType=1,n.prototype.externalUserId="",n.create=o(function(e){return new n(e)},"create"),n.encode=o(function(e,t){return t||(t=m.create()),e.streamId!=null&&Object.hasOwnProperty.call(e,"streamId")&&t.uint32(8).uint32(e.streamId),e.framerate!=null&&Object.hasOwnProperty.call(e,"framerate")&&t.uint32(16).uint32(e.framerate),e.maxBitrateKbps!=null&&Object.hasOwnProperty.call(e,"maxBitrateKbps")&&t.uint32(24).uint32(e.maxBitrateKbps),e.trackLabel!=null&&Object.hasOwnProperty.call(e,"trackLabel")&&t.uint32(34).string(e.trackLabel),e.groupId!=null&&Object.hasOwnProperty.call(e,"groupId")&&t.uint32(48).uint32(e.groupId),e.avgBitrateBps!=null&&Object.hasOwnProperty.call(e,"avgBitrateBps")&&t.uint32(56).uint32(e.avgBitrateBps),e.attendeeId!=null&&Object.hasOwnProperty.call(e,"attendeeId")&&t.uint32(66).string(e.attendeeId),e.mediaType!=null&&Object.hasOwnProperty.call(e,"mediaType")&&t.uint32(72).int32(e.mediaType),e.externalUserId!=null&&Object.hasOwnProperty.call(e,"externalUserId")&&t.uint32(82).string(e.externalUserId),t},"encode"),n.encodeDelimited=o(function(e,t){return this.encode(e,t).ldelim()},"encodeDelimited"),n.decode=o(function(e,t){e instanceof h||(e=h.create(e));for(var r=t===void 0?e.len:e.pos+t,l=new a.SdkStreamDescriptor;e.pos<r;){var p=e.uint32();switch(p>>>3){case 1:l.streamId=e.uint32();break;case 2:l.framerate=e.uint32();break;case 3:l.maxBitrateKbps=e.uint32();break;case 4:l.trackLabel=e.string();break;case 6:l.groupId=e.uint32();break;case 7:l.avgBitrateBps=e.uint32();break;case 8:l.attendeeId=e.string();break;case 9:l.mediaType=e.int32();break;case 10:l.externalUserId=e.string();break;default:e.skipType(p&7);break}}return l},"decode"),n.decodeDelimited=o(function(e){return e instanceof h||(e=new h(e)),this.decode(e,e.uint32())},"decodeDelimited"),n.verify=o(function(e){if(typeof e!="object"||e===null)return"object expected";if(e.streamId!=null&&e.hasOwnProperty("streamId")&&!f.isInteger(e.streamId))return"streamId: integer expected";if(e.framerate!=null&&e.hasOwnProperty("framerate")&&!f.isInteger(e.framerate))return"framerate: integer expected";if(e.maxBitrateKbps!=null&&e.hasOwnProperty("maxBitrateKbps")&&!f.isInteger(e.maxBitrateKbps))return"maxBitrateKbps: integer expected";if(e.trackLabel!=null&&e.hasOwnProperty("trackLabel")&&!f.isString(e.trackLabel))return"trackLabel: string expected";if(e.groupId!=null&&e.hasOwnProperty("groupId")&&!f.isInteger(e.groupId))return"groupId: integer expected";if(e.avgBitrateBps!=null&&e.hasOwnProperty("avgBitrateBps")&&!f.isInteger(e.avgBitrateBps))return"avgBitrateBps: integer expected";if(e.attendeeId!=null&&e.hasOwnProperty("attendeeId")&&!f.isString(e.attendeeId))return"attendeeId: string expected";if(e.mediaType!=null&&e.hasOwnProperty("mediaType"))switch(e.mediaType){default:return"mediaType: enum value expected";case 1:case 2:break}return e.externalUserId!=null&&e.hasOwnProperty("externalUserId")&&!f.isString(e.externalUserId)?"externalUserId: string expected":null},"verify"),n.fromObject=o(function(e){if(e instanceof a.SdkStreamDescriptor)return e;var t=new a.SdkStreamDescriptor;switch(e.streamId!=null&&(t.streamId=e.streamId>>>0),e.framerate!=null&&(t.framerate=e.framerate>>>0),e.maxBitrateKbps!=null&&(t.maxBitrateKbps=e.maxBitrateKbps>>>0),e.trackLabel!=null&&(t.trackLabel=String(e.trackLabel)),e.groupId!=null&&(t.groupId=e.groupId>>>0),e.avgBitrateBps!=null&&(t.avgBitrateBps=e.avgBitrateBps>>>0),e.attendeeId!=null&&(t.attendeeId=String(e.attendeeId)),e.mediaType){case"AUDIO":case 1:t.mediaType=1;break;case"VIDEO":case 2:t.mediaType=2;break}return e.externalUserId!=null&&(t.externalUserId=String(e.externalUserId)),t},"fromObject"),n.toObject=o(function(e,t){t||(t={});var r={};return t.defaults&&(r.streamId=0,r.framerate=0,r.maxBitrateKbps=0,r.trackLabel="",r.groupId=0,r.avgBitrateBps=0,r.attendeeId="",r.mediaType=t.enums===String?"AUDIO":1,r.externalUserId=""),e.streamId!=null&&e.hasOwnProperty("streamId")&&(r.streamId=e.streamId),e.framerate!=null&&e.hasOwnProperty("framerate")&&(r.framerate=e.framerate),e.maxBitrateKbps!=null&&e.hasOwnProperty("maxBitrateKbps")&&(r.maxBitrateKbps=e.maxBitrateKbps),e.trackLabel!=null&&e.hasOwnProperty("trackLabel")&&(r.trackLabel=e.trackLabel),e.groupId!=null&&e.hasOwnProperty("groupId")&&(r.groupId=e.groupId),e.avgBitrateBps!=null&&e.hasOwnProperty("avgBitrateBps")&&(r.avgBitrateBps=e.avgBitrateBps),e.attendeeId!=null&&e.hasOwnProperty("attendeeId")&&(r.attendeeId=e.attendeeId),e.mediaType!=null&&e.hasOwnProperty("mediaType")&&(r.mediaType=t.enums===String?a.SdkStreamMediaType[e.mediaType]:e.mediaType),e.externalUserId!=null&&e.hasOwnProperty("externalUserId")&&(r.externalUserId=e.externalUserId),r},"toObject"),n.prototype.toJSON=o(function(){return this.constructor.toObject(this,S.util.toJSONOptions)},"toJSON"),n}(),a.SdkStreamAllocation=function(){function n(i){if(i)for(var e=Object.keys(i),t=0;t<e.length;++t)i[e[t]]!=null&&(this[e[t]]=i[e[t]])}return o(n,"SdkStreamAllocation"),n.prototype.trackLabel="",n.prototype.streamId=0,n.prototype.groupId=0,n.create=o(function(e){return new n(e)},"create"),n.encode=o(function(e,t){return t||(t=m.create()),e.trackLabel!=null&&Object.hasOwnProperty.call(e,"trackLabel")&&t.uint32(10).string(e.trackLabel),e.streamId!=null&&Object.hasOwnProperty.call(e,"streamId")&&t.uint32(16).uint32(e.streamId),e.groupId!=null&&Object.hasOwnProperty.call(e,"groupId")&&t.uint32(24).uint32(e.groupId),t},"encode"),n.encodeDelimited=o(function(e,t){return this.encode(e,t).ldelim()},"encodeDelimited"),n.decode=o(function(e,t){e instanceof h||(e=h.create(e));for(var r=t===void 0?e.len:e.pos+t,l=new a.SdkStreamAllocation;e.pos<r;){var p=e.uint32();switch(p>>>3){case 1:l.trackLabel=e.string();break;case 2:l.streamId=e.uint32();break;case 3:l.groupId=e.uint32();break;default:e.skipType(p&7);break}}return l},"decode"),n.decodeDelimited=o(function(e){return e instanceof h||(e=new h(e)),this.decode(e,e.uint32())},"decodeDelimited"),n.verify=o(function(e){return typeof e!="object"||e===null?"object expected":e.trackLabel!=null&&e.hasOwnProperty("trackLabel")&&!f.isString(e.trackLabel)?"trackLabel: string expected":e.streamId!=null&&e.hasOwnProperty("streamId")&&!f.isInteger(e.streamId)?"streamId: integer expected":e.groupId!=null&&e.hasOwnProperty("groupId")&&!f.isInteger(e.groupId)?"groupId: integer expected":null},"verify"),n.fromObject=o(function(e){if(e instanceof a.SdkStreamAllocation)return e;var t=new a.SdkStreamAllocation;return e.trackLabel!=null&&(t.trackLabel=String(e.trackLabel)),e.streamId!=null&&(t.streamId=e.streamId>>>0),e.groupId!=null&&(t.groupId=e.groupId>>>0),t},"fromObject"),n.toObject=o(function(e,t){t||(t={});var r={};return t.defaults&&(r.trackLabel="",r.streamId=0,r.groupId=0),e.trackLabel!=null&&e.hasOwnProperty("trackLabel")&&(r.trackLabel=e.trackLabel),e.streamId!=null&&e.hasOwnProperty("streamId")&&(r.streamId=e.streamId),e.groupId!=null&&e.hasOwnProperty("groupId")&&(r.groupId=e.groupId),r},"toObject"),n.prototype.toJSON=o(function(){return this.constructor.toObject(this,S.util.toJSONOptions)},"toJSON"),n}(),a.SdkTrackMapping=function(){function n(i){if(i)for(var e=Object.keys(i),t=0;t<e.length;++t)i[e[t]]!=null&&(this[e[t]]=i[e[t]])}return o(n,"SdkTrackMapping"),n.prototype.streamId=0,n.prototype.ssrc=0,n.prototype.trackLabel="",n.create=o(function(e){return new n(e)},"create"),n.encode=o(function(e,t){return t||(t=m.create()),e.streamId!=null&&Object.hasOwnProperty.call(e,"streamId")&&t.uint32(8).uint32(e.streamId),e.ssrc!=null&&Object.hasOwnProperty.call(e,"ssrc")&&t.uint32(16).uint32(e.ssrc),e.trackLabel!=null&&Object.hasOwnProperty.call(e,"trackLabel")&&t.uint32(26).string(e.trackLabel),t},"encode"),n.encodeDelimited=o(function(e,t){return this.encode(e,t).ldelim()},"encodeDelimited"),n.decode=o(function(e,t){e instanceof h||(e=h.create(e));for(var r=t===void 0?e.len:e.pos+t,l=new a.SdkTrackMapping;e.pos<r;){var p=e.uint32();switch(p>>>3){case 1:l.streamId=e.uint32();break;case 2:l.ssrc=e.uint32();break;case 3:l.trackLabel=e.string();break;default:e.skipType(p&7);break}}return l},"decode"),n.decodeDelimited=o(function(e){return e instanceof h||(e=new h(e)),this.decode(e,e.uint32())},"decodeDelimited"),n.verify=o(function(e){return typeof e!="object"||e===null?"object expected":e.streamId!=null&&e.hasOwnProperty("streamId")&&!f.isInteger(e.streamId)?"streamId: integer expected":e.ssrc!=null&&e.hasOwnProperty("ssrc")&&!f.isInteger(e.ssrc)?"ssrc: integer expected":e.trackLabel!=null&&e.hasOwnProperty("trackLabel")&&!f.isString(e.trackLabel)?"trackLabel: string expected":null},"verify"),n.fromObject=o(function(e){if(e instanceof a.SdkTrackMapping)return e;var t=new a.SdkTrackMapping;return e.streamId!=null&&(t.streamId=e.streamId>>>0),e.ssrc!=null&&(t.ssrc=e.ssrc>>>0),e.trackLabel!=null&&(t.trackLabel=String(e.trackLabel)),t},"fromObject"),n.toObject=o(function(e,t){t||(t={});var r={};return t.defaults&&(r.streamId=0,r.ssrc=0,r.trackLabel=""),e.streamId!=null&&e.hasOwnProperty("streamId")&&(r.streamId=e.streamId),e.ssrc!=null&&e.hasOwnProperty("ssrc")&&(r.ssrc=e.ssrc),e.trackLabel!=null&&e.hasOwnProperty("trackLabel")&&(r.trackLabel=e.trackLabel),r},"toObject"),n.prototype.toJSON=o(function(){return this.constructor.toObject(this,S.util.toJSONOptions)},"toJSON"),n}(),a.SdkBitrate=function(){function n(i){if(i)for(var e=Object.keys(i),t=0;t<e.length;++t)i[e[t]]!=null&&(this[e[t]]=i[e[t]])}return o(n,"SdkBitrate"),n.prototype.sourceStreamId=0,n.prototype.avgBitrateBps=0,n.create=o(function(e){return new n(e)},"create"),n.encode=o(function(e,t){return t||(t=m.create()),e.sourceStreamId!=null&&Object.hasOwnProperty.call(e,"sourceStreamId")&&t.uint32(8).uint32(e.sourceStreamId),e.avgBitrateBps!=null&&Object.hasOwnProperty.call(e,"avgBitrateBps")&&t.uint32(16).uint32(e.avgBitrateBps),t},"encode"),n.encodeDelimited=o(function(e,t){return this.encode(e,t).ldelim()},"encodeDelimited"),n.decode=o(function(e,t){e instanceof h||(e=h.create(e));for(var r=t===void 0?e.len:e.pos+t,l=new a.SdkBitrate;e.pos<r;){var p=e.uint32();switch(p>>>3){case 1:l.sourceStreamId=e.uint32();break;case 2:l.avgBitrateBps=e.uint32();break;default:e.skipType(p&7);break}}return l},"decode"),n.decodeDelimited=o(function(e){return e instanceof h||(e=new h(e)),this.decode(e,e.uint32())},"decodeDelimited"),n.verify=o(function(e){return typeof e!="object"||e===null?"object expected":e.sourceStreamId!=null&&e.hasOwnProperty("sourceStreamId")&&!f.isInteger(e.sourceStreamId)?"sourceStreamId: integer expected":e.avgBitrateBps!=null&&e.hasOwnProperty("avgBitrateBps")&&!f.isInteger(e.avgBitrateBps)?"avgBitrateBps: integer expected":null},"verify"),n.fromObject=o(function(e){if(e instanceof a.SdkBitrate)return e;var t=new a.SdkBitrate;return e.sourceStreamId!=null&&(t.sourceStreamId=e.sourceStreamId>>>0),e.avgBitrateBps!=null&&(t.avgBitrateBps=e.avgBitrateBps>>>0),t},"fromObject"),n.toObject=o(function(e,t){t||(t={});var r={};return t.defaults&&(r.sourceStreamId=0,r.avgBitrateBps=0),e.sourceStreamId!=null&&e.hasOwnProperty("sourceStreamId")&&(r.sourceStreamId=e.sourceStreamId),e.avgBitrateBps!=null&&e.hasOwnProperty("avgBitrateBps")&&(r.avgBitrateBps=e.avgBitrateBps),r},"toObject"),n.prototype.toJSON=o(function(){return this.constructor.toObject(this,S.util.toJSONOptions)},"toJSON"),n}(),a.SdkAudioControlFrame=function(){function n(i){if(i)for(var e=Object.keys(i),t=0;t<e.length;++t)i[e[t]]!=null&&(this[e[t]]=i[e[t]])}return o(n,"SdkAudioControlFrame"),n.prototype.muted=!1,n.create=o(function(e){return new n(e)},"create"),n.encode=o(function(e,t){return t||(t=m.create()),e.muted!=null&&Object.hasOwnProperty.call(e,"muted")&&t.uint32(8).bool(e.muted),t},"encode"),n.encodeDelimited=o(function(e,t){return this.encode(e,t).ldelim()},"encodeDelimited"),n.decode=o(function(e,t){e instanceof h||(e=h.create(e));for(var r=t===void 0?e.len:e.pos+t,l=new a.SdkAudioControlFrame;e.pos<r;){var p=e.uint32();switch(p>>>3){case 1:l.muted=e.bool();break;default:e.skipType(p&7);break}}return l},"decode"),n.decodeDelimited=o(function(e){return e instanceof h||(e=new h(e)),this.decode(e,e.uint32())},"decodeDelimited"),n.verify=o(function(e){return typeof e!="object"||e===null?"object expected":e.muted!=null&&e.hasOwnProperty("muted")&&typeof e.muted!="boolean"?"muted: boolean expected":null},"verify"),n.fromObject=o(function(e){if(e instanceof a.SdkAudioControlFrame)return e;var t=new a.SdkAudioControlFrame;return e.muted!=null&&(t.muted=Boolean(e.muted)),t},"fromObject"),n.toObject=o(function(e,t){t||(t={});var r={};return t.defaults&&(r.muted=!1),e.muted!=null&&e.hasOwnProperty("muted")&&(r.muted=e.muted),r},"toObject"),n.prototype.toJSON=o(function(){return this.constructor.toObject(this,S.util.toJSONOptions)},"toJSON"),n}(),a.SdkAudioMetadataFrame=function(){function n(i){if(this.attendeeStates=[],i)for(var e=Object.keys(i),t=0;t<e.length;++t)i[e[t]]!=null&&(this[e[t]]=i[e[t]])}return o(n,"SdkAudioMetadataFrame"),n.prototype.attendeeStates=f.emptyArray,n.create=o(function(e){return new n(e)},"create"),n.encode=o(function(e,t){if(t||(t=m.create()),e.attendeeStates!=null&&e.attendeeStates.length)for(var r=0;r<e.attendeeStates.length;++r)a.SdkAudioAttendeeState.encode(e.attendeeStates[r],t.uint32(10).fork()).ldelim();return t},"encode"),n.encodeDelimited=o(function(e,t){return this.encode(e,t).ldelim()},"encodeDelimited"),n.decode=o(function(e,t){e instanceof h||(e=h.create(e));for(var r=t===void 0?e.len:e.pos+t,l=new a.SdkAudioMetadataFrame;e.pos<r;){var p=e.uint32();switch(p>>>3){case 1:l.attendeeStates&&l.attendeeStates.length||(l.attendeeStates=[]),l.attendeeStates.push(a.SdkAudioAttendeeState.decode(e,e.uint32()));break;default:e.skipType(p&7);break}}return l},"decode"),n.decodeDelimited=o(function(e){return e instanceof h||(e=new h(e)),this.decode(e,e.uint32())},"decodeDelimited"),n.verify=o(function(e){if(typeof e!="object"||e===null)return"object expected";if(e.attendeeStates!=null&&e.hasOwnProperty("attendeeStates")){if(!Array.isArray(e.attendeeStates))return"attendeeStates: array expected";for(var t=0;t<e.attendeeStates.length;++t){var r=a.SdkAudioAttendeeState.verify(e.attendeeStates[t]);if(r)return"attendeeStates."+r}}return null},"verify"),n.fromObject=o(function(e){if(e instanceof a.SdkAudioMetadataFrame)return e;var t=new a.SdkAudioMetadataFrame;if(e.attendeeStates){if(!Array.isArray(e.attendeeStates))throw TypeError(".SdkAudioMetadataFrame.attendeeStates: array expected");t.attendeeStates=[];for(var r=0;r<e.attendeeStates.length;++r){if(typeof e.attendeeStates[r]!="object")throw TypeError(".SdkAudioMetadataFrame.attendeeStates: object expected");t.attendeeStates[r]=a.SdkAudioAttendeeState.fromObject(e.attendeeStates[r])}}return t},"fromObject"),n.toObject=o(function(e,t){t||(t={});var r={};if((t.arrays||t.defaults)&&(r.attendeeStates=[]),e.attendeeStates&&e.attendeeStates.length){r.attendeeStates=[];for(var l=0;l<e.attendeeStates.length;++l)r.attendeeStates[l]=a.SdkAudioAttendeeState.toObject(e.attendeeStates[l],t)}return r},"toObject"),n.prototype.toJSON=o(function(){return this.constructor.toObject(this,S.util.toJSONOptions)},"toJSON"),n}(),a.SdkAudioAttendeeState=function(){function n(i){if(i)for(var e=Object.keys(i),t=0;t<e.length;++t)i[e[t]]!=null&&(this[e[t]]=i[e[t]])}return o(n,"SdkAudioAttendeeState"),n.prototype.audioStreamId=0,n.prototype.volume=0,n.prototype.muted=!1,n.prototype.signalStrength=0,n.create=o(function(e){return new n(e)},"create"),n.encode=o(function(e,t){return t||(t=m.create()),e.audioStreamId!=null&&Object.hasOwnProperty.call(e,"audioStreamId")&&t.uint32(8).uint32(e.audioStreamId),e.volume!=null&&Object.hasOwnProperty.call(e,"volume")&&t.uint32(16).uint32(e.volume),e.muted!=null&&Object.hasOwnProperty.call(e,"muted")&&t.uint32(24).bool(e.muted),e.signalStrength!=null&&Object.hasOwnProperty.call(e,"signalStrength")&&t.uint32(32).uint32(e.signalStrength),t},"encode"),n.encodeDelimited=o(function(e,t){return this.encode(e,t).ldelim()},"encodeDelimited"),n.decode=o(function(e,t){e instanceof h||(e=h.create(e));for(var r=t===void 0?e.len:e.pos+t,l=new a.SdkAudioAttendeeState;e.pos<r;){var p=e.uint32();switch(p>>>3){case 1:l.audioStreamId=e.uint32();break;case 2:l.volume=e.uint32();break;case 3:l.muted=e.bool();break;case 4:l.signalStrength=e.uint32();break;default:e.skipType(p&7);break}}return l},"decode"),n.decodeDelimited=o(function(e){return e instanceof h||(e=new h(e)),this.decode(e,e.uint32())},"decodeDelimited"),n.verify=o(function(e){return typeof e!="object"||e===null?"object expected":e.audioStreamId!=null&&e.hasOwnProperty("audioStreamId")&&!f.isInteger(e.audioStreamId)?"audioStreamId: integer expected":e.volume!=null&&e.hasOwnProperty("volume")&&!f.isInteger(e.volume)?"volume: integer expected":e.muted!=null&&e.hasOwnProperty("muted")&&typeof e.muted!="boolean"?"muted: boolean expected":e.signalStrength!=null&&e.hasOwnProperty("signalStrength")&&!f.isInteger(e.signalStrength)?"signalStrength: integer expected":null},"verify"),n.fromObject=o(function(e){if(e instanceof a.SdkAudioAttendeeState)return e;var t=new a.SdkAudioAttendeeState;return e.audioStreamId!=null&&(t.audioStreamId=e.audioStreamId>>>0),e.volume!=null&&(t.volume=e.volume>>>0),e.muted!=null&&(t.muted=Boolean(e.muted)),e.signalStrength!=null&&(t.signalStrength=e.signalStrength>>>0),t},"fromObject"),n.toObject=o(function(e,t){t||(t={});var r={};return t.defaults&&(r.audioStreamId=0,r.volume=0,r.muted=!1,r.signalStrength=0),e.audioStreamId!=null&&e.hasOwnProperty("audioStreamId")&&(r.audioStreamId=e.audioStreamId),e.volume!=null&&e.hasOwnProperty("volume")&&(r.volume=e.volume),e.muted!=null&&e.hasOwnProperty("muted")&&(r.muted=e.muted),e.signalStrength!=null&&e.hasOwnProperty("signalStrength")&&(r.signalStrength=e.signalStrength),r},"toObject"),n.prototype.toJSON=o(function(){return this.constructor.toObject(this,S.util.toJSONOptions)},"toJSON"),n}(),a.SdkAudioStreamIdInfoFrame=function(){function n(i){if(this.streams=[],i)for(var e=Object.keys(i),t=0;t<e.length;++t)i[e[t]]!=null&&(this[e[t]]=i[e[t]])}return o(n,"SdkAudioStreamIdInfoFrame"),n.prototype.streams=f.emptyArray,n.create=o(function(e){return new n(e)},"create"),n.encode=o(function(e,t){if(t||(t=m.create()),e.streams!=null&&e.streams.length)for(var r=0;r<e.streams.length;++r)a.SdkAudioStreamIdInfo.encode(e.streams[r],t.uint32(10).fork()).ldelim();return t},"encode"),n.encodeDelimited=o(function(e,t){return this.encode(e,t).ldelim()},"encodeDelimited"),n.decode=o(function(e,t){e instanceof h||(e=h.create(e));for(var r=t===void 0?e.len:e.pos+t,l=new a.SdkAudioStreamIdInfoFrame;e.pos<r;){var p=e.uint32();switch(p>>>3){case 1:l.streams&&l.streams.length||(l.streams=[]),l.streams.push(a.SdkAudioStreamIdInfo.decode(e,e.uint32()));break;default:e.skipType(p&7);break}}return l},"decode"),n.decodeDelimited=o(function(e){return e instanceof h||(e=new h(e)),this.decode(e,e.uint32())},"decodeDelimited"),n.verify=o(function(e){if(typeof e!="object"||e===null)return"object expected";if(e.streams!=null&&e.hasOwnProperty("streams")){if(!Array.isArray(e.streams))return"streams: array expected";for(var t=0;t<e.streams.length;++t){var r=a.SdkAudioStreamIdInfo.verify(e.streams[t]);if(r)return"streams."+r}}return null},"verify"),n.fromObject=o(function(e){if(e instanceof a.SdkAudioStreamIdInfoFrame)return e;var t=new a.SdkAudioStreamIdInfoFrame;if(e.streams){if(!Array.isArray(e.streams))throw TypeError(".SdkAudioStreamIdInfoFrame.streams: array expected");t.streams=[];for(var r=0;r<e.streams.length;++r){if(typeof e.streams[r]!="object")throw TypeError(".SdkAudioStreamIdInfoFrame.streams: object expected");t.streams[r]=a.SdkAudioStreamIdInfo.fromObject(e.streams[r])}}return t},"fromObject"),n.toObject=o(function(e,t){t||(t={});var r={};if((t.arrays||t.defaults)&&(r.streams=[]),e.streams&&e.streams.length){r.streams=[];for(var l=0;l<e.streams.length;++l)r.streams[l]=a.SdkAudioStreamIdInfo.toObject(e.streams[l],t)}return r},"toObject"),n.prototype.toJSON=o(function(){return this.constructor.toObject(this,S.util.toJSONOptions)},"toJSON"),n}(),a.SdkAudioStreamIdInfo=function(){function n(i){if(i)for(var e=Object.keys(i),t=0;t<e.length;++t)i[e[t]]!=null&&(this[e[t]]=i[e[t]])}return o(n,"SdkAudioStreamIdInfo"),n.prototype.audioStreamId=0,n.prototype.attendeeId="",n.prototype.muted=!1,n.prototype.externalUserId="",n.prototype.dropped=!1,n.create=o(function(e){return new n(e)},"create"),n.encode=o(function(e,t){return t||(t=m.create()),e.audioStreamId!=null&&Object.hasOwnProperty.call(e,"audioStreamId")&&t.uint32(8).uint32(e.audioStreamId),e.attendeeId!=null&&Object.hasOwnProperty.call(e,"attendeeId")&&t.uint32(18).string(e.attendeeId),e.muted!=null&&Object.hasOwnProperty.call(e,"muted")&&t.uint32(24).bool(e.muted),e.externalUserId!=null&&Object.hasOwnProperty.call(e,"externalUserId")&&t.uint32(34).string(e.externalUserId),e.dropped!=null&&Object.hasOwnProperty.call(e,"dropped")&&t.uint32(40).bool(e.dropped),t},"encode"),n.encodeDelimited=o(function(e,t){return this.encode(e,t).ldelim()},"encodeDelimited"),n.decode=o(function(e,t){e instanceof h||(e=h.create(e));for(var r=t===void 0?e.len:e.pos+t,l=new a.SdkAudioStreamIdInfo;e.pos<r;){var p=e.uint32();switch(p>>>3){case 1:l.audioStreamId=e.uint32();break;case 2:l.attendeeId=e.string();break;case 3:l.muted=e.bool();break;case 4:l.externalUserId=e.string();break;case 5:l.dropped=e.bool();break;default:e.skipType(p&7);break}}return l},"decode"),n.decodeDelimited=o(function(e){return e instanceof h||(e=new h(e)),this.decode(e,e.uint32())},"decodeDelimited"),n.verify=o(function(e){return typeof e!="object"||e===null?"object expected":e.audioStreamId!=null&&e.hasOwnProperty("audioStreamId")&&!f.isInteger(e.audioStreamId)?"audioStreamId: integer expected":e.attendeeId!=null&&e.hasOwnProperty("attendeeId")&&!f.isString(e.attendeeId)?"attendeeId: string expected":e.muted!=null&&e.hasOwnProperty("muted")&&typeof e.muted!="boolean"?"muted: boolean expected":e.externalUserId!=null&&e.hasOwnProperty("externalUserId")&&!f.isString(e.externalUserId)?"externalUserId: string expected":e.dropped!=null&&e.hasOwnProperty("dropped")&&typeof e.dropped!="boolean"?"dropped: boolean expected":null},"verify"),n.fromObject=o(function(e){if(e instanceof a.SdkAudioStreamIdInfo)return e;var t=new a.SdkAudioStreamIdInfo;return e.audioStreamId!=null&&(t.audioStreamId=e.audioStreamId>>>0),e.attendeeId!=null&&(t.attendeeId=String(e.attendeeId)),e.muted!=null&&(t.muted=Boolean(e.muted)),e.externalUserId!=null&&(t.externalUserId=String(e.externalUserId)),e.dropped!=null&&(t.dropped=Boolean(e.dropped)),t},"fromObject"),n.toObject=o(function(e,t){t||(t={});var r={};return t.defaults&&(r.audioStreamId=0,r.attendeeId="",r.muted=!1,r.externalUserId="",r.dropped=!1),e.audioStreamId!=null&&e.hasOwnProperty("audioStreamId")&&(r.audioStreamId=e.audioStreamId),e.attendeeId!=null&&e.hasOwnProperty("attendeeId")&&(r.attendeeId=e.attendeeId),e.muted!=null&&e.hasOwnProperty("muted")&&(r.muted=e.muted),e.externalUserId!=null&&e.hasOwnProperty("externalUserId")&&(r.externalUserId=e.externalUserId),e.dropped!=null&&e.hasOwnProperty("dropped")&&(r.dropped=e.dropped),r},"toObject"),n.prototype.toJSON=o(function(){return this.constructor.toObject(this,S.util.toJSONOptions)},"toJSON"),n}(),a.SdkPingPongType=function(){var n={},i=Object.create(n);return i[n[1]="PING"]=1,i[n[2]="PONG"]=2,i}(),a.SdkPingPongFrame=function(){function n(i){if(i)for(var e=Object.keys(i),t=0;t<e.length;++t)i[e[t]]!=null&&(this[e[t]]=i[e[t]])}return o(n,"SdkPingPongFrame"),n.prototype.type=1,n.prototype.pingId=0,n.create=o(function(e){return new n(e)},"create"),n.encode=o(function(e,t){return t||(t=m.create()),t.uint32(8).int32(e.type),t.uint32(16).uint32(e.pingId),t},"encode"),n.encodeDelimited=o(function(e,t){return this.encode(e,t).ldelim()},"encodeDelimited"),n.decode=o(function(e,t){e instanceof h||(e=h.create(e));for(var r=t===void 0?e.len:e.pos+t,l=new a.SdkPingPongFrame;e.pos<r;){var p=e.uint32();switch(p>>>3){case 1:l.type=e.int32();break;case 2:l.pingId=e.uint32();break;default:e.skipType(p&7);break}}if(!l.hasOwnProperty("type"))throw f.ProtocolError("missing required 'type'",{instance:l});if(!l.hasOwnProperty("pingId"))throw f.ProtocolError("missing required 'pingId'",{instance:l});return l},"decode"),n.decodeDelimited=o(function(e){return e instanceof h||(e=new h(e)),this.decode(e,e.uint32())},"decodeDelimited"),n.verify=o(function(e){if(typeof e!="object"||e===null)return"object expected";switch(e.type){default:return"type: enum value expected";case 1:case 2:break}return f.isInteger(e.pingId)?null:"pingId: integer expected"},"verify"),n.fromObject=o(function(e){if(e instanceof a.SdkPingPongFrame)return e;var t=new a.SdkPingPongFrame;switch(e.type){case"PING":case 1:t.type=1;break;case"PONG":case 2:t.type=2;break}return e.pingId!=null&&(t.pingId=e.pingId>>>0),t},"fromObject"),n.toObject=o(function(e,t){t||(t={});var r={};return t.defaults&&(r.type=t.enums===String?"PING":1,r.pingId=0),e.type!=null&&e.hasOwnProperty("type")&&(r.type=t.enums===String?a.SdkPingPongType[e.type]:e.type),e.pingId!=null&&e.hasOwnProperty("pingId")&&(r.pingId=e.pingId),r},"toObject"),n.prototype.toJSON=o(function(){return this.constructor.toObject(this,S.util.toJSONOptions)},"toJSON"),n}(),a.SdkAudioStatusFrame=function(){function n(i){if(i)for(var e=Object.keys(i),t=0;t<e.length;++t)i[e[t]]!=null&&(this[e[t]]=i[e[t]])}return o(n,"SdkAudioStatusFrame"),n.prototype.audioStatus=0,n.create=o(function(e){return new n(e)},"create"),n.encode=o(function(e,t){return t||(t=m.create()),e.audioStatus!=null&&Object.hasOwnProperty.call(e,"audioStatus")&&t.uint32(8).uint32(e.audioStatus),t},"encode"),n.encodeDelimited=o(function(e,t){return this.encode(e,t).ldelim()},"encodeDelimited"),n.decode=o(function(e,t){e instanceof h||(e=h.create(e));for(var r=t===void 0?e.len:e.pos+t,l=new a.SdkAudioStatusFrame;e.pos<r;){var p=e.uint32();switch(p>>>3){case 1:l.audioStatus=e.uint32();break;default:e.skipType(p&7);break}}return l},"decode"),n.decodeDelimited=o(function(e){return e instanceof h||(e=new h(e)),this.decode(e,e.uint32())},"decodeDelimited"),n.verify=o(function(e){return typeof e!="object"||e===null?"object expected":e.audioStatus!=null&&e.hasOwnProperty("audioStatus")&&!f.isInteger(e.audioStatus)?"audioStatus: integer expected":null},"verify"),n.fromObject=o(function(e){if(e instanceof a.SdkAudioStatusFrame)return e;var t=new a.SdkAudioStatusFrame;return e.audioStatus!=null&&(t.audioStatus=e.audioStatus>>>0),t},"fromObject"),n.toObject=o(function(e,t){t||(t={});var r={};return t.defaults&&(r.audioStatus=0),e.audioStatus!=null&&e.hasOwnProperty("audioStatus")&&(r.audioStatus=e.audioStatus),r},"toObject"),n.prototype.toJSON=o(function(){return this.constructor.toObject(this,S.util.toJSONOptions)},"toJSON"),n}(),a.SdkMetric=function(){function n(i){if(i)for(var e=Object.keys(i),t=0;t<e.length;++t)i[e[t]]!=null&&(this[e[t]]=i[e[t]])}return o(n,"SdkMetric"),n.prototype.type=1,n.prototype.value=0,n.create=o(function(e){return new n(e)},"create"),n.encode=o(function(e,t){return t||(t=m.create()),e.type!=null&&Object.hasOwnProperty.call(e,"type")&&t.uint32(8).int32(e.type),e.value!=null&&Object.hasOwnProperty.call(e,"value")&&t.uint32(17).double(e.value),t},"encode"),n.encodeDelimited=o(function(e,t){return this.encode(e,t).ldelim()},"encodeDelimited"),n.decode=o(function(e,t){e instanceof h||(e=h.create(e));for(var r=t===void 0?e.len:e.pos+t,l=new a.SdkMetric;e.pos<r;){var p=e.uint32();switch(p>>>3){case 1:l.type=e.int32();break;case 2:l.value=e.double();break;default:e.skipType(p&7);break}}return l},"decode"),n.decodeDelimited=o(function(e){return e instanceof h||(e=new h(e)),this.decode(e,e.uint32())},"decodeDelimited"),n.verify=o(function(e){if(typeof e!="object"||e===null)return"object expected";if(e.type!=null&&e.hasOwnProperty("type"))switch(e.type){default:return"type: enum value expected";case 1:case 2:case 3:case 4:case 5:case 6:case 7:case 8:case 9:case 10:case 11:case 12:case 13:case 14:case 15:case 16:case 17:case 18:case 19:case 20:case 21:case 22:case 23:case 24:case 25:case 26:case 27:case 28:case 29:case 30:case 31:case 32:case 33:case 34:case 35:case 36:case 37:case 38:case 39:case 40:case 41:case 42:case 43:case 44:case 45:case 46:case 47:case 48:case 49:case 64:case 66:case 69:case 72:case 86:case 87:case 88:case 89:break}return e.value!=null&&e.hasOwnProperty("value")&&typeof e.value!="number"?"value: number expected":null},"verify"),n.fromObject=o(function(e){if(e instanceof a.SdkMetric)return e;var t=new a.SdkMetric;switch(e.type){case"VIDEO_ACTUAL_ENCODER_BITRATE":case 1:t.type=1;break;case"VIDEO_AVAILABLE_SEND_BANDWIDTH":case 2:t.type=2;break;case"VIDEO_RETRANSMIT_BITRATE":case 3:t.type=3;break;case"VIDEO_AVAILABLE_RECEIVE_BANDWIDTH":case 4:t.type=4;break;case"VIDEO_TARGET_ENCODER_BITRATE":case 5:t.type=5;break;case"VIDEO_BUCKET_DELAY_MS":case 6:t.type=6;break;case"STUN_RTT_MS":case 7:t.type=7;break;case"SOCKET_DISCARDED_PPS":case 8:t.type=8;break;case"RTC_MIC_JITTER_MS":case 9:t.type=9;break;case"RTC_MIC_PPS":case 10:t.type=10;break;case"RTC_MIC_FRACTION_PACKET_LOST_PERCENT":case 11:t.type=11;break;case"RTC_MIC_BITRATE":case 12:t.type=12;break;case"RTC_MIC_RTT_MS":case 13:t.type=13;break;case"RTC_SPK_PPS":case 14:t.type=14;break;case"RTC_SPK_FRACTION_PACKET_LOST_PERCENT":case 15:t.type=15;break;case"RTC_SPK_JITTER_MS":case 16:t.type=16;break;case"RTC_SPK_FRACTION_DECODER_LOSS_PERCENT":case 17:t.type=17;break;case"RTC_SPK_BITRATE":case 18:t.type=18;break;case"RTC_SPK_CURRENT_DELAY_MS":case 19:t.type=19;break;case"RTC_SPK_JITTER_BUFFER_MS":case 20:t.type=20;break;case"VIDEO_SENT_RTT_MS":case 21:t.type=21;break;case"VIDEO_ENCODE_USAGE_PERCENT":case 22:t.type=22;break;case"VIDEO_NACKS_RECEIVED":case 23:t.type=23;break;case"VIDEO_PLIS_RECEIVED":case 24:t.type=24;break;case"VIDEO_ENCODE_MS":case 25:t.type=25;break;case"VIDEO_INPUT_FPS":case 26:t.type=26;break;case"VIDEO_ENCODE_FPS":case 27:t.type=27;break;case"VIDEO_SENT_FPS":case 28:t.type=28;break;case"VIDEO_FIRS_RECEIVED":case 29:t.type=29;break;case"VIDEO_SENT_PPS":case 30:t.type=30;break;case"VIDEO_SENT_FRACTION_PACKET_LOST_PERCENT":case 31:t.type=31;break;case"VIDEO_SENT_BITRATE":case 32:t.type=32;break;case"VIDEO_DROPPED_FPS":case 33:t.type=33;break;case"VIDEO_TARGET_DELAY_MS":case 34:t.type=34;break;case"VIDEO_DECODE_MS":case 35:t.type=35;break;case"VIDEO_OUTPUT_FPS":case 36:t.type=36;break;case"VIDEO_RECEIVED_PPS":case 37:t.type=37;break;case"VIDEO_RECEIVED_FRACTION_PACKET_LOST_PERCENT":case 38:t.type=38;break;case"VIDEO_RENDER_DELAY_MS":case 39:t.type=39;break;case"VIDEO_RECEIVED_FPS":case 40:t.type=40;break;case"VIDEO_DECODE_FPS":case 41:t.type=41;break;case"VIDEO_NACKS_SENT":case 42:t.type=42;break;case"VIDEO_FIRS_SENT":case 43:t.type=43;break;case"VIDEO_RECEIVED_BITRATE":case 44:t.type=44;break;case"VIDEO_CURRENT_DELAY_MS":case 45:t.type=45;break;case"VIDEO_JITTER_BUFFER_MS":case 46:t.type=46;break;case"VIDEO_DISCARDED_PPS":case 47:t.type=47;break;case"VIDEO_PLIS_SENT":case 48:t.type=48;break;case"VIDEO_RECEIVED_JITTER_MS":case 49:t.type=49;break;case"VIDEO_ENCODE_HEIGHT":case 64:t.type=64;break;case"VIDEO_SENT_QP_SUM":case 66:t.type=66;break;case"VIDEO_DECODE_HEIGHT":case 69:t.type=69;break;case"VIDEO_RECEIVED_QP_SUM":case 72:t.type=72;break;case"VIDEO_ENCODE_WIDTH":case 86:t.type=86;break;case"VIDEO_DECODE_WIDTH":case 87:t.type=87;break;case"VIDEO_ENCODER_IS_HARDWARE":case 88:t.type=88;break;case"VIDEO_DECODER_IS_HARDWARE":case 89:t.type=89;break}return e.value!=null&&(t.value=Number(e.value)),t},"fromObject"),n.toObject=o(function(e,t){t||(t={});var r={};return t.defaults&&(r.type=t.enums===String?"VIDEO_ACTUAL_ENCODER_BITRATE":1,r.value=0),e.type!=null&&e.hasOwnProperty("type")&&(r.type=t.enums===String?a.SdkMetric.Type[e.type]:e.type),e.value!=null&&e.hasOwnProperty("value")&&(r.value=t.json&&!isFinite(e.value)?String(e.value):e.value),r},"toObject"),n.prototype.toJSON=o(function(){return this.constructor.toObject(this,S.util.toJSONOptions)},"toJSON"),n.Type=function(){var i={},e=Object.create(i);return e[i[1]="VIDEO_ACTUAL_ENCODER_BITRATE"]=1,e[i[2]="VIDEO_AVAILABLE_SEND_BANDWIDTH"]=2,e[i[3]="VIDEO_RETRANSMIT_BITRATE"]=3,e[i[4]="VIDEO_AVAILABLE_RECEIVE_BANDWIDTH"]=4,e[i[5]="VIDEO_TARGET_ENCODER_BITRATE"]=5,e[i[6]="VIDEO_BUCKET_DELAY_MS"]=6,e[i[7]="STUN_RTT_MS"]=7,e[i[8]="SOCKET_DISCARDED_PPS"]=8,e[i[9]="RTC_MIC_JITTER_MS"]=9,e[i[10]="RTC_MIC_PPS"]=10,e[i[11]="RTC_MIC_FRACTION_PACKET_LOST_PERCENT"]=11,e[i[12]="RTC_MIC_BITRATE"]=12,e[i[13]="RTC_MIC_RTT_MS"]=13,e[i[14]="RTC_SPK_PPS"]=14,e[i[15]="RTC_SPK_FRACTION_PACKET_LOST_PERCENT"]=15,e[i[16]="RTC_SPK_JITTER_MS"]=16,e[i[17]="RTC_SPK_FRACTION_DECODER_LOSS_PERCENT"]=17,e[i[18]="RTC_SPK_BITRATE"]=18,e[i[19]="RTC_SPK_CURRENT_DELAY_MS"]=19,e[i[20]="RTC_SPK_JITTER_BUFFER_MS"]=20,e[i[21]="VIDEO_SENT_RTT_MS"]=21,e[i[22]="VIDEO_ENCODE_USAGE_PERCENT"]=22,e[i[23]="VIDEO_NACKS_RECEIVED"]=23,e[i[24]="VIDEO_PLIS_RECEIVED"]=24,e[i[25]="VIDEO_ENCODE_MS"]=25,e[i[26]="VIDEO_INPUT_FPS"]=26,e[i[27]="VIDEO_ENCODE_FPS"]=27,e[i[28]="VIDEO_SENT_FPS"]=28,e[i[29]="VIDEO_FIRS_RECEIVED"]=29,e[i[30]="VIDEO_SENT_PPS"]=30,e[i[31]="VIDEO_SENT_FRACTION_PACKET_LOST_PERCENT"]=31,e[i[32]="VIDEO_SENT_BITRATE"]=32,e[i[33]="VIDEO_DROPPED_FPS"]=33,e[i[34]="VIDEO_TARGET_DELAY_MS"]=34,e[i[35]="VIDEO_DECODE_MS"]=35,e[i[36]="VIDEO_OUTPUT_FPS"]=36,e[i[37]="VIDEO_RECEIVED_PPS"]=37,e[i[38]="VIDEO_RECEIVED_FRACTION_PACKET_LOST_PERCENT"]=38,e[i[39]="VIDEO_RENDER_DELAY_MS"]=39,e[i[40]="VIDEO_RECEIVED_FPS"]=40,e[i[41]="VIDEO_DECODE_FPS"]=41,e[i[42]="VIDEO_NACKS_SENT"]=42,e[i[43]="VIDEO_FIRS_SENT"]=43,e[i[44]="VIDEO_RECEIVED_BITRATE"]=44,e[i[45]="VIDEO_CURRENT_DELAY_MS"]=45,e[i[46]="VIDEO_JITTER_BUFFER_MS"]=46,e[i[47]="VIDEO_DISCARDED_PPS"]=47,e[i[48]="VIDEO_PLIS_SENT"]=48,e[i[49]="VIDEO_RECEIVED_JITTER_MS"]=49,e[i[64]="VIDEO_ENCODE_HEIGHT"]=64,e[i[66]="VIDEO_SENT_QP_SUM"]=66,e[i[69]="VIDEO_DECODE_HEIGHT"]=69,e[i[72]="VIDEO_RECEIVED_QP_SUM"]=72,e[i[86]="VIDEO_ENCODE_WIDTH"]=86,e[i[87]="VIDEO_DECODE_WIDTH"]=87,e[i[88]="VIDEO_ENCODER_IS_HARDWARE"]=88,e[i[89]="VIDEO_DECODER_IS_HARDWARE"]=89,e}(),n}(),a.SdkStreamMetricFrame=function(){function n(i){if(this.metrics=[],this.dimensions=[],i)for(var e=Object.keys(i),t=0;t<e.length;++t)i[e[t]]!=null&&(this[e[t]]=i[e[t]])}return o(n,"SdkStreamMetricFrame"),n.prototype.streamId=0,n.prototype.groupId=0,n.prototype.metrics=f.emptyArray,n.prototype.dimensions=f.emptyArray,n.create=o(function(e){return new n(e)},"create"),n.encode=o(function(e,t){if(t||(t=m.create()),e.streamId!=null&&Object.hasOwnProperty.call(e,"streamId")&&t.uint32(24).uint32(e.streamId),e.groupId!=null&&Object.hasOwnProperty.call(e,"groupId")&&t.uint32(32).uint32(e.groupId),e.metrics!=null&&e.metrics.length)for(var r=0;r<e.metrics.length;++r)a.SdkMetric.encode(e.metrics[r],t.uint32(42).fork()).ldelim();if(e.dimensions!=null&&e.dimensions.length)for(var r=0;r<e.dimensions.length;++r)a.SdkStreamDimension.encode(e.dimensions[r],t.uint32(50).fork()).ldelim();return t},"encode"),n.encodeDelimited=o(function(e,t){return this.encode(e,t).ldelim()},"encodeDelimited"),n.decode=o(function(e,t){e instanceof h||(e=h.create(e));for(var r=t===void 0?e.len:e.pos+t,l=new a.SdkStreamMetricFrame;e.pos<r;){var p=e.uint32();switch(p>>>3){case 3:l.streamId=e.uint32();break;case 4:l.groupId=e.uint32();break;case 5:l.metrics&&l.metrics.length||(l.metrics=[]),l.metrics.push(a.SdkMetric.decode(e,e.uint32()));break;case 6:l.dimensions&&l.dimensions.length||(l.dimensions=[]),l.dimensions.push(a.SdkStreamDimension.decode(e,e.uint32()));break;default:e.skipType(p&7);break}}return l},"decode"),n.decodeDelimited=o(function(e){return e instanceof h||(e=new h(e)),this.decode(e,e.uint32())},"decodeDelimited"),n.verify=o(function(e){if(typeof e!="object"||e===null)return"object expected";if(e.streamId!=null&&e.hasOwnProperty("streamId")&&!f.isInteger(e.streamId))return"streamId: integer expected";if(e.groupId!=null&&e.hasOwnProperty("groupId")&&!f.isInteger(e.groupId))return"groupId: integer expected";if(e.metrics!=null&&e.hasOwnProperty("metrics")){if(!Array.isArray(e.metrics))return"metrics: array expected";for(var t=0;t<e.metrics.length;++t){var r=a.SdkMetric.verify(e.metrics[t]);if(r)return"metrics."+r}}if(e.dimensions!=null&&e.hasOwnProperty("dimensions")){if(!Array.isArray(e.dimensions))return"dimensions: array expected";for(var t=0;t<e.dimensions.length;++t){var r=a.SdkStreamDimension.verify(e.dimensions[t]);if(r)return"dimensions."+r}}return null},"verify"),n.fromObject=o(function(e){if(e instanceof a.SdkStreamMetricFrame)return e;var t=new a.SdkStreamMetricFrame;if(e.streamId!=null&&(t.streamId=e.streamId>>>0),e.groupId!=null&&(t.groupId=e.groupId>>>0),e.metrics){if(!Array.isArray(e.metrics))throw TypeError(".SdkStreamMetricFrame.metrics: array expected");t.metrics=[];for(var r=0;r<e.metrics.length;++r){if(typeof e.metrics[r]!="object")throw TypeError(".SdkStreamMetricFrame.metrics: object expected");t.metrics[r]=a.SdkMetric.fromObject(e.metrics[r])}}if(e.dimensions){if(!Array.isArray(e.dimensions))throw TypeError(".SdkStreamMetricFrame.dimensions: array expected");t.dimensions=[];for(var r=0;r<e.dimensions.length;++r){if(typeof e.dimensions[r]!="object")throw TypeError(".SdkStreamMetricFrame.dimensions: object expected");t.dimensions[r]=a.SdkStreamDimension.fromObject(e.dimensions[r])}}return t},"fromObject"),n.toObject=o(function(e,t){t||(t={});var r={};if((t.arrays||t.defaults)&&(r.metrics=[],r.dimensions=[]),t.defaults&&(r.streamId=0,r.groupId=0),e.streamId!=null&&e.hasOwnProperty("streamId")&&(r.streamId=e.streamId),e.groupId!=null&&e.hasOwnProperty("groupId")&&(r.groupId=e.groupId),e.metrics&&e.metrics.length){r.metrics=[];for(var l=0;l<e.metrics.length;++l)r.metrics[l]=a.SdkMetric.toObject(e.metrics[l],t)}if(e.dimensions&&e.dimensions.length){r.dimensions=[];for(var l=0;l<e.dimensions.length;++l)r.dimensions[l]=a.SdkStreamDimension.toObject(e.dimensions[l],t)}return r},"toObject"),n.prototype.toJSON=o(function(){return this.constructor.toObject(this,S.util.toJSONOptions)},"toJSON"),n}(),a.SdkClientMetricFrame=function(){function n(i){if(this.globalMetrics=[],this.streamMetricFrames=[],i)for(var e=Object.keys(i),t=0;t<e.length;++t)i[e[t]]!=null&&(this[e[t]]=i[e[t]])}return o(n,"SdkClientMetricFrame"),n.prototype.globalMetrics=f.emptyArray,n.prototype.streamMetricFrames=f.emptyArray,n.create=o(function(e){return new n(e)},"create"),n.encode=o(function(e,t){if(t||(t=m.create()),e.globalMetrics!=null&&e.globalMetrics.length)for(var r=0;r<e.globalMetrics.length;++r)a.SdkMetric.encode(e.globalMetrics[r],t.uint32(10).fork()).ldelim();if(e.streamMetricFrames!=null&&e.streamMetricFrames.length)for(var r=0;r<e.streamMetricFrames.length;++r)a.SdkStreamMetricFrame.encode(e.streamMetricFrames[r],t.uint32(18).fork()).ldelim();return t},"encode"),n.encodeDelimited=o(function(e,t){return this.encode(e,t).ldelim()},"encodeDelimited"),n.decode=o(function(e,t){e instanceof h||(e=h.create(e));for(var r=t===void 0?e.len:e.pos+t,l=new a.SdkClientMetricFrame;e.pos<r;){var p=e.uint32();switch(p>>>3){case 1:l.globalMetrics&&l.globalMetrics.length||(l.globalMetrics=[]),l.globalMetrics.push(a.SdkMetric.decode(e,e.uint32()));break;case 2:l.streamMetricFrames&&l.streamMetricFrames.length||(l.streamMetricFrames=[]),l.streamMetricFrames.push(a.SdkStreamMetricFrame.decode(e,e.uint32()));break;default:e.skipType(p&7);break}}return l},"decode"),n.decodeDelimited=o(function(e){return e instanceof h||(e=new h(e)),this.decode(e,e.uint32())},"decodeDelimited"),n.verify=o(function(e){if(typeof e!="object"||e===null)return"object expected";if(e.globalMetrics!=null&&e.hasOwnProperty("globalMetrics")){if(!Array.isArray(e.globalMetrics))return"globalMetrics: array expected";for(var t=0;t<e.globalMetrics.length;++t){var r=a.SdkMetric.verify(e.globalMetrics[t]);if(r)return"globalMetrics."+r}}if(e.streamMetricFrames!=null&&e.hasOwnProperty("streamMetricFrames")){if(!Array.isArray(e.streamMetricFrames))return"streamMetricFrames: array expected";for(var t=0;t<e.streamMetricFrames.length;++t){var r=a.SdkStreamMetricFrame.verify(e.streamMetricFrames[t]);if(r)return"streamMetricFrames."+r}}return null},"verify"),n.fromObject=o(function(e){if(e instanceof a.SdkClientMetricFrame)return e;var t=new a.SdkClientMetricFrame;if(e.globalMetrics){if(!Array.isArray(e.globalMetrics))throw TypeError(".SdkClientMetricFrame.globalMetrics: array expected");t.globalMetrics=[];for(var r=0;r<e.globalMetrics.length;++r){if(typeof e.globalMetrics[r]!="object")throw TypeError(".SdkClientMetricFrame.globalMetrics: object expected");t.globalMetrics[r]=a.SdkMetric.fromObject(e.globalMetrics[r])}}if(e.streamMetricFrames){if(!Array.isArray(e.streamMetricFrames))throw TypeError(".SdkClientMetricFrame.streamMetricFrames: array expected");t.streamMetricFrames=[];for(var r=0;r<e.streamMetricFrames.length;++r){if(typeof e.streamMetricFrames[r]!="object")throw TypeError(".SdkClientMetricFrame.streamMetricFrames: object expected");t.streamMetricFrames[r]=a.SdkStreamMetricFrame.fromObject(e.streamMetricFrames[r])}}return t},"fromObject"),n.toObject=o(function(e,t){t||(t={});var r={};if((t.arrays||t.defaults)&&(r.globalMetrics=[],r.streamMetricFrames=[]),e.globalMetrics&&e.globalMetrics.length){r.globalMetrics=[];for(var l=0;l<e.globalMetrics.length;++l)r.globalMetrics[l]=a.SdkMetric.toObject(e.globalMetrics[l],t)}if(e.streamMetricFrames&&e.streamMetricFrames.length){r.streamMetricFrames=[];for(var l=0;l<e.streamMetricFrames.length;++l)r.streamMetricFrames[l]=a.SdkStreamMetricFrame.toObject(e.streamMetricFrames[l],t)}return r},"toObject"),n.prototype.toJSON=o(function(){return this.constructor.toObject(this,S.util.toJSONOptions)},"toJSON"),n}(),a.SdkStreamDimension=function(){function n(i){if(i)for(var e=Object.keys(i),t=0;t<e.length;++t)i[e[t]]!=null&&(this[e[t]]=i[e[t]])}return o(n,"SdkStreamDimension"),n.prototype.type=1,n.prototype.value=null,n.create=o(function(e){return new n(e)},"create"),n.encode=o(function(e,t){return t||(t=m.create()),e.type!=null&&Object.hasOwnProperty.call(e,"type")&&t.uint32(8).int32(e.type),e.value!=null&&Object.hasOwnProperty.call(e,"value")&&a.SdkDimensionValue.encode(e.value,t.uint32(18).fork()).ldelim(),t},"encode"),n.encodeDelimited=o(function(e,t){return this.encode(e,t).ldelim()},"encodeDelimited"),n.decode=o(function(e,t){e instanceof h||(e=h.create(e));for(var r=t===void 0?e.len:e.pos+t,l=new a.SdkStreamDimension;e.pos<r;){var p=e.uint32();switch(p>>>3){case 1:l.type=e.int32();break;case 2:l.value=a.SdkDimensionValue.decode(e,e.uint32());break;default:e.skipType(p&7);break}}return l},"decode"),n.decodeDelimited=o(function(e){return e instanceof h||(e=new h(e)),this.decode(e,e.uint32())},"decodeDelimited"),n.verify=o(function(e){if(typeof e!="object"||e===null)return"object expected";if(e.type!=null&&e.hasOwnProperty("type"))switch(e.type){default:return"type: enum value expected";case 1:case 2:break}if(e.value!=null&&e.hasOwnProperty("value")){var t=a.SdkDimensionValue.verify(e.value);if(t)return"value."+t}return null},"verify"),n.fromObject=o(function(e){if(e instanceof a.SdkStreamDimension)return e;var t=new a.SdkStreamDimension;switch(e.type){case"VIDEO_ENCODER_NAME":case 1:t.type=1;break;case"VIDEO_DECODER_NAME":case 2:t.type=2;break}if(e.value!=null){if(typeof e.value!="object")throw TypeError(".SdkStreamDimension.value: object expected");t.value=a.SdkDimensionValue.fromObject(e.value)}return t},"fromObject"),n.toObject=o(function(e,t){t||(t={});var r={};return t.defaults&&(r.type=t.enums===String?"VIDEO_ENCODER_NAME":1,r.value=null),e.type!=null&&e.hasOwnProperty("type")&&(r.type=t.enums===String?a.SdkStreamDimension.Type[e.type]:e.type),e.value!=null&&e.hasOwnProperty("value")&&(r.value=a.SdkDimensionValue.toObject(e.value,t)),r},"toObject"),n.prototype.toJSON=o(function(){return this.constructor.toObject(this,S.util.toJSONOptions)},"toJSON"),n.Type=function(){var i={},e=Object.create(i);return e[i[1]="VIDEO_ENCODER_NAME"]=1,e[i[2]="VIDEO_DECODER_NAME"]=2,e}(),n}(),a.SdkDimensionValue=function(){function n(i){if(i)for(var e=Object.keys(i),t=0;t<e.length;++t)i[e[t]]!=null&&(this[e[t]]=i[e[t]])}return o(n,"SdkDimensionValue"),n.prototype.stringValue="",n.prototype.boolValue=!1,n.prototype.uintValue=f.Long?f.Long.fromBits(0,0,!0):0,n.create=o(function(e){return new n(e)},"create"),n.encode=o(function(e,t){return t||(t=m.create()),e.stringValue!=null&&Object.hasOwnProperty.call(e,"stringValue")&&t.uint32(10).string(e.stringValue),e.boolValue!=null&&Object.hasOwnProperty.call(e,"boolValue")&&t.uint32(16).bool(e.boolValue),e.uintValue!=null&&Object.hasOwnProperty.call(e,"uintValue")&&t.uint32(24).uint64(e.uintValue),t},"encode"),n.encodeDelimited=o(function(e,t){return this.encode(e,t).ldelim()},"encodeDelimited"),n.decode=o(function(e,t){e instanceof h||(e=h.create(e));for(var r=t===void 0?e.len:e.pos+t,l=new a.SdkDimensionValue;e.pos<r;){var p=e.uint32();switch(p>>>3){case 1:l.stringValue=e.string();break;case 2:l.boolValue=e.bool();break;case 3:l.uintValue=e.uint64();break;default:e.skipType(p&7);break}}return l},"decode"),n.decodeDelimited=o(function(e){return e instanceof h||(e=new h(e)),this.decode(e,e.uint32())},"decodeDelimited"),n.verify=o(function(e){return typeof e!="object"||e===null?"object expected":e.stringValue!=null&&e.hasOwnProperty("stringValue")&&!f.isString(e.stringValue)?"stringValue: string expected":e.boolValue!=null&&e.hasOwnProperty("boolValue")&&typeof e.boolValue!="boolean"?"boolValue: boolean expected":e.uintValue!=null&&e.hasOwnProperty("uintValue")&&!f.isInteger(e.uintValue)&&!(e.uintValue&&f.isInteger(e.uintValue.low)&&f.isInteger(e.uintValue.high))?"uintValue: integer|Long expected":null},"verify"),n.fromObject=o(function(e){if(e instanceof a.SdkDimensionValue)return e;var t=new a.SdkDimensionValue;return e.stringValue!=null&&(t.stringValue=String(e.stringValue)),e.boolValue!=null&&(t.boolValue=Boolean(e.boolValue)),e.uintValue!=null&&(f.Long?(t.uintValue=f.Long.fromValue(e.uintValue)).unsigned=!0:typeof e.uintValue=="string"?t.uintValue=parseInt(e.uintValue,10):typeof e.uintValue=="number"?t.uintValue=e.uintValue:typeof e.uintValue=="object"&&(t.uintValue=new f.LongBits(e.uintValue.low>>>0,e.uintValue.high>>>0).toNumber(!0))),t},"fromObject"),n.toObject=o(function(e,t){t||(t={});var r={};if(t.defaults)if(r.stringValue="",r.boolValue=!1,f.Long){var l=new f.Long(0,0,!0);r.uintValue=t.longs===String?l.toString():t.longs===Number?l.toNumber():l}else r.uintValue=t.longs===String?"0":0;return e.stringValue!=null&&e.hasOwnProperty("stringValue")&&(r.stringValue=e.stringValue),e.boolValue!=null&&e.hasOwnProperty("boolValue")&&(r.boolValue=e.boolValue),e.uintValue!=null&&e.hasOwnProperty("uintValue")&&(typeof e.uintValue=="number"?r.uintValue=t.longs===String?String(e.uintValue):e.uintValue:r.uintValue=t.longs===String?f.Long.prototype.toString.call(e.uintValue):t.longs===Number?new f.LongBits(e.uintValue.low>>>0,e.uintValue.high>>>0).toNumber(!0):e.uintValue),r},"toObject"),n.prototype.toJSON=o(function(){return this.constructor.toObject(this,S.util.toJSONOptions)},"toJSON"),n}(),a.SdkDataMessageFrame=function(){function n(i){if(this.messages=[],i)for(var e=Object.keys(i),t=0;t<e.length;++t)i[e[t]]!=null&&(this[e[t]]=i[e[t]])}return o(n,"SdkDataMessageFrame"),n.prototype.messages=f.emptyArray,n.create=o(function(e){return new n(e)},"create"),n.encode=o(function(e,t){if(t||(t=m.create()),e.messages!=null&&e.messages.length)for(var r=0;r<e.messages.length;++r)a.SdkDataMessagePayload.encode(e.messages[r],t.uint32(10).fork()).ldelim();return t},"encode"),n.encodeDelimited=o(function(e,t){return this.encode(e,t).ldelim()},"encodeDelimited"),n.decode=o(function(e,t){e instanceof h||(e=h.create(e));for(var r=t===void 0?e.len:e.pos+t,l=new a.SdkDataMessageFrame;e.pos<r;){var p=e.uint32();switch(p>>>3){case 1:l.messages&&l.messages.length||(l.messages=[]),l.messages.push(a.SdkDataMessagePayload.decode(e,e.uint32()));break;default:e.skipType(p&7);break}}return l},"decode"),n.decodeDelimited=o(function(e){return e instanceof h||(e=new h(e)),this.decode(e,e.uint32())},"decodeDelimited"),n.verify=o(function(e){if(typeof e!="object"||e===null)return"object expected";if(e.messages!=null&&e.hasOwnProperty("messages")){if(!Array.isArray(e.messages))return"messages: array expected";for(var t=0;t<e.messages.length;++t){var r=a.SdkDataMessagePayload.verify(e.messages[t]);if(r)return"messages."+r}}return null},"verify"),n.fromObject=o(function(e){if(e instanceof a.SdkDataMessageFrame)return e;var t=new a.SdkDataMessageFrame;if(e.messages){if(!Array.isArray(e.messages))throw TypeError(".SdkDataMessageFrame.messages: array expected");t.messages=[];for(var r=0;r<e.messages.length;++r){if(typeof e.messages[r]!="object")throw TypeError(".SdkDataMessageFrame.messages: object expected");t.messages[r]=a.SdkDataMessagePayload.fromObject(e.messages[r])}}return t},"fromObject"),n.toObject=o(function(e,t){t||(t={});var r={};if((t.arrays||t.defaults)&&(r.messages=[]),e.messages&&e.messages.length){r.messages=[];for(var l=0;l<e.messages.length;++l)r.messages[l]=a.SdkDataMessagePayload.toObject(e.messages[l],t)}return r},"toObject"),n.prototype.toJSON=o(function(){return this.constructor.toObject(this,S.util.toJSONOptions)},"toJSON"),n}(),a.SdkDataMessagePayload=function(){function n(i){if(i)for(var e=Object.keys(i),t=0;t<e.length;++t)i[e[t]]!=null&&(this[e[t]]=i[e[t]])}return o(n,"SdkDataMessagePayload"),n.prototype.topic="",n.prototype.data=f.newBuffer([]),n.prototype.lifetimeMs=0,n.prototype.senderAttendeeId="",n.prototype.ingestTimeNs=f.Long?f.Long.fromBits(0,0,!1):0,n.prototype.senderExternalUserId="",n.create=o(function(e){return new n(e)},"create"),n.encode=o(function(e,t){return t||(t=m.create()),e.topic!=null&&Object.hasOwnProperty.call(e,"topic")&&t.uint32(10).string(e.topic),e.data!=null&&Object.hasOwnProperty.call(e,"data")&&t.uint32(18).bytes(e.data),e.lifetimeMs!=null&&Object.hasOwnProperty.call(e,"lifetimeMs")&&t.uint32(24).uint32(e.lifetimeMs),e.senderAttendeeId!=null&&Object.hasOwnProperty.call(e,"senderAttendeeId")&&t.uint32(34).string(e.senderAttendeeId),e.ingestTimeNs!=null&&Object.hasOwnProperty.call(e,"ingestTimeNs")&&t.uint32(40).int64(e.ingestTimeNs),e.senderExternalUserId!=null&&Object.hasOwnProperty.call(e,"senderExternalUserId")&&t.uint32(50).string(e.senderExternalUserId),t},"encode"),n.encodeDelimited=o(function(e,t){return this.encode(e,t).ldelim()},"encodeDelimited"),n.decode=o(function(e,t){e instanceof h||(e=h.create(e));for(var r=t===void 0?e.len:e.pos+t,l=new a.SdkDataMessagePayload;e.pos<r;){var p=e.uint32();switch(p>>>3){case 1:l.topic=e.string();break;case 2:l.data=e.bytes();break;case 3:l.lifetimeMs=e.uint32();break;case 4:l.senderAttendeeId=e.string();break;case 5:l.ingestTimeNs=e.int64();break;case 6:l.senderExternalUserId=e.string();break;default:e.skipType(p&7);break}}return l},"decode"),n.decodeDelimited=o(function(e){return e instanceof h||(e=new h(e)),this.decode(e,e.uint32())},"decodeDelimited"),n.verify=o(function(e){return typeof e!="object"||e===null?"object expected":e.topic!=null&&e.hasOwnProperty("topic")&&!f.isString(e.topic)?"topic: string expected":e.data!=null&&e.hasOwnProperty("data")&&!(e.data&&typeof e.data.length=="number"||f.isString(e.data))?"data: buffer expected":e.lifetimeMs!=null&&e.hasOwnProperty("lifetimeMs")&&!f.isInteger(e.lifetimeMs)?"lifetimeMs: integer expected":e.senderAttendeeId!=null&&e.hasOwnProperty("senderAttendeeId")&&!f.isString(e.senderAttendeeId)?"senderAttendeeId: string expected":e.ingestTimeNs!=null&&e.hasOwnProperty("ingestTimeNs")&&!f.isInteger(e.ingestTimeNs)&&!(e.ingestTimeNs&&f.isInteger(e.ingestTimeNs.low)&&f.isInteger(e.ingestTimeNs.high))?"ingestTimeNs: integer|Long expected":e.senderExternalUserId!=null&&e.hasOwnProperty("senderExternalUserId")&&!f.isString(e.senderExternalUserId)?"senderExternalUserId: string expected":null},"verify"),n.fromObject=o(function(e){if(e instanceof a.SdkDataMessagePayload)return e;var t=new a.SdkDataMessagePayload;return e.topic!=null&&(t.topic=String(e.topic)),e.data!=null&&(typeof e.data=="string"?f.base64.decode(e.data,t.data=f.newBuffer(f.base64.length(e.data)),0):e.data.length&&(t.data=e.data)),e.lifetimeMs!=null&&(t.lifetimeMs=e.lifetimeMs>>>0),e.senderAttendeeId!=null&&(t.senderAttendeeId=String(e.senderAttendeeId)),e.ingestTimeNs!=null&&(f.Long?(t.ingestTimeNs=f.Long.fromValue(e.ingestTimeNs)).unsigned=!1:typeof e.ingestTimeNs=="string"?t.ingestTimeNs=parseInt(e.ingestTimeNs,10):typeof e.ingestTimeNs=="number"?t.ingestTimeNs=e.ingestTimeNs:typeof e.ingestTimeNs=="object"&&(t.ingestTimeNs=new f.LongBits(e.ingestTimeNs.low>>>0,e.ingestTimeNs.high>>>0).toNumber())),e.senderExternalUserId!=null&&(t.senderExternalUserId=String(e.senderExternalUserId)),t},"fromObject"),n.toObject=o(function(e,t){t||(t={});var r={};if(t.defaults){if(r.topic="",t.bytes===String?r.data="":(r.data=[],t.bytes!==Array&&(r.data=f.newBuffer(r.data))),r.lifetimeMs=0,r.senderAttendeeId="",f.Long){var l=new f.Long(0,0,!1);r.ingestTimeNs=t.longs===String?l.toString():t.longs===Number?l.toNumber():l}else r.ingestTimeNs=t.longs===String?"0":0;r.senderExternalUserId=""}return e.topic!=null&&e.hasOwnProperty("topic")&&(r.topic=e.topic),e.data!=null&&e.hasOwnProperty("data")&&(r.data=t.bytes===String?f.base64.encode(e.data,0,e.data.length):t.bytes===Array?Array.prototype.slice.call(e.data):e.data),e.lifetimeMs!=null&&e.hasOwnProperty("lifetimeMs")&&(r.lifetimeMs=e.lifetimeMs),e.senderAttendeeId!=null&&e.hasOwnProperty("senderAttendeeId")&&(r.senderAttendeeId=e.senderAttendeeId),e.ingestTimeNs!=null&&e.hasOwnProperty("ingestTimeNs")&&(typeof e.ingestTimeNs=="number"?r.ingestTimeNs=t.longs===String?String(e.ingestTimeNs):e.ingestTimeNs:r.ingestTimeNs=t.longs===String?f.Long.prototype.toString.call(e.ingestTimeNs):t.longs===Number?new f.LongBits(e.ingestTimeNs.low>>>0,e.ingestTimeNs.high>>>0).toNumber():e.ingestTimeNs),e.senderExternalUserId!=null&&e.hasOwnProperty("senderExternalUserId")&&(r.senderExternalUserId=e.senderExternalUserId),r},"toObject"),n.prototype.toJSON=o(function(){return this.constructor.toObject(this,S.util.toJSONOptions)},"toJSON"),n}(),a.SdkTurnCredentials=function(){function n(i){if(this.uris=[],i)for(var e=Object.keys(i),t=0;t<e.length;++t)i[e[t]]!=null&&(this[e[t]]=i[e[t]])}return o(n,"SdkTurnCredentials"),n.prototype.username="",n.prototype.password="",n.prototype.ttl=0,n.prototype.uris=f.emptyArray,n.create=o(function(e){return new n(e)},"create"),n.encode=o(function(e,t){if(t||(t=m.create()),e.username!=null&&Object.hasOwnProperty.call(e,"username")&&t.uint32(10).string(e.username),e.password!=null&&Object.hasOwnProperty.call(e,"password")&&t.uint32(18).string(e.password),e.ttl!=null&&Object.hasOwnProperty.call(e,"ttl")&&t.uint32(24).uint32(e.ttl),e.uris!=null&&e.uris.length)for(var r=0;r<e.uris.length;++r)t.uint32(34).string(e.uris[r]);return t},"encode"),n.encodeDelimited=o(function(e,t){return this.encode(e,t).ldelim()},"encodeDelimited"),n.decode=o(function(e,t){e instanceof h||(e=h.create(e));for(var r=t===void 0?e.len:e.pos+t,l=new a.SdkTurnCredentials;e.pos<r;){var p=e.uint32();switch(p>>>3){case 1:l.username=e.string();break;case 2:l.password=e.string();break;case 3:l.ttl=e.uint32();break;case 4:l.uris&&l.uris.length||(l.uris=[]),l.uris.push(e.string());break;default:e.skipType(p&7);break}}return l},"decode"),n.decodeDelimited=o(function(e){return e instanceof h||(e=new h(e)),this.decode(e,e.uint32())},"decodeDelimited"),n.verify=o(function(e){if(typeof e!="object"||e===null)return"object expected";if(e.username!=null&&e.hasOwnProperty("username")&&!f.isString(e.username))return"username: string expected";if(e.password!=null&&e.hasOwnProperty("password")&&!f.isString(e.password))return"password: string expected";if(e.ttl!=null&&e.hasOwnProperty("ttl")&&!f.isInteger(e.ttl))return"ttl: integer expected";if(e.uris!=null&&e.hasOwnProperty("uris")){if(!Array.isArray(e.uris))return"uris: array expected";for(var t=0;t<e.uris.length;++t)if(!f.isString(e.uris[t]))return"uris: string[] expected"}return null},"verify"),n.fromObject=o(function(e){if(e instanceof a.SdkTurnCredentials)return e;var t=new a.SdkTurnCredentials;if(e.username!=null&&(t.username=String(e.username)),e.password!=null&&(t.password=String(e.password)),e.ttl!=null&&(t.ttl=e.ttl>>>0),e.uris){if(!Array.isArray(e.uris))throw TypeError(".SdkTurnCredentials.uris: array expected");t.uris=[];for(var r=0;r<e.uris.length;++r)t.uris[r]=String(e.uris[r])}return t},"fromObject"),n.toObject=o(function(e,t){t||(t={});var r={};if((t.arrays||t.defaults)&&(r.uris=[]),t.defaults&&(r.username="",r.password="",r.ttl=0),e.username!=null&&e.hasOwnProperty("username")&&(r.username=e.username),e.password!=null&&e.hasOwnProperty("password")&&(r.password=e.password),e.ttl!=null&&e.hasOwnProperty("ttl")&&(r.ttl=e.ttl),e.uris&&e.uris.length){r.uris=[];for(var l=0;l<e.uris.length;++l)r.uris[l]=e.uris[l]}return r},"toObject"),n.prototype.toJSON=o(function(){return this.constructor.toObject(this,S.util.toJSONOptions)},"toJSON"),n}(),a.SdkTranscriptItem=function(){function n(i){if(i)for(var e=Object.keys(i),t=0;t<e.length;++t)i[e[t]]!=null&&(this[e[t]]=i[e[t]])}return o(n,"SdkTranscriptItem"),n.prototype.content="",n.prototype.endTime=f.Long?f.Long.fromBits(0,0,!1):0,n.prototype.speakerAttendeeId="",n.prototype.speakerExternalUserId="",n.prototype.startTime=f.Long?f.Long.fromBits(0,0,!1):0,n.prototype.type=1,n.prototype.vocabularyFilterMatch=!1,n.prototype.confidence=0,n.prototype.stable=!1,n.create=o(function(e){return new n(e)},"create"),n.encode=o(function(e,t){return t||(t=m.create()),e.content!=null&&Object.hasOwnProperty.call(e,"content")&&t.uint32(10).string(e.content),e.endTime!=null&&Object.hasOwnProperty.call(e,"endTime")&&t.uint32(16).int64(e.endTime),e.speakerAttendeeId!=null&&Object.hasOwnProperty.call(e,"speakerAttendeeId")&&t.uint32(26).string(e.speakerAttendeeId),e.speakerExternalUserId!=null&&Object.hasOwnProperty.call(e,"speakerExternalUserId")&&t.uint32(34).string(e.speakerExternalUserId),e.startTime!=null&&Object.hasOwnProperty.call(e,"startTime")&&t.uint32(40).int64(e.startTime),e.type!=null&&Object.hasOwnProperty.call(e,"type")&&t.uint32(48).int32(e.type),e.vocabularyFilterMatch!=null&&Object.hasOwnProperty.call(e,"vocabularyFilterMatch")&&t.uint32(56).bool(e.vocabularyFilterMatch),e.confidence!=null&&Object.hasOwnProperty.call(e,"confidence")&&t.uint32(65).double(e.confidence),e.stable!=null&&Object.hasOwnProperty.call(e,"stable")&&t.uint32(72).bool(e.stable),t},"encode"),n.encodeDelimited=o(function(e,t){return this.encode(e,t).ldelim()},"encodeDelimited"),n.decode=o(function(e,t){e instanceof h||(e=h.create(e));for(var r=t===void 0?e.len:e.pos+t,l=new a.SdkTranscriptItem;e.pos<r;){var p=e.uint32();switch(p>>>3){case 1:l.content=e.string();break;case 2:l.endTime=e.int64();break;case 3:l.speakerAttendeeId=e.string();break;case 4:l.speakerExternalUserId=e.string();break;case 5:l.startTime=e.int64();break;case 6:l.type=e.int32();break;case 7:l.vocabularyFilterMatch=e.bool();break;case 8:l.confidence=e.double();break;case 9:l.stable=e.bool();break;default:e.skipType(p&7);break}}return l},"decode"),n.decodeDelimited=o(function(e){return e instanceof h||(e=new h(e)),this.decode(e,e.uint32())},"decodeDelimited"),n.verify=o(function(e){if(typeof e!="object"||e===null)return"object expected";if(e.content!=null&&e.hasOwnProperty("content")&&!f.isString(e.content))return"content: string expected";if(e.endTime!=null&&e.hasOwnProperty("endTime")&&!f.isInteger(e.endTime)&&!(e.endTime&&f.isInteger(e.endTime.low)&&f.isInteger(e.endTime.high)))return"endTime: integer|Long expected";if(e.speakerAttendeeId!=null&&e.hasOwnProperty("speakerAttendeeId")&&!f.isString(e.speakerAttendeeId))return"speakerAttendeeId: string expected";if(e.speakerExternalUserId!=null&&e.hasOwnProperty("speakerExternalUserId")&&!f.isString(e.speakerExternalUserId))return"speakerExternalUserId: string expected";if(e.startTime!=null&&e.hasOwnProperty("startTime")&&!f.isInteger(e.startTime)&&!(e.startTime&&f.isInteger(e.startTime.low)&&f.isInteger(e.startTime.high)))return"startTime: integer|Long expected";if(e.type!=null&&e.hasOwnProperty("type"))switch(e.type){default:return"type: enum value expected";case 1:case 2:break}return e.vocabularyFilterMatch!=null&&e.hasOwnProperty("vocabularyFilterMatch")&&typeof e.vocabularyFilterMatch!="boolean"?"vocabularyFilterMatch: boolean expected":e.confidence!=null&&e.hasOwnProperty("confidence")&&typeof e.confidence!="number"?"confidence: number expected":e.stable!=null&&e.hasOwnProperty("stable")&&typeof e.stable!="boolean"?"stable: boolean expected":null},"verify"),n.fromObject=o(function(e){if(e instanceof a.SdkTranscriptItem)return e;var t=new a.SdkTranscriptItem;switch(e.content!=null&&(t.content=String(e.content)),e.endTime!=null&&(f.Long?(t.endTime=f.Long.fromValue(e.endTime)).unsigned=!1:typeof e.endTime=="string"?t.endTime=parseInt(e.endTime,10):typeof e.endTime=="number"?t.endTime=e.endTime:typeof e.endTime=="object"&&(t.endTime=new f.LongBits(e.endTime.low>>>0,e.endTime.high>>>0).toNumber())),e.speakerAttendeeId!=null&&(t.speakerAttendeeId=String(e.speakerAttendeeId)),e.speakerExternalUserId!=null&&(t.speakerExternalUserId=String(e.speakerExternalUserId)),e.startTime!=null&&(f.Long?(t.startTime=f.Long.fromValue(e.startTime)).unsigned=!1:typeof e.startTime=="string"?t.startTime=parseInt(e.startTime,10):typeof e.startTime=="number"?t.startTime=e.startTime:typeof e.startTime=="object"&&(t.startTime=new f.LongBits(e.startTime.low>>>0,e.startTime.high>>>0).toNumber())),e.type){case"PRONUNCIATION":case 1:t.type=1;break;case"PUNCTUATION":case 2:t.type=2;break}return e.vocabularyFilterMatch!=null&&(t.vocabularyFilterMatch=Boolean(e.vocabularyFilterMatch)),e.confidence!=null&&(t.confidence=Number(e.confidence)),e.stable!=null&&(t.stable=Boolean(e.stable)),t},"fromObject"),n.toObject=o(function(e,t){t||(t={});var r={};if(t.defaults){if(r.content="",f.Long){var l=new f.Long(0,0,!1);r.endTime=t.longs===String?l.toString():t.longs===Number?l.toNumber():l}else r.endTime=t.longs===String?"0":0;if(r.speakerAttendeeId="",r.speakerExternalUserId="",f.Long){var l=new f.Long(0,0,!1);r.startTime=t.longs===String?l.toString():t.longs===Number?l.toNumber():l}else r.startTime=t.longs===String?"0":0;r.type=t.enums===String?"PRONUNCIATION":1,r.vocabularyFilterMatch=!1,r.confidence=0,r.stable=!1}return e.content!=null&&e.hasOwnProperty("content")&&(r.content=e.content),e.endTime!=null&&e.hasOwnProperty("endTime")&&(typeof e.endTime=="number"?r.endTime=t.longs===String?String(e.endTime):e.endTime:r.endTime=t.longs===String?f.Long.prototype.toString.call(e.endTime):t.longs===Number?new f.LongBits(e.endTime.low>>>0,e.endTime.high>>>0).toNumber():e.endTime),e.speakerAttendeeId!=null&&e.hasOwnProperty("speakerAttendeeId")&&(r.speakerAttendeeId=e.speakerAttendeeId),e.speakerExternalUserId!=null&&e.hasOwnProperty("speakerExternalUserId")&&(r.speakerExternalUserId=e.speakerExternalUserId),e.startTime!=null&&e.hasOwnProperty("startTime")&&(typeof e.startTime=="number"?r.startTime=t.longs===String?String(e.startTime):e.startTime:r.startTime=t.longs===String?f.Long.prototype.toString.call(e.startTime):t.longs===Number?new f.LongBits(e.startTime.low>>>0,e.startTime.high>>>0).toNumber():e.startTime),e.type!=null&&e.hasOwnProperty("type")&&(r.type=t.enums===String?a.SdkTranscriptItem.Type[e.type]:e.type),e.vocabularyFilterMatch!=null&&e.hasOwnProperty("vocabularyFilterMatch")&&(r.vocabularyFilterMatch=e.vocabularyFilterMatch),e.confidence!=null&&e.hasOwnProperty("confidence")&&(r.confidence=t.json&&!isFinite(e.confidence)?String(e.confidence):e.confidence),e.stable!=null&&e.hasOwnProperty("stable")&&(r.stable=e.stable),r},"toObject"),n.prototype.toJSON=o(function(){return this.constructor.toObject(this,S.util.toJSONOptions)},"toJSON"),n.Type=function(){var i={},e=Object.create(i);return e[i[1]="PRONUNCIATION"]=1,e[i[2]="PUNCTUATION"]=2,e}(),n}(),a.SdkTranscriptEntity=function(){function n(i){if(i)for(var e=Object.keys(i),t=0;t<e.length;++t)i[e[t]]!=null&&(this[e[t]]=i[e[t]])}return o(n,"SdkTranscriptEntity"),n.prototype.category="",n.prototype.confidence=0,n.prototype.content="",n.prototype.endTime=f.Long?f.Long.fromBits(0,0,!1):0,n.prototype.startTime=f.Long?f.Long.fromBits(0,0,!1):0,n.prototype.type="",n.create=o(function(e){return new n(e)},"create"),n.encode=o(function(e,t){return t||(t=m.create()),e.category!=null&&Object.hasOwnProperty.call(e,"category")&&t.uint32(10).string(e.category),e.confidence!=null&&Object.hasOwnProperty.call(e,"confidence")&&t.uint32(17).double(e.confidence),e.content!=null&&Object.hasOwnProperty.call(e,"content")&&t.uint32(26).string(e.content),e.endTime!=null&&Object.hasOwnProperty.call(e,"endTime")&&t.uint32(32).int64(e.endTime),e.startTime!=null&&Object.hasOwnProperty.call(e,"startTime")&&t.uint32(40).int64(e.startTime),e.type!=null&&Object.hasOwnProperty.call(e,"type")&&t.uint32(50).string(e.type),t},"encode"),n.encodeDelimited=o(function(e,t){return this.encode(e,t).ldelim()},"encodeDelimited"),n.decode=o(function(e,t){e instanceof h||(e=h.create(e));for(var r=t===void 0?e.len:e.pos+t,l=new a.SdkTranscriptEntity;e.pos<r;){var p=e.uint32();switch(p>>>3){case 1:l.category=e.string();break;case 2:l.confidence=e.double();break;case 3:l.content=e.string();break;case 4:l.endTime=e.int64();break;case 5:l.startTime=e.int64();break;case 6:l.type=e.string();break;default:e.skipType(p&7);break}}return l},"decode"),n.decodeDelimited=o(function(e){return e instanceof h||(e=new h(e)),this.decode(e,e.uint32())},"decodeDelimited"),n.verify=o(function(e){return typeof e!="object"||e===null?"object expected":e.category!=null&&e.hasOwnProperty("category")&&!f.isString(e.category)?"category: string expected":e.confidence!=null&&e.hasOwnProperty("confidence")&&typeof e.confidence!="number"?"confidence: number expected":e.content!=null&&e.hasOwnProperty("content")&&!f.isString(e.content)?"content: string expected":e.endTime!=null&&e.hasOwnProperty("endTime")&&!f.isInteger(e.endTime)&&!(e.endTime&&f.isInteger(e.endTime.low)&&f.isInteger(e.endTime.high))?"endTime: integer|Long expected":e.startTime!=null&&e.hasOwnProperty("startTime")&&!f.isInteger(e.startTime)&&!(e.startTime&&f.isInteger(e.startTime.low)&&f.isInteger(e.startTime.high))?"startTime: integer|Long expected":e.type!=null&&e.hasOwnProperty("type")&&!f.isString(e.type)?"type: string expected":null},"verify"),n.fromObject=o(function(e){if(e instanceof a.SdkTranscriptEntity)return e;var t=new a.SdkTranscriptEntity;return e.category!=null&&(t.category=String(e.category)),e.confidence!=null&&(t.confidence=Number(e.confidence)),e.content!=null&&(t.content=String(e.content)),e.endTime!=null&&(f.Long?(t.endTime=f.Long.fromValue(e.endTime)).unsigned=!1:typeof e.endTime=="string"?t.endTime=parseInt(e.endTime,10):typeof e.endTime=="number"?t.endTime=e.endTime:typeof e.endTime=="object"&&(t.endTime=new f.LongBits(e.endTime.low>>>0,e.endTime.high>>>0).toNumber())),e.startTime!=null&&(f.Long?(t.startTime=f.Long.fromValue(e.startTime)).unsigned=!1:typeof e.startTime=="string"?t.startTime=parseInt(e.startTime,10):typeof e.startTime=="number"?t.startTime=e.startTime:typeof e.startTime=="object"&&(t.startTime=new f.LongBits(e.startTime.low>>>0,e.startTime.high>>>0).toNumber())),e.type!=null&&(t.type=String(e.type)),t},"fromObject"),n.toObject=o(function(e,t){t||(t={});var r={};if(t.defaults){if(r.category="",r.confidence=0,r.content="",f.Long){var l=new f.Long(0,0,!1);r.endTime=t.longs===String?l.toString():t.longs===Number?l.toNumber():l}else r.endTime=t.longs===String?"0":0;if(f.Long){var l=new f.Long(0,0,!1);r.startTime=t.longs===String?l.toString():t.longs===Number?l.toNumber():l}else r.startTime=t.longs===String?"0":0;r.type=""}return e.category!=null&&e.hasOwnProperty("category")&&(r.category=e.category),e.confidence!=null&&e.hasOwnProperty("confidence")&&(r.confidence=t.json&&!isFinite(e.confidence)?String(e.confidence):e.confidence),e.content!=null&&e.hasOwnProperty("content")&&(r.content=e.content),e.endTime!=null&&e.hasOwnProperty("endTime")&&(typeof e.endTime=="number"?r.endTime=t.longs===String?String(e.endTime):e.endTime:r.endTime=t.longs===String?f.Long.prototype.toString.call(e.endTime):t.longs===Number?new f.LongBits(e.endTime.low>>>0,e.endTime.high>>>0).toNumber():e.endTime),e.startTime!=null&&e.hasOwnProperty("startTime")&&(typeof e.startTime=="number"?r.startTime=t.longs===String?String(e.startTime):e.startTime:r.startTime=t.longs===String?f.Long.prototype.toString.call(e.startTime):t.longs===Number?new f.LongBits(e.startTime.low>>>0,e.startTime.high>>>0).toNumber():e.startTime),e.type!=null&&e.hasOwnProperty("type")&&(r.type=e.type),r},"toObject"),n.prototype.toJSON=o(function(){return this.constructor.toObject(this,S.util.toJSONOptions)},"toJSON"),n}(),a.SdkTranscriptAlternative=function(){function n(i){if(this.items=[],this.entities=[],i)for(var e=Object.keys(i),t=0;t<e.length;++t)i[e[t]]!=null&&(this[e[t]]=i[e[t]])}return o(n,"SdkTranscriptAlternative"),n.prototype.items=f.emptyArray,n.prototype.transcript="",n.prototype.entities=f.emptyArray,n.create=o(function(e){return new n(e)},"create"),n.encode=o(function(e,t){if(t||(t=m.create()),e.items!=null&&e.items.length)for(var r=0;r<e.items.length;++r)a.SdkTranscriptItem.encode(e.items[r],t.uint32(10).fork()).ldelim();if(e.transcript!=null&&Object.hasOwnProperty.call(e,"transcript")&&t.uint32(18).string(e.transcript),e.entities!=null&&e.entities.length)for(var r=0;r<e.entities.length;++r)a.SdkTranscriptEntity.encode(e.entities[r],t.uint32(26).fork()).ldelim();return t},"encode"),n.encodeDelimited=o(function(e,t){return this.encode(e,t).ldelim()},"encodeDelimited"),n.decode=o(function(e,t){e instanceof h||(e=h.create(e));for(var r=t===void 0?e.len:e.pos+t,l=new a.SdkTranscriptAlternative;e.pos<r;){var p=e.uint32();switch(p>>>3){case 1:l.items&&l.items.length||(l.items=[]),l.items.push(a.SdkTranscriptItem.decode(e,e.uint32()));break;case 2:l.transcript=e.string();break;case 3:l.entities&&l.entities.length||(l.entities=[]),l.entities.push(a.SdkTranscriptEntity.decode(e,e.uint32()));break;default:e.skipType(p&7);break}}return l},"decode"),n.decodeDelimited=o(function(e){return e instanceof h||(e=new h(e)),this.decode(e,e.uint32())},"decodeDelimited"),n.verify=o(function(e){if(typeof e!="object"||e===null)return"object expected";if(e.items!=null&&e.hasOwnProperty("items")){if(!Array.isArray(e.items))return"items: array expected";for(var t=0;t<e.items.length;++t){var r=a.SdkTranscriptItem.verify(e.items[t]);if(r)return"items."+r}}if(e.transcript!=null&&e.hasOwnProperty("transcript")&&!f.isString(e.transcript))return"transcript: string expected";if(e.entities!=null&&e.hasOwnProperty("entities")){if(!Array.isArray(e.entities))return"entities: array expected";for(var t=0;t<e.entities.length;++t){var r=a.SdkTranscriptEntity.verify(e.entities[t]);if(r)return"entities."+r}}return null},"verify"),n.fromObject=o(function(e){if(e instanceof a.SdkTranscriptAlternative)return e;var t=new a.SdkTranscriptAlternative;if(e.items){if(!Array.isArray(e.items))throw TypeError(".SdkTranscriptAlternative.items: array expected");t.items=[];for(var r=0;r<e.items.length;++r){if(typeof e.items[r]!="object")throw TypeError(".SdkTranscriptAlternative.items: object expected");t.items[r]=a.SdkTranscriptItem.fromObject(e.items[r])}}if(e.transcript!=null&&(t.transcript=String(e.transcript)),e.entities){if(!Array.isArray(e.entities))throw TypeError(".SdkTranscriptAlternative.entities: array expected");t.entities=[];for(var r=0;r<e.entities.length;++r){if(typeof e.entities[r]!="object")throw TypeError(".SdkTranscriptAlternative.entities: object expected");t.entities[r]=a.SdkTranscriptEntity.fromObject(e.entities[r])}}return t},"fromObject"),n.toObject=o(function(e,t){t||(t={});var r={};if((t.arrays||t.defaults)&&(r.items=[],r.entities=[]),t.defaults&&(r.transcript=""),e.items&&e.items.length){r.items=[];for(var l=0;l<e.items.length;++l)r.items[l]=a.SdkTranscriptItem.toObject(e.items[l],t)}if(e.transcript!=null&&e.hasOwnProperty("transcript")&&(r.transcript=e.transcript),e.entities&&e.entities.length){r.entities=[];for(var l=0;l<e.entities.length;++l)r.entities[l]=a.SdkTranscriptEntity.toObject(e.entities[l],t)}return r},"toObject"),n.prototype.toJSON=o(function(){return this.constructor.toObject(this,S.util.toJSONOptions)},"toJSON"),n}(),a.SdkTranscriptLanguageWithScore=function(){function n(i){if(i)for(var e=Object.keys(i),t=0;t<e.length;++t)i[e[t]]!=null&&(this[e[t]]=i[e[t]])}return o(n,"SdkTranscriptLanguageWithScore"),n.prototype.languageCode="",n.prototype.score=0,n.create=o(function(e){return new n(e)},"create"),n.encode=o(function(e,t){return t||(t=m.create()),e.languageCode!=null&&Object.hasOwnProperty.call(e,"languageCode")&&t.uint32(10).string(e.languageCode),e.score!=null&&Object.hasOwnProperty.call(e,"score")&&t.uint32(17).double(e.score),t},"encode"),n.encodeDelimited=o(function(e,t){return this.encode(e,t).ldelim()},"encodeDelimited"),n.decode=o(function(e,t){e instanceof h||(e=h.create(e));for(var r=t===void 0?e.len:e.pos+t,l=new a.SdkTranscriptLanguageWithScore;e.pos<r;){var p=e.uint32();switch(p>>>3){case 1:l.languageCode=e.string();break;case 2:l.score=e.double();break;default:e.skipType(p&7);break}}return l},"decode"),n.decodeDelimited=o(function(e){return e instanceof h||(e=new h(e)),this.decode(e,e.uint32())},"decodeDelimited"),n.verify=o(function(e){return typeof e!="object"||e===null?"object expected":e.languageCode!=null&&e.hasOwnProperty("languageCode")&&!f.isString(e.languageCode)?"languageCode: string expected":e.score!=null&&e.hasOwnProperty("score")&&typeof e.score!="number"?"score: number expected":null},"verify"),n.fromObject=o(function(e){if(e instanceof a.SdkTranscriptLanguageWithScore)return e;var t=new a.SdkTranscriptLanguageWithScore;return e.languageCode!=null&&(t.languageCode=String(e.languageCode)),e.score!=null&&(t.score=Number(e.score)),t},"fromObject"),n.toObject=o(function(e,t){t||(t={});var r={};return t.defaults&&(r.languageCode="",r.score=0),e.languageCode!=null&&e.hasOwnProperty("languageCode")&&(r.languageCode=e.languageCode),e.score!=null&&e.hasOwnProperty("score")&&(r.score=t.json&&!isFinite(e.score)?String(e.score):e.score),r},"toObject"),n.prototype.toJSON=o(function(){return this.constructor.toObject(this,S.util.toJSONOptions)},"toJSON"),n}(),a.SdkTranscriptResult=function(){function n(i){if(this.alternatives=[],this.languageIdentification=[],i)for(var e=Object.keys(i),t=0;t<e.length;++t)i[e[t]]!=null&&(this[e[t]]=i[e[t]])}return o(n,"SdkTranscriptResult"),n.prototype.alternatives=f.emptyArray,n.prototype.channelId="",n.prototype.endTime=f.Long?f.Long.fromBits(0,0,!1):0,n.prototype.isPartial=!1,n.prototype.resultId="",n.prototype.startTime=f.Long?f.Long.fromBits(0,0,!1):0,n.prototype.languageCode="",n.prototype.languageIdentification=f.emptyArray,n.create=o(function(e){return new n(e)},"create"),n.encode=o(function(e,t){if(t||(t=m.create()),e.alternatives!=null&&e.alternatives.length)for(var r=0;r<e.alternatives.length;++r)a.SdkTranscriptAlternative.encode(e.alternatives[r],t.uint32(10).fork()).ldelim();if(e.channelId!=null&&Object.hasOwnProperty.call(e,"channelId")&&t.uint32(18).string(e.channelId),e.endTime!=null&&Object.hasOwnProperty.call(e,"endTime")&&t.uint32(24).int64(e.endTime),e.isPartial!=null&&Object.hasOwnProperty.call(e,"isPartial")&&t.uint32(32).bool(e.isPartial),e.resultId!=null&&Object.hasOwnProperty.call(e,"resultId")&&t.uint32(42).string(e.resultId),e.startTime!=null&&Object.hasOwnProperty.call(e,"startTime")&&t.uint32(48).int64(e.startTime),e.languageCode!=null&&Object.hasOwnProperty.call(e,"languageCode")&&t.uint32(58).string(e.languageCode),e.languageIdentification!=null&&e.languageIdentification.length)for(var r=0;r<e.languageIdentification.length;++r)a.SdkTranscriptLanguageWithScore.encode(e.languageIdentification[r],t.uint32(66).fork()).ldelim();return t},"encode"),n.encodeDelimited=o(function(e,t){return this.encode(e,t).ldelim()},"encodeDelimited"),n.decode=o(function(e,t){e instanceof h||(e=h.create(e));for(var r=t===void 0?e.len:e.pos+t,l=new a.SdkTranscriptResult;e.pos<r;){var p=e.uint32();switch(p>>>3){case 1:l.alternatives&&l.alternatives.length||(l.alternatives=[]),l.alternatives.push(a.SdkTranscriptAlternative.decode(e,e.uint32()));break;case 2:l.channelId=e.string();break;case 3:l.endTime=e.int64();break;case 4:l.isPartial=e.bool();break;case 5:l.resultId=e.string();break;case 6:l.startTime=e.int64();break;case 7:l.languageCode=e.string();break;case 8:l.languageIdentification&&l.languageIdentification.length||(l.languageIdentification=[]),l.languageIdentification.push(a.SdkTranscriptLanguageWithScore.decode(e,e.uint32()));break;default:e.skipType(p&7);break}}return l},"decode"),n.decodeDelimited=o(function(e){return e instanceof h||(e=new h(e)),this.decode(e,e.uint32())},"decodeDelimited"),n.verify=o(function(e){if(typeof e!="object"||e===null)return"object expected";if(e.alternatives!=null&&e.hasOwnProperty("alternatives")){if(!Array.isArray(e.alternatives))return"alternatives: array expected";for(var t=0;t<e.alternatives.length;++t){var r=a.SdkTranscriptAlternative.verify(e.alternatives[t]);if(r)return"alternatives."+r}}if(e.channelId!=null&&e.hasOwnProperty("channelId")&&!f.isString(e.channelId))return"channelId: string expected";if(e.endTime!=null&&e.hasOwnProperty("endTime")&&!f.isInteger(e.endTime)&&!(e.endTime&&f.isInteger(e.endTime.low)&&f.isInteger(e.endTime.high)))return"endTime: integer|Long expected";if(e.isPartial!=null&&e.hasOwnProperty("isPartial")&&typeof e.isPartial!="boolean")return"isPartial: boolean expected";if(e.resultId!=null&&e.hasOwnProperty("resultId")&&!f.isString(e.resultId))return"resultId: string expected";if(e.startTime!=null&&e.hasOwnProperty("startTime")&&!f.isInteger(e.startTime)&&!(e.startTime&&f.isInteger(e.startTime.low)&&f.isInteger(e.startTime.high)))return"startTime: integer|Long expected";if(e.languageCode!=null&&e.hasOwnProperty("languageCode")&&!f.isString(e.languageCode))return"languageCode: string expected";if(e.languageIdentification!=null&&e.hasOwnProperty("languageIdentification")){if(!Array.isArray(e.languageIdentification))return"languageIdentification: array expected";for(var t=0;t<e.languageIdentification.length;++t){var r=a.SdkTranscriptLanguageWithScore.verify(e.languageIdentification[t]);if(r)return"languageIdentification."+r}}return null},"verify"),n.fromObject=o(function(e){if(e instanceof a.SdkTranscriptResult)return e;var t=new a.SdkTranscriptResult;if(e.alternatives){if(!Array.isArray(e.alternatives))throw TypeError(".SdkTranscriptResult.alternatives: array expected");t.alternatives=[];for(var r=0;r<e.alternatives.length;++r){if(typeof e.alternatives[r]!="object")throw TypeError(".SdkTranscriptResult.alternatives: object expected");t.alternatives[r]=a.SdkTranscriptAlternative.fromObject(e.alternatives[r])}}if(e.channelId!=null&&(t.channelId=String(e.channelId)),e.endTime!=null&&(f.Long?(t.endTime=f.Long.fromValue(e.endTime)).unsigned=!1:typeof e.endTime=="string"?t.endTime=parseInt(e.endTime,10):typeof e.endTime=="number"?t.endTime=e.endTime:typeof e.endTime=="object"&&(t.endTime=new f.LongBits(e.endTime.low>>>0,e.endTime.high>>>0).toNumber())),e.isPartial!=null&&(t.isPartial=Boolean(e.isPartial)),e.resultId!=null&&(t.resultId=String(e.resultId)),e.startTime!=null&&(f.Long?(t.startTime=f.Long.fromValue(e.startTime)).unsigned=!1:typeof e.startTime=="string"?t.startTime=parseInt(e.startTime,10):typeof e.startTime=="number"?t.startTime=e.startTime:typeof e.startTime=="object"&&(t.startTime=new f.LongBits(e.startTime.low>>>0,e.startTime.high>>>0).toNumber())),e.languageCode!=null&&(t.languageCode=String(e.languageCode)),e.languageIdentification){if(!Array.isArray(e.languageIdentification))throw TypeError(".SdkTranscriptResult.languageIdentification: array expected");t.languageIdentification=[];for(var r=0;r<e.languageIdentification.length;++r){if(typeof e.languageIdentification[r]!="object")throw TypeError(".SdkTranscriptResult.languageIdentification: object expected");t.languageIdentification[r]=a.SdkTranscriptLanguageWithScore.fromObject(e.languageIdentification[r])}}return t},"fromObject"),n.toObject=o(function(e,t){t||(t={});var r={};if((t.arrays||t.defaults)&&(r.alternatives=[],r.languageIdentification=[]),t.defaults){if(r.channelId="",f.Long){var l=new f.Long(0,0,!1);r.endTime=t.longs===String?l.toString():t.longs===Number?l.toNumber():l}else r.endTime=t.longs===String?"0":0;if(r.isPartial=!1,r.resultId="",f.Long){var l=new f.Long(0,0,!1);r.startTime=t.longs===String?l.toString():t.longs===Number?l.toNumber():l}else r.startTime=t.longs===String?"0":0;r.languageCode=""}if(e.alternatives&&e.alternatives.length){r.alternatives=[];for(var p=0;p<e.alternatives.length;++p)r.alternatives[p]=a.SdkTranscriptAlternative.toObject(e.alternatives[p],t)}if(e.channelId!=null&&e.hasOwnProperty("channelId")&&(r.channelId=e.channelId),e.endTime!=null&&e.hasOwnProperty("endTime")&&(typeof e.endTime=="number"?r.endTime=t.longs===String?String(e.endTime):e.endTime:r.endTime=t.longs===String?f.Long.prototype.toString.call(e.endTime):t.longs===Number?new f.LongBits(e.endTime.low>>>0,e.endTime.high>>>0).toNumber():e.endTime),e.isPartial!=null&&e.hasOwnProperty("isPartial")&&(r.isPartial=e.isPartial),e.resultId!=null&&e.hasOwnProperty("resultId")&&(r.resultId=e.resultId),e.startTime!=null&&e.hasOwnProperty("startTime")&&(typeof e.startTime=="number"?r.startTime=t.longs===String?String(e.startTime):e.startTime:r.startTime=t.longs===String?f.Long.prototype.toString.call(e.startTime):t.longs===Number?new f.LongBits(e.startTime.low>>>0,e.startTime.high>>>0).toNumber():e.startTime),e.languageCode!=null&&e.hasOwnProperty("languageCode")&&(r.languageCode=e.languageCode),e.languageIdentification&&e.languageIdentification.length){r.languageIdentification=[];for(var p=0;p<e.languageIdentification.length;++p)r.languageIdentification[p]=a.SdkTranscriptLanguageWithScore.toObject(e.languageIdentification[p],t)}return r},"toObject"),n.prototype.toJSON=o(function(){return this.constructor.toObject(this,S.util.toJSONOptions)},"toJSON"),n}(),a.SdkTranscript=function(){function n(i){if(this.results=[],i)for(var e=Object.keys(i),t=0;t<e.length;++t)i[e[t]]!=null&&(this[e[t]]=i[e[t]])}return o(n,"SdkTranscript"),n.prototype.results=f.emptyArray,n.create=o(function(e){return new n(e)},"create"),n.encode=o(function(e,t){if(t||(t=m.create()),e.results!=null&&e.results.length)for(var r=0;r<e.results.length;++r)a.SdkTranscriptResult.encode(e.results[r],t.uint32(10).fork()).ldelim();return t},"encode"),n.encodeDelimited=o(function(e,t){return this.encode(e,t).ldelim()},"encodeDelimited"),n.decode=o(function(e,t){e instanceof h||(e=h.create(e));for(var r=t===void 0?e.len:e.pos+t,l=new a.SdkTranscript;e.pos<r;){var p=e.uint32();switch(p>>>3){case 1:l.results&&l.results.length||(l.results=[]),l.results.push(a.SdkTranscriptResult.decode(e,e.uint32()));break;default:e.skipType(p&7);break}}return l},"decode"),n.decodeDelimited=o(function(e){return e instanceof h||(e=new h(e)),this.decode(e,e.uint32())},"decodeDelimited"),n.verify=o(function(e){if(typeof e!="object"||e===null)return"object expected";if(e.results!=null&&e.hasOwnProperty("results")){if(!Array.isArray(e.results))return"results: array expected";for(var t=0;t<e.results.length;++t){var r=a.SdkTranscriptResult.verify(e.results[t]);if(r)return"results."+r}}return null},"verify"),n.fromObject=o(function(e){if(e instanceof a.SdkTranscript)return e;var t=new a.SdkTranscript;if(e.results){if(!Array.isArray(e.results))throw TypeError(".SdkTranscript.results: array expected");t.results=[];for(var r=0;r<e.results.length;++r){if(typeof e.results[r]!="object")throw TypeError(".SdkTranscript.results: object expected");t.results[r]=a.SdkTranscriptResult.fromObject(e.results[r])}}return t},"fromObject"),n.toObject=o(function(e,t){t||(t={});var r={};if((t.arrays||t.defaults)&&(r.results=[]),e.results&&e.results.length){r.results=[];for(var l=0;l<e.results.length;++l)r.results[l]=a.SdkTranscriptResult.toObject(e.results[l],t)}return r},"toObject"),n.prototype.toJSON=o(function(){return this.constructor.toObject(this,S.util.toJSONOptions)},"toJSON"),n}(),a.SdkTranscriptionStatus=function(){function n(i){if(i)for(var e=Object.keys(i),t=0;t<e.length;++t)i[e[t]]!=null&&(this[e[t]]=i[e[t]])}return o(n,"SdkTranscriptionStatus"),n.prototype.type=1,n.prototype.eventTime=f.Long?f.Long.fromBits(0,0,!1):0,n.prototype.transcriptionRegion="",n.prototype.transcriptionConfiguration="",n.prototype.message="",n.create=o(function(e){return new n(e)},"create"),n.encode=o(function(e,t){return t||(t=m.create()),e.type!=null&&Object.hasOwnProperty.call(e,"type")&&t.uint32(8).int32(e.type),e.eventTime!=null&&Object.hasOwnProperty.call(e,"eventTime")&&t.uint32(16).int64(e.eventTime),e.transcriptionRegion!=null&&Object.hasOwnProperty.call(e,"transcriptionRegion")&&t.uint32(26).string(e.transcriptionRegion),e.transcriptionConfiguration!=null&&Object.hasOwnProperty.call(e,"transcriptionConfiguration")&&t.uint32(34).string(e.transcriptionConfiguration),e.message!=null&&Object.hasOwnProperty.call(e,"message")&&t.uint32(42).string(e.message),t},"encode"),n.encodeDelimited=o(function(e,t){return this.encode(e,t).ldelim()},"encodeDelimited"),n.decode=o(function(e,t){e instanceof h||(e=h.create(e));for(var r=t===void 0?e.len:e.pos+t,l=new a.SdkTranscriptionStatus;e.pos<r;){var p=e.uint32();switch(p>>>3){case 1:l.type=e.int32();break;case 2:l.eventTime=e.int64();break;case 3:l.transcriptionRegion=e.string();break;case 4:l.transcriptionConfiguration=e.string();break;case 5:l.message=e.string();break;default:e.skipType(p&7);break}}return l},"decode"),n.decodeDelimited=o(function(e){return e instanceof h||(e=new h(e)),this.decode(e,e.uint32())},"decodeDelimited"),n.verify=o(function(e){if(typeof e!="object"||e===null)return"object expected";if(e.type!=null&&e.hasOwnProperty("type"))switch(e.type){default:return"type: enum value expected";case 1:case 2:case 3:case 4:case 5:break}return e.eventTime!=null&&e.hasOwnProperty("eventTime")&&!f.isInteger(e.eventTime)&&!(e.eventTime&&f.isInteger(e.eventTime.low)&&f.isInteger(e.eventTime.high))?"eventTime: integer|Long expected":e.transcriptionRegion!=null&&e.hasOwnProperty("transcriptionRegion")&&!f.isString(e.transcriptionRegion)?"transcriptionRegion: string expected":e.transcriptionConfiguration!=null&&e.hasOwnProperty("transcriptionConfiguration")&&!f.isString(e.transcriptionConfiguration)?"transcriptionConfiguration: string expected":e.message!=null&&e.hasOwnProperty("message")&&!f.isString(e.message)?"message: string expected":null},"verify"),n.fromObject=o(function(e){if(e instanceof a.SdkTranscriptionStatus)return e;var t=new a.SdkTranscriptionStatus;switch(e.type){case"STARTED":case 1:t.type=1;break;case"INTERRUPTED":case 2:t.type=2;break;case"RESUMED":case 3:t.type=3;break;case"STOPPED":case 4:t.type=4;break;case"FAILED":case 5:t.type=5;break}return e.eventTime!=null&&(f.Long?(t.eventTime=f.Long.fromValue(e.eventTime)).unsigned=!1:typeof e.eventTime=="string"?t.eventTime=parseInt(e.eventTime,10):typeof e.eventTime=="number"?t.eventTime=e.eventTime:typeof e.eventTime=="object"&&(t.eventTime=new f.LongBits(e.eventTime.low>>>0,e.eventTime.high>>>0).toNumber())),e.transcriptionRegion!=null&&(t.transcriptionRegion=String(e.transcriptionRegion)),e.transcriptionConfiguration!=null&&(t.transcriptionConfiguration=String(e.transcriptionConfiguration)),e.message!=null&&(t.message=String(e.message)),t},"fromObject"),n.toObject=o(function(e,t){t||(t={});var r={};if(t.defaults){if(r.type=t.enums===String?"STARTED":1,f.Long){var l=new f.Long(0,0,!1);r.eventTime=t.longs===String?l.toString():t.longs===Number?l.toNumber():l}else r.eventTime=t.longs===String?"0":0;r.transcriptionRegion="",r.transcriptionConfiguration="",r.message=""}return e.type!=null&&e.hasOwnProperty("type")&&(r.type=t.enums===String?a.SdkTranscriptionStatus.Type[e.type]:e.type),e.eventTime!=null&&e.hasOwnProperty("eventTime")&&(typeof e.eventTime=="number"?r.eventTime=t.longs===String?String(e.eventTime):e.eventTime:r.eventTime=t.longs===String?f.Long.prototype.toString.call(e.eventTime):t.longs===Number?new f.LongBits(e.eventTime.low>>>0,e.eventTime.high>>>0).toNumber():e.eventTime),e.transcriptionRegion!=null&&e.hasOwnProperty("transcriptionRegion")&&(r.transcriptionRegion=e.transcriptionRegion),e.transcriptionConfiguration!=null&&e.hasOwnProperty("transcriptionConfiguration")&&(r.transcriptionConfiguration=e.transcriptionConfiguration),e.message!=null&&e.hasOwnProperty("message")&&(r.message=e.message),r},"toObject"),n.prototype.toJSON=o(function(){return this.constructor.toObject(this,S.util.toJSONOptions)},"toJSON"),n.Type=function(){var i={},e=Object.create(i);return e[i[1]="STARTED"]=1,e[i[2]="INTERRUPTED"]=2,e[i[3]="RESUMED"]=3,e[i[4]="STOPPED"]=4,e[i[5]="FAILED"]=5,e}(),n}(),a.SdkTranscriptEvent=function(){function n(e){if(e)for(var t=Object.keys(e),r=0;r<t.length;++r)e[t[r]]!=null&&(this[t[r]]=e[t[r]])}o(n,"SdkTranscriptEvent"),n.prototype.status=null,n.prototype.transcript=null;var i;return Object.defineProperty(n.prototype,"Event",{get:f.oneOfGetter(i=["status","transcript"]),set:f.oneOfSetter(i)}),n.create=o(function(t){return new n(t)},"create"),n.encode=o(function(t,r){return r||(r=m.create()),t.status!=null&&Object.hasOwnProperty.call(t,"status")&&a.SdkTranscriptionStatus.encode(t.status,r.uint32(10).fork()).ldelim(),t.transcript!=null&&Object.hasOwnProperty.call(t,"transcript")&&a.SdkTranscript.encode(t.transcript,r.uint32(18).fork()).ldelim(),r},"encode"),n.encodeDelimited=o(function(t,r){return this.encode(t,r).ldelim()},"encodeDelimited"),n.decode=o(function(t,r){t instanceof h||(t=h.create(t));for(var l=r===void 0?t.len:t.pos+r,p=new a.SdkTranscriptEvent;t.pos<l;){var v=t.uint32();switch(v>>>3){case 1:p.status=a.SdkTranscriptionStatus.decode(t,t.uint32());break;case 2:p.transcript=a.SdkTranscript.decode(t,t.uint32());break;default:t.skipType(v&7);break}}return p},"decode"),n.decodeDelimited=o(function(t){return t instanceof h||(t=new h(t)),this.decode(t,t.uint32())},"decodeDelimited"),n.verify=o(function(t){if(typeof t!="object"||t===null)return"object expected";var r={};if(t.status!=null&&t.hasOwnProperty("status")){r.Event=1;{var l=a.SdkTranscriptionStatus.verify(t.status);if(l)return"status."+l}}if(t.transcript!=null&&t.hasOwnProperty("transcript")){if(r.Event===1)return"Event: multiple values";r.Event=1;{var l=a.SdkTranscript.verify(t.transcript);if(l)return"transcript."+l}}return null},"verify"),n.fromObject=o(function(t){if(t instanceof a.SdkTranscriptEvent)return t;var r=new a.SdkTranscriptEvent;if(t.status!=null){if(typeof t.status!="object")throw TypeError(".SdkTranscriptEvent.status: object expected");r.status=a.SdkTranscriptionStatus.fromObject(t.status)}if(t.transcript!=null){if(typeof t.transcript!="object")throw TypeError(".SdkTranscriptEvent.transcript: object expected");r.transcript=a.SdkTranscript.fromObject(t.transcript)}return r},"fromObject"),n.toObject=o(function(t,r){r||(r={});var l={};return t.status!=null&&t.hasOwnProperty("status")&&(l.status=a.SdkTranscriptionStatus.toObject(t.status,r),r.oneofs&&(l.Event="status")),t.transcript!=null&&t.hasOwnProperty("transcript")&&(l.transcript=a.SdkTranscript.toObject(t.transcript,r),r.oneofs&&(l.Event="transcript")),l},"toObject"),n.prototype.toJSON=o(function(){return this.constructor.toObject(this,S.util.toJSONOptions)},"toJSON"),n}(),a.SdkTranscriptFrame=function(){function n(i){if(this.events=[],i)for(var e=Object.keys(i),t=0;t<e.length;++t)i[e[t]]!=null&&(this[e[t]]=i[e[t]])}return o(n,"SdkTranscriptFrame"),n.prototype.events=f.emptyArray,n.create=o(function(e){return new n(e)},"create"),n.encode=o(function(e,t){if(t||(t=m.create()),e.events!=null&&e.events.length)for(var r=0;r<e.events.length;++r)a.SdkTranscriptEvent.encode(e.events[r],t.uint32(10).fork()).ldelim();return t},"encode"),n.encodeDelimited=o(function(e,t){return this.encode(e,t).ldelim()},"encodeDelimited"),n.decode=o(function(e,t){e instanceof h||(e=h.create(e));for(var r=t===void 0?e.len:e.pos+t,l=new a.SdkTranscriptFrame;e.pos<r;){var p=e.uint32();switch(p>>>3){case 1:l.events&&l.events.length||(l.events=[]),l.events.push(a.SdkTranscriptEvent.decode(e,e.uint32()));break;default:e.skipType(p&7);break}}return l},"decode"),n.decodeDelimited=o(function(e){return e instanceof h||(e=new h(e)),this.decode(e,e.uint32())},"decodeDelimited"),n.verify=o(function(e){if(typeof e!="object"||e===null)return"object expected";if(e.events!=null&&e.hasOwnProperty("events")){if(!Array.isArray(e.events))return"events: array expected";for(var t=0;t<e.events.length;++t){var r=a.SdkTranscriptEvent.verify(e.events[t]);if(r)return"events."+r}}return null},"verify"),n.fromObject=o(function(e){if(e instanceof a.SdkTranscriptFrame)return e;var t=new a.SdkTranscriptFrame;if(e.events){if(!Array.isArray(e.events))throw TypeError(".SdkTranscriptFrame.events: array expected");t.events=[];for(var r=0;r<e.events.length;++r){if(typeof e.events[r]!="object")throw TypeError(".SdkTranscriptFrame.events: object expected");t.events[r]=a.SdkTranscriptEvent.fromObject(e.events[r])}}return t},"fromObject"),n.toObject=o(function(e,t){t||(t={});var r={};if((t.arrays||t.defaults)&&(r.events=[]),e.events&&e.events.length){r.events=[];for(var l=0;l<e.events.length;++l)r.events[l]=a.SdkTranscriptEvent.toObject(e.events[l],t)}return r},"toObject"),n.prototype.toJSON=o(function(){return this.constructor.toObject(this,S.util.toJSONOptions)},"toJSON"),n}(),a.SdkRemoteVideoUpdateFrame=function(){function n(i){if(this.addedOrUpdatedVideoSubscriptions=[],this.removedVideoSubscriptionMids=[],i)for(var e=Object.keys(i),t=0;t<e.length;++t)i[e[t]]!=null&&(this[e[t]]=i[e[t]])}return o(n,"SdkRemoteVideoUpdateFrame"),n.prototype.addedOrUpdatedVideoSubscriptions=f.emptyArray,n.prototype.removedVideoSubscriptionMids=f.emptyArray,n.create=o(function(e){return new n(e)},"create"),n.encode=o(function(e,t){if(t||(t=m.create()),e.addedOrUpdatedVideoSubscriptions!=null&&e.addedOrUpdatedVideoSubscriptions.length)for(var r=0;r<e.addedOrUpdatedVideoSubscriptions.length;++r)a.SdkVideoSubscriptionConfiguration.encode(e.addedOrUpdatedVideoSubscriptions[r],t.uint32(10).fork()).ldelim();if(e.removedVideoSubscriptionMids!=null&&e.removedVideoSubscriptionMids.length)for(var r=0;r<e.removedVideoSubscriptionMids.length;++r)t.uint32(18).string(e.removedVideoSubscriptionMids[r]);return t},"encode"),n.encodeDelimited=o(function(e,t){return this.encode(e,t).ldelim()},"encodeDelimited"),n.decode=o(function(e,t){e instanceof h||(e=h.create(e));for(var r=t===void 0?e.len:e.pos+t,l=new a.SdkRemoteVideoUpdateFrame;e.pos<r;){var p=e.uint32();switch(p>>>3){case 1:l.addedOrUpdatedVideoSubscriptions&&l.addedOrUpdatedVideoSubscriptions.length||(l.addedOrUpdatedVideoSubscriptions=[]),l.addedOrUpdatedVideoSubscriptions.push(a.SdkVideoSubscriptionConfiguration.decode(e,e.uint32()));break;case 2:l.removedVideoSubscriptionMids&&l.removedVideoSubscriptionMids.length||(l.removedVideoSubscriptionMids=[]),l.removedVideoSubscriptionMids.push(e.string());break;default:e.skipType(p&7);break}}return l},"decode"),n.decodeDelimited=o(function(e){return e instanceof h||(e=new h(e)),this.decode(e,e.uint32())},"decodeDelimited"),n.verify=o(function(e){if(typeof e!="object"||e===null)return"object expected";if(e.addedOrUpdatedVideoSubscriptions!=null&&e.hasOwnProperty("addedOrUpdatedVideoSubscriptions")){if(!Array.isArray(e.addedOrUpdatedVideoSubscriptions))return"addedOrUpdatedVideoSubscriptions: array expected";for(var t=0;t<e.addedOrUpdatedVideoSubscriptions.length;++t){var r=a.SdkVideoSubscriptionConfiguration.verify(e.addedOrUpdatedVideoSubscriptions[t]);if(r)return"addedOrUpdatedVideoSubscriptions."+r}}if(e.removedVideoSubscriptionMids!=null&&e.hasOwnProperty("removedVideoSubscriptionMids")){if(!Array.isArray(e.removedVideoSubscriptionMids))return"removedVideoSubscriptionMids: array expected";for(var t=0;t<e.removedVideoSubscriptionMids.length;++t)if(!f.isString(e.removedVideoSubscriptionMids[t]))return"removedVideoSubscriptionMids: string[] expected"}return null},"verify"),n.fromObject=o(function(e){if(e instanceof a.SdkRemoteVideoUpdateFrame)return e;var t=new a.SdkRemoteVideoUpdateFrame;if(e.addedOrUpdatedVideoSubscriptions){if(!Array.isArray(e.addedOrUpdatedVideoSubscriptions))throw TypeError(".SdkRemoteVideoUpdateFrame.addedOrUpdatedVideoSubscriptions: array expected");t.addedOrUpdatedVideoSubscriptions=[];for(var r=0;r<e.addedOrUpdatedVideoSubscriptions.length;++r){if(typeof e.addedOrUpdatedVideoSubscriptions[r]!="object")throw TypeError(".SdkRemoteVideoUpdateFrame.addedOrUpdatedVideoSubscriptions: object expected");t.addedOrUpdatedVideoSubscriptions[r]=a.SdkVideoSubscriptionConfiguration.fromObject(e.addedOrUpdatedVideoSubscriptions[r])}}if(e.removedVideoSubscriptionMids){if(!Array.isArray(e.removedVideoSubscriptionMids))throw TypeError(".SdkRemoteVideoUpdateFrame.removedVideoSubscriptionMids: array expected");t.removedVideoSubscriptionMids=[];for(var r=0;r<e.removedVideoSubscriptionMids.length;++r)t.removedVideoSubscriptionMids[r]=String(e.removedVideoSubscriptionMids[r])}return t},"fromObject"),n.toObject=o(function(e,t){t||(t={});var r={};if((t.arrays||t.defaults)&&(r.addedOrUpdatedVideoSubscriptions=[],r.removedVideoSubscriptionMids=[]),e.addedOrUpdatedVideoSubscriptions&&e.addedOrUpdatedVideoSubscriptions.length){r.addedOrUpdatedVideoSubscriptions=[];for(var l=0;l<e.addedOrUpdatedVideoSubscriptions.length;++l)r.addedOrUpdatedVideoSubscriptions[l]=a.SdkVideoSubscriptionConfiguration.toObject(e.addedOrUpdatedVideoSubscriptions[l],t)}if(e.removedVideoSubscriptionMids&&e.removedVideoSubscriptionMids.length){r.removedVideoSubscriptionMids=[];for(var l=0;l<e.removedVideoSubscriptionMids.length;++l)r.removedVideoSubscriptionMids[l]=e.removedVideoSubscriptionMids[l]}return r},"toObject"),n.prototype.toJSON=o(function(){return this.constructor.toObject(this,S.util.toJSONOptions)},"toJSON"),n}(),a.SdkVideoSubscriptionConfiguration=function(){function n(i){if(i)for(var e=Object.keys(i),t=0;t<e.length;++t)i[e[t]]!=null&&(this[e[t]]=i[e[t]])}return o(n,"SdkVideoSubscriptionConfiguration"),n.prototype.mid="",n.prototype.attendeeId="",n.prototype.streamId=0,n.prototype.priority=0,n.prototype.targetBitrateKbps=0,n.prototype.groupId=0,n.create=o(function(e){return new n(e)},"create"),n.encode=o(function(e,t){return t||(t=m.create()),t.uint32(10).string(e.mid),e.attendeeId!=null&&Object.hasOwnProperty.call(e,"attendeeId")&&t.uint32(18).string(e.attendeeId),e.streamId!=null&&Object.hasOwnProperty.call(e,"streamId")&&t.uint32(24).uint32(e.streamId),e.priority!=null&&Object.hasOwnProperty.call(e,"priority")&&t.uint32(32).uint32(e.priority),e.targetBitrateKbps!=null&&Object.hasOwnProperty.call(e,"targetBitrateKbps")&&t.uint32(40).uint32(e.targetBitrateKbps),e.groupId!=null&&Object.hasOwnProperty.call(e,"groupId")&&t.uint32(48).uint32(e.groupId),t},"encode"),n.encodeDelimited=o(function(e,t){return this.encode(e,t).ldelim()},"encodeDelimited"),n.decode=o(function(e,t){e instanceof h||(e=h.create(e));for(var r=t===void 0?e.len:e.pos+t,l=new a.SdkVideoSubscriptionConfiguration;e.pos<r;){var p=e.uint32();switch(p>>>3){case 1:l.mid=e.string();break;case 2:l.attendeeId=e.string();break;case 3:l.streamId=e.uint32();break;case 4:l.priority=e.uint32();break;case 5:l.targetBitrateKbps=e.uint32();break;case 6:l.groupId=e.uint32();break;default:e.skipType(p&7);break}}if(!l.hasOwnProperty("mid"))throw f.ProtocolError("missing required 'mid'",{instance:l});return l},"decode"),n.decodeDelimited=o(function(e){return e instanceof h||(e=new h(e)),this.decode(e,e.uint32())},"decodeDelimited"),n.verify=o(function(e){return typeof e!="object"||e===null?"object expected":f.isString(e.mid)?e.attendeeId!=null&&e.hasOwnProperty("attendeeId")&&!f.isString(e.attendeeId)?"attendeeId: string expected":e.streamId!=null&&e.hasOwnProperty("streamId")&&!f.isInteger(e.streamId)?"streamId: integer expected":e.priority!=null&&e.hasOwnProperty("priority")&&!f.isInteger(e.priority)?"priority: integer expected":e.targetBitrateKbps!=null&&e.hasOwnProperty("targetBitrateKbps")&&!f.isInteger(e.targetBitrateKbps)?"targetBitrateKbps: integer expected":e.groupId!=null&&e.hasOwnProperty("groupId")&&!f.isInteger(e.groupId)?"groupId: integer expected":null:"mid: string expected"},"verify"),n.fromObject=o(function(e){if(e instanceof a.SdkVideoSubscriptionConfiguration)return e;var t=new a.SdkVideoSubscriptionConfiguration;return e.mid!=null&&(t.mid=String(e.mid)),e.attendeeId!=null&&(t.attendeeId=String(e.attendeeId)),e.streamId!=null&&(t.streamId=e.streamId>>>0),e.priority!=null&&(t.priority=e.priority>>>0),e.targetBitrateKbps!=null&&(t.targetBitrateKbps=e.targetBitrateKbps>>>0),e.groupId!=null&&(t.groupId=e.groupId>>>0),t},"fromObject"),n.toObject=o(function(e,t){t||(t={});var r={};return t.defaults&&(r.mid="",r.attendeeId="",r.streamId=0,r.priority=0,r.targetBitrateKbps=0,r.groupId=0),e.mid!=null&&e.hasOwnProperty("mid")&&(r.mid=e.mid),e.attendeeId!=null&&e.hasOwnProperty("attendeeId")&&(r.attendeeId=e.attendeeId),e.streamId!=null&&e.hasOwnProperty("streamId")&&(r.streamId=e.streamId),e.priority!=null&&e.hasOwnProperty("priority")&&(r.priority=e.priority),e.targetBitrateKbps!=null&&e.hasOwnProperty("targetBitrateKbps")&&(r.targetBitrateKbps=e.targetBitrateKbps),e.groupId!=null&&e.hasOwnProperty("groupId")&&(r.groupId=e.groupId),r},"toObject"),n.prototype.toJSON=o(function(){return this.constructor.toObject(this,S.util.toJSONOptions)},"toJSON"),n}(),a.SdkPrimaryMeetingJoinFrame=function(){function n(i){if(i)for(var e=Object.keys(i),t=0;t<e.length;++t)i[e[t]]!=null&&(this[e[t]]=i[e[t]])}return o(n,"SdkPrimaryMeetingJoinFrame"),n.prototype.credentials=null,n.create=o(function(e){return new n(e)},"create"),n.encode=o(function(e,t){return t||(t=m.create()),e.credentials!=null&&Object.hasOwnProperty.call(e,"credentials")&&a.SdkMeetingSessionCredentials.encode(e.credentials,t.uint32(10).fork()).ldelim(),t},"encode"),n.encodeDelimited=o(function(e,t){return this.encode(e,t).ldelim()},"encodeDelimited"),n.decode=o(function(e,t){e instanceof h||(e=h.create(e));for(var r=t===void 0?e.len:e.pos+t,l=new a.SdkPrimaryMeetingJoinFrame;e.pos<r;){var p=e.uint32();switch(p>>>3){case 1:l.credentials=a.SdkMeetingSessionCredentials.decode(e,e.uint32());break;default:e.skipType(p&7);break}}return l},"decode"),n.decodeDelimited=o(function(e){return e instanceof h||(e=new h(e)),this.decode(e,e.uint32())},"decodeDelimited"),n.verify=o(function(e){if(typeof e!="object"||e===null)return"object expected";if(e.credentials!=null&&e.hasOwnProperty("credentials")){var t=a.SdkMeetingSessionCredentials.verify(e.credentials);if(t)return"credentials."+t}return null},"verify"),n.fromObject=o(function(e){if(e instanceof a.SdkPrimaryMeetingJoinFrame)return e;var t=new a.SdkPrimaryMeetingJoinFrame;if(e.credentials!=null){if(typeof e.credentials!="object")throw TypeError(".SdkPrimaryMeetingJoinFrame.credentials: object expected");t.credentials=a.SdkMeetingSessionCredentials.fromObject(e.credentials)}return t},"fromObject"),n.toObject=o(function(e,t){t||(t={});var r={};return t.defaults&&(r.credentials=null),e.credentials!=null&&e.hasOwnProperty("credentials")&&(r.credentials=a.SdkMeetingSessionCredentials.toObject(e.credentials,t)),r},"toObject"),n.prototype.toJSON=o(function(){return this.constructor.toObject(this,S.util.toJSONOptions)},"toJSON"),n}(),a.SdkPrimaryMeetingJoinAckFrame=function(){function n(i){if(i)for(var e=Object.keys(i),t=0;t<e.length;++t)i[e[t]]!=null&&(this[e[t]]=i[e[t]])}return o(n,"SdkPrimaryMeetingJoinAckFrame"),n.create=o(function(e){return new n(e)},"create"),n.encode=o(function(e,t){return t||(t=m.create()),t},"encode"),n.encodeDelimited=o(function(e,t){return this.encode(e,t).ldelim()},"encodeDelimited"),n.decode=o(function(e,t){e instanceof h||(e=h.create(e));for(var r=t===void 0?e.len:e.pos+t,l=new a.SdkPrimaryMeetingJoinAckFrame;e.pos<r;){var p=e.uint32();switch(p>>>3){default:e.skipType(p&7);break}}return l},"decode"),n.decodeDelimited=o(function(e){return e instanceof h||(e=new h(e)),this.decode(e,e.uint32())},"decodeDelimited"),n.verify=o(function(e){return typeof e!="object"||e===null?"object expected":null},"verify"),n.fromObject=o(function(e){return e instanceof a.SdkPrimaryMeetingJoinAckFrame?e:new a.SdkPrimaryMeetingJoinAckFrame},"fromObject"),n.toObject=o(function(){return{}},"toObject"),n.prototype.toJSON=o(function(){return this.constructor.toObject(this,S.util.toJSONOptions)},"toJSON"),n}(),a.SdkPrimaryMeetingLeaveFrame=function(){function n(i){if(i)for(var e=Object.keys(i),t=0;t<e.length;++t)i[e[t]]!=null&&(this[e[t]]=i[e[t]])}return o(n,"SdkPrimaryMeetingLeaveFrame"),n.create=o(function(e){return new n(e)},"create"),n.encode=o(function(e,t){return t||(t=m.create()),t},"encode"),n.encodeDelimited=o(function(e,t){return this.encode(e,t).ldelim()},"encodeDelimited"),n.decode=o(function(e,t){e instanceof h||(e=h.create(e));for(var r=t===void 0?e.len:e.pos+t,l=new a.SdkPrimaryMeetingLeaveFrame;e.pos<r;){var p=e.uint32();switch(p>>>3){default:e.skipType(p&7);break}}return l},"decode"),n.decodeDelimited=o(function(e){return e instanceof h||(e=new h(e)),this.decode(e,e.uint32())},"decodeDelimited"),n.verify=o(function(e){return typeof e!="object"||e===null?"object expected":null},"verify"),n.fromObject=o(function(e){return e instanceof a.SdkPrimaryMeetingLeaveFrame?e:new a.SdkPrimaryMeetingLeaveFrame},"fromObject"),n.toObject=o(function(){return{}},"toObject"),n.prototype.toJSON=o(function(){return this.constructor.toObject(this,S.util.toJSONOptions)},"toJSON"),n}(),a.SdkMeetingSessionCredentials=function(){function n(i){if(i)for(var e=Object.keys(i),t=0;t<e.length;++t)i[e[t]]!=null&&(this[e[t]]=i[e[t]])}return o(n,"SdkMeetingSessionCredentials"),n.prototype.attendeeId="",n.prototype.externalUserId="",n.prototype.joinToken="",n.create=o(function(e){return new n(e)},"create"),n.encode=o(function(e,t){return t||(t=m.create()),e.attendeeId!=null&&Object.hasOwnProperty.call(e,"attendeeId")&&t.uint32(10).string(e.attendeeId),e.externalUserId!=null&&Object.hasOwnProperty.call(e,"externalUserId")&&t.uint32(18).string(e.externalUserId),e.joinToken!=null&&Object.hasOwnProperty.call(e,"joinToken")&&t.uint32(26).string(e.joinToken),t},"encode"),n.encodeDelimited=o(function(e,t){return this.encode(e,t).ldelim()},"encodeDelimited"),n.decode=o(function(e,t){e instanceof h||(e=h.create(e));for(var r=t===void 0?e.len:e.pos+t,l=new a.SdkMeetingSessionCredentials;e.pos<r;){var p=e.uint32();switch(p>>>3){case 1:l.attendeeId=e.string();break;case 2:l.externalUserId=e.string();break;case 3:l.joinToken=e.string();break;default:e.skipType(p&7);break}}return l},"decode"),n.decodeDelimited=o(function(e){return e instanceof h||(e=new h(e)),this.decode(e,e.uint32())},"decodeDelimited"),n.verify=o(function(e){return typeof e!="object"||e===null?"object expected":e.attendeeId!=null&&e.hasOwnProperty("attendeeId")&&!f.isString(e.attendeeId)?"attendeeId: string expected":e.externalUserId!=null&&e.hasOwnProperty("externalUserId")&&!f.isString(e.externalUserId)?"externalUserId: string expected":e.joinToken!=null&&e.hasOwnProperty("joinToken")&&!f.isString(e.joinToken)?"joinToken: string expected":null},"verify"),n.fromObject=o(function(e){if(e instanceof a.SdkMeetingSessionCredentials)return e;var t=new a.SdkMeetingSessionCredentials;return e.attendeeId!=null&&(t.attendeeId=String(e.attendeeId)),e.externalUserId!=null&&(t.externalUserId=String(e.externalUserId)),e.joinToken!=null&&(t.joinToken=String(e.joinToken)),t},"fromObject"),n.toObject=o(function(e,t){t||(t={});var r={};return t.defaults&&(r.attendeeId="",r.externalUserId="",r.joinToken=""),e.attendeeId!=null&&e.hasOwnProperty("attendeeId")&&(r.attendeeId=e.attendeeId),e.externalUserId!=null&&e.hasOwnProperty("externalUserId")&&(r.externalUserId=e.externalUserId),e.joinToken!=null&&e.hasOwnProperty("joinToken")&&(r.joinToken=e.joinToken),r},"toObject"),n.prototype.toJSON=o(function(){return this.constructor.toObject(this,S.util.toJSONOptions)},"toJSON"),n}(),a.SdkVideoCodecCapability=function(){var n={},i=Object.create(n);return i[n[1]="VP8"]=1,i[n[3]="H264_CONSTRAINED_BASELINE_PROFILE"]=3,i}(),N.exports=a,f.Long=void 0,S.configure()},XEV2:function(N,c,d){"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.isValidRevisionID=c.isValidAssetGroup=c.resolveURL=c.addQueryParams=c.withQueryString=c.withRequestHeaders=c.fetchWithBehavior=void 0;function S(t,r,l){if(!l)return fetch(t,r);const p=m(t,l),v=h(r,l);return fetch(p,v)}o(S,"fetchWithBehavior"),c.fetchWithBehavior=S;function h(t,r){return r!=null&&r.headers?t?Object.assign(Object.assign({},t),{headers:Object.assign(Object.assign({},t.headers||{}),r.headers)}):{headers:r.headers}:t}o(h,"withRequestHeaders"),c.withRequestHeaders=h;function m(t,r){if(!(r!=null&&r.escapedQueryString))return t;const l=t.lastIndexOf("?")!==-1;return`${t}${l?"&":"?"}${r.escapedQueryString}`}o(m,"withQueryString"),c.withQueryString=m;function f(t,r){const l=Object.keys(r);if(!l.length)return t;const p=new URLSearchParams(t==null?void 0:t.escapedQueryString);for(const v of l)p.append(v,r[v]);return Object.assign(Object.assign({},t),{escapedQueryString:p.toString()})}o(f,"addQueryParams"),c.addQueryParams=f;const a={method:"HEAD",mode:"cors",credentials:"omit",redirect:"follow",referrerPolicy:"origin"};function n(t,r){return S(t,a,r).then(l=>l.redirected?l.url:t)}o(n,"resolveURL"),c.resolveURL=n;function i(t){return!!t&&/^[-.a-zA-Z0-9]+$/.test(t)}o(i,"isValidAssetGroup"),c.isValidAssetGroup=i;function e(t){return!!t&&/^[123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ]{22}$/.test(t)}o(e,"isValidRevisionID"),c.isValidRevisionID=e},XFRR:function(N,c,d){"use strict";function S(){}o(S,"baseLodash"),c.a=S},XJKy:function(N,c,d){"use strict";Object.defineProperty(c,"__esModule",{value:!0});const S=d("ZdbB");let h=o(class extends S.default{setupLocalTransceivers(){this.useTransceivers()&&(!this.defaultMediaStream&&typeof MediaStream<"u"&&(this.defaultMediaStream=new MediaStream),this._localCameraTransceiver||(this._localCameraTransceiver=this.peer.addTransceiver("video",{direction:"inactive",streams:[this.defaultMediaStream]})))}constructor(f,a){super(f,a)}},"VideoOnlyTransceiverController");c.default=h},XJrD:function(N,c,d){"use strict";Object.defineProperty(c,"__esModule",{value:!0});let S=o(class fv{equal(m){let f=m.captureWidth()===this.cameraWidth&&m.captureHeight()===this.cameraHeight&&m.captureFrameRate()===this.cameraFrameRate&&m.encodeBitrates().length===this.encodeBitrates().length&&m.encodeScaleResolutionDownBy().length===this.encodeScaleResolutionDownBy().length&&m.encodeWidths().length===this.encodeWidths().length&&m.encodeHeights().length===this.encodeHeights().length;if(f){for(let a=0;a<m.encodeWidths().length;a++)if(m.encodeWidths()[a]!==this.encodeWidths()[a]||m.encodeHeights()[a]!==this.encodeHeights()[a]||m.encodeBitrates()[a]!==this.encodeBitrates()[a]||m.encodeScaleResolutionDownBy()[a]!==this.encodeScaleResolutionDownBy()[a])return f=!1,f}return f}clone(){return new fv(this.cameraWidth,this.cameraHeight,this.cameraFrameRate,this.maxEncodeBitrateKbps,this.isSimulcast,this.scaleResolutionDownBy)}captureWidth(){return this.cameraWidth}captureHeight(){return this.cameraHeight}captureFrameRate(){return this.cameraFrameRate}encodeBitrates(){return[this.maxEncodeBitrateKbps]}encodeScaleResolutionDownBy(){return[this.scaleResolutionDownBy]}encodeWidths(){return[this.cameraWidth]}encodeHeights(){return[this.cameraHeight]}constructor(m,f,a,n,i,e=1){this.cameraWidth=m,this.cameraHeight=f,this.cameraFrameRate=a,this.maxEncodeBitrateKbps=n,this.isSimulcast=i,this.scaleResolutionDownBy=e}},"DefaultVideoCaptureAndEncodeParameter");c.default=S},XLeT:function(N,c,d){"use strict";var S=d("USwo"),h=d("8sL3"),m=d("wqPz");S(S.S,"Promise",{try:function(f){var a=h.f(this),n=m(f);return(n.e?a.reject:a.resolve)(n.v),a.promise}})},XYJD:function(N,c,d){"use strict";Object.defineProperty(c,"__esModule",{value:!0});let S=o(class{},"TranscriptEntity");c.default=S},XhYu:function(N,c,d){"use strict";Object.defineProperty(c,"__esModule",{value:!0});const S=d("xzjI");let h=o(class extends S.default{constructor(f,a){super(f),this.constraint=a,this.name="OverconstrainedError"}},"OverconstrainedError");c.default=h},XnHx:function(N,c,d){"use strict";var S=d("/1FC");function h(){if(!arguments.length)return[];var m=arguments[0];return Object(S.a)(m)?m:[m]}o(h,"castArray"),c.a=h},Xv43:function(N,c,d){"use strict";var S=this&&this.__awaiter||function(m,f,a,n){function i(e){return e instanceof a?e:new a(function(t){t(e)})}return o(i,"adopt"),new(a||(a=Promise))(function(e,t){function r(v){try{p(n.next(v))}catch(g){t(g)}}o(r,"fulfilled");function l(v){try{p(n.throw(v))}catch(g){t(g)}}o(l,"rejected");function p(v){v.done?e(v.value):i(v.value).then(r,l)}o(p,"step"),p((n=n.apply(m,f||[])).next())})};Object.defineProperty(c,"__esModule",{value:!0});let h=o(class{destroy(){this.canvas=null,this.destroyed=!0}asCanvasImageSource(){return S(this,void 0,void 0,function*(){return this.destroyed?Promise.reject("canvas buffer is destroyed"):Promise.resolve(this.canvas)})}asCanvasElement(){return this.canvas}constructor(f){this.canvas=f,this.destroyed=!1}},"CanvasVideoFrameBuffer");c.default=h},XzFx:function(N,c,d){"use strict";var S=this&&this.__awaiter||function(n,i,e,t){function r(l){return l instanceof e?l:new e(function(p){p(l)})}return o(r,"adopt"),new(e||(e=Promise))(function(l,p){function v(s){try{u(t.next(s))}catch(I){p(I)}}o(v,"fulfilled");function g(s){try{u(t.throw(s))}catch(I){p(I)}}o(g,"rejected");function u(s){s.done?l(s.value):r(s.value).then(v,g)}o(u,"step"),u((t=t.apply(n,i||[])).next())})};Object.defineProperty(c,"__esModule",{value:!0});const h=d("U9CR"),m=d("wXa7"),f=d("j+uH");let a=o(class extends f.default{cancel(){if(this.cancelPromise){const i=new Error(`canceling ${this.name()}`);this.cancelPromise(i),delete this.cancelPromise}}run(){return S(this,void 0,void 0,function*(){const i=this.context.peer;let t=this.context.sdpOfferInit.sdp;this.context.browserBehavior.supportsVideoLayersAllocationRtpHeaderExtension()&&(t=new m.default(t).withVideoLayersAllocationRtpHeaderExtension(this.context.previousSdpOffer).sdp),new h.default().requiresDisablingH264Encoding()&&(t=new m.default(t).removeH264SupportFromSendSection().sdp),this.context.videoSendCodecPreferences!==void 0&&this.context.videoSendCodecPreferences.length>0&&(t=new m.default(t).withVideoSendCodecPreferences(this.context.meetingSupportedVideoSendCodecPreferences!==void 0?this.context.meetingSupportedVideoSendCodecPreferences:this.context.videoSendCodecPreferences).sdp),this.context.audioProfile&&(t=new m.default(t).withAudioMaxAverageBitrate(this.context.audioProfile.audioBitrateBps).sdp,this.context.audioProfile.isStereo()&&(t=new m.default(t).withStereoAudio().sdp)),this.logger.debug(()=>`local description is >>>${t}<<<`);const r={type:"offer",sdp:t,toJSON:null};yield new Promise((l,p)=>S(this,void 0,void 0,function*(){this.cancelPromise=v=>{p(v)};try{yield i.setLocalDescription(r),l()}catch(v){p(v)}finally{delete this.cancelPromise}})),this.context.logger.info("set local description")})}constructor(i){super(i.logger),this.context=i,this.taskName="SetLocalDescriptionTask"}},"SetLocalDescriptionTask");c.default=a},Y2s1:function(N,c,d){"use strict";Object.defineProperty(c,"__esModule",{value:!0});const S=d("8FET");let h=o(class{constructor(f,a,n=new S.default){this.eventsClientConfiguration=f,this.ingestionURL=a,this.eventBufferConfiguration=n}},"EventIngestionConfiguration");c.default=h},Y8b2:function(N,c,d){"use strict";Object.defineProperty(c,"__esModule",{value:!0});const S=d("tK6J");let h=o(class{create(){if(this.isMediaDevicesSupported)return new Proxy(navigator.mediaDevices,new S.default);throw new Error("navigator.mediaDevices is not supported")}constructor(){this.isMediaDevicesSupported=typeof navigator<"u"&&!!navigator.mediaDevices}},"DefaultMediaDeviceFactory");c.default=h},YEIV:function(N,c,d){"use strict";c.__esModule=!0;var S=d("SEkw"),h=m(S);function m(f){return f&&f.__esModule?f:{default:f}}o(m,"_interopRequireDefault"),c.default=function(f,a,n){return a in f?(0,h.default)(f,a,{value:n,enumerable:!0,configurable:!0,writable:!0}):f[a]=n,f}},YH3u:function(N,c,d){"use strict";var S=this&&this.__awaiter||function(l,p,v,g){function u(s){return s instanceof v?s:new v(function(I){I(s)})}return o(u,"adopt"),new(v||(v=Promise))(function(s,I){function M(j){try{B(g.next(j))}catch(A){I(A)}}o(M,"fulfilled");function R(j){try{B(g.throw(j))}catch(A){I(A)}}o(R,"rejected");function B(j){j.done?s(j.value):u(j.value).then(M,R)}o(B,"step"),B((g=g.apply(l,p||[])).next())})};Object.defineProperty(c,"__esModule",{value:!0});const h=d("ywpn"),m=d("e/ca"),f=d("uctb"),a=d("Wjms"),n=d("LEQH"),i=d("GtHv"),e=d("vjEy");let t=o(class extends a.default{setBlurStrength(){}loadAssets(){return S(this,void 0,void 0,function*(){})}addObserver(){}removeObserver(){}},"NoOpBackgroundBlurProcessor"),r=o(class Cc extends h.default{static create(p,v){return S(this,void 0,void 0,function*(){p=Cc.resolveSpec(p),v=Cc.resolveOptions(v);const{logger:g}=v,u=yield Cc.isSupported(p,v);if(g.info(`processor is ${u?"":"not"} supported`),!u)return g.warn("Using no-op processor because background blur is not supported"),new t;let s;return(yield i.default.isSupported())?(g.info("Using browser-provided background blur"),s=new i.default(p,v)):(g.info("Using built-in background blur"),s=new n.default(p,v)),yield s.loadAssets(),s})}static resolveOptions(){let p=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},v=Object.assign({},p);return v.blurStrength||(v.blurStrength=e.default.MEDIUM),v.logger||(v.logger=new m.default("BackgroundBlurProcessor",f.default.INFO)),v=super.resolveOptions(v),v}static isSupported(p,v){return p=Cc.resolveSpec(p),v=Cc.resolveOptions(v),super.isSupported(p,v)}},"BackgroundBlurVideoFrameProcessor");c.default=r},YX4P:function(N,c,d){"use strict";Object.defineProperty(c,"__esModule",{value:!0});var S=d("e/nb");S.__exportStar(d("rU8T"),c),S.__exportStar(d("LVIV"),c),S.__exportStar(d("JBVX"),c),S.__exportStar(d("JEbH"),c),S.__exportStar(d("duQQ"),c)},YXGX:function(N,c,d){"use strict";var S=d("m5Jn"),h=S.a&&new S.a;c.a=h},YbMW:function(N,c,d){"use strict";var S=this&&this.__awaiter||function(g,u,s,I){function M(R){return R instanceof s?R:new s(function(B){B(R)})}return o(M,"adopt"),new(s||(s=Promise))(function(R,B){function j($){try{D(I.next($))}catch(O){B(O)}}o(j,"fulfilled");function A($){try{D(I.throw($))}catch(O){B(O)}}o(A,"rejected");function D($){$.done?R($.value):M($.value).then(j,A)}o(D,"step"),D((I=I.apply(g,u||[])).next())})};Object.defineProperty(c,"__esModule",{value:!0});const h=d("6SO8"),m=d("bjg3"),f=d("x8On"),a=d("Tsvd"),n=d("m/NO"),i=d("fi20"),e=d("BkFD"),t=d("XCDq"),r=d("Aplu"),l=d("PPZC"),p=d("10yS");let v=o(class Bd{toAttribute(u){return this.toSuffix(u).substring(1)}toSuffix(u){return u.toLowerCase()===u?`_${u}`:u.toUpperCase()===u?`_${u.toLowerCase()}`:u.replace(/([A-Z][a-z]+)/g,function(s){return`_${s}`}).replace(/([A-Z][A-Z]+)/g,function(s){return`_${s}`}).toLowerCase()}logLatency(u,s,I){const M=this.toSuffix(u);this.logEventTime("meeting"+M,s,I)}logStateTimeout(u,s){const I=this.toSuffix(u);this.logEvent("meeting_session_state_timeout",Object.assign(Object.assign({},s),{state:`state${I}`}))}logAudioEvent(u,s){const I="audio"+this.toSuffix(l.default[u]);this.logEvent(I,s)}logVideoEvent(u,s){const I="video"+this.toSuffix(p.default[u]);this.logEvent(I,s)}logEventTime(u,s){let I=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const M=Object.assign(Object.assign({},I),{call_id:this.audioVideoController.configuration.meetingId,client_type:Bd.CLIENT_TYPE,metric_type:"latency"});this.logger.debug(()=>`[StatsCollector] ${u}: ${JSON.stringify(M)}`),this.metricsAddTime(u,s,M)}logMeetingSessionStatus(u){const s=`${u.statusCode()}`;this.logEvent(s);const I={status:s,status_code:`${u.statusCode()}`};this.logEvent("meeting_session_status",I),u.isTerminal()&&this.logEvent("meeting_session_stopped",I),u.isAudioConnectionFailure()&&this.logEvent("meeting_session_audio_failed",I),u.isFailure()&&this.logEvent("meeting_session_failed",I)}logLifecycleEvent(u,s){const I={lifecycle_event:`lifecycle${this.toSuffix(n.default[u])}`,lifecycle_event_code:`${u}`,lifecycle_event_condition:`condition${this.toSuffix(i.default[s])}`,lifecycle_event_condition_code:`${s}`};this.logEvent("meeting_session_lifecycle",I)}logEvent(u){let s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const I=Object.assign(Object.assign({},s),{call_id:this.audioVideoController.configuration.meetingId,client_type:Bd.CLIENT_TYPE});this.logger.debug(()=>`[StatsCollector] ${u}: ${JSON.stringify(I)}`),this.metricsLogEvent(u,I)}start(u,s){return this.intervalScheduler?!1:(this.logger.info("Starting StatsCollector"),this.signalingClient=u,this.videoStreamIndex=s,this.clientMetricReport=new h.default(this.logger,this.videoStreamIndex,this.audioVideoController.configuration.credentials.attendeeId),this.intervalScheduler=new e.default(this.interval),this.intervalScheduler.start(()=>S(this,void 0,void 0,function*(){yield this.getStatsWrapper()})),!0)}stop(){this.logger.info("Stopping StatsCollector"),this.intervalScheduler&&this.intervalScheduler.stop(),this.intervalScheduler=null}updateMetricValues(u,s){const I=s?this.clientMetricReport.streamMetricReports[Number(u.ssrc)]:this.clientMetricReport.globalMetricReport;let M;s?M=this.clientMetricReport.getMetricMap(I.mediaType,I.direction):M=this.clientMetricReport.getMetricMap();for(const R in u)R in M&&(typeof u[R]=="number"?(I.previousMetrics[R]=I.currentMetrics[R],I.currentMetrics[R]=u[R]):typeof u[R]=="string"?I.currentStringMetrics[R]=u[R]:this.logger.error(`Unknown metric value type ${typeof u[R]} for metric ${R}`))}processRawMetricReports(u){this.clientMetricReport.currentSsrcs={};const s=Date.now();for(const I of u){const M=this.isStreamRawMetricReport(I.type);if(M){const R=this.clientMetricReport.streamMetricReports[Number(I.ssrc)];if(R)R.streamId=this.videoStreamIndex.streamIdForSSRC(Number(I.ssrc));else{const B=new a.default;B.mediaType=this.getMediaType(I),B.direction=this.getDirectionType(I),this.videoStreamIndex.allStreams().empty()||(B.streamId=this.videoStreamIndex.streamIdForSSRC(Number(I.ssrc))),this.clientMetricReport.streamMetricReports[Number(I.ssrc)]=B}this.clientMetricReport.currentSsrcs[Number(I.ssrc)]=1}this.updateMetricValues(I,M)}this.clientMetricReport.removeDestroyedSsrcs(),this.clientMetricReport.previousTimestampMs=this.clientMetricReport.currentTimestampMs,this.clientMetricReport.currentTimestampMs=s,this.clientMetricReport.print()}addStreamMetricDimensionFrames(u,s){const I=this.clientMetricReport.getStreamDimensionMap();for(const M in s.currentStringMetrics)if(M in I){const R=t.SdkStreamDimension.create();R.type=I[M];const B=t.SdkDimensionValue.create();B.stringValue=s.currentStringMetrics[M],R.value=B,u.dimensions.push(R)}}addMetricFrame(u,s,I,M){const R=I.type,B=I.transform,j=I.source,A=s.streamMetricFrames.length,D=s.streamMetricFrames[A-1];if(R){const $=t.SdkMetric.create();$.type=R,$.value=B(j||u,M),M?D.metrics.push($):s.globalMetrics.push($)}}addGlobalMetricsToProtobuf(u){const s=this.clientMetricReport.getMetricMap();for(const I in this.clientMetricReport.globalMetricReport.currentMetrics)this.addMetricFrame(I,u,s[I])}addStreamMetricsToProtobuf(u){for(const s in this.clientMetricReport.streamMetricReports){const I=this.clientMetricReport.streamMetricReports[s],M=t.SdkStreamMetricFrame.create();M.streamId=I.streamId,M.metrics=[],this.addStreamMetricDimensionFrames(M,I),u.streamMetricFrames.push(M);const R=this.clientMetricReport.getMetricMap(I.mediaType,I.direction);for(const B in I.currentMetrics)this.addMetricFrame(B,u,R[B],Number(s));for(const B in I.currentStringMetrics)this.addMetricFrame(B,u,R[B],Number(s))}}makeClientMetricProtobuf(){const u=t.SdkClientMetricFrame.create();return u.globalMetrics=[],u.streamMetricFrames=[],this.addGlobalMetricsToProtobuf(u),this.addStreamMetricsToProtobuf(u),u}sendClientMetricProtobuf(u){this.signalingClient.sendClientMetrics(u)}isStreamRawMetricReport(u){return["inbound-rtp","outbound-rtp","remote-inbound-rtp","remote-outbound-rtp"].includes(u)}getMediaType(u){return u.kind==="audio"?f.default.AUDIO:f.default.VIDEO}getDirectionType(u){const{type:s}=u;return s==="inbound-rtp"||s==="remote-outbound-rtp"?m.default.DOWNSTREAM:m.default.UPSTREAM}isValidStandardRawMetric(u){return u.type==="inbound-rtp"||u.type==="outbound-rtp"||u.type==="remote-inbound-rtp"||u.type==="remote-outbound-rtp"||u.type==="candidate-pair"&&u.state==="succeeded"}isValidSsrc(u){let s=!0;return this.isStreamRawMetricReport(u.type)&&this.getDirectionType(u)===m.default.DOWNSTREAM&&this.getMediaType(u)===f.default.VIDEO&&(s=this.videoStreamIndex.streamIdForSSRC(Number(u.ssrc))>0),s}isValidRawMetricReport(u){return this.isValidStandardRawMetric(u)&&this.isValidSsrc(u)}filterRawMetricReports(u){const s=[];for(const I of u)this.isValidRawMetricReport(I)&&s.push(I);return s}handleRawMetricReports(u){const s=this.filterRawMetricReports(u);this.logger.debug(()=>`Filtered raw metrics : ${JSON.stringify(s)}`),this.processRawMetricReports(s);const I=this.makeClientMetricProtobuf();this.sendClientMetricProtobuf(I),this.audioVideoController.forEachObserver(M=>{r.Maybe.of(M.metricsDidReceive).map(R=>R.bind(M)(this.clientMetricReport.clone()))})}getStatsWrapper(){return S(this,void 0,void 0,function*(){if(!this.audioVideoController.rtcPeerConnection)return;const u=[];try{const s=yield this.audioVideoController.rtcPeerConnection.getStats();this.clientMetricReport.rtcStatsReport=s,s.forEach(I=>{u.push(I)}),this.handleRawMetricReports(u)}catch(s){this.logger.error(s.message)}})}constructor(u,s,I=Bd.INTERVAL_MS){this.audioVideoController=u,this.logger=s,this.interval=I,this.intervalScheduler=null,this.metricsAddTime=(M,R,B)=>{},this.metricsLogEvent=(M,R)=>{}}},"StatsCollector");c.default=v,v.INTERVAL_MS=1e3,v.CLIENT_TYPE="amazon-chime-sdk-js"},YcE2:function(N,c,d){"use strict";(function(S){Object.defineProperty(c,"__esModule",{value:!0}),c.convertToBuffer=void 0;var h=d("f/KM"),m=typeof S<"u"&&S.from?function(a){return S.from(a,"utf8")}:h.fromUtf8;function f(a){return a instanceof Uint8Array?a:typeof a=="string"?m(a):ArrayBuffer.isView(a)?new Uint8Array(a.buffer,a.byteOffset,a.byteLength/Uint8Array.BYTES_PER_ELEMENT):new Uint8Array(a)}o(f,"convertToBuffer"),c.convertToBuffer=f}).call(this,d("HDXh").Buffer)},Yk7g:function(N,c,d){"use strict";var S=Array.prototype,h=S.reverse;function m(f){return f==null?f:h.call(f)}o(m,"reverse"),c.a=m},Yugg:function(N,c,d){"use strict";d.r(c),d.d(c,"locateWindow",function(){return h});const S={};function h(){return typeof window<"u"?window:typeof self<"u"?self:S}o(h,"locateWindow")},Yvks:function(N,c,d){"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.CheckAudioConnectivityFeedback=void 0;var S;(function(h){h[h.Succeeded=0]="Succeeded",h[h.AudioInputRequestFailed=1]="AudioInputRequestFailed",h[h.AudioInputPermissionDenied=2]="AudioInputPermissionDenied",h[h.ConnectionFailed=3]="ConnectionFailed",h[h.AudioNotReceived=4]="AudioNotReceived"})(S=c.CheckAudioConnectivityFeedback||(c.CheckAudioConnectivityFeedback={})),c.default=S},"Yz+Y":function(N,c,d){N.exports={default:d("Lr1a"),__esModule:!0}},"Z/hr":function(N,c,d){"use strict";Object.defineProperty(c,"__esModule",{value:!0});const S=d("U9CR"),h=d("ppUg"),m=d("uQnq");let f=o(class rl{static connectVideoStreamToVideoElement(n,i,e){const t=e&&n.getVideoTracks()[0].getSettings().facingMode!=="environment"?"rotateY(180deg)":"";if(rl.setVideoElementFlag(i,"disablePictureInPicture",e),rl.setVideoElementFlag(i,"disableRemotePlayback",e),i.style.transform!==t&&(i.style.transform=t),i.hasAttribute("controls")&&i.removeAttribute("controls"),i.hasAttribute("autoplay")||i.setAttribute("autoplay","true"),i.hasAttribute("playsinline")||i.setAttribute("playsinline","true"),i.hasAttribute("muted")||(i.setAttribute("muted","true"),i.muted=!0),i.srcObject!==n&&(i.srcObject=n,new S.default().requiresVideoPlayWorkaround()&&i.paused)){const r=i.play();r!==void 0&&r.catch(l=>{console.warn("Error playing video in Safari",l)}).then(()=>{console.debug("Video played successfully in Safari")})}}static disconnectVideoStreamFromVideoElement(n,i){let e=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;if(n)if(i)e||(n.srcObject=null,n.style.transform="");else{if(!n.srcObject)return;n.pause(),n.style.transform="",rl.setVideoElementFlag(n,"disablePictureInPicture",!1),rl.setVideoElementFlag(n,"disableRemotePlayback",!1),n.srcObject=null}}destroy(){this.devicePixelRatioMonitor.removeObserver(this),this.tileState.boundVideoElement&&this.tileState.boundVideoElement.srcObject===this.tileState.boundVideoStream&&rl.disconnectVideoStreamFromVideoElement(this.tileState.boundVideoElement,!1),this.tileState=new m.default}devicePixelRatioChanged(n){this.tileState.devicePixelRatio=n,this.sendTileStateUpdate()}id(){return this.tileState.tileId}state(){return this.tileState.clone()}stateRef(){return this.tileState}bindVideoStream(n,i,e,t,r,l,p){let v=!1;this.tileState.boundAttendeeId!==n&&(this.tileState.boundAttendeeId=n,new h.default(n).hasModality(h.default.MODALITY_CONTENT)&&(this.tileState.isContent=!0),v=!0),this.tileState.boundExternalUserId!==p&&(this.tileState.boundExternalUserId=p,v=!0),this.tileState.localTile!==i&&(this.tileState.localTile=i,v=!0),this.tileState.boundVideoStream!==e&&(this.tileState.boundVideoStream=e,v=!0),this.tileState.videoStreamContentWidth!==t&&(this.tileState.videoStreamContentWidth=t,v=!0),this.tileState.videoStreamContentHeight!==r&&(this.tileState.videoStreamContentHeight=r,v=!0),this.tileState.streamId!==l&&(this.tileState.streamId=l,v=!0),v&&this.sendTileStateUpdate()}bindVideoElement(n){let i=!1;this.tileState.boundVideoElement!==n&&(this.tileState.boundVideoElement=n,i=!0),this.tileState.boundVideoElement!==null?(this.tileState.videoElementCSSWidthPixels!==n.clientWidth&&(this.tileState.videoElementCSSWidthPixels=n.clientWidth,i=!0),this.tileState.videoElementCSSHeightPixels!==n.clientHeight&&(this.tileState.videoElementCSSHeightPixels=n.clientHeight,i=!0)):(this.tileState.videoElementCSSWidthPixels=null,this.tileState.videoElementCSSHeightPixels=null),i&&this.sendTileStateUpdate()}pause(){this.tileState.paused||(this.tileState.paused=!0,this.sendTileStateUpdate())}unpause(){this.tileState.paused&&(this.tileState.paused=!1,this.sendTileStateUpdate())}markPoorConnection(){return this.tileState.poorConnection?!1:(this.tileState.poorConnection=!0,this.sendTileStateUpdate(),!0)}unmarkPoorConnection(){return this.tileState.poorConnection?(this.tileState.poorConnection=!1,this.sendTileStateUpdate(),!0):!1}capture(){if(!this.tileState.active)return null;const n=document.createElement("canvas"),i=this.tileState.boundVideoElement;n.width=i.videoWidth||i.width,n.height=i.videoHeight||i.height;const e=n.getContext("2d");return e.drawImage(i,0,0,n.width,n.height),e.getImageData(0,0,n.width,n.height)}setStreamId(n){this.tileState.streamId=n,this.tileController.sendTileStateUpdate(this.state())}sendTileStateUpdate(){this.updateActiveState(),this.updateVideoStreamOnVideoElement(),this.updateVideoElementPhysicalPixels(),this.tileController.sendTileStateUpdate(this.state())}updateActiveState(){this.tileState.active=!!(!this.tileState.paused&&!this.tileState.poorConnection&&this.tileState.boundAttendeeId&&this.tileState.boundVideoElement&&this.tileState.boundVideoStream)}updateVideoElementPhysicalPixels(){typeof this.tileState.videoElementCSSWidthPixels=="number"&&typeof this.tileState.videoElementCSSHeightPixels=="number"?(this.tileState.videoElementPhysicalWidthPixels=this.tileState.devicePixelRatio*this.tileState.videoElementCSSWidthPixels,this.tileState.videoElementPhysicalHeightPixels=this.tileState.devicePixelRatio*this.tileState.videoElementCSSHeightPixels):(this.tileState.videoElementPhysicalWidthPixels=null,this.tileState.videoElementPhysicalHeightPixels=null)}updateVideoStreamOnVideoElement(){this.tileState.active?rl.connectVideoStreamToVideoElement(this.tileState.boundVideoStream,this.tileState.boundVideoElement,this.tileState.localTile):rl.disconnectVideoStreamFromVideoElement(this.tileState.boundVideoElement,this.tileState.paused,this.tileController.keepLastFrameWhenPaused)}static setVideoElementFlag(n,i,e){i in n&&(n[i]=e)}constructor(n,i,e,t){this.tileController=e,this.devicePixelRatioMonitor=t,this.tileState=new m.default,this.tileState.tileId=n,this.tileState.localTile=i,this.devicePixelRatioMonitor.registerObserver(this)}},"DefaultVideoTile");c.default=f},Z0UI:function(N,c,d){"use strict";Object.defineProperty(c,"__esModule",{value:!0});let S=o(class{},"TranscriptAlternative");c.default=S},ZDin:function(N,c,d){var S=d("A9a0"),h=d("l0Kd").concat("length","prototype");c.f=Object.getOwnPropertyNames||o(function(f){return S(f,h)},"getOwnPropertyNames")},ZHiL:function(N,c,d){"use strict";Object.defineProperty(c,"__esModule",{value:!0});const S=d("mlaT"),h=d("aZJ3");let m=o(class extends h.default{constructor(){super(S.default.DEBUG)}},"NoOpDebugLogger");c.default=m},ZISg:function(N,c,d){"use strict";var S=this&&this.__awaiter||function(v,g,u,s){function I(M){return M instanceof u?M:new u(function(R){R(M)})}return o(I,"adopt"),new(u||(u=Promise))(function(M,R){function B(D){try{A(s.next(D))}catch($){R($)}}o(B,"fulfilled");function j(D){try{A(s.throw(D))}catch($){R($)}}o(j,"rejected");function A(D){D.done?M(D.value):I(D.value).then(B,j)}o(A,"step"),A((s=s.apply(v,g||[])).next())})};Object.defineProperty(c,"__esModule",{value:!0});const h=d("aZba"),m=d("papz"),f=d("wXa7"),a=d("aTUL"),n=d("/AJg"),i=d("HbHZ"),e=d("VhCr"),t=d("bQ+R"),r=d("XCDq"),l=d("j+uH");let p=o(class extends l.default{cancel(){this.taskCanceler&&(this.taskCanceler.cancel(),this.taskCanceler=null)}run(){return S(this,void 0,void 0,function*(){let g="";if(this.context.peer&&this.context.peer.localDescription&&(g=new f.default(this.context.peer.localDescription.sdp).withUnifiedPlanFormat().sdp),!this.context.enableSimulcast){let A=0,D=0;this.context.videoCaptureAndEncodeParameter&&(A=this.context.videoCaptureAndEncodeParameter.captureFrameRate(),D=this.context.videoCaptureAndEncodeParameter.encodeBitrates()[0]);const $={rid:"hi",maxBitrate:D*1e3,maxFramerate:A,active:!0};this.context.videoStreamIndex.integrateUplinkPolicyDecision([$])}this.context.videoStreamIndex.subscribeFrameSent();const u=this.fixUpSubscriptionOrder(g,this.context.videoSubscriptions),s=this.context.videoDuplexMode===r.SdkStreamServiceType.TX||this.context.videoDuplexMode===r.SdkStreamServiceType.DUPLEX;let I;const M=g;if(this.context.serverSupportsCompression){const A=this.context.previousSdpOffer?this.context.previousSdpOffer.sdp:"";I=this.textCompressor.compress(M,A),this.context.logger.info(`Compressed the SDP message from ${M.length} to ${I.length} bytes.`),g=""}this.context.previousSdpOffer=new f.default(M);const R=new e.default(this.context.meetingSessionConfiguration.credentials.attendeeId,g,this.context.meetingSessionConfiguration.urls.audioHostURL,this.context.realtimeController.realtimeIsLocalAudioMuted(),!1,u,s,this.context.videoStreamIndex.localStreamDescriptions(),!0,I);this.context.videoDownlinkBandwidthPolicy.getServerSideNetworkAdaption!==void 0&&this.context.videoDownlinkBandwidthPolicy.getServerSideNetworkAdaption()!==n.default.None&&this.context.videoDownlinkBandwidthPolicy.getVideoPreferences!==void 0&&(R.videoSubscriptionConfiguration=this.convertVideoPreferencesToVideoSubscriptionConfiguration(u,this.context.videoDownlinkBandwidthPolicy.getVideoPreferences())),this.context.logger.info(`sending subscribe: ${JSON.stringify(R)}`),this.context.signalingClient.subscribe(R);const B=yield this.receiveSubscribeAck();this.context.logger.info(`got subscribe ack: ${JSON.stringify(B)}`);let j="";B.compressedSdpAnswer&&B.compressedSdpAnswer.length?(j=this.textCompressor.decompress(B.compressedSdpAnswer,this.context.previousSdpAnswerAsString),j.length===0&&(this.context.sdpAnswer="",this.context.previousSdpAnswerAsString="",this.logAndThrow("Error occurred while trying to decompress the SDP answer.")),this.context.logger.info(`Decompressed the SDP message from ${B.compressedSdpAnswer.length} to ${j.length} bytes.`),this.context.sdpAnswer=j):this.context.sdpAnswer=B.sdpAnswer,this.context.previousSdpAnswerAsString=this.context.sdpAnswer,this.context.videoStreamIndex.integrateSubscribeAckFrame(B)})}fixUpSubscriptionOrder(g,u){if(this.context.transceiverController.getMidForStreamId===void 0)return u;const s=new Map;for(const R of u){const B=this.context.transceiverController.getMidForStreamId(R);if(B===void 0){R!==0&&this.logger.warn(`Could not find MID for stream ID: ${R}`);continue}s.set(B,R)}const I=new f.default(g).mediaSections(),M=[];for(const R of I)if(R.mediaType==="video")if(R.direction==="recvonly"){const B=s.get(R.mid);if(B===void 0){this.logger.warn(`Could not find stream ID for MID: ${R.mid}`);continue}M.push(B)}else M.push(0);return this.logger.info(`Fixed up ${JSON.stringify(u)} to ${JSON.stringify(M)} (may be same))}`),M}convertVideoPreferencesToVideoSubscriptionConfiguration(g,u){if(this.context.transceiverController.getMidForStreamId===void 0||u===void 0)return[];const s=new Array,I=new Map,M=new Map;for(const R of g){const B=this.context.transceiverController.getMidForStreamId(R);if(B===void 0){R!==0&&this.context.logger.warn(`Could not find MID for stream ID: ${R}`);continue}const j=this.context.videoStreamIndex.attendeeIdForStreamId(R);I.set(j,B),M.set(j,this.context.videoStreamIndex.groupIdForStreamId(R))}for(const R of u){const B=new t.default,j=I.get(R.attendeeId);if(j===void 0){this.context.logger.warn(`Could not find MID for attendee ID: ${R.attendeeId}`);continue}B.mid=j,B.attendeeId=R.attendeeId,B.groupId=M.get(R.attendeeId),B.priority=Number.MAX_SAFE_INTEGER-R.priority,B.targetBitrateKbps=R.targetSizeToBitrateKbps(R.targetSize),s.push(B)}return s}receiveSubscribeAck(){return new Promise((g,u)=>{const s=this.context;let I=o(class{cancel(){this.signalingClient.removeObserver(this),u(new Error("SubscribeAndReceiveSubscribeAckTask got canceled while waiting for SdkSubscribeAckFrame"))}handleSignalingClientEvent(B){if(B.isConnectionTerminated()){const A=`SubscribeAndReceiveSubscribeAckTask connection was terminated with code ${B.closeCode} and reason: ${B.closeReason}`;s.logger.warn(A);let D=m.default.TaskFailed;B.closeCode>=4500&&B.closeCode<4600&&(D=m.default.SignalingInternalServerError),s.audioVideoController.handleMeetingSessionStatus(new h.default(D),new Error(A));return}if(B.type!==i.default.ReceivedSignalFrame||B.message.type!==r.SdkSignalFrame.Type.SUBSCRIBE_ACK)return;this.signalingClient.removeObserver(this);const j=B.message.suback;g(j)}constructor(B){this.signalingClient=B}},"Interceptor");const M=new I(this.context.signalingClient);this.context.signalingClient.registerObserver(M),this.taskCanceler=M})}constructor(g){super(g.logger),this.context=g,this.taskName="SubscribeAndReceiveSubscribeAckTask",this.taskCanceler=null,this.textCompressor=new a.default(g.logger)}},"SubscribeAndReceiveSubscribeAckTask");c.default=p},ZIUS:function(N,c,d){"use strict";Object.defineProperty(c,"__esModule",{value:!0});let S=o(class{constructor(){this.volume=null,this.muted=null,this.signalStrength=null}},"RealtimeVolumeIndicator");c.default=S},ZIxo:function(N,c,d){"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.Sha256=void 0;var S=d("dFEU"),h=d("b4Ml"),m=d("xxdO"),f=d("bVud"),a=d("YX4P"),n=d("Yugg"),i=d("pU0T"),e=function(){function t(r){(0,f.supportsWebCrypto)((0,n.locateWindow)())?this.hash=new h.Sha256(r):(0,a.isMsWindow)((0,n.locateWindow)())?this.hash=new S.Sha256(r):this.hash=new m.Sha256(r)}return o(t,"Sha256"),t.prototype.update=function(r,l){this.hash.update((0,i.convertToBuffer)(r))},t.prototype.digest=function(){return this.hash.digest()},t.prototype.reset=function(){this.hash.reset()},t}();c.Sha256=e},ZPwG:function(N,c,d){"use strict";var S=this&&this.__awaiter||function(v,g,u,s){function I(M){return M instanceof u?M:new u(function(R){R(M)})}return o(I,"adopt"),new(u||(u=Promise))(function(M,R){function B(D){try{A(s.next(D))}catch($){R($)}}o(B,"fulfilled");function j(D){try{A(s.throw(D))}catch($){R($)}}o(j,"rejected");function A(D){D.done?M(D.value):I(D.value).then(B,j)}o(A,"step"),A((s=s.apply(v,g||[])).next())})};Object.defineProperty(c,"__esModule",{value:!0});const h=d("6Bxv"),m=d("lUhs"),f=d("AUdx"),a=d("MelK"),n=d("DUgj"),i=d("hEYi"),e=d("iFpF"),t=d("/sFY"),r=d("f2XL"),l=d("aVV0");let p=o(class extends l.default{cancel(){this.taskCanceler&&(this.taskCanceler.cancel(),this.taskCanceler=null)}run(){return S(this,void 0,void 0,function*(){let g="";if(this.context.peer&&this.context.peer.localDescription&&(g=new f.default(this.context.peer.localDescription.sdp).withUnifiedPlanFormat().sdp),!this.context.enableSimulcast){let A=0,D=0;this.context.videoCaptureAndEncodeParameter&&(A=this.context.videoCaptureAndEncodeParameter.captureFrameRate(),D=this.context.videoCaptureAndEncodeParameter.encodeBitrates()[0]);const $={rid:"hi",maxBitrate:D*1e3,maxFramerate:A,active:!0};this.context.videoStreamIndex.integrateUplinkPolicyDecision([$])}this.context.videoStreamIndex.subscribeFrameSent();const u=this.fixUpSubscriptionOrder(g,this.context.videoSubscriptions),s=this.context.videoDuplexMode===r.SdkStreamServiceType.TX||this.context.videoDuplexMode===r.SdkStreamServiceType.DUPLEX;let I;const M=g;if(this.context.serverSupportsCompression){const A=this.context.previousSdpOffer?this.context.previousSdpOffer.sdp:"";I=this.textCompressor.compress(M,A),this.context.logger.info(`Compressed the SDP message from ${M.length} to ${I.length} bytes.`),g=""}this.context.previousSdpOffer=new f.default(M);const R=new e.default(this.context.meetingSessionConfiguration.credentials.attendeeId,g,this.context.meetingSessionConfiguration.urls.audioHostURL,this.context.realtimeController.realtimeIsLocalAudioMuted(),!1,u,s,this.context.videoStreamIndex.localStreamDescriptions(),!0,I);this.context.videoDownlinkBandwidthPolicy.getServerSideNetworkAdaption!==void 0&&this.context.videoDownlinkBandwidthPolicy.getServerSideNetworkAdaption()!==n.default.None&&this.context.videoDownlinkBandwidthPolicy.getVideoPreferences!==void 0&&(R.videoSubscriptionConfiguration=this.convertVideoPreferencesToVideoSubscriptionConfiguration(u,this.context.videoDownlinkBandwidthPolicy.getVideoPreferences())),this.context.logger.info(`sending subscribe: ${JSON.stringify(R)}`),this.context.signalingClient.subscribe(R);const B=yield this.receiveSubscribeAck();this.context.logger.info(`got subscribe ack: ${JSON.stringify(B)}`);let j="";B.compressedSdpAnswer&&B.compressedSdpAnswer.length?(j=this.textCompressor.decompress(B.compressedSdpAnswer,this.context.previousSdpAnswerAsString),j.length===0&&(this.context.sdpAnswer="",this.context.previousSdpAnswerAsString="",this.logAndThrow("Error occurred while trying to decompress the SDP answer.")),this.context.logger.info(`Decompressed the SDP message from ${B.compressedSdpAnswer.length} to ${j.length} bytes.`),this.context.sdpAnswer=j):this.context.sdpAnswer=B.sdpAnswer,this.context.previousSdpAnswerAsString=this.context.sdpAnswer,this.context.videoStreamIndex.integrateSubscribeAckFrame(B)})}fixUpSubscriptionOrder(g,u){if(this.context.transceiverController.getMidForStreamId===void 0)return u;const s=new Map;for(const R of u){const B=this.context.transceiverController.getMidForStreamId(R);if(B===void 0){R!==0&&this.logger.warn(`Could not find MID for stream ID: ${R}`);continue}s.set(B,R)}const I=new f.default(g).mediaSections(),M=[];for(const R of I)if(R.mediaType==="video")if(R.direction==="recvonly"){const B=s.get(R.mid);if(B===void 0){this.logger.warn(`Could not find stream ID for MID: ${R.mid}`);continue}M.push(B)}else M.push(0);return this.logger.info(`Fixed up ${JSON.stringify(u)} to ${JSON.stringify(M)} (may be same))}`),M}convertVideoPreferencesToVideoSubscriptionConfiguration(g,u){if(this.context.transceiverController.getMidForStreamId===void 0||u===void 0)return[];const s=new Array,I=new Map,M=new Map;for(const R of g){const B=this.context.transceiverController.getMidForStreamId(R);if(B===void 0){R!==0&&this.context.logger.warn(`Could not find MID for stream ID: ${R}`);continue}const j=this.context.videoStreamIndex.attendeeIdForStreamId(R);I.set(j,B),M.set(j,this.context.videoStreamIndex.groupIdForStreamId(R))}for(const R of u){const B=new t.default,j=I.get(R.attendeeId);if(j===void 0){this.context.logger.warn(`Could not find MID for attendee ID: ${R.attendeeId}`);continue}B.mid=j,B.attendeeId=R.attendeeId,B.groupId=M.get(R.attendeeId),B.priority=Number.MAX_SAFE_INTEGER-R.priority,B.targetBitrateKbps=R.targetSizeToBitrateKbps(R.targetSize),s.push(B)}return s}receiveSubscribeAck(){return new Promise((g,u)=>{const s=this.context;let I=o(class{cancel(){this.signalingClient.removeObserver(this),u(new Error("SubscribeAndReceiveSubscribeAckTask got canceled while waiting for SdkSubscribeAckFrame"))}handleSignalingClientEvent(B){if(B.isConnectionTerminated()){const A=`SubscribeAndReceiveSubscribeAckTask connection was terminated with code ${B.closeCode} and reason: ${B.closeReason}`;s.logger.warn(A);let D=m.default.TaskFailed;B.closeCode>=4500&&B.closeCode<4600&&(D=m.default.SignalingInternalServerError),s.audioVideoController.handleMeetingSessionStatus(new h.default(D),new Error(A));return}if(B.type!==i.default.ReceivedSignalFrame||B.message.type!==r.SdkSignalFrame.Type.SUBSCRIBE_ACK)return;this.signalingClient.removeObserver(this);const j=B.message.suback;g(j)}constructor(B){this.signalingClient=B}},"Interceptor");const M=new I(this.context.signalingClient);this.context.signalingClient.registerObserver(M),this.taskCanceler=M})}constructor(g){super(g.logger),this.context=g,this.taskName="SubscribeAndReceiveSubscribeAckTask",this.taskCanceler=null,this.textCompressor=new a.default(g.logger)}},"SubscribeAndReceiveSubscribeAckTask");c.default=p},ZS2b:function(N,c,d){"use strict";Object.defineProperty(c,"__esModule",{value:!0});let S=o(class pv{equal(m){return this.remoteVideoAvailable===m.remoteVideoAvailable&&this.canStartLocalVideo===m.canStartLocalVideo}clone(){const m=new pv;return m.remoteVideoAvailable=this.remoteVideoAvailable,m.canStartLocalVideo=this.canStartLocalVideo,m}constructor(){this.remoteVideoAvailable=!1,this.canStartLocalVideo=!1}},"MeetingSessionVideoAvailability");c.default=S},ZXtA:function(N,c,d){"use strict";Object.defineProperty(c,"__esModule",{value:!0});const S=.8;let h=o(class{reportEvent(f){const a=f-this.lastReportedEventTimestamp;if(a>=this.reportingPeriodMillis){const n=this.filterCount,i=this.filterTotalMillis;if(this.filterCount=0,this.filterTotalMillis=0,this.lastReportedEventTimestamp=f,this.framerate===0||n===0)return;const e=Math.round(i/n),t=Math.round(this.framerate*(a/1e3))-n,r=Math.round(100*i/a);e>=this.filterDurationNotifyMillis&&this.delegate.filterFrameDurationHigh({framesDropped:t,avgFilterDurationMillis:e,framerate:this.framerate,periodMillis:a}),r>=this.filterCPUUtilization&&this.delegate.filterCPUUtilizationHigh({cpuUtilization:r,filterMillis:i,periodMillis:a})}}setSegmentationDuration(){this.filterDurationNotifyMillis=Math.round(1e3/this.framerate*S)}frameReceived(f){f!==this.framerate&&(this.framerate=f,this.logger.info(`frame counter setting frame rate to ${this.framerate}`),this.setSegmentationDuration());const a=Date.now();this.reportEvent(a)}filterSubmitted(){this._processingFilter=!0,this.lastFilterCompleteTimestamp=Date.now()}filterComplete(){this.filterTotalMillis+=Date.now()-this.lastFilterCompleteTimestamp,this._processingFilter=!1,this.filterCount++}get processingSegment(){return this._processingFilter}constructor(f,a,n,i){this.delegate=f,this.reportingPeriodMillis=a,this.filterCPUUtilization=n,this.logger=i,this._processingFilter=!0,this.lastReportedEventTimestamp=0,this.lastFilterCompleteTimestamp=0,this.filterTotalMillis=0,this.filterCount=0,this.framerate=0,this.filterDurationNotifyMillis=0,this.setSegmentationDuration()}},"BackgroundFilterFrameCounter");c.default=h},"ZY/g":function(N,c,d){d("aFj7");for(var S=d("7whZ"),h=d("BRsN"),m=d("ig3W"),f=d("zBWt")("toStringTag"),a="CSSRuleList,CSSStyleDeclaration,CSSValueList,ClientRectList,DOMRectList,DOMStringList,DOMTokenList,DataTransferItemList,FileList,HTMLAllCollection,HTMLCollection,HTMLFormElement,HTMLSelectElement,MediaList,MimeTypeArray,NamedNodeMap,NodeList,PaintRequestList,Plugin,PluginArray,SVGLengthList,SVGNumberList,SVGPathSegList,SVGPointList,SVGStringList,SVGTransformList,SourceBufferList,StyleSheetList,TextTrackCueList,TextTrackList,TouchList".split(","),n=0;n<a.length;n++){var i=a[n],e=S[i],t=e&&e.prototype;t&&!t[f]&&h(t,f,i),m[i]=m.Array}},ZZPe:function(N,c,d){"use strict";var S=this&&this.__awaiter||function(m,f,a,n){function i(e){return e instanceof a?e:new a(function(t){t(e)})}return o(i,"adopt"),new(a||(a=Promise))(function(e,t){function r(v){try{p(n.next(v))}catch(g){t(g)}}o(r,"fulfilled");function l(v){try{p(n.throw(v))}catch(g){t(g)}}o(l,"rejected");function p(v){v.done?e(v.value):i(v.value).then(r,l)}o(p,"step"),p((n=n.apply(m,f||[])).next())})};Object.defineProperty(c,"__esModule",{value:!0});let h=o(class{process(f){return S(this,void 0,void 0,function*(){return f})}destroy(){return S(this,void 0,void 0,function*(){})}},"NoOpVideoFrameProcessor");c.default=h},ZblS:function(N,c,d){d("kcqV");var S=d("VSTI").Object;N.exports=o(function(m,f){return S.getOwnPropertyDescriptor(m,f)},"getOwnPropertyDescriptor")},ZdbB:function(N,c,d){"use strict";var S=this&&this.__awaiter||function(m,f,a,n){function i(e){return e instanceof a?e:new a(function(t){t(e)})}return o(i,"adopt"),new(a||(a=Promise))(function(e,t){function r(v){try{p(n.next(v))}catch(g){t(g)}}o(r,"fulfilled");function l(v){try{p(n.throw(v))}catch(g){t(g)}}o(l,"rejected");function p(v){v.done?e(v.value):i(v.value).then(r,l)}o(p,"step"),p((n=n.apply(m,f||[])).next())})};Object.defineProperty(c,"__esModule",{value:!0});let h=o(class{setEncodingParameters(f){return S(this,void 0,void 0,function*(){if(!this._localCameraTransceiver||this._localCameraTransceiver.direction!=="sendrecv")return;const a=this._localCameraTransceiver.sender;if(!f||f.size===0)return;const n=Array.from(f.values()),i=a.getParameters();if(!i.encodings||i.encodings.length===0)i.encodings=n;else for(const e of i.encodings)for(const t of n){if((e.rid||t.rid)&&e.rid!==t.rid)continue;let r;for(r in t)r==="rid"||r==="codecPayloadType"||t.hasOwnProperty(r)&&(e[r]=t[r])}yield a.setParameters(i)})}localAudioTransceiver(){return this._localAudioTransceiver}localVideoTransceiver(){return this._localCameraTransceiver}setVideoSendingBitrateKbps(f){return S(this,void 0,void 0,function*(){if(!this._localCameraTransceiver||this._localCameraTransceiver.direction!=="sendrecv")return;const a=this._localCameraTransceiver.sender;if(!a||f<=0)return;const n=a.getParameters();n.encodings||(n.encodings=[{}]);for(const i of n.encodings)i.maxBitrate=f*1e3;yield a.setParameters(n)})}setPeer(f){this.peer=f}reset(){this._localCameraTransceiver=null,this._localAudioTransceiver=null,this.videoSubscriptions=[],this.defaultMediaStream=null,this.peer=null}useTransceivers(){return!!this.peer&&typeof this.peer.getTransceivers<"u"}hasVideoInput(){return!(!this._localCameraTransceiver||this._localCameraTransceiver.direction!=="sendrecv")}trackIsVideoInput(f){return this._localCameraTransceiver?f===this._localCameraTransceiver.sender.track||f===this._localCameraTransceiver.receiver.track:!1}setupLocalTransceivers(){this.useTransceivers()&&(!this.defaultMediaStream&&typeof MediaStream<"u"&&(this.defaultMediaStream=new MediaStream),this._localAudioTransceiver||(this._localAudioTransceiver=this.peer.addTransceiver("audio",{direction:"inactive",streams:[this.defaultMediaStream]})),this._localCameraTransceiver||(this._localCameraTransceiver=this.peer.addTransceiver("video",{direction:"inactive",streams:[this.defaultMediaStream]})))}replaceAudioTrack(f){return S(this,void 0,void 0,function*(){return!this._localAudioTransceiver||this._localAudioTransceiver.direction!=="sendrecv"?(this.logger.info("audio transceiver direction is not set up or not activated"),!1):(yield this._localAudioTransceiver.sender.replaceTrack(f),!0)})}setAudioInput(f){return S(this,void 0,void 0,function*(){yield this.setTransceiverInput(this._localAudioTransceiver,f)})}setVideoInput(f){return S(this,void 0,void 0,function*(){yield this.setTransceiverInput(this._localCameraTransceiver,f)})}updateVideoTransceivers(f,a){if(!this.useTransceivers())return a.array();const n=this.peer.getTransceivers();return this.videoSubscriptions=[0],a=a.clone(),this.updateTransceivers(n,f,a),this.logger.debug(()=>this.debugDumpTransceivers()),this.videoSubscriptions}updateTransceivers(f,a,n){const i=n.array();f.length!==0&&!f[0].stop?(this.logger.info("Updating transceivers without `stop` function"),this.updateTransceiverWithoutStop(f,a,i)):f.length!==0&&this.updateTransceiverWithStop(f,a,i);for(const e of i){const t=this.peer.addTransceiver("video",{direction:"recvonly",streams:[new MediaStream]});this.streamIdToTransceiver.set(e,t),this.videoSubscriptions.push(e),this.logger.info(`adding transceiver mid: ${t.mid} subscription: ${e} direction: recvonly`)}}updateTransceiverWithStop(f,a,n){let i=1;this.videoSubscriptions=[0];for(const e of f){if(e===this._localCameraTransceiver||!this.transceiverIsVideo(e)||!e.mid)continue;let t=!1;const r=a.streamIdForTrack("v_"+e.mid);if(e.direction!=="inactive"&&r!==void 0){for(const[l,p]of n.entries())if(a.StreamIdsInSameGroup(r,p)){e.direction="recvonly",this.videoSubscriptions[i]=p,t=!0,this.streamIdToTransceiver.delete(r),this.streamIdToTransceiver.set(p,e),n.splice(l,1);break}}if(!t){this.videoSubscriptions[i]=0,this.logger.info(`Stopping MID: ${e.mid}, direction: ${e.direction}, current direction: ${e.currentDirection}`),e.stop();for(const[l,p]of this.streamIdToTransceiver.entries())e.mid===p.mid&&this.streamIdToTransceiver.delete(l)}i+=1}}updateTransceiverWithoutStop(f,a,n){let i=1;for(const e of f)if(!(e===this._localCameraTransceiver||!this.transceiverIsVideo(e))){if(this.videoSubscriptions[i]=0,e.direction!=="inactive"){const t=a.streamIdForTrack("v_"+e.mid);if(t!==void 0){for(const[r,l]of n.entries())if(a.StreamIdsInSameGroup(t,l)){e.direction="recvonly",this.videoSubscriptions[i]=l,this.streamIdToTransceiver.delete(t),this.streamIdToTransceiver.set(l,e),n.splice(r,1);break}}}i+=1}i=1;for(const e of f)if(!(e===this._localCameraTransceiver||!this.transceiverIsVideo(e))){if(e.direction==="inactive"&&n.length>0){e.direction="recvonly";const t=n.shift();this.videoSubscriptions[i]=t,this.streamIdToTransceiver.set(t,e)}else if(this.videoSubscriptions[i]===0){e.direction="inactive";for(const[t,r]of this.streamIdToTransceiver.entries())e===r&&this.streamIdToTransceiver.delete(t)}i+=1}}getMidForStreamId(f){var a;return(a=this.streamIdToTransceiver.get(f))===null||a===void 0?void 0:a.mid}setStreamIdForMid(f,a){for(const[n,i]of this.streamIdToTransceiver.entries())if(i.mid===f){this.streamIdToTransceiver.delete(n),this.streamIdToTransceiver.set(a,i);return}}transceiverIsVideo(f){return f.receiver&&f.receiver.track&&f.receiver.track.kind==="video"||f.sender&&f.sender.track&&f.sender.track.kind==="video"}debugDumpTransceivers(){let f="",a=0;for(const n of this.peer.getTransceivers())this.transceiverIsVideo(n)&&(f+=`transceiver index=${a} mid=${n.mid} subscription=${this.videoSubscriptions[a]} direction=${n.direction}
`,a+=1);return f}setTransceiverInput(f,a){return S(this,void 0,void 0,function*(){f&&(a?f.direction="sendrecv":f.direction="inactive",yield f.sender.replaceTrack(a))})}constructor(f,a){this.logger=f,this.browserBehavior=a,this._localCameraTransceiver=null,this._localAudioTransceiver=null,this.videoSubscriptions=[],this.defaultMediaStream=null,this.peer=null,this.streamIdToTransceiver=new Map}},"DefaultTransceiverController");c.default=h},Zful:function(N,c,d){"use strict";Object.defineProperty(c,"__esModule",{value:!0});const S=d("oHvd");let h=o(class Vs extends S.default{health(){if(this.currentData.isConnectionStartRecent(Vs.CONNECTION_WAIT_TIME_MS))return 1;const a=this.currentData.consecutiveStatsWithNoPackets>=Vs.CONNECTION_UNHEALTHY_THRESHOLD,n=this.currentData.consecutiveMissedPongs>=Vs.MISSED_PONGS_THRESHOLD;this.currentData.audioSpeakerDelayMs>Vs.MAXIMUM_AUDIO_DELAY_MS?this.audioDelayPointsOverMaximum+=1:this.audioDelayPointsOverMaximum=0;const i=this.audioDelayPointsOverMaximum>Vs.MAXIMUM_AUDIO_DELAY_DATA_POINTS;return i&&(this.audioDelayPointsOverMaximum=0),a||n||i?(this.logger.warn(`reconnection recommended due to: no packets received: ${a}, missed pongs: ${n}, bad audio delay: ${i}`),0):1}constructor(f,a,n){super(a,n,"Reconnection Health"),this.logger=f,this.audioDelayPointsOverMaximum=0,Vs.CONNECTION_UNHEALTHY_THRESHOLD=a.connectionUnhealthyThreshold,Vs.CONNECTION_WAIT_TIME_MS=a.connectionWaitTimeMs,Vs.MISSED_PONGS_THRESHOLD=a.missedPongsUpperThreshold,Vs.MAXIMUM_AUDIO_DELAY_MS=a.maximumAudioDelayMs,Vs.MAXIMUM_AUDIO_DELAY_DATA_POINTS=a.maximumAudioDelayDataPoints}},"ReconnectionHealthPolicy");c.default=h},Zhxc:function(N,c,d){"use strict";var S=d("c3gm"),h=d("XFRR"),m=4294967295;function f(B){this.__wrapped__=B,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=m,this.__views__=[]}o(f,"LazyWrapper"),f.prototype=Object(S.a)(h.a.prototype),f.prototype.constructor=f;var a=f,n=d("+j7y"),i=d("ftz4"),e=d("Gn1W"),t=d("/1FC"),r=d("EUcb"),l=d("eAQQ");function p(B){if(B instanceof a)return B.clone();var j=new e.a(B.__wrapped__,B.__chain__);return j.__actions__=Object(l.a)(B.__actions__),j.__index__=B.__index__,j.__values__=B.__values__,j}o(p,"wrapperClone");var v=p,g=Object.prototype,u=g.hasOwnProperty;function s(B){if(Object(r.a)(B)&&!Object(t.a)(B)&&!(B instanceof a)){if(B instanceof e.a)return B;if(u.call(B,"__wrapped__"))return v(B)}return new e.a(B)}o(s,"lodash"),s.prototype=h.a.prototype,s.prototype.constructor=s;var I=s;function M(B){var j=Object(i.a)(B),A=I[j];if(typeof A!="function"||!(j in a.prototype))return!1;if(B===A)return!0;var D=Object(n.a)(A);return!!D&&B===D[0]}o(M,"isLaziable");var R=c.a=M},Zit3:function(N,c,d){"use strict";d.r(c),d.d(c,"__Client",function(){return Js}),d.d(c,"ChimeSDKMessagingClient",function(){return So}),d.d(c,"ChimeSDKMessaging",function(){return kc}),d.d(c,"$Command",function(){return In}),d.d(c,"AssociateChannelFlowCommand",function(){return sc}),d.d(c,"BatchCreateChannelMembershipCommand",function(){return ac}),d.d(c,"ChannelFlowCallbackCommand",function(){return lc}),d.d(c,"CreateChannelBanCommand",function(){return cc}),d.d(c,"CreateChannelCommand",function(){return dc}),d.d(c,"CreateChannelFlowCommand",function(){return uc}),d.d(c,"CreateChannelMembershipCommand",function(){return Ci}),d.d(c,"CreateChannelModeratorCommand",function(){return gn}),d.d(c,"DeleteChannelBanCommand",function(){return pa}),d.d(c,"DeleteChannelCommand",function(){return ja}),d.d(c,"DeleteChannelFlowCommand",function(){return Wa}),d.d(c,"DeleteChannelMembershipCommand",function(){return Ga}),d.d(c,"DeleteChannelMessageCommand",function(){return Ls}),d.d(c,"DeleteChannelModeratorCommand",function(){return Vi}),d.d(c,"DeleteMessagingStreamingConfigurationsCommand",function(){return ji}),d.d(c,"DescribeChannelBanCommand",function(){return ea}),d.d(c,"DescribeChannelCommand",function(){return Wn}),d.d(c,"DescribeChannelFlowCommand",function(){return Sr}),d.d(c,"DescribeChannelMembershipCommand",function(){return hs}),d.d(c,"DescribeChannelMembershipForAppInstanceUserCommand",function(){return Wi}),d.d(c,"DescribeChannelModeratedByAppInstanceUserCommand",function(){return yl}),d.d(c,"DescribeChannelModeratorCommand",function(){return ma}),d.d(c,"DisassociateChannelFlowCommand",function(){return $a}),d.d(c,"GetChannelMembershipPreferencesCommand",function(){return Ka}),d.d(c,"GetChannelMessageCommand",function(){return ga}),d.d(c,"GetChannelMessageStatusCommand",function(){return Cl}),d.d(c,"GetMessagingSessionEndpointCommand",function(){return bl}),d.d(c,"GetMessagingStreamingConfigurationsCommand",function(){return El}),d.d(c,"ListChannelBansCommand",function(){return Ja}),d.d(c,"ListChannelFlowsCommand",function(){return _s}),d.d(c,"ListChannelMembershipsCommand",function(){return Po}),d.d(c,"ListChannelMembershipsForAppInstanceUserCommand",function(){return Ns}),d.d(c,"ListChannelMessagesCommand",function(){return va}),d.d(c,"ListChannelModeratorsCommand",function(){return Sa}),d.d(c,"ListChannelsAssociatedWithChannelFlowCommand",function(){return fs}),d.d(c,"ListChannelsCommand",function(){return ya}),d.d(c,"ListChannelsModeratedByAppInstanceUserCommand",function(){return Ya}),d.d(c,"ListSubChannelsCommand",function(){return Xa}),d.d(c,"ListTagsForResourceCommand",function(){return Tl}),d.d(c,"PutChannelExpirationSettingsCommand",function(){return Ko}),d.d(c,"PutChannelMembershipPreferencesCommand",function(){return Il}),d.d(c,"PutMessagingStreamingConfigurationsCommand",function(){return Za}),d.d(c,"RedactChannelMessageCommand",function(){return wl}),d.d(c,"SearchChannelsCommand",function(){return Ca}),d.d(c,"SendChannelMessageCommand",function(){return ba}),d.d(c,"TagResourceCommand",function(){return Ol}),d.d(c,"UntagResourceCommand",function(){return Ml}),d.d(c,"UpdateChannelCommand",function(){return st}),d.d(c,"UpdateChannelFlowCommand",function(){return Qa}),d.d(c,"UpdateChannelMessageCommand",function(){return no}),d.d(c,"UpdateChannelReadMarkerCommand",function(){return ps}),d.d(c,"paginateListChannelBans",function(){return fc}),d.d(c,"paginateListChannelFlows",function(){return Sh}),d.d(c,"paginateListChannelMembershipsForAppInstanceUser",function(){return Nc}),d.d(c,"paginateListChannelMemberships",function(){return yh}),d.d(c,"paginateListChannelMessages",function(){return Bs}),d.d(c,"paginateListChannelModerators",function(){return Md}),d.d(c,"paginateListChannelsAssociatedWithChannelFlow",function(){return Ad}),d.d(c,"paginateListChannelsModeratedByAppInstanceUser",function(){return Vc}),d.d(c,"paginateListChannels",function(){return Fs}),d.d(c,"paginateListSubChannels",function(){return Wc}),d.d(c,"paginateSearchChannels",function(){return tl}),d.d(c,"AllowNotifications",function(){return Sf}),d.d(c,"ChannelMembershipType",function(){return yf}),d.d(c,"ErrorCode",function(){return Cf}),d.d(c,"BadRequestException",function(){return $l}),d.d(c,"ConflictException",function(){return Kl}),d.d(c,"ForbiddenException",function(){return Jl}),d.d(c,"NotFoundException",function(){return Yl}),d.d(c,"ServiceFailureException",function(){return Xl}),d.d(c,"ServiceUnavailableException",function(){return Zl}),d.d(c,"ThrottledClientException",function(){return Ql}),d.d(c,"UnauthorizedClientException",function(){return ql}),d.d(c,"ResourceLimitExceededException",function(){return ec}),d.d(c,"ExpirationCriterion",function(){return bf}),d.d(c,"ChannelMode",function(){return Ef}),d.d(c,"ChannelPrivacy",function(){return Tf}),d.d(c,"InvocationType",function(){return If}),d.d(c,"FallbackAction",function(){return wf}),d.d(c,"PushNotificationType",function(){return Of}),d.d(c,"ChannelMessagePersistenceType",function(){return Mf}),d.d(c,"ChannelMessageStatus",function(){return Af}),d.d(c,"ChannelMessageType",function(){return Rf}),d.d(c,"MessagingDataType",function(){return Pf}),d.d(c,"SortOrder",function(){return Df}),d.d(c,"SearchFieldKey",function(){return xf}),d.d(c,"SearchFieldOperator",function(){return kf}),d.d(c,"IdentityFilterSensitiveLog",function(){return gr}),d.d(c,"BatchChannelMembershipsFilterSensitiveLog",function(){return ou}),d.d(c,"BatchCreateChannelMembershipResponseFilterSensitiveLog",function(){return su}),d.d(c,"ChannelFilterSensitiveLog",function(){return au}),d.d(c,"ChannelAssociatedWithFlowSummaryFilterSensitiveLog",function(){return lu}),d.d(c,"ChannelBanFilterSensitiveLog",function(){return cu}),d.d(c,"ChannelBanSummaryFilterSensitiveLog",function(){return du}),d.d(c,"ProcessorFilterSensitiveLog",function(){return tc}),d.d(c,"ChannelFlowFilterSensitiveLog",function(){return uu}),d.d(c,"MessageAttributeValueFilterSensitiveLog",function(){return nc}),d.d(c,"PushNotificationConfigurationFilterSensitiveLog",function(){return vd}),d.d(c,"ChannelMessageCallbackFilterSensitiveLog",function(){return hu}),d.d(c,"ChannelFlowCallbackRequestFilterSensitiveLog",function(){return fu}),d.d(c,"ChannelFlowSummaryFilterSensitiveLog",function(){return pu}),d.d(c,"ChannelMembershipFilterSensitiveLog",function(){return mu}),d.d(c,"ChannelSummaryFilterSensitiveLog",function(){return ic}),d.d(c,"ChannelMembershipForAppInstanceUserSummaryFilterSensitiveLog",function(){return Sd}),d.d(c,"PushNotificationPreferencesFilterSensitiveLog",function(){return gu}),d.d(c,"ChannelMembershipPreferencesFilterSensitiveLog",function(){return xc}),d.d(c,"ChannelMembershipSummaryFilterSensitiveLog",function(){return vu}),d.d(c,"ChannelMessageFilterSensitiveLog",function(){return Su}),d.d(c,"ChannelMessageSummaryFilterSensitiveLog",function(){return yu}),d.d(c,"ChannelModeratedByAppInstanceUserSummaryFilterSensitiveLog",function(){return yd}),d.d(c,"ChannelModeratorFilterSensitiveLog",function(){return Cu}),d.d(c,"ChannelModeratorSummaryFilterSensitiveLog",function(){return bu}),d.d(c,"TagFilterSensitiveLog",function(){return rc}),d.d(c,"CreateChannelRequestFilterSensitiveLog",function(){return Eu}),d.d(c,"CreateChannelBanResponseFilterSensitiveLog",function(){return Tu}),d.d(c,"CreateChannelFlowRequestFilterSensitiveLog",function(){return Iu}),d.d(c,"CreateChannelMembershipResponseFilterSensitiveLog",function(){return wu}),d.d(c,"CreateChannelModeratorResponseFilterSensitiveLog",function(){return Ou}),d.d(c,"DescribeChannelResponseFilterSensitiveLog",function(){return Mu}),d.d(c,"DescribeChannelBanResponseFilterSensitiveLog",function(){return Au}),d.d(c,"DescribeChannelFlowResponseFilterSensitiveLog",function(){return Ru}),d.d(c,"DescribeChannelMembershipResponseFilterSensitiveLog",function(){return Pu}),d.d(c,"DescribeChannelMembershipForAppInstanceUserResponseFilterSensitiveLog",function(){return Du}),d.d(c,"DescribeChannelModeratedByAppInstanceUserResponseFilterSensitiveLog",function(){return xu}),d.d(c,"DescribeChannelModeratorResponseFilterSensitiveLog",function(){return ku}),d.d(c,"GetChannelMembershipPreferencesResponseFilterSensitiveLog",function(){return Lu}),d.d(c,"GetChannelMessageResponseFilterSensitiveLog",function(){return _u}),d.d(c,"ListChannelBansRequestFilterSensitiveLog",function(){return Nu}),d.d(c,"ListChannelBansResponseFilterSensitiveLog",function(){return Bu}),d.d(c,"ListChannelFlowsRequestFilterSensitiveLog",function(){return Fu}),d.d(c,"ListChannelFlowsResponseFilterSensitiveLog",function(){return Uu}),d.d(c,"ListChannelMembershipsRequestFilterSensitiveLog",function(){return Vu}),d.d(c,"ListChannelMembershipsResponseFilterSensitiveLog",function(){return Hu}),d.d(c,"ListChannelMembershipsForAppInstanceUserRequestFilterSensitiveLog",function(){return zu}),d.d(c,"ListChannelMembershipsForAppInstanceUserResponseFilterSensitiveLog",function(){return ju}),d.d(c,"ListChannelMessagesRequestFilterSensitiveLog",function(){return Wu}),d.d(c,"ListChannelMessagesResponseFilterSensitiveLog",function(){return Gu}),d.d(c,"ListChannelModeratorsRequestFilterSensitiveLog",function(){return $u}),d.d(c,"ListChannelModeratorsResponseFilterSensitiveLog",function(){return Ku}),d.d(c,"ListChannelsRequestFilterSensitiveLog",function(){return Ju}),d.d(c,"ListChannelsResponseFilterSensitiveLog",function(){return Yu}),d.d(c,"ListChannelsAssociatedWithChannelFlowRequestFilterSensitiveLog",function(){return Xu}),d.d(c,"ListChannelsAssociatedWithChannelFlowResponseFilterSensitiveLog",function(){return Zu}),d.d(c,"ListChannelsModeratedByAppInstanceUserRequestFilterSensitiveLog",function(){return Qu}),d.d(c,"ListChannelsModeratedByAppInstanceUserResponseFilterSensitiveLog",function(){return qu}),d.d(c,"ListSubChannelsRequestFilterSensitiveLog",function(){return eh}),d.d(c,"ListSubChannelsResponseFilterSensitiveLog",function(){return th}),d.d(c,"ListTagsForResourceResponseFilterSensitiveLog",function(){return nh}),d.d(c,"PutChannelMembershipPreferencesRequestFilterSensitiveLog",function(){return ih}),d.d(c,"PutChannelMembershipPreferencesResponseFilterSensitiveLog",function(){return rh}),d.d(c,"SearchChannelsRequestFilterSensitiveLog",function(){return oh}),d.d(c,"SearchChannelsResponseFilterSensitiveLog",function(){return sh}),d.d(c,"SendChannelMessageRequestFilterSensitiveLog",function(){return ah}),d.d(c,"TagResourceRequestFilterSensitiveLog",function(){return lh}),d.d(c,"UntagResourceRequestFilterSensitiveLog",function(){return ch}),d.d(c,"UpdateChannelRequestFilterSensitiveLog",function(){return dh}),d.d(c,"UpdateChannelFlowRequestFilterSensitiveLog",function(){return uh}),d.d(c,"UpdateChannelMessageRequestFilterSensitiveLog",function(){return hh}),d.d(c,"ChimeSDKMessagingServiceException",function(){return yo});var S={};d.r(S),d.d(S,"isVirtualHostableS3Bucket",function(){return ls}),d.d(S,"parseArn",function(){return cs}),d.d(S,"partition",function(){return Pa}),d.d(S,"setPartitionInfo",function(){return sa}),d.d(S,"useDefaultPartitionInfo",function(){return ki}),d.d(S,"getUserAgentPrefix",function(){return ss});var h={};d.r(h),d.d(h,"aws",function(){return S}),d.d(h,"booleanEquals",function(){return As}),d.d(h,"getAttr",function(){return he}),d.d(h,"isSet",function(){return re}),d.d(h,"isValidHostLabel",function(){return as}),d.d(h,"not",function(){return q}),d.d(h,"parseURL",function(){return Ae}),d.d(h,"stringEquals",function(){return xe}),d.d(h,"substring",function(){return Ve}),d.d(h,"uriEncode",function(){return He});var m;(function(E){E.ENV="env",E.CONFIG="shared config entry"})(m||(m={}));const f=o((E,y,C)=>{if(y in E){if(E[y]==="true")return!0;if(E[y]==="false")return!1;throw new Error(`Cannot load ${C} "${y}". Expected "true" or "false", got ${E[y]}.`)}},"booleanSelector"),a="AWS_USE_DUALSTACK_ENDPOINT",n="use_dualstack_endpoint",i=!1,e={environmentVariableSelector:E=>f(E,a,m.ENV),configFileSelector:E=>f(E,n,m.CONFIG),default:!1},t="AWS_USE_FIPS_ENDPOINT",r="use_fips_endpoint",l=!1,p={environmentVariableSelector:E=>f(E,t,m.ENV),configFileSelector:E=>f(E,r,m.CONFIG),default:!1},v=o(E=>{if(typeof E=="function")return E;const y=Promise.resolve(E);return()=>y},"normalizeProvider"),g=o(E=>{const{endpoint:y,urlParser:C}=E;var T,_;return{...E,tls:(T=E.tls)!==null&&T!==void 0?T:!0,endpoint:v(typeof y=="string"?C(y):y),isCustomEndpoint:!0,useDualstackEndpoint:v((_=E.useDualstackEndpoint)!==null&&_!==void 0?_:!1)}},"resolveCustomEndpointsConfig");var u=d("9oTK");const s=function(){var E=Object(u.coroutine)(function*(y){const{tls:C=!0}=y,T=yield y.region();if(!new RegExp(/^([a-zA-Z0-9]|[a-zA-Z0-9][a-zA-Z0-9-]{0,61}[a-zA-Z0-9])$/).test(T))throw new Error("Invalid region in client config");const U=yield y.useDualstackEndpoint(),W=yield y.useFipsEndpoint();var fe;const{hostname:ne}=(fe=yield y.regionInfoProvider(T,{useDualstackEndpoint:U,useFipsEndpoint:W}))!==null&&fe!==void 0?fe:{};if(!ne)throw new Error("Cannot resolve hostname from client config");return y.urlParser(`${C?"https:":"http:"}//${ne}`)});return o(function(C){return E.apply(this,arguments)},"getEndpointFromRegion")}(),I=o(E=>{var y;const C=v((y=E.useDualstackEndpoint)!==null&&y!==void 0?y:!1),{endpoint:T,useFipsEndpoint:_,urlParser:U}=E;var W;return{...E,tls:(W=E.tls)!==null&&W!==void 0?W:!0,endpoint:T?v(typeof T=="string"?U(T):T):()=>s({...E,useDualstackEndpoint:C,useFipsEndpoint:_}),isCustomEndpoint:!!T,useDualstackEndpoint:C}},"resolveEndpointsConfig"),M="AWS_REGION",R="region",B={environmentVariableSelector:E=>E[M],configFileSelector:E=>E[R],default:()=>{throw new Error("Region is missing")}},j={preferredFile:"credentials"},A=o(E=>typeof E=="string"&&(E.startsWith("fips-")||E.endsWith("-fips")),"isFipsRegion"),D=o(E=>A(E)?["fips-aws-global","aws-fips"].includes(E)?"us-east-1":E.replace(/fips-(dkr-|prod-)?|-fips/,""):E,"getRealRegion"),$=o(E=>{const{region:y,useFipsEndpoint:C}=E;if(!y)throw new Error("Region is missing");return{...E,region:Object(u.coroutine)(function*(){if(typeof y=="string")return D(y);const T=yield y();return D(T)}),useFipsEndpoint:Object(u.coroutine)(function*(){const T=typeof y=="string"?y:yield y();return A(T)?!0:typeof C!="function"?Promise.resolve(!!C):C()})}},"resolveRegionConfig"),O=o(function(){let E=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],{useFipsEndpoint:y,useDualstackEndpoint:C}=arguments.length>1?arguments[1]:void 0;var T;return(T=E.find(_=>{let{tags:U}=_;return y===U.includes("fips")&&C===U.includes("dualstack")}))===null||T===void 0?void 0:T.hostname},"getHostnameFromVariants"),P=o((E,y)=>{let{regionHostname:C,partitionHostname:T}=y;return C||(T?T.replace("{region}",E):void 0)},"getResolvedHostname");var k;const K=o((E,y)=>{let{partitionHash:C}=y;return(k=Object.keys(C||{}).find(T=>C[T].regions.includes(E)))!==null&&k!==void 0?k:"aws"},"getResolvedPartition"),Z=o((E,y)=>{let{signingRegion:C,regionRegex:T,useFipsEndpoint:_}=y;if(C)return C;if(_){const U=T.replace("\\\\","\\").replace(/^\^/g,"\\.").replace(/\$$/g,"\\."),W=E.match(U);if(W)return W[0].slice(1,-1)}},"getResolvedSigningRegion"),Y=o((E,y)=>{let{useFipsEndpoint:C=!1,useDualstackEndpoint:T=!1,signingService:_,regionHash:U,partitionHash:W}=y;var fe,ne,ye,ue,it;const Et=K(E,{partitionHash:W});var Wt;const Vt=E in U?E:(Wt=(fe=W[Et])===null||fe===void 0?void 0:fe.endpoint)!==null&&Wt!==void 0?Wt:E,Ft={useFipsEndpoint:C,useDualstackEndpoint:T},sn=O((ne=U[Vt])===null||ne===void 0?void 0:ne.variants,Ft),Yi=O((ye=W[Et])===null||ye===void 0?void 0:ye.variants,Ft),Ea=P(Vt,{regionHostname:sn,partitionHostname:Yi});if(Ea===void 0)throw new Error(`Endpoint resolution failed for: ${{resolvedRegion:Vt,useFipsEndpoint:C,useDualstackEndpoint:T}}`);const Ta=Z(Ea,{signingRegion:(ue=U[Vt])===null||ue===void 0?void 0:ue.signingRegion,regionRegex:W[Et].regionRegex,useFipsEndpoint:C});return{partition:Et,signingService:_,hostname:Ea,...Ta&&{signingRegion:Ta},...((it=U[Vt])===null||it===void 0?void 0:it.signingService)&&{signingService:U[Vt].signingService}}},"getRegionInfo");var ie;(function(E){E[E.HEADER=0]="HEADER",E[E.TRAILER=1]="TRAILER"})(ie||(ie={}));class ge{add(y){this.values.push(y)}set(y){this.values=y}remove(y){this.values=this.values.filter(C=>C!==y)}toString(){return this.values.map(y=>y.includes(",")||y.includes(" ")?`"${y}"`:y).join(", ")}get(){return this.values}constructor({name:y,kind:C=ie.HEADER,values:T=[]}){this.name=y,this.kind=C,this.values=T}}o(ge,"Field_Field");class Ie{setField(y){this.entries[y.name.toLowerCase()]=y}getField(y){return this.entries[y.toLowerCase()]}removeField(y){delete this.entries[y.toLowerCase()]}getByType(y){return Object.values(this.entries).filter(C=>C.kind===y)}constructor({fields:y=[],encoding:C="utf-8"}){this.entries={},y.forEach(this.setField.bind(this)),this.encoding=C}}o(Ie,"Fields");class le{static isInstance(y){if(!y)return!1;const C=y;return"method"in C&&"protocol"in C&&"hostname"in C&&"path"in C&&typeof C.query=="object"&&typeof C.headers=="object"}clone(){const y=new le({...this,headers:{...this.headers}});return y.query&&(y.query=we(y.query)),y}constructor(y){this.method=y.method||"GET",this.hostname=y.hostname||"localhost",this.port=y.port,this.query=y.query||{},this.headers=y.headers||{},this.body=y.body,this.protocol=y.protocol?y.protocol.slice(-1)!==":"?`${y.protocol}:`:y.protocol:"https:",this.path=y.path?y.path.charAt(0)!=="/"?`/${y.path}`:y.path:"/"}}o(le,"HttpRequest");function we(E){return Object.keys(E).reduce((y,C)=>{const T=E[C];return{...y,[C]:Array.isArray(T)?[...T]:T}},{})}o(we,"cloneQuery");class Be{static isInstance(y){if(!y)return!1;const C=y;return typeof C.statusCode=="number"&&typeof C.headers=="object"}constructor(y){this.statusCode=y.statusCode,this.headers=y.headers||{},this.body=y.body}}o(Be,"HttpResponse");function Re(E){return/^[a-z0-9][a-z0-9\.\-]*[a-z0-9]$/.test(E)}o(Re,"isValidHostname");const Ne="content-length";function _e(E){return y=>function(){var C=Object(u.coroutine)(function*(T){const _=T.request;if(le.isInstance(_)){const{body:U,headers:W}=_;if(U&&Object.keys(W).map(fe=>fe.toLowerCase()).indexOf(Ne)===-1)try{const fe=E(U);_.headers={..._.headers,[Ne]:String(fe)}}catch{}}return y({...T,request:_})});return function(T){return C.apply(this,arguments)}}()}o(_e,"contentLengthMiddleware");const Ze={step:"build",tags:["SET_CONTENT_LENGTH","CONTENT_LENGTH"],name:"contentLengthMiddleware",override:!0},tt=o(E=>({applyToStack:y=>{y.add(_e(E.bodyLengthChecker),Ze)}}),"getContentLengthPlugin"),$e=function(){var E=Object(u.coroutine)(function*(y){const C=(y==null?void 0:y.Bucket)||"";if(typeof y.Bucket=="string"&&(y.Bucket=C.replace(/#/g,encodeURIComponent("#")).replace(/\?/g,encodeURIComponent("?"))),Un(C)){if(y.ForcePathStyle===!0)throw new Error("Path-style addressing cannot be used with ARN buckets")}else(!un(C)||C.indexOf(".")!==-1&&!String(y.Endpoint).startsWith("http:")||C.toLowerCase()!==C||C.length<3)&&(y.ForcePathStyle=!0);return y.DisableMultiRegionAccessPoints&&(y.disableMultiRegionAccessPoints=!0,y.DisableMRAP=!0),y});return o(function(C){return E.apply(this,arguments)},"resolveParamsForS3")}(),at=/^[a-z0-9][a-z0-9\.\-]{1,61}[a-z0-9]$/,lt=/(\d+\.){3}\d+/,ot=/\.\./,Gt=/\./,Zt=/^(.+\.)?s3(-fips)?(\.dualstack)?[.-]([a-z0-9-]+)\./,un=o(E=>at.test(E)&&!lt.test(E)&&!ot.test(E),"isDnsCompatibleBucketName"),Un=o(E=>{const[y,C,T,_,U,W]=E.split(":"),fe=y==="arn"&&E.split(":").length>=6,ne=[y,C,T,U,W].filter(Boolean).length===5;if(fe&&!ne)throw new Error(`Invalid ARN: ${E} was an invalid ARN.`);return y==="arn"&&!!C&&!!T&&!!U&&!!W},"isArnBucketName"),jn=o((E,y,C)=>{const T=function(){var _=Object(u.coroutine)(function*(){var U;const W=(U=C[E])!==null&&U!==void 0?U:C[y];return typeof W=="function"?W():W});return o(function(){return _.apply(this,arguments)},"configProvider")}();return E==="endpoint"||y==="endpoint"?Object(u.coroutine)(function*(){const _=yield T();if(_&&typeof _=="object"){if("url"in _)return _.url.href;if("hostname"in _){const{protocol:U,hostname:W,port:fe,path:ne}=_;return`${U}//${W}${fe?":"+fe:""}${ne}`}}return _}):T},"createConfigValueProvider"),ci=function(){var E=Object(u.coroutine)(function*(y,C,T,_){const U=yield fn(y,C,T);if(typeof T.endpointProvider!="function")throw new Error("config.endpointProvider is not set.");return T.endpointProvider(U,_)});return o(function(C,T,_,U){return E.apply(this,arguments)},"getEndpointFromInstructions")}(),fn=function(){var E=Object(u.coroutine)(function*(y,C,T){var _;const U={},W=(C==null||(_=C.getEndpointParameterInstructions)===null||_===void 0?void 0:_.call(C))||{};for(const[fe,ne]of Object.entries(W))switch(ne.type){case"staticContextParams":U[fe]=ne.value;break;case"contextParams":U[fe]=y[ne.name];break;case"clientContextParams":case"builtInParams":U[fe]=yield jn(ne.name,fe,T)();break;default:throw new Error("Unrecognized endpoint parameter instruction: "+JSON.stringify(ne))}return Object.keys(W).length===0&&Object.assign(U,T),String(T.serviceId).toLowerCase()==="s3"&&(yield $e(U)),U});return o(function(C,T,_){return E.apply(this,arguments)},"resolveParams")}();function ri(E){const y={};if(E=E.replace(/^\?/,""),E)for(const C of E.split("&")){let[T,_=null]=C.split("=");T=decodeURIComponent(T),_&&(_=decodeURIComponent(_)),T in y?Array.isArray(y[T])?y[T].push(_):y[T]=[y[T],_]:y[T]=_}return y}o(ri,"parseQueryString");const gi=o(E=>{if(typeof E=="string")return gi(new URL(E));const{hostname:y,pathname:C,port:T,protocol:_,search:U}=E;let W;return U&&(W=ri(U)),{hostname:y,port:T?parseInt(T):void 0,protocol:_,path:C,query:W}},"parseUrl"),Nn=o(E=>typeof E=="object"?"url"in E?gi(E.url):E:gi(E),"toEndpointV1"),Ti=o(E=>{let{config:y,instructions:C}=E;return(T,_)=>function(){var U=Object(u.coroutine)(function*(W){var fe,ne;const ye=yield ci(W.input,{getEndpointParameterInstructions(){return C}},{...y},_);_.endpointV2=ye,_.authSchemes=(fe=ye.properties)===null||fe===void 0?void 0:fe.authSchemes;const ue=(ne=_.authSchemes)===null||ne===void 0?void 0:ne[0];return ue&&(_.signing_region=ue.signingRegion,_.signing_service=ue.signingName),T({...W})});return function(W){return U.apply(this,arguments)}}()},"endpointMiddleware"),Bi=o((E,y)=>(C,T)=>function(){var _=Object(u.coroutine)(function*(U){const{response:W}=yield C(U);try{const fe=yield y(W,E);return{response:W,output:fe}}catch(fe){if(Object.defineProperty(fe,"$response",{value:W}),!("$metadata"in fe)){const ne="Deserialization error: to see the raw response, inspect the hidden field {error}.$response on this object.";fe.message+=`
  `+ne}throw fe}});return function(U){return _.apply(this,arguments)}}(),"deserializerMiddleware"),vn=o((E,y)=>(C,T)=>function(){var _=Object(u.coroutine)(function*(U){var W;const fe=!((W=T.endpointV2)===null||W===void 0)&&W.url&&E.urlParser?Object(u.coroutine)(function*(){return E.urlParser(T.endpointV2.url)}):E.endpoint;if(!fe)throw new Error("No valid endpoint provider available.");const ne=yield y(U.input,{...E,endpoint:fe});return C({...U,request:ne})});return function(U){return _.apply(this,arguments)}}(),"serializerMiddleware"),Mn={name:"deserializerMiddleware",step:"deserialize",tags:["DESERIALIZER"],override:!0},Ot={name:"serializerMiddleware",step:"serialize",tags:["SERIALIZER"],override:!0};function Ke(E,y,C){return{applyToStack:T=>{T.add(Bi(E,C),Mn),T.add(vn(E,y),Ot)}}}o(Ke,"getSerdePlugin");const gt={step:"serialize",tags:["ENDPOINT_PARAMETERS","ENDPOINT_V2","ENDPOINT"],name:"endpointV2Middleware",override:!0,relation:"before",toMiddleware:Ot.name},ht=o((E,y)=>({applyToStack:C=>{C.addRelativeTo(Ti({config:E,instructions:y}),gt)}}),"getEndpointPlugin"),en=o(E=>{var y;const C=(y=E.tls)!==null&&y!==void 0?y:!0,{endpoint:T}=E,_=T!=null?Object(u.coroutine)(function*(){return Nn(yield v(T)())}):void 0,U=!!T;var W,fe;return{...E,endpoint:_,tls:C,isCustomEndpoint:U,useDualstackEndpoint:v((W=E.useDualstackEndpoint)!==null&&W!==void 0?W:!1),useFipsEndpoint:v((fe=E.useFipsEndpoint)!==null&&fe!==void 0?fe:!1)}},"resolveEndpointConfig");function Kn(E){return E}o(Kn,"resolveHostHeaderConfig");const li=o(E=>y=>function(){var C=Object(u.coroutine)(function*(T){if(!le.isInstance(T.request))return y(T);const{request:_}=T,{handlerProtocol:U=""}=E.requestHandler.metadata||{};if(U.indexOf("h2")>=0&&!_.headers[":authority"])delete _.headers.host,_.headers[":authority"]="";else if(!_.headers.host){let W=_.hostname;_.port!=null&&(W+=`:${_.port}`),_.headers.host=W}return y(T)});return function(T){return C.apply(this,arguments)}}(),"hostHeaderMiddleware"),Ee={name:"hostHeaderMiddleware",step:"build",priority:"low",tags:["HOST"],override:!0},Pe=o(E=>({applyToStack:y=>{y.add(li(E),Ee)}}),"getHostHeaderPlugin"),Fe=o(()=>(E,y)=>function(){var C=Object(u.coroutine)(function*(T){try{var _;const W=yield E(T),{clientName:fe,commandName:ne,logger:ye,dynamoDbDocumentClientOptions:ue={}}=y,{overrideInputFilterSensitiveLog:it,overrideOutputFilterSensitiveLog:Et}=ue,Wt=it??y.inputFilterSensitiveLog,Vt=Et??y.outputFilterSensitiveLog,{$metadata:Ft,...sn}=W.output;return ye==null||(_=ye.info)===null||_===void 0||_.call(ye,{clientName:fe,commandName:ne,input:Wt(T.input),output:Vt(sn),metadata:Ft}),W}catch(W){var U;const{clientName:fe,commandName:ne,logger:ye,dynamoDbDocumentClientOptions:ue={}}=y,{overrideInputFilterSensitiveLog:it}=ue,Et=it??y.inputFilterSensitiveLog;throw ye==null||(U=ye.error)===null||U===void 0||U.call(ye,{clientName:fe,commandName:ne,input:Et(T.input),error:W,metadata:W.$metadata}),W}});return function(T){return C.apply(this,arguments)}}(),"loggerMiddleware"),Dt={name:"loggerMiddleware",tags:["LOGGER"],step:"initialize",override:!0},zt=o(E=>({applyToStack:y=>{y.add(Fe(),Dt)}}),"getLoggerPlugin"),Ut="X-Amzn-Trace-Id",bn="AWS_LAMBDA_FUNCTION_NAME",wn="_X_AMZN_TRACE_ID",pn=o(E=>y=>function(){var C=Object(u.coroutine)(function*(T){const{request:_}=T;if(!le.isInstance(_)||E.runtime!=="node"||_.headers.hasOwnProperty(Ut))return y(T);const U=Object({NODE_ENV:"production"})[bn],W=Object({NODE_ENV:"production"})[wn],fe=o(ne=>typeof ne=="string"&&ne.length>0,"nonEmptyString");return fe(U)&&fe(W)&&(_.headers[Ut]=W),y({...T,request:_})});return function(T){return C.apply(this,arguments)}}(),"recursionDetectionMiddleware"),xt={step:"build",tags:["RECURSION_DETECTION"],name:"recursionDetectionMiddleware",override:!0,priority:"low"},Vn=o(E=>({applyToStack:y=>{y.add(pn(E),xt)}}),"getRecursionDetectionPlugin");var on;(function(E){E.STANDARD="standard",E.ADAPTIVE="adaptive"})(on||(on={}));const Xn=3,vi=on.STANDARD,kr=["AuthFailure","InvalidSignatureException","RequestExpired","RequestInTheFuture","RequestTimeTooSkewed","SignatureDoesNotMatch"],Gr=["BandwidthLimitExceeded","EC2ThrottledException","LimitExceededException","PriorRequestNotComplete","ProvisionedThroughputExceededException","RequestLimitExceeded","RequestThrottled","RequestThrottledException","SlowDown","ThrottledException","Throttling","ThrottlingException","TooManyRequestsException","TransactionInProgressException"],Lr=["AbortError","TimeoutError","RequestTimeout","RequestTimeoutException"],hi=[500,502,503,504],_r=["ECONNRESET","ECONNREFUSED","EPIPE","ETIMEDOUT"],Ii=o(E=>E.$retryable!==void 0,"isRetryableByTrait"),Nr=o(E=>kr.includes(E.name),"isClockSkewError"),or=o(E=>{var y,C;return((y=E.$metadata)===null||y===void 0?void 0:y.httpStatusCode)===429||Gr.includes(E.name)||((C=E.$retryable)===null||C===void 0?void 0:C.throttling)==!0},"isThrottlingError"),fi=o(E=>{var y;return Lr.includes(E.name)||_r.includes((E==null?void 0:E.code)||"")||hi.includes(((y=E.$metadata)===null||y===void 0?void 0:y.httpStatusCode)||0)},"isTransientError"),Er=o(E=>{var y;if(((y=E.$metadata)===null||y===void 0?void 0:y.httpStatusCode)!==void 0){const C=E.$metadata.httpStatusCode;return 500<=C&&C<=599&&!fi(E)}return!1},"isServerError");class oi{getCurrentTimeInSeconds(){return Date.now()/1e3}getSendToken(){var y=this;return Object(u.coroutine)(function*(){return y.acquireTokenBucket(1)})()}acquireTokenBucket(y){var C=this;return Object(u.coroutine)(function*(){if(C.enabled){if(C.refillTokenBucket(),y>C.currentCapacity){const T=(y-C.currentCapacity)/C.fillRate*1e3;yield new Promise(_=>setTimeout(_,T))}C.currentCapacity=C.currentCapacity-y}})()}refillTokenBucket(){const y=this.getCurrentTimeInSeconds();if(!this.lastTimestamp){this.lastTimestamp=y;return}const C=(y-this.lastTimestamp)*this.fillRate;this.currentCapacity=Math.min(this.maxCapacity,this.currentCapacity+C),this.lastTimestamp=y}updateClientSendingRate(y){let C;if(this.updateMeasuredRate(),or(y)){const _=this.enabled?Math.min(this.measuredTxRate,this.fillRate):this.measuredTxRate;this.lastMaxRate=_,this.calculateTimeWindow(),this.lastThrottleTime=this.getCurrentTimeInSeconds(),C=this.cubicThrottle(_),this.enableTokenBucket()}else this.calculateTimeWindow(),C=this.cubicSuccess(this.getCurrentTimeInSeconds());const T=Math.min(C,2*this.measuredTxRate);this.updateTokenBucketRate(T)}calculateTimeWindow(){this.timeWindow=this.getPrecise(Math.pow(this.lastMaxRate*(1-this.beta)/this.scaleConstant,1/3))}cubicThrottle(y){return this.getPrecise(y*this.beta)}cubicSuccess(y){return this.getPrecise(this.scaleConstant*Math.pow(y-this.lastThrottleTime-this.timeWindow,3)+this.lastMaxRate)}enableTokenBucket(){this.enabled=!0}updateTokenBucketRate(y){this.refillTokenBucket(),this.fillRate=Math.max(y,this.minFillRate),this.maxCapacity=Math.max(y,this.minCapacity),this.currentCapacity=Math.min(this.currentCapacity,this.maxCapacity)}updateMeasuredRate(){const y=this.getCurrentTimeInSeconds(),C=Math.floor(y*2)/2;if(this.requestCount++,C>this.lastTxRateBucket){const T=this.requestCount/(C-this.lastTxRateBucket);this.measuredTxRate=this.getPrecise(T*this.smooth+this.measuredTxRate*(1-this.smooth)),this.requestCount=0,this.lastTxRateBucket=C}}getPrecise(y){return parseFloat(y.toFixed(8))}constructor(y){this.currentCapacity=0,this.enabled=!1,this.lastMaxRate=0,this.measuredTxRate=0,this.requestCount=0,this.lastTimestamp=0,this.timeWindow=0;var C;this.beta=(C=y==null?void 0:y.beta)!==null&&C!==void 0?C:.7;var T;this.minCapacity=(T=y==null?void 0:y.minCapacity)!==null&&T!==void 0?T:1;var _;this.minFillRate=(_=y==null?void 0:y.minFillRate)!==null&&_!==void 0?_:.5;var U;this.scaleConstant=(U=y==null?void 0:y.scaleConstant)!==null&&U!==void 0?U:.4;var W;this.smooth=(W=y==null?void 0:y.smooth)!==null&&W!==void 0?W:.8;const fe=this.getCurrentTimeInSeconds();this.lastThrottleTime=fe,this.lastTxRateBucket=Math.floor(this.getCurrentTimeInSeconds()),this.fillRate=this.minFillRate,this.maxCapacity=this.minCapacity}}o(oi,"DefaultRateLimiter_DefaultRateLimiter");const tr=100,Jn=20*1e3,sr=500,$i=500,Tr=5,Ir=10,Ki=1,Or="amz-sdk-invocation-id",H="amz-sdk-request",te=o(()=>{let E=tr;return{computeNextBackoffDelay:o(T=>Math.floor(Math.min(Jn,Math.random()*2**T*E)),"computeNextBackoffDelay"),setDelayBase:o(T=>{E=T},"setDelayBase")}},"getDefaultRetryBackoffStrategy"),Oe=o(E=>{let{retryDelay:y,retryCount:C,retryCost:T}=E;return{getRetryCount:o(()=>C,"getRetryCount"),getRetryDelay:o(()=>Math.min(Jn,y),"getRetryDelay"),getRetryCost:o(()=>T,"getRetryCost")}},"createDefaultRetryToken");class ke{acquireInitialRetryToken(y){return Object(u.coroutine)(function*(){return Oe({retryDelay:tr,retryCount:0})})()}refreshRetryTokenForRetry(y,C){var T=this;return Object(u.coroutine)(function*(){const _=yield T.getMaxAttempts();if(T.shouldRetry(y,C,_)){const U=C.errorType;T.retryBackoffStrategy.setDelayBase(U==="THROTTLING"?sr:tr);const W=T.retryBackoffStrategy.computeNextBackoffDelay(y.getRetryCount()),fe=C.retryAfterHint?Math.max(C.retryAfterHint.getTime()-Date.now()||0,W):W,ne=T.getCapacityCost(U);return T.capacity-=ne,Oe({retryDelay:fe,retryCount:y.getRetryCount()+1,retryCost:ne})}throw new Error("No retry token available")})()}recordSuccess(y){var C;this.capacity=Math.max($i,this.capacity+((C=y.getRetryCost())!==null&&C!==void 0?C:Ki))}getCapacity(){return this.capacity}getMaxAttempts(){var y=this;return Object(u.coroutine)(function*(){try{return yield y.maxAttemptsProvider()}catch{return console.warn(`Max attempts provider could not resolve. Using default of ${Xn}`),Xn}})()}shouldRetry(y,C,T){return y.getRetryCount()<T&&this.capacity>=this.getCapacityCost(C.errorType)&&this.isRetryableError(C.errorType)}getCapacityCost(y){return y==="TRANSIENT"?Ir:Tr}isRetryableError(y){return y==="THROTTLING"||y==="TRANSIENT"}constructor(y){this.maxAttempts=y,this.mode=on.STANDARD,this.capacity=$i,this.retryBackoffStrategy=te(),this.maxAttemptsProvider=typeof y=="function"?y:Object(u.coroutine)(function*(){return y})}}o(ke,"StandardRetryStrategy_StandardRetryStrategy");class Ge{acquireInitialRetryToken(y){var C=this;return Object(u.coroutine)(function*(){return yield C.rateLimiter.getSendToken(),C.standardRetryStrategy.acquireInitialRetryToken(y)})()}refreshRetryTokenForRetry(y,C){var T=this;return Object(u.coroutine)(function*(){return T.rateLimiter.updateClientSendingRate(C),T.standardRetryStrategy.refreshRetryTokenForRetry(y,C)})()}recordSuccess(y){this.rateLimiter.updateClientSendingRate({}),this.standardRetryStrategy.recordSuccess(y)}constructor(y,C){this.maxAttemptsProvider=y,this.mode=on.ADAPTIVE;const{rateLimiter:T}=C??{};this.rateLimiter=T??new oi,this.standardRetryStrategy=new ke(y)}}o(Ge,"AdaptiveRetryStrategy_AdaptiveRetryStrategy");class ft extends ke{refreshRetryTokenForRetry(y,C){var T=this,_=o(()=>super.refreshRetryTokenForRetry,"_superprop_get_refreshRetryTokenForRetry");return Object(u.coroutine)(function*(){const U=yield _().call(T,y,C);return U.getRetryDelay=()=>T.computeNextBackoffDelay(U.getRetryCount()),U})()}constructor(y,C=tr){super(typeof y=="function"?y:Object(u.coroutine)(function*(){return y})),typeof C=="number"?this.computeNextBackoffDelay=()=>C:this.computeNextBackoffDelay=C}}o(ft,"ConfiguredRetryStrategy_ConfiguredRetryStrategy");var pt,ct=new Uint8Array(16);function St(){if(!pt&&(pt=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto<"u"&&typeof msCrypto.getRandomValues=="function"&&msCrypto.getRandomValues.bind(msCrypto),!pt))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return pt(ct)}o(St,"rng");var Mt=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;function kt(E){return typeof E=="string"&&Mt.test(E)}o(kt,"validate");for(var En=kt,$t=[],Hn=0;Hn<256;++Hn)$t.push((Hn+256).toString(16).substr(1));function bt(E){var y=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,C=($t[E[y+0]]+$t[E[y+1]]+$t[E[y+2]]+$t[E[y+3]]+"-"+$t[E[y+4]]+$t[E[y+5]]+"-"+$t[E[y+6]]+$t[E[y+7]]+"-"+$t[E[y+8]]+$t[E[y+9]]+"-"+$t[E[y+10]]+$t[E[y+11]]+$t[E[y+12]]+$t[E[y+13]]+$t[E[y+14]]+$t[E[y+15]]).toLowerCase();if(!En(C))throw TypeError("Stringified UUID is invalid");return C}o(bt,"stringify");var Zn=bt;function zn(E,y,C){E=E||{};var T=E.random||(E.rng||St)();if(T[6]=T[6]&15|64,T[8]=T[8]&63|128,y){C=C||0;for(var _=0;_<16;++_)y[C+_]=T[_];return y}return Zn(T)}o(zn,"v4");var yi=zn;const ei=o((E,y)=>{const C=E;var T;const _=(T=y==null?void 0:y.noRetryIncrement)!==null&&T!==void 0?T:Ki;var U;const W=(U=y==null?void 0:y.retryCost)!==null&&U!==void 0?U:Tr;var fe;const ne=(fe=y==null?void 0:y.timeoutRetryCost)!==null&&fe!==void 0?fe:Ir;let ye=E;const ue=o(Vt=>Vt.name==="TimeoutError"?ne:W,"getCapacityAmount"),it=o(Vt=>ue(Vt)<=ye,"hasRetryTokens");return Object.freeze({hasRetryTokens:it,retrieveRetryTokens:o(Vt=>{if(!it(Vt))throw new Error("No retry token available");const Ft=ue(Vt);return ye-=Ft,Ft},"retrieveRetryTokens"),releaseRetryTokens:o(Vt=>{ye+=Vt??_,ye=Math.min(ye,C)},"releaseRetryTokens")})},"getDefaultRetryQuota"),$n=o((E,y)=>Math.floor(Math.min(Jn,Math.random()*2**y*E)),"defaultDelayDecider"),Ei=o(E=>E?Ii(E)||Nr(E)||or(E)||fi(E):!1,"defaultRetryDecider"),Pi=o(E=>E instanceof Error?E:E instanceof Object?Object.assign(new Error,E):typeof E=="string"?new Error(E):new Error(`AWS SDK error wrapper for ${E}`),"asSdkError");class pi{shouldRetry(y,C,T){return C<T&&this.retryDecider(y)&&this.retryQuota.hasRetryTokens(y)}getMaxAttempts(){var y=this;return Object(u.coroutine)(function*(){let C;try{C=yield y.maxAttemptsProvider()}catch{C=Xn}return C})()}retry(y,C,T){var _=this;return Object(u.coroutine)(function*(){let U,W=0,fe=0;const ne=yield _.getMaxAttempts(),{request:ye}=C;for(le.isInstance(ye)&&(ye.headers[Or]=yi());;)try{le.isInstance(ye)&&(ye.headers[H]=`attempt=${W+1}; max=${ne}`),T!=null&&T.beforeRequest&&(yield T.beforeRequest());const{response:ue,output:it}=yield y(C);return T!=null&&T.afterRequest&&T.afterRequest(ue),_.retryQuota.releaseRetryTokens(U),it.$metadata.attempts=W+1,it.$metadata.totalRetryDelay=fe,{response:ue,output:it}}catch(ue){const it=Pi(ue);if(W++,_.shouldRetry(it,W,ne)){U=_.retryQuota.retrieveRetryTokens(it);const Et=_.delayDecider(or(it)?sr:tr,W),Wt=di(it.$response),Vt=Math.max(Wt||0,Et);fe+=Vt,yield new Promise(Ft=>setTimeout(Ft,Vt));continue}throw it.$metadata||(it.$metadata={}),it.$metadata.attempts=W,it.$metadata.totalRetryDelay=fe,it}})()}constructor(y,C){this.maxAttemptsProvider=y,this.mode=on.STANDARD;var T;this.retryDecider=(T=C==null?void 0:C.retryDecider)!==null&&T!==void 0?T:Ei;var _;this.delayDecider=(_=C==null?void 0:C.delayDecider)!==null&&_!==void 0?_:$n;var U;this.retryQuota=(U=C==null?void 0:C.retryQuota)!==null&&U!==void 0?U:ei($i)}}o(pi,"dist_es_StandardRetryStrategy_StandardRetryStrategy");const di=o(E=>{if(!Be.isInstance(E))return;const y=Object.keys(E.headers).find(U=>U.toLowerCase()==="retry-after");if(!y)return;const C=E.headers[y],T=Number(C);return Number.isNaN(T)?new Date(C).getTime()-Date.now():T*1e3},"getDelayFromRetryAfterHeader");class wi extends pi{retry(y,C){var T=this,_=o(()=>super.retry,"_superprop_get_retry");return Object(u.coroutine)(function*(){return _().call(T,y,C,{beforeRequest:Object(u.coroutine)(function*(){return T.rateLimiter.getSendToken()}),afterRequest:U=>{T.rateLimiter.updateClientSendingRate(U)}})})()}constructor(y,C){const{rateLimiter:T,..._}=C??{};super(y,_),this.rateLimiter=T??new oi,this.mode=on.ADAPTIVE}}o(wi,"dist_es_AdaptiveRetryStrategy_AdaptiveRetryStrategy");const tn="AWS_MAX_ATTEMPTS",si="max_attempts",Qn={environmentVariableSelector:E=>{const y=E[tn];if(!y)return;const C=parseInt(y);if(Number.isNaN(C))throw new Error(`Environment variable ${tn} mast be a number, got "${y}"`);return C},configFileSelector:E=>{const y=E[si];if(!y)return;const C=parseInt(y);if(Number.isNaN(C))throw new Error(`Shared config file entry ${si} mast be a number, got "${y}"`);return C},default:Xn},Di=o(E=>{const{retryStrategy:y}=E;var C;const T=v((C=E.maxAttempts)!==null&&C!==void 0?C:Xn);return{...E,maxAttempts:T,retryStrategy:Object(u.coroutine)(function*(){return y||((yield v(E.retryMode)())===on.ADAPTIVE?new Ge(T):new ke(T))})}},"resolveRetryConfig"),io="AWS_RETRY_MODE",mi="retry_mode",Br={environmentVariableSelector:E=>E[io],configFileSelector:E=>E[mi],default:vi},Ui=o(()=>E=>function(){var y=Object(u.coroutine)(function*(C){const{request:T}=C;return le.isInstance(T)&&(delete T.headers[Or],delete T.headers[H]),E(C)});return function(C){return y.apply(this,arguments)}}(),"omitRetryHeadersMiddleware"),zs={name:"omitRetryHeadersMiddleware",tags:["RETRY","HEADERS","OMIT_RETRY_HEADERS"],relation:"before",toMiddleware:"awsAuthMiddleware",override:!0},Xi=o(E=>({applyToStack:y=>{y.addRelativeTo(Ui(),zs)}}),"getOmitRetryHeadersPlugin"),Ji=o(E=>(y,C)=>function(){var T=Object(u.coroutine)(function*(_){let U=yield E.retryStrategy();const W=yield E.maxAttempts();if(ti(U)){U=U;let fe=yield U.acquireInitialRetryToken(C.partition_id),ne=new Error,ye=0,ue=0;const{request:it}=_;for(le.isInstance(it)&&(it.headers[Or]=yi());;)try{le.isInstance(it)&&(it.headers[H]=`attempt=${ye+1}; max=${W}`);const{response:Et,output:Wt}=yield y(_);return U.recordSuccess(fe),Wt.$metadata.attempts=ye+1,Wt.$metadata.totalRetryDelay=ue,{response:Et,output:Wt}}catch(Et){const Wt=Jt(Et);ne=Pi(Et);try{fe=yield U.refreshRetryTokenForRetry(fe,Wt)}catch{throw ne.$metadata||(ne.$metadata={}),ne.$metadata.attempts=ye+1,ne.$metadata.totalRetryDelay=ue,ne}ye=fe.getRetryCount();const Vt=fe.getRetryDelay();ue+=Vt,yield new Promise(Ft=>setTimeout(Ft,Vt))}}else return U=U,U!=null&&U.mode&&(C.userAgent=[...C.userAgent||[],["cfg/retry-mode",U.mode]]),U.retry(y,_)});return function(_){return T.apply(this,arguments)}}(),"retryMiddleware"),ti=o(E=>typeof E.acquireInitialRetryToken<"u"&&typeof E.refreshRetryTokenForRetry<"u"&&typeof E.recordSuccess<"u","isRetryStrategyV2"),Jt=o(E=>{const y={errorType:ar(E)},C=Hi(E.$response);return C&&(y.retryAfterHint=C),y},"getRetryErrorInfo"),ar=o(E=>or(E)?"THROTTLING":fi(E)?"TRANSIENT":Er(E)?"SERVER_ERROR":"CLIENT_ERROR","getRetryErrorType"),Jo={name:"retryMiddleware",tags:["RETRY"],step:"finalizeRequest",priority:"high",override:!0},ro=o(E=>({applyToStack:y=>{y.add(Ji(E),Jo)}}),"getRetryPlugin"),Hi=o(E=>{if(!Be.isInstance(E))return;const y=Object.keys(E.headers).find(U=>U.toLowerCase()==="retry-after");if(!y)return;const C=E.headers[y],T=Number(C);return Number.isNaN(T)?new Date(C):new Date(T*1e3)},"getRetryAfterHint");class $r extends Error{static from(y){let C=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return Object.assign(new this(y.message,C),y)}constructor(y,C=!0){super(y),this.tryNextLink=C,this.name="ProviderError",Object.setPrototypeOf(this,$r.prototype)}}o($r,"ProviderError");class Fr extends $r{constructor(y,C=!0){super(y,C),this.tryNextLink=C,this.name="CredentialsProviderError",Object.setPrototypeOf(this,Fr.prototype)}}o(Fr,"CredentialsProviderError_CredentialsProviderError");class Zi extends $r{constructor(y,C=!0){super(y,C),this.tryNextLink=C,this.name="TokenProviderError",Object.setPrototypeOf(this,Zi.prototype)}}o(Zi,"TokenProviderError_TokenProviderError");function Ss(){for(var E=arguments.length,y=new Array(E),C=0;C<E;C++)y[C]=arguments[C];return()=>{let T=Promise.reject(new $r("No providers in chain"));for(const _ of y)T=T.catch(U=>{if(U!=null&&U.tryNextLink)return _();throw U});return T}}o(Ss,"chain");const ys=o(E=>()=>Promise.resolve(E),"fromStatic"),xi=o((E,y,C)=>{let T,_,U,W=!1;const fe=function(){var ne=Object(u.coroutine)(function*(){_||(_=E());try{T=yield _,U=!0,W=!1}finally{_=void 0}return T});return o(function(){return ne.apply(this,arguments)},"coalesceProvider")}();return y===void 0?function(){var ne=Object(u.coroutine)(function*(ye){return(!U||ye!=null&&ye.forceRefresh)&&(T=yield fe()),T});return function(ye){return ne.apply(this,arguments)}}():function(){var ne=Object(u.coroutine)(function*(ye){return(!U||ye!=null&&ye.forceRefresh)&&(T=yield fe()),W?T:C&&!C(T)?(W=!0,T):(y(T)&&(yield fe()),T)});return function(ye){return ne.apply(this,arguments)}}()},"memoize"),hr={},bo={};for(let E=0;E<256;E++){let y=E.toString(16).toLowerCase();y.length===1&&(y=`0${y}`),hr[E]=y,bo[y]=E}function Cs(E){if(E.length%2!==0)throw new Error("Hex encoded strings must have an even number length");const y=new Uint8Array(E.length/2);for(let C=0;C<E.length;C+=2){const T=E.slice(C,C+2).toLowerCase();if(T in bo)y[C/2]=bo[T];else throw new Error(`Cannot decode unrecognized sequence ${T} as hexadecimal`)}return y}o(Cs,"fromHex");function Mr(E){let y="";for(let C=0;C<E.byteLength;C++)y+=hr[E[C]];return y}o(Mr,"toHex");const ho=o(E=>new TextEncoder().encode(E),"fromUtf8"),oo=o(E=>typeof E=="string"?ho(E):ArrayBuffer.isView(E)?new Uint8Array(E.buffer,E.byteOffset,E.byteLength/Uint8Array.BYTES_PER_ELEMENT):new Uint8Array(E),"toUint8Array"),Eo=o(E=>new TextDecoder("utf-8").decode(E),"toUtf8"),Yo="X-Amz-Algorithm",Xo="X-Amz-Credential",Lo="X-Amz-Date",Zo="X-Amz-SignedHeaders",fo="X-Amz-Expires",Ur="X-Amz-Signature",Ar="X-Amz-Security-Token",To="X-Amz-Region-Set",po="authorization",Kr=Lo.toLowerCase(),No=[po,Kr,"date"],Bo=Ur.toLowerCase(),nr="x-amz-content-sha256",Fo=Ar.toLowerCase(),Qo="host",Uo={authorization:!0,"cache-control":!0,connection:!0,expect:!0,from:!0,"keep-alive":!0,"max-forwards":!0,pragma:!0,referer:!0,te:!0,trailer:!0,"transfer-encoding":!0,upgrade:!0,"user-agent":!0,"x-amzn-trace-id":!0},Vr=/^proxy-/,so=/^sec-/,fr=[/^proxy-/i,/^sec-/i],Rr="AWS4-HMAC-SHA256",Vo="AWS4-ECDSA-P256-SHA256",Jr="AWS4-HMAC-SHA256-PAYLOAD",qo="UNSIGNED-PAYLOAD",wr=50,mo="aws4_request",Io=60*60*24*7,Pr={},Hr=[],wo=o((E,y,C)=>`${E}/${y}/${C}/${mo}`,"createScope"),Ho=function(){var E=Object(u.coroutine)(function*(y,C,T,_,U){const W=yield Dr(y,C.secretAccessKey,C.accessKeyId),fe=`${T}:${_}:${U}:${Mr(W)}:${C.sessionToken}`;if(fe in Pr)return Pr[fe];for(Hr.push(fe);Hr.length>wr;)delete Pr[Hr.shift()];let ne=`AWS4${C.secretAccessKey}`;for(const ye of[T,_,U,mo])ne=yield Dr(y,ne,ye);return Pr[fe]=ne});return o(function(C,T,_,U,W){return E.apply(this,arguments)},"getSigningKey")}(),js=o(()=>{Hr.length=0,Object.keys(Pr).forEach(E=>{delete Pr[E]})},"clearCredentialCache"),Dr=o((E,y,C)=>{const T=new E(y);return T.update(oo(C)),T.digest()},"hmac"),es=o((E,y,C)=>{let{headers:T}=E;const _={};for(const U of Object.keys(T).sort()){if(T[U]==null)continue;const W=U.toLowerCase();(W in Uo||y!=null&&y.has(W)||Vr.test(W)||so.test(W))&&(!C||C&&!C.has(W))||(_[W]=T[U].trim().replace(/\s+/g," "))}return _},"getCanonicalHeaders"),zr=o(E=>encodeURIComponent(E).replace(/[!'()*]/g,bs),"escapeUri"),bs=o(E=>`%${E.charCodeAt(0).toString(16).toUpperCase()}`,"hexEncode"),Es=o(E=>E.split("/").map(zr).join("/"),"escapeUriPath"),lr=o(E=>{let{query:y={}}=E;const C=[],T={};for(const _ of Object.keys(y).sort()){if(_.toLowerCase()===Bo)continue;C.push(_);const U=y[_];typeof U=="string"?T[_]=`${zr(_)}=${zr(U)}`:Array.isArray(U)&&(T[_]=U.slice(0).sort().reduce((W,fe)=>W.concat([`${zr(_)}=${zr(fe)}`]),[]).join("&"))}return C.map(_=>T[_]).filter(_=>_).join("&")},"getCanonicalQuery"),Yr=o(E=>typeof ArrayBuffer=="function"&&E instanceof ArrayBuffer||Object.prototype.toString.call(E)==="[object ArrayBuffer]","isArrayBuffer"),Xr=function(){var E=Object(u.coroutine)(function*(y,C){let{headers:T,body:_}=y;for(const U of Object.keys(T))if(U.toLowerCase()===nr)return T[U];if(_==null)return"e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855";if(typeof _=="string"||ArrayBuffer.isView(_)||Yr(_)){const U=new C;return U.update(oo(_)),Mr(yield U.digest())}return qo});return o(function(C,T){return E.apply(this,arguments)},"getPayloadHash")}(),ts=o((E,y)=>{E=E.toLowerCase();for(const C of Object.keys(y))if(E===C.toLowerCase())return!0;return!1},"hasHeader"),ns=o((E,y)=>{E=E.toLowerCase();for(const C of Object.keys(y))if(E===C.toLowerCase())return y[C]},"getHeaderValue"),Ws=o((E,y)=>{E=E.toLowerCase();for(const C of Object.keys(y))E===C.toLowerCase()&&delete y[C]},"deleteHeader"),Oo=o(E=>{let{headers:y,query:C,...T}=E;return{...T,headers:{...y},query:C?is(C):void 0}},"cloneRequest"),is=o(E=>Object.keys(E).reduce((y,C)=>{const T=E[C];return{...y,[C]:Array.isArray(T)?[...T]:T}},{}),"cloneRequest_cloneQuery"),Ts=o(function(E){let y=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{headers:C,query:T={}}=typeof E.clone=="function"?E.clone():Oo(E);for(const U of Object.keys(C)){var _;const W=U.toLowerCase();W.slice(0,6)==="x-amz-"&&!(!((_=y.unhoistableHeaders)===null||_===void 0)&&_.has(W))&&(T[U]=C[U],delete C[U])}return{...E,headers:C,query:T}},"moveHeadersToQuery"),rs=o(E=>{E=typeof E.clone=="function"?E.clone():Oo(E);for(const y of Object.keys(E.headers))No.indexOf(y.toLowerCase())>-1&&delete E.headers[y];return E},"prepareRequest"),Zr=o(E=>Is(E).toISOString().replace(/\.\d{3}Z$/,"Z"),"iso8601"),Is=o(E=>typeof E=="number"?new Date(E*1e3):typeof E=="string"?Number(E)?new Date(Number(E)*1e3):new Date(E):E,"toDate");class Mo{presign(y){let C=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};var T=this;return Object(u.coroutine)(function*(){const{signingDate:_=new Date,expiresIn:U=3600,unsignableHeaders:W,unhoistableHeaders:fe,signableHeaders:ne,signingRegion:ye,signingService:ue}=C,it=yield T.credentialProvider();T.validateResolvedCredentials(it);const Et=ye??(yield T.regionProvider()),{longDate:Wt,shortDate:Vt}=Qi(_);if(U>Io)return Promise.reject("Signature version 4 presigned URLs must have an expiration date less than one week in the future");const Ft=wo(Vt,Et,ue??T.service),sn=Ts(rs(y),{unhoistableHeaders:fe});it.sessionToken&&(sn.query[Ar]=it.sessionToken),sn.query[Yo]=Rr,sn.query[Xo]=`${it.accessKeyId}/${Ft}`,sn.query[Lo]=Wt,sn.query[fo]=U.toString(10);const Yi=es(sn,W,ne);return sn.query[Zo]=Ao(Yi),sn.query[Ur]=yield T.getSignature(Wt,Ft,T.getSigningKey(it,Et,Vt,ue),T.createCanonicalRequest(sn,Yi,yield Xr(y,T.sha256))),sn})()}sign(y,C){var T=this;return Object(u.coroutine)(function*(){return typeof y=="string"?T.signString(y,C):y.headers&&y.payload?T.signEvent(y,C):T.signRequest(y,C)})()}signEvent(y,C){let{headers:T,payload:_}=y,{signingDate:U=new Date,priorSignature:W,signingRegion:fe,signingService:ne}=C;var ye=this;return Object(u.coroutine)(function*(){const ue=fe??(yield ye.regionProvider()),{shortDate:it,longDate:Et}=Qi(U),Wt=wo(it,ue,ne??ye.service),Vt=yield Xr({headers:{},body:_},ye.sha256),Ft=new ye.sha256;Ft.update(T);const sn=Mr(yield Ft.digest()),Yi=[Jr,Et,Wt,W,sn,Vt].join(`
`);return ye.signString(Yi,{signingDate:U,signingRegion:ue,signingService:ne})})()}signString(y){let{signingDate:C=new Date,signingRegion:T,signingService:_}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};var U=this;return Object(u.coroutine)(function*(){const W=yield U.credentialProvider();U.validateResolvedCredentials(W);const fe=T??(yield U.regionProvider()),{shortDate:ne}=Qi(C),ye=new U.sha256(yield U.getSigningKey(W,fe,ne,_));return ye.update(oo(y)),Mr(yield ye.digest())})()}signRequest(y){let{signingDate:C=new Date,signableHeaders:T,unsignableHeaders:_,signingRegion:U,signingService:W}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};var fe=this;return Object(u.coroutine)(function*(){const ne=yield fe.credentialProvider();fe.validateResolvedCredentials(ne);const ye=U??(yield fe.regionProvider()),ue=rs(y),{longDate:it,shortDate:Et}=Qi(C),Wt=wo(Et,ye,W??fe.service);ue.headers[Kr]=it,ne.sessionToken&&(ue.headers[Fo]=ne.sessionToken);const Vt=yield Xr(ue,fe.sha256);!ts(nr,ue.headers)&&fe.applyChecksum&&(ue.headers[nr]=Vt);const Ft=es(ue,_,T),sn=yield fe.getSignature(it,Wt,fe.getSigningKey(ne,ye,Et,W),fe.createCanonicalRequest(ue,Ft,Vt));return ue.headers[po]=`${Rr} Credential=${ne.accessKeyId}/${Wt}, SignedHeaders=${Ao(Ft)}, Signature=${sn}`,ue})()}createCanonicalRequest(y,C,T){const _=Object.keys(C).sort();return`${y.method}
${this.getCanonicalPath(y)}
${lr(y)}
${_.map(U=>`${U}:${C[U]}`).join(`
`)}

${_.join(";")}
${T}`}createStringToSign(y,C,T){var _=this;return Object(u.coroutine)(function*(){const U=new _.sha256;U.update(oo(T));const W=yield U.digest();return`${Rr}
${y}
${C}
${Mr(W)}`})()}getCanonicalPath(y){let{path:C}=y;if(this.uriEscapePath){const T=[];for(const W of C.split("/"))(W==null?void 0:W.length)!==0&&W!=="."&&(W===".."?T.pop():T.push(W));const _=`${C!=null&&C.startsWith("/")?"/":""}${T.join("/")}${T.length>0&&(C!=null&&C.endsWith("/"))?"/":""}`;return encodeURIComponent(_).replace(/%2F/g,"/")}return C}getSignature(y,C,T,_){var U=this;return Object(u.coroutine)(function*(){const W=yield U.createStringToSign(y,C,_),fe=new U.sha256(yield T);return fe.update(oo(W)),Mr(yield fe.digest())})()}getSigningKey(y,C,T,_){return Ho(this.sha256,y,T,C,_||this.service)}validateResolvedCredentials(y){if(typeof y!="object"||typeof y.accessKeyId!="string"||typeof y.secretAccessKey!="string")throw new Error("Resolved credential object is not valid")}constructor({applyChecksum:y,credentials:C,region:T,service:_,sha256:U,uriEscapePath:W=!0}){this.service=_,this.sha256=U,this.uriEscapePath=W,this.applyChecksum=typeof y=="boolean"?y:!0,this.regionProvider=v(T),this.credentialProvider=v(C)}}o(Mo,"SignatureV4_SignatureV4");const Qi=o(E=>{const y=Zr(E).replace(/[\-:]/g,"");return{longDate:y,shortDate:y.slice(0,8)}},"formatDate"),Ao=o(E=>Object.keys(E).sort().join(";"),"getCanonicalHeaderList"),jr=3e5,Ro=o(E=>{const y=E.credentials?go(E.credentials):E.credentialDefaultProvider(E),{signingEscapePath:C=!0,systemClockOffset:T=E.systemClockOffset||0,sha256:_}=E;let U;return E.signer?U=v(E.signer):E.regionInfoProvider?U=o(()=>v(E.region)().then(function(){var W=Object(u.coroutine)(function*(fe){return[(yield E.regionInfoProvider(fe,{useFipsEndpoint:yield E.useFipsEndpoint(),useDualstackEndpoint:yield E.useDualstackEndpoint()}))||{},fe]});return function(fe){return W.apply(this,arguments)}}()).then(W=>{let[fe,ne]=W;const{signingRegion:ye,signingService:ue}=fe;E.signingRegion=E.signingRegion||ye||ne,E.signingName=E.signingName||ue||E.serviceId;const it={...E,credentials:y,region:E.signingRegion,service:E.signingName,sha256:_,uriEscapePath:C},Et=E.signerConstructor||Mo;return new Et(it)}),"signer"):U=function(){var W=Object(u.coroutine)(function*(fe){fe=Object.assign({},{name:"sigv4",signingName:E.signingName||E.defaultSigningName,signingRegion:yield v(E.region)(),properties:{}},fe);const ne=fe.signingRegion,ye=fe.signingName;E.signingRegion=E.signingRegion||ne,E.signingName=E.signingName||ye||E.serviceId;const ue={...E,credentials:y,region:E.signingRegion,service:E.signingName,sha256:_,uriEscapePath:C},it=E.signerConstructor||Mo;return new it(ue)});return function(fe){return W.apply(this,arguments)}}(),{...E,systemClockOffset:T,signingEscapePath:C,credentials:y,signer:U}},"resolveAwsAuthConfig"),ao=o(E=>{const y=E.credentials?go(E.credentials):E.credentialDefaultProvider(E),{signingEscapePath:C=!0,systemClockOffset:T=E.systemClockOffset||0,sha256:_}=E;let U;return E.signer?U=v(E.signer):U=v(new Mo({credentials:y,region:E.region,service:E.signingName,sha256:_,uriEscapePath:C})),{...E,systemClockOffset:T,signingEscapePath:C,credentials:y,signer:U}},"resolveSigV4AuthConfig"),go=o(E=>typeof E=="function"?xi(E,y=>y.expiration!==void 0&&y.expiration.getTime()-Date.now()<jr,y=>y.expiration!==void 0):v(E),"normalizeCredentialProvider"),lo=o(E=>new Date(Date.now()+E),"getSkewCorrectedDate"),ra=o((E,y)=>Math.abs(lo(y).getTime()-E)>=3e5,"isClockSkewed"),Gs=o((E,y)=>{const C=Date.parse(E);return ra(C,y)?C-Date.now():y},"getUpdatedSystemClockOffset"),oa=o(E=>(y,C)=>function(){var T=Object(u.coroutine)(function*(_){var U,W,fe,ne;if(!le.isInstance(_.request))return y(_);const ye=(U=C.endpointV2)===null||U===void 0||(W=U.properties)===null||W===void 0||(fe=W.authSchemes)===null||fe===void 0?void 0:fe[0],ue=(ye==null?void 0:ye.name)==="sigv4a"?ye==null||(ne=ye.signingRegionSet)===null||ne===void 0?void 0:ne.join(","):void 0,it=yield E.signer(ye),Et=yield y({..._,request:yield it.sign(_.request,{signingDate:lo(E.systemClockOffset),signingRegion:ue||C.signing_region,signingService:C.signing_service})}).catch(Vt=>{var Ft;const sn=(Ft=Vt.ServerTime)!==null&&Ft!==void 0?Ft:Qr(Vt.$response);throw sn&&(E.systemClockOffset=Gs(sn,E.systemClockOffset)),Vt}),Wt=Qr(Et.response);return Wt&&(E.systemClockOffset=Gs(Wt,E.systemClockOffset)),Et});return function(_){return T.apply(this,arguments)}}(),"awsAuthMiddleware");var $s;const Qr=o(E=>{var y,C;return Be.isInstance(E)?($s=(y=E.headers)===null||y===void 0?void 0:y.date)!==null&&$s!==void 0?$s:(C=E.headers)===null||C===void 0?void 0:C.Date:void 0},"getDateHeader"),Ks={name:"awsAuthMiddleware",tags:["SIGNATURE","AWSAUTH"],relation:"after",toMiddleware:"retryMiddleware",override:!0},os=o(E=>({applyToStack:y=>{y.addRelativeTo(oa(E),Ks)}}),"getAwsAuthPlugin"),Ra=os;function qr(E){return{...E,customUserAgent:typeof E.customUserAgent=="string"?[[E.customUserAgent]]:E.customUserAgent}}o(qr,"resolveUserAgentConfig");var zo=d("syoQ");let pr=zo,cr="";const Pa=o(E=>{const{partitions:y}=pr;for(const T of y){const{regions:_,outputs:U}=T;for(const[W,fe]of Object.entries(_))if(W===E)return{...U,...fe}}for(const T of y){const{regionRegex:_,outputs:U}=T;if(new RegExp(_).test(E))return{...U}}const C=y.find(T=>T.id==="aws");if(!C)throw new Error("Provided region was not found in the partition array or regex, and default partition with id 'aws' doesn't exist.");return{...C.outputs}},"partition_partition"),sa=o(function(E){let y=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";pr=E,cr=y},"setPartitionInfo"),ki=o(()=>{sa(zo,"")},"useDefaultPartitionInfo"),ss=o(()=>cr,"getUserAgentPrefix"),vo="endpoints";function eo(E){return typeof E!="object"||E==null?E:"ref"in E?`$${eo(E.ref)}`:"fn"in E?`${E.fn}(${(E.argv||[]).map(eo).join(", ")})`:JSON.stringify(E,null,2)}o(eo,"toDebugString");class zi extends Error{constructor(y){super(y),this.name="EndpointError"}}o(zi,"EndpointError");const ws=new RegExp("^(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)){3}$"),Os=o(E=>ws.test(E)||E.startsWith("[")&&E.endsWith("]"),"isIpAddress"),Ms=new RegExp("^(?!.*-$)(?!-)[a-zA-Z0-9-]{1,63}$"),as=o(function(E){if(!(arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1))return Ms.test(E);const C=E.split(".");for(const T of C)if(!as(T))return!1;return!0},"isValidHostLabel"),ls=o(function(E){if(arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1){for(const C of E.split("."))if(!ls(C))return!1;return!0}return!(!as(E)||E.length<3||E.length>63||E!==E.toLowerCase()||Os(E))},"isVirtualHostableS3Bucket"),cs=o(E=>{const y=E.split(":");if(y.length<6)return null;const[C,T,_,U,W,...fe]=y;return C!=="arn"||T===""||_===""||fe[0]===""?null:{partition:T,service:_,region:U,accountId:W,resourceId:fe[0].includes("/")?fe[0].split("/"):fe}},"parseArn"),As=o((E,y)=>E===y,"booleanEquals"),aa=o(E=>{const y=E.split("."),C=[];for(const T of y){const _=T.indexOf("[");if(_!==-1){if(T.indexOf("]")!==T.length-1)throw new zi(`Path: '${E}' does not end with ']'`);const U=T.slice(_+1,-1);if(Number.isNaN(parseInt(U)))throw new zi(`Invalid array index: '${U}' in path: '${E}'`);_!==0&&C.push(T.slice(0,_)),C.push(U)}else C.push(T)}return C},"getAttrPathList"),he=o((E,y)=>aa(y).reduce((C,T)=>{if(typeof C!="object")throw new zi(`Index '${T}' in '${y}' not found in '${JSON.stringify(E)}'`);return Array.isArray(C)?C[parseInt(T)]:C[T]},E),"getAttr"),re=o(E=>E!=null,"isSet"),q=o(E=>!E,"not");var L;(function(E){E.HEADER="header",E.QUERY="query"})(L||(L={}));var G;(function(E){E.AAAA="AAAA",E.A="A"})(G||(G={}));var se;(function(E){E.HTTP="http",E.HTTPS="https"})(se||(se={}));var oe;(function(E){E.HTTP_0_9="http/0.9",E.HTTP_1_0="http/1.0",E.TDS_8_0="tds/8.0"})(oe||(oe={}));const Ce={[se.HTTP]:80,[se.HTTPS]:443},Ae=o(E=>{const y=(()=>{try{if(E instanceof URL)return E;if(typeof E=="object"&&"hostname"in E){const{hostname:Et,port:Wt,protocol:Vt="",path:Ft="",query:sn={}}=E,Yi=new URL(`${Vt}//${Et}${Wt?`:${Wt}`:""}${Ft}`);return Yi.search=Object.entries(sn).map(Ea=>{let[Ta,Ch]=Ea;return`${Ta}=${Ch}`}).join("&"),Yi}return new URL(E)}catch{return null}})();if(!y)return console.error(`Unable to parse ${JSON.stringify(E)} as a whatwg URL.`),null;const C=y.href,{host:T,hostname:_,pathname:U,protocol:W,search:fe}=y;if(fe)return null;const ne=W.slice(0,-1);if(!Object.values(se).includes(ne))return null;const ye=Os(_),ue=C.includes(`${T}:${Ce[ne]}`)||typeof E=="string"&&E.includes(`${T}:${Ce[ne]}`),it=`${T}${ue?`:${Ce[ne]}`:""}`;return{scheme:ne,authority:it,path:U,normalizedPath:U.endsWith("/")?U:`${U}/`,isIp:ye}},"parseURL"),xe=o((E,y)=>E===y,"stringEquals"),Ve=o((E,y,C,T)=>y>=C||E.length<C?null:T?E.substring(E.length-C,E.length-y):E.substring(y,C),"substring"),He=o(E=>encodeURIComponent(E).replace(/[!*'()]/g,y=>`%${y.charCodeAt(0).toString(16).toUpperCase()}`),"uriEncode"),Je=o((E,y)=>{const C=[],T={...y.endpointParams,...y.referenceRecord};let _=0;for(;_<E.length;){const U=E.indexOf("{",_);if(U===-1){C.push(E.slice(_));break}C.push(E.slice(_,U));const W=E.indexOf("}",U);if(W===-1){C.push(E.slice(U));break}E[U+1]==="{"&&E[W+1]==="}"&&(C.push(E.slice(U+1,W)),_=W+2);const fe=E.substring(U+1,W);if(fe.includes("#")){const[ne,ye]=fe.split("#");C.push(he(T[ne],ye))}else C.push(T[fe]);_=W+1}return C.join("")},"evaluateTemplate"),et=o((E,y)=>{let{ref:C}=E;return{...y.endpointParams,...y.referenceRecord}[C]},"getReferenceValue"),mt=o((E,y,C)=>{if(typeof E=="string")return Je(E,C);if(E.fn)return Rt(E,C);if(E.ref)return et(E,C);throw new zi(`'${y}': ${String(E)} is not a string, function or reference.`)},"evaluateExpression"),Rt=o((E,y)=>{let{fn:C,argv:T}=E;const _=T.map(U=>["boolean","number"].includes(typeof U)?U:mt(U,"arg",y));return C.split(".").reduce((U,W)=>U[W],h)(..._)},"callFunction"),Kt=o((E,y)=>{let{assign:C,...T}=E;var _,U;if(C&&C in y.referenceRecord)throw new zi(`'${C}' is already defined in Reference Record.`);const W=Rt(T,y);return(_=y.logger)===null||_===void 0||(U=_.debug)===null||U===void 0||U.call(_,vo,`evaluateCondition: ${eo(T)} = ${eo(W)}`),{result:W===""?!0:!!W,...C!=null&&{toAssign:{name:C,value:W}}}},"evaluateCondition"),Yt=o(function(){let E=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],y=arguments.length>1?arguments[1]:void 0;const C={};for(const U of E){const{result:W,toAssign:fe}=Kt(U,{...y,referenceRecord:{...y.referenceRecord,...C}});if(!W)return{result:W};if(fe){var T,_;C[fe.name]=fe.value,(T=y.logger)===null||T===void 0||(_=T.debug)===null||_===void 0||_.call(T,vo,`assign: ${fe.name} := ${eo(fe.value)}`)}}return{result:!0,referenceRecord:C}},"evaluateConditions"),an=o((E,y)=>Object.entries(E).reduce((C,T)=>{let[_,U]=T;return{...C,[_]:U.map(W=>{const fe=mt(W,"Header value entry",y);if(typeof fe!="string")throw new zi(`Header '${_}' value '${fe}' is not a string`);return fe})}},{}),"getEndpointHeaders"),cn=o((E,y)=>{if(Array.isArray(E))return E.map(C=>cn(C,y));switch(typeof E){case"string":return Je(E,y);case"object":if(E===null)throw new zi(`Unexpected endpoint property: ${E}`);return Tn(E,y);case"boolean":return E;default:throw new zi(`Unexpected endpoint property type: ${typeof E}`)}},"getEndpointProperty"),Tn=o((E,y)=>Object.entries(E).reduce((C,T)=>{let[_,U]=T;return{...C,[_]:cn(U,y)}},{}),"getEndpointProperties"),wt=o((E,y)=>{const C=mt(E,"Endpoint URL",y);if(typeof C=="string")try{return new URL(C)}catch(T){throw console.error(`Failed to construct URL with ${C}`,T),T}throw new zi(`Endpoint URL must be a string, got ${typeof C}`)},"getEndpointUrl"),ni=o((E,y)=>{var C,T;const{conditions:_,endpoint:U}=E,{result:W,referenceRecord:fe}=Yt(_,y);if(!W)return;const ne={...y,referenceRecord:{...y.referenceRecord,...fe}},{url:ye,properties:ue,headers:it}=U;return(C=y.logger)===null||C===void 0||(T=C.debug)===null||T===void 0||T.call(C,vo,`Resolving endpoint from template: ${eo(U)}`),{...it!=null&&{headers:an(it,ne)},...ue!=null&&{properties:Tn(ue,ne)},url:wt(ye,ne)}},"evaluateEndpointRule"),qn=o((E,y)=>{const{conditions:C,error:T}=E,{result:_,referenceRecord:U}=Yt(C,y);if(_)throw new zi(mt(T,"Error",{...y,referenceRecord:{...y.referenceRecord,...U}}))},"evaluateErrorRule"),Oi=o((E,y)=>{const{conditions:C,rules:T}=E,{result:_,referenceRecord:U}=Yt(C,y);if(_)return Li(T,{...y,referenceRecord:{...y.referenceRecord,...U}})},"evaluateTreeRule"),Li=o((E,y)=>{for(const C of E)if(C.type==="endpoint"){const T=ni(C,y);if(T)return T}else if(C.type==="error")qn(C,y);else if(C.type==="tree"){const T=Oi(C,y);if(T)return T}else throw new zi(`Unknown endpoint rule: ${C}`);throw new zi("Rules evaluation failed")},"evaluateRules"),Mi=o((E,y)=>{var C,T,_,U,W;const{endpointParams:fe,logger:ne}=y,{parameters:ye,rules:ue}=E;(C=y.logger)===null||C===void 0||(T=C.debug)===null||T===void 0||T.call(C,`${vo} Initial EndpointParams: ${eo(fe)}`);const it=Object.entries(ye).filter(Ft=>{let[,sn]=Ft;return sn.default!=null}).map(Ft=>{let[sn,Yi]=Ft;return[sn,Yi.default]});if(it.length>0)for(const[Ft,sn]of it){var Et;fe[Ft]=(Et=fe[Ft])!==null&&Et!==void 0?Et:sn}const Wt=Object.entries(ye).filter(Ft=>{let[,sn]=Ft;return sn.required}).map(Ft=>{let[sn]=Ft;return sn});for(const Ft of Wt)if(fe[Ft]==null)throw new zi(`Missing required parameter: '${Ft}'`);const Vt=Li(ue,{endpointParams:fe,logger:ne,referenceRecord:{}});if(!((_=y.endpointParams)===null||_===void 0)&&_.Endpoint)try{const Ft=new URL(y.endpointParams.Endpoint),{protocol:sn,port:Yi}=Ft;Vt.url.protocol=sn,Vt.url.port=Yi}catch{}return(U=y.logger)===null||U===void 0||(W=U.debug)===null||W===void 0||W.call(U,`${vo} Resolved endpoint: ${eo(Vt)}`),Vt},"resolveEndpoint"),Si="user-agent",Fi="x-amz-user-agent",Ri=" ",qi=/[^\!\#\$\%\&\'\*\+\-\.\^\_\`\|\~\d\w]/g,to=o(E=>(y,C)=>function(){var T=Object(u.coroutine)(function*(_){var U,W;const{request:fe}=_;if(!le.isInstance(fe))return y(_);const{headers:ne}=fe,ye=(C==null||(U=C.userAgent)===null||U===void 0?void 0:U.map(xr))||[],ue=(yield E.defaultUserAgentProvider()).map(xr),it=(E==null||(W=E.customUserAgent)===null||W===void 0?void 0:W.map(xr))||[],Et=ss(),Wt=(Et?[Et]:[]).concat([...ue,...ye,...it]).join(Ri),Vt=[...ue.filter(Ft=>Ft.startsWith("aws-sdk-")),...it].join(Ri);return E.runtime!=="browser"?(Vt&&(ne[Fi]=ne[Fi]?`${ne[Si]} ${Vt}`:Vt),ne[Si]=Wt):ne[Fi]=Wt,y({..._,request:fe})});return function(_){return T.apply(this,arguments)}}(),"userAgentMiddleware"),xr=o(E=>{let[y,C]=E;const T=y.indexOf("/"),_=y.substring(0,T);let U=y.substring(T+1);return _==="api"&&(U=U.toLowerCase()),[_,U,C].filter(W=>W&&W.length>0).map(W=>W==null?void 0:W.replace(qi,"_")).join("/")},"escapeUserAgent"),mr={name:"getUserAgentMiddleware",step:"build",priority:"low",tags:["SET_USER_AGENT","USER_AGENT"],override:!0},Da=o(E=>({applyToStack:y=>{y.add(to(E),mr)}}),"getUserAgentPlugin");class co{trace(){}debug(){}info(){}warn(){}error(){}}o(co,"NoOpLogger");const jo=o(()=>{let E=[],y=[];const C=new Set,T=o(ue=>ue.sort((it,Et)=>Rs[Et.step]-Rs[it.step]||sl[Et.priority||"normal"]-sl[it.priority||"normal"]),"sort"),_=o(ue=>{let it=!1;const Et=o(Wt=>Wt.name&&Wt.name===ue?(it=!0,C.delete(ue),!1):!0,"filterCb");return E=E.filter(Et),y=y.filter(Et),it},"removeByName"),U=o(ue=>{let it=!1;const Et=o(Wt=>Wt.middleware===ue?(it=!0,Wt.name&&C.delete(Wt.name),!1):!0,"filterCb");return E=E.filter(Et),y=y.filter(Et),it},"removeByReference"),W=o(ue=>(E.forEach(it=>{ue.add(it.middleware,{...it})}),y.forEach(it=>{ue.addRelativeTo(it.middleware,{...it})}),ue),"cloneTo"),fe=o(ue=>{const it=[];return ue.before.forEach(Et=>{Et.before.length===0&&Et.after.length===0?it.push(Et):it.push(...fe(Et))}),it.push(ue),ue.after.reverse().forEach(Et=>{Et.before.length===0&&Et.after.length===0?it.push(Et):it.push(...fe(Et))}),it},"expandRelativeMiddlewareList"),ne=o(function(){let ue=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;const it=[],Et=[],Wt={};return E.forEach(Ft=>{const sn={...Ft,before:[],after:[]};sn.name&&(Wt[sn.name]=sn),it.push(sn)}),y.forEach(Ft=>{const sn={...Ft,before:[],after:[]};sn.name&&(Wt[sn.name]=sn),Et.push(sn)}),Et.forEach(Ft=>{if(Ft.toMiddleware){const sn=Wt[Ft.toMiddleware];if(sn===void 0){if(ue)return;throw new Error(`${Ft.toMiddleware} is not found when adding ${Ft.name||"anonymous"} middleware ${Ft.relation} ${Ft.toMiddleware}`)}Ft.relation==="after"&&sn.after.push(Ft),Ft.relation==="before"&&sn.before.push(Ft)}}),T(it).map(fe).reduce((Ft,sn)=>(Ft.push(...sn),Ft),[])},"getMiddlewareList"),ye={add:function(ue){let it=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{name:Et,override:Wt}=it,Vt={step:"initialize",priority:"normal",middleware:ue,...it};if(Et){if(C.has(Et)){if(!Wt)throw new Error(`Duplicate middleware name '${Et}'`);const Ft=E.findIndex(Yi=>Yi.name===Et),sn=E[Ft];if(sn.step!==Vt.step||sn.priority!==Vt.priority)throw new Error(`"${Et}" middleware with ${sn.priority} priority in ${sn.step} step cannot be overridden by same-name middleware with ${Vt.priority} priority in ${Vt.step} step.`);E.splice(Ft,1)}C.add(Et)}E.push(Vt)},addRelativeTo:(ue,it)=>{const{name:Et,override:Wt}=it,Vt={middleware:ue,...it};if(Et){if(C.has(Et)){if(!Wt)throw new Error(`Duplicate middleware name '${Et}'`);const Ft=y.findIndex(Yi=>Yi.name===Et),sn=y[Ft];if(sn.toMiddleware!==Vt.toMiddleware||sn.relation!==Vt.relation)throw new Error(`"${Et}" middleware ${sn.relation} "${sn.toMiddleware}" middleware cannot be overridden by same-name middleware ${Vt.relation} "${Vt.toMiddleware}" middleware.`);y.splice(Ft,1)}C.add(Et)}y.push(Vt)},clone:()=>W(jo()),use:ue=>{ue.applyToStack(ye)},remove:ue=>typeof ue=="string"?_(ue):U(ue),removeByTag:ue=>{let it=!1;const Et=o(Wt=>{const{tags:Vt,name:Ft}=Wt;return Vt&&Vt.includes(ue)?(Ft&&C.delete(Ft),it=!0,!1):!0},"filterCb");return E=E.filter(Et),y=y.filter(Et),it},concat:ue=>{const it=W(jo());return it.use(ue),it},applyToStack:W,identify:()=>ne(!0).map(ue=>ue.name+": "+(ue.tags||[]).join(",")),resolve:(ue,it)=>{for(const Et of ne().map(Wt=>Wt.middleware).reverse())ue=Et(ue,it);return ue}};return ye},"constructStack"),Rs={initialize:5,serialize:4,build:3,finalizeRequest:2,deserialize:1},sl={high:3,normal:2,low:1};class Js{send(y,C,T){const _=typeof C!="function"?C:void 0,U=typeof C=="function"?C:T,W=y.resolveMiddleware(this.middlewareStack,this.config,_);if(U)W(y).then(fe=>U(null,fe.output),fe=>U(fe)).catch(()=>{});else return W(y).then(fe=>fe.output)}destroy(){this.config.requestHandler.destroy&&this.config.requestHandler.destroy()}constructor(y){this.middlewareStack=jo(),this.config=y}}o(Js,"client_Client");class In{constructor(){this.middlewareStack=jo()}}o(In,"command_Command");const nn="***SensitiveInformation***",Fl=o((E,y)=>{for(const C of Object.keys(E)){const T=E[C],_=function(){var W=Object(u.coroutine)(function*(fe,ne,ye){const ue=new T(fe);if(typeof ne=="function")this.send(ue,ne);else if(typeof ye=="function"){if(typeof ne!="object")throw new Error(`Expected http options but got ${typeof ne}`);this.send(ue,ne||{},ye)}else return this.send(ue,ne)});return o(function(ne,ye,ue){return W.apply(this,arguments)},"methodImpl")}(),U=(C[0].toLowerCase()+C.slice(1)).replace(/Command$/,"");y.prototype[U]=_}},"createAggregatedClient"),Ec=o(E=>{switch(E){case"true":return!0;case"false":return!1;default:throw new Error(`Unable to parse boolean value "${E}"`)}},"parseBoolean"),al=o(E=>{if(E!=null){if(typeof E=="number"){if((E===0||E===1)&&ha.warn(ua(`Expected boolean, got ${typeof E}: ${E}`)),E===0)return!1;if(E===1)return!0}if(typeof E=="string"){const y=E.toLowerCase();if((y==="false"||y==="true")&&ha.warn(ua(`Expected boolean, got ${typeof E}: ${E}`)),y==="false")return!1;if(y==="true")return!0}if(typeof E=="boolean")return E;throw new TypeError(`Expected boolean, got ${typeof E}: ${E}`)}},"expectBoolean"),Gi=o(E=>{if(E!=null){if(typeof E=="string"){const y=parseFloat(E);if(!Number.isNaN(y))return String(y)!==String(E)&&ha.warn(ua(`Expected number but observed string: ${E}`)),y}if(typeof E=="number")return E;throw new TypeError(`Expected number, got ${typeof E}: ${E}`)}},"expectNumber"),Ul=Math.ceil(2**127*(2-2**-23)),xa=o(E=>{const y=Gi(E);if(y!==void 0&&!Number.isNaN(y)&&y!==1/0&&y!==-1/0&&Math.abs(y)>Ul)throw new TypeError(`Expected 32-bit float, got ${E}`);return y},"expectFloat32"),la=o(E=>{if(E!=null){if(Number.isInteger(E)&&!Number.isNaN(E))return E;throw new TypeError(`Expected integer, got ${typeof E}: ${E}`)}},"expectLong"),Tc=la,ll=o(E=>ka(E,32),"expectInt32"),cl=o(E=>ka(E,16),"expectShort"),dl=o(E=>ka(E,8),"expectByte"),ka=o((E,y)=>{const C=la(E);if(C!==void 0&&dr(C,y)!==C)throw new TypeError(`Expected ${y}-bit integer, got ${E}`);return C},"expectSizedInt"),dr=o((E,y)=>{switch(y){case 32:return Int32Array.of(E)[0];case 16:return Int16Array.of(E)[0];case 8:return Int8Array.of(E)[0]}},"castInt"),rn=o((E,y)=>{if(E==null)throw y?new TypeError(`Expected a non-null value for ${y}`):new TypeError("Expected a non-null value");return E},"expectNonNull"),Yn=o(E=>{if(E==null)return;if(typeof E=="object"&&!Array.isArray(E))return E;const y=Array.isArray(E)?"array":typeof E;throw new TypeError(`Expected object, got ${y}: ${E}`)},"expectObject"),It=o(E=>{if(E!=null){if(typeof E=="string")return E;if(["boolean","number","bigint"].includes(typeof E))return ha.warn(ua(`Expected string, got ${typeof E}: ${E}`)),String(E);throw new TypeError(`Expected string, got ${typeof E}: ${E}`)}},"expectString"),Ic=o(E=>{if(E==null)return;const y=Yn(E),C=Object.entries(y).filter(T=>{let[,_]=T;return _!=null}).map(T=>{let[_]=T;return _});if(C.length===0)throw new TypeError("Unions must have exactly one non-null member. None were found.");if(C.length>1)throw new TypeError(`Unions must have exactly one non-null member. Keys ${C} were not null.`);return y},"expectUnion"),ul=o(E=>Gi(typeof E=="string"?Ps(E):E),"strictParseDouble"),Wo=ul,Ys=o(E=>xa(typeof E=="string"?Ps(E):E),"strictParseFloat32"),Xs=/(-?(?:0|[1-9]\d*)(?:\.\d+)?(?:[eE][+-]?\d+)?)|(-?Infinity)|(NaN)/g,Ps=o(E=>{const y=E.match(Xs);if(y===null||y[0].length!==E.length)throw new TypeError("Expected real number, got implicit NaN");return parseFloat(E)},"parseNumber"),ca=o(E=>typeof E=="string"?hl(E):Gi(E),"limitedParseDouble"),wc=ca,Go=ca,da=o(E=>typeof E=="string"?hl(E):xa(E),"limitedParseFloat32"),hl=o(E=>{switch(E){case"NaN":return NaN;case"Infinity":return 1/0;case"-Infinity":return-1/0;default:throw new Error(`Unable to parse float value: ${E}`)}},"parseFloatString"),Mc=o(E=>la(typeof E=="string"?Ps(E):E),"strictParseLong"),Ac=o(E=>ll(typeof E=="string"?Ps(E):E),"strictParseInt32"),Zs=o(E=>cl(typeof E=="string"?Ps(E):E),"strictParseShort"),Vl=o(E=>dl(typeof E=="string"?Ps(E):E),"strictParseByte"),ua=o(E=>String(new TypeError(E).stack||E).split(`
`).slice(0,5).filter(y=>!y.includes("stackTraceWarning")).join(`
`),"stackTraceWarning"),ha={warn:console.warn},Hl=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],La=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function Rc(E){const y=E.getUTCFullYear(),C=E.getUTCMonth(),T=E.getUTCDay(),_=E.getUTCDate(),U=E.getUTCHours(),W=E.getUTCMinutes(),fe=E.getUTCSeconds(),ne=_<10?`0${_}`:`${_}`,ye=U<10?`0${U}`:`${U}`,ue=W<10?`0${W}`:`${W}`,it=fe<10?`0${fe}`:`${fe}`;return`${Hl[T]}, ${ne} ${La[C]} ${y} ${ye}:${ue}:${it} GMT`}o(Rc,"dateToUtcString");const zl=new RegExp(/^(\d{4})-(\d{2})-(\d{2})[tT](\d{2}):(\d{2}):(\d{2})(?:\.(\d+))?[zZ]$/),Pc=o(E=>{if(E==null)return;if(typeof E!="string")throw new TypeError("RFC-3339 date-times must be expressed as strings");const y=zl.exec(E);if(!y)throw new TypeError("Invalid RFC-3339 date-time value");const[C,T,_,U,W,fe,ne,ye]=y,ue=Zs(be(T)),it=X(_,"month",1,12),Et=X(U,"day",1,31);return ds(ue,it,Et,{hours:W,minutes:fe,seconds:ne,fractionalMilliseconds:ye})},"parseRfc3339DateTime"),jl=new RegExp(/^(\d{4})-(\d{2})-(\d{2})[tT](\d{2}):(\d{2}):(\d{2})(?:\.(\d+))?(([-+]\d{2}\:\d{2})|[zZ])$/),Dc=o(E=>{if(E==null)return;if(typeof E!="string")throw new TypeError("RFC-3339 date-times must be expressed as strings");const y=jl.exec(E);if(!y)throw new TypeError("Invalid RFC-3339 date-time value");const[C,T,_,U,W,fe,ne,ye,ue]=y,it=Zs(be(T)),Et=X(_,"month",1,12),Wt=X(U,"day",1,31),Vt=ds(it,Et,Wt,{hours:W,minutes:fe,seconds:ne,fractionalMilliseconds:ye});return ue.toUpperCase()!="Z"&&Vt.setTime(Vt.getTime()-ae(ue)),Vt},"parseRfc3339DateTimeWithOffset"),_a=new RegExp(/^(?:Mon|Tue|Wed|Thu|Fri|Sat|Sun), (\d{2}) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) (\d{4}) (\d{1,2}):(\d{2}):(\d{2})(?:\.(\d+))? GMT$/),Na=new RegExp(/^(?:Monday|Tuesday|Wednesday|Thursday|Friday|Saturday|Sunday), (\d{2})-(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)-(\d{2}) (\d{1,2}):(\d{2}):(\d{2})(?:\.(\d+))? GMT$/),Ba=new RegExp(/^(?:Mon|Tue|Wed|Thu|Fri|Sat|Sun) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) ( [1-9]|\d{2}) (\d{1,2}):(\d{2}):(\d{2})(?:\.(\d+))? (\d{4})$/),fl=o(E=>{if(E==null)return;if(typeof E!="string")throw new TypeError("RFC-7231 date-times must be expressed as strings");let y=_a.exec(E);if(y){const[C,T,_,U,W,fe,ne,ye]=y;return ds(Zs(be(U)),Ha(_),X(T,"day",1,31),{hours:W,minutes:fe,seconds:ne,fractionalMilliseconds:ye})}if(y=Na.exec(E),y){const[C,T,_,U,W,fe,ne,ye]=y;return Va(ds(Fa(U),Ha(_),X(T,"day",1,31),{hours:W,minutes:fe,seconds:ne,fractionalMilliseconds:ye}))}if(y=Ba.exec(E),y){const[C,T,_,U,W,fe,ne,ye]=y;return ds(Zs(be(ye)),Ha(T),X(_.trimLeft(),"day",1,31),{hours:U,minutes:W,seconds:fe,fractionalMilliseconds:ne})}throw new TypeError("Invalid RFC-7231 date-time value")},"parseRfc7231DateTime"),er=o(E=>{if(E==null)return;let y;if(typeof E=="number")y=E;else if(typeof E=="string")y=ul(E);else throw new TypeError("Epoch timestamps must be expressed as floating point numbers or their string representation");if(Number.isNaN(y)||y===1/0||y===-1/0)throw new TypeError("Epoch timestamps must be valid, non-Infinite, non-NaN numerics");return new Date(Math.round(y*1e3))},"parseEpochTimestamp"),ds=o((E,y,C,T)=>{const _=y-1;return F(E,_,C),new Date(Date.UTC(E,_,C,X(T.hours,"hour",0,23),X(T.minutes,"minute",0,59),X(T.seconds,"seconds",0,60),z(T.fractionalMilliseconds)))},"buildDate"),Fa=o(E=>{const y=new Date().getUTCFullYear(),C=Math.floor(y/100)*100+Zs(be(E));return C<y?C+100:C},"parseTwoDigitYear"),Ua=50*365*24*60*60*1e3,Va=o(E=>E.getTime()-new Date().getTime()>Ua?new Date(Date.UTC(E.getUTCFullYear()-100,E.getUTCMonth(),E.getUTCDate(),E.getUTCHours(),E.getUTCMinutes(),E.getUTCSeconds(),E.getUTCMilliseconds())):E,"adjustRfc850Year"),Ha=o(E=>{const y=La.indexOf(E);if(y<0)throw new TypeError(`Invalid month: ${E}`);return y+1},"parseMonthByShortName"),b=[31,28,31,30,31,30,31,31,30,31,30,31],F=o((E,y,C)=>{let T=b[y];if(y===1&&w(E)&&(T=29),C>T)throw new TypeError(`Invalid day for ${La[y]} in ${E}: ${C}`)},"validateDayOfMonth"),w=o(E=>E%4===0&&(E%100!==0||E%400===0),"isLeapYear"),X=o((E,y,C,T)=>{const _=Vl(be(E));if(_<C||_>T)throw new TypeError(`${y} must be between ${C} and ${T}, inclusive`);return _},"parseDateValue"),z=o(E=>E==null?0:Ys("0."+E)*1e3,"parseMilliseconds"),ae=o(E=>{const y=E[0];let C=1;if(y=="+")C=1;else if(y=="-")C=-1;else throw new TypeError(`Offset direction, ${y}, must be "+" or "-"`);const T=Number(E.substring(1,3)),_=Number(E.substring(4,6));return C*(T*60+_)*60*1e3},"parseOffsetToMilliseconds"),be=o(E=>{let y=0;for(;y<E.length-1&&E.charAt(y)==="0";)y++;return y===0?E:E.slice(y)},"stripLeadingZeroes");class ve extends Error{constructor(y){super(y.message),Object.setPrototypeOf(this,ve.prototype),this.name=y.name,this.$fault=y.$fault,this.$metadata=y.$metadata}}o(ve,"ServiceException");const qe=o(function(E){let y=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};Object.entries(y).filter(T=>{let[,_]=T;return _!==void 0}).forEach(T=>{let[_,U]=T;(E[_]==null||E[_]==="")&&(E[_]=U)});const C=E.message||E.Message||"UnknownError";return E.message=C,delete E.Message,E},"decorateServiceException"),pe=o(E=>{let{output:y,parsedBody:C,exceptionCtor:T,errorCode:_}=E;const U=Ue(y),W=U.httpStatusCode?U.httpStatusCode+"":void 0,fe=new T({name:(C==null?void 0:C.code)||(C==null?void 0:C.Code)||_||W||"UnknownError",$fault:"client",$metadata:U});throw qe(fe,C)},"throwDefaultError"),Te=o(E=>y=>{let{output:C,parsedBody:T,errorCode:_}=y;pe({output:C,parsedBody:T,exceptionCtor:E,errorCode:_})},"withBaseException");var Qt,Xe;const Ue=o(E=>({httpStatusCode:E.statusCode,requestId:(Xe=(Qt=E.headers["x-amzn-requestid"])!==null&&Qt!==void 0?Qt:E.headers["x-amzn-request-id"])!==null&&Xe!==void 0?Xe:E.headers["x-amz-request-id"],extendedRequestId:E.headers["x-amz-id-2"],cfId:E.headers["x-amz-cf-id"]}),"deserializeMetadata"),yt=o(E=>{switch(E){case"standard":return{retryMode:"standard",connectionTimeout:3100};case"in-region":return{retryMode:"standard",connectionTimeout:1100};case"cross-region":return{retryMode:"standard",connectionTimeout:3100};case"mobile":return{retryMode:"standard",connectionTimeout:3e4};default:return{}}},"loadConfigsForDefaultMode");let Bn=!1;const Xt=o(E=>{E&&!Bn&&parseInt(E.substring(1,E.indexOf(".")))<14&&(Bn=!0)},"emitWarningIfUnsupportedVersion");function Nt(E){return encodeURIComponent(E).replace(/[!'()*]/g,function(y){return"%"+y.charCodeAt(0).toString(16).toUpperCase()})}o(Nt,"extendedEncodeURIComponent");const hn=o(E=>Array.isArray(E)?E:[E],"getArrayIfSingleItem"),jt=o(E=>{const y="#text";for(const C in E)E.hasOwnProperty(C)&&E[C][y]!==void 0?E[C]=E[C][y]:typeof E[C]=="object"&&E[C]!==null&&(E[C]=jt(E[C]));return E},"getValueFromTextNode"),Ye=o(function(){const E=Object.getPrototypeOf(this).constructor,y=Function.bind.apply(String,[null,...arguments]),C=new y;return Object.setPrototypeOf(C,E.prototype),C},"StringWrapper");Ye.prototype=Object.create(String.prototype,{constructor:{value:Ye,enumerable:!1,writable:!0,configurable:!0}}),Object.setPrototypeOf(Ye,String);class qt extends Ye{deserializeJSON(){return JSON.parse(super.toString())}toJSON(){return super.toString()}static fromObject(y){return y instanceof qt?y:y instanceof String||typeof y=="string"?new qt(y):new qt(JSON.stringify(y))}}o(qt,"LazyJsonString");function We(E,y,C){let T,_,U;if(typeof y>"u"&&typeof C>"u")T={},U=E;else{if(T=E,typeof y=="function")return _=y,U=C,mn(T,_,U);U=y}for(const W of Object.keys(U)){if(!Array.isArray(U[W])){T[W]=U[W];continue}Bt(T,null,U,W)}return T}o(We,"map");const Ct=o(E=>{const y={};for(const[C,T]of Object.entries(E||{}))y[C]=[,T];return y},"convertMap"),nt=o((E,y)=>{const C={};for(const T in y)Bt(C,E,y,T);return C},"take"),mn=o((E,y,C)=>We(E,Object.entries(C).reduce((T,_)=>{let[U,W]=_;return Array.isArray(W)?T[U]=W:typeof W=="function"?T[U]=[y,W()]:T[U]=[y,W],T},{})),"mapWithFilter"),Bt=o((E,y,C,T)=>{if(y!==null){let W=C[T];typeof W=="function"&&(W=[,W]);const[fe=Ht,ne=Wr,ye=T]=W;(typeof fe=="function"&&fe(y[ye])||typeof fe!="function"&&fe)&&(E[T]=ne(y[ye]));return}let[_,U]=C[T];if(typeof U=="function"){let W;const fe=_===void 0&&(W=U())!=null,ne=typeof _=="function"&&!!_(void 0)||typeof _!="function"&&!!_;fe?E[T]=W:ne&&(E[T]=U())}else{const W=_===void 0&&U!=null,fe=typeof _=="function"&&!!_(U)||typeof _!="function"&&!!_;(W||fe)&&(E[T]=U)}},"applyInstruction"),Ht=o(E=>E!=null,"nonNullish"),Wr=o(E=>E,"pass"),dn=o((E,y,C,T,_,U)=>{if(y!=null&&y[C]!==void 0){const W=T();if(W.length<=0)throw new Error("Empty value provided for input HTTP label: "+C+".");E=E.replace(_,U?W.split("/").map(fe=>Nt(fe)).join("/"):Nt(W))}else throw new Error("No value provided for input HTTP label: "+C+".");return E},"resolve_path_resolvedPath"),pl=o(E=>{if(E!==E)return"NaN";switch(E){case 1/0:return"Infinity";case-1/0:return"-Infinity";default:return E}},"serializeFloat"),ln=o(E=>{if(E==null)return{};if(Array.isArray(E))return E.filter(y=>y!=null);if(typeof E=="object"){const y={};for(const C of Object.keys(E))E[C]!=null&&(y[C]=ln(E[C]));return y}return E},"_json");function Ds(E,y,C){if(C<=0||!Number.isInteger(C))throw new Error("Invalid number of delimiters ("+C+") for splitEvery.");const T=E.split(y);if(C===1)return T;const _=[];let U="";for(let W=0;W<T.length;W++)U===""?U=T[W]:U+=y+T[W],(W+1)%C===0&&(_.push(U),U="");return U!==""&&_.push(U),_}o(Ds,"splitEvery");const us=o(E=>{var y,C;return{...E,useDualstackEndpoint:(y=E.useDualstackEndpoint)!==null&&y!==void 0?y:!1,useFipsEndpoint:(C=E.useFipsEndpoint)!==null&&C!==void 0?C:!1,defaultSigningName:"chime"}},"resolveClientEndpointParameters");var $h=d("M2az"),Kh=d("viNG");function Jh(E){const y=[];for(let C of Object.keys(E).sort()){const T=E[C];if(C=zr(C),Array.isArray(T))for(let _=0,U=T.length;_<U;_++)y.push(`${C}=${zr(T[_])}`);else{let _=C;(T||typeof T=="string")&&(_+=`=${zr(T)}`),y.push(_)}}return y.join("&")}o(Jh,"buildQueryString");function Yh(){let E=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;return new Promise((y,C)=>{E&&setTimeout(()=>{const T=new Error(`Request did not complete within ${E} ms`);T.name="TimeoutError",C(T)},E)})}o(Yh,"requestTimeout");class Wd{destroy(){}handle(y){let{abortSignal:C}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};var T=this;return Object(u.coroutine)(function*(){T.config||(T.config=yield T.configProvider);const _=T.config.requestTimeout;if(C!=null&&C.aborted){const Wt=new Error("Request aborted");return Wt.name="AbortError",Promise.reject(Wt)}let U=y.path;if(y.query){const Wt=Jh(y.query);Wt&&(U+=`?${Wt}`)}const{port:W,method:fe}=y,ne=`${y.protocol}//${y.hostname}${W?`:${W}`:""}${U}`,ue={body:fe==="GET"||fe==="HEAD"?void 0:y.body,headers:new Headers(y.headers),method:fe};typeof AbortController<"u"&&(ue.signal=C);const it=new Request(ne,ue),Et=[fetch(it).then(Wt=>{const Vt=Wt.headers,Ft={};for(const Yi of Vt.entries())Ft[Yi[0]]=Yi[1];return Wt.body!=null?{response:new Be({headers:Ft,statusCode:Wt.status,body:Wt.body})}:Wt.blob().then(Yi=>({response:new Be({headers:Ft,statusCode:Wt.status,body:Yi})}))}),Yh(_)];return C&&Et.push(new Promise((Wt,Vt)=>{C.onabort=()=>{const Ft=new Error("Request aborted");Ft.name="AbortError",Vt(Ft)}})),Promise.race(Et)})()}constructor(y){typeof y=="function"?this.configProvider=y().then(C=>C||{}):(this.config=y??{},this.configProvider=Promise.resolve(this.config))}}o(Wd,"fetch_http_handler_FetchHttpHandler");const fa={},ml=new Array(64);for(let E=0,y="A".charCodeAt(0),C="Z".charCodeAt(0);E+y<=C;E++){const T=String.fromCharCode(E+y);fa[T]=E,ml[E]=T}for(let E=0,y="a".charCodeAt(0),C="z".charCodeAt(0);E+y<=C;E++){const T=String.fromCharCode(E+y),_=E+26;fa[T]=_,ml[_]=T}for(let E=0;E<10;E++){fa[E.toString(10)]=E+52;const y=E.toString(10),C=E+52;fa[y]=C,ml[C]=y}fa["+"]=62,ml[62]="+",fa["/"]=63,ml[63]="/";const gl=6,Wl=8,Xh=63,Gd=o(E=>{let y=E.length/4*3;E.slice(-2)==="=="?y-=2:E.slice(-1)==="="&&y--;const C=new ArrayBuffer(y),T=new DataView(C);for(let _=0;_<E.length;_+=4){let U=0,W=0;for(let ye=_,ue=_+3;ye<=ue;ye++)if(E[ye]!=="="){if(!(E[ye]in fa))throw new TypeError(`Invalid character ${E[ye]} in base64 string.`);U|=fa[E[ye]]<<(ue-ye)*gl,W+=gl}else U>>=gl;const fe=_/4*3;U>>=W%Wl;const ne=Math.floor(W/Wl);for(let ye=0;ye<ne;ye++){const ue=(ne-ye-1)*Wl;T.setUint8(fe+ye,(U&255<<ue)>>ue)}}return new Uint8Array(C)},"fromBase64");function Zh(E){let y="";for(let C=0;C<E.length;C+=3){let T=0,_=0;for(let W=C,fe=Math.min(C+3,E.length);W<fe;W++)T|=E[W]<<(fe-W-1)*Wl,_+=Wl;const U=Math.ceil(_/gl);T<<=U*gl-_;for(let W=1;W<=U;W++){const fe=(U-W)*gl;y+=ml[(T&Xh<<fe)>>fe]}y+="==".slice(0,4-U)}return y}o(Zh,"toBase64");const Qh=o(E=>typeof Blob=="function"&&E instanceof Blob?qh(E):ef(E),"streamCollector");function qh(E){return rd.apply(this,arguments)}o(qh,"collectBlob");function rd(){return rd=Object(u.coroutine)(function*(E){const y=yield tf(E),C=Gd(y);return new Uint8Array(C)}),rd.apply(this,arguments)}o(rd,"_collectBlob");function ef(E){return od.apply(this,arguments)}o(ef,"collectStream");function od(){return od=Object(u.coroutine)(function*(E){let y=new Uint8Array(0);const C=E.getReader();let T=!1;for(;!T;){const{done:_,value:U}=yield C.read();if(U){const W=y;y=new Uint8Array(W.length+U.length),y.set(W),y.set(U,W.length)}T=_}return y}),od.apply(this,arguments)}o(od,"_collectStream");function tf(E){return new Promise((y,C)=>{const T=new FileReader;T.onloadend=()=>{if(T.readyState!==2)return C(new Error("Reader aborted too early"));var _;const U=(_=T.result)!==null&&_!==void 0?_:"",W=U.indexOf(","),fe=W>-1?W+1:U.length;y(U.substring(fe))},T.onabort=()=>C(new Error("Read aborted")),T.onerror=()=>C(T.error),T.readAsDataURL(E)})}o(tf,"readToBase64");const Mv=o(E=>()=>{throw new Error(E)},"invalidFunction"),nf=o(E=>()=>Promise.reject(E),"invalidProvider"),rf=o(E=>{if(typeof E=="string"){let y=E.length;for(let C=y-1;C>=0;C--){const T=E.charCodeAt(C);T>127&&T<=2047?y++:T>2047&&T<=65535&&(y+=2),T>=56320&&T<=57343&&C--}return y}else{if(typeof E.byteLength=="number")return E.byteLength;if(typeof E.size=="number")return E.size}throw new Error(`Body Length computation failed for ${E}`)},"calculateBodyLength");var of=d("M39V"),$d=d.n(of);const sf=o(E=>{let{serviceId:y,clientVersion:C}=E;return Object(u.coroutine)(function*(){var T,_,U,W,fe;const ne=typeof window<"u"&&(!(window==null||(T=window.navigator)===null||T===void 0)&&T.userAgent)?$d.a.parse(window.navigator.userAgent):void 0;var ye,ue;const it=[["aws-sdk-js",C],[`os/${(ne==null||(_=ne.os)===null||_===void 0?void 0:_.name)||"other"}`,ne==null||(U=ne.os)===null||U===void 0?void 0:U.version],["lang/js"],["md/browser",`${(ye=ne==null||(W=ne.browser)===null||W===void 0?void 0:W.name)!==null&&ye!==void 0?ye:"unknown"}_${(ue=ne==null||(fe=ne.browser)===null||fe===void 0?void 0:fe.version)!==null&&ue!==void 0?ue:"unknown"}`]];return y&&it.push([`api/${y}`,C]),it})},"dist_es_defaultUserAgent"),Kd="required",Qs="fn",qs="argv",vl="ref",Jd="isSet",uo="tree",Sl="error",Gl="endpoint",sd="PartitionResult",Yd={[Kd]:!1,type:"String"},Xd={[Kd]:!0,default:!1,type:"Boolean"},Zd={[vl]:"Endpoint"},Qd={[Qs]:"booleanEquals",[qs]:[{[vl]:"UseFIPS"},!0]},qd={[Qs]:"booleanEquals",[qs]:[{[vl]:"UseDualStack"},!0]},xs={},eu={[Qs]:"booleanEquals",[qs]:[!0,{[Qs]:"getAttr",[qs]:[{[vl]:sd},"supportsFIPS"]}]},tu={[Qs]:"booleanEquals",[qs]:[!0,{[Qs]:"getAttr",[qs]:[{[vl]:sd},"supportsDualStack"]}]},nu=[Qd],iu=[qd],ru=[{[vl]:"Region"}],af={version:"1.0",parameters:{Region:Yd,UseDualStack:Xd,UseFIPS:Xd,Endpoint:Yd},rules:[{conditions:[{[Qs]:Jd,[qs]:[Zd]}],type:uo,rules:[{conditions:nu,error:"Invalid Configuration: FIPS and custom endpoint are not supported",type:Sl},{type:uo,rules:[{conditions:iu,error:"Invalid Configuration: Dualstack and custom endpoint are not supported",type:Sl},{endpoint:{url:Zd,properties:xs,headers:xs},type:Gl}]}]},{type:uo,rules:[{conditions:[{[Qs]:Jd,[qs]:ru}],type:uo,rules:[{conditions:[{[Qs]:"aws.partition",[qs]:ru,assign:sd}],type:uo,rules:[{conditions:[Qd,qd],type:uo,rules:[{conditions:[eu,tu],type:uo,rules:[{type:uo,rules:[{endpoint:{url:"https://messaging-chime-fips.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:xs,headers:xs},type:Gl}]}]},{error:"FIPS and DualStack are enabled, but this partition does not support one or both",type:Sl}]},{conditions:nu,type:uo,rules:[{conditions:[eu],type:uo,rules:[{type:uo,rules:[{endpoint:{url:"https://messaging-chime-fips.{Region}.{PartitionResult#dnsSuffix}",properties:xs,headers:xs},type:Gl}]}]},{error:"FIPS is enabled but this partition does not support FIPS",type:Sl}]},{conditions:iu,type:uo,rules:[{conditions:[tu],type:uo,rules:[{type:uo,rules:[{endpoint:{url:"https://messaging-chime.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:xs,headers:xs},type:Gl}]}]},{error:"DualStack is enabled but this partition does not support DualStack",type:Sl}]},{type:uo,rules:[{endpoint:{url:"https://messaging-chime.{Region}.{PartitionResult#dnsSuffix}",properties:xs,headers:xs},type:Gl}]}]}]},{error:"Invalid Configuration: Missing Region",type:Sl}]}]},lf=o(function(E){let y=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return Mi(af,{endpointParams:E,logger:y.logger})},"defaultEndpointResolver");var ad,ld,cd,dd,ud,hd,fd,pd,md;const cf=o(E=>({apiVersion:"2021-05-15",base64Decoder:(ad=E==null?void 0:E.base64Decoder)!==null&&ad!==void 0?ad:Gd,base64Encoder:(ld=E==null?void 0:E.base64Encoder)!==null&&ld!==void 0?ld:Zh,disableHostPrefix:(cd=E==null?void 0:E.disableHostPrefix)!==null&&cd!==void 0?cd:!1,endpointProvider:(dd=E==null?void 0:E.endpointProvider)!==null&&dd!==void 0?dd:lf,logger:(ud=E==null?void 0:E.logger)!==null&&ud!==void 0?ud:new co,serviceId:(hd=E==null?void 0:E.serviceId)!==null&&hd!==void 0?hd:"Chime SDK Messaging",urlParser:(fd=E==null?void 0:E.urlParser)!==null&&fd!==void 0?fd:gi,utf8Decoder:(pd=E==null?void 0:E.utf8Decoder)!==null&&pd!==void 0?pd:ho,utf8Encoder:(md=E==null?void 0:E.utf8Encoder)!==null&&md!==void 0?md:Eo}),"getRuntimeConfig"),df=["in-region","cross-region","mobile","standard","legacy"],uf=o(function(){let{defaultsMode:E}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return xi(Object(u.coroutine)(function*(){const y=typeof E=="function"?yield E():E;switch(y==null?void 0:y.toLowerCase()){case"auto":return Promise.resolve(hf()?"mobile":"standard");case"mobile":case"in-region":case"cross-region":case"standard":case"legacy":return Promise.resolve(y==null?void 0:y.toLocaleLowerCase());case void 0:return Promise.resolve("legacy");default:throw new Error(`Invalid parameter for "defaultsMode", expect ${df.join(", ")}, got ${y}`)}}))},"resolveDefaultsModeConfig"),hf=o(()=>{var E,y;const C=typeof window<"u"&&(!(window==null||(E=window.navigator)===null||E===void 0)&&E.userAgent)?$d.a.parse(window.navigator.userAgent):void 0,T=C==null||(y=C.platform)===null||y===void 0?void 0:y.type;return T==="tablet"||T==="mobile"},"isMobileBrowser"),ff=o(E=>{const y=uf(E),C=o(()=>y().then(yt),"defaultConfigProvider"),T=cf(E);var _,U,W,fe,ne,ye,ue,it,Et,Wt,Vt;return{...T,...E,runtime:"browser",defaultsMode:y,bodyLengthChecker:(_=E==null?void 0:E.bodyLengthChecker)!==null&&_!==void 0?_:rf,credentialDefaultProvider:(U=E==null?void 0:E.credentialDefaultProvider)!==null&&U!==void 0?U:Ft=>()=>Promise.reject(new Error("Credential is missing")),defaultUserAgentProvider:(W=E==null?void 0:E.defaultUserAgentProvider)!==null&&W!==void 0?W:sf({serviceId:T.serviceId,clientVersion:$h.version}),maxAttempts:(fe=E==null?void 0:E.maxAttempts)!==null&&fe!==void 0?fe:Xn,region:(ne=E==null?void 0:E.region)!==null&&ne!==void 0?ne:nf("Region is missing"),requestHandler:(ye=E==null?void 0:E.requestHandler)!==null&&ye!==void 0?ye:new Wd(C),retryMode:(ue=E==null?void 0:E.retryMode)!==null&&ue!==void 0?ue:Object(u.coroutine)(function*(){return(yield C()).retryMode||vi}),sha256:(it=E==null?void 0:E.sha256)!==null&&it!==void 0?it:Kh.Sha256,streamCollector:(Et=E==null?void 0:E.streamCollector)!==null&&Et!==void 0?Et:Qh,useDualstackEndpoint:(Wt=E==null?void 0:E.useDualstackEndpoint)!==null&&Wt!==void 0?Wt:()=>Promise.resolve(i),useFipsEndpoint:(Vt=E==null?void 0:E.useFipsEndpoint)!==null&&Vt!==void 0?Vt:()=>Promise.resolve(l)}},"runtimeConfig_browser_getRuntimeConfig");class So extends Js{destroy(){super.destroy()}constructor(y){const C=ff(y),T=us(C),_=$(T),U=en(_),W=Di(U),fe=W,ne=Ro(fe),ye=qr(ne);super(ye),this.config=ye,this.middlewareStack.use(ro(this.config)),this.middlewareStack.use(tt(this.config)),this.middlewareStack.use(Pe(this.config)),this.middlewareStack.use(zt(this.config)),this.middlewareStack.use(Vn(this.config)),this.middlewareStack.use(os(this.config)),this.middlewareStack.use(Da(this.config))}}o(So,"ChimeSDKMessagingClient_ChimeSDKMessagingClient");var gd;(function(E){E[E.HEADER=0]="HEADER",E[E.TRAILER=1]="TRAILER"})(gd||(gd={}));class pf{constructor({name:y,kind:C=gd.HEADER,values:T=[]}){this.name=y,this.kind=C,this.values=T}add(y){this.values.push(y)}set(y){this.values=y}remove(y){this.values=this.values.filter(C=>C!==y)}toString(){return this.values.map(y=>y.includes(",")||y.includes(" ")?`"${y}"`:y).join(", ")}get(){return this.values}}o(pf,"dist_es_Field_Field");class mf{constructor({fields:y=[],encoding:C="utf-8"}){this.entries={},y.forEach(this.setField.bind(this)),this.encoding=C}setField(y){this.entries[y.name.toLowerCase()]=y}getField(y){return this.entries[y.toLowerCase()]}removeField(y){delete this.entries[y.toLowerCase()]}getByType(y){return Object.values(this.entries).filter(C=>C.kind===y)}}o(mf,"Fields_Fields");class On{constructor(y){this.method=y.method||"GET",this.hostname=y.hostname||"localhost",this.port=y.port,this.query=y.query||{},this.headers=y.headers||{},this.body=y.body,this.protocol=y.protocol?y.protocol.slice(-1)!==":"?`${y.protocol}:`:y.protocol:"https:",this.path=y.path?y.path.charAt(0)!=="/"?`/${y.path}`:y.path:"/"}static isInstance(y){if(!y)return!1;const C=y;return"method"in C&&"protocol"in C&&"hostname"in C&&"path"in C&&typeof C.query=="object"&&typeof C.headers=="object"}clone(){const y=new On({...this,headers:{...this.headers}});return y.query&&(y.query=gf(y.query)),y}}o(On,"httpRequest_HttpRequest");function gf(E){return Object.keys(E).reduce((y,C)=>{const T=E[C];return{...y,[C]:Array.isArray(T)?[...T]:T}},{})}o(gf,"httpRequest_cloneQuery");class vf{constructor(y){this.statusCode=y.statusCode,this.headers=y.headers||{},this.body=y.body}static isInstance(y){if(!y)return!1;const C=y;return typeof C.statusCode=="number"&&typeof C.headers=="object"}}o(vf,"httpResponse_HttpResponse");function Rv(E){return/^[a-z0-9][a-z0-9\.\-]*[a-z0-9]$/.test(E)}o(Rv,"isValidHostname_isValidHostname");class yo extends ve{constructor(y){super(y),Object.setPrototypeOf(this,yo.prototype)}}o(yo,"ChimeSDKMessagingServiceException_ChimeSDKMessagingServiceException");const Sf={ALL:"ALL",FILTERED:"FILTERED",NONE:"NONE"},yf={DEFAULT:"DEFAULT",HIDDEN:"HIDDEN"},Cf={AccessDenied:"AccessDenied",BadRequest:"BadRequest",Conflict:"Conflict",Forbidden:"Forbidden",NotFound:"NotFound",PhoneNumberAssociationsExist:"PhoneNumberAssociationsExist",PreconditionFailed:"PreconditionFailed",ResourceLimitExceeded:"ResourceLimitExceeded",ServiceFailure:"ServiceFailure",ServiceUnavailable:"ServiceUnavailable",Throttled:"Throttled",Throttling:"Throttling",Unauthorized:"Unauthorized",Unprocessable:"Unprocessable",VoiceConnectorGroupAssociationsExist:"VoiceConnectorGroupAssociationsExist"};class $l extends yo{constructor(y){super({name:"BadRequestException",$fault:"client",...y}),this.name="BadRequestException",this.$fault="client",Object.setPrototypeOf(this,$l.prototype),this.Code=y.Code,this.Message=y.Message}}o($l,"models_0_BadRequestException");class Kl extends yo{constructor(y){super({name:"ConflictException",$fault:"client",...y}),this.name="ConflictException",this.$fault="client",Object.setPrototypeOf(this,Kl.prototype),this.Code=y.Code,this.Message=y.Message}}o(Kl,"models_0_ConflictException");class Jl extends yo{constructor(y){super({name:"ForbiddenException",$fault:"client",...y}),this.name="ForbiddenException",this.$fault="client",Object.setPrototypeOf(this,Jl.prototype),this.Code=y.Code,this.Message=y.Message}}o(Jl,"models_0_ForbiddenException");class Yl extends yo{constructor(y){super({name:"NotFoundException",$fault:"client",...y}),this.name="NotFoundException",this.$fault="client",Object.setPrototypeOf(this,Yl.prototype),this.Code=y.Code,this.Message=y.Message}}o(Yl,"models_0_NotFoundException");class Xl extends yo{constructor(y){super({name:"ServiceFailureException",$fault:"server",...y}),this.name="ServiceFailureException",this.$fault="server",Object.setPrototypeOf(this,Xl.prototype),this.Code=y.Code,this.Message=y.Message}}o(Xl,"models_0_ServiceFailureException");class Zl extends yo{constructor(y){super({name:"ServiceUnavailableException",$fault:"server",...y}),this.name="ServiceUnavailableException",this.$fault="server",Object.setPrototypeOf(this,Zl.prototype),this.Code=y.Code,this.Message=y.Message}}o(Zl,"models_0_ServiceUnavailableException");class Ql extends yo{constructor(y){super({name:"ThrottledClientException",$fault:"client",...y}),this.name="ThrottledClientException",this.$fault="client",Object.setPrototypeOf(this,Ql.prototype),this.Code=y.Code,this.Message=y.Message}}o(Ql,"models_0_ThrottledClientException");class ql extends yo{constructor(y){super({name:"UnauthorizedClientException",$fault:"client",...y}),this.name="UnauthorizedClientException",this.$fault="client",Object.setPrototypeOf(this,ql.prototype),this.Code=y.Code,this.Message=y.Message}}o(ql,"models_0_UnauthorizedClientException");class ec extends yo{constructor(y){super({name:"ResourceLimitExceededException",$fault:"client",...y}),this.name="ResourceLimitExceededException",this.$fault="client",Object.setPrototypeOf(this,ec.prototype),this.Code=y.Code,this.Message=y.Message}}o(ec,"models_0_ResourceLimitExceededException");const bf={CREATED_TIMESTAMP:"CREATED_TIMESTAMP",LAST_MESSAGE_TIMESTAMP:"LAST_MESSAGE_TIMESTAMP"},Ef={RESTRICTED:"RESTRICTED",UNRESTRICTED:"UNRESTRICTED"},Tf={PRIVATE:"PRIVATE",PUBLIC:"PUBLIC"},If={ASYNC:"ASYNC"},wf={ABORT:"ABORT",CONTINUE:"CONTINUE"},Of={DEFAULT:"DEFAULT",VOIP:"VOIP"},Mf={NON_PERSISTENT:"NON_PERSISTENT",PERSISTENT:"PERSISTENT"},Af={DENIED:"DENIED",FAILED:"FAILED",PENDING:"PENDING",SENT:"SENT"},Rf={CONTROL:"CONTROL",STANDARD:"STANDARD"},Pf={Channel:"Channel",ChannelMessage:"ChannelMessage"},Df={ASCENDING:"ASCENDING",DESCENDING:"DESCENDING"},xf={MEMBERS:"MEMBERS"},kf={EQUALS:"EQUALS",INCLUDES:"INCLUDES"},gr=o(E=>({...E,...E.Name&&{Name:nn}}),"IdentityFilterSensitiveLog"),ou=o(E=>({...E,...E.InvitedBy&&{InvitedBy:gr(E.InvitedBy)},...E.Members&&{Members:E.Members.map(y=>gr(y))}}),"BatchChannelMembershipsFilterSensitiveLog"),su=o(E=>({...E,...E.BatchChannelMemberships&&{BatchChannelMemberships:ou(E.BatchChannelMemberships)}}),"BatchCreateChannelMembershipResponseFilterSensitiveLog"),au=o(E=>({...E,...E.Name&&{Name:nn},...E.Metadata&&{Metadata:nn},...E.CreatedBy&&{CreatedBy:gr(E.CreatedBy)}}),"ChannelFilterSensitiveLog"),lu=o(E=>({...E,...E.Name&&{Name:nn},...E.Metadata&&{Metadata:nn}}),"ChannelAssociatedWithFlowSummaryFilterSensitiveLog"),cu=o(E=>({...E,...E.Member&&{Member:gr(E.Member)},...E.CreatedBy&&{CreatedBy:gr(E.CreatedBy)}}),"ChannelBanFilterSensitiveLog"),du=o(E=>({...E,...E.Member&&{Member:gr(E.Member)}}),"ChannelBanSummaryFilterSensitiveLog"),tc=o(E=>({...E,...E.Name&&{Name:nn}}),"ProcessorFilterSensitiveLog"),uu=o(E=>({...E,...E.Processors&&{Processors:E.Processors.map(y=>tc(y))},...E.Name&&{Name:nn}}),"ChannelFlowFilterSensitiveLog"),nc=o(E=>({...E,...E.StringValues&&{StringValues:nn}}),"MessageAttributeValueFilterSensitiveLog"),vd=o(E=>({...E,...E.Title&&{Title:nn},...E.Body&&{Body:nn}}),"PushNotificationConfigurationFilterSensitiveLog"),hu=o(E=>({...E,...E.Content&&{Content:nn},...E.Metadata&&{Metadata:nn},...E.PushNotification&&{PushNotification:vd(E.PushNotification)},...E.MessageAttributes&&{MessageAttributes:Object.entries(E.MessageAttributes).reduce((y,C)=>{let[T,_]=C;return y[T]=nc(_),y},{})},...E.ContentType&&{ContentType:nn}}),"ChannelMessageCallbackFilterSensitiveLog"),fu=o(E=>({...E,...E.ChannelMessage&&{ChannelMessage:hu(E.ChannelMessage)}}),"ChannelFlowCallbackRequestFilterSensitiveLog"),pu=o(E=>({...E,...E.Name&&{Name:nn},...E.Processors&&{Processors:E.Processors.map(y=>tc(y))}}),"ChannelFlowSummaryFilterSensitiveLog"),mu=o(E=>({...E,...E.InvitedBy&&{InvitedBy:gr(E.InvitedBy)},...E.Member&&{Member:gr(E.Member)}}),"ChannelMembershipFilterSensitiveLog"),ic=o(E=>({...E,...E.Name&&{Name:nn},...E.Metadata&&{Metadata:nn}}),"ChannelSummaryFilterSensitiveLog"),Sd=o(E=>({...E,...E.ChannelSummary&&{ChannelSummary:ic(E.ChannelSummary)}}),"ChannelMembershipForAppInstanceUserSummaryFilterSensitiveLog"),gu=o(E=>({...E,...E.FilterRule&&{FilterRule:nn}}),"PushNotificationPreferencesFilterSensitiveLog"),xc=o(E=>({...E,...E.PushNotifications&&{PushNotifications:gu(E.PushNotifications)}}),"ChannelMembershipPreferencesFilterSensitiveLog"),vu=o(E=>({...E,...E.Member&&{Member:gr(E.Member)}}),"ChannelMembershipSummaryFilterSensitiveLog"),Su=o(E=>({...E,...E.Content&&{Content:nn},...E.Metadata&&{Metadata:nn},...E.Sender&&{Sender:gr(E.Sender)},...E.MessageAttributes&&{MessageAttributes:Object.entries(E.MessageAttributes).reduce((y,C)=>{let[T,_]=C;return y[T]=nc(_),y},{})},...E.ContentType&&{ContentType:nn}}),"ChannelMessageFilterSensitiveLog"),yu=o(E=>({...E,...E.Content&&{Content:nn},...E.Metadata&&{Metadata:nn},...E.Sender&&{Sender:gr(E.Sender)},...E.MessageAttributes&&{MessageAttributes:Object.entries(E.MessageAttributes).reduce((y,C)=>{let[T,_]=C;return y[T]=nc(_),y},{})},...E.ContentType&&{ContentType:nn}}),"ChannelMessageSummaryFilterSensitiveLog"),yd=o(E=>({...E,...E.ChannelSummary&&{ChannelSummary:ic(E.ChannelSummary)}}),"ChannelModeratedByAppInstanceUserSummaryFilterSensitiveLog"),Cu=o(E=>({...E,...E.Moderator&&{Moderator:gr(E.Moderator)},...E.CreatedBy&&{CreatedBy:gr(E.CreatedBy)}}),"ChannelModeratorFilterSensitiveLog"),bu=o(E=>({...E,...E.Moderator&&{Moderator:gr(E.Moderator)}}),"ChannelModeratorSummaryFilterSensitiveLog"),rc=o(E=>({...E,...E.Key&&{Key:nn},...E.Value&&{Value:nn}}),"TagFilterSensitiveLog"),Eu=o(E=>({...E,...E.Name&&{Name:nn},...E.Metadata&&{Metadata:nn},...E.ClientRequestToken&&{ClientRequestToken:nn},...E.Tags&&{Tags:E.Tags.map(y=>rc(y))},...E.ChannelId&&{ChannelId:nn}}),"CreateChannelRequestFilterSensitiveLog"),Tu=o(E=>({...E,...E.Member&&{Member:gr(E.Member)}}),"CreateChannelBanResponseFilterSensitiveLog"),Iu=o(E=>({...E,...E.Processors&&{Processors:E.Processors.map(y=>tc(y))},...E.Name&&{Name:nn},...E.Tags&&{Tags:E.Tags.map(y=>rc(y))},...E.ClientRequestToken&&{ClientRequestToken:nn}}),"CreateChannelFlowRequestFilterSensitiveLog"),wu=o(E=>({...E,...E.Member&&{Member:gr(E.Member)}}),"CreateChannelMembershipResponseFilterSensitiveLog"),Ou=o(E=>({...E,...E.ChannelModerator&&{ChannelModerator:gr(E.ChannelModerator)}}),"CreateChannelModeratorResponseFilterSensitiveLog"),Mu=o(E=>({...E,...E.Channel&&{Channel:au(E.Channel)}}),"DescribeChannelResponseFilterSensitiveLog"),Au=o(E=>({...E,...E.ChannelBan&&{ChannelBan:cu(E.ChannelBan)}}),"DescribeChannelBanResponseFilterSensitiveLog"),Ru=o(E=>({...E,...E.ChannelFlow&&{ChannelFlow:uu(E.ChannelFlow)}}),"DescribeChannelFlowResponseFilterSensitiveLog"),Pu=o(E=>({...E,...E.ChannelMembership&&{ChannelMembership:mu(E.ChannelMembership)}}),"DescribeChannelMembershipResponseFilterSensitiveLog"),Du=o(E=>({...E,...E.ChannelMembership&&{ChannelMembership:Sd(E.ChannelMembership)}}),"DescribeChannelMembershipForAppInstanceUserResponseFilterSensitiveLog"),xu=o(E=>({...E,...E.Channel&&{Channel:yd(E.Channel)}}),"DescribeChannelModeratedByAppInstanceUserResponseFilterSensitiveLog"),ku=o(E=>({...E,...E.ChannelModerator&&{ChannelModerator:Cu(E.ChannelModerator)}}),"DescribeChannelModeratorResponseFilterSensitiveLog"),Lu=o(E=>({...E,...E.Member&&{Member:gr(E.Member)},...E.Preferences&&{Preferences:xc(E.Preferences)}}),"GetChannelMembershipPreferencesResponseFilterSensitiveLog"),_u=o(E=>({...E,...E.ChannelMessage&&{ChannelMessage:Su(E.ChannelMessage)}}),"GetChannelMessageResponseFilterSensitiveLog"),Nu=o(E=>({...E,...E.NextToken&&{NextToken:nn}}),"ListChannelBansRequestFilterSensitiveLog"),Bu=o(E=>({...E,...E.NextToken&&{NextToken:nn},...E.ChannelBans&&{ChannelBans:E.ChannelBans.map(y=>du(y))}}),"ListChannelBansResponseFilterSensitiveLog"),Fu=o(E=>({...E,...E.NextToken&&{NextToken:nn}}),"ListChannelFlowsRequestFilterSensitiveLog"),Uu=o(E=>({...E,...E.ChannelFlows&&{ChannelFlows:E.ChannelFlows.map(y=>pu(y))},...E.NextToken&&{NextToken:nn}}),"ListChannelFlowsResponseFilterSensitiveLog"),Vu=o(E=>({...E,...E.NextToken&&{NextToken:nn}}),"ListChannelMembershipsRequestFilterSensitiveLog"),Hu=o(E=>({...E,...E.ChannelMemberships&&{ChannelMemberships:E.ChannelMemberships.map(y=>vu(y))},...E.NextToken&&{NextToken:nn}}),"ListChannelMembershipsResponseFilterSensitiveLog"),zu=o(E=>({...E,...E.NextToken&&{NextToken:nn}}),"ListChannelMembershipsForAppInstanceUserRequestFilterSensitiveLog"),ju=o(E=>({...E,...E.ChannelMemberships&&{ChannelMemberships:E.ChannelMemberships.map(y=>Sd(y))},...E.NextToken&&{NextToken:nn}}),"ListChannelMembershipsForAppInstanceUserResponseFilterSensitiveLog"),Wu=o(E=>({...E,...E.NextToken&&{NextToken:nn}}),"ListChannelMessagesRequestFilterSensitiveLog"),Gu=o(E=>({...E,...E.NextToken&&{NextToken:nn},...E.ChannelMessages&&{ChannelMessages:E.ChannelMessages.map(y=>yu(y))}}),"ListChannelMessagesResponseFilterSensitiveLog"),$u=o(E=>({...E,...E.NextToken&&{NextToken:nn}}),"ListChannelModeratorsRequestFilterSensitiveLog"),Ku=o(E=>({...E,...E.NextToken&&{NextToken:nn},...E.ChannelModerators&&{ChannelModerators:E.ChannelModerators.map(y=>bu(y))}}),"ListChannelModeratorsResponseFilterSensitiveLog"),Ju=o(E=>({...E,...E.NextToken&&{NextToken:nn}}),"ListChannelsRequestFilterSensitiveLog"),Yu=o(E=>({...E,...E.Channels&&{Channels:E.Channels.map(y=>ic(y))},...E.NextToken&&{NextToken:nn}}),"ListChannelsResponseFilterSensitiveLog"),Xu=o(E=>({...E,...E.NextToken&&{NextToken:nn}}),"ListChannelsAssociatedWithChannelFlowRequestFilterSensitiveLog"),Zu=o(E=>({...E,...E.Channels&&{Channels:E.Channels.map(y=>lu(y))},...E.NextToken&&{NextToken:nn}}),"ListChannelsAssociatedWithChannelFlowResponseFilterSensitiveLog"),Qu=o(E=>({...E,...E.NextToken&&{NextToken:nn}}),"ListChannelsModeratedByAppInstanceUserRequestFilterSensitiveLog"),qu=o(E=>({...E,...E.Channels&&{Channels:E.Channels.map(y=>yd(y))},...E.NextToken&&{NextToken:nn}}),"ListChannelsModeratedByAppInstanceUserResponseFilterSensitiveLog"),eh=o(E=>({...E,...E.NextToken&&{NextToken:nn}}),"ListSubChannelsRequestFilterSensitiveLog"),th=o(E=>({...E,...E.NextToken&&{NextToken:nn}}),"ListSubChannelsResponseFilterSensitiveLog"),nh=o(E=>({...E,...E.Tags&&{Tags:E.Tags.map(y=>rc(y))}}),"ListTagsForResourceResponseFilterSensitiveLog"),ih=o(E=>({...E,...E.Preferences&&{Preferences:xc(E.Preferences)}}),"PutChannelMembershipPreferencesRequestFilterSensitiveLog"),rh=o(E=>({...E,...E.Member&&{Member:gr(E.Member)},...E.Preferences&&{Preferences:xc(E.Preferences)}}),"PutChannelMembershipPreferencesResponseFilterSensitiveLog"),oh=o(E=>({...E,...E.NextToken&&{NextToken:nn}}),"SearchChannelsRequestFilterSensitiveLog"),sh=o(E=>({...E,...E.Channels&&{Channels:E.Channels.map(y=>ic(y))},...E.NextToken&&{NextToken:nn}}),"SearchChannelsResponseFilterSensitiveLog"),ah=o(E=>({...E,...E.Content&&{Content:nn},...E.Metadata&&{Metadata:nn},...E.ClientRequestToken&&{ClientRequestToken:nn},...E.PushNotification&&{PushNotification:vd(E.PushNotification)},...E.MessageAttributes&&{MessageAttributes:Object.entries(E.MessageAttributes).reduce((y,C)=>{let[T,_]=C;return y[T]=nc(_),y},{})},...E.ContentType&&{ContentType:nn}}),"SendChannelMessageRequestFilterSensitiveLog"),lh=o(E=>({...E,...E.Tags&&{Tags:E.Tags.map(y=>rc(y))}}),"TagResourceRequestFilterSensitiveLog"),ch=o(E=>({...E,...E.TagKeys&&{TagKeys:nn}}),"UntagResourceRequestFilterSensitiveLog"),dh=o(E=>({...E,...E.Name&&{Name:nn},...E.Metadata&&{Metadata:nn}}),"UpdateChannelRequestFilterSensitiveLog"),uh=o(E=>({...E,...E.Processors&&{Processors:E.Processors.map(y=>tc(y))},...E.Name&&{Name:nn}}),"UpdateChannelFlowRequestFilterSensitiveLog"),hh=o(E=>({...E,...E.Content&&{Content:nn},...E.Metadata&&{Metadata:nn},...E.ContentType&&{ContentType:nn}}),"UpdateChannelMessageRequestFilterSensitiveLog"),Lf=function(){var E=Object(u.coroutine)(function*(y,C){const{hostname:T,protocol:_="https",port:U,path:W}=yield C.endpoint(),fe=We({},ui,{"content-type":"application/json","x-amz-chime-bearer":y.ChimeBearer});let ne=`${W!=null&&W.endsWith("/")?W.slice(0,-1):W||""}/channels/{ChannelArn}/channel-flow`;ne=dn(ne,y,"ChannelArn",()=>y.ChannelArn,"{ChannelArn}",!1);let ye;return ye=JSON.stringify(nt(y,{ChannelFlowArn:[]})),new On({protocol:_,hostname:T,port:U,method:"PUT",headers:fe,path:ne,body:ye})});return o(function(C,T){return E.apply(this,arguments)},"se_AssociateChannelFlowCommand")}(),_f=function(){var E=Object(u.coroutine)(function*(y,C){const{hostname:T,protocol:_="https",port:U,path:W}=yield C.endpoint(),fe=We({},ui,{"content-type":"application/json","x-amz-chime-bearer":y.ChimeBearer});let ne=`${W!=null&&W.endsWith("/")?W.slice(0,-1):W||""}/channels/{ChannelArn}/memberships`;ne=dn(ne,y,"ChannelArn",()=>y.ChannelArn,"{ChannelArn}",!1);const ye=We({operation:[,"batch-create"]});let ue;return ue=JSON.stringify(nt(y,{MemberArns:it=>ln(it),SubChannelId:[],Type:[]})),new On({protocol:_,hostname:T,port:U,method:"POST",headers:fe,path:ne,query:ye,body:ue})});return o(function(C,T){return E.apply(this,arguments)},"se_BatchCreateChannelMembershipCommand")}(),Nf=function(){var E=Object(u.coroutine)(function*(y,C){const{hostname:T,protocol:_="https",port:U,path:W}=yield C.endpoint(),fe={"content-type":"application/json"};let ne=`${W!=null&&W.endsWith("/")?W.slice(0,-1):W||""}/channels/{ChannelArn}`;ne=dn(ne,y,"ChannelArn",()=>y.ChannelArn,"{ChannelArn}",!1);const ye=We({operation:[,"channel-flow-callback"]});let ue;return ue=JSON.stringify(nt(y,{CallbackId:[!0,it=>it??yi()],ChannelMessage:it=>ln(it),DeleteResource:[]})),new On({protocol:_,hostname:T,port:U,method:"POST",headers:fe,path:ne,query:ye,body:ue})});return o(function(C,T){return E.apply(this,arguments)},"se_ChannelFlowCallbackCommand")}(),Bf=function(){var E=Object(u.coroutine)(function*(y,C){const{hostname:T,protocol:_="https",port:U,path:W}=yield C.endpoint(),fe=We({},ui,{"content-type":"application/json","x-amz-chime-bearer":y.ChimeBearer}),ne=`${W!=null&&W.endsWith("/")?W.slice(0,-1):W||""}/channels`;let ye;return ye=JSON.stringify(nt(y,{AppInstanceArn:[],ChannelId:[],ClientRequestToken:[!0,ue=>ue??yi()],ElasticChannelConfiguration:ue=>ln(ue),ExpirationSettings:ue=>ln(ue),MemberArns:ue=>ln(ue),Metadata:[],Mode:[],ModeratorArns:ue=>ln(ue),Name:[],Privacy:[],Tags:ue=>ln(ue)})),new On({protocol:_,hostname:T,port:U,method:"POST",headers:fe,path:ne,body:ye})});return o(function(C,T){return E.apply(this,arguments)},"se_CreateChannelCommand")}(),Ff=function(){var E=Object(u.coroutine)(function*(y,C){const{hostname:T,protocol:_="https",port:U,path:W}=yield C.endpoint(),fe=We({},ui,{"content-type":"application/json","x-amz-chime-bearer":y.ChimeBearer});let ne=`${W!=null&&W.endsWith("/")?W.slice(0,-1):W||""}/channels/{ChannelArn}/bans`;ne=dn(ne,y,"ChannelArn",()=>y.ChannelArn,"{ChannelArn}",!1);let ye;return ye=JSON.stringify(nt(y,{MemberArn:[]})),new On({protocol:_,hostname:T,port:U,method:"POST",headers:fe,path:ne,body:ye})});return o(function(C,T){return E.apply(this,arguments)},"se_CreateChannelBanCommand")}(),Uf=function(){var E=Object(u.coroutine)(function*(y,C){const{hostname:T,protocol:_="https",port:U,path:W}=yield C.endpoint(),fe={"content-type":"application/json"},ne=`${W!=null&&W.endsWith("/")?W.slice(0,-1):W||""}/channel-flows`;let ye;return ye=JSON.stringify(nt(y,{AppInstanceArn:[],ClientRequestToken:[!0,ue=>ue??yi()],Name:[],Processors:ue=>ln(ue),Tags:ue=>ln(ue)})),new On({protocol:_,hostname:T,port:U,method:"POST",headers:fe,path:ne,body:ye})});return o(function(C,T){return E.apply(this,arguments)},"se_CreateChannelFlowCommand")}(),Vf=function(){var E=Object(u.coroutine)(function*(y,C){const{hostname:T,protocol:_="https",port:U,path:W}=yield C.endpoint(),fe=We({},ui,{"content-type":"application/json","x-amz-chime-bearer":y.ChimeBearer});let ne=`${W!=null&&W.endsWith("/")?W.slice(0,-1):W||""}/channels/{ChannelArn}/memberships`;ne=dn(ne,y,"ChannelArn",()=>y.ChannelArn,"{ChannelArn}",!1);let ye;return ye=JSON.stringify(nt(y,{MemberArn:[],SubChannelId:[],Type:[]})),new On({protocol:_,hostname:T,port:U,method:"POST",headers:fe,path:ne,body:ye})});return o(function(C,T){return E.apply(this,arguments)},"se_CreateChannelMembershipCommand")}(),Hf=function(){var E=Object(u.coroutine)(function*(y,C){const{hostname:T,protocol:_="https",port:U,path:W}=yield C.endpoint(),fe=We({},ui,{"content-type":"application/json","x-amz-chime-bearer":y.ChimeBearer});let ne=`${W!=null&&W.endsWith("/")?W.slice(0,-1):W||""}/channels/{ChannelArn}/moderators`;ne=dn(ne,y,"ChannelArn",()=>y.ChannelArn,"{ChannelArn}",!1);let ye;return ye=JSON.stringify(nt(y,{ChannelModeratorArn:[]})),new On({protocol:_,hostname:T,port:U,method:"POST",headers:fe,path:ne,body:ye})});return o(function(C,T){return E.apply(this,arguments)},"se_CreateChannelModeratorCommand")}(),zf=function(){var E=Object(u.coroutine)(function*(y,C){const{hostname:T,protocol:_="https",port:U,path:W}=yield C.endpoint(),fe=We({},ui,{"x-amz-chime-bearer":y.ChimeBearer});let ne=`${W!=null&&W.endsWith("/")?W.slice(0,-1):W||""}/channels/{ChannelArn}`;ne=dn(ne,y,"ChannelArn",()=>y.ChannelArn,"{ChannelArn}",!1);let ye;return new On({protocol:_,hostname:T,port:U,method:"DELETE",headers:fe,path:ne,body:ye})});return o(function(C,T){return E.apply(this,arguments)},"se_DeleteChannelCommand")}(),oc=function(){var E=Object(u.coroutine)(function*(y,C){const{hostname:T,protocol:_="https",port:U,path:W}=yield C.endpoint(),fe=We({},ui,{"x-amz-chime-bearer":y.ChimeBearer});let ne=`${W!=null&&W.endsWith("/")?W.slice(0,-1):W||""}/channels/{ChannelArn}/bans/{MemberArn}`;ne=dn(ne,y,"ChannelArn",()=>y.ChannelArn,"{ChannelArn}",!1),ne=dn(ne,y,"MemberArn",()=>y.MemberArn,"{MemberArn}",!1);let ye;return new On({protocol:_,hostname:T,port:U,method:"DELETE",headers:fe,path:ne,body:ye})});return o(function(C,T){return E.apply(this,arguments)},"se_DeleteChannelBanCommand")}(),jf=function(){var E=Object(u.coroutine)(function*(y,C){const{hostname:T,protocol:_="https",port:U,path:W}=yield C.endpoint(),fe={};let ne=`${W!=null&&W.endsWith("/")?W.slice(0,-1):W||""}/channel-flows/{ChannelFlowArn}`;ne=dn(ne,y,"ChannelFlowArn",()=>y.ChannelFlowArn,"{ChannelFlowArn}",!1);let ye;return new On({protocol:_,hostname:T,port:U,method:"DELETE",headers:fe,path:ne,body:ye})});return o(function(C,T){return E.apply(this,arguments)},"se_DeleteChannelFlowCommand")}(),Wf=function(){var E=Object(u.coroutine)(function*(y,C){const{hostname:T,protocol:_="https",port:U,path:W}=yield C.endpoint(),fe=We({},ui,{"x-amz-chime-bearer":y.ChimeBearer});let ne=`${W!=null&&W.endsWith("/")?W.slice(0,-1):W||""}/channels/{ChannelArn}/memberships/{MemberArn}`;ne=dn(ne,y,"ChannelArn",()=>y.ChannelArn,"{ChannelArn}",!1),ne=dn(ne,y,"MemberArn",()=>y.MemberArn,"{MemberArn}",!1);const ye=We({"sub-channel-id":[,y.SubChannelId]});let ue;return new On({protocol:_,hostname:T,port:U,method:"DELETE",headers:fe,path:ne,query:ye,body:ue})});return o(function(C,T){return E.apply(this,arguments)},"se_DeleteChannelMembershipCommand")}(),Gf=function(){var E=Object(u.coroutine)(function*(y,C){const{hostname:T,protocol:_="https",port:U,path:W}=yield C.endpoint(),fe=We({},ui,{"x-amz-chime-bearer":y.ChimeBearer});let ne=`${W!=null&&W.endsWith("/")?W.slice(0,-1):W||""}/channels/{ChannelArn}/messages/{MessageId}`;ne=dn(ne,y,"ChannelArn",()=>y.ChannelArn,"{ChannelArn}",!1),ne=dn(ne,y,"MessageId",()=>y.MessageId,"{MessageId}",!1);const ye=We({"sub-channel-id":[,y.SubChannelId]});let ue;return new On({protocol:_,hostname:T,port:U,method:"DELETE",headers:fe,path:ne,query:ye,body:ue})});return o(function(C,T){return E.apply(this,arguments)},"se_DeleteChannelMessageCommand")}(),$f=function(){var E=Object(u.coroutine)(function*(y,C){const{hostname:T,protocol:_="https",port:U,path:W}=yield C.endpoint(),fe=We({},ui,{"x-amz-chime-bearer":y.ChimeBearer});let ne=`${W!=null&&W.endsWith("/")?W.slice(0,-1):W||""}/channels/{ChannelArn}/moderators/{ChannelModeratorArn}`;ne=dn(ne,y,"ChannelArn",()=>y.ChannelArn,"{ChannelArn}",!1),ne=dn(ne,y,"ChannelModeratorArn",()=>y.ChannelModeratorArn,"{ChannelModeratorArn}",!1);let ye;return new On({protocol:_,hostname:T,port:U,method:"DELETE",headers:fe,path:ne,body:ye})});return o(function(C,T){return E.apply(this,arguments)},"se_DeleteChannelModeratorCommand")}(),Kf=function(){var E=Object(u.coroutine)(function*(y,C){const{hostname:T,protocol:_="https",port:U,path:W}=yield C.endpoint(),fe={};let ne=`${W!=null&&W.endsWith("/")?W.slice(0,-1):W||""}/app-instances/{AppInstanceArn}/streaming-configurations`;ne=dn(ne,y,"AppInstanceArn",()=>y.AppInstanceArn,"{AppInstanceArn}",!1);let ye;return new On({protocol:_,hostname:T,port:U,method:"DELETE",headers:fe,path:ne,body:ye})});return o(function(C,T){return E.apply(this,arguments)},"se_DeleteMessagingStreamingConfigurationsCommand")}(),fh=function(){var E=Object(u.coroutine)(function*(y,C){const{hostname:T,protocol:_="https",port:U,path:W}=yield C.endpoint(),fe=We({},ui,{"x-amz-chime-bearer":y.ChimeBearer});let ne=`${W!=null&&W.endsWith("/")?W.slice(0,-1):W||""}/channels/{ChannelArn}`;ne=dn(ne,y,"ChannelArn",()=>y.ChannelArn,"{ChannelArn}",!1);let ye;return new On({protocol:_,hostname:T,port:U,method:"GET",headers:fe,path:ne,body:ye})});return o(function(C,T){return E.apply(this,arguments)},"se_DescribeChannelCommand")}(),Jf=function(){var E=Object(u.coroutine)(function*(y,C){const{hostname:T,protocol:_="https",port:U,path:W}=yield C.endpoint(),fe=We({},ui,{"x-amz-chime-bearer":y.ChimeBearer});let ne=`${W!=null&&W.endsWith("/")?W.slice(0,-1):W||""}/channels/{ChannelArn}/bans/{MemberArn}`;ne=dn(ne,y,"ChannelArn",()=>y.ChannelArn,"{ChannelArn}",!1),ne=dn(ne,y,"MemberArn",()=>y.MemberArn,"{MemberArn}",!1);let ye;return new On({protocol:_,hostname:T,port:U,method:"GET",headers:fe,path:ne,body:ye})});return o(function(C,T){return E.apply(this,arguments)},"se_DescribeChannelBanCommand")}(),Yf=function(){var E=Object(u.coroutine)(function*(y,C){const{hostname:T,protocol:_="https",port:U,path:W}=yield C.endpoint(),fe={};let ne=`${W!=null&&W.endsWith("/")?W.slice(0,-1):W||""}/channel-flows/{ChannelFlowArn}`;ne=dn(ne,y,"ChannelFlowArn",()=>y.ChannelFlowArn,"{ChannelFlowArn}",!1);let ye;return new On({protocol:_,hostname:T,port:U,method:"GET",headers:fe,path:ne,body:ye})});return o(function(C,T){return E.apply(this,arguments)},"se_DescribeChannelFlowCommand")}(),Xf=function(){var E=Object(u.coroutine)(function*(y,C){const{hostname:T,protocol:_="https",port:U,path:W}=yield C.endpoint(),fe=We({},ui,{"x-amz-chime-bearer":y.ChimeBearer});let ne=`${W!=null&&W.endsWith("/")?W.slice(0,-1):W||""}/channels/{ChannelArn}/memberships/{MemberArn}`;ne=dn(ne,y,"ChannelArn",()=>y.ChannelArn,"{ChannelArn}",!1),ne=dn(ne,y,"MemberArn",()=>y.MemberArn,"{MemberArn}",!1);const ye=We({"sub-channel-id":[,y.SubChannelId]});let ue;return new On({protocol:_,hostname:T,port:U,method:"GET",headers:fe,path:ne,query:ye,body:ue})});return o(function(C,T){return E.apply(this,arguments)},"se_DescribeChannelMembershipCommand")}(),Zf=function(){var E=Object(u.coroutine)(function*(y,C){const{hostname:T,protocol:_="https",port:U,path:W}=yield C.endpoint(),fe=We({},ui,{"x-amz-chime-bearer":y.ChimeBearer});let ne=`${W!=null&&W.endsWith("/")?W.slice(0,-1):W||""}/channels/{ChannelArn}`;ne=dn(ne,y,"ChannelArn",()=>y.ChannelArn,"{ChannelArn}",!1);const ye=We({scope:[,"app-instance-user-membership"],"app-instance-user-arn":[,rn(y.AppInstanceUserArn,"AppInstanceUserArn")]});let ue;return new On({protocol:_,hostname:T,port:U,method:"GET",headers:fe,path:ne,query:ye,body:ue})});return o(function(C,T){return E.apply(this,arguments)},"se_DescribeChannelMembershipForAppInstanceUserCommand")}(),Qf=function(){var E=Object(u.coroutine)(function*(y,C){const{hostname:T,protocol:_="https",port:U,path:W}=yield C.endpoint(),fe=We({},ui,{"x-amz-chime-bearer":y.ChimeBearer});let ne=`${W!=null&&W.endsWith("/")?W.slice(0,-1):W||""}/channels/{ChannelArn}`;ne=dn(ne,y,"ChannelArn",()=>y.ChannelArn,"{ChannelArn}",!1);const ye=We({scope:[,"app-instance-user-moderated-channel"],"app-instance-user-arn":[,rn(y.AppInstanceUserArn,"AppInstanceUserArn")]});let ue;return new On({protocol:_,hostname:T,port:U,method:"GET",headers:fe,path:ne,query:ye,body:ue})});return o(function(C,T){return E.apply(this,arguments)},"se_DescribeChannelModeratedByAppInstanceUserCommand")}(),qf=function(){var E=Object(u.coroutine)(function*(y,C){const{hostname:T,protocol:_="https",port:U,path:W}=yield C.endpoint(),fe=We({},ui,{"x-amz-chime-bearer":y.ChimeBearer});let ne=`${W!=null&&W.endsWith("/")?W.slice(0,-1):W||""}/channels/{ChannelArn}/moderators/{ChannelModeratorArn}`;ne=dn(ne,y,"ChannelArn",()=>y.ChannelArn,"{ChannelArn}",!1),ne=dn(ne,y,"ChannelModeratorArn",()=>y.ChannelModeratorArn,"{ChannelModeratorArn}",!1);let ye;return new On({protocol:_,hostname:T,port:U,method:"GET",headers:fe,path:ne,body:ye})});return o(function(C,T){return E.apply(this,arguments)},"se_DescribeChannelModeratorCommand")}(),ep=function(){var E=Object(u.coroutine)(function*(y,C){const{hostname:T,protocol:_="https",port:U,path:W}=yield C.endpoint(),fe=We({},ui,{"x-amz-chime-bearer":y.ChimeBearer});let ne=`${W!=null&&W.endsWith("/")?W.slice(0,-1):W||""}/channels/{ChannelArn}/channel-flow/{ChannelFlowArn}`;ne=dn(ne,y,"ChannelArn",()=>y.ChannelArn,"{ChannelArn}",!1),ne=dn(ne,y,"ChannelFlowArn",()=>y.ChannelFlowArn,"{ChannelFlowArn}",!1);let ye;return new On({protocol:_,hostname:T,port:U,method:"DELETE",headers:fe,path:ne,body:ye})});return o(function(C,T){return E.apply(this,arguments)},"se_DisassociateChannelFlowCommand")}(),tp=function(){var E=Object(u.coroutine)(function*(y,C){const{hostname:T,protocol:_="https",port:U,path:W}=yield C.endpoint(),fe=We({},ui,{"x-amz-chime-bearer":y.ChimeBearer});let ne=`${W!=null&&W.endsWith("/")?W.slice(0,-1):W||""}/channels/{ChannelArn}/memberships/{MemberArn}/preferences`;ne=dn(ne,y,"ChannelArn",()=>y.ChannelArn,"{ChannelArn}",!1),ne=dn(ne,y,"MemberArn",()=>y.MemberArn,"{MemberArn}",!1);let ye;return new On({protocol:_,hostname:T,port:U,method:"GET",headers:fe,path:ne,body:ye})});return o(function(C,T){return E.apply(this,arguments)},"se_GetChannelMembershipPreferencesCommand")}(),np=function(){var E=Object(u.coroutine)(function*(y,C){const{hostname:T,protocol:_="https",port:U,path:W}=yield C.endpoint(),fe=We({},ui,{"x-amz-chime-bearer":y.ChimeBearer});let ne=`${W!=null&&W.endsWith("/")?W.slice(0,-1):W||""}/channels/{ChannelArn}/messages/{MessageId}`;ne=dn(ne,y,"ChannelArn",()=>y.ChannelArn,"{ChannelArn}",!1),ne=dn(ne,y,"MessageId",()=>y.MessageId,"{MessageId}",!1);const ye=We({"sub-channel-id":[,y.SubChannelId]});let ue;return new On({protocol:_,hostname:T,port:U,method:"GET",headers:fe,path:ne,query:ye,body:ue})});return o(function(C,T){return E.apply(this,arguments)},"se_GetChannelMessageCommand")}(),ip=function(){var E=Object(u.coroutine)(function*(y,C){const{hostname:T,protocol:_="https",port:U,path:W}=yield C.endpoint(),fe=We({},ui,{"x-amz-chime-bearer":y.ChimeBearer});let ne=`${W!=null&&W.endsWith("/")?W.slice(0,-1):W||""}/channels/{ChannelArn}/messages/{MessageId}`;ne=dn(ne,y,"ChannelArn",()=>y.ChannelArn,"{ChannelArn}",!1),ne=dn(ne,y,"MessageId",()=>y.MessageId,"{MessageId}",!1);const ye=We({scope:[,"message-status"],"sub-channel-id":[,y.SubChannelId]});let ue;return new On({protocol:_,hostname:T,port:U,method:"GET",headers:fe,path:ne,query:ye,body:ue})});return o(function(C,T){return E.apply(this,arguments)},"se_GetChannelMessageStatusCommand")}(),rp=function(){var E=Object(u.coroutine)(function*(y,C){const{hostname:T,protocol:_="https",port:U,path:W}=yield C.endpoint(),fe={"content-type":"application/json"},ne=`${W!=null&&W.endsWith("/")?W.slice(0,-1):W||""}/endpoints/messaging-session`;let ye;return ye="",new On({protocol:_,hostname:T,port:U,method:"GET",headers:fe,path:ne,body:ye})});return o(function(C,T){return E.apply(this,arguments)},"se_GetMessagingSessionEndpointCommand")}(),op=function(){var E=Object(u.coroutine)(function*(y,C){const{hostname:T,protocol:_="https",port:U,path:W}=yield C.endpoint(),fe={};let ne=`${W!=null&&W.endsWith("/")?W.slice(0,-1):W||""}/app-instances/{AppInstanceArn}/streaming-configurations`;ne=dn(ne,y,"AppInstanceArn",()=>y.AppInstanceArn,"{AppInstanceArn}",!1);let ye;return new On({protocol:_,hostname:T,port:U,method:"GET",headers:fe,path:ne,body:ye})});return o(function(C,T){return E.apply(this,arguments)},"se_GetMessagingStreamingConfigurationsCommand")}(),sp=function(){var E=Object(u.coroutine)(function*(y,C){const{hostname:T,protocol:_="https",port:U,path:W}=yield C.endpoint(),fe=We({},ui,{"x-amz-chime-bearer":y.ChimeBearer});let ne=`${W!=null&&W.endsWith("/")?W.slice(0,-1):W||""}/channels/{ChannelArn}/bans`;ne=dn(ne,y,"ChannelArn",()=>y.ChannelArn,"{ChannelArn}",!1);const ye=We({"max-results":[()=>y.MaxResults!==void 0,()=>y.MaxResults.toString()],"next-token":[,y.NextToken]});let ue;return new On({protocol:_,hostname:T,port:U,method:"GET",headers:fe,path:ne,query:ye,body:ue})});return o(function(C,T){return E.apply(this,arguments)},"se_ListChannelBansCommand")}(),ap=function(){var E=Object(u.coroutine)(function*(y,C){const{hostname:T,protocol:_="https",port:U,path:W}=yield C.endpoint(),fe={},ne=`${W!=null&&W.endsWith("/")?W.slice(0,-1):W||""}/channel-flows`,ye=We({"app-instance-arn":[,rn(y.AppInstanceArn,"AppInstanceArn")],"max-results":[()=>y.MaxResults!==void 0,()=>y.MaxResults.toString()],"next-token":[,y.NextToken]});let ue;return new On({protocol:_,hostname:T,port:U,method:"GET",headers:fe,path:ne,query:ye,body:ue})});return o(function(C,T){return E.apply(this,arguments)},"se_ListChannelFlowsCommand")}(),lp=function(){var E=Object(u.coroutine)(function*(y,C){const{hostname:T,protocol:_="https",port:U,path:W}=yield C.endpoint(),fe=We({},ui,{"x-amz-chime-bearer":y.ChimeBearer});let ne=`${W!=null&&W.endsWith("/")?W.slice(0,-1):W||""}/channels/{ChannelArn}/memberships`;ne=dn(ne,y,"ChannelArn",()=>y.ChannelArn,"{ChannelArn}",!1);const ye=We({type:[,y.Type],"max-results":[()=>y.MaxResults!==void 0,()=>y.MaxResults.toString()],"next-token":[,y.NextToken],"sub-channel-id":[,y.SubChannelId]});let ue;return new On({protocol:_,hostname:T,port:U,method:"GET",headers:fe,path:ne,query:ye,body:ue})});return o(function(C,T){return E.apply(this,arguments)},"se_ListChannelMembershipsCommand")}(),cp=function(){var E=Object(u.coroutine)(function*(y,C){const{hostname:T,protocol:_="https",port:U,path:W}=yield C.endpoint(),fe=We({},ui,{"x-amz-chime-bearer":y.ChimeBearer}),ne=`${W!=null&&W.endsWith("/")?W.slice(0,-1):W||""}/channels`,ye=We({scope:[,"app-instance-user-memberships"],"app-instance-user-arn":[,y.AppInstanceUserArn],"max-results":[()=>y.MaxResults!==void 0,()=>y.MaxResults.toString()],"next-token":[,y.NextToken]});let ue;return new On({protocol:_,hostname:T,port:U,method:"GET",headers:fe,path:ne,query:ye,body:ue})});return o(function(C,T){return E.apply(this,arguments)},"se_ListChannelMembershipsForAppInstanceUserCommand")}(),dp=function(){var E=Object(u.coroutine)(function*(y,C){const{hostname:T,protocol:_="https",port:U,path:W}=yield C.endpoint(),fe=We({},ui,{"x-amz-chime-bearer":y.ChimeBearer});let ne=`${W!=null&&W.endsWith("/")?W.slice(0,-1):W||""}/channels/{ChannelArn}/messages`;ne=dn(ne,y,"ChannelArn",()=>y.ChannelArn,"{ChannelArn}",!1);const ye=We({"sort-order":[,y.SortOrder],"not-before":[()=>y.NotBefore!==void 0,()=>(y.NotBefore.toISOString().split(".")[0]+"Z").toString()],"not-after":[()=>y.NotAfter!==void 0,()=>(y.NotAfter.toISOString().split(".")[0]+"Z").toString()],"max-results":[()=>y.MaxResults!==void 0,()=>y.MaxResults.toString()],"next-token":[,y.NextToken],"sub-channel-id":[,y.SubChannelId]});let ue;return new On({protocol:_,hostname:T,port:U,method:"GET",headers:fe,path:ne,query:ye,body:ue})});return o(function(C,T){return E.apply(this,arguments)},"se_ListChannelMessagesCommand")}(),up=function(){var E=Object(u.coroutine)(function*(y,C){const{hostname:T,protocol:_="https",port:U,path:W}=yield C.endpoint(),fe=We({},ui,{"x-amz-chime-bearer":y.ChimeBearer});let ne=`${W!=null&&W.endsWith("/")?W.slice(0,-1):W||""}/channels/{ChannelArn}/moderators`;ne=dn(ne,y,"ChannelArn",()=>y.ChannelArn,"{ChannelArn}",!1);const ye=We({"max-results":[()=>y.MaxResults!==void 0,()=>y.MaxResults.toString()],"next-token":[,y.NextToken]});let ue;return new On({protocol:_,hostname:T,port:U,method:"GET",headers:fe,path:ne,query:ye,body:ue})});return o(function(C,T){return E.apply(this,arguments)},"se_ListChannelModeratorsCommand")}(),hp=function(){var E=Object(u.coroutine)(function*(y,C){const{hostname:T,protocol:_="https",port:U,path:W}=yield C.endpoint(),fe=We({},ui,{"x-amz-chime-bearer":y.ChimeBearer}),ne=`${W!=null&&W.endsWith("/")?W.slice(0,-1):W||""}/channels`,ye=We({"app-instance-arn":[,rn(y.AppInstanceArn,"AppInstanceArn")],privacy:[,y.Privacy],"max-results":[()=>y.MaxResults!==void 0,()=>y.MaxResults.toString()],"next-token":[,y.NextToken]});let ue;return new On({protocol:_,hostname:T,port:U,method:"GET",headers:fe,path:ne,query:ye,body:ue})});return o(function(C,T){return E.apply(this,arguments)},"se_ListChannelsCommand")}(),fp=function(){var E=Object(u.coroutine)(function*(y,C){const{hostname:T,protocol:_="https",port:U,path:W}=yield C.endpoint(),fe={},ne=`${W!=null&&W.endsWith("/")?W.slice(0,-1):W||""}/channels`,ye=We({scope:[,"channel-flow-associations"],"channel-flow-arn":[,rn(y.ChannelFlowArn,"ChannelFlowArn")],"max-results":[()=>y.MaxResults!==void 0,()=>y.MaxResults.toString()],"next-token":[,y.NextToken]});let ue;return new On({protocol:_,hostname:T,port:U,method:"GET",headers:fe,path:ne,query:ye,body:ue})});return o(function(C,T){return E.apply(this,arguments)},"se_ListChannelsAssociatedWithChannelFlowCommand")}(),pp=function(){var E=Object(u.coroutine)(function*(y,C){const{hostname:T,protocol:_="https",port:U,path:W}=yield C.endpoint(),fe=We({},ui,{"x-amz-chime-bearer":y.ChimeBearer}),ne=`${W!=null&&W.endsWith("/")?W.slice(0,-1):W||""}/channels`,ye=We({scope:[,"app-instance-user-moderated-channels"],"app-instance-user-arn":[,y.AppInstanceUserArn],"max-results":[()=>y.MaxResults!==void 0,()=>y.MaxResults.toString()],"next-token":[,y.NextToken]});let ue;return new On({protocol:_,hostname:T,port:U,method:"GET",headers:fe,path:ne,query:ye,body:ue})});return o(function(C,T){return E.apply(this,arguments)},"se_ListChannelsModeratedByAppInstanceUserCommand")}(),mp=function(){var E=Object(u.coroutine)(function*(y,C){const{hostname:T,protocol:_="https",port:U,path:W}=yield C.endpoint(),fe=We({},ui,{"x-amz-chime-bearer":y.ChimeBearer});let ne=`${W!=null&&W.endsWith("/")?W.slice(0,-1):W||""}/channels/{ChannelArn}/subchannels`;ne=dn(ne,y,"ChannelArn",()=>y.ChannelArn,"{ChannelArn}",!1);const ye=We({"max-results":[()=>y.MaxResults!==void 0,()=>y.MaxResults.toString()],"next-token":[,y.NextToken]});let ue;return new On({protocol:_,hostname:T,port:U,method:"GET",headers:fe,path:ne,query:ye,body:ue})});return o(function(C,T){return E.apply(this,arguments)},"se_ListSubChannelsCommand")}(),gp=function(){var E=Object(u.coroutine)(function*(y,C){const{hostname:T,protocol:_="https",port:U,path:W}=yield C.endpoint(),fe={},ne=`${W!=null&&W.endsWith("/")?W.slice(0,-1):W||""}/tags`,ye=We({arn:[,rn(y.ResourceARN,"ResourceARN")]});let ue;return new On({protocol:_,hostname:T,port:U,method:"GET",headers:fe,path:ne,query:ye,body:ue})});return o(function(C,T){return E.apply(this,arguments)},"se_ListTagsForResourceCommand")}(),vp=function(){var E=Object(u.coroutine)(function*(y,C){const{hostname:T,protocol:_="https",port:U,path:W}=yield C.endpoint(),fe=We({},ui,{"content-type":"application/json","x-amz-chime-bearer":y.ChimeBearer});let ne=`${W!=null&&W.endsWith("/")?W.slice(0,-1):W||""}/channels/{ChannelArn}/expiration-settings`;ne=dn(ne,y,"ChannelArn",()=>y.ChannelArn,"{ChannelArn}",!1);let ye;return ye=JSON.stringify(nt(y,{ExpirationSettings:ue=>ln(ue)})),new On({protocol:_,hostname:T,port:U,method:"PUT",headers:fe,path:ne,body:ye})});return o(function(C,T){return E.apply(this,arguments)},"se_PutChannelExpirationSettingsCommand")}(),Sp=function(){var E=Object(u.coroutine)(function*(y,C){const{hostname:T,protocol:_="https",port:U,path:W}=yield C.endpoint(),fe=We({},ui,{"content-type":"application/json","x-amz-chime-bearer":y.ChimeBearer});let ne=`${W!=null&&W.endsWith("/")?W.slice(0,-1):W||""}/channels/{ChannelArn}/memberships/{MemberArn}/preferences`;ne=dn(ne,y,"ChannelArn",()=>y.ChannelArn,"{ChannelArn}",!1),ne=dn(ne,y,"MemberArn",()=>y.MemberArn,"{MemberArn}",!1);let ye;return ye=JSON.stringify(nt(y,{Preferences:ue=>ln(ue)})),new On({protocol:_,hostname:T,port:U,method:"PUT",headers:fe,path:ne,body:ye})});return o(function(C,T){return E.apply(this,arguments)},"se_PutChannelMembershipPreferencesCommand")}(),yp=function(){var E=Object(u.coroutine)(function*(y,C){const{hostname:T,protocol:_="https",port:U,path:W}=yield C.endpoint(),fe={"content-type":"application/json"};let ne=`${W!=null&&W.endsWith("/")?W.slice(0,-1):W||""}/app-instances/{AppInstanceArn}/streaming-configurations`;ne=dn(ne,y,"AppInstanceArn",()=>y.AppInstanceArn,"{AppInstanceArn}",!1);let ye;return ye=JSON.stringify(nt(y,{StreamingConfigurations:ue=>ln(ue)})),new On({protocol:_,hostname:T,port:U,method:"PUT",headers:fe,path:ne,body:ye})});return o(function(C,T){return E.apply(this,arguments)},"se_PutMessagingStreamingConfigurationsCommand")}(),Cp=function(){var E=Object(u.coroutine)(function*(y,C){const{hostname:T,protocol:_="https",port:U,path:W}=yield C.endpoint(),fe=We({},ui,{"content-type":"application/json","x-amz-chime-bearer":y.ChimeBearer});let ne=`${W!=null&&W.endsWith("/")?W.slice(0,-1):W||""}/channels/{ChannelArn}/messages/{MessageId}`;ne=dn(ne,y,"ChannelArn",()=>y.ChannelArn,"{ChannelArn}",!1),ne=dn(ne,y,"MessageId",()=>y.MessageId,"{MessageId}",!1);const ye=We({operation:[,"redact"]});let ue;return ue=JSON.stringify(nt(y,{SubChannelId:[]})),new On({protocol:_,hostname:T,port:U,method:"POST",headers:fe,path:ne,query:ye,body:ue})});return o(function(C,T){return E.apply(this,arguments)},"se_RedactChannelMessageCommand")}(),bp=function(){var E=Object(u.coroutine)(function*(y,C){const{hostname:T,protocol:_="https",port:U,path:W}=yield C.endpoint(),fe=We({},ui,{"content-type":"application/json","x-amz-chime-bearer":y.ChimeBearer}),ne=`${W!=null&&W.endsWith("/")?W.slice(0,-1):W||""}/channels`,ye=We({operation:[,"search"],"max-results":[()=>y.MaxResults!==void 0,()=>y.MaxResults.toString()],"next-token":[,y.NextToken]});let ue;return ue=JSON.stringify(nt(y,{Fields:it=>ln(it)})),new On({protocol:_,hostname:T,port:U,method:"POST",headers:fe,path:ne,query:ye,body:ue})});return o(function(C,T){return E.apply(this,arguments)},"se_SearchChannelsCommand")}(),Ep=function(){var E=Object(u.coroutine)(function*(y,C){const{hostname:T,protocol:_="https",port:U,path:W}=yield C.endpoint(),fe=We({},ui,{"content-type":"application/json","x-amz-chime-bearer":y.ChimeBearer});let ne=`${W!=null&&W.endsWith("/")?W.slice(0,-1):W||""}/channels/{ChannelArn}/messages`;ne=dn(ne,y,"ChannelArn",()=>y.ChannelArn,"{ChannelArn}",!1);let ye;return ye=JSON.stringify(nt(y,{ClientRequestToken:[!0,ue=>ue??yi()],Content:[],ContentType:[],MessageAttributes:ue=>ln(ue),Metadata:[],Persistence:[],PushNotification:ue=>ln(ue),SubChannelId:[],Type:[]})),new On({protocol:_,hostname:T,port:U,method:"POST",headers:fe,path:ne,body:ye})});return o(function(C,T){return E.apply(this,arguments)},"se_SendChannelMessageCommand")}(),Tp=function(){var E=Object(u.coroutine)(function*(y,C){const{hostname:T,protocol:_="https",port:U,path:W}=yield C.endpoint(),fe={"content-type":"application/json"},ne=`${W!=null&&W.endsWith("/")?W.slice(0,-1):W||""}/tags`,ye=We({operation:[,"tag-resource"]});let ue;return ue=JSON.stringify(nt(y,{ResourceARN:[],Tags:it=>ln(it)})),new On({protocol:_,hostname:T,port:U,method:"POST",headers:fe,path:ne,query:ye,body:ue})});return o(function(C,T){return E.apply(this,arguments)},"se_TagResourceCommand")}(),Ip=function(){var E=Object(u.coroutine)(function*(y,C){const{hostname:T,protocol:_="https",port:U,path:W}=yield C.endpoint(),fe={"content-type":"application/json"},ne=`${W!=null&&W.endsWith("/")?W.slice(0,-1):W||""}/tags`,ye=We({operation:[,"untag-resource"]});let ue;return ue=JSON.stringify(nt(y,{ResourceARN:[],TagKeys:it=>ln(it)})),new On({protocol:_,hostname:T,port:U,method:"POST",headers:fe,path:ne,query:ye,body:ue})});return o(function(C,T){return E.apply(this,arguments)},"se_UntagResourceCommand")}(),wp=function(){var E=Object(u.coroutine)(function*(y,C){const{hostname:T,protocol:_="https",port:U,path:W}=yield C.endpoint(),fe=We({},ui,{"content-type":"application/json","x-amz-chime-bearer":y.ChimeBearer});let ne=`${W!=null&&W.endsWith("/")?W.slice(0,-1):W||""}/channels/{ChannelArn}`;ne=dn(ne,y,"ChannelArn",()=>y.ChannelArn,"{ChannelArn}",!1);let ye;return ye=JSON.stringify(nt(y,{Metadata:[],Mode:[],Name:[]})),new On({protocol:_,hostname:T,port:U,method:"PUT",headers:fe,path:ne,body:ye})});return o(function(C,T){return E.apply(this,arguments)},"se_UpdateChannelCommand")}(),Op=function(){var E=Object(u.coroutine)(function*(y,C){const{hostname:T,protocol:_="https",port:U,path:W}=yield C.endpoint(),fe={"content-type":"application/json"};let ne=`${W!=null&&W.endsWith("/")?W.slice(0,-1):W||""}/channel-flows/{ChannelFlowArn}`;ne=dn(ne,y,"ChannelFlowArn",()=>y.ChannelFlowArn,"{ChannelFlowArn}",!1);let ye;return ye=JSON.stringify(nt(y,{Name:[],Processors:ue=>ln(ue)})),new On({protocol:_,hostname:T,port:U,method:"PUT",headers:fe,path:ne,body:ye})});return o(function(C,T){return E.apply(this,arguments)},"se_UpdateChannelFlowCommand")}(),Mp=function(){var E=Object(u.coroutine)(function*(y,C){const{hostname:T,protocol:_="https",port:U,path:W}=yield C.endpoint(),fe=We({},ui,{"content-type":"application/json","x-amz-chime-bearer":y.ChimeBearer});let ne=`${W!=null&&W.endsWith("/")?W.slice(0,-1):W||""}/channels/{ChannelArn}/messages/{MessageId}`;ne=dn(ne,y,"ChannelArn",()=>y.ChannelArn,"{ChannelArn}",!1),ne=dn(ne,y,"MessageId",()=>y.MessageId,"{MessageId}",!1);let ye;return ye=JSON.stringify(nt(y,{Content:[],ContentType:[],Metadata:[],SubChannelId:[]})),new On({protocol:_,hostname:T,port:U,method:"PUT",headers:fe,path:ne,body:ye})});return o(function(C,T){return E.apply(this,arguments)},"se_UpdateChannelMessageCommand")}(),Ap=function(){var E=Object(u.coroutine)(function*(y,C){const{hostname:T,protocol:_="https",port:U,path:W}=yield C.endpoint(),fe=We({},ui,{"x-amz-chime-bearer":y.ChimeBearer});let ne=`${W!=null&&W.endsWith("/")?W.slice(0,-1):W||""}/channels/{ChannelArn}/readMarker`;ne=dn(ne,y,"ChannelArn",()=>y.ChannelArn,"{ChannelArn}",!1);let ye;return new On({protocol:_,hostname:T,port:U,method:"PUT",headers:fe,path:ne,body:ye})});return o(function(C,T){return E.apply(this,arguments)},"se_UpdateChannelReadMarkerCommand")}(),Rp=function(){var E=Object(u.coroutine)(function*(y,C){if(y.statusCode!==200&&y.statusCode>=300)return Pp(y,C);const T=We({$metadata:V(y)});return yield $o(y.body,C),T});return o(function(C,T){return E.apply(this,arguments)},"de_AssociateChannelFlowCommand")}(),Pp=function(){var E=Object(u.coroutine)(function*(y,C){const T={...y,body:yield Ln(y.body,C)},_=_n(y,T.body);switch(_){case"BadRequestException":case"com.amazonaws.chimesdkmessaging#BadRequestException":throw yield Fn(T,C);case"ConflictException":case"com.amazonaws.chimesdkmessaging#ConflictException":throw yield vr(T,C);case"ForbiddenException":case"com.amazonaws.chimesdkmessaging#ForbiddenException":throw yield Rn(T,C);case"NotFoundException":case"com.amazonaws.chimesdkmessaging#NotFoundException":throw yield ks(T,C);case"ServiceFailureException":case"com.amazonaws.chimesdkmessaging#ServiceFailureException":throw yield Pn(T,C);case"ServiceUnavailableException":case"com.amazonaws.chimesdkmessaging#ServiceUnavailableException":throw yield Dn(T,C);case"ThrottledClientException":case"com.amazonaws.chimesdkmessaging#ThrottledClientException":throw yield xn(T,C);case"UnauthorizedClientException":case"com.amazonaws.chimesdkmessaging#UnauthorizedClientException":throw yield kn(T,C);default:const U=T.body;return An({output:y,parsedBody:U,errorCode:_})}});return o(function(C,T){return E.apply(this,arguments)},"de_AssociateChannelFlowCommandError")}(),Dp=function(){var E=Object(u.coroutine)(function*(y,C){if(y.statusCode!==200&&y.statusCode>=300)return xp(y,C);const T=We({$metadata:V(y)}),_=rn(Yn(yield ii(y.body,C)),"body"),U=nt(_,{BatchChannelMemberships:ln,Errors:ln});return Object.assign(T,U),T});return o(function(C,T){return E.apply(this,arguments)},"de_BatchCreateChannelMembershipCommand")}(),xp=function(){var E=Object(u.coroutine)(function*(y,C){const T={...y,body:yield Ln(y.body,C)},_=_n(y,T.body);switch(_){case"BadRequestException":case"com.amazonaws.chimesdkmessaging#BadRequestException":throw yield Fn(T,C);case"ForbiddenException":case"com.amazonaws.chimesdkmessaging#ForbiddenException":throw yield Rn(T,C);case"NotFoundException":case"com.amazonaws.chimesdkmessaging#NotFoundException":throw yield ks(T,C);case"ResourceLimitExceededException":case"com.amazonaws.chimesdkmessaging#ResourceLimitExceededException":throw yield za(T,C);case"ServiceFailureException":case"com.amazonaws.chimesdkmessaging#ServiceFailureException":throw yield Pn(T,C);case"ServiceUnavailableException":case"com.amazonaws.chimesdkmessaging#ServiceUnavailableException":throw yield Dn(T,C);case"ThrottledClientException":case"com.amazonaws.chimesdkmessaging#ThrottledClientException":throw yield xn(T,C);case"UnauthorizedClientException":case"com.amazonaws.chimesdkmessaging#UnauthorizedClientException":throw yield kn(T,C);default:const U=T.body;return An({output:y,parsedBody:U,errorCode:_})}});return o(function(C,T){return E.apply(this,arguments)},"de_BatchCreateChannelMembershipCommandError")}(),kp=function(){var E=Object(u.coroutine)(function*(y,C){if(y.statusCode!==200&&y.statusCode>=300)return Lp(y,C);const T=We({$metadata:V(y)}),_=rn(Yn(yield ii(y.body,C)),"body"),U=nt(_,{CallbackId:It,ChannelArn:It});return Object.assign(T,U),T});return o(function(C,T){return E.apply(this,arguments)},"de_ChannelFlowCallbackCommand")}(),Lp=function(){var E=Object(u.coroutine)(function*(y,C){const T={...y,body:yield Ln(y.body,C)},_=_n(y,T.body);switch(_){case"BadRequestException":case"com.amazonaws.chimesdkmessaging#BadRequestException":throw yield Fn(T,C);case"ConflictException":case"com.amazonaws.chimesdkmessaging#ConflictException":throw yield vr(T,C);case"ForbiddenException":case"com.amazonaws.chimesdkmessaging#ForbiddenException":throw yield Rn(T,C);case"ServiceFailureException":case"com.amazonaws.chimesdkmessaging#ServiceFailureException":throw yield Pn(T,C);case"ServiceUnavailableException":case"com.amazonaws.chimesdkmessaging#ServiceUnavailableException":throw yield Dn(T,C);case"ThrottledClientException":case"com.amazonaws.chimesdkmessaging#ThrottledClientException":throw yield xn(T,C);case"UnauthorizedClientException":case"com.amazonaws.chimesdkmessaging#UnauthorizedClientException":throw yield kn(T,C);default:const U=T.body;return An({output:y,parsedBody:U,errorCode:_})}});return o(function(C,T){return E.apply(this,arguments)},"de_ChannelFlowCallbackCommandError")}(),_p=function(){var E=Object(u.coroutine)(function*(y,C){if(y.statusCode!==201&&y.statusCode>=300)return Np(y,C);const T=We({$metadata:V(y)}),_=rn(Yn(yield ii(y.body,C)),"body"),U=nt(_,{ChannelArn:It});return Object.assign(T,U),T});return o(function(C,T){return E.apply(this,arguments)},"de_CreateChannelCommand")}(),Np=function(){var E=Object(u.coroutine)(function*(y,C){const T={...y,body:yield Ln(y.body,C)},_=_n(y,T.body);switch(_){case"BadRequestException":case"com.amazonaws.chimesdkmessaging#BadRequestException":throw yield Fn(T,C);case"ConflictException":case"com.amazonaws.chimesdkmessaging#ConflictException":throw yield vr(T,C);case"ForbiddenException":case"com.amazonaws.chimesdkmessaging#ForbiddenException":throw yield Rn(T,C);case"ResourceLimitExceededException":case"com.amazonaws.chimesdkmessaging#ResourceLimitExceededException":throw yield za(T,C);case"ServiceFailureException":case"com.amazonaws.chimesdkmessaging#ServiceFailureException":throw yield Pn(T,C);case"ServiceUnavailableException":case"com.amazonaws.chimesdkmessaging#ServiceUnavailableException":throw yield Dn(T,C);case"ThrottledClientException":case"com.amazonaws.chimesdkmessaging#ThrottledClientException":throw yield xn(T,C);case"UnauthorizedClientException":case"com.amazonaws.chimesdkmessaging#UnauthorizedClientException":throw yield kn(T,C);default:const U=T.body;return An({output:y,parsedBody:U,errorCode:_})}});return o(function(C,T){return E.apply(this,arguments)},"de_CreateChannelCommandError")}(),Bp=function(){var E=Object(u.coroutine)(function*(y,C){if(y.statusCode!==201&&y.statusCode>=300)return Fp(y,C);const T=We({$metadata:V(y)}),_=rn(Yn(yield ii(y.body,C)),"body"),U=nt(_,{ChannelArn:It,Member:ln});return Object.assign(T,U),T});return o(function(C,T){return E.apply(this,arguments)},"de_CreateChannelBanCommand")}(),Fp=function(){var E=Object(u.coroutine)(function*(y,C){const T={...y,body:yield Ln(y.body,C)},_=_n(y,T.body);switch(_){case"BadRequestException":case"com.amazonaws.chimesdkmessaging#BadRequestException":throw yield Fn(T,C);case"ConflictException":case"com.amazonaws.chimesdkmessaging#ConflictException":throw yield vr(T,C);case"ForbiddenException":case"com.amazonaws.chimesdkmessaging#ForbiddenException":throw yield Rn(T,C);case"ResourceLimitExceededException":case"com.amazonaws.chimesdkmessaging#ResourceLimitExceededException":throw yield za(T,C);case"ServiceFailureException":case"com.amazonaws.chimesdkmessaging#ServiceFailureException":throw yield Pn(T,C);case"ServiceUnavailableException":case"com.amazonaws.chimesdkmessaging#ServiceUnavailableException":throw yield Dn(T,C);case"ThrottledClientException":case"com.amazonaws.chimesdkmessaging#ThrottledClientException":throw yield xn(T,C);case"UnauthorizedClientException":case"com.amazonaws.chimesdkmessaging#UnauthorizedClientException":throw yield kn(T,C);default:const U=T.body;return An({output:y,parsedBody:U,errorCode:_})}});return o(function(C,T){return E.apply(this,arguments)},"de_CreateChannelBanCommandError")}(),Up=function(){var E=Object(u.coroutine)(function*(y,C){if(y.statusCode!==201&&y.statusCode>=300)return Vp(y,C);const T=We({$metadata:V(y)}),_=rn(Yn(yield ii(y.body,C)),"body"),U=nt(_,{ChannelFlowArn:It});return Object.assign(T,U),T});return o(function(C,T){return E.apply(this,arguments)},"de_CreateChannelFlowCommand")}(),Vp=function(){var E=Object(u.coroutine)(function*(y,C){const T={...y,body:yield Ln(y.body,C)},_=_n(y,T.body);switch(_){case"BadRequestException":case"com.amazonaws.chimesdkmessaging#BadRequestException":throw yield Fn(T,C);case"ConflictException":case"com.amazonaws.chimesdkmessaging#ConflictException":throw yield vr(T,C);case"ForbiddenException":case"com.amazonaws.chimesdkmessaging#ForbiddenException":throw yield Rn(T,C);case"ResourceLimitExceededException":case"com.amazonaws.chimesdkmessaging#ResourceLimitExceededException":throw yield za(T,C);case"ServiceFailureException":case"com.amazonaws.chimesdkmessaging#ServiceFailureException":throw yield Pn(T,C);case"ServiceUnavailableException":case"com.amazonaws.chimesdkmessaging#ServiceUnavailableException":throw yield Dn(T,C);case"ThrottledClientException":case"com.amazonaws.chimesdkmessaging#ThrottledClientException":throw yield xn(T,C);case"UnauthorizedClientException":case"com.amazonaws.chimesdkmessaging#UnauthorizedClientException":throw yield kn(T,C);default:const U=T.body;return An({output:y,parsedBody:U,errorCode:_})}});return o(function(C,T){return E.apply(this,arguments)},"de_CreateChannelFlowCommandError")}(),Hp=function(){var E=Object(u.coroutine)(function*(y,C){if(y.statusCode!==201&&y.statusCode>=300)return zp(y,C);const T=We({$metadata:V(y)}),_=rn(Yn(yield ii(y.body,C)),"body"),U=nt(_,{ChannelArn:It,Member:ln,SubChannelId:It});return Object.assign(T,U),T});return o(function(C,T){return E.apply(this,arguments)},"de_CreateChannelMembershipCommand")}(),zp=function(){var E=Object(u.coroutine)(function*(y,C){const T={...y,body:yield Ln(y.body,C)},_=_n(y,T.body);switch(_){case"BadRequestException":case"com.amazonaws.chimesdkmessaging#BadRequestException":throw yield Fn(T,C);case"ConflictException":case"com.amazonaws.chimesdkmessaging#ConflictException":throw yield vr(T,C);case"ForbiddenException":case"com.amazonaws.chimesdkmessaging#ForbiddenException":throw yield Rn(T,C);case"NotFoundException":case"com.amazonaws.chimesdkmessaging#NotFoundException":throw yield ks(T,C);case"ResourceLimitExceededException":case"com.amazonaws.chimesdkmessaging#ResourceLimitExceededException":throw yield za(T,C);case"ServiceFailureException":case"com.amazonaws.chimesdkmessaging#ServiceFailureException":throw yield Pn(T,C);case"ServiceUnavailableException":case"com.amazonaws.chimesdkmessaging#ServiceUnavailableException":throw yield Dn(T,C);case"ThrottledClientException":case"com.amazonaws.chimesdkmessaging#ThrottledClientException":throw yield xn(T,C);case"UnauthorizedClientException":case"com.amazonaws.chimesdkmessaging#UnauthorizedClientException":throw yield kn(T,C);default:const U=T.body;return An({output:y,parsedBody:U,errorCode:_})}});return o(function(C,T){return E.apply(this,arguments)},"de_CreateChannelMembershipCommandError")}(),jp=function(){var E=Object(u.coroutine)(function*(y,C){if(y.statusCode!==201&&y.statusCode>=300)return Wp(y,C);const T=We({$metadata:V(y)}),_=rn(Yn(yield ii(y.body,C)),"body"),U=nt(_,{ChannelArn:It,ChannelModerator:ln});return Object.assign(T,U),T});return o(function(C,T){return E.apply(this,arguments)},"de_CreateChannelModeratorCommand")}(),Wp=function(){var E=Object(u.coroutine)(function*(y,C){const T={...y,body:yield Ln(y.body,C)},_=_n(y,T.body);switch(_){case"BadRequestException":case"com.amazonaws.chimesdkmessaging#BadRequestException":throw yield Fn(T,C);case"ConflictException":case"com.amazonaws.chimesdkmessaging#ConflictException":throw yield vr(T,C);case"ForbiddenException":case"com.amazonaws.chimesdkmessaging#ForbiddenException":throw yield Rn(T,C);case"ResourceLimitExceededException":case"com.amazonaws.chimesdkmessaging#ResourceLimitExceededException":throw yield za(T,C);case"ServiceFailureException":case"com.amazonaws.chimesdkmessaging#ServiceFailureException":throw yield Pn(T,C);case"ServiceUnavailableException":case"com.amazonaws.chimesdkmessaging#ServiceUnavailableException":throw yield Dn(T,C);case"ThrottledClientException":case"com.amazonaws.chimesdkmessaging#ThrottledClientException":throw yield xn(T,C);case"UnauthorizedClientException":case"com.amazonaws.chimesdkmessaging#UnauthorizedClientException":throw yield kn(T,C);default:const U=T.body;return An({output:y,parsedBody:U,errorCode:_})}});return o(function(C,T){return E.apply(this,arguments)},"de_CreateChannelModeratorCommandError")}(),Gp=function(){var E=Object(u.coroutine)(function*(y,C){if(y.statusCode!==204&&y.statusCode>=300)return $p(y,C);const T=We({$metadata:V(y)});return yield $o(y.body,C),T});return o(function(C,T){return E.apply(this,arguments)},"de_DeleteChannelCommand")}(),$p=function(){var E=Object(u.coroutine)(function*(y,C){const T={...y,body:yield Ln(y.body,C)},_=_n(y,T.body);switch(_){case"BadRequestException":case"com.amazonaws.chimesdkmessaging#BadRequestException":throw yield Fn(T,C);case"ConflictException":case"com.amazonaws.chimesdkmessaging#ConflictException":throw yield vr(T,C);case"ForbiddenException":case"com.amazonaws.chimesdkmessaging#ForbiddenException":throw yield Rn(T,C);case"ServiceFailureException":case"com.amazonaws.chimesdkmessaging#ServiceFailureException":throw yield Pn(T,C);case"ServiceUnavailableException":case"com.amazonaws.chimesdkmessaging#ServiceUnavailableException":throw yield Dn(T,C);case"ThrottledClientException":case"com.amazonaws.chimesdkmessaging#ThrottledClientException":throw yield xn(T,C);case"UnauthorizedClientException":case"com.amazonaws.chimesdkmessaging#UnauthorizedClientException":throw yield kn(T,C);default:const U=T.body;return An({output:y,parsedBody:U,errorCode:_})}});return o(function(C,T){return E.apply(this,arguments)},"de_DeleteChannelCommandError")}(),Kp=function(){var E=Object(u.coroutine)(function*(y,C){if(y.statusCode!==204&&y.statusCode>=300)return Jp(y,C);const T=We({$metadata:V(y)});return yield $o(y.body,C),T});return o(function(C,T){return E.apply(this,arguments)},"de_DeleteChannelBanCommand")}(),Jp=function(){var E=Object(u.coroutine)(function*(y,C){const T={...y,body:yield Ln(y.body,C)},_=_n(y,T.body);switch(_){case"BadRequestException":case"com.amazonaws.chimesdkmessaging#BadRequestException":throw yield Fn(T,C);case"ForbiddenException":case"com.amazonaws.chimesdkmessaging#ForbiddenException":throw yield Rn(T,C);case"ServiceFailureException":case"com.amazonaws.chimesdkmessaging#ServiceFailureException":throw yield Pn(T,C);case"ServiceUnavailableException":case"com.amazonaws.chimesdkmessaging#ServiceUnavailableException":throw yield Dn(T,C);case"ThrottledClientException":case"com.amazonaws.chimesdkmessaging#ThrottledClientException":throw yield xn(T,C);case"UnauthorizedClientException":case"com.amazonaws.chimesdkmessaging#UnauthorizedClientException":throw yield kn(T,C);default:const U=T.body;return An({output:y,parsedBody:U,errorCode:_})}});return o(function(C,T){return E.apply(this,arguments)},"de_DeleteChannelBanCommandError")}(),Yp=function(){var E=Object(u.coroutine)(function*(y,C){if(y.statusCode!==204&&y.statusCode>=300)return Xp(y,C);const T=We({$metadata:V(y)});return yield $o(y.body,C),T});return o(function(C,T){return E.apply(this,arguments)},"de_DeleteChannelFlowCommand")}(),Xp=function(){var E=Object(u.coroutine)(function*(y,C){const T={...y,body:yield Ln(y.body,C)},_=_n(y,T.body);switch(_){case"BadRequestException":case"com.amazonaws.chimesdkmessaging#BadRequestException":throw yield Fn(T,C);case"ConflictException":case"com.amazonaws.chimesdkmessaging#ConflictException":throw yield vr(T,C);case"ForbiddenException":case"com.amazonaws.chimesdkmessaging#ForbiddenException":throw yield Rn(T,C);case"ServiceFailureException":case"com.amazonaws.chimesdkmessaging#ServiceFailureException":throw yield Pn(T,C);case"ServiceUnavailableException":case"com.amazonaws.chimesdkmessaging#ServiceUnavailableException":throw yield Dn(T,C);case"ThrottledClientException":case"com.amazonaws.chimesdkmessaging#ThrottledClientException":throw yield xn(T,C);case"UnauthorizedClientException":case"com.amazonaws.chimesdkmessaging#UnauthorizedClientException":throw yield kn(T,C);default:const U=T.body;return An({output:y,parsedBody:U,errorCode:_})}});return o(function(C,T){return E.apply(this,arguments)},"de_DeleteChannelFlowCommandError")}(),Zp=function(){var E=Object(u.coroutine)(function*(y,C){if(y.statusCode!==204&&y.statusCode>=300)return Qp(y,C);const T=We({$metadata:V(y)});return yield $o(y.body,C),T});return o(function(C,T){return E.apply(this,arguments)},"de_DeleteChannelMembershipCommand")}(),Qp=function(){var E=Object(u.coroutine)(function*(y,C){const T={...y,body:yield Ln(y.body,C)},_=_n(y,T.body);switch(_){case"BadRequestException":case"com.amazonaws.chimesdkmessaging#BadRequestException":throw yield Fn(T,C);case"ConflictException":case"com.amazonaws.chimesdkmessaging#ConflictException":throw yield vr(T,C);case"ForbiddenException":case"com.amazonaws.chimesdkmessaging#ForbiddenException":throw yield Rn(T,C);case"ServiceFailureException":case"com.amazonaws.chimesdkmessaging#ServiceFailureException":throw yield Pn(T,C);case"ServiceUnavailableException":case"com.amazonaws.chimesdkmessaging#ServiceUnavailableException":throw yield Dn(T,C);case"ThrottledClientException":case"com.amazonaws.chimesdkmessaging#ThrottledClientException":throw yield xn(T,C);case"UnauthorizedClientException":case"com.amazonaws.chimesdkmessaging#UnauthorizedClientException":throw yield kn(T,C);default:const U=T.body;return An({output:y,parsedBody:U,errorCode:_})}});return o(function(C,T){return E.apply(this,arguments)},"de_DeleteChannelMembershipCommandError")}(),qp=function(){var E=Object(u.coroutine)(function*(y,C){if(y.statusCode!==204&&y.statusCode>=300)return em(y,C);const T=We({$metadata:V(y)});return yield $o(y.body,C),T});return o(function(C,T){return E.apply(this,arguments)},"de_DeleteChannelMessageCommand")}(),em=function(){var E=Object(u.coroutine)(function*(y,C){const T={...y,body:yield Ln(y.body,C)},_=_n(y,T.body);switch(_){case"BadRequestException":case"com.amazonaws.chimesdkmessaging#BadRequestException":throw yield Fn(T,C);case"ForbiddenException":case"com.amazonaws.chimesdkmessaging#ForbiddenException":throw yield Rn(T,C);case"ServiceFailureException":case"com.amazonaws.chimesdkmessaging#ServiceFailureException":throw yield Pn(T,C);case"ServiceUnavailableException":case"com.amazonaws.chimesdkmessaging#ServiceUnavailableException":throw yield Dn(T,C);case"ThrottledClientException":case"com.amazonaws.chimesdkmessaging#ThrottledClientException":throw yield xn(T,C);case"UnauthorizedClientException":case"com.amazonaws.chimesdkmessaging#UnauthorizedClientException":throw yield kn(T,C);default:const U=T.body;return An({output:y,parsedBody:U,errorCode:_})}});return o(function(C,T){return E.apply(this,arguments)},"de_DeleteChannelMessageCommandError")}(),tm=function(){var E=Object(u.coroutine)(function*(y,C){if(y.statusCode!==204&&y.statusCode>=300)return nm(y,C);const T=We({$metadata:V(y)});return yield $o(y.body,C),T});return o(function(C,T){return E.apply(this,arguments)},"de_DeleteChannelModeratorCommand")}(),nm=function(){var E=Object(u.coroutine)(function*(y,C){const T={...y,body:yield Ln(y.body,C)},_=_n(y,T.body);switch(_){case"BadRequestException":case"com.amazonaws.chimesdkmessaging#BadRequestException":throw yield Fn(T,C);case"ForbiddenException":case"com.amazonaws.chimesdkmessaging#ForbiddenException":throw yield Rn(T,C);case"ServiceFailureException":case"com.amazonaws.chimesdkmessaging#ServiceFailureException":throw yield Pn(T,C);case"ServiceUnavailableException":case"com.amazonaws.chimesdkmessaging#ServiceUnavailableException":throw yield Dn(T,C);case"ThrottledClientException":case"com.amazonaws.chimesdkmessaging#ThrottledClientException":throw yield xn(T,C);case"UnauthorizedClientException":case"com.amazonaws.chimesdkmessaging#UnauthorizedClientException":throw yield kn(T,C);default:const U=T.body;return An({output:y,parsedBody:U,errorCode:_})}});return o(function(C,T){return E.apply(this,arguments)},"de_DeleteChannelModeratorCommandError")}(),im=function(){var E=Object(u.coroutine)(function*(y,C){if(y.statusCode!==204&&y.statusCode>=300)return rm(y,C);const T=We({$metadata:V(y)});return yield $o(y.body,C),T});return o(function(C,T){return E.apply(this,arguments)},"de_DeleteMessagingStreamingConfigurationsCommand")}(),rm=function(){var E=Object(u.coroutine)(function*(y,C){const T={...y,body:yield Ln(y.body,C)},_=_n(y,T.body);switch(_){case"BadRequestException":case"com.amazonaws.chimesdkmessaging#BadRequestException":throw yield Fn(T,C);case"ForbiddenException":case"com.amazonaws.chimesdkmessaging#ForbiddenException":throw yield Rn(T,C);case"ServiceFailureException":case"com.amazonaws.chimesdkmessaging#ServiceFailureException":throw yield Pn(T,C);case"ServiceUnavailableException":case"com.amazonaws.chimesdkmessaging#ServiceUnavailableException":throw yield Dn(T,C);case"ThrottledClientException":case"com.amazonaws.chimesdkmessaging#ThrottledClientException":throw yield xn(T,C);case"UnauthorizedClientException":case"com.amazonaws.chimesdkmessaging#UnauthorizedClientException":throw yield kn(T,C);default:const U=T.body;return An({output:y,parsedBody:U,errorCode:_})}});return o(function(C,T){return E.apply(this,arguments)},"de_DeleteMessagingStreamingConfigurationsCommandError")}(),om=function(){var E=Object(u.coroutine)(function*(y,C){if(y.statusCode!==200&&y.statusCode>=300)return sm(y,C);const T=We({$metadata:V(y)}),_=rn(Yn(yield ii(y.body,C)),"body"),U=nt(_,{Channel:W=>Ig(W,C)});return Object.assign(T,U),T});return o(function(C,T){return E.apply(this,arguments)},"de_DescribeChannelCommand")}(),sm=function(){var E=Object(u.coroutine)(function*(y,C){const T={...y,body:yield Ln(y.body,C)},_=_n(y,T.body);switch(_){case"BadRequestException":case"com.amazonaws.chimesdkmessaging#BadRequestException":throw yield Fn(T,C);case"ForbiddenException":case"com.amazonaws.chimesdkmessaging#ForbiddenException":throw yield Rn(T,C);case"ServiceFailureException":case"com.amazonaws.chimesdkmessaging#ServiceFailureException":throw yield Pn(T,C);case"ServiceUnavailableException":case"com.amazonaws.chimesdkmessaging#ServiceUnavailableException":throw yield Dn(T,C);case"ThrottledClientException":case"com.amazonaws.chimesdkmessaging#ThrottledClientException":throw yield xn(T,C);case"UnauthorizedClientException":case"com.amazonaws.chimesdkmessaging#UnauthorizedClientException":throw yield kn(T,C);default:const U=T.body;return An({output:y,parsedBody:U,errorCode:_})}});return o(function(C,T){return E.apply(this,arguments)},"de_DescribeChannelCommandError")}(),am=function(){var E=Object(u.coroutine)(function*(y,C){if(y.statusCode!==200&&y.statusCode>=300)return lm(y,C);const T=We({$metadata:V(y)}),_=rn(Yn(yield ii(y.body,C)),"body"),U=nt(_,{ChannelBan:W=>wg(W,C)});return Object.assign(T,U),T});return o(function(C,T){return E.apply(this,arguments)},"de_DescribeChannelBanCommand")}(),lm=function(){var E=Object(u.coroutine)(function*(y,C){const T={...y,body:yield Ln(y.body,C)},_=_n(y,T.body);switch(_){case"BadRequestException":case"com.amazonaws.chimesdkmessaging#BadRequestException":throw yield Fn(T,C);case"ForbiddenException":case"com.amazonaws.chimesdkmessaging#ForbiddenException":throw yield Rn(T,C);case"NotFoundException":case"com.amazonaws.chimesdkmessaging#NotFoundException":throw yield ks(T,C);case"ServiceFailureException":case"com.amazonaws.chimesdkmessaging#ServiceFailureException":throw yield Pn(T,C);case"ServiceUnavailableException":case"com.amazonaws.chimesdkmessaging#ServiceUnavailableException":throw yield Dn(T,C);case"ThrottledClientException":case"com.amazonaws.chimesdkmessaging#ThrottledClientException":throw yield xn(T,C);case"UnauthorizedClientException":case"com.amazonaws.chimesdkmessaging#UnauthorizedClientException":throw yield kn(T,C);default:const U=T.body;return An({output:y,parsedBody:U,errorCode:_})}});return o(function(C,T){return E.apply(this,arguments)},"de_DescribeChannelBanCommandError")}(),cm=function(){var E=Object(u.coroutine)(function*(y,C){if(y.statusCode!==200&&y.statusCode>=300)return dm(y,C);const T=We({$metadata:V(y)}),_=rn(Yn(yield ii(y.body,C)),"body"),U=nt(_,{ChannelFlow:W=>Og(W,C)});return Object.assign(T,U),T});return o(function(C,T){return E.apply(this,arguments)},"de_DescribeChannelFlowCommand")}(),dm=function(){var E=Object(u.coroutine)(function*(y,C){const T={...y,body:yield Ln(y.body,C)},_=_n(y,T.body);switch(_){case"BadRequestException":case"com.amazonaws.chimesdkmessaging#BadRequestException":throw yield Fn(T,C);case"ForbiddenException":case"com.amazonaws.chimesdkmessaging#ForbiddenException":throw yield Rn(T,C);case"ServiceFailureException":case"com.amazonaws.chimesdkmessaging#ServiceFailureException":throw yield Pn(T,C);case"ServiceUnavailableException":case"com.amazonaws.chimesdkmessaging#ServiceUnavailableException":throw yield Dn(T,C);case"ThrottledClientException":case"com.amazonaws.chimesdkmessaging#ThrottledClientException":throw yield xn(T,C);case"UnauthorizedClientException":case"com.amazonaws.chimesdkmessaging#UnauthorizedClientException":throw yield kn(T,C);default:const U=T.body;return An({output:y,parsedBody:U,errorCode:_})}});return o(function(C,T){return E.apply(this,arguments)},"de_DescribeChannelFlowCommandError")}(),um=function(){var E=Object(u.coroutine)(function*(y,C){if(y.statusCode!==200&&y.statusCode>=300)return hm(y,C);const T=We({$metadata:V(y)}),_=rn(Yn(yield ii(y.body,C)),"body"),U=nt(_,{ChannelMembership:W=>Mg(W,C)});return Object.assign(T,U),T});return o(function(C,T){return E.apply(this,arguments)},"de_DescribeChannelMembershipCommand")}(),hm=function(){var E=Object(u.coroutine)(function*(y,C){const T={...y,body:yield Ln(y.body,C)},_=_n(y,T.body);switch(_){case"BadRequestException":case"com.amazonaws.chimesdkmessaging#BadRequestException":throw yield Fn(T,C);case"ForbiddenException":case"com.amazonaws.chimesdkmessaging#ForbiddenException":throw yield Rn(T,C);case"NotFoundException":case"com.amazonaws.chimesdkmessaging#NotFoundException":throw yield ks(T,C);case"ServiceFailureException":case"com.amazonaws.chimesdkmessaging#ServiceFailureException":throw yield Pn(T,C);case"ServiceUnavailableException":case"com.amazonaws.chimesdkmessaging#ServiceUnavailableException":throw yield Dn(T,C);case"ThrottledClientException":case"com.amazonaws.chimesdkmessaging#ThrottledClientException":throw yield xn(T,C);case"UnauthorizedClientException":case"com.amazonaws.chimesdkmessaging#UnauthorizedClientException":throw yield kn(T,C);default:const U=T.body;return An({output:y,parsedBody:U,errorCode:_})}});return o(function(C,T){return E.apply(this,arguments)},"de_DescribeChannelMembershipCommandError")}(),fm=function(){var E=Object(u.coroutine)(function*(y,C){if(y.statusCode!==200&&y.statusCode>=300)return pm(y,C);const T=We({$metadata:V(y)}),_=rn(Yn(yield ii(y.body,C)),"body"),U=nt(_,{ChannelMembership:W=>ph(W,C)});return Object.assign(T,U),T});return o(function(C,T){return E.apply(this,arguments)},"de_DescribeChannelMembershipForAppInstanceUserCommand")}(),pm=function(){var E=Object(u.coroutine)(function*(y,C){const T={...y,body:yield Ln(y.body,C)},_=_n(y,T.body);switch(_){case"BadRequestException":case"com.amazonaws.chimesdkmessaging#BadRequestException":throw yield Fn(T,C);case"ForbiddenException":case"com.amazonaws.chimesdkmessaging#ForbiddenException":throw yield Rn(T,C);case"ServiceFailureException":case"com.amazonaws.chimesdkmessaging#ServiceFailureException":throw yield Pn(T,C);case"ServiceUnavailableException":case"com.amazonaws.chimesdkmessaging#ServiceUnavailableException":throw yield Dn(T,C);case"ThrottledClientException":case"com.amazonaws.chimesdkmessaging#ThrottledClientException":throw yield xn(T,C);case"UnauthorizedClientException":case"com.amazonaws.chimesdkmessaging#UnauthorizedClientException":throw yield kn(T,C);default:const U=T.body;return An({output:y,parsedBody:U,errorCode:_})}});return o(function(C,T){return E.apply(this,arguments)},"de_DescribeChannelMembershipForAppInstanceUserCommandError")}(),mm=function(){var E=Object(u.coroutine)(function*(y,C){if(y.statusCode!==200&&y.statusCode>=300)return gm(y,C);const T=We({$metadata:V(y)}),_=rn(Yn(yield ii(y.body,C)),"body"),U=nt(_,{Channel:W=>mh(W,C)});return Object.assign(T,U),T});return o(function(C,T){return E.apply(this,arguments)},"de_DescribeChannelModeratedByAppInstanceUserCommand")}(),gm=function(){var E=Object(u.coroutine)(function*(y,C){const T={...y,body:yield Ln(y.body,C)},_=_n(y,T.body);switch(_){case"BadRequestException":case"com.amazonaws.chimesdkmessaging#BadRequestException":throw yield Fn(T,C);case"ForbiddenException":case"com.amazonaws.chimesdkmessaging#ForbiddenException":throw yield Rn(T,C);case"ServiceFailureException":case"com.amazonaws.chimesdkmessaging#ServiceFailureException":throw yield Pn(T,C);case"ServiceUnavailableException":case"com.amazonaws.chimesdkmessaging#ServiceUnavailableException":throw yield Dn(T,C);case"ThrottledClientException":case"com.amazonaws.chimesdkmessaging#ThrottledClientException":throw yield xn(T,C);case"UnauthorizedClientException":case"com.amazonaws.chimesdkmessaging#UnauthorizedClientException":throw yield kn(T,C);default:const U=T.body;return An({output:y,parsedBody:U,errorCode:_})}});return o(function(C,T){return E.apply(this,arguments)},"de_DescribeChannelModeratedByAppInstanceUserCommandError")}(),vm=function(){var E=Object(u.coroutine)(function*(y,C){if(y.statusCode!==200&&y.statusCode>=300)return Sm(y,C);const T=We({$metadata:V(y)}),_=rn(Yn(yield ii(y.body,C)),"body"),U=nt(_,{ChannelModerator:W=>kg(W,C)});return Object.assign(T,U),T});return o(function(C,T){return E.apply(this,arguments)},"de_DescribeChannelModeratorCommand")}(),Sm=function(){var E=Object(u.coroutine)(function*(y,C){const T={...y,body:yield Ln(y.body,C)},_=_n(y,T.body);switch(_){case"BadRequestException":case"com.amazonaws.chimesdkmessaging#BadRequestException":throw yield Fn(T,C);case"ForbiddenException":case"com.amazonaws.chimesdkmessaging#ForbiddenException":throw yield Rn(T,C);case"NotFoundException":case"com.amazonaws.chimesdkmessaging#NotFoundException":throw yield ks(T,C);case"ServiceFailureException":case"com.amazonaws.chimesdkmessaging#ServiceFailureException":throw yield Pn(T,C);case"ServiceUnavailableException":case"com.amazonaws.chimesdkmessaging#ServiceUnavailableException":throw yield Dn(T,C);case"ThrottledClientException":case"com.amazonaws.chimesdkmessaging#ThrottledClientException":throw yield xn(T,C);case"UnauthorizedClientException":case"com.amazonaws.chimesdkmessaging#UnauthorizedClientException":throw yield kn(T,C);default:const U=T.body;return An({output:y,parsedBody:U,errorCode:_})}});return o(function(C,T){return E.apply(this,arguments)},"de_DescribeChannelModeratorCommandError")}(),ym=function(){var E=Object(u.coroutine)(function*(y,C){if(y.statusCode!==204&&y.statusCode>=300)return Cm(y,C);const T=We({$metadata:V(y)});return yield $o(y.body,C),T});return o(function(C,T){return E.apply(this,arguments)},"de_DisassociateChannelFlowCommand")}(),Cm=function(){var E=Object(u.coroutine)(function*(y,C){const T={...y,body:yield Ln(y.body,C)},_=_n(y,T.body);switch(_){case"BadRequestException":case"com.amazonaws.chimesdkmessaging#BadRequestException":throw yield Fn(T,C);case"ConflictException":case"com.amazonaws.chimesdkmessaging#ConflictException":throw yield vr(T,C);case"ForbiddenException":case"com.amazonaws.chimesdkmessaging#ForbiddenException":throw yield Rn(T,C);case"NotFoundException":case"com.amazonaws.chimesdkmessaging#NotFoundException":throw yield ks(T,C);case"ServiceFailureException":case"com.amazonaws.chimesdkmessaging#ServiceFailureException":throw yield Pn(T,C);case"ServiceUnavailableException":case"com.amazonaws.chimesdkmessaging#ServiceUnavailableException":throw yield Dn(T,C);case"ThrottledClientException":case"com.amazonaws.chimesdkmessaging#ThrottledClientException":throw yield xn(T,C);case"UnauthorizedClientException":case"com.amazonaws.chimesdkmessaging#UnauthorizedClientException":throw yield kn(T,C);default:const U=T.body;return An({output:y,parsedBody:U,errorCode:_})}});return o(function(C,T){return E.apply(this,arguments)},"de_DisassociateChannelFlowCommandError")}(),bm=function(){var E=Object(u.coroutine)(function*(y,C){if(y.statusCode!==200&&y.statusCode>=300)return Em(y,C);const T=We({$metadata:V(y)}),_=rn(Yn(yield ii(y.body,C)),"body"),U=nt(_,{ChannelArn:It,Member:ln,Preferences:ln});return Object.assign(T,U),T});return o(function(C,T){return E.apply(this,arguments)},"de_GetChannelMembershipPreferencesCommand")}(),Em=function(){var E=Object(u.coroutine)(function*(y,C){const T={...y,body:yield Ln(y.body,C)},_=_n(y,T.body);switch(_){case"BadRequestException":case"com.amazonaws.chimesdkmessaging#BadRequestException":throw yield Fn(T,C);case"ForbiddenException":case"com.amazonaws.chimesdkmessaging#ForbiddenException":throw yield Rn(T,C);case"ServiceFailureException":case"com.amazonaws.chimesdkmessaging#ServiceFailureException":throw yield Pn(T,C);case"ServiceUnavailableException":case"com.amazonaws.chimesdkmessaging#ServiceUnavailableException":throw yield Dn(T,C);case"ThrottledClientException":case"com.amazonaws.chimesdkmessaging#ThrottledClientException":throw yield xn(T,C);case"UnauthorizedClientException":case"com.amazonaws.chimesdkmessaging#UnauthorizedClientException":throw yield kn(T,C);default:const U=T.body;return An({output:y,parsedBody:U,errorCode:_})}});return o(function(C,T){return E.apply(this,arguments)},"de_GetChannelMembershipPreferencesCommandError")}(),Tm=function(){var E=Object(u.coroutine)(function*(y,C){if(y.statusCode!==200&&y.statusCode>=300)return Im(y,C);const T=We({$metadata:V(y)}),_=rn(Yn(yield ii(y.body,C)),"body"),U=nt(_,{ChannelMessage:W=>Rg(W,C)});return Object.assign(T,U),T});return o(function(C,T){return E.apply(this,arguments)},"de_GetChannelMessageCommand")}(),Im=function(){var E=Object(u.coroutine)(function*(y,C){const T={...y,body:yield Ln(y.body,C)},_=_n(y,T.body);switch(_){case"BadRequestException":case"com.amazonaws.chimesdkmessaging#BadRequestException":throw yield Fn(T,C);case"ForbiddenException":case"com.amazonaws.chimesdkmessaging#ForbiddenException":throw yield Rn(T,C);case"NotFoundException":case"com.amazonaws.chimesdkmessaging#NotFoundException":throw yield ks(T,C);case"ServiceFailureException":case"com.amazonaws.chimesdkmessaging#ServiceFailureException":throw yield Pn(T,C);case"ServiceUnavailableException":case"com.amazonaws.chimesdkmessaging#ServiceUnavailableException":throw yield Dn(T,C);case"ThrottledClientException":case"com.amazonaws.chimesdkmessaging#ThrottledClientException":throw yield xn(T,C);case"UnauthorizedClientException":case"com.amazonaws.chimesdkmessaging#UnauthorizedClientException":throw yield kn(T,C);default:const U=T.body;return An({output:y,parsedBody:U,errorCode:_})}});return o(function(C,T){return E.apply(this,arguments)},"de_GetChannelMessageCommandError")}(),wm=function(){var E=Object(u.coroutine)(function*(y,C){if(y.statusCode!==200&&y.statusCode>=300)return Om(y,C);const T=We({$metadata:V(y)}),_=rn(Yn(yield ii(y.body,C)),"body"),U=nt(_,{Status:ln});return Object.assign(T,U),T});return o(function(C,T){return E.apply(this,arguments)},"de_GetChannelMessageStatusCommand")}(),Om=function(){var E=Object(u.coroutine)(function*(y,C){const T={...y,body:yield Ln(y.body,C)},_=_n(y,T.body);switch(_){case"BadRequestException":case"com.amazonaws.chimesdkmessaging#BadRequestException":throw yield Fn(T,C);case"ForbiddenException":case"com.amazonaws.chimesdkmessaging#ForbiddenException":throw yield Rn(T,C);case"ServiceFailureException":case"com.amazonaws.chimesdkmessaging#ServiceFailureException":throw yield Pn(T,C);case"ServiceUnavailableException":case"com.amazonaws.chimesdkmessaging#ServiceUnavailableException":throw yield Dn(T,C);case"ThrottledClientException":case"com.amazonaws.chimesdkmessaging#ThrottledClientException":throw yield xn(T,C);case"UnauthorizedClientException":case"com.amazonaws.chimesdkmessaging#UnauthorizedClientException":throw yield kn(T,C);default:const U=T.body;return An({output:y,parsedBody:U,errorCode:_})}});return o(function(C,T){return E.apply(this,arguments)},"de_GetChannelMessageStatusCommandError")}(),Mm=function(){var E=Object(u.coroutine)(function*(y,C){if(y.statusCode!==200&&y.statusCode>=300)return Am(y,C);const T=We({$metadata:V(y)}),_=rn(Yn(yield ii(y.body,C)),"body"),U=nt(_,{Endpoint:ln});return Object.assign(T,U),T});return o(function(C,T){return E.apply(this,arguments)},"de_GetMessagingSessionEndpointCommand")}(),Am=function(){var E=Object(u.coroutine)(function*(y,C){const T={...y,body:yield Ln(y.body,C)},_=_n(y,T.body);switch(_){case"ForbiddenException":case"com.amazonaws.chimesdkmessaging#ForbiddenException":throw yield Rn(T,C);case"ServiceFailureException":case"com.amazonaws.chimesdkmessaging#ServiceFailureException":throw yield Pn(T,C);case"ServiceUnavailableException":case"com.amazonaws.chimesdkmessaging#ServiceUnavailableException":throw yield Dn(T,C);case"ThrottledClientException":case"com.amazonaws.chimesdkmessaging#ThrottledClientException":throw yield xn(T,C);case"UnauthorizedClientException":case"com.amazonaws.chimesdkmessaging#UnauthorizedClientException":throw yield kn(T,C);default:const U=T.body;return An({output:y,parsedBody:U,errorCode:_})}});return o(function(C,T){return E.apply(this,arguments)},"de_GetMessagingSessionEndpointCommandError")}(),Rm=function(){var E=Object(u.coroutine)(function*(y,C){if(y.statusCode!==200&&y.statusCode>=300)return Pm(y,C);const T=We({$metadata:V(y)}),_=rn(Yn(yield ii(y.body,C)),"body"),U=nt(_,{StreamingConfigurations:ln});return Object.assign(T,U),T});return o(function(C,T){return E.apply(this,arguments)},"de_GetMessagingStreamingConfigurationsCommand")}(),Pm=function(){var E=Object(u.coroutine)(function*(y,C){const T={...y,body:yield Ln(y.body,C)},_=_n(y,T.body);switch(_){case"BadRequestException":case"com.amazonaws.chimesdkmessaging#BadRequestException":throw yield Fn(T,C);case"ForbiddenException":case"com.amazonaws.chimesdkmessaging#ForbiddenException":throw yield Rn(T,C);case"NotFoundException":case"com.amazonaws.chimesdkmessaging#NotFoundException":throw yield ks(T,C);case"ServiceFailureException":case"com.amazonaws.chimesdkmessaging#ServiceFailureException":throw yield Pn(T,C);case"ServiceUnavailableException":case"com.amazonaws.chimesdkmessaging#ServiceUnavailableException":throw yield Dn(T,C);case"ThrottledClientException":case"com.amazonaws.chimesdkmessaging#ThrottledClientException":throw yield xn(T,C);case"UnauthorizedClientException":case"com.amazonaws.chimesdkmessaging#UnauthorizedClientException":throw yield kn(T,C);default:const U=T.body;return An({output:y,parsedBody:U,errorCode:_})}});return o(function(C,T){return E.apply(this,arguments)},"de_GetMessagingStreamingConfigurationsCommandError")}(),Dm=function(){var E=Object(u.coroutine)(function*(y,C){if(y.statusCode!==200&&y.statusCode>=300)return xm(y,C);const T=We({$metadata:V(y)}),_=rn(Yn(yield ii(y.body,C)),"body"),U=nt(_,{ChannelArn:It,ChannelBans:ln,NextToken:It});return Object.assign(T,U),T});return o(function(C,T){return E.apply(this,arguments)},"de_ListChannelBansCommand")}(),xm=function(){var E=Object(u.coroutine)(function*(y,C){const T={...y,body:yield Ln(y.body,C)},_=_n(y,T.body);switch(_){case"BadRequestException":case"com.amazonaws.chimesdkmessaging#BadRequestException":throw yield Fn(T,C);case"ForbiddenException":case"com.amazonaws.chimesdkmessaging#ForbiddenException":throw yield Rn(T,C);case"ServiceFailureException":case"com.amazonaws.chimesdkmessaging#ServiceFailureException":throw yield Pn(T,C);case"ServiceUnavailableException":case"com.amazonaws.chimesdkmessaging#ServiceUnavailableException":throw yield Dn(T,C);case"ThrottledClientException":case"com.amazonaws.chimesdkmessaging#ThrottledClientException":throw yield xn(T,C);case"UnauthorizedClientException":case"com.amazonaws.chimesdkmessaging#UnauthorizedClientException":throw yield kn(T,C);default:const U=T.body;return An({output:y,parsedBody:U,errorCode:_})}});return o(function(C,T){return E.apply(this,arguments)},"de_ListChannelBansCommandError")}(),km=function(){var E=Object(u.coroutine)(function*(y,C){if(y.statusCode!==200&&y.statusCode>=300)return Lm(y,C);const T=We({$metadata:V(y)}),_=rn(Yn(yield ii(y.body,C)),"body"),U=nt(_,{ChannelFlows:ln,NextToken:It});return Object.assign(T,U),T});return o(function(C,T){return E.apply(this,arguments)},"de_ListChannelFlowsCommand")}(),Lm=function(){var E=Object(u.coroutine)(function*(y,C){const T={...y,body:yield Ln(y.body,C)},_=_n(y,T.body);switch(_){case"BadRequestException":case"com.amazonaws.chimesdkmessaging#BadRequestException":throw yield Fn(T,C);case"ForbiddenException":case"com.amazonaws.chimesdkmessaging#ForbiddenException":throw yield Rn(T,C);case"ServiceFailureException":case"com.amazonaws.chimesdkmessaging#ServiceFailureException":throw yield Pn(T,C);case"ServiceUnavailableException":case"com.amazonaws.chimesdkmessaging#ServiceUnavailableException":throw yield Dn(T,C);case"ThrottledClientException":case"com.amazonaws.chimesdkmessaging#ThrottledClientException":throw yield xn(T,C);case"UnauthorizedClientException":case"com.amazonaws.chimesdkmessaging#UnauthorizedClientException":throw yield kn(T,C);default:const U=T.body;return An({output:y,parsedBody:U,errorCode:_})}});return o(function(C,T){return E.apply(this,arguments)},"de_ListChannelFlowsCommandError")}(),_m=function(){var E=Object(u.coroutine)(function*(y,C){if(y.statusCode!==200&&y.statusCode>=300)return Nm(y,C);const T=We({$metadata:V(y)}),_=rn(Yn(yield ii(y.body,C)),"body"),U=nt(_,{ChannelArn:It,ChannelMemberships:ln,NextToken:It});return Object.assign(T,U),T});return o(function(C,T){return E.apply(this,arguments)},"de_ListChannelMembershipsCommand")}(),Nm=function(){var E=Object(u.coroutine)(function*(y,C){const T={...y,body:yield Ln(y.body,C)},_=_n(y,T.body);switch(_){case"BadRequestException":case"com.amazonaws.chimesdkmessaging#BadRequestException":throw yield Fn(T,C);case"ForbiddenException":case"com.amazonaws.chimesdkmessaging#ForbiddenException":throw yield Rn(T,C);case"ServiceFailureException":case"com.amazonaws.chimesdkmessaging#ServiceFailureException":throw yield Pn(T,C);case"ServiceUnavailableException":case"com.amazonaws.chimesdkmessaging#ServiceUnavailableException":throw yield Dn(T,C);case"ThrottledClientException":case"com.amazonaws.chimesdkmessaging#ThrottledClientException":throw yield xn(T,C);case"UnauthorizedClientException":case"com.amazonaws.chimesdkmessaging#UnauthorizedClientException":throw yield kn(T,C);default:const U=T.body;return An({output:y,parsedBody:U,errorCode:_})}});return o(function(C,T){return E.apply(this,arguments)},"de_ListChannelMembershipsCommandError")}(),Bm=function(){var E=Object(u.coroutine)(function*(y,C){if(y.statusCode!==200&&y.statusCode>=300)return Fm(y,C);const T=We({$metadata:V(y)}),_=rn(Yn(yield ii(y.body,C)),"body"),U=nt(_,{ChannelMemberships:W=>Ag(W,C),NextToken:It});return Object.assign(T,U),T});return o(function(C,T){return E.apply(this,arguments)},"de_ListChannelMembershipsForAppInstanceUserCommand")}(),Fm=function(){var E=Object(u.coroutine)(function*(y,C){const T={...y,body:yield Ln(y.body,C)},_=_n(y,T.body);switch(_){case"BadRequestException":case"com.amazonaws.chimesdkmessaging#BadRequestException":throw yield Fn(T,C);case"ForbiddenException":case"com.amazonaws.chimesdkmessaging#ForbiddenException":throw yield Rn(T,C);case"ServiceFailureException":case"com.amazonaws.chimesdkmessaging#ServiceFailureException":throw yield Pn(T,C);case"ServiceUnavailableException":case"com.amazonaws.chimesdkmessaging#ServiceUnavailableException":throw yield Dn(T,C);case"ThrottledClientException":case"com.amazonaws.chimesdkmessaging#ThrottledClientException":throw yield xn(T,C);case"UnauthorizedClientException":case"com.amazonaws.chimesdkmessaging#UnauthorizedClientException":throw yield kn(T,C);default:const U=T.body;return An({output:y,parsedBody:U,errorCode:_})}});return o(function(C,T){return E.apply(this,arguments)},"de_ListChannelMembershipsForAppInstanceUserCommandError")}(),Um=function(){var E=Object(u.coroutine)(function*(y,C){if(y.statusCode!==200&&y.statusCode>=300)return Vm(y,C);const T=We({$metadata:V(y)}),_=rn(Yn(yield ii(y.body,C)),"body"),U=nt(_,{ChannelArn:It,ChannelMessages:W=>Dg(W,C),NextToken:It,SubChannelId:It});return Object.assign(T,U),T});return o(function(C,T){return E.apply(this,arguments)},"de_ListChannelMessagesCommand")}(),Vm=function(){var E=Object(u.coroutine)(function*(y,C){const T={...y,body:yield Ln(y.body,C)},_=_n(y,T.body);switch(_){case"BadRequestException":case"com.amazonaws.chimesdkmessaging#BadRequestException":throw yield Fn(T,C);case"ForbiddenException":case"com.amazonaws.chimesdkmessaging#ForbiddenException":throw yield Rn(T,C);case"ServiceFailureException":case"com.amazonaws.chimesdkmessaging#ServiceFailureException":throw yield Pn(T,C);case"ServiceUnavailableException":case"com.amazonaws.chimesdkmessaging#ServiceUnavailableException":throw yield Dn(T,C);case"ThrottledClientException":case"com.amazonaws.chimesdkmessaging#ThrottledClientException":throw yield xn(T,C);case"UnauthorizedClientException":case"com.amazonaws.chimesdkmessaging#UnauthorizedClientException":throw yield kn(T,C);default:const U=T.body;return An({output:y,parsedBody:U,errorCode:_})}});return o(function(C,T){return E.apply(this,arguments)},"de_ListChannelMessagesCommandError")}(),Hm=function(){var E=Object(u.coroutine)(function*(y,C){if(y.statusCode!==200&&y.statusCode>=300)return zm(y,C);const T=We({$metadata:V(y)}),_=rn(Yn(yield ii(y.body,C)),"body"),U=nt(_,{ChannelArn:It,ChannelModerators:ln,NextToken:It});return Object.assign(T,U),T});return o(function(C,T){return E.apply(this,arguments)},"de_ListChannelModeratorsCommand")}(),zm=function(){var E=Object(u.coroutine)(function*(y,C){const T={...y,body:yield Ln(y.body,C)},_=_n(y,T.body);switch(_){case"BadRequestException":case"com.amazonaws.chimesdkmessaging#BadRequestException":throw yield Fn(T,C);case"ForbiddenException":case"com.amazonaws.chimesdkmessaging#ForbiddenException":throw yield Rn(T,C);case"ServiceFailureException":case"com.amazonaws.chimesdkmessaging#ServiceFailureException":throw yield Pn(T,C);case"ServiceUnavailableException":case"com.amazonaws.chimesdkmessaging#ServiceUnavailableException":throw yield Dn(T,C);case"ThrottledClientException":case"com.amazonaws.chimesdkmessaging#ThrottledClientException":throw yield xn(T,C);case"UnauthorizedClientException":case"com.amazonaws.chimesdkmessaging#UnauthorizedClientException":throw yield kn(T,C);default:const U=T.body;return An({output:y,parsedBody:U,errorCode:_})}});return o(function(C,T){return E.apply(this,arguments)},"de_ListChannelModeratorsCommandError")}(),jm=function(){var E=Object(u.coroutine)(function*(y,C){if(y.statusCode!==200&&y.statusCode>=300)return Wm(y,C);const T=We({$metadata:V(y)}),_=rn(Yn(yield ii(y.body,C)),"body"),U=nt(_,{Channels:W=>gh(W,C),NextToken:It});return Object.assign(T,U),T});return o(function(C,T){return E.apply(this,arguments)},"de_ListChannelsCommand")}(),Wm=function(){var E=Object(u.coroutine)(function*(y,C){const T={...y,body:yield Ln(y.body,C)},_=_n(y,T.body);switch(_){case"BadRequestException":case"com.amazonaws.chimesdkmessaging#BadRequestException":throw yield Fn(T,C);case"ForbiddenException":case"com.amazonaws.chimesdkmessaging#ForbiddenException":throw yield Rn(T,C);case"ServiceFailureException":case"com.amazonaws.chimesdkmessaging#ServiceFailureException":throw yield Pn(T,C);case"ServiceUnavailableException":case"com.amazonaws.chimesdkmessaging#ServiceUnavailableException":throw yield Dn(T,C);case"ThrottledClientException":case"com.amazonaws.chimesdkmessaging#ThrottledClientException":throw yield xn(T,C);case"UnauthorizedClientException":case"com.amazonaws.chimesdkmessaging#UnauthorizedClientException":throw yield kn(T,C);default:const U=T.body;return An({output:y,parsedBody:U,errorCode:_})}});return o(function(C,T){return E.apply(this,arguments)},"de_ListChannelsCommandError")}(),Gm=function(){var E=Object(u.coroutine)(function*(y,C){if(y.statusCode!==200&&y.statusCode>=300)return $m(y,C);const T=We({$metadata:V(y)}),_=rn(Yn(yield ii(y.body,C)),"body"),U=nt(_,{Channels:ln,NextToken:It});return Object.assign(T,U),T});return o(function(C,T){return E.apply(this,arguments)},"de_ListChannelsAssociatedWithChannelFlowCommand")}(),$m=function(){var E=Object(u.coroutine)(function*(y,C){const T={...y,body:yield Ln(y.body,C)},_=_n(y,T.body);switch(_){case"BadRequestException":case"com.amazonaws.chimesdkmessaging#BadRequestException":throw yield Fn(T,C);case"ForbiddenException":case"com.amazonaws.chimesdkmessaging#ForbiddenException":throw yield Rn(T,C);case"ServiceFailureException":case"com.amazonaws.chimesdkmessaging#ServiceFailureException":throw yield Pn(T,C);case"ServiceUnavailableException":case"com.amazonaws.chimesdkmessaging#ServiceUnavailableException":throw yield Dn(T,C);case"ThrottledClientException":case"com.amazonaws.chimesdkmessaging#ThrottledClientException":throw yield xn(T,C);case"UnauthorizedClientException":case"com.amazonaws.chimesdkmessaging#UnauthorizedClientException":throw yield kn(T,C);default:const U=T.body;return An({output:y,parsedBody:U,errorCode:_})}});return o(function(C,T){return E.apply(this,arguments)},"de_ListChannelsAssociatedWithChannelFlowCommandError")}(),Km=function(){var E=Object(u.coroutine)(function*(y,C){if(y.statusCode!==200&&y.statusCode>=300)return Jm(y,C);const T=We({$metadata:V(y)}),_=rn(Yn(yield ii(y.body,C)),"body"),U=nt(_,{Channels:W=>xg(W,C),NextToken:It});return Object.assign(T,U),T});return o(function(C,T){return E.apply(this,arguments)},"de_ListChannelsModeratedByAppInstanceUserCommand")}(),Jm=function(){var E=Object(u.coroutine)(function*(y,C){const T={...y,body:yield Ln(y.body,C)},_=_n(y,T.body);switch(_){case"BadRequestException":case"com.amazonaws.chimesdkmessaging#BadRequestException":throw yield Fn(T,C);case"ForbiddenException":case"com.amazonaws.chimesdkmessaging#ForbiddenException":throw yield Rn(T,C);case"ServiceFailureException":case"com.amazonaws.chimesdkmessaging#ServiceFailureException":throw yield Pn(T,C);case"ServiceUnavailableException":case"com.amazonaws.chimesdkmessaging#ServiceUnavailableException":throw yield Dn(T,C);case"ThrottledClientException":case"com.amazonaws.chimesdkmessaging#ThrottledClientException":throw yield xn(T,C);case"UnauthorizedClientException":case"com.amazonaws.chimesdkmessaging#UnauthorizedClientException":throw yield kn(T,C);default:const U=T.body;return An({output:y,parsedBody:U,errorCode:_})}});return o(function(C,T){return E.apply(this,arguments)},"de_ListChannelsModeratedByAppInstanceUserCommandError")}(),Ym=function(){var E=Object(u.coroutine)(function*(y,C){if(y.statusCode!==200&&y.statusCode>=300)return Xm(y,C);const T=We({$metadata:V(y)}),_=rn(Yn(yield ii(y.body,C)),"body"),U=nt(_,{ChannelArn:It,NextToken:It,SubChannels:ln});return Object.assign(T,U),T});return o(function(C,T){return E.apply(this,arguments)},"de_ListSubChannelsCommand")}(),Xm=function(){var E=Object(u.coroutine)(function*(y,C){const T={...y,body:yield Ln(y.body,C)},_=_n(y,T.body);switch(_){case"BadRequestException":case"com.amazonaws.chimesdkmessaging#BadRequestException":throw yield Fn(T,C);case"ForbiddenException":case"com.amazonaws.chimesdkmessaging#ForbiddenException":throw yield Rn(T,C);case"ServiceFailureException":case"com.amazonaws.chimesdkmessaging#ServiceFailureException":throw yield Pn(T,C);case"ServiceUnavailableException":case"com.amazonaws.chimesdkmessaging#ServiceUnavailableException":throw yield Dn(T,C);case"ThrottledClientException":case"com.amazonaws.chimesdkmessaging#ThrottledClientException":throw yield xn(T,C);case"UnauthorizedClientException":case"com.amazonaws.chimesdkmessaging#UnauthorizedClientException":throw yield kn(T,C);default:const U=T.body;return An({output:y,parsedBody:U,errorCode:_})}});return o(function(C,T){return E.apply(this,arguments)},"de_ListSubChannelsCommandError")}(),Zm=function(){var E=Object(u.coroutine)(function*(y,C){if(y.statusCode!==200&&y.statusCode>=300)return Qm(y,C);const T=We({$metadata:V(y)}),_=rn(Yn(yield ii(y.body,C)),"body"),U=nt(_,{Tags:ln});return Object.assign(T,U),T});return o(function(C,T){return E.apply(this,arguments)},"de_ListTagsForResourceCommand")}(),Qm=function(){var E=Object(u.coroutine)(function*(y,C){const T={...y,body:yield Ln(y.body,C)},_=_n(y,T.body);switch(_){case"BadRequestException":case"com.amazonaws.chimesdkmessaging#BadRequestException":throw yield Fn(T,C);case"ForbiddenException":case"com.amazonaws.chimesdkmessaging#ForbiddenException":throw yield Rn(T,C);case"ServiceFailureException":case"com.amazonaws.chimesdkmessaging#ServiceFailureException":throw yield Pn(T,C);case"ServiceUnavailableException":case"com.amazonaws.chimesdkmessaging#ServiceUnavailableException":throw yield Dn(T,C);case"ThrottledClientException":case"com.amazonaws.chimesdkmessaging#ThrottledClientException":throw yield xn(T,C);case"UnauthorizedClientException":case"com.amazonaws.chimesdkmessaging#UnauthorizedClientException":throw yield kn(T,C);default:const U=T.body;return An({output:y,parsedBody:U,errorCode:_})}});return o(function(C,T){return E.apply(this,arguments)},"de_ListTagsForResourceCommandError")}(),qm=function(){var E=Object(u.coroutine)(function*(y,C){if(y.statusCode!==200&&y.statusCode>=300)return eg(y,C);const T=We({$metadata:V(y)}),_=rn(Yn(yield ii(y.body,C)),"body"),U=nt(_,{ChannelArn:It,ExpirationSettings:ln});return Object.assign(T,U),T});return o(function(C,T){return E.apply(this,arguments)},"de_PutChannelExpirationSettingsCommand")}(),eg=function(){var E=Object(u.coroutine)(function*(y,C){const T={...y,body:yield Ln(y.body,C)},_=_n(y,T.body);switch(_){case"BadRequestException":case"com.amazonaws.chimesdkmessaging#BadRequestException":throw yield Fn(T,C);case"ConflictException":case"com.amazonaws.chimesdkmessaging#ConflictException":throw yield vr(T,C);case"ForbiddenException":case"com.amazonaws.chimesdkmessaging#ForbiddenException":throw yield Rn(T,C);case"ServiceFailureException":case"com.amazonaws.chimesdkmessaging#ServiceFailureException":throw yield Pn(T,C);case"ServiceUnavailableException":case"com.amazonaws.chimesdkmessaging#ServiceUnavailableException":throw yield Dn(T,C);case"ThrottledClientException":case"com.amazonaws.chimesdkmessaging#ThrottledClientException":throw yield xn(T,C);case"UnauthorizedClientException":case"com.amazonaws.chimesdkmessaging#UnauthorizedClientException":throw yield kn(T,C);default:const U=T.body;return An({output:y,parsedBody:U,errorCode:_})}});return o(function(C,T){return E.apply(this,arguments)},"de_PutChannelExpirationSettingsCommandError")}(),tg=function(){var E=Object(u.coroutine)(function*(y,C){if(y.statusCode!==200&&y.statusCode>=300)return ng(y,C);const T=We({$metadata:V(y)}),_=rn(Yn(yield ii(y.body,C)),"body"),U=nt(_,{ChannelArn:It,Member:ln,Preferences:ln});return Object.assign(T,U),T});return o(function(C,T){return E.apply(this,arguments)},"de_PutChannelMembershipPreferencesCommand")}(),ng=function(){var E=Object(u.coroutine)(function*(y,C){const T={...y,body:yield Ln(y.body,C)},_=_n(y,T.body);switch(_){case"BadRequestException":case"com.amazonaws.chimesdkmessaging#BadRequestException":throw yield Fn(T,C);case"ConflictException":case"com.amazonaws.chimesdkmessaging#ConflictException":throw yield vr(T,C);case"ForbiddenException":case"com.amazonaws.chimesdkmessaging#ForbiddenException":throw yield Rn(T,C);case"ServiceFailureException":case"com.amazonaws.chimesdkmessaging#ServiceFailureException":throw yield Pn(T,C);case"ServiceUnavailableException":case"com.amazonaws.chimesdkmessaging#ServiceUnavailableException":throw yield Dn(T,C);case"ThrottledClientException":case"com.amazonaws.chimesdkmessaging#ThrottledClientException":throw yield xn(T,C);case"UnauthorizedClientException":case"com.amazonaws.chimesdkmessaging#UnauthorizedClientException":throw yield kn(T,C);default:const U=T.body;return An({output:y,parsedBody:U,errorCode:_})}});return o(function(C,T){return E.apply(this,arguments)},"de_PutChannelMembershipPreferencesCommandError")}(),ig=function(){var E=Object(u.coroutine)(function*(y,C){if(y.statusCode!==200&&y.statusCode>=300)return rg(y,C);const T=We({$metadata:V(y)}),_=rn(Yn(yield ii(y.body,C)),"body"),U=nt(_,{StreamingConfigurations:ln});return Object.assign(T,U),T});return o(function(C,T){return E.apply(this,arguments)},"de_PutMessagingStreamingConfigurationsCommand")}(),rg=function(){var E=Object(u.coroutine)(function*(y,C){const T={...y,body:yield Ln(y.body,C)},_=_n(y,T.body);switch(_){case"BadRequestException":case"com.amazonaws.chimesdkmessaging#BadRequestException":throw yield Fn(T,C);case"ConflictException":case"com.amazonaws.chimesdkmessaging#ConflictException":throw yield vr(T,C);case"ForbiddenException":case"com.amazonaws.chimesdkmessaging#ForbiddenException":throw yield Rn(T,C);case"NotFoundException":case"com.amazonaws.chimesdkmessaging#NotFoundException":throw yield ks(T,C);case"ServiceFailureException":case"com.amazonaws.chimesdkmessaging#ServiceFailureException":throw yield Pn(T,C);case"ServiceUnavailableException":case"com.amazonaws.chimesdkmessaging#ServiceUnavailableException":throw yield Dn(T,C);case"ThrottledClientException":case"com.amazonaws.chimesdkmessaging#ThrottledClientException":throw yield xn(T,C);case"UnauthorizedClientException":case"com.amazonaws.chimesdkmessaging#UnauthorizedClientException":throw yield kn(T,C);default:const U=T.body;return An({output:y,parsedBody:U,errorCode:_})}});return o(function(C,T){return E.apply(this,arguments)},"de_PutMessagingStreamingConfigurationsCommandError")}(),og=function(){var E=Object(u.coroutine)(function*(y,C){if(y.statusCode!==200&&y.statusCode>=300)return sg(y,C);const T=We({$metadata:V(y)}),_=rn(Yn(yield ii(y.body,C)),"body"),U=nt(_,{ChannelArn:It,MessageId:It,SubChannelId:It});return Object.assign(T,U),T});return o(function(C,T){return E.apply(this,arguments)},"de_RedactChannelMessageCommand")}(),sg=function(){var E=Object(u.coroutine)(function*(y,C){const T={...y,body:yield Ln(y.body,C)},_=_n(y,T.body);switch(_){case"BadRequestException":case"com.amazonaws.chimesdkmessaging#BadRequestException":throw yield Fn(T,C);case"ConflictException":case"com.amazonaws.chimesdkmessaging#ConflictException":throw yield vr(T,C);case"ForbiddenException":case"com.amazonaws.chimesdkmessaging#ForbiddenException":throw yield Rn(T,C);case"ServiceFailureException":case"com.amazonaws.chimesdkmessaging#ServiceFailureException":throw yield Pn(T,C);case"ServiceUnavailableException":case"com.amazonaws.chimesdkmessaging#ServiceUnavailableException":throw yield Dn(T,C);case"ThrottledClientException":case"com.amazonaws.chimesdkmessaging#ThrottledClientException":throw yield xn(T,C);case"UnauthorizedClientException":case"com.amazonaws.chimesdkmessaging#UnauthorizedClientException":throw yield kn(T,C);default:const U=T.body;return An({output:y,parsedBody:U,errorCode:_})}});return o(function(C,T){return E.apply(this,arguments)},"de_RedactChannelMessageCommandError")}(),ag=function(){var E=Object(u.coroutine)(function*(y,C){if(y.statusCode!==200&&y.statusCode>=300)return lg(y,C);const T=We({$metadata:V(y)}),_=rn(Yn(yield ii(y.body,C)),"body"),U=nt(_,{Channels:W=>gh(W,C),NextToken:It});return Object.assign(T,U),T});return o(function(C,T){return E.apply(this,arguments)},"de_SearchChannelsCommand")}(),lg=function(){var E=Object(u.coroutine)(function*(y,C){const T={...y,body:yield Ln(y.body,C)},_=_n(y,T.body);switch(_){case"BadRequestException":case"com.amazonaws.chimesdkmessaging#BadRequestException":throw yield Fn(T,C);case"ForbiddenException":case"com.amazonaws.chimesdkmessaging#ForbiddenException":throw yield Rn(T,C);case"ServiceFailureException":case"com.amazonaws.chimesdkmessaging#ServiceFailureException":throw yield Pn(T,C);case"ServiceUnavailableException":case"com.amazonaws.chimesdkmessaging#ServiceUnavailableException":throw yield Dn(T,C);case"ThrottledClientException":case"com.amazonaws.chimesdkmessaging#ThrottledClientException":throw yield xn(T,C);case"UnauthorizedClientException":case"com.amazonaws.chimesdkmessaging#UnauthorizedClientException":throw yield kn(T,C);default:const U=T.body;return An({output:y,parsedBody:U,errorCode:_})}});return o(function(C,T){return E.apply(this,arguments)},"de_SearchChannelsCommandError")}(),cg=function(){var E=Object(u.coroutine)(function*(y,C){if(y.statusCode!==201&&y.statusCode>=300)return dg(y,C);const T=We({$metadata:V(y)}),_=rn(Yn(yield ii(y.body,C)),"body"),U=nt(_,{ChannelArn:It,MessageId:It,Status:ln,SubChannelId:It});return Object.assign(T,U),T});return o(function(C,T){return E.apply(this,arguments)},"de_SendChannelMessageCommand")}(),dg=function(){var E=Object(u.coroutine)(function*(y,C){const T={...y,body:yield Ln(y.body,C)},_=_n(y,T.body);switch(_){case"BadRequestException":case"com.amazonaws.chimesdkmessaging#BadRequestException":throw yield Fn(T,C);case"ConflictException":case"com.amazonaws.chimesdkmessaging#ConflictException":throw yield vr(T,C);case"ForbiddenException":case"com.amazonaws.chimesdkmessaging#ForbiddenException":throw yield Rn(T,C);case"ServiceFailureException":case"com.amazonaws.chimesdkmessaging#ServiceFailureException":throw yield Pn(T,C);case"ServiceUnavailableException":case"com.amazonaws.chimesdkmessaging#ServiceUnavailableException":throw yield Dn(T,C);case"ThrottledClientException":case"com.amazonaws.chimesdkmessaging#ThrottledClientException":throw yield xn(T,C);case"UnauthorizedClientException":case"com.amazonaws.chimesdkmessaging#UnauthorizedClientException":throw yield kn(T,C);default:const U=T.body;return An({output:y,parsedBody:U,errorCode:_})}});return o(function(C,T){return E.apply(this,arguments)},"de_SendChannelMessageCommandError")}(),ug=function(){var E=Object(u.coroutine)(function*(y,C){if(y.statusCode!==204&&y.statusCode>=300)return hg(y,C);const T=We({$metadata:V(y)});return yield $o(y.body,C),T});return o(function(C,T){return E.apply(this,arguments)},"de_TagResourceCommand")}(),hg=function(){var E=Object(u.coroutine)(function*(y,C){const T={...y,body:yield Ln(y.body,C)},_=_n(y,T.body);switch(_){case"BadRequestException":case"com.amazonaws.chimesdkmessaging#BadRequestException":throw yield Fn(T,C);case"ForbiddenException":case"com.amazonaws.chimesdkmessaging#ForbiddenException":throw yield Rn(T,C);case"ResourceLimitExceededException":case"com.amazonaws.chimesdkmessaging#ResourceLimitExceededException":throw yield za(T,C);case"ServiceFailureException":case"com.amazonaws.chimesdkmessaging#ServiceFailureException":throw yield Pn(T,C);case"ServiceUnavailableException":case"com.amazonaws.chimesdkmessaging#ServiceUnavailableException":throw yield Dn(T,C);case"ThrottledClientException":case"com.amazonaws.chimesdkmessaging#ThrottledClientException":throw yield xn(T,C);case"UnauthorizedClientException":case"com.amazonaws.chimesdkmessaging#UnauthorizedClientException":throw yield kn(T,C);default:const U=T.body;return An({output:y,parsedBody:U,errorCode:_})}});return o(function(C,T){return E.apply(this,arguments)},"de_TagResourceCommandError")}(),fg=function(){var E=Object(u.coroutine)(function*(y,C){if(y.statusCode!==204&&y.statusCode>=300)return pg(y,C);const T=We({$metadata:V(y)});return yield $o(y.body,C),T});return o(function(C,T){return E.apply(this,arguments)},"de_UntagResourceCommand")}(),pg=function(){var E=Object(u.coroutine)(function*(y,C){const T={...y,body:yield Ln(y.body,C)},_=_n(y,T.body);switch(_){case"BadRequestException":case"com.amazonaws.chimesdkmessaging#BadRequestException":throw yield Fn(T,C);case"ForbiddenException":case"com.amazonaws.chimesdkmessaging#ForbiddenException":throw yield Rn(T,C);case"ServiceFailureException":case"com.amazonaws.chimesdkmessaging#ServiceFailureException":throw yield Pn(T,C);case"ServiceUnavailableException":case"com.amazonaws.chimesdkmessaging#ServiceUnavailableException":throw yield Dn(T,C);case"ThrottledClientException":case"com.amazonaws.chimesdkmessaging#ThrottledClientException":throw yield xn(T,C);case"UnauthorizedClientException":case"com.amazonaws.chimesdkmessaging#UnauthorizedClientException":throw yield kn(T,C);default:const U=T.body;return An({output:y,parsedBody:U,errorCode:_})}});return o(function(C,T){return E.apply(this,arguments)},"de_UntagResourceCommandError")}(),mg=function(){var E=Object(u.coroutine)(function*(y,C){if(y.statusCode!==200&&y.statusCode>=300)return gg(y,C);const T=We({$metadata:V(y)}),_=rn(Yn(yield ii(y.body,C)),"body"),U=nt(_,{ChannelArn:It});return Object.assign(T,U),T});return o(function(C,T){return E.apply(this,arguments)},"de_UpdateChannelCommand")}(),gg=function(){var E=Object(u.coroutine)(function*(y,C){const T={...y,body:yield Ln(y.body,C)},_=_n(y,T.body);switch(_){case"BadRequestException":case"com.amazonaws.chimesdkmessaging#BadRequestException":throw yield Fn(T,C);case"ConflictException":case"com.amazonaws.chimesdkmessaging#ConflictException":throw yield vr(T,C);case"ForbiddenException":case"com.amazonaws.chimesdkmessaging#ForbiddenException":throw yield Rn(T,C);case"ServiceFailureException":case"com.amazonaws.chimesdkmessaging#ServiceFailureException":throw yield Pn(T,C);case"ServiceUnavailableException":case"com.amazonaws.chimesdkmessaging#ServiceUnavailableException":throw yield Dn(T,C);case"ThrottledClientException":case"com.amazonaws.chimesdkmessaging#ThrottledClientException":throw yield xn(T,C);case"UnauthorizedClientException":case"com.amazonaws.chimesdkmessaging#UnauthorizedClientException":throw yield kn(T,C);default:const U=T.body;return An({output:y,parsedBody:U,errorCode:_})}});return o(function(C,T){return E.apply(this,arguments)},"de_UpdateChannelCommandError")}(),vg=function(){var E=Object(u.coroutine)(function*(y,C){if(y.statusCode!==200&&y.statusCode>=300)return Sg(y,C);const T=We({$metadata:V(y)}),_=rn(Yn(yield ii(y.body,C)),"body"),U=nt(_,{ChannelFlowArn:It});return Object.assign(T,U),T});return o(function(C,T){return E.apply(this,arguments)},"de_UpdateChannelFlowCommand")}(),Sg=function(){var E=Object(u.coroutine)(function*(y,C){const T={...y,body:yield Ln(y.body,C)},_=_n(y,T.body);switch(_){case"BadRequestException":case"com.amazonaws.chimesdkmessaging#BadRequestException":throw yield Fn(T,C);case"ConflictException":case"com.amazonaws.chimesdkmessaging#ConflictException":throw yield vr(T,C);case"ForbiddenException":case"com.amazonaws.chimesdkmessaging#ForbiddenException":throw yield Rn(T,C);case"ServiceFailureException":case"com.amazonaws.chimesdkmessaging#ServiceFailureException":throw yield Pn(T,C);case"ServiceUnavailableException":case"com.amazonaws.chimesdkmessaging#ServiceUnavailableException":throw yield Dn(T,C);case"ThrottledClientException":case"com.amazonaws.chimesdkmessaging#ThrottledClientException":throw yield xn(T,C);case"UnauthorizedClientException":case"com.amazonaws.chimesdkmessaging#UnauthorizedClientException":throw yield kn(T,C);default:const U=T.body;return An({output:y,parsedBody:U,errorCode:_})}});return o(function(C,T){return E.apply(this,arguments)},"de_UpdateChannelFlowCommandError")}(),yg=function(){var E=Object(u.coroutine)(function*(y,C){if(y.statusCode!==200&&y.statusCode>=300)return Cg(y,C);const T=We({$metadata:V(y)}),_=rn(Yn(yield ii(y.body,C)),"body"),U=nt(_,{ChannelArn:It,MessageId:It,Status:ln,SubChannelId:It});return Object.assign(T,U),T});return o(function(C,T){return E.apply(this,arguments)},"de_UpdateChannelMessageCommand")}(),Cg=function(){var E=Object(u.coroutine)(function*(y,C){const T={...y,body:yield Ln(y.body,C)},_=_n(y,T.body);switch(_){case"BadRequestException":case"com.amazonaws.chimesdkmessaging#BadRequestException":throw yield Fn(T,C);case"ConflictException":case"com.amazonaws.chimesdkmessaging#ConflictException":throw yield vr(T,C);case"ForbiddenException":case"com.amazonaws.chimesdkmessaging#ForbiddenException":throw yield Rn(T,C);case"ServiceFailureException":case"com.amazonaws.chimesdkmessaging#ServiceFailureException":throw yield Pn(T,C);case"ServiceUnavailableException":case"com.amazonaws.chimesdkmessaging#ServiceUnavailableException":throw yield Dn(T,C);case"ThrottledClientException":case"com.amazonaws.chimesdkmessaging#ThrottledClientException":throw yield xn(T,C);case"UnauthorizedClientException":case"com.amazonaws.chimesdkmessaging#UnauthorizedClientException":throw yield kn(T,C);default:const U=T.body;return An({output:y,parsedBody:U,errorCode:_})}});return o(function(C,T){return E.apply(this,arguments)},"de_UpdateChannelMessageCommandError")}(),bg=function(){var E=Object(u.coroutine)(function*(y,C){if(y.statusCode!==200&&y.statusCode>=300)return Eg(y,C);const T=We({$metadata:V(y)}),_=rn(Yn(yield ii(y.body,C)),"body"),U=nt(_,{ChannelArn:It});return Object.assign(T,U),T});return o(function(C,T){return E.apply(this,arguments)},"de_UpdateChannelReadMarkerCommand")}(),Eg=function(){var E=Object(u.coroutine)(function*(y,C){const T={...y,body:yield Ln(y.body,C)},_=_n(y,T.body);switch(_){case"BadRequestException":case"com.amazonaws.chimesdkmessaging#BadRequestException":throw yield Fn(T,C);case"ConflictException":case"com.amazonaws.chimesdkmessaging#ConflictException":throw yield vr(T,C);case"ForbiddenException":case"com.amazonaws.chimesdkmessaging#ForbiddenException":throw yield Rn(T,C);case"ServiceFailureException":case"com.amazonaws.chimesdkmessaging#ServiceFailureException":throw yield Pn(T,C);case"ServiceUnavailableException":case"com.amazonaws.chimesdkmessaging#ServiceUnavailableException":throw yield Dn(T,C);case"ThrottledClientException":case"com.amazonaws.chimesdkmessaging#ThrottledClientException":throw yield xn(T,C);case"UnauthorizedClientException":case"com.amazonaws.chimesdkmessaging#UnauthorizedClientException":throw yield kn(T,C);default:const U=T.body;return An({output:y,parsedBody:U,errorCode:_})}});return o(function(C,T){return E.apply(this,arguments)},"de_UpdateChannelReadMarkerCommandError")}(),An=Te(yo),Fn=function(){var E=Object(u.coroutine)(function*(y,C){const T=We({}),_=y.body,U=nt(_,{Code:It,Message:It});Object.assign(T,U);const W=new $l({$metadata:V(y),...T});return qe(W,y.body)});return o(function(C,T){return E.apply(this,arguments)},"de_BadRequestExceptionRes")}(),vr=function(){var E=Object(u.coroutine)(function*(y,C){const T=We({}),_=y.body,U=nt(_,{Code:It,Message:It});Object.assign(T,U);const W=new Kl({$metadata:V(y),...T});return qe(W,y.body)});return o(function(C,T){return E.apply(this,arguments)},"de_ConflictExceptionRes")}(),Rn=function(){var E=Object(u.coroutine)(function*(y,C){const T=We({}),_=y.body,U=nt(_,{Code:It,Message:It});Object.assign(T,U);const W=new Jl({$metadata:V(y),...T});return qe(W,y.body)});return o(function(C,T){return E.apply(this,arguments)},"de_ForbiddenExceptionRes")}(),ks=function(){var E=Object(u.coroutine)(function*(y,C){const T=We({}),_=y.body,U=nt(_,{Code:It,Message:It});Object.assign(T,U);const W=new Yl({$metadata:V(y),...T});return qe(W,y.body)});return o(function(C,T){return E.apply(this,arguments)},"de_NotFoundExceptionRes")}(),za=function(){var E=Object(u.coroutine)(function*(y,C){const T=We({}),_=y.body,U=nt(_,{Code:It,Message:It});Object.assign(T,U);const W=new ec({$metadata:V(y),...T});return qe(W,y.body)});return o(function(C,T){return E.apply(this,arguments)},"de_ResourceLimitExceededExceptionRes")}(),Pn=function(){var E=Object(u.coroutine)(function*(y,C){const T=We({}),_=y.body,U=nt(_,{Code:It,Message:It});Object.assign(T,U);const W=new Xl({$metadata:V(y),...T});return qe(W,y.body)});return o(function(C,T){return E.apply(this,arguments)},"de_ServiceFailureExceptionRes")}(),Dn=function(){var E=Object(u.coroutine)(function*(y,C){const T=We({}),_=y.body,U=nt(_,{Code:It,Message:It});Object.assign(T,U);const W=new Zl({$metadata:V(y),...T});return qe(W,y.body)});return o(function(C,T){return E.apply(this,arguments)},"de_ServiceUnavailableExceptionRes")}(),xn=function(){var E=Object(u.coroutine)(function*(y,C){const T=We({}),_=y.body,U=nt(_,{Code:It,Message:It});Object.assign(T,U);const W=new Ql({$metadata:V(y),...T});return qe(W,y.body)});return o(function(C,T){return E.apply(this,arguments)},"de_ThrottledClientExceptionRes")}(),kn=function(){var E=Object(u.coroutine)(function*(y,C){const T=We({}),_=y.body,U=nt(_,{Code:It,Message:It});Object.assign(T,U);const W=new ql({$metadata:V(y),...T});return qe(W,y.body)});return o(function(C,T){return E.apply(this,arguments)},"de_UnauthorizedClientExceptionRes")}(),Tg=o((E,y)=>nt(E,{ReadMarkerTimestamp:C=>rn(er(Gi(C))),SubChannelId:It,Type:It}),"de_AppInstanceUserMembershipSummary"),Ig=o((E,y)=>nt(E,{ChannelArn:It,ChannelFlowArn:It,CreatedBy:ln,CreatedTimestamp:C=>rn(er(Gi(C))),ElasticChannelConfiguration:ln,ExpirationSettings:ln,LastMessageTimestamp:C=>rn(er(Gi(C))),LastUpdatedTimestamp:C=>rn(er(Gi(C))),Metadata:It,Mode:It,Name:It,Privacy:It}),"de_Channel"),wg=o((E,y)=>nt(E,{ChannelArn:It,CreatedBy:ln,CreatedTimestamp:C=>rn(er(Gi(C))),Member:ln}),"de_ChannelBan"),Og=o((E,y)=>nt(E,{ChannelFlowArn:It,CreatedTimestamp:C=>rn(er(Gi(C))),LastUpdatedTimestamp:C=>rn(er(Gi(C))),Name:It,Processors:ln}),"de_ChannelFlow"),Mg=o((E,y)=>nt(E,{ChannelArn:It,CreatedTimestamp:C=>rn(er(Gi(C))),InvitedBy:ln,LastUpdatedTimestamp:C=>rn(er(Gi(C))),Member:ln,SubChannelId:It,Type:It}),"de_ChannelMembership"),ph=o((E,y)=>nt(E,{AppInstanceUserMembershipSummary:C=>Tg(C,y),ChannelSummary:C=>Cd(C,y)}),"de_ChannelMembershipForAppInstanceUserSummary"),Ag=o((E,y)=>(E||[]).filter(T=>T!=null).map(T=>ph(T,y)),"de_ChannelMembershipForAppInstanceUserSummaryList"),Rg=o((E,y)=>nt(E,{ChannelArn:It,Content:It,ContentType:It,CreatedTimestamp:C=>rn(er(Gi(C))),LastEditedTimestamp:C=>rn(er(Gi(C))),LastUpdatedTimestamp:C=>rn(er(Gi(C))),MessageAttributes:ln,MessageId:It,Metadata:It,Persistence:It,Redacted:al,Sender:ln,Status:ln,SubChannelId:It,Type:It}),"de_ChannelMessage"),Pg=o((E,y)=>nt(E,{Content:It,ContentType:It,CreatedTimestamp:C=>rn(er(Gi(C))),LastEditedTimestamp:C=>rn(er(Gi(C))),LastUpdatedTimestamp:C=>rn(er(Gi(C))),MessageAttributes:ln,MessageId:It,Metadata:It,Redacted:al,Sender:ln,Status:ln,Type:It}),"de_ChannelMessageSummary"),Dg=o((E,y)=>(E||[]).filter(T=>T!=null).map(T=>Pg(T,y)),"de_ChannelMessageSummaryList"),mh=o((E,y)=>nt(E,{ChannelSummary:C=>Cd(C,y)}),"de_ChannelModeratedByAppInstanceUserSummary"),xg=o((E,y)=>(E||[]).filter(T=>T!=null).map(T=>mh(T,y)),"de_ChannelModeratedByAppInstanceUserSummaryList"),kg=o((E,y)=>nt(E,{ChannelArn:It,CreatedBy:ln,CreatedTimestamp:C=>rn(er(Gi(C))),Moderator:ln}),"de_ChannelModerator"),Cd=o((E,y)=>nt(E,{ChannelArn:It,LastMessageTimestamp:C=>rn(er(Gi(C))),Metadata:It,Mode:It,Name:It,Privacy:It}),"de_ChannelSummary"),gh=o((E,y)=>(E||[]).filter(T=>T!=null).map(T=>Cd(T,y)),"de_ChannelSummaryList");var bd,Ed;const V=o(E=>({httpStatusCode:E.statusCode,requestId:(Ed=(bd=E.headers["x-amzn-requestid"])!==null&&bd!==void 0?bd:E.headers["x-amzn-request-id"])!==null&&Ed!==void 0?Ed:E.headers["x-amz-request-id"],extendedRequestId:E.headers["x-amz-id-2"],cfId:E.headers["x-amz-cf-id"]}),"Aws_restJson1_deserializeMetadata"),$o=o(function(){let E=arguments.length>0&&arguments[0]!==void 0?arguments[0]:new Uint8Array,y=arguments.length>1?arguments[1]:void 0;return E instanceof Uint8Array?Promise.resolve(E):y.streamCollector(E)||Promise.resolve(new Uint8Array)},"collectBody"),Lg=o((E,y)=>$o(E,y).then(C=>y.utf8Encoder(C)),"collectBodyString"),ui=o(E=>E!=null&&E!==""&&(!Object.getOwnPropertyNames(E).includes("length")||E.length!=0)&&(!Object.getOwnPropertyNames(E).includes("size")||E.size!=0),"isSerializableHeaderValue"),ii=o((E,y)=>Lg(E,y).then(C=>C.length?JSON.parse(C):{}),"parseBody"),Ln=function(){var E=Object(u.coroutine)(function*(y,C){const T=yield ii(y,C);var _;return T.message=(_=T.message)!==null&&_!==void 0?_:T.Message,T});return o(function(C,T){return E.apply(this,arguments)},"parseErrorBody")}(),_n=o((E,y)=>{const C=o((U,W)=>Object.keys(U).find(fe=>fe.toLowerCase()===W.toLowerCase()),"findKey"),T=o(U=>{let W=U;return typeof W=="number"&&(W=W.toString()),W.indexOf(",")>=0&&(W=W.split(",")[0]),W.indexOf(":")>=0&&(W=W.split(":")[0]),W.indexOf("#")>=0&&(W=W.split("#")[1]),W},"sanitizeErrorCode"),_=C(E.headers,"x-amzn-errortype");if(_!==void 0)return T(E.headers[_]);if(y.code!==void 0)return T(y.code);if(y.__type!==void 0)return T(y.__type)},"loadRestJsonErrorCode");class sc extends In{static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}resolveMiddleware(y,C,T){this.middlewareStack.use(Ke(C,this.serialize,this.deserialize)),this.middlewareStack.use(ht(C,sc.getEndpointParameterInstructions()));const _=y.concat(this.middlewareStack),{logger:U}=C,ne={logger:U,clientName:"ChimeSDKMessagingClient",commandName:"AssociateChannelFlowCommand",inputFilterSensitiveLog:ue=>ue,outputFilterSensitiveLog:ue=>ue},{requestHandler:ye}=C;return _.resolve(ue=>ye.handle(ue.request,T||{}),ne)}serialize(y,C){return Lf(y,C)}deserialize(y,C){return Rp(y,C)}constructor(y){super(),this.input=y}}o(sc,"AssociateChannelFlowCommand_AssociateChannelFlowCommand");class ac extends In{static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}resolveMiddleware(y,C,T){this.middlewareStack.use(Ke(C,this.serialize,this.deserialize)),this.middlewareStack.use(ht(C,ac.getEndpointParameterInstructions()));const _=y.concat(this.middlewareStack),{logger:U}=C,ne={logger:U,clientName:"ChimeSDKMessagingClient",commandName:"BatchCreateChannelMembershipCommand",inputFilterSensitiveLog:ue=>ue,outputFilterSensitiveLog:su},{requestHandler:ye}=C;return _.resolve(ue=>ye.handle(ue.request,T||{}),ne)}serialize(y,C){return _f(y,C)}deserialize(y,C){return Dp(y,C)}constructor(y){super(),this.input=y}}o(ac,"BatchCreateChannelMembershipCommand_BatchCreateChannelMembershipCommand");class lc extends In{static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}resolveMiddleware(y,C,T){this.middlewareStack.use(Ke(C,this.serialize,this.deserialize)),this.middlewareStack.use(ht(C,lc.getEndpointParameterInstructions()));const _=y.concat(this.middlewareStack),{logger:U}=C,ne={logger:U,clientName:"ChimeSDKMessagingClient",commandName:"ChannelFlowCallbackCommand",inputFilterSensitiveLog:fu,outputFilterSensitiveLog:ue=>ue},{requestHandler:ye}=C;return _.resolve(ue=>ye.handle(ue.request,T||{}),ne)}serialize(y,C){return Nf(y,C)}deserialize(y,C){return kp(y,C)}constructor(y){super(),this.input=y}}o(lc,"ChannelFlowCallbackCommand_ChannelFlowCallbackCommand");class cc extends In{static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}resolveMiddleware(y,C,T){this.middlewareStack.use(Ke(C,this.serialize,this.deserialize)),this.middlewareStack.use(ht(C,cc.getEndpointParameterInstructions()));const _=y.concat(this.middlewareStack),{logger:U}=C,ne={logger:U,clientName:"ChimeSDKMessagingClient",commandName:"CreateChannelBanCommand",inputFilterSensitiveLog:ue=>ue,outputFilterSensitiveLog:Tu},{requestHandler:ye}=C;return _.resolve(ue=>ye.handle(ue.request,T||{}),ne)}serialize(y,C){return Ff(y,C)}deserialize(y,C){return Bp(y,C)}constructor(y){super(),this.input=y}}o(cc,"CreateChannelBanCommand_CreateChannelBanCommand");class dc extends In{static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}resolveMiddleware(y,C,T){this.middlewareStack.use(Ke(C,this.serialize,this.deserialize)),this.middlewareStack.use(ht(C,dc.getEndpointParameterInstructions()));const _=y.concat(this.middlewareStack),{logger:U}=C,ne={logger:U,clientName:"ChimeSDKMessagingClient",commandName:"CreateChannelCommand",inputFilterSensitiveLog:Eu,outputFilterSensitiveLog:ue=>ue},{requestHandler:ye}=C;return _.resolve(ue=>ye.handle(ue.request,T||{}),ne)}serialize(y,C){return Bf(y,C)}deserialize(y,C){return _p(y,C)}constructor(y){super(),this.input=y}}o(dc,"CreateChannelCommand_CreateChannelCommand");class uc extends In{static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}resolveMiddleware(y,C,T){this.middlewareStack.use(Ke(C,this.serialize,this.deserialize)),this.middlewareStack.use(ht(C,uc.getEndpointParameterInstructions()));const _=y.concat(this.middlewareStack),{logger:U}=C,ne={logger:U,clientName:"ChimeSDKMessagingClient",commandName:"CreateChannelFlowCommand",inputFilterSensitiveLog:Iu,outputFilterSensitiveLog:ue=>ue},{requestHandler:ye}=C;return _.resolve(ue=>ye.handle(ue.request,T||{}),ne)}serialize(y,C){return Uf(y,C)}deserialize(y,C){return Up(y,C)}constructor(y){super(),this.input=y}}o(uc,"CreateChannelFlowCommand_CreateChannelFlowCommand");class Ci extends In{static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}resolveMiddleware(y,C,T){this.middlewareStack.use(Ke(C,this.serialize,this.deserialize)),this.middlewareStack.use(ht(C,Ci.getEndpointParameterInstructions()));const _=y.concat(this.middlewareStack),{logger:U}=C,ne={logger:U,clientName:"ChimeSDKMessagingClient",commandName:"CreateChannelMembershipCommand",inputFilterSensitiveLog:ue=>ue,outputFilterSensitiveLog:wu},{requestHandler:ye}=C;return _.resolve(ue=>ye.handle(ue.request,T||{}),ne)}serialize(y,C){return Vf(y,C)}deserialize(y,C){return Hp(y,C)}constructor(y){super(),this.input=y}}o(Ci,"CreateChannelMembershipCommand_CreateChannelMembershipCommand");class gn extends In{static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}resolveMiddleware(y,C,T){this.middlewareStack.use(Ke(C,this.serialize,this.deserialize)),this.middlewareStack.use(ht(C,gn.getEndpointParameterInstructions()));const _=y.concat(this.middlewareStack),{logger:U}=C,ne={logger:U,clientName:"ChimeSDKMessagingClient",commandName:"CreateChannelModeratorCommand",inputFilterSensitiveLog:ue=>ue,outputFilterSensitiveLog:Ou},{requestHandler:ye}=C;return _.resolve(ue=>ye.handle(ue.request,T||{}),ne)}serialize(y,C){return Hf(y,C)}deserialize(y,C){return jp(y,C)}constructor(y){super(),this.input=y}}o(gn,"CreateChannelModeratorCommand_CreateChannelModeratorCommand");class pa extends In{static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}resolveMiddleware(y,C,T){this.middlewareStack.use(Ke(C,this.serialize,this.deserialize)),this.middlewareStack.use(ht(C,pa.getEndpointParameterInstructions()));const _=y.concat(this.middlewareStack),{logger:U}=C,ne={logger:U,clientName:"ChimeSDKMessagingClient",commandName:"DeleteChannelBanCommand",inputFilterSensitiveLog:ue=>ue,outputFilterSensitiveLog:ue=>ue},{requestHandler:ye}=C;return _.resolve(ue=>ye.handle(ue.request,T||{}),ne)}serialize(y,C){return oc(y,C)}deserialize(y,C){return Kp(y,C)}constructor(y){super(),this.input=y}}o(pa,"DeleteChannelBanCommand_DeleteChannelBanCommand");class ja extends In{static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}resolveMiddleware(y,C,T){this.middlewareStack.use(Ke(C,this.serialize,this.deserialize)),this.middlewareStack.use(ht(C,ja.getEndpointParameterInstructions()));const _=y.concat(this.middlewareStack),{logger:U}=C,ne={logger:U,clientName:"ChimeSDKMessagingClient",commandName:"DeleteChannelCommand",inputFilterSensitiveLog:ue=>ue,outputFilterSensitiveLog:ue=>ue},{requestHandler:ye}=C;return _.resolve(ue=>ye.handle(ue.request,T||{}),ne)}serialize(y,C){return zf(y,C)}deserialize(y,C){return Gp(y,C)}constructor(y){super(),this.input=y}}o(ja,"DeleteChannelCommand_DeleteChannelCommand");class Wa extends In{static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}resolveMiddleware(y,C,T){this.middlewareStack.use(Ke(C,this.serialize,this.deserialize)),this.middlewareStack.use(ht(C,Wa.getEndpointParameterInstructions()));const _=y.concat(this.middlewareStack),{logger:U}=C,ne={logger:U,clientName:"ChimeSDKMessagingClient",commandName:"DeleteChannelFlowCommand",inputFilterSensitiveLog:ue=>ue,outputFilterSensitiveLog:ue=>ue},{requestHandler:ye}=C;return _.resolve(ue=>ye.handle(ue.request,T||{}),ne)}serialize(y,C){return jf(y,C)}deserialize(y,C){return Yp(y,C)}constructor(y){super(),this.input=y}}o(Wa,"DeleteChannelFlowCommand_DeleteChannelFlowCommand");class Ga extends In{static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}resolveMiddleware(y,C,T){this.middlewareStack.use(Ke(C,this.serialize,this.deserialize)),this.middlewareStack.use(ht(C,Ga.getEndpointParameterInstructions()));const _=y.concat(this.middlewareStack),{logger:U}=C,ne={logger:U,clientName:"ChimeSDKMessagingClient",commandName:"DeleteChannelMembershipCommand",inputFilterSensitiveLog:ue=>ue,outputFilterSensitiveLog:ue=>ue},{requestHandler:ye}=C;return _.resolve(ue=>ye.handle(ue.request,T||{}),ne)}serialize(y,C){return Wf(y,C)}deserialize(y,C){return Zp(y,C)}constructor(y){super(),this.input=y}}o(Ga,"DeleteChannelMembershipCommand_DeleteChannelMembershipCommand");class Ls extends In{static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}resolveMiddleware(y,C,T){this.middlewareStack.use(Ke(C,this.serialize,this.deserialize)),this.middlewareStack.use(ht(C,Ls.getEndpointParameterInstructions()));const _=y.concat(this.middlewareStack),{logger:U}=C,ne={logger:U,clientName:"ChimeSDKMessagingClient",commandName:"DeleteChannelMessageCommand",inputFilterSensitiveLog:ue=>ue,outputFilterSensitiveLog:ue=>ue},{requestHandler:ye}=C;return _.resolve(ue=>ye.handle(ue.request,T||{}),ne)}serialize(y,C){return Gf(y,C)}deserialize(y,C){return qp(y,C)}constructor(y){super(),this.input=y}}o(Ls,"DeleteChannelMessageCommand_DeleteChannelMessageCommand");class Vi extends In{static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}resolveMiddleware(y,C,T){this.middlewareStack.use(Ke(C,this.serialize,this.deserialize)),this.middlewareStack.use(ht(C,Vi.getEndpointParameterInstructions()));const _=y.concat(this.middlewareStack),{logger:U}=C,ne={logger:U,clientName:"ChimeSDKMessagingClient",commandName:"DeleteChannelModeratorCommand",inputFilterSensitiveLog:ue=>ue,outputFilterSensitiveLog:ue=>ue},{requestHandler:ye}=C;return _.resolve(ue=>ye.handle(ue.request,T||{}),ne)}serialize(y,C){return $f(y,C)}deserialize(y,C){return tm(y,C)}constructor(y){super(),this.input=y}}o(Vi,"DeleteChannelModeratorCommand_DeleteChannelModeratorCommand");class ji extends In{static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}resolveMiddleware(y,C,T){this.middlewareStack.use(Ke(C,this.serialize,this.deserialize)),this.middlewareStack.use(ht(C,ji.getEndpointParameterInstructions()));const _=y.concat(this.middlewareStack),{logger:U}=C,ne={logger:U,clientName:"ChimeSDKMessagingClient",commandName:"DeleteMessagingStreamingConfigurationsCommand",inputFilterSensitiveLog:ue=>ue,outputFilterSensitiveLog:ue=>ue},{requestHandler:ye}=C;return _.resolve(ue=>ye.handle(ue.request,T||{}),ne)}serialize(y,C){return Kf(y,C)}deserialize(y,C){return im(y,C)}constructor(y){super(),this.input=y}}o(ji,"DeleteMessagingStreamingConfigurationsCommand_DeleteMessagingStreamingConfigurationsCommand");class ea extends In{static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}resolveMiddleware(y,C,T){this.middlewareStack.use(Ke(C,this.serialize,this.deserialize)),this.middlewareStack.use(ht(C,ea.getEndpointParameterInstructions()));const _=y.concat(this.middlewareStack),{logger:U}=C,ne={logger:U,clientName:"ChimeSDKMessagingClient",commandName:"DescribeChannelBanCommand",inputFilterSensitiveLog:ue=>ue,outputFilterSensitiveLog:Au},{requestHandler:ye}=C;return _.resolve(ue=>ye.handle(ue.request,T||{}),ne)}serialize(y,C){return Jf(y,C)}deserialize(y,C){return am(y,C)}constructor(y){super(),this.input=y}}o(ea,"DescribeChannelBanCommand_DescribeChannelBanCommand");class Wn extends In{static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}resolveMiddleware(y,C,T){this.middlewareStack.use(Ke(C,this.serialize,this.deserialize)),this.middlewareStack.use(ht(C,Wn.getEndpointParameterInstructions()));const _=y.concat(this.middlewareStack),{logger:U}=C,ne={logger:U,clientName:"ChimeSDKMessagingClient",commandName:"DescribeChannelCommand",inputFilterSensitiveLog:ue=>ue,outputFilterSensitiveLog:Mu},{requestHandler:ye}=C;return _.resolve(ue=>ye.handle(ue.request,T||{}),ne)}serialize(y,C){return fh(y,C)}deserialize(y,C){return om(y,C)}constructor(y){super(),this.input=y}}o(Wn,"DescribeChannelCommand_DescribeChannelCommand");class Sr extends In{static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}resolveMiddleware(y,C,T){this.middlewareStack.use(Ke(C,this.serialize,this.deserialize)),this.middlewareStack.use(ht(C,Sr.getEndpointParameterInstructions()));const _=y.concat(this.middlewareStack),{logger:U}=C,ne={logger:U,clientName:"ChimeSDKMessagingClient",commandName:"DescribeChannelFlowCommand",inputFilterSensitiveLog:ue=>ue,outputFilterSensitiveLog:Ru},{requestHandler:ye}=C;return _.resolve(ue=>ye.handle(ue.request,T||{}),ne)}serialize(y,C){return Yf(y,C)}deserialize(y,C){return cm(y,C)}constructor(y){super(),this.input=y}}o(Sr,"DescribeChannelFlowCommand_DescribeChannelFlowCommand");class hs extends In{static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}resolveMiddleware(y,C,T){this.middlewareStack.use(Ke(C,this.serialize,this.deserialize)),this.middlewareStack.use(ht(C,hs.getEndpointParameterInstructions()));const _=y.concat(this.middlewareStack),{logger:U}=C,ne={logger:U,clientName:"ChimeSDKMessagingClient",commandName:"DescribeChannelMembershipCommand",inputFilterSensitiveLog:ue=>ue,outputFilterSensitiveLog:Pu},{requestHandler:ye}=C;return _.resolve(ue=>ye.handle(ue.request,T||{}),ne)}serialize(y,C){return Xf(y,C)}deserialize(y,C){return um(y,C)}constructor(y){super(),this.input=y}}o(hs,"DescribeChannelMembershipCommand_DescribeChannelMembershipCommand");class Wi extends In{static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}resolveMiddleware(y,C,T){this.middlewareStack.use(Ke(C,this.serialize,this.deserialize)),this.middlewareStack.use(ht(C,Wi.getEndpointParameterInstructions()));const _=y.concat(this.middlewareStack),{logger:U}=C,ne={logger:U,clientName:"ChimeSDKMessagingClient",commandName:"DescribeChannelMembershipForAppInstanceUserCommand",inputFilterSensitiveLog:ue=>ue,outputFilterSensitiveLog:Du},{requestHandler:ye}=C;return _.resolve(ue=>ye.handle(ue.request,T||{}),ne)}serialize(y,C){return Zf(y,C)}deserialize(y,C){return fm(y,C)}constructor(y){super(),this.input=y}}o(Wi,"DescribeChannelMembershipForAppInstanceUserCommand_DescribeChannelMembershipForAppInstanceUserCommand");class yl extends In{static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}resolveMiddleware(y,C,T){this.middlewareStack.use(Ke(C,this.serialize,this.deserialize)),this.middlewareStack.use(ht(C,yl.getEndpointParameterInstructions()));const _=y.concat(this.middlewareStack),{logger:U}=C,ne={logger:U,clientName:"ChimeSDKMessagingClient",commandName:"DescribeChannelModeratedByAppInstanceUserCommand",inputFilterSensitiveLog:ue=>ue,outputFilterSensitiveLog:xu},{requestHandler:ye}=C;return _.resolve(ue=>ye.handle(ue.request,T||{}),ne)}serialize(y,C){return Qf(y,C)}deserialize(y,C){return mm(y,C)}constructor(y){super(),this.input=y}}o(yl,"DescribeChannelModeratedByAppInstanceUserCommand_DescribeChannelModeratedByAppInstanceUserCommand");class ma extends In{static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}resolveMiddleware(y,C,T){this.middlewareStack.use(Ke(C,this.serialize,this.deserialize)),this.middlewareStack.use(ht(C,ma.getEndpointParameterInstructions()));const _=y.concat(this.middlewareStack),{logger:U}=C,ne={logger:U,clientName:"ChimeSDKMessagingClient",commandName:"DescribeChannelModeratorCommand",inputFilterSensitiveLog:ue=>ue,outputFilterSensitiveLog:ku},{requestHandler:ye}=C;return _.resolve(ue=>ye.handle(ue.request,T||{}),ne)}serialize(y,C){return qf(y,C)}deserialize(y,C){return vm(y,C)}constructor(y){super(),this.input=y}}o(ma,"DescribeChannelModeratorCommand_DescribeChannelModeratorCommand");class $a extends In{static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}resolveMiddleware(y,C,T){this.middlewareStack.use(Ke(C,this.serialize,this.deserialize)),this.middlewareStack.use(ht(C,$a.getEndpointParameterInstructions()));const _=y.concat(this.middlewareStack),{logger:U}=C,ne={logger:U,clientName:"ChimeSDKMessagingClient",commandName:"DisassociateChannelFlowCommand",inputFilterSensitiveLog:ue=>ue,outputFilterSensitiveLog:ue=>ue},{requestHandler:ye}=C;return _.resolve(ue=>ye.handle(ue.request,T||{}),ne)}serialize(y,C){return ep(y,C)}deserialize(y,C){return ym(y,C)}constructor(y){super(),this.input=y}}o($a,"DisassociateChannelFlowCommand_DisassociateChannelFlowCommand");class Ka extends In{static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}resolveMiddleware(y,C,T){this.middlewareStack.use(Ke(C,this.serialize,this.deserialize)),this.middlewareStack.use(ht(C,Ka.getEndpointParameterInstructions()));const _=y.concat(this.middlewareStack),{logger:U}=C,ne={logger:U,clientName:"ChimeSDKMessagingClient",commandName:"GetChannelMembershipPreferencesCommand",inputFilterSensitiveLog:ue=>ue,outputFilterSensitiveLog:Lu},{requestHandler:ye}=C;return _.resolve(ue=>ye.handle(ue.request,T||{}),ne)}serialize(y,C){return tp(y,C)}deserialize(y,C){return bm(y,C)}constructor(y){super(),this.input=y}}o(Ka,"GetChannelMembershipPreferencesCommand_GetChannelMembershipPreferencesCommand");class ga extends In{static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}resolveMiddleware(y,C,T){this.middlewareStack.use(Ke(C,this.serialize,this.deserialize)),this.middlewareStack.use(ht(C,ga.getEndpointParameterInstructions()));const _=y.concat(this.middlewareStack),{logger:U}=C,ne={logger:U,clientName:"ChimeSDKMessagingClient",commandName:"GetChannelMessageCommand",inputFilterSensitiveLog:ue=>ue,outputFilterSensitiveLog:_u},{requestHandler:ye}=C;return _.resolve(ue=>ye.handle(ue.request,T||{}),ne)}serialize(y,C){return np(y,C)}deserialize(y,C){return Tm(y,C)}constructor(y){super(),this.input=y}}o(ga,"GetChannelMessageCommand_GetChannelMessageCommand");class Cl extends In{static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}resolveMiddleware(y,C,T){this.middlewareStack.use(Ke(C,this.serialize,this.deserialize)),this.middlewareStack.use(ht(C,Cl.getEndpointParameterInstructions()));const _=y.concat(this.middlewareStack),{logger:U}=C,ne={logger:U,clientName:"ChimeSDKMessagingClient",commandName:"GetChannelMessageStatusCommand",inputFilterSensitiveLog:ue=>ue,outputFilterSensitiveLog:ue=>ue},{requestHandler:ye}=C;return _.resolve(ue=>ye.handle(ue.request,T||{}),ne)}serialize(y,C){return ip(y,C)}deserialize(y,C){return wm(y,C)}constructor(y){super(),this.input=y}}o(Cl,"GetChannelMessageStatusCommand_GetChannelMessageStatusCommand");class bl extends In{static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}resolveMiddleware(y,C,T){this.middlewareStack.use(Ke(C,this.serialize,this.deserialize)),this.middlewareStack.use(ht(C,bl.getEndpointParameterInstructions()));const _=y.concat(this.middlewareStack),{logger:U}=C,ne={logger:U,clientName:"ChimeSDKMessagingClient",commandName:"GetMessagingSessionEndpointCommand",inputFilterSensitiveLog:ue=>ue,outputFilterSensitiveLog:ue=>ue},{requestHandler:ye}=C;return _.resolve(ue=>ye.handle(ue.request,T||{}),ne)}serialize(y,C){return rp(y,C)}deserialize(y,C){return Mm(y,C)}constructor(y){super(),this.input=y}}o(bl,"GetMessagingSessionEndpointCommand_GetMessagingSessionEndpointCommand");class El extends In{static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}resolveMiddleware(y,C,T){this.middlewareStack.use(Ke(C,this.serialize,this.deserialize)),this.middlewareStack.use(ht(C,El.getEndpointParameterInstructions()));const _=y.concat(this.middlewareStack),{logger:U}=C,ne={logger:U,clientName:"ChimeSDKMessagingClient",commandName:"GetMessagingStreamingConfigurationsCommand",inputFilterSensitiveLog:ue=>ue,outputFilterSensitiveLog:ue=>ue},{requestHandler:ye}=C;return _.resolve(ue=>ye.handle(ue.request,T||{}),ne)}serialize(y,C){return op(y,C)}deserialize(y,C){return Rm(y,C)}constructor(y){super(),this.input=y}}o(El,"GetMessagingStreamingConfigurationsCommand_GetMessagingStreamingConfigurationsCommand");class Ja extends In{static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}resolveMiddleware(y,C,T){this.middlewareStack.use(Ke(C,this.serialize,this.deserialize)),this.middlewareStack.use(ht(C,Ja.getEndpointParameterInstructions()));const _=y.concat(this.middlewareStack),{logger:U}=C,ne={logger:U,clientName:"ChimeSDKMessagingClient",commandName:"ListChannelBansCommand",inputFilterSensitiveLog:Nu,outputFilterSensitiveLog:Bu},{requestHandler:ye}=C;return _.resolve(ue=>ye.handle(ue.request,T||{}),ne)}serialize(y,C){return sp(y,C)}deserialize(y,C){return Dm(y,C)}constructor(y){super(),this.input=y}}o(Ja,"ListChannelBansCommand_ListChannelBansCommand");class _s extends In{static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}resolveMiddleware(y,C,T){this.middlewareStack.use(Ke(C,this.serialize,this.deserialize)),this.middlewareStack.use(ht(C,_s.getEndpointParameterInstructions()));const _=y.concat(this.middlewareStack),{logger:U}=C,ne={logger:U,clientName:"ChimeSDKMessagingClient",commandName:"ListChannelFlowsCommand",inputFilterSensitiveLog:Fu,outputFilterSensitiveLog:Uu},{requestHandler:ye}=C;return _.resolve(ue=>ye.handle(ue.request,T||{}),ne)}serialize(y,C){return ap(y,C)}deserialize(y,C){return km(y,C)}constructor(y){super(),this.input=y}}o(_s,"ListChannelFlowsCommand_ListChannelFlowsCommand");class Po extends In{static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}resolveMiddleware(y,C,T){this.middlewareStack.use(Ke(C,this.serialize,this.deserialize)),this.middlewareStack.use(ht(C,Po.getEndpointParameterInstructions()));const _=y.concat(this.middlewareStack),{logger:U}=C,ne={logger:U,clientName:"ChimeSDKMessagingClient",commandName:"ListChannelMembershipsCommand",inputFilterSensitiveLog:Vu,outputFilterSensitiveLog:Hu},{requestHandler:ye}=C;return _.resolve(ue=>ye.handle(ue.request,T||{}),ne)}serialize(y,C){return lp(y,C)}deserialize(y,C){return _m(y,C)}constructor(y){super(),this.input=y}}o(Po,"ListChannelMembershipsCommand_ListChannelMembershipsCommand");class Ns extends In{static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}resolveMiddleware(y,C,T){this.middlewareStack.use(Ke(C,this.serialize,this.deserialize)),this.middlewareStack.use(ht(C,Ns.getEndpointParameterInstructions()));const _=y.concat(this.middlewareStack),{logger:U}=C,ne={logger:U,clientName:"ChimeSDKMessagingClient",commandName:"ListChannelMembershipsForAppInstanceUserCommand",inputFilterSensitiveLog:zu,outputFilterSensitiveLog:ju},{requestHandler:ye}=C;return _.resolve(ue=>ye.handle(ue.request,T||{}),ne)}serialize(y,C){return cp(y,C)}deserialize(y,C){return Bm(y,C)}constructor(y){super(),this.input=y}}o(Ns,"ListChannelMembershipsForAppInstanceUserCommand_ListChannelMembershipsForAppInstanceUserCommand");class va extends In{static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}resolveMiddleware(y,C,T){this.middlewareStack.use(Ke(C,this.serialize,this.deserialize)),this.middlewareStack.use(ht(C,va.getEndpointParameterInstructions()));const _=y.concat(this.middlewareStack),{logger:U}=C,ne={logger:U,clientName:"ChimeSDKMessagingClient",commandName:"ListChannelMessagesCommand",inputFilterSensitiveLog:Wu,outputFilterSensitiveLog:Gu},{requestHandler:ye}=C;return _.resolve(ue=>ye.handle(ue.request,T||{}),ne)}serialize(y,C){return dp(y,C)}deserialize(y,C){return Um(y,C)}constructor(y){super(),this.input=y}}o(va,"ListChannelMessagesCommand_ListChannelMessagesCommand");class Sa extends In{static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}resolveMiddleware(y,C,T){this.middlewareStack.use(Ke(C,this.serialize,this.deserialize)),this.middlewareStack.use(ht(C,Sa.getEndpointParameterInstructions()));const _=y.concat(this.middlewareStack),{logger:U}=C,ne={logger:U,clientName:"ChimeSDKMessagingClient",commandName:"ListChannelModeratorsCommand",inputFilterSensitiveLog:$u,outputFilterSensitiveLog:Ku},{requestHandler:ye}=C;return _.resolve(ue=>ye.handle(ue.request,T||{}),ne)}serialize(y,C){return up(y,C)}deserialize(y,C){return Hm(y,C)}constructor(y){super(),this.input=y}}o(Sa,"ListChannelModeratorsCommand_ListChannelModeratorsCommand");class fs extends In{static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}resolveMiddleware(y,C,T){this.middlewareStack.use(Ke(C,this.serialize,this.deserialize)),this.middlewareStack.use(ht(C,fs.getEndpointParameterInstructions()));const _=y.concat(this.middlewareStack),{logger:U}=C,ne={logger:U,clientName:"ChimeSDKMessagingClient",commandName:"ListChannelsAssociatedWithChannelFlowCommand",inputFilterSensitiveLog:Xu,outputFilterSensitiveLog:Zu},{requestHandler:ye}=C;return _.resolve(ue=>ye.handle(ue.request,T||{}),ne)}serialize(y,C){return fp(y,C)}deserialize(y,C){return Gm(y,C)}constructor(y){super(),this.input=y}}o(fs,"ListChannelsAssociatedWithChannelFlowCommand_ListChannelsAssociatedWithChannelFlowCommand");class ya extends In{static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}resolveMiddleware(y,C,T){this.middlewareStack.use(Ke(C,this.serialize,this.deserialize)),this.middlewareStack.use(ht(C,ya.getEndpointParameterInstructions()));const _=y.concat(this.middlewareStack),{logger:U}=C,ne={logger:U,clientName:"ChimeSDKMessagingClient",commandName:"ListChannelsCommand",inputFilterSensitiveLog:Ju,outputFilterSensitiveLog:Yu},{requestHandler:ye}=C;return _.resolve(ue=>ye.handle(ue.request,T||{}),ne)}serialize(y,C){return hp(y,C)}deserialize(y,C){return jm(y,C)}constructor(y){super(),this.input=y}}o(ya,"ListChannelsCommand_ListChannelsCommand");class Ya extends In{static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}resolveMiddleware(y,C,T){this.middlewareStack.use(Ke(C,this.serialize,this.deserialize)),this.middlewareStack.use(ht(C,Ya.getEndpointParameterInstructions()));const _=y.concat(this.middlewareStack),{logger:U}=C,ne={logger:U,clientName:"ChimeSDKMessagingClient",commandName:"ListChannelsModeratedByAppInstanceUserCommand",inputFilterSensitiveLog:Qu,outputFilterSensitiveLog:qu},{requestHandler:ye}=C;return _.resolve(ue=>ye.handle(ue.request,T||{}),ne)}serialize(y,C){return pp(y,C)}deserialize(y,C){return Km(y,C)}constructor(y){super(),this.input=y}}o(Ya,"ListChannelsModeratedByAppInstanceUserCommand_ListChannelsModeratedByAppInstanceUserCommand");class Xa extends In{static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}resolveMiddleware(y,C,T){this.middlewareStack.use(Ke(C,this.serialize,this.deserialize)),this.middlewareStack.use(ht(C,Xa.getEndpointParameterInstructions()));const _=y.concat(this.middlewareStack),{logger:U}=C,ne={logger:U,clientName:"ChimeSDKMessagingClient",commandName:"ListSubChannelsCommand",inputFilterSensitiveLog:eh,outputFilterSensitiveLog:th},{requestHandler:ye}=C;return _.resolve(ue=>ye.handle(ue.request,T||{}),ne)}serialize(y,C){return mp(y,C)}deserialize(y,C){return Ym(y,C)}constructor(y){super(),this.input=y}}o(Xa,"ListSubChannelsCommand_ListSubChannelsCommand");class Tl extends In{static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}resolveMiddleware(y,C,T){this.middlewareStack.use(Ke(C,this.serialize,this.deserialize)),this.middlewareStack.use(ht(C,Tl.getEndpointParameterInstructions()));const _=y.concat(this.middlewareStack),{logger:U}=C,ne={logger:U,clientName:"ChimeSDKMessagingClient",commandName:"ListTagsForResourceCommand",inputFilterSensitiveLog:ue=>ue,outputFilterSensitiveLog:nh},{requestHandler:ye}=C;return _.resolve(ue=>ye.handle(ue.request,T||{}),ne)}serialize(y,C){return gp(y,C)}deserialize(y,C){return Zm(y,C)}constructor(y){super(),this.input=y}}o(Tl,"ListTagsForResourceCommand_ListTagsForResourceCommand");class Ko extends In{static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}resolveMiddleware(y,C,T){this.middlewareStack.use(Ke(C,this.serialize,this.deserialize)),this.middlewareStack.use(ht(C,Ko.getEndpointParameterInstructions()));const _=y.concat(this.middlewareStack),{logger:U}=C,ne={logger:U,clientName:"ChimeSDKMessagingClient",commandName:"PutChannelExpirationSettingsCommand",inputFilterSensitiveLog:ue=>ue,outputFilterSensitiveLog:ue=>ue},{requestHandler:ye}=C;return _.resolve(ue=>ye.handle(ue.request,T||{}),ne)}serialize(y,C){return vp(y,C)}deserialize(y,C){return qm(y,C)}constructor(y){super(),this.input=y}}o(Ko,"PutChannelExpirationSettingsCommand_PutChannelExpirationSettingsCommand");class Il extends In{static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}resolveMiddleware(y,C,T){this.middlewareStack.use(Ke(C,this.serialize,this.deserialize)),this.middlewareStack.use(ht(C,Il.getEndpointParameterInstructions()));const _=y.concat(this.middlewareStack),{logger:U}=C,ne={logger:U,clientName:"ChimeSDKMessagingClient",commandName:"PutChannelMembershipPreferencesCommand",inputFilterSensitiveLog:ih,outputFilterSensitiveLog:rh},{requestHandler:ye}=C;return _.resolve(ue=>ye.handle(ue.request,T||{}),ne)}serialize(y,C){return Sp(y,C)}deserialize(y,C){return tg(y,C)}constructor(y){super(),this.input=y}}o(Il,"PutChannelMembershipPreferencesCommand_PutChannelMembershipPreferencesCommand");class Za extends In{static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}resolveMiddleware(y,C,T){this.middlewareStack.use(Ke(C,this.serialize,this.deserialize)),this.middlewareStack.use(ht(C,Za.getEndpointParameterInstructions()));const _=y.concat(this.middlewareStack),{logger:U}=C,ne={logger:U,clientName:"ChimeSDKMessagingClient",commandName:"PutMessagingStreamingConfigurationsCommand",inputFilterSensitiveLog:ue=>ue,outputFilterSensitiveLog:ue=>ue},{requestHandler:ye}=C;return _.resolve(ue=>ye.handle(ue.request,T||{}),ne)}serialize(y,C){return yp(y,C)}deserialize(y,C){return ig(y,C)}constructor(y){super(),this.input=y}}o(Za,"PutMessagingStreamingConfigurationsCommand_PutMessagingStreamingConfigurationsCommand");class wl extends In{static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}resolveMiddleware(y,C,T){this.middlewareStack.use(Ke(C,this.serialize,this.deserialize)),this.middlewareStack.use(ht(C,wl.getEndpointParameterInstructions()));const _=y.concat(this.middlewareStack),{logger:U}=C,ne={logger:U,clientName:"ChimeSDKMessagingClient",commandName:"RedactChannelMessageCommand",inputFilterSensitiveLog:ue=>ue,outputFilterSensitiveLog:ue=>ue},{requestHandler:ye}=C;return _.resolve(ue=>ye.handle(ue.request,T||{}),ne)}serialize(y,C){return Cp(y,C)}deserialize(y,C){return og(y,C)}constructor(y){super(),this.input=y}}o(wl,"RedactChannelMessageCommand_RedactChannelMessageCommand");class Ca extends In{static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}resolveMiddleware(y,C,T){this.middlewareStack.use(Ke(C,this.serialize,this.deserialize)),this.middlewareStack.use(ht(C,Ca.getEndpointParameterInstructions()));const _=y.concat(this.middlewareStack),{logger:U}=C,ne={logger:U,clientName:"ChimeSDKMessagingClient",commandName:"SearchChannelsCommand",inputFilterSensitiveLog:oh,outputFilterSensitiveLog:sh},{requestHandler:ye}=C;return _.resolve(ue=>ye.handle(ue.request,T||{}),ne)}serialize(y,C){return bp(y,C)}deserialize(y,C){return ag(y,C)}constructor(y){super(),this.input=y}}o(Ca,"SearchChannelsCommand_SearchChannelsCommand");class ba extends In{static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}resolveMiddleware(y,C,T){this.middlewareStack.use(Ke(C,this.serialize,this.deserialize)),this.middlewareStack.use(ht(C,ba.getEndpointParameterInstructions()));const _=y.concat(this.middlewareStack),{logger:U}=C,ne={logger:U,clientName:"ChimeSDKMessagingClient",commandName:"SendChannelMessageCommand",inputFilterSensitiveLog:ah,outputFilterSensitiveLog:ue=>ue},{requestHandler:ye}=C;return _.resolve(ue=>ye.handle(ue.request,T||{}),ne)}serialize(y,C){return Ep(y,C)}deserialize(y,C){return cg(y,C)}constructor(y){super(),this.input=y}}o(ba,"SendChannelMessageCommand_SendChannelMessageCommand");class Ol extends In{static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}resolveMiddleware(y,C,T){this.middlewareStack.use(Ke(C,this.serialize,this.deserialize)),this.middlewareStack.use(ht(C,Ol.getEndpointParameterInstructions()));const _=y.concat(this.middlewareStack),{logger:U}=C,ne={logger:U,clientName:"ChimeSDKMessagingClient",commandName:"TagResourceCommand",inputFilterSensitiveLog:lh,outputFilterSensitiveLog:ue=>ue},{requestHandler:ye}=C;return _.resolve(ue=>ye.handle(ue.request,T||{}),ne)}serialize(y,C){return Tp(y,C)}deserialize(y,C){return ug(y,C)}constructor(y){super(),this.input=y}}o(Ol,"TagResourceCommand_TagResourceCommand");class Ml extends In{static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}resolveMiddleware(y,C,T){this.middlewareStack.use(Ke(C,this.serialize,this.deserialize)),this.middlewareStack.use(ht(C,Ml.getEndpointParameterInstructions()));const _=y.concat(this.middlewareStack),{logger:U}=C,ne={logger:U,clientName:"ChimeSDKMessagingClient",commandName:"UntagResourceCommand",inputFilterSensitiveLog:ch,outputFilterSensitiveLog:ue=>ue},{requestHandler:ye}=C;return _.resolve(ue=>ye.handle(ue.request,T||{}),ne)}serialize(y,C){return Ip(y,C)}deserialize(y,C){return fg(y,C)}constructor(y){super(),this.input=y}}o(Ml,"UntagResourceCommand_UntagResourceCommand");class st extends In{static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}resolveMiddleware(y,C,T){this.middlewareStack.use(Ke(C,this.serialize,this.deserialize)),this.middlewareStack.use(ht(C,st.getEndpointParameterInstructions()));const _=y.concat(this.middlewareStack),{logger:U}=C,ne={logger:U,clientName:"ChimeSDKMessagingClient",commandName:"UpdateChannelCommand",inputFilterSensitiveLog:dh,outputFilterSensitiveLog:ue=>ue},{requestHandler:ye}=C;return _.resolve(ue=>ye.handle(ue.request,T||{}),ne)}serialize(y,C){return wp(y,C)}deserialize(y,C){return mg(y,C)}constructor(y){super(),this.input=y}}o(st,"UpdateChannelCommand_UpdateChannelCommand");class Qa extends In{static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}resolveMiddleware(y,C,T){this.middlewareStack.use(Ke(C,this.serialize,this.deserialize)),this.middlewareStack.use(ht(C,Qa.getEndpointParameterInstructions()));const _=y.concat(this.middlewareStack),{logger:U}=C,ne={logger:U,clientName:"ChimeSDKMessagingClient",commandName:"UpdateChannelFlowCommand",inputFilterSensitiveLog:uh,outputFilterSensitiveLog:ue=>ue},{requestHandler:ye}=C;return _.resolve(ue=>ye.handle(ue.request,T||{}),ne)}serialize(y,C){return Op(y,C)}deserialize(y,C){return vg(y,C)}constructor(y){super(),this.input=y}}o(Qa,"UpdateChannelFlowCommand_UpdateChannelFlowCommand");class no extends In{static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}resolveMiddleware(y,C,T){this.middlewareStack.use(Ke(C,this.serialize,this.deserialize)),this.middlewareStack.use(ht(C,no.getEndpointParameterInstructions()));const _=y.concat(this.middlewareStack),{logger:U}=C,ne={logger:U,clientName:"ChimeSDKMessagingClient",commandName:"UpdateChannelMessageCommand",inputFilterSensitiveLog:hh,outputFilterSensitiveLog:ue=>ue},{requestHandler:ye}=C;return _.resolve(ue=>ye.handle(ue.request,T||{}),ne)}serialize(y,C){return Mp(y,C)}deserialize(y,C){return yg(y,C)}constructor(y){super(),this.input=y}}o(no,"UpdateChannelMessageCommand_UpdateChannelMessageCommand");class ps extends In{static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}resolveMiddleware(y,C,T){this.middlewareStack.use(Ke(C,this.serialize,this.deserialize)),this.middlewareStack.use(ht(C,ps.getEndpointParameterInstructions()));const _=y.concat(this.middlewareStack),{logger:U}=C,ne={logger:U,clientName:"ChimeSDKMessagingClient",commandName:"UpdateChannelReadMarkerCommand",inputFilterSensitiveLog:ue=>ue,outputFilterSensitiveLog:ue=>ue},{requestHandler:ye}=C;return _.resolve(ue=>ye.handle(ue.request,T||{}),ne)}serialize(y,C){return Ap(y,C)}deserialize(y,C){return bg(y,C)}constructor(y){super(),this.input=y}}o(ps,"UpdateChannelReadMarkerCommand_UpdateChannelReadMarkerCommand");const hc={AssociateChannelFlowCommand:sc,BatchCreateChannelMembershipCommand:ac,ChannelFlowCallbackCommand:lc,CreateChannelCommand:dc,CreateChannelBanCommand:cc,CreateChannelFlowCommand:uc,CreateChannelMembershipCommand:Ci,CreateChannelModeratorCommand:gn,DeleteChannelCommand:ja,DeleteChannelBanCommand:pa,DeleteChannelFlowCommand:Wa,DeleteChannelMembershipCommand:Ga,DeleteChannelMessageCommand:Ls,DeleteChannelModeratorCommand:Vi,DeleteMessagingStreamingConfigurationsCommand:ji,DescribeChannelCommand:Wn,DescribeChannelBanCommand:ea,DescribeChannelFlowCommand:Sr,DescribeChannelMembershipCommand:hs,DescribeChannelMembershipForAppInstanceUserCommand:Wi,DescribeChannelModeratedByAppInstanceUserCommand:yl,DescribeChannelModeratorCommand:ma,DisassociateChannelFlowCommand:$a,GetChannelMembershipPreferencesCommand:Ka,GetChannelMessageCommand:ga,GetChannelMessageStatusCommand:Cl,GetMessagingSessionEndpointCommand:bl,GetMessagingStreamingConfigurationsCommand:El,ListChannelBansCommand:Ja,ListChannelFlowsCommand:_s,ListChannelMembershipsCommand:Po,ListChannelMembershipsForAppInstanceUserCommand:Ns,ListChannelMessagesCommand:va,ListChannelModeratorsCommand:Sa,ListChannelsCommand:ya,ListChannelsAssociatedWithChannelFlowCommand:fs,ListChannelsModeratedByAppInstanceUserCommand:Ya,ListSubChannelsCommand:Xa,ListTagsForResourceCommand:Tl,PutChannelExpirationSettingsCommand:Ko,PutChannelMembershipPreferencesCommand:Il,PutMessagingStreamingConfigurationsCommand:Za,RedactChannelMessageCommand:wl,SearchChannelsCommand:Ca,SendChannelMessageCommand:ba,TagResourceCommand:Ol,UntagResourceCommand:Ml,UpdateChannelCommand:st,UpdateChannelFlowCommand:Qa,UpdateChannelMessageCommand:no,UpdateChannelReadMarkerCommand:ps};class kc extends So{}o(kc,"ChimeSDKMessaging_ChimeSDKMessaging"),Fl(hc,kc);const Lc=function(){var E=Object(u.coroutine)(function*(y,C){for(var T=arguments.length,_=new Array(T>2?T-2:0),U=2;U<T;U++)_[U-2]=arguments[U];return yield y.send(new Ja(C),..._)});return o(function(C,T){return E.apply(this,arguments)},"makePagedClientRequest")}();function fc(E,y){return qa.apply(this,arguments)}o(fc,"paginateListChannelBans");function qa(){return qa=_wrapAsyncGenerator(function*(E,y){for(var C=arguments.length,T=new Array(C>2?C-2:0),_=2;_<C;_++)T[_-2]=arguments[_];let U=E.startingToken||void 0,W=!0,fe;for(;W;){if(y.NextToken=U,y.MaxResults=E.pageSize,E.client instanceof So)fe=yield _awaitAsyncGenerator(Lc(E.client,y,...T));else throw new Error("Invalid client, expected ChimeSDKMessaging | ChimeSDKMessagingClient");yield fe;const ne=U;U=fe.NextToken,W=!!(U&&(!E.stopOnSameToken||U!==ne))}}),qa.apply(this,arguments)}o(qa,"_paginateListChannelBans");const vh=function(){var E=Object(u.coroutine)(function*(y,C){for(var T=arguments.length,_=new Array(T>2?T-2:0),U=2;U<T;U++)_[U-2]=arguments[U];return yield y.send(new _s(C),..._)});return o(function(C,T){return E.apply(this,arguments)},"makePagedClientRequest")}();function Sh(E,y){return _c.apply(this,arguments)}o(Sh,"paginateListChannelFlows");function _c(){return _c=_wrapAsyncGenerator(function*(E,y){for(var C=arguments.length,T=new Array(C>2?C-2:0),_=2;_<C;_++)T[_-2]=arguments[_];let U=E.startingToken||void 0,W=!0,fe;for(;W;){if(y.NextToken=U,y.MaxResults=E.pageSize,E.client instanceof So)fe=yield _awaitAsyncGenerator(vh(E.client,y,...T));else throw new Error("Invalid client, expected ChimeSDKMessaging | ChimeSDKMessagingClient");yield fe;const ne=U;U=fe.NextToken,W=!!(U&&(!E.stopOnSameToken||U!==ne))}}),_c.apply(this,arguments)}o(_c,"_paginateListChannelFlows");const Td=function(){var E=Object(u.coroutine)(function*(y,C){for(var T=arguments.length,_=new Array(T>2?T-2:0),U=2;U<T;U++)_[U-2]=arguments[U];return yield y.send(new Ns(C),..._)});return o(function(C,T){return E.apply(this,arguments)},"makePagedClientRequest")}();function Nc(E,y){return pc.apply(this,arguments)}o(Nc,"paginateListChannelMembershipsForAppInstanceUser");function pc(){return pc=_wrapAsyncGenerator(function*(E,y){for(var C=arguments.length,T=new Array(C>2?C-2:0),_=2;_<C;_++)T[_-2]=arguments[_];let U=E.startingToken||void 0,W=!0,fe;for(;W;){if(y.NextToken=U,y.MaxResults=E.pageSize,E.client instanceof So)fe=yield _awaitAsyncGenerator(Td(E.client,y,...T));else throw new Error("Invalid client, expected ChimeSDKMessaging | ChimeSDKMessagingClient");yield fe;const ne=U;U=fe.NextToken,W=!!(U&&(!E.stopOnSameToken||U!==ne))}}),pc.apply(this,arguments)}o(pc,"_paginateListChannelMembershipsForAppInstanceUser");const Id=function(){var E=Object(u.coroutine)(function*(y,C){for(var T=arguments.length,_=new Array(T>2?T-2:0),U=2;U<T;U++)_[U-2]=arguments[U];return yield y.send(new Po(C),..._)});return o(function(C,T){return E.apply(this,arguments)},"makePagedClientRequest")}();function yh(E,y){return Bc.apply(this,arguments)}o(yh,"paginateListChannelMemberships");function Bc(){return Bc=_wrapAsyncGenerator(function*(E,y){for(var C=arguments.length,T=new Array(C>2?C-2:0),_=2;_<C;_++)T[_-2]=arguments[_];let U=E.startingToken||void 0,W=!0,fe;for(;W;){if(y.NextToken=U,y.MaxResults=E.pageSize,E.client instanceof So)fe=yield _awaitAsyncGenerator(Id(E.client,y,...T));else throw new Error("Invalid client, expected ChimeSDKMessaging | ChimeSDKMessagingClient");yield fe;const ne=U;U=fe.NextToken,W=!!(U&&(!E.stopOnSameToken||U!==ne))}}),Bc.apply(this,arguments)}o(Bc,"_paginateListChannelMemberships");const wd=function(){var E=Object(u.coroutine)(function*(y,C){for(var T=arguments.length,_=new Array(T>2?T-2:0),U=2;U<T;U++)_[U-2]=arguments[U];return yield y.send(new va(C),..._)});return o(function(C,T){return E.apply(this,arguments)},"makePagedClientRequest")}();function Bs(E,y){return mc.apply(this,arguments)}o(Bs,"paginateListChannelMessages");function mc(){return mc=_wrapAsyncGenerator(function*(E,y){for(var C=arguments.length,T=new Array(C>2?C-2:0),_=2;_<C;_++)T[_-2]=arguments[_];let U=E.startingToken||void 0,W=!0,fe;for(;W;){if(y.NextToken=U,y.MaxResults=E.pageSize,E.client instanceof So)fe=yield _awaitAsyncGenerator(wd(E.client,y,...T));else throw new Error("Invalid client, expected ChimeSDKMessaging | ChimeSDKMessagingClient");yield fe;const ne=U;U=fe.NextToken,W=!!(U&&(!E.stopOnSameToken||U!==ne))}}),mc.apply(this,arguments)}o(mc,"_paginateListChannelMessages");const Od=function(){var E=Object(u.coroutine)(function*(y,C){for(var T=arguments.length,_=new Array(T>2?T-2:0),U=2;U<T;U++)_[U-2]=arguments[U];return yield y.send(new Sa(C),..._)});return o(function(C,T){return E.apply(this,arguments)},"makePagedClientRequest")}();function Md(E,y){return Fc.apply(this,arguments)}o(Md,"paginateListChannelModerators");function Fc(){return Fc=_wrapAsyncGenerator(function*(E,y){for(var C=arguments.length,T=new Array(C>2?C-2:0),_=2;_<C;_++)T[_-2]=arguments[_];let U=E.startingToken||void 0,W=!0,fe;for(;W;){if(y.NextToken=U,y.MaxResults=E.pageSize,E.client instanceof So)fe=yield _awaitAsyncGenerator(Od(E.client,y,...T));else throw new Error("Invalid client, expected ChimeSDKMessaging | ChimeSDKMessagingClient");yield fe;const ne=U;U=fe.NextToken,W=!!(U&&(!E.stopOnSameToken||U!==ne))}}),Fc.apply(this,arguments)}o(Fc,"_paginateListChannelModerators");const Do=function(){var E=Object(u.coroutine)(function*(y,C){for(var T=arguments.length,_=new Array(T>2?T-2:0),U=2;U<T;U++)_[U-2]=arguments[U];return yield y.send(new fs(C),..._)});return o(function(C,T){return E.apply(this,arguments)},"makePagedClientRequest")}();function Ad(E,y){return Uc.apply(this,arguments)}o(Ad,"paginateListChannelsAssociatedWithChannelFlow");function Uc(){return Uc=_wrapAsyncGenerator(function*(E,y){for(var C=arguments.length,T=new Array(C>2?C-2:0),_=2;_<C;_++)T[_-2]=arguments[_];let U=E.startingToken||void 0,W=!0,fe;for(;W;){if(y.NextToken=U,y.MaxResults=E.pageSize,E.client instanceof So)fe=yield _awaitAsyncGenerator(Do(E.client,y,...T));else throw new Error("Invalid client, expected ChimeSDKMessaging | ChimeSDKMessagingClient");yield fe;const ne=U;U=fe.NextToken,W=!!(U&&(!E.stopOnSameToken||U!==ne))}}),Uc.apply(this,arguments)}o(Uc,"_paginateListChannelsAssociatedWithChannelFlow");const el=function(){var E=Object(u.coroutine)(function*(y,C){for(var T=arguments.length,_=new Array(T>2?T-2:0),U=2;U<T;U++)_[U-2]=arguments[U];return yield y.send(new Ya(C),..._)});return o(function(C,T){return E.apply(this,arguments)},"makePagedClientRequest")}();function Vc(E,y){return Hc.apply(this,arguments)}o(Vc,"paginateListChannelsModeratedByAppInstanceUser");function Hc(){return Hc=_wrapAsyncGenerator(function*(E,y){for(var C=arguments.length,T=new Array(C>2?C-2:0),_=2;_<C;_++)T[_-2]=arguments[_];let U=E.startingToken||void 0,W=!0,fe;for(;W;){if(y.NextToken=U,y.MaxResults=E.pageSize,E.client instanceof So)fe=yield _awaitAsyncGenerator(el(E.client,y,...T));else throw new Error("Invalid client, expected ChimeSDKMessaging | ChimeSDKMessagingClient");yield fe;const ne=U;U=fe.NextToken,W=!!(U&&(!E.stopOnSameToken||U!==ne))}}),Hc.apply(this,arguments)}o(Hc,"_paginateListChannelsModeratedByAppInstanceUser");const Rd=function(){var E=Object(u.coroutine)(function*(y,C){for(var T=arguments.length,_=new Array(T>2?T-2:0),U=2;U<T;U++)_[U-2]=arguments[U];return yield y.send(new ya(C),..._)});return o(function(C,T){return E.apply(this,arguments)},"makePagedClientRequest")}();function Fs(E,y){return zc.apply(this,arguments)}o(Fs,"paginateListChannels");function zc(){return zc=_wrapAsyncGenerator(function*(E,y){for(var C=arguments.length,T=new Array(C>2?C-2:0),_=2;_<C;_++)T[_-2]=arguments[_];let U=E.startingToken||void 0,W=!0,fe;for(;W;){if(y.NextToken=U,y.MaxResults=E.pageSize,E.client instanceof So)fe=yield _awaitAsyncGenerator(Rd(E.client,y,...T));else throw new Error("Invalid client, expected ChimeSDKMessaging | ChimeSDKMessagingClient");yield fe;const ne=U;U=fe.NextToken,W=!!(U&&(!E.stopOnSameToken||U!==ne))}}),zc.apply(this,arguments)}o(zc,"_paginateListChannels");const jc=function(){var E=Object(u.coroutine)(function*(y,C){for(var T=arguments.length,_=new Array(T>2?T-2:0),U=2;U<T;U++)_[U-2]=arguments[U];return yield y.send(new Xa(C),..._)});return o(function(C,T){return E.apply(this,arguments)},"makePagedClientRequest")}();function Wc(E,y){return gc.apply(this,arguments)}o(Wc,"paginateListSubChannels");function gc(){return gc=_wrapAsyncGenerator(function*(E,y){for(var C=arguments.length,T=new Array(C>2?C-2:0),_=2;_<C;_++)T[_-2]=arguments[_];let U=E.startingToken||void 0,W=!0,fe;for(;W;){if(y.NextToken=U,y.MaxResults=E.pageSize,E.client instanceof So)fe=yield _awaitAsyncGenerator(jc(E.client,y,...T));else throw new Error("Invalid client, expected ChimeSDKMessaging | ChimeSDKMessagingClient");yield fe;const ne=U;U=fe.NextToken,W=!!(U&&(!E.stopOnSameToken||U!==ne))}}),gc.apply(this,arguments)}o(gc,"_paginateListSubChannels");const vc=function(){var E=Object(u.coroutine)(function*(y,C){for(var T=arguments.length,_=new Array(T>2?T-2:0),U=2;U<T;U++)_[U-2]=arguments[U];return yield y.send(new Ca(C),..._)});return o(function(C,T){return E.apply(this,arguments)},"makePagedClientRequest")}();function tl(E,y){return Us.apply(this,arguments)}o(tl,"paginateSearchChannels");function Us(){return Us=_wrapAsyncGenerator(function*(E,y){for(var C=arguments.length,T=new Array(C>2?C-2:0),_=2;_<C;_++)T[_-2]=arguments[_];let U=E.startingToken||void 0,W=!0,fe;for(;W;){if(y.NextToken=U,y.MaxResults=E.pageSize,E.client instanceof So)fe=yield _awaitAsyncGenerator(vc(E.client,y,...T));else throw new Error("Invalid client, expected ChimeSDKMessaging | ChimeSDKMessagingClient");yield fe;const ne=U;U=fe.NextToken,W=!!(U&&(!E.stopOnSameToken||U!==ne))}}),Us.apply(this,arguments)}o(Us,"_paginateSearchChannels")},Zkgh:function(N,c,d){"use strict";Object.defineProperty(c,"__esModule",{value:!0});let S=o(class Vh{add(m){this.ids.add(m)}array(){return Array.from(this.ids.values()).sort((f,a)=>f-a)}contain(m){return this.ids.has(m)}forEach(m){this.ids.forEach(m)}empty(){return this.ids.size===0}size(){return this.ids.size}equal(m){if(!m)return this.ids.size===0;const f=this.array(),a=m.array();if(f.length!==a.length)return!1;for(let n=0;n<f.length;n++)if(f[n]!==a[n])return!1;return!0}clone(){return new Vh(this.array())}remove(m){this.ids.delete(m)}toJSON(){return this.array()}truncate(m){const f=this.array();return new Vh(f.splice(0,m))}constructor(m){this.ids=new Set(m)}},"DefaultVideoStreamIdSet");c.default=S},ZnGd:function(N,c,d){"use strict";Object.defineProperty(c,"__esModule",{value:!0});const S=d("mlaT"),h=d("F7zz");let m=o(class{name(){return`${this.task.name()} (once)`}cancel(){if(!this.canceled){if(this.dependencies)for(const a of this.dependencies)a.cancel();this.logger.info(`Canceling ${this.name()}`),h.default.nextTick(()=>this.task.cancel()),this.canceled=!0,this.cancelPromise&&h.default.nextTick(()=>this.cancelPromise(new Error(`canceling ${this.name()}`)))}}logDependencies(){if(this.logger.getLogLevel()>S.default.INFO||!this.dependencies)return;const a=this.dependencies.filter(n=>n).map(n=>n.name()).join(", ");this.logger.info(`${this.task.name()} waiting for dependencies: ${a}`)}run(){if(this.promise)return this.promise;const a=this.dependencies?Promise.all(this.dependencies.map(n=>n==null?void 0:n.run())):Promise.resolve();return this.logDependencies(),this.ongoing=a.then(()=>this.task.run()),this.promise=new Promise((n,i)=>{this.cancelPromise=i,this.ongoing.then(n).catch(i)})}setParent(a){this.task.setParent(a)}constructor(a,n,i){this.logger=a,this.task=n,this.dependencies=i,this.canceled=!1}},"OnceTask");c.default=m},ZsEg:function(N,c,d){"use strict";var S=this&&this.__awaiter||function(j,A,D,$){function O(P){return P instanceof D?P:new D(function(k){k(P)})}return o(O,"adopt"),new(D||(D=Promise))(function(P,k){function K(ie){try{Y($.next(ie))}catch(ge){k(ge)}}o(K,"fulfilled");function Z(ie){try{Y($.throw(ie))}catch(ge){k(ge)}}o(Z,"rejected");function Y(ie){ie.done?P(ie.value):O(ie.value).then(K,Z)}o(Y,"step"),Y(($=$.apply(j,A||[])).next())})};Object.defineProperty(c,"__esModule",{value:!0});const h=d("U9CR"),m=d("Gs2/"),f=d("F7zz"),a=d("FMuk"),n=d("Aplu"),i=d("7TH8"),e=d("Z/hr"),t=d("6k+I"),r=d("6DYs"),l=d("KJDN"),p=d("QUzi"),v=d("u3ud"),g=d("wJ81"),u=d("wkYg"),s=d("sf8V"),I=d("my46"),M=d("0OOd");let R=o(class Ni{isWatchingForDeviceChanges(){return!!this.onDeviceChangeCallback}ensureWatchingDeviceChanges(){var A;this.isWatchingForDeviceChanges()||(this.logger.info("Starting devicechange listener."),this.onDeviceChangeCallback=()=>{this.logger.info("Device change event callback is triggered"),this.handleDeviceChange()},(A=this.mediaDeviceWrapper)===null||A===void 0||A.addEventListener("devicechange",this.onDeviceChangeCallback))}stopWatchingDeviceChanges(){var A;this.isWatchingForDeviceChanges()&&(this.logger.info("Stopping devicechange listener."),(A=this.mediaDeviceWrapper)===null||A===void 0||A.removeEventListener("devicechange",this.onDeviceChangeCallback),this.onDeviceChangeCallback=void 0)}shouldObserveDeviceChanges(){return this.deviceChangeObservers.size?!0:this.activeDevices.audio&&this.activeDevices.audio.constraints!==null||this.activeDevices.video&&this.activeDevices.video.constraints!==null||!!this.audioOutputDeviceId}watchForDeviceChangesIfNecessary(){this.shouldObserveDeviceChanges()?this.ensureWatchingDeviceChanges():this.stopWatchingDeviceChanges()}destroy(){return S(this,void 0,void 0,function*(){this.stopWatchingDeviceChanges(),yield this.stopAudioInput(),yield this.stopVideoInput()})}listAudioInputDevices(){let A=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;return S(this,void 0,void 0,function*(){const D=yield this.listDevicesOfKind("audioinput",A);return this.trace("listAudioInputDevices",A,D),D})}listVideoInputDevices(){let A=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;return S(this,void 0,void 0,function*(){const D=yield this.listDevicesOfKind("videoinput",A);return this.trace("listVideoInputDevices",A,D),D})}listAudioOutputDevices(){let A=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;return S(this,void 0,void 0,function*(){const D=yield this.listDevicesOfKind("audiooutput",A);return this.trace("listAudioOutputDevices",A,D),D})}pushAudioMeetingStateForPermissions(A){var D;(D=this.eventController)===null||D===void 0||D.publishEvent(A===void 0?"audioInputUnselected":"audioInputSelected")}pushVideoMeetingStateForPermissions(A){var D;(D=this.eventController)===null||D===void 0||D.publishEvent(A===void 0?"videoInputUnselected":"videoInputSelected")}startAudioInput(A){return S(this,void 0,void 0,function*(){return yield this.audioInputTaskQueue.add(()=>this.startAudioInputTask(A))})}startAudioInputTask(A){var D;return S(this,void 0,void 0,function*(){if(A===void 0){this.logger.error("Audio input device cannot be undefined");return}try{return t.isAudioTransformDevice(A)?(this.logger.info(`Choosing transform input device ${A}`),yield this.chooseAudioTransformInputDevice(A)):(this.logger.info(`Choosing intrinsic audio input device ${A}`),this.removeTransform(),yield this.chooseInputIntrinsicDevice("audio",A)),this.trace("startAudioInputDevice",A,"success"),this.useWebAudio?(this.attachAudioInputStreamToAudioContext(this.activeDevices.audio.stream),this.pushAudioMeetingStateForPermissions(this.getMediaStreamDestinationNode().stream),yield(D=this.transform)===null||D===void 0?void 0:D.device.mute(this.muted),this.getMediaStreamDestinationNode().stream):(this.publishAudioInputDidChangeEvent(this.activeDevices.audio.stream),this.activeDevices.audio.stream)}catch($){throw $}})}stopAudioInput(){return S(this,void 0,void 0,function*(){return this.audioInputTaskQueue.add(()=>this.stopAudioInputTask())})}stopAudioInputTask(){return S(this,void 0,void 0,function*(){try{if(this.useWebAudio){this.releaseAudioTransformStream();return}this.stopTracksAndRemoveCallbacks("audio")}finally{this.watchForDeviceChangesIfNecessary(),this.publishAudioInputDidChangeEvent(void 0)}})}chooseAudioTransformInputDevice(A){var D;return S(this,void 0,void 0,function*(){if(((D=this.transform)===null||D===void 0?void 0:D.device)===A)return;if(!this.useWebAudio)throw new Error("Cannot apply transform device without enabling Web Audio.");const $=Ni.getAudioContext();if(!($ instanceof OfflineAudioContext))switch($.state){case"running":break;case"closed":throw new Error("Cannot choose a transform device with a closed audio context.");case"suspended":yield $.resume()}let O;try{O=yield A.createAudioNode($)}catch(k){throw this.logger.error(`Unable to create transform device node: ${k}.`),k}const P=yield A.intrinsicDevice();yield this.chooseInputIntrinsicDevice("audio",P),this.logger.debug(`Got inner stream: ${P}.`),this.setTransform(A,O)})}chooseVideoTransformInputDevice(A){var D;return S(this,void 0,void 0,function*(){if(this.eventController&&A instanceof i.default&&A.passEventControllerToProcessors(this.eventController),A===this.chosenVideoTransformDevice){this.logger.info("Reselecting same VideoTransformDevice");return}const $=this.chosenVideoTransformDevice;$&&this.logger.info("Switched from previous VideoTransformDevice");const O=!!$,P=yield A.intrinsicDevice();if(!this.isMediaStreamReusableByDeviceId((D=this.activeDevices.video)===null||D===void 0?void 0:D.stream,P)){this.logger.info("video transform device needs new intrinsic device"),O&&$.onOutputStreamDisconnect(),this.chosenVideoTransformDevice=A,this.activeDevices.video=null,yield this.chooseInputIntrinsicDevice("video",P),this.logger.info("apply processors to transform"),yield this.chosenVideoTransformDevice.transformStream(this.activeDevices.video.stream);return}this.chosenVideoTransformDevice=A,this.logger.info("video transform device uses previous stream"),this.logger.info("apply processors to transform"),yield A.transformStream(this.activeDevices.video.stream)})}startVideoInput(A){return S(this,void 0,void 0,function*(){return yield this.videoInputTaskQueue.add(()=>this.startVideoInputTask(A))})}startVideoInputTask(A){return S(this,void 0,void 0,function*(){if(!A){this.logger.error("Invalid video input device");return}try{return M.isVideoTransformDevice(A)?(this.logger.info(`Choosing video transform device ${A}`),yield this.chooseVideoTransformInputDevice(A),this.publishVideoInputDidChangeEvent(this.chosenVideoTransformDevice.outputMediaStream),this.chosenVideoTransformDevice.outputMediaStream):(this.chosenVideoInputIsTransformDevice()&&(this.chosenVideoTransformDevice.onOutputStreamDisconnect(),this.chosenVideoTransformDevice=null),yield this.chooseInputIntrinsicDevice("video",A),this.trace("startVideoInputDevice",A),this.publishVideoInputDidChangeEvent(this.activeDevices.video.stream),this.activeDevices.video.stream)}catch(D){throw D}})}stopVideoInput(){return S(this,void 0,void 0,function*(){return this.videoInputTaskQueue.add(()=>this.stopVideoInputTask())})}stopVideoInputTask(){return S(this,void 0,void 0,function*(){try{if(this.chosenVideoInputIsTransformDevice()){this.releaseVideoTransformStream();return}this.stopTracksAndRemoveCallbacks("video")}finally{this.watchForDeviceChangesIfNecessary(),this.publishVideoInputDidChangeEvent(void 0)}})}chooseAudioOutput(A){return S(this,void 0,void 0,function*(){this.audioOutputDeviceId=A,this.watchForDeviceChangesIfNecessary();const D=this.deviceInfoFromDeviceId("audiooutput",this.audioOutputDeviceId);this.publishAudioOutputDidChangeEvent(D),this.trace("chooseAudioOutput",A,null)})}addDeviceChangeObserver(A){this.logger.info("adding device change observer"),this.deviceChangeObservers.add(A),this.watchForDeviceChangesIfNecessary(),this.trace("addDeviceChangeObserver")}removeDeviceChangeObserver(A){this.logger.info("removing device change observer"),this.deviceChangeObservers.delete(A),this.watchForDeviceChangesIfNecessary(),this.trace("removeDeviceChangeObserver")}createAnalyserNodeForAudioInput(){var A,D;if(!this.activeDevices.audio)return null;const $=(D=(A=this.transform)===null||A===void 0?void 0:A.nodes)===null||D===void 0?void 0:D.end;if($){const O=$.context.createAnalyser();return O.removeOriginalInputs=()=>{try{$.disconnect(O)}catch{}},$.connect(O),O}return this.createAnalyserNodeForRawAudioInput()}createAnalyserNodeForRawAudioInput(){return this.activeDevices.audio?this.createAnalyserNodeForStream(this.activeDevices.audio.stream):null}createAnalyserNodeForStream(A){const D=Ni.getAudioContext(),$=D.createAnalyser(),O=D.createMediaStreamSource(A);return O.connect($),this.trace("createAnalyserNodeForAudioInput"),$.removeOriginalInputs=()=>{try{O.disconnect($)}catch{}},$}startVideoPreviewForVideoInput(A){if(!this.activeDevices.video){this.logger.warn("cannot bind video preview since video input device has not been chosen"),this.trace("startVideoPreviewForVideoInput",A.id);return}e.default.connectVideoStreamToVideoElement(this.chosenVideoTransformDevice?this.chosenVideoTransformDevice.outputMediaStream:this.activeDevices.video.stream,A,!0),this.trace("startVideoPreviewForVideoInput",A.id)}stopVideoPreviewForVideoInput(A){e.default.disconnectVideoStreamFromVideoElement(A,!1),this.trace("stopVideoPreviewForVideoInput",A.id)}setDeviceLabelTrigger(A){if(this.deviceInfoCache){for(const D of this.deviceInfoCache)if(!D.label){this.deviceInfoCache=null;break}}this.deviceLabelTrigger=A,this.trace("setDeviceLabelTrigger")}mixIntoAudioInput(A){let D=null;return this.useWebAudio?(D=Ni.getAudioContext().createMediaStreamSource(A),D.connect(this.getMediaStreamOutputNode())):this.logger.warn("WebAudio is not enabled, mixIntoAudioInput will not work"),this.trace("mixIntoAudioInput",A.id),D}chooseVideoInputQuality(A,D,$){const O=this.browserBehavior.requiresResolutionAlignment(A,D);this.videoInputQualitySettings=new I.default(O[0],O[1],$)}getVideoInputQualitySettings(){return this.videoInputQualitySettings}acquireAudioInputStream(){return S(this,void 0,void 0,function*(){return this.activeDevices.audio||(this.logger.info("No audio device chosen, creating empty audio device"),yield this.startAudioInput(null)),this.useWebAudio?this.getMediaStreamDestinationNode().stream:this.activeDevices.audio.stream})}acquireVideoInputStream(){return S(this,void 0,void 0,function*(){if(!this.activeDevices.video)throw new Error("No video device chosen");return this.chosenVideoInputIsTransformDevice()?this.chosenVideoTransformDevice.outputMediaStream:this.activeDevices.video.stream})}acquireDisplayInputStream(A){return S(this,void 0,void 0,function*(){throw new Error("unsupported")})}releaseAudioTransformStream(){this.logger.info("Stopping audio track for Web Audio graph"),this.stopTracksAndRemoveCallbacks("audio"),this.logger.info("Removing audio transform, if there is one."),this.removeTransform(),this.audioInputSourceNode&&(this.audioInputSourceNode.disconnect(),this.audioInputSourceNode=void 0),this.audioInputDestinationNode&&(this.audioInputDestinationNode.disconnect(),this.audioInputDestinationNode=void 0)}releaseVideoTransformStream(){this.logger.info("Stopping video track for transform"),this.stopTracksAndRemoveCallbacks("video"),this.logger.info("Disconnecting video transform"),this.chosenVideoTransformDevice.onOutputStreamDisconnect(),this.chosenVideoTransformDevice=null}stopTracksAndRemoveCallbacks(A){const D=this.activeDevices[A];if(!D)return;const $=D.endedCallback,O=D.trackMuteCallback,P=D.trackUnmuteCallback;for(const k of D.stream.getTracks())k.stop(),$&&k.removeEventListener("ended",$),O&&k.removeEventListener("mute",O),P&&k.removeEventListener("unmute",P),delete D.endedCallback,delete D.trackMuteCallback,delete D.trackUnmuteCallback,delete this.activeDevices[A]}chosenVideoInputIsTransformDevice(){return!!this.chosenVideoTransformDevice}muteLocalAudioInputStream(){this.toggleLocalAudioInputStream(!1)}unmuteLocalAudioInputStream(){this.toggleLocalAudioInputStream(!0)}toggleLocalAudioInputStream(A){var D;let $=this.activeDevices.audio;if(this.useWebAudio&&($=this.getMediaStreamDestinationNode()),!!$){for(const O of $.stream.getTracks())O.enabled!==A&&(O.enabled=A);this.muted!==!A&&(this.muted=!A,(D=this.transform)===null||D===void 0||D.device.mute(this.muted))}}static getIntrinsicDeviceId(A){if(!A)return;if(typeof A=="string")return A;if(A.id)return A.id;const $=A.deviceId;if(!$)return;if(typeof $=="string"||Array.isArray($))return $;const O=$;if(typeof O.exact=="string"||Array.isArray(O.exact))return O.exact}static createEmptyAudioDevice(){return Ni.synthesizeAudioDevice(0)}static synthesizeAudioDevice(A){const D=Ni.getAudioContext(),$=D.createMediaStreamDestination();if(A){const O=D.createGain();O.gain.value=.1,O.connect($);const P=D.createOscillator();P.frequency.value=A,P.connect(O),P.start()}else{const O=D.createBufferSource();try{O.buffer=D.createBuffer(1,D.sampleRate*5,D.sampleRate)}catch(P){if(P&&P.name==="NotSupportedError")O.buffer=D.createBuffer(1,Ni.defaultSampleRate*5,Ni.defaultSampleRate);else throw P}O.buffer.getChannelData(0)[0]=3e-4,O.loop=!0,O.connect($),O.start()}return $.stream}listDevicesOfKind(A,D){return S(this,void 0,void 0,function*(){return(D||this.deviceInfoCache===null||!this.isWatchingForDeviceChanges())&&(yield this.updateDeviceInfoCacheFromBrowser()),this.listCachedDevicesOfKind(A)})}updateDeviceInfoCacheFromBrowser(){var A,D;return S(this,void 0,void 0,function*(){if(typeof MediaDeviceInfo>"u"){this.deviceInfoCache=[];return}let O=yield navigator.mediaDevices.enumerateDevices(),P=!0;for(const k of O)if(!k.label){P=!1;break}if(!P)try{this.logger.info("attempting to trigger media device labels since they are hidden");const k=yield this.deviceLabelTrigger();O=yield navigator.mediaDevices.enumerateDevices();for(const K of k.getTracks())K.stop()}catch(k){this.logger.info("unable to get media device labels"),(A=this.eventController)===null||A===void 0||A.publishEvent("audioInputFailed",{audioInputErrorMessage:this.getErrorMessage(k)}),(D=this.eventController)===null||D===void 0||D.publishEvent("videoInputFailed",{videoInputErrorMessage:this.getErrorMessage(k)})}this.logger.debug(`Update device info cache with devices: ${JSON.stringify(O)}`),this.deviceInfoCache=O})}listCachedDevicesOfKind(A){const D=[];if(this.deviceInfoCache)for(const $ of this.deviceInfoCache)$.kind===A&&D.push($);return D}handleDeviceChange(){return S(this,void 0,void 0,function*(){if(this.deviceInfoCache===null)return;if(this.alreadyHandlingDeviceChange){f.default.nextTick(()=>{this.handleDeviceChange()});return}this.alreadyHandlingDeviceChange=!0;const A=this.listCachedDevicesOfKind("audioinput"),D=this.listCachedDevicesOfKind("videoinput"),$=this.listCachedDevicesOfKind("audiooutput");yield this.updateDeviceInfoCacheFromBrowser();const O=this.listCachedDevicesOfKind("audioinput"),P=this.listCachedDevicesOfKind("videoinput"),k=this.listCachedDevicesOfKind("audiooutput");this.forEachObserver(K=>{this.areDeviceListsEqual(A,O)||n.Maybe.of(K.audioInputsChanged).map(Z=>Z.bind(K)(O)),this.areDeviceListsEqual(D,P)||n.Maybe.of(K.videoInputsChanged).map(Z=>Z.bind(K)(P)),this.areDeviceListsEqual($,k)||n.Maybe.of(K.audioOutputsChanged).map(Z=>Z.bind(K)(k))}),this.alreadyHandlingDeviceChange=!1})}handleDeviceStreamEnded(A,D){return S(this,void 0,void 0,function*(){try{A==="audio"?(this.logger.warn("Audio input device which was active is no longer available, resetting to null device"),yield this.startAudioInput(null)):(this.logger.warn("Video input device which was active is no longer available, stopping video"),yield this.stopVideoInput())}catch{this.logger.error("Failed to choose null device after stream ended.")}A==="audio"?this.forEachObserver($=>{n.Maybe.of($.audioInputStreamEnded).map(O=>O.bind($)(D))}):this.forEachObserver($=>{n.Maybe.of($.videoInputStreamEnded).map(O=>O.bind($)(D))})})}forEachObserver(A){for(const D of this.deviceChangeObservers)f.default.nextTick(()=>{this.deviceChangeObservers.has(D)&&A(D)})}forEachMediaStreamBrokerObserver(A){for(const D of this.mediaStreamBrokerObservers)A(D)}areDeviceListsEqual(A,D){return JSON.stringify(A.map($=>JSON.stringify($)).sort())===JSON.stringify(D.map($=>JSON.stringify($)).sort())}intrinsicDeviceAsMediaStream(A){return A&&A.id?A:null}hasSameMediaStreamId(A,D,$){var O,P,k,K;let Z;return A==="audio"?(Z=$==null?void 0:$.audio.streamId,!!Z&&Z===((P=(O=D.constraints)===null||O===void 0?void 0:O.audio)===null||P===void 0?void 0:P.streamId)):(Z=$==null?void 0:$.video.streamId,!!Z&&Z===((K=(k=D==null?void 0:D.constraints)===null||k===void 0?void 0:k.video)===null||K===void 0?void 0:K.streamId))}hasSameGroupId(A,D,$){if(A==="")return!0;const O=Ni.getIntrinsicDeviceId($);return this.logger.debug(`Checking deviceIds ${O} of type ${typeof O} with groupId ${A}`),typeof O=="string"&&A===this.getGroupIdFromDeviceId(D,O)}getGroupIdFromDeviceId(A,D){if(this.deviceInfoCache!==null){const $=this.listCachedDevicesOfKind(`${A}input`).find(O=>O.deviceId===D);if($&&$.groupId)return this.logger.debug(`GroupId of deviceId ${D} found in cache is ${$.groupId}`),$.groupId}return this.logger.debug(`GroupId of deviceId ${D} found in cache is empty`),""}handleGetUserMediaError(A,D){if(!A)throw new l.default(A);switch(A.name){case"NotReadableError":case"TrackStartError":throw new v.default(A);case"NotFoundError":case"DevicesNotFoundError":throw new p.default(A);case"NotAllowedError":case"PermissionDeniedError":case"SecurityError":throw D&&D<Ni.permissionDeniedOriginDetectionThresholdMs?new u.default(A,"Permission denied by browser"):new u.default(A,"Permission denied by user");case"OverconstrainedError":case"ConstraintNotSatisfiedError":throw new g.default(A);case"TypeError":throw new s.default(A);case"AbortError":default:throw new l.default(A)}}matchesDeviceSelection(A,D,$,O){return $&&$.stream.active&&(this.hasSameMediaStreamId(A,$,O)||$.groupId!==null&&this.hasSameGroupId($.groupId,A,D))?(this.logger.debug(`Compare current device constraint ${JSON.stringify($.constraints)} to proposed constraints ${JSON.stringify(O)}`),$.matchesConstraints(O)):!1}chooseInputIntrinsicDevice(A,D){var $,O;return S(this,void 0,void 0,function*(){const P=this.getMediaStreamConstraints(A,D);if(this.matchesDeviceSelection(A,D,this.activeDevices[A],P)){this.logger.info(`reusing existing ${A} input device`);return}this.activeDevices[A]&&this.activeDevices[A].stream&&this.stopTracksAndRemoveCallbacks(A);const k=Date.now(),K=new r.default;try{this.logger.info(`requesting new ${A} device with constraint ${JSON.stringify(P)}`);const Z=this.intrinsicDeviceAsMediaStream(D);A==="audio"&&D===null?(K.stream=Ni.createEmptyAudioDevice(),K.constraints=null):Z?(this.logger.info(`using media stream ${Z.id} for ${A} device`),K.stream=Z,K.constraints=P):(K.stream=yield navigator.mediaDevices.getUserMedia(P),K.constraints=P),yield this.handleNewInputDevice(A,K)}catch(Z){const Y=this.getErrorMessage(Z);A==="audio"?($=this.eventController)===null||$===void 0||$.publishEvent("audioInputFailed",{audioInputErrorMessage:Y}):(O=this.eventController)===null||O===void 0||O.publishEvent("videoInputFailed",{videoInputErrorMessage:Y}),this.logger.error(`failed to get ${A} device for constraints ${JSON.stringify(P)}: ${Y}`);let ie=!0;if(Z&&"constraint"in Z&&(this.logger.error(`Over-constrained by constraint: ${Z.constraint}`),this.useMediaConstraintsFallback)){const ge=this.getMediaStreamConstraints(A,D,!0),Ie=JSON.stringify(ge);if(Ie!==JSON.stringify(P)){this.logger.info(`retry requesting new ${A} device with minimal constraint ${Ie}`);try{K.stream=yield navigator.mediaDevices.getUserMedia(ge),K.constraints=ge,yield this.handleNewInputDevice(A,K),ie=!1}catch(le){this.logger.error(`failed to get ${A} device for constraints ${Ie}: ${this.getErrorMessage(le)}`)}}}if(ie){if(A==="audio"){this.logger.info(`choosing null ${A} device instead`);try{K.stream=Ni.createEmptyAudioDevice(),K.constraints=null,yield this.handleNewInputDevice(A,K)}catch(ge){this.logger.error(`failed to choose null ${A} device. ${ge.name}: ${ge.message}`)}}this.handleGetUserMediaError(Z,Date.now()-k)}}finally{this.watchForDeviceChangesIfNecessary()}})}getErrorMessage(A){return A?A.name&&A.message?`${A.name}: ${A.message}`:A.name?A.name:A.message?A.message:"UnknownError":"UnknownError"}handleNewInputDevice(A,D){var $;return S(this,void 0,void 0,function*(){this.logger.info(`got ${A} device for constraints ${JSON.stringify(D.constraints)}`);const O=($=this.getMediaTrackSettings(D.stream))===null||$===void 0?void 0:$.deviceId;D.groupId=O?this.getGroupIdFromDeviceId(A,O):"",this.activeDevices[A]=D,this.logger.debug(`Set activeDevice to ${JSON.stringify(D)}`),this.watchForDeviceChangesIfNecessary();const P=D.stream.getTracks()[0];if(P&&(D.endedCallback=()=>{this.activeDevices[A]&&this.activeDevices[A].stream===D.stream&&(this.handleDeviceStreamEnded(A,O),delete D.endedCallback)},P.addEventListener("ended",D.endedCallback,{once:!0})),A==="audio"){const k=D.stream.getAudioTracks()[0];if(k){const K=k.getSettings().deviceId||D.stream;D.trackMuteCallback=()=>{this.mediaStreamMuteObserver(K,!0)},D.trackUnmuteCallback=()=>{this.mediaStreamMuteObserver(K,!1)},k.addEventListener("mute",D.trackMuteCallback,{once:!1}),k.addEventListener("unmute",D.trackUnmuteCallback,{once:!1}),this.logger.debug("Notifying mute state after selection"),k.muted?D.trackMuteCallback():D.trackUnmuteCallback()}}})}calculateMediaStreamConstraints(A,D,$,O){if(O&&this.listCachedDevicesOfKind(`${A}input`).length===1)return!0;const P={};return this.browserBehavior.requiresNoExactMediaStreamConstraints()?P.deviceId=D:P.deviceId={exact:D},$&&(P.groupId=$),O?P:A==="video"?(P.width={ideal:this.videoInputQualitySettings.videoWidth},P.height={ideal:this.videoInputQualitySettings.videoHeight},P.frameRate={ideal:this.videoInputQualitySettings.videoFrameRate},P):(this.supportSampleRateConstraint()&&(P.sampleRate={ideal:Ni.defaultSampleRate}),this.supportSampleSizeConstraint()&&(P.sampleSize={ideal:Ni.defaultSampleSize}),this.supportChannelCountConstraint()&&(P.channelCount={ideal:Ni.defaultChannelCount}),Object.assign({echoCancellation:!0,googEchoCancellation:!0,googEchoCancellation2:!0,googAutoGainControl:!0,googAutoGainControl2:!0,googNoiseSuppression:!0,googNoiseSuppression2:!0,googHighpassFilter:!0},P))}getMediaStreamConstraintsFromTrackConstraints(A,D){return A==="audio"?{audio:D}:{video:D}}getMediaStreamConstraints(A,D){let $=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,O={};if(!D)return null;const P=this.intrinsicDeviceAsMediaStream(D);if(P)return O.streamId=P.id,this.getMediaStreamConstraintsFromTrackConstraints(A,O);if(typeof D=="string"){let k="";return this.browserBehavior.requiresGroupIdMediaStreamConstraints()&&(this.deviceInfoCache!==null?k=this.getGroupIdFromDeviceId(A,D):this.logger.error("Device cache is not populated. Please make sure to call list devices first")),O=this.calculateMediaStreamConstraints(A,D,k,$),this.getMediaStreamConstraintsFromTrackConstraints(A,O)}return B(D)?(O=this.calculateMediaStreamConstraints(A,D.deviceId,D.groupId,$),this.getMediaStreamConstraintsFromTrackConstraints(A,O)):(O=D,this.getMediaStreamConstraintsFromTrackConstraints(A,O))}deviceInfoFromDeviceId(A,D){if(this.deviceInfoCache===null)return null;for(const $ of this.deviceInfoCache)if($.kind===A&&$.deviceId===D)return $;return null}hasAppliedTransform(){return!!this.transform}isMediaStreamReusableByDeviceId(A,D){if(!A||!A.active||!D)return!1;if(D.id)return A.id===D.id;const $=this.getMediaTrackSettings(A);if(!$.deviceId)return!1;const O=Ni.getIntrinsicDeviceId(D);return typeof O=="string"?$.deviceId===O:!1}getMediaTrackSettings(A){var D;return(D=A.getTracks()[0])===null||D===void 0?void 0:D.getSettings()}reconnectAudioInputs(){if(!this.audioInputSourceNode)return;this.audioInputSourceNode.disconnect();const A=this.getMediaStreamOutputNode();this.audioInputSourceNode.connect(A)}setTransform(A,D){var $,O;(O=($=this.transform)===null||$===void 0?void 0:$.nodes)===null||O===void 0||O.end.disconnect(),this.transform={nodes:D,device:A};const P=D==null?void 0:D.end,k=this.getMediaStreamDestinationNode();this.logger.debug(`Connecting transform node ${P} to destination ${k}.`),P==null||P.connect(k),this.reconnectAudioInputs()}removeTransform(){var A;const D=this.transform;if(D)return(A=this.transform.nodes)===null||A===void 0||A.end.disconnect(),this.transform=void 0,this.reconnectAudioInputs(),D}attachAudioInputStreamToAudioContext(A){var D;(D=this.audioInputSourceNode)===null||D===void 0||D.disconnect(),this.audioInputSourceNode=Ni.getAudioContext().createMediaStreamSource(A);const $=this.getMediaStreamOutputNode();this.audioInputSourceNode.connect($)}getMediaStreamDestinationNode(){return this.audioInputDestinationNode||(this.audioInputDestinationNode=Ni.getAudioContext().createMediaStreamDestination()),this.audioInputDestinationNode}getMediaStreamOutputNode(){var A,D;return((D=(A=this.transform)===null||A===void 0?void 0:A.nodes)===null||D===void 0?void 0:D.start)||this.getMediaStreamDestinationNode()}static setDefaultLatencyHint(A){Ni.defaultLatencyHint=A}static getAudioContext(){if(!Ni.audioContext){const A={};navigator.mediaDevices.getSupportedConstraints().sampleRate&&(A.sampleRate=Ni.defaultSampleRate),new h.default().requiresPlaybackLatencyHintForAudioContext()&&(A.latencyHint="playback"),Ni.defaultLatencyHint&&(A.latencyHint=Ni.defaultLatencyHint),Ni.audioContext=new(window.AudioContext||window.webkitAudioContext)(A)}return Ni.audioContext}static closeAudioContext(){if(Ni.audioContext)try{Ni.audioContext.close()}catch{}Ni.audioContext=null}addMediaStreamBrokerObserver(A){this.mediaStreamBrokerObservers.add(A)}removeMediaStreamBrokerObserver(A){this.mediaStreamBrokerObservers.delete(A)}publishVideoInputDidChangeEvent(A){this.forEachMediaStreamBrokerObserver(D=>{D.videoInputDidChange&&D.videoInputDidChange(A)}),this.pushVideoMeetingStateForPermissions(A)}publishAudioInputDidChangeEvent(A){this.forEachMediaStreamBrokerObserver(D=>{D.audioInputDidChange&&D.audioInputDidChange(A)}),this.pushAudioMeetingStateForPermissions(A)}publishAudioOutputDidChangeEvent(A){this.forEachMediaStreamBrokerObserver(D=>{D.audioOutputDidChange&&D.audioOutputDidChange(A)})}supportSampleRateConstraint(){return this.useWebAudio&&!!navigator.mediaDevices.getSupportedConstraints().sampleRate}supportSampleSizeConstraint(){return this.useWebAudio&&!!navigator.mediaDevices.getSupportedConstraints().sampleSize}supportChannelCountConstraint(){return this.useWebAudio&&!!navigator.mediaDevices.getSupportedConstraints().channelCount}trace(A,D,$){let O=`API/DefaultDeviceController/${A}`;typeof D<"u"&&(O+=` ${JSON.stringify(D)}`),typeof $<"u"&&(O+=` -> ${JSON.stringify($)}`),this.logger.info(O)}constructor(A,D,$=new h.default,O){this.logger=A,this.browserBehavior=$,this.eventController=O,this.deviceInfoCache=null,this.activeDevices={audio:null,video:null},this.chosenVideoTransformDevice=null,this.audioOutputDeviceId=void 0,this.deviceChangeObservers=new Set,this.mediaStreamBrokerObservers=new Set,this.deviceLabelTrigger=()=>navigator.mediaDevices.getUserMedia({audio:!0,video:!0}),this.audioInputDestinationNode=null,this.audioInputSourceNode=null,this.videoInputQualitySettings=null,this.useWebAudio=!1,this.useMediaConstraintsFallback=!0,this.audioInputTaskQueue=new a.default,this.videoInputTaskQueue=new a.default,this.muted=!1,this.mediaStreamMuteObserver=(Z,Y)=>{for(const ie of this.deviceChangeObservers)f.default.nextTick(()=>{this.deviceChangeObservers.has(ie)&&ie.audioInputMuteStateChanged&&ie.audioInputMuteStateChanged(Z,Y)})},this.alreadyHandlingDeviceChange=!1;const{enableWebAudio:P=!1,useMediaConstraintsFallback:k=!0}=D||{};this.useWebAudio=P,this.useMediaConstraintsFallback=k,this.videoInputQualitySettings=new I.default(Ni.defaultVideoWidth,Ni.defaultVideoHeight,Ni.defaultVideoFrameRate);const K=this.browserBehavior.requiresResolutionAlignment(this.videoInputQualitySettings.videoWidth,this.videoInputQualitySettings.videoHeight);this.videoInputQualitySettings.videoWidth=K[0],this.videoInputQualitySettings.videoHeight=K[1],this.logger.info(`DefaultDeviceController video dimension ${this.videoInputQualitySettings.videoWidth} x ${this.videoInputQualitySettings.videoHeight}`);try{this.mediaDeviceWrapper=new m.default().create();const Z=navigator.mediaDevices.getSupportedConstraints();this.logger.info(`Supported Constraints in this browser ${JSON.stringify(Z)}`)}catch(Z){A.error(Z.message)}}},"DefaultDeviceController");c.default=R,R.permissionDeniedOriginDetectionThresholdMs=500,R.defaultVideoWidth=960,R.defaultVideoHeight=540,R.defaultVideoFrameRate=15,R.defaultSampleRate=48e3,R.defaultSampleSize=16,R.defaultChannelCount=1,R.audioContext=null;function B(j){return typeof j=="object"&&"deviceId"in j&&"groupId"in j&&"kind"in j&&"label"in j}o(B,"isMediaDeviceInfo")},ZzQ1:function(N,c,d){"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.uint32ArrayFrom=void 0;function S(h){if(!Uint32Array.from){for(var m=new Uint32Array(h.length),f=0;f<h.length;)m[f]=h[f],f+=1;return m}return Uint32Array.from(h)}o(S,"uint32ArrayFrom"),c.uint32ArrayFrom=S},"a16/":function(N,c,d){"use strict";Object.defineProperty(c,"__esModule",{value:!0});let S=o(class{toJSON(){return{attendeeId:this.attendeeId,joinToken:this.joinToken===null?null:"<redacted>"}}constructor(){this.attendeeId=null,this.externalUserId=null,this.joinToken=null}},"MeetingSessionCredentials");c.default=S},a6MJ:function(N,c,d){"use strict";var S=this&&this.__awaiter||function(li,Ee,Pe,Fe){function Dt(zt){return zt instanceof Pe?zt:new Pe(function(Ut){Ut(zt)})}return o(Dt,"adopt"),new(Pe||(Pe=Promise))(function(zt,Ut){function bn(xt){try{pn(Fe.next(xt))}catch(Vn){Ut(Vn)}}o(bn,"fulfilled");function wn(xt){try{pn(Fe.throw(xt))}catch(Vn){Ut(Vn)}}o(wn,"rejected");function pn(xt){xt.done?zt(xt.value):Dt(xt.value).then(bn,wn)}o(pn,"step"),pn((Fe=Fe.apply(li,Ee||[])).next())})};Object.defineProperty(c,"__esModule",{value:!0});const h=d("HAqy"),m=d("kUL9"),f=d("f3u9"),a=d("U9CR"),n=d("rhlI"),i=d("da6e"),e=d("aZba"),t=d("papz"),r=d("ZS2b"),l=d("ppUg"),p=d("igcJ"),v=d("iRMv"),g=d("F7zz"),u=d("on9F"),s=d("K5tc"),I=d("AXyi"),M=d("Q2ix"),R=d("HG8V"),B=d("HbHZ"),j=d("bQ+R"),A=d("XCDq"),D=d("YbMW"),$=d("nDuE"),O=d("7EAL"),P=d("wjYw"),k=d("7UVU"),K=d("lFzH"),Z=d("tMH2"),Y=d("Wdtm"),ie=d("2vi8"),ge=d("3taG"),Ie=d("Hi4k"),le=d("uB5g"),we=d("W+eo"),Be=d("hspq"),Re=d("rkwE"),Ne=d("uQRK"),_e=d("fxRI"),Ze=d("rw3l"),tt=d("D7wJ"),$e=d("K+bq"),at=d("XzFx"),lt=d("fZkv"),ot=d("ZISg"),Gt=d("iQPr"),Zt=d("xeHQ"),un=d("ZdbB"),Un=d("wQGL"),jn=d("VYs+"),ci=d("XJKy"),fn=d("Aplu"),ri=d("Biyp"),gi=d("uTAD"),Nn=d("rCkh"),Ti=d("MpTp"),Bi=d("0LIx"),vn=d("LIUS"),Mn=d("yS4C"),Ot=d("Wnnr"),Ke=d("BGMr"),gt=d("P7Xm"),ht=d("kabN"),en=d("1uai");let Kn=o(class Fd{destroy(){return S(this,void 0,void 0,function*(){this.observerQueue.clear(),this._mediaStreamBroker.removeMediaStreamBrokerObserver(this._audioMixController),this.destroyed=!0})}get configuration(){return this._configuration}get realtimeController(){return this._realtimeController}get activeSpeakerDetector(){return this._activeSpeakerDetector||(this._activeSpeakerDetector=new h.default(this._realtimeController,this._configuration.credentials.attendeeId,this.handleHasBandwidthPriority.bind(this))),this._activeSpeakerDetector}get videoTileController(){return this._videoTileController}get audioMixController(){return this._audioMixController}get logger(){return this._logger}get rtcPeerConnection(){return this.meetingSessionContext&&this.meetingSessionContext.peer||null}get mediaStreamBroker(){return this._mediaStreamBroker}get eventController(){return this._eventController}getRTCPeerConnectionStats(Ee){return this.hasGetRTCPeerConnectionStatsDeprecationMessageBeenSent||(this.logger.warn("The `getRTCPeerConnectionStats()` is on its way to be deprecated. It makes an additional call to the `getStats` API and therefore may cause slight performance degradation. Please use the new API `clientMetricReport.getRTCStatsReport()` returned by `metricsDidReceive(clientMetricReport)` callback instead."),this.hasGetRTCPeerConnectionStatsDeprecationMessageBeenSent=!0),this.rtcPeerConnection?this.rtcPeerConnection.getStats(Ee):null}setAudioProfile(Ee){this._audioProfile=Ee}addObserver(Ee){this.logger.info("adding meeting observer"),this.observerQueue.add(Ee)}removeObserver(Ee){this.logger.info("removing meeting observer"),this.observerQueue.delete(Ee)}forEachObserver(Ee){for(const Pe of this.observerQueue)g.default.nextTick(()=>{this.observerQueue.has(Pe)&&Ee(Pe)})}initSignalingClient(){this.connectionHealthData.reset(),!this.meetingSessionContext.signalingClient&&(this.meetingSessionContext=new en.default,this.meetingSessionContext.logger=this.logger,this.meetingSessionContext.eventController=this.eventController,this.meetingSessionContext.browserBehavior=new a.default,this.meetingSessionContext.videoSendCodecPreferences=this.videoSendCodecPreferences,this.meetingSessionContext.meetingSessionConfiguration=this.configuration,this.meetingSessionContext.signalingClient=new R.default(this._webSocketAdapter,this.logger))}uninstallPreStartObserver(){this.meetingSessionContext.signalingClient.removeObserver(this.preStartObserver),this.preStartObserver=void 0}prestart(){return this.logger.info("Pre-connecting signaling connection."),this.createOrReuseSignalingTask().run().then(()=>{const Ee=o(()=>S(this,void 0,void 0,function*(){this.logger.info("Early connection closed; discarding signaling task."),this.signalingTask=void 0,this.uninstallPreStartObserver()}),"handleClosed");this.preStartObserver={handleSignalingClientEvent(Pe){Pe.type===B.default.WebSocketClosed&&Ee()}},this.meetingSessionContext.signalingClient.registerObserver(this.preStartObserver)}).catch(Ee=>{this.logger.error(`Signaling task pre-start failed: ${Ee}`),this.signalingTask=void 0})}start(Ee){this.startReturningPromise(Ee).then(()=>{this.logger.info("start completed")}).catch(Pe=>{this.logger.error(`start failed: ${Pe}`)})}startReturningPromise(Ee){return(Ee==null?void 0:Ee.signalingOnly)===!0?this.prestart():(this.activeSpeakerDetector,new Promise((Pe,Fe)=>{this.sessionStateController.perform(s.default.Connect,()=>{this.actionConnect(!1).then(Pe).catch(Fe)})}))}connectWithPromises(Ee){const Pe=this.meetingSessionContext,Fe=o((Xn,vi)=>new Gt.default(this.logger,vi,Xn),"timeout");this.monitorTask=new Ie.default(Pe,this.configuration.connectionHealthPolicyConfiguration,this.connectionHealthData);const Dt=this.monitorTask.once(),zt=new Re.default(Pe).once();this.receiveIndexTask=new Ze.default(Pe),this.monitorTask.pauseResubscribeCheck(),this.receiveIndexTask.pauseIngestion();const Ut=new $e.default(this.logger,"Signaling",[this.createOrReuseSignalingTask(),new ge.default(Pe),new tt.default(Pe),new Y.default(Pe),new Ne.default(Pe),this.receiveIndexTask]).once(),bn=new k.default(Pe).once(Ut),wn=new $.default(Pe).once(bn,zt),pn=new K.default(Pe).once(wn),xt=new at.default(Pe).once(pn),Vn=new Z.default(Pe).once(xt),on=new ot.default(Pe).once(Vn);return new $e.default(this.logger,this.wrapTaskName("AudioVideoStart"),[Dt,Fe(this.configuration.connectionTimeoutMs,new $e.default(this.logger,"Peer",[on,Ee?new Gt.default(this.logger,new we.default(this.logger,"FinalizeConnection",[new Zt.default(Pe),new lt.default(Pe)]),this.meetingSessionContext.meetingSessionConfiguration.attendeePresenceTimeoutMs):new lt.default(Pe)]))])}actionConnect(Ee){var Pe;return S(this,void 0,void 0,function*(){this.initSignalingClient(),this.uninstallPreStartObserver(),this.meetingSessionContext.mediaStreamBroker=this._mediaStreamBroker,this.meetingSessionContext.realtimeController=this._realtimeController,this.meetingSessionContext.audioMixController=this._audioMixController,this.meetingSessionContext.audioVideoController=this,this.enableSimulcast=this.configuration.enableSimulcastForUnifiedPlanChromiumBasedBrowsers&&new a.default().hasChromiumWebRTC();const Fe=!!this.configuration.urls.audioHostURL;if(Fe?this.enableSimulcast?(this.logger.info("Using transceiver controller with simulcast support"),new l.default(this.configuration.credentials.attendeeId).hasModality(l.default.MODALITY_CONTENT)?this.meetingSessionContext.transceiverController=new Un.default(this.logger,this.meetingSessionContext.browserBehavior):this.meetingSessionContext.transceiverController=new jn.default(this.logger,this.meetingSessionContext.browserBehavior)):(this.logger.info("Using default transceiver controller"),this.meetingSessionContext.transceiverController=new un.default(this.logger,this.meetingSessionContext.browserBehavior)):(this.logger.info("Using video only transceiver controller"),this.meetingSessionContext.transceiverController=new ci.default(this.logger,this.meetingSessionContext.browserBehavior)),this.meetingSessionContext.volumeIndicatorAdapter=new ht.default(this.logger,this._realtimeController,Fd.MIN_VOLUME_DECIBELS,Fd.MAX_VOLUME_DECIBELS,this.configuration.credentials.attendeeId),this.meetingSessionContext.videoTileController=this._videoTileController,this.meetingSessionContext.videoDownlinkBandwidthPolicy=this.configuration.videoDownlinkBandwidthPolicy,this.meetingSessionContext.videoUplinkBandwidthPolicy=this.configuration.videoUplinkBandwidthPolicy,this.meetingSessionContext.enableSimulcast=this.enableSimulcast,this.enableSimulcast){let Ut=this.meetingSessionContext.videoUplinkBandwidthPolicy;Ut||(Ut=new Ke.default(this.configuration.credentials.attendeeId,this.meetingSessionContext.logger),this.meetingSessionContext.videoUplinkBandwidthPolicy=Ut),Ut.addObserver(this),this.meetingSessionContext.videoDownlinkBandwidthPolicy||(this.meetingSessionContext.videoDownlinkBandwidthPolicy=new Nn.default(this.meetingSessionContext.logger)),this.meetingSessionContext.videoStreamIndex=new vn.default(this.logger)}else this.meetingSessionContext.enableSimulcast=!1,this.meetingSessionContext.videoStreamIndex=new Bi.default(this.logger),this.meetingSessionContext.videoUplinkBandwidthPolicy||(this.meetingSessionContext.videoUplinkBandwidthPolicy=new gt.default(this.configuration.credentials.attendeeId,!this.meetingSessionContext.browserBehavior.disableResolutionScaleDown(),this.meetingSessionContext.logger,this.meetingSessionContext.browserBehavior)),this.meetingSessionContext.videoDownlinkBandwidthPolicy||(this.meetingSessionContext.videoDownlinkBandwidthPolicy=new gi.default(this.configuration.credentials.attendeeId)),this.meetingSessionContext.videoUplinkBandwidthPolicy.setTransceiverController&&this.meetingSessionContext.videoUplinkBandwidthPolicy.updateTransceiverController&&(this.useUpdateTransceiverControllerForUplink=!0,this.meetingSessionContext.videoUplinkBandwidthPolicy.setTransceiverController(this.meetingSessionContext.transceiverController)),this.meetingSessionContext.audioProfile=this._audioProfile;this.meetingSessionContext.videoUplinkBandwidthPolicy&&this.maxUplinkBandwidthKbps&&this.meetingSessionContext.videoUplinkBandwidthPolicy.setIdealMaxBandwidthKbps(this.maxUplinkBandwidthKbps),this.meetingSessionContext.videoDownlinkBandwidthPolicy.bindToTileController&&this.meetingSessionContext.videoDownlinkBandwidthPolicy.bindToTileController(this._videoTileController),this.meetingSessionContext.lastKnownVideoAvailability=new r.default,this.meetingSessionContext.videoCaptureAndEncodeParameter=new ri.default(0,0,0,0,!1),this.meetingSessionContext.videosToReceive=new Ti.default,this.meetingSessionContext.videosPaused=new Ti.default,this.meetingSessionContext.statsCollector=new D.default(this,this.logger),this.meetingSessionContext.connectionMonitor=new i.default(this,this._realtimeController,this.connectionHealthData,new p.default(this.meetingSessionContext.signalingClient,Fd.PING_PONG_INTERVAL_MS,this.logger),this.meetingSessionContext.statsCollector),this.meetingSessionContext.reconnectController=this._reconnectController,this.meetingSessionContext.videoDeviceInformation={},Ee||(this.totalRetryCount=0,this._reconnectController.reset(),this.startAudioVideoTimestamp=Date.now(),this.forEachObserver(Ut=>{fn.Maybe.of(Ut.audioVideoDidStartConnecting).map(bn=>bn.bind(Ut)(!1))}),(Pe=this.eventController)===null||Pe===void 0||Pe.publishEvent("meetingStartRequested")),this.meetingSessionContext.startAudioVideoTimestamp=this.startAudioVideoTimestamp,this._reconnectController.hasStartedConnectionAttempt()?this._reconnectController.startedConnectionAttempt(!1):this._reconnectController.startedConnectionAttempt(!0);const Dt=Fe&&this.meetingSessionContext.meetingSessionConfiguration.attendeePresenceTimeoutMs>0;this.logger.info("Needs to wait for attendee presence? "+Dt);const zt=this.connectWithPromises(Dt);try{yield zt.run(),this.connectionHealthData.setConnectionStartTime(),this._mediaStreamBroker.addMediaStreamBrokerObserver(this),this.sessionStateController.perform(s.default.FinishConnecting,()=>{this.eventController&&(this.meetingSessionContext.meetingStartDurationMs=Date.now()-this.startAudioVideoTimestamp,this.eventController.publishEvent("meetingStartSucceeded",{maxVideoTileCount:this.meetingSessionContext.maxVideoTileCount,poorConnectionCount:this.meetingSessionContext.poorConnectionCount,retryCount:this.totalRetryCount,signalingOpenDurationMs:this.meetingSessionContext.signalingOpenDurationMs,iceGatheringDurationMs:this.meetingSessionContext.iceGatheringDurationMs,meetingStartDurationMs:this.meetingSessionContext.meetingStartDurationMs})),this.meetingSessionContext.startTimeMs=Date.now(),this.actionFinishConnecting()})}catch(Ut){this.signalingTask=void 0;const bn=new e.default(this.getMeetingStatusCode(Ut)||t.default.TaskFailed);if(this.logger.info(`Start failed: ${bn} due to error ${Ut}.`),this.sessionStateController.state()===I.default.NotConnected){this.logger.info("Start failed and not connected. Not cleaning up.");return}this.sessionStateController.perform(s.default.Fail,()=>S(this,void 0,void 0,function*(){yield this.actionDisconnect(bn,!0,Ut),this.handleMeetingSessionStatus(bn,Ut)||this.notifyStop(bn,Ut)}))}})}createOrReuseSignalingTask(){return this.signalingTask||(this.initSignalingClient(),this.signalingTask=new Gt.default(this.logger,new le.default(this.meetingSessionContext),this.configuration.connectionTimeoutMs).once()),this.signalingTask}actionFinishConnecting(){this.signalingTask=void 0,this.meetingSessionContext.videoDuplexMode=A.SdkStreamServiceType.RX,this.meetingSessionContext.enableSimulcast||(this.useUpdateTransceiverControllerForUplink?this.meetingSessionContext.videoUplinkBandwidthPolicy.updateTransceiverController():this.enforceBandwidthLimitationForSender(this.meetingSessionContext.videoCaptureAndEncodeParameter.encodeBitrates()[0])),this.forEachObserver(Ee=>{fn.Maybe.of(Ee.audioVideoDidStart).map(Pe=>Pe.bind(Ee)())}),this._reconnectController.reset(),this.receiveIndexTask.resumeIngestion(),this.monitorTask.resumeResubscribeCheck()}stopReturningPromise(){var Ee;return this.sessionStateController.state()===I.default.NotConnected?((Ee=this.meetingSessionContext.signalingClient)===null||Ee===void 0||Ee.closeConnection(),this.cleanUpMediaStreamsAfterStop(),Promise.resolve()):new Promise((Pe,Fe)=>{this.sessionStateController.perform(s.default.Disconnect,()=>{this._reconnectController.disableReconnect(),this.logger.info("attendee left meeting, session will not be reconnected"),this.actionDisconnect(new e.default(t.default.Left),!1,null).then(Pe).catch(Fe)})})}stop(){this.stopReturningPromise()}actionDisconnect(Ee,Pe,Fe){return S(this,void 0,void 0,function*(){try{yield new $e.default(this.logger,this.wrapTaskName("AudioVideoStop"),[new Gt.default(this.logger,new ie.default(this.meetingSessionContext),this.configuration.connectionTimeoutMs)]).run()}catch{this.logger.info("fail to stop")}try{const Dt=[new Gt.default(this.logger,new P.default(this.meetingSessionContext),this.configuration.connectionTimeoutMs)];this.cleanUpMediaStreamsAfterStop(),yield new $e.default(this.logger,this.wrapTaskName("AudioVideoClean"),Dt).run()}catch{this.logger.info("fail to clean")}this.sessionStateController.perform(s.default.FinishDisconnecting,()=>{Pe||this.notifyStop(Ee,Fe)})})}update(){let Pe=(arguments.length>0&&arguments[0]!==void 0?arguments[0]:{needsRenegotiation:!0}).needsRenegotiation;if(Pe||(Pe=this.meetingSessionContext.peer===void 0),Pe||(Pe=!this.updateRemoteVideosFromLastVideosToReceive()),Pe||(Pe=!this.updateLocalVideoFromPolicy()),this.meetingSessionContext.lastVideosToReceive=this.meetingSessionContext.videosToReceive,!Pe)return this.logger.info("Update request does not require resubscribe"),this.actionFinishUpdating(),!0;this.logger.info("Update request requires resubscribe");const Fe=this.sessionStateController.perform(s.default.Update,()=>{this.actionUpdateWithRenegotiation(!0)});return Fe===M.default.Transitioned||Fe===M.default.DeferredTransition}updateRemoteVideosFromLastVideosToReceive(){var Ee,Pe;const Fe=this.meetingSessionContext;if(!((Ee=Fe.videosToReceive)===null||Ee===void 0)&&Ee.empty()||!((Pe=Fe.lastVideosToReceive)===null||Pe===void 0)&&Pe.empty()||!Fe.transceiverController||!Fe.transceiverController.getMidForStreamId||!Fe.transceiverController.setStreamIdForMid||!Fe.videosToReceive.forEach||!Fe.signalingClient.remoteVideoUpdate||!Fe.videoStreamIndex.overrideStreamIdMappings)return!1;let Dt=[];const zt=new Map;let Ut=[];if(Fe.lastVideosToReceive===null)Dt=Fe.videosToReceive.array();else{const wn=Fe.videoStreamIndex;Fe.videosToReceive.forEach(pn=>{if(Fe.lastVideosToReceive.contain(pn))return;let xt=!1;Fe.lastVideosToReceive.forEach(Vn=>{xt||wn.StreamIdsInSameGroup(Vn,pn)&&(zt.set(Vn,pn),xt=!0)}),xt||Dt.push(pn)}),Ut=Fe.lastVideosToReceive.array().filter(pn=>{const xt=Fe.videosToReceive.contain(pn),Vn=zt.has(pn);return!xt&&!Vn})}this.logger.info(`Request to update remote videos with added: ${Dt}, updated: ${[...zt.entries()]}, removed: ${Ut}`);const bn=[];for(const[wn,pn]of zt.entries()){const xt=new j.default;if(xt.streamId=pn,xt.attendeeId=Fe.videoStreamIndex.attendeeIdForStreamId(pn),xt.mid=Fe.transceiverController.getMidForStreamId(wn),xt.mid===void 0)return this.logger.info(`No MID found for stream ID ${wn}, cannot update stream without renegotiation`),!1;if(bn.push(xt),Fe.transceiverController.setStreamIdForMid(xt.mid,pn),Fe.videoStreamIndex.overrideStreamIdMappings(wn,pn),Fe.videoTileController.haveVideoTileForAttendeeId(xt.attendeeId)){const Vn=Fe.videoTileController.getVideoTileForAttendeeId(xt.attendeeId);if(!Vn.setStreamId)return!1;Vn.setStreamId(pn)}}return bn.length!==0&&Fe.signalingClient.remoteVideoUpdate(bn,[]),Dt.length!==0||Ut.length!==0?!1:(Fe.videoStreamIndex.subscribeFrameSent(),!0)}updateLocalVideoFromPolicy(){if(this.meetingSessionContext.enableSimulcast){const Ee=this.meetingSessionContext.videoUplinkBandwidthPolicy.chooseEncodingParameters();if(this.mayNeedRenegotiationForSimulcastLayerChange&&!this.negotiatedBitrateLayersAllocationRtpHeaderExtension())return this.logger.info("Needs regenotiation for local video simulcast layer change"),this.mayNeedRenegotiationForSimulcastLayerChange=!1,!1;this.meetingSessionContext.transceiverController.setEncodingParameters(Ee)}else this.meetingSessionContext.videoCaptureAndEncodeParameter=this.meetingSessionContext.videoUplinkBandwidthPolicy.chooseCaptureAndEncodeParameters();return this.logger.info("Updated local video from policy without renegotiation"),!0}negotiatedBitrateLayersAllocationRtpHeaderExtension(){if(!this.meetingSessionContext.transceiverController.localVideoTransceiver())return!1;const Ee=this.meetingSessionContext.transceiverController.localVideoTransceiver().sender.getParameters();return!Ee||!Ee.headerExtensions?!1:Ee.headerExtensions.some(Pe=>Pe.uri==="http://www.webrtc.org/experiments/rtp-hdrext/video-layers-allocation00")}restartLocalVideo(Ee){const Pe=o(()=>S(this,void 0,void 0,function*(){this._videoTileController.hasStartedLocalVideoTile()&&(this.logger.info("stopping local video tile prior to local video restart"),this._videoTileController.stopLocalVideoTile(),this.logger.info("preparing local video restart update"),yield this.actionUpdateWithRenegotiation(!1),this.logger.info("starting local video tile for local video restart"),this._videoTileController.startLocalVideoTile()),this.logger.info("finalizing local video restart update"),yield this.actionUpdateWithRenegotiation(!0),Ee()}),"restartVideo"),Fe=this.sessionStateController.perform(s.default.Update,()=>{Pe()});return Fe===M.default.Transitioned||Fe===M.default.DeferredTransition}replaceLocalVideo(Ee){return S(this,void 0,void 0,function*(){if(!Ee||Ee.getVideoTracks().length<1)throw new Error("could not acquire video track");if(!this.meetingSessionContext||!this.meetingSessionContext.peer)throw new Error("no active meeting and peer connection");const Pe=this.meetingSessionContext.videoTileController.getLocalVideoTile();if(Pe){const Fe=Pe.state(),Dt=Ee.getVideoTracks()[0].getSettings();Pe.bindVideoStream(Fe.boundAttendeeId,!0,Ee,Dt.width,Dt.height,Fe.streamId,Fe.boundExternalUserId)}yield this.meetingSessionContext.transceiverController.setVideoInput(Ee.getVideoTracks()[0]),this.meetingSessionContext.activeVideoInput=Ee,this.logger.info("Local video input is updated")})}replaceLocalAudio(Ee){return S(this,void 0,void 0,function*(){if(!Ee||Ee.getAudioTracks().length<1)throw new Error("could not acquire audio track");if(!this.meetingSessionContext||!this.meetingSessionContext.peer)throw new Error("no active meeting and peer connection");if(this.connectionHealthData.reset(),this.connectionHealthData.setConnectionStartTime(),!(yield this.meetingSessionContext.transceiverController.replaceAudioTrack(Ee.getAudioTracks()[0])))throw new Error("Failed to replace audio track");this.meetingSessionContext.activeAudioInput=Ee,this.logger.info("Local audio input is updated")})}actionUpdateWithRenegotiation(Ee){return S(this,void 0,void 0,function*(){this.monitorTask.pauseResubscribeCheck(),this.receiveIndexTask.pauseIngestion();try{yield new $e.default(this.logger,this.wrapTaskName("AudioVideoUpdate"),[new _e.default(this.meetingSessionContext),new Gt.default(this.logger,new $e.default(this.logger,"UpdateSession",[new $.default(this.meetingSessionContext),new K.default(this.meetingSessionContext),new at.default(this.meetingSessionContext),new Z.default(this.meetingSessionContext),new ot.default(this.meetingSessionContext),new lt.default(this.meetingSessionContext)]),this.configuration.connectionTimeoutMs)]).run(),Ee&&this.sessionStateController.perform(s.default.FinishUpdating,()=>{this.actionFinishUpdating()})}catch(Pe){this.sessionStateController.perform(s.default.FinishUpdating,()=>{const Fe=new e.default(this.getMeetingStatusCode(Pe)||t.default.TaskFailed);Fe.statusCode()!==t.default.IncompatibleSDP&&this.logger.info("failed to update audio-video session"),this.handleMeetingSessionStatus(Fe,Pe)})}})}notifyStop(Ee,Pe){var Fe;if(this.forEachObserver(Dt=>{fn.Maybe.of(Dt.audioVideoDidStop).map(zt=>zt.bind(Dt)(Ee))}),this.promotedToPrimaryMeeting&&Pe&&this.forEachObserver(Dt=>{this.promotedToPrimaryMeeting=!1,fn.Maybe.of(Dt.audioVideoWasDemotedFromPrimaryMeeting).map(zt=>zt.bind(Dt)(new e.default(t.default.SignalingInternalServerError)))}),this.eventController){const{signalingOpenDurationMs:Dt,poorConnectionCount:zt,startTimeMs:Ut,iceGatheringDurationMs:bn,attendeePresenceDurationMs:wn,meetingStartDurationMs:pn}=this.meetingSessionContext,xt={maxVideoTileCount:this.meetingSessionContext.maxVideoTileCount,meetingDurationMs:Ut===null?0:Math.round(Date.now()-Ut),meetingStatus:t.default[Ee.statusCode()],signalingOpenDurationMs:Dt,iceGatheringDurationMs:bn,attendeePresenceDurationMs:wn,poorConnectionCount:zt,meetingStartDurationMs:pn,retryCount:this.totalRetryCount},Vn=Pe&&Pe.message||((Fe=Ee.toString)===null||Fe===void 0?void 0:Fe.call(Ee))||"";xt.meetingDurationMs===0?(xt.meetingErrorMessage=Vn,delete xt.meetingDurationMs,delete xt.attendeePresenceDurationMs,delete xt.meetingStartDurationMs,this.eventController.publishEvent("meetingStartFailed",xt)):Ee.isFailure()||Ee.isAudioConnectionFailure()?(xt.meetingErrorMessage=Vn,this.eventController.publishEvent("meetingFailed",xt)):this.eventController.publishEvent("meetingEnded",xt)}}actionFinishUpdating(){if(!this.meetingSessionContext.enableSimulcast)if(this.useUpdateTransceiverControllerForUplink)this.meetingSessionContext.videoUplinkBandwidthPolicy.updateTransceiverController();else{const Ee=this.meetingSessionContext.videoCaptureAndEncodeParameter.encodeBitrates()[0];this.enforceBandwidthLimitationForSender(Ee)}this.monitorTask.resumeResubscribeCheck(),this.receiveIndexTask.resumeIngestion(),this.logger.info("updated audio-video session")}reconnect(Ee,Pe){const Fe=this._reconnectController.retryWithBackoff(()=>S(this,void 0,void 0,function*(){this.sessionStateController.state()===I.default.NotConnected?this.sessionStateController.perform(s.default.Connect,()=>{this.actionConnect(!0)}):this.sessionStateController.perform(s.default.Reconnect,()=>{this.actionReconnect(Ee)}),this.totalRetryCount+=1}),()=>{this.logger.info("canceled retry")});return Fe||this.sessionStateController.perform(s.default.Fail,()=>{this.actionDisconnect(Ee,!1,Pe)}),Fe}actionReconnect(Ee){return S(this,void 0,void 0,function*(){this._reconnectController.hasStartedConnectionAttempt()||(this._reconnectController.startedConnectionAttempt(!1),this.forEachObserver(Pe=>{fn.Maybe.of(Pe.audioVideoDidStartConnecting).map(Fe=>Fe.bind(Pe)(!0))})),this.meetingSessionContext.volumeIndicatorAdapter.onReconnect(),this.connectionHealthData.reset();try{yield new $e.default(this.logger,this.wrapTaskName("AudioVideoReconnect"),[new Gt.default(this.logger,new $e.default(this.logger,"Media",[new O.default(this.meetingSessionContext),new $e.default(this.logger,"Signaling",[new le.default(this.meetingSessionContext),new Y.default(this.meetingSessionContext),new Ne.default(this.meetingSessionContext)]),new k.default(this.meetingSessionContext)]),this.configuration.connectionTimeoutMs),new _e.default(this.meetingSessionContext),new Gt.default(this.logger,new $e.default(this.logger,"UpdateSession",[new $.default(this.meetingSessionContext),new K.default(this.meetingSessionContext),new at.default(this.meetingSessionContext),new Z.default(this.meetingSessionContext),new ot.default(this.meetingSessionContext),new lt.default(this.meetingSessionContext)]),this.configuration.connectionTimeoutMs)]).run(),this.sessionStateController.perform(s.default.FinishConnecting,()=>{if(this.eventController){const{signalingOpenDurationMs:Pe,poorConnectionCount:Fe,startTimeMs:Dt,iceGatheringDurationMs:zt,attendeePresenceDurationMs:Ut,meetingStartDurationMs:bn}=this.meetingSessionContext,wn={maxVideoTileCount:this.meetingSessionContext.maxVideoTileCount,meetingDurationMs:Math.round(Date.now()-Dt),meetingStatus:t.default[Ee.statusCode()],signalingOpenDurationMs:Pe,iceGatheringDurationMs:zt,attendeePresenceDurationMs:Ut,poorConnectionCount:Fe,meetingStartDurationMs:bn,retryCount:this.totalRetryCount};this.eventController.publishEvent("meetingReconnected",wn)}this.actionFinishConnecting()})}catch(Pe){this.sessionStateController.perform(s.default.FinishConnecting,()=>{this.logger.info("failed to reconnect audio-video session");const Fe=new e.default(this.getMeetingStatusCode(Pe)||t.default.TaskFailed);this.handleMeetingSessionStatus(Fe,Pe)})}this.connectionHealthData.setConnectionStartTime()})}wrapTaskName(Ee){return`${Ee}/${this.configuration.meetingId}/${this.configuration.credentials.attendeeId}`}cleanUpMediaStreamsAfterStop(){this._mediaStreamBroker.removeMediaStreamBrokerObserver(this),this.meetingSessionContext.activeAudioInput=void 0,this.meetingSessionContext.activeVideoInput=void 0}getMeetingStatusCode(Ee){const Pe=/the meeting status code: (\d+)/.exec(Ee&&Ee.message);return Pe&&Pe.length>1?Number.parseInt(Pe[1],10):null}enforceBandwidthLimitationForSender(Ee){return S(this,void 0,void 0,function*(){yield this.meetingSessionContext.transceiverController.setVideoSendingBitrateKbps(Ee)})}handleMeetingSessionStatus(Ee,Pe){if(this.logger.info(`handling status: ${t.default[Ee.statusCode()]}`),Ee.isTerminal()||this.meetingSessionContext.statsCollector&&this.meetingSessionContext.statsCollector.logMeetingSessionStatus(Ee),Ee.statusCode()===t.default.IncompatibleSDP)return this.restartLocalVideo(()=>{this.logger.info("handled incompatible SDP by attempting to restart video")}),!0;if(Ee.statusCode()===t.default.VideoCallSwitchToViewOnly)return this._videoTileController.removeLocalVideoTile(),this.forEachObserver(Fe=>{fn.Maybe.of(Fe.videoSendDidBecomeUnavailable).map(Dt=>Dt.bind(Fe)())}),!1;if(Ee.statusCode()===t.default.AudioVideoWasRemovedFromPrimaryMeeting)return this.forEachObserver(Fe=>{fn.Maybe.of(Fe.audioVideoWasDemotedFromPrimaryMeeting).map(Dt=>Dt.bind(Fe)(Ee))}),!1;if(Ee.isTerminal()&&(this.logger.error("session will not be reconnected"),this.meetingSessionContext.reconnectController&&this.meetingSessionContext.reconnectController.disableReconnect()),(Ee.isFailure()||Ee.isTerminal())&&this.meetingSessionContext.reconnectController){const Fe=this.reconnect(Ee,Pe);return Fe?this.logger.warn(`will retry due to status code ${t.default[Ee.statusCode()]}${Pe?` and error: ${Pe.message}`:""}`):this.logger.error(`failed with status code ${t.default[Ee.statusCode()]}${Pe?` and error: ${Pe.message}`:""}`),Fe}return!1}setVideoMaxBandwidthKbps(Ee){if(Ee<=0)throw new Error("Max bandwidth kbps has to be greater than 0");this.meetingSessionContext&&this.meetingSessionContext.videoUplinkBandwidthPolicy&&(this.logger.info(`video send has ideal max bandwidth ${Ee} kbps`),this.meetingSessionContext.videoUplinkBandwidthPolicy.setIdealMaxBandwidthKbps(Ee)),this.maxUplinkBandwidthKbps=Ee}handleHasBandwidthPriority(Ee){return S(this,void 0,void 0,function*(){if(this.meetingSessionContext&&this.meetingSessionContext.videoUplinkBandwidthPolicy&&!this.meetingSessionContext.enableSimulcast){if(this.useUpdateTransceiverControllerForUplink){this.meetingSessionContext.videoUplinkBandwidthPolicy.setHasBandwidthPriority(Ee),yield this.meetingSessionContext.videoUplinkBandwidthPolicy.updateTransceiverController();return}const Pe=this.meetingSessionContext.videoUplinkBandwidthPolicy.maxBandwidthKbps();this.meetingSessionContext.videoUplinkBandwidthPolicy.setHasBandwidthPriority(Ee);const Fe=this.meetingSessionContext.videoUplinkBandwidthPolicy.maxBandwidthKbps();Pe!==Fe&&(this.logger.info(`video send bandwidth priority ${Ee} max has changed from ${Pe} kbps to ${Fe} kbps`),yield this.enforceBandwidthLimitationForSender(Fe))}})}pauseReceivingStream(Ee){this.meetingSessionContext&&this.meetingSessionContext.signalingClient&&this.meetingSessionContext.signalingClient.pause([Ee])}resumeReceivingStream(Ee){this.meetingSessionContext&&this.meetingSessionContext.signalingClient&&this.meetingSessionContext.signalingClient.resume([Ee])}setVideoCodecSendPreferences(Ee){this.videoSendCodecPreferences=Ee,this.meetingSessionContext.videoSendCodecPreferences=Ee,this.update({needsRenegotiation:!0})}getRemoteVideoSources(){const{videoStreamIndex:Ee}=this.meetingSessionContext;if(!Ee)return this.logger.info("meeting has not started"),[];const Pe=this.configuration.credentials.attendeeId;return Ee.allVideoSendingSourcesExcludingSelf(Pe)}encodingSimulcastLayersDidChange(Ee){this.mayNeedRenegotiationForSimulcastLayerChange=!0,this.forEachObserver(Pe=>{fn.Maybe.of(Pe.encodingSimulcastLayersDidChange).map(Fe=>Fe.bind(Pe)(Ee))})}promoteToPrimaryMeeting(Ee){return this.actionPromoteToPrimaryMeeting(Ee)}actionPromoteToPrimaryMeeting(Ee){return S(this,void 0,void 0,function*(){let Pe=new e.default(t.default.SignalingRequestFailed);return yield new $e.default(this.logger,this.wrapTaskName("PromoteToPrimaryMeeting"),[new Gt.default(this.logger,new Be.default(this.meetingSessionContext,Ee,Fe=>{Pe=Fe}),this.configuration.connectionTimeoutMs)]).run(),this.promotedToPrimaryMeeting=Pe.statusCode()===t.default.OK,Pe})}demoteFromPrimaryMeeting(){this.meetingSessionContext.signalingClient.demoteFromPrimaryMeeting(),this.forEachObserver(Ee=>{fn.Maybe.of(Ee.audioVideoWasDemotedFromPrimaryMeeting).map(Pe=>Pe.bind(Ee)(new e.default(t.default.OK)))})}videoInputDidChange(Ee){return S(this,void 0,void 0,function*(){if(this.logger.info("Receive a video input change event"),!this.meetingSessionContext||!this.meetingSessionContext.peer){this.logger.info("Skip updating video input because there is no active meeting and peer connection");return}this._videoTileController.hasStartedLocalVideoTile()&&(Ee?yield this.replaceLocalVideo(Ee):this._videoTileController.stopLocalVideoTile())})}audioInputDidChange(Ee){return S(this,void 0,void 0,function*(){if(this.logger.info("Receive an audio input change event"),!this.meetingSessionContext||!this.meetingSessionContext.peer){this.logger.info("Skip updating audio input because there is no active meeting and peer connection");return}if(!Ee)try{Ee=yield this.mediaStreamBroker.acquireAudioInputStream()}catch{this.logger.error("Could not acquire audio track from mediaStreamBroker");return}yield this.replaceLocalAudio(Ee)})}constructor(Ee,Pe,Fe,Dt,zt,Ut){this._audioProfile=new f.default,this.connectionHealthData=new n.default,this.observerQueue=new Set,this.meetingSessionContext=new en.default,this.enableSimulcast=!1,this.useUpdateTransceiverControllerForUplink=!1,this.totalRetryCount=0,this.startAudioVideoTimestamp=0,this.mayNeedRenegotiationForSimulcastLayerChange=!1,this.promotedToPrimaryMeeting=!1,this.hasGetRTCPeerConnectionStatsDeprecationMessageBeenSent=!1,this.receiveIndexTask=void 0,this.monitorTask=void 0,this.destroyed=!1,this._logger=Pe,this.sessionStateController=new u.default(this._logger),this._configuration=Ee,this._webSocketAdapter=Fe,this._realtimeController=new v.default(Dt),this._realtimeController.realtimeSetLocalAttendeeId(Ee.credentials.attendeeId,Ee.credentials.externalUserId),this._mediaStreamBroker=Dt,this._reconnectController=zt,this._videoTileController=new Mn.default(new Ot.default,this,this._logger),this._audioMixController=new m.default(this._logger),this._mediaStreamBroker.addMediaStreamBrokerObserver(this._audioMixController),this.meetingSessionContext.logger=this._logger,this._eventController=Ut}},"DefaultAudioVideoController");c.default=Kn,Kn.MIN_VOLUME_DECIBELS=-42,Kn.MAX_VOLUME_DECIBELS=-14,Kn.PING_PONG_INTERVAL_MS=1e4},aApz:function(N,c,d){"use strict";Object.defineProperty(c,"__esModule",{value:!0});var S;(function(h){h.Unread="unread",h.LastMessageTimestamp="last-message-timestamp"})(S||(S={})),c.default=S},aFj7:function(N,c,d){"use strict";var S=d("L5pH"),h=d("6jRP"),m=d("ig3W"),f=d("bKEA");N.exports=d("OTpG")(Array,"Array",function(a,n){this._t=f(a),this._i=0,this._k=n},function(){var a=this._t,n=this._k,i=this._i++;return!a||i>=a.length?(this._t=void 0,h(1)):n=="keys"?h(0,i):n=="values"?h(0,a[i]):h(0,[i,a[i]])},"values"),m.Arguments=m.Array,S("keys"),S("values"),S("entries")},aMTh:function(N,c,d){"use strict";var S=this&&this.__awaiter||function(a,n,i,e){function t(r){return r instanceof i?r:new i(function(l){l(r)})}return o(t,"adopt"),new(i||(i=Promise))(function(r,l){function p(u){try{g(e.next(u))}catch(s){l(s)}}o(p,"fulfilled");function v(u){try{g(e.throw(u))}catch(s){l(s)}}o(v,"rejected");function g(u){u.done?r(u.value):t(u.value).then(p,v)}o(g,"step"),g((e=e.apply(a,n||[])).next())})};Object.defineProperty(c,"__esModule",{value:!0});const h=d("U9CR");let m=o(class mv{getInnerDevice(){return this.device}mute(n){return S(this,void 0,void 0,function*(){this.node&&(n?yield this.node.disable():yield this.node.enable())})}stop(){return S(this,void 0,void 0,function*(){this.node&&(this.node.disconnect(),yield this.node.stop())})}chooseNewInnerDevice(n){return S(this,void 0,void 0,function*(){return this.device===n&&!f(n)?this:new mv(n,this.voiceFocus,this.delegate,this.nodeOptions,this.failed,this.node,this.browserBehavior,this.farEndStreamToAudioSourceNode,this.mixDestNode,this.mixSourceNode)})}intrinsicDevice(){return S(this,void 0,void 0,function*(){if(this.failed)return this.device;const n=this.nodeOptions.es,i={echoCancellation:!n,googEchoCancellation:!n,googEchoCancellation2:!n,noiseSuppression:!1,googNoiseSuppression:!1,googHighpassFilter:!1,googNoiseSuppression2:!1};let e;return this.nodeOptions&&this.nodeOptions.agc!==void 0?e=this.nodeOptions.agc.useBuiltInAGC:e=!0,i.autoGainControl=e,i.googAutoGainControl=e,i.googAutoGainControl2=e,this.device?typeof this.device=="string"?(this.browserBehavior.requiresNoExactMediaStreamConstraints()?i.deviceId=this.device:i.deviceId={exact:this.device},i):this.device.id?this.device:Object.assign(Object.assign({},this.device),i):i})}createAudioNode(n){var i,e;return S(this,void 0,void 0,function*(){if(((i=this.node)===null||i===void 0?void 0:i.context)===n)return{start:this.node,end:this.node};const r=Object.assign({enabled:!0,agc:{useVoiceFocusAGC:!1}},this.nodeOptions);try{if((e=this.node)===null||e===void 0||e.disconnect(),this.node=yield this.voiceFocus.createNode(n,r),this.nodeOptions.es){this.mixDestNode=new MediaStreamAudioDestinationNode(n,{channelCount:1,channelCountMode:"explicit"});for(const v of this.farEndStreamToAudioSourceNode.keys())this.assignFarEndStreamToAudioSourceNode(v);this.createMixSourceNode()}const l=this.node,p=this.node;return{start:l,end:p}}catch(l){throw this.failed=!0,this.delegate.onFallback(this,l),l}})}observeMeetingAudio(n){return S(this,void 0,void 0,function*(){if(!this.nodeOptions.es)return;n.addAudioMixObserver(this);const i=yield n.getCurrentMeetingAudioStream();i&&this.addFarEndStream(i)})}unObserveMeetingAudio(n){return S(this,void 0,void 0,function*(){if(!this.nodeOptions.es)return;n.removeAudioMixObserver(this);const i=yield n.getCurrentMeetingAudioStream();i&&this.removeFarendStream(i)})}addObserver(n){this.delegate.addObserver(n)}removeObserver(n){this.delegate.removeObserver(n)}addFarEndStream(n){return S(this,void 0,void 0,function*(){!this.nodeOptions.es||!n||this.farEndStreamToAudioSourceNode.has(n)||(this.node?this.assignFarEndStreamToAudioSourceNode(n):this.farEndStreamToAudioSourceNode.set(n,null))})}removeFarendStream(n){var i;return S(this,void 0,void 0,function*(){(i=this.farEndStreamToAudioSourceNode.get(n))===null||i===void 0||i.disconnect(),this.farEndStreamToAudioSourceNode.delete(n)})}meetingAudioStreamBecameActive(n){return S(this,void 0,void 0,function*(){this.addFarEndStream(n)})}meetingAudioStreamBecameInactive(n){return S(this,void 0,void 0,function*(){this.removeFarendStream(n)})}assignFarEndStreamToAudioSourceNode(n){const i=this.node.context.createMediaStreamSource(n);i.channelCount=1,i.channelCountMode="explicit",this.farEndStreamToAudioSourceNode.set(n,i),i.connect(this.mixDestNode,0)}createMixSourceNode(){this.mixSourceNode=this.node.context.createMediaStreamSource(this.mixDestNode.stream),this.mixSourceNode.channelCount=1,this.mixSourceNode.channelCountMode="explicit",this.mixSourceNode.connect(this.node,0,1)}constructor(n,i,e,t,r=!1,l=void 0,p=new h.default,v=new Map,g=void 0,u=void 0){this.device=n,this.voiceFocus=i,this.delegate=e,this.nodeOptions=t,this.failed=r,this.node=l,this.browserBehavior=p,this.farEndStreamToAudioSourceNode=v,this.mixDestNode=g,this.mixSourceNode=u}},"VoiceFocusTransformDevice");function f(a){return a==="default"?!0:!a||typeof a!="object"?!1:"deviceId"in a&&a.deviceId==="default"||"id"in a&&a.id==="default"}o(f,"isDefaultDevice"),c.default=m},aSsB:function(N,c,d){"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.CheckNetworkTCPConnectivityFeedback=void 0;var S;(function(h){h[h.Succeeded=0]="Succeeded",h[h.MeetingSessionURLsNotInitialized=1]="MeetingSessionURLsNotInitialized",h[h.ConnectionFailed=2]="ConnectionFailed",h[h.ICENegotiationFailed=3]="ICENegotiationFailed"})(S=c.CheckNetworkTCPConnectivityFeedback||(c.CheckNetworkTCPConnectivityFeedback={})),c.default=S},aT0f:function(N,c,d){"use strict";var S=d("7whZ"),h=d("nA4W"),m=d("C61u"),f=d("USwo"),a=d("ugGH"),n=d("40oJ").KEY,i=d("S4vA"),e=d("s2er"),t=d("kvAF"),r=d("ixoo"),l=d("zBWt"),p=d("/NTb"),v=d("4Zg2"),g=d("CuL1"),u=d("Trx6"),s=d("d+lc"),I=d("ekG2"),M=d("CYMq"),R=d("bKEA"),B=d("M5dz"),j=d("ENu8"),A=d("b08l"),D=d("GDZC"),$=d("TSC6"),O=d("/tXR"),P=d("GhSp"),k=d("mHY4"),K=$.f,Z=P.f,Y=D.f,ie=S.Symbol,ge=S.JSON,Ie=ge&&ge.stringify,le="prototype",we=l("_hidden"),Be=l("toPrimitive"),Re={}.propertyIsEnumerable,Ne=e("symbol-registry"),_e=e("symbols"),Ze=e("op-symbols"),tt=Object[le],$e=typeof ie=="function"&&!!O.f,at=S.QObject,lt=!at||!at[le]||!at[le].findChild,ot=m&&i(function(){return A(Z({},"a",{get:function(){return Z(this,"a",{value:7}).a}})).a!=7})?function(Ot,Ke,gt){var ht=K(tt,Ke);ht&&delete tt[Ke],Z(Ot,Ke,gt),ht&&Ot!==tt&&Z(tt,Ke,ht)}:Z,Gt=o(function(Ot){var Ke=_e[Ot]=A(ie[le]);return Ke._k=Ot,Ke},"wrap"),Zt=$e&&typeof ie.iterator=="symbol"?function(Ot){return typeof Ot=="symbol"}:function(Ot){return Ot instanceof ie},un=o(function(Ke,gt,ht){return Ke===tt&&un(Ze,gt,ht),s(Ke),gt=B(gt,!0),s(ht),h(_e,gt)?(ht.enumerable?(h(Ke,we)&&Ke[we][gt]&&(Ke[we][gt]=!1),ht=A(ht,{enumerable:j(0,!1)})):(h(Ke,we)||Z(Ke,we,j(1,{})),Ke[we][gt]=!0),ot(Ke,gt,ht)):Z(Ke,gt,ht)},"defineProperty"),Un=o(function(Ke,gt){s(Ke);for(var ht=g(gt=R(gt)),en=0,Kn=ht.length,li;Kn>en;)un(Ke,li=ht[en++],gt[li]);return Ke},"defineProperties"),jn=o(function(Ke,gt){return gt===void 0?A(Ke):Un(A(Ke),gt)},"create"),ci=o(function(Ke){var gt=Re.call(this,Ke=B(Ke,!0));return this===tt&&h(_e,Ke)&&!h(Ze,Ke)?!1:gt||!h(this,Ke)||!h(_e,Ke)||h(this,we)&&this[we][Ke]?gt:!0},"propertyIsEnumerable"),fn=o(function(Ke,gt){if(Ke=R(Ke),gt=B(gt,!0),!(Ke===tt&&h(_e,gt)&&!h(Ze,gt))){var ht=K(Ke,gt);return ht&&h(_e,gt)&&!(h(Ke,we)&&Ke[we][gt])&&(ht.enumerable=!0),ht}},"getOwnPropertyDescriptor"),ri=o(function(Ke){for(var gt=Y(R(Ke)),ht=[],en=0,Kn;gt.length>en;)!h(_e,Kn=gt[en++])&&Kn!=we&&Kn!=n&&ht.push(Kn);return ht},"getOwnPropertyNames"),gi=o(function(Ke){for(var gt=Ke===tt,ht=Y(gt?Ze:R(Ke)),en=[],Kn=0,li;ht.length>Kn;)h(_e,li=ht[Kn++])&&(!gt||h(tt,li))&&en.push(_e[li]);return en},"getOwnPropertySymbols");$e||(ie=o(function(){if(this instanceof ie)throw TypeError("Symbol is not a constructor!");var Ke=r(arguments.length>0?arguments[0]:void 0),gt=o(function(ht){this===tt&&gt.call(Ze,ht),h(this,we)&&h(this[we],Ke)&&(this[we][Ke]=!1),ot(this,Ke,j(1,ht))},"$set");return m&&lt&&ot(tt,Ke,{configurable:!0,set:gt}),Gt(Ke)},"Symbol"),a(ie[le],"toString",o(function(){return this._k},"toString")),$.f=fn,P.f=un,d("ZDin").f=D.f=ri,d("GRew").f=ci,O.f=gi,m&&!d("5ETA")&&a(tt,"propertyIsEnumerable",ci,!0),p.f=function(Ot){return Gt(l(Ot))}),f(f.G+f.W+f.F*!$e,{Symbol:ie});for(var Nn="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),Ti=0;Nn.length>Ti;)l(Nn[Ti++]);for(var Bi=k(l.store),vn=0;Bi.length>vn;)v(Bi[vn++]);f(f.S+f.F*!$e,"Symbol",{for:function(Ot){return h(Ne,Ot+="")?Ne[Ot]:Ne[Ot]=ie(Ot)},keyFor:o(function(Ke){if(!Zt(Ke))throw TypeError(Ke+" is not a symbol!");for(var gt in Ne)if(Ne[gt]===Ke)return gt},"keyFor"),useSetter:function(){lt=!0},useSimple:function(){lt=!1}}),f(f.S+f.F*!$e,"Object",{create:jn,defineProperty:un,defineProperties:Un,getOwnPropertyDescriptor:fn,getOwnPropertyNames:ri,getOwnPropertySymbols:gi});var Mn=i(function(){O.f(1)});f(f.S+f.F*Mn,"Object",{getOwnPropertySymbols:o(function(Ke){return O.f(M(Ke))},"getOwnPropertySymbols")}),ge&&f(f.S+f.F*(!$e||i(function(){var Ot=ie();return Ie([Ot])!="[null]"||Ie({a:Ot})!="{}"||Ie(Object(Ot))!="{}"})),"JSON",{stringify:o(function(Ke){for(var gt=[Ke],ht=1,en,Kn;arguments.length>ht;)gt.push(arguments[ht++]);if(Kn=en=gt[1],!(!I(en)&&Ke===void 0||Zt(Ke)))return u(en)||(en=o(function(li,Ee){if(typeof Kn=="function"&&(Ee=Kn.call(this,li,Ee)),!Zt(Ee))return Ee},"replacer")),gt[1]=en,Ie.apply(ge,gt)},"stringify")}),ie[le][Be]||d("BRsN")(ie[le],Be,ie[le].valueOf),t(ie,"Symbol"),t(Math,"Math",!0),t(S.JSON,"JSON",!0)},aTUL:function(N,c,d){"use strict";Object.defineProperty(c,"__esModule",{value:!0});const S=d("mYvd");let h=o(class Ud{compress(f,a){if(a.length>0){const e=Math.min(a.length,Ud.MAX_DICTIONARY_SIZE);a=a.slice(0,e)}const n={memLevel:Ud.Z_MEM_LEVEL,dictionary:a};return S.deflateRaw(f,n)}decompress(f,a){if(a.length>0){const e=Math.min(a.length,Ud.MAX_DICTIONARY_SIZE);a=a.slice(0,e)}const n={to:"string",dictionary:a,chunkSize:4096};let i="";try{i=S.inflateRaw(f,n)}catch(e){this.logger.error(`failed to decompress the string with error: [${e}]`)}return i}constructor(f){this.logger=f}},"ZLIBTextCompressor");c.default=h,h.Z_MEM_LEVEL=9,h.MAX_DICTIONARY_SIZE=31744},aVV0:function(N,c,d){"use strict";var S=this&&this.__awaiter||function(a,n,i,e){function t(r){return r instanceof i?r:new i(function(l){l(r)})}return o(t,"adopt"),new(i||(i=Promise))(function(r,l){function p(u){try{g(e.next(u))}catch(s){l(s)}}o(p,"fulfilled");function v(u){try{g(e.throw(u))}catch(s){l(s)}}o(v,"rejected");function g(u){u.done?r(u.value):t(u.value).then(p,v)}o(g,"step"),g((e=e.apply(a,n||[])).next())})};Object.defineProperty(c,"__esModule",{value:!0});const h=d("V3UW"),m=d("Sl5A");let f=o(class{once(){for(var n=arguments.length,i=new Array(n),e=0;e<n;e++)i[e]=arguments[e];return new h.default(this.logger,this,i)}cancel(){}name(){return this.parentTask?`${this.parentTask.name()}/${this.taskName}`:this.taskName}setParent(n){this.parentTask=n}getStatus(){return this.status}logAndThrow(n){throw this.logger.info(n),new Error(n)}baseRun(n){return S(this,void 0,void 0,function*(){try{const i=Date.now();switch(this.logger.info(`running task ${this.name()}`),this.status){case m.default.RUNNING:this.logAndThrow(`${this.name()} is already running`);case m.default.CANCELED:this.logAndThrow(`${this.name()} was canceled before running`);case m.default.FINISHED:this.logAndThrow(`${this.name()} was already finished`)}this.status=m.default.RUNNING,yield n.call(this),this.logger.info(`${this.name()} took ${Math.round(Date.now()-i)} ms`)}catch(i){throw i}finally{this.status!==m.default.CANCELED&&(this.status=m.default.FINISHED)}})}baseCancel(n){if(this.status===m.default.CANCELED||this.status===m.default.FINISHED){this.logger.info(`Not canceling ${this.name()}: state is ${this.status}`);return}this.logger.info(`canceling task ${this.name()}`),this.status=m.default.CANCELED,n.call(this)}constructor(n){this.logger=n,this.taskName="BaseTask",this.parentTask=null,this.status=m.default.IDLE,this.run=this.baseRun.bind(this,this.run),this.cancel=this.baseCancel.bind(this,this.cancel)}},"BaseTask");c.default=f},aZJ3:function(N,c,d){"use strict";Object.defineProperty(c,"__esModule",{value:!0});const S=d("mlaT");let h=o(class{info(f){}warn(f){}error(f){}debug(f){S.default.DEBUG<this.level||typeof f!="string"&&f()}setLogLevel(f){this.level=f}getLogLevel(){return this.level}constructor(f=S.default.OFF){this.level=f}},"NoOpLogger");c.default=h},aZba:function(N,c,d){"use strict";Object.defineProperty(c,"__esModule",{value:!0});const S=d("XCDq"),h=d("papz");let m=o(class rr{statusCode(){return this._statusCode}isFailure(){switch(this._statusCode){case h.default.AudioAuthenticationRejected:case h.default.AudioCallAtCapacity:case h.default.AudioInternalServerError:case h.default.AudioServiceUnavailable:case h.default.AudioDisconnected:case h.default.VideoCallAtSourceCapacity:case h.default.SignalingBadRequest:case h.default.SignalingInternalServerError:case h.default.SignalingRequestFailed:case h.default.ICEGatheringTimeoutWorkaround:case h.default.ConnectionHealthReconnect:case h.default.RealtimeApiFailed:case h.default.TaskFailed:case h.default.NoAttendeePresent:return!0;default:return!1}}isTerminal(){switch(this._statusCode){case h.default.Left:case h.default.AudioJoinedFromAnotherDevice:case h.default.AudioAuthenticationRejected:case h.default.AudioCallAtCapacity:case h.default.MeetingEnded:case h.default.AudioDisconnected:case h.default.TURNCredentialsForbidden:case h.default.SignalingBadRequest:case h.default.SignalingRequestFailed:case h.default.VideoCallAtSourceCapacity:case h.default.RealtimeApiFailed:case h.default.AudioAttendeeRemoved:return!0;default:return!1}}isAudioConnectionFailure(){switch(this._statusCode){case h.default.AudioAuthenticationRejected:case h.default.AudioInternalServerError:case h.default.AudioServiceUnavailable:case h.default.ICEGatheringTimeoutWorkaround:case h.default.SignalingBadRequest:case h.default.SignalingInternalServerError:case h.default.SignalingRequestFailed:case h.default.RealtimeApiFailed:case h.default.NoAttendeePresent:return!0;default:return!1}}toString(){switch(this._statusCode){case h.default.OK:return"Everything is OK so far.";case h.default.Left:return"The attendee left the meeting.";case h.default.AudioJoinedFromAnotherDevice:return"The attendee joined from another device.";case h.default.AudioAuthenticationRejected:return"The meeting rejected the attendee.";case h.default.AudioCallAtCapacity:return"The attendee couldn't join because the meeting was at capacity.";case h.default.MeetingEnded:return"The meeting ended.";case h.default.AudioInternalServerError:case h.default.AudioServiceUnavailable:case h.default.AudioDisconnected:return"The audio connection failed.";case h.default.VideoCallSwitchToViewOnly:return"The attendee couldn't start the local video because the maximum video capacity was reached.";case h.default.VideoCallAtSourceCapacity:return"The connection failed due to an internal server error.";case h.default.SignalingBadRequest:case h.default.SignalingInternalServerError:case h.default.SignalingRequestFailed:return"The signaling connection failed.";case h.default.ICEGatheringTimeoutWorkaround:return"Gathering ICE candidates timed out. In Chrome, this might indicate that the browser is in a bad state after reconnecting to VPN.";case h.default.ConnectionHealthReconnect:return"The meeting was reconnected.";case h.default.RealtimeApiFailed:return"The real-time API failed. This status code might indicate that the callback you passed to the real-time API threw an exception.";case h.default.TaskFailed:return"The connection failed. See the error message for more details.";case h.default.IncompatibleSDP:return"The connection failed due to incompatible SDP.";case h.default.TURNCredentialsForbidden:return"The meeting ended, or the attendee was removed.";case h.default.NoAttendeePresent:return"The attendee was not present.";case h.default.AudioAttendeeRemoved:return"The meeting ended because attendee removed.";case h.default.AudioVideoWasRemovedFromPrimaryMeeting:return"The Primary meeting credentials provided are no longer valid. chime::DeleteAttendee may have been called on them.";case h.default.AudioDisconnectAudio:return"The audio connection failed.";default:{const a=this._statusCode;throw new Error(`Unhandled case: ${a}`)}}}static fromSignalFrame(a){return a.error&&a.error.status?this.fromSignalingStatus(a.error.status):a.type===S.SdkSignalFrame.Type.AUDIO_STATUS?a.audioStatus?this.fromAudioStatus(a.audioStatus.audioStatus):new rr(h.default.SignalingRequestFailed):a.type===S.SdkSignalFrame.Type.PRIMARY_MEETING_LEAVE?new rr(h.default.AudioVideoWasRemovedFromPrimaryMeeting):new rr(h.default.OK)}static fromAudioStatus(a){switch(a){case 200:return new rr(h.default.OK);case 301:return new rr(h.default.AudioJoinedFromAnotherDevice);case 302:return new rr(h.default.AudioDisconnectAudio);case 403:return new rr(h.default.AudioAuthenticationRejected);case 409:return new rr(h.default.AudioCallAtCapacity);case 410:return new rr(h.default.MeetingEnded);case 411:return new rr(h.default.AudioAttendeeRemoved);case 500:return new rr(h.default.AudioInternalServerError);case 503:return new rr(h.default.AudioServiceUnavailable);default:switch(Math.floor(a/100)){case 2:return new rr(h.default.OK);default:return new rr(h.default.AudioDisconnected)}}}static fromSignalingStatus(a){switch(a){case 206:return new rr(h.default.VideoCallSwitchToViewOnly);case 509:return new rr(h.default.VideoCallAtSourceCapacity);case 403:return new rr(h.default.AudioAuthenticationRejected);case 409:return new rr(h.default.AudioCallAtCapacity);default:switch(Math.floor(a/100)){case 2:return new rr(h.default.OK);case 4:return new rr(h.default.SignalingBadRequest);case 5:return new rr(h.default.SignalingInternalServerError);default:return new rr(h.default.SignalingRequestFailed)}}}constructor(a){this._statusCode=a}},"MeetingSessionStatus");c.default=m},ac3q:function(N,c,d){"use strict";Object.defineProperty(c,"__esModule",{value:!0});const S=d("U9CR"),h=d("DJNY");let m=o(class qc{static get sdkName(){return"amazon-chime-sdk-js"}static get sdkVersion(){return h.default.semverString}static get sdkVersionSemVer(){var a,n,i,e;const t=h.default.semverString.match(/^(?<major>[0-9]+)\.(?<minor>[0-9]+)((?:\.(?<patch>[0-9]+))(?:-(?<preRelease>[a-zA-Z]+(\.[0-9])*))?)?/);return{major:(a=t==null?void 0:t.groups)===null||a===void 0?void 0:a.major,minor:(n=t==null?void 0:t.groups)===null||n===void 0?void 0:n.minor,patch:(i=t==null?void 0:t.groups)===null||i===void 0?void 0:i.patch,preRelease:(e=t==null?void 0:t.groups)===null||e===void 0?void 0:e.preRelease}}static get buildSHA(){return h.default.hash.substr(1)}static get sdkUserAgentLowResolution(){const a=new S.default;return`${a.name()}-${a.majorVersion()}`}static urlWithVersion(a){const n=new URL(a);return n.searchParams.append(qc.X_AMZN_VERSION,qc.sdkVersion),n.searchParams.append(qc.X_AMZN_USER_AGENT,qc.sdkUserAgentLowResolution),n.toString()}},"Versioning");c.default=m,m.X_AMZN_VERSION="X-Amzn-Version",m.X_AMZN_USER_AGENT="X-Amzn-User-Agent"},aqWb:function(N,c,d){"use strict";Object.defineProperty(c,"__esModule",{value:!0});let S=o(class{},"VideoSource");c.default=S},aqg2:function(N,c,d){var S=d("TYje"),h=d("zBWt")("toStringTag"),m=S(function(){return arguments}())=="Arguments",f=o(function(a,n){try{return a[n]}catch{}},"tryGet");N.exports=function(a){var n,i,e;return a===void 0?"Undefined":a===null?"Null":typeof(i=f(n=Object(a),h))=="string"?i:m?S(n):(e=S(n))=="Object"&&typeof n.callee=="function"?"Arguments":e}},b08l:function(N,c,d){var S=d("d+lc"),h=d("heda"),m=d("l0Kd"),f=d("WpRT")("IE_PROTO"),a=o(function(){},"Empty"),n="prototype",i=o(function(){var e=d("BfU5")("iframe"),t=m.length,r="<",l=">",p;for(e.style.display="none",d("kUGv").appendChild(e),e.src="javascript:",p=e.contentWindow.document,p.open(),p.write(r+"script"+l+"document.F=Object"+r+"/script"+l),p.close(),i=p.F;t--;)delete i[n][m[t]];return i()},"createDict");N.exports=Object.create||o(function(t,r){var l;return t!==null?(a[n]=S(t),l=new a,a[n]=null,l[f]=t):l=i(),r===void 0?l:h(l,r)},"create")},b4Ml:function(N,c,d){"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.Sha256=void 0;var S=d("pU0T"),h=d("p72H"),m=d("Yugg"),f=function(){function a(n){this.toHash=new Uint8Array(0),this.secret=n,this.reset()}return o(a,"Sha256"),a.prototype.update=function(n){if(!(0,S.isEmptyData)(n)){var i=(0,S.convertToBuffer)(n),e=new Uint8Array(this.toHash.byteLength+i.byteLength);e.set(this.toHash,0),e.set(i,this.toHash.byteLength),this.toHash=e}},a.prototype.digest=function(){var n=this;return this.key?this.key.then(function(i){return(0,m.locateWindow)().crypto.subtle.sign(h.SHA_256_HMAC_ALGO,i,n.toHash).then(function(e){return new Uint8Array(e)})}):(0,S.isEmptyData)(this.toHash)?Promise.resolve(h.EMPTY_DATA_SHA_256):Promise.resolve().then(function(){return(0,m.locateWindow)().crypto.subtle.digest(h.SHA_256_HASH,n.toHash)}).then(function(i){return Promise.resolve(new Uint8Array(i))})},a.prototype.reset=function(){var n=this;this.toHash=new Uint8Array(0),this.secret&&this.secret!==void 0&&(this.key=new Promise(function(i,e){(0,m.locateWindow)().crypto.subtle.importKey("raw",(0,S.convertToBuffer)(n.secret),h.SHA_256_HMAC_ALGO,!1,["sign"]).then(i,e)}),this.key.catch(function(){}))},a}();c.Sha256=f},bKEA:function(N,c,d){var S=d("n7vu"),h=d("yQFZ");N.exports=function(m){return S(h(m))}},"bQ+R":function(N,c,d){"use strict";Object.defineProperty(c,"__esModule",{value:!0});let S=o(class{},"SignalingClientVideoSubscriptionConfiguration");c.default=S},bS86:function(N,c,d){var S=d("ig3W"),h=d("zBWt")("iterator"),m=Array.prototype;N.exports=function(f){return f!==void 0&&(S.Array===f||m[h]===f)}},bTau:function(N,c,d){"use strict";Object.defineProperty(c,"__esModule",{value:!0});const S=d("34ho");let h=o(class Ll{id(){return this._id}base(){return this._id?this._id.split(Ll.MODALITY_SEPARATOR)[0]:""}modality(){if(!this._id)return"";const f=this._id.split(Ll.MODALITY_SEPARATOR);return f.length===2?f[1]:""}hasModality(f){return f!==""&&this.modality()===f}withModality(f){const a=new Ll(this.base()+Ll.MODALITY_SEPARATOR+f);return f===""||this.base()===""||new Ll(a._id).modality()!==f?new Ll(this.base()):a}constructor(f){this._id=f}},"DefaultModality");c.default=h,h.MODALITY_SEPARATOR=S.default.Modality[0],h.MODALITY_CONTENT=S.default.Modality.substr(1)},bVud:function(N,c,d){"use strict";Object.defineProperty(c,"__esModule",{value:!0});var S=d("4vb1");S.__exportStar(d("ntEb"),c)},bdgK:function(N,c,d){"use strict";(function(S){var h=function(){if(typeof Map<"u")return Map;function ie(ge,Ie){var le=-1;return ge.some(function(we,Be){return we[0]===Ie?(le=Be,!0):!1}),le}return o(ie,"getIndex"),function(){function ge(){this.__entries__=[]}return o(ge,"class_1"),Object.defineProperty(ge.prototype,"size",{get:function(){return this.__entries__.length},enumerable:!0,configurable:!0}),ge.prototype.get=function(Ie){var le=ie(this.__entries__,Ie),we=this.__entries__[le];return we&&we[1]},ge.prototype.set=function(Ie,le){var we=ie(this.__entries__,Ie);~we?this.__entries__[we][1]=le:this.__entries__.push([Ie,le])},ge.prototype.delete=function(Ie){var le=this.__entries__,we=ie(le,Ie);~we&&le.splice(we,1)},ge.prototype.has=function(Ie){return!!~ie(this.__entries__,Ie)},ge.prototype.clear=function(){this.__entries__.splice(0)},ge.prototype.forEach=function(Ie,le){le===void 0&&(le=null);for(var we=0,Be=this.__entries__;we<Be.length;we++){var Re=Be[we];Ie.call(le,Re[1],Re[0])}},ge}()}(),m=typeof window<"u"&&typeof document<"u"&&window.document===document,f=function(){return typeof S<"u"&&S.Math===Math?S:typeof self<"u"&&self.Math===Math?self:typeof window<"u"&&window.Math===Math?window:Function("return this")()}(),a=function(){return typeof requestAnimationFrame=="function"?requestAnimationFrame.bind(f):function(ie){return setTimeout(function(){return ie(Date.now())},1e3/60)}}(),n=2;function i(ie,ge){var Ie=!1,le=!1,we=0;function Be(){Ie&&(Ie=!1,ie()),le&&Ne()}o(Be,"resolvePending");function Re(){a(Be)}o(Re,"timeoutCallback");function Ne(){var _e=Date.now();if(Ie){if(_e-we<n)return;le=!0}else Ie=!0,le=!1,setTimeout(Re,ge);we=_e}return o(Ne,"proxy"),Ne}o(i,"throttle");var e=20,t=["top","right","bottom","left","width","height","size","weight"],r=typeof MutationObserver<"u",l=function(){function ie(){this.connected_=!1,this.mutationEventsAdded_=!1,this.mutationsObserver_=null,this.observers_=[],this.onTransitionEnd_=this.onTransitionEnd_.bind(this),this.refresh=i(this.refresh.bind(this),e)}return o(ie,"ResizeObserverController"),ie.prototype.addObserver=function(ge){~this.observers_.indexOf(ge)||this.observers_.push(ge),this.connected_||this.connect_()},ie.prototype.removeObserver=function(ge){var Ie=this.observers_,le=Ie.indexOf(ge);~le&&Ie.splice(le,1),!Ie.length&&this.connected_&&this.disconnect_()},ie.prototype.refresh=function(){var ge=this.updateObservers_();ge&&this.refresh()},ie.prototype.updateObservers_=function(){var ge=this.observers_.filter(function(Ie){return Ie.gatherActive(),Ie.hasActive()});return ge.forEach(function(Ie){return Ie.broadcastActive()}),ge.length>0},ie.prototype.connect_=function(){!m||this.connected_||(document.addEventListener("transitionend",this.onTransitionEnd_),window.addEventListener("resize",this.refresh),r?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener("DOMSubtreeModified",this.refresh),this.mutationEventsAdded_=!0),this.connected_=!0)},ie.prototype.disconnect_=function(){!m||!this.connected_||(document.removeEventListener("transitionend",this.onTransitionEnd_),window.removeEventListener("resize",this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&document.removeEventListener("DOMSubtreeModified",this.refresh),this.mutationsObserver_=null,this.mutationEventsAdded_=!1,this.connected_=!1)},ie.prototype.onTransitionEnd_=function(ge){var Ie=ge.propertyName,le=Ie===void 0?"":Ie,we=t.some(function(Be){return!!~le.indexOf(Be)});we&&this.refresh()},ie.getInstance=function(){return this.instance_||(this.instance_=new ie),this.instance_},ie.instance_=null,ie}(),p=o(function(ie,ge){for(var Ie=0,le=Object.keys(ge);Ie<le.length;Ie++){var we=le[Ie];Object.defineProperty(ie,we,{value:ge[we],enumerable:!1,writable:!1,configurable:!0})}return ie},"defineConfigurable"),v=o(function(ie){var ge=ie&&ie.ownerDocument&&ie.ownerDocument.defaultView;return ge||f},"getWindowOf"),g=$(0,0,0,0);function u(ie){return parseFloat(ie)||0}o(u,"toFloat");function s(ie){for(var ge=[],Ie=1;Ie<arguments.length;Ie++)ge[Ie-1]=arguments[Ie];return ge.reduce(function(le,we){var Be=ie["border-"+we+"-width"];return le+u(Be)},0)}o(s,"getBordersSize");function I(ie){for(var ge=["top","right","bottom","left"],Ie={},le=0,we=ge;le<we.length;le++){var Be=we[le],Re=ie["padding-"+Be];Ie[Be]=u(Re)}return Ie}o(I,"getPaddings");function M(ie){var ge=ie.getBBox();return $(0,0,ge.width,ge.height)}o(M,"getSVGContentRect");function R(ie){var ge=ie.clientWidth,Ie=ie.clientHeight;if(!ge&&!Ie)return g;var le=v(ie).getComputedStyle(ie),we=I(le),Be=we.left+we.right,Re=we.top+we.bottom,Ne=u(le.width),_e=u(le.height);if(le.boxSizing==="border-box"&&(Math.round(Ne+Be)!==ge&&(Ne-=s(le,"left","right")+Be),Math.round(_e+Re)!==Ie&&(_e-=s(le,"top","bottom")+Re)),!j(ie)){var Ze=Math.round(Ne+Be)-ge,tt=Math.round(_e+Re)-Ie;Math.abs(Ze)!==1&&(Ne-=Ze),Math.abs(tt)!==1&&(_e-=tt)}return $(we.left,we.top,Ne,_e)}o(R,"getHTMLElementContentRect");var B=function(){return typeof SVGGraphicsElement<"u"?function(ie){return ie instanceof v(ie).SVGGraphicsElement}:function(ie){return ie instanceof v(ie).SVGElement&&typeof ie.getBBox=="function"}}();function j(ie){return ie===v(ie).document.documentElement}o(j,"isDocumentElement");function A(ie){return m?B(ie)?M(ie):R(ie):g}o(A,"getContentRect");function D(ie){var ge=ie.x,Ie=ie.y,le=ie.width,we=ie.height,Be=typeof DOMRectReadOnly<"u"?DOMRectReadOnly:Object,Re=Object.create(Be.prototype);return p(Re,{x:ge,y:Ie,width:le,height:we,top:Ie,right:ge+le,bottom:we+Ie,left:ge}),Re}o(D,"createReadOnlyRect");function $(ie,ge,Ie,le){return{x:ie,y:ge,width:Ie,height:le}}o($,"createRectInit");var O=function(){function ie(ge){this.broadcastWidth=0,this.broadcastHeight=0,this.contentRect_=$(0,0,0,0),this.target=ge}return o(ie,"ResizeObservation"),ie.prototype.isActive=function(){var ge=A(this.target);return this.contentRect_=ge,ge.width!==this.broadcastWidth||ge.height!==this.broadcastHeight},ie.prototype.broadcastRect=function(){var ge=this.contentRect_;return this.broadcastWidth=ge.width,this.broadcastHeight=ge.height,ge},ie}(),P=function(){function ie(ge,Ie){var le=D(Ie);p(this,{target:ge,contentRect:le})}return o(ie,"ResizeObserverEntry"),ie}(),k=function(){function ie(ge,Ie,le){if(this.activeObservations_=[],this.observations_=new h,typeof ge!="function")throw new TypeError("The callback provided as parameter 1 is not a function.");this.callback_=ge,this.controller_=Ie,this.callbackCtx_=le}return o(ie,"ResizeObserverSPI"),ie.prototype.observe=function(ge){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if(!(typeof Element>"u"||!(Element instanceof Object))){if(!(ge instanceof v(ge).Element))throw new TypeError('parameter 1 is not of type "Element".');var Ie=this.observations_;Ie.has(ge)||(Ie.set(ge,new O(ge)),this.controller_.addObserver(this),this.controller_.refresh())}},ie.prototype.unobserve=function(ge){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if(!(typeof Element>"u"||!(Element instanceof Object))){if(!(ge instanceof v(ge).Element))throw new TypeError('parameter 1 is not of type "Element".');var Ie=this.observations_;Ie.has(ge)&&(Ie.delete(ge),Ie.size||this.controller_.removeObserver(this))}},ie.prototype.disconnect=function(){this.clearActive(),this.observations_.clear(),this.controller_.removeObserver(this)},ie.prototype.gatherActive=function(){var ge=this;this.clearActive(),this.observations_.forEach(function(Ie){Ie.isActive()&&ge.activeObservations_.push(Ie)})},ie.prototype.broadcastActive=function(){if(this.hasActive()){var ge=this.callbackCtx_,Ie=this.activeObservations_.map(function(le){return new P(le.target,le.broadcastRect())});this.callback_.call(ge,Ie,ge),this.clearActive()}},ie.prototype.clearActive=function(){this.activeObservations_.splice(0)},ie.prototype.hasActive=function(){return this.activeObservations_.length>0},ie}(),K=typeof WeakMap<"u"?new WeakMap:new h,Z=function(){function ie(ge){if(!(this instanceof ie))throw new TypeError("Cannot call a class as a function.");if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");var Ie=l.getInstance(),le=new k(ge,Ie,this);K.set(this,le)}return o(ie,"ResizeObserver"),ie}();["observe","unobserve","disconnect"].forEach(function(ie){Z.prototype[ie]=function(){var ge;return(ge=K.get(this))[ie].apply(ge,arguments)}});var Y=function(){return typeof f.ResizeObserver<"u"?f.ResizeObserver:Z}();c.a=Y}).call(this,d("yLpj"))},beBF:function(N,c,d){"use strict";Object.defineProperty(c,"__esModule",{value:!0});let S=o(class{},"Attendee");c.default=S},bjg3:function(N,c,d){"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.ClientMetricReportDirection=void 0;var S;(function(h){h[h.UPSTREAM=0]="UPSTREAM",h[h.DOWNSTREAM=1]="DOWNSTREAM"})(S=c.ClientMetricReportDirection||(c.ClientMetricReportDirection={})),c.default=S},c41J:function(N,c,d){"use strict";d.d(c,"a",function(){return t});var S=d("9oTK"),h=d.n(S),m=d("m8R6"),f=d("2XU3"),a=d("WCk1"),n=d("s4P+"),i=d("pjW8");const e={ChannelNotFound:"channel_not_found",GlobalRatelimited:"global_ratelimited",Ratelimited:"ratelimited",InternalError:"internal_error"},t=Object(a.a)("megaphone.notifications.list generated fetcher",function(){var r=Object(S.coroutine)(function*(l,p,v){try{const g=["reason"],u=Object(m.a)(v,g),s=Object(i.b)(u);return yield l(Object(f.a)({method:"megaphone.notifications.list",args:s,reason:v.reason}))}catch(g){throw Object(n.a)({getState:p}).error(`API call to megaphone.notifications.list
				with reason ${v.reason} failed, initiated by generated fetcher`),g}});return function(l,p,v){return r.apply(this,arguments)}}());t.meta={name:"createFetcher",key:"createFetchermegaphoneNotificationsListFetcher",description:"megaphone.notifications.list generated fetcher"}},c7k8:function(N,c,d){"use strict";d.d(c,"a",function(){return Nr}),d.d(c,"b",function(){return Er}),d.d(c,"c",function(){return sr}),d.d(c,"d",function(){return Ki}),d.d(c,"k",function(){return Ot}),d.d(c,"f",function(){return Qn}),d.d(c,"g",function(){return Jo}),d.d(c,"h",function(){return ns}),d.d(c,"i",function(){return os}),d.d(c,"e",function(){return Qr}),d.d(c,"j",function(){return As});var S=d("Yz+Y"),h=d.n(S),m=d("iCc5"),f=d.n(m),a=d("V7oC"),n=d.n(a),i=d("FYw3"),e=d.n(i),t=d("mRg0"),r=d.n(t),l=d("q1tI"),p=d("VCL8"),v=d("P2sY"),g=d.n(v),u=d("QbLZ"),s=d.n(u);function I(he){var re,q,L="";if(typeof he=="string"||typeof he=="number")L+=he;else if(typeof he=="object")if(Array.isArray(he))for(re=0;re<he.length;re++)he[re]&&(q=I(he[re]))&&(L&&(L+=" "),L+=q);else for(re in he)he[re]&&(L&&(L+=" "),L+=re);return L}o(I,"clsx_m_r");function M(){for(var he,re,q=0,L="";q<arguments.length;)(he=arguments[q++])&&(re=I(he))&&(L&&(L+=" "),L+=re);return L}o(M,"clsx");var R=M;function B(he){var re=he.cellCount,q=he.cellSize,L=he.computeMetadataCallback,G=he.computeMetadataCallbackProps,se=he.nextCellsCount,oe=he.nextCellSize,Ce=he.nextScrollToIndex,Ae=he.scrollToIndex,xe=he.updateScrollOffsetForScrollToIndex;(re!==se||(typeof q=="number"||typeof oe=="number")&&q!==oe)&&(L(G),Ae>=0&&Ae===Ce&&xe())}o(B,"calculateSizeAndPositionDataAndUpdateScrollOffset");var j=d("jo6Y"),A=d.n(j),D=d("n3tL"),$=null,O=null,P=null,k=null,K=null,Z=null,Y=null,ie=null,ge=null,Ie=null,le=null,we=null,Be=null,Re=null,Ne=null,_e=null,Ze=null,tt=null,$e=function(){function he(re){var q=re.cellCount,L=re.cellSizeGetter,G=re.estimatedCellSize;f()(this,he),this._cellSizeAndPositionData={},this._lastMeasuredIndex=-1,this._lastBatchedIndex=-1,this._cellSizeGetter=L,this._cellCount=q,this._estimatedCellSize=G}return o(he,"CellSizeAndPositionManager"),n()(he,[{key:"areOffsetsAdjusted",value:o(function(){return!1},"areOffsetsAdjusted")},{key:"configure",value:o(function(q){var L=q.cellCount,G=q.estimatedCellSize,se=q.cellSizeGetter;this._cellCount=L,this._estimatedCellSize=G,this._cellSizeGetter=se},"configure")},{key:"getCellCount",value:o(function(){return this._cellCount},"getCellCount")},{key:"getEstimatedCellSize",value:o(function(){return this._estimatedCellSize},"getEstimatedCellSize")},{key:"getLastMeasuredIndex",value:o(function(){return this._lastMeasuredIndex},"getLastMeasuredIndex")},{key:"getOffsetAdjustment",value:o(function(){return 0},"getOffsetAdjustment")},{key:"getSizeAndPositionOfCell",value:o(function(q){if(q<0||q>=this._cellCount)throw Error("Requested index "+q+" is outside of range 0.."+this._cellCount);if(q>this._lastMeasuredIndex)for(var L=this.getSizeAndPositionOfLastMeasuredCell(),G=L.offset+L.size,se=this._lastMeasuredIndex+1;se<=q;se++){var oe=this._cellSizeGetter({index:se});if(oe===void 0||isNaN(oe))throw Error("Invalid size returned for cell "+se+" of value "+oe);oe===null?(this._cellSizeAndPositionData[se]={offset:G,size:0},this._lastBatchedIndex=q):(this._cellSizeAndPositionData[se]={offset:G,size:oe},G+=oe,this._lastMeasuredIndex=q)}return this._cellSizeAndPositionData[q]},"getSizeAndPositionOfCell")},{key:"getSizeAndPositionOfLastMeasuredCell",value:o(function(){return this._lastMeasuredIndex>=0?this._cellSizeAndPositionData[this._lastMeasuredIndex]:{offset:0,size:0}},"getSizeAndPositionOfLastMeasuredCell")},{key:"getTotalSize",value:o(function(){var q=this.getSizeAndPositionOfLastMeasuredCell(),L=q.offset+q.size,G=this._cellCount-this._lastMeasuredIndex-1,se=G*this._estimatedCellSize;return L+se},"getTotalSize")},{key:"getUpdatedOffsetForIndex",value:o(function(q){var L=q.align,G=L===void 0?"auto":L,se=q.containerSize,oe=q.currentOffset,Ce=q.targetIndex;if(se<=0)return 0;var Ae=this.getSizeAndPositionOfCell(Ce),xe=Ae.offset,Ve=xe-se+Ae.size,He=void 0;switch(G){case"start":He=xe;break;case"end":He=Ve;break;case"center":He=xe-(se-Ae.size)/2;break;default:He=Math.max(Ve,Math.min(xe,oe));break}var Je=this.getTotalSize();return Math.max(0,Math.min(Je-se,He))},"getUpdatedOffsetForIndex")},{key:"getVisibleCellRange",value:o(function(q){var L=q.containerSize,G=q.offset,se=this.getTotalSize();if(se===0)return{};var oe=G+L,Ce=this._findNearestCell(G),Ae=this.getSizeAndPositionOfCell(Ce);G=Ae.offset+Ae.size;for(var xe=Ce;G<oe&&xe<this._cellCount-1;)xe++,G+=this.getSizeAndPositionOfCell(xe).size;return{start:Ce,stop:xe}},"getVisibleCellRange")},{key:"resetCell",value:o(function(q){this._lastMeasuredIndex=Math.min(this._lastMeasuredIndex,q-1)},"resetCell")},{key:"_binarySearch",value:o(function(q,L,G){for(;L<=q;){var se=L+Math.floor((q-L)/2),oe=this.getSizeAndPositionOfCell(se).offset;if(oe===G)return se;oe<G?L=se+1:oe>G&&(q=se-1)}return L>0?L-1:0},"_binarySearch")},{key:"_exponentialSearch",value:o(function(q,L){for(var G=1;q<this._cellCount&&this.getSizeAndPositionOfCell(q).offset<L;)q+=G,G*=2;return this._binarySearch(Math.min(q,this._cellCount-1),Math.floor(q/2),L)},"_exponentialSearch")},{key:"_findNearestCell",value:o(function(q){if(isNaN(q))throw Error("Invalid offset "+q+" specified");q=Math.max(0,q);var L=this.getSizeAndPositionOfLastMeasuredCell(),G=Math.max(0,this._lastMeasuredIndex);return L.offset>=q?this._binarySearch(G,0,q):this._exponentialSearch(G,q)},"_findNearestCell")}]),he}(),at=$e,lt=15e5,ot=16777100,Gt=o(function(){return typeof window<"u"},"isBrowser"),Zt=o(function(){return!!window.chrome},"isChrome"),un=o(function(){return Gt()&&Zt()?ot:lt},"getMaxElementSize"),Un=function(){function he(re){var q=re.maxScrollSize,L=q===void 0?un():q,G=A()(re,["maxScrollSize"]);f()(this,he),this._cellSizeAndPositionManager=new at(G),this._maxScrollSize=L}return o(he,"ScalingCellSizeAndPositionManager"),n()(he,[{key:"areOffsetsAdjusted",value:o(function(){return this._cellSizeAndPositionManager.getTotalSize()>this._maxScrollSize},"areOffsetsAdjusted")},{key:"configure",value:o(function(q){this._cellSizeAndPositionManager.configure(q)},"configure")},{key:"getCellCount",value:o(function(){return this._cellSizeAndPositionManager.getCellCount()},"getCellCount")},{key:"getEstimatedCellSize",value:o(function(){return this._cellSizeAndPositionManager.getEstimatedCellSize()},"getEstimatedCellSize")},{key:"getLastMeasuredIndex",value:o(function(){return this._cellSizeAndPositionManager.getLastMeasuredIndex()},"getLastMeasuredIndex")},{key:"getOffsetAdjustment",value:o(function(q){var L=q.containerSize,G=q.offset,se=this._cellSizeAndPositionManager.getTotalSize(),oe=this.getTotalSize(),Ce=this._getOffsetPercentage({containerSize:L,offset:G,totalSize:oe});return Math.round(Ce*(oe-se))},"getOffsetAdjustment")},{key:"getSizeAndPositionOfCell",value:o(function(q){return this._cellSizeAndPositionManager.getSizeAndPositionOfCell(q)},"getSizeAndPositionOfCell")},{key:"getSizeAndPositionOfLastMeasuredCell",value:o(function(){return this._cellSizeAndPositionManager.getSizeAndPositionOfLastMeasuredCell()},"getSizeAndPositionOfLastMeasuredCell")},{key:"getTotalSize",value:o(function(){return Math.min(this._maxScrollSize,this._cellSizeAndPositionManager.getTotalSize())},"getTotalSize")},{key:"getUpdatedOffsetForIndex",value:o(function(q){var L=q.align,G=L===void 0?"auto":L,se=q.containerSize,oe=q.currentOffset,Ce=q.targetIndex;oe=this._safeOffsetToOffset({containerSize:se,offset:oe});var Ae=this._cellSizeAndPositionManager.getUpdatedOffsetForIndex({align:G,containerSize:se,currentOffset:oe,targetIndex:Ce});return this._offsetToSafeOffset({containerSize:se,offset:Ae})},"getUpdatedOffsetForIndex")},{key:"getVisibleCellRange",value:o(function(q){var L=q.containerSize,G=q.offset;return G=this._safeOffsetToOffset({containerSize:L,offset:G}),this._cellSizeAndPositionManager.getVisibleCellRange({containerSize:L,offset:G})},"getVisibleCellRange")},{key:"resetCell",value:o(function(q){this._cellSizeAndPositionManager.resetCell(q)},"resetCell")},{key:"_getOffsetPercentage",value:o(function(q){var L=q.containerSize,G=q.offset,se=q.totalSize;return se<=L?0:G/(se-L)},"_getOffsetPercentage")},{key:"_offsetToSafeOffset",value:o(function(q){var L=q.containerSize,G=q.offset,se=this._cellSizeAndPositionManager.getTotalSize(),oe=this.getTotalSize();if(se===oe)return G;var Ce=this._getOffsetPercentage({containerSize:L,offset:G,totalSize:se});return Math.round(Ce*(oe-L))},"_offsetToSafeOffset")},{key:"_safeOffsetToOffset",value:o(function(q){var L=q.containerSize,G=q.offset,se=this._cellSizeAndPositionManager.getTotalSize(),oe=this.getTotalSize();if(se===oe)return G;var Ce=this._getOffsetPercentage({containerSize:L,offset:G,totalSize:oe});return Math.round(Ce*(se-L))},"_safeOffsetToOffset")}]),he}(),jn=Un,ci=d("GQeE"),fn=d.n(ci);function ri(){var he=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0,re={};return function(q){var L=q.callback,G=q.indices,se=fn()(G),oe=!he||se.every(function(Ae){var xe=G[Ae];return Array.isArray(xe)?xe.length>0:xe>=0}),Ce=se.length!==fn()(re).length||se.some(function(Ae){var xe=re[Ae],Ve=G[Ae];return Array.isArray(Ve)?xe.join(",")!==Ve.join(","):xe!==Ve});re=G,oe&&Ce&&L(G)}}o(ri,"createCallbackMemoizer");var gi=-1,Nn=1,Ti="horizontal",Bi="vertical";function vn(he){var re=he.cellCount,q=he.overscanCellsCount,L=he.scrollDirection,G=he.startIndex,se=he.stopIndex;return L===Nn?{overscanStartIndex:Math.max(0,G),overscanStopIndex:Math.min(re-1,se+q)}:{overscanStartIndex:Math.max(0,G-q),overscanStopIndex:Math.min(re-1,se)}}o(vn,"defaultOverscanIndicesGetter");function Mn(he){var re=he.cellSize,q=he.cellSizeAndPositionManager,L=he.previousCellsCount,G=he.previousCellSize,se=he.previousScrollToAlignment,oe=he.previousScrollToIndex,Ce=he.previousSize,Ae=he.scrollOffset,xe=he.scrollToAlignment,Ve=he.scrollToIndex,He=he.size,Je=he.sizeJustIncreasedFromZero,et=he.updateScrollIndexCallback,mt=q.getCellCount(),Rt=Ve>=0&&Ve<mt,Kt=He!==Ce||Je||!G||typeof re=="number"&&re!==G;Rt&&(Kt||xe!==se||Ve!==oe)?et(Ve):!Rt&&mt>0&&(He<Ce||mt<L)&&Ae>q.getTotalSize()-He&&et(mt-1)}o(Mn,"updateScrollIndexHelper");function Ot(he){for(var re=he.cellCache,q=he.cellRenderer,L=he.columnSizeAndPositionManager,G=he.columnStartIndex,se=he.columnStopIndex,oe=he.deferredMeasurementCache,Ce=he.horizontalOffsetAdjustment,Ae=he.isScrolling,xe=he.isScrollingOptOut,Ve=he.parent,He=he.rowSizeAndPositionManager,Je=he.rowStartIndex,et=he.rowStopIndex,mt=he.styleCache,Rt=he.verticalOffsetAdjustment,Kt=he.visibleColumnIndices,Yt=he.visibleRowIndices,an=[],cn=L.areOffsetsAdjusted()||He.areOffsetsAdjusted(),Tn=!Ae&&!cn,wt=Je;wt<=et;wt++)for(var ni=He.getSizeAndPositionOfCell(wt),qn=G;qn<=se;qn++){var Oi=L.getSizeAndPositionOfCell(qn),Li=qn>=Kt.start&&qn<=Kt.stop&&wt>=Yt.start&&wt<=Yt.stop,Mi=wt+"-"+qn,Si=void 0;Tn&&mt[Mi]?Si=mt[Mi]:oe&&!oe.has(wt,qn)?Si={height:"auto",left:0,position:"absolute",top:0,width:"auto"}:(Si={height:ni.size,left:Oi.offset+Ce,position:"absolute",top:ni.offset+Rt,width:Oi.size},mt[Mi]=Si);var Fi={columnIndex:qn,isScrolling:Ae,isVisible:Li,key:Mi,parent:Ve,rowIndex:wt,style:Si},Ri=void 0;(xe||Ae)&&!Ce&&!Rt?(re[Mi]||(re[Mi]=q(Fi)),Ri=re[Mi]):Ri=q(Fi),!(Ri==null||Ri===!1)&&an.push(Ri)}return an}o(Ot,"defaultCellRangeRenderer");function Ke(he,re){}o(Ke,"warnAboutMissingStyle");var gt=!!(typeof window<"u"&&window.document&&window.document.createElement),ht;function en(he){if((!ht&&ht!==0||he)&&gt){var re=document.createElement("div");re.style.position="absolute",re.style.top="-9999px",re.style.width="50px",re.style.height="50px",re.style.overflow="scroll",document.body.appendChild(re),ht=re.offsetWidth-re.clientWidth,document.body.removeChild(re)}return ht}o(en,"scrollbarSize_scrollbarSize");var Kn=d("4d7F"),li=d.n(Kn),Ee=void 0;typeof window<"u"?Ee=window:typeof self<"u"?Ee=self:Ee={};var Pe=Ee.requestAnimationFrame||Ee.webkitRequestAnimationFrame||Ee.mozRequestAnimationFrame||Ee.oRequestAnimationFrame||Ee.msRequestAnimationFrame||function(he){return Ee.setTimeout(he,1e3/60)},Fe=Ee.cancelAnimationFrame||Ee.webkitCancelAnimationFrame||Ee.mozCancelAnimationFrame||Ee.oCancelAnimationFrame||Ee.msCancelAnimationFrame||function(he){Ee.clearTimeout(he)},Dt=Pe,zt=Fe,Ut=null,bn=o(function(re){return zt(re.id)},"cancelAnimationTimeout"),wn=o(function(re,q){var L=void 0;li.a.resolve().then(function(){L=Date.now()});var G=o(function oe(){Date.now()-L>=q?re.call():se.id=Dt(oe)},"timeout"),se={id:Dt(G)};return se},"requestAnimationTimeout"),pn=150,xt={OBSERVED:"observed",REQUESTED:"requested"},Vn=o(function(){return null},"renderNull"),on=function(he){r()(re,he);function re(q){f()(this,re);var L=e()(this,(re.__proto__||h()(re)).call(this,q));L._onGridRenderedMemoizer=ri(),L._onScrollMemoizer=ri(!1),L._deferredInvalidateColumnIndex=null,L._deferredInvalidateRowIndex=null,L._recomputeScrollLeftFlag=!1,L._recomputeScrollTopFlag=!1,L._horizontalScrollBarSize=0,L._verticalScrollBarSize=0,L._scrollbarPresenceChanged=!1,L._renderedColumnStartIndex=0,L._renderedColumnStopIndex=0,L._renderedRowStartIndex=0,L._renderedRowStopIndex=0,L._styleCache={},L._cellCache={},L._debounceScrollEndedCallback=function(){L._disablePointerEventsTimeoutId=null,L.setState({isScrolling:!1,needToResetStyleCache:!1})},L._invokeOnGridRenderedHelper=function(){var oe=L.props.onSectionRendered;L._onGridRenderedMemoizer({callback:oe,indices:{columnOverscanStartIndex:L._columnStartIndex,columnOverscanStopIndex:L._columnStopIndex,columnStartIndex:L._renderedColumnStartIndex,columnStopIndex:L._renderedColumnStopIndex,rowOverscanStartIndex:L._rowStartIndex,rowOverscanStopIndex:L._rowStopIndex,rowStartIndex:L._renderedRowStartIndex,rowStopIndex:L._renderedRowStopIndex}})},L._setScrollingContainerRef=function(oe){L._scrollingContainer=oe},L._onScroll=function(oe){oe.target===L._scrollingContainer&&L.handleScrollEvent(oe.target)};var G=new jn({cellCount:q.columnCount,cellSizeGetter:o(function(Ce){return re._wrapSizeGetter(q.columnWidth)(Ce)},"cellSizeGetter"),estimatedCellSize:re._getEstimatedColumnSize(q)}),se=new jn({cellCount:q.rowCount,cellSizeGetter:o(function(Ce){return re._wrapSizeGetter(q.rowHeight)(Ce)},"cellSizeGetter"),estimatedCellSize:re._getEstimatedRowSize(q)});return L.state={instanceProps:{columnSizeAndPositionManager:G,rowSizeAndPositionManager:se,prevColumnWidth:q.columnWidth,prevRowHeight:q.rowHeight,prevColumnCount:q.columnCount,prevRowCount:q.rowCount,prevIsScrolling:q.isScrolling===!0,prevScrollToColumn:q.scrollToColumn,prevScrollToRow:q.scrollToRow,scrollbarSize:0,scrollbarSizeMeasured:!1},isScrolling:!1,scrollDirectionHorizontal:Nn,scrollDirectionVertical:Nn,scrollLeft:0,scrollTop:0,scrollPositionChangeReason:null,needToResetStyleCache:!1},q.scrollToRow>0&&(L._initialScrollTop=L._getCalculatedScrollTop(q,L.state)),q.scrollToColumn>0&&(L._initialScrollLeft=L._getCalculatedScrollLeft(q,L.state)),L}return o(re,"Grid"),n()(re,[{key:"getOffsetForCell",value:o(function(){var L=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},G=L.alignment,se=G===void 0?this.props.scrollToAlignment:G,oe=L.columnIndex,Ce=oe===void 0?this.props.scrollToColumn:oe,Ae=L.rowIndex,xe=Ae===void 0?this.props.scrollToRow:Ae,Ve=s()({},this.props,{scrollToAlignment:se,scrollToColumn:Ce,scrollToRow:xe});return{scrollLeft:this._getCalculatedScrollLeft(Ve),scrollTop:this._getCalculatedScrollTop(Ve)}},"getOffsetForCell")},{key:"getTotalRowsHeight",value:o(function(){return this.state.instanceProps.rowSizeAndPositionManager.getTotalSize()},"getTotalRowsHeight")},{key:"getTotalColumnsWidth",value:o(function(){return this.state.instanceProps.columnSizeAndPositionManager.getTotalSize()},"getTotalColumnsWidth")},{key:"handleScrollEvent",value:o(function(L){var G=L.scrollLeft,se=G===void 0?0:G,oe=L.scrollTop,Ce=oe===void 0?0:oe;if(!(Ce<0)){this._debounceScrollEnded();var Ae=this.props,xe=Ae.autoHeight,Ve=Ae.autoWidth,He=Ae.height,Je=Ae.width,et=this.state.instanceProps,mt=et.scrollbarSize,Rt=et.rowSizeAndPositionManager.getTotalSize(),Kt=et.columnSizeAndPositionManager.getTotalSize(),Yt=Math.min(Math.max(0,Kt-Je+mt),se),an=Math.min(Math.max(0,Rt-He+mt),Ce);if(this.state.scrollLeft!==Yt||this.state.scrollTop!==an){var cn=Yt!==this.state.scrollLeft?Yt>this.state.scrollLeft?Nn:gi:this.state.scrollDirectionHorizontal,Tn=an!==this.state.scrollTop?an>this.state.scrollTop?Nn:gi:this.state.scrollDirectionVertical,wt={isScrolling:!0,scrollDirectionHorizontal:cn,scrollDirectionVertical:Tn,scrollPositionChangeReason:xt.OBSERVED};xe||(wt.scrollTop=an),Ve||(wt.scrollLeft=Yt),wt.needToResetStyleCache=!1,this.setState(wt)}this._invokeOnScrollMemoizer({scrollLeft:Yt,scrollTop:an,totalColumnsWidth:Kt,totalRowsHeight:Rt})}},"handleScrollEvent")},{key:"invalidateCellSizeAfterRender",value:o(function(L){var G=L.columnIndex,se=L.rowIndex;this._deferredInvalidateColumnIndex=typeof this._deferredInvalidateColumnIndex=="number"?Math.min(this._deferredInvalidateColumnIndex,G):G,this._deferredInvalidateRowIndex=typeof this._deferredInvalidateRowIndex=="number"?Math.min(this._deferredInvalidateRowIndex,se):se},"invalidateCellSizeAfterRender")},{key:"measureAllCells",value:o(function(){var L=this.props,G=L.columnCount,se=L.rowCount,oe=this.state.instanceProps;oe.columnSizeAndPositionManager.getSizeAndPositionOfCell(G-1),oe.rowSizeAndPositionManager.getSizeAndPositionOfCell(se-1)},"measureAllCells")},{key:"recomputeGridSize",value:o(function(){var L=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},G=L.columnIndex,se=G===void 0?0:G,oe=L.rowIndex,Ce=oe===void 0?0:oe,Ae=this.props,xe=Ae.scrollToColumn,Ve=Ae.scrollToRow,He=this.state.instanceProps;He.columnSizeAndPositionManager.resetCell(se),He.rowSizeAndPositionManager.resetCell(Ce),this._recomputeScrollLeftFlag=xe>=0&&(this.state.scrollDirectionHorizontal===Nn?se<=xe:se>=xe),this._recomputeScrollTopFlag=Ve>=0&&(this.state.scrollDirectionVertical===Nn?Ce<=Ve:Ce>=Ve),this._styleCache={},this._cellCache={},this.forceUpdate()},"recomputeGridSize")},{key:"scrollToCell",value:o(function(L){var G=L.columnIndex,se=L.rowIndex,oe=this.props.columnCount,Ce=this.props;oe>1&&G!==void 0&&this._updateScrollLeftForScrollToColumn(s()({},Ce,{scrollToColumn:G})),se!==void 0&&this._updateScrollTopForScrollToRow(s()({},Ce,{scrollToRow:se}))},"scrollToCell")},{key:"componentDidMount",value:o(function(){var L=this.props,G=L.getScrollbarSize,se=L.height,oe=L.scrollLeft,Ce=L.scrollToColumn,Ae=L.scrollTop,xe=L.scrollToRow,Ve=L.width,He=this.state.instanceProps;if(this._initialScrollTop=0,this._initialScrollLeft=0,this._handleInvalidatedGridSize(),He.scrollbarSizeMeasured||this.setState(function(mt){var Rt=s()({},mt,{needToResetStyleCache:!1});return Rt.instanceProps.scrollbarSize=G(),Rt.instanceProps.scrollbarSizeMeasured=!0,Rt}),typeof oe=="number"&&oe>=0||typeof Ae=="number"&&Ae>=0){var Je=re._getScrollToPositionStateUpdate({prevState:this.state,scrollLeft:oe,scrollTop:Ae});Je&&(Je.needToResetStyleCache=!1,this.setState(Je))}this._scrollingContainer&&(this._scrollingContainer.scrollLeft!==this.state.scrollLeft&&(this._scrollingContainer.scrollLeft=this.state.scrollLeft),this._scrollingContainer.scrollTop!==this.state.scrollTop&&(this._scrollingContainer.scrollTop=this.state.scrollTop));var et=se>0&&Ve>0;Ce>=0&&et&&this._updateScrollLeftForScrollToColumn(),xe>=0&&et&&this._updateScrollTopForScrollToRow(),this._invokeOnGridRenderedHelper(),this._invokeOnScrollMemoizer({scrollLeft:oe||0,scrollTop:Ae||0,totalColumnsWidth:He.columnSizeAndPositionManager.getTotalSize(),totalRowsHeight:He.rowSizeAndPositionManager.getTotalSize()}),this._maybeCallOnScrollbarPresenceChange()},"componentDidMount")},{key:"componentDidUpdate",value:o(function(L,G){var se=this,oe=this.props,Ce=oe.autoHeight,Ae=oe.autoWidth,xe=oe.columnCount,Ve=oe.height,He=oe.rowCount,Je=oe.scrollToAlignment,et=oe.scrollToColumn,mt=oe.scrollToRow,Rt=oe.width,Kt=this.state,Yt=Kt.scrollLeft,an=Kt.scrollPositionChangeReason,cn=Kt.scrollTop,Tn=Kt.instanceProps;this._handleInvalidatedGridSize();var wt=xe>0&&L.columnCount===0||He>0&&L.rowCount===0;an===xt.REQUESTED&&(!Ae&&Yt>=0&&(Yt!==this._scrollingContainer.scrollLeft||wt)&&(this._scrollingContainer.scrollLeft=Yt),!Ce&&cn>=0&&(cn!==this._scrollingContainer.scrollTop||wt)&&(this._scrollingContainer.scrollTop=cn));var ni=(L.width===0||L.height===0)&&Ve>0&&Rt>0;if(this._recomputeScrollLeftFlag?(this._recomputeScrollLeftFlag=!1,this._updateScrollLeftForScrollToColumn(this.props)):Mn({cellSizeAndPositionManager:Tn.columnSizeAndPositionManager,previousCellsCount:L.columnCount,previousCellSize:L.columnWidth,previousScrollToAlignment:L.scrollToAlignment,previousScrollToIndex:L.scrollToColumn,previousSize:L.width,scrollOffset:Yt,scrollToAlignment:Je,scrollToIndex:et,size:Rt,sizeJustIncreasedFromZero:ni,updateScrollIndexCallback:o(function(){return se._updateScrollLeftForScrollToColumn(se.props)},"updateScrollIndexCallback")}),this._recomputeScrollTopFlag?(this._recomputeScrollTopFlag=!1,this._updateScrollTopForScrollToRow(this.props)):Mn({cellSizeAndPositionManager:Tn.rowSizeAndPositionManager,previousCellsCount:L.rowCount,previousCellSize:L.rowHeight,previousScrollToAlignment:L.scrollToAlignment,previousScrollToIndex:L.scrollToRow,previousSize:L.height,scrollOffset:cn,scrollToAlignment:Je,scrollToIndex:mt,size:Ve,sizeJustIncreasedFromZero:ni,updateScrollIndexCallback:o(function(){return se._updateScrollTopForScrollToRow(se.props)},"updateScrollIndexCallback")}),this._invokeOnGridRenderedHelper(),Yt!==G.scrollLeft||cn!==G.scrollTop){var qn=Tn.rowSizeAndPositionManager.getTotalSize(),Oi=Tn.columnSizeAndPositionManager.getTotalSize();this._invokeOnScrollMemoizer({scrollLeft:Yt,scrollTop:cn,totalColumnsWidth:Oi,totalRowsHeight:qn})}this._maybeCallOnScrollbarPresenceChange()},"componentDidUpdate")},{key:"componentWillUnmount",value:o(function(){this._disablePointerEventsTimeoutId&&bn(this._disablePointerEventsTimeoutId)},"componentWillUnmount")},{key:"render",value:o(function(){var L=this.props,G=L.autoContainerWidth,se=L.autoHeight,oe=L.autoWidth,Ce=L.className,Ae=L.containerProps,xe=L.containerRole,Ve=L.containerStyle,He=L.height,Je=L.id,et=L.noContentRenderer,mt=L.role,Rt=L.style,Kt=L.tabIndex,Yt=L.width,an=this.state,cn=an.instanceProps,Tn=an.needToResetStyleCache,wt=this._isScrolling(),ni={boxSizing:"border-box",direction:"ltr",height:se?"auto":He,position:"relative",width:oe?"auto":Yt,WebkitOverflowScrolling:"touch",willChange:"transform"};Tn&&(this._styleCache={}),this.state.isScrolling||this._resetStyleCache(),this._calculateChildrenToRender(this.props,this.state);var qn=cn.columnSizeAndPositionManager.getTotalSize(),Oi=cn.rowSizeAndPositionManager.getTotalSize(),Li=Oi>He?cn.scrollbarSize:0,Mi=qn>Yt?cn.scrollbarSize:0;(Mi!==this._horizontalScrollBarSize||Li!==this._verticalScrollBarSize)&&(this._horizontalScrollBarSize=Mi,this._verticalScrollBarSize=Li,this._scrollbarPresenceChanged=!0),ni.overflowX=qn+Li<=Yt?"hidden":"auto",ni.overflowY=Oi+Mi<=He?"hidden":"auto";var Si=this._childrenToDisplay,Fi=Si.length===0&&He>0&&Yt>0;return l.createElement("div",s()({ref:this._setScrollingContainerRef},Ae,{"aria-label":this.props["aria-label"],"aria-readonly":this.props["aria-readonly"],className:R("ReactVirtualized__Grid",Ce),id:Je,onScroll:this._onScroll,role:mt,style:s()({},ni,Rt),tabIndex:Kt}),Si.length>0&&l.createElement("div",{className:"ReactVirtualized__Grid__innerScrollContainer",role:xe,style:s()({width:G?"auto":qn,height:Oi,maxWidth:qn,maxHeight:Oi,overflow:"hidden",pointerEvents:wt?"none":"",position:"relative"},Ve)},Si),Fi&&et())},"render")},{key:"_calculateChildrenToRender",value:o(function(){var L=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.props,G=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.state,se=L.cellRenderer,oe=L.cellRangeRenderer,Ce=L.columnCount,Ae=L.deferredMeasurementCache,xe=L.height,Ve=L.overscanColumnCount,He=L.overscanIndicesGetter,Je=L.overscanRowCount,et=L.rowCount,mt=L.width,Rt=L.isScrollingOptOut,Kt=G.scrollDirectionHorizontal,Yt=G.scrollDirectionVertical,an=G.instanceProps,cn=this._initialScrollTop>0?this._initialScrollTop:G.scrollTop,Tn=this._initialScrollLeft>0?this._initialScrollLeft:G.scrollLeft,wt=this._isScrolling(L,G);if(this._childrenToDisplay=[],xe>0&&mt>0){var ni=an.columnSizeAndPositionManager.getVisibleCellRange({containerSize:mt,offset:Tn}),qn=an.rowSizeAndPositionManager.getVisibleCellRange({containerSize:xe,offset:cn}),Oi=an.columnSizeAndPositionManager.getOffsetAdjustment({containerSize:mt,offset:Tn}),Li=an.rowSizeAndPositionManager.getOffsetAdjustment({containerSize:xe,offset:cn});this._renderedColumnStartIndex=ni.start,this._renderedColumnStopIndex=ni.stop,this._renderedRowStartIndex=qn.start,this._renderedRowStopIndex=qn.stop;var Mi=He({direction:"horizontal",cellCount:Ce,overscanCellsCount:Ve,scrollDirection:Kt,startIndex:typeof ni.start=="number"?ni.start:0,stopIndex:typeof ni.stop=="number"?ni.stop:-1}),Si=He({direction:"vertical",cellCount:et,overscanCellsCount:Je,scrollDirection:Yt,startIndex:typeof qn.start=="number"?qn.start:0,stopIndex:typeof qn.stop=="number"?qn.stop:-1}),Fi=Mi.overscanStartIndex,Ri=Mi.overscanStopIndex,qi=Si.overscanStartIndex,to=Si.overscanStopIndex;if(Ae){if(!Ae.hasFixedHeight()){for(var xr=qi;xr<=to;xr++)if(!Ae.has(xr,0)){Fi=0,Ri=Ce-1;break}}if(!Ae.hasFixedWidth()){for(var mr=Fi;mr<=Ri;mr++)if(!Ae.has(0,mr)){qi=0,to=et-1;break}}}this._childrenToDisplay=oe({cellCache:this._cellCache,cellRenderer:se,columnSizeAndPositionManager:an.columnSizeAndPositionManager,columnStartIndex:Fi,columnStopIndex:Ri,deferredMeasurementCache:Ae,horizontalOffsetAdjustment:Oi,isScrolling:wt,isScrollingOptOut:Rt,parent:this,rowSizeAndPositionManager:an.rowSizeAndPositionManager,rowStartIndex:qi,rowStopIndex:to,scrollLeft:Tn,scrollTop:cn,styleCache:this._styleCache,verticalOffsetAdjustment:Li,visibleColumnIndices:ni,visibleRowIndices:qn}),this._columnStartIndex=Fi,this._columnStopIndex=Ri,this._rowStartIndex=qi,this._rowStopIndex=to}},"_calculateChildrenToRender")},{key:"_debounceScrollEnded",value:o(function(){var L=this.props.scrollingResetTimeInterval;this._disablePointerEventsTimeoutId&&bn(this._disablePointerEventsTimeoutId),this._disablePointerEventsTimeoutId=wn(this._debounceScrollEndedCallback,L)},"_debounceScrollEnded")},{key:"_handleInvalidatedGridSize",value:o(function(){if(typeof this._deferredInvalidateColumnIndex=="number"&&typeof this._deferredInvalidateRowIndex=="number"){var L=this._deferredInvalidateColumnIndex,G=this._deferredInvalidateRowIndex;this._deferredInvalidateColumnIndex=null,this._deferredInvalidateRowIndex=null,this.recomputeGridSize({columnIndex:L,rowIndex:G})}},"_handleInvalidatedGridSize")},{key:"_invokeOnScrollMemoizer",value:o(function(L){var G=this,se=L.scrollLeft,oe=L.scrollTop,Ce=L.totalColumnsWidth,Ae=L.totalRowsHeight;this._onScrollMemoizer({callback:o(function(Ve){var He=Ve.scrollLeft,Je=Ve.scrollTop,et=G.props,mt=et.height,Rt=et.onScroll,Kt=et.width;Rt({clientHeight:mt,clientWidth:Kt,scrollHeight:Ae,scrollLeft:He,scrollTop:Je,scrollWidth:Ce})},"callback"),indices:{scrollLeft:se,scrollTop:oe}})},"_invokeOnScrollMemoizer")},{key:"_isScrolling",value:o(function(){var L=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.props,G=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.state;return Object.hasOwnProperty.call(L,"isScrolling")?Boolean(L.isScrolling):Boolean(G.isScrolling)},"_isScrolling")},{key:"_maybeCallOnScrollbarPresenceChange",value:o(function(){if(this._scrollbarPresenceChanged){var L=this.props.onScrollbarPresenceChange;this._scrollbarPresenceChanged=!1,L({horizontal:this._horizontalScrollBarSize>0,size:this.state.instanceProps.scrollbarSize,vertical:this._verticalScrollBarSize>0})}},"_maybeCallOnScrollbarPresenceChange")},{key:"scrollToPosition",value:o(function(L){var G=L.scrollLeft,se=L.scrollTop,oe=re._getScrollToPositionStateUpdate({prevState:this.state,scrollLeft:G,scrollTop:se});oe&&(oe.needToResetStyleCache=!1,this.setState(oe))},"scrollToPosition")},{key:"_getCalculatedScrollLeft",value:o(function(){var L=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.props,G=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.state;return re._getCalculatedScrollLeft(L,G)},"_getCalculatedScrollLeft")},{key:"_updateScrollLeftForScrollToColumn",value:o(function(){var L=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.props,G=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.state,se=re._getScrollLeftForScrollToColumnStateUpdate(L,G);se&&(se.needToResetStyleCache=!1,this.setState(se))},"_updateScrollLeftForScrollToColumn")},{key:"_getCalculatedScrollTop",value:o(function(){var L=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.props,G=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.state;return re._getCalculatedScrollTop(L,G)},"_getCalculatedScrollTop")},{key:"_resetStyleCache",value:o(function(){var L=this._styleCache,G=this._cellCache,se=this.props.isScrollingOptOut;this._cellCache={},this._styleCache={};for(var oe=this._rowStartIndex;oe<=this._rowStopIndex;oe++)for(var Ce=this._columnStartIndex;Ce<=this._columnStopIndex;Ce++){var Ae=oe+"-"+Ce;this._styleCache[Ae]=L[Ae],se&&(this._cellCache[Ae]=G[Ae])}},"_resetStyleCache")},{key:"_updateScrollTopForScrollToRow",value:o(function(){var L=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.props,G=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.state,se=re._getScrollTopForScrollToRowStateUpdate(L,G);se&&(se.needToResetStyleCache=!1,this.setState(se))},"_updateScrollTopForScrollToRow")}],[{key:"getDerivedStateFromProps",value:o(function(L,G){var se={};L.columnCount===0&&G.scrollLeft!==0||L.rowCount===0&&G.scrollTop!==0?(se.scrollLeft=0,se.scrollTop=0):(L.scrollLeft!==G.scrollLeft&&L.scrollToColumn<0||L.scrollTop!==G.scrollTop&&L.scrollToRow<0)&&g()(se,re._getScrollToPositionStateUpdate({prevState:G,scrollLeft:L.scrollLeft,scrollTop:L.scrollTop}));var oe=G.instanceProps;se.needToResetStyleCache=!1,(L.columnWidth!==oe.prevColumnWidth||L.rowHeight!==oe.prevRowHeight)&&(se.needToResetStyleCache=!0),oe.columnSizeAndPositionManager.configure({cellCount:L.columnCount,estimatedCellSize:re._getEstimatedColumnSize(L),cellSizeGetter:re._wrapSizeGetter(L.columnWidth)}),oe.rowSizeAndPositionManager.configure({cellCount:L.rowCount,estimatedCellSize:re._getEstimatedRowSize(L),cellSizeGetter:re._wrapSizeGetter(L.rowHeight)}),(oe.prevColumnCount===0||oe.prevRowCount===0)&&(oe.prevColumnCount=0,oe.prevRowCount=0),L.autoHeight&&L.isScrolling===!1&&oe.prevIsScrolling===!0&&g()(se,{isScrolling:!1});var Ce=void 0,Ae=void 0;return B({cellCount:oe.prevColumnCount,cellSize:typeof oe.prevColumnWidth=="number"?oe.prevColumnWidth:null,computeMetadataCallback:o(function(){return oe.columnSizeAndPositionManager.resetCell(0)},"computeMetadataCallback"),computeMetadataCallbackProps:L,nextCellsCount:L.columnCount,nextCellSize:typeof L.columnWidth=="number"?L.columnWidth:null,nextScrollToIndex:L.scrollToColumn,scrollToIndex:oe.prevScrollToColumn,updateScrollOffsetForScrollToIndex:o(function(){Ce=re._getScrollLeftForScrollToColumnStateUpdate(L,G)},"updateScrollOffsetForScrollToIndex")}),B({cellCount:oe.prevRowCount,cellSize:typeof oe.prevRowHeight=="number"?oe.prevRowHeight:null,computeMetadataCallback:o(function(){return oe.rowSizeAndPositionManager.resetCell(0)},"computeMetadataCallback"),computeMetadataCallbackProps:L,nextCellsCount:L.rowCount,nextCellSize:typeof L.rowHeight=="number"?L.rowHeight:null,nextScrollToIndex:L.scrollToRow,scrollToIndex:oe.prevScrollToRow,updateScrollOffsetForScrollToIndex:o(function(){Ae=re._getScrollTopForScrollToRowStateUpdate(L,G)},"updateScrollOffsetForScrollToIndex")}),oe.prevColumnCount=L.columnCount,oe.prevColumnWidth=L.columnWidth,oe.prevIsScrolling=L.isScrolling===!0,oe.prevRowCount=L.rowCount,oe.prevRowHeight=L.rowHeight,oe.prevScrollToColumn=L.scrollToColumn,oe.prevScrollToRow=L.scrollToRow,oe.scrollbarSize=L.getScrollbarSize(),oe.scrollbarSize===void 0?(oe.scrollbarSizeMeasured=!1,oe.scrollbarSize=0):oe.scrollbarSizeMeasured=!0,se.instanceProps=oe,s()({},se,Ce,Ae)},"getDerivedStateFromProps")},{key:"_getEstimatedColumnSize",value:o(function(L){return typeof L.columnWidth=="number"?L.columnWidth:L.estimatedColumnSize},"_getEstimatedColumnSize")},{key:"_getEstimatedRowSize",value:o(function(L){return typeof L.rowHeight=="number"?L.rowHeight:L.estimatedRowSize},"_getEstimatedRowSize")},{key:"_getScrollToPositionStateUpdate",value:o(function(L){var G=L.prevState,se=L.scrollLeft,oe=L.scrollTop,Ce={scrollPositionChangeReason:xt.REQUESTED};return typeof se=="number"&&se>=0&&(Ce.scrollDirectionHorizontal=se>G.scrollLeft?Nn:gi,Ce.scrollLeft=se),typeof oe=="number"&&oe>=0&&(Ce.scrollDirectionVertical=oe>G.scrollTop?Nn:gi,Ce.scrollTop=oe),typeof se=="number"&&se>=0&&se!==G.scrollLeft||typeof oe=="number"&&oe>=0&&oe!==G.scrollTop?Ce:null},"_getScrollToPositionStateUpdate")},{key:"_wrapSizeGetter",value:o(function(L){return typeof L=="function"?L:function(){return L}},"_wrapSizeGetter")},{key:"_getCalculatedScrollLeft",value:o(function(L,G){var se=L.columnCount,oe=L.height,Ce=L.scrollToAlignment,Ae=L.scrollToColumn,xe=L.width,Ve=G.scrollLeft,He=G.instanceProps;if(se>0){var Je=se-1,et=Ae<0?Je:Math.min(Je,Ae),mt=He.rowSizeAndPositionManager.getTotalSize(),Rt=He.scrollbarSizeMeasured&&mt>oe?He.scrollbarSize:0;return He.columnSizeAndPositionManager.getUpdatedOffsetForIndex({align:Ce,containerSize:xe-Rt,currentOffset:Ve,targetIndex:et})}return 0},"_getCalculatedScrollLeft")},{key:"_getScrollLeftForScrollToColumnStateUpdate",value:o(function(L,G){var se=G.scrollLeft,oe=re._getCalculatedScrollLeft(L,G);return typeof oe=="number"&&oe>=0&&se!==oe?re._getScrollToPositionStateUpdate({prevState:G,scrollLeft:oe,scrollTop:-1}):null},"_getScrollLeftForScrollToColumnStateUpdate")},{key:"_getCalculatedScrollTop",value:o(function(L,G){var se=L.height,oe=L.rowCount,Ce=L.scrollToAlignment,Ae=L.scrollToRow,xe=L.width,Ve=G.scrollTop,He=G.instanceProps;if(oe>0){var Je=oe-1,et=Ae<0?Je:Math.min(Je,Ae),mt=He.columnSizeAndPositionManager.getTotalSize(),Rt=He.scrollbarSizeMeasured&&mt>xe?He.scrollbarSize:0;return He.rowSizeAndPositionManager.getUpdatedOffsetForIndex({align:Ce,containerSize:se-Rt,currentOffset:Ve,targetIndex:et})}return 0},"_getCalculatedScrollTop")},{key:"_getScrollTopForScrollToRowStateUpdate",value:o(function(L,G){var se=G.scrollTop,oe=re._getCalculatedScrollTop(L,G);return typeof oe=="number"&&oe>=0&&se!==oe?re._getScrollToPositionStateUpdate({prevState:G,scrollLeft:-1,scrollTop:oe}):null},"_getScrollTopForScrollToRowStateUpdate")}]),re}(l.PureComponent);on.defaultProps={"aria-label":"grid","aria-readonly":!0,autoContainerWidth:!1,autoHeight:!1,autoWidth:!1,cellRangeRenderer:Ot,containerRole:"rowgroup",containerStyle:{},estimatedColumnSize:100,estimatedRowSize:30,getScrollbarSize:en,noContentRenderer:Vn,onScroll:o(function(){},"onScroll"),onScrollbarPresenceChange:o(function(){},"onScrollbarPresenceChange"),onSectionRendered:o(function(){},"onSectionRendered"),overscanColumnCount:0,overscanIndicesGetter:vn,overscanRowCount:10,role:"grid",scrollingResetTimeInterval:pn,scrollToAlignment:"auto",scrollToColumn:-1,scrollToRow:-1,style:{},tabIndex:0,isScrollingOptOut:!1},on.propTypes=null,Object(p.polyfill)(on);var Xn=on,vi=-1,kr=1,Gr="horizontal",Lr="vertical";function hi(he){var re=he.cellCount,q=he.overscanCellsCount,L=he.scrollDirection,G=he.startIndex,se=he.stopIndex;return q=Math.max(1,q),L===kr?{overscanStartIndex:Math.max(0,G-1),overscanStopIndex:Math.min(re-1,se+q)}:{overscanStartIndex:Math.max(0,G-q),overscanStopIndex:Math.min(re-1,se+1)}}o(hi,"accessibilityOverscanIndicesGetter_defaultOverscanIndicesGetter");var _r=null,Ii=function(he){r()(re,he);function re(){var q,L,G,se;f()(this,re);for(var oe=arguments.length,Ce=Array(oe),Ae=0;Ae<oe;Ae++)Ce[Ae]=arguments[Ae];return se=(L=(G=e()(this,(q=re.__proto__||h()(re)).call.apply(q,[this].concat(Ce))),G),G.state={scrollToColumn:0,scrollToRow:0},G._columnStartIndex=0,G._columnStopIndex=0,G._rowStartIndex=0,G._rowStopIndex=0,G._onKeyDown=function(xe){var Ve=G.props,He=Ve.columnCount,Je=Ve.disabled,et=Ve.mode,mt=Ve.rowCount;if(!Je){var Rt=G._getScrollState(),Kt=Rt.scrollToColumn,Yt=Rt.scrollToRow,an=G._getScrollState(),cn=an.scrollToColumn,Tn=an.scrollToRow;switch(xe.key){case"ArrowDown":Tn=Math.min(et==="cells"?Tn+1:G._rowStopIndex+1,mt-1);break;case"ArrowLeft":cn=Math.max(et==="cells"?cn-1:G._columnStartIndex-1,0);break;case"ArrowRight":cn=Math.min(et==="cells"?cn+1:G._columnStopIndex+1,He-1);break;case"ArrowUp":Tn=Math.max(et==="cells"?Tn-1:G._rowStartIndex-1,0);break}(cn!==Kt||Tn!==Yt)&&(xe.preventDefault(),G._updateScrollState({scrollToColumn:cn,scrollToRow:Tn}))}},G._onSectionRendered=function(xe){var Ve=xe.columnStartIndex,He=xe.columnStopIndex,Je=xe.rowStartIndex,et=xe.rowStopIndex;G._columnStartIndex=Ve,G._columnStopIndex=He,G._rowStartIndex=Je,G._rowStopIndex=et},L),e()(G,se)}return o(re,"ArrowKeyStepper"),n()(re,[{key:"setScrollIndexes",value:o(function(L){var G=L.scrollToColumn,se=L.scrollToRow;this.setState({scrollToRow:se,scrollToColumn:G})},"setScrollIndexes")},{key:"render",value:o(function(){var L=this.props,G=L.className,se=L.children,oe=this._getScrollState(),Ce=oe.scrollToColumn,Ae=oe.scrollToRow;return l.createElement("div",{className:G,onKeyDown:this._onKeyDown},se({onSectionRendered:this._onSectionRendered,scrollToColumn:Ce,scrollToRow:Ae}))},"render")},{key:"_getScrollState",value:o(function(){return this.props.isControlled?this.props:this.state},"_getScrollState")},{key:"_updateScrollState",value:o(function(L){var G=L.scrollToColumn,se=L.scrollToRow,oe=this.props,Ce=oe.isControlled,Ae=oe.onScrollToChange;typeof Ae=="function"&&Ae({scrollToColumn:G,scrollToRow:se}),Ce||this.setState({scrollToColumn:G,scrollToRow:se})},"_updateScrollState")}],[{key:"getDerivedStateFromProps",value:o(function(L,G){return L.isControlled?null:L.scrollToColumn!==G.scrollToColumn||L.scrollToRow!==G.scrollToRow?{scrollToColumn:L.scrollToColumn,scrollToRow:L.scrollToRow}:null},"getDerivedStateFromProps")}]),re}(l.PureComponent);Ii.defaultProps={disabled:!1,isControlled:!1,mode:"edges",scrollToColumn:0,scrollToRow:0},Ii.propTypes=null,Object(p.polyfill)(Ii);var Nr=Ii,or=d("m0Av"),fi=function(he){r()(re,he);function re(){var q,L,G,se;f()(this,re);for(var oe=arguments.length,Ce=Array(oe),Ae=0;Ae<oe;Ae++)Ce[Ae]=arguments[Ae];return se=(L=(G=e()(this,(q=re.__proto__||h()(re)).call.apply(q,[this].concat(Ce))),G),G.state={height:G.props.defaultHeight||0,width:G.props.defaultWidth||0},G._onResize=function(){var xe=G.props,Ve=xe.disableHeight,He=xe.disableWidth,Je=xe.onResize;if(G._parentNode){var et=G._parentNode.offsetHeight||0,mt=G._parentNode.offsetWidth||0,Rt=G._window||window,Kt=Rt.getComputedStyle(G._parentNode)||{},Yt=parseInt(Kt.paddingLeft,10)||0,an=parseInt(Kt.paddingRight,10)||0,cn=parseInt(Kt.paddingTop,10)||0,Tn=parseInt(Kt.paddingBottom,10)||0,wt=et-cn-Tn,ni=mt-Yt-an;(!Ve&&G.state.height!==wt||!He&&G.state.width!==ni)&&(G.setState({height:et-cn-Tn,width:mt-Yt-an}),Je({height:et,width:mt}))}},G._setRef=function(xe){G._autoSizer=xe},L),e()(G,se)}return o(re,"AutoSizer"),n()(re,[{key:"componentDidMount",value:o(function(){var L=this.props.nonce;this._autoSizer&&this._autoSizer.parentNode&&this._autoSizer.parentNode.ownerDocument&&this._autoSizer.parentNode.ownerDocument.defaultView&&this._autoSizer.parentNode instanceof this._autoSizer.parentNode.ownerDocument.defaultView.HTMLElement&&(this._parentNode=this._autoSizer.parentNode,this._window=this._autoSizer.parentNode.ownerDocument.defaultView,this._detectElementResize=Object(or.a)(L,this._window),this._detectElementResize.addResizeListener(this._parentNode,this._onResize),this._onResize())},"componentDidMount")},{key:"componentWillUnmount",value:o(function(){this._detectElementResize&&this._parentNode&&this._detectElementResize.removeResizeListener(this._parentNode,this._onResize)},"componentWillUnmount")},{key:"render",value:o(function(){var L=this.props,G=L.children,se=L.className,oe=L.disableHeight,Ce=L.disableWidth,Ae=L.style,xe=this.state,Ve=xe.height,He=xe.width,Je={overflow:"visible"},et={};return oe||(Je.height=0,et.height=Ve),Ce||(Je.width=0,et.width=He),l.createElement("div",{className:se,ref:this._setRef,style:s()({},Je,Ae)},G(et))},"render")}]),re}(l.PureComponent);fi.defaultProps={onResize:o(function(){},"onResize"),disableHeight:!1,disableWidth:!1,style:{}},fi.propTypes=null;var Er=fi,oi=d("wSSu"),tr=null,Jn=function(he){r()(re,he);function re(){var q,L,G,se;f()(this,re);for(var oe=arguments.length,Ce=Array(oe),Ae=0;Ae<oe;Ae++)Ce[Ae]=arguments[Ae];return se=(L=(G=e()(this,(q=re.__proto__||h()(re)).call.apply(q,[this].concat(Ce))),G),G._measure=function(){var xe=G.props,Ve=xe.cache,He=xe.columnIndex,Je=He===void 0?0:He,et=xe.parent,mt=xe.rowIndex,Rt=mt===void 0?G.props.index||0:mt,Kt=G._getCellMeasurements(),Yt=Kt.height,an=Kt.width;(Yt!==Ve.getHeight(Rt,Je)||an!==Ve.getWidth(Rt,Je))&&(Ve.set(Rt,Je,an,Yt),et&&typeof et.recomputeGridSize=="function"&&et.recomputeGridSize({columnIndex:Je,rowIndex:Rt}))},L),e()(G,se)}return o(re,"CellMeasurer"),n()(re,[{key:"componentDidMount",value:o(function(){this._maybeMeasureCell()},"componentDidMount")},{key:"componentDidUpdate",value:o(function(){this._maybeMeasureCell()},"componentDidUpdate")},{key:"render",value:o(function(){var L=this.props.children;return typeof L=="function"?L({measure:this._measure}):L},"render")},{key:"_getCellMeasurements",value:o(function(){var L=this.props.cache,G=Object(oi.findDOMNode)(this);if(G&&G.ownerDocument&&G.ownerDocument.defaultView&&G instanceof G.ownerDocument.defaultView.HTMLElement){var se=G.style.width,oe=G.style.height;L.hasFixedWidth()||(G.style.width="auto"),L.hasFixedHeight()||(G.style.height="auto");var Ce=Math.ceil(G.offsetHeight),Ae=Math.ceil(G.offsetWidth);return se&&(G.style.width=se),oe&&(G.style.height=oe),{height:Ce,width:Ae}}else return{height:0,width:0}},"_getCellMeasurements")},{key:"_maybeMeasureCell",value:o(function(){var L=this.props,G=L.cache,se=L.columnIndex,oe=se===void 0?0:se,Ce=L.parent,Ae=L.rowIndex,xe=Ae===void 0?this.props.index||0:Ae;if(!G.has(xe,oe)){var Ve=this._getCellMeasurements(),He=Ve.height,Je=Ve.width;G.set(xe,oe,Je,He),Ce&&typeof Ce.invalidateCellSizeAfterRender=="function"&&Ce.invalidateCellSizeAfterRender({columnIndex:oe,rowIndex:xe})}},"_maybeMeasureCell")}]),re}(l.PureComponent);Jn.__internalCellMeasurerFlag=!1,Jn.propTypes=null;var sr=Jn,$i=30,Tr=100,Ir=function(){function he(){var re=this,q=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};f()(this,he),this._cellHeightCache={},this._cellWidthCache={},this._columnWidthCache={},this._rowHeightCache={},this._columnCount=0,this._rowCount=0,this.columnWidth=function(Ve){var He=Ve.index,Je=re._keyMapper(0,He);return re._columnWidthCache.hasOwnProperty(Je)?re._columnWidthCache[Je]:re._defaultWidth},this.rowHeight=function(Ve){var He=Ve.index,Je=re._keyMapper(He,0);return re._rowHeightCache.hasOwnProperty(Je)?re._rowHeightCache[Je]:re._defaultHeight};var L=q.defaultHeight,G=q.defaultWidth,se=q.fixedHeight,oe=q.fixedWidth,Ce=q.keyMapper,Ae=q.minHeight,xe=q.minWidth;this._hasFixedHeight=se===!0,this._hasFixedWidth=oe===!0,this._minHeight=Ae||0,this._minWidth=xe||0,this._keyMapper=Ce||Or,this._defaultHeight=Math.max(this._minHeight,typeof L=="number"?L:$i),this._defaultWidth=Math.max(this._minWidth,typeof G=="number"?G:Tr)}return o(he,"CellMeasurerCache"),n()(he,[{key:"clear",value:o(function(q){var L=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,G=this._keyMapper(q,L);delete this._cellHeightCache[G],delete this._cellWidthCache[G],this._updateCachedColumnAndRowSizes(q,L)},"clear")},{key:"clearAll",value:o(function(){this._cellHeightCache={},this._cellWidthCache={},this._columnWidthCache={},this._rowHeightCache={},this._rowCount=0,this._columnCount=0},"clearAll")},{key:"hasFixedHeight",value:o(function(){return this._hasFixedHeight},"hasFixedHeight")},{key:"hasFixedWidth",value:o(function(){return this._hasFixedWidth},"hasFixedWidth")},{key:"getHeight",value:o(function(q){var L=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;if(this._hasFixedHeight)return this._defaultHeight;var G=this._keyMapper(q,L);return this._cellHeightCache.hasOwnProperty(G)?Math.max(this._minHeight,this._cellHeightCache[G]):this._defaultHeight},"getHeight")},{key:"getWidth",value:o(function(q){var L=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;if(this._hasFixedWidth)return this._defaultWidth;var G=this._keyMapper(q,L);return this._cellWidthCache.hasOwnProperty(G)?Math.max(this._minWidth,this._cellWidthCache[G]):this._defaultWidth},"getWidth")},{key:"has",value:o(function(q){var L=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,G=this._keyMapper(q,L);return this._cellHeightCache.hasOwnProperty(G)},"has")},{key:"set",value:o(function(q,L,G,se){var oe=this._keyMapper(q,L);L>=this._columnCount&&(this._columnCount=L+1),q>=this._rowCount&&(this._rowCount=q+1),this._cellHeightCache[oe]=se,this._cellWidthCache[oe]=G,this._updateCachedColumnAndRowSizes(q,L)},"set")},{key:"_updateCachedColumnAndRowSizes",value:o(function(q,L){if(!this._hasFixedWidth){for(var G=0,se=0;se<this._rowCount;se++)G=Math.max(G,this.getWidth(se,L));var oe=this._keyMapper(0,L);this._columnWidthCache[oe]=G}if(!this._hasFixedHeight){for(var Ce=0,Ae=0;Ae<this._columnCount;Ae++)Ce=Math.max(Ce,this.getHeight(q,Ae));var xe=this._keyMapper(q,0);this._rowHeightCache[xe]=Ce}},"_updateCachedColumnAndRowSizes")},{key:"defaultHeight",get:o(function(){return this._defaultHeight},"get")},{key:"defaultWidth",get:o(function(){return this._defaultWidth},"get")}]),he}(),Ki=Ir;function Or(he,re){return he+"-"+re}o(Or,"defaultKeyMapper");var H=sr,te=150,Oe={OBSERVED:"observed",REQUESTED:"requested"},ke=function(he){r()(re,he);function re(){var q;f()(this,re);for(var L=arguments.length,G=Array(L),se=0;se<L;se++)G[se]=arguments[se];var oe=e()(this,(q=re.__proto__||h()(re)).call.apply(q,[this].concat(G)));return oe.state={isScrolling:!1,scrollLeft:0,scrollTop:0},oe._calculateSizeAndPositionDataOnNextUpdate=!1,oe._onSectionRenderedMemoizer=ri(),oe._onScrollMemoizer=ri(!1),oe._invokeOnSectionRenderedHelper=function(){var Ce=oe.props,Ae=Ce.cellLayoutManager,xe=Ce.onSectionRendered;oe._onSectionRenderedMemoizer({callback:xe,indices:{indices:Ae.getLastRenderedIndices()}})},oe._setScrollingContainerRef=function(Ce){oe._scrollingContainer=Ce},oe._updateScrollPositionForScrollToCell=function(){var Ce=oe.props,Ae=Ce.cellLayoutManager,xe=Ce.height,Ve=Ce.scrollToAlignment,He=Ce.scrollToCell,Je=Ce.width,et=oe.state,mt=et.scrollLeft,Rt=et.scrollTop;if(He>=0){var Kt=Ae.getScrollPositionForCell({align:Ve,cellIndex:He,height:xe,scrollLeft:mt,scrollTop:Rt,width:Je});(Kt.scrollLeft!==mt||Kt.scrollTop!==Rt)&&oe._setScrollPosition(Kt)}},oe._onScroll=function(Ce){if(Ce.target===oe._scrollingContainer){oe._enablePointerEventsAfterDelay();var Ae=oe.props,xe=Ae.cellLayoutManager,Ve=Ae.height,He=Ae.isScrollingChange,Je=Ae.width,et=oe._scrollbarSize,mt=xe.getTotalSize(),Rt=mt.height,Kt=mt.width,Yt=Math.max(0,Math.min(Kt-Je+et,Ce.target.scrollLeft)),an=Math.max(0,Math.min(Rt-Ve+et,Ce.target.scrollTop));if(oe.state.scrollLeft!==Yt||oe.state.scrollTop!==an){var cn=Ce.cancelable?Oe.OBSERVED:Oe.REQUESTED;oe.state.isScrolling||He(!0),oe.setState({isScrolling:!0,scrollLeft:Yt,scrollPositionChangeReason:cn,scrollTop:an})}oe._invokeOnScrollMemoizer({scrollLeft:Yt,scrollTop:an,totalWidth:Kt,totalHeight:Rt})}},oe._scrollbarSize=en(),oe._scrollbarSize===void 0?(oe._scrollbarSizeMeasured=!1,oe._scrollbarSize=0):oe._scrollbarSizeMeasured=!0,oe}return o(re,"CollectionView"),n()(re,[{key:"recomputeCellSizesAndPositions",value:o(function(){this._calculateSizeAndPositionDataOnNextUpdate=!0,this.forceUpdate()},"recomputeCellSizesAndPositions")},{key:"componentDidMount",value:o(function(){var L=this.props,G=L.cellLayoutManager,se=L.scrollLeft,oe=L.scrollToCell,Ce=L.scrollTop;this._scrollbarSizeMeasured||(this._scrollbarSize=en(),this._scrollbarSizeMeasured=!0,this.setState({})),oe>=0?this._updateScrollPositionForScrollToCell():(se>=0||Ce>=0)&&this._setScrollPosition({scrollLeft:se,scrollTop:Ce}),this._invokeOnSectionRenderedHelper();var Ae=G.getTotalSize(),xe=Ae.height,Ve=Ae.width;this._invokeOnScrollMemoizer({scrollLeft:se||0,scrollTop:Ce||0,totalHeight:xe,totalWidth:Ve})},"componentDidMount")},{key:"componentDidUpdate",value:o(function(L,G){var se=this.props,oe=se.height,Ce=se.scrollToAlignment,Ae=se.scrollToCell,xe=se.width,Ve=this.state,He=Ve.scrollLeft,Je=Ve.scrollPositionChangeReason,et=Ve.scrollTop;Je===Oe.REQUESTED&&(He>=0&&He!==G.scrollLeft&&He!==this._scrollingContainer.scrollLeft&&(this._scrollingContainer.scrollLeft=He),et>=0&&et!==G.scrollTop&&et!==this._scrollingContainer.scrollTop&&(this._scrollingContainer.scrollTop=et)),(oe!==L.height||Ce!==L.scrollToAlignment||Ae!==L.scrollToCell||xe!==L.width)&&this._updateScrollPositionForScrollToCell(),this._invokeOnSectionRenderedHelper()},"componentDidUpdate")},{key:"componentWillUnmount",value:o(function(){this._disablePointerEventsTimeoutId&&clearTimeout(this._disablePointerEventsTimeoutId)},"componentWillUnmount")},{key:"render",value:o(function(){var L=this.props,G=L.autoHeight,se=L.cellCount,oe=L.cellLayoutManager,Ce=L.className,Ae=L.height,xe=L.horizontalOverscanSize,Ve=L.id,He=L.noContentRenderer,Je=L.style,et=L.verticalOverscanSize,mt=L.width,Rt=this.state,Kt=Rt.isScrolling,Yt=Rt.scrollLeft,an=Rt.scrollTop;(this._lastRenderedCellCount!==se||this._lastRenderedCellLayoutManager!==oe||this._calculateSizeAndPositionDataOnNextUpdate)&&(this._lastRenderedCellCount=se,this._lastRenderedCellLayoutManager=oe,this._calculateSizeAndPositionDataOnNextUpdate=!1,oe.calculateSizeAndPositionData());var cn=oe.getTotalSize(),Tn=cn.height,wt=cn.width,ni=Math.max(0,Yt-xe),qn=Math.max(0,an-et),Oi=Math.min(wt,Yt+mt+xe),Li=Math.min(Tn,an+Ae+et),Mi=Ae>0&&mt>0?oe.cellRenderers({height:Li-qn,isScrolling:Kt,width:Oi-ni,x:ni,y:qn}):[],Si={boxSizing:"border-box",direction:"ltr",height:G?"auto":Ae,position:"relative",WebkitOverflowScrolling:"touch",width:mt,willChange:"transform"},Fi=Tn>Ae?this._scrollbarSize:0,Ri=wt>mt?this._scrollbarSize:0;return Si.overflowX=wt+Fi<=mt?"hidden":"auto",Si.overflowY=Tn+Ri<=Ae?"hidden":"auto",l.createElement("div",{ref:this._setScrollingContainerRef,"aria-label":this.props["aria-label"],className:R("ReactVirtualized__Collection",Ce),id:Ve,onScroll:this._onScroll,role:"grid",style:s()({},Si,Je),tabIndex:0},se>0&&l.createElement("div",{className:"ReactVirtualized__Collection__innerScrollContainer",style:{height:Tn,maxHeight:Tn,maxWidth:wt,overflow:"hidden",pointerEvents:Kt?"none":"",width:wt}},Mi),se===0&&He())},"render")},{key:"_enablePointerEventsAfterDelay",value:o(function(){var L=this;this._disablePointerEventsTimeoutId&&clearTimeout(this._disablePointerEventsTimeoutId),this._disablePointerEventsTimeoutId=setTimeout(function(){var G=L.props.isScrollingChange;G(!1),L._disablePointerEventsTimeoutId=null,L.setState({isScrolling:!1})},te)},"_enablePointerEventsAfterDelay")},{key:"_invokeOnScrollMemoizer",value:o(function(L){var G=this,se=L.scrollLeft,oe=L.scrollTop,Ce=L.totalHeight,Ae=L.totalWidth;this._onScrollMemoizer({callback:o(function(Ve){var He=Ve.scrollLeft,Je=Ve.scrollTop,et=G.props,mt=et.height,Rt=et.onScroll,Kt=et.width;Rt({clientHeight:mt,clientWidth:Kt,scrollHeight:Ce,scrollLeft:He,scrollTop:Je,scrollWidth:Ae})},"callback"),indices:{scrollLeft:se,scrollTop:oe}})},"_invokeOnScrollMemoizer")},{key:"_setScrollPosition",value:o(function(L){var G=L.scrollLeft,se=L.scrollTop,oe={scrollPositionChangeReason:Oe.REQUESTED};G>=0&&(oe.scrollLeft=G),se>=0&&(oe.scrollTop=se),(G>=0&&G!==this.state.scrollLeft||se>=0&&se!==this.state.scrollTop)&&this.setState(oe)},"_setScrollPosition")}],[{key:"getDerivedStateFromProps",value:o(function(L,G){return L.cellCount===0&&(G.scrollLeft!==0||G.scrollTop!==0)?{scrollLeft:0,scrollTop:0}:L.scrollLeft!==G.scrollLeft||L.scrollTop!==G.scrollTop?{scrollLeft:L.scrollLeft!=null?L.scrollLeft:G.scrollLeft,scrollTop:L.scrollTop!=null?L.scrollTop:G.scrollTop}:null},"getDerivedStateFromProps")}]),re}(l.PureComponent);ke.defaultProps={"aria-label":"grid",horizontalOverscanSize:0,noContentRenderer:o(function(){return null},"noContentRenderer"),onScroll:o(function(){return null},"onScroll"),onSectionRendered:o(function(){return null},"onSectionRendered"),scrollToAlignment:"auto",scrollToCell:-1,style:{},verticalOverscanSize:0},ke.propTypes={},Object(p.polyfill)(ke);var Ge=ke,ft=null,pt=null,ct=null,St=null,Mt=null,kt=function(){function he(re){var q=re.height,L=re.width,G=re.x,se=re.y;f()(this,he),this.height=q,this.width=L,this.x=G,this.y=se,this._indexMap={},this._indices=[]}return o(he,"Section"),n()(he,[{key:"addCellIndex",value:o(function(q){var L=q.index;this._indexMap[L]||(this._indexMap[L]=!0,this._indices.push(L))},"addCellIndex")},{key:"getCellIndices",value:o(function(){return this._indices},"getCellIndices")},{key:"toString",value:o(function(){return this.x+","+this.y+" "+this.width+"x"+this.height},"toString")}]),he}(),En=kt,$t=100,Hn=function(){function he(){var re=arguments.length>0&&arguments[0]!==void 0?arguments[0]:$t;f()(this,he),this._sectionSize=re,this._cellMetadata=[],this._sections={}}return o(he,"SectionManager"),n()(he,[{key:"getCellIndices",value:o(function(q){var L=q.height,G=q.width,se=q.x,oe=q.y,Ce={};return this.getSections({height:L,width:G,x:se,y:oe}).forEach(function(Ae){return Ae.getCellIndices().forEach(function(xe){Ce[xe]=xe})}),fn()(Ce).map(function(Ae){return Ce[Ae]})},"getCellIndices")},{key:"getCellMetadata",value:o(function(q){var L=q.index;return this._cellMetadata[L]},"getCellMetadata")},{key:"getSections",value:o(function(q){for(var L=q.height,G=q.width,se=q.x,oe=q.y,Ce=Math.floor(se/this._sectionSize),Ae=Math.floor((se+G-1)/this._sectionSize),xe=Math.floor(oe/this._sectionSize),Ve=Math.floor((oe+L-1)/this._sectionSize),He=[],Je=Ce;Je<=Ae;Je++)for(var et=xe;et<=Ve;et++){var mt=Je+"."+et;this._sections[mt]||(this._sections[mt]=new En({height:this._sectionSize,width:this._sectionSize,x:Je*this._sectionSize,y:et*this._sectionSize})),He.push(this._sections[mt])}return He},"getSections")},{key:"getTotalSectionCount",value:o(function(){return fn()(this._sections).length},"getTotalSectionCount")},{key:"toString",value:o(function(){var q=this;return fn()(this._sections).map(function(L){return q._sections[L].toString()})},"toString")},{key:"registerCell",value:o(function(q){var L=q.cellMetadatum,G=q.index;this._cellMetadata[G]=L,this.getSections(L).forEach(function(se){return se.addCellIndex({index:G})})},"registerCell")}]),he}(),bt=Hn;function Zn(he){for(var re=he.cellCount,q=he.cellSizeAndPositionGetter,L=he.sectionSize,G=[],se=new bt(L),oe=0,Ce=0,Ae=0;Ae<re;Ae++){var xe=q({index:Ae});if(xe.height==null||isNaN(xe.height)||xe.width==null||isNaN(xe.width)||xe.x==null||isNaN(xe.x)||xe.y==null||isNaN(xe.y))throw Error("Invalid metadata returned for cell "+Ae+`:
        x:`+xe.x+", y:"+xe.y+", width:"+xe.width+", height:"+xe.height);oe=Math.max(oe,xe.y+xe.height),Ce=Math.max(Ce,xe.x+xe.width),G[Ae]=xe,se.registerCell({cellMetadatum:xe,index:Ae})}return{cellMetadata:G,height:oe,sectionManager:se,width:Ce}}o(Zn,"calculateSizeAndPositionData_calculateSizeAndPositionData");function zn(he){var re=he.align,q=re===void 0?"auto":re,L=he.cellOffset,G=he.cellSize,se=he.containerSize,oe=he.currentOffset,Ce=L,Ae=Ce-se+G;switch(q){case"start":return Ce;case"end":return Ae;case"center":return Ce-(se-G)/2;default:return Math.max(Ae,Math.min(Ce,oe))}}o(zn,"getUpdatedOffsetForIndex");var yi=function(he){r()(re,he);function re(q,L){f()(this,re);var G=e()(this,(re.__proto__||h()(re)).call(this,q,L));return G._cellMetadata=[],G._lastRenderedCellIndices=[],G._cellCache=[],G._isScrollingChange=G._isScrollingChange.bind(G),G._setCollectionViewRef=G._setCollectionViewRef.bind(G),G}return o(re,"Collection"),n()(re,[{key:"forceUpdate",value:o(function(){this._collectionView!==void 0&&this._collectionView.forceUpdate()},"forceUpdate")},{key:"recomputeCellSizesAndPositions",value:o(function(){this._cellCache=[],this._collectionView.recomputeCellSizesAndPositions()},"recomputeCellSizesAndPositions")},{key:"render",value:o(function(){var L=A()(this.props,[]);return l.createElement(Ge,s()({cellLayoutManager:this,isScrollingChange:this._isScrollingChange,ref:this._setCollectionViewRef},L))},"render")},{key:"calculateSizeAndPositionData",value:o(function(){var L=this.props,G=L.cellCount,se=L.cellSizeAndPositionGetter,oe=L.sectionSize,Ce=Zn({cellCount:G,cellSizeAndPositionGetter:se,sectionSize:oe});this._cellMetadata=Ce.cellMetadata,this._sectionManager=Ce.sectionManager,this._height=Ce.height,this._width=Ce.width},"calculateSizeAndPositionData")},{key:"getLastRenderedIndices",value:o(function(){return this._lastRenderedCellIndices},"getLastRenderedIndices")},{key:"getScrollPositionForCell",value:o(function(L){var G=L.align,se=L.cellIndex,oe=L.height,Ce=L.scrollLeft,Ae=L.scrollTop,xe=L.width,Ve=this.props.cellCount;if(se>=0&&se<Ve){var He=this._cellMetadata[se];Ce=zn({align:G,cellOffset:He.x,cellSize:He.width,containerSize:xe,currentOffset:Ce,targetIndex:se}),Ae=zn({align:G,cellOffset:He.y,cellSize:He.height,containerSize:oe,currentOffset:Ae,targetIndex:se})}return{scrollLeft:Ce,scrollTop:Ae}},"getScrollPositionForCell")},{key:"getTotalSize",value:o(function(){return{height:this._height,width:this._width}},"getTotalSize")},{key:"cellRenderers",value:o(function(L){var G=this,se=L.height,oe=L.isScrolling,Ce=L.width,Ae=L.x,xe=L.y,Ve=this.props,He=Ve.cellGroupRenderer,Je=Ve.cellRenderer;return this._lastRenderedCellIndices=this._sectionManager.getCellIndices({height:se,width:Ce,x:Ae,y:xe}),He({cellCache:this._cellCache,cellRenderer:Je,cellSizeAndPositionGetter:o(function(mt){var Rt=mt.index;return G._sectionManager.getCellMetadata({index:Rt})},"cellSizeAndPositionGetter"),indices:this._lastRenderedCellIndices,isScrolling:oe})},"cellRenderers")},{key:"_isScrollingChange",value:o(function(L){L||(this._cellCache=[])},"_isScrollingChange")},{key:"_setCollectionViewRef",value:o(function(L){this._collectionView=L},"_setCollectionViewRef")}]),re}(l.PureComponent);yi.defaultProps={"aria-label":"grid",cellGroupRenderer:$n};var ei=yi;yi.propTypes={};function $n(he){var re=he.cellCache,q=he.cellRenderer,L=he.cellSizeAndPositionGetter,G=he.indices,se=he.isScrolling;return G.map(function(oe){var Ce=L({index:oe}),Ae={index:oe,isScrolling:se,key:oe,style:{height:Ce.height,left:Ce.x,position:"absolute",top:Ce.y,width:Ce.width}};return se?(oe in re||(re[oe]=q(Ae)),re[oe]):q(Ae)}).filter(function(oe){return!!oe})}o($n,"defaultCellGroupRenderer");var Ei=ei,Pi=function(he){r()(re,he);function re(q,L){f()(this,re);var G=e()(this,(re.__proto__||h()(re)).call(this,q,L));return G._registerChild=G._registerChild.bind(G),G}return o(re,"ColumnSizer"),n()(re,[{key:"componentDidUpdate",value:o(function(L){var G=this.props,se=G.columnMaxWidth,oe=G.columnMinWidth,Ce=G.columnCount,Ae=G.width;(se!==L.columnMaxWidth||oe!==L.columnMinWidth||Ce!==L.columnCount||Ae!==L.width)&&this._registeredChild&&this._registeredChild.recomputeGridSize()},"componentDidUpdate")},{key:"render",value:o(function(){var L=this.props,G=L.children,se=L.columnMaxWidth,oe=L.columnMinWidth,Ce=L.columnCount,Ae=L.width,xe=oe||1,Ve=se?Math.min(se,Ae):Ae,He=Ae/Ce;He=Math.max(xe,He),He=Math.min(Ve,He),He=Math.floor(He);var Je=Math.min(Ae,He*Ce);return G({adjustedWidth:Je,columnWidth:He,getColumnWidth:o(function(){return He},"getColumnWidth"),registerChild:this._registerChild})},"render")},{key:"_registerChild",value:o(function(L){if(L&&typeof L.recomputeGridSize!="function")throw Error("Unexpected child type registered; only Grid/MultiGrid children are supported.");this._registeredChild=L,this._registeredChild&&this._registeredChild.recomputeGridSize()},"_registerChild")}]),re}(l.PureComponent),pi=Pi;Pi.propTypes={};var di=pi,wi=d("m1cH"),tn=d.n(wi),si=function(he){r()(re,he);function re(q,L){f()(this,re);var G=e()(this,(re.__proto__||h()(re)).call(this,q,L));return G._loadMoreRowsMemoizer=ri(),G._onRowsRendered=G._onRowsRendered.bind(G),G._registerChild=G._registerChild.bind(G),G}return o(re,"InfiniteLoader"),n()(re,[{key:"resetLoadMoreRowsCache",value:o(function(L){this._loadMoreRowsMemoizer=ri(),L&&this._doStuff(this._lastRenderedStartIndex,this._lastRenderedStopIndex)},"resetLoadMoreRowsCache")},{key:"render",value:o(function(){var L=this.props.children;return L({onRowsRendered:this._onRowsRendered,registerChild:this._registerChild})},"render")},{key:"_loadUnloadedRanges",value:o(function(L){var G=this,se=this.props.loadMoreRows;L.forEach(function(oe){var Ce=se(oe);Ce&&Ce.then(function(){Di({lastRenderedStartIndex:G._lastRenderedStartIndex,lastRenderedStopIndex:G._lastRenderedStopIndex,startIndex:oe.startIndex,stopIndex:oe.stopIndex})&&G._registeredChild&&mi(G._registeredChild,G._lastRenderedStartIndex)})})},"_loadUnloadedRanges")},{key:"_onRowsRendered",value:o(function(L){var G=L.startIndex,se=L.stopIndex;this._lastRenderedStartIndex=G,this._lastRenderedStopIndex=se,this._doStuff(G,se)},"_onRowsRendered")},{key:"_doStuff",value:o(function(L,G){var se,oe=this,Ce=this.props,Ae=Ce.isRowLoaded,xe=Ce.minimumBatchSize,Ve=Ce.rowCount,He=Ce.threshold,Je=io({isRowLoaded:Ae,minimumBatchSize:xe,rowCount:Ve,startIndex:Math.max(0,L-He),stopIndex:Math.min(Ve-1,G+He)}),et=(se=[]).concat.apply(se,tn()(Je.map(function(mt){var Rt=mt.startIndex,Kt=mt.stopIndex;return[Rt,Kt]})));this._loadMoreRowsMemoizer({callback:o(function(){oe._loadUnloadedRanges(Je)},"callback"),indices:{squashedUnloadedRanges:et}})},"_doStuff")},{key:"_registerChild",value:o(function(L){this._registeredChild=L},"_registerChild")}]),re}(l.PureComponent);si.defaultProps={minimumBatchSize:10,rowCount:0,threshold:15};var Qn=si;si.propTypes={};function Di(he){var re=he.lastRenderedStartIndex,q=he.lastRenderedStopIndex,L=he.startIndex,G=he.stopIndex;return!(L>q||G<re)}o(Di,"isRangeVisible");function io(he){for(var re=he.isRowLoaded,q=he.minimumBatchSize,L=he.rowCount,G=he.startIndex,se=he.stopIndex,oe=[],Ce=null,Ae=null,xe=G;xe<=se;xe++){var Ve=re({index:xe});Ve?Ae!==null&&(oe.push({startIndex:Ce,stopIndex:Ae}),Ce=Ae=null):(Ae=xe,Ce===null&&(Ce=xe))}if(Ae!==null){for(var He=Math.min(Math.max(Ae,Ce+q-1),L-1),Je=Ae+1;Je<=He&&!re({index:Je});Je++)Ae=Je;oe.push({startIndex:Ce,stopIndex:Ae})}if(oe.length)for(var et=oe[0];et.stopIndex-et.startIndex+1<q&&et.startIndex>0;){var mt=et.startIndex-1;if(!re({index:mt}))et.startIndex=mt;else break}return oe}o(io,"scanForUnloadedRanges");function mi(he){var re=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,q=typeof he.recomputeGridSize=="function"?he.recomputeGridSize:he.recomputeRowHeights;q?q.call(he,re):he.forceUpdate()}o(mi,"forceUpdateReactVirtualizedComponent");var Br=Qn,Ui=d("JO7F"),zs=d.n(Ui),Xi=null,Ji=null,ti=null,Jt=null,ar=function(he){r()(re,he);function re(){var q,L,G,se;f()(this,re);for(var oe=arguments.length,Ce=Array(oe),Ae=0;Ae<oe;Ae++)Ce[Ae]=arguments[Ae];return se=(L=(G=e()(this,(q=re.__proto__||h()(re)).call.apply(q,[this].concat(Ce))),G),G._cellRenderer=function(xe){var Ve=xe.parent,He=xe.rowIndex,Je=xe.style,et=xe.isScrolling,mt=xe.isVisible,Rt=xe.key,Kt=G.props.rowRenderer,Yt=zs()(Je,"width"),an=Yt.writable;return an&&(Je.width="100%"),Kt({index:He,style:Je,isScrolling:et,isVisible:mt,key:Rt,parent:Ve})},G._setRef=function(xe){G.Grid=xe},G._onScroll=function(xe){var Ve=xe.clientHeight,He=xe.scrollHeight,Je=xe.scrollTop,et=G.props.onScroll;et({clientHeight:Ve,scrollHeight:He,scrollTop:Je})},G._onSectionRendered=function(xe){var Ve=xe.rowOverscanStartIndex,He=xe.rowOverscanStopIndex,Je=xe.rowStartIndex,et=xe.rowStopIndex,mt=G.props.onRowsRendered;mt({overscanStartIndex:Ve,overscanStopIndex:He,startIndex:Je,stopIndex:et})},L),e()(G,se)}return o(re,"List"),n()(re,[{key:"forceUpdateGrid",value:o(function(){this.Grid&&this.Grid.forceUpdate()},"forceUpdateGrid")},{key:"getOffsetForRow",value:o(function(L){var G=L.alignment,se=L.index;if(this.Grid){var oe=this.Grid.getOffsetForCell({alignment:G,rowIndex:se,columnIndex:0}),Ce=oe.scrollTop;return Ce}return 0},"getOffsetForRow")},{key:"invalidateCellSizeAfterRender",value:o(function(L){var G=L.columnIndex,se=L.rowIndex;this.Grid&&this.Grid.invalidateCellSizeAfterRender({rowIndex:se,columnIndex:G})},"invalidateCellSizeAfterRender")},{key:"measureAllRows",value:o(function(){this.Grid&&this.Grid.measureAllCells()},"measureAllRows")},{key:"recomputeGridSize",value:o(function(){var L=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},G=L.columnIndex,se=G===void 0?0:G,oe=L.rowIndex,Ce=oe===void 0?0:oe;this.Grid&&this.Grid.recomputeGridSize({rowIndex:Ce,columnIndex:se})},"recomputeGridSize")},{key:"recomputeRowHeights",value:o(function(){var L=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;this.Grid&&this.Grid.recomputeGridSize({rowIndex:L,columnIndex:0})},"recomputeRowHeights")},{key:"scrollToPosition",value:o(function(){var L=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;this.Grid&&this.Grid.scrollToPosition({scrollTop:L})},"scrollToPosition")},{key:"scrollToRow",value:o(function(){var L=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;this.Grid&&this.Grid.scrollToCell({columnIndex:0,rowIndex:L})},"scrollToRow")},{key:"render",value:o(function(){var L=this.props,G=L.className,se=L.noRowsRenderer,oe=L.scrollToIndex,Ce=L.width,Ae=R("ReactVirtualized__List",G);return l.createElement(Xn,s()({},this.props,{autoContainerWidth:!0,cellRenderer:this._cellRenderer,className:Ae,columnWidth:Ce,columnCount:1,noContentRenderer:se,onScroll:this._onScroll,onSectionRendered:this._onSectionRendered,ref:this._setRef,scrollToRow:oe}))},"render")}]),re}(l.PureComponent);ar.defaultProps={autoHeight:!1,estimatedRowSize:30,onScroll:o(function(){},"onScroll"),noRowsRenderer:o(function(){return null},"noRowsRenderer"),onRowsRendered:o(function(){},"onRowsRendered"),overscanIndicesGetter:hi,overscanRowCount:10,scrollToAlignment:"auto",scrollToIndex:-1,style:{}},ar.propTypes=null;var Jo=ar,ro=d("YEIV"),Hi=d.n(ro),$r=d("sk9p"),Fr=d.n($r);function Zi(he,re,q,L){for(var G=q+1;re<=q;){var se=re+q>>>1,oe=he[se];oe>=L?(G=se,q=se-1):re=se+1}return G}o(Zi,"_GEA");function Ss(he,re,q,L,G){for(var se=q+1;re<=q;){var oe=re+q>>>1,Ce=he[oe];G(Ce,L)>=0?(se=oe,q=oe-1):re=oe+1}return se}o(Ss,"_GEP");function ys(he,re,q,L,G){return typeof q=="function"?Ss(he,L===void 0?0:L|0,G===void 0?he.length-1:G|0,re,q):Zi(he,q===void 0?0:q|0,L===void 0?he.length-1:L|0,re)}o(ys,"dispatchBsearchGE");function xi(he,re,q,L){for(var G=q+1;re<=q;){var se=re+q>>>1,oe=he[se];oe>L?(G=se,q=se-1):re=se+1}return G}o(xi,"_GTA");function hr(he,re,q,L,G){for(var se=q+1;re<=q;){var oe=re+q>>>1,Ce=he[oe];G(Ce,L)>0?(se=oe,q=oe-1):re=oe+1}return se}o(hr,"_GTP");function bo(he,re,q,L,G){return typeof q=="function"?hr(he,L===void 0?0:L|0,G===void 0?he.length-1:G|0,re,q):xi(he,q===void 0?0:q|0,L===void 0?he.length-1:L|0,re)}o(bo,"dispatchBsearchGT");function Cs(he,re,q,L){for(var G=re-1;re<=q;){var se=re+q>>>1,oe=he[se];oe<L?(G=se,re=se+1):q=se-1}return G}o(Cs,"_LTA");function Mr(he,re,q,L,G){for(var se=re-1;re<=q;){var oe=re+q>>>1,Ce=he[oe];G(Ce,L)<0?(se=oe,re=oe+1):q=oe-1}return se}o(Mr,"_LTP");function ho(he,re,q,L,G){return typeof q=="function"?Mr(he,L===void 0?0:L|0,G===void 0?he.length-1:G|0,re,q):Cs(he,q===void 0?0:q|0,L===void 0?he.length-1:L|0,re)}o(ho,"dispatchBsearchLT");function oo(he,re,q,L){for(var G=re-1;re<=q;){var se=re+q>>>1,oe=he[se];oe<=L?(G=se,re=se+1):q=se-1}return G}o(oo,"_LEA");function Eo(he,re,q,L,G){for(var se=re-1;re<=q;){var oe=re+q>>>1,Ce=he[oe];G(Ce,L)<=0?(se=oe,re=oe+1):q=oe-1}return se}o(Eo,"_LEP");function Yo(he,re,q,L,G){return typeof q=="function"?Eo(he,L===void 0?0:L|0,G===void 0?he.length-1:G|0,re,q):oo(he,q===void 0?0:q|0,L===void 0?he.length-1:L|0,re)}o(Yo,"dispatchBsearchLE");function Xo(he,re,q,L){for(re-1;re<=q;){var G=re+q>>>1,se=he[G];if(se===L)return G;se<=L?re=G+1:q=G-1}return-1}o(Xo,"_EQA");function Lo(he,re,q,L,G){for(re-1;re<=q;){var se=re+q>>>1,oe=he[se],Ce=G(oe,L);if(Ce===0)return se;Ce<=0?re=se+1:q=se-1}return-1}o(Lo,"_EQP");function Zo(he,re,q,L,G){return typeof q=="function"?Lo(he,L===void 0?0:L|0,G===void 0?he.length-1:G|0,re,q):Xo(he,q===void 0?0:q|0,L===void 0?he.length-1:L|0,re)}o(Zo,"dispatchBsearchEQ");var fo={ge:ys,gt:bo,lt:ho,le:Yo,eq:Zo},Ur=0,Ar=1,To=2;function po(he,re,q,L,G){this.mid=he,this.left=re,this.right=q,this.leftPoints=L,this.rightPoints=G,this.count=(re?re.count:0)+(q?q.count:0)+L.length}o(po,"IntervalTreeNode");var Kr=po.prototype;function _o(he,re){he.mid=re.mid,he.left=re.left,he.right=re.right,he.leftPoints=re.leftPoints,he.rightPoints=re.rightPoints,he.count=re.count}o(_o,"copy");function No(he,re){var q=Rr(re);he.mid=q.mid,he.left=q.left,he.right=q.right,he.leftPoints=q.leftPoints,he.rightPoints=q.rightPoints,he.count=q.count}o(No,"rebuild");function Bo(he,re){var q=he.intervals([]);q.push(re),No(he,q)}o(Bo,"rebuildWithInterval");function nr(he,re){var q=he.intervals([]),L=q.indexOf(re);return L<0?Ur:(q.splice(L,1),No(he,q),Ar)}o(nr,"rebuildWithoutInterval"),Kr.intervals=function(he){return he.push.apply(he,this.leftPoints),this.left&&this.left.intervals(he),this.right&&this.right.intervals(he),he},Kr.insert=function(he){var re=this.count-this.leftPoints.length;if(this.count+=1,he[1]<this.mid)this.left?4*(this.left.count+1)>3*(re+1)?Bo(this,he):this.left.insert(he):this.left=Rr([he]);else if(he[0]>this.mid)this.right?4*(this.right.count+1)>3*(re+1)?Bo(this,he):this.right.insert(he):this.right=Rr([he]);else{var q=fo.ge(this.leftPoints,he,so),L=fo.ge(this.rightPoints,he,fr);this.leftPoints.splice(q,0,he),this.rightPoints.splice(L,0,he)}},Kr.remove=function(he){var re=this.count-this.leftPoints;if(he[1]<this.mid){if(!this.left)return Ur;var q=this.right?this.right.count:0;if(4*q>3*(re-1))return nr(this,he);var L=this.left.remove(he);return L===To?(this.left=null,this.count-=1,Ar):(L===Ar&&(this.count-=1),L)}else if(he[0]>this.mid){if(!this.right)return Ur;var G=this.left?this.left.count:0;if(4*G>3*(re-1))return nr(this,he);var L=this.right.remove(he);return L===To?(this.right=null,this.count-=1,Ar):(L===Ar&&(this.count-=1),L)}else{if(this.count===1)return this.leftPoints[0]===he?To:Ur;if(this.leftPoints.length===1&&this.leftPoints[0]===he){if(this.left&&this.right){for(var se=this,oe=this.left;oe.right;)se=oe,oe=oe.right;if(se===this)oe.right=this.right;else{var Ce=this.left,L=this.right;se.count-=oe.count,se.right=oe.left,oe.left=Ce,oe.right=L}_o(this,oe),this.count=(this.left?this.left.count:0)+(this.right?this.right.count:0)+this.leftPoints.length}else this.left?_o(this,this.left):_o(this,this.right);return Ar}for(var Ce=fo.ge(this.leftPoints,he,so);Ce<this.leftPoints.length&&this.leftPoints[Ce][0]===he[0];++Ce)if(this.leftPoints[Ce]===he){this.count-=1,this.leftPoints.splice(Ce,1);for(var L=fo.ge(this.rightPoints,he,fr);L<this.rightPoints.length&&this.rightPoints[L][1]===he[1];++L)if(this.rightPoints[L]===he)return this.rightPoints.splice(L,1),Ar}return Ur}};function Fo(he,re,q){for(var L=0;L<he.length&&he[L][0]<=re;++L){var G=q(he[L]);if(G)return G}}o(Fo,"reportLeftRange");function Qo(he,re,q){for(var L=he.length-1;L>=0&&he[L][1]>=re;--L){var G=q(he[L]);if(G)return G}}o(Qo,"reportRightRange");function Uo(he,re){for(var q=0;q<he.length;++q){var L=re(he[q]);if(L)return L}}o(Uo,"reportRange"),Kr.queryPoint=function(he,re){if(he<this.mid){if(this.left){var q=this.left.queryPoint(he,re);if(q)return q}return Fo(this.leftPoints,he,re)}else if(he>this.mid){if(this.right){var q=this.right.queryPoint(he,re);if(q)return q}return Qo(this.rightPoints,he,re)}else return Uo(this.leftPoints,re)},Kr.queryInterval=function(he,re,q){if(he<this.mid&&this.left){var L=this.left.queryInterval(he,re,q);if(L)return L}if(re>this.mid&&this.right){var L=this.right.queryInterval(he,re,q);if(L)return L}return re<this.mid?Fo(this.leftPoints,re,q):he>this.mid?Qo(this.rightPoints,he,q):Uo(this.leftPoints,q)};function Vr(he,re){return he-re}o(Vr,"compareNumbers");function so(he,re){var q=he[0]-re[0];return q||he[1]-re[1]}o(so,"compareBegin");function fr(he,re){var q=he[1]-re[1];return q||he[0]-re[0]}o(fr,"compareEnd");function Rr(he){if(he.length===0)return null;for(var re=[],q=0;q<he.length;++q)re.push(he[q][0],he[q][1]);re.sort(Vr);for(var L=re[re.length>>1],G=[],se=[],oe=[],q=0;q<he.length;++q){var Ce=he[q];Ce[1]<L?G.push(Ce):L<Ce[0]?se.push(Ce):oe.push(Ce)}var Ae=oe,xe=oe.slice();return Ae.sort(so),xe.sort(fr),new po(L,Rr(G),Rr(se),Ae,xe)}o(Rr,"createIntervalTree");function Vo(he){this.root=he}o(Vo,"IntervalTree");var Jr=Vo.prototype;Jr.insert=function(he){this.root?this.root.insert(he):this.root=new po(he[0],null,null,[he],[he])},Jr.remove=function(he){if(this.root){var re=this.root.remove(he);return re===To&&(this.root=null),re!==Ur}return!1},Jr.queryPoint=function(he,re){if(this.root)return this.root.queryPoint(he,re)},Jr.queryInterval=function(he,re,q){if(he<=re&&this.root)return this.root.queryInterval(he,re,q)},Object.defineProperty(Jr,"count",{get:o(function(){return this.root?this.root.count:0},"get")}),Object.defineProperty(Jr,"intervals",{get:o(function(){return this.root?this.root.intervals([]):[]},"get")});function qo(he){return!he||he.length===0?new Vo(null):new Vo(Rr(he))}o(qo,"createWrapper");var wr=function(){function he(){f()(this,he),this._columnSizeMap={},this._intervalTree=qo(),this._leftMap={}}return o(he,"PositionCache"),n()(he,[{key:"estimateTotalHeight",value:o(function(q,L,G){var se=q-this.count;return this.tallestColumnSize+Math.ceil(se/L)*G},"estimateTotalHeight")},{key:"range",value:o(function(q,L,G){var se=this;this._intervalTree.queryInterval(q,q+L,function(oe){var Ce=Fr()(oe,3),Ae=Ce[0],xe=Ce[1],Ve=Ce[2];return G(Ve,se._leftMap[Ve],Ae)})},"range")},{key:"setPosition",value:o(function(q,L,G,se){this._intervalTree.insert([G,G+se,q]),this._leftMap[q]=L;var oe=this._columnSizeMap,Ce=oe[L];Ce===void 0?oe[L]=G+se:oe[L]=Math.max(Ce,G+se)},"setPosition")},{key:"count",get:o(function(){return this._intervalTree.count},"get")},{key:"shortestColumnSize",get:o(function(){var q=this._columnSizeMap,L=0;for(var G in q){var se=q[G];L=L===0?se:Math.min(L,se)}return L},"get")},{key:"tallestColumnSize",get:o(function(){var q=this._columnSizeMap,L=0;for(var G in q){var se=q[G];L=Math.max(L,se)}return L},"get")}]),he}(),mo=wr,Io={},Pr=150,Hr=function(he){r()(re,he);function re(){var q,L,G,se;f()(this,re);for(var oe=arguments.length,Ce=Array(oe),Ae=0;Ae<oe;Ae++)Ce[Ae]=arguments[Ae];return se=(L=(G=e()(this,(q=re.__proto__||h()(re)).call.apply(q,[this].concat(Ce))),G),G.state={isScrolling:!1,scrollTop:0},G._invalidateOnUpdateStartIndex=null,G._invalidateOnUpdateStopIndex=null,G._positionCache=new mo,G._startIndex=null,G._startIndexMemoized=null,G._stopIndex=null,G._stopIndexMemoized=null,G._debounceResetIsScrollingCallback=function(){G.setState({isScrolling:!1})},G._setScrollingContainerRef=function(xe){G._scrollingContainer=xe},G._onScroll=function(xe){var Ve=G.props.height,He=xe.currentTarget.scrollTop,Je=Math.min(Math.max(0,G._getEstimatedTotalHeight()-Ve),He);He===Je&&(G._debounceResetIsScrolling(),G.state.scrollTop!==Je&&G.setState({isScrolling:!0,scrollTop:Je}))},L),e()(G,se)}return o(re,"Masonry"),n()(re,[{key:"clearCellPositions",value:o(function(){this._positionCache=new mo,this.forceUpdate()},"clearCellPositions")},{key:"invalidateCellSizeAfterRender",value:o(function(L){var G=L.rowIndex;this._invalidateOnUpdateStartIndex===null?(this._invalidateOnUpdateStartIndex=G,this._invalidateOnUpdateStopIndex=G):(this._invalidateOnUpdateStartIndex=Math.min(this._invalidateOnUpdateStartIndex,G),this._invalidateOnUpdateStopIndex=Math.max(this._invalidateOnUpdateStopIndex,G))},"invalidateCellSizeAfterRender")},{key:"recomputeCellPositions",value:o(function(){var L=this._positionCache.count-1;this._positionCache=new mo,this._populatePositionCache(0,L),this.forceUpdate()},"recomputeCellPositions")},{key:"componentDidMount",value:o(function(){this._checkInvalidateOnUpdate(),this._invokeOnScrollCallback(),this._invokeOnCellsRenderedCallback()},"componentDidMount")},{key:"componentDidUpdate",value:o(function(L,G){this._checkInvalidateOnUpdate(),this._invokeOnScrollCallback(),this._invokeOnCellsRenderedCallback(),this.props.scrollTop!==L.scrollTop&&this._debounceResetIsScrolling()},"componentDidUpdate")},{key:"componentWillUnmount",value:o(function(){this._debounceResetIsScrollingId&&bn(this._debounceResetIsScrollingId)},"componentWillUnmount")},{key:"render",value:o(function(){var L=this,G=this.props,se=G.autoHeight,oe=G.cellCount,Ce=G.cellMeasurerCache,Ae=G.cellRenderer,xe=G.className,Ve=G.height,He=G.id,Je=G.keyMapper,et=G.overscanByPixels,mt=G.role,Rt=G.style,Kt=G.tabIndex,Yt=G.width,an=G.rowDirection,cn=this.state,Tn=cn.isScrolling,wt=cn.scrollTop,ni=[],qn=this._getEstimatedTotalHeight(),Oi=this._positionCache.shortestColumnSize,Li=this._positionCache.count,Mi=0,Si=void 0;if(this._positionCache.range(Math.max(0,wt-et),Ve+et*2,function(qi,to,xr){var mr;typeof Si>"u"?(Mi=qi,Si=qi):(Mi=Math.min(Mi,qi),Si=Math.max(Si,qi)),ni.push(Ae({index:qi,isScrolling:Tn,key:Je(qi),parent:L,style:(mr={height:Ce.getHeight(qi)},Hi()(mr,an==="ltr"?"left":"right",to),Hi()(mr,"position","absolute"),Hi()(mr,"top",xr),Hi()(mr,"width",Ce.getWidth(qi)),mr)}))}),Oi<wt+Ve+et&&Li<oe)for(var Fi=Math.min(oe-Li,Math.ceil((wt+Ve+et-Oi)/Ce.defaultHeight*Yt/Ce.defaultWidth)),Ri=Li;Ri<Li+Fi;Ri++)Si=Ri,ni.push(Ae({index:Ri,isScrolling:Tn,key:Je(Ri),parent:this,style:{width:Ce.getWidth(Ri)}}));return this._startIndex=Mi,this._stopIndex=Si,l.createElement("div",{ref:this._setScrollingContainerRef,"aria-label":this.props["aria-label"],className:R("ReactVirtualized__Masonry",xe),id:He,onScroll:this._onScroll,role:mt,style:s()({boxSizing:"border-box",direction:"ltr",height:se?"auto":Ve,overflowX:"hidden",overflowY:qn<Ve?"hidden":"auto",position:"relative",width:Yt,WebkitOverflowScrolling:"touch",willChange:"transform"},Rt),tabIndex:Kt},l.createElement("div",{className:"ReactVirtualized__Masonry__innerScrollContainer",style:{width:"100%",height:qn,maxWidth:"100%",maxHeight:qn,overflow:"hidden",pointerEvents:Tn?"none":"",position:"relative"}},ni))},"render")},{key:"_checkInvalidateOnUpdate",value:o(function(){if(typeof this._invalidateOnUpdateStartIndex=="number"){var L=this._invalidateOnUpdateStartIndex,G=this._invalidateOnUpdateStopIndex;this._invalidateOnUpdateStartIndex=null,this._invalidateOnUpdateStopIndex=null,this._populatePositionCache(L,G),this.forceUpdate()}},"_checkInvalidateOnUpdate")},{key:"_debounceResetIsScrolling",value:o(function(){var L=this.props.scrollingResetTimeInterval;this._debounceResetIsScrollingId&&bn(this._debounceResetIsScrollingId),this._debounceResetIsScrollingId=wn(this._debounceResetIsScrollingCallback,L)},"_debounceResetIsScrolling")},{key:"_getEstimatedTotalHeight",value:o(function(){var L=this.props,G=L.cellCount,se=L.cellMeasurerCache,oe=L.width,Ce=Math.max(1,Math.floor(oe/se.defaultWidth));return this._positionCache.estimateTotalHeight(G,Ce,se.defaultHeight)},"_getEstimatedTotalHeight")},{key:"_invokeOnScrollCallback",value:o(function(){var L=this.props,G=L.height,se=L.onScroll,oe=this.state.scrollTop;this._onScrollMemoized!==oe&&(se({clientHeight:G,scrollHeight:this._getEstimatedTotalHeight(),scrollTop:oe}),this._onScrollMemoized=oe)},"_invokeOnScrollCallback")},{key:"_invokeOnCellsRenderedCallback",value:o(function(){if(this._startIndexMemoized!==this._startIndex||this._stopIndexMemoized!==this._stopIndex){var L=this.props.onCellsRendered;L({startIndex:this._startIndex,stopIndex:this._stopIndex}),this._startIndexMemoized=this._startIndex,this._stopIndexMemoized=this._stopIndex}},"_invokeOnCellsRenderedCallback")},{key:"_populatePositionCache",value:o(function(L,G){for(var se=this.props,oe=se.cellMeasurerCache,Ce=se.cellPositioner,Ae=L;Ae<=G;Ae++){var xe=Ce(Ae),Ve=xe.left,He=xe.top;this._positionCache.setPosition(Ae,Ve,He,oe.getHeight(Ae))}},"_populatePositionCache")}],[{key:"getDerivedStateFromProps",value:o(function(L,G){return L.scrollTop!==void 0&&G.scrollTop!==L.scrollTop?{isScrolling:!0,scrollTop:L.scrollTop}:null},"getDerivedStateFromProps")}]),re}(l.PureComponent);Hr.defaultProps={autoHeight:!1,keyMapper:wo,onCellsRendered:Ho,onScroll:Ho,overscanByPixels:20,role:"grid",scrollingResetTimeInterval:Pr,style:Io,tabIndex:0,rowDirection:"ltr"},Hr.propTypes=null;function wo(he){return he}o(wo,"identity");function Ho(){}o(Ho,"noop");var js=null;Object(p.polyfill)(Hr);var Dr=Hr,es=null;function zr(he){var re=he.cellMeasurerCache,q=he.columnCount,L=he.columnWidth,G=he.spacer,se=G===void 0?0:G,oe=void 0;Ae();function Ce(Ve){for(var He=0,Je=1;Je<oe.length;Je++)oe[Je]<oe[He]&&(He=Je);var et=He*(L+se),mt=oe[He]||0;return oe[He]=mt+re.getHeight(Ve)+se,{left:et,top:mt}}o(Ce,"cellPositioner");function Ae(){oe=[];for(var Ve=0;Ve<q;Ve++)oe[Ve]=0}o(Ae,"initOrResetDerivedValues");function xe(Ve){q=Ve.columnCount,L=Ve.columnWidth,se=Ve.spacer,Ae()}return o(xe,"reset"),Ce.reset=xe,Ce}o(zr,"createCellPositioner");var bs=Dr,Es=function(){function he(){var re=this,q=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};f()(this,he),this.columnWidth=function(Ae){var xe=Ae.index;re._cellMeasurerCache.columnWidth({index:xe+re._columnIndexOffset})},this.rowHeight=function(Ae){var xe=Ae.index;re._cellMeasurerCache.rowHeight({index:xe+re._rowIndexOffset})};var L=q.cellMeasurerCache,G=q.columnIndexOffset,se=G===void 0?0:G,oe=q.rowIndexOffset,Ce=oe===void 0?0:oe;this._cellMeasurerCache=L,this._columnIndexOffset=se,this._rowIndexOffset=Ce}return o(he,"CellMeasurerCacheDecorator"),n()(he,[{key:"clear",value:o(function(q,L){this._cellMeasurerCache.clear(q+this._rowIndexOffset,L+this._columnIndexOffset)},"clear")},{key:"clearAll",value:o(function(){this._cellMeasurerCache.clearAll()},"clearAll")},{key:"hasFixedHeight",value:o(function(){return this._cellMeasurerCache.hasFixedHeight()},"hasFixedHeight")},{key:"hasFixedWidth",value:o(function(){return this._cellMeasurerCache.hasFixedWidth()},"hasFixedWidth")},{key:"getHeight",value:o(function(q){var L=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return this._cellMeasurerCache.getHeight(q+this._rowIndexOffset,L+this._columnIndexOffset)},"getHeight")},{key:"getWidth",value:o(function(q){var L=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return this._cellMeasurerCache.getWidth(q+this._rowIndexOffset,L+this._columnIndexOffset)},"getWidth")},{key:"has",value:o(function(q){var L=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return this._cellMeasurerCache.has(q+this._rowIndexOffset,L+this._columnIndexOffset)},"has")},{key:"set",value:o(function(q,L,G,se){this._cellMeasurerCache.set(q+this._rowIndexOffset,L+this._columnIndexOffset,G,se)},"set")},{key:"defaultHeight",get:o(function(){return this._cellMeasurerCache.defaultHeight},"get")},{key:"defaultWidth",get:o(function(){return this._cellMeasurerCache.defaultWidth},"get")}]),he}(),lr=Es,Yr=20,Xr=function(he){r()(re,he);function re(q,L){f()(this,re);var G=e()(this,(re.__proto__||h()(re)).call(this,q,L));ts.call(G);var se=q.deferredMeasurementCache,oe=q.fixedColumnCount,Ce=q.fixedRowCount;return G._maybeCalculateCachedStyles(!0),se&&(G._deferredMeasurementCacheBottomLeftGrid=Ce>0?new lr({cellMeasurerCache:se,columnIndexOffset:0,rowIndexOffset:Ce}):se,G._deferredMeasurementCacheBottomRightGrid=oe>0||Ce>0?new lr({cellMeasurerCache:se,columnIndexOffset:oe,rowIndexOffset:Ce}):se,G._deferredMeasurementCacheTopRightGrid=oe>0?new lr({cellMeasurerCache:se,columnIndexOffset:oe,rowIndexOffset:0}):se),G}return o(re,"MultiGrid"),n()(re,[{key:"forceUpdateGrids",value:o(function(){this._bottomLeftGrid&&this._bottomLeftGrid.forceUpdate(),this._bottomRightGrid&&this._bottomRightGrid.forceUpdate(),this._topLeftGrid&&this._topLeftGrid.forceUpdate(),this._topRightGrid&&this._topRightGrid.forceUpdate()},"forceUpdateGrids")},{key:"invalidateCellSizeAfterRender",value:o(function(){var L=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},G=L.columnIndex,se=G===void 0?0:G,oe=L.rowIndex,Ce=oe===void 0?0:oe;this._deferredInvalidateColumnIndex=typeof this._deferredInvalidateColumnIndex=="number"?Math.min(this._deferredInvalidateColumnIndex,se):se,this._deferredInvalidateRowIndex=typeof this._deferredInvalidateRowIndex=="number"?Math.min(this._deferredInvalidateRowIndex,Ce):Ce},"invalidateCellSizeAfterRender")},{key:"measureAllCells",value:o(function(){this._bottomLeftGrid&&this._bottomLeftGrid.measureAllCells(),this._bottomRightGrid&&this._bottomRightGrid.measureAllCells(),this._topLeftGrid&&this._topLeftGrid.measureAllCells(),this._topRightGrid&&this._topRightGrid.measureAllCells()},"measureAllCells")},{key:"recomputeGridSize",value:o(function(){var L=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},G=L.columnIndex,se=G===void 0?0:G,oe=L.rowIndex,Ce=oe===void 0?0:oe,Ae=this.props,xe=Ae.fixedColumnCount,Ve=Ae.fixedRowCount,He=Math.max(0,se-xe),Je=Math.max(0,Ce-Ve);this._bottomLeftGrid&&this._bottomLeftGrid.recomputeGridSize({columnIndex:se,rowIndex:Je}),this._bottomRightGrid&&this._bottomRightGrid.recomputeGridSize({columnIndex:He,rowIndex:Je}),this._topLeftGrid&&this._topLeftGrid.recomputeGridSize({columnIndex:se,rowIndex:Ce}),this._topRightGrid&&this._topRightGrid.recomputeGridSize({columnIndex:He,rowIndex:Ce}),this._leftGridWidth=null,this._topGridHeight=null,this._maybeCalculateCachedStyles(!0)},"recomputeGridSize")},{key:"componentDidMount",value:o(function(){var L=this.props,G=L.scrollLeft,se=L.scrollTop;if(G>0||se>0){var oe={};G>0&&(oe.scrollLeft=G),se>0&&(oe.scrollTop=se),this.setState(oe)}this._handleInvalidatedGridSize()},"componentDidMount")},{key:"componentDidUpdate",value:o(function(){this._handleInvalidatedGridSize()},"componentDidUpdate")},{key:"render",value:o(function(){var L=this.props,G=L.onScroll,se=L.onSectionRendered,oe=L.onScrollbarPresenceChange,Ce=L.scrollLeft,Ae=L.scrollToColumn,xe=L.scrollTop,Ve=L.scrollToRow,He=A()(L,["onScroll","onSectionRendered","onScrollbarPresenceChange","scrollLeft","scrollToColumn","scrollTop","scrollToRow"]);if(this._prepareForRender(),this.props.width===0||this.props.height===0)return null;var Je=this.state,et=Je.scrollLeft,mt=Je.scrollTop;return l.createElement("div",{style:this._containerOuterStyle},l.createElement("div",{style:this._containerTopStyle},this._renderTopLeftGrid(He),this._renderTopRightGrid(s()({},He,{onScroll:G,scrollLeft:et}))),l.createElement("div",{style:this._containerBottomStyle},this._renderBottomLeftGrid(s()({},He,{onScroll:G,scrollTop:mt})),this._renderBottomRightGrid(s()({},He,{onScroll:G,onSectionRendered:se,scrollLeft:et,scrollToColumn:Ae,scrollToRow:Ve,scrollTop:mt}))))},"render")},{key:"_getBottomGridHeight",value:o(function(L){var G=L.height,se=this._getTopGridHeight(L);return G-se},"_getBottomGridHeight")},{key:"_getLeftGridWidth",value:o(function(L){var G=L.fixedColumnCount,se=L.columnWidth;if(this._leftGridWidth==null)if(typeof se=="function"){for(var oe=0,Ce=0;Ce<G;Ce++)oe+=se({index:Ce});this._leftGridWidth=oe}else this._leftGridWidth=se*G;return this._leftGridWidth},"_getLeftGridWidth")},{key:"_getRightGridWidth",value:o(function(L){var G=L.width,se=this._getLeftGridWidth(L);return G-se},"_getRightGridWidth")},{key:"_getTopGridHeight",value:o(function(L){var G=L.fixedRowCount,se=L.rowHeight;if(this._topGridHeight==null)if(typeof se=="function"){for(var oe=0,Ce=0;Ce<G;Ce++)oe+=se({index:Ce});this._topGridHeight=oe}else this._topGridHeight=se*G;return this._topGridHeight},"_getTopGridHeight")},{key:"_handleInvalidatedGridSize",value:o(function(){if(typeof this._deferredInvalidateColumnIndex=="number"){var L=this._deferredInvalidateColumnIndex,G=this._deferredInvalidateRowIndex;this._deferredInvalidateColumnIndex=null,this._deferredInvalidateRowIndex=null,this.recomputeGridSize({columnIndex:L,rowIndex:G}),this.forceUpdate()}},"_handleInvalidatedGridSize")},{key:"_maybeCalculateCachedStyles",value:o(function(L){var G=this.props,se=G.columnWidth,oe=G.enableFixedColumnScroll,Ce=G.enableFixedRowScroll,Ae=G.height,xe=G.fixedColumnCount,Ve=G.fixedRowCount,He=G.rowHeight,Je=G.style,et=G.styleBottomLeftGrid,mt=G.styleBottomRightGrid,Rt=G.styleTopLeftGrid,Kt=G.styleTopRightGrid,Yt=G.width,an=L||Ae!==this._lastRenderedHeight||Yt!==this._lastRenderedWidth,cn=L||se!==this._lastRenderedColumnWidth||xe!==this._lastRenderedFixedColumnCount,Tn=L||Ve!==this._lastRenderedFixedRowCount||He!==this._lastRenderedRowHeight;(L||an||Je!==this._lastRenderedStyle)&&(this._containerOuterStyle=s()({height:Ae,overflow:"visible",width:Yt},Je)),(L||an||Tn)&&(this._containerTopStyle={height:this._getTopGridHeight(this.props),position:"relative",width:Yt},this._containerBottomStyle={height:Ae-this._getTopGridHeight(this.props),overflow:"visible",position:"relative",width:Yt}),(L||et!==this._lastRenderedStyleBottomLeftGrid)&&(this._bottomLeftGridStyle=s()({left:0,overflowX:"hidden",overflowY:oe?"auto":"hidden",position:"absolute"},et)),(L||cn||mt!==this._lastRenderedStyleBottomRightGrid)&&(this._bottomRightGridStyle=s()({left:this._getLeftGridWidth(this.props),position:"absolute"},mt)),(L||Rt!==this._lastRenderedStyleTopLeftGrid)&&(this._topLeftGridStyle=s()({left:0,overflowX:"hidden",overflowY:"hidden",position:"absolute",top:0},Rt)),(L||cn||Kt!==this._lastRenderedStyleTopRightGrid)&&(this._topRightGridStyle=s()({left:this._getLeftGridWidth(this.props),overflowX:Ce?"auto":"hidden",overflowY:"hidden",position:"absolute",top:0},Kt)),this._lastRenderedColumnWidth=se,this._lastRenderedFixedColumnCount=xe,this._lastRenderedFixedRowCount=Ve,this._lastRenderedHeight=Ae,this._lastRenderedRowHeight=He,this._lastRenderedStyle=Je,this._lastRenderedStyleBottomLeftGrid=et,this._lastRenderedStyleBottomRightGrid=mt,this._lastRenderedStyleTopLeftGrid=Rt,this._lastRenderedStyleTopRightGrid=Kt,this._lastRenderedWidth=Yt},"_maybeCalculateCachedStyles")},{key:"_prepareForRender",value:o(function(){(this._lastRenderedColumnWidth!==this.props.columnWidth||this._lastRenderedFixedColumnCount!==this.props.fixedColumnCount)&&(this._leftGridWidth=null),(this._lastRenderedFixedRowCount!==this.props.fixedRowCount||this._lastRenderedRowHeight!==this.props.rowHeight)&&(this._topGridHeight=null),this._maybeCalculateCachedStyles(),this._lastRenderedColumnWidth=this.props.columnWidth,this._lastRenderedFixedColumnCount=this.props.fixedColumnCount,this._lastRenderedFixedRowCount=this.props.fixedRowCount,this._lastRenderedRowHeight=this.props.rowHeight},"_prepareForRender")},{key:"_renderBottomLeftGrid",value:o(function(L){var G=L.enableFixedColumnScroll,se=L.fixedColumnCount,oe=L.fixedRowCount,Ce=L.rowCount,Ae=L.hideBottomLeftGridScrollbar,xe=this.state.showVerticalScrollbar;if(!se)return null;var Ve=xe?1:0,He=this._getBottomGridHeight(L),Je=this._getLeftGridWidth(L),et=this.state.showVerticalScrollbar?this.state.scrollbarSize:0,mt=Ae?Je+et:Je,Rt=l.createElement(Xn,s()({},L,{cellRenderer:this._cellRendererBottomLeftGrid,className:this.props.classNameBottomLeftGrid,columnCount:se,deferredMeasurementCache:this._deferredMeasurementCacheBottomLeftGrid,height:He,onScroll:G?this._onScrollTop:void 0,ref:this._bottomLeftGridRef,rowCount:Math.max(0,Ce-oe)+Ve,rowHeight:this._rowHeightBottomGrid,style:this._bottomLeftGridStyle,tabIndex:null,width:mt}));return Ae?l.createElement("div",{className:"BottomLeftGrid_ScrollWrapper",style:s()({},this._bottomLeftGridStyle,{height:He,width:Je,overflowY:"hidden"})},Rt):Rt},"_renderBottomLeftGrid")},{key:"_renderBottomRightGrid",value:o(function(L){var G=L.columnCount,se=L.fixedColumnCount,oe=L.fixedRowCount,Ce=L.rowCount,Ae=L.scrollToColumn,xe=L.scrollToRow;return l.createElement(Xn,s()({},L,{cellRenderer:this._cellRendererBottomRightGrid,className:this.props.classNameBottomRightGrid,columnCount:Math.max(0,G-se),columnWidth:this._columnWidthRightGrid,deferredMeasurementCache:this._deferredMeasurementCacheBottomRightGrid,height:this._getBottomGridHeight(L),onScroll:this._onScroll,onScrollbarPresenceChange:this._onScrollbarPresenceChange,ref:this._bottomRightGridRef,rowCount:Math.max(0,Ce-oe),rowHeight:this._rowHeightBottomGrid,scrollToColumn:Ae-se,scrollToRow:xe-oe,style:this._bottomRightGridStyle,width:this._getRightGridWidth(L)}))},"_renderBottomRightGrid")},{key:"_renderTopLeftGrid",value:o(function(L){var G=L.fixedColumnCount,se=L.fixedRowCount;return!G||!se?null:l.createElement(Xn,s()({},L,{className:this.props.classNameTopLeftGrid,columnCount:G,height:this._getTopGridHeight(L),ref:this._topLeftGridRef,rowCount:se,style:this._topLeftGridStyle,tabIndex:null,width:this._getLeftGridWidth(L)}))},"_renderTopLeftGrid")},{key:"_renderTopRightGrid",value:o(function(L){var G=L.columnCount,se=L.enableFixedRowScroll,oe=L.fixedColumnCount,Ce=L.fixedRowCount,Ae=L.scrollLeft,xe=L.hideTopRightGridScrollbar,Ve=this.state,He=Ve.showHorizontalScrollbar,Je=Ve.scrollbarSize;if(!Ce)return null;var et=He?1:0,mt=this._getTopGridHeight(L),Rt=this._getRightGridWidth(L),Kt=He?Je:0,Yt=mt,an=this._topRightGridStyle;xe&&(Yt=mt+Kt,an=s()({},this._topRightGridStyle,{left:0}));var cn=l.createElement(Xn,s()({},L,{cellRenderer:this._cellRendererTopRightGrid,className:this.props.classNameTopRightGrid,columnCount:Math.max(0,G-oe)+et,columnWidth:this._columnWidthRightGrid,deferredMeasurementCache:this._deferredMeasurementCacheTopRightGrid,height:Yt,onScroll:se?this._onScrollLeft:void 0,ref:this._topRightGridRef,rowCount:Ce,scrollLeft:Ae,style:an,tabIndex:null,width:Rt}));return xe?l.createElement("div",{className:"TopRightGrid_ScrollWrapper",style:s()({},this._topRightGridStyle,{height:mt,width:Rt,overflowX:"hidden"})},cn):cn},"_renderTopRightGrid")}],[{key:"getDerivedStateFromProps",value:o(function(L,G){return L.scrollLeft!==G.scrollLeft||L.scrollTop!==G.scrollTop?{scrollLeft:L.scrollLeft!=null&&L.scrollLeft>=0?L.scrollLeft:G.scrollLeft,scrollTop:L.scrollTop!=null&&L.scrollTop>=0?L.scrollTop:G.scrollTop}:null},"getDerivedStateFromProps")}]),re}(l.PureComponent);Xr.defaultProps={classNameBottomLeftGrid:"",classNameBottomRightGrid:"",classNameTopLeftGrid:"",classNameTopRightGrid:"",enableFixedColumnScroll:!1,enableFixedRowScroll:!1,fixedColumnCount:0,fixedRowCount:0,scrollToColumn:-1,scrollToRow:-1,style:{},styleBottomLeftGrid:{},styleBottomRightGrid:{},styleTopLeftGrid:{},styleTopRightGrid:{},hideTopRightGridScrollbar:!1,hideBottomLeftGridScrollbar:!1};var ts=o(function(){var re=this;this.state={scrollLeft:0,scrollTop:0,scrollbarSize:0,showHorizontalScrollbar:!1,showVerticalScrollbar:!1},this._deferredInvalidateColumnIndex=null,this._deferredInvalidateRowIndex=null,this._bottomLeftGridRef=function(q){re._bottomLeftGrid=q},this._bottomRightGridRef=function(q){re._bottomRightGrid=q},this._cellRendererBottomLeftGrid=function(q){var L=q.rowIndex,G=A()(q,["rowIndex"]),se=re.props,oe=se.cellRenderer,Ce=se.fixedRowCount,Ae=se.rowCount;return L===Ae-Ce?l.createElement("div",{key:G.key,style:s()({},G.style,{height:Yr})}):oe(s()({},G,{parent:re,rowIndex:L+Ce}))},this._cellRendererBottomRightGrid=function(q){var L=q.columnIndex,G=q.rowIndex,se=A()(q,["columnIndex","rowIndex"]),oe=re.props,Ce=oe.cellRenderer,Ae=oe.fixedColumnCount,xe=oe.fixedRowCount;return Ce(s()({},se,{columnIndex:L+Ae,parent:re,rowIndex:G+xe}))},this._cellRendererTopRightGrid=function(q){var L=q.columnIndex,G=A()(q,["columnIndex"]),se=re.props,oe=se.cellRenderer,Ce=se.columnCount,Ae=se.fixedColumnCount;return L===Ce-Ae?l.createElement("div",{key:G.key,style:s()({},G.style,{width:Yr})}):oe(s()({},G,{columnIndex:L+Ae,parent:re}))},this._columnWidthRightGrid=function(q){var L=q.index,G=re.props,se=G.columnCount,oe=G.fixedColumnCount,Ce=G.columnWidth,Ae=re.state,xe=Ae.scrollbarSize,Ve=Ae.showHorizontalScrollbar;return Ve&&L===se-oe?xe:typeof Ce=="function"?Ce({index:L+oe}):Ce},this._onScroll=function(q){var L=q.scrollLeft,G=q.scrollTop;re.setState({scrollLeft:L,scrollTop:G});var se=re.props.onScroll;se&&se(q)},this._onScrollbarPresenceChange=function(q){var L=q.horizontal,G=q.size,se=q.vertical,oe=re.state,Ce=oe.showHorizontalScrollbar,Ae=oe.showVerticalScrollbar;if(L!==Ce||se!==Ae){re.setState({scrollbarSize:G,showHorizontalScrollbar:L,showVerticalScrollbar:se});var xe=re.props.onScrollbarPresenceChange;typeof xe=="function"&&xe({horizontal:L,size:G,vertical:se})}},this._onScrollLeft=function(q){var L=q.scrollLeft;re._onScroll({scrollLeft:L,scrollTop:re.state.scrollTop})},this._onScrollTop=function(q){var L=q.scrollTop;re._onScroll({scrollTop:L,scrollLeft:re.state.scrollLeft})},this._rowHeightBottomGrid=function(q){var L=q.index,G=re.props,se=G.fixedRowCount,oe=G.rowCount,Ce=G.rowHeight,Ae=re.state,xe=Ae.scrollbarSize,Ve=Ae.showVerticalScrollbar;return Ve&&L===oe-se?xe:typeof Ce=="function"?Ce({index:L+se}):Ce},this._topLeftGridRef=function(q){re._topLeftGrid=q},this._topRightGridRef=function(q){re._topRightGrid=q}},"_initialiseProps");Xr.propTypes={},Object(p.polyfill)(Xr);var ns=Xr,Ws=ns,Oo=function(he){r()(re,he);function re(q,L){f()(this,re);var G=e()(this,(re.__proto__||h()(re)).call(this,q,L));return G.state={clientHeight:0,clientWidth:0,scrollHeight:0,scrollLeft:0,scrollTop:0,scrollWidth:0},G._onScroll=G._onScroll.bind(G),G}return o(re,"ScrollSync"),n()(re,[{key:"render",value:o(function(){var L=this.props.children,G=this.state,se=G.clientHeight,oe=G.clientWidth,Ce=G.scrollHeight,Ae=G.scrollLeft,xe=G.scrollTop,Ve=G.scrollWidth;return L({clientHeight:se,clientWidth:oe,onScroll:this._onScroll,scrollHeight:Ce,scrollLeft:Ae,scrollTop:xe,scrollWidth:Ve})},"render")},{key:"_onScroll",value:o(function(L){var G=L.clientHeight,se=L.clientWidth,oe=L.scrollHeight,Ce=L.scrollLeft,Ae=L.scrollTop,xe=L.scrollWidth;this.setState({clientHeight:G,clientWidth:se,scrollHeight:oe,scrollLeft:Ce,scrollTop:Ae,scrollWidth:xe})},"_onScroll")}]),re}(l.PureComponent),is=Oo;Oo.propTypes={};var Ts=is;function rs(he){var re=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},q=re.defaultSortBy,L=re.defaultSortDirection,G=L===void 0?{}:L;if(!he)throw Error('Required parameter "sortCallback" not specified');var se=q||[],oe={};se.forEach(function(Ae){oe[Ae]=G.hasOwnProperty(Ae)?G[Ae]:"ASC"});function Ce(Ae){var xe=Ae.defaultSortDirection,Ve=Ae.event,He=Ae.sortBy;if(Ve.shiftKey)oe.hasOwnProperty(He)?oe[He]=oe[He]==="ASC"?"DESC":"ASC":(oe[He]=xe,se.push(He));else if(Ve.ctrlKey||Ve.metaKey){var Je=se.indexOf(He);Je>=0&&(se.splice(Je,1),delete oe[He])}else{se.length=0,se.push(He);var et=fn()(oe);et.forEach(function(mt){mt!==He&&delete oe[mt]}),oe.hasOwnProperty(He)?oe[He]=oe[He]==="ASC"?"DESC":"ASC":oe[He]=xe}he({sortBy:se,sortDirection:oe})}return o(Ce,"sort"),{sort:Ce,sortBy:se,sortDirection:oe}}o(rs,"createMultiSort");var Zr=null,Is=null,Mo=null,Qi=null,Ao=null;function jr(he){var re=he.dataKey,q=he.rowData;return typeof q.get=="function"?q.get(re):q[re]}o(jr,"defaultCellDataGetter");function Ro(he){var re=he.cellData;return re==null?"":String(re)}o(Ro,"defaultCellRenderer");function ao(he){var re=he.className,q=he.columns,L=he.style;return l.createElement("div",{className:re,role:"row",style:L},q)}o(ao,"defaultHeaderRowRenderer"),ao.propTypes=null;var go={ASC:"ASC",DESC:"DESC"},lo=go;function ra(he){var re=he.sortDirection,q=R("ReactVirtualized__Table__sortableHeaderIcon",{"ReactVirtualized__Table__sortableHeaderIcon--ASC":re===lo.ASC,"ReactVirtualized__Table__sortableHeaderIcon--DESC":re===lo.DESC});return l.createElement("svg",{className:q,width:18,height:18,viewBox:"0 0 24 24"},re===lo.ASC?l.createElement("path",{d:"M7 14l5-5 5 5z"}):l.createElement("path",{d:"M7 10l5 5 5-5z"}),l.createElement("path",{d:"M0 0h24v24H0z",fill:"none"}))}o(ra,"SortIndicator"),ra.propTypes={};function Gs(he){var re=he.dataKey,q=he.label,L=he.sortBy,G=he.sortDirection,se=L===re,oe=[l.createElement("span",{className:"ReactVirtualized__Table__headerTruncatedText",key:"label",title:typeof q=="string"?q:null},q)];return se&&oe.push(l.createElement(ra,{key:"SortIndicator",sortDirection:G})),oe}o(Gs,"defaultHeaderRenderer"),Gs.propTypes=null;function oa(he){var re=he.className,q=he.columns,L=he.index,G=he.key,se=he.onRowClick,oe=he.onRowDoubleClick,Ce=he.onRowMouseOut,Ae=he.onRowMouseOver,xe=he.onRowRightClick,Ve=he.rowData,He=he.style,Je={"aria-rowindex":L+1};return(se||oe||Ce||Ae||xe)&&(Je["aria-label"]="row",Je.tabIndex=0,se&&(Je.onClick=function(et){return se({event:et,index:L,rowData:Ve})}),oe&&(Je.onDoubleClick=function(et){return oe({event:et,index:L,rowData:Ve})}),Ce&&(Je.onMouseOut=function(et){return Ce({event:et,index:L,rowData:Ve})}),Ae&&(Je.onMouseOver=function(et){return Ae({event:et,index:L,rowData:Ve})}),xe&&(Je.onContextMenu=function(et){return xe({event:et,index:L,rowData:Ve})})),l.createElement("div",s()({},Je,{className:re,key:G,role:"row",style:He}),q)}o(oa,"defaultRowRenderer"),oa.propTypes=null;var $s=function(he){r()(re,he);function re(){return f()(this,re),e()(this,(re.__proto__||h()(re)).apply(this,arguments))}return o(re,"Column"),re}(l.Component);$s.defaultProps={cellDataGetter:jr,cellRenderer:Ro,defaultSortDirection:lo.ASC,flexGrow:0,flexShrink:1,headerRenderer:Gs,style:{}};var Qr=$s;$s.propTypes={};var Ks=function(he){r()(re,he);function re(q){f()(this,re);var L=e()(this,(re.__proto__||h()(re)).call(this,q));return L.state={scrollbarWidth:0},L._createColumn=L._createColumn.bind(L),L._createRow=L._createRow.bind(L),L._onScroll=L._onScroll.bind(L),L._onSectionRendered=L._onSectionRendered.bind(L),L._setRef=L._setRef.bind(L),L}return o(re,"Table"),n()(re,[{key:"forceUpdateGrid",value:o(function(){this.Grid&&this.Grid.forceUpdate()},"forceUpdateGrid")},{key:"getOffsetForRow",value:o(function(L){var G=L.alignment,se=L.index;if(this.Grid){var oe=this.Grid.getOffsetForCell({alignment:G,rowIndex:se}),Ce=oe.scrollTop;return Ce}return 0},"getOffsetForRow")},{key:"invalidateCellSizeAfterRender",value:o(function(L){var G=L.columnIndex,se=L.rowIndex;this.Grid&&this.Grid.invalidateCellSizeAfterRender({rowIndex:se,columnIndex:G})},"invalidateCellSizeAfterRender")},{key:"measureAllRows",value:o(function(){this.Grid&&this.Grid.measureAllCells()},"measureAllRows")},{key:"recomputeGridSize",value:o(function(){var L=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},G=L.columnIndex,se=G===void 0?0:G,oe=L.rowIndex,Ce=oe===void 0?0:oe;this.Grid&&this.Grid.recomputeGridSize({rowIndex:Ce,columnIndex:se})},"recomputeGridSize")},{key:"recomputeRowHeights",value:o(function(){var L=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;this.Grid&&this.Grid.recomputeGridSize({rowIndex:L})},"recomputeRowHeights")},{key:"scrollToPosition",value:o(function(){var L=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;this.Grid&&this.Grid.scrollToPosition({scrollTop:L})},"scrollToPosition")},{key:"scrollToRow",value:o(function(){var L=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;this.Grid&&this.Grid.scrollToCell({columnIndex:0,rowIndex:L})},"scrollToRow")},{key:"getScrollbarWidth",value:o(function(){if(this.Grid){var L=Object(oi.findDOMNode)(this.Grid),G=L.clientWidth||0,se=L.offsetWidth||0;return se-G}return 0},"getScrollbarWidth")},{key:"componentDidMount",value:o(function(){this._setScrollbarWidth()},"componentDidMount")},{key:"componentDidUpdate",value:o(function(){this._setScrollbarWidth()},"componentDidUpdate")},{key:"render",value:o(function(){var L=this,G=this.props,se=G.children,oe=G.className,Ce=G.disableHeader,Ae=G.gridClassName,xe=G.gridStyle,Ve=G.headerHeight,He=G.headerRowRenderer,Je=G.height,et=G.id,mt=G.noRowsRenderer,Rt=G.rowClassName,Kt=G.rowStyle,Yt=G.scrollToIndex,an=G.style,cn=G.width,Tn=this.state.scrollbarWidth,wt=Ce?Je:Je-Ve,ni=typeof Rt=="function"?Rt({index:-1}):Rt,qn=typeof Kt=="function"?Kt({index:-1}):Kt;return this._cachedColumnStyles=[],l.Children.toArray(se).forEach(function(Oi,Li){var Mi=L._getFlexStyleForColumn(Oi,Oi.props.style);L._cachedColumnStyles[Li]=s()({overflow:"hidden"},Mi)}),l.createElement("div",{"aria-label":this.props["aria-label"],"aria-labelledby":this.props["aria-labelledby"],"aria-colcount":l.Children.toArray(se).length,"aria-rowcount":this.props.rowCount,className:R("ReactVirtualized__Table",oe),id:et,role:"grid",style:an},!Ce&&He({className:R("ReactVirtualized__Table__headerRow",ni),columns:this._getHeaderColumns(),style:s()({height:Ve,overflow:"hidden",paddingRight:Tn,width:cn},qn)}),l.createElement(Xn,s()({},this.props,{"aria-readonly":null,autoContainerWidth:!0,className:R("ReactVirtualized__Table__Grid",Ae),cellRenderer:this._createRow,columnWidth:cn,columnCount:1,height:wt,id:void 0,noContentRenderer:mt,onScroll:this._onScroll,onSectionRendered:this._onSectionRendered,ref:this._setRef,role:"rowgroup",scrollbarWidth:Tn,scrollToRow:Yt,style:s()({},xe,{overflowX:"hidden"})})))},"render")},{key:"_createColumn",value:o(function(L){var G=L.column,se=L.columnIndex,oe=L.isScrolling,Ce=L.parent,Ae=L.rowData,xe=L.rowIndex,Ve=this.props.onColumnClick,He=G.props,Je=He.cellDataGetter,et=He.cellRenderer,mt=He.className,Rt=He.columnData,Kt=He.dataKey,Yt=He.id,an=Je({columnData:Rt,dataKey:Kt,rowData:Ae}),cn=et({cellData:an,columnData:Rt,columnIndex:se,dataKey:Kt,isScrolling:oe,parent:Ce,rowData:Ae,rowIndex:xe}),Tn=o(function(Oi){Ve&&Ve({columnData:Rt,dataKey:Kt,event:Oi})},"onClick"),wt=this._cachedColumnStyles[se],ni=typeof cn=="string"?cn:null;return l.createElement("div",{"aria-colindex":se+1,"aria-describedby":Yt,className:R("ReactVirtualized__Table__rowColumn",mt),key:"Row"+xe+"-Col"+se,onClick:Tn,role:"gridcell",style:wt,title:ni},cn)},"_createColumn")},{key:"_createHeader",value:o(function(L){var G=L.column,se=L.index,oe=this.props,Ce=oe.headerClassName,Ae=oe.headerStyle,xe=oe.onHeaderClick,Ve=oe.sort,He=oe.sortBy,Je=oe.sortDirection,et=G.props,mt=et.columnData,Rt=et.dataKey,Kt=et.defaultSortDirection,Yt=et.disableSort,an=et.headerRenderer,cn=et.id,Tn=et.label,wt=!Yt&&Ve,ni=R("ReactVirtualized__Table__headerColumn",Ce,G.props.headerClassName,{ReactVirtualized__Table__sortableHeaderColumn:wt}),qn=this._getFlexStyleForColumn(G,s()({},Ae,G.props.headerStyle)),Oi=an({columnData:mt,dataKey:Rt,disableSort:Yt,label:Tn,sortBy:He,sortDirection:Je}),Li=void 0,Mi=void 0,Si=void 0,Fi=void 0,Ri=void 0;if(wt||xe){var qi=He!==Rt,to=qi?Kt:Je===lo.DESC?lo.ASC:lo.DESC,xr=o(function(co){wt&&Ve({defaultSortDirection:Kt,event:co,sortBy:Rt,sortDirection:to}),xe&&xe({columnData:mt,dataKey:Rt,event:co})},"onClick"),mr=o(function(co){(co.key==="Enter"||co.key===" ")&&xr(co)},"onKeyDown");Ri=G.props["aria-label"]||Tn||Rt,Fi="none",Si=0,Li=xr,Mi=mr}return He===Rt&&(Fi=Je===lo.ASC?"ascending":"descending"),l.createElement("div",{"aria-label":Ri,"aria-sort":Fi,className:ni,id:cn,key:"Header-Col"+se,onClick:Li,onKeyDown:Mi,role:"columnheader",style:qn,tabIndex:Si},Oi)},"_createHeader")},{key:"_createRow",value:o(function(L){var G=this,se=L.rowIndex,oe=L.isScrolling,Ce=L.key,Ae=L.parent,xe=L.style,Ve=this.props,He=Ve.children,Je=Ve.onRowClick,et=Ve.onRowDoubleClick,mt=Ve.onRowRightClick,Rt=Ve.onRowMouseOver,Kt=Ve.onRowMouseOut,Yt=Ve.rowClassName,an=Ve.rowGetter,cn=Ve.rowRenderer,Tn=Ve.rowStyle,wt=this.state.scrollbarWidth,ni=typeof Yt=="function"?Yt({index:se}):Yt,qn=typeof Tn=="function"?Tn({index:se}):Tn,Oi=an({index:se}),Li=l.Children.toArray(He).map(function(Fi,Ri){return G._createColumn({column:Fi,columnIndex:Ri,isScrolling:oe,parent:Ae,rowData:Oi,rowIndex:se,scrollbarWidth:wt})}),Mi=R("ReactVirtualized__Table__row",ni),Si=s()({},xe,{height:this._getRowHeight(se),overflow:"hidden",paddingRight:wt},qn);return cn({className:Mi,columns:Li,index:se,isScrolling:oe,key:Ce,onRowClick:Je,onRowDoubleClick:et,onRowRightClick:mt,onRowMouseOver:Rt,onRowMouseOut:Kt,rowData:Oi,style:Si})},"_createRow")},{key:"_getFlexStyleForColumn",value:o(function(L){var G=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},se=L.props.flexGrow+" "+L.props.flexShrink+" "+L.props.width+"px",oe=s()({},G,{flex:se,msFlex:se,WebkitFlex:se});return L.props.maxWidth&&(oe.maxWidth=L.props.maxWidth),L.props.minWidth&&(oe.minWidth=L.props.minWidth),oe},"_getFlexStyleForColumn")},{key:"_getHeaderColumns",value:o(function(){var L=this,G=this.props,se=G.children,oe=G.disableHeader,Ce=oe?[]:l.Children.toArray(se);return Ce.map(function(Ae,xe){return L._createHeader({column:Ae,index:xe})})},"_getHeaderColumns")},{key:"_getRowHeight",value:o(function(L){var G=this.props.rowHeight;return typeof G=="function"?G({index:L}):G},"_getRowHeight")},{key:"_onScroll",value:o(function(L){var G=L.clientHeight,se=L.scrollHeight,oe=L.scrollTop,Ce=this.props.onScroll;Ce({clientHeight:G,scrollHeight:se,scrollTop:oe})},"_onScroll")},{key:"_onSectionRendered",value:o(function(L){var G=L.rowOverscanStartIndex,se=L.rowOverscanStopIndex,oe=L.rowStartIndex,Ce=L.rowStopIndex,Ae=this.props.onRowsRendered;Ae({overscanStartIndex:G,overscanStopIndex:se,startIndex:oe,stopIndex:Ce})},"_onSectionRendered")},{key:"_setRef",value:o(function(L){this.Grid=L},"_setRef")},{key:"_setScrollbarWidth",value:o(function(){var L=this.getScrollbarWidth();this.setState({scrollbarWidth:L})},"_setScrollbarWidth")}]),re}(l.PureComponent);Ks.defaultProps={disableHeader:!1,estimatedRowSize:30,headerHeight:0,headerStyle:{},noRowsRenderer:o(function(){return null},"noRowsRenderer"),onRowsRendered:o(function(){return null},"onRowsRendered"),onScroll:o(function(){return null},"onScroll"),overscanIndicesGetter:hi,overscanRowCount:10,rowRenderer:oa,headerRowRenderer:ao,rowStyle:{},scrollToAlignment:"auto",scrollToIndex:-1,style:{}};var os=Ks;Ks.propTypes={};var Ra=os,qr=[],zo=null,pr=null;function cr(){pr&&(pr=null,document.body&&zo!=null&&(document.body.style.pointerEvents=zo),zo=null)}o(cr,"enablePointerEventsIfDisabled");function Pa(){cr(),qr.forEach(function(he){return he.__resetIsScrolling()})}o(Pa,"enablePointerEventsAfterDelayCallback");function sa(){pr&&bn(pr);var he=0;qr.forEach(function(re){he=Math.max(he,re.props.scrollingResetTimeInterval)}),pr=wn(Pa,he)}o(sa,"enablePointerEventsAfterDelay");function ki(he){he.currentTarget===window&&zo==null&&document.body&&(zo=document.body.style.pointerEvents,document.body.style.pointerEvents="none"),sa(),qr.forEach(function(re){re.props.scrollElement===he.currentTarget&&re.__handleWindowScrollEvent()})}o(ki,"onScrollWindow");function ss(he,re){qr.some(function(q){return q.props.scrollElement===re})||re.addEventListener("scroll",ki),qr.push(he)}o(ss,"registerScrollListener");function vo(he,re){qr=qr.filter(function(q){return q!==he}),qr.length||(re.removeEventListener("scroll",ki),pr&&(bn(pr),cr()))}o(vo,"unregisterScrollListener");var eo=o(function(re){return re===window},"isWindow"),zi=o(function(re){return re.getBoundingClientRect()},"getBoundingBox");function ws(he,re){if(he)if(eo(he)){var q=window,L=q.innerHeight,G=q.innerWidth;return{height:typeof L=="number"?L:0,width:typeof G=="number"?G:0}}else return zi(he);else return{height:re.serverHeight,width:re.serverWidth}}o(ws,"getDimensions");function Os(he,re){if(eo(re)&&document.documentElement){var q=document.documentElement,L=zi(he),G=zi(q);return{top:L.top-G.top,left:L.left-G.left}}else{var se=Ms(re),oe=zi(he),Ce=zi(re);return{top:oe.top+se.top-Ce.top,left:oe.left+se.left-Ce.left}}}o(Os,"getPositionOffset");function Ms(he){return eo(he)&&document.documentElement?{top:"scrollY"in window?window.scrollY:document.documentElement.scrollTop,left:"scrollX"in window?window.scrollX:document.documentElement.scrollLeft}:{top:he.scrollTop,left:he.scrollLeft}}o(Ms,"getScrollOffset");var as=150,ls=o(function(){return typeof window<"u"?window:void 0},"getWindow"),cs=function(he){r()(re,he);function re(){var q,L,G,se;f()(this,re);for(var oe=arguments.length,Ce=Array(oe),Ae=0;Ae<oe;Ae++)Ce[Ae]=arguments[Ae];return se=(L=(G=e()(this,(q=re.__proto__||h()(re)).call.apply(q,[this].concat(Ce))),G),G._window=ls(),G._isMounted=!1,G._positionFromTop=0,G._positionFromLeft=0,G.state=s()({},ws(G.props.scrollElement,G.props),{isScrolling:!1,scrollLeft:0,scrollTop:0}),G._registerChild=function(xe){xe&&!(xe instanceof Element)&&console.warn("WindowScroller registerChild expects to be passed Element or null"),G._child=xe,G.updatePosition()},G._onChildScroll=function(xe){var Ve=xe.scrollTop;if(G.state.scrollTop!==Ve){var He=G.props.scrollElement;He&&(typeof He.scrollTo=="function"?He.scrollTo(0,Ve+G._positionFromTop):He.scrollTop=Ve+G._positionFromTop)}},G._registerResizeListener=function(xe){xe===window?window.addEventListener("resize",G._onResize,!1):G._detectElementResize.addResizeListener(xe,G._onResize)},G._unregisterResizeListener=function(xe){xe===window?window.removeEventListener("resize",G._onResize,!1):xe&&G._detectElementResize.removeResizeListener(xe,G._onResize)},G._onResize=function(){G.updatePosition()},G.__handleWindowScrollEvent=function(){if(G._isMounted){var xe=G.props.onScroll,Ve=G.props.scrollElement;if(Ve){var He=Ms(Ve),Je=Math.max(0,He.left-G._positionFromLeft),et=Math.max(0,He.top-G._positionFromTop);G.setState({isScrolling:!0,scrollLeft:Je,scrollTop:et}),xe({scrollLeft:Je,scrollTop:et})}}},G.__resetIsScrolling=function(){G.setState({isScrolling:!1})},L),e()(G,se)}return o(re,"WindowScroller"),n()(re,[{key:"updatePosition",value:o(function(){var L=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.props.scrollElement,G=this.props.onResize,se=this.state,oe=se.height,Ce=se.width,Ae=this._child||oi.findDOMNode(this);if(Ae instanceof Element&&L){var xe=Os(Ae,L);this._positionFromTop=xe.top,this._positionFromLeft=xe.left}var Ve=ws(L,this.props);(oe!==Ve.height||Ce!==Ve.width)&&(this.setState({height:Ve.height,width:Ve.width}),G({height:Ve.height,width:Ve.width}))},"updatePosition")},{key:"componentDidMount",value:o(function(){var L=this.props.scrollElement;this._detectElementResize=Object(or.a)(),this.updatePosition(L),L&&(ss(this,L),this._registerResizeListener(L)),this._isMounted=!0},"componentDidMount")},{key:"componentDidUpdate",value:o(function(L,G){var se=this.props.scrollElement,oe=L.scrollElement;oe!==se&&oe!=null&&se!=null&&(this.updatePosition(se),vo(this,oe),ss(this,se),this._unregisterResizeListener(oe),this._registerResizeListener(se))},"componentDidUpdate")},{key:"componentWillUnmount",value:o(function(){var L=this.props.scrollElement;L&&(vo(this,L),this._unregisterResizeListener(L)),this._isMounted=!1},"componentWillUnmount")},{key:"render",value:o(function(){var L=this.props.children,G=this.state,se=G.isScrolling,oe=G.scrollTop,Ce=G.scrollLeft,Ae=G.height,xe=G.width;return L({onChildScroll:this._onChildScroll,registerChild:this._registerChild,height:Ae,isScrolling:se,scrollLeft:Ce,scrollTop:oe,width:xe})},"render")}]),re}(l.PureComponent);cs.defaultProps={onResize:o(function(){},"onResize"),onScroll:o(function(){},"onScroll"),scrollingResetTimeInterval:as,scrollElement:ls(),serverHeight:0,serverWidth:0},cs.propTypes=null;var As=cs,aa=As},cKqT:function(N,c,d){"use strict";Object.defineProperty(c,"__esModule",{value:!0});let S=o(class{reset(){this.currentRetry=0}nextBackoffAmountMs(){const m=Math.random()*Math.min(this.longBackoffMs,this.shortBackoffMs*Math.pow(2,this.currentRetry))+this.fixedWaitMs;return this.currentRetry+=1,m}constructor(m,f,a){this.fixedWaitMs=m,this.shortBackoffMs=f,this.longBackoffMs=a,this.currentRetry=0,this.fixedWaitMs<0&&(this.fixedWaitMs=0),this.shortBackoffMs<0&&(this.shortBackoffMs=0),this.longBackoffMs<0&&(this.longBackoffMs=0),this.reset()}},"FullJitterBackoff");c.default=S},cYl2:function(N,c,d){"use strict";d.r(c),d.d(c,"Deflate",function(){return _a}),d.d(c,"Inflate",function(){return er}),d.d(c,"constants",function(){return Va}),d.d(c,"default",function(){return Ha}),d.d(c,"deflate",function(){return Na}),d.d(c,"deflateRaw",function(){return Ba}),d.d(c,"gzip",function(){return fl}),d.d(c,"inflate",function(){return ds}),d.d(c,"inflateRaw",function(){return Fa}),d.d(c,"ungzip",function(){return Ua});/*! pako 2.0.4 https://github.com/nodeca/pako @license (MIT AND Zlib) */const S=4,h=0,m=1,f=2;function a(b){let F=b.length;for(;--F>=0;)b[F]=0}o(a,"zero$1");const n=0,i=1,e=2,t=3,r=258,l=29,p=256,v=p+1+l,g=30,u=19,s=2*v+1,I=15,M=16,R=7,B=256,j=16,A=17,D=18,$=new Uint8Array([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0]),O=new Uint8Array([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13]),P=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7]),k=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),K=512,Z=new Array((v+2)*2);a(Z);const Y=new Array(g*2);a(Y);const ie=new Array(K);a(ie);const ge=new Array(r-t+1);a(ge);const Ie=new Array(l);a(Ie);const le=new Array(g);a(le);function we(b,F,w,X,z){this.static_tree=b,this.extra_bits=F,this.extra_base=w,this.elems=X,this.max_length=z,this.has_stree=b&&b.length}o(we,"StaticTreeDesc");let Be,Re,Ne;function _e(b,F){this.dyn_tree=b,this.max_code=0,this.stat_desc=F}o(_e,"TreeDesc");const Ze=o(b=>b<256?ie[b]:ie[256+(b>>>7)],"d_code"),tt=o((b,F)=>{b.pending_buf[b.pending++]=F&255,b.pending_buf[b.pending++]=F>>>8&255},"put_short"),$e=o((b,F,w)=>{b.bi_valid>M-w?(b.bi_buf|=F<<b.bi_valid&65535,tt(b,b.bi_buf),b.bi_buf=F>>M-b.bi_valid,b.bi_valid+=w-M):(b.bi_buf|=F<<b.bi_valid&65535,b.bi_valid+=w)},"send_bits"),at=o((b,F,w)=>{$e(b,w[F*2],w[F*2+1])},"send_code"),lt=o((b,F)=>{let w=0;do w|=b&1,b>>>=1,w<<=1;while(--F>0);return w>>>1},"bi_reverse"),ot=o(b=>{b.bi_valid===16?(tt(b,b.bi_buf),b.bi_buf=0,b.bi_valid=0):b.bi_valid>=8&&(b.pending_buf[b.pending++]=b.bi_buf&255,b.bi_buf>>=8,b.bi_valid-=8)},"bi_flush"),Gt=o((b,F)=>{const w=F.dyn_tree,X=F.max_code,z=F.stat_desc.static_tree,ae=F.stat_desc.has_stree,be=F.stat_desc.extra_bits,ve=F.stat_desc.extra_base,qe=F.stat_desc.max_length;let pe,Te,Qt,Xe,Ue,yt,Bn=0;for(Xe=0;Xe<=I;Xe++)b.bl_count[Xe]=0;for(w[b.heap[b.heap_max]*2+1]=0,pe=b.heap_max+1;pe<s;pe++)Te=b.heap[pe],Xe=w[w[Te*2+1]*2+1]+1,Xe>qe&&(Xe=qe,Bn++),w[Te*2+1]=Xe,!(Te>X)&&(b.bl_count[Xe]++,Ue=0,Te>=ve&&(Ue=be[Te-ve]),yt=w[Te*2],b.opt_len+=yt*(Xe+Ue),ae&&(b.static_len+=yt*(z[Te*2+1]+Ue)));if(Bn!==0){do{for(Xe=qe-1;b.bl_count[Xe]===0;)Xe--;b.bl_count[Xe]--,b.bl_count[Xe+1]+=2,b.bl_count[qe]--,Bn-=2}while(Bn>0);for(Xe=qe;Xe!==0;Xe--)for(Te=b.bl_count[Xe];Te!==0;)Qt=b.heap[--pe],!(Qt>X)&&(w[Qt*2+1]!==Xe&&(b.opt_len+=(Xe-w[Qt*2+1])*w[Qt*2],w[Qt*2+1]=Xe),Te--)}},"gen_bitlen"),Zt=o((b,F,w)=>{const X=new Array(I+1);let z=0,ae,be;for(ae=1;ae<=I;ae++)X[ae]=z=z+w[ae-1]<<1;for(be=0;be<=F;be++){let ve=b[be*2+1];ve!==0&&(b[be*2]=lt(X[ve]++,ve))}},"gen_codes"),un=o(()=>{let b,F,w,X,z;const ae=new Array(I+1);for(w=0,X=0;X<l-1;X++)for(Ie[X]=w,b=0;b<1<<$[X];b++)ge[w++]=X;for(ge[w-1]=X,z=0,X=0;X<16;X++)for(le[X]=z,b=0;b<1<<O[X];b++)ie[z++]=X;for(z>>=7;X<g;X++)for(le[X]=z<<7,b=0;b<1<<O[X]-7;b++)ie[256+z++]=X;for(F=0;F<=I;F++)ae[F]=0;for(b=0;b<=143;)Z[b*2+1]=8,b++,ae[8]++;for(;b<=255;)Z[b*2+1]=9,b++,ae[9]++;for(;b<=279;)Z[b*2+1]=7,b++,ae[7]++;for(;b<=287;)Z[b*2+1]=8,b++,ae[8]++;for(Zt(Z,v+1,ae),b=0;b<g;b++)Y[b*2+1]=5,Y[b*2]=lt(b,5);Be=new we(Z,$,p+1,v,I),Re=new we(Y,O,0,g,I),Ne=new we(new Array(0),P,0,u,R)},"tr_static_init"),Un=o(b=>{let F;for(F=0;F<v;F++)b.dyn_ltree[F*2]=0;for(F=0;F<g;F++)b.dyn_dtree[F*2]=0;for(F=0;F<u;F++)b.bl_tree[F*2]=0;b.dyn_ltree[B*2]=1,b.opt_len=b.static_len=0,b.last_lit=b.matches=0},"init_block"),jn=o(b=>{b.bi_valid>8?tt(b,b.bi_buf):b.bi_valid>0&&(b.pending_buf[b.pending++]=b.bi_buf),b.bi_buf=0,b.bi_valid=0},"bi_windup"),ci=o((b,F,w,X)=>{jn(b),X&&(tt(b,w),tt(b,~w)),b.pending_buf.set(b.window.subarray(F,F+w),b.pending),b.pending+=w},"copy_block"),fn=o((b,F,w,X)=>{const z=F*2,ae=w*2;return b[z]<b[ae]||b[z]===b[ae]&&X[F]<=X[w]},"smaller"),ri=o((b,F,w)=>{const X=b.heap[w];let z=w<<1;for(;z<=b.heap_len&&(z<b.heap_len&&fn(F,b.heap[z+1],b.heap[z],b.depth)&&z++,!fn(F,X,b.heap[z],b.depth));)b.heap[w]=b.heap[z],w=z,z<<=1;b.heap[w]=X},"pqdownheap"),gi=o((b,F,w)=>{let X,z,ae=0,be,ve;if(b.last_lit!==0)do X=b.pending_buf[b.d_buf+ae*2]<<8|b.pending_buf[b.d_buf+ae*2+1],z=b.pending_buf[b.l_buf+ae],ae++,X===0?at(b,z,F):(be=ge[z],at(b,be+p+1,F),ve=$[be],ve!==0&&(z-=Ie[be],$e(b,z,ve)),X--,be=Ze(X),at(b,be,w),ve=O[be],ve!==0&&(X-=le[be],$e(b,X,ve)));while(ae<b.last_lit);at(b,B,F)},"compress_block"),Nn=o((b,F)=>{const w=F.dyn_tree,X=F.stat_desc.static_tree,z=F.stat_desc.has_stree,ae=F.stat_desc.elems;let be,ve,qe=-1,pe;for(b.heap_len=0,b.heap_max=s,be=0;be<ae;be++)w[be*2]!==0?(b.heap[++b.heap_len]=qe=be,b.depth[be]=0):w[be*2+1]=0;for(;b.heap_len<2;)pe=b.heap[++b.heap_len]=qe<2?++qe:0,w[pe*2]=1,b.depth[pe]=0,b.opt_len--,z&&(b.static_len-=X[pe*2+1]);for(F.max_code=qe,be=b.heap_len>>1;be>=1;be--)ri(b,w,be);pe=ae;do be=b.heap[1],b.heap[1]=b.heap[b.heap_len--],ri(b,w,1),ve=b.heap[1],b.heap[--b.heap_max]=be,b.heap[--b.heap_max]=ve,w[pe*2]=w[be*2]+w[ve*2],b.depth[pe]=(b.depth[be]>=b.depth[ve]?b.depth[be]:b.depth[ve])+1,w[be*2+1]=w[ve*2+1]=pe,b.heap[1]=pe++,ri(b,w,1);while(b.heap_len>=2);b.heap[--b.heap_max]=b.heap[1],Gt(b,F),Zt(w,qe,b.bl_count)},"build_tree"),Ti=o((b,F,w)=>{let X,z=-1,ae,be=F[0*2+1],ve=0,qe=7,pe=4;for(be===0&&(qe=138,pe=3),F[(w+1)*2+1]=65535,X=0;X<=w;X++)ae=be,be=F[(X+1)*2+1],!(++ve<qe&&ae===be)&&(ve<pe?b.bl_tree[ae*2]+=ve:ae!==0?(ae!==z&&b.bl_tree[ae*2]++,b.bl_tree[j*2]++):ve<=10?b.bl_tree[A*2]++:b.bl_tree[D*2]++,ve=0,z=ae,be===0?(qe=138,pe=3):ae===be?(qe=6,pe=3):(qe=7,pe=4))},"scan_tree"),Bi=o((b,F,w)=>{let X,z=-1,ae,be=F[0*2+1],ve=0,qe=7,pe=4;for(be===0&&(qe=138,pe=3),X=0;X<=w;X++)if(ae=be,be=F[(X+1)*2+1],!(++ve<qe&&ae===be)){if(ve<pe)do at(b,ae,b.bl_tree);while(--ve!==0);else ae!==0?(ae!==z&&(at(b,ae,b.bl_tree),ve--),at(b,j,b.bl_tree),$e(b,ve-3,2)):ve<=10?(at(b,A,b.bl_tree),$e(b,ve-3,3)):(at(b,D,b.bl_tree),$e(b,ve-11,7));ve=0,z=ae,be===0?(qe=138,pe=3):ae===be?(qe=6,pe=3):(qe=7,pe=4)}},"send_tree"),vn=o(b=>{let F;for(Ti(b,b.dyn_ltree,b.l_desc.max_code),Ti(b,b.dyn_dtree,b.d_desc.max_code),Nn(b,b.bl_desc),F=u-1;F>=3&&b.bl_tree[k[F]*2+1]===0;F--);return b.opt_len+=3*(F+1)+5+5+4,F},"build_bl_tree"),Mn=o((b,F,w,X)=>{let z;for($e(b,F-257,5),$e(b,w-1,5),$e(b,X-4,4),z=0;z<X;z++)$e(b,b.bl_tree[k[z]*2+1],3);Bi(b,b.dyn_ltree,F-1),Bi(b,b.dyn_dtree,w-1)},"send_all_trees"),Ot=o(b=>{let F=4093624447,w;for(w=0;w<=31;w++,F>>>=1)if(F&1&&b.dyn_ltree[w*2]!==0)return h;if(b.dyn_ltree[9*2]!==0||b.dyn_ltree[10*2]!==0||b.dyn_ltree[13*2]!==0)return m;for(w=32;w<p;w++)if(b.dyn_ltree[w*2]!==0)return m;return h},"detect_data_type");let Ke=!1;const gt=o(b=>{Ke||(un(),Ke=!0),b.l_desc=new _e(b.dyn_ltree,Be),b.d_desc=new _e(b.dyn_dtree,Re),b.bl_desc=new _e(b.bl_tree,Ne),b.bi_buf=0,b.bi_valid=0,Un(b)},"_tr_init$1"),ht=o((b,F,w,X)=>{$e(b,(n<<1)+(X?1:0),3),ci(b,F,w,!0)},"_tr_stored_block$1"),en=o(b=>{$e(b,i<<1,3),at(b,B,Z),ot(b)},"_tr_align$1"),Kn=o((b,F,w,X)=>{let z,ae,be=0;b.level>0?(b.strm.data_type===f&&(b.strm.data_type=Ot(b)),Nn(b,b.l_desc),Nn(b,b.d_desc),be=vn(b),z=b.opt_len+3+7>>>3,ae=b.static_len+3+7>>>3,ae<=z&&(z=ae)):z=ae=w+5,w+4<=z&&F!==-1?ht(b,F,w,X):b.strategy===S||ae===z?($e(b,(i<<1)+(X?1:0),3),gi(b,Z,Y)):($e(b,(e<<1)+(X?1:0),3),Mn(b,b.l_desc.max_code+1,b.d_desc.max_code+1,be+1),gi(b,b.dyn_ltree,b.dyn_dtree)),Un(b),X&&jn(b)},"_tr_flush_block$1"),li=o((b,F,w)=>(b.pending_buf[b.d_buf+b.last_lit*2]=F>>>8&255,b.pending_buf[b.d_buf+b.last_lit*2+1]=F&255,b.pending_buf[b.l_buf+b.last_lit]=w&255,b.last_lit++,F===0?b.dyn_ltree[w*2]++:(b.matches++,F--,b.dyn_ltree[(ge[w]+p+1)*2]++,b.dyn_dtree[Ze(F)*2]++),b.last_lit===b.lit_bufsize-1),"_tr_tally$1");var Ee=gt,Pe=ht,Fe=Kn,Dt=li,zt=en,Ut={_tr_init:Ee,_tr_stored_block:Pe,_tr_flush_block:Fe,_tr_tally:Dt,_tr_align:zt},wn=o((b,F,w,X)=>{let z=b&65535|0,ae=b>>>16&65535|0,be=0;for(;w!==0;){be=w>2e3?2e3:w,w-=be;do z=z+F[X++]|0,ae=ae+z|0;while(--be);z%=65521,ae%=65521}return z|ae<<16|0},"adler32");const pn=o(()=>{let b,F=[];for(var w=0;w<256;w++){b=w;for(var X=0;X<8;X++)b=b&1?3988292384^b>>>1:b>>>1;F[w]=b}return F},"makeTable"),xt=new Uint32Array(pn());var on=o((b,F,w,X)=>{const z=xt,ae=X+w;b^=-1;for(let be=X;be<ae;be++)b=b>>>8^z[(b^F[be])&255];return b^-1},"crc32"),Xn={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},vi={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8};const{_tr_init:kr,_tr_stored_block:Gr,_tr_flush_block:Lr,_tr_tally:hi,_tr_align:_r}=Ut,{Z_NO_FLUSH:Ii,Z_PARTIAL_FLUSH:Nr,Z_FULL_FLUSH:or,Z_FINISH:fi,Z_BLOCK:Er,Z_OK:oi,Z_STREAM_END:tr,Z_STREAM_ERROR:Jn,Z_DATA_ERROR:sr,Z_BUF_ERROR:$i,Z_DEFAULT_COMPRESSION:Tr,Z_FILTERED:Ir,Z_HUFFMAN_ONLY:Ki,Z_RLE:Or,Z_FIXED:H,Z_DEFAULT_STRATEGY:te,Z_UNKNOWN:Oe,Z_DEFLATED:ke}=vi,Ge=9,ft=15,pt=8,ct=29,Mt=256+1+ct,kt=30,En=19,$t=2*Mt+1,Hn=15,bt=3,Zn=258,zn=Zn+bt+1,yi=32,ei=42,$n=69,Ei=73,Pi=91,pi=103,di=113,wi=666,tn=1,si=2,Qn=3,Di=4,io=3,mi=o((b,F)=>(b.msg=Xn[F],F),"err"),Br=o(b=>(b<<1)-(b>4?9:0),"rank"),Ui=o(b=>{let F=b.length;for(;--F>=0;)b[F]=0},"zero");let Xi=o((b,F,w)=>(F<<b.hash_shift^w)&b.hash_mask,"HASH_ZLIB");const Ji=o(b=>{const F=b.state;let w=F.pending;w>b.avail_out&&(w=b.avail_out),w!==0&&(b.output.set(F.pending_buf.subarray(F.pending_out,F.pending_out+w),b.next_out),b.next_out+=w,F.pending_out+=w,b.total_out+=w,b.avail_out-=w,F.pending-=w,F.pending===0&&(F.pending_out=0))},"flush_pending"),ti=o((b,F)=>{Lr(b,b.block_start>=0?b.block_start:-1,b.strstart-b.block_start,F),b.block_start=b.strstart,Ji(b.strm)},"flush_block_only"),Jt=o((b,F)=>{b.pending_buf[b.pending++]=F},"put_byte"),ar=o((b,F)=>{b.pending_buf[b.pending++]=F>>>8&255,b.pending_buf[b.pending++]=F&255},"putShortMSB"),Jo=o((b,F,w,X)=>{let z=b.avail_in;return z>X&&(z=X),z===0?0:(b.avail_in-=z,F.set(b.input.subarray(b.next_in,b.next_in+z),w),b.state.wrap===1?b.adler=wn(b.adler,F,z,w):b.state.wrap===2&&(b.adler=on(b.adler,F,z,w)),b.next_in+=z,b.total_in+=z,z)},"read_buf"),ro=o((b,F)=>{let w=b.max_chain_length,X=b.strstart,z,ae,be=b.prev_length,ve=b.nice_match;const qe=b.strstart>b.w_size-zn?b.strstart-(b.w_size-zn):0,pe=b.window,Te=b.w_mask,Qt=b.prev,Xe=b.strstart+Zn;let Ue=pe[X+be-1],yt=pe[X+be];b.prev_length>=b.good_match&&(w>>=2),ve>b.lookahead&&(ve=b.lookahead);do if(z=F,!(pe[z+be]!==yt||pe[z+be-1]!==Ue||pe[z]!==pe[X]||pe[++z]!==pe[X+1])){X+=2,z++;do;while(pe[++X]===pe[++z]&&pe[++X]===pe[++z]&&pe[++X]===pe[++z]&&pe[++X]===pe[++z]&&pe[++X]===pe[++z]&&pe[++X]===pe[++z]&&pe[++X]===pe[++z]&&pe[++X]===pe[++z]&&X<Xe);if(ae=Zn-(Xe-X),X=Xe-Zn,ae>be){if(b.match_start=F,be=ae,ae>=ve)break;Ue=pe[X+be-1],yt=pe[X+be]}}while((F=Qt[F&Te])>qe&&--w!==0);return be<=b.lookahead?be:b.lookahead},"longest_match"),Hi=o(b=>{const F=b.w_size;let w,X,z,ae,be;do{if(ae=b.window_size-b.lookahead-b.strstart,b.strstart>=F+(F-zn)){b.window.set(b.window.subarray(F,F+F),0),b.match_start-=F,b.strstart-=F,b.block_start-=F,X=b.hash_size,w=X;do z=b.head[--w],b.head[w]=z>=F?z-F:0;while(--X);X=F,w=X;do z=b.prev[--w],b.prev[w]=z>=F?z-F:0;while(--X);ae+=F}if(b.strm.avail_in===0)break;if(X=Jo(b.strm,b.window,b.strstart+b.lookahead,ae),b.lookahead+=X,b.lookahead+b.insert>=bt)for(be=b.strstart-b.insert,b.ins_h=b.window[be],b.ins_h=Xi(b,b.ins_h,b.window[be+1]);b.insert&&(b.ins_h=Xi(b,b.ins_h,b.window[be+bt-1]),b.prev[be&b.w_mask]=b.head[b.ins_h],b.head[b.ins_h]=be,be++,b.insert--,!(b.lookahead+b.insert<bt)););}while(b.lookahead<zn&&b.strm.avail_in!==0)},"fill_window"),$r=o((b,F)=>{let w=65535;for(w>b.pending_buf_size-5&&(w=b.pending_buf_size-5);;){if(b.lookahead<=1){if(Hi(b),b.lookahead===0&&F===Ii)return tn;if(b.lookahead===0)break}b.strstart+=b.lookahead,b.lookahead=0;const X=b.block_start+w;if((b.strstart===0||b.strstart>=X)&&(b.lookahead=b.strstart-X,b.strstart=X,ti(b,!1),b.strm.avail_out===0)||b.strstart-b.block_start>=b.w_size-zn&&(ti(b,!1),b.strm.avail_out===0))return tn}return b.insert=0,F===fi?(ti(b,!0),b.strm.avail_out===0?Qn:Di):(b.strstart>b.block_start&&(ti(b,!1),b.strm.avail_out===0),tn)},"deflate_stored"),Fr=o((b,F)=>{let w,X;for(;;){if(b.lookahead<zn){if(Hi(b),b.lookahead<zn&&F===Ii)return tn;if(b.lookahead===0)break}if(w=0,b.lookahead>=bt&&(b.ins_h=Xi(b,b.ins_h,b.window[b.strstart+bt-1]),w=b.prev[b.strstart&b.w_mask]=b.head[b.ins_h],b.head[b.ins_h]=b.strstart),w!==0&&b.strstart-w<=b.w_size-zn&&(b.match_length=ro(b,w)),b.match_length>=bt)if(X=hi(b,b.strstart-b.match_start,b.match_length-bt),b.lookahead-=b.match_length,b.match_length<=b.max_lazy_match&&b.lookahead>=bt){b.match_length--;do b.strstart++,b.ins_h=Xi(b,b.ins_h,b.window[b.strstart+bt-1]),w=b.prev[b.strstart&b.w_mask]=b.head[b.ins_h],b.head[b.ins_h]=b.strstart;while(--b.match_length!==0);b.strstart++}else b.strstart+=b.match_length,b.match_length=0,b.ins_h=b.window[b.strstart],b.ins_h=Xi(b,b.ins_h,b.window[b.strstart+1]);else X=hi(b,0,b.window[b.strstart]),b.lookahead--,b.strstart++;if(X&&(ti(b,!1),b.strm.avail_out===0))return tn}return b.insert=b.strstart<bt-1?b.strstart:bt-1,F===fi?(ti(b,!0),b.strm.avail_out===0?Qn:Di):b.last_lit&&(ti(b,!1),b.strm.avail_out===0)?tn:si},"deflate_fast"),Zi=o((b,F)=>{let w,X,z;for(;;){if(b.lookahead<zn){if(Hi(b),b.lookahead<zn&&F===Ii)return tn;if(b.lookahead===0)break}if(w=0,b.lookahead>=bt&&(b.ins_h=Xi(b,b.ins_h,b.window[b.strstart+bt-1]),w=b.prev[b.strstart&b.w_mask]=b.head[b.ins_h],b.head[b.ins_h]=b.strstart),b.prev_length=b.match_length,b.prev_match=b.match_start,b.match_length=bt-1,w!==0&&b.prev_length<b.max_lazy_match&&b.strstart-w<=b.w_size-zn&&(b.match_length=ro(b,w),b.match_length<=5&&(b.strategy===Ir||b.match_length===bt&&b.strstart-b.match_start>4096)&&(b.match_length=bt-1)),b.prev_length>=bt&&b.match_length<=b.prev_length){z=b.strstart+b.lookahead-bt,X=hi(b,b.strstart-1-b.prev_match,b.prev_length-bt),b.lookahead-=b.prev_length-1,b.prev_length-=2;do++b.strstart<=z&&(b.ins_h=Xi(b,b.ins_h,b.window[b.strstart+bt-1]),w=b.prev[b.strstart&b.w_mask]=b.head[b.ins_h],b.head[b.ins_h]=b.strstart);while(--b.prev_length!==0);if(b.match_available=0,b.match_length=bt-1,b.strstart++,X&&(ti(b,!1),b.strm.avail_out===0))return tn}else if(b.match_available){if(X=hi(b,0,b.window[b.strstart-1]),X&&ti(b,!1),b.strstart++,b.lookahead--,b.strm.avail_out===0)return tn}else b.match_available=1,b.strstart++,b.lookahead--}return b.match_available&&(X=hi(b,0,b.window[b.strstart-1]),b.match_available=0),b.insert=b.strstart<bt-1?b.strstart:bt-1,F===fi?(ti(b,!0),b.strm.avail_out===0?Qn:Di):b.last_lit&&(ti(b,!1),b.strm.avail_out===0)?tn:si},"deflate_slow"),Ss=o((b,F)=>{let w,X,z,ae;const be=b.window;for(;;){if(b.lookahead<=Zn){if(Hi(b),b.lookahead<=Zn&&F===Ii)return tn;if(b.lookahead===0)break}if(b.match_length=0,b.lookahead>=bt&&b.strstart>0&&(z=b.strstart-1,X=be[z],X===be[++z]&&X===be[++z]&&X===be[++z])){ae=b.strstart+Zn;do;while(X===be[++z]&&X===be[++z]&&X===be[++z]&&X===be[++z]&&X===be[++z]&&X===be[++z]&&X===be[++z]&&X===be[++z]&&z<ae);b.match_length=Zn-(ae-z),b.match_length>b.lookahead&&(b.match_length=b.lookahead)}if(b.match_length>=bt?(w=hi(b,1,b.match_length-bt),b.lookahead-=b.match_length,b.strstart+=b.match_length,b.match_length=0):(w=hi(b,0,b.window[b.strstart]),b.lookahead--,b.strstart++),w&&(ti(b,!1),b.strm.avail_out===0))return tn}return b.insert=0,F===fi?(ti(b,!0),b.strm.avail_out===0?Qn:Di):b.last_lit&&(ti(b,!1),b.strm.avail_out===0)?tn:si},"deflate_rle"),ys=o((b,F)=>{let w;for(;;){if(b.lookahead===0&&(Hi(b),b.lookahead===0)){if(F===Ii)return tn;break}if(b.match_length=0,w=hi(b,0,b.window[b.strstart]),b.lookahead--,b.strstart++,w&&(ti(b,!1),b.strm.avail_out===0))return tn}return b.insert=0,F===fi?(ti(b,!0),b.strm.avail_out===0?Qn:Di):b.last_lit&&(ti(b,!1),b.strm.avail_out===0)?tn:si},"deflate_huff");function xi(b,F,w,X,z){this.good_length=b,this.max_lazy=F,this.nice_length=w,this.max_chain=X,this.func=z}o(xi,"Config");const hr=[new xi(0,0,0,0,$r),new xi(4,4,8,4,Fr),new xi(4,5,16,8,Fr),new xi(4,6,32,32,Fr),new xi(4,4,16,16,Zi),new xi(8,16,32,32,Zi),new xi(8,16,128,128,Zi),new xi(8,32,128,256,Zi),new xi(32,128,258,1024,Zi),new xi(32,258,258,4096,Zi)],bo=o(b=>{b.window_size=2*b.w_size,Ui(b.head),b.max_lazy_match=hr[b.level].max_lazy,b.good_match=hr[b.level].good_length,b.nice_match=hr[b.level].nice_length,b.max_chain_length=hr[b.level].max_chain,b.strstart=0,b.block_start=0,b.lookahead=0,b.insert=0,b.match_length=b.prev_length=bt-1,b.match_available=0,b.ins_h=0},"lm_init");function Cs(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=ke,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new Uint16Array($t*2),this.dyn_dtree=new Uint16Array((2*kt+1)*2),this.bl_tree=new Uint16Array((2*En+1)*2),Ui(this.dyn_ltree),Ui(this.dyn_dtree),Ui(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new Uint16Array(Hn+1),this.heap=new Uint16Array(2*Mt+1),Ui(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new Uint16Array(2*Mt+1),Ui(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}o(Cs,"DeflateState");const Mr=o(b=>{if(!b||!b.state)return mi(b,Jn);b.total_in=b.total_out=0,b.data_type=Oe;const F=b.state;return F.pending=0,F.pending_out=0,F.wrap<0&&(F.wrap=-F.wrap),F.status=F.wrap?ei:di,b.adler=F.wrap===2?0:1,F.last_flush=Ii,kr(F),oi},"deflateResetKeep"),ho=o(b=>{const F=Mr(b);return F===oi&&bo(b.state),F},"deflateReset"),oo=o((b,F)=>!b||!b.state||b.state.wrap!==2?Jn:(b.state.gzhead=F,oi),"deflateSetHeader"),Eo=o((b,F,w,X,z,ae)=>{if(!b)return Jn;let be=1;if(F===Tr&&(F=6),X<0?(be=0,X=-X):X>15&&(be=2,X-=16),z<1||z>Ge||w!==ke||X<8||X>15||F<0||F>9||ae<0||ae>H)return mi(b,Jn);X===8&&(X=9);const ve=new Cs;return b.state=ve,ve.strm=b,ve.wrap=be,ve.gzhead=null,ve.w_bits=X,ve.w_size=1<<ve.w_bits,ve.w_mask=ve.w_size-1,ve.hash_bits=z+7,ve.hash_size=1<<ve.hash_bits,ve.hash_mask=ve.hash_size-1,ve.hash_shift=~~((ve.hash_bits+bt-1)/bt),ve.window=new Uint8Array(ve.w_size*2),ve.head=new Uint16Array(ve.hash_size),ve.prev=new Uint16Array(ve.w_size),ve.lit_bufsize=1<<z+6,ve.pending_buf_size=ve.lit_bufsize*4,ve.pending_buf=new Uint8Array(ve.pending_buf_size),ve.d_buf=1*ve.lit_bufsize,ve.l_buf=(1+2)*ve.lit_bufsize,ve.level=F,ve.strategy=ae,ve.method=w,ho(b)},"deflateInit2"),Yo=o((b,F)=>Eo(b,F,ke,ft,pt,te),"deflateInit"),Xo=o((b,F)=>{let w,X;if(!b||!b.state||F>Er||F<0)return b?mi(b,Jn):Jn;const z=b.state;if(!b.output||!b.input&&b.avail_in!==0||z.status===wi&&F!==fi)return mi(b,b.avail_out===0?$i:Jn);z.strm=b;const ae=z.last_flush;if(z.last_flush=F,z.status===ei)if(z.wrap===2)b.adler=0,Jt(z,31),Jt(z,139),Jt(z,8),z.gzhead?(Jt(z,(z.gzhead.text?1:0)+(z.gzhead.hcrc?2:0)+(z.gzhead.extra?4:0)+(z.gzhead.name?8:0)+(z.gzhead.comment?16:0)),Jt(z,z.gzhead.time&255),Jt(z,z.gzhead.time>>8&255),Jt(z,z.gzhead.time>>16&255),Jt(z,z.gzhead.time>>24&255),Jt(z,z.level===9?2:z.strategy>=Ki||z.level<2?4:0),Jt(z,z.gzhead.os&255),z.gzhead.extra&&z.gzhead.extra.length&&(Jt(z,z.gzhead.extra.length&255),Jt(z,z.gzhead.extra.length>>8&255)),z.gzhead.hcrc&&(b.adler=on(b.adler,z.pending_buf,z.pending,0)),z.gzindex=0,z.status=$n):(Jt(z,0),Jt(z,0),Jt(z,0),Jt(z,0),Jt(z,0),Jt(z,z.level===9?2:z.strategy>=Ki||z.level<2?4:0),Jt(z,io),z.status=di);else{let be=ke+(z.w_bits-8<<4)<<8,ve=-1;z.strategy>=Ki||z.level<2?ve=0:z.level<6?ve=1:z.level===6?ve=2:ve=3,be|=ve<<6,z.strstart!==0&&(be|=yi),be+=31-be%31,z.status=di,ar(z,be),z.strstart!==0&&(ar(z,b.adler>>>16),ar(z,b.adler&65535)),b.adler=1}if(z.status===$n)if(z.gzhead.extra){for(w=z.pending;z.gzindex<(z.gzhead.extra.length&65535)&&!(z.pending===z.pending_buf_size&&(z.gzhead.hcrc&&z.pending>w&&(b.adler=on(b.adler,z.pending_buf,z.pending-w,w)),Ji(b),w=z.pending,z.pending===z.pending_buf_size));)Jt(z,z.gzhead.extra[z.gzindex]&255),z.gzindex++;z.gzhead.hcrc&&z.pending>w&&(b.adler=on(b.adler,z.pending_buf,z.pending-w,w)),z.gzindex===z.gzhead.extra.length&&(z.gzindex=0,z.status=Ei)}else z.status=Ei;if(z.status===Ei)if(z.gzhead.name){w=z.pending;do{if(z.pending===z.pending_buf_size&&(z.gzhead.hcrc&&z.pending>w&&(b.adler=on(b.adler,z.pending_buf,z.pending-w,w)),Ji(b),w=z.pending,z.pending===z.pending_buf_size)){X=1;break}z.gzindex<z.gzhead.name.length?X=z.gzhead.name.charCodeAt(z.gzindex++)&255:X=0,Jt(z,X)}while(X!==0);z.gzhead.hcrc&&z.pending>w&&(b.adler=on(b.adler,z.pending_buf,z.pending-w,w)),X===0&&(z.gzindex=0,z.status=Pi)}else z.status=Pi;if(z.status===Pi)if(z.gzhead.comment){w=z.pending;do{if(z.pending===z.pending_buf_size&&(z.gzhead.hcrc&&z.pending>w&&(b.adler=on(b.adler,z.pending_buf,z.pending-w,w)),Ji(b),w=z.pending,z.pending===z.pending_buf_size)){X=1;break}z.gzindex<z.gzhead.comment.length?X=z.gzhead.comment.charCodeAt(z.gzindex++)&255:X=0,Jt(z,X)}while(X!==0);z.gzhead.hcrc&&z.pending>w&&(b.adler=on(b.adler,z.pending_buf,z.pending-w,w)),X===0&&(z.status=pi)}else z.status=pi;if(z.status===pi&&(z.gzhead.hcrc?(z.pending+2>z.pending_buf_size&&Ji(b),z.pending+2<=z.pending_buf_size&&(Jt(z,b.adler&255),Jt(z,b.adler>>8&255),b.adler=0,z.status=di)):z.status=di),z.pending!==0){if(Ji(b),b.avail_out===0)return z.last_flush=-1,oi}else if(b.avail_in===0&&Br(F)<=Br(ae)&&F!==fi)return mi(b,$i);if(z.status===wi&&b.avail_in!==0)return mi(b,$i);if(b.avail_in!==0||z.lookahead!==0||F!==Ii&&z.status!==wi){let be=z.strategy===Ki?ys(z,F):z.strategy===Or?Ss(z,F):hr[z.level].func(z,F);if((be===Qn||be===Di)&&(z.status=wi),be===tn||be===Qn)return b.avail_out===0&&(z.last_flush=-1),oi;if(be===si&&(F===Nr?_r(z):F!==Er&&(Gr(z,0,0,!1),F===or&&(Ui(z.head),z.lookahead===0&&(z.strstart=0,z.block_start=0,z.insert=0))),Ji(b),b.avail_out===0))return z.last_flush=-1,oi}return F!==fi?oi:z.wrap<=0?tr:(z.wrap===2?(Jt(z,b.adler&255),Jt(z,b.adler>>8&255),Jt(z,b.adler>>16&255),Jt(z,b.adler>>24&255),Jt(z,b.total_in&255),Jt(z,b.total_in>>8&255),Jt(z,b.total_in>>16&255),Jt(z,b.total_in>>24&255)):(ar(z,b.adler>>>16),ar(z,b.adler&65535)),Ji(b),z.wrap>0&&(z.wrap=-z.wrap),z.pending!==0?oi:tr)},"deflate$2"),Lo=o(b=>{if(!b||!b.state)return Jn;const F=b.state.status;return F!==ei&&F!==$n&&F!==Ei&&F!==Pi&&F!==pi&&F!==di&&F!==wi?mi(b,Jn):(b.state=null,F===di?mi(b,sr):oi)},"deflateEnd"),Zo=o((b,F)=>{let w=F.length;if(!b||!b.state)return Jn;const X=b.state,z=X.wrap;if(z===2||z===1&&X.status!==ei||X.lookahead)return Jn;if(z===1&&(b.adler=wn(b.adler,F,w,0)),X.wrap=0,w>=X.w_size){z===0&&(Ui(X.head),X.strstart=0,X.block_start=0,X.insert=0);let qe=new Uint8Array(X.w_size);qe.set(F.subarray(w-X.w_size,w),0),F=qe,w=X.w_size}const ae=b.avail_in,be=b.next_in,ve=b.input;for(b.avail_in=w,b.next_in=0,b.input=F,Hi(X);X.lookahead>=bt;){let qe=X.strstart,pe=X.lookahead-(bt-1);do X.ins_h=Xi(X,X.ins_h,X.window[qe+bt-1]),X.prev[qe&X.w_mask]=X.head[X.ins_h],X.head[X.ins_h]=qe,qe++;while(--pe);X.strstart=qe,X.lookahead=bt-1,Hi(X)}return X.strstart+=X.lookahead,X.block_start=X.strstart,X.insert=X.lookahead,X.lookahead=0,X.match_length=X.prev_length=bt-1,X.match_available=0,b.next_in=be,b.input=ve,b.avail_in=ae,X.wrap=z,oi},"deflateSetDictionary");var fo=Yo,Ur=Eo,Ar=ho,To=Mr,po=oo,Kr=Xo,_o=Lo,No=Zo,Bo="pako deflate (from Nodeca project)",nr={deflateInit:fo,deflateInit2:Ur,deflateReset:Ar,deflateResetKeep:To,deflateSetHeader:po,deflate:Kr,deflateEnd:_o,deflateSetDictionary:No,deflateInfo:Bo};const Fo=o((b,F)=>Object.prototype.hasOwnProperty.call(b,F),"_has");var Qo=o(function(b){const F=Array.prototype.slice.call(arguments,1);for(;F.length;){const w=F.shift();if(w){if(typeof w!="object")throw new TypeError(w+"must be non-object");for(const X in w)Fo(w,X)&&(b[X]=w[X])}}return b},"assign"),Uo=o(b=>{let F=0;for(let X=0,z=b.length;X<z;X++)F+=b[X].length;const w=new Uint8Array(F);for(let X=0,z=0,ae=b.length;X<ae;X++){let be=b[X];w.set(be,z),z+=be.length}return w},"flattenChunks"),Vr={assign:Qo,flattenChunks:Uo};let so=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{so=!1}const fr=new Uint8Array(256);for(let b=0;b<256;b++)fr[b]=b>=252?6:b>=248?5:b>=240?4:b>=224?3:b>=192?2:1;fr[254]=fr[254]=1;var Rr=o(b=>{if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(b);let F,w,X,z,ae,be=b.length,ve=0;for(z=0;z<be;z++)w=b.charCodeAt(z),(w&64512)===55296&&z+1<be&&(X=b.charCodeAt(z+1),(X&64512)===56320&&(w=65536+(w-55296<<10)+(X-56320),z++)),ve+=w<128?1:w<2048?2:w<65536?3:4;for(F=new Uint8Array(ve),ae=0,z=0;ae<ve;z++)w=b.charCodeAt(z),(w&64512)===55296&&z+1<be&&(X=b.charCodeAt(z+1),(X&64512)===56320&&(w=65536+(w-55296<<10)+(X-56320),z++)),w<128?F[ae++]=w:w<2048?(F[ae++]=192|w>>>6,F[ae++]=128|w&63):w<65536?(F[ae++]=224|w>>>12,F[ae++]=128|w>>>6&63,F[ae++]=128|w&63):(F[ae++]=240|w>>>18,F[ae++]=128|w>>>12&63,F[ae++]=128|w>>>6&63,F[ae++]=128|w&63);return F},"string2buf");const Vo=o((b,F)=>{if(F<65534&&b.subarray&&so)return String.fromCharCode.apply(null,b.length===F?b:b.subarray(0,F));let w="";for(let X=0;X<F;X++)w+=String.fromCharCode(b[X]);return w},"buf2binstring");var Jr=o((b,F)=>{const w=F||b.length;if(typeof TextDecoder=="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(b.subarray(0,F));let X,z;const ae=new Array(w*2);for(z=0,X=0;X<w;){let be=b[X++];if(be<128){ae[z++]=be;continue}let ve=fr[be];if(ve>4){ae[z++]=65533,X+=ve-1;continue}for(be&=ve===2?31:ve===3?15:7;ve>1&&X<w;)be=be<<6|b[X++]&63,ve--;if(ve>1){ae[z++]=65533;continue}be<65536?ae[z++]=be:(be-=65536,ae[z++]=55296|be>>10&1023,ae[z++]=56320|be&1023)}return Vo(ae,z)},"buf2string"),qo=o((b,F)=>{F=F||b.length,F>b.length&&(F=b.length);let w=F-1;for(;w>=0&&(b[w]&192)===128;)w--;return w<0||w===0?F:w+fr[b[w]]>F?w:F},"utf8border"),wr={string2buf:Rr,buf2string:Jr,utf8border:qo};function mo(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}o(mo,"ZStream");var Io=mo;const Pr=Object.prototype.toString,{Z_NO_FLUSH:Hr,Z_SYNC_FLUSH:wo,Z_FULL_FLUSH:Ho,Z_FINISH:js,Z_OK:Dr,Z_STREAM_END:es,Z_DEFAULT_COMPRESSION:zr,Z_DEFAULT_STRATEGY:bs,Z_DEFLATED:Es}=vi;function lr(b){this.options=Vr.assign({level:zr,method:Es,chunkSize:16384,windowBits:15,memLevel:8,strategy:bs},b||{});let F=this.options;F.raw&&F.windowBits>0?F.windowBits=-F.windowBits:F.gzip&&F.windowBits>0&&F.windowBits<16&&(F.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new Io,this.strm.avail_out=0;let w=nr.deflateInit2(this.strm,F.level,F.method,F.windowBits,F.memLevel,F.strategy);if(w!==Dr)throw new Error(Xn[w]);if(F.header&&nr.deflateSetHeader(this.strm,F.header),F.dictionary){let X;if(typeof F.dictionary=="string"?X=wr.string2buf(F.dictionary):Pr.call(F.dictionary)==="[object ArrayBuffer]"?X=new Uint8Array(F.dictionary):X=F.dictionary,w=nr.deflateSetDictionary(this.strm,X),w!==Dr)throw new Error(Xn[w]);this._dict_set=!0}}o(lr,"Deflate$1"),lr.prototype.push=function(b,F){const w=this.strm,X=this.options.chunkSize;let z,ae;if(this.ended)return!1;for(F===~~F?ae=F:ae=F===!0?js:Hr,typeof b=="string"?w.input=wr.string2buf(b):Pr.call(b)==="[object ArrayBuffer]"?w.input=new Uint8Array(b):w.input=b,w.next_in=0,w.avail_in=w.input.length;;){if(w.avail_out===0&&(w.output=new Uint8Array(X),w.next_out=0,w.avail_out=X),(ae===wo||ae===Ho)&&w.avail_out<=6){this.onData(w.output.subarray(0,w.next_out)),w.avail_out=0;continue}if(z=nr.deflate(w,ae),z===es)return w.next_out>0&&this.onData(w.output.subarray(0,w.next_out)),z=nr.deflateEnd(this.strm),this.onEnd(z),this.ended=!0,z===Dr;if(w.avail_out===0){this.onData(w.output);continue}if(ae>0&&w.next_out>0){this.onData(w.output.subarray(0,w.next_out)),w.avail_out=0;continue}if(w.avail_in===0)break}return!0},lr.prototype.onData=function(b){this.chunks.push(b)},lr.prototype.onEnd=function(b){b===Dr&&(this.result=Vr.flattenChunks(this.chunks)),this.chunks=[],this.err=b,this.msg=this.strm.msg};function Yr(b,F){const w=new lr(F);if(w.push(b,!0),w.err)throw w.msg||Xn[w.err];return w.result}o(Yr,"deflate$1");function Xr(b,F){return F=F||{},F.raw=!0,Yr(b,F)}o(Xr,"deflateRaw$1");function ts(b,F){return F=F||{},F.gzip=!0,Yr(b,F)}o(ts,"gzip$1");var ns=lr,Ws=Yr,Oo=Xr,is=ts,Ts=vi,rs={Deflate:ns,deflate:Ws,deflateRaw:Oo,gzip:is,constants:Ts};const Zr=30,Is=12;var Mo=o(function(F,w){let X,z,ae,be,ve,qe,pe,Te,Qt,Xe,Ue,yt,Bn,Xt,Nt,hn,jt,Ye,qt,We,Ct,nt,mn,Bt;const Ht=F.state;X=F.next_in,mn=F.input,z=X+(F.avail_in-5),ae=F.next_out,Bt=F.output,be=ae-(w-F.avail_out),ve=ae+(F.avail_out-257),qe=Ht.dmax,pe=Ht.wsize,Te=Ht.whave,Qt=Ht.wnext,Xe=Ht.window,Ue=Ht.hold,yt=Ht.bits,Bn=Ht.lencode,Xt=Ht.distcode,Nt=(1<<Ht.lenbits)-1,hn=(1<<Ht.distbits)-1;e:do{yt<15&&(Ue+=mn[X++]<<yt,yt+=8,Ue+=mn[X++]<<yt,yt+=8),jt=Bn[Ue&Nt];t:for(;;){if(Ye=jt>>>24,Ue>>>=Ye,yt-=Ye,Ye=jt>>>16&255,Ye===0)Bt[ae++]=jt&65535;else if(Ye&16){qt=jt&65535,Ye&=15,Ye&&(yt<Ye&&(Ue+=mn[X++]<<yt,yt+=8),qt+=Ue&(1<<Ye)-1,Ue>>>=Ye,yt-=Ye),yt<15&&(Ue+=mn[X++]<<yt,yt+=8,Ue+=mn[X++]<<yt,yt+=8),jt=Xt[Ue&hn];n:for(;;){if(Ye=jt>>>24,Ue>>>=Ye,yt-=Ye,Ye=jt>>>16&255,Ye&16){if(We=jt&65535,Ye&=15,yt<Ye&&(Ue+=mn[X++]<<yt,yt+=8,yt<Ye&&(Ue+=mn[X++]<<yt,yt+=8)),We+=Ue&(1<<Ye)-1,We>qe){F.msg="invalid distance too far back",Ht.mode=Zr;break e}if(Ue>>>=Ye,yt-=Ye,Ye=ae-be,We>Ye){if(Ye=We-Ye,Ye>Te&&Ht.sane){F.msg="invalid distance too far back",Ht.mode=Zr;break e}if(Ct=0,nt=Xe,Qt===0){if(Ct+=pe-Ye,Ye<qt){qt-=Ye;do Bt[ae++]=Xe[Ct++];while(--Ye);Ct=ae-We,nt=Bt}}else if(Qt<Ye){if(Ct+=pe+Qt-Ye,Ye-=Qt,Ye<qt){qt-=Ye;do Bt[ae++]=Xe[Ct++];while(--Ye);if(Ct=0,Qt<qt){Ye=Qt,qt-=Ye;do Bt[ae++]=Xe[Ct++];while(--Ye);Ct=ae-We,nt=Bt}}}else if(Ct+=Qt-Ye,Ye<qt){qt-=Ye;do Bt[ae++]=Xe[Ct++];while(--Ye);Ct=ae-We,nt=Bt}for(;qt>2;)Bt[ae++]=nt[Ct++],Bt[ae++]=nt[Ct++],Bt[ae++]=nt[Ct++],qt-=3;qt&&(Bt[ae++]=nt[Ct++],qt>1&&(Bt[ae++]=nt[Ct++]))}else{Ct=ae-We;do Bt[ae++]=Bt[Ct++],Bt[ae++]=Bt[Ct++],Bt[ae++]=Bt[Ct++],qt-=3;while(qt>2);qt&&(Bt[ae++]=Bt[Ct++],qt>1&&(Bt[ae++]=Bt[Ct++]))}}else if(Ye&64){F.msg="invalid distance code",Ht.mode=Zr;break e}else{jt=Xt[(jt&65535)+(Ue&(1<<Ye)-1)];continue n}break}}else if(Ye&64)if(Ye&32){Ht.mode=Is;break e}else{F.msg="invalid literal/length code",Ht.mode=Zr;break e}else{jt=Bn[(jt&65535)+(Ue&(1<<Ye)-1)];continue t}break}}while(X<z&&ae<ve);qt=yt>>3,X-=qt,yt-=qt<<3,Ue&=(1<<yt)-1,F.next_in=X,F.next_out=ae,F.avail_in=X<z?5+(z-X):5-(X-z),F.avail_out=ae<ve?257+(ve-ae):257-(ae-ve),Ht.hold=Ue,Ht.bits=yt},"inflate_fast");const Qi=15,Ao=852,jr=592,Ro=0,ao=1,go=2,lo=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),ra=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),Gs=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),oa=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]);var Qr=o((b,F,w,X,z,ae,be,ve)=>{const qe=ve.bits;let pe=0,Te=0,Qt=0,Xe=0,Ue=0,yt=0,Bn=0,Xt=0,Nt=0,hn=0,jt,Ye,qt,We,Ct,nt=null,mn=0,Bt;const Ht=new Uint16Array(Qi+1),Wr=new Uint16Array(Qi+1);let dn=null,pl=0,ln,Ds,us;for(pe=0;pe<=Qi;pe++)Ht[pe]=0;for(Te=0;Te<X;Te++)Ht[F[w+Te]]++;for(Ue=qe,Xe=Qi;Xe>=1&&Ht[Xe]===0;Xe--);if(Ue>Xe&&(Ue=Xe),Xe===0)return z[ae++]=1<<24|64<<16|0,z[ae++]=1<<24|64<<16|0,ve.bits=1,0;for(Qt=1;Qt<Xe&&Ht[Qt]===0;Qt++);for(Ue<Qt&&(Ue=Qt),Xt=1,pe=1;pe<=Qi;pe++)if(Xt<<=1,Xt-=Ht[pe],Xt<0)return-1;if(Xt>0&&(b===Ro||Xe!==1))return-1;for(Wr[1]=0,pe=1;pe<Qi;pe++)Wr[pe+1]=Wr[pe]+Ht[pe];for(Te=0;Te<X;Te++)F[w+Te]!==0&&(be[Wr[F[w+Te]]++]=Te);if(b===Ro?(nt=dn=be,Bt=19):b===ao?(nt=lo,mn-=257,dn=ra,pl-=257,Bt=256):(nt=Gs,dn=oa,Bt=-1),hn=0,Te=0,pe=Qt,Ct=ae,yt=Ue,Bn=0,qt=-1,Nt=1<<Ue,We=Nt-1,b===ao&&Nt>Ao||b===go&&Nt>jr)return 1;for(;;){ln=pe-Bn,be[Te]<Bt?(Ds=0,us=be[Te]):be[Te]>Bt?(Ds=dn[pl+be[Te]],us=nt[mn+be[Te]]):(Ds=32+64,us=0),jt=1<<pe-Bn,Ye=1<<yt,Qt=Ye;do Ye-=jt,z[Ct+(hn>>Bn)+Ye]=ln<<24|Ds<<16|us|0;while(Ye!==0);for(jt=1<<pe-1;hn&jt;)jt>>=1;if(jt!==0?(hn&=jt-1,hn+=jt):hn=0,Te++,--Ht[pe]===0){if(pe===Xe)break;pe=F[w+be[Te]]}if(pe>Ue&&(hn&We)!==qt){for(Bn===0&&(Bn=Ue),Ct+=Qt,yt=pe-Bn,Xt=1<<yt;yt+Bn<Xe&&(Xt-=Ht[yt+Bn],!(Xt<=0));)yt++,Xt<<=1;if(Nt+=1<<yt,b===ao&&Nt>Ao||b===go&&Nt>jr)return 1;qt=hn&We,z[qt]=Ue<<24|yt<<16|Ct-ae|0}}return hn!==0&&(z[Ct+hn]=pe-Bn<<24|64<<16|0),ve.bits=Ue,0},"inflate_table");const Ks=0,os=1,Ra=2,{Z_FINISH:qr,Z_BLOCK:zo,Z_TREES:pr,Z_OK:cr,Z_STREAM_END:Pa,Z_NEED_DICT:sa,Z_STREAM_ERROR:ki,Z_DATA_ERROR:ss,Z_MEM_ERROR:vo,Z_BUF_ERROR:eo,Z_DEFLATED:zi}=vi,ws=1,Os=2,Ms=3,as=4,ls=5,cs=6,As=7,aa=8,he=9,re=10,q=11,L=12,G=13,se=14,oe=15,Ce=16,Ae=17,xe=18,Ve=19,He=20,Je=21,et=22,mt=23,Rt=24,Kt=25,Yt=26,an=27,cn=28,Tn=29,wt=30,ni=31,qn=32,Oi=852,Li=592,Si=15,Fi=o(b=>(b>>>24&255)+(b>>>8&65280)+((b&65280)<<8)+((b&255)<<24),"zswap32");function Ri(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}o(Ri,"InflateState");const qi=o(b=>{if(!b||!b.state)return ki;const F=b.state;return b.total_in=b.total_out=F.total=0,b.msg="",F.wrap&&(b.adler=F.wrap&1),F.mode=ws,F.last=0,F.havedict=0,F.dmax=32768,F.head=null,F.hold=0,F.bits=0,F.lencode=F.lendyn=new Int32Array(Oi),F.distcode=F.distdyn=new Int32Array(Li),F.sane=1,F.back=-1,cr},"inflateResetKeep"),to=o(b=>{if(!b||!b.state)return ki;const F=b.state;return F.wsize=0,F.whave=0,F.wnext=0,qi(b)},"inflateReset"),xr=o((b,F)=>{let w;if(!b||!b.state)return ki;const X=b.state;return F<0?(w=0,F=-F):(w=(F>>4)+1,F<48&&(F&=15)),F&&(F<8||F>15)?ki:(X.window!==null&&X.wbits!==F&&(X.window=null),X.wrap=w,X.wbits=F,to(b))},"inflateReset2"),mr=o((b,F)=>{if(!b)return ki;const w=new Ri;b.state=w,w.window=null;const X=xr(b,F);return X!==cr&&(b.state=null),X},"inflateInit2"),Da=o(b=>mr(b,Si),"inflateInit");let co=!0,jo,Rs;const sl=o(b=>{if(co){jo=new Int32Array(512),Rs=new Int32Array(32);let F=0;for(;F<144;)b.lens[F++]=8;for(;F<256;)b.lens[F++]=9;for(;F<280;)b.lens[F++]=7;for(;F<288;)b.lens[F++]=8;for(Qr(os,b.lens,0,288,jo,0,b.work,{bits:9}),F=0;F<32;)b.lens[F++]=5;Qr(Ra,b.lens,0,32,Rs,0,b.work,{bits:5}),co=!1}b.lencode=jo,b.lenbits=9,b.distcode=Rs,b.distbits=5},"fixedtables"),Js=o((b,F,w,X)=>{let z;const ae=b.state;return ae.window===null&&(ae.wsize=1<<ae.wbits,ae.wnext=0,ae.whave=0,ae.window=new Uint8Array(ae.wsize)),X>=ae.wsize?(ae.window.set(F.subarray(w-ae.wsize,w),0),ae.wnext=0,ae.whave=ae.wsize):(z=ae.wsize-ae.wnext,z>X&&(z=X),ae.window.set(F.subarray(w-X,w-X+z),ae.wnext),X-=z,X?(ae.window.set(F.subarray(w-X,w),0),ae.wnext=X,ae.whave=ae.wsize):(ae.wnext+=z,ae.wnext===ae.wsize&&(ae.wnext=0),ae.whave<ae.wsize&&(ae.whave+=z))),0},"updatewindow"),In=o((b,F)=>{let w,X,z,ae,be,ve,qe,pe,Te,Qt,Xe,Ue,yt,Bn,Xt=0,Nt,hn,jt,Ye,qt,We,Ct,nt;const mn=new Uint8Array(4);let Bt,Ht;const Wr=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(!b||!b.state||!b.output||!b.input&&b.avail_in!==0)return ki;w=b.state,w.mode===L&&(w.mode=G),be=b.next_out,z=b.output,qe=b.avail_out,ae=b.next_in,X=b.input,ve=b.avail_in,pe=w.hold,Te=w.bits,Qt=ve,Xe=qe,nt=cr;e:for(;;)switch(w.mode){case ws:if(w.wrap===0){w.mode=G;break}for(;Te<16;){if(ve===0)break e;ve--,pe+=X[ae++]<<Te,Te+=8}if(w.wrap&2&&pe===35615){w.check=0,mn[0]=pe&255,mn[1]=pe>>>8&255,w.check=on(w.check,mn,2,0),pe=0,Te=0,w.mode=Os;break}if(w.flags=0,w.head&&(w.head.done=!1),!(w.wrap&1)||(((pe&255)<<8)+(pe>>8))%31){b.msg="incorrect header check",w.mode=wt;break}if((pe&15)!==zi){b.msg="unknown compression method",w.mode=wt;break}if(pe>>>=4,Te-=4,Ct=(pe&15)+8,w.wbits===0)w.wbits=Ct;else if(Ct>w.wbits){b.msg="invalid window size",w.mode=wt;break}w.dmax=1<<w.wbits,b.adler=w.check=1,w.mode=pe&512?re:L,pe=0,Te=0;break;case Os:for(;Te<16;){if(ve===0)break e;ve--,pe+=X[ae++]<<Te,Te+=8}if(w.flags=pe,(w.flags&255)!==zi){b.msg="unknown compression method",w.mode=wt;break}if(w.flags&57344){b.msg="unknown header flags set",w.mode=wt;break}w.head&&(w.head.text=pe>>8&1),w.flags&512&&(mn[0]=pe&255,mn[1]=pe>>>8&255,w.check=on(w.check,mn,2,0)),pe=0,Te=0,w.mode=Ms;case Ms:for(;Te<32;){if(ve===0)break e;ve--,pe+=X[ae++]<<Te,Te+=8}w.head&&(w.head.time=pe),w.flags&512&&(mn[0]=pe&255,mn[1]=pe>>>8&255,mn[2]=pe>>>16&255,mn[3]=pe>>>24&255,w.check=on(w.check,mn,4,0)),pe=0,Te=0,w.mode=as;case as:for(;Te<16;){if(ve===0)break e;ve--,pe+=X[ae++]<<Te,Te+=8}w.head&&(w.head.xflags=pe&255,w.head.os=pe>>8),w.flags&512&&(mn[0]=pe&255,mn[1]=pe>>>8&255,w.check=on(w.check,mn,2,0)),pe=0,Te=0,w.mode=ls;case ls:if(w.flags&1024){for(;Te<16;){if(ve===0)break e;ve--,pe+=X[ae++]<<Te,Te+=8}w.length=pe,w.head&&(w.head.extra_len=pe),w.flags&512&&(mn[0]=pe&255,mn[1]=pe>>>8&255,w.check=on(w.check,mn,2,0)),pe=0,Te=0}else w.head&&(w.head.extra=null);w.mode=cs;case cs:if(w.flags&1024&&(Ue=w.length,Ue>ve&&(Ue=ve),Ue&&(w.head&&(Ct=w.head.extra_len-w.length,w.head.extra||(w.head.extra=new Uint8Array(w.head.extra_len)),w.head.extra.set(X.subarray(ae,ae+Ue),Ct)),w.flags&512&&(w.check=on(w.check,X,Ue,ae)),ve-=Ue,ae+=Ue,w.length-=Ue),w.length))break e;w.length=0,w.mode=As;case As:if(w.flags&2048){if(ve===0)break e;Ue=0;do Ct=X[ae+Ue++],w.head&&Ct&&w.length<65536&&(w.head.name+=String.fromCharCode(Ct));while(Ct&&Ue<ve);if(w.flags&512&&(w.check=on(w.check,X,Ue,ae)),ve-=Ue,ae+=Ue,Ct)break e}else w.head&&(w.head.name=null);w.length=0,w.mode=aa;case aa:if(w.flags&4096){if(ve===0)break e;Ue=0;do Ct=X[ae+Ue++],w.head&&Ct&&w.length<65536&&(w.head.comment+=String.fromCharCode(Ct));while(Ct&&Ue<ve);if(w.flags&512&&(w.check=on(w.check,X,Ue,ae)),ve-=Ue,ae+=Ue,Ct)break e}else w.head&&(w.head.comment=null);w.mode=he;case he:if(w.flags&512){for(;Te<16;){if(ve===0)break e;ve--,pe+=X[ae++]<<Te,Te+=8}if(pe!==(w.check&65535)){b.msg="header crc mismatch",w.mode=wt;break}pe=0,Te=0}w.head&&(w.head.hcrc=w.flags>>9&1,w.head.done=!0),b.adler=w.check=0,w.mode=L;break;case re:for(;Te<32;){if(ve===0)break e;ve--,pe+=X[ae++]<<Te,Te+=8}b.adler=w.check=Fi(pe),pe=0,Te=0,w.mode=q;case q:if(w.havedict===0)return b.next_out=be,b.avail_out=qe,b.next_in=ae,b.avail_in=ve,w.hold=pe,w.bits=Te,sa;b.adler=w.check=1,w.mode=L;case L:if(F===zo||F===pr)break e;case G:if(w.last){pe>>>=Te&7,Te-=Te&7,w.mode=an;break}for(;Te<3;){if(ve===0)break e;ve--,pe+=X[ae++]<<Te,Te+=8}switch(w.last=pe&1,pe>>>=1,Te-=1,pe&3){case 0:w.mode=se;break;case 1:if(sl(w),w.mode=He,F===pr){pe>>>=2,Te-=2;break e}break;case 2:w.mode=Ae;break;case 3:b.msg="invalid block type",w.mode=wt}pe>>>=2,Te-=2;break;case se:for(pe>>>=Te&7,Te-=Te&7;Te<32;){if(ve===0)break e;ve--,pe+=X[ae++]<<Te,Te+=8}if((pe&65535)!==(pe>>>16^65535)){b.msg="invalid stored block lengths",w.mode=wt;break}if(w.length=pe&65535,pe=0,Te=0,w.mode=oe,F===pr)break e;case oe:w.mode=Ce;case Ce:if(Ue=w.length,Ue){if(Ue>ve&&(Ue=ve),Ue>qe&&(Ue=qe),Ue===0)break e;z.set(X.subarray(ae,ae+Ue),be),ve-=Ue,ae+=Ue,qe-=Ue,be+=Ue,w.length-=Ue;break}w.mode=L;break;case Ae:for(;Te<14;){if(ve===0)break e;ve--,pe+=X[ae++]<<Te,Te+=8}if(w.nlen=(pe&31)+257,pe>>>=5,Te-=5,w.ndist=(pe&31)+1,pe>>>=5,Te-=5,w.ncode=(pe&15)+4,pe>>>=4,Te-=4,w.nlen>286||w.ndist>30){b.msg="too many length or distance symbols",w.mode=wt;break}w.have=0,w.mode=xe;case xe:for(;w.have<w.ncode;){for(;Te<3;){if(ve===0)break e;ve--,pe+=X[ae++]<<Te,Te+=8}w.lens[Wr[w.have++]]=pe&7,pe>>>=3,Te-=3}for(;w.have<19;)w.lens[Wr[w.have++]]=0;if(w.lencode=w.lendyn,w.lenbits=7,Bt={bits:w.lenbits},nt=Qr(Ks,w.lens,0,19,w.lencode,0,w.work,Bt),w.lenbits=Bt.bits,nt){b.msg="invalid code lengths set",w.mode=wt;break}w.have=0,w.mode=Ve;case Ve:for(;w.have<w.nlen+w.ndist;){for(;Xt=w.lencode[pe&(1<<w.lenbits)-1],Nt=Xt>>>24,hn=Xt>>>16&255,jt=Xt&65535,!(Nt<=Te);){if(ve===0)break e;ve--,pe+=X[ae++]<<Te,Te+=8}if(jt<16)pe>>>=Nt,Te-=Nt,w.lens[w.have++]=jt;else{if(jt===16){for(Ht=Nt+2;Te<Ht;){if(ve===0)break e;ve--,pe+=X[ae++]<<Te,Te+=8}if(pe>>>=Nt,Te-=Nt,w.have===0){b.msg="invalid bit length repeat",w.mode=wt;break}Ct=w.lens[w.have-1],Ue=3+(pe&3),pe>>>=2,Te-=2}else if(jt===17){for(Ht=Nt+3;Te<Ht;){if(ve===0)break e;ve--,pe+=X[ae++]<<Te,Te+=8}pe>>>=Nt,Te-=Nt,Ct=0,Ue=3+(pe&7),pe>>>=3,Te-=3}else{for(Ht=Nt+7;Te<Ht;){if(ve===0)break e;ve--,pe+=X[ae++]<<Te,Te+=8}pe>>>=Nt,Te-=Nt,Ct=0,Ue=11+(pe&127),pe>>>=7,Te-=7}if(w.have+Ue>w.nlen+w.ndist){b.msg="invalid bit length repeat",w.mode=wt;break}for(;Ue--;)w.lens[w.have++]=Ct}}if(w.mode===wt)break;if(w.lens[256]===0){b.msg="invalid code -- missing end-of-block",w.mode=wt;break}if(w.lenbits=9,Bt={bits:w.lenbits},nt=Qr(os,w.lens,0,w.nlen,w.lencode,0,w.work,Bt),w.lenbits=Bt.bits,nt){b.msg="invalid literal/lengths set",w.mode=wt;break}if(w.distbits=6,w.distcode=w.distdyn,Bt={bits:w.distbits},nt=Qr(Ra,w.lens,w.nlen,w.ndist,w.distcode,0,w.work,Bt),w.distbits=Bt.bits,nt){b.msg="invalid distances set",w.mode=wt;break}if(w.mode=He,F===pr)break e;case He:w.mode=Je;case Je:if(ve>=6&&qe>=258){b.next_out=be,b.avail_out=qe,b.next_in=ae,b.avail_in=ve,w.hold=pe,w.bits=Te,Mo(b,Xe),be=b.next_out,z=b.output,qe=b.avail_out,ae=b.next_in,X=b.input,ve=b.avail_in,pe=w.hold,Te=w.bits,w.mode===L&&(w.back=-1);break}for(w.back=0;Xt=w.lencode[pe&(1<<w.lenbits)-1],Nt=Xt>>>24,hn=Xt>>>16&255,jt=Xt&65535,!(Nt<=Te);){if(ve===0)break e;ve--,pe+=X[ae++]<<Te,Te+=8}if(hn&&!(hn&240)){for(Ye=Nt,qt=hn,We=jt;Xt=w.lencode[We+((pe&(1<<Ye+qt)-1)>>Ye)],Nt=Xt>>>24,hn=Xt>>>16&255,jt=Xt&65535,!(Ye+Nt<=Te);){if(ve===0)break e;ve--,pe+=X[ae++]<<Te,Te+=8}pe>>>=Ye,Te-=Ye,w.back+=Ye}if(pe>>>=Nt,Te-=Nt,w.back+=Nt,w.length=jt,hn===0){w.mode=Yt;break}if(hn&32){w.back=-1,w.mode=L;break}if(hn&64){b.msg="invalid literal/length code",w.mode=wt;break}w.extra=hn&15,w.mode=et;case et:if(w.extra){for(Ht=w.extra;Te<Ht;){if(ve===0)break e;ve--,pe+=X[ae++]<<Te,Te+=8}w.length+=pe&(1<<w.extra)-1,pe>>>=w.extra,Te-=w.extra,w.back+=w.extra}w.was=w.length,w.mode=mt;case mt:for(;Xt=w.distcode[pe&(1<<w.distbits)-1],Nt=Xt>>>24,hn=Xt>>>16&255,jt=Xt&65535,!(Nt<=Te);){if(ve===0)break e;ve--,pe+=X[ae++]<<Te,Te+=8}if(!(hn&240)){for(Ye=Nt,qt=hn,We=jt;Xt=w.distcode[We+((pe&(1<<Ye+qt)-1)>>Ye)],Nt=Xt>>>24,hn=Xt>>>16&255,jt=Xt&65535,!(Ye+Nt<=Te);){if(ve===0)break e;ve--,pe+=X[ae++]<<Te,Te+=8}pe>>>=Ye,Te-=Ye,w.back+=Ye}if(pe>>>=Nt,Te-=Nt,w.back+=Nt,hn&64){b.msg="invalid distance code",w.mode=wt;break}w.offset=jt,w.extra=hn&15,w.mode=Rt;case Rt:if(w.extra){for(Ht=w.extra;Te<Ht;){if(ve===0)break e;ve--,pe+=X[ae++]<<Te,Te+=8}w.offset+=pe&(1<<w.extra)-1,pe>>>=w.extra,Te-=w.extra,w.back+=w.extra}if(w.offset>w.dmax){b.msg="invalid distance too far back",w.mode=wt;break}w.mode=Kt;case Kt:if(qe===0)break e;if(Ue=Xe-qe,w.offset>Ue){if(Ue=w.offset-Ue,Ue>w.whave&&w.sane){b.msg="invalid distance too far back",w.mode=wt;break}Ue>w.wnext?(Ue-=w.wnext,yt=w.wsize-Ue):yt=w.wnext-Ue,Ue>w.length&&(Ue=w.length),Bn=w.window}else Bn=z,yt=be-w.offset,Ue=w.length;Ue>qe&&(Ue=qe),qe-=Ue,w.length-=Ue;do z[be++]=Bn[yt++];while(--Ue);w.length===0&&(w.mode=Je);break;case Yt:if(qe===0)break e;z[be++]=w.length,qe--,w.mode=Je;break;case an:if(w.wrap){for(;Te<32;){if(ve===0)break e;ve--,pe|=X[ae++]<<Te,Te+=8}if(Xe-=qe,b.total_out+=Xe,w.total+=Xe,Xe&&(b.adler=w.check=w.flags?on(w.check,z,Xe,be-Xe):wn(w.check,z,Xe,be-Xe)),Xe=qe,(w.flags?pe:Fi(pe))!==w.check){b.msg="incorrect data check",w.mode=wt;break}pe=0,Te=0}w.mode=cn;case cn:if(w.wrap&&w.flags){for(;Te<32;){if(ve===0)break e;ve--,pe+=X[ae++]<<Te,Te+=8}if(pe!==(w.total&4294967295)){b.msg="incorrect length check",w.mode=wt;break}pe=0,Te=0}w.mode=Tn;case Tn:nt=Pa;break e;case wt:nt=ss;break e;case ni:return vo;case qn:default:return ki}return b.next_out=be,b.avail_out=qe,b.next_in=ae,b.avail_in=ve,w.hold=pe,w.bits=Te,(w.wsize||Xe!==b.avail_out&&w.mode<wt&&(w.mode<an||F!==qr))&&Js(b,b.output,b.next_out,Xe-b.avail_out),Qt-=b.avail_in,Xe-=b.avail_out,b.total_in+=Qt,b.total_out+=Xe,w.total+=Xe,w.wrap&&Xe&&(b.adler=w.check=w.flags?on(w.check,z,Xe,b.next_out-Xe):wn(w.check,z,Xe,b.next_out-Xe)),b.data_type=w.bits+(w.last?64:0)+(w.mode===L?128:0)+(w.mode===He||w.mode===oe?256:0),(Qt===0&&Xe===0||F===qr)&&nt===cr&&(nt=eo),nt},"inflate$2"),nn=o(b=>{if(!b||!b.state)return ki;let F=b.state;return F.window&&(F.window=null),b.state=null,cr},"inflateEnd"),Fl=o((b,F)=>{if(!b||!b.state)return ki;const w=b.state;return w.wrap&2?(w.head=F,F.done=!1,cr):ki},"inflateGetHeader"),Ec=o((b,F)=>{const w=F.length;let X,z,ae;return!b||!b.state||(X=b.state,X.wrap!==0&&X.mode!==q)?ki:X.mode===q&&(z=1,z=wn(z,F,w,0),z!==X.check)?ss:(ae=Js(b,F,w,w),ae?(X.mode=ni,vo):(X.havedict=1,cr))},"inflateSetDictionary");var al=to,Gi=xr,Ul=qi,xa=Da,la=mr,Tc=In,ll=nn,cl=Fl,dl=Ec,ka="pako inflate (from Nodeca project)",dr={inflateReset:al,inflateReset2:Gi,inflateResetKeep:Ul,inflateInit:xa,inflateInit2:la,inflate:Tc,inflateEnd:ll,inflateGetHeader:cl,inflateSetDictionary:dl,inflateInfo:ka};function rn(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}o(rn,"GZheader");var Yn=rn;const It=Object.prototype.toString,{Z_NO_FLUSH:Ic,Z_FINISH:ul,Z_OK:Wo,Z_STREAM_END:Ys,Z_NEED_DICT:Xs,Z_STREAM_ERROR:Ps,Z_DATA_ERROR:ca,Z_MEM_ERROR:wc}=vi;function Go(b){this.options=Vr.assign({chunkSize:1024*64,windowBits:15,to:""},b||{});const F=this.options;F.raw&&F.windowBits>=0&&F.windowBits<16&&(F.windowBits=-F.windowBits,F.windowBits===0&&(F.windowBits=-15)),F.windowBits>=0&&F.windowBits<16&&!(b&&b.windowBits)&&(F.windowBits+=32),F.windowBits>15&&F.windowBits<48&&(F.windowBits&15||(F.windowBits|=15)),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new Io,this.strm.avail_out=0;let w=dr.inflateInit2(this.strm,F.windowBits);if(w!==Wo)throw new Error(Xn[w]);if(this.header=new Yn,dr.inflateGetHeader(this.strm,this.header),F.dictionary&&(typeof F.dictionary=="string"?F.dictionary=wr.string2buf(F.dictionary):It.call(F.dictionary)==="[object ArrayBuffer]"&&(F.dictionary=new Uint8Array(F.dictionary)),F.raw&&(w=dr.inflateSetDictionary(this.strm,F.dictionary),w!==Wo)))throw new Error(Xn[w])}o(Go,"Inflate$1"),Go.prototype.push=function(b,F){const w=this.strm,X=this.options.chunkSize,z=this.options.dictionary;let ae,be,ve;if(this.ended)return!1;for(F===~~F?be=F:be=F===!0?ul:Ic,It.call(b)==="[object ArrayBuffer]"?w.input=new Uint8Array(b):w.input=b,w.next_in=0,w.avail_in=w.input.length;;){for(w.avail_out===0&&(w.output=new Uint8Array(X),w.next_out=0,w.avail_out=X),ae=dr.inflate(w,be),ae===Xs&&z&&(ae=dr.inflateSetDictionary(w,z),ae===Wo?ae=dr.inflate(w,be):ae===ca&&(ae=Xs));w.avail_in>0&&ae===Ys&&w.state.wrap>0&&b[w.next_in]!==0;)dr.inflateReset(w),ae=dr.inflate(w,be);switch(ae){case Ps:case ca:case Xs:case wc:return this.onEnd(ae),this.ended=!0,!1}if(ve=w.avail_out,w.next_out&&(w.avail_out===0||ae===Ys))if(this.options.to==="string"){let qe=wr.utf8border(w.output,w.next_out),pe=w.next_out-qe,Te=wr.buf2string(w.output,qe);w.next_out=pe,w.avail_out=X-pe,pe&&w.output.set(w.output.subarray(qe,qe+pe),0),this.onData(Te)}else this.onData(w.output.length===w.next_out?w.output:w.output.subarray(0,w.next_out));if(!(ae===Wo&&ve===0)){if(ae===Ys)return ae=dr.inflateEnd(this.strm),this.onEnd(ae),this.ended=!0,!0;if(w.avail_in===0)break}}return!0},Go.prototype.onData=function(b){this.chunks.push(b)},Go.prototype.onEnd=function(b){b===Wo&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=Vr.flattenChunks(this.chunks)),this.chunks=[],this.err=b,this.msg=this.strm.msg};function da(b,F){const w=new Go(F);if(w.push(b),w.err)throw w.msg||Xn[w.err];return w.result}o(da,"inflate$1");function hl(b,F){return F=F||{},F.raw=!0,da(b,F)}o(hl,"inflateRaw$1");var Oc=Go,Mc=da,Ac=hl,Zs=da,Vl=vi,ua={Inflate:Oc,inflate:Mc,inflateRaw:Ac,ungzip:Zs,constants:Vl};const{Deflate:ha,deflate:Hl,deflateRaw:La,gzip:Rc}=rs,{Inflate:zl,inflate:Pc,inflateRaw:jl,ungzip:Dc}=ua;var _a=ha,Na=Hl,Ba=La,fl=Rc,er=zl,ds=Pc,Fa=jl,Ua=Dc,Va=vi,Ha={Deflate:_a,deflate:Na,deflateRaw:Ba,gzip:fl,Inflate:er,inflate:ds,inflateRaw:Fa,ungzip:Ua,constants:Va}},cZ61:function(N,c,d){"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.RawSha256=void 0;var S=d("vdHl"),h=function(){function m(){this.state=Int32Array.from(S.INIT),this.temp=new Int32Array(64),this.buffer=new Uint8Array(64),this.bufferLength=0,this.bytesHashed=0,this.finished=!1}return o(m,"RawSha256"),m.prototype.update=function(f){if(this.finished)throw new Error("Attempted to update an already finished hash.");var a=0,n=f.byteLength;if(this.bytesHashed+=n,this.bytesHashed*8>S.MAX_HASHABLE_LENGTH)throw new Error("Cannot hash more than 2^53 - 1 bits");for(;n>0;)this.buffer[this.bufferLength++]=f[a++],n--,this.bufferLength===S.BLOCK_SIZE&&(this.hashBuffer(),this.bufferLength=0)},m.prototype.digest=function(){if(!this.finished){var f=this.bytesHashed*8,a=new DataView(this.buffer.buffer,this.buffer.byteOffset,this.buffer.byteLength),n=this.bufferLength;if(a.setUint8(this.bufferLength++,128),n%S.BLOCK_SIZE>=S.BLOCK_SIZE-8){for(var i=this.bufferLength;i<S.BLOCK_SIZE;i++)a.setUint8(i,0);this.hashBuffer(),this.bufferLength=0}for(var i=this.bufferLength;i<S.BLOCK_SIZE-8;i++)a.setUint8(i,0);a.setUint32(S.BLOCK_SIZE-8,Math.floor(f/4294967296),!0),a.setUint32(S.BLOCK_SIZE-4,f),this.hashBuffer(),this.finished=!0}for(var e=new Uint8Array(S.DIGEST_LENGTH),i=0;i<8;i++)e[i*4]=this.state[i]>>>24&255,e[i*4+1]=this.state[i]>>>16&255,e[i*4+2]=this.state[i]>>>8&255,e[i*4+3]=this.state[i]>>>0&255;return e},m.prototype.hashBuffer=function(){for(var f=this,a=f.buffer,n=f.state,i=n[0],e=n[1],t=n[2],r=n[3],l=n[4],p=n[5],v=n[6],g=n[7],u=0;u<S.BLOCK_SIZE;u++){if(u<16)this.temp[u]=(a[u*4]&255)<<24|(a[u*4+1]&255)<<16|(a[u*4+2]&255)<<8|a[u*4+3]&255;else{var s=this.temp[u-2],I=(s>>>17|s<<15)^(s>>>19|s<<13)^s>>>10;s=this.temp[u-15];var M=(s>>>7|s<<25)^(s>>>18|s<<14)^s>>>3;this.temp[u]=(I+this.temp[u-7]|0)+(M+this.temp[u-16]|0)}var R=(((l>>>6|l<<26)^(l>>>11|l<<21)^(l>>>25|l<<7))+(l&p^~l&v)|0)+(g+(S.KEY[u]+this.temp[u]|0)|0)|0,B=((i>>>2|i<<30)^(i>>>13|i<<19)^(i>>>22|i<<10))+(i&e^i&t^e&t)|0;g=v,v=p,p=l,l=r+R|0,r=t,t=e,e=i,i=R+B|0}n[0]+=i,n[1]+=e,n[2]+=t,n[3]+=r,n[4]+=l,n[5]+=p,n[6]+=v,n[7]+=g},m}();c.RawSha256=h},cizm:function(N,c,d){"use strict";var S=this&&this.__awaiter||function(e,t,r,l){function p(v){return v instanceof r?v:new r(function(g){g(v)})}return o(p,"adopt"),new(r||(r=Promise))(function(v,g){function u(M){try{I(l.next(M))}catch(R){g(R)}}o(u,"fulfilled");function s(M){try{I(l.throw(M))}catch(R){g(R)}}o(s,"rejected");function I(M){M.done?v(M.value):p(M.value).then(u,s)}o(I,"step"),I((l=l.apply(e,t||[])).next())})};Object.defineProperty(c,"__esModule",{value:!0});const h=d("lUhs"),m=d("V5IF"),f=d("bTau"),a=d("59sL"),n=d("aVV0");let i=o(class extends n.default{cancel(){if(this.cancelPromise){const t=new Error(`canceling ${this.name()}`);this.cancelPromise(t),delete this.cancelPromise}}run(){return S(this,void 0,void 0,function*(){if(this.context.turnCredentials){this.context.logger.info("TURN credentials available, skipping credentials fetch");return}if(this.context.logger.error("missing TURN credentials - falling back to fetch"),!this.url){this.context.logger.info("TURN control url not supplied, skipping credentials fetch");return}const t={method:"POST",mode:"cors",cache:"no-cache",credentials:"omit",headers:{"Content-Type":"application/json","X-Chime-Auth-Token":"_aws_wt_session="+new f.default(this.joinToken).base()},redirect:"follow",referrer:"no-referrer",body:JSON.stringify({meetingId:this.meetingId})};this.context.logger.info(`requesting TURN credentials from ${this.url}`);const r=yield new Promise((l,p)=>S(this,void 0,void 0,function*(){this.cancelPromise=v=>{p(v)};try{const v=yield fetch(a.default.urlWithVersion(this.url),t);if(this.context.logger.info("received TURN credentials"),v.status&&v.status===403){p(new Error(`canceling ${this.name()} due to the meeting status code: ${h.default.TURNCredentialsForbidden}`));return}if(v.status&&v.status===404){p(new Error(`canceling ${this.name()} due to the meeting status code: ${h.default.MeetingEnded}`));return}l(yield v.json())}catch(v){p(v)}finally{delete this.cancelPromise}}));this.context.turnCredentials=new m.default,this.context.turnCredentials.password=r.password,this.context.turnCredentials.ttl=r.ttl,this.context.turnCredentials.uris=r.uris.map(l=>this.context.meetingSessionConfiguration.urls.urlRewriter(l)).filter(l=>!!l),this.context.turnCredentials.username=r.username})}constructor(t){super(t.logger),this.context=t,this.taskName="ReceiveTURNCredentialsTask",this.url=t.meetingSessionConfiguration.urls.turnControlURL,this.meetingId=t.meetingSessionConfiguration.meetingId,this.joinToken=t.meetingSessionConfiguration.credentials.joinToken}},"ReceiveTURNCredentialsTask");c.default=i},cm7I:function(N,c,d){"use strict";d.d(c,"a",function(){return t});var S=d("9oTK"),h=d.n(S),m=d("m8R6"),f=d("2XU3"),a=d("WCk1"),n=d("s4P+"),i=d("pjW8");const e={InvalidCallId:"invalid_call_id",ChannelNotFound:"channel_not_found",HuddleNotFound:"huddle_not_found",TeamNotFound:"team_not_found",InvalidHuddle:"invalid_huddle",ExternalApiFailed:"external_api_failed",PermissionDenied:"permission_denied"},t=Object(a.a)("rooms.startTranscription generated fetcher",function(){var r=Object(S.coroutine)(function*(l,p,v){try{const g=["reason"],u=Object(m.a)(v,g),s=Object(i.b)(u);return yield l(Object(f.a)({method:"rooms.startTranscription",args:s,reason:v.reason}))}catch(g){throw Object(n.a)({getState:p}).error(`API call to rooms.startTranscription
				with reason ${v.reason} failed, initiated by generated fetcher`),g}});return function(l,p,v){return r.apply(this,arguments)}}());t.meta={name:"createFetcher",key:"createFetcherroomsStartTranscriptionFetcher",description:"rooms.startTranscription generated fetcher"}},crgu:function(N,c,d){"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.isDestroyable=void 0;function S(h){return h&&"destroy"in h}o(S,"isDestroyable"),c.isDestroyable=S},curu:function(N,c,d){"use strict";var S=this&&this.__awaiter||function(n,i,e,t){function r(l){return l instanceof e?l:new e(function(p){p(l)})}return o(r,"adopt"),new(e||(e=Promise))(function(l,p){function v(s){try{u(t.next(s))}catch(I){p(I)}}o(v,"fulfilled");function g(s){try{u(t.throw(s))}catch(I){p(I)}}o(g,"rejected");function u(s){s.done?l(s.value):r(s.value).then(v,g)}o(u,"step"),u((t=t.apply(n,i||[])).next())})};Object.defineProperty(c,"__esModule",{value:!0});const h=d("hEYi"),m=d("f2XL"),f=d("aVV0");let a=o(class extends f.default{run(){return S(this,void 0,void 0,function*(){this.context.removableObservers.push(this),this.context.signalingClient.registerObserver(this),this.context.realtimeController.realtimeSubscribeToMuteAndUnmuteLocalAudio(this.realtimeMuteAndUnmuteHandler)})}removeObserver(){this.context.realtimeController.realtimeUnsubscribeToMuteAndUnmuteLocalAudio(this.realtimeMuteAndUnmuteHandler),this.context.signalingClient.removeObserver(this)}handleSignalingClientEvent(i){if(i.type===h.default.ReceivedSignalFrame){if(i.message.type===m.SdkSignalFrame.Type.AUDIO_STREAM_ID_INFO){const e=i.message.audioStreamIdInfo;this.context.volumeIndicatorAdapter.sendRealtimeUpdatesForAudioStreamIdInfo(e)}else if(i.message.type===m.SdkSignalFrame.Type.AUDIO_METADATA){const e=i.message.audioMetadata;this.context.volumeIndicatorAdapter.sendRealtimeUpdatesForAudioMetadata(e)}}}constructor(i){super(i.logger),this.context=i,this.taskName="ListenForVolumeIndicatorsTask",this.realtimeMuteAndUnmuteHandler=e=>{this.context.signalingClient.mute(e)}}},"ListenForVolumeIndicatorsTask");c.default=a},czaS:function(N,c,d){var S=d("USwo"),h=d("VSTI"),m=d("S4vA");N.exports=function(f,a){var n=(h.Object||{})[f]||Object[f],i={};i[f]=a(n),S(S.S+S.F*m(function(){n(1)}),"Object",i)}},"d+lc":function(N,c,d){var S=d("ekG2");N.exports=function(h){if(!S(h))throw TypeError(h+" is not an object!");return h}},"d/Q8":function(N,c,d){"use strict";d.d(c,"a",function(){return t});var S=d("9oTK"),h=d.n(S),m=d("m8R6"),f=d("2XU3"),a=d("WCk1"),n=d("s4P+"),i=d("pjW8");const e={TeamIneligible:"team_ineligible",TeamOnPaidPlan:"team_on_paid_plan",InvalidCampaign:"invalid_campaign",InsufficientPermissions:"insufficient_permissions",CodeTypeRedeemed:"code_type_redeemed",CodeSubtypeRedeemed:"code_subtype_redeemed",NotInExperiment:"not_in_experiment",TeamDoesntSatisfyDaysAfterReachedMessageLimitCriteria:"team_doesnt_satisfy_days_after_reached_message_limit_criteria"},t=Object(a.a)("promo.campaigns.redeem generated fetcher",function(){var r=Object(S.coroutine)(function*(l,p,v){try{const g=["reason"],u=Object(m.a)(v,g),s=Object(i.b)(u);return yield l(Object(f.a)({method:"promo.campaigns.redeem",args:s,reason:v.reason}))}catch(g){throw Object(n.a)({getState:p}).error(`API call to promo.campaigns.redeem
				with reason ${v.reason} failed, initiated by generated fetcher`),g}});return function(l,p,v){return r.apply(this,arguments)}}());t.meta={name:"createFetcher",key:"createFetcherpromoCampaignsRedeemFetcher",description:"promo.campaigns.redeem generated fetcher"}},dFEU:function(N,c,d){"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.Sha256=void 0;var S=d("kQNw"),h=d("p72H"),m=d("f/KM"),f=d("Yugg"),a=function(){function e(t){this.secret=t,this.reset()}return o(e,"Sha256"),e.prototype.update=function(t){var r=this;(0,S.isEmptyData)(t)||(this.operation=this.operation.then(function(l){return l.onerror=function(){r.operation=Promise.reject(new Error("Error encountered updating hash"))},l.process(i(t)),l}),this.operation.catch(function(){}))},e.prototype.digest=function(){return this.operation.then(function(t){return new Promise(function(r,l){t.onerror=function(){l(new Error("Error encountered finalizing hash"))},t.oncomplete=function(){t.result&&r(new Uint8Array(t.result)),l(new Error("Error encountered finalizing hash"))},t.finish()})})},e.prototype.reset=function(){this.secret?(this.operation=n(this.secret).then(function(t){return(0,f.locateWindow)().msCrypto.subtle.sign(h.SHA_256_HMAC_ALGO,t)}),this.operation.catch(function(){})):this.operation=Promise.resolve((0,f.locateWindow)().msCrypto.subtle.digest("SHA-256"))},e}();c.Sha256=a;function n(e){return new Promise(function(t,r){var l=(0,f.locateWindow)().msCrypto.subtle.importKey("raw",i(e),h.SHA_256_HMAC_ALGO,!1,["sign"]);l.oncomplete=function(){l.result&&t(l.result),r(new Error("ImportKey completed without importing key."))},l.onerror=function(){r(new Error("ImportKey failed to import key."))}})}o(n,"getKeyPromise");function i(e){return typeof e=="string"?(0,m.fromUtf8)(e):ArrayBuffer.isView(e)?new Uint8Array(e.buffer,e.byteOffset,e.byteLength/Uint8Array.BYTES_PER_ELEMENT):new Uint8Array(e)}o(i,"toArrayBufferView")},dJwD:function(N,c,d){"use strict";d.r(c),d.d(c,"__extends",function(){return h}),d.d(c,"__assign",function(){return m}),d.d(c,"__rest",function(){return f}),d.d(c,"__decorate",function(){return a}),d.d(c,"__param",function(){return n}),d.d(c,"__metadata",function(){return i}),d.d(c,"__awaiter",function(){return e}),d.d(c,"__generator",function(){return t}),d.d(c,"__createBinding",function(){return r}),d.d(c,"__exportStar",function(){return l}),d.d(c,"__values",function(){return p}),d.d(c,"__read",function(){return v}),d.d(c,"__spread",function(){return g}),d.d(c,"__spreadArrays",function(){return u}),d.d(c,"__await",function(){return s}),d.d(c,"__asyncGenerator",function(){return I}),d.d(c,"__asyncDelegator",function(){return M}),d.d(c,"__asyncValues",function(){return R}),d.d(c,"__makeTemplateObject",function(){return B}),d.d(c,"__importStar",function(){return j}),d.d(c,"__importDefault",function(){return A}),d.d(c,"__classPrivateFieldGet",function(){return D}),d.d(c,"__classPrivateFieldSet",function(){return $});/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var S=o(function(O,P){return S=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(k,K){k.__proto__=K}||function(k,K){for(var Z in K)K.hasOwnProperty(Z)&&(k[Z]=K[Z])},S(O,P)},"extendStatics");function h(O,P){S(O,P);function k(){this.constructor=O}o(k,"__"),O.prototype=P===null?Object.create(P):(k.prototype=P.prototype,new k)}o(h,"__extends");var m=o(function(){return m=Object.assign||o(function(P){for(var k,K=1,Z=arguments.length;K<Z;K++){k=arguments[K];for(var Y in k)Object.prototype.hasOwnProperty.call(k,Y)&&(P[Y]=k[Y])}return P},"__assign"),m.apply(this,arguments)},"__assign");function f(O,P){var k={};for(var K in O)Object.prototype.hasOwnProperty.call(O,K)&&P.indexOf(K)<0&&(k[K]=O[K]);if(O!=null&&typeof Object.getOwnPropertySymbols=="function")for(var Z=0,K=Object.getOwnPropertySymbols(O);Z<K.length;Z++)P.indexOf(K[Z])<0&&Object.prototype.propertyIsEnumerable.call(O,K[Z])&&(k[K[Z]]=O[K[Z]]);return k}o(f,"__rest");function a(O,P,k,K){var Z=arguments.length,Y=Z<3?P:K===null?K=Object.getOwnPropertyDescriptor(P,k):K,ie;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")Y=Reflect.decorate(O,P,k,K);else for(var ge=O.length-1;ge>=0;ge--)(ie=O[ge])&&(Y=(Z<3?ie(Y):Z>3?ie(P,k,Y):ie(P,k))||Y);return Z>3&&Y&&Object.defineProperty(P,k,Y),Y}o(a,"__decorate");function n(O,P){return function(k,K){P(k,K,O)}}o(n,"__param");function i(O,P){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(O,P)}o(i,"__metadata");function e(O,P,k,K){function Z(Y){return Y instanceof k?Y:new k(function(ie){ie(Y)})}return o(Z,"adopt"),new(k||(k=Promise))(function(Y,ie){function ge(we){try{le(K.next(we))}catch(Be){ie(Be)}}o(ge,"fulfilled");function Ie(we){try{le(K.throw(we))}catch(Be){ie(Be)}}o(Ie,"rejected");function le(we){we.done?Y(we.value):Z(we.value).then(ge,Ie)}o(le,"step"),le((K=K.apply(O,P||[])).next())})}o(e,"__awaiter");function t(O,P){var k={label:0,sent:function(){if(Y[0]&1)throw Y[1];return Y[1]},trys:[],ops:[]},K,Z,Y,ie;return ie={next:ge(0),throw:ge(1),return:ge(2)},typeof Symbol=="function"&&(ie[Symbol.iterator]=function(){return this}),ie;function ge(le){return function(we){return Ie([le,we])}}function Ie(le){if(K)throw new TypeError("Generator is already executing.");for(;k;)try{if(K=1,Z&&(Y=le[0]&2?Z.return:le[0]?Z.throw||((Y=Z.return)&&Y.call(Z),0):Z.next)&&!(Y=Y.call(Z,le[1])).done)return Y;switch(Z=0,Y&&(le=[le[0]&2,Y.value]),le[0]){case 0:case 1:Y=le;break;case 4:return k.label++,{value:le[1],done:!1};case 5:k.label++,Z=le[1],le=[0];continue;case 7:le=k.ops.pop(),k.trys.pop();continue;default:if(Y=k.trys,!(Y=Y.length>0&&Y[Y.length-1])&&(le[0]===6||le[0]===2)){k=0;continue}if(le[0]===3&&(!Y||le[1]>Y[0]&&le[1]<Y[3])){k.label=le[1];break}if(le[0]===6&&k.label<Y[1]){k.label=Y[1],Y=le;break}if(Y&&k.label<Y[2]){k.label=Y[2],k.ops.push(le);break}Y[2]&&k.ops.pop(),k.trys.pop();continue}le=P.call(O,k)}catch(we){le=[6,we],Z=0}finally{K=Y=0}if(le[0]&5)throw le[1];return{value:le[0]?le[1]:void 0,done:!0}}}o(t,"__generator");function r(O,P,k,K){K===void 0&&(K=k),O[K]=P[k]}o(r,"__createBinding");function l(O,P){for(var k in O)k!=="default"&&!P.hasOwnProperty(k)&&(P[k]=O[k])}o(l,"__exportStar");function p(O){var P=typeof Symbol=="function"&&Symbol.iterator,k=P&&O[P],K=0;if(k)return k.call(O);if(O&&typeof O.length=="number")return{next:function(){return O&&K>=O.length&&(O=void 0),{value:O&&O[K++],done:!O}}};throw new TypeError(P?"Object is not iterable.":"Symbol.iterator is not defined.")}o(p,"__values");function v(O,P){var k=typeof Symbol=="function"&&O[Symbol.iterator];if(!k)return O;var K=k.call(O),Z,Y=[],ie;try{for(;(P===void 0||P-- >0)&&!(Z=K.next()).done;)Y.push(Z.value)}catch(ge){ie={error:ge}}finally{try{Z&&!Z.done&&(k=K.return)&&k.call(K)}finally{if(ie)throw ie.error}}return Y}o(v,"__read");function g(){for(var O=[],P=0;P<arguments.length;P++)O=O.concat(v(arguments[P]));return O}o(g,"__spread");function u(){for(var O=0,P=0,k=arguments.length;P<k;P++)O+=arguments[P].length;for(var K=Array(O),Z=0,P=0;P<k;P++)for(var Y=arguments[P],ie=0,ge=Y.length;ie<ge;ie++,Z++)K[Z]=Y[ie];return K}o(u,"__spreadArrays");function s(O){return this instanceof s?(this.v=O,this):new s(O)}o(s,"__await");function I(O,P,k){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var K=k.apply(O,P||[]),Z,Y=[];return Z={},ie("next"),ie("throw"),ie("return"),Z[Symbol.asyncIterator]=function(){return this},Z;function ie(Re){K[Re]&&(Z[Re]=function(Ne){return new Promise(function(_e,Ze){Y.push([Re,Ne,_e,Ze])>1||ge(Re,Ne)})})}function ge(Re,Ne){try{Ie(K[Re](Ne))}catch(_e){Be(Y[0][3],_e)}}function Ie(Re){Re.value instanceof s?Promise.resolve(Re.value.v).then(le,we):Be(Y[0][2],Re)}function le(Re){ge("next",Re)}function we(Re){ge("throw",Re)}function Be(Re,Ne){Re(Ne),Y.shift(),Y.length&&ge(Y[0][0],Y[0][1])}}o(I,"__asyncGenerator");function M(O){var P,k;return P={},K("next"),K("throw",function(Z){throw Z}),K("return"),P[Symbol.iterator]=function(){return this},P;function K(Z,Y){P[Z]=O[Z]?function(ie){return(k=!k)?{value:s(O[Z](ie)),done:Z==="return"}:Y?Y(ie):ie}:Y}}o(M,"__asyncDelegator");function R(O){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var P=O[Symbol.asyncIterator],k;return P?P.call(O):(O=typeof p=="function"?p(O):O[Symbol.iterator](),k={},K("next"),K("throw"),K("return"),k[Symbol.asyncIterator]=function(){return this},k);function K(Y){k[Y]=O[Y]&&function(ie){return new Promise(function(ge,Ie){ie=O[Y](ie),Z(ge,Ie,ie.done,ie.value)})}}function Z(Y,ie,ge,Ie){Promise.resolve(Ie).then(function(le){Y({value:le,done:ge})},ie)}}o(R,"__asyncValues");function B(O,P){return Object.defineProperty?Object.defineProperty(O,"raw",{value:P}):O.raw=P,O}o(B,"__makeTemplateObject");function j(O){if(O&&O.__esModule)return O;var P={};if(O!=null)for(var k in O)Object.hasOwnProperty.call(O,k)&&(P[k]=O[k]);return P.default=O,P}o(j,"__importStar");function A(O){return O&&O.__esModule?O:{default:O}}o(A,"__importDefault");function D(O,P){if(!P.has(O))throw new TypeError("attempted to get private field on non-instance");return P.get(O)}o(D,"__classPrivateFieldGet");function $(O,P,k){if(!P.has(O))throw new TypeError("attempted to set private field on non-instance");return P.set(O,k),k}o($,"__classPrivateFieldSet")},dPBs:function(N,c,d){"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.MeetingSessionLifecycleEventCondition=void 0;var S;(function(h){h[h.ConnectingNew=0]="ConnectingNew",h[h.ReconnectingExisting=1]="ReconnectingExisting",h[h.StartedNew=2]="StartedNew",h[h.StartedExisting=3]="StartedExisting",h[h.StartedAfterReconnect=4]="StartedAfterReconnect",h[h.StoppedCleanly=5]="StoppedCleanly",h[h.StoppedWithFailure=6]="StoppedWithFailure"})(S=c.MeetingSessionLifecycleEventCondition||(c.MeetingSessionLifecycleEventCondition={})),c.default=S},dPyZ:function(N,c,d){"use strict";var S=this&&this.__awaiter||function(n,i,e,t){function r(l){return l instanceof e?l:new e(function(p){p(l)})}return o(r,"adopt"),new(e||(e=Promise))(function(l,p){function v(s){try{u(t.next(s))}catch(I){p(I)}}o(v,"fulfilled");function g(s){try{u(t.throw(s))}catch(I){p(I)}}o(g,"rejected");function u(s){s.done?l(s.value):r(s.value).then(v,g)}o(u,"step"),u((t=t.apply(n,i||[])).next())})};Object.defineProperty(c,"__esModule",{value:!0});const h=d("E6e8"),m=d("EX/T"),f=d("ac3q");let a=o(class{makeTwoDigits(i){return i>9?i.toString():"0"+i.toString()}hmac(i,e){const t=new h.Sha256(e);return t.update(i),t.digest()}getDateTimeString(){const i=new Date;return i.getUTCFullYear()+this.makeTwoDigits(i.getUTCMonth()+1)+this.makeTwoDigits(i.getUTCDate())+"T"+this.makeTwoDigits(i.getUTCHours())+this.makeTwoDigits(i.getUTCMinutes())+this.makeTwoDigits(i.getUTCSeconds())+"Z"}getDateString(i){return i.substring(0,i.indexOf("T"))}getSignatureKey(i,e,t,r){return S(this,void 0,void 0,function*(){const l=yield this.hmac(e,"AWS4"+i),p=yield this.hmac(t,l),v=yield this.hmac(r,p);return yield this.hmac("aws4_request",v)})}signURL(i,e,t,r,l,p,v){return S(this,void 0,void 0,function*(){const g=this.getDateTimeString(),u=this.getDateString(g),s="AWS4-HMAC-SHA256";let I="";this.chimeClient.config.region instanceof Function?I=yield this.chimeClient.config.region():I=this.chimeClient.config.region;const M="host",R="host:"+r.toLowerCase()+`
`,B=u+"/"+I+"/"+t+"/aws4_request";let j;this.chimeClient.config.credentials instanceof Function?j=yield this.chimeClient.config.credentials():j=this.chimeClient.config.credentials;let A=new Map;A.set("X-Amz-Algorithm",[s]),A.set("X-Amz-Credential",[encodeURIComponent(j.accessKeyId+"/"+B)]),A.set("X-Amz-Date",[g]),A.set("X-Amz-Expires",["10"]),A.set("X-Amz-SignedHeaders",["host"]),j.sessionToken&&A.set("X-Amz-Security-Token",[encodeURIComponent(j.sessionToken)]),A.set(f.default.X_AMZN_VERSION,[encodeURIComponent(f.default.sdkVersion)]),A.set(f.default.X_AMZN_USER_AGENT,[encodeURIComponent(f.default.sdkUserAgentLowResolution)]),v==null||v.forEach((Y,ie)=>{const ge=encodeURIComponent(ie);Y.sort().forEach(Ie=>{A.has(ge)||A.set(ge,[]),A.get(ge).push(encodeURIComponent(Ie))})});let D="";A=new Map([...A.entries()].sort()),A.forEach((Y,ie)=>{Y.forEach(ge=>{D.length&&(D+="&"),D+=ie+"="+ge})});const $=i+`
`+l+`
`+D+`
`+R+`
`+M+`
`+m.toHex(yield this.hmac(p)),O=m.toHex(yield this.hmac($)),P=`AWS4-HMAC-SHA256
`+g+`
`+u+"/"+I+"/"+t+`/aws4_request
`+O,k=yield this.getSignatureKey(j.secretAccessKey,u,I,t),K=m.toHex(yield this.hmac(P,k)),Z=D+"&X-Amz-Signature="+K;return e+"://"+r+l+"?"+Z})}constructor(i){this.chimeClient=i}},"DefaultSigV4");c.default=a},dRu9:function(N,c,d){"use strict";d.d(c,"b",function(){return p}),d.d(c,"a",function(){return v}),d.d(c,"c",function(){return g});var S=d("JwAW"),h=d("RPF1"),m=d("n3tL"),f=d("q1tI"),a=d.n(f),n=d("wSSu"),i=d.n(n),e={disabled:!1},t=d("0PSK"),r="unmounted",l="exited",p="entering",v="entered",g="exiting",u=function(M){Object(h.a)(R,M);function R(j,A){var D;D=M.call(this,j,A)||this;var $=A,O=$&&!$.isMounting?j.enter:j.appear,P;return D.appearStatus=null,j.in?O?(P=l,D.appearStatus=p):P=v:j.unmountOnExit||j.mountOnEnter?P=r:P=l,D.state={status:P},D.nextCallback=null,D}o(R,"Transition"),R.getDerivedStateFromProps=o(function(A,D){var $=A.in;return $&&D.status===r?{status:l}:null},"getDerivedStateFromProps");var B=R.prototype;return B.componentDidMount=o(function(){this.updateStatus(!0,this.appearStatus)},"componentDidMount"),B.componentDidUpdate=o(function(A){var D=null;if(A!==this.props){var $=this.state.status;this.props.in?$!==p&&$!==v&&(D=p):($===p||$===v)&&(D=g)}this.updateStatus(!1,D)},"componentDidUpdate"),B.componentWillUnmount=o(function(){this.cancelNextCallback()},"componentWillUnmount"),B.getTimeouts=o(function(){var A=this.props.timeout,D,$,O;return D=$=O=A,A!=null&&typeof A!="number"&&(D=A.exit,$=A.enter,O=A.appear!==void 0?A.appear:$),{exit:D,enter:$,appear:O}},"getTimeouts"),B.updateStatus=o(function(A,D){if(A===void 0&&(A=!1),D!==null){this.cancelNextCallback();var $=i.a.findDOMNode(this);D===p?this.performEnter($,A):this.performExit($)}else this.props.unmountOnExit&&this.state.status===l&&this.setState({status:r})},"updateStatus"),B.performEnter=o(function(A,D){var $=this,O=this.props.enter,P=this.context?this.context.isMounting:D,k=this.getTimeouts(),K=P?k.appear:k.enter;if(!D&&!O||e.disabled){this.safeSetState({status:v},function(){$.props.onEntered(A)});return}this.props.onEnter(A,P),this.safeSetState({status:p},function(){$.props.onEntering(A,P),$.onTransitionEnd(A,K,function(){$.safeSetState({status:v},function(){$.props.onEntered(A,P)})})})},"performEnter"),B.performExit=o(function(A){var D=this,$=this.props.exit,O=this.getTimeouts();if(!$||e.disabled){this.safeSetState({status:l},function(){D.props.onExited(A)});return}this.props.onExit(A),this.safeSetState({status:g},function(){D.props.onExiting(A),D.onTransitionEnd(A,O.exit,function(){D.safeSetState({status:l},function(){D.props.onExited(A)})})})},"performExit"),B.cancelNextCallback=o(function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},"cancelNextCallback"),B.safeSetState=o(function(A,D){D=this.setNextCallback(D),this.setState(A,D)},"safeSetState"),B.setNextCallback=o(function(A){var D=this,$=!0;return this.nextCallback=function(O){$&&($=!1,D.nextCallback=null,A(O))},this.nextCallback.cancel=function(){$=!1},this.nextCallback},"setNextCallback"),B.onTransitionEnd=o(function(A,D,$){this.setNextCallback($);var O=D==null&&!this.props.addEndListener;if(!A||O){setTimeout(this.nextCallback,0);return}this.props.addEndListener&&this.props.addEndListener(A,this.nextCallback),D!=null&&setTimeout(this.nextCallback,D)},"onTransitionEnd"),B.render=o(function(){var A=this.state.status;if(A===r)return null;var D=this.props,$=D.children,O=Object(S.a)(D,["children"]);if(delete O.in,delete O.mountOnEnter,delete O.unmountOnExit,delete O.appear,delete O.enter,delete O.exit,delete O.timeout,delete O.addEndListener,delete O.onEnter,delete O.onEntering,delete O.onEntered,delete O.onExit,delete O.onExiting,delete O.onExited,typeof $=="function")return a.a.createElement(t.a.Provider,{value:null},$(A,O));var P=a.a.Children.only($);return a.a.createElement(t.a.Provider,{value:null},a.a.cloneElement(P,O))},"render"),R}(a.a.Component);u.contextType=t.a,u.propTypes={};function s(){}o(s,"noop"),u.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:s,onEntering:s,onEntered:s,onExit:s,onExiting:s,onExited:s},u.UNMOUNTED=0,u.EXITED=1,u.ENTERING=2,u.ENTERED=3,u.EXITING=4;var I=c.d=u},"dWP+":function(N,c,d){"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.isVideoTransformDevice=void 0;function S(h){return!!h&&typeof h=="object"&&"transformStream"in h&&"stop"in h&&"intrinsicDevice"in h}o(S,"isVideoTransformDevice"),c.isVideoTransformDevice=S},dWQL:function(N,c,d){"use strict";Object.defineProperty(c,"__esModule",{value:!0});let S=o(class{constructor(m,f,a){this.videoWidth=m,this.videoHeight=f,this.videoFrameRate=a}},"VideoQualitySettings");c.default=S},da6e:function(N,c,d){"use strict";Object.defineProperty(c,"__esModule",{value:!0});const S=d("Aplu");let h=o(class{start(){this.isActive=!0,this.pingPong.addObserver(this),this.pingPong.start(),this.audioVideoController.addObserver(this)}stop(){this.isActive=!1,this.pingPong.removeObserver(this),this.pingPong.stop(),this.audioVideoController.removeObserver(this)}receiveSignalStrengthChange(f){f===0?this.connectionHealthData.setLastNoSignalTimestampMs(Date.now()):f<=.5?this.connectionHealthData.setLastWeakSignalTimestampMs(Date.now()):this.connectionHealthData.setLastGoodSignalTimestampMs(Date.now()),this.updateConnectionHealth()}didReceivePong(f,a,n){this.connectionHealthData.setConsecutiveMissedPongs(0),this.statsCollector.logLatency("ping_pong",a),this.statsCollector.logLatency("ping_pong_clock_skew",n),this.updateConnectionHealth()}didMissPongs(){this.connectionHealthData.setConsecutiveMissedPongs(this.connectionHealthData.consecutiveMissedPongs+1),this.updateConnectionHealth()}metricsDidReceive(f){let a=0,n=0;const i=f.getObservableMetrics(),e=i.audioPacketsReceived,t=i.audioPacketsReceivedFractionLoss,r=i.audioSpeakerDelayMs;if(typeof r=="number"&&!isNaN(r)&&this.connectionHealthData.setAudioSpeakerDelayMs(r),typeof e=="number"&&typeof t=="number"){if(a=e,n=t,a<0||n<0)return}else return;this.addToMinuteWindow(this.connectionHealthData.packetsReceivedInLastMinute,a),this.addToMinuteWindow(this.connectionHealthData.fractionPacketsLostInboundInLastMinute,n),a>0?(this.hasSeenValidPacketMetricsBefore=!0,this.connectionHealthData.setConsecutiveStatsWithNoPackets(0)):this.hasSeenValidPacketMetricsBefore&&this.connectionHealthData.setConsecutiveStatsWithNoPackets(this.connectionHealthData.consecutiveStatsWithNoPackets+1),(a===0||n>0)&&this.connectionHealthData.setLastPacketLossInboundTimestampMs(Date.now()),typeof i.audioPacketsSent=="number"&&this.updateAudioPacketsSentInConnectionHealth(i.audioPacketsSent),this.updateConnectionHealth()}updateAudioPacketsSentInConnectionHealth(f){f>0?this.connectionHealthData.setConsecutiveStatsWithNoAudioPacketsSent(0):this.connectionHealthData.setConsecutiveStatsWithNoAudioPacketsSent(this.connectionHealthData.consecutiveStatsWithNoAudioPacketsSent+1)}addToMinuteWindow(f,a){f.unshift(a),f.length>60&&f.pop()}updateConnectionHealth(){this.audioVideoController.forEachObserver(f=>{S.Maybe.of(f.connectionHealthDidChange).map(a=>a.bind(f)(this.connectionHealthData.clone()))})}constructor(f,a,n,i,e){this.audioVideoController=f,this.realtimeController=a,this.connectionHealthData=n,this.pingPong=i,this.statsCollector=e,this.isActive=!1,this.hasSeenValidPacketMetricsBefore=!1,this.realtimeController.realtimeSubscribeToLocalSignalStrengthChange(t=>{this.isActive&&this.receiveSignalStrengthChange(t)})}},"SignalingAndMetricsConnectionMonitor");c.default=h},dazq:function(N,c,d){"use strict";Object.defineProperty(c,"__esModule",{value:!0});let S=o(class{constructor(){this.timeoutMs=1e4,this.waitDurationMs=3e3,this.audioOutputFrequency=440,this.audioOutputGain=.1}},"MeetingReadinessCheckerConfiguration");c.default=S},dhcM:function(N,c,d){"use strict";var S=d("FLqD"),h=d("kt0j"),m=Object(h.a)(function(f,a,n,i){Object(S.a)(f,a,n,i)});c.a=m},dmnA:function(N,c,d){"use strict";N.exports=d("fCza")},"du/1":function(N,c,d){var S=d("USwo");S(S.S,"Object",{create:d("b08l")})},duQQ:function(N,c,d){"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.isMsWindow=void 0;var S=["decrypt","digest","encrypt","exportKey","generateKey","importKey","sign","verify"];function h(f){return"MSInputMethodContext"in f&&"msCrypto"in f}o(h,"quacksLikeAnMsWindow");function m(f){if(h(f)&&f.msCrypto.subtle!==void 0){var a=f.msCrypto,n=a.getRandomValues,i=a.subtle;return S.map(function(e){return i[e]}).concat(n).every(function(e){return typeof e=="function"})}return!1}o(m,"isMsWindow"),c.isMsWindow=m},"e/M0":function(N,c,d){"use strict";Object.defineProperty(c,"__esModule",{value:!0});const S=d("j+uH");let h=o(class extends S.default{run(){return this.fn().then(()=>{})}constructor(f,a,n="RunnableTask"){super(f),this.fn=a,this.taskName=n}},"RunnableTask");c.default=h},"e/ca":function(N,c,d){"use strict";Object.defineProperty(c,"__esModule",{value:!0});const S=d("uctb");let h=o(class{info(f){this.log(S.default.INFO,f)}warn(f){this.log(S.default.WARN,f)}error(f){this.log(S.default.ERROR,f)}debug(f){S.default.DEBUG<this.level||(typeof f=="string"?this.log(S.default.DEBUG,f):f?this.log(S.default.DEBUG,f()):this.log(S.default.DEBUG,""+f))}setLogLevel(f){this.level=f}getLogLevel(){return this.level}log(f,a){if(f<this.level)return;const i=`${new Date().toISOString()} [${S.default[f]}] ${this.name} - ${a}`;switch(f){case S.default.ERROR:console.error(i);break;case S.default.WARN:console.warn(i);break;case S.default.DEBUG:console.debug(i.replace(/\\r\\n/g,`
`));break;case S.default.INFO:console.info(i);break}}constructor(f,a=S.default.WARN){this.name=f,this.level=a}},"ConsoleLogger");c.default=h},"e/nb":function(N,c,d){"use strict";d.r(c),d.d(c,"__extends",function(){return h}),d.d(c,"__assign",function(){return m}),d.d(c,"__rest",function(){return f}),d.d(c,"__decorate",function(){return a}),d.d(c,"__param",function(){return n}),d.d(c,"__metadata",function(){return i}),d.d(c,"__awaiter",function(){return e}),d.d(c,"__generator",function(){return t}),d.d(c,"__createBinding",function(){return r}),d.d(c,"__exportStar",function(){return l}),d.d(c,"__values",function(){return p}),d.d(c,"__read",function(){return v}),d.d(c,"__spread",function(){return g}),d.d(c,"__spreadArrays",function(){return u}),d.d(c,"__await",function(){return s}),d.d(c,"__asyncGenerator",function(){return I}),d.d(c,"__asyncDelegator",function(){return M}),d.d(c,"__asyncValues",function(){return R}),d.d(c,"__makeTemplateObject",function(){return B}),d.d(c,"__importStar",function(){return j}),d.d(c,"__importDefault",function(){return A}),d.d(c,"__classPrivateFieldGet",function(){return D}),d.d(c,"__classPrivateFieldSet",function(){return $});/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var S=o(function(O,P){return S=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(k,K){k.__proto__=K}||function(k,K){for(var Z in K)K.hasOwnProperty(Z)&&(k[Z]=K[Z])},S(O,P)},"extendStatics");function h(O,P){S(O,P);function k(){this.constructor=O}o(k,"__"),O.prototype=P===null?Object.create(P):(k.prototype=P.prototype,new k)}o(h,"__extends");var m=o(function(){return m=Object.assign||o(function(P){for(var k,K=1,Z=arguments.length;K<Z;K++){k=arguments[K];for(var Y in k)Object.prototype.hasOwnProperty.call(k,Y)&&(P[Y]=k[Y])}return P},"__assign"),m.apply(this,arguments)},"__assign");function f(O,P){var k={};for(var K in O)Object.prototype.hasOwnProperty.call(O,K)&&P.indexOf(K)<0&&(k[K]=O[K]);if(O!=null&&typeof Object.getOwnPropertySymbols=="function")for(var Z=0,K=Object.getOwnPropertySymbols(O);Z<K.length;Z++)P.indexOf(K[Z])<0&&Object.prototype.propertyIsEnumerable.call(O,K[Z])&&(k[K[Z]]=O[K[Z]]);return k}o(f,"__rest");function a(O,P,k,K){var Z=arguments.length,Y=Z<3?P:K===null?K=Object.getOwnPropertyDescriptor(P,k):K,ie;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")Y=Reflect.decorate(O,P,k,K);else for(var ge=O.length-1;ge>=0;ge--)(ie=O[ge])&&(Y=(Z<3?ie(Y):Z>3?ie(P,k,Y):ie(P,k))||Y);return Z>3&&Y&&Object.defineProperty(P,k,Y),Y}o(a,"__decorate");function n(O,P){return function(k,K){P(k,K,O)}}o(n,"__param");function i(O,P){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(O,P)}o(i,"__metadata");function e(O,P,k,K){function Z(Y){return Y instanceof k?Y:new k(function(ie){ie(Y)})}return o(Z,"adopt"),new(k||(k=Promise))(function(Y,ie){function ge(we){try{le(K.next(we))}catch(Be){ie(Be)}}o(ge,"fulfilled");function Ie(we){try{le(K.throw(we))}catch(Be){ie(Be)}}o(Ie,"rejected");function le(we){we.done?Y(we.value):Z(we.value).then(ge,Ie)}o(le,"step"),le((K=K.apply(O,P||[])).next())})}o(e,"__awaiter");function t(O,P){var k={label:0,sent:function(){if(Y[0]&1)throw Y[1];return Y[1]},trys:[],ops:[]},K,Z,Y,ie;return ie={next:ge(0),throw:ge(1),return:ge(2)},typeof Symbol=="function"&&(ie[Symbol.iterator]=function(){return this}),ie;function ge(le){return function(we){return Ie([le,we])}}function Ie(le){if(K)throw new TypeError("Generator is already executing.");for(;k;)try{if(K=1,Z&&(Y=le[0]&2?Z.return:le[0]?Z.throw||((Y=Z.return)&&Y.call(Z),0):Z.next)&&!(Y=Y.call(Z,le[1])).done)return Y;switch(Z=0,Y&&(le=[le[0]&2,Y.value]),le[0]){case 0:case 1:Y=le;break;case 4:return k.label++,{value:le[1],done:!1};case 5:k.label++,Z=le[1],le=[0];continue;case 7:le=k.ops.pop(),k.trys.pop();continue;default:if(Y=k.trys,!(Y=Y.length>0&&Y[Y.length-1])&&(le[0]===6||le[0]===2)){k=0;continue}if(le[0]===3&&(!Y||le[1]>Y[0]&&le[1]<Y[3])){k.label=le[1];break}if(le[0]===6&&k.label<Y[1]){k.label=Y[1],Y=le;break}if(Y&&k.label<Y[2]){k.label=Y[2],k.ops.push(le);break}Y[2]&&k.ops.pop(),k.trys.pop();continue}le=P.call(O,k)}catch(we){le=[6,we],Z=0}finally{K=Y=0}if(le[0]&5)throw le[1];return{value:le[0]?le[1]:void 0,done:!0}}}o(t,"__generator");function r(O,P,k,K){K===void 0&&(K=k),O[K]=P[k]}o(r,"__createBinding");function l(O,P){for(var k in O)k!=="default"&&!P.hasOwnProperty(k)&&(P[k]=O[k])}o(l,"__exportStar");function p(O){var P=typeof Symbol=="function"&&Symbol.iterator,k=P&&O[P],K=0;if(k)return k.call(O);if(O&&typeof O.length=="number")return{next:function(){return O&&K>=O.length&&(O=void 0),{value:O&&O[K++],done:!O}}};throw new TypeError(P?"Object is not iterable.":"Symbol.iterator is not defined.")}o(p,"__values");function v(O,P){var k=typeof Symbol=="function"&&O[Symbol.iterator];if(!k)return O;var K=k.call(O),Z,Y=[],ie;try{for(;(P===void 0||P-- >0)&&!(Z=K.next()).done;)Y.push(Z.value)}catch(ge){ie={error:ge}}finally{try{Z&&!Z.done&&(k=K.return)&&k.call(K)}finally{if(ie)throw ie.error}}return Y}o(v,"__read");function g(){for(var O=[],P=0;P<arguments.length;P++)O=O.concat(v(arguments[P]));return O}o(g,"__spread");function u(){for(var O=0,P=0,k=arguments.length;P<k;P++)O+=arguments[P].length;for(var K=Array(O),Z=0,P=0;P<k;P++)for(var Y=arguments[P],ie=0,ge=Y.length;ie<ge;ie++,Z++)K[Z]=Y[ie];return K}o(u,"__spreadArrays");function s(O){return this instanceof s?(this.v=O,this):new s(O)}o(s,"__await");function I(O,P,k){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var K=k.apply(O,P||[]),Z,Y=[];return Z={},ie("next"),ie("throw"),ie("return"),Z[Symbol.asyncIterator]=function(){return this},Z;function ie(Re){K[Re]&&(Z[Re]=function(Ne){return new Promise(function(_e,Ze){Y.push([Re,Ne,_e,Ze])>1||ge(Re,Ne)})})}function ge(Re,Ne){try{Ie(K[Re](Ne))}catch(_e){Be(Y[0][3],_e)}}function Ie(Re){Re.value instanceof s?Promise.resolve(Re.value.v).then(le,we):Be(Y[0][2],Re)}function le(Re){ge("next",Re)}function we(Re){ge("throw",Re)}function Be(Re,Ne){Re(Ne),Y.shift(),Y.length&&ge(Y[0][0],Y[0][1])}}o(I,"__asyncGenerator");function M(O){var P,k;return P={},K("next"),K("throw",function(Z){throw Z}),K("return"),P[Symbol.iterator]=function(){return this},P;function K(Z,Y){P[Z]=O[Z]?function(ie){return(k=!k)?{value:s(O[Z](ie)),done:Z==="return"}:Y?Y(ie):ie}:Y}}o(M,"__asyncDelegator");function R(O){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var P=O[Symbol.asyncIterator],k;return P?P.call(O):(O=typeof p=="function"?p(O):O[Symbol.iterator](),k={},K("next"),K("throw"),K("return"),k[Symbol.asyncIterator]=function(){return this},k);function K(Y){k[Y]=O[Y]&&function(ie){return new Promise(function(ge,Ie){ie=O[Y](ie),Z(ge,Ie,ie.done,ie.value)})}}function Z(Y,ie,ge,Ie){Promise.resolve(Ie).then(function(le){Y({value:le,done:ge})},ie)}}o(R,"__asyncValues");function B(O,P){return Object.defineProperty?Object.defineProperty(O,"raw",{value:P}):O.raw=P,O}o(B,"__makeTemplateObject");function j(O){if(O&&O.__esModule)return O;var P={};if(O!=null)for(var k in O)Object.hasOwnProperty.call(O,k)&&(P[k]=O[k]);return P.default=O,P}o(j,"__importStar");function A(O){return O&&O.__esModule?O:{default:O}}o(A,"__importDefault");function D(O,P){if(!P.has(O))throw new TypeError("attempted to get private field on non-instance");return P.get(O)}o(D,"__classPrivateFieldGet");function $(O,P,k){if(!P.has(O))throw new TypeError("attempted to set private field on non-instance");return P.set(O,k),k}o($,"__classPrivateFieldSet")},e0ae:function(N,c,d){"use strict";d.r(c),function(S){d.d(c,"BrowserInfo",function(){return m}),d.d(c,"NodeInfo",function(){return f}),d.d(c,"SearchBotDeviceInfo",function(){return a}),d.d(c,"BotInfo",function(){return n}),d.d(c,"ReactNativeInfo",function(){return i}),d.d(c,"detect",function(){return v}),d.d(c,"browserName",function(){return u}),d.d(c,"parseUserAgent",function(){return s}),d.d(c,"detectOS",function(){return I}),d.d(c,"getNodeVersion",function(){return M});var h=function(B,j,A){if(A||arguments.length===2)for(var D=0,$=j.length,O;D<$;D++)(O||!(D in j))&&(O||(O=Array.prototype.slice.call(j,0,D)),O[D]=j[D]);return B.concat(O||Array.prototype.slice.call(j))},m=function(){function B(j,A,D){this.name=j,this.version=A,this.os=D,this.type="browser"}return o(B,"BrowserInfo"),B}(),f=function(){function B(j){this.version=j,this.type="node",this.name="node",this.os=S.platform}return o(B,"NodeInfo"),B}(),a=function(){function B(j,A,D,$){this.name=j,this.version=A,this.os=D,this.bot=$,this.type="bot-device"}return o(B,"SearchBotDeviceInfo"),B}(),n=function(){function B(){this.type="bot",this.bot=!0,this.name="bot",this.version=null,this.os=null}return o(B,"BotInfo"),B}(),i=function(){function B(){this.type="react-native",this.name="react-native",this.version=null,this.os=null}return o(B,"ReactNativeInfo"),B}(),e=/alexa|bot|crawl(er|ing)|facebookexternalhit|feedburner|google web preview|nagios|postrank|pingdom|slurp|spider|yahoo!|yandex/,t=/(nuhk|curl|Googlebot|Yammybot|Openbot|Slurp|MSNBot|Ask\ Jeeves\/Teoma|ia_archiver)/,r=3,l=[["aol",/AOLShield\/([0-9\._]+)/],["edge",/Edge\/([0-9\._]+)/],["edge-ios",/EdgiOS\/([0-9\._]+)/],["yandexbrowser",/YaBrowser\/([0-9\._]+)/],["kakaotalk",/KAKAOTALK\s([0-9\.]+)/],["samsung",/SamsungBrowser\/([0-9\.]+)/],["silk",/\bSilk\/([0-9._-]+)\b/],["miui",/MiuiBrowser\/([0-9\.]+)$/],["beaker",/BeakerBrowser\/([0-9\.]+)/],["edge-chromium",/EdgA?\/([0-9\.]+)/],["chromium-webview",/(?!Chrom.*OPR)wv\).*Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["chrome",/(?!Chrom.*OPR)Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["phantomjs",/PhantomJS\/([0-9\.]+)(:?\s|$)/],["crios",/CriOS\/([0-9\.]+)(:?\s|$)/],["firefox",/Firefox\/([0-9\.]+)(?:\s|$)/],["fxios",/FxiOS\/([0-9\.]+)/],["opera-mini",/Opera Mini.*Version\/([0-9\.]+)/],["opera",/Opera\/([0-9\.]+)(?:\s|$)/],["opera",/OPR\/([0-9\.]+)(:?\s|$)/],["pie",/^Microsoft Pocket Internet Explorer\/(\d+\.\d+)$/],["pie",/^Mozilla\/\d\.\d+\s\(compatible;\s(?:MSP?IE|MSInternet Explorer) (\d+\.\d+);.*Windows CE.*\)$/],["netfront",/^Mozilla\/\d\.\d+.*NetFront\/(\d.\d)/],["ie",/Trident\/7\.0.*rv\:([0-9\.]+).*\).*Gecko$/],["ie",/MSIE\s([0-9\.]+);.*Trident\/[4-7].0/],["ie",/MSIE\s(7\.0)/],["bb10",/BB10;\sTouch.*Version\/([0-9\.]+)/],["android",/Android\s([0-9\.]+)/],["ios",/Version\/([0-9\._]+).*Mobile.*Safari.*/],["safari",/Version\/([0-9\._]+).*Safari/],["facebook",/FB[AS]V\/([0-9\.]+)/],["instagram",/Instagram\s([0-9\.]+)/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Mobile/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Gecko\)$/],["curl",/^curl\/([0-9\.]+)$/],["searchbot",e]],p=[["iOS",/iP(hone|od|ad)/],["Android OS",/Android/],["BlackBerry OS",/BlackBerry|BB10/],["Windows Mobile",/IEMobile/],["Amazon OS",/Kindle/],["Windows 3.11",/Win16/],["Windows 95",/(Windows 95)|(Win95)|(Windows_95)/],["Windows 98",/(Windows 98)|(Win98)/],["Windows 2000",/(Windows NT 5.0)|(Windows 2000)/],["Windows XP",/(Windows NT 5.1)|(Windows XP)/],["Windows Server 2003",/(Windows NT 5.2)/],["Windows Vista",/(Windows NT 6.0)/],["Windows 7",/(Windows NT 6.1)/],["Windows 8",/(Windows NT 6.2)/],["Windows 8.1",/(Windows NT 6.3)/],["Windows 10",/(Windows NT 10.0)/],["Windows ME",/Windows ME/],["Windows CE",/Windows CE|WinCE|Microsoft Pocket Internet Explorer/],["Open BSD",/OpenBSD/],["Sun OS",/SunOS/],["Chrome OS",/CrOS/],["Linux",/(Linux)|(X11)/],["Mac OS",/(Mac_PowerPC)|(Macintosh)/],["QNX",/QNX/],["BeOS",/BeOS/],["OS/2",/OS\/2/]];function v(B){return B?s(B):typeof document>"u"&&typeof navigator<"u"&&navigator.product==="ReactNative"?new i:typeof navigator<"u"?s(navigator.userAgent):M()}o(v,"detect");function g(B){return B!==""&&l.reduce(function(j,A){var D=A[0],$=A[1];if(j)return j;var O=$.exec(B);return!!O&&[D,O]},!1)}o(g,"matchUserAgent");function u(B){var j=g(B);return j?j[0]:null}o(u,"browserName");function s(B){var j=g(B);if(!j)return null;var A=j[0],D=j[1];if(A==="searchbot")return new n;var $=D[1]&&D[1].split(".").join("_").split("_").slice(0,3);$?$.length<r&&($=h(h([],$,!0),R(r-$.length),!0)):$=[];var O=$.join("."),P=I(B),k=t.exec(B);return k&&k[1]?new a(A,O,P,k[1]):new m(A,O,P)}o(s,"parseUserAgent");function I(B){for(var j=0,A=p.length;j<A;j++){var D=p[j],$=D[0],O=D[1],P=O.exec(B);if(P)return $}return null}o(I,"detectOS");function M(){var B=typeof S<"u"&&S.version;return B?new f(S.version.slice(1)):null}o(M,"getNodeVersion");function R(B){for(var j=[],A=0;A<B;A++)j.push("0");return j}o(R,"createVersionParts")}.call(this,d("8oxB"))},e2MG:function(N,c,d){"use strict";(function(S){var h=this&&this.__awaiter||function(i,e,t,r){function l(p){return p instanceof t?p:new t(function(v){v(p)})}return o(l,"adopt"),new(t||(t=Promise))(function(p,v){function g(I){try{s(r.next(I))}catch(M){v(M)}}o(g,"fulfilled");function u(I){try{s(r.throw(I))}catch(M){v(M)}}o(u,"rejected");function s(I){I.done?p(I.value):l(I.value).then(g,u)}o(s,"step"),s((r=r.apply(i,e||[])).next())})};Object.defineProperty(c,"__esModule",{value:!0});const m=d("8wPz"),f=d("91j7"),a=d("uctb");let n=o(class Hh{addEventListener(){!this.eventListener||!("window"in S)||!window.addEventListener||window.addEventListener("unload",this.eventListener)}removeEventListener(){!this.eventListener||!("window"in S)||!window.removeEventListener||window.removeEventListener("unload",this.eventListener)}debug(e){a.default.DEBUG<this.logLevel||(typeof e=="string"?this.log(a.default.DEBUG,e):e?this.log(a.default.DEBUG,e()):this.log(a.default.DEBUG,""+e))}info(e){this.log(a.default.INFO,e)}warn(e){this.log(a.default.WARN,e)}error(e){this.log(a.default.ERROR,e)}setLogLevel(e){this.logLevel=e}getLogLevel(){return this.logLevel}getLogCaptureSize(){return this.logCapture.length}start(){this.addEventListener(),this.intervalScheduler=new m.default(this.intervalMs),this.intervalScheduler.start(()=>h(this,void 0,void 0,function*(){if(this.lock===!0||this.getLogCaptureSize()===0)return;this.lock=!0;const e=this.logCapture.slice(0,this.batchSize),t=this.makeRequestBody(e);try{(yield fetch(this.url,Object.assign({method:"POST",body:t},this.headers?{headers:this.headers}:{}))).status===200&&(this.logCapture=this.logCapture.slice(e.length))}catch(r){console.warn("[POSTLogger] "+r.message)}finally{this.lock=!1}}))}stop(){var e;(e=this.intervalScheduler)===null||e===void 0||e.stop(),this.intervalScheduler=void 0,this.removeEventListener();const t=this.makeRequestBody(this.logCapture);navigator.sendBeacon(this.url,t)}destroy(){return h(this,void 0,void 0,function*(){this.stop(),this.metadata=void 0,this.headers=void 0,this.logCapture=[],this.sequenceNumber=0,this.lock=!1,this.batchSize=0,this.intervalMs=0,this.url=void 0})}makeRequestBody(e){return JSON.stringify(Object.assign(Object.assign({},this.metadata),{logs:e}))}log(e,t){if(e<this.logLevel)return;const r=Date.now();this.logCapture.push(new f.default(this.sequenceNumber,t,r,a.default[e])),this.sequenceNumber+=1}constructor(e){this.logCapture=[],this.lock=!1,this.sequenceNumber=0;const{url:t,batchSize:r=Hh.BATCH_SIZE,intervalMs:l=Hh.INTERVAL_MS,logLevel:p=a.default.WARN,metadata:v,headers:g}=e;this.url=t,this.batchSize=r,this.intervalMs=l,this.logLevel=p,this.metadata=v,this.headers=g,this.start(),this.eventListener=()=>{this.stop()},this.addEventListener()}},"POSTLogger");c.default=n,n.BATCH_SIZE=85,n.INTERVAL_MS=2e3}).call(this,d("yLpj"))},e56k:function(N,c,d){d("ZY/g"),d("C5kU"),N.exports=d("iqsF")},eFki:function(N,c,d){"use strict";var S=this&&this.__awaiter||function(a,n,i,e){function t(r){return r instanceof i?r:new i(function(l){l(r)})}return o(t,"adopt"),new(i||(i=Promise))(function(r,l){function p(u){try{g(e.next(u))}catch(s){l(s)}}o(p,"fulfilled");function v(u){try{g(e.throw(u))}catch(s){l(s)}}o(v,"rejected");function g(u){u.done?r(u.value):t(u.value).then(p,v)}o(g,"step"),g((e=e.apply(a,n||[])).next())})};Object.defineProperty(c,"__esModule",{value:!0});const h=d("Xv43"),m=15;let f=o(class{destroy(){if(this.stop(),this.stages)for(const n of this.stages)n.destroy()}get framerate(){return this.fr}set framerate(n){this.fr=n<0?m:n}stop(){if(this.videoInput.removeEventListener("loadedmetadata",this.process),this.videoInput.srcObject=null,this.destroyInputMediaStreamAndBuffers(),this.outputMediaStream)for(const n of this.outputMediaStream.getVideoTracks())n.stop();this.lastTimeOut&&(clearTimeout(this.lastTimeOut),this.lastTimeOut=void 0),this.hasStarted&&(this.hasStarted=!1,this.forEachObserver(n=>{n.processingDidStop&&n.processingDidStop()}))}addObserver(n){this.observers.add(n)}removeObserver(n){this.observers.delete(n)}getInputMediaStream(){return S(this,void 0,void 0,function*(){return this.inputVideoStream})}getActiveOutputMediaStream(){return this.isOutputMediaStreamActive()?this.outputMediaStream:(this.outputMediaStream=this.canvasOutput.captureStream(this.framerate),this.cloneInputAudioTracksToOutput(),this.outputMediaStream)}setInputMediaStream(n){return S(this,void 0,void 0,function*(){if(!n){this.stop();return}if(n.getVideoTracks().length===0){this.logger.error("No video tracks in input media stream, ignoring");return}this.inputVideoStream=n;const i=this.inputVideoStream.getVideoTracks()[0].getSettings();this.logger.info(`processing pipeline input stream settings ${JSON.stringify(i)}`),this.canvasOutput.width=i.width,this.canvasOutput.height=i.height,this.videoInput.addEventListener("loadedmetadata",this.process),this.videoInput.srcObject=this.inputVideoStream,this.videoInput.setAttribute("playsinline","true");const e=new h.default(this.canvasInput);this.sourceBuffers.push(e),this.videoInput.load();try{yield this.videoInput.play()}catch{this.logger.warn("Video element play() overrided by another load().")}this.cloneInputAudioTracksToOutput()})}cloneInputAudioTracksToOutput(){if(!this.isOutputMediaStreamActive()||this.inputVideoStream===null){this.logger.info("Not cloning input audio tracks to output, do not have media streams ready");return}for(const n of this.outputMediaStream.getAudioTracks())this.logger.info(`Removing audio track ${n.id} from output stream`),this.outputMediaStream.removeTrack(n);for(const n of this.inputVideoStream.getAudioTracks())this.logger.info(`Adding audio track ${n.id} to output stream`),this.outputMediaStream.addTrack(n)}isOutputMediaStreamActive(){return this.outputMediaStream&&this.outputMediaStream.active}set processors(n){this.stages=n}get processors(){return this.stages}forEachObserver(n){for(const i of this.observers)setTimeout(()=>{n(i)},0)}destroyInputMediaStreamAndBuffers(){if(this.inputVideoStream)for(const n of this.inputVideoStream.getTracks())n.stop();this.inputVideoStream=null;for(const n of this.sourceBuffers)n.destroy();this.sourceBuffers=[]}constructor(n,i){this.logger=n,this.stages=i,this.fr=m,this.outputMediaStream=new MediaStream,this.videoInput=document.createElement("video"),this.canvasOutput=document.createElement("canvas"),this.outputCtx=this.canvasOutput.getContext("2d"),this.canvasInput=document.createElement("canvas"),this.inputCtx=this.canvasInput.getContext("2d"),this.inputVideoStream=null,this.sourceBuffers=[],this.destBuffers=[],this.observers=new Set,this.hasStarted=!1,this.process=e=>S(this,void 0,void 0,function*(){if(!this.inputVideoStream)return;const t=performance.now();this.videoInput.videoWidth&&(this.canvasInput.width!==this.videoInput.videoWidth&&(this.canvasInput.width=this.videoInput.videoWidth,this.canvasInput.height=this.videoInput.videoHeight,this.sourceBuffers[0].height=this.canvasInput.height,this.sourceBuffers[0].width=this.canvasInput.width,this.sourceBuffers[0].framerate=this.framerate),this.inputCtx.drawImage(this.videoInput,0,0));let r=[];r.push(this.sourceBuffers[0]);try{for(const I of this.processors)r=yield I.process(r)}catch{this.forEachObserver(M=>{M.processingDidFailToStart&&M.processingDidFailToStart()});return}this.destBuffers=r;let l;try{l=yield this.destBuffers[0].asCanvasImageSource()}catch{this.inputVideoStream&&(this.logger.info("buffers are destroyed and pipeline could not start"),this.forEachObserver(M=>{M.processingDidFailToStart&&M.processingDidFailToStart()}));return}const p=l.width,v=l.height;p!==0&&v!==0&&(this.canvasOutput.width!==p&&this.canvasOutput.height!==v&&(this.canvasOutput.width=p,this.canvasOutput.height=v),this.outputCtx.drawImage(l,0,0,p,v,0,0,p,v),this.hasStarted||(this.hasStarted=!0,this.forEachObserver(I=>{I.processingDidStart&&I.processingDidStart()})));const g=performance.now()-t,u=1e3*2/this.framerate-g,s=Math.max(0,1e3/this.framerate-g);u<=0&&this.forEachObserver(I=>{I.processingLatencyTooHigh&&I.processingLatencyTooHigh(g)}),this.lastTimeOut=setTimeout(this.process,s)})}},"DefaultVideoFrameProcessorPipeline");c.default=f},eP7z:function(N,c,d){"use strict";function S(h,m){return h<m}o(S,"baseLt"),c.a=S},eT7J:function(N){N.exports=JSON.parse('[{"name":"gray","shade":"0","hsl":{"h":0,"s":0,"l":97.25490196078431},"hex":"#f8f8f8"},{"name":"gray","shade":"5","hsl":{"h":0,"s":0,"l":91.76470588235294},"hex":"#eaeaea"},{"name":"gray","shade":"10","hsl":{"h":240,"s":3.8961038961038836,"l":84.90196078431373},"hex":"#d7d7da"},{"name":"gray","shade":"20","hsl":{"h":224.99999999999966,"s":4.000000000000013,"l":80.3921568627451},"hex":"#cbcccf"},{"name":"gray","shade":"30","hsl":{"h":240,"s":3.496503496503485,"l":71.96078431372548},"hex":"#b5b5ba"},{"name":"gray","shade":"40","hsl":{"h":240,"s":2.538071065989853,"l":61.372549019607845},"hex":"#9a9a9f"},{"name":"gray","shade":"50","hsl":{"h":263.9999999999999,"s":2.0080321285140545,"l":48.82352941176471},"hex":"#7c7a7f"},{"name":"gray","shade":"60","hsl":{"h":260.0000000000002,"s":1.587301587301589,"l":37.05882352941177},"hex":"#5e5d60"},{"name":"gray","shade":"70","hsl":{"h":260,"s":2.158273381294966,"l":27.254901960784316},"hex":"#454447"},{"name":"gray","shade":"80","hsl":{"h":300,"s":1.9999999999999998,"l":19.607843137254903},"hex":"#333133"},{"name":"gray","shade":"90","hsl":{"h":300,"s":2.7027027027027026,"l":14.509803921568626},"hex":"#262426"},{"name":"gray","shade":"100","hsl":{"h":300,"s":1.754385964912281,"l":11.176470588235293},"hex":"#1d1c1d"},{"name":"tomato","shade":"0","hsl":{"h":0,"s":100,"l":96.078431372549},"hex":"#ffebeb"},{"name":"tomato","shade":"5","hsl":{"h":1.4285714285714448,"s":100,"l":91.76470588235294},"hex":"#ffd6d5"},{"name":"tomato","shade":"10","hsl":{"h":3.692307692307679,"s":100,"l":87.25490196078431},"hex":"#ffc2be"},{"name":"tomato","shade":"20","hsl":{"h":5.555555555555543,"s":98.18181818181819,"l":78.43137254901961},"hex":"#fe9c92"},{"name":"tomato","shade":"30","hsl":{"h":8.028169014084483,"s":89.873417721519,"l":69.01960784313725},"hex":"#f77c69"},{"name":"tomato","shade":"40","hsl":{"h":10.059880239520965,"s":82.26600985221675,"l":60.196078431372555},"hex":"#ed6246"},{"name":"tomato","shade":"50","hsl":{"h":11.73184357541902,"s":73.06122448979592,"l":51.9607843137255},"hex":"#de4e2b"},{"name":"tomato","shade":"60","hsl":{"h":11.228070175438575,"s":75.33039647577094,"l":44.509803921568626},"hex":"#c73c1c"},{"name":"tomato","shade":"70","hsl":{"h":10.838709677419331,"s":81.15183246073299,"l":37.450980392156865},"hex":"#ad2e12"},{"name":"tomato","shade":"80","hsl":{"h":9.850746268656735,"s":84.81012658227847,"l":30.980392156862745},"hex":"#92220c"},{"name":"tomato","shade":"90","hsl":{"h":9.189189189189165,"s":86.04651162790698,"l":25.294117647058822},"hex":"#781a09"},{"name":"tomato","shade":"100","hsl":{"h":8,"s":86.53846153846153,"l":20.392156862745097},"hex":"#611307"},{"name":"paprika","shade":"0","hsl":{"h":15,"s":100,"l":96.078431372549},"hex":"#fff0eb"},{"name":"paprika","shade":"5","hsl":{"h":15.78947368421052,"s":82.6086956521739,"l":90.98039215686275},"hex":"#fbdfd5"},{"name":"paprika","shade":"10","hsl":{"h":16.27118644067798,"s":72.83950617283955,"l":84.11764705882354},"hex":"#f4c9b9"},{"name":"paprika","shade":"20","hsl":{"h":16.551724137931046,"s":65.41353383458645,"l":73.92156862745098},"hex":"#e8a991"},{"name":"paprika","shade":"30","hsl":{"h":16.41025641025641,"s":63.934426229508205,"l":64.11764705882352},"hex":"#de8969"},{"name":"paprika","shade":"40","hsl":{"h":16.13793103448279,"s":67.44186046511629,"l":57.84313725490197},"hex":"#dc724b"},{"name":"paprika","shade":"50","hsl":{"h":16.265060240963862,"s":66.93548387096774,"l":51.37254901960784},"hex":"#d65d30"},{"name":"paprika","shade":"60","hsl":{"h":16.27118644067798,"s":76.62337662337664,"l":45.294117647058826},"hex":"#cc4b1b"},{"name":"paprika","shade":"70","hsl":{"h":16.457142857142856,"s":87.93969849246233,"l":39.01960784313725},"hex":"#bb3c0c"},{"name":"paprika","shade":"80","hsl":{"h":16.70886075949369,"s":95.18072289156628,"l":32.549019607843135},"hex":"#a23004"},{"name":"paprika","shade":"90","hsl":{"h":16.818181818181813,"s":100,"l":25.882352941176475},"hex":"#842500"},{"name":"paprika","shade":"100","hsl":{"h":16.701030927835063,"s":100,"l":19.019607843137255},"hex":"#611b00"},{"name":"tangerine","shade":"0","hsl":{"h":18.461538461538453,"s":100,"l":94.90196078431372},"hex":"#ffede5"},{"name":"tangerine","shade":"5","hsl":{"h":19.024390243902417,"s":100,"l":91.9607843137255},"hex":"#ffe3d6"},{"name":"tangerine","shade":"10","hsl":{"h":20.625,"s":96.96969696969698,"l":87.05882352941177},"hex":"#fed4be"},{"name":"tangerine","shade":"20","hsl":{"h":20.588235294117624,"s":92.72727272727272,"l":78.43137254901961},"hex":"#fbb895"},{"name":"tangerine","shade":"30","hsl":{"h":20.14285714285711,"s":90.90909090909093,"l":69.80392156862744},"hex":"#f89b6c"},{"name":"tangerine","shade":"40","hsl":{"h":20.46242774566474,"s":86.93467336683416,"l":60.98039215686274},"hex":"#f28045"},{"name":"tangerine","shade":"50","hsl":{"h":20.51020408163265,"s":81.66666666666666,"l":52.94117647058824},"hex":"#e96825"},{"name":"tangerine","shade":"60","hsl":{"h":20.769230769230774,"s":89.6551724137931,"l":45.490196078431374},"hex":"#dc540c"},{"name":"tangerine","shade":"70","hsl":{"h":21,"s":100,"l":39.21568627450981},"hex":"#c84600"},{"name":"tangerine","shade":"80","hsl":{"h":21.279069767441854,"s":100,"l":33.72549019607843},"hex":"#ac3d00"},{"name":"tangerine","shade":"90","hsl":{"h":21.58273381294964,"s":100,"l":27.254901960784313},"hex":"#8b3200"},{"name":"tangerine","shade":"100","hsl":{"h":21.764705882352928,"s":100,"l":20},"hex":"#662500"},{"name":"campfire","shade":"0","hsl":{"h":34.83870967741933,"s":100,"l":93.92156862745098},"hex":"#fff2e0"},{"name":"campfire","shade":"5","hsl":{"h":34.28571428571428,"s":94.02985074626868,"l":86.86274509803921},"hex":"#fde2be"},{"name":"campfire","shade":"10","hsl":{"h":33.39622641509436,"s":92.98245614035088,"l":77.6470588235294},"hex":"#fbcc91"},{"name":"campfire","shade":"20","hsl":{"h":32.68965517241378,"s":88.95705521472394,"l":68.03921568627452},"hex":"#f6b465"},{"name":"campfire","shade":"30","hsl":{"h":31.818181818181813,"s":84.61538461538463,"l":54.117647058823536},"hex":"#ed9027"},{"name":"campfire","shade":"40","hsl":{"h":31.291866028708114,"s":88.93617021276596,"l":46.07843137254902},"hex":"#de7a0d"},{"name":"campfire","shade":"50","hsl":{"h":31.024390243902417,"s":98.08612440191389,"l":40.98039215686274},"hex":"#cf6c02"},{"name":"campfire","shade":"60","hsl":{"h":30.638297872340445,"s":100,"l":36.86274509803922},"hex":"#bc6000"},{"name":"campfire","shade":"70","hsl":{"h":30.18404907975463,"s":100,"l":31.960784313725487},"hex":"#a35200"},{"name":"campfire","shade":"80","hsl":{"h":30,"s":100,"l":26.27450980392157},"hex":"#864300"},{"name":"campfire","shade":"90","hsl":{"h":30,"s":100,"l":20.392156862745097},"hex":"#683400"},{"name":"campfire","shade":"100","hsl":{"h":29.610389610389632,"s":100,"l":15.098039215686274},"hex":"#4d2600"},{"name":"honeycomb","shade":"0","hsl":{"h":42.85714285714283,"s":85.36585365853664,"l":91.9607843137255},"hex":"#fcf2d9"},{"name":"honeycomb","shade":"5","hsl":{"h":41.20481927710841,"s":95.40229885057472,"l":82.94117647058823},"hex":"#fde3aa"},{"name":"honeycomb","shade":"10","hsl":{"h":40.465116279069775,"s":100,"l":74.70588235294117},"hex":"#ffd57e"},{"name":"honeycomb","shade":"20","hsl":{"h":40.1351351351351,"s":87.05882352941178,"l":66.66666666666667},"hex":"#f4c360"},{"name":"honeycomb","shade":"30","hsl":{"h":41.68421052631578,"s":83.33333333333334,"l":55.294117647058826},"hex":"#ecb22e"},{"name":"honeycomb","shade":"40","hsl":{"h":40.821917808219155,"s":94.8051948051948,"l":45.294117647058826},"hex":"#e19b06"},{"name":"honeycomb","shade":"50","hsl":{"h":40.094786729857844,"s":100,"l":41.37254901960784},"hex":"#d38d00"},{"name":"honeycomb","shade":"60","hsl":{"h":39.6875,"s":100,"l":37.64705882352941},"hex":"#c07f00"},{"name":"honeycomb","shade":"70","hsl":{"h":39.28571428571428,"s":100,"l":32.94117647058823},"hex":"#a86e00"},{"name":"honeycomb","shade":"80","hsl":{"h":38.450704225352126,"s":100,"l":27.84313725490196},"hex":"#8e5b00"},{"name":"honeycomb","shade":"90","hsl":{"h":38.086956521739125,"s":100,"l":22.54901960784314},"hex":"#734900"},{"name":"honeycomb","shade":"100","hsl":{"h":38.42696629213481,"s":100,"l":17.45098039215686},"hex":"#593900"},{"name":"sunflower","shade":"0","hsl":{"h":50.32258064516128,"s":100,"l":93.92156862745098},"hex":"#fffae0"},{"name":"sunflower","shade":"5","hsl":{"h":50.7042253521127,"s":100,"l":86.07843137254902},"hex":"#fff4b8"},{"name":"sunflower","shade":"10","hsl":{"h":50.95238095238096,"s":100,"l":75.29411764705883},"hex":"#ffec81"},{"name":"sunflower","shade":"20","hsl":{"h":47.9396984924623,"s":100,"l":60.98039215686275},"hex":"#ffd738"},{"name":"sunflower","shade":"30","hsl":{"h":46.588235294117624,"s":100,"l":50},"hex":"#ffc600"},{"name":"sunflower","shade":"40","hsl":{"h":46.05809128630705,"s":100,"l":47.25490196078431},"hex":"#f1b900"},{"name":"sunflower","shade":"50","hsl":{"h":45.67567567567568,"s":100,"l":43.529411764705884},"hex":"#dea900"},{"name":"sunflower","shade":"60","hsl":{"h":45.22613065326635,"s":100,"l":39.01960784313726},"hex":"#c79600"},{"name":"sunflower","shade":"70","hsl":{"h":45.176470588235304,"s":100,"l":33.33333333333333},"hex":"#aa8000"},{"name":"sunflower","shade":"80","hsl":{"h":44.89208633093523,"s":100,"l":27.254901960784313},"hex":"#8b6800"},{"name":"sunflower","shade":"90","hsl":{"h":44.85981308411215,"s":100,"l":20.980392156862745},"hex":"#6b5000"},{"name":"sunflower","shade":"100","hsl":{"h":44.41558441558442,"s":100,"l":15.098039215686274},"hex":"#4d3900"},{"name":"grass","shade":"0","hsl":{"h":78.33333333333331,"s":100,"l":92.94117647058823},"hex":"#f4ffdb"},{"name":"grass","shade":"5","hsl":{"h":75.73770491803276,"s":75.30864197530869,"l":84.11764705882354},"hex":"#e5f5b8"},{"name":"grass","shade":"10","hsl":{"h":75.78947368421052,"s":70.37037037037034,"l":73.52941176470588},"hex":"#d2eb8c"},{"name":"grass","shade":"20","hsl":{"h":76.53543307086613,"s":61.352657004830924,"l":59.411764705882355},"hex":"#b4d758"},{"name":"grass","shade":"30","hsl":{"h":77.39130434782606,"s":54.761904761904766,"l":49.41176470588235},"hex":"#9bc339"},{"name":"grass","shade":"40","hsl":{"h":78.39416058394158,"s":64.31924882629107,"l":41.76470588235294},"hex":"#85af26"},{"name":"grass","shade":"50","hsl":{"h":79.38461538461542,"s":71.42857142857144,"l":35.68627450980392},"hex":"#729c1a"},{"name":"grass","shade":"60","hsl":{"h":80.51282051282055,"s":75.48387096774194,"l":30.392156862745097},"hex":"#608813"},{"name":"grass","shade":"70","hsl":{"h":81.1764705882353,"s":78.46153846153847,"l":25.49019607843137},"hex":"#50740e"},{"name":"grass","shade":"80","hsl":{"h":82.32558139534888,"s":81.13207547169813,"l":20.784313725490193},"hex":"#40600a"},{"name":"grass","shade":"90","hsl":{"h":82.94117647058823,"s":80.95238095238095,"l":16.470588235294116},"hex":"#324c08"},{"name":"grass","shade":"100","hsl":{"h":84,"s":80.64516129032258,"l":12.156862745098039},"hex":"#243806"},{"name":"cilantro","shade":"0","hsl":{"h":100.90909090909088,"s":100,"l":95.68627450980391},"hex":"#f0ffe9"},{"name":"cilantro","shade":"5","hsl":{"h":100,"s":69.23076923076928,"l":87.25490196078431},"hex":"#d7f5c8"},{"name":"cilantro","shade":"10","hsl":{"h":100,"s":63.46153846153848,"l":79.6078431372549},"hex":"#c0ecaa"},{"name":"cilantro","shade":"20","hsl":{"h":100.80000000000001,"s":56.17977528089888,"l":65.09803921568627},"hex":"#94d874"},{"name":"cilantro","shade":"30","hsl":{"h":101.95121951219511,"s":51.46443514644351,"l":53.13725490196079},"hex":"#6fc54a"},{"name":"cilantro","shade":"40","hsl":{"h":103.11111111111109,"s":61.64383561643836,"l":42.94117647058823},"hex":"#50b12a"},{"name":"cilantro","shade":"50","hsl":{"h":105.1094890510949,"s":76.536312849162,"l":35.09803921568628},"hex":"#379e15"},{"name":"cilantro","shade":"60","hsl":{"h":107.72727272727275,"s":90.41095890410958,"l":28.627450980392155},"hex":"#228b07"},{"name":"cilantro","shade":"70","hsl":{"h":110.42016806722688,"s":100,"l":23.333333333333332},"hex":"#137700"},{"name":"cilantro","shade":"80","hsl":{"h":113.39999999999998,"s":100,"l":19.607843137254903},"hex":"#0b6400"},{"name":"cilantro","shade":"90","hsl":{"h":117.03703703703707,"s":100,"l":15.88235294117647},"hex":"#045100"},{"name":"cilantro","shade":"100","hsl":{"h":120,"s":100,"l":11.96078431372549},"hex":"#003d00"},{"name":"mojito","shade":"0","hsl":{"h":128.18181818181824,"s":100,"l":95.68627450980391},"hex":"#e9ffec"},{"name":"mojito","shade":"5","hsl":{"h":131.0526315789474,"s":67.8571428571429,"l":89.01960784313725},"hex":"#d0f6d7"},{"name":"mojito","shade":"10","hsl":{"h":131.1111111111111,"s":61.363636363636374,"l":82.74509803921568},"hex":"#b8eec2"},{"name":"mojito","shade":"20","hsl":{"h":134.11764705882354,"s":54.83870967741936,"l":69.6078431372549},"hex":"#87dc9b"},{"name":"mojito","shade":"30","hsl":{"h":136.9811320754717,"s":49.999999999999986,"l":58.4313725490196},"hex":"#60ca7e"},{"name":"mojito","shade":"40","hsl":{"h":138.97435897435895,"s":46.613545816733065,"l":49.21568627450981},"hex":"#43b868"},{"name":"mojito","shade":"50","hsl":{"h":141.1764705882353,"s":55.86854460093896,"l":41.76470588235294},"hex":"#2fa659"},{"name":"mojito","shade":"60","hsl":{"h":142.43478260869563,"s":62.841530054644814,"l":35.88235294117647},"hex":"#22954d"},{"name":"mojito","shade":"70","hsl":{"h":143.42857142857144,"s":66.87898089171975,"l":30.784313725490193},"hex":"#1a8343"},{"name":"mojito","shade":"80","hsl":{"h":143.44827586206895,"s":62.58992805755397,"l":27.254901960784313},"hex":"#1a713c"},{"name":"mojito","shade":"90","hsl":{"h":143.66197183098592,"s":59.66386554621849,"l":23.333333333333332},"hex":"#185f34"},{"name":"mojito","shade":"100","hsl":{"h":149.56521739130437,"s":100,"l":13.529411764705882},"hex":"#004522"},{"name":"jade","shade":"0","hsl":{"h":154.28571428571422,"s":100,"l":94.50980392156862},"hex":"#e3fff3"},{"name":"jade","shade":"5","hsl":{"h":154.11764705882354,"s":73.9130434782609,"l":86.47058823529412},"hex":"#c3f6e0"},{"name":"jade","shade":"10","hsl":{"h":154.16666666666674,"s":66.66666666666667,"l":78.82352941176471},"hex":"#a5edce"},{"name":"jade","shade":"20","hsl":{"h":154.36893203883494,"s":58.857142857142854,"l":65.68627450980392},"hex":"#74dbaf"},{"name":"jade","shade":"30","hsl":{"h":154.8387096774194,"s":52.991452991452995,"l":54.11764705882353},"hex":"#4cc894"},{"name":"jade","shade":"40","hsl":{"h":154.8529411764706,"s":59.64912280701754,"l":44.70588235294118},"hex":"#2eb67d"},{"name":"jade","shade":"50","hsl":{"h":157.38461538461536,"s":67.0103092783505,"l":38.03921568627451},"hex":"#20a271"},{"name":"jade","shade":"60","hsl":{"h":159,"s":72.28915662650603,"l":32.549019607843135},"hex":"#178f65"},{"name":"jade","shade":"70","hsl":{"h":164.26229508196718,"s":100,"l":23.92156862745098},"hex":"#007a5a"},{"name":"jade","shade":"80","hsl":{"h":162.47191011235952,"s":76.06837606837605,"l":22.941176470588236},"hex":"#0e674d"},{"name":"jade","shade":"90","hsl":{"h":163.94366197183103,"s":74.73684210526315,"l":18.627450980392158},"hex":"#0c5340"},{"name":"jade","shade":"100","hsl":{"h":164.44444444444446,"s":72.97297297297298,"l":14.509803921568626},"hex":"#0a4032"},{"name":"aquarium","shade":"0","hsl":{"h":180,"s":100,"l":94.50980392156862},"hex":"#e3ffff"},{"name":"aquarium","shade":"5","hsl":{"h":181.20000000000005,"s":75.7575757575758,"l":87.05882352941177},"hex":"#c5f6f7"},{"name":"aquarium","shade":"10","hsl":{"h":181.71428571428578,"s":68.62745098039215,"l":80},"hex":"#a9edef"},{"name":"aquarium","shade":"20","hsl":{"h":183.5643564356435,"s":59.76331360946746,"l":66.86274509803923},"hex":"#78d7dd"},{"name":"aquarium","shade":"30","hsl":{"h":185.08474576271192,"s":52.21238938053096,"l":55.68627450980392},"hex":"#53bfc9"},{"name":"aquarium","shade":"40","hsl":{"h":186.61417322834643,"s":53.58649789029536,"l":46.470588235294116},"hex":"#37a8b6"},{"name":"aquarium","shade":"50","hsl":{"h":187.55905511811022,"s":64.46700507614213,"l":38.627450980392155},"hex":"#2392a2"},{"name":"aquarium","shade":"60","hsl":{"h":188.5,"s":73.17073170731707,"l":32.15686274509804},"hex":"#167d8e"},{"name":"aquarium","shade":"70","hsl":{"h":189.27272727272725,"s":80.88235294117648,"l":26.666666666666668},"hex":"#0d6a7b"},{"name":"aquarium","shade":"80","hsl":{"h":189.47368421052636,"s":85.58558558558559,"l":21.764705882352942},"hex":"#085867"},{"name":"aquarium","shade":"90","hsl":{"h":189.23076923076928,"s":88.63636363636364,"l":17.254901960784313},"hex":"#054753"},{"name":"aquarium","shade":"100","hsl":{"h":189.8360655737705,"s":91.04477611940297,"l":13.137254901960786},"hex":"#033640"},{"name":"lagoon","shade":"0","hsl":{"h":195,"s":100,"l":94.50980392156862},"hex":"#e3f8ff"},{"name":"lagoon","shade":"5","hsl":{"h":193.77049180327867,"s":96.82539682539684,"l":87.6470588235294},"hex":"#c1f0fe"},{"name":"lagoon","shade":"10","hsl":{"h":193.4042553191489,"s":95.9183673469388,"l":80.7843137254902},"hex":"#9fe8fd"},{"name":"lagoon","shade":"20","hsl":{"h":193.65517241379314,"s":91.19496855345913,"l":68.82352941176471},"hex":"#67d7f8"},{"name":"lagoon","shade":"30","hsl":{"h":193.8709677419355,"s":86.1111111111111,"l":57.647058823529406},"hex":"#36c5f0"},{"name":"lagoon","shade":"40","hsl":{"h":195.36231884057975,"s":83.80566801619432,"l":51.56862745098039},"hex":"#1cb6eb"},{"name":"lagoon","shade":"50","hsl":{"h":196.4467005076142,"s":87.55555555555556,"l":44.11764705882353},"hex":"#0e9dd3"},{"name":"lagoon","shade":"60","hsl":{"h":197.74193548387098,"s":95.87628865979383,"l":38.03921568627451},"hex":"#0487be"},{"name":"lagoon","shade":"70","hsl":{"h":198.65853658536582,"s":100,"l":32.15686274509804},"hex":"#0071a4"},{"name":"lagoon","shade":"80","hsl":{"h":201.96428571428567,"s":83.5820895522388,"l":26.27450980392157},"hex":"#0b527b"},{"name":"lagoon","shade":"90","hsl":{"h":207.7611940298508,"s":54.47154471544715,"l":24.11764705882353},"hex":"#1c405f"},{"name":"lagoon","shade":"100","hsl":{"h":204.6428571428571,"s":68.29268292682927,"l":16.07843137254902},"hex":"#0d2e45"},{"name":"ocean","shade":"0","hsl":{"h":202.5,"s":92.30769230769234,"l":94.90196078431372},"hex":"#e6f5fe"},{"name":"ocean","shade":"5","hsl":{"h":203.38983050847457,"s":93.65079365079367,"l":87.6470588235294},"hex":"#c2e6fd"},{"name":"ocean","shade":"10","hsl":{"h":203.47826086956525,"s":90.19607843137256,"l":80},"hex":"#9ed6fa"},{"name":"ocean","shade":"20","hsl":{"h":205.3125,"s":84.21052631578945,"l":70.19607843137254},"hex":"#73bdf3"},{"name":"ocean","shade":"30","hsl":{"h":206,"s":78.12499999999997,"l":62.35294117647059},"hex":"#54a9ea"},{"name":"ocean","shade":"40","hsl":{"h":205.92592592592587,"s":70.43478260869566,"l":54.90196078431373},"hex":"#3b97dd"},{"name":"ocean","shade":"50","hsl":{"h":206.34146341463418,"s":66.66666666666667,"l":48.23529411764706},"hex":"#2985cd"},{"name":"ocean","shade":"60","hsl":{"h":206.2025316455696,"s":74.52830188679246,"l":41.56862745098039},"hex":"#1b74b9"},{"name":"ocean","shade":"70","hsl":{"h":206.0689655172414,"s":80.11049723756906,"l":35.49019607843137},"hex":"#1264a3"},{"name":"ocean","shade":"80","hsl":{"h":209.76744186046517,"s":85.43046357615896,"l":29.607843137254903},"hex":"#0b4c8c"},{"name":"ocean","shade":"90","hsl":{"h":212.2641509433962,"s":85.48387096774194,"l":24.313725490196077},"hex":"#093a73"},{"name":"ocean","shade":"100","hsl":{"h":219.71830985915494,"s":66.35514018691589,"l":20.98039215686274},"hex":"#122a59"},{"name":"indigo","shade":"0","hsl":{"h":225.0000000000001,"s":66.66666666666677,"l":96.47058823529412},"hex":"#f0f3fc"},{"name":"indigo","shade":"5","hsl":{"h":226,"s":75,"l":92.15686274509804},"hex":"#dce3fa"},{"name":"indigo","shade":"10","hsl":{"h":225,"s":77.41935483870971,"l":87.84313725490196},"hex":"#c8d4f8"},{"name":"indigo","shade":"20","hsl":{"h":226.26506024096386,"s":77.5700934579439,"l":79.01960784313725},"hex":"#a0b3f3"},{"name":"indigo","shade":"30","hsl":{"h":226.90909090909088,"s":73.3333333333333,"l":70.58823529411764},"hex":"#7d95eb"},{"name":"indigo","shade":"40","hsl":{"h":227.0769230769231,"s":68.42105263157893,"l":62.745098039215684},"hex":"#5f7be1"},{"name":"indigo","shade":"50","hsl":{"h":227.82608695652175,"s":60.52631578947367,"l":55.294117647058826},"hex":"#4864d2"},{"name":"indigo","shade":"60","hsl":{"h":228.26086956521738,"s":56.09756097560975,"l":48.23529411764706},"hex":"#3651c0"},{"name":"indigo","shade":"70","hsl":{"h":228.83720930232562,"s":61.72248803827751,"l":40.98039215686274},"hex":"#2840a9"},{"name":"indigo","shade":"80","hsl":{"h":229.3805309734513,"s":65.3179190751445,"l":33.92156862745098},"hex":"#1e328f"},{"name":"indigo","shade":"90","hsl":{"h":229.41176470588243,"s":75,"l":26.666666666666668},"hex":"#112377"},{"name":"indigo","shade":"100","hsl":{"h":229.77272727272725,"s":83.01886792452831,"l":20.784313725490193},"hex":"#091861"},{"name":"aubergine","shade":"0","hsl":{"h":280,"s":100,"l":96.47058823529412},"hex":"#f9edff"},{"name":"aubergine","shade":"5","hsl":{"h":280,"s":100,"l":94.70588235294117},"hex":"#f6e4ff"},{"name":"aubergine","shade":"10","hsl":{"h":282.1621621621622,"s":100,"l":92.74509803921569},"hex":"#f4daff"},{"name":"aubergine","shade":"20","hsl":{"h":283.54838709677415,"s":88.57142857142857,"l":86.27450980392157},"hex":"#eabdfb"},{"name":"aubergine","shade":"30","hsl":{"h":285.17647058823536,"s":79.43925233644865,"l":79.01960784313727},"hex":"#df9ff4"},{"name":"aubergine","shade":"40","hsl":{"h":287.23404255319144,"s":66.19718309859154,"l":72.15686274509804},"hex":"#d389e7"},{"name":"aubergine","shade":"50","hsl":{"h":290.52631578947376,"s":51.91256830601091,"l":64.11764705882352},"hex":"#c474d3"},{"name":"aubergine","shade":"60","hsl":{"h":292.42105263157896,"s":37.254901960784316,"l":50},"hex":"#a350af"},{"name":"aubergine","shade":"70","hsl":{"h":294.8780487804878,"s":42.2680412371134,"l":38.03921568627451},"hex":"#83388a"},{"name":"aubergine","shade":"80","hsl":{"h":293.51351351351354,"s":54.41176470588235,"l":26.666666666666668},"hex":"#611f69"},{"name":"aubergine","shade":"90","hsl":{"h":298.8888888888889,"s":56.250000000000014,"l":18.823529411764707},"hex":"#4a154b"},{"name":"aubergine","shade":"100","hsl":{"h":298.8461538461538,"s":81.25,"l":12.549019607843137},"hex":"#39063a"},{"name":"sangria","shade":"0","hsl":{"h":336,"s":100,"l":97.05882352941177},"hex":"#fff0f6"},{"name":"sangria","shade":"5","hsl":{"h":333.5999999999999,"s":71.42857142857144,"l":93.13725490196079},"hex":"#fae1ec"},{"name":"sangria","shade":"10","hsl":{"h":333.33333333333337,"s":66.66666666666671,"l":89.41176470588235},"hex":"#f6d2e2"},{"name":"sangria","shade":"20","hsl":{"h":332.63157894736844,"s":61.290322580645174,"l":81.76470588235294},"hex":"#edb4ce"},{"name":"sangria","shade":"30","hsl":{"h":332.36842105263156,"s":56.716417910447745,"l":73.72549019607844},"hex":"#e296b9"},{"name":"sangria","shade":"40","hsl":{"h":331.64835164835165,"s":50.837988826815625,"l":64.90196078431372},"hex":"#d378a3"},{"name":"sangria","shade":"50","hsl":{"h":330.8910891089108,"s":44.49339207048458,"l":55.490196078431374},"hex":"#c05b8c"},{"name":"sangria","shade":"60","hsl":{"h":330.2803738317757,"s":42.29249011857708,"l":49.6078431372549},"hex":"#b4497e"},{"name":"sangria","shade":"70","hsl":{"h":329.69072164948454,"s":48.743718592964825,"l":39.01960784313726},"hex":"#943364"},{"name":"sangria","shade":"80","hsl":{"h":330,"s":51.21951219512195,"l":32.15686274509804},"hex":"#7c2852"},{"name":"sangria","shade":"90","hsl":{"h":330.7894736842105,"s":67.85714285714288,"l":21.96078431372549},"hex":"#5e1237"},{"name":"sangria","shade":"100","hsl":{"h":331.16883116883116,"s":100,"l":15.098039215686274},"hex":"#4d0025"},{"name":"flamingo","shade":"0","hsl":{"h":341.7391304347826,"s":100,"l":95.49019607843137},"hex":"#ffe8ef"},{"name":"flamingo","shade":"5","hsl":{"h":339.5121951219512,"s":100,"l":91.9607843137255},"hex":"#ffd6e4"},{"name":"flamingo","shade":"10","hsl":{"h":338.6440677966102,"s":100,"l":88.4313725490196},"hex":"#ffc4d9"},{"name":"flamingo","shade":"20","hsl":{"h":339.78260869565224,"s":100,"l":81.96078431372548},"hex":"#ffa3c2"},{"name":"flamingo","shade":"30","hsl":{"h":340.4761904761905,"s":100,"l":75.29411764705883},"hex":"#ff81aa"},{"name":"flamingo","shade":"40","hsl":{"h":341.0322580645161,"s":93.93939393939394,"l":67.64705882352942},"hex":"#fa5f90"},{"name":"flamingo","shade":"50","hsl":{"h":341.3559322033898,"s":84.688995215311,"l":59.01960784313726},"hex":"#ef3e75"},{"name":"flamingo","shade":"60","hsl":{"h":341.4432989690722,"s":76.37795275590551,"l":49.80392156862745},"hex":"#e01e5a"},{"name":"flamingo","shade":"70","hsl":{"h":343.35260115606934,"s":81.99052132701424,"l":41.37254901960784},"hex":"#c01343"},{"name":"flamingo","shade":"80","hsl":{"h":345.7142857142858,"s":86.98224852071007,"l":33.13725490196078},"hex":"#9e0b2e"},{"name":"flamingo","shade":"90","hsl":{"h":347.8991596638655,"s":93.7007874015748,"l":24.901960784313726},"hex":"#7b041c"},{"name":"flamingo","shade":"100","hsl":{"h":349.8876404494382,"s":100,"l":17.45098039215686},"hex":"#59000f"},{"name":"rose","shade":"0","hsl":{"h":354.78260869565224,"s":100,"l":95.49019607843137},"hex":"#ffe8ea"},{"name":"rose","shade":"5","hsl":{"h":354.7058823529412,"s":100,"l":93.33333333333333},"hex":"#ffdde0"},{"name":"rose","shade":"10","hsl":{"h":353.47826086956525,"s":100,"l":90.98039215686275},"hex":"#ffd1d6"},{"name":"rose","shade":"20","hsl":{"h":354.2465753424658,"s":100,"l":85.68627450980392},"hex":"#ffb6bd"},{"name":"rose","shade":"30","hsl":{"h":354.1935483870968,"s":90.29126213592234,"l":79.80392156862746},"hex":"#fa9da6"},{"name":"rose","shade":"40","hsl":{"h":355.2380952380952,"s":92.64705882352942,"l":73.33333333333333},"hex":"#fa7c86"},{"name":"rose","shade":"50","hsl":{"h":355.8904109589041,"s":84.88372093023254,"l":66.27450980392156},"hex":"#f2606a"},{"name":"rose","shade":"60","hsl":{"h":356.7567567567568,"s":66.07142857142857,"l":56.07843137254902},"hex":"#d9454d"},{"name":"rose","shade":"70","hsl":{"h":357.06293706293707,"s":61.90476190476192,"l":45.29411764705882},"hex":"#bb2c33"},{"name":"rose","shade":"80","hsl":{"h":357.948717948718,"s":66.85714285714285,"l":34.31372549019608},"hex":"#921d21"},{"name":"rose","shade":"90","hsl":{"h":358.37837837837833,"s":84.73282442748092,"l":25.68627450980392},"hex":"#790a0d"},{"name":"rose","shade":"100","hsl":{"h":359.32584269662925,"s":100,"l":17.45098039215686},"hex":"#590001"},{"name":"horchata","shade":"0","hsl":{"h":33.75,"s":42.10526315789479,"l":92.54901960784314},"hex":"#f4ede4"},{"name":"horchata","shade":"5","hsl":{"h":33.75,"s":45.71428571428573,"l":86.27450980392157},"hex":"#ecdecc"},{"name":"horchata","shade":"10","hsl":{"h":32.608695652173935,"s":45.098039215686256,"l":80},"hex":"#e3ceb5"},{"name":"horchata","shade":"20","hsl":{"h":32.571428571428555,"s":43.20987654320987,"l":68.23529411764706},"hex":"#d1b18b"},{"name":"horchata","shade":"30","hsl":{"h":31.724137931034477,"s":40.46511627906977,"l":57.843137254901954},"hex":"#bf9668"},{"name":"horchata","shade":"40","hsl":{"h":30.927835051546367,"s":38.645418326693225,"l":49.21568627450981},"hex":"#ae7f4d"},{"name":"horchata","shade":"50","hsl":{"h":30.909090909090878,"s":46.47887323943662,"l":41.76470588235294},"hex":"#9c6c39"},{"name":"horchata","shade":"60","hsl":{"h":30.625,"s":53.333333333333336,"l":35.29411764705882},"hex":"#8a5b2a"},{"name":"horchata","shade":"70","hsl":{"h":30.337078651685374,"s":58.94039735099338,"l":29.607843137254903},"hex":"#784c1f"},{"name":"horchata","shade":"80","hsl":{"h":30,"s":61.904761904761905,"l":24.705882352941178},"hex":"#663f18"},{"name":"horchata","shade":"90","hsl":{"h":30,"s":64.70588235294117,"l":20},"hex":"#543312"},{"name":"horchata","shade":"100","hsl":{"h":30.566037735849022,"s":67.08860759493672,"l":15.490196078431373},"hex":"#42280d"}]')},eWGP:function(N,c,d){"use strict";var S=this&&this.__awaiter||function(t,r,l,p){function v(g){return g instanceof l?g:new l(function(u){u(g)})}return o(v,"adopt"),new(l||(l=Promise))(function(g,u){function s(R){try{M(p.next(R))}catch(B){u(B)}}o(s,"fulfilled");function I(R){try{M(p.throw(R))}catch(B){u(B)}}o(I,"rejected");function M(R){R.done?g(R.value):v(R.value).then(s,I)}o(M,"step"),M((p=p.apply(t,r||[])).next())})};Object.defineProperty(c,"__esModule",{value:!0}),c.VoiceFocusDeviceTransformer=void 0;const h=d("sudc"),m=d("VCUZ"),f=d("ac3q"),a=d("725M"),n=d("aMTh"),i=d("1ZHK");let e=o(class Ma{static isSupported(r,l){var p,v;const g=Ma.defaultFetchBehavior(),u=l!=null&&l.logger?new a.default(l.logger):void 0,s={fetchBehavior:g,logger:u};if(m.isIFramed()){if((l==null?void 0:l.allowIFrame)===!1)return(p=l==null?void 0:l.logger)===null||p===void 0||p.error("Amazon Voice Focus support check inside iframe: not supported."),Promise.resolve(!1);(v=l==null?void 0:l.logger)===null||v===void 0||v.warn("Amazon Voice Focus support check inside iframe: not recommended.")}return h.VoiceFocus.isSupported(Ma.augmentSpec(r),s)}static create(){let r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},p=arguments.length>2?arguments[2]:void 0,v=arguments.length>3?arguments[3]:void 0,g=arguments.length>4?arguments[4]:void 0;var u,s,I;return S(this,void 0,void 0,function*(){v&&v.Meeting.Meeting&&(v=v.Meeting);const M=((I=(s=(u=v==null?void 0:v.Meeting)===null||u===void 0?void 0:u.MeetingFeatures)===null||s===void 0?void 0:s.Audio)===null||I===void 0?void 0:I.EchoReduction)==="AVAILABLE",R=p&&p.supported===!0&&p.model.name==="ns_es"&&!M,B=r.name==="ns_es"&&!M;if(R||B)throw new Error("Echo Reduction requested but not enabled.");const j=new Ma(r,l,p);return yield j.init(),j})}static configure(){let r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return S(this,void 0,void 0,function*(){return new Ma(r,l,void 0).configure(!0)})}getConfiguration(){return this.configuration}isSupported(){return this.supported}createTransformDevice(r,l){return S(this,void 0,void 0,function*(){if(this.supported)try{const[v,g]=yield this.allocateVoiceFocus(!0),u=Object.assign(Object.assign({},l),{es:this.spec.name==="ns_es"});return new n.default(r,v,g,u)}catch{return}})}static destroyVoiceFocus(r){var l;return S(this,void 0,void 0,function*(){(l=r==null?void 0:r.vf)===null||l===void 0||l.destroy()})}static augmentSpec(r){return!r||!r.assetGroup&&!r.revisionID?Object.assign(Object.assign({},r),{assetGroup:Ma.currentSDKAssetGroup()}):r}configure(){let r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;return S(this,void 0,void 0,function*(){const l={fetchBehavior:this.fetchBehavior,preResolve:r,logger:this.vfLogger};return h.VoiceFocus.configure(this.spec,l)})}init(){var r;return S(this,void 0,void 0,function*(){this.configuration||(this.configuration=this.configure());const l=yield this.configuration;if(!l.supported){this.supported=!1;return}this.pendingVoiceFocus=this.createVoiceFocus(l,this.preload);try{yield this.pendingVoiceFocus}catch(p){(r=this.logger)===null||r===void 0||r.error(`Unable to initialize Amazon Voice Focus: ${p}`),this.supported=!1}})}createVoiceFocus(r,l){return S(this,void 0,void 0,function*(){const p=new i.default;return this.vf=yield h.VoiceFocus.init(r,{delegate:p,preload:l,logger:this.vfLogger}),[this.vf,p]})}allocateVoiceFocus(r){return S(this,void 0,void 0,function*(){if(!this.supported)throw new Error("Not supported.");if(this.pendingVoiceFocus){const l=this.pendingVoiceFocus;return this.pendingVoiceFocus=void 0,l}return this.createVoiceFocus(yield this.configuration,r)})}static majorVersion(){return f.default.sdkVersion.match(/^[1-9][0-9]*\.(?:0|[1-9][0-9]*)/)[0]}static majorMinorVersion(){return f.default.sdkVersion.match(/^[1-9][0-9]*\.(?:0|(?:[1-9][0-9]*))\.(?:0|[1-9][0-9]*)/)[0]}static currentSDKAssetGroup(){const r=this.majorVersion();return r?`sdk-${r}`:"stable-v1"}static defaultFetchBehavior(){const r=Ma.majorMinorVersion()||"unknown",l=f.default.sdkUserAgentLowResolution;return{escapedQueryString:`sdk=${encodeURIComponent(r)}&ua=${encodeURIComponent(l)}`}}constructor(r,{preload:l=!0,logger:p,fetchBehavior:v=Ma.defaultFetchBehavior()},g){this.spec=r,this.supported=!0,this.logger=p,this.vfLogger=p?new a.default(p):void 0,this.preload=l,this.fetchBehavior=v,this.spec=Ma.augmentSpec(this.spec),g&&(this.configuration=Promise.resolve(g))}},"VoiceFocusDeviceTransformer");c.VoiceFocusDeviceTransformer=e,c.default=e},eeAN:function(N,c,d){"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.uint32ArrayFrom=void 0;function S(h){if(!Uint32Array.from){for(var m=new Uint32Array(h.length),f=0;f<h.length;)m[f]=h[f],f+=1;return m}return Uint32Array.from(h)}o(S,"uint32ArrayFrom"),c.uint32ArrayFrom=S},eeYi:function(N,c,d){"use strict";var S=this&&this.__awaiter||function(l,p,v,g){function u(s){return s instanceof v?s:new v(function(I){I(s)})}return o(u,"adopt"),new(v||(v=Promise))(function(s,I){function M(j){try{B(g.next(j))}catch(A){I(A)}}o(M,"fulfilled");function R(j){try{B(g.throw(j))}catch(A){I(A)}}o(R,"rejected");function B(j){j.done?s(j.value):u(j.value).then(M,R)}o(B,"step"),B((g=g.apply(l,p||[])).next())})};Object.defineProperty(c,"__esModule",{value:!0});const h=d("K4CH"),m=d("rwhO"),f=d("Y2s1"),a=d("MFJ1"),n=d("hAj8"),i=d("6/h7"),e=d("59sL"),t=d("7H4U");let r=o(class _l{addObserver(p){this.observerSet.add(p)}removeObserver(p){this.observerSet.delete(p)}forEachObserver(p){for(const v of this.observerSet)i.default.nextTick(()=>{this.observerSet.has(v)&&p(v)})}publishEvent(p,v){return S(this,void 0,void 0,function*(){const g=Date.now();this.meetingHistoryStates.push({name:p,timestampMs:g});const u=Object.freeze(Object.assign(this.getAttributes(g),v));this.forEachObserver(s=>{s.eventDidReceive(p,u)}),this.reportEvent(p,g,v)})}reportEvent(p,v,g){var u;return S(this,void 0,void 0,function*(){let s;try{g&&(s=t.default(g)),yield(u=this.eventReporter)===null||u===void 0?void 0:u.reportEvent(v,p,s)}catch(I){this.logger.error(`Error reporting event ${I}`)}})}setupEventReporter(p,v,g){if(g)this._eventReporter=g;else if(p.urls){const u=p.urls.eventIngestionURL;if(u){this.logger.info("Event ingestion URL is present in the configuration");const{meetingId:s,credentials:{attendeeId:I,joinToken:M}}=p,R=new n.default(s,I,M),B=new f.default(R,u);this._eventReporter=new a.default(B,v)}}}getAttributes(p){var v,g;return{attendeeId:this.configuration.credentials.attendeeId,browserMajorVersion:this.browserMajorVersion,browserName:this.browserName,browserVersion:this.browserVersion,deviceName:this.deviceName,externalMeetingId:typeof this.configuration.externalMeetingId=="string"?this.configuration.externalMeetingId:"",externalUserId:this.configuration.credentials.externalUserId,meetingHistory:this.meetingHistoryStates,meetingId:this.configuration.meetingId,osName:((v=this.parserResult)===null||v===void 0?void 0:v.os.name)||_l.UNAVAILABLE,osVersion:((g=this.parserResult)===null||g===void 0?void 0:g.os.version)||_l.UNAVAILABLE,sdkVersion:e.default.sdkVersion,sdkName:e.default.sdkName,timestampMs:p}}get eventReporter(){return this._eventReporter}destroy(){return S(this,void 0,void 0,function*(){m.isDestroyable(this.eventReporter)&&(yield this.eventReporter.destroy()),this.logger=void 0,this.configuration=void 0,this._eventReporter=void 0,this.destroyed=!0})}constructor(p,v,g){var u,s,I,M,R,B,j;this.meetingHistoryStates=[],this.observerSet=new Set,this.destroyed=!1,this.logger=v,this.configuration=p,this.setupEventReporter(p,v,g);try{this.parserResult=navigator&&navigator.userAgent?new h.UAParser(navigator.userAgent).getResult():null}catch(A){this.logger.error(A.message)}this.browserMajorVersion=((I=(s=(u=this.parserResult)===null||u===void 0?void 0:u.browser)===null||s===void 0?void 0:s.version)===null||I===void 0?void 0:I.split(".")[0])||_l.UNAVAILABLE,this.browserName=((M=this.parserResult)===null||M===void 0?void 0:M.browser.name)||_l.UNAVAILABLE,this.browserVersion=((R=this.parserResult)===null||R===void 0?void 0:R.browser.version)||_l.UNAVAILABLE,this.deviceName=[((B=this.parserResult)===null||B===void 0?void 0:B.device.vendor)||"",((j=this.parserResult)===null||j===void 0?void 0:j.device.model)||""].join(" ").trim()||_l.UNAVAILABLE}},"DefaultEventController");c.default=r,r.UNAVAILABLE="Unavailable"},egzF:function(N,c,d){"use strict";var S=this&&this.__awaiter||function(r,l,p,v){function g(u){return u instanceof p?u:new p(function(s){s(u)})}return o(g,"adopt"),new(p||(p=Promise))(function(u,s){function I(B){try{R(v.next(B))}catch(j){s(j)}}o(I,"fulfilled");function M(B){try{R(v.throw(B))}catch(j){s(j)}}o(M,"rejected");function R(B){B.done?u(B.value):g(B.value).then(I,M)}o(R,"step"),R((v=v.apply(r,l||[])).next())})};Object.defineProperty(c,"__esModule",{value:!0});const h=d("94P3"),m=d("/N6y"),f=d("ppUg"),a=d("F7zz"),n=d("Aplu"),i=d("VgUL"),e=d("r3TB");let t=o(class{static createContentShareMeetingSessionConfigure(l){const p=new h.default;return p.meetingId=l.meetingId,p.externalMeetingId=l.externalMeetingId,p.urls=l.urls,p.disablePeriodicKeyframeRequestOnContentSender=l.disablePeriodicKeyframeRequestOnContentSender,p.credentials=new m.default,p.credentials.attendeeId=l.credentials.attendeeId+e.default.Modality,p.credentials.externalUserId=l.credentials.externalUserId,p.credentials.joinToken=l.credentials.joinToken+e.default.Modality,p}setContentAudioProfile(l){this.contentAudioVideo.setAudioProfile(l)}enableSimulcastForContentShare(l,p){l?(this.contentAudioVideo.configuration.enableSimulcastForUnifiedPlanChromiumBasedBrowsers=!0,this.contentAudioVideo.configuration.videoUplinkBandwidthPolicy=new i.default(this.contentAudioVideo.logger,p)):(this.contentAudioVideo.configuration.enableSimulcastForUnifiedPlanChromiumBasedBrowsers=!1,this.contentAudioVideo.configuration.videoUplinkBandwidthPolicy=void 0)}startContentShare(l){return S(this,void 0,void 0,function*(){if(l){this.mediaStreamBroker.mediaStream=l;for(let p=0;p<this.mediaStreamBroker.mediaStream.getTracks().length;p++)this.mediaStreamBroker.mediaStream.getTracks()[p].addEventListener("ended",()=>{this.stopContentShare()});this.contentAudioVideo.start()}})}startContentShareFromScreenCapture(l,p){return S(this,void 0,void 0,function*(){const v=yield this.mediaStreamBroker.acquireScreenCaptureDisplayInputStream(l,p);return yield this.startContentShare(v),v})}pauseContentShare(){this.mediaStreamBroker.toggleMediaStream(!1)&&this.forEachContentShareObserver(l=>{n.Maybe.of(l.contentShareDidPause).map(p=>p.call(l))})}unpauseContentShare(){this.mediaStreamBroker.toggleMediaStream(!0)&&this.forEachContentShareObserver(l=>{n.Maybe.of(l.contentShareDidUnpause).map(p=>p.call(l))})}setContentShareVideoCodecPreferences(l){this.contentAudioVideo.setVideoCodecSendPreferences(l)}destroy(){return S(this,void 0,void 0,function*(){this.contentAudioVideo&&(this.destroyed=!0,this.contentAudioVideo.removeObserver(this),this.stopContentShare(),this.observerQueue.clear(),this.contentAudioVideo=void 0,this.attendeeAudioVideo=void 0,this.mediaStreamBroker=void 0)})}stopContentShare(){this.contentAudioVideo.stop(),this.mediaStreamBroker.cleanup()}addContentShareObserver(l){this.observerQueue.add(l)}removeContentShareObserver(l){this.observerQueue.delete(l)}forEachContentShareObserver(l){for(const p of this.observerQueue)a.default.nextTick(()=>{this.observerQueue.has(p)&&l(p)})}audioVideoDidStart(){this.mediaStreamBroker.mediaStream.getVideoTracks().length>0&&this.contentAudioVideo.videoTileController.startLocalVideoTile()}audioVideoDidStop(l){this.mediaStreamBroker.cleanup(),this.contentShareTile&&(this.attendeeAudioVideo.videoTileController.removeVideoTile(this.contentShareTile.id()),this.contentShareTile=null),this.forEachContentShareObserver(p=>{n.Maybe.of(p.contentShareDidStop).map(v=>v.call(p))})}setupContentShareEvents(){this.attendeeAudioVideo.realtimeController.realtimeSubscribeToAttendeeIdPresence((l,p,v,g)=>{const u=new f.default(l).hasModality(f.default.MODALITY_CONTENT),s=new f.default(l).base()===this.attendeeAudioVideo.configuration.credentials.attendeeId;if(!u||!s||!p||this.contentShareTile)return;const I=this.mediaStreamBroker.mediaStream;if(I!=null&&I.getVideoTracks().length){this.contentShareTile=this.attendeeAudioVideo.videoTileController.addVideoTile();const M=I.getVideoTracks()[0];let R,B;if(M.getSettings){const j=M.getSettings();R=j.width,B=j.height}else{const j=M.getCapabilities();R=j.width,B=j.height}this.contentShareTile.bindVideoStream(this.contentAudioVideo.configuration.credentials.attendeeId,!1,I,R,B,null,this.contentAudioVideo.configuration.credentials.externalUserId)}this.forEachContentShareObserver(M=>{n.Maybe.of(M.contentShareDidStart).map(R=>R.call(M))})})}constructor(l,p,v){this.mediaStreamBroker=l,this.contentAudioVideo=p,this.attendeeAudioVideo=v,this.observerQueue=new Set,this.destroyed=!1,this.contentAudioVideo.addObserver(this),this.setupContentShareEvents()}},"DefaultContentShareController");c.default=t},ekG2:function(N,c){N.exports=function(d){return typeof d=="object"?d!==null:typeof d=="function"}},epkm:function(N,c,d){"use strict";Object.defineProperty(c,"__esModule",{value:!0});let S=o(class{},"TranscriptItem");c.default=S},evlv:function(N,c,d){"use strict";Object.defineProperty(c,"__esModule",{value:!0});let S=o(class{constructor(m,f,a){this.type=m,this.headers=f,this.payload=a}},"Message");c.default=S},ezoW:function(N,c,d){"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.SimulcastLayers=void 0;var S;(function(h){h[h.Low=0]="Low",h[h.LowAndMedium=1]="LowAndMedium",h[h.LowAndHigh=2]="LowAndHigh",h[h.Medium=3]="Medium",h[h.MediumAndHigh=4]="MediumAndHigh",h[h.High=5]="High"})(S=c.SimulcastLayers||(c.SimulcastLayers={})),c.default=S},"f/KM":function(N,c,d){"use strict";d.r(c),d.d(c,"fromUtf8",function(){return a}),d.d(c,"toUtf8",function(){return n});const S=o(i=>{const e=[];for(let t=0,r=i.length;t<r;t++){const l=i.charCodeAt(t);if(l<128)e.push(l);else if(l<2048)e.push(l>>6|192,l&63|128);else if(t+1<i.length&&(l&64512)===55296&&(i.charCodeAt(t+1)&64512)===56320){const p=65536+((l&1023)<<10)+(i.charCodeAt(++t)&1023);e.push(p>>18|240,p>>12&63|128,p>>6&63|128,p&63|128)}else e.push(l>>12|224,l>>6&63|128,l&63|128)}return Uint8Array.from(e)},"fromUtf8"),h=o(i=>{let e="";for(let t=0,r=i.length;t<r;t++){const l=i[t];if(l<128)e+=String.fromCharCode(l);else if(192<=l&&l<224){const p=i[++t];e+=String.fromCharCode((l&31)<<6|p&63)}else if(240<=l&&l<365){const v="%"+[l,i[++t],i[++t],i[++t]].map(g=>g.toString(16)).join("%");e+=decodeURIComponent(v)}else e+=String.fromCharCode((l&15)<<12|(i[++t]&63)<<6|i[++t]&63)}return e},"toUtf8");function m(i){return new TextEncoder().encode(i)}o(m,"whatwgEncodingApi_fromUtf8");function f(i){return new TextDecoder("utf-8").decode(i)}o(f,"whatwgEncodingApi_toUtf8");const a=o(i=>typeof TextEncoder=="function"?m(i):S(i),"dist_es_fromUtf8"),n=o(i=>typeof TextDecoder=="function"?f(i):h(i),"dist_es_toUtf8")},f2XL:function(N,c,d){"use strict";var S=d("dmnA"),h=S.Reader,m=S.Writer,f=S.util,a=S.roots.default||(S.roots.default={});a.SdkSignalFrame=function(){function n(i){if(i)for(var e=Object.keys(i),t=0;t<e.length;++t)i[e[t]]!=null&&(this[e[t]]=i[e[t]])}return o(n,"SdkSignalFrame"),n.prototype.timestampMs=f.Long?f.Long.fromBits(0,0,!0):0,n.prototype.type=1,n.prototype.error=null,n.prototype.join=null,n.prototype.joinack=null,n.prototype.sub=null,n.prototype.suback=null,n.prototype.index=null,n.prototype.pause=null,n.prototype.leave=null,n.prototype.leaveAck=null,n.prototype.bitrates=null,n.prototype.audioControl=null,n.prototype.audioMetadata=null,n.prototype.audioStreamIdInfo=null,n.prototype.pingPong=null,n.prototype.audioStatus=null,n.prototype.clientMetric=null,n.prototype.dataMessage=null,n.prototype.remoteVideoUpdate=null,n.prototype.primaryMeetingJoin=null,n.prototype.primaryMeetingJoinAck=null,n.prototype.primaryMeetingLeave=null,n.create=o(function(e){return new n(e)},"create"),n.encode=o(function(e,t){return t||(t=m.create()),t.uint32(8).uint64(e.timestampMs),t.uint32(16).int32(e.type),e.error!=null&&Object.hasOwnProperty.call(e,"error")&&a.SdkErrorFrame.encode(e.error,t.uint32(26).fork()).ldelim(),e.join!=null&&Object.hasOwnProperty.call(e,"join")&&a.SdkJoinFrame.encode(e.join,t.uint32(34).fork()).ldelim(),e.joinack!=null&&Object.hasOwnProperty.call(e,"joinack")&&a.SdkJoinAckFrame.encode(e.joinack,t.uint32(42).fork()).ldelim(),e.sub!=null&&Object.hasOwnProperty.call(e,"sub")&&a.SdkSubscribeFrame.encode(e.sub,t.uint32(50).fork()).ldelim(),e.suback!=null&&Object.hasOwnProperty.call(e,"suback")&&a.SdkSubscribeAckFrame.encode(e.suback,t.uint32(58).fork()).ldelim(),e.index!=null&&Object.hasOwnProperty.call(e,"index")&&a.SdkIndexFrame.encode(e.index,t.uint32(66).fork()).ldelim(),e.pause!=null&&Object.hasOwnProperty.call(e,"pause")&&a.SdkPauseResumeFrame.encode(e.pause,t.uint32(82).fork()).ldelim(),e.leave!=null&&Object.hasOwnProperty.call(e,"leave")&&a.SdkLeaveFrame.encode(e.leave,t.uint32(90).fork()).ldelim(),e.leaveAck!=null&&Object.hasOwnProperty.call(e,"leaveAck")&&a.SdkLeaveAckFrame.encode(e.leaveAck,t.uint32(98).fork()).ldelim(),e.bitrates!=null&&Object.hasOwnProperty.call(e,"bitrates")&&a.SdkBitrateFrame.encode(e.bitrates,t.uint32(114).fork()).ldelim(),e.audioControl!=null&&Object.hasOwnProperty.call(e,"audioControl")&&a.SdkAudioControlFrame.encode(e.audioControl,t.uint32(138).fork()).ldelim(),e.audioMetadata!=null&&Object.hasOwnProperty.call(e,"audioMetadata")&&a.SdkAudioMetadataFrame.encode(e.audioMetadata,t.uint32(146).fork()).ldelim(),e.audioStreamIdInfo!=null&&Object.hasOwnProperty.call(e,"audioStreamIdInfo")&&a.SdkAudioStreamIdInfoFrame.encode(e.audioStreamIdInfo,t.uint32(154).fork()).ldelim(),e.pingPong!=null&&Object.hasOwnProperty.call(e,"pingPong")&&a.SdkPingPongFrame.encode(e.pingPong,t.uint32(162).fork()).ldelim(),e.audioStatus!=null&&Object.hasOwnProperty.call(e,"audioStatus")&&a.SdkAudioStatusFrame.encode(e.audioStatus,t.uint32(170).fork()).ldelim(),e.clientMetric!=null&&Object.hasOwnProperty.call(e,"clientMetric")&&a.SdkClientMetricFrame.encode(e.clientMetric,t.uint32(178).fork()).ldelim(),e.dataMessage!=null&&Object.hasOwnProperty.call(e,"dataMessage")&&a.SdkDataMessageFrame.encode(e.dataMessage,t.uint32(186).fork()).ldelim(),e.remoteVideoUpdate!=null&&Object.hasOwnProperty.call(e,"remoteVideoUpdate")&&a.SdkRemoteVideoUpdateFrame.encode(e.remoteVideoUpdate,t.uint32(202).fork()).ldelim(),e.primaryMeetingJoin!=null&&Object.hasOwnProperty.call(e,"primaryMeetingJoin")&&a.SdkPrimaryMeetingJoinFrame.encode(e.primaryMeetingJoin,t.uint32(210).fork()).ldelim(),e.primaryMeetingJoinAck!=null&&Object.hasOwnProperty.call(e,"primaryMeetingJoinAck")&&a.SdkPrimaryMeetingJoinAckFrame.encode(e.primaryMeetingJoinAck,t.uint32(218).fork()).ldelim(),e.primaryMeetingLeave!=null&&Object.hasOwnProperty.call(e,"primaryMeetingLeave")&&a.SdkPrimaryMeetingLeaveFrame.encode(e.primaryMeetingLeave,t.uint32(226).fork()).ldelim(),t},"encode"),n.encodeDelimited=o(function(e,t){return this.encode(e,t).ldelim()},"encodeDelimited"),n.decode=o(function(e,t){e instanceof h||(e=h.create(e));for(var r=t===void 0?e.len:e.pos+t,l=new a.SdkSignalFrame;e.pos<r;){var p=e.uint32();switch(p>>>3){case 1:l.timestampMs=e.uint64();break;case 2:l.type=e.int32();break;case 3:l.error=a.SdkErrorFrame.decode(e,e.uint32());break;case 4:l.join=a.SdkJoinFrame.decode(e,e.uint32());break;case 5:l.joinack=a.SdkJoinAckFrame.decode(e,e.uint32());break;case 6:l.sub=a.SdkSubscribeFrame.decode(e,e.uint32());break;case 7:l.suback=a.SdkSubscribeAckFrame.decode(e,e.uint32());break;case 8:l.index=a.SdkIndexFrame.decode(e,e.uint32());break;case 10:l.pause=a.SdkPauseResumeFrame.decode(e,e.uint32());break;case 11:l.leave=a.SdkLeaveFrame.decode(e,e.uint32());break;case 12:l.leaveAck=a.SdkLeaveAckFrame.decode(e,e.uint32());break;case 14:l.bitrates=a.SdkBitrateFrame.decode(e,e.uint32());break;case 17:l.audioControl=a.SdkAudioControlFrame.decode(e,e.uint32());break;case 18:l.audioMetadata=a.SdkAudioMetadataFrame.decode(e,e.uint32());break;case 19:l.audioStreamIdInfo=a.SdkAudioStreamIdInfoFrame.decode(e,e.uint32());break;case 20:l.pingPong=a.SdkPingPongFrame.decode(e,e.uint32());break;case 21:l.audioStatus=a.SdkAudioStatusFrame.decode(e,e.uint32());break;case 22:l.clientMetric=a.SdkClientMetricFrame.decode(e,e.uint32());break;case 23:l.dataMessage=a.SdkDataMessageFrame.decode(e,e.uint32());break;case 25:l.remoteVideoUpdate=a.SdkRemoteVideoUpdateFrame.decode(e,e.uint32());break;case 26:l.primaryMeetingJoin=a.SdkPrimaryMeetingJoinFrame.decode(e,e.uint32());break;case 27:l.primaryMeetingJoinAck=a.SdkPrimaryMeetingJoinAckFrame.decode(e,e.uint32());break;case 28:l.primaryMeetingLeave=a.SdkPrimaryMeetingLeaveFrame.decode(e,e.uint32());break;default:e.skipType(p&7);break}}if(!l.hasOwnProperty("timestampMs"))throw f.ProtocolError("missing required 'timestampMs'",{instance:l});if(!l.hasOwnProperty("type"))throw f.ProtocolError("missing required 'type'",{instance:l});return l},"decode"),n.decodeDelimited=o(function(e){return e instanceof h||(e=new h(e)),this.decode(e,e.uint32())},"decodeDelimited"),n.verify=o(function(e){if(typeof e!="object"||e===null)return"object expected";if(!f.isInteger(e.timestampMs)&&!(e.timestampMs&&f.isInteger(e.timestampMs.low)&&f.isInteger(e.timestampMs.high)))return"timestampMs: integer|Long expected";switch(e.type){default:return"type: enum value expected";case 1:case 2:case 3:case 4:case 5:case 7:case 8:case 9:case 10:case 13:case 16:case 17:case 18:case 19:case 20:case 21:case 22:case 24:case 25:case 26:case 27:break}if(e.error!=null&&e.hasOwnProperty("error")){var t=a.SdkErrorFrame.verify(e.error);if(t)return"error."+t}if(e.join!=null&&e.hasOwnProperty("join")){var t=a.SdkJoinFrame.verify(e.join);if(t)return"join."+t}if(e.joinack!=null&&e.hasOwnProperty("joinack")){var t=a.SdkJoinAckFrame.verify(e.joinack);if(t)return"joinack."+t}if(e.sub!=null&&e.hasOwnProperty("sub")){var t=a.SdkSubscribeFrame.verify(e.sub);if(t)return"sub."+t}if(e.suback!=null&&e.hasOwnProperty("suback")){var t=a.SdkSubscribeAckFrame.verify(e.suback);if(t)return"suback."+t}if(e.index!=null&&e.hasOwnProperty("index")){var t=a.SdkIndexFrame.verify(e.index);if(t)return"index."+t}if(e.pause!=null&&e.hasOwnProperty("pause")){var t=a.SdkPauseResumeFrame.verify(e.pause);if(t)return"pause."+t}if(e.leave!=null&&e.hasOwnProperty("leave")){var t=a.SdkLeaveFrame.verify(e.leave);if(t)return"leave."+t}if(e.leaveAck!=null&&e.hasOwnProperty("leaveAck")){var t=a.SdkLeaveAckFrame.verify(e.leaveAck);if(t)return"leaveAck."+t}if(e.bitrates!=null&&e.hasOwnProperty("bitrates")){var t=a.SdkBitrateFrame.verify(e.bitrates);if(t)return"bitrates."+t}if(e.audioControl!=null&&e.hasOwnProperty("audioControl")){var t=a.SdkAudioControlFrame.verify(e.audioControl);if(t)return"audioControl."+t}if(e.audioMetadata!=null&&e.hasOwnProperty("audioMetadata")){var t=a.SdkAudioMetadataFrame.verify(e.audioMetadata);if(t)return"audioMetadata."+t}if(e.audioStreamIdInfo!=null&&e.hasOwnProperty("audioStreamIdInfo")){var t=a.SdkAudioStreamIdInfoFrame.verify(e.audioStreamIdInfo);if(t)return"audioStreamIdInfo."+t}if(e.pingPong!=null&&e.hasOwnProperty("pingPong")){var t=a.SdkPingPongFrame.verify(e.pingPong);if(t)return"pingPong."+t}if(e.audioStatus!=null&&e.hasOwnProperty("audioStatus")){var t=a.SdkAudioStatusFrame.verify(e.audioStatus);if(t)return"audioStatus."+t}if(e.clientMetric!=null&&e.hasOwnProperty("clientMetric")){var t=a.SdkClientMetricFrame.verify(e.clientMetric);if(t)return"clientMetric."+t}if(e.dataMessage!=null&&e.hasOwnProperty("dataMessage")){var t=a.SdkDataMessageFrame.verify(e.dataMessage);if(t)return"dataMessage."+t}if(e.remoteVideoUpdate!=null&&e.hasOwnProperty("remoteVideoUpdate")){var t=a.SdkRemoteVideoUpdateFrame.verify(e.remoteVideoUpdate);if(t)return"remoteVideoUpdate."+t}if(e.primaryMeetingJoin!=null&&e.hasOwnProperty("primaryMeetingJoin")){var t=a.SdkPrimaryMeetingJoinFrame.verify(e.primaryMeetingJoin);if(t)return"primaryMeetingJoin."+t}if(e.primaryMeetingJoinAck!=null&&e.hasOwnProperty("primaryMeetingJoinAck")){var t=a.SdkPrimaryMeetingJoinAckFrame.verify(e.primaryMeetingJoinAck);if(t)return"primaryMeetingJoinAck."+t}if(e.primaryMeetingLeave!=null&&e.hasOwnProperty("primaryMeetingLeave")){var t=a.SdkPrimaryMeetingLeaveFrame.verify(e.primaryMeetingLeave);if(t)return"primaryMeetingLeave."+t}return null},"verify"),n.fromObject=o(function(e){if(e instanceof a.SdkSignalFrame)return e;var t=new a.SdkSignalFrame;switch(e.timestampMs!=null&&(f.Long?(t.timestampMs=f.Long.fromValue(e.timestampMs)).unsigned=!0:typeof e.timestampMs=="string"?t.timestampMs=parseInt(e.timestampMs,10):typeof e.timestampMs=="number"?t.timestampMs=e.timestampMs:typeof e.timestampMs=="object"&&(t.timestampMs=new f.LongBits(e.timestampMs.low>>>0,e.timestampMs.high>>>0).toNumber(!0))),e.type){case"JOIN":case 1:t.type=1;break;case"JOIN_ACK":case 2:t.type=2;break;case"SUBSCRIBE":case 3:t.type=3;break;case"SUBSCRIBE_ACK":case 4:t.type=4;break;case"INDEX":case 5:t.type=5;break;case"PAUSE":case 7:t.type=7;break;case"RESUME":case 8:t.type=8;break;case"LEAVE":case 9:t.type=9;break;case"LEAVE_ACK":case 10:t.type=10;break;case"BITRATES":case 13:t.type=13;break;case"AUDIO_CONTROL":case 16:t.type=16;break;case"AUDIO_METADATA":case 17:t.type=17;break;case"AUDIO_STREAM_ID_INFO":case 18:t.type=18;break;case"PING_PONG":case 19:t.type=19;break;case"AUDIO_STATUS":case 20:t.type=20;break;case"CLIENT_METRIC":case 21:t.type=21;break;case"DATA_MESSAGE":case 22:t.type=22;break;case"REMOTE_VIDEO_UPDATE":case 24:t.type=24;break;case"PRIMARY_MEETING_JOIN":case 25:t.type=25;break;case"PRIMARY_MEETING_JOIN_ACK":case 26:t.type=26;break;case"PRIMARY_MEETING_LEAVE":case 27:t.type=27;break}if(e.error!=null){if(typeof e.error!="object")throw TypeError(".SdkSignalFrame.error: object expected");t.error=a.SdkErrorFrame.fromObject(e.error)}if(e.join!=null){if(typeof e.join!="object")throw TypeError(".SdkSignalFrame.join: object expected");t.join=a.SdkJoinFrame.fromObject(e.join)}if(e.joinack!=null){if(typeof e.joinack!="object")throw TypeError(".SdkSignalFrame.joinack: object expected");t.joinack=a.SdkJoinAckFrame.fromObject(e.joinack)}if(e.sub!=null){if(typeof e.sub!="object")throw TypeError(".SdkSignalFrame.sub: object expected");t.sub=a.SdkSubscribeFrame.fromObject(e.sub)}if(e.suback!=null){if(typeof e.suback!="object")throw TypeError(".SdkSignalFrame.suback: object expected");t.suback=a.SdkSubscribeAckFrame.fromObject(e.suback)}if(e.index!=null){if(typeof e.index!="object")throw TypeError(".SdkSignalFrame.index: object expected");t.index=a.SdkIndexFrame.fromObject(e.index)}if(e.pause!=null){if(typeof e.pause!="object")throw TypeError(".SdkSignalFrame.pause: object expected");t.pause=a.SdkPauseResumeFrame.fromObject(e.pause)}if(e.leave!=null){if(typeof e.leave!="object")throw TypeError(".SdkSignalFrame.leave: object expected");t.leave=a.SdkLeaveFrame.fromObject(e.leave)}if(e.leaveAck!=null){if(typeof e.leaveAck!="object")throw TypeError(".SdkSignalFrame.leaveAck: object expected");t.leaveAck=a.SdkLeaveAckFrame.fromObject(e.leaveAck)}if(e.bitrates!=null){if(typeof e.bitrates!="object")throw TypeError(".SdkSignalFrame.bitrates: object expected");t.bitrates=a.SdkBitrateFrame.fromObject(e.bitrates)}if(e.audioControl!=null){if(typeof e.audioControl!="object")throw TypeError(".SdkSignalFrame.audioControl: object expected");t.audioControl=a.SdkAudioControlFrame.fromObject(e.audioControl)}if(e.audioMetadata!=null){if(typeof e.audioMetadata!="object")throw TypeError(".SdkSignalFrame.audioMetadata: object expected");t.audioMetadata=a.SdkAudioMetadataFrame.fromObject(e.audioMetadata)}if(e.audioStreamIdInfo!=null){if(typeof e.audioStreamIdInfo!="object")throw TypeError(".SdkSignalFrame.audioStreamIdInfo: object expected");t.audioStreamIdInfo=a.SdkAudioStreamIdInfoFrame.fromObject(e.audioStreamIdInfo)}if(e.pingPong!=null){if(typeof e.pingPong!="object")throw TypeError(".SdkSignalFrame.pingPong: object expected");t.pingPong=a.SdkPingPongFrame.fromObject(e.pingPong)}if(e.audioStatus!=null){if(typeof e.audioStatus!="object")throw TypeError(".SdkSignalFrame.audioStatus: object expected");t.audioStatus=a.SdkAudioStatusFrame.fromObject(e.audioStatus)}if(e.clientMetric!=null){if(typeof e.clientMetric!="object")throw TypeError(".SdkSignalFrame.clientMetric: object expected");t.clientMetric=a.SdkClientMetricFrame.fromObject(e.clientMetric)}if(e.dataMessage!=null){if(typeof e.dataMessage!="object")throw TypeError(".SdkSignalFrame.dataMessage: object expected");t.dataMessage=a.SdkDataMessageFrame.fromObject(e.dataMessage)}if(e.remoteVideoUpdate!=null){if(typeof e.remoteVideoUpdate!="object")throw TypeError(".SdkSignalFrame.remoteVideoUpdate: object expected");t.remoteVideoUpdate=a.SdkRemoteVideoUpdateFrame.fromObject(e.remoteVideoUpdate)}if(e.primaryMeetingJoin!=null){if(typeof e.primaryMeetingJoin!="object")throw TypeError(".SdkSignalFrame.primaryMeetingJoin: object expected");t.primaryMeetingJoin=a.SdkPrimaryMeetingJoinFrame.fromObject(e.primaryMeetingJoin)}if(e.primaryMeetingJoinAck!=null){if(typeof e.primaryMeetingJoinAck!="object")throw TypeError(".SdkSignalFrame.primaryMeetingJoinAck: object expected");t.primaryMeetingJoinAck=a.SdkPrimaryMeetingJoinAckFrame.fromObject(e.primaryMeetingJoinAck)}if(e.primaryMeetingLeave!=null){if(typeof e.primaryMeetingLeave!="object")throw TypeError(".SdkSignalFrame.primaryMeetingLeave: object expected");t.primaryMeetingLeave=a.SdkPrimaryMeetingLeaveFrame.fromObject(e.primaryMeetingLeave)}return t},"fromObject"),n.toObject=o(function(e,t){t||(t={});var r={};if(t.defaults){if(f.Long){var l=new f.Long(0,0,!0);r.timestampMs=t.longs===String?l.toString():t.longs===Number?l.toNumber():l}else r.timestampMs=t.longs===String?"0":0;r.type=t.enums===String?"JOIN":1,r.error=null,r.join=null,r.joinack=null,r.sub=null,r.suback=null,r.index=null,r.pause=null,r.leave=null,r.leaveAck=null,r.bitrates=null,r.audioControl=null,r.audioMetadata=null,r.audioStreamIdInfo=null,r.pingPong=null,r.audioStatus=null,r.clientMetric=null,r.dataMessage=null,r.remoteVideoUpdate=null,r.primaryMeetingJoin=null,r.primaryMeetingJoinAck=null,r.primaryMeetingLeave=null}return e.timestampMs!=null&&e.hasOwnProperty("timestampMs")&&(typeof e.timestampMs=="number"?r.timestampMs=t.longs===String?String(e.timestampMs):e.timestampMs:r.timestampMs=t.longs===String?f.Long.prototype.toString.call(e.timestampMs):t.longs===Number?new f.LongBits(e.timestampMs.low>>>0,e.timestampMs.high>>>0).toNumber(!0):e.timestampMs),e.type!=null&&e.hasOwnProperty("type")&&(r.type=t.enums===String?a.SdkSignalFrame.Type[e.type]:e.type),e.error!=null&&e.hasOwnProperty("error")&&(r.error=a.SdkErrorFrame.toObject(e.error,t)),e.join!=null&&e.hasOwnProperty("join")&&(r.join=a.SdkJoinFrame.toObject(e.join,t)),e.joinack!=null&&e.hasOwnProperty("joinack")&&(r.joinack=a.SdkJoinAckFrame.toObject(e.joinack,t)),e.sub!=null&&e.hasOwnProperty("sub")&&(r.sub=a.SdkSubscribeFrame.toObject(e.sub,t)),e.suback!=null&&e.hasOwnProperty("suback")&&(r.suback=a.SdkSubscribeAckFrame.toObject(e.suback,t)),e.index!=null&&e.hasOwnProperty("index")&&(r.index=a.SdkIndexFrame.toObject(e.index,t)),e.pause!=null&&e.hasOwnProperty("pause")&&(r.pause=a.SdkPauseResumeFrame.toObject(e.pause,t)),e.leave!=null&&e.hasOwnProperty("leave")&&(r.leave=a.SdkLeaveFrame.toObject(e.leave,t)),e.leaveAck!=null&&e.hasOwnProperty("leaveAck")&&(r.leaveAck=a.SdkLeaveAckFrame.toObject(e.leaveAck,t)),e.bitrates!=null&&e.hasOwnProperty("bitrates")&&(r.bitrates=a.SdkBitrateFrame.toObject(e.bitrates,t)),e.audioControl!=null&&e.hasOwnProperty("audioControl")&&(r.audioControl=a.SdkAudioControlFrame.toObject(e.audioControl,t)),e.audioMetadata!=null&&e.hasOwnProperty("audioMetadata")&&(r.audioMetadata=a.SdkAudioMetadataFrame.toObject(e.audioMetadata,t)),e.audioStreamIdInfo!=null&&e.hasOwnProperty("audioStreamIdInfo")&&(r.audioStreamIdInfo=a.SdkAudioStreamIdInfoFrame.toObject(e.audioStreamIdInfo,t)),e.pingPong!=null&&e.hasOwnProperty("pingPong")&&(r.pingPong=a.SdkPingPongFrame.toObject(e.pingPong,t)),e.audioStatus!=null&&e.hasOwnProperty("audioStatus")&&(r.audioStatus=a.SdkAudioStatusFrame.toObject(e.audioStatus,t)),e.clientMetric!=null&&e.hasOwnProperty("clientMetric")&&(r.clientMetric=a.SdkClientMetricFrame.toObject(e.clientMetric,t)),e.dataMessage!=null&&e.hasOwnProperty("dataMessage")&&(r.dataMessage=a.SdkDataMessageFrame.toObject(e.dataMessage,t)),e.remoteVideoUpdate!=null&&e.hasOwnProperty("remoteVideoUpdate")&&(r.remoteVideoUpdate=a.SdkRemoteVideoUpdateFrame.toObject(e.remoteVideoUpdate,t)),e.primaryMeetingJoin!=null&&e.hasOwnProperty("primaryMeetingJoin")&&(r.primaryMeetingJoin=a.SdkPrimaryMeetingJoinFrame.toObject(e.primaryMeetingJoin,t)),e.primaryMeetingJoinAck!=null&&e.hasOwnProperty("primaryMeetingJoinAck")&&(r.primaryMeetingJoinAck=a.SdkPrimaryMeetingJoinAckFrame.toObject(e.primaryMeetingJoinAck,t)),e.primaryMeetingLeave!=null&&e.hasOwnProperty("primaryMeetingLeave")&&(r.primaryMeetingLeave=a.SdkPrimaryMeetingLeaveFrame.toObject(e.primaryMeetingLeave,t)),r},"toObject"),n.prototype.toJSON=o(function(){return this.constructor.toObject(this,S.util.toJSONOptions)},"toJSON"),n.Type=function(){var i={},e=Object.create(i);return e[i[1]="JOIN"]=1,e[i[2]="JOIN_ACK"]=2,e[i[3]="SUBSCRIBE"]=3,e[i[4]="SUBSCRIBE_ACK"]=4,e[i[5]="INDEX"]=5,e[i[7]="PAUSE"]=7,e[i[8]="RESUME"]=8,e[i[9]="LEAVE"]=9,e[i[10]="LEAVE_ACK"]=10,e[i[13]="BITRATES"]=13,e[i[16]="AUDIO_CONTROL"]=16,e[i[17]="AUDIO_METADATA"]=17,e[i[18]="AUDIO_STREAM_ID_INFO"]=18,e[i[19]="PING_PONG"]=19,e[i[20]="AUDIO_STATUS"]=20,e[i[21]="CLIENT_METRIC"]=21,e[i[22]="DATA_MESSAGE"]=22,e[i[24]="REMOTE_VIDEO_UPDATE"]=24,e[i[25]="PRIMARY_MEETING_JOIN"]=25,e[i[26]="PRIMARY_MEETING_JOIN_ACK"]=26,e[i[27]="PRIMARY_MEETING_LEAVE"]=27,e}(),n}(),a.SdkErrorFrame=function(){function n(i){if(i)for(var e=Object.keys(i),t=0;t<e.length;++t)i[e[t]]!=null&&(this[e[t]]=i[e[t]])}return o(n,"SdkErrorFrame"),n.prototype.status=0,n.prototype.description="",n.create=o(function(e){return new n(e)},"create"),n.encode=o(function(e,t){return t||(t=m.create()),e.status!=null&&Object.hasOwnProperty.call(e,"status")&&t.uint32(8).uint32(e.status),e.description!=null&&Object.hasOwnProperty.call(e,"description")&&t.uint32(18).string(e.description),t},"encode"),n.encodeDelimited=o(function(e,t){return this.encode(e,t).ldelim()},"encodeDelimited"),n.decode=o(function(e,t){e instanceof h||(e=h.create(e));for(var r=t===void 0?e.len:e.pos+t,l=new a.SdkErrorFrame;e.pos<r;){var p=e.uint32();switch(p>>>3){case 1:l.status=e.uint32();break;case 2:l.description=e.string();break;default:e.skipType(p&7);break}}return l},"decode"),n.decodeDelimited=o(function(e){return e instanceof h||(e=new h(e)),this.decode(e,e.uint32())},"decodeDelimited"),n.verify=o(function(e){return typeof e!="object"||e===null?"object expected":e.status!=null&&e.hasOwnProperty("status")&&!f.isInteger(e.status)?"status: integer expected":e.description!=null&&e.hasOwnProperty("description")&&!f.isString(e.description)?"description: string expected":null},"verify"),n.fromObject=o(function(e){if(e instanceof a.SdkErrorFrame)return e;var t=new a.SdkErrorFrame;return e.status!=null&&(t.status=e.status>>>0),e.description!=null&&(t.description=String(e.description)),t},"fromObject"),n.toObject=o(function(e,t){t||(t={});var r={};return t.defaults&&(r.status=0,r.description=""),e.status!=null&&e.hasOwnProperty("status")&&(r.status=e.status),e.description!=null&&e.hasOwnProperty("description")&&(r.description=e.description),r},"toObject"),n.prototype.toJSON=o(function(){return this.constructor.toObject(this,S.util.toJSONOptions)},"toJSON"),n}(),a.SdkJoinFlags=function(){var n={},i=Object.create(n);return i[n[2]="HAS_STREAM_UPDATE"]=2,i[n[16]="COMPLETE_VIDEO_SOURCES_LIST"]=16,i[n[32]="EXCLUDE_SELF_CONTENT_IN_INDEX"]=32,i}(),a.SdkClientDetails=function(){function n(i){if(i)for(var e=Object.keys(i),t=0;t<e.length;++t)i[e[t]]!=null&&(this[e[t]]=i[e[t]])}return o(n,"SdkClientDetails"),n.prototype.appName="",n.prototype.appVersion="",n.prototype.deviceModel="",n.prototype.deviceMake="",n.prototype.platformName="",n.prototype.platformVersion="",n.prototype.clientSource="",n.prototype.chimeSdkVersion="",n.prototype.clientUtcOffset="",n.create=o(function(e){return new n(e)},"create"),n.encode=o(function(e,t){return t||(t=m.create()),e.appName!=null&&Object.hasOwnProperty.call(e,"appName")&&t.uint32(10).string(e.appName),e.appVersion!=null&&Object.hasOwnProperty.call(e,"appVersion")&&t.uint32(18).string(e.appVersion),e.deviceModel!=null&&Object.hasOwnProperty.call(e,"deviceModel")&&t.uint32(26).string(e.deviceModel),e.deviceMake!=null&&Object.hasOwnProperty.call(e,"deviceMake")&&t.uint32(34).string(e.deviceMake),e.platformName!=null&&Object.hasOwnProperty.call(e,"platformName")&&t.uint32(42).string(e.platformName),e.platformVersion!=null&&Object.hasOwnProperty.call(e,"platformVersion")&&t.uint32(50).string(e.platformVersion),e.clientSource!=null&&Object.hasOwnProperty.call(e,"clientSource")&&t.uint32(58).string(e.clientSource),e.chimeSdkVersion!=null&&Object.hasOwnProperty.call(e,"chimeSdkVersion")&&t.uint32(66).string(e.chimeSdkVersion),e.clientUtcOffset!=null&&Object.hasOwnProperty.call(e,"clientUtcOffset")&&t.uint32(74).string(e.clientUtcOffset),t},"encode"),n.encodeDelimited=o(function(e,t){return this.encode(e,t).ldelim()},"encodeDelimited"),n.decode=o(function(e,t){e instanceof h||(e=h.create(e));for(var r=t===void 0?e.len:e.pos+t,l=new a.SdkClientDetails;e.pos<r;){var p=e.uint32();switch(p>>>3){case 1:l.appName=e.string();break;case 2:l.appVersion=e.string();break;case 3:l.deviceModel=e.string();break;case 4:l.deviceMake=e.string();break;case 5:l.platformName=e.string();break;case 6:l.platformVersion=e.string();break;case 7:l.clientSource=e.string();break;case 8:l.chimeSdkVersion=e.string();break;case 9:l.clientUtcOffset=e.string();break;default:e.skipType(p&7);break}}return l},"decode"),n.decodeDelimited=o(function(e){return e instanceof h||(e=new h(e)),this.decode(e,e.uint32())},"decodeDelimited"),n.verify=o(function(e){return typeof e!="object"||e===null?"object expected":e.appName!=null&&e.hasOwnProperty("appName")&&!f.isString(e.appName)?"appName: string expected":e.appVersion!=null&&e.hasOwnProperty("appVersion")&&!f.isString(e.appVersion)?"appVersion: string expected":e.deviceModel!=null&&e.hasOwnProperty("deviceModel")&&!f.isString(e.deviceModel)?"deviceModel: string expected":e.deviceMake!=null&&e.hasOwnProperty("deviceMake")&&!f.isString(e.deviceMake)?"deviceMake: string expected":e.platformName!=null&&e.hasOwnProperty("platformName")&&!f.isString(e.platformName)?"platformName: string expected":e.platformVersion!=null&&e.hasOwnProperty("platformVersion")&&!f.isString(e.platformVersion)?"platformVersion: string expected":e.clientSource!=null&&e.hasOwnProperty("clientSource")&&!f.isString(e.clientSource)?"clientSource: string expected":e.chimeSdkVersion!=null&&e.hasOwnProperty("chimeSdkVersion")&&!f.isString(e.chimeSdkVersion)?"chimeSdkVersion: string expected":e.clientUtcOffset!=null&&e.hasOwnProperty("clientUtcOffset")&&!f.isString(e.clientUtcOffset)?"clientUtcOffset: string expected":null},"verify"),n.fromObject=o(function(e){if(e instanceof a.SdkClientDetails)return e;var t=new a.SdkClientDetails;return e.appName!=null&&(t.appName=String(e.appName)),e.appVersion!=null&&(t.appVersion=String(e.appVersion)),e.deviceModel!=null&&(t.deviceModel=String(e.deviceModel)),e.deviceMake!=null&&(t.deviceMake=String(e.deviceMake)),e.platformName!=null&&(t.platformName=String(e.platformName)),e.platformVersion!=null&&(t.platformVersion=String(e.platformVersion)),e.clientSource!=null&&(t.clientSource=String(e.clientSource)),e.chimeSdkVersion!=null&&(t.chimeSdkVersion=String(e.chimeSdkVersion)),e.clientUtcOffset!=null&&(t.clientUtcOffset=String(e.clientUtcOffset)),t},"fromObject"),n.toObject=o(function(e,t){t||(t={});var r={};return t.defaults&&(r.appName="",r.appVersion="",r.deviceModel="",r.deviceMake="",r.platformName="",r.platformVersion="",r.clientSource="",r.chimeSdkVersion="",r.clientUtcOffset=""),e.appName!=null&&e.hasOwnProperty("appName")&&(r.appName=e.appName),e.appVersion!=null&&e.hasOwnProperty("appVersion")&&(r.appVersion=e.appVersion),e.deviceModel!=null&&e.hasOwnProperty("deviceModel")&&(r.deviceModel=e.deviceModel),e.deviceMake!=null&&e.hasOwnProperty("deviceMake")&&(r.deviceMake=e.deviceMake),e.platformName!=null&&e.hasOwnProperty("platformName")&&(r.platformName=e.platformName),e.platformVersion!=null&&e.hasOwnProperty("platformVersion")&&(r.platformVersion=e.platformVersion),e.clientSource!=null&&e.hasOwnProperty("clientSource")&&(r.clientSource=e.clientSource),e.chimeSdkVersion!=null&&e.hasOwnProperty("chimeSdkVersion")&&(r.chimeSdkVersion=e.chimeSdkVersion),e.clientUtcOffset!=null&&e.hasOwnProperty("clientUtcOffset")&&(r.clientUtcOffset=e.clientUtcOffset),r},"toObject"),n.prototype.toJSON=o(function(){return this.constructor.toObject(this,S.util.toJSONOptions)},"toJSON"),n}(),a.SdkServerSideNetworkAdaption=function(){var n={},i=Object.create(n);return i[n[1]="DEFAULT"]=1,i[n[2]="NONE"]=2,i[n[3]="BANDWIDTH_PROBING"]=3,i}(),a.SdkJoinFrame=function(){function n(i){if(this.supportedServerSideNetworkAdaptions=[],i)for(var e=Object.keys(i),t=0;t<e.length;++t)i[e[t]]!=null&&(this[e[t]]=i[e[t]])}return o(n,"SdkJoinFrame"),n.prototype.protocolVersion=2,n.prototype.maxNumOfVideos=0,n.prototype.flags=0,n.prototype.clientDetails=null,n.prototype.audioSessionId=f.Long?f.Long.fromBits(0,0,!0):0,n.prototype.wantsCompressedSdp=!1,n.prototype.serverSideNetworkAdaption=1,n.prototype.supportedServerSideNetworkAdaptions=f.emptyArray,n.prototype.disablePeriodicKeyframeRequestOnContentSender=!1,n.create=o(function(e){return new n(e)},"create"),n.encode=o(function(e,t){if(t||(t=m.create()),e.protocolVersion!=null&&Object.hasOwnProperty.call(e,"protocolVersion")&&t.uint32(8).uint32(e.protocolVersion),e.maxNumOfVideos!=null&&Object.hasOwnProperty.call(e,"maxNumOfVideos")&&t.uint32(16).uint32(e.maxNumOfVideos),e.flags!=null&&Object.hasOwnProperty.call(e,"flags")&&t.uint32(24).uint32(e.flags),e.clientDetails!=null&&Object.hasOwnProperty.call(e,"clientDetails")&&a.SdkClientDetails.encode(e.clientDetails,t.uint32(34).fork()).ldelim(),e.audioSessionId!=null&&Object.hasOwnProperty.call(e,"audioSessionId")&&t.uint32(48).uint64(e.audioSessionId),e.wantsCompressedSdp!=null&&Object.hasOwnProperty.call(e,"wantsCompressedSdp")&&t.uint32(56).bool(e.wantsCompressedSdp),e.serverSideNetworkAdaption!=null&&Object.hasOwnProperty.call(e,"serverSideNetworkAdaption")&&t.uint32(80).int32(e.serverSideNetworkAdaption),e.supportedServerSideNetworkAdaptions!=null&&e.supportedServerSideNetworkAdaptions.length)for(var r=0;r<e.supportedServerSideNetworkAdaptions.length;++r)t.uint32(88).int32(e.supportedServerSideNetworkAdaptions[r]);return e.disablePeriodicKeyframeRequestOnContentSender!=null&&Object.hasOwnProperty.call(e,"disablePeriodicKeyframeRequestOnContentSender")&&t.uint32(104).bool(e.disablePeriodicKeyframeRequestOnContentSender),t},"encode"),n.encodeDelimited=o(function(e,t){return this.encode(e,t).ldelim()},"encodeDelimited"),n.decode=o(function(e,t){e instanceof h||(e=h.create(e));for(var r=t===void 0?e.len:e.pos+t,l=new a.SdkJoinFrame;e.pos<r;){var p=e.uint32();switch(p>>>3){case 1:l.protocolVersion=e.uint32();break;case 2:l.maxNumOfVideos=e.uint32();break;case 3:l.flags=e.uint32();break;case 4:l.clientDetails=a.SdkClientDetails.decode(e,e.uint32());break;case 6:l.audioSessionId=e.uint64();break;case 7:l.wantsCompressedSdp=e.bool();break;case 10:l.serverSideNetworkAdaption=e.int32();break;case 11:if(l.supportedServerSideNetworkAdaptions&&l.supportedServerSideNetworkAdaptions.length||(l.supportedServerSideNetworkAdaptions=[]),(p&7)===2)for(var v=e.uint32()+e.pos;e.pos<v;)l.supportedServerSideNetworkAdaptions.push(e.int32());else l.supportedServerSideNetworkAdaptions.push(e.int32());break;case 13:l.disablePeriodicKeyframeRequestOnContentSender=e.bool();break;default:e.skipType(p&7);break}}return l},"decode"),n.decodeDelimited=o(function(e){return e instanceof h||(e=new h(e)),this.decode(e,e.uint32())},"decodeDelimited"),n.verify=o(function(e){if(typeof e!="object"||e===null)return"object expected";if(e.protocolVersion!=null&&e.hasOwnProperty("protocolVersion")&&!f.isInteger(e.protocolVersion))return"protocolVersion: integer expected";if(e.maxNumOfVideos!=null&&e.hasOwnProperty("maxNumOfVideos")&&!f.isInteger(e.maxNumOfVideos))return"maxNumOfVideos: integer expected";if(e.flags!=null&&e.hasOwnProperty("flags")&&!f.isInteger(e.flags))return"flags: integer expected";if(e.clientDetails!=null&&e.hasOwnProperty("clientDetails")){var t=a.SdkClientDetails.verify(e.clientDetails);if(t)return"clientDetails."+t}if(e.audioSessionId!=null&&e.hasOwnProperty("audioSessionId")&&!f.isInteger(e.audioSessionId)&&!(e.audioSessionId&&f.isInteger(e.audioSessionId.low)&&f.isInteger(e.audioSessionId.high)))return"audioSessionId: integer|Long expected";if(e.wantsCompressedSdp!=null&&e.hasOwnProperty("wantsCompressedSdp")&&typeof e.wantsCompressedSdp!="boolean")return"wantsCompressedSdp: boolean expected";if(e.serverSideNetworkAdaption!=null&&e.hasOwnProperty("serverSideNetworkAdaption"))switch(e.serverSideNetworkAdaption){default:return"serverSideNetworkAdaption: enum value expected";case 1:case 2:case 3:break}if(e.supportedServerSideNetworkAdaptions!=null&&e.hasOwnProperty("supportedServerSideNetworkAdaptions")){if(!Array.isArray(e.supportedServerSideNetworkAdaptions))return"supportedServerSideNetworkAdaptions: array expected";for(var r=0;r<e.supportedServerSideNetworkAdaptions.length;++r)switch(e.supportedServerSideNetworkAdaptions[r]){default:return"supportedServerSideNetworkAdaptions: enum value[] expected";case 1:case 2:case 3:break}}return e.disablePeriodicKeyframeRequestOnContentSender!=null&&e.hasOwnProperty("disablePeriodicKeyframeRequestOnContentSender")&&typeof e.disablePeriodicKeyframeRequestOnContentSender!="boolean"?"disablePeriodicKeyframeRequestOnContentSender: boolean expected":null},"verify"),n.fromObject=o(function(e){if(e instanceof a.SdkJoinFrame)return e;var t=new a.SdkJoinFrame;if(e.protocolVersion!=null&&(t.protocolVersion=e.protocolVersion>>>0),e.maxNumOfVideos!=null&&(t.maxNumOfVideos=e.maxNumOfVideos>>>0),e.flags!=null&&(t.flags=e.flags>>>0),e.clientDetails!=null){if(typeof e.clientDetails!="object")throw TypeError(".SdkJoinFrame.clientDetails: object expected");t.clientDetails=a.SdkClientDetails.fromObject(e.clientDetails)}switch(e.audioSessionId!=null&&(f.Long?(t.audioSessionId=f.Long.fromValue(e.audioSessionId)).unsigned=!0:typeof e.audioSessionId=="string"?t.audioSessionId=parseInt(e.audioSessionId,10):typeof e.audioSessionId=="number"?t.audioSessionId=e.audioSessionId:typeof e.audioSessionId=="object"&&(t.audioSessionId=new f.LongBits(e.audioSessionId.low>>>0,e.audioSessionId.high>>>0).toNumber(!0))),e.wantsCompressedSdp!=null&&(t.wantsCompressedSdp=Boolean(e.wantsCompressedSdp)),e.serverSideNetworkAdaption){case"DEFAULT":case 1:t.serverSideNetworkAdaption=1;break;case"NONE":case 2:t.serverSideNetworkAdaption=2;break;case"BANDWIDTH_PROBING":case 3:t.serverSideNetworkAdaption=3;break}if(e.supportedServerSideNetworkAdaptions){if(!Array.isArray(e.supportedServerSideNetworkAdaptions))throw TypeError(".SdkJoinFrame.supportedServerSideNetworkAdaptions: array expected");t.supportedServerSideNetworkAdaptions=[];for(var r=0;r<e.supportedServerSideNetworkAdaptions.length;++r)switch(e.supportedServerSideNetworkAdaptions[r]){default:case"DEFAULT":case 1:t.supportedServerSideNetworkAdaptions[r]=1;break;case"NONE":case 2:t.supportedServerSideNetworkAdaptions[r]=2;break;case"BANDWIDTH_PROBING":case 3:t.supportedServerSideNetworkAdaptions[r]=3;break}}return e.disablePeriodicKeyframeRequestOnContentSender!=null&&(t.disablePeriodicKeyframeRequestOnContentSender=Boolean(e.disablePeriodicKeyframeRequestOnContentSender)),t},"fromObject"),n.toObject=o(function(e,t){t||(t={});var r={};if((t.arrays||t.defaults)&&(r.supportedServerSideNetworkAdaptions=[]),t.defaults){if(r.protocolVersion=2,r.maxNumOfVideos=0,r.flags=0,r.clientDetails=null,f.Long){var l=new f.Long(0,0,!0);r.audioSessionId=t.longs===String?l.toString():t.longs===Number?l.toNumber():l}else r.audioSessionId=t.longs===String?"0":0;r.wantsCompressedSdp=!1,r.serverSideNetworkAdaption=t.enums===String?"DEFAULT":1,r.disablePeriodicKeyframeRequestOnContentSender=!1}if(e.protocolVersion!=null&&e.hasOwnProperty("protocolVersion")&&(r.protocolVersion=e.protocolVersion),e.maxNumOfVideos!=null&&e.hasOwnProperty("maxNumOfVideos")&&(r.maxNumOfVideos=e.maxNumOfVideos),e.flags!=null&&e.hasOwnProperty("flags")&&(r.flags=e.flags),e.clientDetails!=null&&e.hasOwnProperty("clientDetails")&&(r.clientDetails=a.SdkClientDetails.toObject(e.clientDetails,t)),e.audioSessionId!=null&&e.hasOwnProperty("audioSessionId")&&(typeof e.audioSessionId=="number"?r.audioSessionId=t.longs===String?String(e.audioSessionId):e.audioSessionId:r.audioSessionId=t.longs===String?f.Long.prototype.toString.call(e.audioSessionId):t.longs===Number?new f.LongBits(e.audioSessionId.low>>>0,e.audioSessionId.high>>>0).toNumber(!0):e.audioSessionId),e.wantsCompressedSdp!=null&&e.hasOwnProperty("wantsCompressedSdp")&&(r.wantsCompressedSdp=e.wantsCompressedSdp),e.serverSideNetworkAdaption!=null&&e.hasOwnProperty("serverSideNetworkAdaption")&&(r.serverSideNetworkAdaption=t.enums===String?a.SdkServerSideNetworkAdaption[e.serverSideNetworkAdaption]:e.serverSideNetworkAdaption),e.supportedServerSideNetworkAdaptions&&e.supportedServerSideNetworkAdaptions.length){r.supportedServerSideNetworkAdaptions=[];for(var p=0;p<e.supportedServerSideNetworkAdaptions.length;++p)r.supportedServerSideNetworkAdaptions[p]=t.enums===String?a.SdkServerSideNetworkAdaption[e.supportedServerSideNetworkAdaptions[p]]:e.supportedServerSideNetworkAdaptions[p]}return e.disablePeriodicKeyframeRequestOnContentSender!=null&&e.hasOwnProperty("disablePeriodicKeyframeRequestOnContentSender")&&(r.disablePeriodicKeyframeRequestOnContentSender=e.disablePeriodicKeyframeRequestOnContentSender),r},"toObject"),n.prototype.toJSON=o(function(){return this.constructor.toObject(this,S.util.toJSONOptions)},"toJSON"),n}(),a.SdkJoinAckFrame=function(){function n(i){if(i)for(var e=Object.keys(i),t=0;t<e.length;++t)i[e[t]]!=null&&(this[e[t]]=i[e[t]])}return o(n,"SdkJoinAckFrame"),n.prototype.turnCredentials=null,n.prototype.videoSubscriptionLimit=0,n.prototype.wantsCompressedSdp=!1,n.prototype.defaultServerSideNetworkAdaption=1,n.create=o(function(e){return new n(e)},"create"),n.encode=o(function(e,t){return t||(t=m.create()),e.turnCredentials!=null&&Object.hasOwnProperty.call(e,"turnCredentials")&&a.SdkTurnCredentials.encode(e.turnCredentials,t.uint32(10).fork()).ldelim(),e.videoSubscriptionLimit!=null&&Object.hasOwnProperty.call(e,"videoSubscriptionLimit")&&t.uint32(16).uint32(e.videoSubscriptionLimit),e.wantsCompressedSdp!=null&&Object.hasOwnProperty.call(e,"wantsCompressedSdp")&&t.uint32(24).bool(e.wantsCompressedSdp),e.defaultServerSideNetworkAdaption!=null&&Object.hasOwnProperty.call(e,"defaultServerSideNetworkAdaption")&&t.uint32(32).int32(e.defaultServerSideNetworkAdaption),t},"encode"),n.encodeDelimited=o(function(e,t){return this.encode(e,t).ldelim()},"encodeDelimited"),n.decode=o(function(e,t){e instanceof h||(e=h.create(e));for(var r=t===void 0?e.len:e.pos+t,l=new a.SdkJoinAckFrame;e.pos<r;){var p=e.uint32();switch(p>>>3){case 1:l.turnCredentials=a.SdkTurnCredentials.decode(e,e.uint32());break;case 2:l.videoSubscriptionLimit=e.uint32();break;case 3:l.wantsCompressedSdp=e.bool();break;case 4:l.defaultServerSideNetworkAdaption=e.int32();break;default:e.skipType(p&7);break}}return l},"decode"),n.decodeDelimited=o(function(e){return e instanceof h||(e=new h(e)),this.decode(e,e.uint32())},"decodeDelimited"),n.verify=o(function(e){if(typeof e!="object"||e===null)return"object expected";if(e.turnCredentials!=null&&e.hasOwnProperty("turnCredentials")){var t=a.SdkTurnCredentials.verify(e.turnCredentials);if(t)return"turnCredentials."+t}if(e.videoSubscriptionLimit!=null&&e.hasOwnProperty("videoSubscriptionLimit")&&!f.isInteger(e.videoSubscriptionLimit))return"videoSubscriptionLimit: integer expected";if(e.wantsCompressedSdp!=null&&e.hasOwnProperty("wantsCompressedSdp")&&typeof e.wantsCompressedSdp!="boolean")return"wantsCompressedSdp: boolean expected";if(e.defaultServerSideNetworkAdaption!=null&&e.hasOwnProperty("defaultServerSideNetworkAdaption"))switch(e.defaultServerSideNetworkAdaption){default:return"defaultServerSideNetworkAdaption: enum value expected";case 1:case 2:case 3:break}return null},"verify"),n.fromObject=o(function(e){if(e instanceof a.SdkJoinAckFrame)return e;var t=new a.SdkJoinAckFrame;if(e.turnCredentials!=null){if(typeof e.turnCredentials!="object")throw TypeError(".SdkJoinAckFrame.turnCredentials: object expected");t.turnCredentials=a.SdkTurnCredentials.fromObject(e.turnCredentials)}switch(e.videoSubscriptionLimit!=null&&(t.videoSubscriptionLimit=e.videoSubscriptionLimit>>>0),e.wantsCompressedSdp!=null&&(t.wantsCompressedSdp=Boolean(e.wantsCompressedSdp)),e.defaultServerSideNetworkAdaption){case"DEFAULT":case 1:t.defaultServerSideNetworkAdaption=1;break;case"NONE":case 2:t.defaultServerSideNetworkAdaption=2;break;case"BANDWIDTH_PROBING":case 3:t.defaultServerSideNetworkAdaption=3;break}return t},"fromObject"),n.toObject=o(function(e,t){t||(t={});var r={};return t.defaults&&(r.turnCredentials=null,r.videoSubscriptionLimit=0,r.wantsCompressedSdp=!1,r.defaultServerSideNetworkAdaption=t.enums===String?"DEFAULT":1),e.turnCredentials!=null&&e.hasOwnProperty("turnCredentials")&&(r.turnCredentials=a.SdkTurnCredentials.toObject(e.turnCredentials,t)),e.videoSubscriptionLimit!=null&&e.hasOwnProperty("videoSubscriptionLimit")&&(r.videoSubscriptionLimit=e.videoSubscriptionLimit),e.wantsCompressedSdp!=null&&e.hasOwnProperty("wantsCompressedSdp")&&(r.wantsCompressedSdp=e.wantsCompressedSdp),e.defaultServerSideNetworkAdaption!=null&&e.hasOwnProperty("defaultServerSideNetworkAdaption")&&(r.defaultServerSideNetworkAdaption=t.enums===String?a.SdkServerSideNetworkAdaption[e.defaultServerSideNetworkAdaption]:e.defaultServerSideNetworkAdaption),r},"toObject"),n.prototype.toJSON=o(function(){return this.constructor.toObject(this,S.util.toJSONOptions)},"toJSON"),n}(),a.SdkLeaveFrame=function(){function n(i){if(i)for(var e=Object.keys(i),t=0;t<e.length;++t)i[e[t]]!=null&&(this[e[t]]=i[e[t]])}return o(n,"SdkLeaveFrame"),n.create=o(function(e){return new n(e)},"create"),n.encode=o(function(e,t){return t||(t=m.create()),t},"encode"),n.encodeDelimited=o(function(e,t){return this.encode(e,t).ldelim()},"encodeDelimited"),n.decode=o(function(e,t){e instanceof h||(e=h.create(e));for(var r=t===void 0?e.len:e.pos+t,l=new a.SdkLeaveFrame;e.pos<r;){var p=e.uint32();switch(p>>>3){default:e.skipType(p&7);break}}return l},"decode"),n.decodeDelimited=o(function(e){return e instanceof h||(e=new h(e)),this.decode(e,e.uint32())},"decodeDelimited"),n.verify=o(function(e){return typeof e!="object"||e===null?"object expected":null},"verify"),n.fromObject=o(function(e){return e instanceof a.SdkLeaveFrame?e:new a.SdkLeaveFrame},"fromObject"),n.toObject=o(function(){return{}},"toObject"),n.prototype.toJSON=o(function(){return this.constructor.toObject(this,S.util.toJSONOptions)},"toJSON"),n}(),a.SdkLeaveAckFrame=function(){function n(i){if(i)for(var e=Object.keys(i),t=0;t<e.length;++t)i[e[t]]!=null&&(this[e[t]]=i[e[t]])}return o(n,"SdkLeaveAckFrame"),n.create=o(function(e){return new n(e)},"create"),n.encode=o(function(e,t){return t||(t=m.create()),t},"encode"),n.encodeDelimited=o(function(e,t){return this.encode(e,t).ldelim()},"encodeDelimited"),n.decode=o(function(e,t){e instanceof h||(e=h.create(e));for(var r=t===void 0?e.len:e.pos+t,l=new a.SdkLeaveAckFrame;e.pos<r;){var p=e.uint32();switch(p>>>3){default:e.skipType(p&7);break}}return l},"decode"),n.decodeDelimited=o(function(e){return e instanceof h||(e=new h(e)),this.decode(e,e.uint32())},"decodeDelimited"),n.verify=o(function(e){return typeof e!="object"||e===null?"object expected":null},"verify"),n.fromObject=o(function(e){return e instanceof a.SdkLeaveAckFrame?e:new a.SdkLeaveAckFrame},"fromObject"),n.toObject=o(function(){return{}},"toObject"),n.prototype.toJSON=o(function(){return this.constructor.toObject(this,S.util.toJSONOptions)},"toJSON"),n}(),a.SdkStreamServiceType=function(){var n={},i=Object.create(n);return i[n[1]="RX"]=1,i[n[2]="TX"]=2,i[n[3]="DUPLEX"]=3,i}(),a.SdkStreamMediaType=function(){var n={},i=Object.create(n);return i[n[1]="AUDIO"]=1,i[n[2]="VIDEO"]=2,i}(),a.SdkSubscribeFrame=function(){function n(i){if(this.sendStreams=[],this.receiveStreamIds=[],this.videoSubscriptionConfiguration=[],i)for(var e=Object.keys(i),t=0;t<e.length;++t)i[e[t]]!=null&&(this[e[t]]=i[e[t]])}return o(n,"SdkSubscribeFrame"),n.prototype.duplex=1,n.prototype.sendStreams=f.emptyArray,n.prototype.receiveStreamIds=f.emptyArray,n.prototype.sdpOffer="",n.prototype.audioHost="",n.prototype.audioCheckin=!1,n.prototype.audioMuted=!1,n.prototype.compressedSdpOffer=f.newBuffer([]),n.prototype.videoSubscriptionConfiguration=f.emptyArray,n.create=o(function(e){return new n(e)},"create"),n.encode=o(function(e,t){if(t||(t=m.create()),e.duplex!=null&&Object.hasOwnProperty.call(e,"duplex")&&t.uint32(8).int32(e.duplex),e.sendStreams!=null&&e.sendStreams.length)for(var r=0;r<e.sendStreams.length;++r)a.SdkStreamDescriptor.encode(e.sendStreams[r],t.uint32(18).fork()).ldelim();if(e.receiveStreamIds!=null&&e.receiveStreamIds.length)for(var r=0;r<e.receiveStreamIds.length;++r)t.uint32(24).uint32(e.receiveStreamIds[r]);if(e.sdpOffer!=null&&Object.hasOwnProperty.call(e,"sdpOffer")&&t.uint32(34).string(e.sdpOffer),e.audioHost!=null&&Object.hasOwnProperty.call(e,"audioHost")&&t.uint32(42).string(e.audioHost),e.audioCheckin!=null&&Object.hasOwnProperty.call(e,"audioCheckin")&&t.uint32(48).bool(e.audioCheckin),e.audioMuted!=null&&Object.hasOwnProperty.call(e,"audioMuted")&&t.uint32(56).bool(e.audioMuted),e.compressedSdpOffer!=null&&Object.hasOwnProperty.call(e,"compressedSdpOffer")&&t.uint32(66).bytes(e.compressedSdpOffer),e.videoSubscriptionConfiguration!=null&&e.videoSubscriptionConfiguration.length)for(var r=0;r<e.videoSubscriptionConfiguration.length;++r)a.SdkVideoSubscriptionConfiguration.encode(e.videoSubscriptionConfiguration[r],t.uint32(74).fork()).ldelim();return t},"encode"),n.encodeDelimited=o(function(e,t){return this.encode(e,t).ldelim()},"encodeDelimited"),n.decode=o(function(e,t){e instanceof h||(e=h.create(e));for(var r=t===void 0?e.len:e.pos+t,l=new a.SdkSubscribeFrame;e.pos<r;){var p=e.uint32();switch(p>>>3){case 1:l.duplex=e.int32();break;case 2:l.sendStreams&&l.sendStreams.length||(l.sendStreams=[]),l.sendStreams.push(a.SdkStreamDescriptor.decode(e,e.uint32()));break;case 3:if(l.receiveStreamIds&&l.receiveStreamIds.length||(l.receiveStreamIds=[]),(p&7)===2)for(var v=e.uint32()+e.pos;e.pos<v;)l.receiveStreamIds.push(e.uint32());else l.receiveStreamIds.push(e.uint32());break;case 4:l.sdpOffer=e.string();break;case 5:l.audioHost=e.string();break;case 6:l.audioCheckin=e.bool();break;case 7:l.audioMuted=e.bool();break;case 8:l.compressedSdpOffer=e.bytes();break;case 9:l.videoSubscriptionConfiguration&&l.videoSubscriptionConfiguration.length||(l.videoSubscriptionConfiguration=[]),l.videoSubscriptionConfiguration.push(a.SdkVideoSubscriptionConfiguration.decode(e,e.uint32()));break;default:e.skipType(p&7);break}}return l},"decode"),n.decodeDelimited=o(function(e){return e instanceof h||(e=new h(e)),this.decode(e,e.uint32())},"decodeDelimited"),n.verify=o(function(e){if(typeof e!="object"||e===null)return"object expected";if(e.duplex!=null&&e.hasOwnProperty("duplex"))switch(e.duplex){default:return"duplex: enum value expected";case 1:case 2:case 3:break}if(e.sendStreams!=null&&e.hasOwnProperty("sendStreams")){if(!Array.isArray(e.sendStreams))return"sendStreams: array expected";for(var t=0;t<e.sendStreams.length;++t){var r=a.SdkStreamDescriptor.verify(e.sendStreams[t]);if(r)return"sendStreams."+r}}if(e.receiveStreamIds!=null&&e.hasOwnProperty("receiveStreamIds")){if(!Array.isArray(e.receiveStreamIds))return"receiveStreamIds: array expected";for(var t=0;t<e.receiveStreamIds.length;++t)if(!f.isInteger(e.receiveStreamIds[t]))return"receiveStreamIds: integer[] expected"}if(e.sdpOffer!=null&&e.hasOwnProperty("sdpOffer")&&!f.isString(e.sdpOffer))return"sdpOffer: string expected";if(e.audioHost!=null&&e.hasOwnProperty("audioHost")&&!f.isString(e.audioHost))return"audioHost: string expected";if(e.audioCheckin!=null&&e.hasOwnProperty("audioCheckin")&&typeof e.audioCheckin!="boolean")return"audioCheckin: boolean expected";if(e.audioMuted!=null&&e.hasOwnProperty("audioMuted")&&typeof e.audioMuted!="boolean")return"audioMuted: boolean expected";if(e.compressedSdpOffer!=null&&e.hasOwnProperty("compressedSdpOffer")&&!(e.compressedSdpOffer&&typeof e.compressedSdpOffer.length=="number"||f.isString(e.compressedSdpOffer)))return"compressedSdpOffer: buffer expected";if(e.videoSubscriptionConfiguration!=null&&e.hasOwnProperty("videoSubscriptionConfiguration")){if(!Array.isArray(e.videoSubscriptionConfiguration))return"videoSubscriptionConfiguration: array expected";for(var t=0;t<e.videoSubscriptionConfiguration.length;++t){var r=a.SdkVideoSubscriptionConfiguration.verify(e.videoSubscriptionConfiguration[t]);if(r)return"videoSubscriptionConfiguration."+r}}return null},"verify"),n.fromObject=o(function(e){if(e instanceof a.SdkSubscribeFrame)return e;var t=new a.SdkSubscribeFrame;switch(e.duplex){case"RX":case 1:t.duplex=1;break;case"TX":case 2:t.duplex=2;break;case"DUPLEX":case 3:t.duplex=3;break}if(e.sendStreams){if(!Array.isArray(e.sendStreams))throw TypeError(".SdkSubscribeFrame.sendStreams: array expected");t.sendStreams=[];for(var r=0;r<e.sendStreams.length;++r){if(typeof e.sendStreams[r]!="object")throw TypeError(".SdkSubscribeFrame.sendStreams: object expected");t.sendStreams[r]=a.SdkStreamDescriptor.fromObject(e.sendStreams[r])}}if(e.receiveStreamIds){if(!Array.isArray(e.receiveStreamIds))throw TypeError(".SdkSubscribeFrame.receiveStreamIds: array expected");t.receiveStreamIds=[];for(var r=0;r<e.receiveStreamIds.length;++r)t.receiveStreamIds[r]=e.receiveStreamIds[r]>>>0}if(e.sdpOffer!=null&&(t.sdpOffer=String(e.sdpOffer)),e.audioHost!=null&&(t.audioHost=String(e.audioHost)),e.audioCheckin!=null&&(t.audioCheckin=Boolean(e.audioCheckin)),e.audioMuted!=null&&(t.audioMuted=Boolean(e.audioMuted)),e.compressedSdpOffer!=null&&(typeof e.compressedSdpOffer=="string"?f.base64.decode(e.compressedSdpOffer,t.compressedSdpOffer=f.newBuffer(f.base64.length(e.compressedSdpOffer)),0):e.compressedSdpOffer.length&&(t.compressedSdpOffer=e.compressedSdpOffer)),e.videoSubscriptionConfiguration){if(!Array.isArray(e.videoSubscriptionConfiguration))throw TypeError(".SdkSubscribeFrame.videoSubscriptionConfiguration: array expected");t.videoSubscriptionConfiguration=[];for(var r=0;r<e.videoSubscriptionConfiguration.length;++r){if(typeof e.videoSubscriptionConfiguration[r]!="object")throw TypeError(".SdkSubscribeFrame.videoSubscriptionConfiguration: object expected");t.videoSubscriptionConfiguration[r]=a.SdkVideoSubscriptionConfiguration.fromObject(e.videoSubscriptionConfiguration[r])}}return t},"fromObject"),n.toObject=o(function(e,t){t||(t={});var r={};if((t.arrays||t.defaults)&&(r.sendStreams=[],r.receiveStreamIds=[],r.videoSubscriptionConfiguration=[]),t.defaults&&(r.duplex=t.enums===String?"RX":1,r.sdpOffer="",r.audioHost="",r.audioCheckin=!1,r.audioMuted=!1,t.bytes===String?r.compressedSdpOffer="":(r.compressedSdpOffer=[],t.bytes!==Array&&(r.compressedSdpOffer=f.newBuffer(r.compressedSdpOffer)))),e.duplex!=null&&e.hasOwnProperty("duplex")&&(r.duplex=t.enums===String?a.SdkStreamServiceType[e.duplex]:e.duplex),e.sendStreams&&e.sendStreams.length){r.sendStreams=[];for(var l=0;l<e.sendStreams.length;++l)r.sendStreams[l]=a.SdkStreamDescriptor.toObject(e.sendStreams[l],t)}if(e.receiveStreamIds&&e.receiveStreamIds.length){r.receiveStreamIds=[];for(var l=0;l<e.receiveStreamIds.length;++l)r.receiveStreamIds[l]=e.receiveStreamIds[l]}if(e.sdpOffer!=null&&e.hasOwnProperty("sdpOffer")&&(r.sdpOffer=e.sdpOffer),e.audioHost!=null&&e.hasOwnProperty("audioHost")&&(r.audioHost=e.audioHost),e.audioCheckin!=null&&e.hasOwnProperty("audioCheckin")&&(r.audioCheckin=e.audioCheckin),e.audioMuted!=null&&e.hasOwnProperty("audioMuted")&&(r.audioMuted=e.audioMuted),e.compressedSdpOffer!=null&&e.hasOwnProperty("compressedSdpOffer")&&(r.compressedSdpOffer=t.bytes===String?f.base64.encode(e.compressedSdpOffer,0,e.compressedSdpOffer.length):t.bytes===Array?Array.prototype.slice.call(e.compressedSdpOffer):e.compressedSdpOffer),e.videoSubscriptionConfiguration&&e.videoSubscriptionConfiguration.length){r.videoSubscriptionConfiguration=[];for(var l=0;l<e.videoSubscriptionConfiguration.length;++l)r.videoSubscriptionConfiguration[l]=a.SdkVideoSubscriptionConfiguration.toObject(e.videoSubscriptionConfiguration[l],t)}return r},"toObject"),n.prototype.toJSON=o(function(){return this.constructor.toObject(this,S.util.toJSONOptions)},"toJSON"),n}(),a.SdkSubscribeAckFrame=function(){function n(i){if(this.allocations=[],this.tracks=[],i)for(var e=Object.keys(i),t=0;t<e.length;++t)i[e[t]]!=null&&(this[e[t]]=i[e[t]])}return o(n,"SdkSubscribeAckFrame"),n.prototype.duplex=1,n.prototype.allocations=f.emptyArray,n.prototype.sdpAnswer="",n.prototype.tracks=f.emptyArray,n.prototype.compressedSdpAnswer=f.newBuffer([]),n.create=o(function(e){return new n(e)},"create"),n.encode=o(function(e,t){if(t||(t=m.create()),e.duplex!=null&&Object.hasOwnProperty.call(e,"duplex")&&t.uint32(8).int32(e.duplex),e.allocations!=null&&e.allocations.length)for(var r=0;r<e.allocations.length;++r)a.SdkStreamAllocation.encode(e.allocations[r],t.uint32(18).fork()).ldelim();if(e.sdpAnswer!=null&&Object.hasOwnProperty.call(e,"sdpAnswer")&&t.uint32(26).string(e.sdpAnswer),e.tracks!=null&&e.tracks.length)for(var r=0;r<e.tracks.length;++r)a.SdkTrackMapping.encode(e.tracks[r],t.uint32(34).fork()).ldelim();return e.compressedSdpAnswer!=null&&Object.hasOwnProperty.call(e,"compressedSdpAnswer")&&t.uint32(42).bytes(e.compressedSdpAnswer),t},"encode"),n.encodeDelimited=o(function(e,t){return this.encode(e,t).ldelim()},"encodeDelimited"),n.decode=o(function(e,t){e instanceof h||(e=h.create(e));for(var r=t===void 0?e.len:e.pos+t,l=new a.SdkSubscribeAckFrame;e.pos<r;){var p=e.uint32();switch(p>>>3){case 1:l.duplex=e.int32();break;case 2:l.allocations&&l.allocations.length||(l.allocations=[]),l.allocations.push(a.SdkStreamAllocation.decode(e,e.uint32()));break;case 3:l.sdpAnswer=e.string();break;case 4:l.tracks&&l.tracks.length||(l.tracks=[]),l.tracks.push(a.SdkTrackMapping.decode(e,e.uint32()));break;case 5:l.compressedSdpAnswer=e.bytes();break;default:e.skipType(p&7);break}}return l},"decode"),n.decodeDelimited=o(function(e){return e instanceof h||(e=new h(e)),this.decode(e,e.uint32())},"decodeDelimited"),n.verify=o(function(e){if(typeof e!="object"||e===null)return"object expected";if(e.duplex!=null&&e.hasOwnProperty("duplex"))switch(e.duplex){default:return"duplex: enum value expected";case 1:case 2:case 3:break}if(e.allocations!=null&&e.hasOwnProperty("allocations")){if(!Array.isArray(e.allocations))return"allocations: array expected";for(var t=0;t<e.allocations.length;++t){var r=a.SdkStreamAllocation.verify(e.allocations[t]);if(r)return"allocations."+r}}if(e.sdpAnswer!=null&&e.hasOwnProperty("sdpAnswer")&&!f.isString(e.sdpAnswer))return"sdpAnswer: string expected";if(e.tracks!=null&&e.hasOwnProperty("tracks")){if(!Array.isArray(e.tracks))return"tracks: array expected";for(var t=0;t<e.tracks.length;++t){var r=a.SdkTrackMapping.verify(e.tracks[t]);if(r)return"tracks."+r}}return e.compressedSdpAnswer!=null&&e.hasOwnProperty("compressedSdpAnswer")&&!(e.compressedSdpAnswer&&typeof e.compressedSdpAnswer.length=="number"||f.isString(e.compressedSdpAnswer))?"compressedSdpAnswer: buffer expected":null},"verify"),n.fromObject=o(function(e){if(e instanceof a.SdkSubscribeAckFrame)return e;var t=new a.SdkSubscribeAckFrame;switch(e.duplex){case"RX":case 1:t.duplex=1;break;case"TX":case 2:t.duplex=2;break;case"DUPLEX":case 3:t.duplex=3;break}if(e.allocations){if(!Array.isArray(e.allocations))throw TypeError(".SdkSubscribeAckFrame.allocations: array expected");t.allocations=[];for(var r=0;r<e.allocations.length;++r){if(typeof e.allocations[r]!="object")throw TypeError(".SdkSubscribeAckFrame.allocations: object expected");t.allocations[r]=a.SdkStreamAllocation.fromObject(e.allocations[r])}}if(e.sdpAnswer!=null&&(t.sdpAnswer=String(e.sdpAnswer)),e.tracks){if(!Array.isArray(e.tracks))throw TypeError(".SdkSubscribeAckFrame.tracks: array expected");t.tracks=[];for(var r=0;r<e.tracks.length;++r){if(typeof e.tracks[r]!="object")throw TypeError(".SdkSubscribeAckFrame.tracks: object expected");t.tracks[r]=a.SdkTrackMapping.fromObject(e.tracks[r])}}return e.compressedSdpAnswer!=null&&(typeof e.compressedSdpAnswer=="string"?f.base64.decode(e.compressedSdpAnswer,t.compressedSdpAnswer=f.newBuffer(f.base64.length(e.compressedSdpAnswer)),0):e.compressedSdpAnswer.length&&(t.compressedSdpAnswer=e.compressedSdpAnswer)),t},"fromObject"),n.toObject=o(function(e,t){t||(t={});var r={};if((t.arrays||t.defaults)&&(r.allocations=[],r.tracks=[]),t.defaults&&(r.duplex=t.enums===String?"RX":1,r.sdpAnswer="",t.bytes===String?r.compressedSdpAnswer="":(r.compressedSdpAnswer=[],t.bytes!==Array&&(r.compressedSdpAnswer=f.newBuffer(r.compressedSdpAnswer)))),e.duplex!=null&&e.hasOwnProperty("duplex")&&(r.duplex=t.enums===String?a.SdkStreamServiceType[e.duplex]:e.duplex),e.allocations&&e.allocations.length){r.allocations=[];for(var l=0;l<e.allocations.length;++l)r.allocations[l]=a.SdkStreamAllocation.toObject(e.allocations[l],t)}if(e.sdpAnswer!=null&&e.hasOwnProperty("sdpAnswer")&&(r.sdpAnswer=e.sdpAnswer),e.tracks&&e.tracks.length){r.tracks=[];for(var l=0;l<e.tracks.length;++l)r.tracks[l]=a.SdkTrackMapping.toObject(e.tracks[l],t)}return e.compressedSdpAnswer!=null&&e.hasOwnProperty("compressedSdpAnswer")&&(r.compressedSdpAnswer=t.bytes===String?f.base64.encode(e.compressedSdpAnswer,0,e.compressedSdpAnswer.length):t.bytes===Array?Array.prototype.slice.call(e.compressedSdpAnswer):e.compressedSdpAnswer),r},"toObject"),n.prototype.toJSON=o(function(){return this.constructor.toObject(this,S.util.toJSONOptions)},"toJSON"),n}(),a.SdkIndexFrame=function(){function n(i){if(this.sources=[],this.pausedAtSourceIds=[],this.supportedReceiveCodecIntersection=[],i)for(var e=Object.keys(i),t=0;t<e.length;++t)i[e[t]]!=null&&(this[e[t]]=i[e[t]])}return o(n,"SdkIndexFrame"),n.prototype.atCapacity=!1,n.prototype.sources=f.emptyArray,n.prototype.pausedAtSourceIds=f.emptyArray,n.prototype.numParticipants=0,n.prototype.supportedReceiveCodecIntersection=f.emptyArray,n.create=o(function(e){return new n(e)},"create"),n.encode=o(function(e,t){if(t||(t=m.create()),e.atCapacity!=null&&Object.hasOwnProperty.call(e,"atCapacity")&&t.uint32(8).bool(e.atCapacity),e.sources!=null&&e.sources.length)for(var r=0;r<e.sources.length;++r)a.SdkStreamDescriptor.encode(e.sources[r],t.uint32(18).fork()).ldelim();if(e.pausedAtSourceIds!=null&&e.pausedAtSourceIds.length)for(var r=0;r<e.pausedAtSourceIds.length;++r)t.uint32(24).uint32(e.pausedAtSourceIds[r]);if(e.numParticipants!=null&&Object.hasOwnProperty.call(e,"numParticipants")&&t.uint32(32).uint32(e.numParticipants),e.supportedReceiveCodecIntersection!=null&&e.supportedReceiveCodecIntersection.length)for(var r=0;r<e.supportedReceiveCodecIntersection.length;++r)t.uint32(40).int32(e.supportedReceiveCodecIntersection[r]);return t},"encode"),n.encodeDelimited=o(function(e,t){return this.encode(e,t).ldelim()},"encodeDelimited"),n.decode=o(function(e,t){e instanceof h||(e=h.create(e));for(var r=t===void 0?e.len:e.pos+t,l=new a.SdkIndexFrame;e.pos<r;){var p=e.uint32();switch(p>>>3){case 1:l.atCapacity=e.bool();break;case 2:l.sources&&l.sources.length||(l.sources=[]),l.sources.push(a.SdkStreamDescriptor.decode(e,e.uint32()));break;case 3:if(l.pausedAtSourceIds&&l.pausedAtSourceIds.length||(l.pausedAtSourceIds=[]),(p&7)===2)for(var v=e.uint32()+e.pos;e.pos<v;)l.pausedAtSourceIds.push(e.uint32());else l.pausedAtSourceIds.push(e.uint32());break;case 4:l.numParticipants=e.uint32();break;case 5:if(l.supportedReceiveCodecIntersection&&l.supportedReceiveCodecIntersection.length||(l.supportedReceiveCodecIntersection=[]),(p&7)===2)for(var v=e.uint32()+e.pos;e.pos<v;)l.supportedReceiveCodecIntersection.push(e.int32());else l.supportedReceiveCodecIntersection.push(e.int32());break;default:e.skipType(p&7);break}}return l},"decode"),n.decodeDelimited=o(function(e){return e instanceof h||(e=new h(e)),this.decode(e,e.uint32())},"decodeDelimited"),n.verify=o(function(e){if(typeof e!="object"||e===null)return"object expected";if(e.atCapacity!=null&&e.hasOwnProperty("atCapacity")&&typeof e.atCapacity!="boolean")return"atCapacity: boolean expected";if(e.sources!=null&&e.hasOwnProperty("sources")){if(!Array.isArray(e.sources))return"sources: array expected";for(var t=0;t<e.sources.length;++t){var r=a.SdkStreamDescriptor.verify(e.sources[t]);if(r)return"sources."+r}}if(e.pausedAtSourceIds!=null&&e.hasOwnProperty("pausedAtSourceIds")){if(!Array.isArray(e.pausedAtSourceIds))return"pausedAtSourceIds: array expected";for(var t=0;t<e.pausedAtSourceIds.length;++t)if(!f.isInteger(e.pausedAtSourceIds[t]))return"pausedAtSourceIds: integer[] expected"}if(e.numParticipants!=null&&e.hasOwnProperty("numParticipants")&&!f.isInteger(e.numParticipants))return"numParticipants: integer expected";if(e.supportedReceiveCodecIntersection!=null&&e.hasOwnProperty("supportedReceiveCodecIntersection")){if(!Array.isArray(e.supportedReceiveCodecIntersection))return"supportedReceiveCodecIntersection: array expected";for(var t=0;t<e.supportedReceiveCodecIntersection.length;++t)switch(e.supportedReceiveCodecIntersection[t]){default:return"supportedReceiveCodecIntersection: enum value[] expected";case 1:case 3:break}}return null},"verify"),n.fromObject=o(function(e){if(e instanceof a.SdkIndexFrame)return e;var t=new a.SdkIndexFrame;if(e.atCapacity!=null&&(t.atCapacity=Boolean(e.atCapacity)),e.sources){if(!Array.isArray(e.sources))throw TypeError(".SdkIndexFrame.sources: array expected");t.sources=[];for(var r=0;r<e.sources.length;++r){if(typeof e.sources[r]!="object")throw TypeError(".SdkIndexFrame.sources: object expected");t.sources[r]=a.SdkStreamDescriptor.fromObject(e.sources[r])}}if(e.pausedAtSourceIds){if(!Array.isArray(e.pausedAtSourceIds))throw TypeError(".SdkIndexFrame.pausedAtSourceIds: array expected");t.pausedAtSourceIds=[];for(var r=0;r<e.pausedAtSourceIds.length;++r)t.pausedAtSourceIds[r]=e.pausedAtSourceIds[r]>>>0}if(e.numParticipants!=null&&(t.numParticipants=e.numParticipants>>>0),e.supportedReceiveCodecIntersection){if(!Array.isArray(e.supportedReceiveCodecIntersection))throw TypeError(".SdkIndexFrame.supportedReceiveCodecIntersection: array expected");t.supportedReceiveCodecIntersection=[];for(var r=0;r<e.supportedReceiveCodecIntersection.length;++r)switch(e.supportedReceiveCodecIntersection[r]){default:case"VP8":case 1:t.supportedReceiveCodecIntersection[r]=1;break;case"H264_CONSTRAINED_BASELINE_PROFILE":case 3:t.supportedReceiveCodecIntersection[r]=3;break}}return t},"fromObject"),n.toObject=o(function(e,t){t||(t={});var r={};if((t.arrays||t.defaults)&&(r.sources=[],r.pausedAtSourceIds=[],r.supportedReceiveCodecIntersection=[]),t.defaults&&(r.atCapacity=!1,r.numParticipants=0),e.atCapacity!=null&&e.hasOwnProperty("atCapacity")&&(r.atCapacity=e.atCapacity),e.sources&&e.sources.length){r.sources=[];for(var l=0;l<e.sources.length;++l)r.sources[l]=a.SdkStreamDescriptor.toObject(e.sources[l],t)}if(e.pausedAtSourceIds&&e.pausedAtSourceIds.length){r.pausedAtSourceIds=[];for(var l=0;l<e.pausedAtSourceIds.length;++l)r.pausedAtSourceIds[l]=e.pausedAtSourceIds[l]}if(e.numParticipants!=null&&e.hasOwnProperty("numParticipants")&&(r.numParticipants=e.numParticipants),e.supportedReceiveCodecIntersection&&e.supportedReceiveCodecIntersection.length){r.supportedReceiveCodecIntersection=[];for(var l=0;l<e.supportedReceiveCodecIntersection.length;++l)r.supportedReceiveCodecIntersection[l]=t.enums===String?a.SdkVideoCodecCapability[e.supportedReceiveCodecIntersection[l]]:e.supportedReceiveCodecIntersection[l]}return r},"toObject"),n.prototype.toJSON=o(function(){return this.constructor.toObject(this,S.util.toJSONOptions)},"toJSON"),n}(),a.SdkPauseResumeFrame=function(){function n(i){if(this.streamIds=[],this.groupIds=[],i)for(var e=Object.keys(i),t=0;t<e.length;++t)i[e[t]]!=null&&(this[e[t]]=i[e[t]])}return o(n,"SdkPauseResumeFrame"),n.prototype.streamIds=f.emptyArray,n.prototype.groupIds=f.emptyArray,n.create=o(function(e){return new n(e)},"create"),n.encode=o(function(e,t){if(t||(t=m.create()),e.streamIds!=null&&e.streamIds.length)for(var r=0;r<e.streamIds.length;++r)t.uint32(8).uint32(e.streamIds[r]);if(e.groupIds!=null&&e.groupIds.length)for(var r=0;r<e.groupIds.length;++r)t.uint32(16).uint32(e.groupIds[r]);return t},"encode"),n.encodeDelimited=o(function(e,t){return this.encode(e,t).ldelim()},"encodeDelimited"),n.decode=o(function(e,t){e instanceof h||(e=h.create(e));for(var r=t===void 0?e.len:e.pos+t,l=new a.SdkPauseResumeFrame;e.pos<r;){var p=e.uint32();switch(p>>>3){case 1:if(l.streamIds&&l.streamIds.length||(l.streamIds=[]),(p&7)===2)for(var v=e.uint32()+e.pos;e.pos<v;)l.streamIds.push(e.uint32());else l.streamIds.push(e.uint32());break;case 2:if(l.groupIds&&l.groupIds.length||(l.groupIds=[]),(p&7)===2)for(var v=e.uint32()+e.pos;e.pos<v;)l.groupIds.push(e.uint32());else l.groupIds.push(e.uint32());break;default:e.skipType(p&7);break}}return l},"decode"),n.decodeDelimited=o(function(e){return e instanceof h||(e=new h(e)),this.decode(e,e.uint32())},"decodeDelimited"),n.verify=o(function(e){if(typeof e!="object"||e===null)return"object expected";if(e.streamIds!=null&&e.hasOwnProperty("streamIds")){if(!Array.isArray(e.streamIds))return"streamIds: array expected";for(var t=0;t<e.streamIds.length;++t)if(!f.isInteger(e.streamIds[t]))return"streamIds: integer[] expected"}if(e.groupIds!=null&&e.hasOwnProperty("groupIds")){if(!Array.isArray(e.groupIds))return"groupIds: array expected";for(var t=0;t<e.groupIds.length;++t)if(!f.isInteger(e.groupIds[t]))return"groupIds: integer[] expected"}return null},"verify"),n.fromObject=o(function(e){if(e instanceof a.SdkPauseResumeFrame)return e;var t=new a.SdkPauseResumeFrame;if(e.streamIds){if(!Array.isArray(e.streamIds))throw TypeError(".SdkPauseResumeFrame.streamIds: array expected");t.streamIds=[];for(var r=0;r<e.streamIds.length;++r)t.streamIds[r]=e.streamIds[r]>>>0}if(e.groupIds){if(!Array.isArray(e.groupIds))throw TypeError(".SdkPauseResumeFrame.groupIds: array expected");t.groupIds=[];for(var r=0;r<e.groupIds.length;++r)t.groupIds[r]=e.groupIds[r]>>>0}return t},"fromObject"),n.toObject=o(function(e,t){t||(t={});var r={};if((t.arrays||t.defaults)&&(r.streamIds=[],r.groupIds=[]),e.streamIds&&e.streamIds.length){r.streamIds=[];for(var l=0;l<e.streamIds.length;++l)r.streamIds[l]=e.streamIds[l]}if(e.groupIds&&e.groupIds.length){r.groupIds=[];for(var l=0;l<e.groupIds.length;++l)r.groupIds[l]=e.groupIds[l]}return r},"toObject"),n.prototype.toJSON=o(function(){return this.constructor.toObject(this,S.util.toJSONOptions)},"toJSON"),n}(),a.SdkBitrateFrame=function(){function n(i){if(this.bitrates=[],i)for(var e=Object.keys(i),t=0;t<e.length;++t)i[e[t]]!=null&&(this[e[t]]=i[e[t]])}return o(n,"SdkBitrateFrame"),n.prototype.bitrates=f.emptyArray,n.create=o(function(e){return new n(e)},"create"),n.encode=o(function(e,t){if(t||(t=m.create()),e.bitrates!=null&&e.bitrates.length)for(var r=0;r<e.bitrates.length;++r)a.SdkBitrate.encode(e.bitrates[r],t.uint32(10).fork()).ldelim();return t},"encode"),n.encodeDelimited=o(function(e,t){return this.encode(e,t).ldelim()},"encodeDelimited"),n.decode=o(function(e,t){e instanceof h||(e=h.create(e));for(var r=t===void 0?e.len:e.pos+t,l=new a.SdkBitrateFrame;e.pos<r;){var p=e.uint32();switch(p>>>3){case 1:l.bitrates&&l.bitrates.length||(l.bitrates=[]),l.bitrates.push(a.SdkBitrate.decode(e,e.uint32()));break;default:e.skipType(p&7);break}}return l},"decode"),n.decodeDelimited=o(function(e){return e instanceof h||(e=new h(e)),this.decode(e,e.uint32())},"decodeDelimited"),n.verify=o(function(e){if(typeof e!="object"||e===null)return"object expected";if(e.bitrates!=null&&e.hasOwnProperty("bitrates")){if(!Array.isArray(e.bitrates))return"bitrates: array expected";for(var t=0;t<e.bitrates.length;++t){var r=a.SdkBitrate.verify(e.bitrates[t]);if(r)return"bitrates."+r}}return null},"verify"),n.fromObject=o(function(e){if(e instanceof a.SdkBitrateFrame)return e;var t=new a.SdkBitrateFrame;if(e.bitrates){if(!Array.isArray(e.bitrates))throw TypeError(".SdkBitrateFrame.bitrates: array expected");t.bitrates=[];for(var r=0;r<e.bitrates.length;++r){if(typeof e.bitrates[r]!="object")throw TypeError(".SdkBitrateFrame.bitrates: object expected");t.bitrates[r]=a.SdkBitrate.fromObject(e.bitrates[r])}}return t},"fromObject"),n.toObject=o(function(e,t){t||(t={});var r={};if((t.arrays||t.defaults)&&(r.bitrates=[]),e.bitrates&&e.bitrates.length){r.bitrates=[];for(var l=0;l<e.bitrates.length;++l)r.bitrates[l]=a.SdkBitrate.toObject(e.bitrates[l],t)}return r},"toObject"),n.prototype.toJSON=o(function(){return this.constructor.toObject(this,S.util.toJSONOptions)},"toJSON"),n}(),a.SdkStreamDescriptor=function(){function n(i){if(i)for(var e=Object.keys(i),t=0;t<e.length;++t)i[e[t]]!=null&&(this[e[t]]=i[e[t]])}return o(n,"SdkStreamDescriptor"),n.prototype.streamId=0,n.prototype.framerate=0,n.prototype.maxBitrateKbps=0,n.prototype.trackLabel="",n.prototype.groupId=0,n.prototype.avgBitrateBps=0,n.prototype.attendeeId="",n.prototype.mediaType=1,n.prototype.externalUserId="",n.create=o(function(e){return new n(e)},"create"),n.encode=o(function(e,t){return t||(t=m.create()),e.streamId!=null&&Object.hasOwnProperty.call(e,"streamId")&&t.uint32(8).uint32(e.streamId),e.framerate!=null&&Object.hasOwnProperty.call(e,"framerate")&&t.uint32(16).uint32(e.framerate),e.maxBitrateKbps!=null&&Object.hasOwnProperty.call(e,"maxBitrateKbps")&&t.uint32(24).uint32(e.maxBitrateKbps),e.trackLabel!=null&&Object.hasOwnProperty.call(e,"trackLabel")&&t.uint32(34).string(e.trackLabel),e.groupId!=null&&Object.hasOwnProperty.call(e,"groupId")&&t.uint32(48).uint32(e.groupId),e.avgBitrateBps!=null&&Object.hasOwnProperty.call(e,"avgBitrateBps")&&t.uint32(56).uint32(e.avgBitrateBps),e.attendeeId!=null&&Object.hasOwnProperty.call(e,"attendeeId")&&t.uint32(66).string(e.attendeeId),e.mediaType!=null&&Object.hasOwnProperty.call(e,"mediaType")&&t.uint32(72).int32(e.mediaType),e.externalUserId!=null&&Object.hasOwnProperty.call(e,"externalUserId")&&t.uint32(82).string(e.externalUserId),t},"encode"),n.encodeDelimited=o(function(e,t){return this.encode(e,t).ldelim()},"encodeDelimited"),n.decode=o(function(e,t){e instanceof h||(e=h.create(e));for(var r=t===void 0?e.len:e.pos+t,l=new a.SdkStreamDescriptor;e.pos<r;){var p=e.uint32();switch(p>>>3){case 1:l.streamId=e.uint32();break;case 2:l.framerate=e.uint32();break;case 3:l.maxBitrateKbps=e.uint32();break;case 4:l.trackLabel=e.string();break;case 6:l.groupId=e.uint32();break;case 7:l.avgBitrateBps=e.uint32();break;case 8:l.attendeeId=e.string();break;case 9:l.mediaType=e.int32();break;case 10:l.externalUserId=e.string();break;default:e.skipType(p&7);break}}return l},"decode"),n.decodeDelimited=o(function(e){return e instanceof h||(e=new h(e)),this.decode(e,e.uint32())},"decodeDelimited"),n.verify=o(function(e){if(typeof e!="object"||e===null)return"object expected";if(e.streamId!=null&&e.hasOwnProperty("streamId")&&!f.isInteger(e.streamId))return"streamId: integer expected";if(e.framerate!=null&&e.hasOwnProperty("framerate")&&!f.isInteger(e.framerate))return"framerate: integer expected";if(e.maxBitrateKbps!=null&&e.hasOwnProperty("maxBitrateKbps")&&!f.isInteger(e.maxBitrateKbps))return"maxBitrateKbps: integer expected";if(e.trackLabel!=null&&e.hasOwnProperty("trackLabel")&&!f.isString(e.trackLabel))return"trackLabel: string expected";if(e.groupId!=null&&e.hasOwnProperty("groupId")&&!f.isInteger(e.groupId))return"groupId: integer expected";if(e.avgBitrateBps!=null&&e.hasOwnProperty("avgBitrateBps")&&!f.isInteger(e.avgBitrateBps))return"avgBitrateBps: integer expected";if(e.attendeeId!=null&&e.hasOwnProperty("attendeeId")&&!f.isString(e.attendeeId))return"attendeeId: string expected";if(e.mediaType!=null&&e.hasOwnProperty("mediaType"))switch(e.mediaType){default:return"mediaType: enum value expected";case 1:case 2:break}return e.externalUserId!=null&&e.hasOwnProperty("externalUserId")&&!f.isString(e.externalUserId)?"externalUserId: string expected":null},"verify"),n.fromObject=o(function(e){if(e instanceof a.SdkStreamDescriptor)return e;var t=new a.SdkStreamDescriptor;switch(e.streamId!=null&&(t.streamId=e.streamId>>>0),e.framerate!=null&&(t.framerate=e.framerate>>>0),e.maxBitrateKbps!=null&&(t.maxBitrateKbps=e.maxBitrateKbps>>>0),e.trackLabel!=null&&(t.trackLabel=String(e.trackLabel)),e.groupId!=null&&(t.groupId=e.groupId>>>0),e.avgBitrateBps!=null&&(t.avgBitrateBps=e.avgBitrateBps>>>0),e.attendeeId!=null&&(t.attendeeId=String(e.attendeeId)),e.mediaType){case"AUDIO":case 1:t.mediaType=1;break;case"VIDEO":case 2:t.mediaType=2;break}return e.externalUserId!=null&&(t.externalUserId=String(e.externalUserId)),t},"fromObject"),n.toObject=o(function(e,t){t||(t={});var r={};return t.defaults&&(r.streamId=0,r.framerate=0,r.maxBitrateKbps=0,r.trackLabel="",r.groupId=0,r.avgBitrateBps=0,r.attendeeId="",r.mediaType=t.enums===String?"AUDIO":1,r.externalUserId=""),e.streamId!=null&&e.hasOwnProperty("streamId")&&(r.streamId=e.streamId),e.framerate!=null&&e.hasOwnProperty("framerate")&&(r.framerate=e.framerate),e.maxBitrateKbps!=null&&e.hasOwnProperty("maxBitrateKbps")&&(r.maxBitrateKbps=e.maxBitrateKbps),e.trackLabel!=null&&e.hasOwnProperty("trackLabel")&&(r.trackLabel=e.trackLabel),e.groupId!=null&&e.hasOwnProperty("groupId")&&(r.groupId=e.groupId),e.avgBitrateBps!=null&&e.hasOwnProperty("avgBitrateBps")&&(r.avgBitrateBps=e.avgBitrateBps),e.attendeeId!=null&&e.hasOwnProperty("attendeeId")&&(r.attendeeId=e.attendeeId),e.mediaType!=null&&e.hasOwnProperty("mediaType")&&(r.mediaType=t.enums===String?a.SdkStreamMediaType[e.mediaType]:e.mediaType),e.externalUserId!=null&&e.hasOwnProperty("externalUserId")&&(r.externalUserId=e.externalUserId),r},"toObject"),n.prototype.toJSON=o(function(){return this.constructor.toObject(this,S.util.toJSONOptions)},"toJSON"),n}(),a.SdkStreamAllocation=function(){function n(i){if(i)for(var e=Object.keys(i),t=0;t<e.length;++t)i[e[t]]!=null&&(this[e[t]]=i[e[t]])}return o(n,"SdkStreamAllocation"),n.prototype.trackLabel="",n.prototype.streamId=0,n.prototype.groupId=0,n.create=o(function(e){return new n(e)},"create"),n.encode=o(function(e,t){return t||(t=m.create()),e.trackLabel!=null&&Object.hasOwnProperty.call(e,"trackLabel")&&t.uint32(10).string(e.trackLabel),e.streamId!=null&&Object.hasOwnProperty.call(e,"streamId")&&t.uint32(16).uint32(e.streamId),e.groupId!=null&&Object.hasOwnProperty.call(e,"groupId")&&t.uint32(24).uint32(e.groupId),t},"encode"),n.encodeDelimited=o(function(e,t){return this.encode(e,t).ldelim()},"encodeDelimited"),n.decode=o(function(e,t){e instanceof h||(e=h.create(e));for(var r=t===void 0?e.len:e.pos+t,l=new a.SdkStreamAllocation;e.pos<r;){var p=e.uint32();switch(p>>>3){case 1:l.trackLabel=e.string();break;case 2:l.streamId=e.uint32();break;case 3:l.groupId=e.uint32();break;default:e.skipType(p&7);break}}return l},"decode"),n.decodeDelimited=o(function(e){return e instanceof h||(e=new h(e)),this.decode(e,e.uint32())},"decodeDelimited"),n.verify=o(function(e){return typeof e!="object"||e===null?"object expected":e.trackLabel!=null&&e.hasOwnProperty("trackLabel")&&!f.isString(e.trackLabel)?"trackLabel: string expected":e.streamId!=null&&e.hasOwnProperty("streamId")&&!f.isInteger(e.streamId)?"streamId: integer expected":e.groupId!=null&&e.hasOwnProperty("groupId")&&!f.isInteger(e.groupId)?"groupId: integer expected":null},"verify"),n.fromObject=o(function(e){if(e instanceof a.SdkStreamAllocation)return e;var t=new a.SdkStreamAllocation;return e.trackLabel!=null&&(t.trackLabel=String(e.trackLabel)),e.streamId!=null&&(t.streamId=e.streamId>>>0),e.groupId!=null&&(t.groupId=e.groupId>>>0),t},"fromObject"),n.toObject=o(function(e,t){t||(t={});var r={};return t.defaults&&(r.trackLabel="",r.streamId=0,r.groupId=0),e.trackLabel!=null&&e.hasOwnProperty("trackLabel")&&(r.trackLabel=e.trackLabel),e.streamId!=null&&e.hasOwnProperty("streamId")&&(r.streamId=e.streamId),e.groupId!=null&&e.hasOwnProperty("groupId")&&(r.groupId=e.groupId),r},"toObject"),n.prototype.toJSON=o(function(){return this.constructor.toObject(this,S.util.toJSONOptions)},"toJSON"),n}(),a.SdkTrackMapping=function(){function n(i){if(i)for(var e=Object.keys(i),t=0;t<e.length;++t)i[e[t]]!=null&&(this[e[t]]=i[e[t]])}return o(n,"SdkTrackMapping"),n.prototype.streamId=0,n.prototype.ssrc=0,n.prototype.trackLabel="",n.create=o(function(e){return new n(e)},"create"),n.encode=o(function(e,t){return t||(t=m.create()),e.streamId!=null&&Object.hasOwnProperty.call(e,"streamId")&&t.uint32(8).uint32(e.streamId),e.ssrc!=null&&Object.hasOwnProperty.call(e,"ssrc")&&t.uint32(16).uint32(e.ssrc),e.trackLabel!=null&&Object.hasOwnProperty.call(e,"trackLabel")&&t.uint32(26).string(e.trackLabel),t},"encode"),n.encodeDelimited=o(function(e,t){return this.encode(e,t).ldelim()},"encodeDelimited"),n.decode=o(function(e,t){e instanceof h||(e=h.create(e));for(var r=t===void 0?e.len:e.pos+t,l=new a.SdkTrackMapping;e.pos<r;){var p=e.uint32();switch(p>>>3){case 1:l.streamId=e.uint32();break;case 2:l.ssrc=e.uint32();break;case 3:l.trackLabel=e.string();break;default:e.skipType(p&7);break}}return l},"decode"),n.decodeDelimited=o(function(e){return e instanceof h||(e=new h(e)),this.decode(e,e.uint32())},"decodeDelimited"),n.verify=o(function(e){return typeof e!="object"||e===null?"object expected":e.streamId!=null&&e.hasOwnProperty("streamId")&&!f.isInteger(e.streamId)?"streamId: integer expected":e.ssrc!=null&&e.hasOwnProperty("ssrc")&&!f.isInteger(e.ssrc)?"ssrc: integer expected":e.trackLabel!=null&&e.hasOwnProperty("trackLabel")&&!f.isString(e.trackLabel)?"trackLabel: string expected":null},"verify"),n.fromObject=o(function(e){if(e instanceof a.SdkTrackMapping)return e;var t=new a.SdkTrackMapping;return e.streamId!=null&&(t.streamId=e.streamId>>>0),e.ssrc!=null&&(t.ssrc=e.ssrc>>>0),e.trackLabel!=null&&(t.trackLabel=String(e.trackLabel)),t},"fromObject"),n.toObject=o(function(e,t){t||(t={});var r={};return t.defaults&&(r.streamId=0,r.ssrc=0,r.trackLabel=""),e.streamId!=null&&e.hasOwnProperty("streamId")&&(r.streamId=e.streamId),e.ssrc!=null&&e.hasOwnProperty("ssrc")&&(r.ssrc=e.ssrc),e.trackLabel!=null&&e.hasOwnProperty("trackLabel")&&(r.trackLabel=e.trackLabel),r},"toObject"),n.prototype.toJSON=o(function(){return this.constructor.toObject(this,S.util.toJSONOptions)},"toJSON"),n}(),a.SdkBitrate=function(){function n(i){if(i)for(var e=Object.keys(i),t=0;t<e.length;++t)i[e[t]]!=null&&(this[e[t]]=i[e[t]])}return o(n,"SdkBitrate"),n.prototype.sourceStreamId=0,n.prototype.avgBitrateBps=0,n.create=o(function(e){return new n(e)},"create"),n.encode=o(function(e,t){return t||(t=m.create()),e.sourceStreamId!=null&&Object.hasOwnProperty.call(e,"sourceStreamId")&&t.uint32(8).uint32(e.sourceStreamId),e.avgBitrateBps!=null&&Object.hasOwnProperty.call(e,"avgBitrateBps")&&t.uint32(16).uint32(e.avgBitrateBps),t},"encode"),n.encodeDelimited=o(function(e,t){return this.encode(e,t).ldelim()},"encodeDelimited"),n.decode=o(function(e,t){e instanceof h||(e=h.create(e));for(var r=t===void 0?e.len:e.pos+t,l=new a.SdkBitrate;e.pos<r;){var p=e.uint32();switch(p>>>3){case 1:l.sourceStreamId=e.uint32();break;case 2:l.avgBitrateBps=e.uint32();break;default:e.skipType(p&7);break}}return l},"decode"),n.decodeDelimited=o(function(e){return e instanceof h||(e=new h(e)),this.decode(e,e.uint32())},"decodeDelimited"),n.verify=o(function(e){return typeof e!="object"||e===null?"object expected":e.sourceStreamId!=null&&e.hasOwnProperty("sourceStreamId")&&!f.isInteger(e.sourceStreamId)?"sourceStreamId: integer expected":e.avgBitrateBps!=null&&e.hasOwnProperty("avgBitrateBps")&&!f.isInteger(e.avgBitrateBps)?"avgBitrateBps: integer expected":null},"verify"),n.fromObject=o(function(e){if(e instanceof a.SdkBitrate)return e;var t=new a.SdkBitrate;return e.sourceStreamId!=null&&(t.sourceStreamId=e.sourceStreamId>>>0),e.avgBitrateBps!=null&&(t.avgBitrateBps=e.avgBitrateBps>>>0),t},"fromObject"),n.toObject=o(function(e,t){t||(t={});var r={};return t.defaults&&(r.sourceStreamId=0,r.avgBitrateBps=0),e.sourceStreamId!=null&&e.hasOwnProperty("sourceStreamId")&&(r.sourceStreamId=e.sourceStreamId),e.avgBitrateBps!=null&&e.hasOwnProperty("avgBitrateBps")&&(r.avgBitrateBps=e.avgBitrateBps),r},"toObject"),n.prototype.toJSON=o(function(){return this.constructor.toObject(this,S.util.toJSONOptions)},"toJSON"),n}(),a.SdkAudioControlFrame=function(){function n(i){if(i)for(var e=Object.keys(i),t=0;t<e.length;++t)i[e[t]]!=null&&(this[e[t]]=i[e[t]])}return o(n,"SdkAudioControlFrame"),n.prototype.muted=!1,n.create=o(function(e){return new n(e)},"create"),n.encode=o(function(e,t){return t||(t=m.create()),e.muted!=null&&Object.hasOwnProperty.call(e,"muted")&&t.uint32(8).bool(e.muted),t},"encode"),n.encodeDelimited=o(function(e,t){return this.encode(e,t).ldelim()},"encodeDelimited"),n.decode=o(function(e,t){e instanceof h||(e=h.create(e));for(var r=t===void 0?e.len:e.pos+t,l=new a.SdkAudioControlFrame;e.pos<r;){var p=e.uint32();switch(p>>>3){case 1:l.muted=e.bool();break;default:e.skipType(p&7);break}}return l},"decode"),n.decodeDelimited=o(function(e){return e instanceof h||(e=new h(e)),this.decode(e,e.uint32())},"decodeDelimited"),n.verify=o(function(e){return typeof e!="object"||e===null?"object expected":e.muted!=null&&e.hasOwnProperty("muted")&&typeof e.muted!="boolean"?"muted: boolean expected":null},"verify"),n.fromObject=o(function(e){if(e instanceof a.SdkAudioControlFrame)return e;var t=new a.SdkAudioControlFrame;return e.muted!=null&&(t.muted=Boolean(e.muted)),t},"fromObject"),n.toObject=o(function(e,t){t||(t={});var r={};return t.defaults&&(r.muted=!1),e.muted!=null&&e.hasOwnProperty("muted")&&(r.muted=e.muted),r},"toObject"),n.prototype.toJSON=o(function(){return this.constructor.toObject(this,S.util.toJSONOptions)},"toJSON"),n}(),a.SdkAudioMetadataFrame=function(){function n(i){if(this.attendeeStates=[],i)for(var e=Object.keys(i),t=0;t<e.length;++t)i[e[t]]!=null&&(this[e[t]]=i[e[t]])}return o(n,"SdkAudioMetadataFrame"),n.prototype.attendeeStates=f.emptyArray,n.create=o(function(e){return new n(e)},"create"),n.encode=o(function(e,t){if(t||(t=m.create()),e.attendeeStates!=null&&e.attendeeStates.length)for(var r=0;r<e.attendeeStates.length;++r)a.SdkAudioAttendeeState.encode(e.attendeeStates[r],t.uint32(10).fork()).ldelim();return t},"encode"),n.encodeDelimited=o(function(e,t){return this.encode(e,t).ldelim()},"encodeDelimited"),n.decode=o(function(e,t){e instanceof h||(e=h.create(e));for(var r=t===void 0?e.len:e.pos+t,l=new a.SdkAudioMetadataFrame;e.pos<r;){var p=e.uint32();switch(p>>>3){case 1:l.attendeeStates&&l.attendeeStates.length||(l.attendeeStates=[]),l.attendeeStates.push(a.SdkAudioAttendeeState.decode(e,e.uint32()));break;default:e.skipType(p&7);break}}return l},"decode"),n.decodeDelimited=o(function(e){return e instanceof h||(e=new h(e)),this.decode(e,e.uint32())},"decodeDelimited"),n.verify=o(function(e){if(typeof e!="object"||e===null)return"object expected";if(e.attendeeStates!=null&&e.hasOwnProperty("attendeeStates")){if(!Array.isArray(e.attendeeStates))return"attendeeStates: array expected";for(var t=0;t<e.attendeeStates.length;++t){var r=a.SdkAudioAttendeeState.verify(e.attendeeStates[t]);if(r)return"attendeeStates."+r}}return null},"verify"),n.fromObject=o(function(e){if(e instanceof a.SdkAudioMetadataFrame)return e;var t=new a.SdkAudioMetadataFrame;if(e.attendeeStates){if(!Array.isArray(e.attendeeStates))throw TypeError(".SdkAudioMetadataFrame.attendeeStates: array expected");t.attendeeStates=[];for(var r=0;r<e.attendeeStates.length;++r){if(typeof e.attendeeStates[r]!="object")throw TypeError(".SdkAudioMetadataFrame.attendeeStates: object expected");t.attendeeStates[r]=a.SdkAudioAttendeeState.fromObject(e.attendeeStates[r])}}return t},"fromObject"),n.toObject=o(function(e,t){t||(t={});var r={};if((t.arrays||t.defaults)&&(r.attendeeStates=[]),e.attendeeStates&&e.attendeeStates.length){r.attendeeStates=[];for(var l=0;l<e.attendeeStates.length;++l)r.attendeeStates[l]=a.SdkAudioAttendeeState.toObject(e.attendeeStates[l],t)}return r},"toObject"),n.prototype.toJSON=o(function(){return this.constructor.toObject(this,S.util.toJSONOptions)},"toJSON"),n}(),a.SdkAudioAttendeeState=function(){function n(i){if(i)for(var e=Object.keys(i),t=0;t<e.length;++t)i[e[t]]!=null&&(this[e[t]]=i[e[t]])}return o(n,"SdkAudioAttendeeState"),n.prototype.audioStreamId=0,n.prototype.volume=0,n.prototype.muted=!1,n.prototype.signalStrength=0,n.create=o(function(e){return new n(e)},"create"),n.encode=o(function(e,t){return t||(t=m.create()),e.audioStreamId!=null&&Object.hasOwnProperty.call(e,"audioStreamId")&&t.uint32(8).uint32(e.audioStreamId),e.volume!=null&&Object.hasOwnProperty.call(e,"volume")&&t.uint32(16).uint32(e.volume),e.muted!=null&&Object.hasOwnProperty.call(e,"muted")&&t.uint32(24).bool(e.muted),e.signalStrength!=null&&Object.hasOwnProperty.call(e,"signalStrength")&&t.uint32(32).uint32(e.signalStrength),t},"encode"),n.encodeDelimited=o(function(e,t){return this.encode(e,t).ldelim()},"encodeDelimited"),n.decode=o(function(e,t){e instanceof h||(e=h.create(e));for(var r=t===void 0?e.len:e.pos+t,l=new a.SdkAudioAttendeeState;e.pos<r;){var p=e.uint32();switch(p>>>3){case 1:l.audioStreamId=e.uint32();break;case 2:l.volume=e.uint32();break;case 3:l.muted=e.bool();break;case 4:l.signalStrength=e.uint32();break;default:e.skipType(p&7);break}}return l},"decode"),n.decodeDelimited=o(function(e){return e instanceof h||(e=new h(e)),this.decode(e,e.uint32())},"decodeDelimited"),n.verify=o(function(e){return typeof e!="object"||e===null?"object expected":e.audioStreamId!=null&&e.hasOwnProperty("audioStreamId")&&!f.isInteger(e.audioStreamId)?"audioStreamId: integer expected":e.volume!=null&&e.hasOwnProperty("volume")&&!f.isInteger(e.volume)?"volume: integer expected":e.muted!=null&&e.hasOwnProperty("muted")&&typeof e.muted!="boolean"?"muted: boolean expected":e.signalStrength!=null&&e.hasOwnProperty("signalStrength")&&!f.isInteger(e.signalStrength)?"signalStrength: integer expected":null},"verify"),n.fromObject=o(function(e){if(e instanceof a.SdkAudioAttendeeState)return e;var t=new a.SdkAudioAttendeeState;return e.audioStreamId!=null&&(t.audioStreamId=e.audioStreamId>>>0),e.volume!=null&&(t.volume=e.volume>>>0),e.muted!=null&&(t.muted=Boolean(e.muted)),e.signalStrength!=null&&(t.signalStrength=e.signalStrength>>>0),t},"fromObject"),n.toObject=o(function(e,t){t||(t={});var r={};return t.defaults&&(r.audioStreamId=0,r.volume=0,r.muted=!1,r.signalStrength=0),e.audioStreamId!=null&&e.hasOwnProperty("audioStreamId")&&(r.audioStreamId=e.audioStreamId),e.volume!=null&&e.hasOwnProperty("volume")&&(r.volume=e.volume),e.muted!=null&&e.hasOwnProperty("muted")&&(r.muted=e.muted),e.signalStrength!=null&&e.hasOwnProperty("signalStrength")&&(r.signalStrength=e.signalStrength),r},"toObject"),n.prototype.toJSON=o(function(){return this.constructor.toObject(this,S.util.toJSONOptions)},"toJSON"),n}(),a.SdkAudioStreamIdInfoFrame=function(){function n(i){if(this.streams=[],i)for(var e=Object.keys(i),t=0;t<e.length;++t)i[e[t]]!=null&&(this[e[t]]=i[e[t]])}return o(n,"SdkAudioStreamIdInfoFrame"),n.prototype.streams=f.emptyArray,n.create=o(function(e){return new n(e)},"create"),n.encode=o(function(e,t){if(t||(t=m.create()),e.streams!=null&&e.streams.length)for(var r=0;r<e.streams.length;++r)a.SdkAudioStreamIdInfo.encode(e.streams[r],t.uint32(10).fork()).ldelim();return t},"encode"),n.encodeDelimited=o(function(e,t){return this.encode(e,t).ldelim()},"encodeDelimited"),n.decode=o(function(e,t){e instanceof h||(e=h.create(e));for(var r=t===void 0?e.len:e.pos+t,l=new a.SdkAudioStreamIdInfoFrame;e.pos<r;){var p=e.uint32();switch(p>>>3){case 1:l.streams&&l.streams.length||(l.streams=[]),l.streams.push(a.SdkAudioStreamIdInfo.decode(e,e.uint32()));break;default:e.skipType(p&7);break}}return l},"decode"),n.decodeDelimited=o(function(e){return e instanceof h||(e=new h(e)),this.decode(e,e.uint32())},"decodeDelimited"),n.verify=o(function(e){if(typeof e!="object"||e===null)return"object expected";if(e.streams!=null&&e.hasOwnProperty("streams")){if(!Array.isArray(e.streams))return"streams: array expected";for(var t=0;t<e.streams.length;++t){var r=a.SdkAudioStreamIdInfo.verify(e.streams[t]);if(r)return"streams."+r}}return null},"verify"),n.fromObject=o(function(e){if(e instanceof a.SdkAudioStreamIdInfoFrame)return e;var t=new a.SdkAudioStreamIdInfoFrame;if(e.streams){if(!Array.isArray(e.streams))throw TypeError(".SdkAudioStreamIdInfoFrame.streams: array expected");t.streams=[];for(var r=0;r<e.streams.length;++r){if(typeof e.streams[r]!="object")throw TypeError(".SdkAudioStreamIdInfoFrame.streams: object expected");t.streams[r]=a.SdkAudioStreamIdInfo.fromObject(e.streams[r])}}return t},"fromObject"),n.toObject=o(function(e,t){t||(t={});var r={};if((t.arrays||t.defaults)&&(r.streams=[]),e.streams&&e.streams.length){r.streams=[];for(var l=0;l<e.streams.length;++l)r.streams[l]=a.SdkAudioStreamIdInfo.toObject(e.streams[l],t)}return r},"toObject"),n.prototype.toJSON=o(function(){return this.constructor.toObject(this,S.util.toJSONOptions)},"toJSON"),n}(),a.SdkAudioStreamIdInfo=function(){function n(i){if(i)for(var e=Object.keys(i),t=0;t<e.length;++t)i[e[t]]!=null&&(this[e[t]]=i[e[t]])}return o(n,"SdkAudioStreamIdInfo"),n.prototype.audioStreamId=0,n.prototype.attendeeId="",n.prototype.muted=!1,n.prototype.externalUserId="",n.prototype.dropped=!1,n.create=o(function(e){return new n(e)},"create"),n.encode=o(function(e,t){return t||(t=m.create()),e.audioStreamId!=null&&Object.hasOwnProperty.call(e,"audioStreamId")&&t.uint32(8).uint32(e.audioStreamId),e.attendeeId!=null&&Object.hasOwnProperty.call(e,"attendeeId")&&t.uint32(18).string(e.attendeeId),e.muted!=null&&Object.hasOwnProperty.call(e,"muted")&&t.uint32(24).bool(e.muted),e.externalUserId!=null&&Object.hasOwnProperty.call(e,"externalUserId")&&t.uint32(34).string(e.externalUserId),e.dropped!=null&&Object.hasOwnProperty.call(e,"dropped")&&t.uint32(40).bool(e.dropped),t},"encode"),n.encodeDelimited=o(function(e,t){return this.encode(e,t).ldelim()},"encodeDelimited"),n.decode=o(function(e,t){e instanceof h||(e=h.create(e));for(var r=t===void 0?e.len:e.pos+t,l=new a.SdkAudioStreamIdInfo;e.pos<r;){var p=e.uint32();switch(p>>>3){case 1:l.audioStreamId=e.uint32();break;case 2:l.attendeeId=e.string();break;case 3:l.muted=e.bool();break;case 4:l.externalUserId=e.string();break;case 5:l.dropped=e.bool();break;default:e.skipType(p&7);break}}return l},"decode"),n.decodeDelimited=o(function(e){return e instanceof h||(e=new h(e)),this.decode(e,e.uint32())},"decodeDelimited"),n.verify=o(function(e){return typeof e!="object"||e===null?"object expected":e.audioStreamId!=null&&e.hasOwnProperty("audioStreamId")&&!f.isInteger(e.audioStreamId)?"audioStreamId: integer expected":e.attendeeId!=null&&e.hasOwnProperty("attendeeId")&&!f.isString(e.attendeeId)?"attendeeId: string expected":e.muted!=null&&e.hasOwnProperty("muted")&&typeof e.muted!="boolean"?"muted: boolean expected":e.externalUserId!=null&&e.hasOwnProperty("externalUserId")&&!f.isString(e.externalUserId)?"externalUserId: string expected":e.dropped!=null&&e.hasOwnProperty("dropped")&&typeof e.dropped!="boolean"?"dropped: boolean expected":null},"verify"),n.fromObject=o(function(e){if(e instanceof a.SdkAudioStreamIdInfo)return e;var t=new a.SdkAudioStreamIdInfo;return e.audioStreamId!=null&&(t.audioStreamId=e.audioStreamId>>>0),e.attendeeId!=null&&(t.attendeeId=String(e.attendeeId)),e.muted!=null&&(t.muted=Boolean(e.muted)),e.externalUserId!=null&&(t.externalUserId=String(e.externalUserId)),e.dropped!=null&&(t.dropped=Boolean(e.dropped)),t},"fromObject"),n.toObject=o(function(e,t){t||(t={});var r={};return t.defaults&&(r.audioStreamId=0,r.attendeeId="",r.muted=!1,r.externalUserId="",r.dropped=!1),e.audioStreamId!=null&&e.hasOwnProperty("audioStreamId")&&(r.audioStreamId=e.audioStreamId),e.attendeeId!=null&&e.hasOwnProperty("attendeeId")&&(r.attendeeId=e.attendeeId),e.muted!=null&&e.hasOwnProperty("muted")&&(r.muted=e.muted),e.externalUserId!=null&&e.hasOwnProperty("externalUserId")&&(r.externalUserId=e.externalUserId),e.dropped!=null&&e.hasOwnProperty("dropped")&&(r.dropped=e.dropped),r},"toObject"),n.prototype.toJSON=o(function(){return this.constructor.toObject(this,S.util.toJSONOptions)},"toJSON"),n}(),a.SdkPingPongType=function(){var n={},i=Object.create(n);return i[n[1]="PING"]=1,i[n[2]="PONG"]=2,i}(),a.SdkPingPongFrame=function(){function n(i){if(i)for(var e=Object.keys(i),t=0;t<e.length;++t)i[e[t]]!=null&&(this[e[t]]=i[e[t]])}return o(n,"SdkPingPongFrame"),n.prototype.type=1,n.prototype.pingId=0,n.create=o(function(e){return new n(e)},"create"),n.encode=o(function(e,t){return t||(t=m.create()),t.uint32(8).int32(e.type),t.uint32(16).uint32(e.pingId),t},"encode"),n.encodeDelimited=o(function(e,t){return this.encode(e,t).ldelim()},"encodeDelimited"),n.decode=o(function(e,t){e instanceof h||(e=h.create(e));for(var r=t===void 0?e.len:e.pos+t,l=new a.SdkPingPongFrame;e.pos<r;){var p=e.uint32();switch(p>>>3){case 1:l.type=e.int32();break;case 2:l.pingId=e.uint32();break;default:e.skipType(p&7);break}}if(!l.hasOwnProperty("type"))throw f.ProtocolError("missing required 'type'",{instance:l});if(!l.hasOwnProperty("pingId"))throw f.ProtocolError("missing required 'pingId'",{instance:l});return l},"decode"),n.decodeDelimited=o(function(e){return e instanceof h||(e=new h(e)),this.decode(e,e.uint32())},"decodeDelimited"),n.verify=o(function(e){if(typeof e!="object"||e===null)return"object expected";switch(e.type){default:return"type: enum value expected";case 1:case 2:break}return f.isInteger(e.pingId)?null:"pingId: integer expected"},"verify"),n.fromObject=o(function(e){if(e instanceof a.SdkPingPongFrame)return e;var t=new a.SdkPingPongFrame;switch(e.type){case"PING":case 1:t.type=1;break;case"PONG":case 2:t.type=2;break}return e.pingId!=null&&(t.pingId=e.pingId>>>0),t},"fromObject"),n.toObject=o(function(e,t){t||(t={});var r={};return t.defaults&&(r.type=t.enums===String?"PING":1,r.pingId=0),e.type!=null&&e.hasOwnProperty("type")&&(r.type=t.enums===String?a.SdkPingPongType[e.type]:e.type),e.pingId!=null&&e.hasOwnProperty("pingId")&&(r.pingId=e.pingId),r},"toObject"),n.prototype.toJSON=o(function(){return this.constructor.toObject(this,S.util.toJSONOptions)},"toJSON"),n}(),a.SdkAudioStatusFrame=function(){function n(i){if(i)for(var e=Object.keys(i),t=0;t<e.length;++t)i[e[t]]!=null&&(this[e[t]]=i[e[t]])}return o(n,"SdkAudioStatusFrame"),n.prototype.audioStatus=0,n.create=o(function(e){return new n(e)},"create"),n.encode=o(function(e,t){return t||(t=m.create()),e.audioStatus!=null&&Object.hasOwnProperty.call(e,"audioStatus")&&t.uint32(8).uint32(e.audioStatus),t},"encode"),n.encodeDelimited=o(function(e,t){return this.encode(e,t).ldelim()},"encodeDelimited"),n.decode=o(function(e,t){e instanceof h||(e=h.create(e));for(var r=t===void 0?e.len:e.pos+t,l=new a.SdkAudioStatusFrame;e.pos<r;){var p=e.uint32();switch(p>>>3){case 1:l.audioStatus=e.uint32();break;default:e.skipType(p&7);break}}return l},"decode"),n.decodeDelimited=o(function(e){return e instanceof h||(e=new h(e)),this.decode(e,e.uint32())},"decodeDelimited"),n.verify=o(function(e){return typeof e!="object"||e===null?"object expected":e.audioStatus!=null&&e.hasOwnProperty("audioStatus")&&!f.isInteger(e.audioStatus)?"audioStatus: integer expected":null},"verify"),n.fromObject=o(function(e){if(e instanceof a.SdkAudioStatusFrame)return e;var t=new a.SdkAudioStatusFrame;return e.audioStatus!=null&&(t.audioStatus=e.audioStatus>>>0),t},"fromObject"),n.toObject=o(function(e,t){t||(t={});var r={};return t.defaults&&(r.audioStatus=0),e.audioStatus!=null&&e.hasOwnProperty("audioStatus")&&(r.audioStatus=e.audioStatus),r},"toObject"),n.prototype.toJSON=o(function(){return this.constructor.toObject(this,S.util.toJSONOptions)},"toJSON"),n}(),a.SdkMetric=function(){function n(i){if(i)for(var e=Object.keys(i),t=0;t<e.length;++t)i[e[t]]!=null&&(this[e[t]]=i[e[t]])}return o(n,"SdkMetric"),n.prototype.type=1,n.prototype.value=0,n.create=o(function(e){return new n(e)},"create"),n.encode=o(function(e,t){return t||(t=m.create()),e.type!=null&&Object.hasOwnProperty.call(e,"type")&&t.uint32(8).int32(e.type),e.value!=null&&Object.hasOwnProperty.call(e,"value")&&t.uint32(17).double(e.value),t},"encode"),n.encodeDelimited=o(function(e,t){return this.encode(e,t).ldelim()},"encodeDelimited"),n.decode=o(function(e,t){e instanceof h||(e=h.create(e));for(var r=t===void 0?e.len:e.pos+t,l=new a.SdkMetric;e.pos<r;){var p=e.uint32();switch(p>>>3){case 1:l.type=e.int32();break;case 2:l.value=e.double();break;default:e.skipType(p&7);break}}return l},"decode"),n.decodeDelimited=o(function(e){return e instanceof h||(e=new h(e)),this.decode(e,e.uint32())},"decodeDelimited"),n.verify=o(function(e){if(typeof e!="object"||e===null)return"object expected";if(e.type!=null&&e.hasOwnProperty("type"))switch(e.type){default:return"type: enum value expected";case 1:case 2:case 3:case 4:case 5:case 6:case 7:case 8:case 9:case 10:case 11:case 12:case 13:case 14:case 15:case 16:case 17:case 18:case 19:case 20:case 21:case 22:case 23:case 24:case 25:case 26:case 27:case 28:case 29:case 30:case 31:case 32:case 33:case 34:case 35:case 36:case 37:case 38:case 39:case 40:case 41:case 42:case 43:case 44:case 45:case 46:case 47:case 48:case 49:case 64:case 66:case 69:case 72:case 86:case 87:case 88:case 89:break}return e.value!=null&&e.hasOwnProperty("value")&&typeof e.value!="number"?"value: number expected":null},"verify"),n.fromObject=o(function(e){if(e instanceof a.SdkMetric)return e;var t=new a.SdkMetric;switch(e.type){case"VIDEO_ACTUAL_ENCODER_BITRATE":case 1:t.type=1;break;case"VIDEO_AVAILABLE_SEND_BANDWIDTH":case 2:t.type=2;break;case"VIDEO_RETRANSMIT_BITRATE":case 3:t.type=3;break;case"VIDEO_AVAILABLE_RECEIVE_BANDWIDTH":case 4:t.type=4;break;case"VIDEO_TARGET_ENCODER_BITRATE":case 5:t.type=5;break;case"VIDEO_BUCKET_DELAY_MS":case 6:t.type=6;break;case"STUN_RTT_MS":case 7:t.type=7;break;case"SOCKET_DISCARDED_PPS":case 8:t.type=8;break;case"RTC_MIC_JITTER_MS":case 9:t.type=9;break;case"RTC_MIC_PPS":case 10:t.type=10;break;case"RTC_MIC_FRACTION_PACKET_LOST_PERCENT":case 11:t.type=11;break;case"RTC_MIC_BITRATE":case 12:t.type=12;break;case"RTC_MIC_RTT_MS":case 13:t.type=13;break;case"RTC_SPK_PPS":case 14:t.type=14;break;case"RTC_SPK_FRACTION_PACKET_LOST_PERCENT":case 15:t.type=15;break;case"RTC_SPK_JITTER_MS":case 16:t.type=16;break;case"RTC_SPK_FRACTION_DECODER_LOSS_PERCENT":case 17:t.type=17;break;case"RTC_SPK_BITRATE":case 18:t.type=18;break;case"RTC_SPK_CURRENT_DELAY_MS":case 19:t.type=19;break;case"RTC_SPK_JITTER_BUFFER_MS":case 20:t.type=20;break;case"VIDEO_SENT_RTT_MS":case 21:t.type=21;break;case"VIDEO_ENCODE_USAGE_PERCENT":case 22:t.type=22;break;case"VIDEO_NACKS_RECEIVED":case 23:t.type=23;break;case"VIDEO_PLIS_RECEIVED":case 24:t.type=24;break;case"VIDEO_ENCODE_MS":case 25:t.type=25;break;case"VIDEO_INPUT_FPS":case 26:t.type=26;break;case"VIDEO_ENCODE_FPS":case 27:t.type=27;break;case"VIDEO_SENT_FPS":case 28:t.type=28;break;case"VIDEO_FIRS_RECEIVED":case 29:t.type=29;break;case"VIDEO_SENT_PPS":case 30:t.type=30;break;case"VIDEO_SENT_FRACTION_PACKET_LOST_PERCENT":case 31:t.type=31;break;case"VIDEO_SENT_BITRATE":case 32:t.type=32;break;case"VIDEO_DROPPED_FPS":case 33:t.type=33;break;case"VIDEO_TARGET_DELAY_MS":case 34:t.type=34;break;case"VIDEO_DECODE_MS":case 35:t.type=35;break;case"VIDEO_OUTPUT_FPS":case 36:t.type=36;break;case"VIDEO_RECEIVED_PPS":case 37:t.type=37;break;case"VIDEO_RECEIVED_FRACTION_PACKET_LOST_PERCENT":case 38:t.type=38;break;case"VIDEO_RENDER_DELAY_MS":case 39:t.type=39;break;case"VIDEO_RECEIVED_FPS":case 40:t.type=40;break;case"VIDEO_DECODE_FPS":case 41:t.type=41;break;case"VIDEO_NACKS_SENT":case 42:t.type=42;break;case"VIDEO_FIRS_SENT":case 43:t.type=43;break;case"VIDEO_RECEIVED_BITRATE":case 44:t.type=44;break;case"VIDEO_CURRENT_DELAY_MS":case 45:t.type=45;break;case"VIDEO_JITTER_BUFFER_MS":case 46:t.type=46;break;case"VIDEO_DISCARDED_PPS":case 47:t.type=47;break;case"VIDEO_PLIS_SENT":case 48:t.type=48;break;case"VIDEO_RECEIVED_JITTER_MS":case 49:t.type=49;break;case"VIDEO_ENCODE_HEIGHT":case 64:t.type=64;break;case"VIDEO_SENT_QP_SUM":case 66:t.type=66;break;case"VIDEO_DECODE_HEIGHT":case 69:t.type=69;break;case"VIDEO_RECEIVED_QP_SUM":case 72:t.type=72;break;case"VIDEO_ENCODE_WIDTH":case 86:t.type=86;break;case"VIDEO_DECODE_WIDTH":case 87:t.type=87;break;case"VIDEO_ENCODER_IS_HARDWARE":case 88:t.type=88;break;case"VIDEO_DECODER_IS_HARDWARE":case 89:t.type=89;break}return e.value!=null&&(t.value=Number(e.value)),t},"fromObject"),n.toObject=o(function(e,t){t||(t={});var r={};return t.defaults&&(r.type=t.enums===String?"VIDEO_ACTUAL_ENCODER_BITRATE":1,r.value=0),e.type!=null&&e.hasOwnProperty("type")&&(r.type=t.enums===String?a.SdkMetric.Type[e.type]:e.type),e.value!=null&&e.hasOwnProperty("value")&&(r.value=t.json&&!isFinite(e.value)?String(e.value):e.value),r},"toObject"),n.prototype.toJSON=o(function(){return this.constructor.toObject(this,S.util.toJSONOptions)},"toJSON"),n.Type=function(){var i={},e=Object.create(i);return e[i[1]="VIDEO_ACTUAL_ENCODER_BITRATE"]=1,e[i[2]="VIDEO_AVAILABLE_SEND_BANDWIDTH"]=2,e[i[3]="VIDEO_RETRANSMIT_BITRATE"]=3,e[i[4]="VIDEO_AVAILABLE_RECEIVE_BANDWIDTH"]=4,e[i[5]="VIDEO_TARGET_ENCODER_BITRATE"]=5,e[i[6]="VIDEO_BUCKET_DELAY_MS"]=6,e[i[7]="STUN_RTT_MS"]=7,e[i[8]="SOCKET_DISCARDED_PPS"]=8,e[i[9]="RTC_MIC_JITTER_MS"]=9,e[i[10]="RTC_MIC_PPS"]=10,e[i[11]="RTC_MIC_FRACTION_PACKET_LOST_PERCENT"]=11,e[i[12]="RTC_MIC_BITRATE"]=12,e[i[13]="RTC_MIC_RTT_MS"]=13,e[i[14]="RTC_SPK_PPS"]=14,e[i[15]="RTC_SPK_FRACTION_PACKET_LOST_PERCENT"]=15,e[i[16]="RTC_SPK_JITTER_MS"]=16,e[i[17]="RTC_SPK_FRACTION_DECODER_LOSS_PERCENT"]=17,e[i[18]="RTC_SPK_BITRATE"]=18,e[i[19]="RTC_SPK_CURRENT_DELAY_MS"]=19,e[i[20]="RTC_SPK_JITTER_BUFFER_MS"]=20,e[i[21]="VIDEO_SENT_RTT_MS"]=21,e[i[22]="VIDEO_ENCODE_USAGE_PERCENT"]=22,e[i[23]="VIDEO_NACKS_RECEIVED"]=23,e[i[24]="VIDEO_PLIS_RECEIVED"]=24,e[i[25]="VIDEO_ENCODE_MS"]=25,e[i[26]="VIDEO_INPUT_FPS"]=26,e[i[27]="VIDEO_ENCODE_FPS"]=27,e[i[28]="VIDEO_SENT_FPS"]=28,e[i[29]="VIDEO_FIRS_RECEIVED"]=29,e[i[30]="VIDEO_SENT_PPS"]=30,e[i[31]="VIDEO_SENT_FRACTION_PACKET_LOST_PERCENT"]=31,e[i[32]="VIDEO_SENT_BITRATE"]=32,e[i[33]="VIDEO_DROPPED_FPS"]=33,e[i[34]="VIDEO_TARGET_DELAY_MS"]=34,e[i[35]="VIDEO_DECODE_MS"]=35,e[i[36]="VIDEO_OUTPUT_FPS"]=36,e[i[37]="VIDEO_RECEIVED_PPS"]=37,e[i[38]="VIDEO_RECEIVED_FRACTION_PACKET_LOST_PERCENT"]=38,e[i[39]="VIDEO_RENDER_DELAY_MS"]=39,e[i[40]="VIDEO_RECEIVED_FPS"]=40,e[i[41]="VIDEO_DECODE_FPS"]=41,e[i[42]="VIDEO_NACKS_SENT"]=42,e[i[43]="VIDEO_FIRS_SENT"]=43,e[i[44]="VIDEO_RECEIVED_BITRATE"]=44,e[i[45]="VIDEO_CURRENT_DELAY_MS"]=45,e[i[46]="VIDEO_JITTER_BUFFER_MS"]=46,e[i[47]="VIDEO_DISCARDED_PPS"]=47,e[i[48]="VIDEO_PLIS_SENT"]=48,e[i[49]="VIDEO_RECEIVED_JITTER_MS"]=49,e[i[64]="VIDEO_ENCODE_HEIGHT"]=64,e[i[66]="VIDEO_SENT_QP_SUM"]=66,e[i[69]="VIDEO_DECODE_HEIGHT"]=69,e[i[72]="VIDEO_RECEIVED_QP_SUM"]=72,e[i[86]="VIDEO_ENCODE_WIDTH"]=86,e[i[87]="VIDEO_DECODE_WIDTH"]=87,e[i[88]="VIDEO_ENCODER_IS_HARDWARE"]=88,e[i[89]="VIDEO_DECODER_IS_HARDWARE"]=89,e}(),n}(),a.SdkStreamMetricFrame=function(){function n(i){if(this.metrics=[],this.dimensions=[],i)for(var e=Object.keys(i),t=0;t<e.length;++t)i[e[t]]!=null&&(this[e[t]]=i[e[t]])}return o(n,"SdkStreamMetricFrame"),n.prototype.streamId=0,n.prototype.groupId=0,n.prototype.metrics=f.emptyArray,n.prototype.dimensions=f.emptyArray,n.create=o(function(e){return new n(e)},"create"),n.encode=o(function(e,t){if(t||(t=m.create()),e.streamId!=null&&Object.hasOwnProperty.call(e,"streamId")&&t.uint32(24).uint32(e.streamId),e.groupId!=null&&Object.hasOwnProperty.call(e,"groupId")&&t.uint32(32).uint32(e.groupId),e.metrics!=null&&e.metrics.length)for(var r=0;r<e.metrics.length;++r)a.SdkMetric.encode(e.metrics[r],t.uint32(42).fork()).ldelim();if(e.dimensions!=null&&e.dimensions.length)for(var r=0;r<e.dimensions.length;++r)a.SdkStreamDimension.encode(e.dimensions[r],t.uint32(50).fork()).ldelim();return t},"encode"),n.encodeDelimited=o(function(e,t){return this.encode(e,t).ldelim()},"encodeDelimited"),n.decode=o(function(e,t){e instanceof h||(e=h.create(e));for(var r=t===void 0?e.len:e.pos+t,l=new a.SdkStreamMetricFrame;e.pos<r;){var p=e.uint32();switch(p>>>3){case 3:l.streamId=e.uint32();break;case 4:l.groupId=e.uint32();break;case 5:l.metrics&&l.metrics.length||(l.metrics=[]),l.metrics.push(a.SdkMetric.decode(e,e.uint32()));break;case 6:l.dimensions&&l.dimensions.length||(l.dimensions=[]),l.dimensions.push(a.SdkStreamDimension.decode(e,e.uint32()));break;default:e.skipType(p&7);break}}return l},"decode"),n.decodeDelimited=o(function(e){return e instanceof h||(e=new h(e)),this.decode(e,e.uint32())},"decodeDelimited"),n.verify=o(function(e){if(typeof e!="object"||e===null)return"object expected";if(e.streamId!=null&&e.hasOwnProperty("streamId")&&!f.isInteger(e.streamId))return"streamId: integer expected";if(e.groupId!=null&&e.hasOwnProperty("groupId")&&!f.isInteger(e.groupId))return"groupId: integer expected";if(e.metrics!=null&&e.hasOwnProperty("metrics")){if(!Array.isArray(e.metrics))return"metrics: array expected";for(var t=0;t<e.metrics.length;++t){var r=a.SdkMetric.verify(e.metrics[t]);if(r)return"metrics."+r}}if(e.dimensions!=null&&e.hasOwnProperty("dimensions")){if(!Array.isArray(e.dimensions))return"dimensions: array expected";for(var t=0;t<e.dimensions.length;++t){var r=a.SdkStreamDimension.verify(e.dimensions[t]);if(r)return"dimensions."+r}}return null},"verify"),n.fromObject=o(function(e){if(e instanceof a.SdkStreamMetricFrame)return e;var t=new a.SdkStreamMetricFrame;if(e.streamId!=null&&(t.streamId=e.streamId>>>0),e.groupId!=null&&(t.groupId=e.groupId>>>0),e.metrics){if(!Array.isArray(e.metrics))throw TypeError(".SdkStreamMetricFrame.metrics: array expected");t.metrics=[];for(var r=0;r<e.metrics.length;++r){if(typeof e.metrics[r]!="object")throw TypeError(".SdkStreamMetricFrame.metrics: object expected");t.metrics[r]=a.SdkMetric.fromObject(e.metrics[r])}}if(e.dimensions){if(!Array.isArray(e.dimensions))throw TypeError(".SdkStreamMetricFrame.dimensions: array expected");t.dimensions=[];for(var r=0;r<e.dimensions.length;++r){if(typeof e.dimensions[r]!="object")throw TypeError(".SdkStreamMetricFrame.dimensions: object expected");t.dimensions[r]=a.SdkStreamDimension.fromObject(e.dimensions[r])}}return t},"fromObject"),n.toObject=o(function(e,t){t||(t={});var r={};if((t.arrays||t.defaults)&&(r.metrics=[],r.dimensions=[]),t.defaults&&(r.streamId=0,r.groupId=0),e.streamId!=null&&e.hasOwnProperty("streamId")&&(r.streamId=e.streamId),e.groupId!=null&&e.hasOwnProperty("groupId")&&(r.groupId=e.groupId),e.metrics&&e.metrics.length){r.metrics=[];for(var l=0;l<e.metrics.length;++l)r.metrics[l]=a.SdkMetric.toObject(e.metrics[l],t)}if(e.dimensions&&e.dimensions.length){r.dimensions=[];for(var l=0;l<e.dimensions.length;++l)r.dimensions[l]=a.SdkStreamDimension.toObject(e.dimensions[l],t)}return r},"toObject"),n.prototype.toJSON=o(function(){return this.constructor.toObject(this,S.util.toJSONOptions)},"toJSON"),n}(),a.SdkClientMetricFrame=function(){function n(i){if(this.globalMetrics=[],this.streamMetricFrames=[],i)for(var e=Object.keys(i),t=0;t<e.length;++t)i[e[t]]!=null&&(this[e[t]]=i[e[t]])}return o(n,"SdkClientMetricFrame"),n.prototype.globalMetrics=f.emptyArray,n.prototype.streamMetricFrames=f.emptyArray,n.create=o(function(e){return new n(e)},"create"),n.encode=o(function(e,t){if(t||(t=m.create()),e.globalMetrics!=null&&e.globalMetrics.length)for(var r=0;r<e.globalMetrics.length;++r)a.SdkMetric.encode(e.globalMetrics[r],t.uint32(10).fork()).ldelim();if(e.streamMetricFrames!=null&&e.streamMetricFrames.length)for(var r=0;r<e.streamMetricFrames.length;++r)a.SdkStreamMetricFrame.encode(e.streamMetricFrames[r],t.uint32(18).fork()).ldelim();return t},"encode"),n.encodeDelimited=o(function(e,t){return this.encode(e,t).ldelim()},"encodeDelimited"),n.decode=o(function(e,t){e instanceof h||(e=h.create(e));for(var r=t===void 0?e.len:e.pos+t,l=new a.SdkClientMetricFrame;e.pos<r;){var p=e.uint32();switch(p>>>3){case 1:l.globalMetrics&&l.globalMetrics.length||(l.globalMetrics=[]),l.globalMetrics.push(a.SdkMetric.decode(e,e.uint32()));break;case 2:l.streamMetricFrames&&l.streamMetricFrames.length||(l.streamMetricFrames=[]),l.streamMetricFrames.push(a.SdkStreamMetricFrame.decode(e,e.uint32()));break;default:e.skipType(p&7);break}}return l},"decode"),n.decodeDelimited=o(function(e){return e instanceof h||(e=new h(e)),this.decode(e,e.uint32())},"decodeDelimited"),n.verify=o(function(e){if(typeof e!="object"||e===null)return"object expected";if(e.globalMetrics!=null&&e.hasOwnProperty("globalMetrics")){if(!Array.isArray(e.globalMetrics))return"globalMetrics: array expected";for(var t=0;t<e.globalMetrics.length;++t){var r=a.SdkMetric.verify(e.globalMetrics[t]);if(r)return"globalMetrics."+r}}if(e.streamMetricFrames!=null&&e.hasOwnProperty("streamMetricFrames")){if(!Array.isArray(e.streamMetricFrames))return"streamMetricFrames: array expected";for(var t=0;t<e.streamMetricFrames.length;++t){var r=a.SdkStreamMetricFrame.verify(e.streamMetricFrames[t]);if(r)return"streamMetricFrames."+r}}return null},"verify"),n.fromObject=o(function(e){if(e instanceof a.SdkClientMetricFrame)return e;var t=new a.SdkClientMetricFrame;if(e.globalMetrics){if(!Array.isArray(e.globalMetrics))throw TypeError(".SdkClientMetricFrame.globalMetrics: array expected");t.globalMetrics=[];for(var r=0;r<e.globalMetrics.length;++r){if(typeof e.globalMetrics[r]!="object")throw TypeError(".SdkClientMetricFrame.globalMetrics: object expected");t.globalMetrics[r]=a.SdkMetric.fromObject(e.globalMetrics[r])}}if(e.streamMetricFrames){if(!Array.isArray(e.streamMetricFrames))throw TypeError(".SdkClientMetricFrame.streamMetricFrames: array expected");t.streamMetricFrames=[];for(var r=0;r<e.streamMetricFrames.length;++r){if(typeof e.streamMetricFrames[r]!="object")throw TypeError(".SdkClientMetricFrame.streamMetricFrames: object expected");t.streamMetricFrames[r]=a.SdkStreamMetricFrame.fromObject(e.streamMetricFrames[r])}}return t},"fromObject"),n.toObject=o(function(e,t){t||(t={});var r={};if((t.arrays||t.defaults)&&(r.globalMetrics=[],r.streamMetricFrames=[]),e.globalMetrics&&e.globalMetrics.length){r.globalMetrics=[];for(var l=0;l<e.globalMetrics.length;++l)r.globalMetrics[l]=a.SdkMetric.toObject(e.globalMetrics[l],t)}if(e.streamMetricFrames&&e.streamMetricFrames.length){r.streamMetricFrames=[];for(var l=0;l<e.streamMetricFrames.length;++l)r.streamMetricFrames[l]=a.SdkStreamMetricFrame.toObject(e.streamMetricFrames[l],t)}return r},"toObject"),n.prototype.toJSON=o(function(){return this.constructor.toObject(this,S.util.toJSONOptions)},"toJSON"),n}(),a.SdkStreamDimension=function(){function n(i){if(i)for(var e=Object.keys(i),t=0;t<e.length;++t)i[e[t]]!=null&&(this[e[t]]=i[e[t]])}return o(n,"SdkStreamDimension"),n.prototype.type=1,n.prototype.value=null,n.create=o(function(e){return new n(e)},"create"),n.encode=o(function(e,t){return t||(t=m.create()),e.type!=null&&Object.hasOwnProperty.call(e,"type")&&t.uint32(8).int32(e.type),e.value!=null&&Object.hasOwnProperty.call(e,"value")&&a.SdkDimensionValue.encode(e.value,t.uint32(18).fork()).ldelim(),t},"encode"),n.encodeDelimited=o(function(e,t){return this.encode(e,t).ldelim()},"encodeDelimited"),n.decode=o(function(e,t){e instanceof h||(e=h.create(e));for(var r=t===void 0?e.len:e.pos+t,l=new a.SdkStreamDimension;e.pos<r;){var p=e.uint32();switch(p>>>3){case 1:l.type=e.int32();break;case 2:l.value=a.SdkDimensionValue.decode(e,e.uint32());break;default:e.skipType(p&7);break}}return l},"decode"),n.decodeDelimited=o(function(e){return e instanceof h||(e=new h(e)),this.decode(e,e.uint32())},"decodeDelimited"),n.verify=o(function(e){if(typeof e!="object"||e===null)return"object expected";if(e.type!=null&&e.hasOwnProperty("type"))switch(e.type){default:return"type: enum value expected";case 1:case 2:break}if(e.value!=null&&e.hasOwnProperty("value")){var t=a.SdkDimensionValue.verify(e.value);if(t)return"value."+t}return null},"verify"),n.fromObject=o(function(e){if(e instanceof a.SdkStreamDimension)return e;var t=new a.SdkStreamDimension;switch(e.type){case"VIDEO_ENCODER_NAME":case 1:t.type=1;break;case"VIDEO_DECODER_NAME":case 2:t.type=2;break}if(e.value!=null){if(typeof e.value!="object")throw TypeError(".SdkStreamDimension.value: object expected");t.value=a.SdkDimensionValue.fromObject(e.value)}return t},"fromObject"),n.toObject=o(function(e,t){t||(t={});var r={};return t.defaults&&(r.type=t.enums===String?"VIDEO_ENCODER_NAME":1,r.value=null),e.type!=null&&e.hasOwnProperty("type")&&(r.type=t.enums===String?a.SdkStreamDimension.Type[e.type]:e.type),e.value!=null&&e.hasOwnProperty("value")&&(r.value=a.SdkDimensionValue.toObject(e.value,t)),r},"toObject"),n.prototype.toJSON=o(function(){return this.constructor.toObject(this,S.util.toJSONOptions)},"toJSON"),n.Type=function(){var i={},e=Object.create(i);return e[i[1]="VIDEO_ENCODER_NAME"]=1,e[i[2]="VIDEO_DECODER_NAME"]=2,e}(),n}(),a.SdkDimensionValue=function(){function n(i){if(i)for(var e=Object.keys(i),t=0;t<e.length;++t)i[e[t]]!=null&&(this[e[t]]=i[e[t]])}return o(n,"SdkDimensionValue"),n.prototype.stringValue="",n.prototype.boolValue=!1,n.prototype.uintValue=f.Long?f.Long.fromBits(0,0,!0):0,n.create=o(function(e){return new n(e)},"create"),n.encode=o(function(e,t){return t||(t=m.create()),e.stringValue!=null&&Object.hasOwnProperty.call(e,"stringValue")&&t.uint32(10).string(e.stringValue),e.boolValue!=null&&Object.hasOwnProperty.call(e,"boolValue")&&t.uint32(16).bool(e.boolValue),e.uintValue!=null&&Object.hasOwnProperty.call(e,"uintValue")&&t.uint32(24).uint64(e.uintValue),t},"encode"),n.encodeDelimited=o(function(e,t){return this.encode(e,t).ldelim()},"encodeDelimited"),n.decode=o(function(e,t){e instanceof h||(e=h.create(e));for(var r=t===void 0?e.len:e.pos+t,l=new a.SdkDimensionValue;e.pos<r;){var p=e.uint32();switch(p>>>3){case 1:l.stringValue=e.string();break;case 2:l.boolValue=e.bool();break;case 3:l.uintValue=e.uint64();break;default:e.skipType(p&7);break}}return l},"decode"),n.decodeDelimited=o(function(e){return e instanceof h||(e=new h(e)),this.decode(e,e.uint32())},"decodeDelimited"),n.verify=o(function(e){return typeof e!="object"||e===null?"object expected":e.stringValue!=null&&e.hasOwnProperty("stringValue")&&!f.isString(e.stringValue)?"stringValue: string expected":e.boolValue!=null&&e.hasOwnProperty("boolValue")&&typeof e.boolValue!="boolean"?"boolValue: boolean expected":e.uintValue!=null&&e.hasOwnProperty("uintValue")&&!f.isInteger(e.uintValue)&&!(e.uintValue&&f.isInteger(e.uintValue.low)&&f.isInteger(e.uintValue.high))?"uintValue: integer|Long expected":null},"verify"),n.fromObject=o(function(e){if(e instanceof a.SdkDimensionValue)return e;var t=new a.SdkDimensionValue;return e.stringValue!=null&&(t.stringValue=String(e.stringValue)),e.boolValue!=null&&(t.boolValue=Boolean(e.boolValue)),e.uintValue!=null&&(f.Long?(t.uintValue=f.Long.fromValue(e.uintValue)).unsigned=!0:typeof e.uintValue=="string"?t.uintValue=parseInt(e.uintValue,10):typeof e.uintValue=="number"?t.uintValue=e.uintValue:typeof e.uintValue=="object"&&(t.uintValue=new f.LongBits(e.uintValue.low>>>0,e.uintValue.high>>>0).toNumber(!0))),t},"fromObject"),n.toObject=o(function(e,t){t||(t={});var r={};if(t.defaults)if(r.stringValue="",r.boolValue=!1,f.Long){var l=new f.Long(0,0,!0);r.uintValue=t.longs===String?l.toString():t.longs===Number?l.toNumber():l}else r.uintValue=t.longs===String?"0":0;return e.stringValue!=null&&e.hasOwnProperty("stringValue")&&(r.stringValue=e.stringValue),e.boolValue!=null&&e.hasOwnProperty("boolValue")&&(r.boolValue=e.boolValue),e.uintValue!=null&&e.hasOwnProperty("uintValue")&&(typeof e.uintValue=="number"?r.uintValue=t.longs===String?String(e.uintValue):e.uintValue:r.uintValue=t.longs===String?f.Long.prototype.toString.call(e.uintValue):t.longs===Number?new f.LongBits(e.uintValue.low>>>0,e.uintValue.high>>>0).toNumber(!0):e.uintValue),r},"toObject"),n.prototype.toJSON=o(function(){return this.constructor.toObject(this,S.util.toJSONOptions)},"toJSON"),n}(),a.SdkDataMessageFrame=function(){function n(i){if(this.messages=[],i)for(var e=Object.keys(i),t=0;t<e.length;++t)i[e[t]]!=null&&(this[e[t]]=i[e[t]])}return o(n,"SdkDataMessageFrame"),n.prototype.messages=f.emptyArray,n.create=o(function(e){return new n(e)},"create"),n.encode=o(function(e,t){if(t||(t=m.create()),e.messages!=null&&e.messages.length)for(var r=0;r<e.messages.length;++r)a.SdkDataMessagePayload.encode(e.messages[r],t.uint32(10).fork()).ldelim();return t},"encode"),n.encodeDelimited=o(function(e,t){return this.encode(e,t).ldelim()},"encodeDelimited"),n.decode=o(function(e,t){e instanceof h||(e=h.create(e));for(var r=t===void 0?e.len:e.pos+t,l=new a.SdkDataMessageFrame;e.pos<r;){var p=e.uint32();switch(p>>>3){case 1:l.messages&&l.messages.length||(l.messages=[]),l.messages.push(a.SdkDataMessagePayload.decode(e,e.uint32()));break;default:e.skipType(p&7);break}}return l},"decode"),n.decodeDelimited=o(function(e){return e instanceof h||(e=new h(e)),this.decode(e,e.uint32())},"decodeDelimited"),n.verify=o(function(e){if(typeof e!="object"||e===null)return"object expected";if(e.messages!=null&&e.hasOwnProperty("messages")){if(!Array.isArray(e.messages))return"messages: array expected";for(var t=0;t<e.messages.length;++t){var r=a.SdkDataMessagePayload.verify(e.messages[t]);if(r)return"messages."+r}}return null},"verify"),n.fromObject=o(function(e){if(e instanceof a.SdkDataMessageFrame)return e;var t=new a.SdkDataMessageFrame;if(e.messages){if(!Array.isArray(e.messages))throw TypeError(".SdkDataMessageFrame.messages: array expected");t.messages=[];for(var r=0;r<e.messages.length;++r){if(typeof e.messages[r]!="object")throw TypeError(".SdkDataMessageFrame.messages: object expected");t.messages[r]=a.SdkDataMessagePayload.fromObject(e.messages[r])}}return t},"fromObject"),n.toObject=o(function(e,t){t||(t={});var r={};if((t.arrays||t.defaults)&&(r.messages=[]),e.messages&&e.messages.length){r.messages=[];for(var l=0;l<e.messages.length;++l)r.messages[l]=a.SdkDataMessagePayload.toObject(e.messages[l],t)}return r},"toObject"),n.prototype.toJSON=o(function(){return this.constructor.toObject(this,S.util.toJSONOptions)},"toJSON"),n}(),a.SdkDataMessagePayload=function(){function n(i){if(i)for(var e=Object.keys(i),t=0;t<e.length;++t)i[e[t]]!=null&&(this[e[t]]=i[e[t]])}return o(n,"SdkDataMessagePayload"),n.prototype.topic="",n.prototype.data=f.newBuffer([]),n.prototype.lifetimeMs=0,n.prototype.senderAttendeeId="",n.prototype.ingestTimeNs=f.Long?f.Long.fromBits(0,0,!1):0,n.prototype.senderExternalUserId="",n.create=o(function(e){return new n(e)},"create"),n.encode=o(function(e,t){return t||(t=m.create()),e.topic!=null&&Object.hasOwnProperty.call(e,"topic")&&t.uint32(10).string(e.topic),e.data!=null&&Object.hasOwnProperty.call(e,"data")&&t.uint32(18).bytes(e.data),e.lifetimeMs!=null&&Object.hasOwnProperty.call(e,"lifetimeMs")&&t.uint32(24).uint32(e.lifetimeMs),e.senderAttendeeId!=null&&Object.hasOwnProperty.call(e,"senderAttendeeId")&&t.uint32(34).string(e.senderAttendeeId),e.ingestTimeNs!=null&&Object.hasOwnProperty.call(e,"ingestTimeNs")&&t.uint32(40).int64(e.ingestTimeNs),e.senderExternalUserId!=null&&Object.hasOwnProperty.call(e,"senderExternalUserId")&&t.uint32(50).string(e.senderExternalUserId),t},"encode"),n.encodeDelimited=o(function(e,t){return this.encode(e,t).ldelim()},"encodeDelimited"),n.decode=o(function(e,t){e instanceof h||(e=h.create(e));for(var r=t===void 0?e.len:e.pos+t,l=new a.SdkDataMessagePayload;e.pos<r;){var p=e.uint32();switch(p>>>3){case 1:l.topic=e.string();break;case 2:l.data=e.bytes();break;case 3:l.lifetimeMs=e.uint32();break;case 4:l.senderAttendeeId=e.string();break;case 5:l.ingestTimeNs=e.int64();break;case 6:l.senderExternalUserId=e.string();break;default:e.skipType(p&7);break}}return l},"decode"),n.decodeDelimited=o(function(e){return e instanceof h||(e=new h(e)),this.decode(e,e.uint32())},"decodeDelimited"),n.verify=o(function(e){return typeof e!="object"||e===null?"object expected":e.topic!=null&&e.hasOwnProperty("topic")&&!f.isString(e.topic)?"topic: string expected":e.data!=null&&e.hasOwnProperty("data")&&!(e.data&&typeof e.data.length=="number"||f.isString(e.data))?"data: buffer expected":e.lifetimeMs!=null&&e.hasOwnProperty("lifetimeMs")&&!f.isInteger(e.lifetimeMs)?"lifetimeMs: integer expected":e.senderAttendeeId!=null&&e.hasOwnProperty("senderAttendeeId")&&!f.isString(e.senderAttendeeId)?"senderAttendeeId: string expected":e.ingestTimeNs!=null&&e.hasOwnProperty("ingestTimeNs")&&!f.isInteger(e.ingestTimeNs)&&!(e.ingestTimeNs&&f.isInteger(e.ingestTimeNs.low)&&f.isInteger(e.ingestTimeNs.high))?"ingestTimeNs: integer|Long expected":e.senderExternalUserId!=null&&e.hasOwnProperty("senderExternalUserId")&&!f.isString(e.senderExternalUserId)?"senderExternalUserId: string expected":null},"verify"),n.fromObject=o(function(e){if(e instanceof a.SdkDataMessagePayload)return e;var t=new a.SdkDataMessagePayload;return e.topic!=null&&(t.topic=String(e.topic)),e.data!=null&&(typeof e.data=="string"?f.base64.decode(e.data,t.data=f.newBuffer(f.base64.length(e.data)),0):e.data.length&&(t.data=e.data)),e.lifetimeMs!=null&&(t.lifetimeMs=e.lifetimeMs>>>0),e.senderAttendeeId!=null&&(t.senderAttendeeId=String(e.senderAttendeeId)),e.ingestTimeNs!=null&&(f.Long?(t.ingestTimeNs=f.Long.fromValue(e.ingestTimeNs)).unsigned=!1:typeof e.ingestTimeNs=="string"?t.ingestTimeNs=parseInt(e.ingestTimeNs,10):typeof e.ingestTimeNs=="number"?t.ingestTimeNs=e.ingestTimeNs:typeof e.ingestTimeNs=="object"&&(t.ingestTimeNs=new f.LongBits(e.ingestTimeNs.low>>>0,e.ingestTimeNs.high>>>0).toNumber())),e.senderExternalUserId!=null&&(t.senderExternalUserId=String(e.senderExternalUserId)),t},"fromObject"),n.toObject=o(function(e,t){t||(t={});var r={};if(t.defaults){if(r.topic="",t.bytes===String?r.data="":(r.data=[],t.bytes!==Array&&(r.data=f.newBuffer(r.data))),r.lifetimeMs=0,r.senderAttendeeId="",f.Long){var l=new f.Long(0,0,!1);r.ingestTimeNs=t.longs===String?l.toString():t.longs===Number?l.toNumber():l}else r.ingestTimeNs=t.longs===String?"0":0;r.senderExternalUserId=""}return e.topic!=null&&e.hasOwnProperty("topic")&&(r.topic=e.topic),e.data!=null&&e.hasOwnProperty("data")&&(r.data=t.bytes===String?f.base64.encode(e.data,0,e.data.length):t.bytes===Array?Array.prototype.slice.call(e.data):e.data),e.lifetimeMs!=null&&e.hasOwnProperty("lifetimeMs")&&(r.lifetimeMs=e.lifetimeMs),e.senderAttendeeId!=null&&e.hasOwnProperty("senderAttendeeId")&&(r.senderAttendeeId=e.senderAttendeeId),e.ingestTimeNs!=null&&e.hasOwnProperty("ingestTimeNs")&&(typeof e.ingestTimeNs=="number"?r.ingestTimeNs=t.longs===String?String(e.ingestTimeNs):e.ingestTimeNs:r.ingestTimeNs=t.longs===String?f.Long.prototype.toString.call(e.ingestTimeNs):t.longs===Number?new f.LongBits(e.ingestTimeNs.low>>>0,e.ingestTimeNs.high>>>0).toNumber():e.ingestTimeNs),e.senderExternalUserId!=null&&e.hasOwnProperty("senderExternalUserId")&&(r.senderExternalUserId=e.senderExternalUserId),r},"toObject"),n.prototype.toJSON=o(function(){return this.constructor.toObject(this,S.util.toJSONOptions)},"toJSON"),n}(),a.SdkTurnCredentials=function(){function n(i){if(this.uris=[],i)for(var e=Object.keys(i),t=0;t<e.length;++t)i[e[t]]!=null&&(this[e[t]]=i[e[t]])}return o(n,"SdkTurnCredentials"),n.prototype.username="",n.prototype.password="",n.prototype.ttl=0,n.prototype.uris=f.emptyArray,n.create=o(function(e){return new n(e)},"create"),n.encode=o(function(e,t){if(t||(t=m.create()),e.username!=null&&Object.hasOwnProperty.call(e,"username")&&t.uint32(10).string(e.username),e.password!=null&&Object.hasOwnProperty.call(e,"password")&&t.uint32(18).string(e.password),e.ttl!=null&&Object.hasOwnProperty.call(e,"ttl")&&t.uint32(24).uint32(e.ttl),e.uris!=null&&e.uris.length)for(var r=0;r<e.uris.length;++r)t.uint32(34).string(e.uris[r]);return t},"encode"),n.encodeDelimited=o(function(e,t){return this.encode(e,t).ldelim()},"encodeDelimited"),n.decode=o(function(e,t){e instanceof h||(e=h.create(e));for(var r=t===void 0?e.len:e.pos+t,l=new a.SdkTurnCredentials;e.pos<r;){var p=e.uint32();switch(p>>>3){case 1:l.username=e.string();break;case 2:l.password=e.string();break;case 3:l.ttl=e.uint32();break;case 4:l.uris&&l.uris.length||(l.uris=[]),l.uris.push(e.string());break;default:e.skipType(p&7);break}}return l},"decode"),n.decodeDelimited=o(function(e){return e instanceof h||(e=new h(e)),this.decode(e,e.uint32())},"decodeDelimited"),n.verify=o(function(e){if(typeof e!="object"||e===null)return"object expected";if(e.username!=null&&e.hasOwnProperty("username")&&!f.isString(e.username))return"username: string expected";if(e.password!=null&&e.hasOwnProperty("password")&&!f.isString(e.password))return"password: string expected";if(e.ttl!=null&&e.hasOwnProperty("ttl")&&!f.isInteger(e.ttl))return"ttl: integer expected";if(e.uris!=null&&e.hasOwnProperty("uris")){if(!Array.isArray(e.uris))return"uris: array expected";for(var t=0;t<e.uris.length;++t)if(!f.isString(e.uris[t]))return"uris: string[] expected"}return null},"verify"),n.fromObject=o(function(e){if(e instanceof a.SdkTurnCredentials)return e;var t=new a.SdkTurnCredentials;if(e.username!=null&&(t.username=String(e.username)),e.password!=null&&(t.password=String(e.password)),e.ttl!=null&&(t.ttl=e.ttl>>>0),e.uris){if(!Array.isArray(e.uris))throw TypeError(".SdkTurnCredentials.uris: array expected");t.uris=[];for(var r=0;r<e.uris.length;++r)t.uris[r]=String(e.uris[r])}return t},"fromObject"),n.toObject=o(function(e,t){t||(t={});var r={};if((t.arrays||t.defaults)&&(r.uris=[]),t.defaults&&(r.username="",r.password="",r.ttl=0),e.username!=null&&e.hasOwnProperty("username")&&(r.username=e.username),e.password!=null&&e.hasOwnProperty("password")&&(r.password=e.password),e.ttl!=null&&e.hasOwnProperty("ttl")&&(r.ttl=e.ttl),e.uris&&e.uris.length){r.uris=[];for(var l=0;l<e.uris.length;++l)r.uris[l]=e.uris[l]}return r},"toObject"),n.prototype.toJSON=o(function(){return this.constructor.toObject(this,S.util.toJSONOptions)},"toJSON"),n}(),a.SdkTranscriptItem=function(){function n(i){if(i)for(var e=Object.keys(i),t=0;t<e.length;++t)i[e[t]]!=null&&(this[e[t]]=i[e[t]])}return o(n,"SdkTranscriptItem"),n.prototype.content="",n.prototype.endTime=f.Long?f.Long.fromBits(0,0,!1):0,n.prototype.speakerAttendeeId="",n.prototype.speakerExternalUserId="",n.prototype.startTime=f.Long?f.Long.fromBits(0,0,!1):0,n.prototype.type=1,n.prototype.vocabularyFilterMatch=!1,n.prototype.confidence=0,n.prototype.stable=!1,n.create=o(function(e){return new n(e)},"create"),n.encode=o(function(e,t){return t||(t=m.create()),e.content!=null&&Object.hasOwnProperty.call(e,"content")&&t.uint32(10).string(e.content),e.endTime!=null&&Object.hasOwnProperty.call(e,"endTime")&&t.uint32(16).int64(e.endTime),e.speakerAttendeeId!=null&&Object.hasOwnProperty.call(e,"speakerAttendeeId")&&t.uint32(26).string(e.speakerAttendeeId),e.speakerExternalUserId!=null&&Object.hasOwnProperty.call(e,"speakerExternalUserId")&&t.uint32(34).string(e.speakerExternalUserId),e.startTime!=null&&Object.hasOwnProperty.call(e,"startTime")&&t.uint32(40).int64(e.startTime),e.type!=null&&Object.hasOwnProperty.call(e,"type")&&t.uint32(48).int32(e.type),e.vocabularyFilterMatch!=null&&Object.hasOwnProperty.call(e,"vocabularyFilterMatch")&&t.uint32(56).bool(e.vocabularyFilterMatch),e.confidence!=null&&Object.hasOwnProperty.call(e,"confidence")&&t.uint32(65).double(e.confidence),e.stable!=null&&Object.hasOwnProperty.call(e,"stable")&&t.uint32(72).bool(e.stable),t},"encode"),n.encodeDelimited=o(function(e,t){return this.encode(e,t).ldelim()},"encodeDelimited"),n.decode=o(function(e,t){e instanceof h||(e=h.create(e));for(var r=t===void 0?e.len:e.pos+t,l=new a.SdkTranscriptItem;e.pos<r;){var p=e.uint32();switch(p>>>3){case 1:l.content=e.string();break;case 2:l.endTime=e.int64();break;case 3:l.speakerAttendeeId=e.string();break;case 4:l.speakerExternalUserId=e.string();break;case 5:l.startTime=e.int64();break;case 6:l.type=e.int32();break;case 7:l.vocabularyFilterMatch=e.bool();break;case 8:l.confidence=e.double();break;case 9:l.stable=e.bool();break;default:e.skipType(p&7);break}}return l},"decode"),n.decodeDelimited=o(function(e){return e instanceof h||(e=new h(e)),this.decode(e,e.uint32())},"decodeDelimited"),n.verify=o(function(e){if(typeof e!="object"||e===null)return"object expected";if(e.content!=null&&e.hasOwnProperty("content")&&!f.isString(e.content))return"content: string expected";if(e.endTime!=null&&e.hasOwnProperty("endTime")&&!f.isInteger(e.endTime)&&!(e.endTime&&f.isInteger(e.endTime.low)&&f.isInteger(e.endTime.high)))return"endTime: integer|Long expected";if(e.speakerAttendeeId!=null&&e.hasOwnProperty("speakerAttendeeId")&&!f.isString(e.speakerAttendeeId))return"speakerAttendeeId: string expected";if(e.speakerExternalUserId!=null&&e.hasOwnProperty("speakerExternalUserId")&&!f.isString(e.speakerExternalUserId))return"speakerExternalUserId: string expected";if(e.startTime!=null&&e.hasOwnProperty("startTime")&&!f.isInteger(e.startTime)&&!(e.startTime&&f.isInteger(e.startTime.low)&&f.isInteger(e.startTime.high)))return"startTime: integer|Long expected";if(e.type!=null&&e.hasOwnProperty("type"))switch(e.type){default:return"type: enum value expected";case 1:case 2:break}return e.vocabularyFilterMatch!=null&&e.hasOwnProperty("vocabularyFilterMatch")&&typeof e.vocabularyFilterMatch!="boolean"?"vocabularyFilterMatch: boolean expected":e.confidence!=null&&e.hasOwnProperty("confidence")&&typeof e.confidence!="number"?"confidence: number expected":e.stable!=null&&e.hasOwnProperty("stable")&&typeof e.stable!="boolean"?"stable: boolean expected":null},"verify"),n.fromObject=o(function(e){if(e instanceof a.SdkTranscriptItem)return e;var t=new a.SdkTranscriptItem;switch(e.content!=null&&(t.content=String(e.content)),e.endTime!=null&&(f.Long?(t.endTime=f.Long.fromValue(e.endTime)).unsigned=!1:typeof e.endTime=="string"?t.endTime=parseInt(e.endTime,10):typeof e.endTime=="number"?t.endTime=e.endTime:typeof e.endTime=="object"&&(t.endTime=new f.LongBits(e.endTime.low>>>0,e.endTime.high>>>0).toNumber())),e.speakerAttendeeId!=null&&(t.speakerAttendeeId=String(e.speakerAttendeeId)),e.speakerExternalUserId!=null&&(t.speakerExternalUserId=String(e.speakerExternalUserId)),e.startTime!=null&&(f.Long?(t.startTime=f.Long.fromValue(e.startTime)).unsigned=!1:typeof e.startTime=="string"?t.startTime=parseInt(e.startTime,10):typeof e.startTime=="number"?t.startTime=e.startTime:typeof e.startTime=="object"&&(t.startTime=new f.LongBits(e.startTime.low>>>0,e.startTime.high>>>0).toNumber())),e.type){case"PRONUNCIATION":case 1:t.type=1;break;case"PUNCTUATION":case 2:t.type=2;break}return e.vocabularyFilterMatch!=null&&(t.vocabularyFilterMatch=Boolean(e.vocabularyFilterMatch)),e.confidence!=null&&(t.confidence=Number(e.confidence)),e.stable!=null&&(t.stable=Boolean(e.stable)),t},"fromObject"),n.toObject=o(function(e,t){t||(t={});var r={};if(t.defaults){if(r.content="",f.Long){var l=new f.Long(0,0,!1);r.endTime=t.longs===String?l.toString():t.longs===Number?l.toNumber():l}else r.endTime=t.longs===String?"0":0;if(r.speakerAttendeeId="",r.speakerExternalUserId="",f.Long){var l=new f.Long(0,0,!1);r.startTime=t.longs===String?l.toString():t.longs===Number?l.toNumber():l}else r.startTime=t.longs===String?"0":0;r.type=t.enums===String?"PRONUNCIATION":1,r.vocabularyFilterMatch=!1,r.confidence=0,r.stable=!1}return e.content!=null&&e.hasOwnProperty("content")&&(r.content=e.content),e.endTime!=null&&e.hasOwnProperty("endTime")&&(typeof e.endTime=="number"?r.endTime=t.longs===String?String(e.endTime):e.endTime:r.endTime=t.longs===String?f.Long.prototype.toString.call(e.endTime):t.longs===Number?new f.LongBits(e.endTime.low>>>0,e.endTime.high>>>0).toNumber():e.endTime),e.speakerAttendeeId!=null&&e.hasOwnProperty("speakerAttendeeId")&&(r.speakerAttendeeId=e.speakerAttendeeId),e.speakerExternalUserId!=null&&e.hasOwnProperty("speakerExternalUserId")&&(r.speakerExternalUserId=e.speakerExternalUserId),e.startTime!=null&&e.hasOwnProperty("startTime")&&(typeof e.startTime=="number"?r.startTime=t.longs===String?String(e.startTime):e.startTime:r.startTime=t.longs===String?f.Long.prototype.toString.call(e.startTime):t.longs===Number?new f.LongBits(e.startTime.low>>>0,e.startTime.high>>>0).toNumber():e.startTime),e.type!=null&&e.hasOwnProperty("type")&&(r.type=t.enums===String?a.SdkTranscriptItem.Type[e.type]:e.type),e.vocabularyFilterMatch!=null&&e.hasOwnProperty("vocabularyFilterMatch")&&(r.vocabularyFilterMatch=e.vocabularyFilterMatch),e.confidence!=null&&e.hasOwnProperty("confidence")&&(r.confidence=t.json&&!isFinite(e.confidence)?String(e.confidence):e.confidence),e.stable!=null&&e.hasOwnProperty("stable")&&(r.stable=e.stable),r},"toObject"),n.prototype.toJSON=o(function(){return this.constructor.toObject(this,S.util.toJSONOptions)},"toJSON"),n.Type=function(){var i={},e=Object.create(i);return e[i[1]="PRONUNCIATION"]=1,e[i[2]="PUNCTUATION"]=2,e}(),n}(),a.SdkTranscriptEntity=function(){function n(i){if(i)for(var e=Object.keys(i),t=0;t<e.length;++t)i[e[t]]!=null&&(this[e[t]]=i[e[t]])}return o(n,"SdkTranscriptEntity"),n.prototype.category="",n.prototype.confidence=0,n.prototype.content="",n.prototype.endTime=f.Long?f.Long.fromBits(0,0,!1):0,n.prototype.startTime=f.Long?f.Long.fromBits(0,0,!1):0,n.prototype.type="",n.create=o(function(e){return new n(e)},"create"),n.encode=o(function(e,t){return t||(t=m.create()),e.category!=null&&Object.hasOwnProperty.call(e,"category")&&t.uint32(10).string(e.category),e.confidence!=null&&Object.hasOwnProperty.call(e,"confidence")&&t.uint32(17).double(e.confidence),e.content!=null&&Object.hasOwnProperty.call(e,"content")&&t.uint32(26).string(e.content),e.endTime!=null&&Object.hasOwnProperty.call(e,"endTime")&&t.uint32(32).int64(e.endTime),e.startTime!=null&&Object.hasOwnProperty.call(e,"startTime")&&t.uint32(40).int64(e.startTime),e.type!=null&&Object.hasOwnProperty.call(e,"type")&&t.uint32(50).string(e.type),t},"encode"),n.encodeDelimited=o(function(e,t){return this.encode(e,t).ldelim()},"encodeDelimited"),n.decode=o(function(e,t){e instanceof h||(e=h.create(e));for(var r=t===void 0?e.len:e.pos+t,l=new a.SdkTranscriptEntity;e.pos<r;){var p=e.uint32();switch(p>>>3){case 1:l.category=e.string();break;case 2:l.confidence=e.double();break;case 3:l.content=e.string();break;case 4:l.endTime=e.int64();break;case 5:l.startTime=e.int64();break;case 6:l.type=e.string();break;default:e.skipType(p&7);break}}return l},"decode"),n.decodeDelimited=o(function(e){return e instanceof h||(e=new h(e)),this.decode(e,e.uint32())},"decodeDelimited"),n.verify=o(function(e){return typeof e!="object"||e===null?"object expected":e.category!=null&&e.hasOwnProperty("category")&&!f.isString(e.category)?"category: string expected":e.confidence!=null&&e.hasOwnProperty("confidence")&&typeof e.confidence!="number"?"confidence: number expected":e.content!=null&&e.hasOwnProperty("content")&&!f.isString(e.content)?"content: string expected":e.endTime!=null&&e.hasOwnProperty("endTime")&&!f.isInteger(e.endTime)&&!(e.endTime&&f.isInteger(e.endTime.low)&&f.isInteger(e.endTime.high))?"endTime: integer|Long expected":e.startTime!=null&&e.hasOwnProperty("startTime")&&!f.isInteger(e.startTime)&&!(e.startTime&&f.isInteger(e.startTime.low)&&f.isInteger(e.startTime.high))?"startTime: integer|Long expected":e.type!=null&&e.hasOwnProperty("type")&&!f.isString(e.type)?"type: string expected":null},"verify"),n.fromObject=o(function(e){if(e instanceof a.SdkTranscriptEntity)return e;var t=new a.SdkTranscriptEntity;return e.category!=null&&(t.category=String(e.category)),e.confidence!=null&&(t.confidence=Number(e.confidence)),e.content!=null&&(t.content=String(e.content)),e.endTime!=null&&(f.Long?(t.endTime=f.Long.fromValue(e.endTime)).unsigned=!1:typeof e.endTime=="string"?t.endTime=parseInt(e.endTime,10):typeof e.endTime=="number"?t.endTime=e.endTime:typeof e.endTime=="object"&&(t.endTime=new f.LongBits(e.endTime.low>>>0,e.endTime.high>>>0).toNumber())),e.startTime!=null&&(f.Long?(t.startTime=f.Long.fromValue(e.startTime)).unsigned=!1:typeof e.startTime=="string"?t.startTime=parseInt(e.startTime,10):typeof e.startTime=="number"?t.startTime=e.startTime:typeof e.startTime=="object"&&(t.startTime=new f.LongBits(e.startTime.low>>>0,e.startTime.high>>>0).toNumber())),e.type!=null&&(t.type=String(e.type)),t},"fromObject"),n.toObject=o(function(e,t){t||(t={});var r={};if(t.defaults){if(r.category="",r.confidence=0,r.content="",f.Long){var l=new f.Long(0,0,!1);r.endTime=t.longs===String?l.toString():t.longs===Number?l.toNumber():l}else r.endTime=t.longs===String?"0":0;if(f.Long){var l=new f.Long(0,0,!1);r.startTime=t.longs===String?l.toString():t.longs===Number?l.toNumber():l}else r.startTime=t.longs===String?"0":0;r.type=""}return e.category!=null&&e.hasOwnProperty("category")&&(r.category=e.category),e.confidence!=null&&e.hasOwnProperty("confidence")&&(r.confidence=t.json&&!isFinite(e.confidence)?String(e.confidence):e.confidence),e.content!=null&&e.hasOwnProperty("content")&&(r.content=e.content),e.endTime!=null&&e.hasOwnProperty("endTime")&&(typeof e.endTime=="number"?r.endTime=t.longs===String?String(e.endTime):e.endTime:r.endTime=t.longs===String?f.Long.prototype.toString.call(e.endTime):t.longs===Number?new f.LongBits(e.endTime.low>>>0,e.endTime.high>>>0).toNumber():e.endTime),e.startTime!=null&&e.hasOwnProperty("startTime")&&(typeof e.startTime=="number"?r.startTime=t.longs===String?String(e.startTime):e.startTime:r.startTime=t.longs===String?f.Long.prototype.toString.call(e.startTime):t.longs===Number?new f.LongBits(e.startTime.low>>>0,e.startTime.high>>>0).toNumber():e.startTime),e.type!=null&&e.hasOwnProperty("type")&&(r.type=e.type),r},"toObject"),n.prototype.toJSON=o(function(){return this.constructor.toObject(this,S.util.toJSONOptions)},"toJSON"),n}(),a.SdkTranscriptAlternative=function(){function n(i){if(this.items=[],this.entities=[],i)for(var e=Object.keys(i),t=0;t<e.length;++t)i[e[t]]!=null&&(this[e[t]]=i[e[t]])}return o(n,"SdkTranscriptAlternative"),n.prototype.items=f.emptyArray,n.prototype.transcript="",n.prototype.entities=f.emptyArray,n.create=o(function(e){return new n(e)},"create"),n.encode=o(function(e,t){if(t||(t=m.create()),e.items!=null&&e.items.length)for(var r=0;r<e.items.length;++r)a.SdkTranscriptItem.encode(e.items[r],t.uint32(10).fork()).ldelim();if(e.transcript!=null&&Object.hasOwnProperty.call(e,"transcript")&&t.uint32(18).string(e.transcript),e.entities!=null&&e.entities.length)for(var r=0;r<e.entities.length;++r)a.SdkTranscriptEntity.encode(e.entities[r],t.uint32(26).fork()).ldelim();return t},"encode"),n.encodeDelimited=o(function(e,t){return this.encode(e,t).ldelim()},"encodeDelimited"),n.decode=o(function(e,t){e instanceof h||(e=h.create(e));for(var r=t===void 0?e.len:e.pos+t,l=new a.SdkTranscriptAlternative;e.pos<r;){var p=e.uint32();switch(p>>>3){case 1:l.items&&l.items.length||(l.items=[]),l.items.push(a.SdkTranscriptItem.decode(e,e.uint32()));break;case 2:l.transcript=e.string();break;case 3:l.entities&&l.entities.length||(l.entities=[]),l.entities.push(a.SdkTranscriptEntity.decode(e,e.uint32()));break;default:e.skipType(p&7);break}}return l},"decode"),n.decodeDelimited=o(function(e){return e instanceof h||(e=new h(e)),this.decode(e,e.uint32())},"decodeDelimited"),n.verify=o(function(e){if(typeof e!="object"||e===null)return"object expected";if(e.items!=null&&e.hasOwnProperty("items")){if(!Array.isArray(e.items))return"items: array expected";for(var t=0;t<e.items.length;++t){var r=a.SdkTranscriptItem.verify(e.items[t]);if(r)return"items."+r}}if(e.transcript!=null&&e.hasOwnProperty("transcript")&&!f.isString(e.transcript))return"transcript: string expected";if(e.entities!=null&&e.hasOwnProperty("entities")){if(!Array.isArray(e.entities))return"entities: array expected";for(var t=0;t<e.entities.length;++t){var r=a.SdkTranscriptEntity.verify(e.entities[t]);if(r)return"entities."+r}}return null},"verify"),n.fromObject=o(function(e){if(e instanceof a.SdkTranscriptAlternative)return e;var t=new a.SdkTranscriptAlternative;if(e.items){if(!Array.isArray(e.items))throw TypeError(".SdkTranscriptAlternative.items: array expected");t.items=[];for(var r=0;r<e.items.length;++r){if(typeof e.items[r]!="object")throw TypeError(".SdkTranscriptAlternative.items: object expected");t.items[r]=a.SdkTranscriptItem.fromObject(e.items[r])}}if(e.transcript!=null&&(t.transcript=String(e.transcript)),e.entities){if(!Array.isArray(e.entities))throw TypeError(".SdkTranscriptAlternative.entities: array expected");t.entities=[];for(var r=0;r<e.entities.length;++r){if(typeof e.entities[r]!="object")throw TypeError(".SdkTranscriptAlternative.entities: object expected");t.entities[r]=a.SdkTranscriptEntity.fromObject(e.entities[r])}}return t},"fromObject"),n.toObject=o(function(e,t){t||(t={});var r={};if((t.arrays||t.defaults)&&(r.items=[],r.entities=[]),t.defaults&&(r.transcript=""),e.items&&e.items.length){r.items=[];for(var l=0;l<e.items.length;++l)r.items[l]=a.SdkTranscriptItem.toObject(e.items[l],t)}if(e.transcript!=null&&e.hasOwnProperty("transcript")&&(r.transcript=e.transcript),e.entities&&e.entities.length){r.entities=[];for(var l=0;l<e.entities.length;++l)r.entities[l]=a.SdkTranscriptEntity.toObject(e.entities[l],t)}return r},"toObject"),n.prototype.toJSON=o(function(){return this.constructor.toObject(this,S.util.toJSONOptions)},"toJSON"),n}(),a.SdkTranscriptLanguageWithScore=function(){function n(i){if(i)for(var e=Object.keys(i),t=0;t<e.length;++t)i[e[t]]!=null&&(this[e[t]]=i[e[t]])}return o(n,"SdkTranscriptLanguageWithScore"),n.prototype.languageCode="",n.prototype.score=0,n.create=o(function(e){return new n(e)},"create"),n.encode=o(function(e,t){return t||(t=m.create()),e.languageCode!=null&&Object.hasOwnProperty.call(e,"languageCode")&&t.uint32(10).string(e.languageCode),e.score!=null&&Object.hasOwnProperty.call(e,"score")&&t.uint32(17).double(e.score),t},"encode"),n.encodeDelimited=o(function(e,t){return this.encode(e,t).ldelim()},"encodeDelimited"),n.decode=o(function(e,t){e instanceof h||(e=h.create(e));for(var r=t===void 0?e.len:e.pos+t,l=new a.SdkTranscriptLanguageWithScore;e.pos<r;){var p=e.uint32();switch(p>>>3){case 1:l.languageCode=e.string();break;case 2:l.score=e.double();break;default:e.skipType(p&7);break}}return l},"decode"),n.decodeDelimited=o(function(e){return e instanceof h||(e=new h(e)),this.decode(e,e.uint32())},"decodeDelimited"),n.verify=o(function(e){return typeof e!="object"||e===null?"object expected":e.languageCode!=null&&e.hasOwnProperty("languageCode")&&!f.isString(e.languageCode)?"languageCode: string expected":e.score!=null&&e.hasOwnProperty("score")&&typeof e.score!="number"?"score: number expected":null},"verify"),n.fromObject=o(function(e){if(e instanceof a.SdkTranscriptLanguageWithScore)return e;var t=new a.SdkTranscriptLanguageWithScore;return e.languageCode!=null&&(t.languageCode=String(e.languageCode)),e.score!=null&&(t.score=Number(e.score)),t},"fromObject"),n.toObject=o(function(e,t){t||(t={});var r={};return t.defaults&&(r.languageCode="",r.score=0),e.languageCode!=null&&e.hasOwnProperty("languageCode")&&(r.languageCode=e.languageCode),e.score!=null&&e.hasOwnProperty("score")&&(r.score=t.json&&!isFinite(e.score)?String(e.score):e.score),r},"toObject"),n.prototype.toJSON=o(function(){return this.constructor.toObject(this,S.util.toJSONOptions)},"toJSON"),n}(),a.SdkTranscriptResult=function(){function n(i){if(this.alternatives=[],this.languageIdentification=[],i)for(var e=Object.keys(i),t=0;t<e.length;++t)i[e[t]]!=null&&(this[e[t]]=i[e[t]])}return o(n,"SdkTranscriptResult"),n.prototype.alternatives=f.emptyArray,n.prototype.channelId="",n.prototype.endTime=f.Long?f.Long.fromBits(0,0,!1):0,n.prototype.isPartial=!1,n.prototype.resultId="",n.prototype.startTime=f.Long?f.Long.fromBits(0,0,!1):0,n.prototype.languageCode="",n.prototype.languageIdentification=f.emptyArray,n.create=o(function(e){return new n(e)},"create"),n.encode=o(function(e,t){if(t||(t=m.create()),e.alternatives!=null&&e.alternatives.length)for(var r=0;r<e.alternatives.length;++r)a.SdkTranscriptAlternative.encode(e.alternatives[r],t.uint32(10).fork()).ldelim();if(e.channelId!=null&&Object.hasOwnProperty.call(e,"channelId")&&t.uint32(18).string(e.channelId),e.endTime!=null&&Object.hasOwnProperty.call(e,"endTime")&&t.uint32(24).int64(e.endTime),e.isPartial!=null&&Object.hasOwnProperty.call(e,"isPartial")&&t.uint32(32).bool(e.isPartial),e.resultId!=null&&Object.hasOwnProperty.call(e,"resultId")&&t.uint32(42).string(e.resultId),e.startTime!=null&&Object.hasOwnProperty.call(e,"startTime")&&t.uint32(48).int64(e.startTime),e.languageCode!=null&&Object.hasOwnProperty.call(e,"languageCode")&&t.uint32(58).string(e.languageCode),e.languageIdentification!=null&&e.languageIdentification.length)for(var r=0;r<e.languageIdentification.length;++r)a.SdkTranscriptLanguageWithScore.encode(e.languageIdentification[r],t.uint32(66).fork()).ldelim();return t},"encode"),n.encodeDelimited=o(function(e,t){return this.encode(e,t).ldelim()},"encodeDelimited"),n.decode=o(function(e,t){e instanceof h||(e=h.create(e));for(var r=t===void 0?e.len:e.pos+t,l=new a.SdkTranscriptResult;e.pos<r;){var p=e.uint32();switch(p>>>3){case 1:l.alternatives&&l.alternatives.length||(l.alternatives=[]),l.alternatives.push(a.SdkTranscriptAlternative.decode(e,e.uint32()));break;case 2:l.channelId=e.string();break;case 3:l.endTime=e.int64();break;case 4:l.isPartial=e.bool();break;case 5:l.resultId=e.string();break;case 6:l.startTime=e.int64();break;case 7:l.languageCode=e.string();break;case 8:l.languageIdentification&&l.languageIdentification.length||(l.languageIdentification=[]),l.languageIdentification.push(a.SdkTranscriptLanguageWithScore.decode(e,e.uint32()));break;default:e.skipType(p&7);break}}return l},"decode"),n.decodeDelimited=o(function(e){return e instanceof h||(e=new h(e)),this.decode(e,e.uint32())},"decodeDelimited"),n.verify=o(function(e){if(typeof e!="object"||e===null)return"object expected";if(e.alternatives!=null&&e.hasOwnProperty("alternatives")){if(!Array.isArray(e.alternatives))return"alternatives: array expected";for(var t=0;t<e.alternatives.length;++t){var r=a.SdkTranscriptAlternative.verify(e.alternatives[t]);if(r)return"alternatives."+r}}if(e.channelId!=null&&e.hasOwnProperty("channelId")&&!f.isString(e.channelId))return"channelId: string expected";if(e.endTime!=null&&e.hasOwnProperty("endTime")&&!f.isInteger(e.endTime)&&!(e.endTime&&f.isInteger(e.endTime.low)&&f.isInteger(e.endTime.high)))return"endTime: integer|Long expected";if(e.isPartial!=null&&e.hasOwnProperty("isPartial")&&typeof e.isPartial!="boolean")return"isPartial: boolean expected";if(e.resultId!=null&&e.hasOwnProperty("resultId")&&!f.isString(e.resultId))return"resultId: string expected";if(e.startTime!=null&&e.hasOwnProperty("startTime")&&!f.isInteger(e.startTime)&&!(e.startTime&&f.isInteger(e.startTime.low)&&f.isInteger(e.startTime.high)))return"startTime: integer|Long expected";if(e.languageCode!=null&&e.hasOwnProperty("languageCode")&&!f.isString(e.languageCode))return"languageCode: string expected";if(e.languageIdentification!=null&&e.hasOwnProperty("languageIdentification")){if(!Array.isArray(e.languageIdentification))return"languageIdentification: array expected";for(var t=0;t<e.languageIdentification.length;++t){var r=a.SdkTranscriptLanguageWithScore.verify(e.languageIdentification[t]);if(r)return"languageIdentification."+r}}return null},"verify"),n.fromObject=o(function(e){if(e instanceof a.SdkTranscriptResult)return e;var t=new a.SdkTranscriptResult;if(e.alternatives){if(!Array.isArray(e.alternatives))throw TypeError(".SdkTranscriptResult.alternatives: array expected");t.alternatives=[];for(var r=0;r<e.alternatives.length;++r){if(typeof e.alternatives[r]!="object")throw TypeError(".SdkTranscriptResult.alternatives: object expected");t.alternatives[r]=a.SdkTranscriptAlternative.fromObject(e.alternatives[r])}}if(e.channelId!=null&&(t.channelId=String(e.channelId)),e.endTime!=null&&(f.Long?(t.endTime=f.Long.fromValue(e.endTime)).unsigned=!1:typeof e.endTime=="string"?t.endTime=parseInt(e.endTime,10):typeof e.endTime=="number"?t.endTime=e.endTime:typeof e.endTime=="object"&&(t.endTime=new f.LongBits(e.endTime.low>>>0,e.endTime.high>>>0).toNumber())),e.isPartial!=null&&(t.isPartial=Boolean(e.isPartial)),e.resultId!=null&&(t.resultId=String(e.resultId)),e.startTime!=null&&(f.Long?(t.startTime=f.Long.fromValue(e.startTime)).unsigned=!1:typeof e.startTime=="string"?t.startTime=parseInt(e.startTime,10):typeof e.startTime=="number"?t.startTime=e.startTime:typeof e.startTime=="object"&&(t.startTime=new f.LongBits(e.startTime.low>>>0,e.startTime.high>>>0).toNumber())),e.languageCode!=null&&(t.languageCode=String(e.languageCode)),e.languageIdentification){if(!Array.isArray(e.languageIdentification))throw TypeError(".SdkTranscriptResult.languageIdentification: array expected");t.languageIdentification=[];for(var r=0;r<e.languageIdentification.length;++r){if(typeof e.languageIdentification[r]!="object")throw TypeError(".SdkTranscriptResult.languageIdentification: object expected");t.languageIdentification[r]=a.SdkTranscriptLanguageWithScore.fromObject(e.languageIdentification[r])}}return t},"fromObject"),n.toObject=o(function(e,t){t||(t={});var r={};if((t.arrays||t.defaults)&&(r.alternatives=[],r.languageIdentification=[]),t.defaults){if(r.channelId="",f.Long){var l=new f.Long(0,0,!1);r.endTime=t.longs===String?l.toString():t.longs===Number?l.toNumber():l}else r.endTime=t.longs===String?"0":0;if(r.isPartial=!1,r.resultId="",f.Long){var l=new f.Long(0,0,!1);r.startTime=t.longs===String?l.toString():t.longs===Number?l.toNumber():l}else r.startTime=t.longs===String?"0":0;r.languageCode=""}if(e.alternatives&&e.alternatives.length){r.alternatives=[];for(var p=0;p<e.alternatives.length;++p)r.alternatives[p]=a.SdkTranscriptAlternative.toObject(e.alternatives[p],t)}if(e.channelId!=null&&e.hasOwnProperty("channelId")&&(r.channelId=e.channelId),e.endTime!=null&&e.hasOwnProperty("endTime")&&(typeof e.endTime=="number"?r.endTime=t.longs===String?String(e.endTime):e.endTime:r.endTime=t.longs===String?f.Long.prototype.toString.call(e.endTime):t.longs===Number?new f.LongBits(e.endTime.low>>>0,e.endTime.high>>>0).toNumber():e.endTime),e.isPartial!=null&&e.hasOwnProperty("isPartial")&&(r.isPartial=e.isPartial),e.resultId!=null&&e.hasOwnProperty("resultId")&&(r.resultId=e.resultId),e.startTime!=null&&e.hasOwnProperty("startTime")&&(typeof e.startTime=="number"?r.startTime=t.longs===String?String(e.startTime):e.startTime:r.startTime=t.longs===String?f.Long.prototype.toString.call(e.startTime):t.longs===Number?new f.LongBits(e.startTime.low>>>0,e.startTime.high>>>0).toNumber():e.startTime),e.languageCode!=null&&e.hasOwnProperty("languageCode")&&(r.languageCode=e.languageCode),e.languageIdentification&&e.languageIdentification.length){r.languageIdentification=[];for(var p=0;p<e.languageIdentification.length;++p)r.languageIdentification[p]=a.SdkTranscriptLanguageWithScore.toObject(e.languageIdentification[p],t)}return r},"toObject"),n.prototype.toJSON=o(function(){return this.constructor.toObject(this,S.util.toJSONOptions)},"toJSON"),n}(),a.SdkTranscript=function(){function n(i){if(this.results=[],i)for(var e=Object.keys(i),t=0;t<e.length;++t)i[e[t]]!=null&&(this[e[t]]=i[e[t]])}return o(n,"SdkTranscript"),n.prototype.results=f.emptyArray,n.create=o(function(e){return new n(e)},"create"),n.encode=o(function(e,t){if(t||(t=m.create()),e.results!=null&&e.results.length)for(var r=0;r<e.results.length;++r)a.SdkTranscriptResult.encode(e.results[r],t.uint32(10).fork()).ldelim();return t},"encode"),n.encodeDelimited=o(function(e,t){return this.encode(e,t).ldelim()},"encodeDelimited"),n.decode=o(function(e,t){e instanceof h||(e=h.create(e));for(var r=t===void 0?e.len:e.pos+t,l=new a.SdkTranscript;e.pos<r;){var p=e.uint32();switch(p>>>3){case 1:l.results&&l.results.length||(l.results=[]),l.results.push(a.SdkTranscriptResult.decode(e,e.uint32()));break;default:e.skipType(p&7);break}}return l},"decode"),n.decodeDelimited=o(function(e){return e instanceof h||(e=new h(e)),this.decode(e,e.uint32())},"decodeDelimited"),n.verify=o(function(e){if(typeof e!="object"||e===null)return"object expected";if(e.results!=null&&e.hasOwnProperty("results")){if(!Array.isArray(e.results))return"results: array expected";for(var t=0;t<e.results.length;++t){var r=a.SdkTranscriptResult.verify(e.results[t]);if(r)return"results."+r}}return null},"verify"),n.fromObject=o(function(e){if(e instanceof a.SdkTranscript)return e;var t=new a.SdkTranscript;if(e.results){if(!Array.isArray(e.results))throw TypeError(".SdkTranscript.results: array expected");t.results=[];for(var r=0;r<e.results.length;++r){if(typeof e.results[r]!="object")throw TypeError(".SdkTranscript.results: object expected");t.results[r]=a.SdkTranscriptResult.fromObject(e.results[r])}}return t},"fromObject"),n.toObject=o(function(e,t){t||(t={});var r={};if((t.arrays||t.defaults)&&(r.results=[]),e.results&&e.results.length){r.results=[];for(var l=0;l<e.results.length;++l)r.results[l]=a.SdkTranscriptResult.toObject(e.results[l],t)}return r},"toObject"),n.prototype.toJSON=o(function(){return this.constructor.toObject(this,S.util.toJSONOptions)},"toJSON"),n}(),a.SdkTranscriptionStatus=function(){function n(i){if(i)for(var e=Object.keys(i),t=0;t<e.length;++t)i[e[t]]!=null&&(this[e[t]]=i[e[t]])}return o(n,"SdkTranscriptionStatus"),n.prototype.type=1,n.prototype.eventTime=f.Long?f.Long.fromBits(0,0,!1):0,n.prototype.transcriptionRegion="",n.prototype.transcriptionConfiguration="",n.prototype.message="",n.create=o(function(e){return new n(e)},"create"),n.encode=o(function(e,t){return t||(t=m.create()),e.type!=null&&Object.hasOwnProperty.call(e,"type")&&t.uint32(8).int32(e.type),e.eventTime!=null&&Object.hasOwnProperty.call(e,"eventTime")&&t.uint32(16).int64(e.eventTime),e.transcriptionRegion!=null&&Object.hasOwnProperty.call(e,"transcriptionRegion")&&t.uint32(26).string(e.transcriptionRegion),e.transcriptionConfiguration!=null&&Object.hasOwnProperty.call(e,"transcriptionConfiguration")&&t.uint32(34).string(e.transcriptionConfiguration),e.message!=null&&Object.hasOwnProperty.call(e,"message")&&t.uint32(42).string(e.message),t},"encode"),n.encodeDelimited=o(function(e,t){return this.encode(e,t).ldelim()},"encodeDelimited"),n.decode=o(function(e,t){e instanceof h||(e=h.create(e));for(var r=t===void 0?e.len:e.pos+t,l=new a.SdkTranscriptionStatus;e.pos<r;){var p=e.uint32();switch(p>>>3){case 1:l.type=e.int32();break;case 2:l.eventTime=e.int64();break;case 3:l.transcriptionRegion=e.string();break;case 4:l.transcriptionConfiguration=e.string();break;case 5:l.message=e.string();break;default:e.skipType(p&7);break}}return l},"decode"),n.decodeDelimited=o(function(e){return e instanceof h||(e=new h(e)),this.decode(e,e.uint32())},"decodeDelimited"),n.verify=o(function(e){if(typeof e!="object"||e===null)return"object expected";if(e.type!=null&&e.hasOwnProperty("type"))switch(e.type){default:return"type: enum value expected";case 1:case 2:case 3:case 4:case 5:break}return e.eventTime!=null&&e.hasOwnProperty("eventTime")&&!f.isInteger(e.eventTime)&&!(e.eventTime&&f.isInteger(e.eventTime.low)&&f.isInteger(e.eventTime.high))?"eventTime: integer|Long expected":e.transcriptionRegion!=null&&e.hasOwnProperty("transcriptionRegion")&&!f.isString(e.transcriptionRegion)?"transcriptionRegion: string expected":e.transcriptionConfiguration!=null&&e.hasOwnProperty("transcriptionConfiguration")&&!f.isString(e.transcriptionConfiguration)?"transcriptionConfiguration: string expected":e.message!=null&&e.hasOwnProperty("message")&&!f.isString(e.message)?"message: string expected":null},"verify"),n.fromObject=o(function(e){if(e instanceof a.SdkTranscriptionStatus)return e;var t=new a.SdkTranscriptionStatus;switch(e.type){case"STARTED":case 1:t.type=1;break;case"INTERRUPTED":case 2:t.type=2;break;case"RESUMED":case 3:t.type=3;break;case"STOPPED":case 4:t.type=4;break;case"FAILED":case 5:t.type=5;break}return e.eventTime!=null&&(f.Long?(t.eventTime=f.Long.fromValue(e.eventTime)).unsigned=!1:typeof e.eventTime=="string"?t.eventTime=parseInt(e.eventTime,10):typeof e.eventTime=="number"?t.eventTime=e.eventTime:typeof e.eventTime=="object"&&(t.eventTime=new f.LongBits(e.eventTime.low>>>0,e.eventTime.high>>>0).toNumber())),e.transcriptionRegion!=null&&(t.transcriptionRegion=String(e.transcriptionRegion)),e.transcriptionConfiguration!=null&&(t.transcriptionConfiguration=String(e.transcriptionConfiguration)),e.message!=null&&(t.message=String(e.message)),t},"fromObject"),n.toObject=o(function(e,t){t||(t={});var r={};if(t.defaults){if(r.type=t.enums===String?"STARTED":1,f.Long){var l=new f.Long(0,0,!1);r.eventTime=t.longs===String?l.toString():t.longs===Number?l.toNumber():l}else r.eventTime=t.longs===String?"0":0;r.transcriptionRegion="",r.transcriptionConfiguration="",r.message=""}return e.type!=null&&e.hasOwnProperty("type")&&(r.type=t.enums===String?a.SdkTranscriptionStatus.Type[e.type]:e.type),e.eventTime!=null&&e.hasOwnProperty("eventTime")&&(typeof e.eventTime=="number"?r.eventTime=t.longs===String?String(e.eventTime):e.eventTime:r.eventTime=t.longs===String?f.Long.prototype.toString.call(e.eventTime):t.longs===Number?new f.LongBits(e.eventTime.low>>>0,e.eventTime.high>>>0).toNumber():e.eventTime),e.transcriptionRegion!=null&&e.hasOwnProperty("transcriptionRegion")&&(r.transcriptionRegion=e.transcriptionRegion),e.transcriptionConfiguration!=null&&e.hasOwnProperty("transcriptionConfiguration")&&(r.transcriptionConfiguration=e.transcriptionConfiguration),e.message!=null&&e.hasOwnProperty("message")&&(r.message=e.message),r},"toObject"),n.prototype.toJSON=o(function(){return this.constructor.toObject(this,S.util.toJSONOptions)},"toJSON"),n.Type=function(){var i={},e=Object.create(i);return e[i[1]="STARTED"]=1,e[i[2]="INTERRUPTED"]=2,e[i[3]="RESUMED"]=3,e[i[4]="STOPPED"]=4,e[i[5]="FAILED"]=5,e}(),n}(),a.SdkTranscriptEvent=function(){function n(e){if(e)for(var t=Object.keys(e),r=0;r<t.length;++r)e[t[r]]!=null&&(this[t[r]]=e[t[r]])}o(n,"SdkTranscriptEvent"),n.prototype.status=null,n.prototype.transcript=null;var i;return Object.defineProperty(n.prototype,"Event",{get:f.oneOfGetter(i=["status","transcript"]),set:f.oneOfSetter(i)}),n.create=o(function(t){return new n(t)},"create"),n.encode=o(function(t,r){return r||(r=m.create()),t.status!=null&&Object.hasOwnProperty.call(t,"status")&&a.SdkTranscriptionStatus.encode(t.status,r.uint32(10).fork()).ldelim(),t.transcript!=null&&Object.hasOwnProperty.call(t,"transcript")&&a.SdkTranscript.encode(t.transcript,r.uint32(18).fork()).ldelim(),r},"encode"),n.encodeDelimited=o(function(t,r){return this.encode(t,r).ldelim()},"encodeDelimited"),n.decode=o(function(t,r){t instanceof h||(t=h.create(t));for(var l=r===void 0?t.len:t.pos+r,p=new a.SdkTranscriptEvent;t.pos<l;){var v=t.uint32();switch(v>>>3){case 1:p.status=a.SdkTranscriptionStatus.decode(t,t.uint32());break;case 2:p.transcript=a.SdkTranscript.decode(t,t.uint32());break;default:t.skipType(v&7);break}}return p},"decode"),n.decodeDelimited=o(function(t){return t instanceof h||(t=new h(t)),this.decode(t,t.uint32())},"decodeDelimited"),n.verify=o(function(t){if(typeof t!="object"||t===null)return"object expected";var r={};if(t.status!=null&&t.hasOwnProperty("status")){r.Event=1;{var l=a.SdkTranscriptionStatus.verify(t.status);if(l)return"status."+l}}if(t.transcript!=null&&t.hasOwnProperty("transcript")){if(r.Event===1)return"Event: multiple values";r.Event=1;{var l=a.SdkTranscript.verify(t.transcript);if(l)return"transcript."+l}}return null},"verify"),n.fromObject=o(function(t){if(t instanceof a.SdkTranscriptEvent)return t;var r=new a.SdkTranscriptEvent;if(t.status!=null){if(typeof t.status!="object")throw TypeError(".SdkTranscriptEvent.status: object expected");r.status=a.SdkTranscriptionStatus.fromObject(t.status)}if(t.transcript!=null){if(typeof t.transcript!="object")throw TypeError(".SdkTranscriptEvent.transcript: object expected");r.transcript=a.SdkTranscript.fromObject(t.transcript)}return r},"fromObject"),n.toObject=o(function(t,r){r||(r={});var l={};return t.status!=null&&t.hasOwnProperty("status")&&(l.status=a.SdkTranscriptionStatus.toObject(t.status,r),r.oneofs&&(l.Event="status")),t.transcript!=null&&t.hasOwnProperty("transcript")&&(l.transcript=a.SdkTranscript.toObject(t.transcript,r),r.oneofs&&(l.Event="transcript")),l},"toObject"),n.prototype.toJSON=o(function(){return this.constructor.toObject(this,S.util.toJSONOptions)},"toJSON"),n}(),a.SdkTranscriptFrame=function(){function n(i){if(this.events=[],i)for(var e=Object.keys(i),t=0;t<e.length;++t)i[e[t]]!=null&&(this[e[t]]=i[e[t]])}return o(n,"SdkTranscriptFrame"),n.prototype.events=f.emptyArray,n.create=o(function(e){return new n(e)},"create"),n.encode=o(function(e,t){if(t||(t=m.create()),e.events!=null&&e.events.length)for(var r=0;r<e.events.length;++r)a.SdkTranscriptEvent.encode(e.events[r],t.uint32(10).fork()).ldelim();return t},"encode"),n.encodeDelimited=o(function(e,t){return this.encode(e,t).ldelim()},"encodeDelimited"),n.decode=o(function(e,t){e instanceof h||(e=h.create(e));for(var r=t===void 0?e.len:e.pos+t,l=new a.SdkTranscriptFrame;e.pos<r;){var p=e.uint32();switch(p>>>3){case 1:l.events&&l.events.length||(l.events=[]),l.events.push(a.SdkTranscriptEvent.decode(e,e.uint32()));break;default:e.skipType(p&7);break}}return l},"decode"),n.decodeDelimited=o(function(e){return e instanceof h||(e=new h(e)),this.decode(e,e.uint32())},"decodeDelimited"),n.verify=o(function(e){if(typeof e!="object"||e===null)return"object expected";if(e.events!=null&&e.hasOwnProperty("events")){if(!Array.isArray(e.events))return"events: array expected";for(var t=0;t<e.events.length;++t){var r=a.SdkTranscriptEvent.verify(e.events[t]);if(r)return"events."+r}}return null},"verify"),n.fromObject=o(function(e){if(e instanceof a.SdkTranscriptFrame)return e;var t=new a.SdkTranscriptFrame;if(e.events){if(!Array.isArray(e.events))throw TypeError(".SdkTranscriptFrame.events: array expected");t.events=[];for(var r=0;r<e.events.length;++r){if(typeof e.events[r]!="object")throw TypeError(".SdkTranscriptFrame.events: object expected");t.events[r]=a.SdkTranscriptEvent.fromObject(e.events[r])}}return t},"fromObject"),n.toObject=o(function(e,t){t||(t={});var r={};if((t.arrays||t.defaults)&&(r.events=[]),e.events&&e.events.length){r.events=[];for(var l=0;l<e.events.length;++l)r.events[l]=a.SdkTranscriptEvent.toObject(e.events[l],t)}return r},"toObject"),n.prototype.toJSON=o(function(){return this.constructor.toObject(this,S.util.toJSONOptions)},"toJSON"),n}(),a.SdkRemoteVideoUpdateFrame=function(){function n(i){if(this.addedOrUpdatedVideoSubscriptions=[],this.removedVideoSubscriptionMids=[],i)for(var e=Object.keys(i),t=0;t<e.length;++t)i[e[t]]!=null&&(this[e[t]]=i[e[t]])}return o(n,"SdkRemoteVideoUpdateFrame"),n.prototype.addedOrUpdatedVideoSubscriptions=f.emptyArray,n.prototype.removedVideoSubscriptionMids=f.emptyArray,n.create=o(function(e){return new n(e)},"create"),n.encode=o(function(e,t){if(t||(t=m.create()),e.addedOrUpdatedVideoSubscriptions!=null&&e.addedOrUpdatedVideoSubscriptions.length)for(var r=0;r<e.addedOrUpdatedVideoSubscriptions.length;++r)a.SdkVideoSubscriptionConfiguration.encode(e.addedOrUpdatedVideoSubscriptions[r],t.uint32(10).fork()).ldelim();if(e.removedVideoSubscriptionMids!=null&&e.removedVideoSubscriptionMids.length)for(var r=0;r<e.removedVideoSubscriptionMids.length;++r)t.uint32(18).string(e.removedVideoSubscriptionMids[r]);return t},"encode"),n.encodeDelimited=o(function(e,t){return this.encode(e,t).ldelim()},"encodeDelimited"),n.decode=o(function(e,t){e instanceof h||(e=h.create(e));for(var r=t===void 0?e.len:e.pos+t,l=new a.SdkRemoteVideoUpdateFrame;e.pos<r;){var p=e.uint32();switch(p>>>3){case 1:l.addedOrUpdatedVideoSubscriptions&&l.addedOrUpdatedVideoSubscriptions.length||(l.addedOrUpdatedVideoSubscriptions=[]),l.addedOrUpdatedVideoSubscriptions.push(a.SdkVideoSubscriptionConfiguration.decode(e,e.uint32()));break;case 2:l.removedVideoSubscriptionMids&&l.removedVideoSubscriptionMids.length||(l.removedVideoSubscriptionMids=[]),l.removedVideoSubscriptionMids.push(e.string());break;default:e.skipType(p&7);break}}return l},"decode"),n.decodeDelimited=o(function(e){return e instanceof h||(e=new h(e)),this.decode(e,e.uint32())},"decodeDelimited"),n.verify=o(function(e){if(typeof e!="object"||e===null)return"object expected";if(e.addedOrUpdatedVideoSubscriptions!=null&&e.hasOwnProperty("addedOrUpdatedVideoSubscriptions")){if(!Array.isArray(e.addedOrUpdatedVideoSubscriptions))return"addedOrUpdatedVideoSubscriptions: array expected";for(var t=0;t<e.addedOrUpdatedVideoSubscriptions.length;++t){var r=a.SdkVideoSubscriptionConfiguration.verify(e.addedOrUpdatedVideoSubscriptions[t]);if(r)return"addedOrUpdatedVideoSubscriptions."+r}}if(e.removedVideoSubscriptionMids!=null&&e.hasOwnProperty("removedVideoSubscriptionMids")){if(!Array.isArray(e.removedVideoSubscriptionMids))return"removedVideoSubscriptionMids: array expected";for(var t=0;t<e.removedVideoSubscriptionMids.length;++t)if(!f.isString(e.removedVideoSubscriptionMids[t]))return"removedVideoSubscriptionMids: string[] expected"}return null},"verify"),n.fromObject=o(function(e){if(e instanceof a.SdkRemoteVideoUpdateFrame)return e;var t=new a.SdkRemoteVideoUpdateFrame;if(e.addedOrUpdatedVideoSubscriptions){if(!Array.isArray(e.addedOrUpdatedVideoSubscriptions))throw TypeError(".SdkRemoteVideoUpdateFrame.addedOrUpdatedVideoSubscriptions: array expected");t.addedOrUpdatedVideoSubscriptions=[];for(var r=0;r<e.addedOrUpdatedVideoSubscriptions.length;++r){if(typeof e.addedOrUpdatedVideoSubscriptions[r]!="object")throw TypeError(".SdkRemoteVideoUpdateFrame.addedOrUpdatedVideoSubscriptions: object expected");t.addedOrUpdatedVideoSubscriptions[r]=a.SdkVideoSubscriptionConfiguration.fromObject(e.addedOrUpdatedVideoSubscriptions[r])}}if(e.removedVideoSubscriptionMids){if(!Array.isArray(e.removedVideoSubscriptionMids))throw TypeError(".SdkRemoteVideoUpdateFrame.removedVideoSubscriptionMids: array expected");t.removedVideoSubscriptionMids=[];for(var r=0;r<e.removedVideoSubscriptionMids.length;++r)t.removedVideoSubscriptionMids[r]=String(e.removedVideoSubscriptionMids[r])}return t},"fromObject"),n.toObject=o(function(e,t){t||(t={});var r={};if((t.arrays||t.defaults)&&(r.addedOrUpdatedVideoSubscriptions=[],r.removedVideoSubscriptionMids=[]),e.addedOrUpdatedVideoSubscriptions&&e.addedOrUpdatedVideoSubscriptions.length){r.addedOrUpdatedVideoSubscriptions=[];for(var l=0;l<e.addedOrUpdatedVideoSubscriptions.length;++l)r.addedOrUpdatedVideoSubscriptions[l]=a.SdkVideoSubscriptionConfiguration.toObject(e.addedOrUpdatedVideoSubscriptions[l],t)}if(e.removedVideoSubscriptionMids&&e.removedVideoSubscriptionMids.length){r.removedVideoSubscriptionMids=[];for(var l=0;l<e.removedVideoSubscriptionMids.length;++l)r.removedVideoSubscriptionMids[l]=e.removedVideoSubscriptionMids[l]}return r},"toObject"),n.prototype.toJSON=o(function(){return this.constructor.toObject(this,S.util.toJSONOptions)},"toJSON"),n}(),a.SdkVideoSubscriptionConfiguration=function(){function n(i){if(i)for(var e=Object.keys(i),t=0;t<e.length;++t)i[e[t]]!=null&&(this[e[t]]=i[e[t]])}return o(n,"SdkVideoSubscriptionConfiguration"),n.prototype.mid="",n.prototype.attendeeId="",n.prototype.streamId=0,n.prototype.priority=0,n.prototype.targetBitrateKbps=0,n.prototype.groupId=0,n.create=o(function(e){return new n(e)},"create"),n.encode=o(function(e,t){return t||(t=m.create()),t.uint32(10).string(e.mid),e.attendeeId!=null&&Object.hasOwnProperty.call(e,"attendeeId")&&t.uint32(18).string(e.attendeeId),e.streamId!=null&&Object.hasOwnProperty.call(e,"streamId")&&t.uint32(24).uint32(e.streamId),e.priority!=null&&Object.hasOwnProperty.call(e,"priority")&&t.uint32(32).uint32(e.priority),e.targetBitrateKbps!=null&&Object.hasOwnProperty.call(e,"targetBitrateKbps")&&t.uint32(40).uint32(e.targetBitrateKbps),e.groupId!=null&&Object.hasOwnProperty.call(e,"groupId")&&t.uint32(48).uint32(e.groupId),t},"encode"),n.encodeDelimited=o(function(e,t){return this.encode(e,t).ldelim()},"encodeDelimited"),n.decode=o(function(e,t){e instanceof h||(e=h.create(e));for(var r=t===void 0?e.len:e.pos+t,l=new a.SdkVideoSubscriptionConfiguration;e.pos<r;){var p=e.uint32();switch(p>>>3){case 1:l.mid=e.string();break;case 2:l.attendeeId=e.string();break;case 3:l.streamId=e.uint32();break;case 4:l.priority=e.uint32();break;case 5:l.targetBitrateKbps=e.uint32();break;case 6:l.groupId=e.uint32();break;default:e.skipType(p&7);break}}if(!l.hasOwnProperty("mid"))throw f.ProtocolError("missing required 'mid'",{instance:l});return l},"decode"),n.decodeDelimited=o(function(e){return e instanceof h||(e=new h(e)),this.decode(e,e.uint32())},"decodeDelimited"),n.verify=o(function(e){return typeof e!="object"||e===null?"object expected":f.isString(e.mid)?e.attendeeId!=null&&e.hasOwnProperty("attendeeId")&&!f.isString(e.attendeeId)?"attendeeId: string expected":e.streamId!=null&&e.hasOwnProperty("streamId")&&!f.isInteger(e.streamId)?"streamId: integer expected":e.priority!=null&&e.hasOwnProperty("priority")&&!f.isInteger(e.priority)?"priority: integer expected":e.targetBitrateKbps!=null&&e.hasOwnProperty("targetBitrateKbps")&&!f.isInteger(e.targetBitrateKbps)?"targetBitrateKbps: integer expected":e.groupId!=null&&e.hasOwnProperty("groupId")&&!f.isInteger(e.groupId)?"groupId: integer expected":null:"mid: string expected"},"verify"),n.fromObject=o(function(e){if(e instanceof a.SdkVideoSubscriptionConfiguration)return e;var t=new a.SdkVideoSubscriptionConfiguration;return e.mid!=null&&(t.mid=String(e.mid)),e.attendeeId!=null&&(t.attendeeId=String(e.attendeeId)),e.streamId!=null&&(t.streamId=e.streamId>>>0),e.priority!=null&&(t.priority=e.priority>>>0),e.targetBitrateKbps!=null&&(t.targetBitrateKbps=e.targetBitrateKbps>>>0),e.groupId!=null&&(t.groupId=e.groupId>>>0),t},"fromObject"),n.toObject=o(function(e,t){t||(t={});var r={};return t.defaults&&(r.mid="",r.attendeeId="",r.streamId=0,r.priority=0,r.targetBitrateKbps=0,r.groupId=0),e.mid!=null&&e.hasOwnProperty("mid")&&(r.mid=e.mid),e.attendeeId!=null&&e.hasOwnProperty("attendeeId")&&(r.attendeeId=e.attendeeId),e.streamId!=null&&e.hasOwnProperty("streamId")&&(r.streamId=e.streamId),e.priority!=null&&e.hasOwnProperty("priority")&&(r.priority=e.priority),e.targetBitrateKbps!=null&&e.hasOwnProperty("targetBitrateKbps")&&(r.targetBitrateKbps=e.targetBitrateKbps),e.groupId!=null&&e.hasOwnProperty("groupId")&&(r.groupId=e.groupId),r},"toObject"),n.prototype.toJSON=o(function(){return this.constructor.toObject(this,S.util.toJSONOptions)},"toJSON"),n}(),a.SdkPrimaryMeetingJoinFrame=function(){function n(i){if(i)for(var e=Object.keys(i),t=0;t<e.length;++t)i[e[t]]!=null&&(this[e[t]]=i[e[t]])}return o(n,"SdkPrimaryMeetingJoinFrame"),n.prototype.credentials=null,n.create=o(function(e){return new n(e)},"create"),n.encode=o(function(e,t){return t||(t=m.create()),e.credentials!=null&&Object.hasOwnProperty.call(e,"credentials")&&a.SdkMeetingSessionCredentials.encode(e.credentials,t.uint32(10).fork()).ldelim(),t},"encode"),n.encodeDelimited=o(function(e,t){return this.encode(e,t).ldelim()},"encodeDelimited"),n.decode=o(function(e,t){e instanceof h||(e=h.create(e));for(var r=t===void 0?e.len:e.pos+t,l=new a.SdkPrimaryMeetingJoinFrame;e.pos<r;){var p=e.uint32();switch(p>>>3){case 1:l.credentials=a.SdkMeetingSessionCredentials.decode(e,e.uint32());break;default:e.skipType(p&7);break}}return l},"decode"),n.decodeDelimited=o(function(e){return e instanceof h||(e=new h(e)),this.decode(e,e.uint32())},"decodeDelimited"),n.verify=o(function(e){if(typeof e!="object"||e===null)return"object expected";if(e.credentials!=null&&e.hasOwnProperty("credentials")){var t=a.SdkMeetingSessionCredentials.verify(e.credentials);if(t)return"credentials."+t}return null},"verify"),n.fromObject=o(function(e){if(e instanceof a.SdkPrimaryMeetingJoinFrame)return e;var t=new a.SdkPrimaryMeetingJoinFrame;if(e.credentials!=null){if(typeof e.credentials!="object")throw TypeError(".SdkPrimaryMeetingJoinFrame.credentials: object expected");t.credentials=a.SdkMeetingSessionCredentials.fromObject(e.credentials)}return t},"fromObject"),n.toObject=o(function(e,t){t||(t={});var r={};return t.defaults&&(r.credentials=null),e.credentials!=null&&e.hasOwnProperty("credentials")&&(r.credentials=a.SdkMeetingSessionCredentials.toObject(e.credentials,t)),r},"toObject"),n.prototype.toJSON=o(function(){return this.constructor.toObject(this,S.util.toJSONOptions)},"toJSON"),n}(),a.SdkPrimaryMeetingJoinAckFrame=function(){function n(i){if(i)for(var e=Object.keys(i),t=0;t<e.length;++t)i[e[t]]!=null&&(this[e[t]]=i[e[t]])}return o(n,"SdkPrimaryMeetingJoinAckFrame"),n.create=o(function(e){return new n(e)},"create"),n.encode=o(function(e,t){return t||(t=m.create()),t},"encode"),n.encodeDelimited=o(function(e,t){return this.encode(e,t).ldelim()},"encodeDelimited"),n.decode=o(function(e,t){e instanceof h||(e=h.create(e));for(var r=t===void 0?e.len:e.pos+t,l=new a.SdkPrimaryMeetingJoinAckFrame;e.pos<r;){var p=e.uint32();switch(p>>>3){default:e.skipType(p&7);break}}return l},"decode"),n.decodeDelimited=o(function(e){return e instanceof h||(e=new h(e)),this.decode(e,e.uint32())},"decodeDelimited"),n.verify=o(function(e){return typeof e!="object"||e===null?"object expected":null},"verify"),n.fromObject=o(function(e){return e instanceof a.SdkPrimaryMeetingJoinAckFrame?e:new a.SdkPrimaryMeetingJoinAckFrame},"fromObject"),n.toObject=o(function(){return{}},"toObject"),n.prototype.toJSON=o(function(){return this.constructor.toObject(this,S.util.toJSONOptions)},"toJSON"),n}(),a.SdkPrimaryMeetingLeaveFrame=function(){function n(i){if(i)for(var e=Object.keys(i),t=0;t<e.length;++t)i[e[t]]!=null&&(this[e[t]]=i[e[t]])}return o(n,"SdkPrimaryMeetingLeaveFrame"),n.create=o(function(e){return new n(e)},"create"),n.encode=o(function(e,t){return t||(t=m.create()),t},"encode"),n.encodeDelimited=o(function(e,t){return this.encode(e,t).ldelim()},"encodeDelimited"),n.decode=o(function(e,t){e instanceof h||(e=h.create(e));for(var r=t===void 0?e.len:e.pos+t,l=new a.SdkPrimaryMeetingLeaveFrame;e.pos<r;){var p=e.uint32();switch(p>>>3){default:e.skipType(p&7);break}}return l},"decode"),n.decodeDelimited=o(function(e){return e instanceof h||(e=new h(e)),this.decode(e,e.uint32())},"decodeDelimited"),n.verify=o(function(e){return typeof e!="object"||e===null?"object expected":null},"verify"),n.fromObject=o(function(e){return e instanceof a.SdkPrimaryMeetingLeaveFrame?e:new a.SdkPrimaryMeetingLeaveFrame},"fromObject"),n.toObject=o(function(){return{}},"toObject"),n.prototype.toJSON=o(function(){return this.constructor.toObject(this,S.util.toJSONOptions)},"toJSON"),n}(),a.SdkMeetingSessionCredentials=function(){function n(i){if(i)for(var e=Object.keys(i),t=0;t<e.length;++t)i[e[t]]!=null&&(this[e[t]]=i[e[t]])}return o(n,"SdkMeetingSessionCredentials"),n.prototype.attendeeId="",n.prototype.externalUserId="",n.prototype.joinToken="",n.create=o(function(e){return new n(e)},"create"),n.encode=o(function(e,t){return t||(t=m.create()),e.attendeeId!=null&&Object.hasOwnProperty.call(e,"attendeeId")&&t.uint32(10).string(e.attendeeId),e.externalUserId!=null&&Object.hasOwnProperty.call(e,"externalUserId")&&t.uint32(18).string(e.externalUserId),e.joinToken!=null&&Object.hasOwnProperty.call(e,"joinToken")&&t.uint32(26).string(e.joinToken),t},"encode"),n.encodeDelimited=o(function(e,t){return this.encode(e,t).ldelim()},"encodeDelimited"),n.decode=o(function(e,t){e instanceof h||(e=h.create(e));for(var r=t===void 0?e.len:e.pos+t,l=new a.SdkMeetingSessionCredentials;e.pos<r;){var p=e.uint32();switch(p>>>3){case 1:l.attendeeId=e.string();break;case 2:l.externalUserId=e.string();break;case 3:l.joinToken=e.string();break;default:e.skipType(p&7);break}}return l},"decode"),n.decodeDelimited=o(function(e){return e instanceof h||(e=new h(e)),this.decode(e,e.uint32())},"decodeDelimited"),n.verify=o(function(e){return typeof e!="object"||e===null?"object expected":e.attendeeId!=null&&e.hasOwnProperty("attendeeId")&&!f.isString(e.attendeeId)?"attendeeId: string expected":e.externalUserId!=null&&e.hasOwnProperty("externalUserId")&&!f.isString(e.externalUserId)?"externalUserId: string expected":e.joinToken!=null&&e.hasOwnProperty("joinToken")&&!f.isString(e.joinToken)?"joinToken: string expected":null},"verify"),n.fromObject=o(function(e){if(e instanceof a.SdkMeetingSessionCredentials)return e;var t=new a.SdkMeetingSessionCredentials;return e.attendeeId!=null&&(t.attendeeId=String(e.attendeeId)),e.externalUserId!=null&&(t.externalUserId=String(e.externalUserId)),e.joinToken!=null&&(t.joinToken=String(e.joinToken)),t},"fromObject"),n.toObject=o(function(e,t){t||(t={});var r={};return t.defaults&&(r.attendeeId="",r.externalUserId="",r.joinToken=""),e.attendeeId!=null&&e.hasOwnProperty("attendeeId")&&(r.attendeeId=e.attendeeId),e.externalUserId!=null&&e.hasOwnProperty("externalUserId")&&(r.externalUserId=e.externalUserId),e.joinToken!=null&&e.hasOwnProperty("joinToken")&&(r.joinToken=e.joinToken),r},"toObject"),n.prototype.toJSON=o(function(){return this.constructor.toObject(this,S.util.toJSONOptions)},"toJSON"),n}(),a.SdkVideoCodecCapability=function(){var n={},i=Object.create(n);return i[n[1]="VP8"]=1,i[n[3]="H264_CONSTRAINED_BASELINE_PROFILE"]=3,i}(),N.exports=a,f.Long=void 0,S.configure()},f3u9:function(N,c,d){"use strict";Object.defineProperty(c,"__esModule",{value:!0});let S=o(class Vd{static fullbandSpeechMono(){return new Vd(4e4)}static fullbandMusicMono(){return new Vd(64e3)}static fullbandMusicStereo(){return new Vd(128e3)}isStereo(){return this.audioBitrateBps===128e3}constructor(m=null){this.audioBitrateBps=m}},"AudioProfile");c.default=S},fCza:function(N,c,d){"use strict";var S=c;S.build="minimal",S.Writer=d("wDi9"),S.BufferWriter=d("PwtQ"),S.Reader=d("LDIi"),S.BufferReader=d("QhKv"),S.util=d("j4TH"),S.rpc=d("gCnV"),S.roots=d("3E7f"),S.configure=h;function h(){S.util._configure(),S.Writer._configure(S.BufferWriter),S.Reader._configure(S.BufferReader)}o(h,"configure"),h()},fGw7:function(N,c,d){"use strict";Object.defineProperty(c,"__esModule",{value:!0});const S=d("hEYi");let h=o(class{isConnectionTerminated(){switch(this.type){case S.default.WebSocketFailed:case S.default.WebSocketError:case S.default.WebSocketClosing:case S.default.WebSocketClosed:return!0;default:return!1}}constructor(f,a,n,i,e){this.client=f,this.type=a,this.message=n,this.closeCode=i,this.closeReason=e,this.timestampMs=Date.now()}},"SignalingClientEvent");c.default=h},fUKC:function(N,c,d){d("ZY/g"),d("C5kU"),N.exports=d("sbOA")},fZkv:function(N,c,d){"use strict";var S=this&&this.__awaiter||function(a,n,i,e){function t(r){return r instanceof i?r:new i(function(l){l(r)})}return o(t,"adopt"),new(i||(i=Promise))(function(r,l){function p(u){try{g(e.next(u))}catch(s){l(s)}}o(p,"fulfilled");function v(u){try{g(e.throw(u))}catch(s){l(s)}}o(v,"rejected");function g(u){u.done?r(u.value):t(u.value).then(p,v)}o(g,"step"),g((e=e.apply(a,n||[])).next())})};Object.defineProperty(c,"__esModule",{value:!0});const h=d("wXa7"),m=d("j+uH");let f=o(class extends m.default{cancel(){this.cancelICEPromise&&this.cancelICEPromise()}run(){return S(this,void 0,void 0,function*(){this.context.peer||this.logAndThrow("session does not have peer connection; bypass set remote description");let i=this.context.sdpAnswer;i=new h.default(i).withoutServerReflexiveCandidates().sdp,this.context.audioProfile&&(i=new h.default(i).withAudioMaxAverageBitrate(this.context.audioProfile.audioBitrateBps).sdp,this.context.audioProfile.isStereo()&&(i=new h.default(i).withStereoAudio().sdp)),this.context.videoSendCodecPreferences!==void 0&&this.context.videoSendCodecPreferences.length>0&&(i=new h.default(i).withVideoSendCodecPreferences(this.context.meetingSupportedVideoSendCodecPreferences!==void 0?this.context.meetingSupportedVideoSendCodecPreferences:this.context.videoSendCodecPreferences).sdp,this.context.currentVideoSendCodec=new h.default(i).highestPriorityVideoSendCodec()),this.logger.info(`processed remote description is >>>${i}<<<`);const e={type:"answer",sdp:i,toJSON:null};try{yield this.createICEConnectionCompletedPromise(e)}catch(t){throw t}})}createICEConnectionCompletedPromise(n){return new Promise((i,e)=>S(this,void 0,void 0,function*(){const t=o(()=>{(this.context.peer.iceConnectionState==="connected"||this.context.peer.iceConnectionState==="completed")&&(this.context.peer.removeEventListener("iceconnectionstatechange",t),i())},"checkConnectionCompleted");this.cancelICEPromise=()=>{this.context.peer&&this.context.peer.removeEventListener("iceconnectionstatechange",t),e(new Error(`${this.name()} got canceled while waiting for the ICE connection state`))},this.context.peer.addEventListener("iceconnectionstatechange",t);try{yield this.context.peer.setRemoteDescription(n),this.logger.info("set remote description, waiting for ICE connection"),t()}catch(r){e(r)}}))}constructor(n){super(n.logger),this.context=n,this.taskName="SetRemoteDescriptionTask"}},"SetRemoteDescriptionTask");c.default=f},fi20:function(N,c,d){"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.MeetingSessionLifecycleEventCondition=void 0;var S;(function(h){h[h.ConnectingNew=0]="ConnectingNew",h[h.ReconnectingExisting=1]="ReconnectingExisting",h[h.StartedNew=2]="StartedNew",h[h.StartedExisting=3]="StartedExisting",h[h.StartedAfterReconnect=4]="StartedAfterReconnect",h[h.StoppedCleanly=5]="StoppedCleanly",h[h.StoppedWithFailure=6]="StoppedWithFailure"})(S=c.MeetingSessionLifecycleEventCondition||(c.MeetingSessionLifecycleEventCondition={})),c.default=S},ftz4:function(N,c,d){"use strict";var S={},h=S,m=Object.prototype,f=m.hasOwnProperty;function a(i){for(var e=i.name+"",t=h[e],r=f.call(h,e)?t.length:0;r--;){var l=t[r],p=l.func;if(p==null||p==i)return l.name}return e}o(a,"getFuncName");var n=c.a=a},fxRI:function(N,c,d){"use strict";var S=this&&this.__awaiter||function(n,i,e,t){function r(l){return l instanceof e?l:new e(function(p){p(l)})}return o(r,"adopt"),new(e||(e=Promise))(function(l,p){function v(s){try{u(t.next(s))}catch(I){p(I)}}o(v,"fulfilled");function g(s){try{u(t.throw(s))}catch(I){p(I)}}o(g,"rejected");function u(s){s.done?l(s.value):r(s.value).then(v,g)}o(u,"step"),u((t=t.apply(n,i||[])).next())})};Object.defineProperty(c,"__esModule",{value:!0});const h=d("ppUg"),m=d("XCDq"),f=d("j+uH");let a=o(class extends f.default{run(){return S(this,void 0,void 0,function*(){const i=this.context.videoDuplexMode===m.SdkStreamServiceType.RX||this.context.videoDuplexMode===m.SdkStreamServiceType.DUPLEX;if(this.context.videoTileController.hasStartedLocalVideoTile()?this.context.videoDuplexMode=i?m.SdkStreamServiceType.DUPLEX:m.SdkStreamServiceType.TX:this.context.videoDuplexMode=i?m.SdkStreamServiceType.RX:0,this.context.videoCaptureAndEncodeParameter=this.context.videoUplinkBandwidthPolicy.chooseCaptureAndEncodeParameters(),!this.context.videoTileController.hasStartedLocalVideoTile()){this.context.logger.info("has not started local video tile"),this.context.activeVideoInput&&(this.context.activeVideoInput=void 0,this.context.videoStreamIndex.integrateUplinkPolicyDecision([]));return}const e=this.context.videoTileController.getLocalVideoTile();let t;try{t=yield this.context.mediaStreamBroker.acquireVideoInputStream()}catch{this.context.logger.warn("could not acquire video input from current device"),this.context.videoTileController.stopLocalVideoTile()}if(this.context.enableSimulcast){const r=this.context.videoUplinkBandwidthPolicy.chooseEncodingParameters();this.context.videoStreamIndex.integrateUplinkPolicyDecision(Array.from(r.values()))}if(this.context.activeVideoInput=t,t){const r=t.getVideoTracks();if(!r||r.length===0)return;const l=this.context.meetingSessionConfiguration.credentials.attendeeId,p=new h.default(l).hasModality(h.default.MODALITY_CONTENT),v=r[0].getSettings();if(this.context.enableSimulcast&&!p){const u=this.context.videoUplinkBandwidthPolicy.chooseMediaTrackConstraints();this.context.logger.info(`simulcast: choose constraint ${JSON.stringify(u)}`);try{yield r[0].applyConstraints(u)}catch{this.context.logger.info("simulcast: pass video without more constraint")}}const g=this.context.audioVideoController.configuration.credentials.externalUserId;e.bindVideoStream(l,!0,t,v.width,v.height,null,g);for(let u=0;u<r.length;u++){const s=r[u];this.logger.info(`using video device label=${s.label} id=${s.id}`),this.context.videoDeviceInformation.current_camera_name=s.label,this.context.videoDeviceInformation.current_camera_id=s.id}}})}constructor(i){super(i.logger),this.context=i,this.taskName="ReceiveVideoInputTask"}},"ReceiveVideoInputTask");c.default=a},"g+gC":function(N,c,d){"use strict";Object.defineProperty(c,"__esModule",{value:!0});let S=o(class{},"Attendee");c.default=S},gCnV:function(N,c,d){"use strict";var S=c;S.Service=d("vhAZ")},gLI0:function(N,c,d){"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.BlurStrengthMapper=void 0;const S={LOW:7,MEDIUM:15,HIGH:30};let h=o(class{static getBlurAmount(f,a){if(f<=0)throw new Error(`invalid value for blur strength: ${f}`);return Math.round(f*a.height/this.BLUR_STRENGTH_DIVISOR)}},"BlurStrengthMapper");c.BlurStrengthMapper=h,h.BLUR_STRENGTH_DIVISOR=540,c.default=S},gRli:function(N,c,d){d("aT0f"),d("3+Ww"),d("MBy0"),d("TnF5"),N.exports=d("VSTI").Symbol},gTDO:function(N,c,d){"use strict";Object.defineProperty(c,"__esModule",{value:!0});const S=d("qvnc"),h=d("TYXu"),m=d("ZIUS");let f=o(class{realtimeSetLocalAttendeeId(n,i){this.state.localAttendeeId=n,this.state.localExternalUserId=i}realtimeSetAttendeeIdPresence(n,i,e,t,r){try{i&&(this.state.attendeeIdToExternalUserId[n]=e);for(const l of this.state.attendeeIdChangesCallbacks)l(n,i,e,t,r)}catch(l){this.onError(l)}}realtimeSubscribeToAttendeeIdPresence(n){try{this.state.attendeeIdChangesCallbacks.push(n)}catch(i){this.onError(i)}}realtimeUnsubscribeToAttendeeIdPresence(n){try{const i=this.state.attendeeIdChangesCallbacks.indexOf(n);i!==-1&&this.state.attendeeIdChangesCallbacks.splice(i,1)}catch(i){this.onError(i)}}realtimeSetCanUnmuteLocalAudio(n){try{if(this.state.canUnmute===n)return;this.state.canUnmute=n;for(const i of this.state.setCanUnmuteLocalAudioCallbacks)i(n)}catch(i){this.onError(i)}}realtimeSubscribeToSetCanUnmuteLocalAudio(n){try{this.state.setCanUnmuteLocalAudioCallbacks.push(n)}catch(i){this.onError(i)}}realtimeUnsubscribeToSetCanUnmuteLocalAudio(n){try{const i=this.state.setCanUnmuteLocalAudioCallbacks.indexOf(n);i!==-1&&this.state.setCanUnmuteLocalAudioCallbacks.splice(i,1)}catch(i){this.onError(i)}}realtimeCanUnmuteLocalAudio(){return this.state.canUnmute}realtimeMuteLocalAudio(){if(!this.state.muted)try{this.setAudioInputEnabled(!1),this.state.muted=!0,this.realtimeUpdateVolumeIndicator(this.state.localAttendeeId,null,null,null,this.state.localExternalUserId);for(const n of this.state.muteAndUnmuteLocalAudioCallbacks)n(!0)}catch(n){this.onError(n)}}realtimeUnmuteLocalAudio(){if(!this.state.muted)return!0;if(!this.state.canUnmute)return!1;try{this.setAudioInputEnabled(!0),this.state.muted=!1,this.realtimeUpdateVolumeIndicator(this.state.localAttendeeId,null,null,null,this.state.localExternalUserId);for(const n of this.state.muteAndUnmuteLocalAudioCallbacks)n(!1);return!0}catch(n){return this.onError(n),!1}}realtimeSubscribeToMuteAndUnmuteLocalAudio(n){try{this.state.muteAndUnmuteLocalAudioCallbacks.push(n)}catch(i){this.onError(i)}}realtimeUnsubscribeToMuteAndUnmuteLocalAudio(n){try{const i=this.state.muteAndUnmuteLocalAudioCallbacks.indexOf(n);i!==-1&&this.state.muteAndUnmuteLocalAudioCallbacks.splice(i,1)}catch(i){this.onError(i)}}realtimeIsLocalAudioMuted(){return this.state.muted}realtimeSubscribeToVolumeIndicator(n,i){try{this.state.volumeIndicatorCallbacks.hasOwnProperty(n)||(this.state.volumeIndicatorCallbacks[n]=[]),this.state.volumeIndicatorCallbacks[n].push(i),this.sendVolumeIndicatorChange(n,!0,!0,!0,this.state.attendeeIdToExternalUserId[n])}catch(e){this.onError(e)}}realtimeUnsubscribeFromVolumeIndicator(n,i){if(this.state.volumeIndicatorCallbacks[n])if(i){const t=this.state.volumeIndicatorCallbacks[n].indexOf(i);t>=0&&this.state.volumeIndicatorCallbacks[n].splice(t,1)}else delete this.state.volumeIndicatorCallbacks[n]}realtimeUpdateVolumeIndicator(n,i,e,t,r){try{e=this.applyLocalMuteOverride(n,e);const l=this.getVolumeIndicatorState(n);let p=!1,v=!1,g=!1;e!==null&&l.muted!==e&&(l.muted=e,v=!0,l.muted&&l.volume!==0&&(l.volume=0,p=!0)),!l.muted&&i!==null&&(l.volume!==i&&(l.volume=i,p=!0),l.muted===null&&(l.muted=!1,v=!0)),t!==null&&l.signalStrength!==t&&(l.signalStrength=t,g=!0),this.sendVolumeIndicatorChange(n,p,v,g,r)}catch(l){this.onError(l)}}realtimeSubscribeToLocalSignalStrengthChange(n){try{if(this.state.localSignalStrengthChangeCallbacks.push(n),this.state.localAttendeeId===null)return;this.sendLocalSignalStrengthChange(this.state.localAttendeeId,!0)}catch(i){this.onError(i)}}realtimeUnsubscribeToLocalSignalStrengthChange(n){try{const i=this.state.localSignalStrengthChangeCallbacks.indexOf(n);i!==-1&&this.state.localSignalStrengthChangeCallbacks.splice(i,1)}catch(i){this.onError(i)}}realtimeSubscribeToSendDataMessage(n){try{this.state.sendDataMessageCallbacks.push(n)}catch(i){this.onError(i)}}realtimeUnsubscribeFromSendDataMessage(n){try{const i=this.state.sendDataMessageCallbacks.indexOf(n);i!==-1&&this.state.sendDataMessageCallbacks.splice(i,1)}catch(i){this.onError(i)}}realtimeSendDataMessage(n,i,e){try{for(const t of this.state.sendDataMessageCallbacks)t(n,i,e)}catch(t){this.onError(t)}}realtimeSubscribeToReceiveDataMessage(n,i){try{this.state.receiveDataMessageCallbacks.has(n)?this.state.receiveDataMessageCallbacks.get(n).push(i):this.state.receiveDataMessageCallbacks.set(n,[i])}catch(e){this.onError(e)}}realtimeUnsubscribeFromReceiveDataMessage(n){try{this.state.receiveDataMessageCallbacks.delete(n)}catch(i){this.onError(i)}}realtimeReceiveDataMessage(n){try{if(this.state.receiveDataMessageCallbacks.has(n.topic))for(const i of this.state.receiveDataMessageCallbacks.get(n.topic))i(n)}catch(i){this.onError(i)}}realtimeSubscribeToFatalError(n){try{this.state.fatalErrorCallbacks.push(n)}catch(i){this.onError(i)}}realtimeUnsubscribeToFatalError(n){try{const i=this.state.fatalErrorCallbacks.indexOf(n);i!==-1&&this.state.fatalErrorCallbacks.splice(i,1)}catch(i){this.onError(i)}}get transcriptionController(){return this._transcriptionController}setAudioInputEnabled(n){n?this.mediaStreamBroker.unmuteLocalAudioInputStream():this.mediaStreamBroker.muteLocalAudioInputStream()}applyLocalMuteOverride(n,i){const e=this.state.localAttendeeId,t=this.state.muted;return n!==e||!("activeDevices"in this.mediaStreamBroker&&this.mediaStreamBroker.activeDevices.audio)?i:t}sendVolumeIndicatorChange(n,i,e,t,r){if(this.sendLocalSignalStrengthChange(n,t),!this.state.volumeIndicatorCallbacks.hasOwnProperty(n))return;const l=this.getVolumeIndicatorState(n),p=new m.default;if(i&&(p.volume=l.volume),e&&(p.muted=l.muted),t&&(p.signalStrength=l.signalStrength),!this.stateIsEmpty(p))for(const v of this.state.volumeIndicatorCallbacks[n])v(n,p.volume,p.muted,p.signalStrength,r)}sendLocalSignalStrengthChange(n,i){if(!i||n!==this.state.localAttendeeId)return;const t=this.getVolumeIndicatorState(n).signalStrength;if(t!==null)for(const r of this.state.localSignalStrengthChangeCallbacks)r(t)}getVolumeIndicatorState(n){return this.state.volumeIndicatorState.hasOwnProperty(n)||(this.state.volumeIndicatorState[n]=new m.default),this.state.volumeIndicatorState[n]}stateIsEmpty(n){return n.volume===null&&n.muted===null&&n.signalStrength===null}onError(n){try{for(const i of this.state.fatalErrorCallbacks)i(n)}catch(i){try{console.error(n),console.error(i)}catch{}}}constructor(n,i){this.mediaStreamBroker=n,this.state=new h.default,this._transcriptionController=i||new S.default(this)}},"DefaultRealtimeController");c.default=f},ghxq:function(N,c,d){"use strict";Object.defineProperty(c,"__esModule",{value:!0});let S=o(class{minimumHealth(){return this.minHealth}maximumHealth(){return this.maxHealth}health(){return this.maximumHealth()}update(m){this.currentData=m}getConnectionHealthData(){return this.currentData.clone()}healthy(){return this.health()>this.minimumHealth()}healthIfChanged(){const m=this.health();return m!==this.currentHealth?(this.currentHealth=m,m):null}constructor(m,f,a){this.minHealth=m.minHealth,this.maxHealth=m.maxHealth,this.currentHealth=m.initialHealth,this.currentData=f.clone(),this.name=a}},"BaseConnectionHealthPolicy");c.default=S},h3Hq:function(N,c,d){var S=d("zBWt")("iterator"),h=!1;try{var m=[7][S]();m.return=function(){h=!0},Array.from(m,function(){throw 2})}catch{}N.exports=function(f,a){if(!a&&!h)return!1;var n=!1;try{var i=[7],e=i[S]();e.next=function(){return{done:n=!0}},i[S]=function(){return e},f(i)}catch{}return n}},h4LR:function(N,c,d){"use strict";Object.defineProperty(c,"__esModule",{value:!0});var S;(function(h){h.STARTED="started",h.INTERRUPTED="interrupted",h.RESUMED="resumed",h.STOPPED="stopped",h.FAILED="failed"})(S||(S={})),c.default=S},h4op:function(N,c,d){"use strict";Object.defineProperty(c,"__esModule",{value:!0});const S=d("uctb");let h=o(class{info(f){for(const a of this._loggers)a.info(f)}warn(f){for(const a of this._loggers)a.warn(f)}error(f){for(const a of this._loggers)a.error(f)}debug(f){let a,n;typeof f=="string"?n=f:f?n=o(()=>(a||(a=f()),a),"memoized"):n=""+f;for(const i of this._loggers)i.debug(n)}setLogLevel(f){for(const a of this._loggers)a.setLogLevel(f)}getLogLevel(){for(const f of this._loggers)return f.getLogLevel();return S.default.OFF}constructor(...f){this._loggers=f}},"MultiLogger");c.default=h},h96U:function(N,c,d){"use strict";Object.defineProperty(c,"__esModule",{value:!0});const S=d("w1x/");let h=o(class ed{partialCompare(f){return this.priority-f.priority}equals(f){return this.attendeeId===f.attendeeId&&this.targetSize===f.targetSize&&this.priority===f.priority}clone(){return new ed(this.attendeeId,this.priority,this.targetSize)}targetSizeToBitrateKbps(f){switch(f){case S.default.High:return ed.HIGH_BITRATE_KBPS;case S.default.Medium:return ed.MID_BITRATE_KBPS;case S.default.Low:return ed.LOW_BITRATE_KBPS}}constructor(f,a,n){this.attendeeId=f,this.priority=a,this.targetSize=n!==void 0?n:S.default.High}},"VideoPreference");c.default=h,h.LOW_BITRATE_KBPS=300,h.MID_BITRATE_KBPS=600,h.HIGH_BITRATE_KBPS=1200},hAj8:function(N,c,d){"use strict";Object.defineProperty(c,"__esModule",{value:!0});let S=o(class{getAuthenticationToken(){return this.authenticationToken}toJSON(){const m={};return m.type=this.type,m.v=this.v,m.meetingId=this.meetingId,m.attendeeId=this.attendeeId,m}constructor(m,f,a,n=[]){this.type="Meet",this.v=1,this.meetingId=m,this.attendeeId=f,this.eventsToIgnore=n,this.authenticationToken=a}},"MeetingEventsClientConfiguration");c.default=S},hEYi:function(N,c,d){"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.SignalingClientEventType=void 0;var S;(function(h){h[h.WebSocketConnecting=0]="WebSocketConnecting",h[h.WebSocketOpen=1]="WebSocketOpen",h[h.WebSocketError=2]="WebSocketError",h[h.WebSocketClosing=3]="WebSocketClosing",h[h.WebSocketClosed=4]="WebSocketClosed",h[h.WebSocketFailed=5]="WebSocketFailed",h[h.WebSocketMessage=6]="WebSocketMessage",h[h.WebSocketSendMessageFailure=7]="WebSocketSendMessageFailure",h[h.WebSocketSentMessage=8]="WebSocketSentMessage",h[h.ProtocolDecodeFailure=9]="ProtocolDecodeFailure",h[h.ReceivedSignalFrame=10]="ReceivedSignalFrame",h[h.WebSocketSkippedMessage=11]="WebSocketSkippedMessage"})(S=c.SignalingClientEventType||(c.SignalingClientEventType={})),c.default=S},hGh8:function(N,c,d){"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.DefaultEventController=c.DefaultDevicePixelRatioMonitor=c.DefaultDeviceController=c.DefaultContentShareController=c.DefaultBrowserBehavior=c.DefaultAudioVideoFacade=c.DefaultAudioVideoController=c.DefaultAudioMixController=c.DefaultActiveSpeakerPolicy=c.DefaultActiveSpeakerDetector=c.DataMessage=c.CreateSDPTask=c.CreatePeerConnectionTask=c.ContentShareMediaStreamBroker=c.ContentShareConstants=c.ConsoleLogger=c.ConnectionHealthPolicyConfiguration=c.ConnectionHealthData=c.ClientVideoStreamReceivingReport=c.ClientMetricReportMediaType=c.ClientMetricReportDirection=c.ClientMetricReport=c.CleanStoppedSessionTask=c.CleanRestartedSessionTask=c.CheckVideoInputFeedback=c.CheckVideoConnectivityFeedback=c.CheckNetworkUDPConnectivityFeedback=c.CheckNetworkTCPConnectivityFeedback=c.CheckContentShareConnectivityFeedback=c.CheckCameraResolutionFeedback=c.CheckAudioOutputFeedback=c.CheckAudioInputFeedback=c.CheckAudioConnectivityFeedback=c.CanvasVideoFrameBuffer=c.CSPMonitor=c.BitrateParameters=c.BaseTask=c.BaseConnectionHealthPolicy=c.BackgroundReplacementVideoFrameProcessor=c.BackgroundFilterVideoFrameProcessor=c.BackgroundBlurVideoFrameProcessor=c.BackgroundBlurStrength=c.AudioVideoControllerState=c.AudioProfile=c.AudioLogEvent=c.Attendee=c.AttachMediaInputTask=c.AsyncScheduler=c.ApplicationMetadata=c.AllHighestVideoBandwidthPolicy=void 0,c.MeetingSessionCredentials=c.MeetingSessionConfiguration=c.MeetingReadinessCheckerConfiguration=c.MeetingEventsClientConfiguration=c.MediaDeviceProxyHandler=c.Maybe=c.LogLevel=c.Log=c.ListenForVolumeIndicatorsTask=c.LeaveAndReceiveLeaveAckTask=c.JoinAndReceiveIndexTask=c.IntervalScheduler=c.InMemoryJSONEventBuffer=c.GlobalMetricReport=c.GetUserMediaError=c.FullJitterLimitedBackoff=c.FullJitterBackoffFactory=c.FullJitterBackoff=c.FinishGatheringICECandidatesTask=c.EventIngestionConfiguration=c.EventBufferConfiguration=c.DeviceSelection=c.DevicePixelRatioWindowSource=c.DefaultWebSocketAdapter=c.DefaultVolumeIndicatorAdapter=c.DefaultVideoTransformDevice=c.DefaultVideoTileFactory=c.DefaultVideoTileController=c.DefaultVideoTile=c.DefaultVideoStreamIndex=c.DefaultVideoStreamIdSet=c.DefaultVideoFrameProcessorPipeline=c.DefaultVideoCaptureAndEncodeParameter=c.DefaultUserAgentParser=c.DefaultTranscriptionController=c.DefaultTransceiverController=c.DefaultSimulcastUplinkPolicyForContentShare=c.DefaultSimulcastUplinkPolicy=c.DefaultSignalingClient=c.DefaultSigV4=c.DefaultSessionStateController=c.DefaultReconnectController=c.DefaultRealtimeController=c.DefaultPingPong=c.DefaultModality=c.DefaultMessagingSession=c.DefaultMeetingSession=c.DefaultMeetingReadinessChecker=c.DefaultMeetingEventReporter=c.DefaultMediaDeviceFactory=void 0,c.SDPMediaSection=c.SDPCandidateType=c.SDP=c.RunnableTask=c.ReconnectionHealthPolicy=c.ReceiveVideoStreamIndexTask=c.ReceiveVideoInputTask=c.ReceiveTURNCredentialsTask=c.ReceiveAudioInputTask=c.RealtimeVolumeIndicator=c.RealtimeState=c.RealtimeAttendeePositionInFrame=c.PromoteToPrimaryMeetingTask=c.PromiseQueue=c.PrefetchSortBy=c.PrefetchOn=c.PermissionDeniedError=c.ParallelGroupTask=c.POSTLogger=c.OverconstrainedError=c.OpenSignalingConnectionTask=c.OnceTask=c.NotReadableError=c.NotFoundError=c.None=c.NoVideoUplinkBandwidthPolicy=c.NoVideoDownlinkBandwidthPolicy=c.NoOpVideoFrameProcessor=c.NoOpVideoElementFactory=c.NoOpTask=c.NoOpMediaStreamBroker=c.NoOpLogger=c.NoOpEventReporter=c.NoOpDeviceController=c.NoOpDebugLogger=c.NoOpAudioVideoController=c.NScaleVideoUplinkBandwidthPolicy=c.MutableVideoPreferences=c.MultiLogger=c.MonitorTask=c.ModelSpecBuilder=c.MessagingSessionConfiguration=c.Message=c.MeetingSessionVideoAvailability=c.MeetingSessionURLs=c.MeetingSessionTURNCredentials=c.MeetingSessionStatusCode=c.MeetingSessionStatus=c.MeetingSessionLifecycleEventCondition=c.MeetingSessionLifecycleEvent=void 0,c.VideoPriorityBasedPolicyConfig=c.VideoPriorityBasedPolicy=c.VideoPreferences=c.VideoPreference=c.VideoOnlyTransceiverController=c.VideoLogEvent=c.VideoFxProcessor=c.VideoCodecCapability=c.VideoAdaptiveProbePolicy=c.Versioning=c.UnusableAudioWarningConnectionHealthPolicy=c.TypeError=c.TranscriptionStatusType=c.TranscriptionStatus=c.TranscriptResult=c.TranscriptLanguageWithScore=c.TranscriptItemType=c.TranscriptItem=c.TranscriptEntity=c.TranscriptAlternative=c.Transcript=c.TimeoutTask=c.TimeoutScheduler=c.TaskStatus=c.TargetDisplaySize=c.SubscribeAndReceiveSubscribeAckTask=c.StreamMetricReport=c.Some=c.SingleNodeAudioTransformDevice=c.SimulcastVideoStreamIndex=c.SimulcastTransceiverController=c.SimulcastLayers=c.SimulcastContentShareTransceiverController=c.SignalingClientVideoSubscriptionConfiguration=c.SignalingClientSubscribe=c.SignalingClientJoin=c.SignalingClientEventType=c.SignalingClientEvent=c.SignalingClientConnectionRequest=c.SignalingAndMetricsConnectionMonitor=c.SetRemoteDescriptionTask=c.SetLocalDescriptionTask=c.SessionStateControllerTransitionResult=c.SessionStateControllerState=c.SessionStateControllerDeferPriority=c.SessionStateControllerAction=c.ServerSideNetworkAdaption=c.SerialGroupTask=c.SendingAudioFailureConnectionHealthPolicy=c.SendAndReceiveDataMessagesTask=void 0,c.isVideoTransformDevice=c.isDestroyable=c.isAudioTransformDevice=c.ZLIBTextCompressor=c.WebSocketReadyState=c.WaitForAttendeePresenceTask=c.VoiceFocusTransformDevice=c.VoiceFocusDeviceTransformer=c.VideoTileState=c.VideoStreamDescription=c.VideoSource=c.VideoQualitySettings=void 0;const S=d("nYR4");c.AllHighestVideoBandwidthPolicy=S.default;const h=d("9BEE");c.ApplicationMetadata=h.default;const m=d("6/h7");c.AsyncScheduler=m.default;const f=d("5ViG");c.AttachMediaInputTask=f.default;const a=d("g+gC");c.Attendee=a.default;const n=d("J+fJ");c.AudioLogEvent=n.default;const i=d("SO8M");c.AudioProfile=i.default;const e=d("rEUf");c.AudioVideoControllerState=e.default;const t=d("vjEy");c.BackgroundBlurStrength=t.default;const r=d("YH3u");c.BackgroundBlurVideoFrameProcessor=r.default;const l=d("ywpn");c.BackgroundFilterVideoFrameProcessor=l.default;const p=d("Agw+");c.BackgroundReplacementVideoFrameProcessor=p.default;const v=d("ghxq");c.BaseConnectionHealthPolicy=v.default;const g=d("aVV0");c.BaseTask=g.default;const u=d("GxrV");c.BitrateParameters=u.default;const s=d("Q8+J");c.CSPMonitor=s.default;const I=d("KsuK");c.CanvasVideoFrameBuffer=I.default;const M=d("Yvks");c.CheckAudioConnectivityFeedback=M.default;const R=d("jmx1");c.CheckAudioInputFeedback=R.default;const B=d("zN22");c.CheckAudioOutputFeedback=B.default;const j=d("CPHI");c.CheckCameraResolutionFeedback=j.default;const A=d("2Bsk");c.CheckContentShareConnectivityFeedback=A.default;const D=d("aSsB");c.CheckNetworkTCPConnectivityFeedback=D.default;const $=d("kph0");c.CheckNetworkUDPConnectivityFeedback=$.default;const O=d("SdmA");c.CheckVideoConnectivityFeedback=O.default;const P=d("NFcc");c.CheckVideoInputFeedback=P.default;const k=d("yMiq");c.CleanRestartedSessionTask=k.default;const K=d("teem");c.CleanStoppedSessionTask=K.default;const Z=d("uCvS");c.ClientMetricReport=Z.default;const Y=d("LmyK");c.ClientMetricReportDirection=Y.default;const ie=d("mpmV");c.ClientMetricReportMediaType=ie.default;const ge=d("ya0l");c.ClientVideoStreamReceivingReport=ge.default;const Ie=d("RfPO");c.ConnectionHealthData=Ie.default;const le=d("wR/T");c.ConnectionHealthPolicyConfiguration=le.default;const we=d("e/ca");c.ConsoleLogger=we.default;const Be=d("34ho");c.ContentShareConstants=Be.default;const Re=d("Lrln");c.ContentShareMediaStreamBroker=Re.default;const Ne=d("Fyq9");c.CreatePeerConnectionTask=Ne.default;const _e=d("7W6Z");c.CreateSDPTask=_e.default;const Ze=d("CtrA");c.DataMessage=Ze.default;const tt=d("1Cbm");c.DefaultActiveSpeakerDetector=tt.default;const $e=d("UIXl");c.DefaultActiveSpeakerPolicy=$e.default;const at=d("WHnE");c.DefaultAudioMixController=at.default;const lt=d("2nae");c.DefaultAudioVideoController=lt.default;const ot=d("HLgz");c.DefaultAudioVideoFacade=ot.default;const Gt=d("Sa54");c.DefaultBrowserBehavior=Gt.default;const Zt=d("0NFC");c.DefaultContentShareController=Zt.default;const un=d("RUbL");c.DefaultDeviceController=un.default;const Un=d("t9Fz");c.DefaultDevicePixelRatioMonitor=Un.default;const jn=d("eeYi");c.DefaultEventController=jn.default;const ci=d("Y8b2");c.DefaultMediaDeviceFactory=ci.default;const fn=d("MFJ1");c.DefaultMeetingEventReporter=fn.default;const ri=d("yx2K");c.DefaultMeetingReadinessChecker=ri.default;const gi=d("yvTz");c.DefaultMeetingSession=gi.default;const Nn=d("JJ3a");c.DefaultMessagingSession=Nn.default;const Ti=d("bTau");c.DefaultModality=Ti.default;const Bi=d("ML5K");c.DefaultPingPong=Bi.default;const vn=d("gTDO");c.DefaultRealtimeController=vn.default;const Mn=d("ULlC");c.DefaultReconnectController=Mn.default;const Ot=d("9ETa");c.DefaultSessionStateController=Ot.default;const Ke=d("PsbS");c.DefaultSigV4=Ke.default;const gt=d("jP1N");c.DefaultSignalingClient=gt.default;const ht=d("LUct");c.DefaultSimulcastUplinkPolicy=ht.default;const en=d("NWIo");c.DefaultSimulcastUplinkPolicyForContentShare=en.default;const Kn=d("IBi3");c.DefaultTransceiverController=Kn.default;const li=d("qvnc");c.DefaultTranscriptionController=li.default;const Ee=d("X3Fi");c.DefaultUserAgentParser=Ee.default;const Pe=d("XJrD");c.DefaultVideoCaptureAndEncodeParameter=Pe.default;const Fe=d("3zlU");c.DefaultVideoFrameProcessorPipeline=Fe.default;const Dt=d("Zkgh");c.DefaultVideoStreamIdSet=Dt.default;const zt=d("ldli");c.DefaultVideoStreamIndex=zt.default;const Ut=d("JTre");c.DefaultVideoTile=Ut.default;const bn=d("+D+n");c.DefaultVideoTileController=bn.default;const wn=d("rcF0");c.DefaultVideoTileFactory=wn.default;const pn=d("FxSh");c.DefaultVideoTransformDevice=pn.default;const xt=d("P3Bx");c.DefaultVolumeIndicatorAdapter=xt.default;const Vn=d("jHTc");c.DefaultWebSocketAdapter=Vn.default;const on=d("QzVx");c.DevicePixelRatioWindowSource=on.default;const Xn=d("DbLV");c.DeviceSelection=Xn.default;const vi=d("8FET");c.EventBufferConfiguration=vi.default;const kr=d("Y2s1");c.EventIngestionConfiguration=kr.default;const Gr=d("N9oo");c.FinishGatheringICECandidatesTask=Gr.default;const Lr=d("Np2I");c.FullJitterBackoff=Lr.default;const hi=d("mcAb");c.FullJitterBackoffFactory=hi.default;const _r=d("5/Tg");c.FullJitterLimitedBackoff=_r.default;const Ii=d("xzjI");c.GetUserMediaError=Ii.default;const Nr=d("2oFa");c.GlobalMetricReport=Nr.default;const or=d("3EKQ");c.InMemoryJSONEventBuffer=or.default;const fi=d("8wPz");c.IntervalScheduler=fi.default;const Er=d("xJ9D");c.JoinAndReceiveIndexTask=Er.default;const oi=d("FCN7");c.LeaveAndReceiveLeaveAckTask=oi.default;const tr=d("curu");c.ListenForVolumeIndicatorsTask=tr.default;const Jn=d("91j7");c.Log=Jn.default;const sr=d("uctb");c.LogLevel=sr.default;const $i=d("tK6J");c.MediaDeviceProxyHandler=$i.default;const Tr=d("hAj8");c.MeetingEventsClientConfiguration=Tr.default;const Ir=d("+7ft");c.MeetingReadinessCheckerConfiguration=Ir.default;const Ki=d("/U1e");c.MeetingSessionConfiguration=Ki.default;const Or=d("a16/");c.MeetingSessionCredentials=Or.default;const H=d("tcc5");c.MeetingSessionLifecycleEvent=H.default;const te=d("dPBs");c.MeetingSessionLifecycleEventCondition=te.default;const Oe=d("6Bxv");c.MeetingSessionStatus=Oe.default;const ke=d("lUhs");c.MeetingSessionStatusCode=ke.default;const Ge=d("V5IF");c.MeetingSessionTURNCredentials=Ge.default;const ft=d("iNgN");c.MeetingSessionURLs=ft.default;const pt=d("v8aG");c.MeetingSessionVideoAvailability=pt.default;const ct=d("evlv");c.Message=ct.default;const St=d("i+zQ");c.MessagingSessionConfiguration=St.default;const Mt=d("J93s");c.ModelSpecBuilder=Mt.default;const kt=d("3Ft5");c.MonitorTask=kt.default;const En=d("h4op");c.MultiLogger=En.default;const $t=d("hhlX");c.NScaleVideoUplinkBandwidthPolicy=$t.default;const Hn=d("Jsna");c.NoOpAudioVideoController=Hn.default;const bt=d("ir/0");c.NoOpDebugLogger=bt.default;const Zn=d("zNm1");c.NoOpDeviceController=Zn.default;const zn=d("Ni8D");c.NoOpEventReporter=zn.default;const yi=d("2y31");c.NoOpLogger=yi.default;const ei=d("r9Lw");c.NoOpMediaStreamBroker=ei.default;const $n=d("Nzn3");c.NoOpTask=$n.default;const Ei=d("ukPp");c.NoOpVideoElementFactory=Ei.default;const Pi=d("Wjms");c.NoOpVideoFrameProcessor=Pi.default;const pi=d("otBB");c.NoVideoDownlinkBandwidthPolicy=pi.default;const di=d("DcUe");c.NoVideoUplinkBandwidthPolicy=di.default;const wi=d("B7cK");c.NotFoundError=wi.default;const tn=d("UW8m");c.NotReadableError=tn.default;const si=d("V3UW");c.OnceTask=si.default;const Qn=d("mjQB");c.OpenSignalingConnectionTask=Qn.default;const Di=d("XhYu");c.OverconstrainedError=Di.default;const io=d("e2MG");c.POSTLogger=io.default;const mi=d("mv1L");c.ParallelGroupTask=mi.default;const Br=d("V4cD");c.PermissionDeniedError=Br.default;const Ui=d("p3mT");c.PrefetchOn=Ui.default;const zs=d("Oxpw");c.PrefetchSortBy=zs.default;const Xi=d("o13v");c.PromiseQueue=Xi.default;const Ji=d("LNXf");c.PromoteToPrimaryMeetingTask=Ji.default;const ti=d("rbNI");c.RealtimeAttendeePositionInFrame=ti.default;const Jt=d("TYXu");c.RealtimeState=Jt.default;const ar=d("ZIUS");c.RealtimeVolumeIndicator=ar.default;const Jo=d("LhvI");c.ReceiveAudioInputTask=Jo.default;const ro=d("cizm");c.ReceiveTURNCredentialsTask=ro.default;const Hi=d("5z6C");c.ReceiveVideoInputTask=Hi.default;const $r=d("1J7j");c.ReceiveVideoStreamIndexTask=$r.default;const Fr=d("kItj");c.ReconnectionHealthPolicy=Fr.default;const Zi=d("2q7c");c.RunnableTask=Zi.default;const Ss=d("AUdx");c.SDP=Ss.default;const ys=d("0YRd");c.SDPCandidateType=ys.default;const xi=d("Iwfh");c.SDPMediaSection=xi.default;const hr=d("0jNb");c.SendAndReceiveDataMessagesTask=hr.default;const bo=d("LuEC");c.SendingAudioFailureConnectionHealthPolicy=bo.default;const Cs=d("8tla");c.SerialGroupTask=Cs.default;const Mr=d("DUgj");c.ServerSideNetworkAdaption=Mr.default;const ho=d("JHsX");c.SessionStateControllerAction=ho.default;const oo=d("hWev");c.SessionStateControllerDeferPriority=oo.default;const Eo=d("I0Bj");c.SessionStateControllerState=Eo.default;const Yo=d("87Nr");c.SessionStateControllerTransitionResult=Yo.default;const Xo=d("ohOv");c.SetLocalDescriptionTask=Xo.default;const Lo=d("CRwe");c.SetRemoteDescriptionTask=Lo.default;const Zo=d("8dVZ");c.SignalingAndMetricsConnectionMonitor=Zo.default;const fo=d("5rM1");c.SignalingClientConnectionRequest=fo.default;const Ur=d("fGw7");c.SignalingClientEvent=Ur.default;const Ar=d("hEYi");c.SignalingClientEventType=Ar.default;const To=d("COTZ");c.SignalingClientJoin=To.default;const po=d("iFpF");c.SignalingClientSubscribe=po.default;const Kr=d("/sFY");c.SignalingClientVideoSubscriptionConfiguration=Kr.default;const _o=d("riOr");c.SimulcastContentShareTransceiverController=_o.default;const No=d("H7ma");c.SimulcastLayers=No.default;const Bo=d("OND3");c.SimulcastTransceiverController=Bo.default;const nr=d("nq15");c.SimulcastVideoStreamIndex=nr.default;const Fo=d("0Kz9");c.SingleNodeAudioTransformDevice=Fo.default;const Qo=d("NE7a");c.StreamMetricReport=Qo.default;const Uo=d("ZPwG");c.SubscribeAndReceiveSubscribeAckTask=Uo.default;const Vr=d("Lspx");c.TargetDisplaySize=Vr.default;const so=d("Sl5A");c.TaskStatus=so.default;const fr=d("yQ3g");c.TimeoutScheduler=fr.default;const Rr=d("L+i+");c.TimeoutTask=Rr.default;const Vo=d("7nob");c.Transcript=Vo.default;const Jr=d("JMN+");c.TranscriptAlternative=Jr.default;const qo=d("2xSc");c.TranscriptEntity=qo.default;const wr=d("Ol9i");c.TranscriptItem=wr.default;const mo=d("VWEK");c.TranscriptItemType=mo.default;const Io=d("SM5d");c.TranscriptLanguageWithScore=Io.default;const Pr=d("5rZr");c.TranscriptResult=Pr.default;const Hr=d("VoiG");c.TranscriptionStatus=Hr.default;const wo=d("h4LR");c.TranscriptionStatusType=wo.default;const Ho=d("SgmS");c.TypeError=Ho.default;const js=d("pCf5");c.UnusableAudioWarningConnectionHealthPolicy=js.default;const Dr=d("59sL");c.Versioning=Dr.default;const es=d("5mR7");c.VideoAdaptiveProbePolicy=es.default;const zr=d("CLOt");c.VideoCodecCapability=zr.default;const bs=d("rLvK");c.VideoFxProcessor=bs.default;const Es=d("DG83");c.VideoLogEvent=Es.default;const lr=d("NUAg");c.VideoOnlyTransceiverController=lr.default;const Yr=d("uaNU");c.VideoPreference=Yr.default;const Xr=d("P7D+");c.VideoPreferences=Xr.default;const ts=d("knPd");c.VideoPriorityBasedPolicy=ts.default;const ns=d("J1op");c.VideoPriorityBasedPolicyConfig=ns.default;const Ws=d("dWQL");c.VideoQualitySettings=Ws.default;const Oo=d("aqWb");c.VideoSource=Oo.default;const is=d("MhWp");c.VideoStreamDescription=is.default;const Ts=d("5mqp");c.VideoTileState=Ts.default;const rs=d("6JeQ");c.VoiceFocusDeviceTransformer=rs.default;const Zr=d("25+x");c.VoiceFocusTransformDevice=Zr.default;const Is=d("yqyw");c.WaitForAttendeePresenceTask=Is.default;const Mo=d("4EN+");c.WebSocketReadyState=Mo.default;const Qi=d("MelK");c.ZLIBTextCompressor=Qi.default;const Ao=d("P7D+");Object.defineProperty(c,"MutableVideoPreferences",{enumerable:!0,get:function(){return Ao.MutableVideoPreferences}});const jr=d("KyYT");Object.defineProperty(c,"Some",{enumerable:!0,get:function(){return jr.Some}}),Object.defineProperty(c,"None",{enumerable:!0,get:function(){return jr.None}}),Object.defineProperty(c,"Maybe",{enumerable:!0,get:function(){return jr.Maybe}});const Ro=d("NDMw");Object.defineProperty(c,"isAudioTransformDevice",{enumerable:!0,get:function(){return Ro.isAudioTransformDevice}});const ao=d("rwhO");Object.defineProperty(c,"isDestroyable",{enumerable:!0,get:function(){return ao.isDestroyable}});const go=d("dWP+");Object.defineProperty(c,"isVideoTransformDevice",{enumerable:!0,get:function(){return go.isVideoTransformDevice}})},hWev:function(N,c,d){"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.SessionStateControllerDeferPriority=void 0;var S;(function(h){h[h.DoNotDefer=0]="DoNotDefer",h[h.Low=1]="Low",h[h.Medium=2]="Medium",h[h.High=3]="High",h[h.VeryHigh=4]="VeryHigh"})(S=c.SessionStateControllerDeferPriority||(c.SessionStateControllerDeferPriority={})),c.default=S},heda:function(N,c,d){var S=d("GhSp"),h=d("d+lc"),m=d("mHY4");N.exports=d("C61u")?Object.defineProperties:o(function(a,n){h(a);for(var i=m(n),e=i.length,t=0,r;e>t;)S.f(a,r=i[t++],n[r]);return a},"defineProperties")},hhlX:function(N,c,d){"use strict";var S=this&&this.__awaiter||function(f,a,n,i){function e(t){return t instanceof n?t:new n(function(r){r(t)})}return o(e,"adopt"),new(n||(n=Promise))(function(t,r){function l(g){try{v(i.next(g))}catch(u){r(u)}}o(l,"fulfilled");function p(g){try{v(i.throw(g))}catch(u){r(u)}}o(p,"rejected");function v(g){g.done?t(g.value):e(g.value).then(l,p)}o(v,"step"),v((i=i.apply(f,a||[])).next())})};Object.defineProperty(c,"__esModule",{value:!0});const h=d("XJrD");let m=o(class td{reset(){this.numberOfPublishedVideoSources=0,this.optimalParameters=new h.default(0,0,0,0,!1),this.parametersInEffect=new h.default(0,0,0,0,!1),this.encodingParamMap.set(td.encodingMapKey,{maxBitrate:0})}updateConnectionMetric(a){}chooseMediaTrackConstraints(){return{}}chooseEncodingParameters(){return new Map}updateIndex(a){var n;let i=!0,e=1;this.transceiverController&&(i=this.transceiverController.hasVideoInput());const t=a.numberOfVideoPublishingParticipantsExcludingSelf(this.selfAttendeeId)+(i?1:0);if(this.numberOfPublishedVideoSources===t){(n=this.logger)===null||n===void 0||n.debug("Skipping update index; Number of participants has not changed");return}if(this.numberOfPublishedVideoSources=t,this.transceiverController){const r=this.getStreamCaptureSetting();r&&(e=this.calculateEncodingParameters(r).scaleResolutionDownBy)}this.optimalParameters=new h.default(this.captureWidth(),this.captureHeight(),this.captureFrameRate(),this.maxBandwidthKbps(),!1,e)}wantsResubscribe(){return!this.parametersInEffect.equal(this.optimalParameters)}chooseCaptureAndEncodeParameters(){return this.parametersInEffect=this.optimalParameters.clone(),this.parametersInEffect.clone()}captureWidth(){let a=640;return this.getNumberOfPublishedVideoSources()>4&&(a=320),a}captureHeight(){let a=384;return this.getNumberOfPublishedVideoSources()>4&&(a=192),a}captureFrameRate(){return 15}maxBandwidthKbps(){if(this.hasBandwidthPriority)return Math.trunc(this.idealMaxBandwidthKbps);let a=0;return this.getNumberOfPublishedVideoSources()<=2?a=this.idealMaxBandwidthKbps:this.getNumberOfPublishedVideoSources()<=4?a=this.idealMaxBandwidthKbps*2/3:a=(544/11+14880/(11*this.getNumberOfPublishedVideoSources()))/600*this.idealMaxBandwidthKbps,Math.trunc(a)}setIdealMaxBandwidthKbps(a){this.idealMaxBandwidthKbps=a}setHasBandwidthPriority(a){this.hasBandwidthPriority=a}setTransceiverController(a){this.transceiverController=a}updateTransceiverController(){return S(this,void 0,void 0,function*(){const a=this.getStreamCaptureSetting();if(!a)return;const n=this.calculateEncodingParameters(a);this.shouldUpdateEndcodingParameters(n)&&(this.encodingParamMap.set(td.encodingMapKey,n),this.transceiverController.setEncodingParameters(this.encodingParamMap))})}shouldUpdateEndcodingParameters(a){var n,i;const e=(i=(n=this.transceiverController.localVideoTransceiver().sender.getParameters())===null||n===void 0?void 0:n.encodings)===null||i===void 0?void 0:i[0];return a.maxBitrate!==(e==null?void 0:e.maxBitrate)||a.scaleResolutionDownBy!==(e==null?void 0:e.scaleResolutionDownBy)}calculateEncodingParameters(a){var n,i;const e=this.maxBandwidthKbps()*1e3;let t=1;if(a.height!==void 0&&a.width!==void 0&&this.scaleResolution&&!this.hasBandwidthPriority&&this.getNumberOfPublishedVideoSources()>2){let r=td.targetHeightArray[Math.min(this.getNumberOfPublishedVideoSources(),td.targetHeightArray.length-1)];r===480&&(!((n=this.browserBehavior)===null||n===void 0)&&n.disable480pResolutionScaleDown())&&(r=360),t=Math.max(Math.min(a.height,a.width)/r,1),(i=this.logger)===null||i===void 0||i.info(`Resolution scale factor is ${t} for capture resolution ${a.width}x${a.height}. New dimension is ${a.width/t}x${a.height/t}`)}return{scaleResolutionDownBy:t,maxBitrate:e}}getStreamCaptureSetting(){var a,n,i,e;return(e=(i=(n=(a=this.transceiverController)===null||a===void 0?void 0:a.localVideoTransceiver())===null||n===void 0?void 0:n.sender)===null||i===void 0?void 0:i.track)===null||e===void 0?void 0:e.getSettings()}getNumberOfPublishedVideoSources(){var a;return(a=this.numberOfPublishedVideoSources)!==null&&a!==void 0?a:0}constructor(a,n=!0,i=void 0,e=void 0){this.selfAttendeeId=a,this.scaleResolution=n,this.logger=i,this.browserBehavior=e,this.numberOfPublishedVideoSources=0,this.idealMaxBandwidthKbps=1400,this.hasBandwidthPriority=!1,this.encodingParamMap=new Map,this.reset()}},"NScaleVideoUplinkBandwidthPolicy");c.default=m,m.encodingMapKey="video",m.targetHeightArray=[0,0,0,540,540,480,480,480,480,360,360,360,360,270,270,270,270,180,180,180,180,180,180,180,180,180]},hl97:function(N,c,d){"use strict";N.exports=t;var S=d("kU+7"),h,m=S.LongBits,f=S.base64,a=S.utf8;function n(I,M,R){this.fn=I,this.len=M,this.next=void 0,this.val=R}o(n,"Op");function i(){}o(i,"noop");function e(I){this.head=I.head,this.tail=I.tail,this.len=I.len,this.next=I.states}o(e,"State");function t(){this.len=0,this.head=new n(i,0,0),this.tail=this.head,this.states=null}o(t,"Writer");var r=o(function(){return S.Buffer?o(function(){return(t.create=o(function(){return new h},"create_buffer"))()},"create_buffer_setup"):o(function(){return new t},"create_array")},"create");t.create=r(),t.alloc=o(function(M){return new S.Array(M)},"alloc"),S.Array!==Array&&(t.alloc=S.pool(t.alloc,S.Array.prototype.subarray)),t.prototype._push=o(function(M,R,B){return this.tail=this.tail.next=new n(M,R,B),this.len+=R,this},"push");function l(I,M,R){M[R]=I&255}o(l,"writeByte");function p(I,M,R){for(;I>127;)M[R++]=I&127|128,I>>>=7;M[R]=I}o(p,"writeVarint32");function v(I,M){this.len=I,this.next=void 0,this.val=M}o(v,"VarintOp"),v.prototype=Object.create(n.prototype),v.prototype.fn=p,t.prototype.uint32=o(function(M){return this.len+=(this.tail=this.tail.next=new v((M=M>>>0)<128?1:M<16384?2:M<2097152?3:M<268435456?4:5,M)).len,this},"write_uint32"),t.prototype.int32=o(function(M){return M<0?this._push(g,10,m.fromNumber(M)):this.uint32(M)},"write_int32"),t.prototype.sint32=o(function(M){return this.uint32((M<<1^M>>31)>>>0)},"write_sint32");function g(I,M,R){for(;I.hi;)M[R++]=I.lo&127|128,I.lo=(I.lo>>>7|I.hi<<25)>>>0,I.hi>>>=7;for(;I.lo>127;)M[R++]=I.lo&127|128,I.lo=I.lo>>>7;M[R++]=I.lo}o(g,"writeVarint64"),t.prototype.uint64=o(function(M){var R=m.from(M);return this._push(g,R.length(),R)},"write_uint64"),t.prototype.int64=t.prototype.uint64,t.prototype.sint64=o(function(M){var R=m.from(M).zzEncode();return this._push(g,R.length(),R)},"write_sint64"),t.prototype.bool=o(function(M){return this._push(l,1,M?1:0)},"write_bool");function u(I,M,R){M[R]=I&255,M[R+1]=I>>>8&255,M[R+2]=I>>>16&255,M[R+3]=I>>>24}o(u,"writeFixed32"),t.prototype.fixed32=o(function(M){return this._push(u,4,M>>>0)},"write_fixed32"),t.prototype.sfixed32=t.prototype.fixed32,t.prototype.fixed64=o(function(M){var R=m.from(M);return this._push(u,4,R.lo)._push(u,4,R.hi)},"write_fixed64"),t.prototype.sfixed64=t.prototype.fixed64,t.prototype.float=o(function(M){return this._push(S.float.writeFloatLE,4,M)},"write_float"),t.prototype.double=o(function(M){return this._push(S.float.writeDoubleLE,8,M)},"write_double");var s=S.Array.prototype.set?o(function(M,R,B){R.set(M,B)},"writeBytes_set"):o(function(M,R,B){for(var j=0;j<M.length;++j)R[B+j]=M[j]},"writeBytes_for");t.prototype.bytes=o(function(M){var R=M.length>>>0;if(!R)return this._push(l,1,0);if(S.isString(M)){var B=t.alloc(R=f.length(M));f.decode(M,B,0),M=B}return this.uint32(R)._push(s,R,M)},"write_bytes"),t.prototype.string=o(function(M){var R=a.length(M);return R?this.uint32(R)._push(a.write,R,M):this._push(l,1,0)},"write_string"),t.prototype.fork=o(function(){return this.states=new e(this),this.head=this.tail=new n(i,0,0),this.len=0,this},"fork"),t.prototype.reset=o(function(){return this.states?(this.head=this.states.head,this.tail=this.states.tail,this.len=this.states.len,this.states=this.states.next):(this.head=this.tail=new n(i,0,0),this.len=0),this},"reset"),t.prototype.ldelim=o(function(){var M=this.head,R=this.tail,B=this.len;return this.reset().uint32(B),B&&(this.tail.next=M.next,this.tail=R,this.len+=B),this},"ldelim"),t.prototype.finish=o(function(){for(var M=this.head.next,R=this.constructor.alloc(this.len),B=0;M;)M.fn(M.val,R,B),B+=M.len,M=M.next;return R},"finish"),t._configure=function(I){h=I,t.create=r(),h._configure()}},hlxM:function(N,c,d){"use strict";var S=this&&this.__awaiter||function(u,s,I,M){function R(B){return B instanceof I?B:new I(function(j){j(B)})}return o(R,"adopt"),new(I||(I=Promise))(function(B,j){function A(O){try{$(M.next(O))}catch(P){j(P)}}o(A,"fulfilled");function D(O){try{$(M.throw(O))}catch(P){j(P)}}o(D,"rejected");function $(O){O.done?B(O.value):R(O.value).then(A,D)}o($,"step"),$((M=M.apply(u,s||[])).next())})};Object.defineProperty(c,"__esModule",{value:!0}),c.isOldChrome=c.supportsWASMStreaming=c.supportsSharedArrayBuffer=c.supportsWASM=c.supportsAudioWorklet=c.supportsWorker=c.supportsVoiceFocusWorker=c.supportsWASMPostMessage=c.isSafari=void 0;const h=d("GEtQ"),m=o(function(){return!!(arguments.length>0&&arguments[0]!==void 0?arguments[0]:globalThis).navigator.userAgent.match(/Chrom(?:e|ium)\/([0-9]+)/)},"isChrome"),f=o(function(){const s=(arguments.length>0&&arguments[0]!==void 0?arguments[0]:globalThis).navigator.userAgent,I=s.match(/Safari\//),M=s.match(/Chrom(?:e|ium)\//);return!!(I&&!M)},"isSafari");c.isSafari=f;const a=o(function(){let u=arguments.length>0&&arguments[0]!==void 0?arguments[0]:globalThis;return c.isSafari(u)?!1:m(u)?(v(u)||0)<95:!0},"supportsWASMPostMessage");c.supportsWASMPostMessage=a;const n=o(function(){let u=arguments.length>0&&arguments[0]!==void 0?arguments[0]:globalThis,s=arguments.length>1?arguments[1]:void 0,I=arguments.length>2?arguments[2]:void 0;return S(void 0,void 0,void 0,function*(){if(!c.supportsWorker(u,I))return!1;const M=`${s.paths.workers}worker-v1.js`;try{const R=yield h.loadWorker(M,"VoiceFocusTestWorker",s,I);try{R.terminate()}catch(B){I==null||I.debug("Failed to terminate worker.",B)}return!0}catch(R){return I==null||I.info("Failed to fetch and instantiate test worker",R),!1}})},"supportsVoiceFocusWorker");c.supportsVoiceFocusWorker=n;const i=o(function(){let u=arguments.length>0&&arguments[0]!==void 0?arguments[0]:globalThis,s=arguments.length>1?arguments[1]:void 0;try{return!!u.Worker}catch(I){return s==null||s.info("Does not support Worker",I),!1}},"supportsWorker");c.supportsWorker=i;const e=o(function(){let u=arguments.length>0&&arguments[0]!==void 0?arguments[0]:globalThis,s=arguments.length>1?arguments[1]:void 0;try{return!!u.AudioWorklet&&!!u.AudioWorkletNode}catch(I){return s==null||s.info("Does not support Audio Worklet",I),!1}},"supportsAudioWorklet");c.supportsAudioWorklet=e;const t=o(function(){let u=arguments.length>0&&arguments[0]!==void 0?arguments[0]:globalThis,s=arguments.length>1?arguments[1]:void 0;try{return!!u.WebAssembly&&(!!u.WebAssembly.compile||!!u.WebAssembly.compileStreaming)}catch(I){return s==null||s.info("Does not support WASM",I),!1}},"supportsWASM");c.supportsWASM=t;const r=o(function(){let u=arguments.length>0&&arguments[0]!==void 0?arguments[0]:globalThis,s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:globalThis,I=arguments.length>2?arguments[2]:void 0;try{return!!u.SharedArrayBuffer&&(!!s.chrome||!!u.crossOriginIsolated)}catch{return I==null||I.info("Does not support SharedArrayBuffer."),!1}},"supportsSharedArrayBuffer");c.supportsSharedArrayBuffer=r;const l=o(function(){let u=arguments.length>0&&arguments[0]!==void 0?arguments[0]:globalThis,s=arguments.length>1?arguments[1]:void 0;var I;try{return!!(!((I=u.WebAssembly)===null||I===void 0)&&I.compileStreaming)}catch(M){return s==null||s.info("Does not support WASM streaming compilation",M),!1}},"supportsWASMStreaming");c.supportsWASMStreaming=l;const p=90,v=o(function(){let u=arguments.length>0&&arguments[0]!==void 0?arguments[0]:globalThis;try{if(!u.chrome)return}catch{}const s=u.navigator.userAgent.match(/Chrom(?:e|ium)\/([0-9]+)/);if(s)return parseInt(s[1],10)},"chromeVersion"),g=o(function(){let u=arguments.length>0&&arguments[0]!==void 0?arguments[0]:globalThis,s=arguments.length>1?arguments[1]:void 0;const I=v(u);return I&&I<p?(s==null||s.debug(`Chrome ${I} has incomplete SIMD support.`),!0):!1},"isOldChrome");c.isOldChrome=g},hrQK:function(N,c,d){"use strict";var S=this&&this.__awaiter||function(n,i,e,t){function r(l){return l instanceof e?l:new e(function(p){p(l)})}return o(r,"adopt"),new(e||(e=Promise))(function(l,p){function v(s){try{u(t.next(s))}catch(I){p(I)}}o(v,"fulfilled");function g(s){try{u(t.throw(s))}catch(I){p(I)}}o(g,"rejected");function u(s){s.done?l(s.value):r(s.value).then(v,g)}o(u,"step"),u((t=t.apply(n,i||[])).next())})};Object.defineProperty(c,"__esModule",{value:!0});const h=d("jG7n"),m=d("gLI0"),f=d("FKpq");let a=o(class extends h.default{validateOptions(i){if(super.validateOptions(i),!i.blurStrength)throw new Error("processor has null options - blurStrength")}initOnFirstExecution(){this.setBlurPixels()}drawImageWithMask(i,e){e||(e=new ImageData(this.spec.model.input.width,this.spec.model.input.height)),this.scaledCanvas.getContext("2d").putImageData(e,0,0);const{canvasCtx:r,targetCanvas:l}=this,{width:p,height:v}=l;r.save(),r.clearRect(0,0,p,v),r.drawImage(this.scaledCanvas,0,0,p,v),r.globalCompositeOperation="source-in",r.drawImage(i,0,0,p,v),r.globalCompositeOperation="destination-over",r.filter=`blur(${this.blurAmount}px)`,r.drawImage(i,0,0,l.width,l.height),r.restore()}setBlurStrength(i){this._blurStrength=i,this.logger.info(`blur strength set to ${this._blurStrength}`),this.setBlurPixels()}setBlurPixels(){this.blurAmount=m.BlurStrengthMapper.getBlurAmount(this._blurStrength,{height:this.sourceHeight}),this.logger.info(`background blur amount set to ${this.blurAmount}`)}addObserver(i){this.delegate.addObserver(i)}removeObserver(i){this.delegate.removeObserver(i)}static isSupported(){return S(this,void 0,void 0,function*(){const i=document.createElement("canvas"),e=i.getContext("2d").filter!==void 0;return i.remove(),e})}setEventController(i){this.eventController?this.eventController=i:(this.eventController=i,this.publishBackgroundFilterEvent())}publishBackgroundFilterEvent(){const i={backgroundBlurEnabled:"true",backgroundBlurStrength:this._blurStrength,backgroundReplacementEnabled:"false",backgroundFilterVersion:1};this.eventController.publishEvent("backgroundFilterConfigSelected",i)}constructor(i,e){super("background blur",i,e,new f.default),this.blurAmount=0,this.setBlurStrength(e.blurStrength),this.logger.info("BackgroundBlur processor successfully created"),this.logger.info(`BackgroundBlur spec: ${this.stringify(this.spec)}`),this.logger.info(`BackgroundBlur options: ${this.stringify(e)}`)}},"BackgroundBlurProcessorProvided");c.default=a},hspq:function(N,c,d){"use strict";var S=this&&this.__awaiter||function(i,e,t,r){function l(p){return p instanceof t?p:new t(function(v){v(p)})}return o(l,"adopt"),new(t||(t=Promise))(function(p,v){function g(I){try{s(r.next(I))}catch(M){v(M)}}o(g,"fulfilled");function u(I){try{s(r.throw(I))}catch(M){v(M)}}o(u,"rejected");function s(I){I.done?p(I.value):l(I.value).then(g,u)}o(s,"step"),s((r=r.apply(i,e||[])).next())})};Object.defineProperty(c,"__esModule",{value:!0});const h=d("tA0R"),m=d("HbHZ"),f=d("XCDq"),a=d("j+uH");let n=o(class extends a.default{cancel(){this.taskCanceler&&(this.taskCanceler.cancel(),this.taskCanceler=null)}run(){return S(this,void 0,void 0,function*(){this.context.signalingClient.ready()?(this.context.signalingClient.promoteToPrimaryMeeting(this.credentials),this.context.logger.info("Sent request to join primary meeting"),yield this.receivePrimaryMeetingJoinAck()):this.completionCallback(new h.MeetingSessionStatus(h.MeetingSessionStatusCode.SignalingRequestFailed))})}receivePrimaryMeetingJoinAck(){return new Promise((e,t)=>{let r=o(class{cancel(){this.signalingClient.removeObserver(this),this.completionCallback(new h.MeetingSessionStatus(h.MeetingSessionStatusCode.SignalingRequestFailed)),e()}handleSignalingClientEvent(v){v.isConnectionTerminated()&&(this.signalingClient.removeObserver(this),this.logger.info("PromoteToPrimaryMeetingTask connection terminated"),this.completionCallback(new h.MeetingSessionStatus(h.MeetingSessionStatusCode.SignalingRequestFailed)),e()),v.type===m.default.ReceivedSignalFrame&&v.message.type===f.SdkSignalFrame.Type.PRIMARY_MEETING_JOIN_ACK&&(this.signalingClient.removeObserver(this),this.logger.info("Got a primary meeting join ACK"),this.completionCallback(h.MeetingSessionStatus.fromSignalFrame(v.message)),e())}constructor(v,g,u){this.signalingClient=v,this.completionCallback=g,this.logger=u}},"Interceptor");const l=new r(this.context.signalingClient,this.completionCallback,this.context.logger);this.taskCanceler=l,this.context.signalingClient.registerObserver(l)})}constructor(e,t,r){super(e.logger),this.context=e,this.credentials=t,this.completionCallback=r,this.taskName="PromoteToPrimaryMeetingTask",this.taskCanceler=null}},"PromoteToPrimaryMeetingTask");c.default=n},hxn6:function(N,c,d){"use strict";var S=this&&this.__awaiter||function(R,B,j,A){function D($){return $ instanceof j?$:new j(function(O){O($)})}return o(D,"adopt"),new(j||(j=Promise))(function($,O){function P(Z){try{K(A.next(Z))}catch(Y){O(Y)}}o(P,"fulfilled");function k(Z){try{K(A.throw(Z))}catch(Y){O(Y)}}o(k,"rejected");function K(Z){Z.done?$(Z.value):D(Z.value).then(P,k)}o(K,"step"),K((A=A.apply(R,B||[])).next())})};Object.defineProperty(c,"__esModule",{value:!0}),c.decideModel=c.measureAndDecideExecutionApproach=void 0;const h=d("EkyC"),m=d("KvYa"),f=3,a=2.5,n=2.63,i=.6,e=.65,t=.5,r=.7,l={wasm:{noSupport:.07,inline:{c100:1,c50:.36,c20:.16,c10:.07},worker:{c100:.5,c50:.18,c20:.08,c10:.06}},simd:{noSupport:.1,inline:{c100:1,c50:.43,c20:.3,c10:.2},worker:{c100:.5,c50:.21,c20:.15,c10:.1}}};let p=o(class{roundtrip(B,j,A){return new Promise((D,$)=>{this.worker.then(O=>{let P;P=o(k=>{const{message:K,key:Z}=k.data;K===j&&Z===A&&(O.removeEventListener("message",P),D(k.data))},"listener"),O.addEventListener("message",P),O.postMessage(B)}).catch(O=>{var P;(P=this.logger)===null||P===void 0||P.error("Failed to load worker.",O),$(O)})})}supportsSIMD(B){const j="simd",A=B||`${this.fetchConfig.paths.wasm}simd-v1.wasm`,D={message:"supports-simd",fetchBehavior:this.fetchBehavior,path:A,key:j};return this.roundtrip(D,"simd-support",j).then($=>$.supports)}measure(B,j){const A=`${this.fetchConfig.paths.wasm}bench-v1.wasm`,D=`${this.fetchConfig.paths.wasm}bench-v1_simd.wasm`,$=B?D:A,O=`bench:${B}`,P={message:"measure",fetchBehavior:this.fetchBehavior,budget:j,path:$,key:O};return this.roundtrip(P,"measurement",O).then(k=>{if(k.measurement)return k.measurement;throw new Error("Failed to measure.")})}stop(){this.worker.then(B=>{var j;(j=this.logger)===null||j===void 0||j.debug("Stopping estimator worker."),B.terminate()}).catch(B=>{})}constructor(B,j){this.fetchConfig=B,this.logger=j;const A=`${B.paths.workers}estimator-v1.js`;this.fetchBehavior={headers:B.headers,escapedQueryString:B.escapedQueryString},this.worker=h.loadWorker(A,"VoiceFocusEstimator",this.fetchBehavior,j)}},"Estimator");const v=o((R,B)=>R===1?i:B==="quality"?e*R:t*R,"inlineScoreMultiplier"),g=o(function(R){let{supportsSIMD:B,supportsSAB:j,duration:A,executionPreference:D="auto",simdPreference:$,variantPreference:O="auto",namePreference:P="default",usagePreference:k,executionQuantaPreference:K=f}=R,Z=arguments.length>1&&arguments[1]!==void 0?arguments[1]:l,Y=arguments.length>2?arguments[2]:void 0;const ge=$==="force"||$!=="disable"&&B,Ie=A!==-1,le=Ie?(ge?a:n)/A:0,we=ge?Z.simd:Z.wasm,Be=Ie?v(K,k)*le:0,Re=Ie?r*le:0,Ne=P,_e=o(at=>({supported:!1,reason:at}),"unsupported");if(Ie){if(le<we.noSupport)return _e(`Performance score ${le} worse than threshold ${we.noSupport}.`)}else if(D==="auto"||O==="auto")return _e(`Missing explicit execution (${D}) or variant (${O}) preference, but no scoring performed.`);Y==null||Y.debug(`Bench duration ${A} yields inline score ${Be} and worker score ${Re}.`);const Ze=o((at,lt,ot)=>({supported:!0,useSIMD:ge,processor:at,executionApproach:lt,variant:ot,executionQuanta:lt==="inline"?K:void 0,name:Ne}),"succeed"),tt=o((at,lt,ot)=>lt!=="auto"?!Ie||at>ot[lt]?lt:"failed":at>ot.c100?"c100":at>ot.c50?"c50":at>ot.c20?"c20":at>ot.c10?"c10":"failed","resolveVariant"),$e=o(at=>{switch(at||"auto"){case"auto":{let lt=$e("inline"),ot=$e("worker");return Y==null||Y.debug(`Reducing auto preference: ${JSON.stringify(lt)} vs ${JSON.stringify(ot)}`),lt.supported===!1||ot.supported===!1?ot:lt.variant===ot.variant||lt.variant==="c50"?lt:ot}case"worker":return m.supportsSharedArrayBuffer(globalThis,window,Y)?$e("worker-sab"):$e("worker-postMessage");case"inline":{const lt=tt(Be,O,we.inline);return lt==="failed"?_e(`Performance score ${Be} not sufficient for inline use with variant preference ${O}.`):Ze("voicefocus-inline-processor","inline",lt)}case"worker-sab":{if(!j){const ot="Requested worker-sab but no SharedArrayBuffer support.";return Y==null||Y.warn(ot),{supported:!1,reason:ot}}const lt=tt(Re,O,we.worker);return lt==="failed"?_e(`Performance score ${Re} not sufficient for worker use with variant preference ${O}.`):Ze("voicefocus-worker-sab-processor","worker-sab",lt)}case"worker-postMessage":{const lt=tt(Re,O,we.worker);if(lt==="failed")return _e(`Performance score ${Re} not sufficient for worker use.`);if(Ne==="ns_es"){const ot="Requested echo suppression but postMessage executor does not support it.";return Y==null||Y.warn(ot),{supported:!1,reason:ot}}return Ze("voicefocus-worker-postMessage-processor","worker-postMessage",lt)}}},"reducePreference");return $e(D)},"decideExecutionApproach"),u=o((R,B,j,A)=>S(void 0,void 0,void 0,function*(){const D={supportsSIMD:R,supportsSAB:m.supportsSharedArrayBuffer(globalThis,window,j),duration:-1};if(R)return j==null||j.info("Supports SIMD: true (force)"),D;const $=!A,O=A||new p(B,j);try{const P=!m.isOldChrome(window,j)&&(yield O.supportsSIMD());return j==null||j.info(`Supports SIMD: ${P} (force: ${R})`),D.supportsSIMD=P,D}finally{$&&O.stop()}}),"featureCheck"),s=o((R,B,j,A)=>S(void 0,void 0,void 0,function*(){const D=new p(B,A);try{const $=yield u(R,B,A,D);if($.supportsSIMD)try{return $.duration=yield D.measure(!0,j),A==null||A.info("SIMD timing:",$.duration),$}catch{A==null||A.warn("Failed SIMD estimation; falling back to non-SIMD."),$.supportsSIMD=!1}return $.duration=yield D.measure(!1,j),A==null||A.info("No-SIMD timing:",$.duration),$}catch($){throw A==null||A.error("Could not feature check.",$),$}finally{D.stop()}}),"estimateAndFeatureCheck"),I=o(function(R,B,j){let A=arguments.length>3&&arguments[3]!==void 0?arguments[3]:l;return S(void 0,void 0,void 0,function*(){let D=R.executionPreference;const{usagePreference:$,variantPreference:O,namePreference:P,simdPreference:k,estimatorBudget:K,executionQuantaPreference:Z}=R;$==="interactivity"&&D!=="inline"&&(j==null||j.debug(`Overriding execution preference ${D} to reflect interactivity preference.`),D="inline");const Y=k==="force",ie=O!=="auto",ge=D!=="auto";let Ie;try{ie&&ge?Ie=yield u(Y,B,j):Ie=yield s(Y,B,K,j)}catch(le){throw j==null||j.error("Could not load estimator.",le),new Error("Could not load Voice Focus estimator.")}return g(Object.assign(Object.assign({},Ie),{simdPreference:k,executionPreference:D,variantPreference:O,namePreference:P,usagePreference:$,executionQuantaPreference:Z}),A,j)})},"measureAndDecideExecutionApproach");c.measureAndDecideExecutionApproach=I;const M=o(R=>{let{category:B,name:j,variant:A,simd:D,url:$}=R;return`${B}-${j}-${A}-v1${D?"_simd":""}`},"decideModel");c.decideModel=M},"i+zQ":function(N,c,d){"use strict";Object.defineProperty(c,"__esModule",{value:!0});let S=o(class{generateSessionId(){const m=new Uint32Array(1);return window.crypto.getRandomValues(m)[0].toString()}constructor(m,f,a,n){this.userArn=m,this.messagingSessionId=f,this.endpointUrl=a,this.chimeClient=n,this.reconnectTimeoutMs=10*1e3,this.reconnectFixedWaitMs=0,this.reconnectShortBackoffMs=1*1e3,this.reconnectLongBackoffMs=5*1e3,this.prefetchOn=void 0,this.prefetchSortBy=void 0,this.messagingSessionId||(this.messagingSessionId=this.generateSessionId())}},"MessagingSessionConfiguration");c.default=S},iA6Z:function(N,c,d){"use strict";Object.defineProperty(c,"__esModule",{value:!0});let S=o(class{constructor(){this.attendeeIndex=null,this.attendeesInFrame=null}},"RealtimeAttendeePositionInFrame");c.default=S},iAlb:function(N,c,d){"use strict";Object.defineProperty(c,"__esModule",{value:!0});const S=o(h=>{const m={};for(const[f,a]of Object.entries(h))if(!(a==null||a===""))if(typeof a=="number"||typeof a=="string")m[f]=a;else throw new TypeError("Unhandled type received while flattening attributes.");return m},"flattenEventAttributes");c.default=S},iCc5:function(N,c,d){"use strict";c.__esModule=!0,c.default=function(S,h){if(!(S instanceof h))throw new TypeError("Cannot call a class as a function")}},iFpF:function(N,c,d){"use strict";Object.defineProperty(c,"__esModule",{value:!0});let S=o(class{constructor(m,f,a,n,i,e,t,r,l,p){this.attendeeId=m,this.sdpOffer=f,this.audioHost=a,this.audioMuted=n,this.audioCheckin=i,this.receiveStreamIds=e,this.localVideoEnabled=t,this.videoStreamDescriptions=r,this.connectionTypeHasVideo=l,this.compressedSdpOffer=p,this.videoSubscriptionConfiguration=[]}},"SignalingClientSubscribe");c.default=S},iNgN:function(N,c,d){"use strict";Object.defineProperty(c,"__esModule",{value:!0});let S=o(class{get audioHostURL(){return this.urlRewriter(this._audioHostURL)}set audioHostURL(m){this._audioHostURL=m}get signalingURL(){return this.urlRewriter(this._signalingURL)}set signalingURL(m){this._signalingURL=m}get turnControlURL(){return this.urlRewriter(this._turnControlURL)}set turnControlURL(m){this._turnControlURL=m}get eventIngestionURL(){return this.urlRewriter(this._eventIngestionURL)}set eventIngestionURL(m){this._eventIngestionURL=m}constructor(){this._audioHostURL=null,this._signalingURL=null,this._turnControlURL=null,this._eventIngestionURL=null,this.urlRewriter=m=>m}},"MeetingSessionURLs");c.default=S},iQPr:function(N,c,d){"use strict";var S=this&&this.__awaiter||function(a,n,i,e){function t(r){return r instanceof i?r:new i(function(l){l(r)})}return o(t,"adopt"),new(i||(i=Promise))(function(r,l){function p(u){try{g(e.next(u))}catch(s){l(s)}}o(p,"fulfilled");function v(u){try{g(e.throw(u))}catch(s){l(s)}}o(v,"rejected");function g(u){u.done?r(u.value):t(u.value).then(p,v)}o(g,"step"),g((e=e.apply(a,n||[])).next())})};Object.defineProperty(c,"__esModule",{value:!0});const h=d("zcg+"),m=d("j+uH");let f=o(class extends m.default{cancel(){this.logger.info(`canceling timeout task ${this.name()} subtask ${this.taskToRunBeforeTimeout}`),this.taskToRunBeforeTimeout.cancel()}run(){return S(this,void 0,void 0,function*(){const n=new h.default(this.timeoutMs);n.start(()=>{this.logger.info(`timeout reached for task ${this.name()}`),this.taskToRunBeforeTimeout.cancel()});try{yield this.taskToRunBeforeTimeout.run()}finally{n.stop()}this.logger.info(`timeout task ${this.name()} completed`)})}constructor(n,i,e){super(n),this.taskToRunBeforeTimeout=i,this.timeoutMs=e,this.taskName=`Timeout${this.timeoutMs}ms`,i.setParent(this)}},"TimeoutTask");c.default=f},iRMv:function(N,c,d){"use strict";Object.defineProperty(c,"__esModule",{value:!0});const S=d("J5JU"),h=d("9Bli"),m=d("vhVE");let f=o(class{realtimeSetLocalAttendeeId(n,i){this.state.localAttendeeId=n,this.state.localExternalUserId=i}realtimeSetAttendeeIdPresence(n,i,e,t,r){try{i&&(this.state.attendeeIdToExternalUserId[n]=e);for(const l of this.state.attendeeIdChangesCallbacks)l(n,i,e,t,r)}catch(l){this.onError(l)}}realtimeSubscribeToAttendeeIdPresence(n){try{this.state.attendeeIdChangesCallbacks.push(n)}catch(i){this.onError(i)}}realtimeUnsubscribeToAttendeeIdPresence(n){try{const i=this.state.attendeeIdChangesCallbacks.indexOf(n);i!==-1&&this.state.attendeeIdChangesCallbacks.splice(i,1)}catch(i){this.onError(i)}}realtimeSetCanUnmuteLocalAudio(n){try{if(this.state.canUnmute===n)return;this.state.canUnmute=n;for(const i of this.state.setCanUnmuteLocalAudioCallbacks)i(n)}catch(i){this.onError(i)}}realtimeSubscribeToSetCanUnmuteLocalAudio(n){try{this.state.setCanUnmuteLocalAudioCallbacks.push(n)}catch(i){this.onError(i)}}realtimeUnsubscribeToSetCanUnmuteLocalAudio(n){try{const i=this.state.setCanUnmuteLocalAudioCallbacks.indexOf(n);i!==-1&&this.state.setCanUnmuteLocalAudioCallbacks.splice(i,1)}catch(i){this.onError(i)}}realtimeCanUnmuteLocalAudio(){return this.state.canUnmute}realtimeMuteLocalAudio(){if(!this.state.muted)try{this.setAudioInputEnabled(!1),this.state.muted=!0,this.realtimeUpdateVolumeIndicator(this.state.localAttendeeId,null,null,null,this.state.localExternalUserId);for(const n of this.state.muteAndUnmuteLocalAudioCallbacks)n(!0)}catch(n){this.onError(n)}}realtimeUnmuteLocalAudio(){if(!this.state.muted)return!0;if(!this.state.canUnmute)return!1;try{this.setAudioInputEnabled(!0),this.state.muted=!1,this.realtimeUpdateVolumeIndicator(this.state.localAttendeeId,null,null,null,this.state.localExternalUserId);for(const n of this.state.muteAndUnmuteLocalAudioCallbacks)n(!1);return!0}catch(n){return this.onError(n),!1}}realtimeSubscribeToMuteAndUnmuteLocalAudio(n){try{this.state.muteAndUnmuteLocalAudioCallbacks.push(n)}catch(i){this.onError(i)}}realtimeUnsubscribeToMuteAndUnmuteLocalAudio(n){try{const i=this.state.muteAndUnmuteLocalAudioCallbacks.indexOf(n);i!==-1&&this.state.muteAndUnmuteLocalAudioCallbacks.splice(i,1)}catch(i){this.onError(i)}}realtimeIsLocalAudioMuted(){return this.state.muted}realtimeSubscribeToVolumeIndicator(n,i){try{this.state.volumeIndicatorCallbacks.hasOwnProperty(n)||(this.state.volumeIndicatorCallbacks[n]=[]),this.state.volumeIndicatorCallbacks[n].push(i),this.sendVolumeIndicatorChange(n,!0,!0,!0,this.state.attendeeIdToExternalUserId[n])}catch(e){this.onError(e)}}realtimeUnsubscribeFromVolumeIndicator(n,i){if(this.state.volumeIndicatorCallbacks[n])if(i){const t=this.state.volumeIndicatorCallbacks[n].indexOf(i);t>=0&&this.state.volumeIndicatorCallbacks[n].splice(t,1)}else delete this.state.volumeIndicatorCallbacks[n]}realtimeUpdateVolumeIndicator(n,i,e,t,r){try{e=this.applyLocalMuteOverride(n,e);const l=this.getVolumeIndicatorState(n);let p=!1,v=!1,g=!1;e!==null&&l.muted!==e&&(l.muted=e,v=!0,l.muted&&l.volume!==0&&(l.volume=0,p=!0)),!l.muted&&i!==null&&(l.volume!==i&&(l.volume=i,p=!0),l.muted===null&&(l.muted=!1,v=!0)),t!==null&&l.signalStrength!==t&&(l.signalStrength=t,g=!0),this.sendVolumeIndicatorChange(n,p,v,g,r)}catch(l){this.onError(l)}}realtimeSubscribeToLocalSignalStrengthChange(n){try{if(this.state.localSignalStrengthChangeCallbacks.push(n),this.state.localAttendeeId===null)return;this.sendLocalSignalStrengthChange(this.state.localAttendeeId,!0)}catch(i){this.onError(i)}}realtimeUnsubscribeToLocalSignalStrengthChange(n){try{const i=this.state.localSignalStrengthChangeCallbacks.indexOf(n);i!==-1&&this.state.localSignalStrengthChangeCallbacks.splice(i,1)}catch(i){this.onError(i)}}realtimeSubscribeToSendDataMessage(n){try{this.state.sendDataMessageCallbacks.push(n)}catch(i){this.onError(i)}}realtimeUnsubscribeFromSendDataMessage(n){try{const i=this.state.sendDataMessageCallbacks.indexOf(n);i!==-1&&this.state.sendDataMessageCallbacks.splice(i,1)}catch(i){this.onError(i)}}realtimeSendDataMessage(n,i,e){try{for(const t of this.state.sendDataMessageCallbacks)t(n,i,e)}catch(t){this.onError(t)}}realtimeSubscribeToReceiveDataMessage(n,i){try{this.state.receiveDataMessageCallbacks.has(n)?this.state.receiveDataMessageCallbacks.get(n).push(i):this.state.receiveDataMessageCallbacks.set(n,[i])}catch(e){this.onError(e)}}realtimeUnsubscribeFromReceiveDataMessage(n){try{this.state.receiveDataMessageCallbacks.delete(n)}catch(i){this.onError(i)}}realtimeReceiveDataMessage(n){try{if(this.state.receiveDataMessageCallbacks.has(n.topic))for(const i of this.state.receiveDataMessageCallbacks.get(n.topic))i(n)}catch(i){this.onError(i)}}realtimeSubscribeToFatalError(n){try{this.state.fatalErrorCallbacks.push(n)}catch(i){this.onError(i)}}realtimeUnsubscribeToFatalError(n){try{const i=this.state.fatalErrorCallbacks.indexOf(n);i!==-1&&this.state.fatalErrorCallbacks.splice(i,1)}catch(i){this.onError(i)}}get transcriptionController(){return this._transcriptionController}setAudioInputEnabled(n){n?this.mediaStreamBroker.unmuteLocalAudioInputStream():this.mediaStreamBroker.muteLocalAudioInputStream()}applyLocalMuteOverride(n,i){const e=this.state.localAttendeeId,t=this.state.muted;return n!==e||!("activeDevices"in this.mediaStreamBroker&&this.mediaStreamBroker.activeDevices.audio)?i:t}sendVolumeIndicatorChange(n,i,e,t,r){if(this.sendLocalSignalStrengthChange(n,t),!this.state.volumeIndicatorCallbacks.hasOwnProperty(n))return;const l=this.getVolumeIndicatorState(n),p=new m.default;if(i&&(p.volume=l.volume),e&&(p.muted=l.muted),t&&(p.signalStrength=l.signalStrength),!this.stateIsEmpty(p))for(const v of this.state.volumeIndicatorCallbacks[n])v(n,p.volume,p.muted,p.signalStrength,r)}sendLocalSignalStrengthChange(n,i){if(!i||n!==this.state.localAttendeeId)return;const t=this.getVolumeIndicatorState(n).signalStrength;if(t!==null)for(const r of this.state.localSignalStrengthChangeCallbacks)r(t)}getVolumeIndicatorState(n){return this.state.volumeIndicatorState.hasOwnProperty(n)||(this.state.volumeIndicatorState[n]=new m.default),this.state.volumeIndicatorState[n]}stateIsEmpty(n){return n.volume===null&&n.muted===null&&n.signalStrength===null}onError(n){try{for(const i of this.state.fatalErrorCallbacks)i(n)}catch(i){try{console.error(n),console.error(i)}catch{}}}constructor(n,i){this.mediaStreamBroker=n,this.state=new h.default,this._transcriptionController=i||new S.default(this)}},"DefaultRealtimeController");c.default=f},"iZ5/":function(N,c,d){var S=d("BRsN");N.exports=function(h,m,f){for(var a in m)f&&h[a]?h[a]=m[a]:S(h,a,m[a]);return h}},ig3W:function(N,c){N.exports={}},ig3o:function(N,c,d){"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.CheckAudioInputFeedback=void 0;var S;(function(h){h[h.Succeeded=0]="Succeeded",h[h.Failed=1]="Failed",h[h.PermissionDenied=2]="PermissionDenied"})(S=c.CheckAudioInputFeedback||(c.CheckAudioInputFeedback={})),c.default=S},igcJ:function(N,c,d){"use strict";Object.defineProperty(c,"__esModule",{value:!0});const S=d("F7zz"),h=d("BkFD"),m=d("HbHZ"),f=d("XCDq"),a=d("Aplu");let n=o(class{addObserver(e){this.logger.info("adding a ping-pong observer"),this.observerQueue.add(e)}removeObserver(e){this.logger.info("removing a ping-pong observer"),this.observerQueue.delete(e)}forEachObserver(e){for(const t of this.observerQueue)S.default.nextTick(()=>{this.observerQueue.has(t)&&e(t)})}start(){this.stop(),this.signalingClient.registerObserver(this),this.signalingClient.ready()&&this.startPingInterval()}stop(){this.stopPingInterval(),this.signalingClient.removeObserver(this)}startPingInterval(){this.intervalScheduler.start(()=>{this.ping()}),this.ping()}stopPingInterval(){this.intervalScheduler.stop(),this.pingId=0,this.consecutivePongsUnaccountedFor=0}ping(){this.consecutivePongsUnaccountedFor>0&&(this.logger.warn(`missed pong ${this.consecutivePongsUnaccountedFor} time(s)`),this.forEachObserver(t=>{a.Maybe.of(t.didMissPongs).map(r=>r.bind(t)(this.consecutivePongsUnaccountedFor))})),this.consecutivePongsUnaccountedFor+=1,this.pingId=this.pingId+1&4294967295;const e=f.SdkPingPongFrame.create();e.pingId=this.pingId,e.type=f.SdkPingPongType.PING,this.pingTimestampLocalMs=this.signalingClient.pingPong(e),this.logger.debug(()=>`sent ping ${this.pingId}`)}pong(e){const t=f.SdkPingPongFrame.create();t.pingId=e,t.type=f.SdkPingPongType.PONG,this.signalingClient.pingPong(t)}handleSignalingClientEvent(e){switch(e.type){case m.default.WebSocketOpen:this.startPingInterval();break;case m.default.WebSocketFailed:case m.default.WebSocketError:this.logger.warn(`stopped pinging (${m.default[e.type]})`),this.stopPingInterval();break;case m.default.WebSocketClosing:case m.default.WebSocketClosed:this.logger.info(`stopped pinging (${m.default[e.type]})`),this.stopPingInterval();break;case m.default.ReceivedSignalFrame:if(e.message.type!==f.SdkSignalFrame.Type.PING_PONG)break;if(e.message.pingPong.type===f.SdkPingPongType.PONG){const t=e.message.pingPong.pingId;if(t!==this.pingId){this.logger.warn(`unexpected ping id ${t} (expected ${this.pingId})`);break}this.consecutivePongsUnaccountedFor=0;let r;if(typeof e.message.timestampMs=="number")r=e.message.timestampMs;else break;this.logger.debug(()=>`received pong ${t} with timestamp ${r}`);const p=e.timestampMs-this.pingTimestampLocalMs,v=Math.round(r-p/2),g=this.pingTimestampLocalMs-v;this.logger.info(`local clock skew estimate=${g}ms from ping-pong time=${p}ms`),this.forEachObserver(u=>{a.Maybe.of(u.didReceivePong).map(s=>s.bind(u)(t,g,p))})}else this.pong(e.message.pingPong.pingId);break}}constructor(e,t,r){this.signalingClient=e,this.intervalMs=t,this.logger=r,this.observerQueue=new Set,this.consecutivePongsUnaccountedFor=0,this.intervalScheduler=new h.default(this.intervalMs),this.pingId=0}},"DefaultPingPong");c.default=n},ipyK:function(N,c,d){"use strict";var S=d("jLvU");function h(m,f){return f=typeof f=="function"?f:void 0,m&&m.length?Object(S.a)(m,void 0,f):[]}o(h,"uniqWith"),c.a=h},iqsF:function(N,c,d){var S=d("aqg2"),h=d("zBWt")("iterator"),m=d("ig3W");N.exports=d("VSTI").isIterable=function(f){var a=Object(f);return a[h]!==void 0||"@@iterator"in a||m.hasOwnProperty(S(a))}},"ir/0":function(N,c,d){"use strict";Object.defineProperty(c,"__esModule",{value:!0});const S=d("uctb"),h=d("2y31");let m=o(class extends h.default{constructor(){super(S.default.DEBUG)}},"NoOpDebugLogger");c.default=m},irli:function(N,c,d){"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.Sha256=void 0;var S=d("+br/"),h=d("9IN5"),m=d("vapa"),f=d("v4l7"),a=function(){function i(e){if(this.hash=new m.RawSha256,e){this.outer=new m.RawSha256;var t=n(e),r=new Uint8Array(h.BLOCK_SIZE);r.set(t);for(var l=0;l<h.BLOCK_SIZE;l++)t[l]^=54,r[l]^=92;this.hash.update(t),this.outer.update(r);for(var l=0;l<t.byteLength;l++)t[l]=0}}return o(i,"Sha2561"),i.prototype.update=function(e){if(!((0,f.isEmptyData)(e)||this.error))try{this.hash.update((0,f.convertToBuffer)(e))}catch(t){this.error=t}},i.prototype.digestSync=function(){if(this.error)throw this.error;return this.outer?(this.outer.finished||this.outer.update(this.hash.digest()),this.outer.digest()):this.hash.digest()},i.prototype.digest=function(){return S.__awaiter(this,void 0,void 0,function(){return S.__generator(this,function(e){return[2,this.digestSync()]})})},i}();c.Sha256=a;function n(i){var e=(0,f.convertToBuffer)(i);if(e.byteLength>h.BLOCK_SIZE){var t=new m.RawSha256;t.update(e),e=t.digest()}var r=new Uint8Array(h.BLOCK_SIZE);return r.set(e),r}o(n,"bufferFromSecret")},ixoo:function(N,c){var d=0,S=Math.random();N.exports=function(h){return"Symbol(".concat(h===void 0?"":h,")_",(++d+S).toString(36))}},"j+uH":function(N,c,d){"use strict";var S=this&&this.__awaiter||function(a,n,i,e){function t(r){return r instanceof i?r:new i(function(l){l(r)})}return o(t,"adopt"),new(i||(i=Promise))(function(r,l){function p(u){try{g(e.next(u))}catch(s){l(s)}}o(p,"fulfilled");function v(u){try{g(e.throw(u))}catch(s){l(s)}}o(v,"rejected");function g(u){u.done?r(u.value):t(u.value).then(p,v)}o(g,"step"),g((e=e.apply(a,n||[])).next())})};Object.defineProperty(c,"__esModule",{value:!0});const h=d("ZnGd"),m=d("IGBW");let f=o(class{once(){for(var n=arguments.length,i=new Array(n),e=0;e<n;e++)i[e]=arguments[e];return new h.default(this.logger,this,i)}cancel(){}name(){return this.parentTask?`${this.parentTask.name()}/${this.taskName}`:this.taskName}setParent(n){this.parentTask=n}getStatus(){return this.status}logAndThrow(n){throw this.logger.info(n),new Error(n)}baseRun(n){return S(this,void 0,void 0,function*(){try{const i=Date.now();switch(this.logger.info(`running task ${this.name()}`),this.status){case m.default.RUNNING:this.logAndThrow(`${this.name()} is already running`);case m.default.CANCELED:this.logAndThrow(`${this.name()} was canceled before running`);case m.default.FINISHED:this.logAndThrow(`${this.name()} was already finished`)}this.status=m.default.RUNNING,yield n.call(this),this.logger.info(`${this.name()} took ${Math.round(Date.now()-i)} ms`)}catch(i){throw i}finally{this.status!==m.default.CANCELED&&(this.status=m.default.FINISHED)}})}baseCancel(n){if(this.status===m.default.CANCELED||this.status===m.default.FINISHED){this.logger.info(`Not canceling ${this.name()}: state is ${this.status}`);return}this.logger.info(`canceling task ${this.name()}`),this.status=m.default.CANCELED,n.call(this)}constructor(n){this.logger=n,this.taskName="BaseTask",this.parentTask=null,this.status=m.default.IDLE,this.run=this.baseRun.bind(this,this.run),this.cancel=this.baseCancel.bind(this,this.cancel)}},"BaseTask");c.default=f},j4TH:function(N,c,d){"use strict";(function(S){var h=c;h.asPromise=d("MFts"),h.base64=d("bnU+"),h.EventEmitter=d("aJe0"),h.float=d("KwGI"),h.inquire=d("/TZM"),h.utf8=d("yNTq"),h.pool=d("BEY9"),h.LongBits=d("ko9P"),h.isNode=Boolean(typeof S<"u"&&S&&S.process&&S.process.versions&&S.process.versions.node),h.global=h.isNode&&S||typeof window<"u"&&window||typeof self<"u"&&self||this,h.emptyArray=Object.freeze?Object.freeze([]):[],h.emptyObject=Object.freeze?Object.freeze({}):{},h.isInteger=Number.isInteger||o(function(n){return typeof n=="number"&&isFinite(n)&&Math.floor(n)===n},"isInteger"),h.isString=o(function(n){return typeof n=="string"||n instanceof String},"isString"),h.isObject=o(function(n){return n&&typeof n=="object"},"isObject"),h.isset=h.isSet=o(function(n,i){var e=n[i];return e!=null&&n.hasOwnProperty(i)?typeof e!="object"||(Array.isArray(e)?e.length:Object.keys(e).length)>0:!1},"isSet"),h.Buffer=function(){try{var a=h.inquire("buffer").Buffer;return a.prototype.utf8Write?a:null}catch{return null}}(),h._Buffer_from=null,h._Buffer_allocUnsafe=null,h.newBuffer=o(function(n){return typeof n=="number"?h.Buffer?h._Buffer_allocUnsafe(n):new h.Array(n):h.Buffer?h._Buffer_from(n):typeof Uint8Array>"u"?n:new Uint8Array(n)},"newBuffer"),h.Array=typeof Uint8Array<"u"?Uint8Array:Array,h.Long=h.global.dcodeIO&&h.global.dcodeIO.Long||h.global.Long||h.inquire("long"),h.key2Re=/^true|false|0|1$/,h.key32Re=/^-?(?:0|[1-9][0-9]*)$/,h.key64Re=/^(?:[\\x00-\\xff]{8}|-?(?:0|[1-9][0-9]*))$/,h.longToHash=o(function(n){return n?h.LongBits.from(n).toHash():h.LongBits.zeroHash},"longToHash"),h.longFromHash=o(function(n,i){var e=h.LongBits.fromHash(n);return h.Long?h.Long.fromBits(e.lo,e.hi,i):e.toNumber(Boolean(i))},"longFromHash");function m(a,n,i){for(var e=Object.keys(n),t=0;t<e.length;++t)(a[e[t]]===void 0||!i)&&(a[e[t]]=n[e[t]]);return a}o(m,"merge"),h.merge=m,h.lcFirst=o(function(n){return n.charAt(0).toLowerCase()+n.substring(1)},"lcFirst");function f(a){function n(i,e){if(!(this instanceof n))return new n(i,e);Object.defineProperty(this,"message",{get:function(){return i}}),Error.captureStackTrace?Error.captureStackTrace(this,n):Object.defineProperty(this,"stack",{value:new Error().stack||""}),e&&m(this,e)}return o(n,"CustomError"),(n.prototype=Object.create(Error.prototype)).constructor=n,Object.defineProperty(n.prototype,"name",{get:function(){return a}}),n.prototype.toString=o(function(){return this.name+": "+this.message},"toString"),n}o(f,"newError"),h.newError=f,h.ProtocolError=f("ProtocolError"),h.oneOfGetter=o(function(n){for(var i={},e=0;e<n.length;++e)i[n[e]]=1;return function(){for(var t=Object.keys(this),r=t.length-1;r>-1;--r)if(i[t[r]]===1&&this[t[r]]!==void 0&&this[t[r]]!==null)return t[r]}},"getOneOf"),h.oneOfSetter=o(function(n){return function(i){for(var e=0;e<n.length;++e)n[e]!==i&&delete this[n[e]]}},"setOneOf"),h.toJSONOptions={longs:String,enums:String,bytes:String,json:!0},h._configure=function(){var a=h.Buffer;if(!a){h._Buffer_from=h._Buffer_allocUnsafe=null;return}h._Buffer_from=a.from!==Uint8Array.from&&a.from||o(function(i,e){return new a(i,e)},"Buffer_from"),h._Buffer_allocUnsafe=a.allocUnsafe||o(function(i){return new a(i)},"Buffer_allocUnsafe")}}).call(this,d("yLpj"))},jG7n:function(N,c,d){"use strict";var S=this&&this.__awaiter||function(e,t,r,l){function p(v){return v instanceof r?v:new r(function(g){g(v)})}return o(p,"adopt"),new(r||(r=Promise))(function(v,g){function u(M){try{I(l.next(M))}catch(R){g(R)}}o(u,"fulfilled");function s(M){try{I(l.throw(M))}catch(R){g(R)}}o(s,"rejected");function I(M){M.done?v(M.value):p(M.value).then(u,s)}o(I,"step"),I((l=l.apply(e,t||[])).next())})};Object.defineProperty(c,"__esModule",{value:!0}),c.BackgroundFilterMonitor=void 0;const h=d("EkyC"),m=d("Xv43"),f=d("ZXtA");let a=o(class{whenNext(){return this.promise||(this.promise=new Promise(t=>this.resolve=t)),this.promise}next(t){this.value=t,this.resolve(t),delete this.promise}constructor(){this.value=void 0,this.resolve=null}},"DeferredObservable"),n=o(class zh{static createWorkerPromise(){const t={resolve:null,reject:null,promise:null};return t.promise=new Promise((r,l)=>{t.resolve=r,t.reject=l}),t}validateSpec(t){if(!t)throw new Error("processor has null spec");if(!t.model)throw new Error("processor spec has null model");if(!t.paths)throw new Error("processor spec has null paths")}validateOptions(t){if(!t)throw new Error("processor has null options");if(!t.logger)throw new Error("processor has null options - logger");if(!t.reportingPeriodMillis)throw new Error("processor has null options - reportingPeriodMillis");if(!t.filterCPUUtilization)throw new Error("processor has null options - filterCPUUtilization")}initCPUMonitor(t){this.videoFramesPerFilterUpdate=1,this.frameCounter=new f.default(this.delegate,t.reportingPeriodMillis,t.filterCPUUtilization,this.logger),this.cpuMonitor=new i(5e3,{reduceCPUUtilization:()=>{this.updateVideoFramesPerFilterUpdate(Math.min(this.videoFramesPerFilterUpdate+1,10))},increaseCPUUtilization:()=>{this.updateVideoFramesPerFilterUpdate(Math.max(this.videoFramesPerFilterUpdate-1,1))}}),this.delegate.addObserver(this.cpuMonitor)}stringify(t){return JSON.stringify(t,null,2)}handleInitialize(t){if(this.logger.info(`received initialize message: ${this.stringify(t)}`),!t.payload){this.logger.error("failed to initialize module"),this.initWorkerPromise.reject(new Error("failed to initialize the module"));return}const r=this.spec.model;this.worker.postMessage({msg:"loadModel",payload:{modelUrl:r.path,inputHeight:r.input.height,inputWidth:r.input.width,inputChannels:4,modelRangeMin:r.input.range[0],modelRangeMax:r.input.range[1],blurPixels:0}}),this.initWorkerPromise.resolve({})}handleLoadModel(t){if(this.logger.info(`received load model message: ${this.stringify(t)}`),t.payload!==2){this.logger.error("failed to load model! status: "+t.payload),this.loadModelPromise.reject(new Error("failed to load model! status: "+t.payload));return}this.modelInitialized=!0,this.loadModelPromise.resolve({})}handlePredict(t){this.mask$.next(t.payload.output)}handleWorkerEvent(t){const r=t.data;switch(r.msg){case"initialize":this.handleInitialize(r);break;case"loadModel":this.handleLoadModel(r);break;case"predict":this.handlePredict(r);break;default:this.logger.info(`unexpected event msg: ${this.stringify(r)}`);break}}loadAssets(){return S(this,void 0,void 0,function*(){this.logger.info("start initializing the processor");try{this.worker=yield h.loadWorker(this.spec.paths.worker,"BackgroundFilterWorker",{},null),this.worker.addEventListener("message",t=>this.handleWorkerEvent(t)),this.worker.postMessage({msg:"initialize",payload:{wasmPath:this.spec.paths.wasm,simdPath:this.spec.paths.simd}}),yield this.initWorkerPromise.promise,this.logger.info(`successfully initialized the ${this.filterType} worker`),yield this.loadModelPromise.promise,this.logger.info(`successfully loaded ${this.filterType} worker segmentation model`)}catch(t){throw new Error(`could not initialize the ${this.filterType} video frame processor due to '${t.message}'`)}this.logger.info(`successfully initialized the ${this.filterType} processor`)})}process(t){return S(this,void 0,void 0,function*(){if(this.destroyed)return t;this.frameCounter.frameReceived(t[0].framerate),this.cpuMonitor.frameReceived();const r=t[0].asCanvasElement();if(!r)return t;if(!this.modelInitialized)return t[0]=this.canvasVideoFrameBuffer,t;const l=r.width,p=r.height;if(l===0||p===0)return t;this.sourceWidth===0&&(this.sourceWidth=l,this.sourceHeight=p,this.targetCanvas.width=this.sourceWidth,this.targetCanvas.height=this.sourceHeight,this.logger.info(`${this.filterType} source width: ${this.sourceWidth}`),this.logger.info(`${this.filterType} source height: ${this.sourceHeight}`),this.initOnFirstExecution()),(this.sourceWidth!==l||this.sourceHeight!==p)&&(this.sourceWidth=l,this.sourceHeight=p,this.targetCanvas.width=this.sourceWidth,this.targetCanvas.height=this.sourceHeight);try{this.frameCounter.filterSubmitted();let v=this.mask$.value;const g=this.spec.model.input.width/r.width,u=this.spec.model.input.height/r.height;this.scaledCanvas===void 0&&(this.scaledCanvas=document.createElement("canvas"),this.scaledCanvas.width=this.spec.model.input.width,this.scaledCanvas.height=this.spec.model.input.height);const s=this.scaledCanvas.getContext("2d");s.save(),s.scale(g,u),s.drawImage(r,0,0),s.restore();const I=s.getImageData(0,0,this.scaledCanvas.width,this.scaledCanvas.height);if(this.frameNumber%this.videoFramesPerFilterUpdate===0){const M=this.mask$.whenNext();this.worker.postMessage({msg:"predict",payload:I},[I.data.buffer]),v=yield M}this.destroyed||this.drawImageWithMask(r,v)}catch(v){return this.logger.error(`could not process ${this.filterType} frame buffer due to ${v}`),t}finally{this.frameCounter.filterComplete(),this.frameNumber++}return t[0]=this.canvasVideoFrameBuffer,t})}updateVideoFramesPerFilterUpdate(t){t!==this.videoFramesPerFilterUpdate&&(this.videoFramesPerFilterUpdate=t,this.logger.info(`Adjusting filter rate to compensate for CPU utilization. Filter rate is ${this.videoFramesPerFilterUpdate} video frames per filter.`))}destroy(){var t,r,l,p;return S(this,void 0,void 0,function*(){this.destroyed=!0,this.delegate.removeObserver(this.cpuMonitor),this.canvasVideoFrameBuffer.destroy(),(t=this.worker)===null||t===void 0||t.postMessage({msg:"destroy"}),(r=this.worker)===null||r===void 0||r.postMessage({msg:"stop"}),(l=this.targetCanvas)===null||l===void 0||l.remove(),this.targetCanvas=void 0,(p=this.scaledCanvas)===null||p===void 0||p.remove(),this.scaledCanvas=void 0,this.logger.info(`${this.filterType} frame process destroyed`)})}constructor(t,r,l,p,v){this.targetCanvas=document.createElement("canvas"),this.canvasCtx=this.targetCanvas.getContext("2d"),this.canvasVideoFrameBuffer=new m.default(this.targetCanvas),this.mask$=new a,this.sourceWidth=0,this.sourceHeight=0,this.frameNumber=0,this.videoFramesPerFilterUpdate=1,this.initWorkerPromise=zh.createWorkerPromise(),this.loadModelPromise=zh.createWorkerPromise(),this.modelInitialized=!1,this.destroyed=!1,this.filterType=t,this.validateSpec(r),this.validateOptions(l),this.spec=r,this.logger=l.logger,this.delegate=p,this.initCPUMonitor(l),this.eventController=v}},"BackgroundFilterProcessor");c.default=n;let i=o(class{filterCPUUtilizationHigh(){const t=Date.now();t-this.lastCPUChangeTimestamp>=this.monitoringPeriodMillis&&(this.lastCPUChangeTimestamp=t,this.observer.reduceCPUUtilization())}frameReceived(){const t=Date.now();t-this.lastCPUChangeTimestamp>=this.monitoringPeriodMillis*2&&(this.lastCPUChangeTimestamp=t,this.observer.increaseCPUUtilization())}constructor(t,r){this.monitoringPeriodMillis=t,this.observer=r,this.lastCPUChangeTimestamp=0}},"BackgroundFilterMonitor");c.BackgroundFilterMonitor=i},jHTc:function(N,c,d){"use strict";Object.defineProperty(c,"__esModule",{value:!0});const S=d("59sL"),h=d("4EN+");let m=o(class{create(a,n,i){this.connection=new WebSocket(i?a:S.default.urlWithVersion(a),n),this.connection.binaryType="arraybuffer"}send(a){if(!this.connection)return this.logger.error("WebSocket not yet created or already destroyed."),!1;try{return a instanceof Uint8Array?this.connection.send(a.buffer):this.connection.send(a),!0}catch(n){return this.logger.debug(()=>`send error: ${n.message}, websocket state=${h.default[this.readyState()]}`),!1}}close(a,n){var i;(i=this.connection)===null||i===void 0||i.close(a,n)}destroy(){this.connection=void 0}addEventListener(a,n){if(!this.connection){this.logger.warn("Cannot add event listener with no WebSocket connection.");return}this.connection.addEventListener(a,n)}removeEventListener(a,n){var i;(i=this.connection)===null||i===void 0||i.removeEventListener(a,n)}readyState(){if(!this.connection)return h.default.None;switch(this.connection.readyState){case WebSocket.CONNECTING:return h.default.Connecting;case WebSocket.OPEN:return h.default.Open;case WebSocket.CLOSING:return h.default.Closing;case WebSocket.CLOSED:return h.default.Closed}}constructor(a){this.logger=a}},"DefaultWebSocketAdapter");c.default=m},jP1N:function(N,c,d){"use strict";(function(S){Object.defineProperty(c,"__esModule",{value:!0});const h=d("Sa54"),m=d("yQ3g"),f=d("f2XL"),a=d("R4Nl"),n=d("59sL"),i=d("4EN+"),e=d("DUgj"),t=d("fGw7"),r=d("hEYi");let l=o(class nd{registerObserver(v){this.logger.debug(()=>"registering signaling client observer"),this.observerQueue.add(v)}removeObserver(v){this.logger.debug(()=>"removing signaling client observer"),this.observerQueue.delete(v)}openConnection(v){this.logger.info("adding connection request to queue: "+v.url()),this.connectionRequestQueue.push(v),this.closeConnection()}pingPong(v){this.logger.debug(()=>"sending ping");const g=f.SdkSignalFrame.create();return g.type=f.SdkSignalFrame.Type.PING_PONG,g.pingPong=v,this.sendMessage(g),g.timestampMs}join(v){this.logger.info("sending join");const g=f.SdkJoinFrame.create();g.protocolVersion=2,g.flags=f.SdkJoinFlags.HAS_STREAM_UPDATE;const u=new h.default,s={platformName:u.name(),platformVersion:u.version(),clientSource:n.default.sdkName,chimeSdkVersion:n.default.sdkVersion,clientUtcOffset:a.getFormattedOffset(new Date().getTimezoneOffset())};if(v.applicationMetadata){const{appName:M,appVersion:R}=v.applicationMetadata;s.appName=M,s.appVersion=R}g.clientDetails=f.SdkClientDetails.create(s),g.audioSessionId=this.audioSessionId,g.wantsCompressedSdp=nd.CLIENT_SUPPORTS_COMPRESSION,g.disablePeriodicKeyframeRequestOnContentSender=v.disablePeriodicKeyframeRequestOnContentSender,g.serverSideNetworkAdaption=e.convertServerSideNetworkAdaptionEnumToSignaled(v.serverSideNetworkAdaption),g.supportedServerSideNetworkAdaptions=v.supportedServerSideNetworkAdaptions.map(e.convertServerSideNetworkAdaptionEnumToSignaled);const I=f.SdkSignalFrame.create();I.type=f.SdkSignalFrame.Type.JOIN,I.join=g,this.sendMessage(I)}subscribe(v){const g=f.SdkSubscribeFrame.create();if(g.sendStreams=[],g.sdpOffer=v.sdpOffer,v.connectionTypeHasVideo&&(g.receiveStreamIds=v.receiveStreamIds),v.audioHost&&(g.audioCheckin=v.audioCheckin,g.audioHost=v.audioHost,g.audioMuted=v.audioMuted,!v.audioCheckin)){const s=f.SdkStreamDescriptor.create();s.mediaType=f.SdkStreamMediaType.AUDIO,s.trackLabel="AmazonChimeExpressAudio",s.attendeeId=v.attendeeId,s.streamId=1,s.groupId=1,s.framerate=15,s.maxBitrateKbps=600,s.avgBitrateBps=4e5,g.sendStreams.push(s)}if(g.compressedSdpOffer=v.compressedSdpOffer,g.duplex=f.SdkStreamServiceType.RX,v.localVideoEnabled){g.duplex=f.SdkStreamServiceType.DUPLEX;for(let s=0;s<v.videoStreamDescriptions.length;s++){const I=v.videoStreamDescriptions[s].clone();I.attendeeId=v.attendeeId,g.sendStreams.push(I.toStreamDescriptor())}}v.videoSubscriptionConfiguration.length>0&&(g.videoSubscriptionConfiguration=v.videoSubscriptionConfiguration.map(this.convertVideoSubscriptionConfiguration));const u=f.SdkSignalFrame.create();u.type=f.SdkSignalFrame.Type.SUBSCRIBE,u.sub=g,this.sendMessage(u)}remoteVideoUpdate(v,g){const u=f.SdkRemoteVideoUpdateFrame.create();u.addedOrUpdatedVideoSubscriptions=v.map(this.convertVideoSubscriptionConfiguration),u.removedVideoSubscriptionMids=g;const s=f.SdkSignalFrame.create();s.type=f.SdkSignalFrame.Type.REMOTE_VIDEO_UPDATE,s.remoteVideoUpdate=u,this.sendMessage(s)}convertVideoSubscriptionConfiguration(v){const g=new f.SdkVideoSubscriptionConfiguration;return g.mid=v.mid,g.attendeeId=v.attendeeId,g.streamId=v.streamId,g.groupId=v.groupId,g.priority=v.priority,g.targetBitrateKbps=v.targetBitrateKbps,g}leave(){const v=f.SdkSignalFrame.create();v.type=f.SdkSignalFrame.Type.LEAVE,v.leave=f.SdkLeaveFrame.create(),this.sendMessage(v),this.logger.debug(()=>"sent leave")}sendClientMetrics(v){const g=f.SdkSignalFrame.create();g.type=f.SdkSignalFrame.Type.CLIENT_METRIC,g.clientMetric=v,this.sendMessage(g)}sendDataMessage(v){const g=f.SdkSignalFrame.create();g.type=f.SdkSignalFrame.Type.DATA_MESSAGE,g.dataMessage=v,this.sendMessage(g)}closeConnection(){var v,g;if(this.webSocket.readyState()!==i.default.None&&this.webSocket.readyState()!==i.default.Closed){this.isClosing=!0,this.sendEvent(new t.default(this,r.default.WebSocketClosing,null));const u=new m.default(nd.CLOSE_EVENT_TIMEOUT_MS),s=o(I=>{var M,R;(R=(M=this.webSocket).removeEventListener)===null||R===void 0||R.call(M,"close",s),u.stop(),this.closeEventHandler(I)},"handler");(g=(v=this.webSocket).removeEventListener)===null||g===void 0||g.call(v,"close",this.closeEventHandler),this.webSocket.addEventListener("close",s),u.start(()=>{s(new CloseEvent("close",{wasClean:!1,code:1006,reason:"",bubbles:!1}))}),this.webSocket.close(),this.deactivatePageUnloadHandler()}else this.logger.info("no existing signaling client connection needs closing"),this.serviceConnectionRequestQueue()}ready(){return this.webSocket.readyState()===i.default.Open&&!this.isClosing&&this.wasOpened}mute(v){const g=f.SdkSignalFrame.create();g.type=f.SdkSignalFrame.Type.AUDIO_CONTROL;const u=f.SdkAudioControlFrame.create();u.muted=v,g.audioControl=u,this.sendMessage(g)}pause(v){const g=f.SdkSignalFrame.create();g.type=f.SdkSignalFrame.Type.PAUSE,g.pause=f.SdkPauseResumeFrame.create(),g.pause.streamIds=v,this.sendMessage(g)}resume(v){const g=f.SdkSignalFrame.create();g.type=f.SdkSignalFrame.Type.RESUME,g.pause=f.SdkPauseResumeFrame.create(),g.pause.streamIds=v,this.sendMessage(g)}resetConnection(){this.webSocket.destroy(),this.wasOpened=!1}sendMessage(v){v.timestampMs=Date.now(),this.logger.debug(()=>`sending: ${JSON.stringify(v)}`);const g=this.prependWithFrameTypeRTC(f.SdkSignalFrame.encode(v).finish());if(this.ready()){if(!this.webSocket.send(g)){this.sendEvent(new t.default(this,r.default.WebSocketSendMessageFailure,null));return}this.sendEvent(new t.default(this,r.default.WebSocketSentMessage,null))}else this.sendEvent(new t.default(this,r.default.WebSocketSkippedMessage,null))}receiveMessage(v){let g;try{g=f.SdkSignalFrame.decode(v)}catch{this.logger.info(`failed to decode: ${v}`),this.sendEvent(new t.default(this,r.default.ProtocolDecodeFailure,null));return}this.logger.debug(()=>`received: ${JSON.stringify(g)}`),this.webSocket.readyState()===i.default.Open?this.sendEvent(new t.default(this,r.default.ReceivedSignalFrame,g)):this.logger.info(`skipping notification of message since WebSocket is not open: ${JSON.stringify(g)}`)}stripFrameTypeRTC(v){const g=v[0];return g!==nd.FRAME_TYPE_RTC&&g!==2&&this.logger.warn(`expected FrameTypeRTC for message but got ${g}`),v.slice(1)}prependWithFrameTypeRTC(v){const g=new Uint8Array(v.length+1);return g[0]=nd.FRAME_TYPE_RTC,g.set(v,1),g}serviceConnectionRequestQueue(){if(this.connectionRequestQueue.length===0){this.logger.info("no connection requests to service");return}const v=this.connectionRequestQueue.shift();this.logger.info(`opening connection to ${v.url()}`),this.isClosing=!1,this.webSocket.create(v.url(),v.protocols()),this.setUpEventListeners(),this.sendEvent(new t.default(this,r.default.WebSocketConnecting,null))}sendEvent(v){switch(v.type){case r.default.WebSocketMessage:case r.default.ReceivedSignalFrame:case r.default.WebSocketSentMessage:this.logger.debug(()=>`notifying event: ${r.default[v.type]}`);break;case r.default.WebSocketSkippedMessage:this.logger.debug(()=>`notifying event: ${r.default[v.type]}, websocket state=${i.default[this.webSocket.readyState()]}`);break;default:this.logger.info(`notifying event: ${r.default[v.type]}`);break}for(const g of this.observerQueue)g.handleSignalingClientEvent(v)}setUpEventListeners(){this.webSocket.addEventListener("open",()=>{this.activatePageUnloadHandler(),this.wasOpened=!0,this.sendEvent(new t.default(this,r.default.WebSocketOpen,null))}),this.webSocket.addEventListener("message",v=>{this.sendEvent(new t.default(this,r.default.WebSocketMessage,null)),this.receiveMessage(this.stripFrameTypeRTC(new Uint8Array(v.data)))}),this.webSocket.addEventListener("close",this.closeEventHandler),this.webSocket.addEventListener("error",()=>{if(this.isClosing&&!this.wasOpened){this.logger.info("ignoring error closing signaling while connecting");return}this.wasOpened?(this.logger.error("received error while connected"),this.sendEvent(new t.default(this,r.default.WebSocketError,null))):(this.logger.error("failed to connect"),this.sendEvent(new t.default(this,r.default.WebSocketFailed,null)))})}activatePageUnloadHandler(){this.unloadHandler=()=>{this.leave()};const v=S;v.window&&v.window.addEventListener&&window.addEventListener("unload",this.unloadHandler)}deactivatePageUnloadHandler(){const v=S;v.window&&v.window.removeEventListener&&window.removeEventListener("unload",this.unloadHandler),this.unloadHandler=null}generateNewAudioSessionId(){const v=new Uint32Array(1);return window.crypto.getRandomValues(v)[0]}promoteToPrimaryMeeting(v){const g=f.SdkMeetingSessionCredentials.create();g.attendeeId=v.attendeeId,g.externalUserId=v.externalUserId,g.joinToken=v.joinToken;const u=f.SdkPrimaryMeetingJoinFrame.create();u.credentials=g;const s=f.SdkSignalFrame.create();s.type=f.SdkSignalFrame.Type.PRIMARY_MEETING_JOIN,s.primaryMeetingJoin=u,this.sendMessage(s)}demoteFromPrimaryMeeting(){const v=f.SdkPrimaryMeetingLeaveFrame.create(),g=f.SdkSignalFrame.create();g.type=f.SdkSignalFrame.Type.PRIMARY_MEETING_LEAVE,g.primaryMeetingLeave=v,this.sendMessage(g)}constructor(v,g){this.webSocket=v,this.logger=g,this.unloadHandler=null,this.closeEventHandler=u=>{this.deactivatePageUnloadHandler(),this.resetConnection(),this.sendEvent(new t.default(this,r.default.WebSocketClosed,null,u.code,u.reason)),this.serviceConnectionRequestQueue()},this.observerQueue=new Set,this.connectionRequestQueue=[],this.resetConnection(),this.logger.debug(()=>"signaling client init"),this.audioSessionId=this.generateNewAudioSessionId()}},"DefaultSignalingClient");c.default=l,l.FRAME_TYPE_RTC=5,l.CLOSE_EVENT_TIMEOUT_MS=2e3,l.CLIENT_SUPPORTS_COMPRESSION=!0}).call(this,d("yLpj"))},je3o:function(N,c,d){"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.Sha256=void 0;var S=d("7JaV"),h=d("vdHl"),m=d("cZ61"),f=d("pU0T"),a=function(){function i(e){this.secret=e,this.hash=new m.RawSha256,this.reset()}return o(i,"Sha256"),i.prototype.update=function(e){if(!((0,f.isEmptyData)(e)||this.error))try{this.hash.update((0,f.convertToBuffer)(e))}catch(t){this.error=t}},i.prototype.digestSync=function(){if(this.error)throw this.error;return this.outer?(this.outer.finished||this.outer.update(this.hash.digest()),this.outer.digest()):this.hash.digest()},i.prototype.digest=function(){return S.__awaiter(this,void 0,void 0,function(){return S.__generator(this,function(e){return[2,this.digestSync()]})})},i.prototype.reset=function(){if(this.hash=new m.RawSha256,this.secret){this.outer=new m.RawSha256;var e=n(this.secret),t=new Uint8Array(h.BLOCK_SIZE);t.set(e);for(var r=0;r<h.BLOCK_SIZE;r++)e[r]^=54,t[r]^=92;this.hash.update(e),this.outer.update(t);for(var r=0;r<e.byteLength;r++)e[r]=0}},i}();c.Sha256=a;function n(i){var e=(0,f.convertToBuffer)(i);if(e.byteLength>h.BLOCK_SIZE){var t=new m.RawSha256;t.update(e),e=t.digest()}var r=new Uint8Array(h.BLOCK_SIZE);return r.set(e),r}o(n,"bufferFromSecret")},jhQD:function(N,c,d){"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.TranscriptEventConverter=void 0;const S=d("f2XL"),h=d("7nob"),m=d("VoiG"),f=d("h4LR"),a=d("VWEK"),n={[S.SdkTranscriptionStatus.Type.STARTED]:f.default.STARTED,[S.SdkTranscriptionStatus.Type.INTERRUPTED]:f.default.INTERRUPTED,[S.SdkTranscriptionStatus.Type.RESUMED]:f.default.RESUMED,[S.SdkTranscriptionStatus.Type.STOPPED]:f.default.STOPPED,[S.SdkTranscriptionStatus.Type.FAILED]:f.default.FAILED};let i=o(class{static from(t){let r;try{r=S.SdkTranscriptFrame.decode(t.data)}catch(p){throw new Error("Cannot decode transcript data message: "+p)}const l=[];for(const p of r.events)if(p.status){const v=n[p.status.type];if(!v)continue;const g=new m.default;g.type=v,g.eventTimeMs=p.status.eventTime,g.transcriptionRegion=p.status.transcriptionRegion,g.transcriptionConfiguration=p.status.transcriptionConfiguration,p.status.message&&(g.message=p.status.message),l.push(g)}else if(p.transcript){const v=new h.default;v.results=[];for(const g of p.transcript.results){const u={channelId:g.channelId,isPartial:g.isPartial,resultId:g.resultId,startTimeMs:g.startTime,endTimeMs:g.endTime,alternatives:[]};if(g.languageCode&&(u.languageCode=g.languageCode),g.languageIdentification&&g.languageIdentification.length>0){u.languageIdentification=[];for(const s of g.languageIdentification){const I={languageCode:s.languageCode,score:s.score};u.languageIdentification.push(I)}}for(const s of g.alternatives){const I={items:[],transcript:s.transcript};for(const M of s.items){const R={content:M.content,attendee:{attendeeId:M.speakerAttendeeId,externalUserId:M.speakerExternalUserId},startTimeMs:M.startTime,endTimeMs:M.endTime,type:null};switch(M.vocabularyFilterMatch&&(R.vocabularyFilterMatch=M.vocabularyFilterMatch),M.hasOwnProperty("stable")&&(R.stable=M.stable),M.hasOwnProperty("confidence")&&(R.confidence=M.confidence),M.type){case S.SdkTranscriptItem.Type.PRONUNCIATION:R.type=a.default.PRONUNCIATION;break;case S.SdkTranscriptItem.Type.PUNCTUATION:R.type=a.default.PUNCTUATION;break}I.items.push(R)}for(const M of s.entities){I.entities||(I.entities=[]);const R={category:M.category,confidence:M.confidence,content:M.content,startTimeMs:M.startTime,endTimeMs:M.endTime};M.type&&(R.type=M.type),I.entities.push(R)}u.alternatives.push(I)}v.results.push(u)}l.push(v)}return l}},"TranscriptEventConverter");c.TranscriptEventConverter=i},jlxs:function(N,c,d){var S=d("7whZ"),h=S.navigator;N.exports=h&&h.userAgent||""},jmx1:function(N,c,d){"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.CheckAudioInputFeedback=void 0;var S;(function(h){h[h.Succeeded=0]="Succeeded",h[h.Failed=1]="Failed",h[h.PermissionDenied=2]="PermissionDenied"})(S=c.CheckAudioInputFeedback||(c.CheckAudioInputFeedback={})),c.default=S},jo6Y:function(N,c,d){"use strict";c.__esModule=!0,c.default=function(S,h){var m={};for(var f in S)h.indexOf(f)>=0||Object.prototype.hasOwnProperty.call(S,f)&&(m[f]=S[f]);return m}},jssz:function(N,c,d){var S=d("7whZ"),h=d("vOBO").set,m=S.MutationObserver||S.WebKitMutationObserver,f=S.process,a=S.Promise,n=d("TYje")(f)=="process";N.exports=function(){var i,e,t,r=o(function(){var g,u;for(n&&(g=f.domain)&&g.exit();i;){u=i.fn,i=i.next;try{u()}catch(s){throw i?t():e=void 0,s}}e=void 0,g&&g.enter()},"flush");if(n)t=o(function(){f.nextTick(r)},"notify");else if(m&&!(S.navigator&&S.navigator.standalone)){var l=!0,p=document.createTextNode("");new m(r).observe(p,{characterData:!0}),t=o(function(){p.data=l=!l},"notify")}else if(a&&a.resolve){var v=a.resolve(void 0);t=o(function(){v.then(r)},"notify")}else t=o(function(){h.call(S,r)},"notify");return function(g){var u={fn:g,next:void 0};e&&(e.next=u),i||(i=u,t()),e=u}}},jtkq:function(N,c,d){var S;(function(h,m,f){if(!h)return;for(var a={8:"backspace",9:"tab",13:"enter",16:"shift",17:"ctrl",18:"alt",20:"capslock",27:"esc",32:"space",33:"pageup",34:"pagedown",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down",45:"ins",46:"del",91:"meta",93:"meta",224:"meta"},n={106:"*",107:"+",109:"-",110:".",111:"/",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},i={"~":"`","!":"1","@":"2","#":"3",$:"4","%":"5","^":"6","&":"7","*":"8","(":"9",")":"0",_:"-","+":"=",":":";",'"':"'","<":",",">":".","?":"/","|":"\\"},e={option:"alt",command:"meta",return:"enter",escape:"esc",plus:"+",mod:/Mac|iPod|iPhone|iPad/.test(navigator.platform)?"meta":"ctrl"},t,r=1;r<20;++r)a[111+r]="f"+r;for(r=0;r<=9;++r)a[r+96]=r.toString();function l(O,P,k){if(O.addEventListener){O.addEventListener(P,k,!1);return}O.attachEvent("on"+P,k)}o(l,"_addEvent");function p(O,P,k){O.removeEventListener&&O.removeEventListener(P,k,!1)}o(p,"_removeEvent");function v(O){if(O.type=="keypress"){var P=String.fromCharCode(O.which);return O.shiftKey||(P=P.toLowerCase()),P}return a[O.which]?a[O.which]:n[O.which]?n[O.which]:String.fromCharCode(O.which).toLowerCase()}o(v,"_characterFromEvent");function g(O,P){return O.sort().join(",")===P.sort().join(",")}o(g,"_modifiersMatch");function u(O){var P=[];return O.shiftKey&&P.push("shift"),O.altKey&&P.push("alt"),O.ctrlKey&&P.push("ctrl"),O.metaKey&&P.push("meta"),P}o(u,"_eventModifiers");function s(O){if(O.preventDefault){O.preventDefault();return}O.returnValue=!1}o(s,"_preventDefault");function I(O){if(O.stopPropagation){O.stopPropagation();return}O.cancelBubble=!0}o(I,"_stopPropagation");function M(O){return O=="shift"||O=="ctrl"||O=="alt"||O=="meta"}o(M,"_isModifier");function R(){if(!t){t={};for(var O in a)O>95&&O<112||a.hasOwnProperty(O)&&(t[a[O]]=O)}return t}o(R,"_getReverseMap");function B(O,P,k){return k||(k=R()[O]?"keydown":"keypress"),k=="keypress"&&P.length&&(k="keydown"),k}o(B,"_pickBestAction");function j(O){return O==="+"?["+"]:(O=O.replace(/\+{2}/g,"+plus"),O.split("+"))}o(j,"_keysFromString");function A(O,P){var k,K,Z,Y=[];for(k=j(O),Z=0;Z<k.length;++Z)K=k[Z],e[K]&&(K=e[K]),P&&P!="keypress"&&i[K]&&(K=i[K],Y.push("shift")),M(K)&&Y.push(K);return P=B(K,Y,P),{key:K,modifiers:Y,action:P}}o(A,"_getKeyInfo");function D(O,P){return O===null||O===m?!1:O===P?!0:D(O.parentNode,P)}o(D,"_belongsTo");function $(O){var P=this;if(O=O||m,!(P instanceof $))return new $(O);P.target=O,P._callbacks={},P._directMap={};var k={},K,Z=!1,Y=!1,ie=!1;function ge(_e){_e=_e||{};var Ze=!1,tt;for(tt in k){if(_e[tt]){Ze=!0;continue}k[tt]=0}Ze||(ie=!1)}o(ge,"_resetSequences");function Ie(_e,Ze,tt,$e,at,lt){var ot,Gt,Zt=[],un=tt.type;if(!P._callbacks[_e])return[];for(un=="keyup"&&M(_e)&&(Ze=[_e]),ot=0;ot<P._callbacks[_e].length;++ot)if(Gt=P._callbacks[_e][ot],!(!$e&&Gt.seq&&k[Gt.seq]!=Gt.level)&&un==Gt.action&&(un=="keypress"&&!tt.metaKey&&!tt.ctrlKey||g(Ze,Gt.modifiers))){var Un=!$e&&Gt.combo==at,jn=$e&&Gt.seq==$e&&Gt.level==lt;(Un||jn)&&P._callbacks[_e].splice(ot,1),Zt.push(Gt)}return Zt}o(Ie,"_getMatches");function le(_e,Ze,tt,$e){P.stopCallback(Ze,Ze.target||Ze.srcElement,tt,$e)||_e(Ze,tt)===!1&&(s(Ze),I(Ze))}o(le,"_fireCallback"),P._handleKey=function(_e,Ze,tt){var $e=Ie(_e,Ze,tt),at,lt={},ot=0,Gt=!1;for(at=0;at<$e.length;++at)$e[at].seq&&(ot=Math.max(ot,$e[at].level));for(at=0;at<$e.length;++at){if($e[at].seq){if($e[at].level!=ot)continue;Gt=!0,lt[$e[at].seq]=1,le($e[at].callback,tt,$e[at].combo,$e[at].seq);continue}Gt||le($e[at].callback,tt,$e[at].combo)}var Zt=tt.type=="keypress"&&Y;tt.type==ie&&!M(_e)&&!Zt&&ge(lt),Y=Gt&&tt.type=="keydown"};function we(_e){typeof _e.which!="number"&&(_e.which=_e.keyCode);var Ze=v(_e);if(Ze){if(_e.type=="keyup"&&Z===Ze){Z=!1;return}P.handleKey(Ze,u(_e),_e)}}o(we,"_handleKeyEvent");function Be(){clearTimeout(K),K=setTimeout(ge,1e3)}o(Be,"_resetSequenceTimer");function Re(_e,Ze,tt,$e){k[_e]=0;function at(un){return function(){ie=un,++k[_e],Be()}}o(at,"_increaseSequence");function lt(un){le(tt,un,_e),$e!=="keyup"&&(Z=v(un)),setTimeout(ge,10)}o(lt,"_callbackAndReset");for(var ot=0;ot<Ze.length;++ot){var Gt=ot+1===Ze.length,Zt=Gt?lt:at($e||A(Ze[ot+1]).action);Ne(Ze[ot],Zt,$e,_e,ot)}}o(Re,"_bindSequence");function Ne(_e,Ze,tt,$e,at){P._directMap[_e+":"+tt]=Ze,_e=_e.replace(/\s+/g," ");var lt=_e.split(" "),ot;if(lt.length>1){Re(_e,lt,Ze,tt);return}ot=A(_e,tt),P._callbacks[ot.key]=P._callbacks[ot.key]||[],Ie(ot.key,ot.modifiers,{type:ot.action},$e,_e,at),P._callbacks[ot.key][$e?"unshift":"push"]({callback:Ze,modifiers:ot.modifiers,action:ot.action,seq:$e,level:at,combo:_e})}o(Ne,"_bindSingle"),P._bindMultiple=function(_e,Ze,tt){for(var $e=0;$e<_e.length;++$e)Ne(_e[$e],Ze,tt)},P.destroy=function(){p(O,"keypress",we),p(O,"keydown",we),p(O,"keyup",we),P.reset()},l(O,"keypress",we),l(O,"keydown",we),l(O,"keyup",we)}o($,"Mousetrap"),$.prototype.bind=function(O,P,k){var K=this;return O=O instanceof Array?O:[O],K._bindMultiple.call(K,O,P,k),K},$.prototype.unbind=function(O,P){var k=this;return k.bind.call(k,O,function(){},P)},$.prototype.trigger=function(O,P){var k=this;return k._directMap[O+":"+P]&&k._directMap[O+":"+P]({},O),k},$.prototype.reset=function(){var O=this;return O._callbacks={},O._directMap={},O},$.prototype.stopCallback=function(O,P){var k=this;return(" "+P.className+" ").indexOf(" mousetrap ")>-1||D(P,k.target)?!1:P.tagName=="INPUT"||P.tagName=="SELECT"||P.tagName=="TEXTAREA"||P.isContentEditable},$.prototype.handleKey=function(){var O=this;return O._handleKey.apply(O,arguments)},$.addKeycodes=function(O){for(var P in O)O.hasOwnProperty(P)&&(a[P]=O[P]);t=null},$.init=function(){var O=$(m);for(var P in O)P.charAt(0)!=="_"&&($[P]=function(k){return function(){return O[k].apply(O,arguments)}}(P))},$.init(),h.Mousetrap=$,N.exports&&(N.exports=$),S=function(){return $}.call(c,d,c,N),S!==f&&(N.exports=S)})(typeof window<"u"?window:null,typeof window<"u"?document:null)},"k/8l":function(N,c,d){N.exports={default:d("e56k"),__esModule:!0}},k8sa:function(N,c,d){"use strict";N.exports={}},kItj:function(N,c,d){"use strict";Object.defineProperty(c,"__esModule",{value:!0});const S=d("ghxq");let h=o(class Hs extends S.default{health(){if(this.currentData.isConnectionStartRecent(Hs.CONNECTION_WAIT_TIME_MS))return 1;const a=this.currentData.consecutiveStatsWithNoPackets>=Hs.CONNECTION_UNHEALTHY_THRESHOLD,n=this.currentData.consecutiveMissedPongs>=Hs.MISSED_PONGS_THRESHOLD;this.currentData.audioSpeakerDelayMs>Hs.MAXIMUM_AUDIO_DELAY_MS?this.audioDelayPointsOverMaximum+=1:this.audioDelayPointsOverMaximum=0;const i=this.audioDelayPointsOverMaximum>Hs.MAXIMUM_AUDIO_DELAY_DATA_POINTS;return i&&(this.audioDelayPointsOverMaximum=0),a||n||i?(this.logger.warn(`reconnection recommended due to: no packets received: ${a}, missed pongs: ${n}, bad audio delay: ${i}`),0):1}constructor(f,a,n){super(a,n,"Reconnection Health"),this.logger=f,this.audioDelayPointsOverMaximum=0,Hs.CONNECTION_UNHEALTHY_THRESHOLD=a.connectionUnhealthyThreshold,Hs.CONNECTION_WAIT_TIME_MS=a.connectionWaitTimeMs,Hs.MISSED_PONGS_THRESHOLD=a.missedPongsUpperThreshold,Hs.MAXIMUM_AUDIO_DELAY_MS=a.maximumAudioDelayMs,Hs.MAXIMUM_AUDIO_DELAY_DATA_POINTS=a.maximumAudioDelayDataPoints}},"ReconnectionHealthPolicy");c.default=h},kQNw:function(N,c,d){"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.isEmptyData=void 0;function S(h){return typeof h=="string"?h.length===0:h.byteLength===0}o(S,"isEmptyData"),c.isEmptyData=S},"kU+7":function(N,c,d){"use strict";(function(S){var h=c;h.asPromise=d("MFts"),h.base64=d("bnU+"),h.EventEmitter=d("aJe0"),h.float=d("KwGI"),h.inquire=d("/TZM"),h.utf8=d("yNTq"),h.pool=d("BEY9"),h.LongBits=d("xGEd"),h.isNode=Boolean(typeof S<"u"&&S&&S.process&&S.process.versions&&S.process.versions.node),h.global=h.isNode&&S||typeof window<"u"&&window||typeof self<"u"&&self||this,h.emptyArray=Object.freeze?Object.freeze([]):[],h.emptyObject=Object.freeze?Object.freeze({}):{},h.isInteger=Number.isInteger||o(function(n){return typeof n=="number"&&isFinite(n)&&Math.floor(n)===n},"isInteger"),h.isString=o(function(n){return typeof n=="string"||n instanceof String},"isString"),h.isObject=o(function(n){return n&&typeof n=="object"},"isObject"),h.isset=h.isSet=o(function(n,i){var e=n[i];return e!=null&&n.hasOwnProperty(i)?typeof e!="object"||(Array.isArray(e)?e.length:Object.keys(e).length)>0:!1},"isSet"),h.Buffer=function(){try{var a=h.inquire("buffer").Buffer;return a.prototype.utf8Write?a:null}catch{return null}}(),h._Buffer_from=null,h._Buffer_allocUnsafe=null,h.newBuffer=o(function(n){return typeof n=="number"?h.Buffer?h._Buffer_allocUnsafe(n):new h.Array(n):h.Buffer?h._Buffer_from(n):typeof Uint8Array>"u"?n:new Uint8Array(n)},"newBuffer"),h.Array=typeof Uint8Array<"u"?Uint8Array:Array,h.Long=h.global.dcodeIO&&h.global.dcodeIO.Long||h.global.Long||h.inquire("long"),h.key2Re=/^true|false|0|1$/,h.key32Re=/^-?(?:0|[1-9][0-9]*)$/,h.key64Re=/^(?:[\\x00-\\xff]{8}|-?(?:0|[1-9][0-9]*))$/,h.longToHash=o(function(n){return n?h.LongBits.from(n).toHash():h.LongBits.zeroHash},"longToHash"),h.longFromHash=o(function(n,i){var e=h.LongBits.fromHash(n);return h.Long?h.Long.fromBits(e.lo,e.hi,i):e.toNumber(Boolean(i))},"longFromHash");function m(a,n,i){for(var e=Object.keys(n),t=0;t<e.length;++t)(a[e[t]]===void 0||!i)&&(a[e[t]]=n[e[t]]);return a}o(m,"merge"),h.merge=m,h.lcFirst=o(function(n){return n.charAt(0).toLowerCase()+n.substring(1)},"lcFirst");function f(a){function n(i,e){if(!(this instanceof n))return new n(i,e);Object.defineProperty(this,"message",{get:function(){return i}}),Error.captureStackTrace?Error.captureStackTrace(this,n):Object.defineProperty(this,"stack",{value:new Error().stack||""}),e&&m(this,e)}return o(n,"CustomError"),(n.prototype=Object.create(Error.prototype)).constructor=n,Object.defineProperty(n.prototype,"name",{get:function(){return a}}),n.prototype.toString=o(function(){return this.name+": "+this.message},"toString"),n}o(f,"newError"),h.newError=f,h.ProtocolError=f("ProtocolError"),h.oneOfGetter=o(function(n){for(var i={},e=0;e<n.length;++e)i[n[e]]=1;return function(){for(var t=Object.keys(this),r=t.length-1;r>-1;--r)if(i[t[r]]===1&&this[t[r]]!==void 0&&this[t[r]]!==null)return t[r]}},"getOneOf"),h.oneOfSetter=o(function(n){return function(i){for(var e=0;e<n.length;++e)n[e]!==i&&delete this[n[e]]}},"setOneOf"),h.toJSONOptions={longs:String,enums:String,bytes:String,json:!0},h._configure=function(){var a=h.Buffer;if(!a){h._Buffer_from=h._Buffer_allocUnsafe=null;return}h._Buffer_from=a.from!==Uint8Array.from&&a.from||o(function(i,e){return new a(i,e)},"Buffer_from"),h._Buffer_allocUnsafe=a.allocUnsafe||o(function(i){return new a(i)},"Buffer_allocUnsafe")}}).call(this,d("yLpj"))},kUGv:function(N,c,d){var S=d("7whZ").document;N.exports=S&&S.documentElement},kUL9:function(N,c,d){"use strict";var S=this&&this.__awaiter||function(a,n,i,e){function t(r){return r instanceof i?r:new i(function(l){l(r)})}return o(t,"adopt"),new(i||(i=Promise))(function(r,l){function p(u){try{g(e.next(u))}catch(s){l(s)}}o(p,"fulfilled");function v(u){try{g(e.throw(u))}catch(s){l(s)}}o(v,"rejected");function g(u){u.done?r(u.value):t(u.value).then(p,v)}o(g,"step"),g((e=e.apply(a,n||[])).next())})};Object.defineProperty(c,"__esModule",{value:!0});const h=d("U9CR"),m=d("F7zz");let f=o(class{bindAudioElement(n){return S(this,void 0,void 0,function*(){if(!n)throw new Error(`Cannot bind audio element: ${n}`);return this.audioElement=n,this.audioElement.autoplay=!0,this.bindAudioMix()})}unbindAudioElement(){this.audioElement&&(this.audioElement.srcObject=null,this.audioElement=null,this.forEachObserver(n=>{this.audioStream&&n.meetingAudioStreamBecameInactive(this.audioStream)}))}bindAudioStream(n){return S(this,void 0,void 0,function*(){if(n){this.audioStream=n;try{yield this.bindAudioMix()}catch(i){this.logger&&this.logger.warn(`Failed to bind audio stream: ${i}`)}}})}bindAudioDevice(n){return S(this,void 0,void 0,function*(){if(n&&!this.browserBehavior.supportsSetSinkId())throw new Error("Cannot select audio output device. This browser does not support setSinkId.");return this.audioDevice=n,this.bindAudioMix()})}forEachObserver(n){for(const i of this.observers)m.default.nextTick(()=>{n(i)})}bindAudioMix(){var n,i;return S(this,void 0,void 0,function*(){if(!this.audioElement)return;const e=this.audioElement.srcObject;this.audioStream&&(this.audioElement.srcObject=this.audioStream),e!==this.audioStream&&this.forEachObserver(g=>{e&&g.meetingAudioStreamBecameInactive(e),this.audioStream&&g.meetingAudioStreamBecameActive(this.audioStream)});const t=((n=this.audioDevice)===null||n===void 0?void 0:n.deviceId)!==this.audioElement.sinkId;if(t&&typeof this.audioElement.sinkId>"u")throw new Error("Cannot select audio output device. This browser does not support setSinkId.");const r=this.audioDevice?this.audioDevice.deviceId:"",l=this.audioElement.sinkId;if(r===l)return;const p=this.audioElement,v=this.audioStream;if(this.browserBehavior.hasChromiumWebRTC()&&(p.srcObject=null),t)try{yield p.setSinkId(r)}catch(g){throw(i=this.logger)===null||i===void 0||i.error(`Failed to set sinkId for audio element: ${g}`),g}this.browserBehavior.hasChromiumWebRTC()&&(p.srcObject=v)})}getCurrentMeetingAudioStream(){return S(this,void 0,void 0,function*(){return this.audioStream})}addAudioMixObserver(n){return S(this,void 0,void 0,function*(){this.observers.add(n)})}removeAudioMixObserver(n){return S(this,void 0,void 0,function*(){this.observers.delete(n)})}audioOutputDidChange(n){return S(this,void 0,void 0,function*(){return this.logger.info("Receive an audio output change event"),this.bindAudioDevice(n)})}constructor(n){this.logger=n,this.audioDevice=null,this.audioElement=null,this.audioStream=null,this.browserBehavior=new h.default,this.observers=new Set}},"DefaultAudioMixController");c.default=f},kabN:function(N,c,d){"use strict";Object.defineProperty(c,"__esModule",{value:!0});let S=o(class Hd{onReconnect(){this.sessionReconnected=!0}sendRealtimeUpdatesForAudioStreamIdInfo(m){let f=0;for(const a of m.streams){const n=!!a.attendeeId,i=!!a.externalUserId,e=a.hasOwnProperty("muted"),t=!!a.dropped;if(n){this.attendeeIdToStreamId[a.attendeeId]&&this.attendeeIdToStreamId[a.attendeeId]<a.audioStreamId&&delete this.attendeeIdToStreamId[a.attendeeId],this.streamIdToAttendeeId[a.audioStreamId]=a.attendeeId;const r=i?a.externalUserId:a.attendeeId;this.streamIdToExternalUserId[a.audioStreamId]=r,this.attendeeIdToStreamId[a.attendeeId]=a.audioStreamId,this.realtimeController.realtimeSetAttendeeIdPresence(a.attendeeId,!0,r,!1,{attendeeIndex:f++,attendeesInFrame:m.streams.length})}if(e){const r=this.streamIdToAttendeeId[a.audioStreamId],l=this.streamIdToExternalUserId[a.audioStreamId];this.realtimeController.realtimeUpdateVolumeIndicator(r,null,a.muted,null,l)}if(!n&&!e){const r=this.streamIdToAttendeeId[a.audioStreamId];if(r){const l=this.streamIdToExternalUserId[a.audioStreamId];delete this.streamIdToAttendeeId[a.audioStreamId],delete this.streamIdToExternalUserId[a.audioStreamId],delete this.warnedAboutMissingStreamIdMapping[a.audioStreamId],this.attendeeIdToStreamId[r]===a.audioStreamId&&delete this.attendeeIdToStreamId[r];let p=!1;for(const v of Object.keys(this.streamIdToAttendeeId)){const g=parseInt(v);if(g>a.audioStreamId&&this.streamIdToAttendeeId[g]===r){p=!0;break}}p||this.realtimeController.realtimeSetAttendeeIdPresence(r,!1,l,t,{attendeeIndex:f++,attendeesInFrame:m.streams.length})}}}this.sessionReconnected&&(this.cleanUpState(m),this.sessionReconnected=!1)}cleanUpState(m){const f=Object.values(this.streamIdToAttendeeId),a=m.streams.map(i=>i.attendeeId),n=f.filter(i=>!a.includes(i));for(const[i,e]of n.entries()){const t=this.attendeeIdToStreamId[e],r=this.streamIdToExternalUserId[t];if(delete this.streamIdToAttendeeId[t],delete this.streamIdToExternalUserId[t],delete this.warnedAboutMissingStreamIdMapping[t],delete this.attendeeIdToStreamId[e],e===this.selfAttendeeId){this.logger.warn("the volume indicator adapter cleans up the current attendee (presence = false) after reconnection");continue}this.realtimeController.realtimeSetAttendeeIdPresence(e,!1,r,!1,{attendeeIndex:i,attendeesInFrame:e.length})}}sendRealtimeUpdatesForAudioMetadata(m){let f=null,a=null;for(const n of m.attendeeStates){const i=this.attendeeIdForStreamId(n.audioStreamId);n.hasOwnProperty("volume")&&(f===null&&(f={}),i!==null&&(f[i]=this.normalizedVolume(n))),n.hasOwnProperty("signalStrength")&&(a===null&&(a={}),i!==null&&(a[i]=this.normalizedSignalStrength(n)))}this.applyRealtimeUpdatesForAudioMetadata(f,a)}normalizedVolume(m){const a=1-(-m.volume-this.maxVolumeDecibels)/(this.minVolumeDecibels-this.maxVolumeDecibels);return Math.min(Math.max(a,0),1)}normalizedSignalStrength(m){const f=m.signalStrength/Hd.MAX_SIGNAL_STRENGTH_LEVELS;return Math.min(Math.max(f,0),1)}applyRealtimeUpdatesForAudioMetadata(m,f){for(const a in this.streamIdToAttendeeId){const n=this.streamIdToAttendeeId[a],i=this.streamIdToExternalUserId[a];let e=null,t=null;m!==null&&(m.hasOwnProperty(n)?e=m[n]:e=Hd.IMPLICIT_VOLUME),f!==null&&(f.hasOwnProperty(n)?t=f[n]:t=Hd.IMPLICIT_SIGNAL_STRENGTH),(e!==null||t!==null)&&this.realtimeController.realtimeUpdateVolumeIndicator(n,e,null,t,i)}}attendeeIdForStreamId(m){if(m===0)return null;const f=this.streamIdToAttendeeId[m];return f||(this.warnedAboutMissingStreamIdMapping[m]||(this.warnedAboutMissingStreamIdMapping[m]=!0,this.logger.warn(`volume indicator stream id ${m} seen before being defined`)),null)}constructor(m,f,a,n,i){this.logger=m,this.realtimeController=f,this.minVolumeDecibels=a,this.maxVolumeDecibels=n,this.selfAttendeeId=i,this.streamIdToAttendeeId={},this.streamIdToExternalUserId={},this.warnedAboutMissingStreamIdMapping={},this.attendeeIdToStreamId={},this.sessionReconnected=!1}},"DefaultVolumeIndicatorAdapter");c.default=S,S.MAX_SIGNAL_STRENGTH_LEVELS=2,S.IMPLICIT_VOLUME=0,S.IMPLICIT_SIGNAL_STRENGTH=1},kcqV:function(N,c,d){var S=d("bKEA"),h=d("TSC6").f;d("czaS")("getOwnPropertyDescriptor",function(){return o(function(f,a){return h(S(f),a)},"getOwnPropertyDescriptor")})},knPd:function(N,c,d){"use strict";Object.defineProperty(c,"__esModule",{value:!0});const S=d("LmyK"),h=d("mpmV"),m=d("34ho"),f=d("uctb"),a=d("DUgj"),n=d("Zkgh"),i=d("Lspx"),e=d("uaNU"),t=d("P7D+"),r=d("J1op");let l=o(class{constructor(){this.bandwidthEstimateKbps=0,this.usedBandwidthKbps=0,this.packetsLost=0,this.nackCount=0,this.rttMs=0}},"LinkMediaStats"),p=o(class br{reset(){this.optimalReceiveSet=new n.default,this.optimalReceiveStreams=[],this.optimalNonPausedReceiveStreams=[],this.subscribedReceiveSet=new n.default,this.subscribedReceiveStreams=[],this.videoPreferences=void 0,this.defaultVideoPreferences=void 0,this.shouldPauseTiles=!0,this.pausedStreamIds=new n.default,this.pausedBwAttendeeIds=new Set,this.videoPreferencesUpdated=!1,this.logCount=0,this.startupPeriod=!0,this.usingPrevTargetRate=!1,this.rateProbeState="Not Probing",this.firstEstimateTimestamp=0,this.lastUpgradeRateKbps=0,this.timeBeforeAllowSubscribeMs=br.MIN_TIME_BETWEEN_SUBSCRIBE_MS,this.lastProbeTimestamp=Date.now(),this.timeBeforeAllowProbeMs=br.MIN_TIME_BETWEEN_PROBE_MS,this.downlinkStats=new l,this.prevDownlinkStats=new l,this.probeFailed=!1,this.serverSideNetworkAdaption=this.videoPriorityBasedPolicyConfig.serverSideNetworkAdaption}bindToTileController(g){this.tileController=g,this.logger.info("tileController bound")}chooseRemoteVideoSources(g){var u;!((u=this.videoPreferences)===null||u===void 0)&&u.equals(g)||(this.videoPreferences=g==null?void 0:g.clone(),this.videoPreferencesUpdated=!0,this.logger.info(`bwe: setVideoPreferences bwe: new preferences: ${JSON.stringify(g)}`))}updateIndex(g){this.videoIndex=g,this.videoPreferences||this.updateDefaultVideoPreferences()}updateDefaultVideoPreferences(){const g=new Set;for(const M of this.videoIndex.remoteStreamDescriptions())g.add(M.attendeeId);const u=t.VideoPreferences.prepare(),s=g.size;let I=i.default.High;s>8?I=i.default.Low:s>4&&(I=i.default.Medium);for(const M of g)u.add(new e.default(M,1,I));this.defaultVideoPreferences=u.build()}updateMetrics(g){if(!this.videoIndex||this.videoIndex.allStreams().empty())return;this.prevDownlinkStats=this.downlinkStats,this.downlinkStats=new l;const u=g.getObservableMetrics();this.downlinkStats.bandwidthEstimateKbps=u.availableIncomingBitrate/1e3;for(const s in g.streamMetricReports){const I=Number.parseInt(s,10),M=g.streamMetricReports[I];M.direction===S.default.DOWNSTREAM&&M.mediaType===h.default.VIDEO&&(M.currentMetrics.hasOwnProperty("nackCount")&&(this.downlinkStats.nackCount+=g.countPerSecond("nackCount",I)),M.currentMetrics.hasOwnProperty("packetsLost")&&(this.downlinkStats.packetsLost+=g.countPerSecond("packetsLost",I)),M.currentMetrics.hasOwnProperty("bytesReceived")&&(this.downlinkStats.usedBandwidthKbps+=g.bitsPerSecond("bytesReceived",I)/1e3))}}wantsResubscribe(){return this.calculateOptimalReceiveSet(),!this.subscribedReceiveSet.equal(this.optimalReceiveSet)}chooseSubscriptions(){return this.subscribedReceiveSet.equal(this.optimalReceiveSet)||(this.lastSubscribeTimestamp=Date.now()),this.subscribedReceiveSet=this.optimalReceiveSet.clone(),this.subscribedReceiveStreams=this.optimalReceiveStreams.slice(),this.subscribedReceiveSet.clone()}addObserver(g){this.observerQueue.add(g)}removeObserver(g){this.observerQueue.delete(g)}forEachObserver(g){for(const u of this.observerQueue)g(u)}setVideoPriorityBasedPolicyConfigs(g){this.videoPriorityBasedPolicyConfig=g}calculateOptimalReceiveStreams(){var g;const u=[],s=this.videoIndex.remoteStreamDescriptions();if(s.length===0||!((g=this.videoPreferences)===null||g===void 0)&&g.isEmpty()){this.optimalReceiveStreams=[];return}const I=this.rateProbeState;this.cleanBwPausedTiles(s),this.handleAppPausedStreams(u,s);const M=this.availStreamsSameAsLast(s),R=!this.startupPeriod&&M;if(R&&Date.now()-this.lastSubscribeTimestamp<this.timeBeforeAllowSubscribeMs)return;s.sort((K,Z)=>K.maxBitrateKbps===Z.maxBitrateKbps?K.streamId-Z.streamId:K.maxBitrateKbps-Z.maxBitrateKbps);for(const K of s)(K.avgBitrateKbps===0||K.avgBitrateKbps>K.maxBitrateKbps)&&(K.attendeeId.endsWith(m.default.Modality)&&K.maxBitrateKbps<100?K.maxBitrateKbps=K.avgBitrateKbps:K.avgBitrateKbps=K.maxBitrateKbps);const B={targetDownlinkBitrate:0,chosenTotalBitrate:0,deltaToNextUpgrade:0};B.targetDownlinkBitrate=this.determineTargetRate();const j=this.subscribedReceiveSet.size(),A=this.downlinkStats.bandwidthEstimateKbps,D=!this.videoPriorityBasedPolicyConfig.allowSubscribe(j,A);if(this.probeFailed&&(this.probeFailed=!1,this.timeBeforeAllowSubscribeMs=br.MIN_TIME_BETWEEN_SUBSCRIBE_MS,R&&D))return;const $=this.priorityPolicy(B,s,u),O=this.serverSideNetworkAdaption!==a.default.None&&this.serverSideNetworkAdaption!==a.default.Default;let P=0;if(!O&&!this.startupPeriod&&M?this.rateProbeState==="Probing"?P=this.handleProbe(u,B.targetDownlinkBitrate):B.deltaToNextUpgrade!==0&&(P=this.maybeOverrideOrProbe(u,B,$)):(this.setProbeState("Not Probing"),this.lastUpgradeRateKbps=0),this.prevRemoteInfos=s,this.videoPreferencesUpdated=!1,P===1){this.logger.info(`bwe: keepSameSubscriptions stats:${JSON.stringify(this.downlinkStats)}`),this.prevTargetRateKbps=B.targetDownlinkBitrate;return}if(P===2){const K=this.calculateSubscribeRate(this.preProbeNonPausedReceiveStreams);this.optimalReceiveStreams=this.preProbeReceiveStreams.slice(),this.processBwPausedStreams(s,this.preProbeNonPausedReceiveStreams),this.logger.info("bwe: Use Pre-Probe subscription subscribedRate:"+K);return}this.optimalNonPausedReceiveStreams=u.slice();const k=this.pausedBwAttendeeIds.size;this.processBwPausedStreams(s,u),this.logger.getLogLevel()<=f.LogLevel.INFO&&(this.logCount%15===0||this.rateProbeState!==I||this.optimalReceiveStreams.length!==u.length||k!==this.pausedBwAttendeeIds.size)&&(this.logger.info(this.policyStateLogStr(s,B.targetDownlinkBitrate)),this.logCount=0),this.logCount++,this.prevTargetRateKbps=B.targetDownlinkBitrate,this.optimalReceiveStreams=u.slice()}calculateOptimalReceiveSet(){const g=new n.default;this.calculateOptimalReceiveStreams();for(const u of this.optimalReceiveStreams)g.add(u.streamId);if(!this.optimalReceiveSet.equal(g)){const u=this.calculateSubscribeRate(this.optimalReceiveStreams);this.logger.info(`bwe: new streamSelection: ${JSON.stringify(g)} subscribedRate:${u}`)}this.optimalReceiveSet=g}determineTargetRate(){let g=0;const u=Date.now();return this.downlinkStats.bandwidthEstimateKbps!==0?(this.firstEstimateTimestamp===0&&(this.firstEstimateTimestamp=u),this.startupPeriod&&(this.downlinkStats.bandwidthEstimateKbps>br.DEFAULT_BANDWIDTH_KBPS||this.downlinkStats.packetsLost>0||u-this.firstEstimateTimestamp>br.STARTUP_PERIOD_MS&&this.downlinkStats.bandwidthEstimateKbps<=this.prevDownlinkStats.bandwidthEstimateKbps)&&(this.startupPeriod=!1,this.prevTargetRateKbps=this.downlinkStats.bandwidthEstimateKbps),this.startupPeriod?g=br.DEFAULT_BANDWIDTH_KBPS:this.rateProbeState==="Probing"&&this.downlinkStats.usedBandwidthKbps>this.downlinkStats.bandwidthEstimateKbps&&this.downlinkStats.packetsLost<br.SPURIOUS_PACKET_LOST_THRESHOLD?(this.logger.info(`bwe: In probe state, overriding estimate ${this.downlinkStats.bandwidthEstimateKbps} with actual receive bitrate ${this.downlinkStats.usedBandwidthKbps}`),g=this.downlinkStats.usedBandwidthKbps+br.USED_BANDWIDTH_OVERRIDE_BUFFER_KBPS):g=this.downlinkStats.bandwidthEstimateKbps):this.firstEstimateTimestamp===0?g=br.DEFAULT_BANDWIDTH_KBPS:g=this.prevTargetRateKbps,!this.startupPeriod&&(this.usingPrevTargetRate&&this.downlinkStats.bandwidthEstimateKbps<this.prevTargetRateKbps||this.downlinkStats.bandwidthEstimateKbps<this.prevTargetRateKbps*(100-br.LARGE_RATE_CHANGE_TRIGGER_PERCENT)/100||this.downlinkStats.bandwidthEstimateKbps<this.downlinkStats.usedBandwidthKbps*br.LARGE_RATE_CHANGE_TRIGGER_PERCENT/100)&&this.downlinkStats.packetsLost===0?(this.logger.debug(()=>"bwe: ValidateRate: Using Previous rate "+this.prevTargetRateKbps),this.usingPrevTargetRate=!0,g=this.prevTargetRateKbps):this.usingPrevTargetRate=!1,g}setProbeState(g){if(this.rateProbeState===g)return!1;const u=Date.now();switch(g){case"Not Probing":this.probePendingStartTimestamp=0;break;case"Probe Pending":if(this.lastProbeTimestamp===0||u-this.lastProbeTimestamp>br.MIN_TIME_BETWEEN_PROBE_MS)this.probePendingStartTimestamp=u;else return!1;break;case"Probing":if(u-this.probePendingStartTimestamp>this.timeBeforeAllowProbeMs)this.lastProbeTimestamp=u,this.preProbeReceiveStreams=this.subscribedReceiveStreams.slice(),this.preProbeNonPausedReceiveStreams=this.optimalNonPausedReceiveStreams,this.timeBeforeAllowProbeMs=Math.min(this.timeBeforeAllowProbeMs*2,br.MAX_HOLD_BEFORE_PROBE_MS);else return!1;break}return this.logger.info("bwe: setProbeState to "+g+" from "+this.rateProbeState),this.rateProbeState=g,!0}upgradeToStream(g,u){for(let s=0;s<g.length;s++)if(g[s].groupId===u.groupId){const I=u.avgBitrateKbps-g[s].avgBitrateKbps;return this.logger.info("bwe: upgradeStream from "+JSON.stringify(g[s])+" to "+u),this.lastUpgradeRateKbps=I,g[s]=u,I}return g.push(u),this.lastUpgradeRateKbps=u.avgBitrateKbps,this.lastUpgradeRateKbps}handleProbe(g,u){if(Date.now()-this.lastProbeTimestamp>br.MAX_ALLOWED_PROBE_TIME_MS)return this.logger.info("bwe: Canceling probe due to timeout"),this.setProbeState("Not Probing"),0;if(this.downlinkStats.packetsLost>0&&(this.logger.info(`bwe: Probe encountering packets lost:${this.downlinkStats.packetsLost}`),this.downlinkStats.packetsLost>br.SPURIOUS_PACKET_LOST_THRESHOLD))return this.setProbeState("Not Probing"),this.logger.info(`bwe: Canceling probe due to packets lost:${this.downlinkStats.packetsLost}`),this.probeFailed=!0,this.timeBeforeAllowSubscribeMs=Math.max(br.MIN_TIME_BETWEEN_SUBSCRIBE_MS,this.timeBeforeAllowSubscribeMs)*3,2;const s=this.calculateSubscribeRate(this.optimalReceiveStreams);return this.chosenStreamsSameAsLast(g)||u>s?(this.logger.info("bwe: Probe successful"),this.setProbeState("Not Probing"),this.timeBeforeAllowProbeMs=br.MIN_TIME_BETWEEN_PROBE_MS,0):1}maybeOverrideOrProbe(g,u,s){const I=this.chosenStreamsSameAsLast(g);let M=0;const R=u.targetDownlinkBitrate>br.LOW_BITRATE_THRESHOLD_KBPS?br.TARGET_RATE_CHANGE_TRIGGER_PERCENT:br.TARGET_RATE_CHANGE_TRIGGER_PERCENT*2,B=u.targetDownlinkBitrate*R/100;if(this.targetRateBaselineForDeltaCheckKbps=this.targetRateBaselineForDeltaCheckKbps!==void 0?this.targetRateBaselineForDeltaCheckKbps:this.prevTargetRateKbps,!I&&Math.abs(u.targetDownlinkBitrate-this.targetRateBaselineForDeltaCheckKbps)<B?(this.logger.info("bwe: MaybeOverrideOrProbe: Reuse last decision based on delta rate. {"+JSON.stringify(this.subscribedReceiveSet)+"}"),M=1):this.targetRateBaselineForDeltaCheckKbps=u.targetDownlinkBitrate,this.downlinkStats.packetsLost>this.prevDownlinkStats.packetsLost)return this.setProbeState("Not Probing"),this.lastUpgradeRateKbps=0,M;if(I||M===1)switch(this.rateProbeState){case"Not Probing":this.setProbeState("Probe Pending");break;case"Probe Pending":this.setProbeState("Probing")&&(this.upgradeToStream(g,s),M=0);break}else this.setProbeState("Not Probing");return M}calculateSubscribeRate(g){let u=0;for(const s of g)!this.pausedStreamIds.contain(s.streamId)&&!this.pausedBwAttendeeIds.has(s.attendeeId)&&(u+=s.maxBitrateKbps);return u}handleAppPausedStreams(g,u){if(!this.tileController){this.logger.warn("tileController not found!");return}this.pausedStreamIds=new n.default;const s=this.tileController.getAllRemoteVideoTiles();for(const I of s){const M=I.state();if(M.paused&&!this.pausedBwAttendeeIds.has(M.boundAttendeeId)){let R=u.length;for(;R--;)u[R].attendeeId===M.boundAttendeeId&&(this.logger.info("bwe: removed paused attendee "+M.boundAttendeeId+" streamId: "+u[R].streamId),this.pausedStreamIds.add(u[R].streamId),this.subscribedReceiveSet.contain(u[R].streamId)&&g.push(u[R]),u.splice(R,1))}}}processBwPausedStreams(g,u){if(!this.tileController){this.logger.warn("tileController not found!");return}const s=this.getCurrentVideoPreferences();if(s&&this.shouldPauseTiles){const I=this.tileController.getAllVideoTiles();for(const M of s){const R=this.getVideoTileForAttendeeId(M.attendeeId,I),B=(R==null?void 0:R.state().paused)||!1;if(u.some(j=>j.attendeeId===M.attendeeId))B&&this.pausedBwAttendeeIds.has(M.attendeeId)&&(this.logger.info(`bwe: unpausing attendee ${M.attendeeId} due to bandwidth`),this.forEachObserver(j=>{j.tileWillBeUnpausedByDownlinkPolicy(R.id())}),this.tileController.unpauseVideoTile(R.id()),this.pausedBwAttendeeIds.delete(M.attendeeId));else{const j=g.some(A=>A.attendeeId===M.attendeeId);if(R&&j){const A=this.optimalReceiveStreams.find(D=>D.attendeeId===M.attendeeId);A!==void 0&&(B||(this.logger.info(`bwe: pausing streamId ${A.streamId} attendee ${M.attendeeId} due to bandwidth`),this.forEachObserver(D=>{D.tileWillBePausedByDownlinkPolicy(R.id())}),this.tileController.pauseVideoTile(R.id())),u.push(A)),this.pausedBwAttendeeIds.add(M.attendeeId)}else if(j){const A=this.tileController.addVideoTile();A.bindVideoStream(M.attendeeId,!1,null,0,0,0,null),this.forEachObserver(D=>{D.tileWillBePausedByDownlinkPolicy(A.id())}),A.pause(),this.logger.info(`bwe: Created video tile ${A.id()} for bw paused attendee ${M.attendeeId}`),this.pausedBwAttendeeIds.add(M.attendeeId)}}}}}cleanBwPausedTiles(g){if(!this.tileController){this.logger.warn("tileController not found!");return}const u=this.tileController.getAllRemoteVideoTiles(),s=this.getCurrentVideoPreferences();for(const I of u){const M=I.state();M.boundVideoStream||(g.some(R=>R.attendeeId===M.boundAttendeeId)?s!==void 0&&!s.some(R=>R.attendeeId===M.boundAttendeeId)&&this.tileController.removeVideoTile(M.tileId):(this.tileController.removeVideoTile(M.tileId),this.logger.info(`bwe: Removed video tile ${M.tileId} for bw paused attendee ${M.boundAttendeeId}`)))}}priorityPolicy(g,u,s){let I;const M=this.getCurrentVideoPreferences(),R=M.highestPriority();let B,j=R;for(;j!==-1;){B=-1;for(const A of M)if(A.priority===j)for(const D of u)D.attendeeId===A.attendeeId&&(s.some($=>$.groupId===D.groupId)||(g.chosenTotalBitrate+D.avgBitrateKbps<=g.targetDownlinkBitrate?(s.push(D),g.chosenTotalBitrate+=D.avgBitrateKbps):g.deltaToNextUpgrade===0&&(g.deltaToNextUpgrade=D.avgBitrateKbps,I=D)));else if(A.priority>j){B=A.priority;break}for(const A of M)if(A.priority===j){for(const D of u)if(D.attendeeId===A.attendeeId){const $=s.findIndex(O=>O.groupId===D.groupId&&O.maxBitrateKbps<D.maxBitrateKbps);if($!==-1){const O=D.avgBitrateKbps-s[$].avgBitrateKbps;this.hasSimulcastStreams(u,D.attendeeId,D.groupId)&&this.canUpgrade(D.avgBitrateKbps,A.targetSize,A.targetSizeToBitrateKbps(A.targetSize),D.attendeeId.endsWith(m.default.Modality))?(this.logger.info(`bwe: attendee: ${D.attendeeId} group: ${D.groupId} has simulcast and can upgrade avgBitrate: ${D.avgBitrateKbps} target: ${A.targetSizeToBitrateKbps(A.targetSize)} targetTotalBitrate: ${g.targetDownlinkBitrate}`),g.chosenTotalBitrate+O<=g.targetDownlinkBitrate?(g.chosenTotalBitrate+=O,s[$]=D):g.deltaToNextUpgrade===0&&(g.deltaToNextUpgrade=O,I=D)):this.logger.info("bwe: cannot upgrade stream quality beyond target size")}}}else if(A.priority>j)break;if(j===R&&g.deltaToNextUpgrade!==0)break;j=B}return I}getVideoTileForAttendeeId(g,u){for(const s of u)if(s.state().boundAttendeeId===g)return s;return null}canUpgrade(g,u,s,I){let M=!1;return I?(u===i.default.High||u===i.default.Medium&&g<=s)&&(M=!0):g<=s&&(M=!0),M?(this.logger.info(`bwe: canUpgrade: bitrateKbp: ${g} targetBitrateKbp: ${s}`),!0):(this.logger.info(`bwe: cannot Upgrade: bitrateKbp: ${g} targetBitrateKbp: ${s}`),!1)}hasSimulcastStreams(g,u,s){let I=0;for(const M of g)M.attendeeId===u&&M.groupId===s&&I++;return this.logger.info(`bwe: attendeeId: ${u} groupId: ${s} hasSimulcastStreams: streamCount: ${I}`),I>1}availStreamsSameAsLast(g){if(this.prevRemoteInfos===void 0||g.length!==this.prevRemoteInfos.length||this.videoPreferencesUpdated===!0)return!1;for(const u of g)if(this.prevRemoteInfos.find(I=>I.groupId===u.groupId&&I.streamId===u.streamId&&I.maxBitrateKbps===u.maxBitrateKbps)===void 0)return!1;return!0}chosenStreamsSameAsLast(g){if(this.optimalNonPausedReceiveStreams.length!==g.length)return!1;for(const u of this.optimalNonPausedReceiveStreams)if(!g.some(s=>s.streamId===u.streamId))return!1;return!0}policyStateLogStr(g,u){const s=this.calculateSubscribeRate(this.optimalReceiveStreams),I={targetBitrate:u,subscribedRate:s,probeState:this.rateProbeState,startupPeriod:this.startupPeriod};let M="remoteInfos: [";for(const B of g)M+=`{grpId:${B.groupId} strId:${B.streamId} maxBr:${B.maxBitrateKbps} avgBr:${B.avgBitrateKbps}}, `;M+="]";let R=`bwe: optimalReceiveSet ${JSON.stringify(I)}
bwe:   prev ${JSON.stringify(this.prevDownlinkStats)}
bwe:   now  ${JSON.stringify(this.downlinkStats)}
bwe:   ${M}
`;return(this.pausedStreamIds.size()>0||this.pausedBwAttendeeIds.size>0)&&(R+=`bwe:   paused: app stream ids ${JSON.stringify(this.pausedStreamIds)}  bw attendees { ${Array.from(this.pausedBwAttendeeIds).join(" ")} }
`),this.videoPreferences?R+=`bwe:   preferences: ${JSON.stringify(this.videoPreferences)}`:R+=`bwe:   default preferences: ${JSON.stringify(this.defaultVideoPreferences)}`,R}getCurrentVideoPreferences(){return this.videoPreferences||this.defaultVideoPreferences}getServerSideNetworkAdaption(){return this.serverSideNetworkAdaption}setServerSideNetworkAdaption(g){this.serverSideNetworkAdaption=g,this.setProbeState("Not Probing")}supportedServerSideNetworkAdaptions(){return[a.default.None,a.default.BandwidthProbing]}getVideoPreferences(){let g=this.getCurrentVideoPreferences();return g||(g=t.VideoPreferences.prepare().build()),g}constructor(g,u=r.default.Default){this.logger=g,this.videoPriorityBasedPolicyConfig=u,this.shouldPauseTiles=!0,this.observerQueue=new Set,this.pausedBwAttendeeIds=new Set,this.reset()}},"VideoPriorityBasedPolicy");c.default=p,p.DEFAULT_BANDWIDTH_KBPS=2800,p.STARTUP_PERIOD_MS=6e3,p.LARGE_RATE_CHANGE_TRIGGER_PERCENT=20,p.TARGET_RATE_CHANGE_TRIGGER_PERCENT=15,p.LOW_BITRATE_THRESHOLD_KBPS=300,p.MIN_TIME_BETWEEN_PROBE_MS=5e3,p.MIN_TIME_BETWEEN_SUBSCRIBE_MS=2e3,p.MAX_HOLD_BEFORE_PROBE_MS=3e4,p.MAX_ALLOWED_PROBE_TIME_MS=6e4,p.SPURIOUS_PACKET_LOST_THRESHOLD=2,p.USED_BANDWIDTH_OVERRIDE_BUFFER_KBPS=100},ko9P:function(N,c,d){"use strict";N.exports=h;var S=d("j4TH");function h(n,i){this.lo=n>>>0,this.hi=i>>>0}o(h,"LongBits");var m=h.zero=new h(0,0);m.toNumber=function(){return 0},m.zzEncode=m.zzDecode=function(){return this},m.length=function(){return 1};var f=h.zeroHash="\0\0\0\0\0\0\0\0";h.fromNumber=o(function(i){if(i===0)return m;var e=i<0;e&&(i=-i);var t=i>>>0,r=(i-t)/4294967296>>>0;return e&&(r=~r>>>0,t=~t>>>0,++t>4294967295&&(t=0,++r>4294967295&&(r=0))),new h(t,r)},"fromNumber"),h.from=o(function(i){if(typeof i=="number")return h.fromNumber(i);if(S.isString(i))if(S.Long)i=S.Long.fromString(i);else return h.fromNumber(parseInt(i,10));return i.low||i.high?new h(i.low>>>0,i.high>>>0):m},"from"),h.prototype.toNumber=o(function(i){if(!i&&this.hi>>>31){var e=~this.lo+1>>>0,t=~this.hi>>>0;return e||(t=t+1>>>0),-(e+t*4294967296)}return this.lo+this.hi*4294967296},"toNumber"),h.prototype.toLong=o(function(i){return S.Long?new S.Long(this.lo|0,this.hi|0,Boolean(i)):{low:this.lo|0,high:this.hi|0,unsigned:Boolean(i)}},"toLong");var a=String.prototype.charCodeAt;h.fromHash=o(function(i){return i===f?m:new h((a.call(i,0)|a.call(i,1)<<8|a.call(i,2)<<16|a.call(i,3)<<24)>>>0,(a.call(i,4)|a.call(i,5)<<8|a.call(i,6)<<16|a.call(i,7)<<24)>>>0)},"fromHash"),h.prototype.toHash=o(function(){return String.fromCharCode(this.lo&255,this.lo>>>8&255,this.lo>>>16&255,this.lo>>>24,this.hi&255,this.hi>>>8&255,this.hi>>>16&255,this.hi>>>24)},"toHash"),h.prototype.zzEncode=o(function(){var i=this.hi>>31;return this.hi=((this.hi<<1|this.lo>>>31)^i)>>>0,this.lo=(this.lo<<1^i)>>>0,this},"zzEncode"),h.prototype.zzDecode=o(function(){var i=-(this.lo&1);return this.lo=((this.lo>>>1|this.hi<<31)^i)>>>0,this.hi=(this.hi>>>1^i)>>>0,this},"zzDecode"),h.prototype.length=o(function(){var i=this.lo,e=(this.lo>>>28|this.hi<<4)>>>0,t=this.hi>>>24;return t===0?e===0?i<16384?i<128?1:2:i<2097152?3:4:e<16384?e<128?5:6:e<2097152?7:8:t<128?9:10},"length")},kph0:function(N,c,d){"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.CheckNetworkUDPConnectivityFeedback=void 0;var S;(function(h){h[h.Succeeded=0]="Succeeded",h[h.MeetingSessionURLsNotInitialized=1]="MeetingSessionURLsNotInitialized",h[h.ConnectionFailed=2]="ConnectionFailed",h[h.ICENegotiationFailed=3]="ICENegotiationFailed"})(S=c.CheckNetworkUDPConnectivityFeedback||(c.CheckNetworkUDPConnectivityFeedback={})),c.default=S},kud1:function(N,c,d){"use strict";var S=this&&this.__awaiter||function(a,n,i,e){function t(r){return r instanceof i?r:new i(function(l){l(r)})}return o(t,"adopt"),new(i||(i=Promise))(function(r,l){function p(u){try{g(e.next(u))}catch(s){l(s)}}o(p,"fulfilled");function v(u){try{g(e.throw(u))}catch(s){l(s)}}o(v,"rejected");function g(u){u.done?r(u.value):t(u.value).then(p,v)}o(g,"step"),g((e=e.apply(a,n||[])).next())})};Object.defineProperty(c,"__esModule",{value:!0});const h=d("jG7n"),m=d("83pg");let f=o(class jh extends h.default{setImageBlob(n){return S(this,void 0,void 0,function*(){this.replacementBlob=n,this.replacementImage=yield jh.loadImage(this.createReplacementObjectUrl())})}initOnFirstExecution(){}drawImageWithMask(n,i){i||(i=new ImageData(this.spec.model.input.width,this.spec.model.input.height)),this.scaledCanvas.getContext("2d").putImageData(i,0,0);const{canvasCtx:t,targetCanvas:r}=this,{width:l,height:p}=r;t.save(),t.clearRect(0,0,l,p),t.drawImage(this.scaledCanvas,0,0,l,p),t.globalCompositeOperation="source-in",t.drawImage(n,0,0,l,p),t.globalCompositeOperation="destination-over",t.drawImage(this.replacementImage,0,0,r.width,r.height),t.restore()}static loadImageExecutor(n,i,e){const t=new Image;t.crossOrigin="Anonymous",t.addEventListener("load",()=>{n(t)},!1),t.addEventListener("error",r=>{i(new Error(`Could not load replacement image ${t.src}: ${r.message}`))},!1),t.src=e}static loadImage(n){return S(this,void 0,void 0,function*(){return new Promise((i,e)=>this.loadImageExecutor(i,e,n))})}revokeReplacementObjectUrl(){this.replacementObjectUrl&&URL.revokeObjectURL(this.replacementObjectUrl)}createReplacementObjectUrl(){return this.revokeReplacementObjectUrl(),this.replacementObjectUrl=URL.createObjectURL(this.replacementBlob),this.replacementObjectUrl}loadAssets(){const n=Object.create(null,{loadAssets:{get:()=>super.loadAssets}});return S(this,void 0,void 0,function*(){this.replacementImage=yield jh.loadImage(this.createReplacementObjectUrl()),n.loadAssets.call(this)})}addObserver(n){this.delegate.addObserver(n)}removeObserver(n){this.delegate.removeObserver(n)}destroy(){const n=Object.create(null,{destroy:{get:()=>super.destroy}});return S(this,void 0,void 0,function*(){n.destroy.call(this),this.revokeReplacementObjectUrl()})}setEventController(n){this.eventController?this.eventController=n:(this.eventController=n,this.publishBackgroundFilterEvent())}publishBackgroundFilterEvent(){const n={backgroundBlurEnabled:"false",backgroundBlurStrength:"low",backgroundReplacementEnabled:"true",backgroundFilterVersion:1};this.eventController.publishEvent("backgroundFilterConfigSelected",n)}constructor(n,i){super("background replacement",n,i,new m.default),this.replacementBlob=i.imageBlob,this.logger.info("BackgroundReplacement processor successfully created"),this.logger.info(`BackgroundReplacement spec: ${this.stringify(this.spec)}`),this.logger.info(`BackgroundReplacement options: ${this.stringify(i)}`)}},"BackgroundReplacementFilter");c.default=f},kvAF:function(N,c,d){var S=d("GhSp").f,h=d("nA4W"),m=d("zBWt")("toStringTag");N.exports=function(f,a,n){f&&!h(f=n?f:f.prototype,m)&&S(f,m,{configurable:!0,value:a})}},l0Kd:function(N,c){N.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},l5Mp:function(N,c){function d(S){return S&&S.__esModule?S:{default:S}}o(d,"_interopRequireDefault"),N.exports=d,N.exports.__esModule=!0,N.exports.default=N.exports},l7oq:function(N,c,d){"use strict";Object.defineProperty(c,"__esModule",{value:!0});const S=d("zcg+");let h=o(class gv{timeSpentReconnectingMs(){return this.firstConnectionAttempted?Date.now()-this.firstConnectionAttemptTimestampMs:0}hasPastReconnectDeadline(){return Date.now()-this.lastActiveTimestampMs>=this.reconnectTimeoutMs?!0:this.timeSpentReconnectingMs()>=this.reconnectTimeoutMs}reset(){this.cancel(),this.shouldReconnect=!0,this.onlyRestartPeerConnection=!1,this.firstConnectionAttempted=!1,this.firstConnectionAttemptTimestampMs=0,this.lastActiveTimestampMs=1/0,this.backoffPolicy.reset()}startedConnectionAttempt(f){this._isFirstConnection=f,this.firstConnectionAttempted||(this.firstConnectionAttempted=!0,this.firstConnectionAttemptTimestampMs=Date.now())}hasStartedConnectionAttempt(){return this.firstConnectionAttempted}isFirstConnection(){return this._isFirstConnection}disableReconnect(){this.shouldReconnect=!1}enableRestartPeerConnection(){this.onlyRestartPeerConnection=!0}cancel(){this.disableReconnect(),this.backoffTimer&&(this.backoffTimer.stop(),this.backoffCancel&&(this.backoffCancel(),this.backoffCancel=null))}retryWithBackoff(f,a){const n=this.shouldReconnect&&!this.hasPastReconnectDeadline();return n&&(this.backoffCancel=a,this.backoffTimer=new S.default(this.backoffPolicy.nextBackoffAmountMs()),this.backoffTimer.start(()=>{this.backoffCancel=null,f()})),n}shouldOnlyRestartPeerConnection(){return this.onlyRestartPeerConnection}clone(){return new gv(this.reconnectTimeoutMs,this.backoffPolicy)}setLastActiveTimestampMs(f){this.lastActiveTimestampMs=f}constructor(f,a){this.reconnectTimeoutMs=f,this.backoffPolicy=a,this.shouldReconnect=!0,this.onlyRestartPeerConnection=!1,this.firstConnectionAttempted=!1,this.firstConnectionAttemptTimestampMs=0,this.lastActiveTimestampMs=1/0,this._isFirstConnection=!0,this.backoffTimer=null,this.backoffCancel=null,this.reset()}},"DefaultReconnectController");c.default=h},l8QA:function(N,c,d){"use strict";Object.defineProperty(c,"__esModule",{value:!0});const S=d("Czkq");let h=o(class extends S.default{},"BackgroundBlurVideoFrameProcessorDelegate");c.default=h},lFzH:function(N,c,d){"use strict";var S=this&&this.__awaiter||function(n,i,e,t){function r(l){return l instanceof e?l:new e(function(p){p(l)})}return o(r,"adopt"),new(e||(e=Promise))(function(l,p){function v(s){try{u(t.next(s))}catch(I){p(I)}}o(v,"fulfilled");function g(s){try{u(t.throw(s))}catch(I){p(I)}}o(g,"rejected");function u(s){s.done?l(s.value):r(s.value).then(v,g)}o(u,"step"),u((t=t.apply(n,i||[])).next())})};Object.defineProperty(c,"__esModule",{value:!0});const h=d("papz"),m=d("wXa7"),f=d("j+uH");let a=o(class extends f.default{cancel(){if(this.cancelPromise){const i=new Error(`canceling ${this.name()}`);this.cancelPromise(i),delete this.cancelPromise}}sessionUsesAudio(){var i,e;return!!(!((e=(i=this.context.meetingSessionConfiguration)===null||i===void 0?void 0:i.urls)===null||e===void 0)&&e.audioHostURL)}sessionUsesVideo(){let e;this.context.transceiverController.useTransceivers()?e=this.context.transceiverController.hasVideoInput():e=this.context.videoTileController.hasStartedLocalVideoTile();const t=!!this.context.videosToReceive&&!this.context.videosToReceive.empty(),r=e||t;return this.context.logger.info(`uses video: ${r} (enabled: ${!0}, sending: ${e}, receiving: ${t})`),r}run(){return S(this,void 0,void 0,function*(){const i={offerToReceiveAudio:this.sessionUsesAudio(),offerToReceiveVideo:this.sessionUsesVideo()};this.logger.info(`peer connection offerOptions: ${JSON.stringify(i)}`),yield new Promise((e,t)=>S(this,void 0,void 0,function*(){this.cancelPromise=r=>{t(r)};try{if(this.context.sdpOfferInit=yield this.context.peer.createOffer(i),this.context.logger.info("peer connection created offer"),this.context.previousSdpOffer&&new m.default(this.context.sdpOfferInit.sdp).videoSendSectionHasDifferentSSRC(this.context.previousSdpOffer)){const r=new Error(`canceling ${this.name()} due to the meeting status code: ${h.default.IncompatibleSDP}`);this.context.previousSdpOffer=null,t(r);return}e()}catch(r){t(r)}finally{delete this.cancelPromise}}))})}constructor(i){super(i.logger),this.context=i,this.taskName="CreateSDPTask"}},"CreateSDPTask");c.default=a},lUhs:function(N,c,d){"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.MeetingSessionStatusCode=void 0;var S;(function(h){h[h.OK=0]="OK",h[h.Left=1]="Left",h[h.AudioJoinedFromAnotherDevice=2]="AudioJoinedFromAnotherDevice",h[h.AudioAuthenticationRejected=3]="AudioAuthenticationRejected",h[h.AudioCallAtCapacity=4]="AudioCallAtCapacity",h[h.MeetingEnded=5]="MeetingEnded",h[h.AudioInternalServerError=6]="AudioInternalServerError",h[h.AudioServiceUnavailable=7]="AudioServiceUnavailable",h[h.AudioDisconnected=8]="AudioDisconnected",h[h.VideoCallSwitchToViewOnly=9]="VideoCallSwitchToViewOnly",h[h.VideoCallAtSourceCapacity=10]="VideoCallAtSourceCapacity",h[h.SignalingBadRequest=11]="SignalingBadRequest",h[h.SignalingInternalServerError=12]="SignalingInternalServerError",h[h.SignalingRequestFailed=13]="SignalingRequestFailed",h[h.ICEGatheringTimeoutWorkaround=14]="ICEGatheringTimeoutWorkaround",h[h.ConnectionHealthReconnect=15]="ConnectionHealthReconnect",h[h.RealtimeApiFailed=16]="RealtimeApiFailed",h[h.TaskFailed=17]="TaskFailed",h[h.IncompatibleSDP=18]="IncompatibleSDP",h[h.TURNCredentialsForbidden=19]="TURNCredentialsForbidden",h[h.NoAttendeePresent=20]="NoAttendeePresent",h[h.AudioAttendeeRemoved=21]="AudioAttendeeRemoved",h[h.AudioVideoWasRemovedFromPrimaryMeeting=22]="AudioVideoWasRemovedFromPrimaryMeeting",h[h.AudioDisconnectAudio=23]="AudioDisconnectAudio"})(S=c.MeetingSessionStatusCode||(c.MeetingSessionStatusCode={})),c.default=S},ldli:function(N,c,d){"use strict";Object.defineProperty(c,"__esModule",{value:!0});const S=d("f2XL"),h=d("Zkgh"),m=d("MhWp");let f=o(class{localStreamDescriptions(){return[this.videoStreamDescription.clone()]}convertBpsToKbps(n){return n>0&&n<1e3?1:Math.trunc(n/1e3)}remoteStreamDescriptions(){if(!this.currentIndex||!this.currentIndex.sources)return[];const n=[];return this.currentIndex.sources.forEach(i=>{const e=new m.default;e.attendeeId=i.attendeeId,e.groupId=i.groupId,e.streamId=i.streamId,e.maxBitrateKbps=i.maxBitrateKbps,e.avgBitrateKbps=this.convertBpsToKbps(i.avgBitrateBps),n.push(e)}),n}integrateUplinkPolicyDecision(n){if(n&&n.length){const i=n[0];this.videoStreamDescription.maxBitrateKbps=i.maxBitrate/1e3,this.videoStreamDescription.maxFrameRate=i.maxFramerate}}integrateIndexFrame(n){this.currentIndex=n;const i=new Map;let e=!1;for(const t of n.sources){if(!i.has(t.attendeeId)){i.set(t.attendeeId,t.groupId);continue}const r=i.get(t.attendeeId);r<t.groupId&&(this.logger.warn(`Old group ID ${r} found for attendee ID ${t.attendeeId}, replacing with newer group ID ${t.groupId}`),i.set(t.attendeeId,t.groupId)),e=!0}e&&(this.currentIndex.sources=this.currentIndex.sources.filter(t=>i.get(t.attendeeId)===t.groupId)),this.streamToAttendeeMap=null,this.streamToExternalUserIdMap=null}subscribeFrameSent(){this.indexForSubscribe=this.currentIndex}integrateSubscribeAckFrame(n){this.currentSubscribeAck=n,this.subscribeTrackToStreamMap=this.buildTrackToStreamMap(this.currentSubscribeAck),this.subscribeSsrcToStreamMap=this.buildSSRCToStreamMap(this.currentSubscribeAck),this.subscribeStreamToAttendeeMap=this.buildStreamToAttendeeMap(this.indexForSubscribe),this.subscribeStreamToExternalUserIdMap=this.buildStreamExternalUserIdMap(this.indexForSubscribe)}integrateBitratesFrame(n){if(this.currentIndex)for(const i of n.bitrates){const e=this.currentIndex.sources.find(t=>t.streamId===i.sourceStreamId);e!==void 0&&(e.avgBitrateBps=i.avgBitrateBps)}}allStreams(){const n=new h.default;if(this.currentIndex)for(const i of this.currentIndex.sources)n.add(i.streamId);return n}allVideoSendingSourcesExcludingSelf(n){const i=[],e=new Set;if(this.currentIndex&&this.currentIndex.sources&&this.currentIndex.sources.length)for(const t of this.currentIndex.sources){const{attendeeId:r,externalUserId:l,mediaType:p}=t;r!==n&&p===S.SdkStreamMediaType.VIDEO&&(e.has(r)||(i.push({attendee:{attendeeId:r,externalUserId:l}}),e.add(r)))}return i}streamSelectionUnderBandwidthConstraint(n,i,e,t){const r=new Set;if(this.currentIndex)for(const u of this.currentIndex.sources)u.attendeeId===n||u.mediaType!==S.SdkStreamMediaType.VIDEO||!i.has(u.attendeeId)&&!e.has(u.attendeeId)&&r.add(u.attendeeId);const l=this.buildAttendeeToSortedStreamDescriptorMapExcludingSelf(n),p=new Map;let v=0;l.forEach((u,s)=>{p.set(s,u[0]),v+=u[0].maxBitrateKbps}),v=this.trySelectHighBitrateForAttendees(l,i,v,t,p),this.trySelectHighBitrateForAttendees(l,r,v,t,p);const g=new h.default;for(const u of p.values())g.add(u.streamId);return g}highestQualityStreamFromEachGroupExcludingSelf(n){const i=new h.default;if(this.currentIndex){const e=new Map;for(const t of this.currentIndex.sources)t.attendeeId===n||t.mediaType!==S.SdkStreamMediaType.VIDEO||(!e.has(t.groupId)||t.maxBitrateKbps>e.get(t.groupId).maxBitrateKbps)&&e.set(t.groupId,t);for(const t of e.values())i.add(t.streamId)}return i}numberOfVideoPublishingParticipantsExcludingSelf(n){return this.highestQualityStreamFromEachGroupExcludingSelf(n).array().length}numberOfParticipants(){return this.currentIndex.numParticipants?this.currentIndex.numParticipants:-1}attendeeIdForTrack(n){const i=this.streamIdForTrack(n);if(i===void 0||!this.subscribeStreamToAttendeeMap)return this.logger.warn(`no attendee found for track ${n}`),"";const e=this.subscribeStreamToAttendeeMap.get(i);return e||(this.logger.info(`track ${n} (stream ${i}) does not correspond to a known attendee`),"")}externalUserIdForTrack(n){const i=this.streamIdForTrack(n);if(i===void 0||!this.subscribeStreamToExternalUserIdMap)return this.logger.warn(`no external user id found for track ${n}`),"";const e=this.subscribeStreamToExternalUserIdMap.get(i);return e||(this.logger.info(`track ${n} (stream ${i}) does not correspond to a known externalUserId`),"")}attendeeIdForStreamId(n){if(!this.streamToAttendeeMap)if(this.currentIndex)this.streamToAttendeeMap=this.buildStreamToAttendeeMap(this.currentIndex);else return"";const i=this.streamToAttendeeMap.get(n);return i||(this.logger.info(`stream ${n}) does not correspond to a known attendee`),"")}groupIdForStreamId(n){if(!(!this.currentIndex||!this.currentIndex.sources)){for(const i of this.currentIndex.sources)if(i.streamId===n)return i.groupId;if(this.indexForSubscribe){for(const i of this.indexForSubscribe.sources)if(i.streamId===n)return i.groupId}}}StreamIdsInSameGroup(n,i){return this.groupIdForStreamId(n)===this.groupIdForStreamId(i)}streamIdForTrack(n){if(this.subscribeTrackToStreamMap)return this.subscribeTrackToStreamMap.get(n)}streamIdForSSRC(n){if(this.subscribeSsrcToStreamMap)return this.subscribeSsrcToStreamMap.get(n)}overrideStreamIdMappings(n,i){if(this.subscribeTrackToStreamMap){for(const[e,t]of this.subscribeTrackToStreamMap.entries())if(n===t){this.subscribeTrackToStreamMap.set(e,i);break}}if(this.subscribeSsrcToStreamMap){for(const[e,t]of this.subscribeSsrcToStreamMap.entries())if(n===t){this.subscribeSsrcToStreamMap.set(e,i);break}}}streamsPausedAtSource(){const n=new h.default;if(this.currentIndex)for(const i of this.currentIndex.pausedAtSourceIds)n.add(i);return n}buildTrackToStreamMap(n){const i=new Map;this.logger.debug(()=>`trackMap ${JSON.stringify(n.tracks)}`);for(const e of n.tracks)e.trackLabel.length>0&&e.streamId>0&&i.set(e.trackLabel,e.streamId);return i}buildSSRCToStreamMap(n){const i=new Map;this.logger.debug(()=>`ssrcMap ${JSON.stringify(n.tracks)}`);for(const e of n.tracks)e.trackLabel.length>0&&e.streamId>0&&i.set(e.ssrc,e.streamId);return i}buildStreamToAttendeeMap(n){const i=new Map;if(n)for(const e of n.sources)i.set(e.streamId,e.attendeeId);return i}buildStreamExternalUserIdMap(n){const i=new Map;if(n)for(const e of n.sources)e.externalUserId&&i.set(e.streamId,e.externalUserId);return i}trySelectHighBitrateForAttendees(n,i,e,t,r){for(const l of i){if(e>=t)break;if(n.has(l)){const p=n.get(l);for(const v of p.reverse())if(e-r.get(l).maxBitrateKbps+v.maxBitrateKbps<t){e=e-r.get(l).maxBitrateKbps+v.maxBitrateKbps,r.set(l,v);break}}}return e}buildAttendeeToSortedStreamDescriptorMapExcludingSelf(n){const i=new Map;if(this.currentIndex)for(const e of this.currentIndex.sources)e.attendeeId===n||e.mediaType!==S.SdkStreamMediaType.VIDEO||(i.has(e.attendeeId)?i.get(e.attendeeId).push(e):i.set(e.attendeeId,[e]));return i.forEach((e,t)=>{e.sort((r,l)=>r.maxBitrateKbps>l.maxBitrateKbps?1:r.maxBitrateKbps<l.maxBitrateKbps?-1:0)}),i}constructor(n){this.logger=n,this.currentIndex=null,this.indexForSubscribe=null,this.currentSubscribeAck=null,this.subscribeTrackToStreamMap=null,this.subscribeStreamToAttendeeMap=null,this.subscribeStreamToExternalUserIdMap=null,this.subscribeSsrcToStreamMap=null,this.streamToAttendeeMap=null,this.streamToExternalUserIdMap=null,this.videoStreamDescription=new m.default,this.videoStreamDescription.trackLabel="AmazonChimeExpressVideo",this.videoStreamDescription.streamId=2,this.videoStreamDescription.groupId=2}},"DefaultVideoStreamIndex");c.default=f},lnWt:function(N,c,d){"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.numToUint8=void 0;function S(h){return new Uint8Array([(h&4278190080)>>24,(h&16711680)>>16,(h&65280)>>8,h&255])}o(S,"numToUint8"),c.numToUint8=S},"m/NO":function(N,c,d){"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.MeetingSessionLifecycleEvent=void 0;var S;(function(h){h[h.Connecting=0]="Connecting",h[h.Started=1]="Started",h[h.Stopped=2]="Stopped"})(S=c.MeetingSessionLifecycleEvent||(c.MeetingSessionLifecycleEvent={})),c.default=S},m0Av:function(N,c,d){"use strict";(function(S){d.d(c,"a",function(){return h});function h(m,f){var a;typeof f<"u"?a=f:typeof window<"u"?a=window:typeof self<"u"?a=self:a=S;var n=typeof a.document<"u"&&a.document.attachEvent;if(!n){var i=function(){var P=a.requestAnimationFrame||a.mozRequestAnimationFrame||a.webkitRequestAnimationFrame||function(k){return a.setTimeout(k,20)};return function(k){return P(k)}}(),e=function(){var P=a.cancelAnimationFrame||a.mozCancelAnimationFrame||a.webkitCancelAnimationFrame||a.clearTimeout;return function(k){return P(k)}}(),t=o(function(k){var K=k.__resizeTriggers__,Z=K.firstElementChild,Y=K.lastElementChild,ie=Z.firstElementChild;Y.scrollLeft=Y.scrollWidth,Y.scrollTop=Y.scrollHeight,ie.style.width=Z.offsetWidth+1+"px",ie.style.height=Z.offsetHeight+1+"px",Z.scrollLeft=Z.scrollWidth,Z.scrollTop=Z.scrollHeight},"resetTriggers"),r=o(function(k){return k.offsetWidth!=k.__resizeLast__.width||k.offsetHeight!=k.__resizeLast__.height},"checkTriggers"),l=o(function(k){if(!(k.target.className&&typeof k.target.className.indexOf=="function"&&k.target.className.indexOf("contract-trigger")<0&&k.target.className.indexOf("expand-trigger")<0)){var K=this;t(this),this.__resizeRAF__&&e(this.__resizeRAF__),this.__resizeRAF__=i(function(){r(K)&&(K.__resizeLast__.width=K.offsetWidth,K.__resizeLast__.height=K.offsetHeight,K.__resizeListeners__.forEach(function(Z){Z.call(K,k)}))})}},"scrollListener"),p=!1,v="",g="animationstart",u="Webkit Moz O ms".split(" "),s="webkitAnimationStart animationstart oAnimationStart MSAnimationStart".split(" "),I="";{var M=a.document.createElement("fakeelement");if(M.style.animationName!==void 0&&(p=!0),p===!1){for(var R=0;R<u.length;R++)if(M.style[u[R]+"AnimationName"]!==void 0){I=u[R],v="-"+I.toLowerCase()+"-",g=s[R],p=!0;break}}}var B="resizeanim",j="@"+v+"keyframes "+B+" { from { opacity: 0; } to { opacity: 0; } } ",A=v+"animation: 1ms "+B+"; "}var D=o(function(k){if(!k.getElementById("detectElementResize")){var K=(j||"")+".resize-triggers { "+(A||"")+'visibility: hidden; opacity: 0; } .resize-triggers, .resize-triggers > div, .contract-trigger:before { content: " "; display: block; position: absolute; top: 0; left: 0; height: 100%; width: 100%; overflow: hidden; z-index: -1; } .resize-triggers > div { background: #eee; overflow: auto; } .contract-trigger:before { width: 200%; height: 200%; }',Z=k.head||k.getElementsByTagName("head")[0],Y=k.createElement("style");Y.id="detectElementResize",Y.type="text/css",m!=null&&Y.setAttribute("nonce",m),Y.styleSheet?Y.styleSheet.cssText=K:Y.appendChild(k.createTextNode(K)),Z.appendChild(Y)}},"createStyles"),$=o(function(k,K){if(n)k.attachEvent("onresize",K);else{if(!k.__resizeTriggers__){var Z=k.ownerDocument,Y=a.getComputedStyle(k);Y&&Y.position=="static"&&(k.style.position="relative"),D(Z),k.__resizeLast__={},k.__resizeListeners__=[],(k.__resizeTriggers__=Z.createElement("div")).className="resize-triggers",k.__resizeTriggers__.innerHTML='<div class="expand-trigger"><div></div></div><div class="contract-trigger"></div>',k.appendChild(k.__resizeTriggers__),t(k),k.addEventListener("scroll",l,!0),g&&(k.__resizeTriggers__.__animationListener__=o(function(ge){ge.animationName==B&&t(k)},"animationListener"),k.__resizeTriggers__.addEventListener(g,k.__resizeTriggers__.__animationListener__))}k.__resizeListeners__.push(K)}},"addResizeListener"),O=o(function(k,K){if(n)k.detachEvent("onresize",K);else if(k.__resizeListeners__.splice(k.__resizeListeners__.indexOf(K),1),!k.__resizeListeners__.length){k.removeEventListener("scroll",l,!0),k.__resizeTriggers__.__animationListener__&&(k.__resizeTriggers__.removeEventListener(g,k.__resizeTriggers__.__animationListener__),k.__resizeTriggers__.__animationListener__=null);try{k.__resizeTriggers__=!k.removeChild(k.__resizeTriggers__)}catch{}}},"removeResizeListener");return{addResizeListener:$,removeResizeListener:O}}o(h,"createDetectElementResize")}).call(this,d("yLpj"))},m1cH:function(N,c,d){"use strict";c.__esModule=!0;var S=d("rfXi"),h=m(S);function m(f){return f&&f.__esModule?f:{default:f}}o(m,"_interopRequireDefault"),c.default=function(f){if(Array.isArray(f)){for(var a=0,n=Array(f.length);a<f.length;a++)n[a]=f[a];return n}else return(0,h.default)(f)}},mHY4:function(N,c,d){var S=d("A9a0"),h=d("l0Kd");N.exports=Object.keys||o(function(f){return S(f,h)},"keys")},mRg0:function(N,c,d){"use strict";c.__esModule=!0;var S=d("s3Ml"),h=i(S),m=d("AyUB"),f=i(m),a=d("EJiy"),n=i(a);function i(e){return e&&e.__esModule?e:{default:e}}o(i,"_interopRequireDefault"),c.default=function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+(typeof t>"u"?"undefined":(0,n.default)(t)));e.prototype=(0,f.default)(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(h.default?(0,h.default)(e,t):e.__proto__=t)}},mYvd:function(N,c,d){"use strict";d.r(c),d.d(c,"Deflate",function(){return _a}),d.d(c,"Inflate",function(){return er}),d.d(c,"constants",function(){return Va}),d.d(c,"default",function(){return Ha}),d.d(c,"deflate",function(){return Na}),d.d(c,"deflateRaw",function(){return Ba}),d.d(c,"gzip",function(){return fl}),d.d(c,"inflate",function(){return ds}),d.d(c,"inflateRaw",function(){return Fa}),d.d(c,"ungzip",function(){return Ua});/*! pako 2.0.4 https://github.com/nodeca/pako @license (MIT AND Zlib) */const S=4,h=0,m=1,f=2;function a(b){let F=b.length;for(;--F>=0;)b[F]=0}o(a,"zero$1");const n=0,i=1,e=2,t=3,r=258,l=29,p=256,v=p+1+l,g=30,u=19,s=2*v+1,I=15,M=16,R=7,B=256,j=16,A=17,D=18,$=new Uint8Array([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0]),O=new Uint8Array([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13]),P=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7]),k=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),K=512,Z=new Array((v+2)*2);a(Z);const Y=new Array(g*2);a(Y);const ie=new Array(K);a(ie);const ge=new Array(r-t+1);a(ge);const Ie=new Array(l);a(Ie);const le=new Array(g);a(le);function we(b,F,w,X,z){this.static_tree=b,this.extra_bits=F,this.extra_base=w,this.elems=X,this.max_length=z,this.has_stree=b&&b.length}o(we,"StaticTreeDesc");let Be,Re,Ne;function _e(b,F){this.dyn_tree=b,this.max_code=0,this.stat_desc=F}o(_e,"TreeDesc");const Ze=o(b=>b<256?ie[b]:ie[256+(b>>>7)],"d_code"),tt=o((b,F)=>{b.pending_buf[b.pending++]=F&255,b.pending_buf[b.pending++]=F>>>8&255},"put_short"),$e=o((b,F,w)=>{b.bi_valid>M-w?(b.bi_buf|=F<<b.bi_valid&65535,tt(b,b.bi_buf),b.bi_buf=F>>M-b.bi_valid,b.bi_valid+=w-M):(b.bi_buf|=F<<b.bi_valid&65535,b.bi_valid+=w)},"send_bits"),at=o((b,F,w)=>{$e(b,w[F*2],w[F*2+1])},"send_code"),lt=o((b,F)=>{let w=0;do w|=b&1,b>>>=1,w<<=1;while(--F>0);return w>>>1},"bi_reverse"),ot=o(b=>{b.bi_valid===16?(tt(b,b.bi_buf),b.bi_buf=0,b.bi_valid=0):b.bi_valid>=8&&(b.pending_buf[b.pending++]=b.bi_buf&255,b.bi_buf>>=8,b.bi_valid-=8)},"bi_flush"),Gt=o((b,F)=>{const w=F.dyn_tree,X=F.max_code,z=F.stat_desc.static_tree,ae=F.stat_desc.has_stree,be=F.stat_desc.extra_bits,ve=F.stat_desc.extra_base,qe=F.stat_desc.max_length;let pe,Te,Qt,Xe,Ue,yt,Bn=0;for(Xe=0;Xe<=I;Xe++)b.bl_count[Xe]=0;for(w[b.heap[b.heap_max]*2+1]=0,pe=b.heap_max+1;pe<s;pe++)Te=b.heap[pe],Xe=w[w[Te*2+1]*2+1]+1,Xe>qe&&(Xe=qe,Bn++),w[Te*2+1]=Xe,!(Te>X)&&(b.bl_count[Xe]++,Ue=0,Te>=ve&&(Ue=be[Te-ve]),yt=w[Te*2],b.opt_len+=yt*(Xe+Ue),ae&&(b.static_len+=yt*(z[Te*2+1]+Ue)));if(Bn!==0){do{for(Xe=qe-1;b.bl_count[Xe]===0;)Xe--;b.bl_count[Xe]--,b.bl_count[Xe+1]+=2,b.bl_count[qe]--,Bn-=2}while(Bn>0);for(Xe=qe;Xe!==0;Xe--)for(Te=b.bl_count[Xe];Te!==0;)Qt=b.heap[--pe],!(Qt>X)&&(w[Qt*2+1]!==Xe&&(b.opt_len+=(Xe-w[Qt*2+1])*w[Qt*2],w[Qt*2+1]=Xe),Te--)}},"gen_bitlen"),Zt=o((b,F,w)=>{const X=new Array(I+1);let z=0,ae,be;for(ae=1;ae<=I;ae++)X[ae]=z=z+w[ae-1]<<1;for(be=0;be<=F;be++){let ve=b[be*2+1];ve!==0&&(b[be*2]=lt(X[ve]++,ve))}},"gen_codes"),un=o(()=>{let b,F,w,X,z;const ae=new Array(I+1);for(w=0,X=0;X<l-1;X++)for(Ie[X]=w,b=0;b<1<<$[X];b++)ge[w++]=X;for(ge[w-1]=X,z=0,X=0;X<16;X++)for(le[X]=z,b=0;b<1<<O[X];b++)ie[z++]=X;for(z>>=7;X<g;X++)for(le[X]=z<<7,b=0;b<1<<O[X]-7;b++)ie[256+z++]=X;for(F=0;F<=I;F++)ae[F]=0;for(b=0;b<=143;)Z[b*2+1]=8,b++,ae[8]++;for(;b<=255;)Z[b*2+1]=9,b++,ae[9]++;for(;b<=279;)Z[b*2+1]=7,b++,ae[7]++;for(;b<=287;)Z[b*2+1]=8,b++,ae[8]++;for(Zt(Z,v+1,ae),b=0;b<g;b++)Y[b*2+1]=5,Y[b*2]=lt(b,5);Be=new we(Z,$,p+1,v,I),Re=new we(Y,O,0,g,I),Ne=new we(new Array(0),P,0,u,R)},"tr_static_init"),Un=o(b=>{let F;for(F=0;F<v;F++)b.dyn_ltree[F*2]=0;for(F=0;F<g;F++)b.dyn_dtree[F*2]=0;for(F=0;F<u;F++)b.bl_tree[F*2]=0;b.dyn_ltree[B*2]=1,b.opt_len=b.static_len=0,b.last_lit=b.matches=0},"init_block"),jn=o(b=>{b.bi_valid>8?tt(b,b.bi_buf):b.bi_valid>0&&(b.pending_buf[b.pending++]=b.bi_buf),b.bi_buf=0,b.bi_valid=0},"bi_windup"),ci=o((b,F,w,X)=>{jn(b),X&&(tt(b,w),tt(b,~w)),b.pending_buf.set(b.window.subarray(F,F+w),b.pending),b.pending+=w},"copy_block"),fn=o((b,F,w,X)=>{const z=F*2,ae=w*2;return b[z]<b[ae]||b[z]===b[ae]&&X[F]<=X[w]},"smaller"),ri=o((b,F,w)=>{const X=b.heap[w];let z=w<<1;for(;z<=b.heap_len&&(z<b.heap_len&&fn(F,b.heap[z+1],b.heap[z],b.depth)&&z++,!fn(F,X,b.heap[z],b.depth));)b.heap[w]=b.heap[z],w=z,z<<=1;b.heap[w]=X},"pqdownheap"),gi=o((b,F,w)=>{let X,z,ae=0,be,ve;if(b.last_lit!==0)do X=b.pending_buf[b.d_buf+ae*2]<<8|b.pending_buf[b.d_buf+ae*2+1],z=b.pending_buf[b.l_buf+ae],ae++,X===0?at(b,z,F):(be=ge[z],at(b,be+p+1,F),ve=$[be],ve!==0&&(z-=Ie[be],$e(b,z,ve)),X--,be=Ze(X),at(b,be,w),ve=O[be],ve!==0&&(X-=le[be],$e(b,X,ve)));while(ae<b.last_lit);at(b,B,F)},"compress_block"),Nn=o((b,F)=>{const w=F.dyn_tree,X=F.stat_desc.static_tree,z=F.stat_desc.has_stree,ae=F.stat_desc.elems;let be,ve,qe=-1,pe;for(b.heap_len=0,b.heap_max=s,be=0;be<ae;be++)w[be*2]!==0?(b.heap[++b.heap_len]=qe=be,b.depth[be]=0):w[be*2+1]=0;for(;b.heap_len<2;)pe=b.heap[++b.heap_len]=qe<2?++qe:0,w[pe*2]=1,b.depth[pe]=0,b.opt_len--,z&&(b.static_len-=X[pe*2+1]);for(F.max_code=qe,be=b.heap_len>>1;be>=1;be--)ri(b,w,be);pe=ae;do be=b.heap[1],b.heap[1]=b.heap[b.heap_len--],ri(b,w,1),ve=b.heap[1],b.heap[--b.heap_max]=be,b.heap[--b.heap_max]=ve,w[pe*2]=w[be*2]+w[ve*2],b.depth[pe]=(b.depth[be]>=b.depth[ve]?b.depth[be]:b.depth[ve])+1,w[be*2+1]=w[ve*2+1]=pe,b.heap[1]=pe++,ri(b,w,1);while(b.heap_len>=2);b.heap[--b.heap_max]=b.heap[1],Gt(b,F),Zt(w,qe,b.bl_count)},"build_tree"),Ti=o((b,F,w)=>{let X,z=-1,ae,be=F[0*2+1],ve=0,qe=7,pe=4;for(be===0&&(qe=138,pe=3),F[(w+1)*2+1]=65535,X=0;X<=w;X++)ae=be,be=F[(X+1)*2+1],!(++ve<qe&&ae===be)&&(ve<pe?b.bl_tree[ae*2]+=ve:ae!==0?(ae!==z&&b.bl_tree[ae*2]++,b.bl_tree[j*2]++):ve<=10?b.bl_tree[A*2]++:b.bl_tree[D*2]++,ve=0,z=ae,be===0?(qe=138,pe=3):ae===be?(qe=6,pe=3):(qe=7,pe=4))},"scan_tree"),Bi=o((b,F,w)=>{let X,z=-1,ae,be=F[0*2+1],ve=0,qe=7,pe=4;for(be===0&&(qe=138,pe=3),X=0;X<=w;X++)if(ae=be,be=F[(X+1)*2+1],!(++ve<qe&&ae===be)){if(ve<pe)do at(b,ae,b.bl_tree);while(--ve!==0);else ae!==0?(ae!==z&&(at(b,ae,b.bl_tree),ve--),at(b,j,b.bl_tree),$e(b,ve-3,2)):ve<=10?(at(b,A,b.bl_tree),$e(b,ve-3,3)):(at(b,D,b.bl_tree),$e(b,ve-11,7));ve=0,z=ae,be===0?(qe=138,pe=3):ae===be?(qe=6,pe=3):(qe=7,pe=4)}},"send_tree"),vn=o(b=>{let F;for(Ti(b,b.dyn_ltree,b.l_desc.max_code),Ti(b,b.dyn_dtree,b.d_desc.max_code),Nn(b,b.bl_desc),F=u-1;F>=3&&b.bl_tree[k[F]*2+1]===0;F--);return b.opt_len+=3*(F+1)+5+5+4,F},"build_bl_tree"),Mn=o((b,F,w,X)=>{let z;for($e(b,F-257,5),$e(b,w-1,5),$e(b,X-4,4),z=0;z<X;z++)$e(b,b.bl_tree[k[z]*2+1],3);Bi(b,b.dyn_ltree,F-1),Bi(b,b.dyn_dtree,w-1)},"send_all_trees"),Ot=o(b=>{let F=4093624447,w;for(w=0;w<=31;w++,F>>>=1)if(F&1&&b.dyn_ltree[w*2]!==0)return h;if(b.dyn_ltree[9*2]!==0||b.dyn_ltree[10*2]!==0||b.dyn_ltree[13*2]!==0)return m;for(w=32;w<p;w++)if(b.dyn_ltree[w*2]!==0)return m;return h},"detect_data_type");let Ke=!1;const gt=o(b=>{Ke||(un(),Ke=!0),b.l_desc=new _e(b.dyn_ltree,Be),b.d_desc=new _e(b.dyn_dtree,Re),b.bl_desc=new _e(b.bl_tree,Ne),b.bi_buf=0,b.bi_valid=0,Un(b)},"_tr_init$1"),ht=o((b,F,w,X)=>{$e(b,(n<<1)+(X?1:0),3),ci(b,F,w,!0)},"_tr_stored_block$1"),en=o(b=>{$e(b,i<<1,3),at(b,B,Z),ot(b)},"_tr_align$1"),Kn=o((b,F,w,X)=>{let z,ae,be=0;b.level>0?(b.strm.data_type===f&&(b.strm.data_type=Ot(b)),Nn(b,b.l_desc),Nn(b,b.d_desc),be=vn(b),z=b.opt_len+3+7>>>3,ae=b.static_len+3+7>>>3,ae<=z&&(z=ae)):z=ae=w+5,w+4<=z&&F!==-1?ht(b,F,w,X):b.strategy===S||ae===z?($e(b,(i<<1)+(X?1:0),3),gi(b,Z,Y)):($e(b,(e<<1)+(X?1:0),3),Mn(b,b.l_desc.max_code+1,b.d_desc.max_code+1,be+1),gi(b,b.dyn_ltree,b.dyn_dtree)),Un(b),X&&jn(b)},"_tr_flush_block$1"),li=o((b,F,w)=>(b.pending_buf[b.d_buf+b.last_lit*2]=F>>>8&255,b.pending_buf[b.d_buf+b.last_lit*2+1]=F&255,b.pending_buf[b.l_buf+b.last_lit]=w&255,b.last_lit++,F===0?b.dyn_ltree[w*2]++:(b.matches++,F--,b.dyn_ltree[(ge[w]+p+1)*2]++,b.dyn_dtree[Ze(F)*2]++),b.last_lit===b.lit_bufsize-1),"_tr_tally$1");var Ee=gt,Pe=ht,Fe=Kn,Dt=li,zt=en,Ut={_tr_init:Ee,_tr_stored_block:Pe,_tr_flush_block:Fe,_tr_tally:Dt,_tr_align:zt},wn=o((b,F,w,X)=>{let z=b&65535|0,ae=b>>>16&65535|0,be=0;for(;w!==0;){be=w>2e3?2e3:w,w-=be;do z=z+F[X++]|0,ae=ae+z|0;while(--be);z%=65521,ae%=65521}return z|ae<<16|0},"adler32");const pn=o(()=>{let b,F=[];for(var w=0;w<256;w++){b=w;for(var X=0;X<8;X++)b=b&1?3988292384^b>>>1:b>>>1;F[w]=b}return F},"makeTable"),xt=new Uint32Array(pn());var on=o((b,F,w,X)=>{const z=xt,ae=X+w;b^=-1;for(let be=X;be<ae;be++)b=b>>>8^z[(b^F[be])&255];return b^-1},"crc32"),Xn={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},vi={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8};const{_tr_init:kr,_tr_stored_block:Gr,_tr_flush_block:Lr,_tr_tally:hi,_tr_align:_r}=Ut,{Z_NO_FLUSH:Ii,Z_PARTIAL_FLUSH:Nr,Z_FULL_FLUSH:or,Z_FINISH:fi,Z_BLOCK:Er,Z_OK:oi,Z_STREAM_END:tr,Z_STREAM_ERROR:Jn,Z_DATA_ERROR:sr,Z_BUF_ERROR:$i,Z_DEFAULT_COMPRESSION:Tr,Z_FILTERED:Ir,Z_HUFFMAN_ONLY:Ki,Z_RLE:Or,Z_FIXED:H,Z_DEFAULT_STRATEGY:te,Z_UNKNOWN:Oe,Z_DEFLATED:ke}=vi,Ge=9,ft=15,pt=8,ct=29,Mt=256+1+ct,kt=30,En=19,$t=2*Mt+1,Hn=15,bt=3,Zn=258,zn=Zn+bt+1,yi=32,ei=42,$n=69,Ei=73,Pi=91,pi=103,di=113,wi=666,tn=1,si=2,Qn=3,Di=4,io=3,mi=o((b,F)=>(b.msg=Xn[F],F),"err"),Br=o(b=>(b<<1)-(b>4?9:0),"rank"),Ui=o(b=>{let F=b.length;for(;--F>=0;)b[F]=0},"zero");let Xi=o((b,F,w)=>(F<<b.hash_shift^w)&b.hash_mask,"HASH_ZLIB");const Ji=o(b=>{const F=b.state;let w=F.pending;w>b.avail_out&&(w=b.avail_out),w!==0&&(b.output.set(F.pending_buf.subarray(F.pending_out,F.pending_out+w),b.next_out),b.next_out+=w,F.pending_out+=w,b.total_out+=w,b.avail_out-=w,F.pending-=w,F.pending===0&&(F.pending_out=0))},"flush_pending"),ti=o((b,F)=>{Lr(b,b.block_start>=0?b.block_start:-1,b.strstart-b.block_start,F),b.block_start=b.strstart,Ji(b.strm)},"flush_block_only"),Jt=o((b,F)=>{b.pending_buf[b.pending++]=F},"put_byte"),ar=o((b,F)=>{b.pending_buf[b.pending++]=F>>>8&255,b.pending_buf[b.pending++]=F&255},"putShortMSB"),Jo=o((b,F,w,X)=>{let z=b.avail_in;return z>X&&(z=X),z===0?0:(b.avail_in-=z,F.set(b.input.subarray(b.next_in,b.next_in+z),w),b.state.wrap===1?b.adler=wn(b.adler,F,z,w):b.state.wrap===2&&(b.adler=on(b.adler,F,z,w)),b.next_in+=z,b.total_in+=z,z)},"read_buf"),ro=o((b,F)=>{let w=b.max_chain_length,X=b.strstart,z,ae,be=b.prev_length,ve=b.nice_match;const qe=b.strstart>b.w_size-zn?b.strstart-(b.w_size-zn):0,pe=b.window,Te=b.w_mask,Qt=b.prev,Xe=b.strstart+Zn;let Ue=pe[X+be-1],yt=pe[X+be];b.prev_length>=b.good_match&&(w>>=2),ve>b.lookahead&&(ve=b.lookahead);do if(z=F,!(pe[z+be]!==yt||pe[z+be-1]!==Ue||pe[z]!==pe[X]||pe[++z]!==pe[X+1])){X+=2,z++;do;while(pe[++X]===pe[++z]&&pe[++X]===pe[++z]&&pe[++X]===pe[++z]&&pe[++X]===pe[++z]&&pe[++X]===pe[++z]&&pe[++X]===pe[++z]&&pe[++X]===pe[++z]&&pe[++X]===pe[++z]&&X<Xe);if(ae=Zn-(Xe-X),X=Xe-Zn,ae>be){if(b.match_start=F,be=ae,ae>=ve)break;Ue=pe[X+be-1],yt=pe[X+be]}}while((F=Qt[F&Te])>qe&&--w!==0);return be<=b.lookahead?be:b.lookahead},"longest_match"),Hi=o(b=>{const F=b.w_size;let w,X,z,ae,be;do{if(ae=b.window_size-b.lookahead-b.strstart,b.strstart>=F+(F-zn)){b.window.set(b.window.subarray(F,F+F),0),b.match_start-=F,b.strstart-=F,b.block_start-=F,X=b.hash_size,w=X;do z=b.head[--w],b.head[w]=z>=F?z-F:0;while(--X);X=F,w=X;do z=b.prev[--w],b.prev[w]=z>=F?z-F:0;while(--X);ae+=F}if(b.strm.avail_in===0)break;if(X=Jo(b.strm,b.window,b.strstart+b.lookahead,ae),b.lookahead+=X,b.lookahead+b.insert>=bt)for(be=b.strstart-b.insert,b.ins_h=b.window[be],b.ins_h=Xi(b,b.ins_h,b.window[be+1]);b.insert&&(b.ins_h=Xi(b,b.ins_h,b.window[be+bt-1]),b.prev[be&b.w_mask]=b.head[b.ins_h],b.head[b.ins_h]=be,be++,b.insert--,!(b.lookahead+b.insert<bt)););}while(b.lookahead<zn&&b.strm.avail_in!==0)},"fill_window"),$r=o((b,F)=>{let w=65535;for(w>b.pending_buf_size-5&&(w=b.pending_buf_size-5);;){if(b.lookahead<=1){if(Hi(b),b.lookahead===0&&F===Ii)return tn;if(b.lookahead===0)break}b.strstart+=b.lookahead,b.lookahead=0;const X=b.block_start+w;if((b.strstart===0||b.strstart>=X)&&(b.lookahead=b.strstart-X,b.strstart=X,ti(b,!1),b.strm.avail_out===0)||b.strstart-b.block_start>=b.w_size-zn&&(ti(b,!1),b.strm.avail_out===0))return tn}return b.insert=0,F===fi?(ti(b,!0),b.strm.avail_out===0?Qn:Di):(b.strstart>b.block_start&&(ti(b,!1),b.strm.avail_out===0),tn)},"deflate_stored"),Fr=o((b,F)=>{let w,X;for(;;){if(b.lookahead<zn){if(Hi(b),b.lookahead<zn&&F===Ii)return tn;if(b.lookahead===0)break}if(w=0,b.lookahead>=bt&&(b.ins_h=Xi(b,b.ins_h,b.window[b.strstart+bt-1]),w=b.prev[b.strstart&b.w_mask]=b.head[b.ins_h],b.head[b.ins_h]=b.strstart),w!==0&&b.strstart-w<=b.w_size-zn&&(b.match_length=ro(b,w)),b.match_length>=bt)if(X=hi(b,b.strstart-b.match_start,b.match_length-bt),b.lookahead-=b.match_length,b.match_length<=b.max_lazy_match&&b.lookahead>=bt){b.match_length--;do b.strstart++,b.ins_h=Xi(b,b.ins_h,b.window[b.strstart+bt-1]),w=b.prev[b.strstart&b.w_mask]=b.head[b.ins_h],b.head[b.ins_h]=b.strstart;while(--b.match_length!==0);b.strstart++}else b.strstart+=b.match_length,b.match_length=0,b.ins_h=b.window[b.strstart],b.ins_h=Xi(b,b.ins_h,b.window[b.strstart+1]);else X=hi(b,0,b.window[b.strstart]),b.lookahead--,b.strstart++;if(X&&(ti(b,!1),b.strm.avail_out===0))return tn}return b.insert=b.strstart<bt-1?b.strstart:bt-1,F===fi?(ti(b,!0),b.strm.avail_out===0?Qn:Di):b.last_lit&&(ti(b,!1),b.strm.avail_out===0)?tn:si},"deflate_fast"),Zi=o((b,F)=>{let w,X,z;for(;;){if(b.lookahead<zn){if(Hi(b),b.lookahead<zn&&F===Ii)return tn;if(b.lookahead===0)break}if(w=0,b.lookahead>=bt&&(b.ins_h=Xi(b,b.ins_h,b.window[b.strstart+bt-1]),w=b.prev[b.strstart&b.w_mask]=b.head[b.ins_h],b.head[b.ins_h]=b.strstart),b.prev_length=b.match_length,b.prev_match=b.match_start,b.match_length=bt-1,w!==0&&b.prev_length<b.max_lazy_match&&b.strstart-w<=b.w_size-zn&&(b.match_length=ro(b,w),b.match_length<=5&&(b.strategy===Ir||b.match_length===bt&&b.strstart-b.match_start>4096)&&(b.match_length=bt-1)),b.prev_length>=bt&&b.match_length<=b.prev_length){z=b.strstart+b.lookahead-bt,X=hi(b,b.strstart-1-b.prev_match,b.prev_length-bt),b.lookahead-=b.prev_length-1,b.prev_length-=2;do++b.strstart<=z&&(b.ins_h=Xi(b,b.ins_h,b.window[b.strstart+bt-1]),w=b.prev[b.strstart&b.w_mask]=b.head[b.ins_h],b.head[b.ins_h]=b.strstart);while(--b.prev_length!==0);if(b.match_available=0,b.match_length=bt-1,b.strstart++,X&&(ti(b,!1),b.strm.avail_out===0))return tn}else if(b.match_available){if(X=hi(b,0,b.window[b.strstart-1]),X&&ti(b,!1),b.strstart++,b.lookahead--,b.strm.avail_out===0)return tn}else b.match_available=1,b.strstart++,b.lookahead--}return b.match_available&&(X=hi(b,0,b.window[b.strstart-1]),b.match_available=0),b.insert=b.strstart<bt-1?b.strstart:bt-1,F===fi?(ti(b,!0),b.strm.avail_out===0?Qn:Di):b.last_lit&&(ti(b,!1),b.strm.avail_out===0)?tn:si},"deflate_slow"),Ss=o((b,F)=>{let w,X,z,ae;const be=b.window;for(;;){if(b.lookahead<=Zn){if(Hi(b),b.lookahead<=Zn&&F===Ii)return tn;if(b.lookahead===0)break}if(b.match_length=0,b.lookahead>=bt&&b.strstart>0&&(z=b.strstart-1,X=be[z],X===be[++z]&&X===be[++z]&&X===be[++z])){ae=b.strstart+Zn;do;while(X===be[++z]&&X===be[++z]&&X===be[++z]&&X===be[++z]&&X===be[++z]&&X===be[++z]&&X===be[++z]&&X===be[++z]&&z<ae);b.match_length=Zn-(ae-z),b.match_length>b.lookahead&&(b.match_length=b.lookahead)}if(b.match_length>=bt?(w=hi(b,1,b.match_length-bt),b.lookahead-=b.match_length,b.strstart+=b.match_length,b.match_length=0):(w=hi(b,0,b.window[b.strstart]),b.lookahead--,b.strstart++),w&&(ti(b,!1),b.strm.avail_out===0))return tn}return b.insert=0,F===fi?(ti(b,!0),b.strm.avail_out===0?Qn:Di):b.last_lit&&(ti(b,!1),b.strm.avail_out===0)?tn:si},"deflate_rle"),ys=o((b,F)=>{let w;for(;;){if(b.lookahead===0&&(Hi(b),b.lookahead===0)){if(F===Ii)return tn;break}if(b.match_length=0,w=hi(b,0,b.window[b.strstart]),b.lookahead--,b.strstart++,w&&(ti(b,!1),b.strm.avail_out===0))return tn}return b.insert=0,F===fi?(ti(b,!0),b.strm.avail_out===0?Qn:Di):b.last_lit&&(ti(b,!1),b.strm.avail_out===0)?tn:si},"deflate_huff");function xi(b,F,w,X,z){this.good_length=b,this.max_lazy=F,this.nice_length=w,this.max_chain=X,this.func=z}o(xi,"Config");const hr=[new xi(0,0,0,0,$r),new xi(4,4,8,4,Fr),new xi(4,5,16,8,Fr),new xi(4,6,32,32,Fr),new xi(4,4,16,16,Zi),new xi(8,16,32,32,Zi),new xi(8,16,128,128,Zi),new xi(8,32,128,256,Zi),new xi(32,128,258,1024,Zi),new xi(32,258,258,4096,Zi)],bo=o(b=>{b.window_size=2*b.w_size,Ui(b.head),b.max_lazy_match=hr[b.level].max_lazy,b.good_match=hr[b.level].good_length,b.nice_match=hr[b.level].nice_length,b.max_chain_length=hr[b.level].max_chain,b.strstart=0,b.block_start=0,b.lookahead=0,b.insert=0,b.match_length=b.prev_length=bt-1,b.match_available=0,b.ins_h=0},"lm_init");function Cs(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=ke,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new Uint16Array($t*2),this.dyn_dtree=new Uint16Array((2*kt+1)*2),this.bl_tree=new Uint16Array((2*En+1)*2),Ui(this.dyn_ltree),Ui(this.dyn_dtree),Ui(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new Uint16Array(Hn+1),this.heap=new Uint16Array(2*Mt+1),Ui(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new Uint16Array(2*Mt+1),Ui(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}o(Cs,"DeflateState");const Mr=o(b=>{if(!b||!b.state)return mi(b,Jn);b.total_in=b.total_out=0,b.data_type=Oe;const F=b.state;return F.pending=0,F.pending_out=0,F.wrap<0&&(F.wrap=-F.wrap),F.status=F.wrap?ei:di,b.adler=F.wrap===2?0:1,F.last_flush=Ii,kr(F),oi},"deflateResetKeep"),ho=o(b=>{const F=Mr(b);return F===oi&&bo(b.state),F},"deflateReset"),oo=o((b,F)=>!b||!b.state||b.state.wrap!==2?Jn:(b.state.gzhead=F,oi),"deflateSetHeader"),Eo=o((b,F,w,X,z,ae)=>{if(!b)return Jn;let be=1;if(F===Tr&&(F=6),X<0?(be=0,X=-X):X>15&&(be=2,X-=16),z<1||z>Ge||w!==ke||X<8||X>15||F<0||F>9||ae<0||ae>H)return mi(b,Jn);X===8&&(X=9);const ve=new Cs;return b.state=ve,ve.strm=b,ve.wrap=be,ve.gzhead=null,ve.w_bits=X,ve.w_size=1<<ve.w_bits,ve.w_mask=ve.w_size-1,ve.hash_bits=z+7,ve.hash_size=1<<ve.hash_bits,ve.hash_mask=ve.hash_size-1,ve.hash_shift=~~((ve.hash_bits+bt-1)/bt),ve.window=new Uint8Array(ve.w_size*2),ve.head=new Uint16Array(ve.hash_size),ve.prev=new Uint16Array(ve.w_size),ve.lit_bufsize=1<<z+6,ve.pending_buf_size=ve.lit_bufsize*4,ve.pending_buf=new Uint8Array(ve.pending_buf_size),ve.d_buf=1*ve.lit_bufsize,ve.l_buf=(1+2)*ve.lit_bufsize,ve.level=F,ve.strategy=ae,ve.method=w,ho(b)},"deflateInit2"),Yo=o((b,F)=>Eo(b,F,ke,ft,pt,te),"deflateInit"),Xo=o((b,F)=>{let w,X;if(!b||!b.state||F>Er||F<0)return b?mi(b,Jn):Jn;const z=b.state;if(!b.output||!b.input&&b.avail_in!==0||z.status===wi&&F!==fi)return mi(b,b.avail_out===0?$i:Jn);z.strm=b;const ae=z.last_flush;if(z.last_flush=F,z.status===ei)if(z.wrap===2)b.adler=0,Jt(z,31),Jt(z,139),Jt(z,8),z.gzhead?(Jt(z,(z.gzhead.text?1:0)+(z.gzhead.hcrc?2:0)+(z.gzhead.extra?4:0)+(z.gzhead.name?8:0)+(z.gzhead.comment?16:0)),Jt(z,z.gzhead.time&255),Jt(z,z.gzhead.time>>8&255),Jt(z,z.gzhead.time>>16&255),Jt(z,z.gzhead.time>>24&255),Jt(z,z.level===9?2:z.strategy>=Ki||z.level<2?4:0),Jt(z,z.gzhead.os&255),z.gzhead.extra&&z.gzhead.extra.length&&(Jt(z,z.gzhead.extra.length&255),Jt(z,z.gzhead.extra.length>>8&255)),z.gzhead.hcrc&&(b.adler=on(b.adler,z.pending_buf,z.pending,0)),z.gzindex=0,z.status=$n):(Jt(z,0),Jt(z,0),Jt(z,0),Jt(z,0),Jt(z,0),Jt(z,z.level===9?2:z.strategy>=Ki||z.level<2?4:0),Jt(z,io),z.status=di);else{let be=ke+(z.w_bits-8<<4)<<8,ve=-1;z.strategy>=Ki||z.level<2?ve=0:z.level<6?ve=1:z.level===6?ve=2:ve=3,be|=ve<<6,z.strstart!==0&&(be|=yi),be+=31-be%31,z.status=di,ar(z,be),z.strstart!==0&&(ar(z,b.adler>>>16),ar(z,b.adler&65535)),b.adler=1}if(z.status===$n)if(z.gzhead.extra){for(w=z.pending;z.gzindex<(z.gzhead.extra.length&65535)&&!(z.pending===z.pending_buf_size&&(z.gzhead.hcrc&&z.pending>w&&(b.adler=on(b.adler,z.pending_buf,z.pending-w,w)),Ji(b),w=z.pending,z.pending===z.pending_buf_size));)Jt(z,z.gzhead.extra[z.gzindex]&255),z.gzindex++;z.gzhead.hcrc&&z.pending>w&&(b.adler=on(b.adler,z.pending_buf,z.pending-w,w)),z.gzindex===z.gzhead.extra.length&&(z.gzindex=0,z.status=Ei)}else z.status=Ei;if(z.status===Ei)if(z.gzhead.name){w=z.pending;do{if(z.pending===z.pending_buf_size&&(z.gzhead.hcrc&&z.pending>w&&(b.adler=on(b.adler,z.pending_buf,z.pending-w,w)),Ji(b),w=z.pending,z.pending===z.pending_buf_size)){X=1;break}z.gzindex<z.gzhead.name.length?X=z.gzhead.name.charCodeAt(z.gzindex++)&255:X=0,Jt(z,X)}while(X!==0);z.gzhead.hcrc&&z.pending>w&&(b.adler=on(b.adler,z.pending_buf,z.pending-w,w)),X===0&&(z.gzindex=0,z.status=Pi)}else z.status=Pi;if(z.status===Pi)if(z.gzhead.comment){w=z.pending;do{if(z.pending===z.pending_buf_size&&(z.gzhead.hcrc&&z.pending>w&&(b.adler=on(b.adler,z.pending_buf,z.pending-w,w)),Ji(b),w=z.pending,z.pending===z.pending_buf_size)){X=1;break}z.gzindex<z.gzhead.comment.length?X=z.gzhead.comment.charCodeAt(z.gzindex++)&255:X=0,Jt(z,X)}while(X!==0);z.gzhead.hcrc&&z.pending>w&&(b.adler=on(b.adler,z.pending_buf,z.pending-w,w)),X===0&&(z.status=pi)}else z.status=pi;if(z.status===pi&&(z.gzhead.hcrc?(z.pending+2>z.pending_buf_size&&Ji(b),z.pending+2<=z.pending_buf_size&&(Jt(z,b.adler&255),Jt(z,b.adler>>8&255),b.adler=0,z.status=di)):z.status=di),z.pending!==0){if(Ji(b),b.avail_out===0)return z.last_flush=-1,oi}else if(b.avail_in===0&&Br(F)<=Br(ae)&&F!==fi)return mi(b,$i);if(z.status===wi&&b.avail_in!==0)return mi(b,$i);if(b.avail_in!==0||z.lookahead!==0||F!==Ii&&z.status!==wi){let be=z.strategy===Ki?ys(z,F):z.strategy===Or?Ss(z,F):hr[z.level].func(z,F);if((be===Qn||be===Di)&&(z.status=wi),be===tn||be===Qn)return b.avail_out===0&&(z.last_flush=-1),oi;if(be===si&&(F===Nr?_r(z):F!==Er&&(Gr(z,0,0,!1),F===or&&(Ui(z.head),z.lookahead===0&&(z.strstart=0,z.block_start=0,z.insert=0))),Ji(b),b.avail_out===0))return z.last_flush=-1,oi}return F!==fi?oi:z.wrap<=0?tr:(z.wrap===2?(Jt(z,b.adler&255),Jt(z,b.adler>>8&255),Jt(z,b.adler>>16&255),Jt(z,b.adler>>24&255),Jt(z,b.total_in&255),Jt(z,b.total_in>>8&255),Jt(z,b.total_in>>16&255),Jt(z,b.total_in>>24&255)):(ar(z,b.adler>>>16),ar(z,b.adler&65535)),Ji(b),z.wrap>0&&(z.wrap=-z.wrap),z.pending!==0?oi:tr)},"deflate$2"),Lo=o(b=>{if(!b||!b.state)return Jn;const F=b.state.status;return F!==ei&&F!==$n&&F!==Ei&&F!==Pi&&F!==pi&&F!==di&&F!==wi?mi(b,Jn):(b.state=null,F===di?mi(b,sr):oi)},"deflateEnd"),Zo=o((b,F)=>{let w=F.length;if(!b||!b.state)return Jn;const X=b.state,z=X.wrap;if(z===2||z===1&&X.status!==ei||X.lookahead)return Jn;if(z===1&&(b.adler=wn(b.adler,F,w,0)),X.wrap=0,w>=X.w_size){z===0&&(Ui(X.head),X.strstart=0,X.block_start=0,X.insert=0);let qe=new Uint8Array(X.w_size);qe.set(F.subarray(w-X.w_size,w),0),F=qe,w=X.w_size}const ae=b.avail_in,be=b.next_in,ve=b.input;for(b.avail_in=w,b.next_in=0,b.input=F,Hi(X);X.lookahead>=bt;){let qe=X.strstart,pe=X.lookahead-(bt-1);do X.ins_h=Xi(X,X.ins_h,X.window[qe+bt-1]),X.prev[qe&X.w_mask]=X.head[X.ins_h],X.head[X.ins_h]=qe,qe++;while(--pe);X.strstart=qe,X.lookahead=bt-1,Hi(X)}return X.strstart+=X.lookahead,X.block_start=X.strstart,X.insert=X.lookahead,X.lookahead=0,X.match_length=X.prev_length=bt-1,X.match_available=0,b.next_in=be,b.input=ve,b.avail_in=ae,X.wrap=z,oi},"deflateSetDictionary");var fo=Yo,Ur=Eo,Ar=ho,To=Mr,po=oo,Kr=Xo,_o=Lo,No=Zo,Bo="pako deflate (from Nodeca project)",nr={deflateInit:fo,deflateInit2:Ur,deflateReset:Ar,deflateResetKeep:To,deflateSetHeader:po,deflate:Kr,deflateEnd:_o,deflateSetDictionary:No,deflateInfo:Bo};const Fo=o((b,F)=>Object.prototype.hasOwnProperty.call(b,F),"_has");var Qo=o(function(b){const F=Array.prototype.slice.call(arguments,1);for(;F.length;){const w=F.shift();if(w){if(typeof w!="object")throw new TypeError(w+"must be non-object");for(const X in w)Fo(w,X)&&(b[X]=w[X])}}return b},"assign"),Uo=o(b=>{let F=0;for(let X=0,z=b.length;X<z;X++)F+=b[X].length;const w=new Uint8Array(F);for(let X=0,z=0,ae=b.length;X<ae;X++){let be=b[X];w.set(be,z),z+=be.length}return w},"flattenChunks"),Vr={assign:Qo,flattenChunks:Uo};let so=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{so=!1}const fr=new Uint8Array(256);for(let b=0;b<256;b++)fr[b]=b>=252?6:b>=248?5:b>=240?4:b>=224?3:b>=192?2:1;fr[254]=fr[254]=1;var Rr=o(b=>{if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(b);let F,w,X,z,ae,be=b.length,ve=0;for(z=0;z<be;z++)w=b.charCodeAt(z),(w&64512)===55296&&z+1<be&&(X=b.charCodeAt(z+1),(X&64512)===56320&&(w=65536+(w-55296<<10)+(X-56320),z++)),ve+=w<128?1:w<2048?2:w<65536?3:4;for(F=new Uint8Array(ve),ae=0,z=0;ae<ve;z++)w=b.charCodeAt(z),(w&64512)===55296&&z+1<be&&(X=b.charCodeAt(z+1),(X&64512)===56320&&(w=65536+(w-55296<<10)+(X-56320),z++)),w<128?F[ae++]=w:w<2048?(F[ae++]=192|w>>>6,F[ae++]=128|w&63):w<65536?(F[ae++]=224|w>>>12,F[ae++]=128|w>>>6&63,F[ae++]=128|w&63):(F[ae++]=240|w>>>18,F[ae++]=128|w>>>12&63,F[ae++]=128|w>>>6&63,F[ae++]=128|w&63);return F},"string2buf");const Vo=o((b,F)=>{if(F<65534&&b.subarray&&so)return String.fromCharCode.apply(null,b.length===F?b:b.subarray(0,F));let w="";for(let X=0;X<F;X++)w+=String.fromCharCode(b[X]);return w},"buf2binstring");var Jr=o((b,F)=>{const w=F||b.length;if(typeof TextDecoder=="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(b.subarray(0,F));let X,z;const ae=new Array(w*2);for(z=0,X=0;X<w;){let be=b[X++];if(be<128){ae[z++]=be;continue}let ve=fr[be];if(ve>4){ae[z++]=65533,X+=ve-1;continue}for(be&=ve===2?31:ve===3?15:7;ve>1&&X<w;)be=be<<6|b[X++]&63,ve--;if(ve>1){ae[z++]=65533;continue}be<65536?ae[z++]=be:(be-=65536,ae[z++]=55296|be>>10&1023,ae[z++]=56320|be&1023)}return Vo(ae,z)},"buf2string"),qo=o((b,F)=>{F=F||b.length,F>b.length&&(F=b.length);let w=F-1;for(;w>=0&&(b[w]&192)===128;)w--;return w<0||w===0?F:w+fr[b[w]]>F?w:F},"utf8border"),wr={string2buf:Rr,buf2string:Jr,utf8border:qo};function mo(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}o(mo,"ZStream");var Io=mo;const Pr=Object.prototype.toString,{Z_NO_FLUSH:Hr,Z_SYNC_FLUSH:wo,Z_FULL_FLUSH:Ho,Z_FINISH:js,Z_OK:Dr,Z_STREAM_END:es,Z_DEFAULT_COMPRESSION:zr,Z_DEFAULT_STRATEGY:bs,Z_DEFLATED:Es}=vi;function lr(b){this.options=Vr.assign({level:zr,method:Es,chunkSize:16384,windowBits:15,memLevel:8,strategy:bs},b||{});let F=this.options;F.raw&&F.windowBits>0?F.windowBits=-F.windowBits:F.gzip&&F.windowBits>0&&F.windowBits<16&&(F.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new Io,this.strm.avail_out=0;let w=nr.deflateInit2(this.strm,F.level,F.method,F.windowBits,F.memLevel,F.strategy);if(w!==Dr)throw new Error(Xn[w]);if(F.header&&nr.deflateSetHeader(this.strm,F.header),F.dictionary){let X;if(typeof F.dictionary=="string"?X=wr.string2buf(F.dictionary):Pr.call(F.dictionary)==="[object ArrayBuffer]"?X=new Uint8Array(F.dictionary):X=F.dictionary,w=nr.deflateSetDictionary(this.strm,X),w!==Dr)throw new Error(Xn[w]);this._dict_set=!0}}o(lr,"Deflate$1"),lr.prototype.push=function(b,F){const w=this.strm,X=this.options.chunkSize;let z,ae;if(this.ended)return!1;for(F===~~F?ae=F:ae=F===!0?js:Hr,typeof b=="string"?w.input=wr.string2buf(b):Pr.call(b)==="[object ArrayBuffer]"?w.input=new Uint8Array(b):w.input=b,w.next_in=0,w.avail_in=w.input.length;;){if(w.avail_out===0&&(w.output=new Uint8Array(X),w.next_out=0,w.avail_out=X),(ae===wo||ae===Ho)&&w.avail_out<=6){this.onData(w.output.subarray(0,w.next_out)),w.avail_out=0;continue}if(z=nr.deflate(w,ae),z===es)return w.next_out>0&&this.onData(w.output.subarray(0,w.next_out)),z=nr.deflateEnd(this.strm),this.onEnd(z),this.ended=!0,z===Dr;if(w.avail_out===0){this.onData(w.output);continue}if(ae>0&&w.next_out>0){this.onData(w.output.subarray(0,w.next_out)),w.avail_out=0;continue}if(w.avail_in===0)break}return!0},lr.prototype.onData=function(b){this.chunks.push(b)},lr.prototype.onEnd=function(b){b===Dr&&(this.result=Vr.flattenChunks(this.chunks)),this.chunks=[],this.err=b,this.msg=this.strm.msg};function Yr(b,F){const w=new lr(F);if(w.push(b,!0),w.err)throw w.msg||Xn[w.err];return w.result}o(Yr,"deflate$1");function Xr(b,F){return F=F||{},F.raw=!0,Yr(b,F)}o(Xr,"deflateRaw$1");function ts(b,F){return F=F||{},F.gzip=!0,Yr(b,F)}o(ts,"gzip$1");var ns=lr,Ws=Yr,Oo=Xr,is=ts,Ts=vi,rs={Deflate:ns,deflate:Ws,deflateRaw:Oo,gzip:is,constants:Ts};const Zr=30,Is=12;var Mo=o(function(F,w){let X,z,ae,be,ve,qe,pe,Te,Qt,Xe,Ue,yt,Bn,Xt,Nt,hn,jt,Ye,qt,We,Ct,nt,mn,Bt;const Ht=F.state;X=F.next_in,mn=F.input,z=X+(F.avail_in-5),ae=F.next_out,Bt=F.output,be=ae-(w-F.avail_out),ve=ae+(F.avail_out-257),qe=Ht.dmax,pe=Ht.wsize,Te=Ht.whave,Qt=Ht.wnext,Xe=Ht.window,Ue=Ht.hold,yt=Ht.bits,Bn=Ht.lencode,Xt=Ht.distcode,Nt=(1<<Ht.lenbits)-1,hn=(1<<Ht.distbits)-1;e:do{yt<15&&(Ue+=mn[X++]<<yt,yt+=8,Ue+=mn[X++]<<yt,yt+=8),jt=Bn[Ue&Nt];t:for(;;){if(Ye=jt>>>24,Ue>>>=Ye,yt-=Ye,Ye=jt>>>16&255,Ye===0)Bt[ae++]=jt&65535;else if(Ye&16){qt=jt&65535,Ye&=15,Ye&&(yt<Ye&&(Ue+=mn[X++]<<yt,yt+=8),qt+=Ue&(1<<Ye)-1,Ue>>>=Ye,yt-=Ye),yt<15&&(Ue+=mn[X++]<<yt,yt+=8,Ue+=mn[X++]<<yt,yt+=8),jt=Xt[Ue&hn];n:for(;;){if(Ye=jt>>>24,Ue>>>=Ye,yt-=Ye,Ye=jt>>>16&255,Ye&16){if(We=jt&65535,Ye&=15,yt<Ye&&(Ue+=mn[X++]<<yt,yt+=8,yt<Ye&&(Ue+=mn[X++]<<yt,yt+=8)),We+=Ue&(1<<Ye)-1,We>qe){F.msg="invalid distance too far back",Ht.mode=Zr;break e}if(Ue>>>=Ye,yt-=Ye,Ye=ae-be,We>Ye){if(Ye=We-Ye,Ye>Te&&Ht.sane){F.msg="invalid distance too far back",Ht.mode=Zr;break e}if(Ct=0,nt=Xe,Qt===0){if(Ct+=pe-Ye,Ye<qt){qt-=Ye;do Bt[ae++]=Xe[Ct++];while(--Ye);Ct=ae-We,nt=Bt}}else if(Qt<Ye){if(Ct+=pe+Qt-Ye,Ye-=Qt,Ye<qt){qt-=Ye;do Bt[ae++]=Xe[Ct++];while(--Ye);if(Ct=0,Qt<qt){Ye=Qt,qt-=Ye;do Bt[ae++]=Xe[Ct++];while(--Ye);Ct=ae-We,nt=Bt}}}else if(Ct+=Qt-Ye,Ye<qt){qt-=Ye;do Bt[ae++]=Xe[Ct++];while(--Ye);Ct=ae-We,nt=Bt}for(;qt>2;)Bt[ae++]=nt[Ct++],Bt[ae++]=nt[Ct++],Bt[ae++]=nt[Ct++],qt-=3;qt&&(Bt[ae++]=nt[Ct++],qt>1&&(Bt[ae++]=nt[Ct++]))}else{Ct=ae-We;do Bt[ae++]=Bt[Ct++],Bt[ae++]=Bt[Ct++],Bt[ae++]=Bt[Ct++],qt-=3;while(qt>2);qt&&(Bt[ae++]=Bt[Ct++],qt>1&&(Bt[ae++]=Bt[Ct++]))}}else if(Ye&64){F.msg="invalid distance code",Ht.mode=Zr;break e}else{jt=Xt[(jt&65535)+(Ue&(1<<Ye)-1)];continue n}break}}else if(Ye&64)if(Ye&32){Ht.mode=Is;break e}else{F.msg="invalid literal/length code",Ht.mode=Zr;break e}else{jt=Bn[(jt&65535)+(Ue&(1<<Ye)-1)];continue t}break}}while(X<z&&ae<ve);qt=yt>>3,X-=qt,yt-=qt<<3,Ue&=(1<<yt)-1,F.next_in=X,F.next_out=ae,F.avail_in=X<z?5+(z-X):5-(X-z),F.avail_out=ae<ve?257+(ve-ae):257-(ae-ve),Ht.hold=Ue,Ht.bits=yt},"inflate_fast");const Qi=15,Ao=852,jr=592,Ro=0,ao=1,go=2,lo=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),ra=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),Gs=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),oa=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]);var Qr=o((b,F,w,X,z,ae,be,ve)=>{const qe=ve.bits;let pe=0,Te=0,Qt=0,Xe=0,Ue=0,yt=0,Bn=0,Xt=0,Nt=0,hn=0,jt,Ye,qt,We,Ct,nt=null,mn=0,Bt;const Ht=new Uint16Array(Qi+1),Wr=new Uint16Array(Qi+1);let dn=null,pl=0,ln,Ds,us;for(pe=0;pe<=Qi;pe++)Ht[pe]=0;for(Te=0;Te<X;Te++)Ht[F[w+Te]]++;for(Ue=qe,Xe=Qi;Xe>=1&&Ht[Xe]===0;Xe--);if(Ue>Xe&&(Ue=Xe),Xe===0)return z[ae++]=1<<24|64<<16|0,z[ae++]=1<<24|64<<16|0,ve.bits=1,0;for(Qt=1;Qt<Xe&&Ht[Qt]===0;Qt++);for(Ue<Qt&&(Ue=Qt),Xt=1,pe=1;pe<=Qi;pe++)if(Xt<<=1,Xt-=Ht[pe],Xt<0)return-1;if(Xt>0&&(b===Ro||Xe!==1))return-1;for(Wr[1]=0,pe=1;pe<Qi;pe++)Wr[pe+1]=Wr[pe]+Ht[pe];for(Te=0;Te<X;Te++)F[w+Te]!==0&&(be[Wr[F[w+Te]]++]=Te);if(b===Ro?(nt=dn=be,Bt=19):b===ao?(nt=lo,mn-=257,dn=ra,pl-=257,Bt=256):(nt=Gs,dn=oa,Bt=-1),hn=0,Te=0,pe=Qt,Ct=ae,yt=Ue,Bn=0,qt=-1,Nt=1<<Ue,We=Nt-1,b===ao&&Nt>Ao||b===go&&Nt>jr)return 1;for(;;){ln=pe-Bn,be[Te]<Bt?(Ds=0,us=be[Te]):be[Te]>Bt?(Ds=dn[pl+be[Te]],us=nt[mn+be[Te]]):(Ds=32+64,us=0),jt=1<<pe-Bn,Ye=1<<yt,Qt=Ye;do Ye-=jt,z[Ct+(hn>>Bn)+Ye]=ln<<24|Ds<<16|us|0;while(Ye!==0);for(jt=1<<pe-1;hn&jt;)jt>>=1;if(jt!==0?(hn&=jt-1,hn+=jt):hn=0,Te++,--Ht[pe]===0){if(pe===Xe)break;pe=F[w+be[Te]]}if(pe>Ue&&(hn&We)!==qt){for(Bn===0&&(Bn=Ue),Ct+=Qt,yt=pe-Bn,Xt=1<<yt;yt+Bn<Xe&&(Xt-=Ht[yt+Bn],!(Xt<=0));)yt++,Xt<<=1;if(Nt+=1<<yt,b===ao&&Nt>Ao||b===go&&Nt>jr)return 1;qt=hn&We,z[qt]=Ue<<24|yt<<16|Ct-ae|0}}return hn!==0&&(z[Ct+hn]=pe-Bn<<24|64<<16|0),ve.bits=Ue,0},"inflate_table");const Ks=0,os=1,Ra=2,{Z_FINISH:qr,Z_BLOCK:zo,Z_TREES:pr,Z_OK:cr,Z_STREAM_END:Pa,Z_NEED_DICT:sa,Z_STREAM_ERROR:ki,Z_DATA_ERROR:ss,Z_MEM_ERROR:vo,Z_BUF_ERROR:eo,Z_DEFLATED:zi}=vi,ws=1,Os=2,Ms=3,as=4,ls=5,cs=6,As=7,aa=8,he=9,re=10,q=11,L=12,G=13,se=14,oe=15,Ce=16,Ae=17,xe=18,Ve=19,He=20,Je=21,et=22,mt=23,Rt=24,Kt=25,Yt=26,an=27,cn=28,Tn=29,wt=30,ni=31,qn=32,Oi=852,Li=592,Si=15,Fi=o(b=>(b>>>24&255)+(b>>>8&65280)+((b&65280)<<8)+((b&255)<<24),"zswap32");function Ri(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}o(Ri,"InflateState");const qi=o(b=>{if(!b||!b.state)return ki;const F=b.state;return b.total_in=b.total_out=F.total=0,b.msg="",F.wrap&&(b.adler=F.wrap&1),F.mode=ws,F.last=0,F.havedict=0,F.dmax=32768,F.head=null,F.hold=0,F.bits=0,F.lencode=F.lendyn=new Int32Array(Oi),F.distcode=F.distdyn=new Int32Array(Li),F.sane=1,F.back=-1,cr},"inflateResetKeep"),to=o(b=>{if(!b||!b.state)return ki;const F=b.state;return F.wsize=0,F.whave=0,F.wnext=0,qi(b)},"inflateReset"),xr=o((b,F)=>{let w;if(!b||!b.state)return ki;const X=b.state;return F<0?(w=0,F=-F):(w=(F>>4)+1,F<48&&(F&=15)),F&&(F<8||F>15)?ki:(X.window!==null&&X.wbits!==F&&(X.window=null),X.wrap=w,X.wbits=F,to(b))},"inflateReset2"),mr=o((b,F)=>{if(!b)return ki;const w=new Ri;b.state=w,w.window=null;const X=xr(b,F);return X!==cr&&(b.state=null),X},"inflateInit2"),Da=o(b=>mr(b,Si),"inflateInit");let co=!0,jo,Rs;const sl=o(b=>{if(co){jo=new Int32Array(512),Rs=new Int32Array(32);let F=0;for(;F<144;)b.lens[F++]=8;for(;F<256;)b.lens[F++]=9;for(;F<280;)b.lens[F++]=7;for(;F<288;)b.lens[F++]=8;for(Qr(os,b.lens,0,288,jo,0,b.work,{bits:9}),F=0;F<32;)b.lens[F++]=5;Qr(Ra,b.lens,0,32,Rs,0,b.work,{bits:5}),co=!1}b.lencode=jo,b.lenbits=9,b.distcode=Rs,b.distbits=5},"fixedtables"),Js=o((b,F,w,X)=>{let z;const ae=b.state;return ae.window===null&&(ae.wsize=1<<ae.wbits,ae.wnext=0,ae.whave=0,ae.window=new Uint8Array(ae.wsize)),X>=ae.wsize?(ae.window.set(F.subarray(w-ae.wsize,w),0),ae.wnext=0,ae.whave=ae.wsize):(z=ae.wsize-ae.wnext,z>X&&(z=X),ae.window.set(F.subarray(w-X,w-X+z),ae.wnext),X-=z,X?(ae.window.set(F.subarray(w-X,w),0),ae.wnext=X,ae.whave=ae.wsize):(ae.wnext+=z,ae.wnext===ae.wsize&&(ae.wnext=0),ae.whave<ae.wsize&&(ae.whave+=z))),0},"updatewindow"),In=o((b,F)=>{let w,X,z,ae,be,ve,qe,pe,Te,Qt,Xe,Ue,yt,Bn,Xt=0,Nt,hn,jt,Ye,qt,We,Ct,nt;const mn=new Uint8Array(4);let Bt,Ht;const Wr=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(!b||!b.state||!b.output||!b.input&&b.avail_in!==0)return ki;w=b.state,w.mode===L&&(w.mode=G),be=b.next_out,z=b.output,qe=b.avail_out,ae=b.next_in,X=b.input,ve=b.avail_in,pe=w.hold,Te=w.bits,Qt=ve,Xe=qe,nt=cr;e:for(;;)switch(w.mode){case ws:if(w.wrap===0){w.mode=G;break}for(;Te<16;){if(ve===0)break e;ve--,pe+=X[ae++]<<Te,Te+=8}if(w.wrap&2&&pe===35615){w.check=0,mn[0]=pe&255,mn[1]=pe>>>8&255,w.check=on(w.check,mn,2,0),pe=0,Te=0,w.mode=Os;break}if(w.flags=0,w.head&&(w.head.done=!1),!(w.wrap&1)||(((pe&255)<<8)+(pe>>8))%31){b.msg="incorrect header check",w.mode=wt;break}if((pe&15)!==zi){b.msg="unknown compression method",w.mode=wt;break}if(pe>>>=4,Te-=4,Ct=(pe&15)+8,w.wbits===0)w.wbits=Ct;else if(Ct>w.wbits){b.msg="invalid window size",w.mode=wt;break}w.dmax=1<<w.wbits,b.adler=w.check=1,w.mode=pe&512?re:L,pe=0,Te=0;break;case Os:for(;Te<16;){if(ve===0)break e;ve--,pe+=X[ae++]<<Te,Te+=8}if(w.flags=pe,(w.flags&255)!==zi){b.msg="unknown compression method",w.mode=wt;break}if(w.flags&57344){b.msg="unknown header flags set",w.mode=wt;break}w.head&&(w.head.text=pe>>8&1),w.flags&512&&(mn[0]=pe&255,mn[1]=pe>>>8&255,w.check=on(w.check,mn,2,0)),pe=0,Te=0,w.mode=Ms;case Ms:for(;Te<32;){if(ve===0)break e;ve--,pe+=X[ae++]<<Te,Te+=8}w.head&&(w.head.time=pe),w.flags&512&&(mn[0]=pe&255,mn[1]=pe>>>8&255,mn[2]=pe>>>16&255,mn[3]=pe>>>24&255,w.check=on(w.check,mn,4,0)),pe=0,Te=0,w.mode=as;case as:for(;Te<16;){if(ve===0)break e;ve--,pe+=X[ae++]<<Te,Te+=8}w.head&&(w.head.xflags=pe&255,w.head.os=pe>>8),w.flags&512&&(mn[0]=pe&255,mn[1]=pe>>>8&255,w.check=on(w.check,mn,2,0)),pe=0,Te=0,w.mode=ls;case ls:if(w.flags&1024){for(;Te<16;){if(ve===0)break e;ve--,pe+=X[ae++]<<Te,Te+=8}w.length=pe,w.head&&(w.head.extra_len=pe),w.flags&512&&(mn[0]=pe&255,mn[1]=pe>>>8&255,w.check=on(w.check,mn,2,0)),pe=0,Te=0}else w.head&&(w.head.extra=null);w.mode=cs;case cs:if(w.flags&1024&&(Ue=w.length,Ue>ve&&(Ue=ve),Ue&&(w.head&&(Ct=w.head.extra_len-w.length,w.head.extra||(w.head.extra=new Uint8Array(w.head.extra_len)),w.head.extra.set(X.subarray(ae,ae+Ue),Ct)),w.flags&512&&(w.check=on(w.check,X,Ue,ae)),ve-=Ue,ae+=Ue,w.length-=Ue),w.length))break e;w.length=0,w.mode=As;case As:if(w.flags&2048){if(ve===0)break e;Ue=0;do Ct=X[ae+Ue++],w.head&&Ct&&w.length<65536&&(w.head.name+=String.fromCharCode(Ct));while(Ct&&Ue<ve);if(w.flags&512&&(w.check=on(w.check,X,Ue,ae)),ve-=Ue,ae+=Ue,Ct)break e}else w.head&&(w.head.name=null);w.length=0,w.mode=aa;case aa:if(w.flags&4096){if(ve===0)break e;Ue=0;do Ct=X[ae+Ue++],w.head&&Ct&&w.length<65536&&(w.head.comment+=String.fromCharCode(Ct));while(Ct&&Ue<ve);if(w.flags&512&&(w.check=on(w.check,X,Ue,ae)),ve-=Ue,ae+=Ue,Ct)break e}else w.head&&(w.head.comment=null);w.mode=he;case he:if(w.flags&512){for(;Te<16;){if(ve===0)break e;ve--,pe+=X[ae++]<<Te,Te+=8}if(pe!==(w.check&65535)){b.msg="header crc mismatch",w.mode=wt;break}pe=0,Te=0}w.head&&(w.head.hcrc=w.flags>>9&1,w.head.done=!0),b.adler=w.check=0,w.mode=L;break;case re:for(;Te<32;){if(ve===0)break e;ve--,pe+=X[ae++]<<Te,Te+=8}b.adler=w.check=Fi(pe),pe=0,Te=0,w.mode=q;case q:if(w.havedict===0)return b.next_out=be,b.avail_out=qe,b.next_in=ae,b.avail_in=ve,w.hold=pe,w.bits=Te,sa;b.adler=w.check=1,w.mode=L;case L:if(F===zo||F===pr)break e;case G:if(w.last){pe>>>=Te&7,Te-=Te&7,w.mode=an;break}for(;Te<3;){if(ve===0)break e;ve--,pe+=X[ae++]<<Te,Te+=8}switch(w.last=pe&1,pe>>>=1,Te-=1,pe&3){case 0:w.mode=se;break;case 1:if(sl(w),w.mode=He,F===pr){pe>>>=2,Te-=2;break e}break;case 2:w.mode=Ae;break;case 3:b.msg="invalid block type",w.mode=wt}pe>>>=2,Te-=2;break;case se:for(pe>>>=Te&7,Te-=Te&7;Te<32;){if(ve===0)break e;ve--,pe+=X[ae++]<<Te,Te+=8}if((pe&65535)!==(pe>>>16^65535)){b.msg="invalid stored block lengths",w.mode=wt;break}if(w.length=pe&65535,pe=0,Te=0,w.mode=oe,F===pr)break e;case oe:w.mode=Ce;case Ce:if(Ue=w.length,Ue){if(Ue>ve&&(Ue=ve),Ue>qe&&(Ue=qe),Ue===0)break e;z.set(X.subarray(ae,ae+Ue),be),ve-=Ue,ae+=Ue,qe-=Ue,be+=Ue,w.length-=Ue;break}w.mode=L;break;case Ae:for(;Te<14;){if(ve===0)break e;ve--,pe+=X[ae++]<<Te,Te+=8}if(w.nlen=(pe&31)+257,pe>>>=5,Te-=5,w.ndist=(pe&31)+1,pe>>>=5,Te-=5,w.ncode=(pe&15)+4,pe>>>=4,Te-=4,w.nlen>286||w.ndist>30){b.msg="too many length or distance symbols",w.mode=wt;break}w.have=0,w.mode=xe;case xe:for(;w.have<w.ncode;){for(;Te<3;){if(ve===0)break e;ve--,pe+=X[ae++]<<Te,Te+=8}w.lens[Wr[w.have++]]=pe&7,pe>>>=3,Te-=3}for(;w.have<19;)w.lens[Wr[w.have++]]=0;if(w.lencode=w.lendyn,w.lenbits=7,Bt={bits:w.lenbits},nt=Qr(Ks,w.lens,0,19,w.lencode,0,w.work,Bt),w.lenbits=Bt.bits,nt){b.msg="invalid code lengths set",w.mode=wt;break}w.have=0,w.mode=Ve;case Ve:for(;w.have<w.nlen+w.ndist;){for(;Xt=w.lencode[pe&(1<<w.lenbits)-1],Nt=Xt>>>24,hn=Xt>>>16&255,jt=Xt&65535,!(Nt<=Te);){if(ve===0)break e;ve--,pe+=X[ae++]<<Te,Te+=8}if(jt<16)pe>>>=Nt,Te-=Nt,w.lens[w.have++]=jt;else{if(jt===16){for(Ht=Nt+2;Te<Ht;){if(ve===0)break e;ve--,pe+=X[ae++]<<Te,Te+=8}if(pe>>>=Nt,Te-=Nt,w.have===0){b.msg="invalid bit length repeat",w.mode=wt;break}Ct=w.lens[w.have-1],Ue=3+(pe&3),pe>>>=2,Te-=2}else if(jt===17){for(Ht=Nt+3;Te<Ht;){if(ve===0)break e;ve--,pe+=X[ae++]<<Te,Te+=8}pe>>>=Nt,Te-=Nt,Ct=0,Ue=3+(pe&7),pe>>>=3,Te-=3}else{for(Ht=Nt+7;Te<Ht;){if(ve===0)break e;ve--,pe+=X[ae++]<<Te,Te+=8}pe>>>=Nt,Te-=Nt,Ct=0,Ue=11+(pe&127),pe>>>=7,Te-=7}if(w.have+Ue>w.nlen+w.ndist){b.msg="invalid bit length repeat",w.mode=wt;break}for(;Ue--;)w.lens[w.have++]=Ct}}if(w.mode===wt)break;if(w.lens[256]===0){b.msg="invalid code -- missing end-of-block",w.mode=wt;break}if(w.lenbits=9,Bt={bits:w.lenbits},nt=Qr(os,w.lens,0,w.nlen,w.lencode,0,w.work,Bt),w.lenbits=Bt.bits,nt){b.msg="invalid literal/lengths set",w.mode=wt;break}if(w.distbits=6,w.distcode=w.distdyn,Bt={bits:w.distbits},nt=Qr(Ra,w.lens,w.nlen,w.ndist,w.distcode,0,w.work,Bt),w.distbits=Bt.bits,nt){b.msg="invalid distances set",w.mode=wt;break}if(w.mode=He,F===pr)break e;case He:w.mode=Je;case Je:if(ve>=6&&qe>=258){b.next_out=be,b.avail_out=qe,b.next_in=ae,b.avail_in=ve,w.hold=pe,w.bits=Te,Mo(b,Xe),be=b.next_out,z=b.output,qe=b.avail_out,ae=b.next_in,X=b.input,ve=b.avail_in,pe=w.hold,Te=w.bits,w.mode===L&&(w.back=-1);break}for(w.back=0;Xt=w.lencode[pe&(1<<w.lenbits)-1],Nt=Xt>>>24,hn=Xt>>>16&255,jt=Xt&65535,!(Nt<=Te);){if(ve===0)break e;ve--,pe+=X[ae++]<<Te,Te+=8}if(hn&&!(hn&240)){for(Ye=Nt,qt=hn,We=jt;Xt=w.lencode[We+((pe&(1<<Ye+qt)-1)>>Ye)],Nt=Xt>>>24,hn=Xt>>>16&255,jt=Xt&65535,!(Ye+Nt<=Te);){if(ve===0)break e;ve--,pe+=X[ae++]<<Te,Te+=8}pe>>>=Ye,Te-=Ye,w.back+=Ye}if(pe>>>=Nt,Te-=Nt,w.back+=Nt,w.length=jt,hn===0){w.mode=Yt;break}if(hn&32){w.back=-1,w.mode=L;break}if(hn&64){b.msg="invalid literal/length code",w.mode=wt;break}w.extra=hn&15,w.mode=et;case et:if(w.extra){for(Ht=w.extra;Te<Ht;){if(ve===0)break e;ve--,pe+=X[ae++]<<Te,Te+=8}w.length+=pe&(1<<w.extra)-1,pe>>>=w.extra,Te-=w.extra,w.back+=w.extra}w.was=w.length,w.mode=mt;case mt:for(;Xt=w.distcode[pe&(1<<w.distbits)-1],Nt=Xt>>>24,hn=Xt>>>16&255,jt=Xt&65535,!(Nt<=Te);){if(ve===0)break e;ve--,pe+=X[ae++]<<Te,Te+=8}if(!(hn&240)){for(Ye=Nt,qt=hn,We=jt;Xt=w.distcode[We+((pe&(1<<Ye+qt)-1)>>Ye)],Nt=Xt>>>24,hn=Xt>>>16&255,jt=Xt&65535,!(Ye+Nt<=Te);){if(ve===0)break e;ve--,pe+=X[ae++]<<Te,Te+=8}pe>>>=Ye,Te-=Ye,w.back+=Ye}if(pe>>>=Nt,Te-=Nt,w.back+=Nt,hn&64){b.msg="invalid distance code",w.mode=wt;break}w.offset=jt,w.extra=hn&15,w.mode=Rt;case Rt:if(w.extra){for(Ht=w.extra;Te<Ht;){if(ve===0)break e;ve--,pe+=X[ae++]<<Te,Te+=8}w.offset+=pe&(1<<w.extra)-1,pe>>>=w.extra,Te-=w.extra,w.back+=w.extra}if(w.offset>w.dmax){b.msg="invalid distance too far back",w.mode=wt;break}w.mode=Kt;case Kt:if(qe===0)break e;if(Ue=Xe-qe,w.offset>Ue){if(Ue=w.offset-Ue,Ue>w.whave&&w.sane){b.msg="invalid distance too far back",w.mode=wt;break}Ue>w.wnext?(Ue-=w.wnext,yt=w.wsize-Ue):yt=w.wnext-Ue,Ue>w.length&&(Ue=w.length),Bn=w.window}else Bn=z,yt=be-w.offset,Ue=w.length;Ue>qe&&(Ue=qe),qe-=Ue,w.length-=Ue;do z[be++]=Bn[yt++];while(--Ue);w.length===0&&(w.mode=Je);break;case Yt:if(qe===0)break e;z[be++]=w.length,qe--,w.mode=Je;break;case an:if(w.wrap){for(;Te<32;){if(ve===0)break e;ve--,pe|=X[ae++]<<Te,Te+=8}if(Xe-=qe,b.total_out+=Xe,w.total+=Xe,Xe&&(b.adler=w.check=w.flags?on(w.check,z,Xe,be-Xe):wn(w.check,z,Xe,be-Xe)),Xe=qe,(w.flags?pe:Fi(pe))!==w.check){b.msg="incorrect data check",w.mode=wt;break}pe=0,Te=0}w.mode=cn;case cn:if(w.wrap&&w.flags){for(;Te<32;){if(ve===0)break e;ve--,pe+=X[ae++]<<Te,Te+=8}if(pe!==(w.total&4294967295)){b.msg="incorrect length check",w.mode=wt;break}pe=0,Te=0}w.mode=Tn;case Tn:nt=Pa;break e;case wt:nt=ss;break e;case ni:return vo;case qn:default:return ki}return b.next_out=be,b.avail_out=qe,b.next_in=ae,b.avail_in=ve,w.hold=pe,w.bits=Te,(w.wsize||Xe!==b.avail_out&&w.mode<wt&&(w.mode<an||F!==qr))&&Js(b,b.output,b.next_out,Xe-b.avail_out),Qt-=b.avail_in,Xe-=b.avail_out,b.total_in+=Qt,b.total_out+=Xe,w.total+=Xe,w.wrap&&Xe&&(b.adler=w.check=w.flags?on(w.check,z,Xe,b.next_out-Xe):wn(w.check,z,Xe,b.next_out-Xe)),b.data_type=w.bits+(w.last?64:0)+(w.mode===L?128:0)+(w.mode===He||w.mode===oe?256:0),(Qt===0&&Xe===0||F===qr)&&nt===cr&&(nt=eo),nt},"inflate$2"),nn=o(b=>{if(!b||!b.state)return ki;let F=b.state;return F.window&&(F.window=null),b.state=null,cr},"inflateEnd"),Fl=o((b,F)=>{if(!b||!b.state)return ki;const w=b.state;return w.wrap&2?(w.head=F,F.done=!1,cr):ki},"inflateGetHeader"),Ec=o((b,F)=>{const w=F.length;let X,z,ae;return!b||!b.state||(X=b.state,X.wrap!==0&&X.mode!==q)?ki:X.mode===q&&(z=1,z=wn(z,F,w,0),z!==X.check)?ss:(ae=Js(b,F,w,w),ae?(X.mode=ni,vo):(X.havedict=1,cr))},"inflateSetDictionary");var al=to,Gi=xr,Ul=qi,xa=Da,la=mr,Tc=In,ll=nn,cl=Fl,dl=Ec,ka="pako inflate (from Nodeca project)",dr={inflateReset:al,inflateReset2:Gi,inflateResetKeep:Ul,inflateInit:xa,inflateInit2:la,inflate:Tc,inflateEnd:ll,inflateGetHeader:cl,inflateSetDictionary:dl,inflateInfo:ka};function rn(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}o(rn,"GZheader");var Yn=rn;const It=Object.prototype.toString,{Z_NO_FLUSH:Ic,Z_FINISH:ul,Z_OK:Wo,Z_STREAM_END:Ys,Z_NEED_DICT:Xs,Z_STREAM_ERROR:Ps,Z_DATA_ERROR:ca,Z_MEM_ERROR:wc}=vi;function Go(b){this.options=Vr.assign({chunkSize:1024*64,windowBits:15,to:""},b||{});const F=this.options;F.raw&&F.windowBits>=0&&F.windowBits<16&&(F.windowBits=-F.windowBits,F.windowBits===0&&(F.windowBits=-15)),F.windowBits>=0&&F.windowBits<16&&!(b&&b.windowBits)&&(F.windowBits+=32),F.windowBits>15&&F.windowBits<48&&(F.windowBits&15||(F.windowBits|=15)),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new Io,this.strm.avail_out=0;let w=dr.inflateInit2(this.strm,F.windowBits);if(w!==Wo)throw new Error(Xn[w]);if(this.header=new Yn,dr.inflateGetHeader(this.strm,this.header),F.dictionary&&(typeof F.dictionary=="string"?F.dictionary=wr.string2buf(F.dictionary):It.call(F.dictionary)==="[object ArrayBuffer]"&&(F.dictionary=new Uint8Array(F.dictionary)),F.raw&&(w=dr.inflateSetDictionary(this.strm,F.dictionary),w!==Wo)))throw new Error(Xn[w])}o(Go,"Inflate$1"),Go.prototype.push=function(b,F){const w=this.strm,X=this.options.chunkSize,z=this.options.dictionary;let ae,be,ve;if(this.ended)return!1;for(F===~~F?be=F:be=F===!0?ul:Ic,It.call(b)==="[object ArrayBuffer]"?w.input=new Uint8Array(b):w.input=b,w.next_in=0,w.avail_in=w.input.length;;){for(w.avail_out===0&&(w.output=new Uint8Array(X),w.next_out=0,w.avail_out=X),ae=dr.inflate(w,be),ae===Xs&&z&&(ae=dr.inflateSetDictionary(w,z),ae===Wo?ae=dr.inflate(w,be):ae===ca&&(ae=Xs));w.avail_in>0&&ae===Ys&&w.state.wrap>0&&b[w.next_in]!==0;)dr.inflateReset(w),ae=dr.inflate(w,be);switch(ae){case Ps:case ca:case Xs:case wc:return this.onEnd(ae),this.ended=!0,!1}if(ve=w.avail_out,w.next_out&&(w.avail_out===0||ae===Ys))if(this.options.to==="string"){let qe=wr.utf8border(w.output,w.next_out),pe=w.next_out-qe,Te=wr.buf2string(w.output,qe);w.next_out=pe,w.avail_out=X-pe,pe&&w.output.set(w.output.subarray(qe,qe+pe),0),this.onData(Te)}else this.onData(w.output.length===w.next_out?w.output:w.output.subarray(0,w.next_out));if(!(ae===Wo&&ve===0)){if(ae===Ys)return ae=dr.inflateEnd(this.strm),this.onEnd(ae),this.ended=!0,!0;if(w.avail_in===0)break}}return!0},Go.prototype.onData=function(b){this.chunks.push(b)},Go.prototype.onEnd=function(b){b===Wo&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=Vr.flattenChunks(this.chunks)),this.chunks=[],this.err=b,this.msg=this.strm.msg};function da(b,F){const w=new Go(F);if(w.push(b),w.err)throw w.msg||Xn[w.err];return w.result}o(da,"inflate$1");function hl(b,F){return F=F||{},F.raw=!0,da(b,F)}o(hl,"inflateRaw$1");var Oc=Go,Mc=da,Ac=hl,Zs=da,Vl=vi,ua={Inflate:Oc,inflate:Mc,inflateRaw:Ac,ungzip:Zs,constants:Vl};const{Deflate:ha,deflate:Hl,deflateRaw:La,gzip:Rc}=rs,{Inflate:zl,inflate:Pc,inflateRaw:jl,ungzip:Dc}=ua;var _a=ha,Na=Hl,Ba=La,fl=Rc,er=zl,ds=Pc,Fa=jl,Ua=Dc,Va=vi,Ha={Deflate:_a,deflate:Na,deflateRaw:Ba,gzip:fl,Inflate:er,inflate:ds,inflateRaw:Fa,ungzip:Ua,constants:Va}},mZDK:function(N,c,d){"use strict";Object.defineProperty(c,"__esModule",{value:!0});let S=o(class{cancel(){}name(){return"NoOpTask"}run(){return Promise.resolve()}setParent(m){}},"NoOpTask");c.default=S},mb4i:function(N,c,d){"use strict";d.d(c,"a",function(){return t});var S=d("9oTK"),h=d.n(S),m=d("m8R6"),f=d("2XU3"),a=d("WCk1"),n=d("s4P+"),i=d("pjW8");const e={ChannelNotFound:"channel_not_found",InvalidChannelId:"invalid_channel_id"},t=Object(a.a)("conversations.teamConnections generated fetcher",function(){var r=Object(S.coroutine)(function*(l,p,v){try{const g=["reason"],u=Object(m.a)(v,g),s=Object(i.b)(u);return yield l(Object(f.a)({method:"conversations.teamConnections",args:s,reason:v.reason}))}catch(g){throw Object(n.a)({getState:p}).error(`API call to conversations.teamConnections
				with reason ${v.reason} failed, initiated by generated fetcher`),g}});return function(l,p,v){return r.apply(this,arguments)}}());t.meta={name:"createFetcher",key:"createFetcherconversationsTeamConnectionsFetcher",description:"conversations.teamConnections generated fetcher"}},mcAb:function(N,c,d){"use strict";Object.defineProperty(c,"__esModule",{value:!0});const S=d("Np2I"),h=d("5/Tg");let m=o(class{create(){return new S.default(this.fixedWaitMs,this.shortBackoffMs,this.longBackoffMs)}createWithLimit(a){return new h.default(this.fixedWaitMs,this.shortBackoffMs,this.longBackoffMs,a)}constructor(a,n,i){this.fixedWaitMs=a,this.shortBackoffMs=n,this.longBackoffMs=i}},"FullJitterBackoffFactory");c.default=m},mgFs:function(N,c,d){"use strict";d.d(c,"b",function(){return S}),d.d(c,"a",function(){return h});var S;(function(m){m[m.ID=25]="ID",m[m.FRECENCY=0]="FRECENCY",m[m.RAW_FRECENCY=65]="RAW_FRECENCY",m[m.FRECENCY_BONUS=76]="FRECENCY_BONUS",m[m.FRECENCY_WEIGHT_HIT_VISITS=91]="FRECENCY_WEIGHT_HIT_VISITS",m[m.FRECENCY_HIT_COUNT=92]="FRECENCY_HIT_COUNT",m[m.FRECENCY_WEIGHT_ITEM_VISITS=93]="FRECENCY_WEIGHT_ITEM_VISITS",m[m.FRECENCY_ITEM_COUNT=94]="FRECENCY_ITEM_COUNT",m[m.FRECENCY_LOG_HIT_COUNT=105]="FRECENCY_LOG_HIT_COUNT",m[m.FRECENCY_LOG_HIT_COUNT_SCALED=106]="FRECENCY_LOG_HIT_COUNT_SCALED",m[m.FRECENCY_LOG_ITEM_COUNT=159]="FRECENCY_LOG_ITEM_COUNT",m[m.FRECENCY_LOG_ITEM_COUNT_SCALED=160]="FRECENCY_LOG_ITEM_COUNT_SCALED",m[m.FRECENCY_HIT_VISIT_DECAY_2H=162]="FRECENCY_HIT_VISIT_DECAY_2H",m[m.FRECENCY_HIT_VISIT_DECAY_7D=163]="FRECENCY_HIT_VISIT_DECAY_7D",m[m.FRECENCY_ITEM_VISIT_DECAY_2H=164]="FRECENCY_ITEM_VISIT_DECAY_2H",m[m.FRECENCY_ITEM_VISIT_DECAY_7D=165]="FRECENCY_ITEM_VISIT_DECAY_7D",m[m.FRECENCY_HIT_VISITS_4H=242]="FRECENCY_HIT_VISITS_4H",m[m.FRECENCY_HIT_VISITS_1D=243]="FRECENCY_HIT_VISITS_1D",m[m.FRECENCY_HIT_VISITS_3D=244]="FRECENCY_HIT_VISITS_3D",m[m.FRECENCY_HIT_VISITS_1W=245]="FRECENCY_HIT_VISITS_1W",m[m.FRECENCY_HIT_VISITS_1M=246]="FRECENCY_HIT_VISITS_1M",m[m.FRECENCY_HIT_VISITS_90D=247]="FRECENCY_HIT_VISITS_90D",m[m.FRECENCY_ITEM_VISITS_4H=248]="FRECENCY_ITEM_VISITS_4H",m[m.FRECENCY_ITEM_VISITS_1D=249]="FRECENCY_ITEM_VISITS_1D",m[m.FRECENCY_ITEM_VISITS_3D=250]="FRECENCY_ITEM_VISITS_3D",m[m.FRECENCY_ITEM_VISITS_1W=251]="FRECENCY_ITEM_VISITS_1W",m[m.FRECENCY_ITEM_VISITS_1M=252]="FRECENCY_ITEM_VISITS_1M",m[m.FRECENCY_ITEM_VISITS_90D=253]="FRECENCY_ITEM_VISITS_90D",m[m.TYPE_NAVIGATION_CHANNEL=2]="TYPE_NAVIGATION_CHANNEL",m[m.TYPE_NAVIGATION_LINK=172]="TYPE_NAVIGATION_LINK",m[m.TYPE_NAVIGATION_MPIM=4]="TYPE_NAVIGATION_MPIM",m[m.TYPE_NAVIGATION_MODAL=177]="TYPE_NAVIGATION_MODAL",m[m.TYPE_NAVIGATION_USER=5]="TYPE_NAVIGATION_USER",m[m.TYPE_QUERY=6]="TYPE_QUERY",m[m.TYPE_QUERY_HISTORY=7]="TYPE_QUERY_HISTORY",m[m.TYPE_EMOJI=178]="TYPE_EMOJI",m[m.ACTIVE_TOKEN_FILTER_IN=8]="ACTIVE_TOKEN_FILTER_IN",m[m.ACTIVE_TOKEN_FILTER_FROM=9]="ACTIVE_TOKEN_FILTER_FROM",m[m.ACTIVE_TOKEN_FILTER_TO=10]="ACTIVE_TOKEN_FILTER_TO",m[m.ACTIVE_TOKEN_FILTER_BEFORE=11]="ACTIVE_TOKEN_FILTER_BEFORE",m[m.ACTIVE_TOKEN_FILTER_DURING=12]="ACTIVE_TOKEN_FILTER_DURING",m[m.ACTIVE_TOKEN_FILTER_ON=13]="ACTIVE_TOKEN_FILTER_ON",m[m.ACTIVE_TOKEN_FILTER_AFTER=14]="ACTIVE_TOKEN_FILTER_AFTER",m[m.ACTIVE_TOKEN_FILTER_HAS=15]="ACTIVE_TOKEN_FILTER_HAS",m[m.ACTIVE_TOKEN_FILTER_IS=155]="ACTIVE_TOKEN_FILTER_IS",m[m.ACTIVE_TOKEN_FILTER_WITH=233]="ACTIVE_TOKEN_FILTER_WITH",m[m.ACTIVE_TOKEN_MEMBER=16]="ACTIVE_TOKEN_MEMBER",m[m.ACTIVE_TOKEN_STRING=17]="ACTIVE_TOKEN_STRING",m[m.ACTIVE_TOKEN_PHRASE=18]="ACTIVE_TOKEN_PHRASE",m[m.STRING_EXACT_MATCH=19]="STRING_EXACT_MATCH",m[m.STRING_EXACT_PREFIX_MATCH=20]="STRING_EXACT_PREFIX_MATCH",m[m.STRING_NORMAL_MATCH=21]="STRING_NORMAL_MATCH",m[m.STRING_NORMAL_PREFIX_MATCH=22]="STRING_NORMAL_PREFIX_MATCH",m[m.STRING_SAME_NUMBER_WORDS=23]="STRING_SAME_NUMBER_WORDS",m[m.EXCESS_STRING_LENGTH=24]="EXCESS_STRING_LENGTH",m[m.EXACT_MATCH_LOG_RESULTS=229]="EXACT_MATCH_LOG_RESULTS",m[m.FILE_SUGGESTION_SCORE=26]="FILE_SUGGESTION_SCORE",m[m.ACTIVE_TOKEN_QUERY_SUGGESTION=27]="ACTIVE_TOKEN_QUERY_SUGGESTION",m[m.QUERY_SUGGESTION_SCORE_V2=28]="QUERY_SUGGESTION_SCORE_V2",m[m.TYPE_NAVIGATION_TEAM=31]="TYPE_NAVIGATION_TEAM",m[m.TYPE_NAVIGATION_VIEW=32]="TYPE_NAVIGATION_VIEW",m[m.TYPE_USER_QUERY=33]="TYPE_USER_QUERY",m[m.NAV_EXACT_MATCH=35]="NAV_EXACT_MATCH",m[m.NAV_EXACT_PREFIX_MATCH=36]="NAV_EXACT_PREFIX_MATCH",m[m.NAV_NORMAL_MATCH=37]="NAV_NORMAL_MATCH",m[m.NAV_NORMAL_PREFIX_MATCH=75]="NAV_NORMAL_PREFIX_MATCH",m[m.CHANNEL_IS_PREVIOUS_NAME_EXACT_MATCH=38]="CHANNEL_IS_PREVIOUS_NAME_EXACT_MATCH",m[m.CHANNEL_IS_PREVIOUS_NAME_PREFIX_MATCH=39]="CHANNEL_IS_PREVIOUS_NAME_PREFIX_MATCH",m[m.CHANNEL_IS_ARCHIVED=40]="CHANNEL_IS_ARCHIVED",m[m.CHANNEL_IS_MEMBER=41]="CHANNEL_IS_MEMBER",m[m.CHANNEL_IS_STARRED=42]="CHANNEL_IS_STARRED",m[m.MPIM_IS_STARRED=43]="MPIM_IS_STARRED",m[m.CHANNEL_IS_UNREAD=44]="CHANNEL_IS_UNREAD",m[m.MPIM_IS_UNREAD=45]="MPIM_IS_UNREAD",m[m.CHANNEL_IS_OTHER_TEAM=46]="CHANNEL_IS_OTHER_TEAM",m[m.USER_IS_ACTIVE=47]="USER_IS_ACTIVE",m[m.USER_IS_CURRENT_USER=48]="USER_IS_CURRENT_USER",m[m.USER_DM_IS_STARRED=49]="USER_DM_IS_STARRED",m[m.USER_DM_IS_UNREAD=50]="USER_DM_IS_UNREAD",m[m.CHANNEL_PRIORITY=51]="CHANNEL_PRIORITY",m[m.CHANNEL_READ_AGE_DECAY_7D=52]="CHANNEL_READ_AGE_DECAY_7D",m[m.CHANNEL_READ_AGE_DECAY_2H=53]="CHANNEL_READ_AGE_DECAY_2H",m[m.MPIM_READ_AGE_DECAY_2H=54]="MPIM_READ_AGE_DECAY_2H",m[m.MPIM_READ_AGE_DECAY_7D=55]="MPIM_READ_AGE_DECAY_7D",m[m.USER_DM_READ_AGE_DECAY_7D=56]="USER_DM_READ_AGE_DECAY_7D",m[m.USER_DM_READ_AGE_DECAY_2H=57]="USER_DM_READ_AGE_DECAY_2H",m[m.USER_DM_READ_AGE_DECAY_7D_V2=274]="USER_DM_READ_AGE_DECAY_7D_V2",m[m.USER_DM_READ_AGE_DECAY_2H_V2=275]="USER_DM_READ_AGE_DECAY_2H_V2",m[m.QUERY_LENGTH=61]="QUERY_LENGTH",m[m.NAV_QUERY_LENGTH=62]="NAV_QUERY_LENGTH",m[m.SUGGESTION_TEXT_LENGTH=63]="SUGGESTION_TEXT_LENGTH",m[m.NAV_TEXT_LENGTH=64]="NAV_TEXT_LENGTH",m[m.MPIM_PRIORITY=66]="MPIM_PRIORITY",m[m.QUERY_RATIO_LENGTH_STRING=68]="QUERY_RATIO_LENGTH_STRING",m[m.NAV_QUERY_RATIO_LENGTH_STRING=69]="NAV_QUERY_RATIO_LENGTH_STRING",m[m.USER_QUERY_RATIO_LENGTH_STRING=70]="USER_QUERY_RATIO_LENGTH_STRING",m[m.CHANNEL_QUERY_RATIO_LENGTH_STRING=71]="CHANNEL_QUERY_RATIO_LENGTH_STRING",m[m.MPIM_QUERY_RATIO_LENGTH_STRING=72]="MPIM_QUERY_RATIO_LENGTH_STRING",m[m.FUZZY_SCORE=73]="FUZZY_SCORE",m[m.MPIM_WITH_DEACTIVATED_USER=74]="MPIM_WITH_DEACTIVATED_USER",m[m.USER_FIRST_NAME_EXACT_MATCH=81]="USER_FIRST_NAME_EXACT_MATCH",m[m.USER_FIRST_NAME_EXACT_PREFIX_MATCH=82]="USER_FIRST_NAME_EXACT_PREFIX_MATCH",m[m.USER_FIRST_NAME_NORMAL_MATCH=83]="USER_FIRST_NAME_NORMAL_MATCH",m[m.USER_FIRST_NAME_NORMAL_PREFIX_MATCH=84]="USER_FIRST_NAME_NORMAL_PREFIX_MATCH",m[m.USER_LAST_NAME_EXACT_MATCH=85]="USER_LAST_NAME_EXACT_MATCH",m[m.USER_LAST_NAME_EXACT_PREFIX_MATCH=86]="USER_LAST_NAME_EXACT_PREFIX_MATCH",m[m.USER_LAST_NAME_NORMAL_MATCH=87]="USER_LAST_NAME_NORMAL_MATCH",m[m.USER_LAST_NAME_NORMAL_PREFIX_MATCH=88]="USER_LAST_NAME_NORMAL_PREFIX_MATCH",m[m.USER_PRIORITY=89]="USER_PRIORITY",m[m.ONLY_MATCHES_PREVIOUS_NAME=90]="ONLY_MATCHES_PREVIOUS_NAME",m[m.NAV_NORMAL_MATCH_USER=95]="NAV_NORMAL_MATCH_USER",m[m.NAV_NORMAL_PREFIX_MATCH_USER=96]="NAV_NORMAL_PREFIX_MATCH_USER",m[m.NAV_NORMAL_MATCH_NO_USER=97]="NAV_NORMAL_MATCH_NO_USER",m[m.NAV_NORMAL_PREFIX_MATCH_NO_USER=98]="NAV_NORMAL_PREFIX_MATCH_NO_USER",m[m.CHANNEL_LATEST_MSG_AGE_DECAY_7D=99]="CHANNEL_LATEST_MSG_AGE_DECAY_7D",m[m.CHANNEL_LATEST_MSG_AGE_DECAY_2H=100]="CHANNEL_LATEST_MSG_AGE_DECAY_2H",m[m.MPIM_LATEST_MSG_AGE_DECAY_2H=101]="MPIM_LATEST_MSG_AGE_DECAY_2H",m[m.MPIM_LATEST_MSG_AGE_DECAY_7D=102]="MPIM_LATEST_MSG_AGE_DECAY_7D",m[m.USER_DM_LATEST_MSG_AGE_DECAY_7D=103]="USER_DM_LATEST_MSG_AGE_DECAY_7D",m[m.USER_DM_LATEST_MSG_AGE_DECAY_2H=104]="USER_DM_LATEST_MSG_AGE_DECAY_2H",m[m.USER_DM_LATEST_MSG_AGE_DECAY_7D_V2=260]="USER_DM_LATEST_MSG_AGE_DECAY_7D_V2",m[m.USER_DM_LATEST_MSG_AGE_DECAY_2H_V2=261]="USER_DM_LATEST_MSG_AGE_DECAY_2H_V2",m[m.FUZZY_SCORE_50=127]="FUZZY_SCORE_50",m[m.FUZZY_SCORE_25=128]="FUZZY_SCORE_25",m[m.FUZZY_SCORE_ALL=129]="FUZZY_SCORE_ALL",m[m.FUZZY_SCORE_SCALED_EXP=291]="FUZZY_SCORE_SCALED_EXP",m[m.FUZZY_SCORE_SCALED_FLIPPED=292]="FUZZY_SCORE_SCALED_FLIPPED",m[m.FUZZY_SCORE_SCALED_SUBTRACT=293]="FUZZY_SCORE_SCALED_SUBTRACT",m[m.HERE_KEYWORD=131]="HERE_KEYWORD",m[m.HERE_KEYWORD_EXACT_MATCH=132]="HERE_KEYWORD_EXACT_MATCH",m[m.IS_BROADCAST_KEYWORD=133]="IS_BROADCAST_KEYWORD",m[m.BROADCAST_KEYWORD_NORMAL_MATCH=134]="BROADCAST_KEYWORD_NORMAL_MATCH",m[m.MEMBER_OF_CURRENT_CHANNEL=153]="MEMBER_OF_CURRENT_CHANNEL",m[m.QUERY_LENGTH_DECAY_NORMAL_MATCH_CHANNEL=154]="QUERY_LENGTH_DECAY_NORMAL_MATCH_CHANNEL",m[m.USER_EMAIL_MATCH=170]="USER_EMAIL_MATCH",m[m.USER_EMAIL_ONLY_MATCH=171]="USER_EMAIL_ONLY_MATCH",m[m.QUERY_IS_SELF=193]="QUERY_IS_SELF",m[m.CURRENT_USER_TEXTY=194]="CURRENT_USER_TEXTY",m[m.USER_IS_EXTERNAL=234]="USER_IS_EXTERNAL",m[m.USER_SAME_TEAM=235]="USER_SAME_TEAM",m[m.USER_IS_BOT=254]="USER_IS_BOT",m[m.CHANNEL_TEAM_CTR_90DD=189]="CHANNEL_TEAM_CTR_90DD",m[m.CHANNEL_USER_CTR_30DD=190]="CHANNEL_USER_CTR_30DD",m[m.NAV_NORMAL_MATCH_CHANNEL_LOG_RESULTS=199]="NAV_NORMAL_MATCH_CHANNEL_LOG_RESULTS",m[m.HISTORY_AGE_DECAY_2H=230]="HISTORY_AGE_DECAY_2H",m[m.HISTORY_AGE_DECAY_7D=231]="HISTORY_AGE_DECAY_7D",m[m.HISTORY_POSITION=232]="HISTORY_POSITION",m[m.USER_DM_NULL=179]="USER_DM_NULL",m[m.USER_DM_EMPTY=180]="USER_DM_EMPTY",m[m.USER_DM_NOT_OPEN=181]="USER_DM_NOT_OPEN",m[m.USER_DM_OPEN=182]="USER_DM_OPEN",m[m.USER_DM_LATEST_OLDER_30D=183]="USER_DM_LATEST_OLDER_30D",m[m.USER_DM_LATEST_OLDER_90D=184]="USER_DM_LATEST_OLDER_90D",m[m.USER_DM_EMPTY_V2=257]="USER_DM_EMPTY_V2",m[m.USER_DM_LATEST_OLDER_30D_V2=258]="USER_DM_LATEST_OLDER_30D_V2",m[m.USER_DM_LATEST_OLDER_90D_V2=259]="USER_DM_LATEST_OLDER_90D_V2",m[m.USER_HAS_DMED=284]="USER_HAS_DMED",m[m.USER_DM_READ_AGE_DECAY_2H_V3=285]="USER_DM_READ_AGE_DECAY_2H_V3",m[m.USER_DM_READ_AGE_DECAY_7D_V3=286]="USER_DM_READ_AGE_DECAY_7D_V3",m[m.USER_DM_READ_OLDER_7D=287]="USER_DM_READ_OLDER_7D",m[m.USER_DM_READ_OLDER_30D=288]="USER_DM_READ_OLDER_30D",m[m.USER_DM_READ_OLDER_90D=289]="USER_DM_READ_OLDER_90D",m[m.USER_MPIM_READ_AGE_DECAY_7D=236]="USER_MPIM_READ_AGE_DECAY_7D",m[m.USER_MPIM_READ_AGE_DECAY_2H=237]="USER_MPIM_READ_AGE_DECAY_2H",m[m.USER_MPIM_LATEST_MSG_AGE_DECAY_7D=238]="USER_MPIM_LATEST_MSG_AGE_DECAY_7D",m[m.USER_MPIM_LATEST_MSG_AGE_DECAY_2H=239]="USER_MPIM_LATEST_MSG_AGE_DECAY_2H",m[m.USER_MPIM_FRECENCY_LOG_HIT_COUNT=240]="USER_MPIM_FRECENCY_LOG_HIT_COUNT",m[m.USER_MPIM_FRECENCY_LOG_ITEM_COUNT=241]="USER_MPIM_FRECENCY_LOG_ITEM_COUNT",m[m.MPIM_MEMBERS=166]="MPIM_MEMBERS",m[m.MPIM_MEMBER_NAME_MATCHES=167]="MPIM_MEMBER_NAME_MATCHES",m[m.MPIM_MEMBER_ALL_MATCHES=168]="MPIM_MEMBER_ALL_MATCHES",m[m.MPIM_MATCHER_SCORE=169]="MPIM_MATCHER_SCORE",m[m.MPIM_MATCHER_SCORE_0=173]="MPIM_MATCHER_SCORE_0",m[m.MPIM_MATCHER_SCORE_1=174]="MPIM_MATCHER_SCORE_1",m[m.MPIM_MATCHER_SCORE_2=175]="MPIM_MATCHER_SCORE_2",m[m.MPIM_MATCHER_SCORE_3=176]="MPIM_MATCHER_SCORE_3",m[m.MPIM_TEAM_CTR_90DD=187]="MPIM_TEAM_CTR_90DD",m[m.MPIM_USER_CTR_30DD=188]="MPIM_USER_CTR_30DD",m[m.MPIM_USERS_MAX_LATEST_MSG_AGE_DECAY_2H=262]="MPIM_USERS_MAX_LATEST_MSG_AGE_DECAY_2H",m[m.MPIM_USERS_MAX_LATEST_MSG_AGE_DECAY_7D=263]="MPIM_USERS_MAX_LATEST_MSG_AGE_DECAY_7D",m[m.MPIM_USERS_AVG_LATEST_MSG_AGE_DECAY_2H=264]="MPIM_USERS_AVG_LATEST_MSG_AGE_DECAY_2H",m[m.MPIM_USERS_AVG_LATEST_MSG_AGE_DECAY_7D=265]="MPIM_USERS_AVG_LATEST_MSG_AGE_DECAY_7D",m[m.MPIM_USERS_MAX_MSG_READ_AGE_DECAY_2H=266]="MPIM_USERS_MAX_MSG_READ_AGE_DECAY_2H",m[m.MPIM_USERS_MAX_MSG_READ_AGE_DECAY_7D=267]="MPIM_USERS_MAX_MSG_READ_AGE_DECAY_7D",m[m.MPIM_USERS_AVG_MSG_READ_AGE_DECAY_2H=268]="MPIM_USERS_AVG_MSG_READ_AGE_DECAY_2H",m[m.MPIM_USERS_AVG_MSG_READ_AGE_DECAY_7D=269]="MPIM_USERS_AVG_MSG_READ_AGE_DECAY_7D",m[m.MPIM_USERS_PCT_NON_EMPTY_DMS=270]="MPIM_USERS_PCT_NON_EMPTY_DMS",m[m.MPIM_USERS_PCT_NON_NULL_DMS=271]="MPIM_USERS_PCT_NON_NULL_DMS",m[m.MPIM_USERS_ALL_INTERNAL=272]="MPIM_USERS_ALL_INTERNAL",m[m.EMOJI_EXACT_MATCH=136]="EMOJI_EXACT_MATCH",m[m.EMOJI_QUERY_LENGTH_RATIO=150]="EMOJI_QUERY_LENGTH_RATIO",m[m.EMOJI_TOTAL_COMBO_BREAKS=151]="EMOJI_TOTAL_COMBO_BREAKS",m[m.EMOJI_COMBO_BREAK_0=161]="EMOJI_COMBO_BREAK_0",m[m.EMOJI_COMBO_BREAK_1=156]="EMOJI_COMBO_BREAK_1",m[m.EMOJI_COMBO_BREAK_2=157]="EMOJI_COMBO_BREAK_2",m[m.EMOJI_COMBO_BREAK_3=158]="EMOJI_COMBO_BREAK_3",m[m.EMOJI_TEAM_CTR_90DD=185]="EMOJI_TEAM_CTR_90DD",m[m.EMOJI_USER_CTR_30DD=186]="EMOJI_USER_CTR_30DD",m[m.CHANNEL_IS_FROZEN=146]="CHANNEL_IS_FROZEN",m[m.USER_DM_IS_FROZEN=147]="USER_DM_IS_FROZEN",m[m.CHANNEL_HAS_DRAFT=148]="CHANNEL_HAS_DRAFT",m[m.USER_DM_HAS_DRAFT=149]="USER_DM_HAS_DRAFT",m[m.QUERY_FRECENCY_RAW=107]="QUERY_FRECENCY_RAW",m[m.QUERY_FRECENCY_WEIGHT_HIT_VISITS=108]="QUERY_FRECENCY_WEIGHT_HIT_VISITS",m[m.QUERY_FRECENCY_HIT_COUNT=109]="QUERY_FRECENCY_HIT_COUNT",m[m.QUERY_FRECENCY_WEIGHT_ITEM_VISITS=110]="QUERY_FRECENCY_WEIGHT_ITEM_VISITS",m[m.QUERY_FRECENCY_ITEM_COUNT=111]="QUERY_FRECENCY_ITEM_COUNT",m[m.QUERY_FUZZY_SCORE=112]="QUERY_FUZZY_SCORE",m[m.QUERY_FRECENCY_BONUS=113]="QUERY_FRECENCY_BONUS",m[m.QUERY_LOG_HIT_COUNT=130]="QUERY_LOG_HIT_COUNT",m[m.QUERY_TOKEN_NORMAL_MATCH=137]="QUERY_TOKEN_NORMAL_MATCH",m[m.QUERY_TOKEN_NORMAL_PREFIX_MATCH=138]="QUERY_TOKEN_NORMAL_PREFIX_MATCH",m[m.QUERY_HISTORY_AGE_DECAY_30D=282]="QUERY_HISTORY_AGE_DECAY_30D",m[m.QUERY_HISTORY_LOG_INDEX=283]="QUERY_HISTORY_LOG_INDEX",m[m.FILTER_USER_IS_ACTIVE=114]="FILTER_USER_IS_ACTIVE",m[m.FILTER_USER_IS_CURRENT_USER=115]="FILTER_USER_IS_CURRENT_USER",m[m.FILTER_USER_DM_IS_STARRED=116]="FILTER_USER_DM_IS_STARRED",m[m.FILTER_USER_DM_IS_UNREAD=117]="FILTER_USER_DM_IS_UNREAD",m[m.FILTER_USER_DM_READ_AGE_DECAY_7D=118]="FILTER_USER_DM_READ_AGE_DECAY_7D",m[m.FILTER_USER_DM_READ_AGE_DECAY_2H=119]="FILTER_USER_DM_READ_AGE_DECAY_2H",m[m.FILTER_USER_DM_LATEST_MSG_AGE_DECAY_7D=120]="FILTER_USER_DM_LATEST_MSG_AGE_DECAY_7D",m[m.FILTER_USER_DM_LATEST_MSG_AGE_DECAY_2H=121]="FILTER_USER_DM_LATEST_MSG_AGE_DECAY_2H",m[m.FILTER_USER_FIRST_NAME_NORMAL_MATCH=122]="FILTER_USER_FIRST_NAME_NORMAL_MATCH",m[m.FILTER_USER_FIRST_NAME_NORMAL_PREFIX_MATCH=123]="FILTER_USER_FIRST_NAME_NORMAL_PREFIX_MATCH",m[m.FILTER_USER_LAST_NAME_NORMAL_MATCH=124]="FILTER_USER_LAST_NAME_NORMAL_MATCH",m[m.FILTER_USER_LAST_NAME_NORMAL_PREFIX_MATCH=125]="FILTER_USER_LAST_NAME_NORMAL_PREFIX_MATCH",m[m.FILTER_USER_PRIORITY=126]="FILTER_USER_PRIORITY",m[m.FILTER_CHANNEL_IS_ARCHIVED=139]="FILTER_CHANNEL_IS_ARCHIVED",m[m.FILTER_CHANNEL_IS_MEMBER=140]="FILTER_CHANNEL_IS_MEMBER",m[m.FILTER_CHANNEL_IS_STARRED=141]="FILTER_CHANNEL_IS_STARRED",m[m.FILTER_CHANNEL_IS_UNREAD=142]="FILTER_CHANNEL_IS_UNREAD",m[m.FILTER_CHANNEL_READ_AGE_DECAY_7D=143]="FILTER_CHANNEL_READ_AGE_DECAY_7D",m[m.FILTER_CHANNEL_READ_AGE_DECAY_2H=144]="FILTER_CHANNEL_READ_AGE_DECAY_2H",m[m.FILTER_CHANNEL_PRIORITY=145]="FILTER_CHANNEL_PRIORITY",m[m.USER_ENTITY_TYPE_CTR_30DD=191]="USER_ENTITY_TYPE_CTR_30DD",m[m.NUM_RESULTS=192]="NUM_RESULTS",m[m.TYPE_NAVIGATION_FILE=3]="TYPE_NAVIGATION_FILE",m[m.FILE_AGE_DECAY_7D=195]="FILE_AGE_DECAY_7D",m[m.FILE_AGE_DECAY_28D=196]="FILE_AGE_DECAY_28D",m[m.FILE_AGE_DECAY_90D=197]="FILE_AGE_DECAY_90D",m[m.FILE_FROM_CURRENT_USER=198]="FILE_FROM_CURRENT_USER",m[m.FILE_LOG_PRIVATE_SHARES=200]="FILE_LOG_PRIVATE_SHARES",m[m.FILE_LOG_PUBLIC_SHARES=201]="FILE_LOG_PUBLIC_SHARES",m[m.FILE_LOG_ACTIONS=202]="FILE_LOG_ACTIONS",m[m.FILE_LATEST_ACTION_AGE_DECAY_2H=203]="FILE_LATEST_ACTION_AGE_DECAY_2H",m[m.FILE_LATEST_ACTION_AGE_DECAY_7D=204]="FILE_LATEST_ACTION_AGE_DECAY_7D",m[m.FILE_LATEST_ACTION_AGE_DECAY_90D=205]="FILE_LATEST_ACTION_AGE_DECAY_90D",m[m.FILE_LATEST_SHARE_AGE_DECAY_2H=206]="FILE_LATEST_SHARE_AGE_DECAY_2H",m[m.FILE_LATEST_SHARE_AGE_DECAY_7D=207]="FILE_LATEST_SHARE_AGE_DECAY_7D",m[m.FILE_LATEST_SHARE_AGE_DECAY_90D=208]="FILE_LATEST_SHARE_AGE_DECAY_90D",m[m.FILE_CHANNEL_CTR=209]="FILE_CHANNEL_CTR",m[m.FILE_SUGGESTIONS_SEARCHER=210]="FILE_SUGGESTIONS_SEARCHER",m[m.FILE_USER_CTR=211]="FILE_USER_CTR",m[m.FILE_NAME_CONTAINS_QUERY_NORMALIZED=273]="FILE_NAME_CONTAINS_QUERY_NORMALIZED",m[m.FILE_IS_CANVAS=276]="FILE_IS_CANVAS",m[m.FILE_HAS_DMS_WITH_CREATOR=277]="FILE_HAS_DMS_WITH_CREATOR",m[m.FILE_LATEST_VIEW_BY_USER_OLDER_90D=278]="FILE_LATEST_VIEW_BY_USER_OLDER_90D",m[m.FILE_HAS_DMS_WITH_CREATOR_V2=290]="FILE_HAS_DMS_WITH_CREATOR_V2",m[m.APP_NAME_PREFIX_MATCH=215]="APP_NAME_PREFIX_MATCH",m[m.BEST_NAME_MATCH_LOG_RESULTS=218]="BEST_NAME_MATCH_LOG_RESULTS",m[m.SHORTCUT_ENTITY_TYPE_CTR=226]="SHORTCUT_ENTITY_TYPE_CTR",m[m.TYPE_SLASH_COMMAND=212]="TYPE_SLASH_COMMAND",m[m.SLASH_COMMAND_TEAM_CTR=227]="SLASH_COMMAND_TEAM_CTR",m[m.SLASH_COMMAND_USER_CTR=219]="SLASH_COMMAND_USER_CTR",m[m.TYPE_GLOBAL_ACTION=213]="TYPE_GLOBAL_ACTION",m[m.IS_INVITE_WORKSPACE=217]="IS_INVITE_WORKSPACE",m[m.GLOBAL_ACTION_TEAM_CTR=220]="GLOBAL_ACTION_TEAM_CTR",m[m.GLOBAL_ACTION_USER_CTR=221]="GLOBAL_ACTION_USER_CTR",m[m.TYPE_CHANNEL_ACTION=214]="TYPE_CHANNEL_ACTION",m[m.CHANNEL_ACTION_TEAM_CTR=222]="CHANNEL_ACTION_TEAM_CTR",m[m.CHANNEL_ACTION_USER_CTR=223]="CHANNEL_ACTION_USER_CTR",m[m.TYPE_APP_ACTION=152]="TYPE_APP_ACTION",m[m.APP_ACTION_TEAM_CTR=224]="APP_ACTION_TEAM_CTR",m[m.APP_ACTION_USER_CTR=225]="APP_ACTION_USER_CTR",m[m.OS_APP_ACTION=228]="OS_APP_ACTION",m[m.TYPE_APP=216]="TYPE_APP",m[m.TYPE_NAVIGATION_MESSAGE=255]="TYPE_NAVIGATION_MESSAGE",m[m.TYPE_WORKFLOW_TRIGGER=256]="TYPE_WORKFLOW_TRIGGER",m[m.WORKFLOW_TRIGGER_TEAM_CTR=279]="WORKFLOW_TRIGGER_TEAM_CTR",m[m.WORKFLOW_TRIGGER_USER_CTR=280]="WORKFLOW_TRIGGER_USER_CTR",m[m.HAS_CHANNEL_ASSOCIATION=281]="HAS_CHANNEL_ASSOCIATION",m[m.DEPRECATED_QUERY_SUGGESTION_SCORE=1]="DEPRECATED_QUERY_SUGGESTION_SCORE",m[m.DEPRECATED_TYPE_NAVIGATION_EXPERT_CHANNEL=29]="DEPRECATED_TYPE_NAVIGATION_EXPERT_CHANNEL",m[m.DEPRECATED_BM25_SCORE=30]="DEPRECATED_BM25_SCORE",m[m.DEPRECATED_NAV_EXCESS_STRING_LENGTH=34]="DEPRECATED_NAV_EXCESS_STRING_LENGTH",m[m.DEPRECATED_CHANNEL_EXCESS_STRING_LENGTH=58]="DEPRECATED_CHANNEL_EXCESS_STRING_LENGTH",m[m.DEPRECATED_USER_EXCESS_STRING_LENGTH=59]="DEPRECATED_USER_EXCESS_STRING_LENGTH",m[m.DEPRECATED_MPIM_EXCESS_STRING_LENGTH=60]="DEPRECATED_MPIM_EXCESS_STRING_LENGTH",m[m.DEPRECATED_LOG_FRECENCY=67]="DEPRECATED_LOG_FRECENCY",m[m.DEPRECATED_LOG_FRECENCY_BONUS=77]="DEPRECATED_LOG_FRECENCY_BONUS",m[m.DEPRECATED_LOG_FRECENCY_CHANNEL=78]="DEPRECATED_LOG_FRECENCY_CHANNEL",m[m.DEPRECATED_LOG_FRECENCY_USER=79]="DEPRECATED_LOG_FRECENCY_USER",m[m.DEPRECATED_LOG_FRECENCY_MPIM=80]="DEPRECATED_LOG_FRECENCY_MPIM",m[m.DEPRECATED_EMOJI_SCORE_BONUS=135]="DEPRECATED_EMOJI_SCORE_BONUS",m[m.TEST_FEATURE_1=1e3]="TEST_FEATURE_1",m[m.TEST_FEATURE_2=1001]="TEST_FEATURE_2",m[m.TEST_FEATURE_3=1002]="TEST_FEATURE_3",m[m.TEST_FEATURE_4=1003]="TEST_FEATURE_4",m[m.TEST_FEATURE_5=1004]="TEST_FEATURE_5",m[m.TEST_FEATURE_6=1005]="TEST_FEATURE_6",m[m.TEST_FEATURE_7=1006]="TEST_FEATURE_7",m[m.TEST_FEATURE_8=1007]="TEST_FEATURE_8",m[m.TEST_FEATURE_9=1008]="TEST_FEATURE_9",m[m.TEST_FEATURE_10=1009]="TEST_FEATURE_10"})(S||(S={}));var h;(function(m){m[m.NUMERICAL=1]="NUMERICAL",m[m.BINARY=2]="BINARY",m[m.TEXT=3]="TEXT"})(h||(h={}))},mjQB:function(N,c,d){"use strict";var S=this&&this.__awaiter||function(n,i,e,t){function r(l){return l instanceof e?l:new e(function(p){p(l)})}return o(r,"adopt"),new(e||(e=Promise))(function(l,p){function v(s){try{u(t.next(s))}catch(I){p(I)}}o(v,"fulfilled");function g(s){try{u(t.throw(s))}catch(I){p(I)}}o(g,"rejected");function u(s){s.done?l(s.value):r(s.value).then(v,g)}o(u,"step"),u((t=t.apply(n,i||[])).next())})};Object.defineProperty(c,"__esModule",{value:!0});const h=d("5rM1"),m=d("hEYi"),f=d("aVV0");let a=o(class extends f.default{cancel(){this.taskCanceler&&(this.taskCanceler.cancel(),this.taskCanceler=null)}run(){return S(this,void 0,void 0,function*(){const i=this.context.meetingSessionConfiguration;this.context.signalingClient.openConnection(new h.default(i.urls.signalingURL,i.credentials.joinToken));const e=Date.now();try{yield new Promise((t,r)=>{let l=o(class{cancel(){this.signalingClient.removeObserver(this),r(new Error("OpenSignalingConnectionTask got canceled while waiting to open signaling connection"))}handleSignalingClientEvent(g){switch(g.type){case m.default.WebSocketOpen:this.signalingClient.removeObserver(this),t();break;case m.default.WebSocketFailed:this.signalingClient.removeObserver(this),r(new Error("WebSocket connection failed"));break}}constructor(g){this.signalingClient=g}},"WebSocketOpenInterceptor");const p=new l(this.context.signalingClient);this.context.signalingClient.registerObserver(p),this.taskCanceler=p})}catch(t){throw t}finally{this.context.signalingOpenDurationMs=Math.round(Date.now()-e),this.logger.info(`Opening signaling connection took ${this.context.signalingOpenDurationMs} ms`)}})}constructor(i){super(i.logger),this.context=i,this.taskName="OpenSignalingConnectionTask",this.taskCanceler=null}},"OpenSignalingConnectionTask");c.default=a},mlaT:function(N,c,d){"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.LogLevel=void 0;var S;(function(h){h[h.DEBUG=0]="DEBUG",h[h.INFO=1]="INFO",h[h.WARN=2]="WARN",h[h.ERROR=3]="ERROR",h[h.OFF=4]="OFF"})(S=c.LogLevel||(c.LogLevel={})),c.default=S},mpmV:function(N,c,d){"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.ClientMetricReportMediaType=void 0;var S;(function(h){h[h.AUDIO=0]="AUDIO",h[h.VIDEO=1]="VIDEO"})(S=c.ClientMetricReportMediaType||(c.ClientMetricReportMediaType={})),c.default=S},mv1L:function(N,c,d){"use strict";var S=this&&this.__awaiter||function(f,a,n,i){function e(t){return t instanceof n?t:new n(function(r){r(t)})}return o(e,"adopt"),new(n||(n=Promise))(function(t,r){function l(g){try{v(i.next(g))}catch(u){r(u)}}o(l,"fulfilled");function p(g){try{v(i.throw(g))}catch(u){r(u)}}o(p,"rejected");function v(g){g.done?t(g.value):e(g.value).then(l,p)}o(v,"step"),v((i=i.apply(f,a||[])).next())})};Object.defineProperty(c,"__esModule",{value:!0});const h=d("aVV0");let m=o(class extends h.default{cancel(){for(const a of this.tasksToRunParallel)this.logger.info(`canceling parallel group task ${this.name()} subtask ${a.name()}`),a.cancel()}run(){return S(this,void 0,void 0,function*(){const a=[];for(const i of this.tasksToRunParallel)this.logger.info(`parallel group task ${this.name()} running subtask ${i.name()}`),a.push(i.run());const n=[];for(let i=0;i<a.length;i++){try{yield a[i]}catch(e){n.push(`task ${this.tasksToRunParallel[i].name()} failed: ${e.message}`)}this.logger.info(`parallel group task ${this.name()} completed subtask ${this.tasksToRunParallel[i].name()}`)}if(n.length>0){const i=n.join(", ");this.logAndThrow(`parallel group task ${this.name()} failed for tasks: ${i}`)}this.logger.info(`parallel group task ${this.name()} completed`)})}constructor(a,n,i){super(a),this.taskName=n,this.tasksToRunParallel=i;for(const e of i)e.setParent(this)}},"ParallelGroupTask");c.default=m},my46:function(N,c,d){"use strict";Object.defineProperty(c,"__esModule",{value:!0});let S=o(class{constructor(m,f,a){this.videoWidth=m,this.videoHeight=f,this.videoFrameRate=a}},"VideoQualitySettings");c.default=S},myGB:function(N,c,d){d("C5kU"),d("CE4/"),N.exports=d("VSTI").Array.from},n7vu:function(N,c,d){var S=d("TYje");N.exports=Object("z").propertyIsEnumerable(0)?Object:function(h){return S(h)=="String"?h.split(""):Object(h)}},nA4W:function(N,c){var d={}.hasOwnProperty;N.exports=function(S,h){return d.call(S,h)}},nAx8:function(N,c,d){var S=d("FgkJ");N.exports=function(h,m,f){if(S(h),m===void 0)return h;switch(f){case 1:return function(a){return h.call(m,a)};case 2:return function(a,n){return h.call(m,a,n)};case 3:return function(a,n,i){return h.call(m,a,n,i)}}return function(){return h.apply(m,arguments)}}},nDuE:function(N,c,d){"use strict";var S=this&&this.__awaiter||function(a,n,i,e){function t(r){return r instanceof i?r:new i(function(l){l(r)})}return o(t,"adopt"),new(i||(i=Promise))(function(r,l){function p(u){try{g(e.next(u))}catch(s){l(s)}}o(p,"fulfilled");function v(u){try{g(e.throw(u))}catch(s){l(s)}}o(v,"rejected");function g(u){u.done?r(u.value):t(u.value).then(p,v)}o(g,"step"),g((e=e.apply(a,n||[])).next())})};Object.defineProperty(c,"__esModule",{value:!0});const h=d("10yS"),m=d("j+uH");let f=o(class extends m.default{run(){return S(this,void 0,void 0,function*(){const n=this.context.transceiverController;n.setPeer(this.context.peer),n.setupLocalTransceivers();const i=this.context.activeAudioInput;if(i){const t=i.getAudioTracks();this.context.logger.info("attaching audio track to peer connection"),yield n.setAudioInput(t.length?t[0]:null)}else yield n.setAudioInput(null),this.context.logger.info("no audio track");const e=this.context.activeVideoInput;if(e){const t=e.getVideoTracks(),r=t.length?t[0]:null;if(this.context.logger.info("attaching video track to peer connection"),yield n.setVideoInput(r),this.context.enableSimulcast&&this.context.videoUplinkBandwidthPolicy){const l=this.context.videoUplinkBandwidthPolicy.chooseEncodingParameters();n.setEncodingParameters(l)}r&&this.context.statsCollector.logVideoEvent(h.default.InputAttached,this.context.videoDeviceInformation)}else yield n.setVideoInput(null),this.context.logger.info("no video track");this.context.videoSubscriptions=n.updateVideoTransceivers(this.context.videoStreamIndex,this.context.videosToReceive)})}constructor(n){super(n.logger),this.context=n,this.taskName="AttachMediaInputTask"}},"AttachMediaInputTask");c.default=f},"nJ1/":function(N,c,d){"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.VoiceFocusAudioWorkletNode=void 0;let S=o(class extends(typeof globalThis<"u"&&globalThis.AudioWorkletNode||o(class{},"Sadness")){},"VoiceFocusAudioWorkletNode");c.VoiceFocusAudioWorkletNode=S},nRFE:function(N,c,d){var S=d("/F7N"),h=Math.max,m=Math.min;N.exports=function(f,a){return f=S(f),f<0?h(f+a,0):m(f,a)}},nSNv:function(N,c,d){"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.VoiceFocusAudioWorkletNode=void 0;let S=o(class extends(typeof globalThis<"u"&&globalThis.AudioWorkletNode||o(class{},"Sadness")){},"VoiceFocusAudioWorkletNode");c.VoiceFocusAudioWorkletNode=S},nWLk:function(N,c,d){"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.CheckCameraResolutionFeedback=void 0;var S;(function(h){h[h.Succeeded=0]="Succeeded",h[h.Failed=1]="Failed",h[h.ResolutionNotSupported=2]="ResolutionNotSupported",h[h.PermissionDenied=3]="PermissionDenied"})(S=c.CheckCameraResolutionFeedback||(c.CheckCameraResolutionFeedback={})),c.default=S},nWxe:function(N,c,d){"use strict";var S=this&&this.__awaiter||function(n,i,e,t){function r(l){return l instanceof e?l:new e(function(p){p(l)})}return o(r,"adopt"),new(e||(e=Promise))(function(l,p){function v(s){try{u(t.next(s))}catch(I){p(I)}}o(v,"fulfilled");function g(s){try{u(t.throw(s))}catch(I){p(I)}}o(g,"rejected");function u(s){s.done?l(s.value):r(s.value).then(v,g)}o(u,"step"),u((t=t.apply(n,i||[])).next())})};Object.defineProperty(c,"__esModule",{value:!0});const h=d("hlxM"),m=d("nSNv"),f=5*1e3;let a=o(class extends m.VoiceFocusAudioWorkletNode{onModuleBufferLoaded(i,e){this.port.postMessage({message:"module-buffer",buffer:i,key:e})}onModuleLoaded(i,e){this.port.postMessage({message:"module",module:i,key:e})}enable(){return S(this,void 0,void 0,function*(){this.port.postMessage({message:"enable"})})}disable(){return S(this,void 0,void 0,function*(){this.port.postMessage({message:"disable"})})}stop(){var i;return S(this,void 0,void 0,function*(){this.port.postMessage({message:"stop"});try{(i=this.worker)===null||i===void 0||i.terminate()}catch(e){console.error("failed to terminate worker:",e)}this.disconnect()})}onProcessorMessage(i){var e,t,r;const l=i.data;switch(l.message){case"cpu":this.cpuWarningCount++;const p=Date.now(),v=this.cpuWarningLastTriggered||p,g=Math.abs(p-v);(!this.cpuWarningLastTriggered||g>f)&&((e=this.logger)===null||e===void 0||e.warn(`CPU warning (count: ${this.cpuWarningCount}):`,l.message),this.cpuWarningCount=0,this.cpuWarningLastTriggered=p),(t=this.delegate)===null||t===void 0||t.onCPUWarning();break;default:(r=this.logger)===null||r===void 0||r.debug("Ignoring processor message.")}}onWorkerMessage(i){const e=i.data;switch(e.message){case"module-buffer":if(!e.buffer||!e.key)return;this.onModuleBufferLoaded(e.buffer,e.key);break;case"module":if(!e.module||!e.key)return;this.onModuleLoaded(e.module,e.key);break;case"stopped":this.worker&&this.worker.terminate();break;default:return}}constructor(i,e){super(i,e.processor,e),this.cpuWarningCount=0,this.channelCountMode="explicit",this.channelCount=1;const{modelURL:t,worker:r,fetchBehavior:l,logger:p,delegate:v}=e;this.logger=p,this.port.onmessage=this.onProcessorMessage.bind(this),this.delegate=v,p&&p.debug("VoiceFocusInlineNode:",t),this.worker=r,this.worker.onmessage=this.onWorkerMessage.bind(this);const g=h.supportsWASMPostMessage(globalThis)?"get-module":"get-module-buffer";this.worker.postMessage({message:g,key:"model",fetchBehavior:l,path:t})}},"VoiceFocusInlineNode");c.default=a},nXJe:function(N,c,d){"use strict";Object.defineProperty(c,"__esModule",{value:!0});let S=o(class{},"TranscriptResult");c.default=S},nYR4:function(N,c,d){"use strict";Object.defineProperty(c,"__esModule",{value:!0});const S=d("Zkgh");let h=o(class{reset(){this.optimalReceiveSet=new S.default,this.subscribedReceiveSet=new S.default,this.videoSources=void 0}updateIndex(f){this.videoIndex=f,this.optimalReceiveSet=this.calculateOptimalReceiveSet(f)}updateMetrics(f){}wantsResubscribe(){return!this.subscribedReceiveSet.equal(this.optimalReceiveSet)}chooseSubscriptions(){return this.subscribedReceiveSet=this.optimalReceiveSet.clone(),this.subscribedReceiveSet.clone()}chooseRemoteVideoSources(f){this.videoSources=f,this.optimalReceiveSet=this.calculateOptimalReceiveSet(this.videoIndex).clone()}calculateOptimalReceiveSet(f){const a=new S.default;if(!this.videoIndex||this.videoIndex.allStreams().empty())return a;const n=f.highestQualityStreamFromEachGroupExcludingSelf(this.selfAttendeeId);if(this.videoSources===void 0)return n;const i=this.videoIndex.remoteStreamDescriptions(),e=new Map;for(const t of i)n.contain(t.streamId)&&e.set(t.attendeeId,t.streamId);for(const t of this.videoSources){const r=t.attendee.attendeeId;e.has(r)&&a.add(e.get(r))}return a}constructor(f){this.selfAttendeeId=f,this.reset()}},"AllHighestVideoBandwidthPolicy");c.default=h},ngjY:function(N,c,d){"use strict";var S=d("+Xah"),h=d("YXGX"),m=h.a?function(H,te){return h.a.set(H,te),H}:S.a,f=m,a=d("c3gm"),n=d("IzLi");function i(H){return function(){var te=arguments;switch(te.length){case 0:return new H;case 1:return new H(te[0]);case 2:return new H(te[0],te[1]);case 3:return new H(te[0],te[1],te[2]);case 4:return new H(te[0],te[1],te[2],te[3]);case 5:return new H(te[0],te[1],te[2],te[3],te[4]);case 6:return new H(te[0],te[1],te[2],te[3],te[4],te[5]);case 7:return new H(te[0],te[1],te[2],te[3],te[4],te[5],te[6])}var Oe=Object(a.a)(H.prototype),ke=H.apply(Oe,te);return Object(n.a)(ke)?ke:Oe}}o(i,"createCtor");var e=i,t=d("Ju5/"),r=1;function l(H,te,Oe){var ke=te&r,Ge=e(H);function ft(){var pt=this&&this!==t.a&&this instanceof ft?Ge:H;return pt.apply(ke?Oe:this,arguments)}return o(ft,"wrapper"),ft}o(l,"createBind");var p=l,v=d("uRGJ"),g=Math.max;function u(H,te,Oe,ke){for(var Ge=-1,ft=H.length,pt=Oe.length,ct=-1,St=te.length,Mt=g(ft-pt,0),kt=Array(St+Mt),En=!ke;++ct<St;)kt[ct]=te[ct];for(;++Ge<pt;)(En||Ge<ft)&&(kt[Oe[Ge]]=H[Ge]);for(;Mt--;)kt[ct++]=H[Ge++];return kt}o(u,"composeArgs");var s=u,I=Math.max;function M(H,te,Oe,ke){for(var Ge=-1,ft=H.length,pt=-1,ct=Oe.length,St=-1,Mt=te.length,kt=I(ft-ct,0),En=Array(kt+Mt),$t=!ke;++Ge<kt;)En[Ge]=H[Ge];for(var Hn=Ge;++St<Mt;)En[Hn+St]=te[St];for(;++pt<ct;)($t||Ge<ft)&&(En[Hn+Oe[pt]]=H[Ge++]);return En}o(M,"composeArgsRight");var R=M;function B(H,te){for(var Oe=H.length,ke=0;Oe--;)H[Oe]===te&&++ke;return ke}o(B,"countHolders");var j=B,A=d("Zhxc"),D=d("Ha6T"),$=Object(D.a)(f),O=$,P=/\{\n\/\* \[wrapped with (.+)\] \*/,k=/,? & /;function K(H){var te=H.match(P);return te?te[1].split(k):[]}o(K,"getWrapDetails");var Z=K,Y=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/;function ie(H,te){var Oe=te.length;if(!Oe)return H;var ke=Oe-1;return te[ke]=(Oe>1?"& ":"")+te[ke],te=te.join(Oe>2?", ":" "),H.replace(Y,`{
/* [wrapped with `+te+`] */
`)}o(ie,"insertWrapDetails");var ge=ie,Ie=d("xhnO"),le=d("ILaC"),we=d("cvt+"),Be=1,Re=2,Ne=8,_e=16,Ze=32,tt=64,$e=128,at=256,lt=512,ot=[["ary",$e],["bind",Be],["bindKey",Re],["curry",Ne],["curryRight",_e],["flip",lt],["partial",Ze],["partialRight",tt],["rearg",at]];function Gt(H,te){return Object(le.a)(ot,function(Oe){var ke="_."+Oe[0];te&Oe[1]&&!Object(we.a)(H,ke)&&H.push(ke)}),H.sort()}o(Gt,"updateWrapDetails");var Zt=Gt;function un(H,te,Oe){var ke=te+"";return Object(Ie.a)(H,ge(ke,Zt(Z(ke),Oe)))}o(un,"setWrapToString");var Un=un,jn=1,ci=2,fn=4,ri=8,gi=32,Nn=64;function Ti(H,te,Oe,ke,Ge,ft,pt,ct,St,Mt){var kt=te&ri,En=kt?pt:void 0,$t=kt?void 0:pt,Hn=kt?ft:void 0,bt=kt?void 0:ft;te|=kt?gi:Nn,te&=~(kt?Nn:gi),te&fn||(te&=~(jn|ci));var Zn=[H,te,Ge,Hn,En,bt,$t,ct,St,Mt],zn=Oe.apply(void 0,Zn);return Object(A.a)(H)&&O(zn,Zn),zn.placeholder=ke,Un(zn,H,te)}o(Ti,"createRecurry");var Bi=Ti,vn=d("KSud"),Mn=d("eAQQ"),Ot=d("cSlR"),Ke=Math.min;function gt(H,te){for(var Oe=H.length,ke=Ke(te.length,Oe),Ge=Object(Mn.a)(H);ke--;){var ft=te[ke];H[ke]=Object(Ot.a)(ft,Oe)?Ge[ft]:void 0}return H}o(gt,"reorder");var ht=gt,en=d("nzLN"),Kn=1,li=2,Ee=8,Pe=16,Fe=128,Dt=512;function zt(H,te,Oe,ke,Ge,ft,pt,ct,St,Mt){var kt=te&Fe,En=te&Kn,$t=te&li,Hn=te&(Ee|Pe),bt=te&Dt,Zn=$t?void 0:e(H);function zn(){for(var yi=arguments.length,ei=Array(yi),$n=yi;$n--;)ei[$n]=arguments[$n];if(Hn)var Ei=Object(vn.a)(zn),Pi=j(ei,Ei);if(ke&&(ei=s(ei,ke,Ge,Hn)),ft&&(ei=R(ei,ft,pt,Hn)),yi-=Pi,Hn&&yi<Mt){var pi=Object(en.a)(ei,Ei);return Bi(H,te,zt,zn.placeholder,Oe,ei,pi,ct,St,Mt-yi)}var di=En?Oe:this,wi=$t?di[H]:H;return yi=ei.length,ct?ei=ht(ei,ct):bt&&yi>1&&ei.reverse(),kt&&St<yi&&(ei.length=St),this&&this!==t.a&&this instanceof zn&&(wi=Zn||e(wi)),wi.apply(di,ei)}return o(zn,"wrapper"),zn}o(zt,"createHybrid");var Ut=zt;function bn(H,te,Oe){var ke=e(H);function Ge(){for(var ft=arguments.length,pt=Array(ft),ct=ft,St=Object(vn.a)(Ge);ct--;)pt[ct]=arguments[ct];var Mt=ft<3&&pt[0]!==St&&pt[ft-1]!==St?[]:Object(en.a)(pt,St);if(ft-=Mt.length,ft<Oe)return Bi(H,te,Ut,Ge.placeholder,void 0,pt,Mt,void 0,void 0,Oe-ft);var kt=this&&this!==t.a&&this instanceof Ge?ke:H;return Object(v.a)(kt,this,pt)}return o(Ge,"wrapper"),Ge}o(bn,"createCurry");var wn=bn,pn=1;function xt(H,te,Oe,ke){var Ge=te&pn,ft=e(H);function pt(){for(var ct=-1,St=arguments.length,Mt=-1,kt=ke.length,En=Array(kt+St),$t=this&&this!==t.a&&this instanceof pt?ft:H;++Mt<kt;)En[Mt]=ke[Mt];for(;St--;)En[Mt++]=arguments[++ct];return Object(v.a)($t,Ge?Oe:this,En)}return o(pt,"wrapper"),pt}o(xt,"createPartial");var Vn=xt,on=d("+j7y"),Xn="__lodash_placeholder__",vi=1,kr=2,Gr=4,Lr=8,hi=128,_r=256,Ii=Math.min;function Nr(H,te){var Oe=H[1],ke=te[1],Ge=Oe|ke,ft=Ge<(vi|kr|hi),pt=ke==hi&&Oe==Lr||ke==hi&&Oe==_r&&H[7].length<=te[8]||ke==(hi|_r)&&te[7].length<=te[8]&&Oe==Lr;if(!(ft||pt))return H;ke&vi&&(H[2]=te[2],Ge|=Oe&vi?0:Gr);var ct=te[3];if(ct){var St=H[3];H[3]=St?s(St,ct,te[4]):ct,H[4]=St?Object(en.a)(H[3],Xn):te[4]}return ct=te[5],ct&&(St=H[5],H[5]=St?R(St,ct,te[6]):ct,H[6]=St?Object(en.a)(H[5],Xn):te[6]),ct=te[7],ct&&(H[7]=ct),ke&hi&&(H[8]=H[8]==null?te[8]:Ii(H[8],te[8])),H[9]==null&&(H[9]=te[9]),H[0]=te[0],H[1]=Ge,H}o(Nr,"mergeData");var or=Nr,fi=d("fshX"),Er="Expected a function",oi=1,tr=2,Jn=8,sr=16,$i=32,Tr=64,Ir=Math.max;function Ki(H,te,Oe,ke,Ge,ft,pt,ct){var St=te&tr;if(!St&&typeof H!="function")throw new TypeError(Er);var Mt=ke?ke.length:0;if(Mt||(te&=~($i|Tr),ke=Ge=void 0),pt=pt===void 0?pt:Ir(Object(fi.a)(pt),0),ct=ct===void 0?ct:Object(fi.a)(ct),Mt-=Ge?Ge.length:0,te&Tr){var kt=ke,En=Ge;ke=Ge=void 0}var $t=St?void 0:Object(on.a)(H),Hn=[H,te,Oe,ke,Ge,kt,En,ft,pt,ct];if($t&&or(Hn,$t),H=Hn[0],te=Hn[1],Oe=Hn[2],ke=Hn[3],Ge=Hn[4],ct=Hn[9]=Hn[9]===void 0?St?0:H.length:Ir(Hn[9]-Mt,0),!ct&&te&(Jn|sr)&&(te&=~(Jn|sr)),!te||te==oi)var bt=p(H,te,Oe);else te==Jn||te==sr?bt=wn(H,te,ct):(te==$i||te==(oi|$i))&&!Ge.length?bt=Vn(H,te,Oe,ke):bt=Ut.apply(void 0,Hn);var Zn=$t?f:O;return Un(Zn(bt,Hn),H,te)}o(Ki,"createWrap");var Or=c.a=Ki},nq15:function(N,c,d){"use strict";Object.defineProperty(c,"__esModule",{value:!0});const S=d("f2XL"),h=d("ldli"),m=d("MhWp");let f=o(class Aa extends h.default{localStreamDescriptions(){const n=[];return this._localStreamInfos.forEach(i=>{n.push(i.clone())}),n}integrateUplinkPolicyDecision(n){let i=!0,e=0;for(let t=0;t<n.length;t++){const r=n[t].maxBitrate/1e3,l=n[t].maxFramerate;if(!i||t===this._localStreamInfos.length){i=!1;const p=new m.default;p.maxBitrateKbps=r,p.maxFrameRate=l,p.disabledByUplinkPolicy=r===0,r!==0&&(p.timeEnabled=Date.now()),this._localStreamInfos.push(p),e++;continue}this._localStreamInfos[e].maxBitrateKbps===0&&r>0&&(this._localStreamInfos[e].timeEnabled=Date.now()),this._localStreamInfos[e].maxBitrateKbps=r,this._localStreamInfos[e].maxFrameRate=l,this._localStreamInfos[e].disabledByUplinkPolicy=r===0,this._localStreamInfos[e].disabledByUplinkPolicy===!0&&(this._localStreamInfos[e].disabledByWebRTC=!1),e++}i&&this._localStreamInfos.splice(e)}integrateBitratesFrame(n){super.integrateBitratesFrame(n);const i=new Set,e=new Set(this.streamIdToBitrateKbpsMap.keys());for(const t of n.bitrates)i.add(t.sourceStreamId),this.streamIdToBitrateKbpsMap.set(t.sourceStreamId,this.convertBpsToKbps(t.avgBitrateBps));for(const t of e)i.has(t)||(this.streamIdToBitrateKbpsMap.get(t)===Aa.UNSEEN_STREAM_BITRATE?this.streamIdToBitrateKbpsMap.set(t,Aa.RECENTLY_INACTIVE_STREAM_BITRATE):this.streamIdToBitrateKbpsMap.set(t,Aa.NOT_SENDING_STREAM_BITRATE));for(let t=0;t<this._localStreamInfos.length;t++){this._localStreamInfos[t].disabledByWebRTC=!1;const r=this._localStreamInfos[t].streamId;this._localStreamInfos[t].disabledByUplinkPolicy||(this.streamIdToBitrateKbpsMap.has(r)?this.streamIdToBitrateKbpsMap.get(r)===Aa.NOT_SENDING_STREAM_BITRATE&&this._lastBitRateMsgTime-this._localStreamInfos[t].timeEnabled>Aa.BitratesMsgFrequencyMs&&(this._localStreamInfos[t].disabledByWebRTC=!0):this._lastBitRateMsgTime-this._localStreamInfos[t].timeEnabled>Aa.BitratesMsgFrequencyMs&&(this._localStreamInfos[t].disabledByWebRTC=!0))}this._lastBitRateMsgTime=Date.now(),this.logLocalStreamDescriptions()}logLocalStreamDescriptions(){let n="";for(const i of this._localStreamInfos)n+=`streamId=${i.streamId} maxBitrate=${i.maxBitrateKbps} disabledByWebRTC=${i.disabledByWebRTC} disabledByUplink=${i.disabledByUplinkPolicy}
`;this.logger.debug(()=>n)}integrateIndexFrame(n){super.integrateIndexFrame(n);const i=new Set,e=new Set(this.streamIdToBitrateKbpsMap.keys());for(const t of this.currentIndex.sources)t.mediaType===S.SdkStreamMediaType.VIDEO&&(i.add(t.streamId),this.streamIdToBitrateKbpsMap.has(t.streamId)||this.streamIdToBitrateKbpsMap.set(t.streamId,Aa.UNSEEN_STREAM_BITRATE));for(const t of e)i.has(t)||this.streamIdToBitrateKbpsMap.delete(t)}integrateSubscribeAckFrame(n){if(super.integrateSubscribeAckFrame(n),!n.allocations||n.allocations===void 0)return;let i=0;for(const e of n.allocations){if(this._localStreamInfos.length<i+1){this.logger.info("simulcast: allocation has more than number of local streams");break}this._localStreamInfos[i].groupId=e.groupId,this._localStreamInfos[i].streamId=e.streamId,this.streamIdToBitrateKbpsMap.has(e.streamId)||this.streamIdToBitrateKbpsMap.set(e.streamId,Aa.UNSEEN_STREAM_BITRATE),i++}}constructor(n){super(n),this.streamIdToBitrateKbpsMap=new Map,this._localStreamInfos=[],this._lastBitRateMsgTime=Date.now()}},"SimulcastVideoStreamIndex");c.default=f,f.UNSEEN_STREAM_BITRATE=-2,f.RECENTLY_INACTIVE_STREAM_BITRATE=-1,f.NOT_SENDING_STREAM_BITRATE=0,f.BitratesMsgFrequencyMs=4e3},ntEb:function(N,c,d){"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.supportsZeroByteGCM=c.supportsSubtleCrypto=c.supportsSecureRandom=c.supportsWebCrypto=void 0;var S=d("4vb1"),h=["decrypt","digest","encrypt","exportKey","generateKey","importKey","sign","verify"];function m(i){if(f(i)&&typeof i.crypto.subtle=="object"){var e=i.crypto.subtle;return a(e)}return!1}o(m,"supportsWebCrypto"),c.supportsWebCrypto=m;function f(i){if(typeof i=="object"&&typeof i.crypto=="object"){var e=i.crypto.getRandomValues;return typeof e=="function"}return!1}o(f,"supportsSecureRandom"),c.supportsSecureRandom=f;function a(i){return i&&h.every(function(e){return typeof i[e]=="function"})}o(a,"supportsSubtleCrypto"),c.supportsSubtleCrypto=a;function n(i){return S.__awaiter(this,void 0,void 0,function(){var e,t,r;return S.__generator(this,function(l){switch(l.label){case 0:if(!a(i))return[2,!1];l.label=1;case 1:return l.trys.push([1,4,,5]),[4,i.generateKey({name:"AES-GCM",length:128},!1,["encrypt"])];case 2:return e=l.sent(),[4,i.encrypt({name:"AES-GCM",iv:new Uint8Array(Array(12)),additionalData:new Uint8Array(Array(16)),tagLength:128},e,new Uint8Array(0))];case 3:return t=l.sent(),[2,t.byteLength===16];case 4:return r=l.sent(),[2,!1];case 5:return[2]}})})}o(n,"supportsZeroByteGCM"),c.supportsZeroByteGCM=n},ntxC:function(N,c,d){"use strict";var S=d("FUmc"),h=d("cSlR"),m=Array.prototype,f=m.splice;function a(n,i){for(var e=n?i.length:0,t=e-1;e--;){var r=i[e];if(e==t||r!==l){var l=r;Object(h.a)(r)?f.call(n,r,1):Object(S.a)(n,r)}}return n}o(a,"basePullAt"),c.a=a},nzLN:function(N,c,d){"use strict";var S="__lodash_placeholder__";function h(m,f){for(var a=-1,n=m.length,i=0,e=[];++a<n;){var t=m[a];(t===f||t===S)&&(m[a]=S,e[i++]=a)}return e}o(h,"replaceHolders"),c.a=h},o13v:function(N,c,d){"use strict";Object.defineProperty(c,"__esModule",{value:!0});let S=o(class{add(m){return new Promise((f,a)=>{this.queue=this.queue.then(m).then(f).catch(a)})}constructor(){this.queue=Promise.resolve()}},"PromiseQueue");c.default=S},o1Pf:function(N,c,d){"use strict";d.d(c,"a",function(){return t});var S=d("9oTK"),h=d.n(S),m=d("m8R6"),f=d("2XU3"),a=d("WCk1"),n=d("s4P+"),i=d("pjW8");const e={InvalidCallId:"invalid_call_id",ChannelNotFound:"channel_not_found",HuddleNotFound:"huddle_not_found",TeamNotFound:"team_not_found",InvalidHuddle:"invalid_huddle",InvalidTranscriptionCache:"invalid_transcription_cache",ExternalApiFailed:"external_api_failed",PermissionDenied:"permission_denied"},t=Object(a.a)("rooms.stopTranscription generated fetcher",function(){var r=Object(S.coroutine)(function*(l,p,v){try{const g=["reason"],u=Object(m.a)(v,g),s=Object(i.b)(u);return yield l(Object(f.a)({method:"rooms.stopTranscription",args:s,reason:v.reason}))}catch(g){throw Object(n.a)({getState:p}).error(`API call to rooms.stopTranscription
				with reason ${v.reason} failed, initiated by generated fetcher`),g}});return function(l,p,v){return r.apply(this,arguments)}}());t.meta={name:"createFetcher",key:"createFetcherroomsStopTranscriptionFetcher",description:"rooms.stopTranscription generated fetcher"}},"o3U+":function(N,c,d){"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.isValidRevisionID=c.isValidAssetGroup=c.resolveURL=c.addQueryParams=c.withQueryString=c.withRequestHeaders=c.fetchWithBehavior=void 0;function S(t,r,l){if(!l)return fetch(t,r);const p=m(t,l),v=h(r,l);return fetch(p,v)}o(S,"fetchWithBehavior"),c.fetchWithBehavior=S;function h(t,r){return r!=null&&r.headers?t?Object.assign(Object.assign({},t),{headers:Object.assign(Object.assign({},t.headers||{}),r.headers)}):{headers:r.headers}:t}o(h,"withRequestHeaders"),c.withRequestHeaders=h;function m(t,r){if(!(r!=null&&r.escapedQueryString))return t;const l=t.lastIndexOf("?")!==-1;return`${t}${l?"&":"?"}${r.escapedQueryString}`}o(m,"withQueryString"),c.withQueryString=m;function f(t,r){const l=Object.keys(r);if(!l.length)return t;const p=new URLSearchParams(t==null?void 0:t.escapedQueryString);for(const v of l)p.append(v,r[v]);return Object.assign(Object.assign({},t),{escapedQueryString:p.toString()})}o(f,"addQueryParams"),c.addQueryParams=f;const a={method:"HEAD",mode:"cors",credentials:"omit",redirect:"follow",referrerPolicy:"origin"};function n(t,r){return S(t,a,r).then(l=>l.redirected?l.url:t)}o(n,"resolveURL"),c.resolveURL=n;function i(t){return!!t&&/^[-.a-zA-Z0-9]+$/.test(t)}o(i,"isValidAssetGroup"),c.isValidAssetGroup=i;function e(t){return!!t&&/^[123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ]{22}$/.test(t)}o(e,"isValidRevisionID"),c.isValidRevisionID=e},o4xN:function(N,c,d){"use strict";var S=this&&this.__awaiter||function(O,P,k,K){function Z(Y){return Y instanceof k?Y:new k(function(ie){ie(Y)})}return o(Z,"adopt"),new(k||(k=Promise))(function(Y,ie){function ge(we){try{le(K.next(we))}catch(Be){ie(Be)}}o(ge,"fulfilled");function Ie(we){try{le(K.throw(we))}catch(Be){ie(Be)}}o(Ie,"rejected");function le(we){we.done?Y(we.value):Z(we.value).then(ge,Ie)}o(le,"step"),le((K=K.apply(O,P||[])).next())})};Object.defineProperty(c,"__esModule",{value:!0}),c.getAudioInput=c.createAudioContext=c.VoiceFocus=void 0;const h=d("riVe"),m=d("XEV2"),f=d("GEtQ"),a=d("hlxM"),n=d("nWxe"),i=d("TdKi"),e=d("M9Lm"),r={useVoiceFocusAGC:!1,useBuiltInAGC:!0},l="stable-v1",p="https://static.sdkassets.chime.aws",v={processors:`${p}/processors/`,workers:`${p}/workers/`,wasm:`${p}/wasm/`,models:`${p}/wasm/`},g={latencyHint:0},u={channelCount:1,echoCancellation:!0,googEchoCancellation:!0,noiseSuppression:!1,googNoiseSuppression:!1,googHighpassFilter:!1,googTypingNoiseDetection:!1},s=Object.assign(Object.assign({},u),{autoGainControl:!0,googAutoGainControl:!0,googAutoGainControl2:!0}),I=Object.assign(Object.assign({},u),{autoGainControl:!1,googAutoGainControl:!1,googAutoGainControl2:!1}),M={"voicefocus-worker-sab-processor":{file:"worklet-worker-sab-processor-v1.js",node:i.default},"voicefocus-worker-postMessage-processor":{file:"worklet-worker-postMessage-processor-v1.js",node:e.default},"voicefocus-inline-processor":{file:"worklet-inline-processor-v1.js",node:n.default}},R=o((O,P)=>{if(O!==void 0&&!m.isValidAssetGroup(O))throw new Error(`Invalid asset group ${O}`);if(P!==void 0&&!m.isValidRevisionID(P))throw new Error(`Invalid revision ID ${P}`)},"validateAssetSpec"),B=o((O,P)=>{let k;if(P.useBuiltInAGC?k=s:k=I,!O)return{audio:k};if(!O.audio)return O;if(O.video)throw new Error("Not adding Voice Focus to multi-device getUserMedia call.");return Object.assign(Object.assign({},O),{audio:O.audio===!0?k:Object.assign(Object.assign({},O.audio),k)})},"mungeConstraints"),j=o((O,P)=>`${P.models}${h.decideModel(O)}.wasm`,"urlForModel");let A=o(class vv{static isSupported(P,k){const{fetchBehavior:K,logger:Z}=k||{};if(typeof globalThis>"u")return Z==null||Z.debug("Browser does not have globalThis."),Promise.resolve(!1);if(!a.supportsAudioWorklet(globalThis,Z))return Z==null||Z.debug("Browser does not support Audio Worklet."),Promise.resolve(!1);if(!a.supportsWASM(globalThis,Z))return Z==null||Z.debug("Browser does not support WASM."),Promise.resolve(!1);a.supportsWASMStreaming(globalThis,Z)||Z==null||Z.debug("Browser does not support streaming WASM compilation.");const{assetGroup:Y=l,revisionID:ie,paths:ge=v}=P||{};R(Y,ie);const Ie=ie?{revisionID:ie}:{assetGroup:Y},le=m.addQueryParams(K,Ie),we=Object.assign(Object.assign({},le),{paths:ge});return a.supportsVoiceFocusWorker(globalThis,we,Z)}static mungeExecutionPreference(P,k){const K=P===void 0||P==="auto";if(a.isSafari(globalThis)){if(K||P==="inline")return"inline";if(!K)throw new Error(`Unsupported execution preference ${P}`)}if(P==="worker-sab"&&!a.supportsSharedArrayBuffer(globalThis,globalThis,k))throw new Error(`Unsupported execution preference ${P}`);return P||"auto"}static configure(P,k){return S(this,void 0,void 0,function*(){const{fetchBehavior:K,preResolve:Z,logger:Y}=k||{},{category:ie="voicefocus",name:ge="default",variant:Ie="auto",assetGroup:le=l,revisionID:we,simd:Be="detect",executionPreference:Re="auto",executionQuantaPreference:Ne,usagePreference:_e="interactivity",estimatorBudget:Ze=100,paths:tt=v,thresholds:$e}=P||{};if(Y==null||Y.debug("Configuring Voice Focus with spec",P),ie!==void 0&&ie!=="voicefocus")throw new Error(`Unrecognized category ${ie}`);if(ge!==void 0&&ge!=="default"&&ge!=="ns_es")throw new Error(`Unrecognized feature name ${ge}`);if(Ie!==void 0&&!["auto","c100","c50","c20","c10"].includes(Ie))throw new Error(`Unrecognized feature variant ${Ie}`);if(Ne!==void 0&&![1,2,3].includes(Ne))throw new Error(`Unrecognized execution quanta preference ${Ne}`);if(R(le,we),Be!==void 0&&!["detect","force","disable"].includes(Be))throw new Error(`Unrecognized SIMD option ${Be}`);if(Re!==void 0&&!["auto","inline","worker","worker-sab","worker-postMessage"].includes(Re))throw new Error(`Unrecognized execution preference ${Re}`);if(_e!==void 0&&!["quality","interactivity"].includes(_e))throw new Error(`Unrecognized usage preference ${_e}`);const at={executionPreference:this.mungeExecutionPreference(Re,Y),usagePreference:_e,executionQuantaPreference:Ne,variantPreference:Ie,namePreference:ge,simdPreference:Be,estimatorBudget:Ze},lt=we?{revisionID:we}:{assetGroup:le},ot=m.addQueryParams(K,lt),Gt=Object.assign({paths:tt},ot),Zt=yield h.measureAndDecideExecutionApproach(at,Gt,Y,$e);if(Zt.supported===!1)return{supported:!1,reason:Zt.reason};Y==null||Y.info("Decided execution approach",Zt);const{useSIMD:un,processor:Un,variant:jn,executionQuanta:ci}=Zt,fn={category:ie||"voicefocus",name:ge||"default",variant:jn,simd:un};if(Z){const ri=j(fn,tt);fn.url=yield m.resolveURL(ri,ot)}return{fetchConfig:Gt,model:fn,processor:Un,executionQuanta:ci,supported:!0}})}static init(P,k){let{delegate:K,preload:Z=!0,logger:Y}=k;return S(this,void 0,void 0,function*(){if(P.supported===!1)throw new Error("Voice Focus not supported. Reason: "+P.reason);const{model:ie,processor:ge,fetchConfig:Ie,executionQuanta:le}=P,{simd:we,name:Be}=ie,{paths:Re}=Ie;if(ge!=="voicefocus-inline-processor"&&ge!=="voicefocus-worker-postMessage-processor"&&ge!=="voicefocus-worker-sab-processor")throw new Error(`Unknown processor ${ge}`);const Ne=ie.url||j(ie,Re);Y==null||Y.debug(`Using model URL ${Ne}.`);const _e=`${Re.wasm}audio_buffer-v1${we?"_simd":""}.wasm`,Ze=`${Re.wasm}resampler-v1${we?"_simd":""}.wasm`,tt=`${Re.workers}worker-v1.js`,{file:$e,node:at}=M[ge],lt=`${Re.processors}${$e}`,ot=yield f.loadWorker(tt,"VoiceFocusWorker",Ie,Y);if(Z){Y==null||Y.debug("Preloading",Ne);let Un=a.supportsWASMPostMessage(globalThis)?"get-module":"get-module-buffer";ot.postMessage({message:Un,preload:!0,key:"model",fetchBehavior:Ie,path:Ne})}const Zt={processor:ge,worker:ot,audioBufferURL:_e,resamplerURL:Ze,fetchBehavior:Ie,modelURL:Ne,delegate:K,logger:Y,numberOfInputs:Be==="ns_es"?2:1},un=new vv(ot,lt,at,Zt,le);return Promise.resolve(un)})}createNode(P,k){var K;if(this.internal.isDestroyed)throw new Error("Unable to create node because VoiceFocus worker has been destroyed.");const{voiceFocusSampleRate:Z=P.sampleRate===16e3?16e3:48e3,enabled:Y=!0,agc:ie=r}=k||{},ge=k==null?void 0:k.es,Ie={voiceFocusSampleRate:Z,enabled:Y,sendBufferCount:10,prefill:6,agc:ie,executionQuanta:this.executionQuanta,supportFarendStream:ge},le=m.withQueryString(this.processorURL,(K=this.nodeOptions)===null||K===void 0?void 0:K.fetchBehavior);return P.audioWorklet.addModule(le).then(()=>new this.nodeConstructor(P,Object.assign(Object.assign({},this.nodeOptions),{processorOptions:Ie})))}applyToStream(P,k,K){return S(this,void 0,void 0,function*(){if(this.internal.isDestroyed)throw new Error("Unable to apply stream because VoiceFocus worker has been destroyed");const Z=k.createMediaStreamSource(P),Y=yield this.applyToSourceNode(Z,k,K),ie=k.createMediaStreamDestination();return Y.connect(ie),{node:Y,source:Z,destination:ie,stream:ie.stream}})}applyToSourceNode(P,k,K){return S(this,void 0,void 0,function*(){const Z=yield this.createNode(k,K);return P.connect(Z),Z})}destroy(){this.internal.worker&&this.internal.worker.terminate(),this.internal.isDestroyed=!0}constructor(P,k,K,Z,Y){this.processorURL=k,this.nodeConstructor=K,this.nodeOptions=Z,this.executionQuanta=Y,this.internal={worker:P,nodeOptions:Z,isDestroyed:!1}}},"VoiceFocus");c.VoiceFocus=A;const D=o(function(){let O=arguments.length>0&&arguments[0]!==void 0?arguments[0]:g;return new(window.AudioContext||window.webkitAudioContext)(O)},"createAudioContext");c.createAudioContext=D;const $=o((O,P,k)=>S(void 0,void 0,void 0,function*(){var K,Z;const{constraints:Y,spec:ie,delegate:ge,preload:Ie=!0,options:le}=P,{logger:we}=k,Be=yield A.configure(ie,k);if(!Be.supported)return(K=k.logger)===null||K===void 0||K.warn("Voice Focus not supported; returning standard stream."),window.navigator.mediaDevices.getUserMedia(Y);const Re=yield A.init(Be,{delegate:ge,preload:Ie,logger:we}),Ne=((Z=P.options)===null||Z===void 0?void 0:Z.agc)||r,_e=yield window.navigator.mediaDevices.getUserMedia(B(Y,Ne));return Re.applyToStream(_e,O,le).then(Ze=>Ze.stream)}),"getAudioInput");c.getAudioInput=$},o5nl:function(N,c,d){"use strict";Object.defineProperty(c,"__esModule",{value:!0});const S=d("cKqT"),h=d("HCbE");let m=o(class{create(){return new S.default(this.fixedWaitMs,this.shortBackoffMs,this.longBackoffMs)}createWithLimit(a){return new h.default(this.fixedWaitMs,this.shortBackoffMs,this.longBackoffMs,a)}constructor(a,n,i){this.fixedWaitMs=a,this.shortBackoffMs=n,this.longBackoffMs=i}},"FullJitterBackoffFactory");c.default=m},oHvd:function(N,c,d){"use strict";Object.defineProperty(c,"__esModule",{value:!0});let S=o(class{minimumHealth(){return this.minHealth}maximumHealth(){return this.maxHealth}health(){return this.maximumHealth()}update(m){this.currentData=m}getConnectionHealthData(){return this.currentData.clone()}healthy(){return this.health()>this.minimumHealth()}healthIfChanged(){const m=this.health();return m!==this.currentHealth?(this.currentHealth=m,m):null}constructor(m,f,a){this.minHealth=m.minHealth,this.maxHealth=m.maxHealth,this.currentHealth=m.initialHealth,this.currentData=f.clone(),this.name=a}},"BaseConnectionHealthPolicy");c.default=S},oJqn:function(N,c,d){"use strict";d.d(c,"a",function(){return i});var S=d("VDtp"),h=d.n(S);const m=S.Reader,f=S.Writer,a=S.util,n=S.roots.default||(S.roots.default={}),i=n.slack=(()=>{const e={};return e.calls=function(){const t={};return t.analytics=function(){const r={};return r.RecvMedia=function(){function l(v){if(v)for(let g=Object.keys(v),u=0;u<g.length;++u)v[g[u]]!=null&&(this[g[u]]=v[g[u]])}o(l,"RecvMedia"),l.prototype.peerId=a.Long?a.Long.fromBits(0,0,!0):0,l.prototype.bytesReceived=a.Long?a.Long.fromBits(0,0,!0):0,l.prototype.packetsReceived=a.Long?a.Long.fromBits(0,0,!0):0,l.prototype.fractionLost=0,l.prototype.jitter=0,l.prototype.packetsLost=a.Long?a.Long.fromBits(0,0,!0):0,l.prototype.codec=0,l.prototype.userId="",l.prototype.peerIdString="",l.prototype.audioStats=null,l.prototype.videoStats=null;let p;return Object.defineProperty(l.prototype,"mediaType",{get:a.oneOfGetter(p=["audioStats","videoStats"]),set:a.oneOfSetter(p)}),l.create=o(function(g){return new l(g)},"create"),l.encode=o(function(g,u){return u||(u=f.create()),g.peerId!=null&&Object.hasOwnProperty.call(g,"peerId")&&u.uint32(8).uint64(g.peerId),g.bytesReceived!=null&&Object.hasOwnProperty.call(g,"bytesReceived")&&u.uint32(16).uint64(g.bytesReceived),g.packetsReceived!=null&&Object.hasOwnProperty.call(g,"packetsReceived")&&u.uint32(24).uint64(g.packetsReceived),g.fractionLost!=null&&Object.hasOwnProperty.call(g,"fractionLost")&&u.uint32(33).double(g.fractionLost),g.jitter!=null&&Object.hasOwnProperty.call(g,"jitter")&&u.uint32(41).double(g.jitter),g.packetsLost!=null&&Object.hasOwnProperty.call(g,"packetsLost")&&u.uint32(48).uint64(g.packetsLost),g.codec!=null&&Object.hasOwnProperty.call(g,"codec")&&u.uint32(56).int32(g.codec),g.audioStats!=null&&Object.hasOwnProperty.call(g,"audioStats")&&n.slack.calls.analytics.RecvMedia.Audio.encode(g.audioStats,u.uint32(66).fork()).ldelim(),g.videoStats!=null&&Object.hasOwnProperty.call(g,"videoStats")&&n.slack.calls.analytics.RecvMedia.Video.encode(g.videoStats,u.uint32(74).fork()).ldelim(),g.userId!=null&&Object.hasOwnProperty.call(g,"userId")&&u.uint32(82).string(g.userId),g.peerIdString!=null&&Object.hasOwnProperty.call(g,"peerIdString")&&u.uint32(90).string(g.peerIdString),u},"encode"),l.encodeDelimited=o(function(g,u){return this.encode(g,u).ldelim()},"encodeDelimited"),l.decode=o(function(g,u){g instanceof m||(g=m.create(g));let s=u===void 0?g.len:g.pos+u,I=new n.slack.calls.analytics.RecvMedia;for(;g.pos<s;){let M=g.uint32();switch(M>>>3){case 1:{I.peerId=g.uint64();break}case 2:{I.bytesReceived=g.uint64();break}case 3:{I.packetsReceived=g.uint64();break}case 4:{I.fractionLost=g.double();break}case 5:{I.jitter=g.double();break}case 6:{I.packetsLost=g.uint64();break}case 7:{I.codec=g.int32();break}case 10:{I.userId=g.string();break}case 11:{I.peerIdString=g.string();break}case 8:{I.audioStats=n.slack.calls.analytics.RecvMedia.Audio.decode(g,g.uint32());break}case 9:{I.videoStats=n.slack.calls.analytics.RecvMedia.Video.decode(g,g.uint32());break}default:g.skipType(M&7);break}}return I},"decode"),l.decodeDelimited=o(function(g){return g instanceof m||(g=new m(g)),this.decode(g,g.uint32())},"decodeDelimited"),l.verify=o(function(g){if(typeof g!="object"||g===null)return"object expected";let u={};if(g.peerId!=null&&g.hasOwnProperty("peerId")&&!a.isInteger(g.peerId)&&!(g.peerId&&a.isInteger(g.peerId.low)&&a.isInteger(g.peerId.high)))return"peerId: integer|Long expected";if(g.bytesReceived!=null&&g.hasOwnProperty("bytesReceived")&&!a.isInteger(g.bytesReceived)&&!(g.bytesReceived&&a.isInteger(g.bytesReceived.low)&&a.isInteger(g.bytesReceived.high)))return"bytesReceived: integer|Long expected";if(g.packetsReceived!=null&&g.hasOwnProperty("packetsReceived")&&!a.isInteger(g.packetsReceived)&&!(g.packetsReceived&&a.isInteger(g.packetsReceived.low)&&a.isInteger(g.packetsReceived.high)))return"packetsReceived: integer|Long expected";if(g.fractionLost!=null&&g.hasOwnProperty("fractionLost")&&typeof g.fractionLost!="number")return"fractionLost: number expected";if(g.jitter!=null&&g.hasOwnProperty("jitter")&&typeof g.jitter!="number")return"jitter: number expected";if(g.packetsLost!=null&&g.hasOwnProperty("packetsLost")&&!a.isInteger(g.packetsLost)&&!(g.packetsLost&&a.isInteger(g.packetsLost.low)&&a.isInteger(g.packetsLost.high)))return"packetsLost: integer|Long expected";if(g.codec!=null&&g.hasOwnProperty("codec"))switch(g.codec){default:return"codec: enum value expected";case 0:case 1:case 2:case 3:case 4:break}if(g.userId!=null&&g.hasOwnProperty("userId")&&!a.isString(g.userId))return"userId: string expected";if(g.peerIdString!=null&&g.hasOwnProperty("peerIdString")&&!a.isString(g.peerIdString))return"peerIdString: string expected";if(g.audioStats!=null&&g.hasOwnProperty("audioStats")){u.mediaType=1;{let s=n.slack.calls.analytics.RecvMedia.Audio.verify(g.audioStats);if(s)return"audioStats."+s}}if(g.videoStats!=null&&g.hasOwnProperty("videoStats")){if(u.mediaType===1)return"mediaType: multiple values";u.mediaType=1;{let s=n.slack.calls.analytics.RecvMedia.Video.verify(g.videoStats);if(s)return"videoStats."+s}}return null},"verify"),l.fromObject=o(function(g){if(g instanceof n.slack.calls.analytics.RecvMedia)return g;let u=new n.slack.calls.analytics.RecvMedia;switch(g.peerId!=null&&(a.Long?(u.peerId=a.Long.fromValue(g.peerId)).unsigned=!0:typeof g.peerId=="string"?u.peerId=parseInt(g.peerId,10):typeof g.peerId=="number"?u.peerId=g.peerId:typeof g.peerId=="object"&&(u.peerId=new a.LongBits(g.peerId.low>>>0,g.peerId.high>>>0).toNumber(!0))),g.bytesReceived!=null&&(a.Long?(u.bytesReceived=a.Long.fromValue(g.bytesReceived)).unsigned=!0:typeof g.bytesReceived=="string"?u.bytesReceived=parseInt(g.bytesReceived,10):typeof g.bytesReceived=="number"?u.bytesReceived=g.bytesReceived:typeof g.bytesReceived=="object"&&(u.bytesReceived=new a.LongBits(g.bytesReceived.low>>>0,g.bytesReceived.high>>>0).toNumber(!0))),g.packetsReceived!=null&&(a.Long?(u.packetsReceived=a.Long.fromValue(g.packetsReceived)).unsigned=!0:typeof g.packetsReceived=="string"?u.packetsReceived=parseInt(g.packetsReceived,10):typeof g.packetsReceived=="number"?u.packetsReceived=g.packetsReceived:typeof g.packetsReceived=="object"&&(u.packetsReceived=new a.LongBits(g.packetsReceived.low>>>0,g.packetsReceived.high>>>0).toNumber(!0))),g.fractionLost!=null&&(u.fractionLost=Number(g.fractionLost)),g.jitter!=null&&(u.jitter=Number(g.jitter)),g.packetsLost!=null&&(a.Long?(u.packetsLost=a.Long.fromValue(g.packetsLost)).unsigned=!0:typeof g.packetsLost=="string"?u.packetsLost=parseInt(g.packetsLost,10):typeof g.packetsLost=="number"?u.packetsLost=g.packetsLost:typeof g.packetsLost=="object"&&(u.packetsLost=new a.LongBits(g.packetsLost.low>>>0,g.packetsLost.high>>>0).toNumber(!0))),g.codec){default:if(typeof g.codec=="number"){u.codec=g.codec;break}break;case"UNKNOWN":case 0:u.codec=0;break;case"OPUS":case 1:u.codec=1;break;case"VP8":case 2:u.codec=2;break;case"VP9":case 3:u.codec=3;break;case"H264":case 4:u.codec=4;break}if(g.userId!=null&&(u.userId=String(g.userId)),g.peerIdString!=null&&(u.peerIdString=String(g.peerIdString)),g.audioStats!=null){if(typeof g.audioStats!="object")throw TypeError(".slack.calls.analytics.RecvMedia.audioStats: object expected");u.audioStats=n.slack.calls.analytics.RecvMedia.Audio.fromObject(g.audioStats)}if(g.videoStats!=null){if(typeof g.videoStats!="object")throw TypeError(".slack.calls.analytics.RecvMedia.videoStats: object expected");u.videoStats=n.slack.calls.analytics.RecvMedia.Video.fromObject(g.videoStats)}return u},"fromObject"),l.toObject=o(function(g,u){u||(u={});let s={};if(u.defaults){if(a.Long){let I=new a.Long(0,0,!0);s.peerId=u.longs===String?I.toString():u.longs===Number?I.toNumber():I}else s.peerId=u.longs===String?"0":0;if(a.Long){let I=new a.Long(0,0,!0);s.bytesReceived=u.longs===String?I.toString():u.longs===Number?I.toNumber():I}else s.bytesReceived=u.longs===String?"0":0;if(a.Long){let I=new a.Long(0,0,!0);s.packetsReceived=u.longs===String?I.toString():u.longs===Number?I.toNumber():I}else s.packetsReceived=u.longs===String?"0":0;if(s.fractionLost=0,s.jitter=0,a.Long){let I=new a.Long(0,0,!0);s.packetsLost=u.longs===String?I.toString():u.longs===Number?I.toNumber():I}else s.packetsLost=u.longs===String?"0":0;s.codec=u.enums===String?"UNKNOWN":0,s.userId="",s.peerIdString=""}return g.peerId!=null&&g.hasOwnProperty("peerId")&&(typeof g.peerId=="number"?s.peerId=u.longs===String?String(g.peerId):g.peerId:s.peerId=u.longs===String?a.Long.prototype.toString.call(g.peerId):u.longs===Number?new a.LongBits(g.peerId.low>>>0,g.peerId.high>>>0).toNumber(!0):g.peerId),g.bytesReceived!=null&&g.hasOwnProperty("bytesReceived")&&(typeof g.bytesReceived=="number"?s.bytesReceived=u.longs===String?String(g.bytesReceived):g.bytesReceived:s.bytesReceived=u.longs===String?a.Long.prototype.toString.call(g.bytesReceived):u.longs===Number?new a.LongBits(g.bytesReceived.low>>>0,g.bytesReceived.high>>>0).toNumber(!0):g.bytesReceived),g.packetsReceived!=null&&g.hasOwnProperty("packetsReceived")&&(typeof g.packetsReceived=="number"?s.packetsReceived=u.longs===String?String(g.packetsReceived):g.packetsReceived:s.packetsReceived=u.longs===String?a.Long.prototype.toString.call(g.packetsReceived):u.longs===Number?new a.LongBits(g.packetsReceived.low>>>0,g.packetsReceived.high>>>0).toNumber(!0):g.packetsReceived),g.fractionLost!=null&&g.hasOwnProperty("fractionLost")&&(s.fractionLost=u.json&&!isFinite(g.fractionLost)?String(g.fractionLost):g.fractionLost),g.jitter!=null&&g.hasOwnProperty("jitter")&&(s.jitter=u.json&&!isFinite(g.jitter)?String(g.jitter):g.jitter),g.packetsLost!=null&&g.hasOwnProperty("packetsLost")&&(typeof g.packetsLost=="number"?s.packetsLost=u.longs===String?String(g.packetsLost):g.packetsLost:s.packetsLost=u.longs===String?a.Long.prototype.toString.call(g.packetsLost):u.longs===Number?new a.LongBits(g.packetsLost.low>>>0,g.packetsLost.high>>>0).toNumber(!0):g.packetsLost),g.codec!=null&&g.hasOwnProperty("codec")&&(s.codec=u.enums===String?n.slack.calls.analytics.Codec[g.codec]===void 0?g.codec:n.slack.calls.analytics.Codec[g.codec]:g.codec),g.audioStats!=null&&g.hasOwnProperty("audioStats")&&(s.audioStats=n.slack.calls.analytics.RecvMedia.Audio.toObject(g.audioStats,u),u.oneofs&&(s.mediaType="audioStats")),g.videoStats!=null&&g.hasOwnProperty("videoStats")&&(s.videoStats=n.slack.calls.analytics.RecvMedia.Video.toObject(g.videoStats,u),u.oneofs&&(s.mediaType="videoStats")),g.userId!=null&&g.hasOwnProperty("userId")&&(s.userId=g.userId),g.peerIdString!=null&&g.hasOwnProperty("peerIdString")&&(s.peerIdString=g.peerIdString),s},"toObject"),l.prototype.toJSON=o(function(){return this.constructor.toObject(this,S.util.toJSONOptions)},"toJSON"),l.getTypeUrl=o(function(g){return g===void 0&&(g="type.googleapis.com"),g+"/slack.calls.analytics.RecvMedia"},"getTypeUrl"),l.Audio=function(){function v(g){if(g)for(let u=Object.keys(g),s=0;s<u.length;++s)g[u[s]]!=null&&(this[u[s]]=g[u[s]])}return o(v,"Audio"),v.prototype.audioLevel=0,v.prototype.jitterBufferDelay=0,v.prototype.concealmentEvents=a.Long?a.Long.fromBits(0,0,!0):0,v.prototype.concealedSamples=a.Long?a.Long.fromBits(0,0,!0):0,v.create=o(function(u){return new v(u)},"create"),v.encode=o(function(u,s){return s||(s=f.create()),u.audioLevel!=null&&Object.hasOwnProperty.call(u,"audioLevel")&&s.uint32(9).double(u.audioLevel),u.jitterBufferDelay!=null&&Object.hasOwnProperty.call(u,"jitterBufferDelay")&&s.uint32(17).double(u.jitterBufferDelay),u.concealmentEvents!=null&&Object.hasOwnProperty.call(u,"concealmentEvents")&&s.uint32(24).uint64(u.concealmentEvents),u.concealedSamples!=null&&Object.hasOwnProperty.call(u,"concealedSamples")&&s.uint32(32).uint64(u.concealedSamples),s},"encode"),v.encodeDelimited=o(function(u,s){return this.encode(u,s).ldelim()},"encodeDelimited"),v.decode=o(function(u,s){u instanceof m||(u=m.create(u));let I=s===void 0?u.len:u.pos+s,M=new n.slack.calls.analytics.RecvMedia.Audio;for(;u.pos<I;){let R=u.uint32();switch(R>>>3){case 1:{M.audioLevel=u.double();break}case 2:{M.jitterBufferDelay=u.double();break}case 3:{M.concealmentEvents=u.uint64();break}case 4:{M.concealedSamples=u.uint64();break}default:u.skipType(R&7);break}}return M},"decode"),v.decodeDelimited=o(function(u){return u instanceof m||(u=new m(u)),this.decode(u,u.uint32())},"decodeDelimited"),v.verify=o(function(u){return typeof u!="object"||u===null?"object expected":u.audioLevel!=null&&u.hasOwnProperty("audioLevel")&&typeof u.audioLevel!="number"?"audioLevel: number expected":u.jitterBufferDelay!=null&&u.hasOwnProperty("jitterBufferDelay")&&typeof u.jitterBufferDelay!="number"?"jitterBufferDelay: number expected":u.concealmentEvents!=null&&u.hasOwnProperty("concealmentEvents")&&!a.isInteger(u.concealmentEvents)&&!(u.concealmentEvents&&a.isInteger(u.concealmentEvents.low)&&a.isInteger(u.concealmentEvents.high))?"concealmentEvents: integer|Long expected":u.concealedSamples!=null&&u.hasOwnProperty("concealedSamples")&&!a.isInteger(u.concealedSamples)&&!(u.concealedSamples&&a.isInteger(u.concealedSamples.low)&&a.isInteger(u.concealedSamples.high))?"concealedSamples: integer|Long expected":null},"verify"),v.fromObject=o(function(u){if(u instanceof n.slack.calls.analytics.RecvMedia.Audio)return u;let s=new n.slack.calls.analytics.RecvMedia.Audio;return u.audioLevel!=null&&(s.audioLevel=Number(u.audioLevel)),u.jitterBufferDelay!=null&&(s.jitterBufferDelay=Number(u.jitterBufferDelay)),u.concealmentEvents!=null&&(a.Long?(s.concealmentEvents=a.Long.fromValue(u.concealmentEvents)).unsigned=!0:typeof u.concealmentEvents=="string"?s.concealmentEvents=parseInt(u.concealmentEvents,10):typeof u.concealmentEvents=="number"?s.concealmentEvents=u.concealmentEvents:typeof u.concealmentEvents=="object"&&(s.concealmentEvents=new a.LongBits(u.concealmentEvents.low>>>0,u.concealmentEvents.high>>>0).toNumber(!0))),u.concealedSamples!=null&&(a.Long?(s.concealedSamples=a.Long.fromValue(u.concealedSamples)).unsigned=!0:typeof u.concealedSamples=="string"?s.concealedSamples=parseInt(u.concealedSamples,10):typeof u.concealedSamples=="number"?s.concealedSamples=u.concealedSamples:typeof u.concealedSamples=="object"&&(s.concealedSamples=new a.LongBits(u.concealedSamples.low>>>0,u.concealedSamples.high>>>0).toNumber(!0))),s},"fromObject"),v.toObject=o(function(u,s){s||(s={});let I={};if(s.defaults){if(I.audioLevel=0,I.jitterBufferDelay=0,a.Long){let M=new a.Long(0,0,!0);I.concealmentEvents=s.longs===String?M.toString():s.longs===Number?M.toNumber():M}else I.concealmentEvents=s.longs===String?"0":0;if(a.Long){let M=new a.Long(0,0,!0);I.concealedSamples=s.longs===String?M.toString():s.longs===Number?M.toNumber():M}else I.concealedSamples=s.longs===String?"0":0}return u.audioLevel!=null&&u.hasOwnProperty("audioLevel")&&(I.audioLevel=s.json&&!isFinite(u.audioLevel)?String(u.audioLevel):u.audioLevel),u.jitterBufferDelay!=null&&u.hasOwnProperty("jitterBufferDelay")&&(I.jitterBufferDelay=s.json&&!isFinite(u.jitterBufferDelay)?String(u.jitterBufferDelay):u.jitterBufferDelay),u.concealmentEvents!=null&&u.hasOwnProperty("concealmentEvents")&&(typeof u.concealmentEvents=="number"?I.concealmentEvents=s.longs===String?String(u.concealmentEvents):u.concealmentEvents:I.concealmentEvents=s.longs===String?a.Long.prototype.toString.call(u.concealmentEvents):s.longs===Number?new a.LongBits(u.concealmentEvents.low>>>0,u.concealmentEvents.high>>>0).toNumber(!0):u.concealmentEvents),u.concealedSamples!=null&&u.hasOwnProperty("concealedSamples")&&(typeof u.concealedSamples=="number"?I.concealedSamples=s.longs===String?String(u.concealedSamples):u.concealedSamples:I.concealedSamples=s.longs===String?a.Long.prototype.toString.call(u.concealedSamples):s.longs===Number?new a.LongBits(u.concealedSamples.low>>>0,u.concealedSamples.high>>>0).toNumber(!0):u.concealedSamples),I},"toObject"),v.prototype.toJSON=o(function(){return this.constructor.toObject(this,S.util.toJSONOptions)},"toJSON"),v.getTypeUrl=o(function(u){return u===void 0&&(u="type.googleapis.com"),u+"/slack.calls.analytics.RecvMedia.Audio"},"getTypeUrl"),v}(),l.Video=function(){function v(g){if(g)for(let u=Object.keys(g),s=0;s<u.length;++s)g[u[s]]!=null&&(this[u[s]]=g[u[s]])}return o(v,"Video"),v.prototype.firCount=a.Long?a.Long.fromBits(0,0,!0):0,v.prototype.nackCount=a.Long?a.Long.fromBits(0,0,!0):0,v.prototype.pliCount=a.Long?a.Long.fromBits(0,0,!0):0,v.prototype.sliCount=a.Long?a.Long.fromBits(0,0,!0):0,v.prototype.frameHeight=a.Long?a.Long.fromBits(0,0,!0):0,v.prototype.frameWidth=a.Long?a.Long.fromBits(0,0,!0):0,v.prototype.framesPerSecond=0,v.prototype.framesCorrupted=a.Long?a.Long.fromBits(0,0,!0):0,v.prototype.framesDecoded=a.Long?a.Long.fromBits(0,0,!0):0,v.prototype.framesDropped=a.Long?a.Long.fromBits(0,0,!0):0,v.prototype.framesReceived=a.Long?a.Long.fromBits(0,0,!0):0,v.create=o(function(u){return new v(u)},"create"),v.encode=o(function(u,s){return s||(s=f.create()),u.firCount!=null&&Object.hasOwnProperty.call(u,"firCount")&&s.uint32(8).uint64(u.firCount),u.nackCount!=null&&Object.hasOwnProperty.call(u,"nackCount")&&s.uint32(16).uint64(u.nackCount),u.pliCount!=null&&Object.hasOwnProperty.call(u,"pliCount")&&s.uint32(24).uint64(u.pliCount),u.sliCount!=null&&Object.hasOwnProperty.call(u,"sliCount")&&s.uint32(32).uint64(u.sliCount),u.frameHeight!=null&&Object.hasOwnProperty.call(u,"frameHeight")&&s.uint32(40).uint64(u.frameHeight),u.frameWidth!=null&&Object.hasOwnProperty.call(u,"frameWidth")&&s.uint32(48).uint64(u.frameWidth),u.framesPerSecond!=null&&Object.hasOwnProperty.call(u,"framesPerSecond")&&s.uint32(57).double(u.framesPerSecond),u.framesCorrupted!=null&&Object.hasOwnProperty.call(u,"framesCorrupted")&&s.uint32(64).uint64(u.framesCorrupted),u.framesDecoded!=null&&Object.hasOwnProperty.call(u,"framesDecoded")&&s.uint32(72).uint64(u.framesDecoded),u.framesDropped!=null&&Object.hasOwnProperty.call(u,"framesDropped")&&s.uint32(80).uint64(u.framesDropped),u.framesReceived!=null&&Object.hasOwnProperty.call(u,"framesReceived")&&s.uint32(88).uint64(u.framesReceived),s},"encode"),v.encodeDelimited=o(function(u,s){return this.encode(u,s).ldelim()},"encodeDelimited"),v.decode=o(function(u,s){u instanceof m||(u=m.create(u));let I=s===void 0?u.len:u.pos+s,M=new n.slack.calls.analytics.RecvMedia.Video;for(;u.pos<I;){let R=u.uint32();switch(R>>>3){case 1:{M.firCount=u.uint64();break}case 2:{M.nackCount=u.uint64();break}case 3:{M.pliCount=u.uint64();break}case 4:{M.sliCount=u.uint64();break}case 5:{M.frameHeight=u.uint64();break}case 6:{M.frameWidth=u.uint64();break}case 7:{M.framesPerSecond=u.double();break}case 8:{M.framesCorrupted=u.uint64();break}case 9:{M.framesDecoded=u.uint64();break}case 10:{M.framesDropped=u.uint64();break}case 11:{M.framesReceived=u.uint64();break}default:u.skipType(R&7);break}}return M},"decode"),v.decodeDelimited=o(function(u){return u instanceof m||(u=new m(u)),this.decode(u,u.uint32())},"decodeDelimited"),v.verify=o(function(u){return typeof u!="object"||u===null?"object expected":u.firCount!=null&&u.hasOwnProperty("firCount")&&!a.isInteger(u.firCount)&&!(u.firCount&&a.isInteger(u.firCount.low)&&a.isInteger(u.firCount.high))?"firCount: integer|Long expected":u.nackCount!=null&&u.hasOwnProperty("nackCount")&&!a.isInteger(u.nackCount)&&!(u.nackCount&&a.isInteger(u.nackCount.low)&&a.isInteger(u.nackCount.high))?"nackCount: integer|Long expected":u.pliCount!=null&&u.hasOwnProperty("pliCount")&&!a.isInteger(u.pliCount)&&!(u.pliCount&&a.isInteger(u.pliCount.low)&&a.isInteger(u.pliCount.high))?"pliCount: integer|Long expected":u.sliCount!=null&&u.hasOwnProperty("sliCount")&&!a.isInteger(u.sliCount)&&!(u.sliCount&&a.isInteger(u.sliCount.low)&&a.isInteger(u.sliCount.high))?"sliCount: integer|Long expected":u.frameHeight!=null&&u.hasOwnProperty("frameHeight")&&!a.isInteger(u.frameHeight)&&!(u.frameHeight&&a.isInteger(u.frameHeight.low)&&a.isInteger(u.frameHeight.high))?"frameHeight: integer|Long expected":u.frameWidth!=null&&u.hasOwnProperty("frameWidth")&&!a.isInteger(u.frameWidth)&&!(u.frameWidth&&a.isInteger(u.frameWidth.low)&&a.isInteger(u.frameWidth.high))?"frameWidth: integer|Long expected":u.framesPerSecond!=null&&u.hasOwnProperty("framesPerSecond")&&typeof u.framesPerSecond!="number"?"framesPerSecond: number expected":u.framesCorrupted!=null&&u.hasOwnProperty("framesCorrupted")&&!a.isInteger(u.framesCorrupted)&&!(u.framesCorrupted&&a.isInteger(u.framesCorrupted.low)&&a.isInteger(u.framesCorrupted.high))?"framesCorrupted: integer|Long expected":u.framesDecoded!=null&&u.hasOwnProperty("framesDecoded")&&!a.isInteger(u.framesDecoded)&&!(u.framesDecoded&&a.isInteger(u.framesDecoded.low)&&a.isInteger(u.framesDecoded.high))?"framesDecoded: integer|Long expected":u.framesDropped!=null&&u.hasOwnProperty("framesDropped")&&!a.isInteger(u.framesDropped)&&!(u.framesDropped&&a.isInteger(u.framesDropped.low)&&a.isInteger(u.framesDropped.high))?"framesDropped: integer|Long expected":u.framesReceived!=null&&u.hasOwnProperty("framesReceived")&&!a.isInteger(u.framesReceived)&&!(u.framesReceived&&a.isInteger(u.framesReceived.low)&&a.isInteger(u.framesReceived.high))?"framesReceived: integer|Long expected":null},"verify"),v.fromObject=o(function(u){if(u instanceof n.slack.calls.analytics.RecvMedia.Video)return u;let s=new n.slack.calls.analytics.RecvMedia.Video;return u.firCount!=null&&(a.Long?(s.firCount=a.Long.fromValue(u.firCount)).unsigned=!0:typeof u.firCount=="string"?s.firCount=parseInt(u.firCount,10):typeof u.firCount=="number"?s.firCount=u.firCount:typeof u.firCount=="object"&&(s.firCount=new a.LongBits(u.firCount.low>>>0,u.firCount.high>>>0).toNumber(!0))),u.nackCount!=null&&(a.Long?(s.nackCount=a.Long.fromValue(u.nackCount)).unsigned=!0:typeof u.nackCount=="string"?s.nackCount=parseInt(u.nackCount,10):typeof u.nackCount=="number"?s.nackCount=u.nackCount:typeof u.nackCount=="object"&&(s.nackCount=new a.LongBits(u.nackCount.low>>>0,u.nackCount.high>>>0).toNumber(!0))),u.pliCount!=null&&(a.Long?(s.pliCount=a.Long.fromValue(u.pliCount)).unsigned=!0:typeof u.pliCount=="string"?s.pliCount=parseInt(u.pliCount,10):typeof u.pliCount=="number"?s.pliCount=u.pliCount:typeof u.pliCount=="object"&&(s.pliCount=new a.LongBits(u.pliCount.low>>>0,u.pliCount.high>>>0).toNumber(!0))),u.sliCount!=null&&(a.Long?(s.sliCount=a.Long.fromValue(u.sliCount)).unsigned=!0:typeof u.sliCount=="string"?s.sliCount=parseInt(u.sliCount,10):typeof u.sliCount=="number"?s.sliCount=u.sliCount:typeof u.sliCount=="object"&&(s.sliCount=new a.LongBits(u.sliCount.low>>>0,u.sliCount.high>>>0).toNumber(!0))),u.frameHeight!=null&&(a.Long?(s.frameHeight=a.Long.fromValue(u.frameHeight)).unsigned=!0:typeof u.frameHeight=="string"?s.frameHeight=parseInt(u.frameHeight,10):typeof u.frameHeight=="number"?s.frameHeight=u.frameHeight:typeof u.frameHeight=="object"&&(s.frameHeight=new a.LongBits(u.frameHeight.low>>>0,u.frameHeight.high>>>0).toNumber(!0))),u.frameWidth!=null&&(a.Long?(s.frameWidth=a.Long.fromValue(u.frameWidth)).unsigned=!0:typeof u.frameWidth=="string"?s.frameWidth=parseInt(u.frameWidth,10):typeof u.frameWidth=="number"?s.frameWidth=u.frameWidth:typeof u.frameWidth=="object"&&(s.frameWidth=new a.LongBits(u.frameWidth.low>>>0,u.frameWidth.high>>>0).toNumber(!0))),u.framesPerSecond!=null&&(s.framesPerSecond=Number(u.framesPerSecond)),u.framesCorrupted!=null&&(a.Long?(s.framesCorrupted=a.Long.fromValue(u.framesCorrupted)).unsigned=!0:typeof u.framesCorrupted=="string"?s.framesCorrupted=parseInt(u.framesCorrupted,10):typeof u.framesCorrupted=="number"?s.framesCorrupted=u.framesCorrupted:typeof u.framesCorrupted=="object"&&(s.framesCorrupted=new a.LongBits(u.framesCorrupted.low>>>0,u.framesCorrupted.high>>>0).toNumber(!0))),u.framesDecoded!=null&&(a.Long?(s.framesDecoded=a.Long.fromValue(u.framesDecoded)).unsigned=!0:typeof u.framesDecoded=="string"?s.framesDecoded=parseInt(u.framesDecoded,10):typeof u.framesDecoded=="number"?s.framesDecoded=u.framesDecoded:typeof u.framesDecoded=="object"&&(s.framesDecoded=new a.LongBits(u.framesDecoded.low>>>0,u.framesDecoded.high>>>0).toNumber(!0))),u.framesDropped!=null&&(a.Long?(s.framesDropped=a.Long.fromValue(u.framesDropped)).unsigned=!0:typeof u.framesDropped=="string"?s.framesDropped=parseInt(u.framesDropped,10):typeof u.framesDropped=="number"?s.framesDropped=u.framesDropped:typeof u.framesDropped=="object"&&(s.framesDropped=new a.LongBits(u.framesDropped.low>>>0,u.framesDropped.high>>>0).toNumber(!0))),u.framesReceived!=null&&(a.Long?(s.framesReceived=a.Long.fromValue(u.framesReceived)).unsigned=!0:typeof u.framesReceived=="string"?s.framesReceived=parseInt(u.framesReceived,10):typeof u.framesReceived=="number"?s.framesReceived=u.framesReceived:typeof u.framesReceived=="object"&&(s.framesReceived=new a.LongBits(u.framesReceived.low>>>0,u.framesReceived.high>>>0).toNumber(!0))),s},"fromObject"),v.toObject=o(function(u,s){s||(s={});let I={};if(s.defaults){if(a.Long){let M=new a.Long(0,0,!0);I.firCount=s.longs===String?M.toString():s.longs===Number?M.toNumber():M}else I.firCount=s.longs===String?"0":0;if(a.Long){let M=new a.Long(0,0,!0);I.nackCount=s.longs===String?M.toString():s.longs===Number?M.toNumber():M}else I.nackCount=s.longs===String?"0":0;if(a.Long){let M=new a.Long(0,0,!0);I.pliCount=s.longs===String?M.toString():s.longs===Number?M.toNumber():M}else I.pliCount=s.longs===String?"0":0;if(a.Long){let M=new a.Long(0,0,!0);I.sliCount=s.longs===String?M.toString():s.longs===Number?M.toNumber():M}else I.sliCount=s.longs===String?"0":0;if(a.Long){let M=new a.Long(0,0,!0);I.frameHeight=s.longs===String?M.toString():s.longs===Number?M.toNumber():M}else I.frameHeight=s.longs===String?"0":0;if(a.Long){let M=new a.Long(0,0,!0);I.frameWidth=s.longs===String?M.toString():s.longs===Number?M.toNumber():M}else I.frameWidth=s.longs===String?"0":0;if(I.framesPerSecond=0,a.Long){let M=new a.Long(0,0,!0);I.framesCorrupted=s.longs===String?M.toString():s.longs===Number?M.toNumber():M}else I.framesCorrupted=s.longs===String?"0":0;if(a.Long){let M=new a.Long(0,0,!0);I.framesDecoded=s.longs===String?M.toString():s.longs===Number?M.toNumber():M}else I.framesDecoded=s.longs===String?"0":0;if(a.Long){let M=new a.Long(0,0,!0);I.framesDropped=s.longs===String?M.toString():s.longs===Number?M.toNumber():M}else I.framesDropped=s.longs===String?"0":0;if(a.Long){let M=new a.Long(0,0,!0);I.framesReceived=s.longs===String?M.toString():s.longs===Number?M.toNumber():M}else I.framesReceived=s.longs===String?"0":0}return u.firCount!=null&&u.hasOwnProperty("firCount")&&(typeof u.firCount=="number"?I.firCount=s.longs===String?String(u.firCount):u.firCount:I.firCount=s.longs===String?a.Long.prototype.toString.call(u.firCount):s.longs===Number?new a.LongBits(u.firCount.low>>>0,u.firCount.high>>>0).toNumber(!0):u.firCount),u.nackCount!=null&&u.hasOwnProperty("nackCount")&&(typeof u.nackCount=="number"?I.nackCount=s.longs===String?String(u.nackCount):u.nackCount:I.nackCount=s.longs===String?a.Long.prototype.toString.call(u.nackCount):s.longs===Number?new a.LongBits(u.nackCount.low>>>0,u.nackCount.high>>>0).toNumber(!0):u.nackCount),u.pliCount!=null&&u.hasOwnProperty("pliCount")&&(typeof u.pliCount=="number"?I.pliCount=s.longs===String?String(u.pliCount):u.pliCount:I.pliCount=s.longs===String?a.Long.prototype.toString.call(u.pliCount):s.longs===Number?new a.LongBits(u.pliCount.low>>>0,u.pliCount.high>>>0).toNumber(!0):u.pliCount),u.sliCount!=null&&u.hasOwnProperty("sliCount")&&(typeof u.sliCount=="number"?I.sliCount=s.longs===String?String(u.sliCount):u.sliCount:I.sliCount=s.longs===String?a.Long.prototype.toString.call(u.sliCount):s.longs===Number?new a.LongBits(u.sliCount.low>>>0,u.sliCount.high>>>0).toNumber(!0):u.sliCount),u.frameHeight!=null&&u.hasOwnProperty("frameHeight")&&(typeof u.frameHeight=="number"?I.frameHeight=s.longs===String?String(u.frameHeight):u.frameHeight:I.frameHeight=s.longs===String?a.Long.prototype.toString.call(u.frameHeight):s.longs===Number?new a.LongBits(u.frameHeight.low>>>0,u.frameHeight.high>>>0).toNumber(!0):u.frameHeight),u.frameWidth!=null&&u.hasOwnProperty("frameWidth")&&(typeof u.frameWidth=="number"?I.frameWidth=s.longs===String?String(u.frameWidth):u.frameWidth:I.frameWidth=s.longs===String?a.Long.prototype.toString.call(u.frameWidth):s.longs===Number?new a.LongBits(u.frameWidth.low>>>0,u.frameWidth.high>>>0).toNumber(!0):u.frameWidth),u.framesPerSecond!=null&&u.hasOwnProperty("framesPerSecond")&&(I.framesPerSecond=s.json&&!isFinite(u.framesPerSecond)?String(u.framesPerSecond):u.framesPerSecond),u.framesCorrupted!=null&&u.hasOwnProperty("framesCorrupted")&&(typeof u.framesCorrupted=="number"?I.framesCorrupted=s.longs===String?String(u.framesCorrupted):u.framesCorrupted:I.framesCorrupted=s.longs===String?a.Long.prototype.toString.call(u.framesCorrupted):s.longs===Number?new a.LongBits(u.framesCorrupted.low>>>0,u.framesCorrupted.high>>>0).toNumber(!0):u.framesCorrupted),u.framesDecoded!=null&&u.hasOwnProperty("framesDecoded")&&(typeof u.framesDecoded=="number"?I.framesDecoded=s.longs===String?String(u.framesDecoded):u.framesDecoded:I.framesDecoded=s.longs===String?a.Long.prototype.toString.call(u.framesDecoded):s.longs===Number?new a.LongBits(u.framesDecoded.low>>>0,u.framesDecoded.high>>>0).toNumber(!0):u.framesDecoded),u.framesDropped!=null&&u.hasOwnProperty("framesDropped")&&(typeof u.framesDropped=="number"?I.framesDropped=s.longs===String?String(u.framesDropped):u.framesDropped:I.framesDropped=s.longs===String?a.Long.prototype.toString.call(u.framesDropped):s.longs===Number?new a.LongBits(u.framesDropped.low>>>0,u.framesDropped.high>>>0).toNumber(!0):u.framesDropped),u.framesReceived!=null&&u.hasOwnProperty("framesReceived")&&(typeof u.framesReceived=="number"?I.framesReceived=s.longs===String?String(u.framesReceived):u.framesReceived:I.framesReceived=s.longs===String?a.Long.prototype.toString.call(u.framesReceived):s.longs===Number?new a.LongBits(u.framesReceived.low>>>0,u.framesReceived.high>>>0).toNumber(!0):u.framesReceived),I},"toObject"),v.prototype.toJSON=o(function(){return this.constructor.toObject(this,S.util.toJSONOptions)},"toJSON"),v.getTypeUrl=o(function(u){return u===void 0&&(u="type.googleapis.com"),u+"/slack.calls.analytics.RecvMedia.Video"},"getTypeUrl"),v}(),l}(),r.SendMedia=function(){function l(v){if(v)for(let g=Object.keys(v),u=0;u<g.length;++u)v[g[u]]!=null&&(this[g[u]]=v[g[u]])}o(l,"SendMedia"),l.prototype.peerId=a.Long?a.Long.fromBits(0,0,!0):0,l.prototype.bytesSent=a.Long?a.Long.fromBits(0,0,!0):0,l.prototype.packetsSent=a.Long?a.Long.fromBits(0,0,!0):0,l.prototype.codec=0,l.prototype.peerIdString="",l.prototype.audioStats=null,l.prototype.videoStats=null;let p;return Object.defineProperty(l.prototype,"mediaType",{get:a.oneOfGetter(p=["audioStats","videoStats"]),set:a.oneOfSetter(p)}),l.create=o(function(g){return new l(g)},"create"),l.encode=o(function(g,u){return u||(u=f.create()),g.peerId!=null&&Object.hasOwnProperty.call(g,"peerId")&&u.uint32(8).uint64(g.peerId),g.bytesSent!=null&&Object.hasOwnProperty.call(g,"bytesSent")&&u.uint32(16).uint64(g.bytesSent),g.packetsSent!=null&&Object.hasOwnProperty.call(g,"packetsSent")&&u.uint32(24).uint64(g.packetsSent),g.codec!=null&&Object.hasOwnProperty.call(g,"codec")&&u.uint32(32).int32(g.codec),g.audioStats!=null&&Object.hasOwnProperty.call(g,"audioStats")&&n.slack.calls.analytics.SendMedia.Audio.encode(g.audioStats,u.uint32(42).fork()).ldelim(),g.videoStats!=null&&Object.hasOwnProperty.call(g,"videoStats")&&n.slack.calls.analytics.SendMedia.Video.encode(g.videoStats,u.uint32(50).fork()).ldelim(),g.peerIdString!=null&&Object.hasOwnProperty.call(g,"peerIdString")&&u.uint32(58).string(g.peerIdString),u},"encode"),l.encodeDelimited=o(function(g,u){return this.encode(g,u).ldelim()},"encodeDelimited"),l.decode=o(function(g,u){g instanceof m||(g=m.create(g));let s=u===void 0?g.len:g.pos+u,I=new n.slack.calls.analytics.SendMedia;for(;g.pos<s;){let M=g.uint32();switch(M>>>3){case 1:{I.peerId=g.uint64();break}case 2:{I.bytesSent=g.uint64();break}case 3:{I.packetsSent=g.uint64();break}case 4:{I.codec=g.int32();break}case 7:{I.peerIdString=g.string();break}case 5:{I.audioStats=n.slack.calls.analytics.SendMedia.Audio.decode(g,g.uint32());break}case 6:{I.videoStats=n.slack.calls.analytics.SendMedia.Video.decode(g,g.uint32());break}default:g.skipType(M&7);break}}return I},"decode"),l.decodeDelimited=o(function(g){return g instanceof m||(g=new m(g)),this.decode(g,g.uint32())},"decodeDelimited"),l.verify=o(function(g){if(typeof g!="object"||g===null)return"object expected";let u={};if(g.peerId!=null&&g.hasOwnProperty("peerId")&&!a.isInteger(g.peerId)&&!(g.peerId&&a.isInteger(g.peerId.low)&&a.isInteger(g.peerId.high)))return"peerId: integer|Long expected";if(g.bytesSent!=null&&g.hasOwnProperty("bytesSent")&&!a.isInteger(g.bytesSent)&&!(g.bytesSent&&a.isInteger(g.bytesSent.low)&&a.isInteger(g.bytesSent.high)))return"bytesSent: integer|Long expected";if(g.packetsSent!=null&&g.hasOwnProperty("packetsSent")&&!a.isInteger(g.packetsSent)&&!(g.packetsSent&&a.isInteger(g.packetsSent.low)&&a.isInteger(g.packetsSent.high)))return"packetsSent: integer|Long expected";if(g.codec!=null&&g.hasOwnProperty("codec"))switch(g.codec){default:return"codec: enum value expected";case 0:case 1:case 2:case 3:case 4:break}if(g.peerIdString!=null&&g.hasOwnProperty("peerIdString")&&!a.isString(g.peerIdString))return"peerIdString: string expected";if(g.audioStats!=null&&g.hasOwnProperty("audioStats")){u.mediaType=1;{let s=n.slack.calls.analytics.SendMedia.Audio.verify(g.audioStats);if(s)return"audioStats."+s}}if(g.videoStats!=null&&g.hasOwnProperty("videoStats")){if(u.mediaType===1)return"mediaType: multiple values";u.mediaType=1;{let s=n.slack.calls.analytics.SendMedia.Video.verify(g.videoStats);if(s)return"videoStats."+s}}return null},"verify"),l.fromObject=o(function(g){if(g instanceof n.slack.calls.analytics.SendMedia)return g;let u=new n.slack.calls.analytics.SendMedia;switch(g.peerId!=null&&(a.Long?(u.peerId=a.Long.fromValue(g.peerId)).unsigned=!0:typeof g.peerId=="string"?u.peerId=parseInt(g.peerId,10):typeof g.peerId=="number"?u.peerId=g.peerId:typeof g.peerId=="object"&&(u.peerId=new a.LongBits(g.peerId.low>>>0,g.peerId.high>>>0).toNumber(!0))),g.bytesSent!=null&&(a.Long?(u.bytesSent=a.Long.fromValue(g.bytesSent)).unsigned=!0:typeof g.bytesSent=="string"?u.bytesSent=parseInt(g.bytesSent,10):typeof g.bytesSent=="number"?u.bytesSent=g.bytesSent:typeof g.bytesSent=="object"&&(u.bytesSent=new a.LongBits(g.bytesSent.low>>>0,g.bytesSent.high>>>0).toNumber(!0))),g.packetsSent!=null&&(a.Long?(u.packetsSent=a.Long.fromValue(g.packetsSent)).unsigned=!0:typeof g.packetsSent=="string"?u.packetsSent=parseInt(g.packetsSent,10):typeof g.packetsSent=="number"?u.packetsSent=g.packetsSent:typeof g.packetsSent=="object"&&(u.packetsSent=new a.LongBits(g.packetsSent.low>>>0,g.packetsSent.high>>>0).toNumber(!0))),g.codec){default:if(typeof g.codec=="number"){u.codec=g.codec;break}break;case"UNKNOWN":case 0:u.codec=0;break;case"OPUS":case 1:u.codec=1;break;case"VP8":case 2:u.codec=2;break;case"VP9":case 3:u.codec=3;break;case"H264":case 4:u.codec=4;break}if(g.peerIdString!=null&&(u.peerIdString=String(g.peerIdString)),g.audioStats!=null){if(typeof g.audioStats!="object")throw TypeError(".slack.calls.analytics.SendMedia.audioStats: object expected");u.audioStats=n.slack.calls.analytics.SendMedia.Audio.fromObject(g.audioStats)}if(g.videoStats!=null){if(typeof g.videoStats!="object")throw TypeError(".slack.calls.analytics.SendMedia.videoStats: object expected");u.videoStats=n.slack.calls.analytics.SendMedia.Video.fromObject(g.videoStats)}return u},"fromObject"),l.toObject=o(function(g,u){u||(u={});let s={};if(u.defaults){if(a.Long){let I=new a.Long(0,0,!0);s.peerId=u.longs===String?I.toString():u.longs===Number?I.toNumber():I}else s.peerId=u.longs===String?"0":0;if(a.Long){let I=new a.Long(0,0,!0);s.bytesSent=u.longs===String?I.toString():u.longs===Number?I.toNumber():I}else s.bytesSent=u.longs===String?"0":0;if(a.Long){let I=new a.Long(0,0,!0);s.packetsSent=u.longs===String?I.toString():u.longs===Number?I.toNumber():I}else s.packetsSent=u.longs===String?"0":0;s.codec=u.enums===String?"UNKNOWN":0,s.peerIdString=""}return g.peerId!=null&&g.hasOwnProperty("peerId")&&(typeof g.peerId=="number"?s.peerId=u.longs===String?String(g.peerId):g.peerId:s.peerId=u.longs===String?a.Long.prototype.toString.call(g.peerId):u.longs===Number?new a.LongBits(g.peerId.low>>>0,g.peerId.high>>>0).toNumber(!0):g.peerId),g.bytesSent!=null&&g.hasOwnProperty("bytesSent")&&(typeof g.bytesSent=="number"?s.bytesSent=u.longs===String?String(g.bytesSent):g.bytesSent:s.bytesSent=u.longs===String?a.Long.prototype.toString.call(g.bytesSent):u.longs===Number?new a.LongBits(g.bytesSent.low>>>0,g.bytesSent.high>>>0).toNumber(!0):g.bytesSent),g.packetsSent!=null&&g.hasOwnProperty("packetsSent")&&(typeof g.packetsSent=="number"?s.packetsSent=u.longs===String?String(g.packetsSent):g.packetsSent:s.packetsSent=u.longs===String?a.Long.prototype.toString.call(g.packetsSent):u.longs===Number?new a.LongBits(g.packetsSent.low>>>0,g.packetsSent.high>>>0).toNumber(!0):g.packetsSent),g.codec!=null&&g.hasOwnProperty("codec")&&(s.codec=u.enums===String?n.slack.calls.analytics.Codec[g.codec]===void 0?g.codec:n.slack.calls.analytics.Codec[g.codec]:g.codec),g.audioStats!=null&&g.hasOwnProperty("audioStats")&&(s.audioStats=n.slack.calls.analytics.SendMedia.Audio.toObject(g.audioStats,u),u.oneofs&&(s.mediaType="audioStats")),g.videoStats!=null&&g.hasOwnProperty("videoStats")&&(s.videoStats=n.slack.calls.analytics.SendMedia.Video.toObject(g.videoStats,u),u.oneofs&&(s.mediaType="videoStats")),g.peerIdString!=null&&g.hasOwnProperty("peerIdString")&&(s.peerIdString=g.peerIdString),s},"toObject"),l.prototype.toJSON=o(function(){return this.constructor.toObject(this,S.util.toJSONOptions)},"toJSON"),l.getTypeUrl=o(function(g){return g===void 0&&(g="type.googleapis.com"),g+"/slack.calls.analytics.SendMedia"},"getTypeUrl"),l.Audio=function(){function v(g){if(g)for(let u=Object.keys(g),s=0;s<u.length;++s)g[u[s]]!=null&&(this[u[s]]=g[u[s]])}return o(v,"Audio"),v.prototype.audioLevel=0,v.prototype.echoReturnLoss=0,v.prototype.echoReturnLossEnhancement=0,v.prototype.totalAudioEnergy=0,v.prototype.totalSamplesDuration=0,v.create=o(function(u){return new v(u)},"create"),v.encode=o(function(u,s){return s||(s=f.create()),u.audioLevel!=null&&Object.hasOwnProperty.call(u,"audioLevel")&&s.uint32(9).double(u.audioLevel),u.echoReturnLoss!=null&&Object.hasOwnProperty.call(u,"echoReturnLoss")&&s.uint32(17).double(u.echoReturnLoss),u.echoReturnLossEnhancement!=null&&Object.hasOwnProperty.call(u,"echoReturnLossEnhancement")&&s.uint32(25).double(u.echoReturnLossEnhancement),u.totalAudioEnergy!=null&&Object.hasOwnProperty.call(u,"totalAudioEnergy")&&s.uint32(33).double(u.totalAudioEnergy),u.totalSamplesDuration!=null&&Object.hasOwnProperty.call(u,"totalSamplesDuration")&&s.uint32(41).double(u.totalSamplesDuration),s},"encode"),v.encodeDelimited=o(function(u,s){return this.encode(u,s).ldelim()},"encodeDelimited"),v.decode=o(function(u,s){u instanceof m||(u=m.create(u));let I=s===void 0?u.len:u.pos+s,M=new n.slack.calls.analytics.SendMedia.Audio;for(;u.pos<I;){let R=u.uint32();switch(R>>>3){case 1:{M.audioLevel=u.double();break}case 2:{M.echoReturnLoss=u.double();break}case 3:{M.echoReturnLossEnhancement=u.double();break}case 4:{M.totalAudioEnergy=u.double();break}case 5:{M.totalSamplesDuration=u.double();break}default:u.skipType(R&7);break}}return M},"decode"),v.decodeDelimited=o(function(u){return u instanceof m||(u=new m(u)),this.decode(u,u.uint32())},"decodeDelimited"),v.verify=o(function(u){return typeof u!="object"||u===null?"object expected":u.audioLevel!=null&&u.hasOwnProperty("audioLevel")&&typeof u.audioLevel!="number"?"audioLevel: number expected":u.echoReturnLoss!=null&&u.hasOwnProperty("echoReturnLoss")&&typeof u.echoReturnLoss!="number"?"echoReturnLoss: number expected":u.echoReturnLossEnhancement!=null&&u.hasOwnProperty("echoReturnLossEnhancement")&&typeof u.echoReturnLossEnhancement!="number"?"echoReturnLossEnhancement: number expected":u.totalAudioEnergy!=null&&u.hasOwnProperty("totalAudioEnergy")&&typeof u.totalAudioEnergy!="number"?"totalAudioEnergy: number expected":u.totalSamplesDuration!=null&&u.hasOwnProperty("totalSamplesDuration")&&typeof u.totalSamplesDuration!="number"?"totalSamplesDuration: number expected":null},"verify"),v.fromObject=o(function(u){if(u instanceof n.slack.calls.analytics.SendMedia.Audio)return u;let s=new n.slack.calls.analytics.SendMedia.Audio;return u.audioLevel!=null&&(s.audioLevel=Number(u.audioLevel)),u.echoReturnLoss!=null&&(s.echoReturnLoss=Number(u.echoReturnLoss)),u.echoReturnLossEnhancement!=null&&(s.echoReturnLossEnhancement=Number(u.echoReturnLossEnhancement)),u.totalAudioEnergy!=null&&(s.totalAudioEnergy=Number(u.totalAudioEnergy)),u.totalSamplesDuration!=null&&(s.totalSamplesDuration=Number(u.totalSamplesDuration)),s},"fromObject"),v.toObject=o(function(u,s){s||(s={});let I={};return s.defaults&&(I.audioLevel=0,I.echoReturnLoss=0,I.echoReturnLossEnhancement=0,I.totalAudioEnergy=0,I.totalSamplesDuration=0),u.audioLevel!=null&&u.hasOwnProperty("audioLevel")&&(I.audioLevel=s.json&&!isFinite(u.audioLevel)?String(u.audioLevel):u.audioLevel),u.echoReturnLoss!=null&&u.hasOwnProperty("echoReturnLoss")&&(I.echoReturnLoss=s.json&&!isFinite(u.echoReturnLoss)?String(u.echoReturnLoss):u.echoReturnLoss),u.echoReturnLossEnhancement!=null&&u.hasOwnProperty("echoReturnLossEnhancement")&&(I.echoReturnLossEnhancement=s.json&&!isFinite(u.echoReturnLossEnhancement)?String(u.echoReturnLossEnhancement):u.echoReturnLossEnhancement),u.totalAudioEnergy!=null&&u.hasOwnProperty("totalAudioEnergy")&&(I.totalAudioEnergy=s.json&&!isFinite(u.totalAudioEnergy)?String(u.totalAudioEnergy):u.totalAudioEnergy),u.totalSamplesDuration!=null&&u.hasOwnProperty("totalSamplesDuration")&&(I.totalSamplesDuration=s.json&&!isFinite(u.totalSamplesDuration)?String(u.totalSamplesDuration):u.totalSamplesDuration),I},"toObject"),v.prototype.toJSON=o(function(){return this.constructor.toObject(this,S.util.toJSONOptions)},"toJSON"),v.getTypeUrl=o(function(u){return u===void 0&&(u="type.googleapis.com"),u+"/slack.calls.analytics.SendMedia.Audio"},"getTypeUrl"),v}(),l.Video=function(){function v(g){if(g)for(let u=Object.keys(g),s=0;s<u.length;++s)g[u[s]]!=null&&(this[u[s]]=g[u[s]])}return o(v,"Video"),v.prototype.frameHeight=a.Long?a.Long.fromBits(0,0,!0):0,v.prototype.frameWidth=a.Long?a.Long.fromBits(0,0,!0):0,v.prototype.framesPerSecond=0,v.prototype.framesSent=a.Long?a.Long.fromBits(0,0,!0):0,v.prototype.framesEncoded=a.Long?a.Long.fromBits(0,0,!0):0,v.prototype.hugeFramesSent=a.Long?a.Long.fromBits(0,0,!0):0,v.create=o(function(u){return new v(u)},"create"),v.encode=o(function(u,s){return s||(s=f.create()),u.frameHeight!=null&&Object.hasOwnProperty.call(u,"frameHeight")&&s.uint32(8).uint64(u.frameHeight),u.frameWidth!=null&&Object.hasOwnProperty.call(u,"frameWidth")&&s.uint32(16).uint64(u.frameWidth),u.framesPerSecond!=null&&Object.hasOwnProperty.call(u,"framesPerSecond")&&s.uint32(25).double(u.framesPerSecond),u.framesSent!=null&&Object.hasOwnProperty.call(u,"framesSent")&&s.uint32(32).uint64(u.framesSent),u.framesEncoded!=null&&Object.hasOwnProperty.call(u,"framesEncoded")&&s.uint32(40).uint64(u.framesEncoded),u.hugeFramesSent!=null&&Object.hasOwnProperty.call(u,"hugeFramesSent")&&s.uint32(48).uint64(u.hugeFramesSent),s},"encode"),v.encodeDelimited=o(function(u,s){return this.encode(u,s).ldelim()},"encodeDelimited"),v.decode=o(function(u,s){u instanceof m||(u=m.create(u));let I=s===void 0?u.len:u.pos+s,M=new n.slack.calls.analytics.SendMedia.Video;for(;u.pos<I;){let R=u.uint32();switch(R>>>3){case 1:{M.frameHeight=u.uint64();break}case 2:{M.frameWidth=u.uint64();break}case 3:{M.framesPerSecond=u.double();break}case 4:{M.framesSent=u.uint64();break}case 5:{M.framesEncoded=u.uint64();break}case 6:{M.hugeFramesSent=u.uint64();break}default:u.skipType(R&7);break}}return M},"decode"),v.decodeDelimited=o(function(u){return u instanceof m||(u=new m(u)),this.decode(u,u.uint32())},"decodeDelimited"),v.verify=o(function(u){return typeof u!="object"||u===null?"object expected":u.frameHeight!=null&&u.hasOwnProperty("frameHeight")&&!a.isInteger(u.frameHeight)&&!(u.frameHeight&&a.isInteger(u.frameHeight.low)&&a.isInteger(u.frameHeight.high))?"frameHeight: integer|Long expected":u.frameWidth!=null&&u.hasOwnProperty("frameWidth")&&!a.isInteger(u.frameWidth)&&!(u.frameWidth&&a.isInteger(u.frameWidth.low)&&a.isInteger(u.frameWidth.high))?"frameWidth: integer|Long expected":u.framesPerSecond!=null&&u.hasOwnProperty("framesPerSecond")&&typeof u.framesPerSecond!="number"?"framesPerSecond: number expected":u.framesSent!=null&&u.hasOwnProperty("framesSent")&&!a.isInteger(u.framesSent)&&!(u.framesSent&&a.isInteger(u.framesSent.low)&&a.isInteger(u.framesSent.high))?"framesSent: integer|Long expected":u.framesEncoded!=null&&u.hasOwnProperty("framesEncoded")&&!a.isInteger(u.framesEncoded)&&!(u.framesEncoded&&a.isInteger(u.framesEncoded.low)&&a.isInteger(u.framesEncoded.high))?"framesEncoded: integer|Long expected":u.hugeFramesSent!=null&&u.hasOwnProperty("hugeFramesSent")&&!a.isInteger(u.hugeFramesSent)&&!(u.hugeFramesSent&&a.isInteger(u.hugeFramesSent.low)&&a.isInteger(u.hugeFramesSent.high))?"hugeFramesSent: integer|Long expected":null},"verify"),v.fromObject=o(function(u){if(u instanceof n.slack.calls.analytics.SendMedia.Video)return u;let s=new n.slack.calls.analytics.SendMedia.Video;return u.frameHeight!=null&&(a.Long?(s.frameHeight=a.Long.fromValue(u.frameHeight)).unsigned=!0:typeof u.frameHeight=="string"?s.frameHeight=parseInt(u.frameHeight,10):typeof u.frameHeight=="number"?s.frameHeight=u.frameHeight:typeof u.frameHeight=="object"&&(s.frameHeight=new a.LongBits(u.frameHeight.low>>>0,u.frameHeight.high>>>0).toNumber(!0))),u.frameWidth!=null&&(a.Long?(s.frameWidth=a.Long.fromValue(u.frameWidth)).unsigned=!0:typeof u.frameWidth=="string"?s.frameWidth=parseInt(u.frameWidth,10):typeof u.frameWidth=="number"?s.frameWidth=u.frameWidth:typeof u.frameWidth=="object"&&(s.frameWidth=new a.LongBits(u.frameWidth.low>>>0,u.frameWidth.high>>>0).toNumber(!0))),u.framesPerSecond!=null&&(s.framesPerSecond=Number(u.framesPerSecond)),u.framesSent!=null&&(a.Long?(s.framesSent=a.Long.fromValue(u.framesSent)).unsigned=!0:typeof u.framesSent=="string"?s.framesSent=parseInt(u.framesSent,10):typeof u.framesSent=="number"?s.framesSent=u.framesSent:typeof u.framesSent=="object"&&(s.framesSent=new a.LongBits(u.framesSent.low>>>0,u.framesSent.high>>>0).toNumber(!0))),u.framesEncoded!=null&&(a.Long?(s.framesEncoded=a.Long.fromValue(u.framesEncoded)).unsigned=!0:typeof u.framesEncoded=="string"?s.framesEncoded=parseInt(u.framesEncoded,10):typeof u.framesEncoded=="number"?s.framesEncoded=u.framesEncoded:typeof u.framesEncoded=="object"&&(s.framesEncoded=new a.LongBits(u.framesEncoded.low>>>0,u.framesEncoded.high>>>0).toNumber(!0))),u.hugeFramesSent!=null&&(a.Long?(s.hugeFramesSent=a.Long.fromValue(u.hugeFramesSent)).unsigned=!0:typeof u.hugeFramesSent=="string"?s.hugeFramesSent=parseInt(u.hugeFramesSent,10):typeof u.hugeFramesSent=="number"?s.hugeFramesSent=u.hugeFramesSent:typeof u.hugeFramesSent=="object"&&(s.hugeFramesSent=new a.LongBits(u.hugeFramesSent.low>>>0,u.hugeFramesSent.high>>>0).toNumber(!0))),s},"fromObject"),v.toObject=o(function(u,s){s||(s={});let I={};if(s.defaults){if(a.Long){let M=new a.Long(0,0,!0);I.frameHeight=s.longs===String?M.toString():s.longs===Number?M.toNumber():M}else I.frameHeight=s.longs===String?"0":0;if(a.Long){let M=new a.Long(0,0,!0);I.frameWidth=s.longs===String?M.toString():s.longs===Number?M.toNumber():M}else I.frameWidth=s.longs===String?"0":0;if(I.framesPerSecond=0,a.Long){let M=new a.Long(0,0,!0);I.framesSent=s.longs===String?M.toString():s.longs===Number?M.toNumber():M}else I.framesSent=s.longs===String?"0":0;if(a.Long){let M=new a.Long(0,0,!0);I.framesEncoded=s.longs===String?M.toString():s.longs===Number?M.toNumber():M}else I.framesEncoded=s.longs===String?"0":0;if(a.Long){let M=new a.Long(0,0,!0);I.hugeFramesSent=s.longs===String?M.toString():s.longs===Number?M.toNumber():M}else I.hugeFramesSent=s.longs===String?"0":0}return u.frameHeight!=null&&u.hasOwnProperty("frameHeight")&&(typeof u.frameHeight=="number"?I.frameHeight=s.longs===String?String(u.frameHeight):u.frameHeight:I.frameHeight=s.longs===String?a.Long.prototype.toString.call(u.frameHeight):s.longs===Number?new a.LongBits(u.frameHeight.low>>>0,u.frameHeight.high>>>0).toNumber(!0):u.frameHeight),u.frameWidth!=null&&u.hasOwnProperty("frameWidth")&&(typeof u.frameWidth=="number"?I.frameWidth=s.longs===String?String(u.frameWidth):u.frameWidth:I.frameWidth=s.longs===String?a.Long.prototype.toString.call(u.frameWidth):s.longs===Number?new a.LongBits(u.frameWidth.low>>>0,u.frameWidth.high>>>0).toNumber(!0):u.frameWidth),u.framesPerSecond!=null&&u.hasOwnProperty("framesPerSecond")&&(I.framesPerSecond=s.json&&!isFinite(u.framesPerSecond)?String(u.framesPerSecond):u.framesPerSecond),u.framesSent!=null&&u.hasOwnProperty("framesSent")&&(typeof u.framesSent=="number"?I.framesSent=s.longs===String?String(u.framesSent):u.framesSent:I.framesSent=s.longs===String?a.Long.prototype.toString.call(u.framesSent):s.longs===Number?new a.LongBits(u.framesSent.low>>>0,u.framesSent.high>>>0).toNumber(!0):u.framesSent),u.framesEncoded!=null&&u.hasOwnProperty("framesEncoded")&&(typeof u.framesEncoded=="number"?I.framesEncoded=s.longs===String?String(u.framesEncoded):u.framesEncoded:I.framesEncoded=s.longs===String?a.Long.prototype.toString.call(u.framesEncoded):s.longs===Number?new a.LongBits(u.framesEncoded.low>>>0,u.framesEncoded.high>>>0).toNumber(!0):u.framesEncoded),u.hugeFramesSent!=null&&u.hasOwnProperty("hugeFramesSent")&&(typeof u.hugeFramesSent=="number"?I.hugeFramesSent=s.longs===String?String(u.hugeFramesSent):u.hugeFramesSent:I.hugeFramesSent=s.longs===String?a.Long.prototype.toString.call(u.hugeFramesSent):s.longs===Number?new a.LongBits(u.hugeFramesSent.low>>>0,u.hugeFramesSent.high>>>0).toNumber(!0):u.hugeFramesSent),I},"toObject"),v.prototype.toJSON=o(function(){return this.constructor.toObject(this,S.util.toJSONOptions)},"toJSON"),v.getTypeUrl=o(function(u){return u===void 0&&(u="type.googleapis.com"),u+"/slack.calls.analytics.SendMedia.Video"},"getTypeUrl"),v}(),l}(),r.MemoryInfo=function(){function l(p){if(p)for(let v=Object.keys(p),g=0;g<v.length;++g)p[v[g]]!=null&&(this[v[g]]=p[v[g]])}return o(l,"MemoryInfo"),l.prototype.workingSetSize=0,l.prototype.peakWorkingSetSize=0,l.create=o(function(v){return new l(v)},"create"),l.encode=o(function(v,g){return g||(g=f.create()),v.workingSetSize!=null&&Object.hasOwnProperty.call(v,"workingSetSize")&&g.uint32(9).double(v.workingSetSize),v.peakWorkingSetSize!=null&&Object.hasOwnProperty.call(v,"peakWorkingSetSize")&&g.uint32(17).double(v.peakWorkingSetSize),g},"encode"),l.encodeDelimited=o(function(v,g){return this.encode(v,g).ldelim()},"encodeDelimited"),l.decode=o(function(v,g){v instanceof m||(v=m.create(v));let u=g===void 0?v.len:v.pos+g,s=new n.slack.calls.analytics.MemoryInfo;for(;v.pos<u;){let I=v.uint32();switch(I>>>3){case 1:{s.workingSetSize=v.double();break}case 2:{s.peakWorkingSetSize=v.double();break}default:v.skipType(I&7);break}}return s},"decode"),l.decodeDelimited=o(function(v){return v instanceof m||(v=new m(v)),this.decode(v,v.uint32())},"decodeDelimited"),l.verify=o(function(v){return typeof v!="object"||v===null?"object expected":v.workingSetSize!=null&&v.hasOwnProperty("workingSetSize")&&typeof v.workingSetSize!="number"?"workingSetSize: number expected":v.peakWorkingSetSize!=null&&v.hasOwnProperty("peakWorkingSetSize")&&typeof v.peakWorkingSetSize!="number"?"peakWorkingSetSize: number expected":null},"verify"),l.fromObject=o(function(v){if(v instanceof n.slack.calls.analytics.MemoryInfo)return v;let g=new n.slack.calls.analytics.MemoryInfo;return v.workingSetSize!=null&&(g.workingSetSize=Number(v.workingSetSize)),v.peakWorkingSetSize!=null&&(g.peakWorkingSetSize=Number(v.peakWorkingSetSize)),g},"fromObject"),l.toObject=o(function(v,g){g||(g={});let u={};return g.defaults&&(u.workingSetSize=0,u.peakWorkingSetSize=0),v.workingSetSize!=null&&v.hasOwnProperty("workingSetSize")&&(u.workingSetSize=g.json&&!isFinite(v.workingSetSize)?String(v.workingSetSize):v.workingSetSize),v.peakWorkingSetSize!=null&&v.hasOwnProperty("peakWorkingSetSize")&&(u.peakWorkingSetSize=g.json&&!isFinite(v.peakWorkingSetSize)?String(v.peakWorkingSetSize):v.peakWorkingSetSize),u},"toObject"),l.prototype.toJSON=o(function(){return this.constructor.toObject(this,S.util.toJSONOptions)},"toJSON"),l.getTypeUrl=o(function(v){return v===void 0&&(v="type.googleapis.com"),v+"/slack.calls.analytics.MemoryInfo"},"getTypeUrl"),l}(),r.AppMetrics=function(){function l(p){if(p)for(let v=Object.keys(p),g=0;g<v.length;++g)p[v[g]]!=null&&(this[v[g]]=p[v[g]])}return o(l,"AppMetrics"),l.prototype.cpu=0,l.prototype.memory=null,l.create=o(function(v){return new l(v)},"create"),l.encode=o(function(v,g){return g||(g=f.create()),v.cpu!=null&&Object.hasOwnProperty.call(v,"cpu")&&g.uint32(9).double(v.cpu),v.memory!=null&&Object.hasOwnProperty.call(v,"memory")&&n.slack.calls.analytics.MemoryInfo.encode(v.memory,g.uint32(18).fork()).ldelim(),g},"encode"),l.encodeDelimited=o(function(v,g){return this.encode(v,g).ldelim()},"encodeDelimited"),l.decode=o(function(v,g){v instanceof m||(v=m.create(v));let u=g===void 0?v.len:v.pos+g,s=new n.slack.calls.analytics.AppMetrics;for(;v.pos<u;){let I=v.uint32();switch(I>>>3){case 1:{s.cpu=v.double();break}case 2:{s.memory=n.slack.calls.analytics.MemoryInfo.decode(v,v.uint32());break}default:v.skipType(I&7);break}}return s},"decode"),l.decodeDelimited=o(function(v){return v instanceof m||(v=new m(v)),this.decode(v,v.uint32())},"decodeDelimited"),l.verify=o(function(v){if(typeof v!="object"||v===null)return"object expected";if(v.cpu!=null&&v.hasOwnProperty("cpu")&&typeof v.cpu!="number")return"cpu: number expected";if(v.memory!=null&&v.hasOwnProperty("memory")){let g=n.slack.calls.analytics.MemoryInfo.verify(v.memory);if(g)return"memory."+g}return null},"verify"),l.fromObject=o(function(v){if(v instanceof n.slack.calls.analytics.AppMetrics)return v;let g=new n.slack.calls.analytics.AppMetrics;if(v.cpu!=null&&(g.cpu=Number(v.cpu)),v.memory!=null){if(typeof v.memory!="object")throw TypeError(".slack.calls.analytics.AppMetrics.memory: object expected");g.memory=n.slack.calls.analytics.MemoryInfo.fromObject(v.memory)}return g},"fromObject"),l.toObject=o(function(v,g){g||(g={});let u={};return g.defaults&&(u.cpu=0,u.memory=null),v.cpu!=null&&v.hasOwnProperty("cpu")&&(u.cpu=g.json&&!isFinite(v.cpu)?String(v.cpu):v.cpu),v.memory!=null&&v.hasOwnProperty("memory")&&(u.memory=n.slack.calls.analytics.MemoryInfo.toObject(v.memory,g)),u},"toObject"),l.prototype.toJSON=o(function(){return this.constructor.toObject(this,S.util.toJSONOptions)},"toJSON"),l.getTypeUrl=o(function(v){return v===void 0&&(v="type.googleapis.com"),v+"/slack.calls.analytics.AppMetrics"},"getTypeUrl"),l}(),r.Codec=function(){const l={},p=Object.create(l);return p[l[0]="UNKNOWN"]=0,p[l[1]="OPUS"]=1,p[l[2]="VP8"]=2,p[l[3]="VP9"]=3,p[l[4]="H264"]=4,p}(),r.Protocol=function(){const l={},p=Object.create(l);return p[l[0]="UDP"]=0,p[l[1]="TCP"]=1,p}(),r.PathType=function(){const l={},p=Object.create(l);return p[l[0]="DIRECT"]=0,p[l[1]="RELAY"]=1,p}(),r.Report=function(){function l(p){if(this.recv=[],this.send=[],p)for(let v=Object.keys(p),g=0;g<v.length;++g)p[v[g]]!=null&&(this[v[g]]=p[v[g]])}return o(l,"Report"),l.prototype.totalBytesSent=a.Long?a.Long.fromBits(0,0,!0):0,l.prototype.totalBytesReceived=a.Long?a.Long.fromBits(0,0,!0):0,l.prototype.totalRoundTripTime=0,l.prototype.currentRoundTripTime=0,l.prototype.availableOutgoingBitrate=a.Long?a.Long.fromBits(0,0,!0):0,l.prototype.protocol=0,l.prototype.pathType=0,l.prototype.recv=a.emptyArray,l.prototype.send=a.emptyArray,l.prototype.clientTime=a.Long?a.Long.fromBits(0,0,!0):0,l.prototype.availableIncomingBitrate=a.Long?a.Long.fromBits(0,0,!0):0,l.prototype.appMetrics=null,l.create=o(function(v){return new l(v)},"create"),l.encode=o(function(v,g){if(g||(g=f.create()),v.totalBytesSent!=null&&Object.hasOwnProperty.call(v,"totalBytesSent")&&g.uint32(8).uint64(v.totalBytesSent),v.totalBytesReceived!=null&&Object.hasOwnProperty.call(v,"totalBytesReceived")&&g.uint32(16).uint64(v.totalBytesReceived),v.totalRoundTripTime!=null&&Object.hasOwnProperty.call(v,"totalRoundTripTime")&&g.uint32(25).double(v.totalRoundTripTime),v.currentRoundTripTime!=null&&Object.hasOwnProperty.call(v,"currentRoundTripTime")&&g.uint32(33).double(v.currentRoundTripTime),v.availableOutgoingBitrate!=null&&Object.hasOwnProperty.call(v,"availableOutgoingBitrate")&&g.uint32(40).uint64(v.availableOutgoingBitrate),v.protocol!=null&&Object.hasOwnProperty.call(v,"protocol")&&g.uint32(48).int32(v.protocol),v.pathType!=null&&Object.hasOwnProperty.call(v,"pathType")&&g.uint32(56).int32(v.pathType),v.recv!=null&&v.recv.length)for(let u=0;u<v.recv.length;++u)n.slack.calls.analytics.RecvMedia.encode(v.recv[u],g.uint32(66).fork()).ldelim();if(v.send!=null&&v.send.length)for(let u=0;u<v.send.length;++u)n.slack.calls.analytics.SendMedia.encode(v.send[u],g.uint32(74).fork()).ldelim();return v.clientTime!=null&&Object.hasOwnProperty.call(v,"clientTime")&&g.uint32(80).uint64(v.clientTime),v.availableIncomingBitrate!=null&&Object.hasOwnProperty.call(v,"availableIncomingBitrate")&&g.uint32(88).uint64(v.availableIncomingBitrate),v.appMetrics!=null&&Object.hasOwnProperty.call(v,"appMetrics")&&n.slack.calls.analytics.AppMetrics.encode(v.appMetrics,g.uint32(98).fork()).ldelim(),g},"encode"),l.encodeDelimited=o(function(v,g){return this.encode(v,g).ldelim()},"encodeDelimited"),l.decode=o(function(v,g){v instanceof m||(v=m.create(v));let u=g===void 0?v.len:v.pos+g,s=new n.slack.calls.analytics.Report;for(;v.pos<u;){let I=v.uint32();switch(I>>>3){case 1:{s.totalBytesSent=v.uint64();break}case 2:{s.totalBytesReceived=v.uint64();break}case 3:{s.totalRoundTripTime=v.double();break}case 4:{s.currentRoundTripTime=v.double();break}case 5:{s.availableOutgoingBitrate=v.uint64();break}case 6:{s.protocol=v.int32();break}case 7:{s.pathType=v.int32();break}case 8:{s.recv&&s.recv.length||(s.recv=[]),s.recv.push(n.slack.calls.analytics.RecvMedia.decode(v,v.uint32()));break}case 9:{s.send&&s.send.length||(s.send=[]),s.send.push(n.slack.calls.analytics.SendMedia.decode(v,v.uint32()));break}case 10:{s.clientTime=v.uint64();break}case 11:{s.availableIncomingBitrate=v.uint64();break}case 12:{s.appMetrics=n.slack.calls.analytics.AppMetrics.decode(v,v.uint32());break}default:v.skipType(I&7);break}}return s},"decode"),l.decodeDelimited=o(function(v){return v instanceof m||(v=new m(v)),this.decode(v,v.uint32())},"decodeDelimited"),l.verify=o(function(v){if(typeof v!="object"||v===null)return"object expected";if(v.totalBytesSent!=null&&v.hasOwnProperty("totalBytesSent")&&!a.isInteger(v.totalBytesSent)&&!(v.totalBytesSent&&a.isInteger(v.totalBytesSent.low)&&a.isInteger(v.totalBytesSent.high)))return"totalBytesSent: integer|Long expected";if(v.totalBytesReceived!=null&&v.hasOwnProperty("totalBytesReceived")&&!a.isInteger(v.totalBytesReceived)&&!(v.totalBytesReceived&&a.isInteger(v.totalBytesReceived.low)&&a.isInteger(v.totalBytesReceived.high)))return"totalBytesReceived: integer|Long expected";if(v.totalRoundTripTime!=null&&v.hasOwnProperty("totalRoundTripTime")&&typeof v.totalRoundTripTime!="number")return"totalRoundTripTime: number expected";if(v.currentRoundTripTime!=null&&v.hasOwnProperty("currentRoundTripTime")&&typeof v.currentRoundTripTime!="number")return"currentRoundTripTime: number expected";if(v.availableOutgoingBitrate!=null&&v.hasOwnProperty("availableOutgoingBitrate")&&!a.isInteger(v.availableOutgoingBitrate)&&!(v.availableOutgoingBitrate&&a.isInteger(v.availableOutgoingBitrate.low)&&a.isInteger(v.availableOutgoingBitrate.high)))return"availableOutgoingBitrate: integer|Long expected";if(v.protocol!=null&&v.hasOwnProperty("protocol"))switch(v.protocol){default:return"protocol: enum value expected";case 0:case 1:break}if(v.pathType!=null&&v.hasOwnProperty("pathType"))switch(v.pathType){default:return"pathType: enum value expected";case 0:case 1:break}if(v.recv!=null&&v.hasOwnProperty("recv")){if(!Array.isArray(v.recv))return"recv: array expected";for(let g=0;g<v.recv.length;++g){let u=n.slack.calls.analytics.RecvMedia.verify(v.recv[g]);if(u)return"recv."+u}}if(v.send!=null&&v.hasOwnProperty("send")){if(!Array.isArray(v.send))return"send: array expected";for(let g=0;g<v.send.length;++g){let u=n.slack.calls.analytics.SendMedia.verify(v.send[g]);if(u)return"send."+u}}if(v.clientTime!=null&&v.hasOwnProperty("clientTime")&&!a.isInteger(v.clientTime)&&!(v.clientTime&&a.isInteger(v.clientTime.low)&&a.isInteger(v.clientTime.high)))return"clientTime: integer|Long expected";if(v.availableIncomingBitrate!=null&&v.hasOwnProperty("availableIncomingBitrate")&&!a.isInteger(v.availableIncomingBitrate)&&!(v.availableIncomingBitrate&&a.isInteger(v.availableIncomingBitrate.low)&&a.isInteger(v.availableIncomingBitrate.high)))return"availableIncomingBitrate: integer|Long expected";if(v.appMetrics!=null&&v.hasOwnProperty("appMetrics")){let g=n.slack.calls.analytics.AppMetrics.verify(v.appMetrics);if(g)return"appMetrics."+g}return null},"verify"),l.fromObject=o(function(v){if(v instanceof n.slack.calls.analytics.Report)return v;let g=new n.slack.calls.analytics.Report;switch(v.totalBytesSent!=null&&(a.Long?(g.totalBytesSent=a.Long.fromValue(v.totalBytesSent)).unsigned=!0:typeof v.totalBytesSent=="string"?g.totalBytesSent=parseInt(v.totalBytesSent,10):typeof v.totalBytesSent=="number"?g.totalBytesSent=v.totalBytesSent:typeof v.totalBytesSent=="object"&&(g.totalBytesSent=new a.LongBits(v.totalBytesSent.low>>>0,v.totalBytesSent.high>>>0).toNumber(!0))),v.totalBytesReceived!=null&&(a.Long?(g.totalBytesReceived=a.Long.fromValue(v.totalBytesReceived)).unsigned=!0:typeof v.totalBytesReceived=="string"?g.totalBytesReceived=parseInt(v.totalBytesReceived,10):typeof v.totalBytesReceived=="number"?g.totalBytesReceived=v.totalBytesReceived:typeof v.totalBytesReceived=="object"&&(g.totalBytesReceived=new a.LongBits(v.totalBytesReceived.low>>>0,v.totalBytesReceived.high>>>0).toNumber(!0))),v.totalRoundTripTime!=null&&(g.totalRoundTripTime=Number(v.totalRoundTripTime)),v.currentRoundTripTime!=null&&(g.currentRoundTripTime=Number(v.currentRoundTripTime)),v.availableOutgoingBitrate!=null&&(a.Long?(g.availableOutgoingBitrate=a.Long.fromValue(v.availableOutgoingBitrate)).unsigned=!0:typeof v.availableOutgoingBitrate=="string"?g.availableOutgoingBitrate=parseInt(v.availableOutgoingBitrate,10):typeof v.availableOutgoingBitrate=="number"?g.availableOutgoingBitrate=v.availableOutgoingBitrate:typeof v.availableOutgoingBitrate=="object"&&(g.availableOutgoingBitrate=new a.LongBits(v.availableOutgoingBitrate.low>>>0,v.availableOutgoingBitrate.high>>>0).toNumber(!0))),v.protocol){default:if(typeof v.protocol=="number"){g.protocol=v.protocol;break}break;case"UDP":case 0:g.protocol=0;break;case"TCP":case 1:g.protocol=1;break}switch(v.pathType){default:if(typeof v.pathType=="number"){g.pathType=v.pathType;break}break;case"DIRECT":case 0:g.pathType=0;break;case"RELAY":case 1:g.pathType=1;break}if(v.recv){if(!Array.isArray(v.recv))throw TypeError(".slack.calls.analytics.Report.recv: array expected");g.recv=[];for(let u=0;u<v.recv.length;++u){if(typeof v.recv[u]!="object")throw TypeError(".slack.calls.analytics.Report.recv: object expected");g.recv[u]=n.slack.calls.analytics.RecvMedia.fromObject(v.recv[u])}}if(v.send){if(!Array.isArray(v.send))throw TypeError(".slack.calls.analytics.Report.send: array expected");g.send=[];for(let u=0;u<v.send.length;++u){if(typeof v.send[u]!="object")throw TypeError(".slack.calls.analytics.Report.send: object expected");g.send[u]=n.slack.calls.analytics.SendMedia.fromObject(v.send[u])}}if(v.clientTime!=null&&(a.Long?(g.clientTime=a.Long.fromValue(v.clientTime)).unsigned=!0:typeof v.clientTime=="string"?g.clientTime=parseInt(v.clientTime,10):typeof v.clientTime=="number"?g.clientTime=v.clientTime:typeof v.clientTime=="object"&&(g.clientTime=new a.LongBits(v.clientTime.low>>>0,v.clientTime.high>>>0).toNumber(!0))),v.availableIncomingBitrate!=null&&(a.Long?(g.availableIncomingBitrate=a.Long.fromValue(v.availableIncomingBitrate)).unsigned=!0:typeof v.availableIncomingBitrate=="string"?g.availableIncomingBitrate=parseInt(v.availableIncomingBitrate,10):typeof v.availableIncomingBitrate=="number"?g.availableIncomingBitrate=v.availableIncomingBitrate:typeof v.availableIncomingBitrate=="object"&&(g.availableIncomingBitrate=new a.LongBits(v.availableIncomingBitrate.low>>>0,v.availableIncomingBitrate.high>>>0).toNumber(!0))),v.appMetrics!=null){if(typeof v.appMetrics!="object")throw TypeError(".slack.calls.analytics.Report.appMetrics: object expected");g.appMetrics=n.slack.calls.analytics.AppMetrics.fromObject(v.appMetrics)}return g},"fromObject"),l.toObject=o(function(v,g){g||(g={});let u={};if((g.arrays||g.defaults)&&(u.recv=[],u.send=[]),g.defaults){if(a.Long){let s=new a.Long(0,0,!0);u.totalBytesSent=g.longs===String?s.toString():g.longs===Number?s.toNumber():s}else u.totalBytesSent=g.longs===String?"0":0;if(a.Long){let s=new a.Long(0,0,!0);u.totalBytesReceived=g.longs===String?s.toString():g.longs===Number?s.toNumber():s}else u.totalBytesReceived=g.longs===String?"0":0;if(u.totalRoundTripTime=0,u.currentRoundTripTime=0,a.Long){let s=new a.Long(0,0,!0);u.availableOutgoingBitrate=g.longs===String?s.toString():g.longs===Number?s.toNumber():s}else u.availableOutgoingBitrate=g.longs===String?"0":0;if(u.protocol=g.enums===String?"UDP":0,u.pathType=g.enums===String?"DIRECT":0,a.Long){let s=new a.Long(0,0,!0);u.clientTime=g.longs===String?s.toString():g.longs===Number?s.toNumber():s}else u.clientTime=g.longs===String?"0":0;if(a.Long){let s=new a.Long(0,0,!0);u.availableIncomingBitrate=g.longs===String?s.toString():g.longs===Number?s.toNumber():s}else u.availableIncomingBitrate=g.longs===String?"0":0;u.appMetrics=null}if(v.totalBytesSent!=null&&v.hasOwnProperty("totalBytesSent")&&(typeof v.totalBytesSent=="number"?u.totalBytesSent=g.longs===String?String(v.totalBytesSent):v.totalBytesSent:u.totalBytesSent=g.longs===String?a.Long.prototype.toString.call(v.totalBytesSent):g.longs===Number?new a.LongBits(v.totalBytesSent.low>>>0,v.totalBytesSent.high>>>0).toNumber(!0):v.totalBytesSent),v.totalBytesReceived!=null&&v.hasOwnProperty("totalBytesReceived")&&(typeof v.totalBytesReceived=="number"?u.totalBytesReceived=g.longs===String?String(v.totalBytesReceived):v.totalBytesReceived:u.totalBytesReceived=g.longs===String?a.Long.prototype.toString.call(v.totalBytesReceived):g.longs===Number?new a.LongBits(v.totalBytesReceived.low>>>0,v.totalBytesReceived.high>>>0).toNumber(!0):v.totalBytesReceived),v.totalRoundTripTime!=null&&v.hasOwnProperty("totalRoundTripTime")&&(u.totalRoundTripTime=g.json&&!isFinite(v.totalRoundTripTime)?String(v.totalRoundTripTime):v.totalRoundTripTime),v.currentRoundTripTime!=null&&v.hasOwnProperty("currentRoundTripTime")&&(u.currentRoundTripTime=g.json&&!isFinite(v.currentRoundTripTime)?String(v.currentRoundTripTime):v.currentRoundTripTime),v.availableOutgoingBitrate!=null&&v.hasOwnProperty("availableOutgoingBitrate")&&(typeof v.availableOutgoingBitrate=="number"?u.availableOutgoingBitrate=g.longs===String?String(v.availableOutgoingBitrate):v.availableOutgoingBitrate:u.availableOutgoingBitrate=g.longs===String?a.Long.prototype.toString.call(v.availableOutgoingBitrate):g.longs===Number?new a.LongBits(v.availableOutgoingBitrate.low>>>0,v.availableOutgoingBitrate.high>>>0).toNumber(!0):v.availableOutgoingBitrate),v.protocol!=null&&v.hasOwnProperty("protocol")&&(u.protocol=g.enums===String?n.slack.calls.analytics.Protocol[v.protocol]===void 0?v.protocol:n.slack.calls.analytics.Protocol[v.protocol]:v.protocol),v.pathType!=null&&v.hasOwnProperty("pathType")&&(u.pathType=g.enums===String?n.slack.calls.analytics.PathType[v.pathType]===void 0?v.pathType:n.slack.calls.analytics.PathType[v.pathType]:v.pathType),v.recv&&v.recv.length){u.recv=[];for(let s=0;s<v.recv.length;++s)u.recv[s]=n.slack.calls.analytics.RecvMedia.toObject(v.recv[s],g)}if(v.send&&v.send.length){u.send=[];for(let s=0;s<v.send.length;++s)u.send[s]=n.slack.calls.analytics.SendMedia.toObject(v.send[s],g)}return v.clientTime!=null&&v.hasOwnProperty("clientTime")&&(typeof v.clientTime=="number"?u.clientTime=g.longs===String?String(v.clientTime):v.clientTime:u.clientTime=g.longs===String?a.Long.prototype.toString.call(v.clientTime):g.longs===Number?new a.LongBits(v.clientTime.low>>>0,v.clientTime.high>>>0).toNumber(!0):v.clientTime),v.availableIncomingBitrate!=null&&v.hasOwnProperty("availableIncomingBitrate")&&(typeof v.availableIncomingBitrate=="number"?u.availableIncomingBitrate=g.longs===String?String(v.availableIncomingBitrate):v.availableIncomingBitrate:u.availableIncomingBitrate=g.longs===String?a.Long.prototype.toString.call(v.availableIncomingBitrate):g.longs===Number?new a.LongBits(v.availableIncomingBitrate.low>>>0,v.availableIncomingBitrate.high>>>0).toNumber(!0):v.availableIncomingBitrate),v.appMetrics!=null&&v.hasOwnProperty("appMetrics")&&(u.appMetrics=n.slack.calls.analytics.AppMetrics.toObject(v.appMetrics,g)),u},"toObject"),l.prototype.toJSON=o(function(){return this.constructor.toObject(this,S.util.toJSONOptions)},"toJSON"),l.getTypeUrl=o(function(v){return v===void 0&&(v="type.googleapis.com"),v+"/slack.calls.analytics.Report"},"getTypeUrl"),l}(),r}(),t}(),e})()},ohOv:function(N,c,d){"use strict";var S=this&&this.__awaiter||function(n,i,e,t){function r(l){return l instanceof e?l:new e(function(p){p(l)})}return o(r,"adopt"),new(e||(e=Promise))(function(l,p){function v(s){try{u(t.next(s))}catch(I){p(I)}}o(v,"fulfilled");function g(s){try{u(t.throw(s))}catch(I){p(I)}}o(g,"rejected");function u(s){s.done?l(s.value):r(s.value).then(v,g)}o(u,"step"),u((t=t.apply(n,i||[])).next())})};Object.defineProperty(c,"__esModule",{value:!0});const h=d("Sa54"),m=d("AUdx"),f=d("aVV0");let a=o(class extends f.default{cancel(){if(this.cancelPromise){const i=new Error(`canceling ${this.name()}`);this.cancelPromise(i),delete this.cancelPromise}}run(){return S(this,void 0,void 0,function*(){const i=this.context.peer;let t=this.context.sdpOfferInit.sdp;this.context.browserBehavior.supportsVideoLayersAllocationRtpHeaderExtension()&&(t=new m.default(t).withVideoLayersAllocationRtpHeaderExtension(this.context.previousSdpOffer).sdp),new h.default().requiresDisablingH264Encoding()&&(t=new m.default(t).removeH264SupportFromSendSection().sdp),this.context.videoSendCodecPreferences!==void 0&&this.context.videoSendCodecPreferences.length>0&&(t=new m.default(t).withVideoSendCodecPreferences(this.context.meetingSupportedVideoSendCodecPreferences!==void 0?this.context.meetingSupportedVideoSendCodecPreferences:this.context.videoSendCodecPreferences).sdp),this.context.audioProfile&&(t=new m.default(t).withAudioMaxAverageBitrate(this.context.audioProfile.audioBitrateBps).sdp,this.context.audioProfile.isStereo()&&(t=new m.default(t).withStereoAudio().sdp)),this.logger.debug(()=>`local description is >>>${t}<<<`);const r={type:"offer",sdp:t,toJSON:null};yield new Promise((l,p)=>S(this,void 0,void 0,function*(){this.cancelPromise=v=>{p(v)};try{yield i.setLocalDescription(r),l()}catch(v){p(v)}finally{delete this.cancelPromise}})),this.context.logger.info("set local description")})}constructor(i){super(i.logger),this.context=i,this.taskName="SetLocalDescriptionTask"}},"SetLocalDescriptionTask");c.default=a},okoL:function(N,c,d){"use strict";var S=d("5iG2"),h=d("fshX");function m(f,a,n){var i=f==null?0:f.length;return i?(a=n||a===void 0?1:Object(h.a)(a),a=i-a,Object(S.a)(f,a<0?0:a,i)):[]}o(m,"takeRight"),c.a=m},on9F:function(N,c,d){"use strict";Object.defineProperty(c,"__esModule",{value:!0});const S=d("K5tc"),h=d("JOZa"),m=d("AXyi"),f=d("Q2ix");let a=o(class{perform(i,e){const t=this.currentState;if(t===m.SessionStateControllerState.NotConnected&&i===S.SessionStateControllerAction.Connect)this.transition(m.SessionStateControllerState.Connecting,i);else if(t===m.SessionStateControllerState.Connecting&&i===S.SessionStateControllerAction.Fail)this.transition(m.SessionStateControllerState.Disconnecting,i);else if(t===m.SessionStateControllerState.Connecting&&i===S.SessionStateControllerAction.FinishConnecting)this.transition(m.SessionStateControllerState.Connected,i);else if(t===m.SessionStateControllerState.Connected&&i===S.SessionStateControllerAction.Disconnect)this.transition(m.SessionStateControllerState.Disconnecting,i);else if(t===m.SessionStateControllerState.Connected&&i===S.SessionStateControllerAction.Reconnect)this.transition(m.SessionStateControllerState.Connecting,i);else if(t===m.SessionStateControllerState.Connected&&i===S.SessionStateControllerAction.Fail)this.transition(m.SessionStateControllerState.Disconnecting,i);else if(t===m.SessionStateControllerState.Connected&&i===S.SessionStateControllerAction.Update)this.transition(m.SessionStateControllerState.Updating,i);else if(t===m.SessionStateControllerState.Updating&&i===S.SessionStateControllerAction.Fail)this.transition(m.SessionStateControllerState.Disconnecting,i);else if(t===m.SessionStateControllerState.Updating&&i===S.SessionStateControllerAction.FinishUpdating)this.transition(m.SessionStateControllerState.Connected,i);else if(t===m.SessionStateControllerState.Disconnecting&&i===S.SessionStateControllerAction.FinishDisconnecting)this.transition(m.SessionStateControllerState.NotConnected,i);else return this.canDefer(i)?(this.logger.info(`deferring transition from ${m.SessionStateControllerState[this.currentState]} with ${S.SessionStateControllerAction[i]}`),this.deferAction(i,e),f.SessionStateControllerTransitionResult.DeferredTransition):(this.logger.warn(`no transition found from ${m.SessionStateControllerState[this.currentState]} with ${S.SessionStateControllerAction[i]}`),f.SessionStateControllerTransitionResult.NoTransitionAvailable);try{e()}catch(r){return this.logger.error(`error during state ${m.SessionStateControllerState[this.currentState]} with action ${S.SessionStateControllerAction[i]}: ${r}`),this.logger.info(`rolling back transition to ${m.SessionStateControllerState[t]}`),this.currentState=t,f.SessionStateControllerTransitionResult.TransitionFailed}return this.performDeferredAction(),f.SessionStateControllerTransitionResult.Transitioned}state(){return this.currentState}transition(i,e){this.logger.info(`transitioning from ${m.SessionStateControllerState[this.currentState]} to ${m.SessionStateControllerState[i]} with ${S.SessionStateControllerAction[e]}`),this.currentState=i}deferPriority(i){switch(i){case S.SessionStateControllerAction.Disconnect:return h.SessionStateControllerDeferPriority.VeryHigh;case S.SessionStateControllerAction.Fail:return h.SessionStateControllerDeferPriority.High;case S.SessionStateControllerAction.Reconnect:return h.SessionStateControllerDeferPriority.Medium;case S.SessionStateControllerAction.Update:return h.SessionStateControllerDeferPriority.Low;default:return h.SessionStateControllerDeferPriority.DoNotDefer}}deferAction(i,e){this.deferredAction!==null&&this.deferPriority(this.deferredAction)>this.deferPriority(i)||(this.deferredAction=i,this.deferredWork=e)}canDefer(i){return this.deferPriority(i)!==h.SessionStateControllerDeferPriority.DoNotDefer&&(this.currentState===m.SessionStateControllerState.Connecting||this.currentState===m.SessionStateControllerState.Updating)}performDeferredAction(){if(!this.deferredAction)return;const i=this.deferredAction,e=this.deferredWork;this.deferredAction=null,this.deferredWork=null,this.logger.info(`performing deferred action ${S.SessionStateControllerAction[i]}`),this.perform(i,e)!==f.SessionStateControllerTransitionResult.Transitioned&&this.logger.info(`unable to perform deferred action ${S.SessionStateControllerAction[i]} in state ${m.SessionStateControllerState[this.currentState]}`)}constructor(i){this.logger=i,this.currentState=m.SessionStateControllerState.NotConnected,this.deferredAction=null,this.deferredWork=null}},"DefaultSessionStateController");c.default=a},otBB:function(N,c,d){"use strict";Object.defineProperty(c,"__esModule",{value:!0});const S=d("Zkgh");let h=o(class{reset(){}updateIndex(f){}updateMetrics(f){}wantsResubscribe(){return!1}chooseSubscriptions(){return new S.default}},"NoVideoDownlinkBandwidthPolicy");c.default=h},p3mT:function(N,c,d){"use strict";Object.defineProperty(c,"__esModule",{value:!0});var S;(function(h){h.Connect="connect"})(S||(S={})),c.default=S},p5Ac:function(N,c,d){"use strict";Object.defineProperty(c,"__esModule",{value:!0});let S=o(class{},"BitrateParameters");c.default=S},p72H:function(N,c,d){"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.EMPTY_DATA_SHA_256=c.SHA_256_HMAC_ALGO=c.SHA_256_HASH=void 0,c.SHA_256_HASH={name:"SHA-256"},c.SHA_256_HMAC_ALGO={name:"HMAC",hash:c.SHA_256_HASH},c.EMPTY_DATA_SHA_256=new Uint8Array([227,176,196,66,152,252,28,20,154,251,244,200,153,111,185,36,39,174,65,228,100,155,147,76,164,149,153,27,120,82,184,85])},p7bP:function(N,c,d){"use strict";(function(S){Object.defineProperty(c,"__esModule",{value:!0});let h=o(class vs{static register(){!("document"in S)||!document.addEventListener||vs.shouldRegisterCSPMonitor&&(vs.added||(document.addEventListener("securitypolicyviolation",vs.listener),vs.added=!0))}static unregister(){!("document"in S)||!document.removeEventListener||(document.removeEventListener("securitypolicyviolation",vs.listener),vs.loggers=new Set,vs.added=!1)}static disable(){vs.shouldRegisterCSPMonitor=!1,vs.unregister()}static addLogger(f){f&&vs.loggers.add(f)}static removeLogger(f){f&&vs.loggers.delete(f)}},"CSPMonitor");c.default=h,h.loggers=new Set,h.shouldRegisterCSPMonitor=!0,h.added=!1,h.listener=m=>{const f=`Security Policy Violation
Blocked URI: ${m.blockedURI}
Violated Directive: ${m.violatedDirective}
Original Policy: ${m.originalPolicy}
Document URI: ${m.documentURI}
Source File: ${m.sourceFile}
Line No.: ${m.lineNumber}
`;for(const a of h.loggers)a.error(f);h.loggers.size===0&&console.error(f)}}).call(this,d("yLpj"))},pCf5:function(N,c,d){"use strict";Object.defineProperty(c,"__esModule",{value:!0});const S=d("ghxq");let h=o(class extends S.default{calculateFractionalLoss(){if(this.currentData.packetsReceivedInLastMinute.length<this.pastSamplesToConsider)return 0;const f=this.pastSamplesToConsider,a=f*this.packetsExpected;let n=0;for(let i=0;i<f;i++)n+=this.currentData.packetsReceivedInLastMinute[i];return Math.min(Math.max(1-n/a,0),1)}health(){return Date.now()-this.lastWarnTimestampMs<this.coolDownTimeMs?this.currentHealth:this.calculateFractionalLoss()>=this.fractionalLoss?this.currentHealth!==0&&(this.lastWarnTimestampMs=Date.now(),this.warnCount++,this.warnCount>this.maximumTimesToWarn)?1:0:1}constructor(f,a){super(f,a,"Unusable Audio Warning"),this.coolDownTimeMs=f.cooldownTimeMs,this.pastSamplesToConsider=f.pastSamplesToConsider,this.fractionalLoss=f.fractionalLoss,this.packetsExpected=f.packetsExpected,this.maximumTimesToWarn=f.maximumTimesToWarn,this.lastWarnTimestampMs=0,this.warnCount=0}},"UnusableAudioWarningConnectionHealthPolicy");c.default=h},pQ8y:function(N,c,d){"use strict";function S(){return S=Object.assign?Object.assign.bind():function(s){for(var I=1;I<arguments.length;I++){var M=arguments[I];for(var R in M)Object.prototype.hasOwnProperty.call(M,R)&&(s[R]=M[R])}return s},S.apply(this,arguments)}o(S,"_extends");var h=d("JwAW"),m=d("RPF1"),f=d("n3tL"),a=d("3B23"),n=d.n(a),i=d("9IcX"),e=d.n(i),t=d("q1tI"),r=d.n(t),l=d("dRu9"),p=o(function(I,M){return I&&M&&M.split(" ").forEach(function(R){return n()(I,R)})},"addClass"),v=o(function(I,M){return I&&M&&M.split(" ").forEach(function(R){return e()(I,R)})},"removeClass"),g=function(s){Object(m.a)(I,s);function I(){for(var R,B=arguments.length,j=new Array(B),A=0;A<B;A++)j[A]=arguments[A];return R=s.call.apply(s,[this].concat(j))||this,R.appliedClasses={appear:{},enter:{},exit:{}},R.onEnter=function(D,$){R.removeClasses(D,"exit"),R.addClass(D,$?"appear":"enter","base"),R.props.onEnter&&R.props.onEnter(D,$)},R.onEntering=function(D,$){var O=$?"appear":"enter";R.addClass(D,O,"active"),R.props.onEntering&&R.props.onEntering(D,$)},R.onEntered=function(D,$){var O=$?"appear":"enter";R.removeClasses(D,O),R.addClass(D,O,"done"),R.props.onEntered&&R.props.onEntered(D,$)},R.onExit=function(D){R.removeClasses(D,"appear"),R.removeClasses(D,"enter"),R.addClass(D,"exit","base"),R.props.onExit&&R.props.onExit(D)},R.onExiting=function(D){R.addClass(D,"exit","active"),R.props.onExiting&&R.props.onExiting(D)},R.onExited=function(D){R.removeClasses(D,"exit"),R.addClass(D,"exit","done"),R.props.onExited&&R.props.onExited(D)},R.getClassNames=function(D){var $=R.props.classNames,O=typeof $=="string",P=O&&$?$+"-":"",k=O?""+P+D:$[D],K=O?k+"-active":$[D+"Active"],Z=O?k+"-done":$[D+"Done"];return{baseClassName:k,activeClassName:K,doneClassName:Z}},R}o(I,"CSSTransition");var M=I.prototype;return M.addClass=o(function(B,j,A){var D=this.getClassNames(j)[A+"ClassName"];j==="appear"&&A==="done"&&(D+=" "+this.getClassNames("enter").doneClassName),A==="active"&&B&&B.scrollTop,this.appliedClasses[j][A]=D,p(B,D)},"addClass"),M.removeClasses=o(function(B,j){var A=this.appliedClasses[j],D=A.base,$=A.active,O=A.done;this.appliedClasses[j]={},D&&v(B,D),$&&v(B,$),O&&v(B,O)},"removeClasses"),M.render=o(function(){var B=this.props,j=B.classNames,A=Object(h.a)(B,["classNames"]);return r.a.createElement(l.d,S({},A,{onEnter:this.onEnter,onEntered:this.onEntered,onEntering:this.onEntering,onExit:this.onExit,onExiting:this.onExiting,onExited:this.onExited}))},"render"),I}(r.a.Component);g.defaultProps={classNames:""},g.propTypes={};var u=c.a=g},pU0T:function(N,c,d){"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.uint32ArrayFrom=c.numToUint8=c.isEmptyData=c.convertToBuffer=void 0;var S=d("YcE2");Object.defineProperty(c,"convertToBuffer",{enumerable:!0,get:function(){return S.convertToBuffer}});var h=d("zW/2");Object.defineProperty(c,"isEmptyData",{enumerable:!0,get:function(){return h.isEmptyData}});var m=d("lnWt");Object.defineProperty(c,"numToUint8",{enumerable:!0,get:function(){return m.numToUint8}});var f=d("wiFD");Object.defineProperty(c,"uint32ArrayFrom",{enumerable:!0,get:function(){return f.uint32ArrayFrom}})},pU79:function(N,c,d){"use strict";var S=d("fywt"),h=d("c75G");function m(f,a){return Object(h.a)(f,Object(S.a)(a,2))}o(m,"meanBy"),c.a=m},pacc:function(N,c,d){"use strict";var S=this&&this.__awaiter||function(v,g,u,s){function I(M){return M instanceof u?M:new u(function(R){R(M)})}return o(I,"adopt"),new(u||(u=Promise))(function(M,R){function B(D){try{A(s.next(D))}catch($){R($)}}o(B,"fulfilled");function j(D){try{A(s.throw(D))}catch($){R($)}}o(j,"rejected");function A(D){D.done?M(D.value):I(D.value).then(B,j)}o(A,"step"),A((s=s.apply(v,g||[])).next())})};Object.defineProperty(c,"__esModule",{value:!0});const h=d("Zit3"),m=d("cKqT"),f=d("p7bP"),a=d("HXIC"),n=d("l7oq"),i=d("F7zz"),e=d("dPyZ"),t=d("3jln"),r=d("z8+u"),l=d("18tZ");let p=o(class{addObserver(g){this.logger.info("adding messaging observer"),this.observerQueue.add(g)}removeObserver(g){this.logger.info("removing messaging observer"),this.observerQueue.delete(g)}start(){return S(this,void 0,void 0,function*(){this.isClosed()?yield this.startConnecting(!1):this.logger.info("messaging session already started")})}stop(){this.isClosed()?this.logger.info("no existing messaging session needs closing"):(this.isClosing=!0,this.webSocket.close(),f.default.removeLogger(this.logger))}forEachObserver(g){for(const u of this.observerQueue)i.default.nextTick(()=>{this.observerQueue.has(u)&&g(u)})}setUpEventListeners(){this.webSocket.addEventListener("open",()=>{this.openEventHandler()}),this.webSocket.addEventListener("message",g=>{this.receiveMessageHandler(g.data)}),this.webSocket.addEventListener("close",g=>{this.closeEventHandler(g)}),this.webSocket.addEventListener("error",()=>{this.logger.error("WebSocket error")})}startConnecting(g){return S(this,void 0,void 0,function*(){return yield this.startConnectingInternal(g),yield new Promise((u,s)=>{this.bootstrapResolved=u,this.bootstrapRejected=s})})}startConnectingInternal(g){var u;return S(this,void 0,void 0,function*(){let s=this.configuration.endpointUrl;if(g||this.reconnectController.reset(),this.reconnectController.hasStartedConnectionAttempt()?this.reconnectController.startedConnectionAttempt(!1):this.reconnectController.startedConnectionAttempt(!0),g||s===void 0)try{if(this.configuration.chimeClient.getMessagingSessionEndpoint instanceof Function){const M=yield this.configuration.chimeClient.getMessagingSessionEndpoint();!((u=M.Endpoint)===null||u===void 0)&&u.Url?s=M.Endpoint.Url:s=(yield this.configuration.chimeClient.getMessagingSessionEndpoint().promise()).Endpoint.Url}else s=(yield this.configuration.chimeClient.send(new h.GetMessagingSessionEndpointCommand({}))).Endpoint.Url;this.logger.debug(`Messaging endpoint resolved to: ${s}`)}catch(M){this.logger.error(`Messaging Session failed to resolve endpoint: ${M}`);const R=new CloseEvent("close",{wasClean:!1,code:4999,reason:"Failed to get messaging session endpoint URL",bubbles:!1});this.closeEventHandler(R);return}const I=yield this.prepareWebSocketUrl(s);this.logger.info(`opening connection to ${I}`),g||this.reconnectController.reset(),this.reconnectController.hasStartedConnectionAttempt()?this.reconnectController.startedConnectionAttempt(!1):this.reconnectController.startedConnectionAttempt(!0),this.webSocket.create(I,[],!0),this.forEachObserver(M=>{M.messagingSessionDidStartConnecting&&M.messagingSessionDidStartConnecting(g)}),this.setUpEventListeners()})}prepareWebSocketUrl(g){return S(this,void 0,void 0,function*(){const u=new Map;return u.set("userArn",[this.configuration.userArn]),u.set("sessionId",[this.configuration.messagingSessionId]),this.configuration.prefetchOn===l.default.Connect&&u.set("prefetch-on",[l.default.Connect]),this.configuration.prefetchSortBy&&u.set("prefetch-sort-by",[this.configuration.prefetchSortBy]),yield this.sigV4.signURL("GET","wss","chime",g,"/connect","",u)})}isClosed(){return this.webSocket.readyState()===r.default.None||this.webSocket.readyState()===r.default.Closed}openEventHandler(){this.reconnectController.reset(),this.isSessionEstablished=!1}receiveMessageHandler(g){try{const u=JSON.parse(g),s=u.Headers["x-amz-chime-event-type"],I=new a.default(s,u.Headers,u.Payload||null);if(!this.isSessionEstablished&&s==="SESSION_ESTABLISHED"){this.forEachObserver(R=>{R.messagingSessionDidStart&&R.messagingSessionDidStart()}),this.bootstrapResolved(),this.isSessionEstablished=!0;const M=this.preBootstrapMessages.length;for(let R=0;R<M;R++){const B=this.preBootstrapMessages.shift();this.forEachObserver(j=>{this.sendMessageToObserver(j,B)})}}else if(!this.isSessionEstablished){this.preBootstrapMessages.push(I);return}this.forEachObserver(M=>{this.sendMessageToObserver(M,I)})}catch(u){this.logger.error(`Messaging parsing failed: ${u}`)}}sendMessageToObserver(g,u){g.messagingSessionDidReceiveMessage&&g.messagingSessionDidReceiveMessage(u)}retryConnection(){return this.reconnectController.retryWithBackoff(()=>S(this,void 0,void 0,function*(){yield this.startConnecting(!0)}),null)}closeEventHandler(g){this.logger.info(`WebSocket close: ${g.code} ${g.reason}`),g.code!==4999&&this.webSocket.destroy(),!(!this.isClosing&&this.canReconnect(g.code)&&this.retryConnection())&&(this.isClosing=!1,this.isSessionEstablished?this.forEachObserver(u=>{u.messagingSessionDidStop&&u.messagingSessionDidStop(g)}):this.bootstrapRejected(g))}canReconnect(g){return g===1001||g===1006||g>=1011&&g<=1014||g>4e3&&g!==4002&&g!==4003&&g!==4401}constructor(g,u,s,I,M){this.configuration=g,this.logger=u,this.webSocket=s,this.reconnectController=I,this.sigV4=M,this.observerQueue=new Set,this.webSocket||(this.webSocket=new t.default(this.logger)),this.reconnectController||(this.reconnectController=new n.default(g.reconnectTimeoutMs,new m.default(g.reconnectFixedWaitMs,g.reconnectShortBackoffMs,g.reconnectLongBackoffMs))),this.sigV4||(this.sigV4=new e.default(this.configuration.chimeClient)),f.default.addLogger(this.logger),f.default.register(),this.preBootstrapMessages=[]}},"DefaultMessagingSession");c.default=p},papz:function(N,c,d){"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.MeetingSessionStatusCode=void 0;var S;(function(h){h[h.OK=0]="OK",h[h.Left=1]="Left",h[h.AudioJoinedFromAnotherDevice=2]="AudioJoinedFromAnotherDevice",h[h.AudioAuthenticationRejected=3]="AudioAuthenticationRejected",h[h.AudioCallAtCapacity=4]="AudioCallAtCapacity",h[h.MeetingEnded=5]="MeetingEnded",h[h.AudioInternalServerError=6]="AudioInternalServerError",h[h.AudioServiceUnavailable=7]="AudioServiceUnavailable",h[h.AudioDisconnected=8]="AudioDisconnected",h[h.VideoCallSwitchToViewOnly=9]="VideoCallSwitchToViewOnly",h[h.VideoCallAtSourceCapacity=10]="VideoCallAtSourceCapacity",h[h.SignalingBadRequest=11]="SignalingBadRequest",h[h.SignalingInternalServerError=12]="SignalingInternalServerError",h[h.SignalingRequestFailed=13]="SignalingRequestFailed",h[h.ICEGatheringTimeoutWorkaround=14]="ICEGatheringTimeoutWorkaround",h[h.ConnectionHealthReconnect=15]="ConnectionHealthReconnect",h[h.RealtimeApiFailed=16]="RealtimeApiFailed",h[h.TaskFailed=17]="TaskFailed",h[h.IncompatibleSDP=18]="IncompatibleSDP",h[h.TURNCredentialsForbidden=19]="TURNCredentialsForbidden",h[h.NoAttendeePresent=20]="NoAttendeePresent",h[h.AudioAttendeeRemoved=21]="AudioAttendeeRemoved",h[h.AudioVideoWasRemovedFromPrimaryMeeting=22]="AudioVideoWasRemovedFromPrimaryMeeting",h[h.AudioDisconnectAudio=23]="AudioDisconnectAudio"})(S=c.MeetingSessionStatusCode||(c.MeetingSessionStatusCode={})),c.default=S},pewp:function(N,c,d){"use strict";var S=this&&this.__awaiter||function(a,n,i,e){function t(r){return r instanceof i?r:new i(function(l){l(r)})}return o(t,"adopt"),new(i||(i=Promise))(function(r,l){function p(u){try{g(e.next(u))}catch(s){l(s)}}o(p,"fulfilled");function v(u){try{g(e.throw(u))}catch(s){l(s)}}o(v,"rejected");function g(u){u.done?r(u.value):t(u.value).then(p,v)}o(g,"step"),g((e=e.apply(a,n||[])).next())})};Object.defineProperty(c,"__esModule",{value:!0});const h=d("crgu"),m=d("sfTB");let f=o(class{start(){if(!this.reportingEvents)try{this.eventBuffer.start(),this.logger.info("Event reporting started"),this.reportingEvents=!0}catch(n){this.logger.error(`Event Reporting - Error starting the event buffer ${n}`)}}stop(){if(this.reportingEvents)try{this.eventBuffer.stop(),this.logger.info("Event reporting stopped"),this.reportingEvents=!1}catch(n){this.logger.error(`Event Reporting - Error stopping the event buffer ${n}`)}}reportEvent(n,i,e){return S(this,void 0,void 0,function*(){if(this.logger.debug(`Event Reporting - DefaultMeetingEventReporter - event received in reportEvent ${n}, ${i}, ${JSON.stringify(e)}`),this.eventsToIgnore.includes(i)){this.logger.debug(`Event Reporting - DefaultMeetingEventReporter - ${i} event will be ignored as it is in events to ignore`);return}try{this.logger.debug("Event Reporting - DefaultMeetingEventReporter - adding item to event buffer"),yield this.eventBuffer.addItem({ts:n,name:i,attributes:e})}catch(t){this.logger.error(`Event Reporting - Error adding event to buffer ${t}`)}})}destroy(){return S(this,void 0,void 0,function*(){this.destroyed=!0,this.stop(),h.isDestroyable(this.eventBuffer)&&this.eventBuffer.destroy(),this.eventBuffer=void 0})}constructor(n,i){this.reportingEvents=!1,this.importantEvents=["meetingEnded","meetingFailed","meetingStartFailed","audioInputFailed","videoInputFailed","meetingStartSucceeded"],this.destroyed=!1;const{eventsClientConfiguration:e,ingestionURL:t,eventBufferConfiguration:r}=n,{eventsToIgnore:l}=e;this.eventBuffer=new m.default(r,e,t,this.importantEvents,i),this.logger=i,this.eventsToIgnore=l,this.start()}},"DefaultMeetingEventReporter");c.default=f},pl4z:function(N,c){function d(){var S=0,h=1,m=2,f=3,a=4,n=5,i=6,e=7,t=8,r=9,l=10,p=11;function v(s,I){if(I===void 0&&(I=0),code=s.charCodeAt(I),55296<=code&&code<=56319&&I<s.length-1){var M=code,R=s.charCodeAt(I+1);return 56320<=R&&R<=57343?(M-55296)*1024+(R-56320)+65536:M}if(56320<=code&&code<=57343&&I>=1){var M=s.charCodeAt(I-1),R=code;return 55296<=M&&M<=56319?(M-55296)*1024+(R-56320)+65536:R}return code}o(v,"codePointAt");function g(s,I){return s==S&&I==h?!1:s==m||s==S||s==h||I==m||I==S||I==h?!0:s==i&&(I==i||I==e||I==r||I==l)||(s==r||s==e)&&(I==e||I==t)||(s==l||s==t)&&I==t||s==a&&I==a||I==f?!1:I!=n}o(g,"shouldBreak"),this.nextBreak=function(s,I){if(I===void 0&&(I=0),I<0)return 0;if(I>=s.length-1)return s.length;for(var M=u(v(s,I)),R=I+1;R<s.length;R++)if(!(55296<=s.charCodeAt(R-1)&&s.charCodeAt(R-1)<=56319&&56320<=s.charCodeAt(R)&&s.charCodeAt(R)<=57343)){var B=u(v(s,R));if(g(M,B))return R;M=B}return s.length},this.splitGraphemes=function(s){for(var I=[],M=0,R;(R=this.nextBreak(s,M))<s.length;)I.push(s.slice(M,R)),M=R;return M<s.length&&I.push(s.slice(M)),I},this.countGraphemes=function(s){for(var I=0,M=0,R;(R=this.nextBreak(s,M))<s.length;)M=R,I++;return M<s.length&&I++,I};function u(s){return s==13?S:s==10?h:0<=s&&s<=9||11<=s&&s<=12||14<=s&&s<=31||127<=s&&s<=159||s==173||1536<=s&&s<=1541||s==1564||s==1757||s==1807||s==6158||s==8203||8206<=s&&s<=8207||s==8232||s==8233||8234<=s&&s<=8238||8288<=s&&s<=8292||s==8293||8294<=s&&s<=8303||55296<=s&&s<=57343||s==65279||65520<=s&&s<=65528||65529<=s&&s<=65531||s==69821||113824<=s&&s<=113827||119155<=s&&s<=119162||s==917504||s==917505||917506<=s&&s<=917535||917536<=s&&s<=917631||917632<=s&&s<=917759||918e3<=s&&s<=921599?m:768<=s&&s<=879||1155<=s&&s<=1159||1160<=s&&s<=1161||1425<=s&&s<=1469||s==1471||1473<=s&&s<=1474||1476<=s&&s<=1477||s==1479||1552<=s&&s<=1562||1611<=s&&s<=1631||s==1648||1750<=s&&s<=1756||1759<=s&&s<=1764||1767<=s&&s<=1768||1770<=s&&s<=1773||s==1809||1840<=s&&s<=1866||1958<=s&&s<=1968||2027<=s&&s<=2035||2070<=s&&s<=2073||2075<=s&&s<=2083||2085<=s&&s<=2087||2089<=s&&s<=2093||2137<=s&&s<=2139||2275<=s&&s<=2306||s==2362||s==2364||2369<=s&&s<=2376||s==2381||2385<=s&&s<=2391||2402<=s&&s<=2403||s==2433||s==2492||s==2494||2497<=s&&s<=2500||s==2509||s==2519||2530<=s&&s<=2531||2561<=s&&s<=2562||s==2620||2625<=s&&s<=2626||2631<=s&&s<=2632||2635<=s&&s<=2637||s==2641||2672<=s&&s<=2673||s==2677||2689<=s&&s<=2690||s==2748||2753<=s&&s<=2757||2759<=s&&s<=2760||s==2765||2786<=s&&s<=2787||s==2817||s==2876||s==2878||s==2879||2881<=s&&s<=2884||s==2893||s==2902||s==2903||2914<=s&&s<=2915||s==2946||s==3006||s==3008||s==3021||s==3031||s==3072||3134<=s&&s<=3136||3142<=s&&s<=3144||3146<=s&&s<=3149||3157<=s&&s<=3158||3170<=s&&s<=3171||s==3201||s==3260||s==3263||s==3266||s==3270||3276<=s&&s<=3277||3285<=s&&s<=3286||3298<=s&&s<=3299||s==3329||s==3390||3393<=s&&s<=3396||s==3405||s==3415||3426<=s&&s<=3427||s==3530||s==3535||3538<=s&&s<=3540||s==3542||s==3551||s==3633||3636<=s&&s<=3642||3655<=s&&s<=3662||s==3761||3764<=s&&s<=3769||3771<=s&&s<=3772||3784<=s&&s<=3789||3864<=s&&s<=3865||s==3893||s==3895||s==3897||3953<=s&&s<=3966||3968<=s&&s<=3972||3974<=s&&s<=3975||3981<=s&&s<=3991||3993<=s&&s<=4028||s==4038||4141<=s&&s<=4144||4146<=s&&s<=4151||4153<=s&&s<=4154||4157<=s&&s<=4158||4184<=s&&s<=4185||4190<=s&&s<=4192||4209<=s&&s<=4212||s==4226||4229<=s&&s<=4230||s==4237||s==4253||4957<=s&&s<=4959||5906<=s&&s<=5908||5938<=s&&s<=5940||5970<=s&&s<=5971||6002<=s&&s<=6003||6068<=s&&s<=6069||6071<=s&&s<=6077||s==6086||6089<=s&&s<=6099||s==6109||6155<=s&&s<=6157||s==6313||6432<=s&&s<=6434||6439<=s&&s<=6440||s==6450||6457<=s&&s<=6459||6679<=s&&s<=6680||s==6683||s==6742||6744<=s&&s<=6750||s==6752||s==6754||6757<=s&&s<=6764||6771<=s&&s<=6780||s==6783||6832<=s&&s<=6845||s==6846||6912<=s&&s<=6915||s==6964||6966<=s&&s<=6970||s==6972||s==6978||7019<=s&&s<=7027||7040<=s&&s<=7041||7074<=s&&s<=7077||7080<=s&&s<=7081||7083<=s&&s<=7085||s==7142||7144<=s&&s<=7145||s==7149||7151<=s&&s<=7153||7212<=s&&s<=7219||7222<=s&&s<=7223||7376<=s&&s<=7378||7380<=s&&s<=7392||7394<=s&&s<=7400||s==7405||s==7412||7416<=s&&s<=7417||7616<=s&&s<=7669||7676<=s&&s<=7679||8204<=s&&s<=8205||8400<=s&&s<=8412||8413<=s&&s<=8416||s==8417||8418<=s&&s<=8420||8421<=s&&s<=8432||11503<=s&&s<=11505||s==11647||11744<=s&&s<=11775||12330<=s&&s<=12333||12334<=s&&s<=12335||12441<=s&&s<=12442||s==42607||42608<=s&&s<=42610||42612<=s&&s<=42621||42654<=s&&s<=42655||42736<=s&&s<=42737||s==43010||s==43014||s==43019||43045<=s&&s<=43046||s==43204||43232<=s&&s<=43249||43302<=s&&s<=43309||43335<=s&&s<=43345||43392<=s&&s<=43394||s==43443||43446<=s&&s<=43449||s==43452||s==43493||43561<=s&&s<=43566||43569<=s&&s<=43570||43573<=s&&s<=43574||s==43587||s==43596||s==43644||s==43696||43698<=s&&s<=43700||43703<=s&&s<=43704||43710<=s&&s<=43711||s==43713||43756<=s&&s<=43757||s==43766||s==44005||s==44008||s==44013||s==64286||65024<=s&&s<=65039||65056<=s&&s<=65071||65438<=s&&s<=65439||s==66045||s==66272||66422<=s&&s<=66426||68097<=s&&s<=68099||68101<=s&&s<=68102||68108<=s&&s<=68111||68152<=s&&s<=68154||s==68159||68325<=s&&s<=68326||s==69633||69688<=s&&s<=69702||69759<=s&&s<=69761||69811<=s&&s<=69814||69817<=s&&s<=69818||69888<=s&&s<=69890||69927<=s&&s<=69931||69933<=s&&s<=69940||s==70003||70016<=s&&s<=70017||70070<=s&&s<=70078||70090<=s&&s<=70092||70191<=s&&s<=70193||s==70196||70198<=s&&s<=70199||s==70367||70371<=s&&s<=70378||70400<=s&&s<=70401||s==70460||s==70462||s==70464||s==70487||70502<=s&&s<=70508||70512<=s&&s<=70516||s==70832||70835<=s&&s<=70840||s==70842||s==70845||70847<=s&&s<=70848||70850<=s&&s<=70851||s==71087||71090<=s&&s<=71093||71100<=s&&s<=71101||71103<=s&&s<=71104||71132<=s&&s<=71133||71219<=s&&s<=71226||s==71229||71231<=s&&s<=71232||s==71339||s==71341||71344<=s&&s<=71349||s==71351||71453<=s&&s<=71455||71458<=s&&s<=71461||71463<=s&&s<=71467||92912<=s&&s<=92916||92976<=s&&s<=92982||94095<=s&&s<=94098||113821<=s&&s<=113822||s==119141||119143<=s&&s<=119145||119150<=s&&s<=119154||119163<=s&&s<=119170||119173<=s&&s<=119179||119210<=s&&s<=119213||119362<=s&&s<=119364||121344<=s&&s<=121398||121403<=s&&s<=121452||s==121461||s==121476||121499<=s&&s<=121503||121505<=s&&s<=121519||125136<=s&&s<=125142||917760<=s&&s<=917999?f:127462<=s&&s<=127487?a:s==2307||s==2363||2366<=s&&s<=2368||2377<=s&&s<=2380||2382<=s&&s<=2383||2434<=s&&s<=2435||2495<=s&&s<=2496||2503<=s&&s<=2504||2507<=s&&s<=2508||s==2563||2622<=s&&s<=2624||s==2691||2750<=s&&s<=2752||s==2761||2763<=s&&s<=2764||2818<=s&&s<=2819||s==2880||2887<=s&&s<=2888||2891<=s&&s<=2892||s==3007||3009<=s&&s<=3010||3014<=s&&s<=3016||3018<=s&&s<=3020||3073<=s&&s<=3075||3137<=s&&s<=3140||3202<=s&&s<=3203||s==3262||3264<=s&&s<=3265||3267<=s&&s<=3268||3271<=s&&s<=3272||3274<=s&&s<=3275||3330<=s&&s<=3331||3391<=s&&s<=3392||3398<=s&&s<=3400||3402<=s&&s<=3404||3458<=s&&s<=3459||3536<=s&&s<=3537||3544<=s&&s<=3550||3570<=s&&s<=3571||s==3635||s==3763||3902<=s&&s<=3903||s==3967||s==4145||4155<=s&&s<=4156||4182<=s&&s<=4183||s==4228||s==6070||6078<=s&&s<=6085||6087<=s&&s<=6088||6435<=s&&s<=6438||6441<=s&&s<=6443||6448<=s&&s<=6449||6451<=s&&s<=6456||6681<=s&&s<=6682||s==6741||s==6743||6765<=s&&s<=6770||s==6916||s==6965||s==6971||6973<=s&&s<=6977||6979<=s&&s<=6980||s==7042||s==7073||7078<=s&&s<=7079||s==7082||s==7143||7146<=s&&s<=7148||s==7150||7154<=s&&s<=7155||7204<=s&&s<=7211||7220<=s&&s<=7221||s==7393||7410<=s&&s<=7411||43043<=s&&s<=43044||s==43047||43136<=s&&s<=43137||43188<=s&&s<=43203||43346<=s&&s<=43347||s==43395||43444<=s&&s<=43445||43450<=s&&s<=43451||43453<=s&&s<=43456||43567<=s&&s<=43568||43571<=s&&s<=43572||s==43597||s==43755||43758<=s&&s<=43759||s==43765||44003<=s&&s<=44004||44006<=s&&s<=44007||44009<=s&&s<=44010||s==44012||s==69632||s==69634||s==69762||69808<=s&&s<=69810||69815<=s&&s<=69816||s==69932||s==70018||70067<=s&&s<=70069||70079<=s&&s<=70080||70188<=s&&s<=70190||70194<=s&&s<=70195||s==70197||70368<=s&&s<=70370||70402<=s&&s<=70403||s==70463||70465<=s&&s<=70468||70471<=s&&s<=70472||70475<=s&&s<=70477||70498<=s&&s<=70499||70833<=s&&s<=70834||s==70841||70843<=s&&s<=70844||s==70846||s==70849||71088<=s&&s<=71089||71096<=s&&s<=71099||s==71102||71216<=s&&s<=71218||71227<=s&&s<=71228||s==71230||s==71340||71342<=s&&s<=71343||s==71350||71456<=s&&s<=71457||s==71462||94033<=s&&s<=94078||s==119142||s==119149?n:4352<=s&&s<=4447||43360<=s&&s<=43388?i:4448<=s&&s<=4519||55216<=s&&s<=55238?e:4520<=s&&s<=4607||55243<=s&&s<=55291?t:s==44032||s==44060||s==44088||s==44116||s==44144||s==44172||s==44200||s==44228||s==44256||s==44284||s==44312||s==44340||s==44368||s==44396||s==44424||s==44452||s==44480||s==44508||s==44536||s==44564||s==44592||s==44620||s==44648||s==44676||s==44704||s==44732||s==44760||s==44788||s==44816||s==44844||s==44872||s==44900||s==44928||s==44956||s==44984||s==45012||s==45040||s==45068||s==45096||s==45124||s==45152||s==45180||s==45208||s==45236||s==45264||s==45292||s==45320||s==45348||s==45376||s==45404||s==45432||s==45460||s==45488||s==45516||s==45544||s==45572||s==45600||s==45628||s==45656||s==45684||s==45712||s==45740||s==45768||s==45796||s==45824||s==45852||s==45880||s==45908||s==45936||s==45964||s==45992||s==46020||s==46048||s==46076||s==46104||s==46132||s==46160||s==46188||s==46216||s==46244||s==46272||s==46300||s==46328||s==46356||s==46384||s==46412||s==46440||s==46468||s==46496||s==46524||s==46552||s==46580||s==46608||s==46636||s==46664||s==46692||s==46720||s==46748||s==46776||s==46804||s==46832||s==46860||s==46888||s==46916||s==46944||s==46972||s==47e3||s==47028||s==47056||s==47084||s==47112||s==47140||s==47168||s==47196||s==47224||s==47252||s==47280||s==47308||s==47336||s==47364||s==47392||s==47420||s==47448||s==47476||s==47504||s==47532||s==47560||s==47588||s==47616||s==47644||s==47672||s==47700||s==47728||s==47756||s==47784||s==47812||s==47840||s==47868||s==47896||s==47924||s==47952||s==47980||s==48008||s==48036||s==48064||s==48092||s==48120||s==48148||s==48176||s==48204||s==48232||s==48260||s==48288||s==48316||s==48344||s==48372||s==48400||s==48428||s==48456||s==48484||s==48512||s==48540||s==48568||s==48596||s==48624||s==48652||s==48680||s==48708||s==48736||s==48764||s==48792||s==48820||s==48848||s==48876||s==48904||s==48932||s==48960||s==48988||s==49016||s==49044||s==49072||s==49100||s==49128||s==49156||s==49184||s==49212||s==49240||s==49268||s==49296||s==49324||s==49352||s==49380||s==49408||s==49436||s==49464||s==49492||s==49520||s==49548||s==49576||s==49604||s==49632||s==49660||s==49688||s==49716||s==49744||s==49772||s==49800||s==49828||s==49856||s==49884||s==49912||s==49940||s==49968||s==49996||s==50024||s==50052||s==50080||s==50108||s==50136||s==50164||s==50192||s==50220||s==50248||s==50276||s==50304||s==50332||s==50360||s==50388||s==50416||s==50444||s==50472||s==50500||s==50528||s==50556||s==50584||s==50612||s==50640||s==50668||s==50696||s==50724||s==50752||s==50780||s==50808||s==50836||s==50864||s==50892||s==50920||s==50948||s==50976||s==51004||s==51032||s==51060||s==51088||s==51116||s==51144||s==51172||s==51200||s==51228||s==51256||s==51284||s==51312||s==51340||s==51368||s==51396||s==51424||s==51452||s==51480||s==51508||s==51536||s==51564||s==51592||s==51620||s==51648||s==51676||s==51704||s==51732||s==51760||s==51788||s==51816||s==51844||s==51872||s==51900||s==51928||s==51956||s==51984||s==52012||s==52040||s==52068||s==52096||s==52124||s==52152||s==52180||s==52208||s==52236||s==52264||s==52292||s==52320||s==52348||s==52376||s==52404||s==52432||s==52460||s==52488||s==52516||s==52544||s==52572||s==52600||s==52628||s==52656||s==52684||s==52712||s==52740||s==52768||s==52796||s==52824||s==52852||s==52880||s==52908||s==52936||s==52964||s==52992||s==53020||s==53048||s==53076||s==53104||s==53132||s==53160||s==53188||s==53216||s==53244||s==53272||s==53300||s==53328||s==53356||s==53384||s==53412||s==53440||s==53468||s==53496||s==53524||s==53552||s==53580||s==53608||s==53636||s==53664||s==53692||s==53720||s==53748||s==53776||s==53804||s==53832||s==53860||s==53888||s==53916||s==53944||s==53972||s==54e3||s==54028||s==54056||s==54084||s==54112||s==54140||s==54168||s==54196||s==54224||s==54252||s==54280||s==54308||s==54336||s==54364||s==54392||s==54420||s==54448||s==54476||s==54504||s==54532||s==54560||s==54588||s==54616||s==54644||s==54672||s==54700||s==54728||s==54756||s==54784||s==54812||s==54840||s==54868||s==54896||s==54924||s==54952||s==54980||s==55008||s==55036||s==55064||s==55092||s==55120||s==55148||s==55176?r:44033<=s&&s<=44059||44061<=s&&s<=44087||44089<=s&&s<=44115||44117<=s&&s<=44143||44145<=s&&s<=44171||44173<=s&&s<=44199||44201<=s&&s<=44227||44229<=s&&s<=44255||44257<=s&&s<=44283||44285<=s&&s<=44311||44313<=s&&s<=44339||44341<=s&&s<=44367||44369<=s&&s<=44395||44397<=s&&s<=44423||44425<=s&&s<=44451||44453<=s&&s<=44479||44481<=s&&s<=44507||44509<=s&&s<=44535||44537<=s&&s<=44563||44565<=s&&s<=44591||44593<=s&&s<=44619||44621<=s&&s<=44647||44649<=s&&s<=44675||44677<=s&&s<=44703||44705<=s&&s<=44731||44733<=s&&s<=44759||44761<=s&&s<=44787||44789<=s&&s<=44815||44817<=s&&s<=44843||44845<=s&&s<=44871||44873<=s&&s<=44899||44901<=s&&s<=44927||44929<=s&&s<=44955||44957<=s&&s<=44983||44985<=s&&s<=45011||45013<=s&&s<=45039||45041<=s&&s<=45067||45069<=s&&s<=45095||45097<=s&&s<=45123||45125<=s&&s<=45151||45153<=s&&s<=45179||45181<=s&&s<=45207||45209<=s&&s<=45235||45237<=s&&s<=45263||45265<=s&&s<=45291||45293<=s&&s<=45319||45321<=s&&s<=45347||45349<=s&&s<=45375||45377<=s&&s<=45403||45405<=s&&s<=45431||45433<=s&&s<=45459||45461<=s&&s<=45487||45489<=s&&s<=45515||45517<=s&&s<=45543||45545<=s&&s<=45571||45573<=s&&s<=45599||45601<=s&&s<=45627||45629<=s&&s<=45655||45657<=s&&s<=45683||45685<=s&&s<=45711||45713<=s&&s<=45739||45741<=s&&s<=45767||45769<=s&&s<=45795||45797<=s&&s<=45823||45825<=s&&s<=45851||45853<=s&&s<=45879||45881<=s&&s<=45907||45909<=s&&s<=45935||45937<=s&&s<=45963||45965<=s&&s<=45991||45993<=s&&s<=46019||46021<=s&&s<=46047||46049<=s&&s<=46075||46077<=s&&s<=46103||46105<=s&&s<=46131||46133<=s&&s<=46159||46161<=s&&s<=46187||46189<=s&&s<=46215||46217<=s&&s<=46243||46245<=s&&s<=46271||46273<=s&&s<=46299||46301<=s&&s<=46327||46329<=s&&s<=46355||46357<=s&&s<=46383||46385<=s&&s<=46411||46413<=s&&s<=46439||46441<=s&&s<=46467||46469<=s&&s<=46495||46497<=s&&s<=46523||46525<=s&&s<=46551||46553<=s&&s<=46579||46581<=s&&s<=46607||46609<=s&&s<=46635||46637<=s&&s<=46663||46665<=s&&s<=46691||46693<=s&&s<=46719||46721<=s&&s<=46747||46749<=s&&s<=46775||46777<=s&&s<=46803||46805<=s&&s<=46831||46833<=s&&s<=46859||46861<=s&&s<=46887||46889<=s&&s<=46915||46917<=s&&s<=46943||46945<=s&&s<=46971||46973<=s&&s<=46999||47001<=s&&s<=47027||47029<=s&&s<=47055||47057<=s&&s<=47083||47085<=s&&s<=47111||47113<=s&&s<=47139||47141<=s&&s<=47167||47169<=s&&s<=47195||47197<=s&&s<=47223||47225<=s&&s<=47251||47253<=s&&s<=47279||47281<=s&&s<=47307||47309<=s&&s<=47335||47337<=s&&s<=47363||47365<=s&&s<=47391||47393<=s&&s<=47419||47421<=s&&s<=47447||47449<=s&&s<=47475||47477<=s&&s<=47503||47505<=s&&s<=47531||47533<=s&&s<=47559||47561<=s&&s<=47587||47589<=s&&s<=47615||47617<=s&&s<=47643||47645<=s&&s<=47671||47673<=s&&s<=47699||47701<=s&&s<=47727||47729<=s&&s<=47755||47757<=s&&s<=47783||47785<=s&&s<=47811||47813<=s&&s<=47839||47841<=s&&s<=47867||47869<=s&&s<=47895||47897<=s&&s<=47923||47925<=s&&s<=47951||47953<=s&&s<=47979||47981<=s&&s<=48007||48009<=s&&s<=48035||48037<=s&&s<=48063||48065<=s&&s<=48091||48093<=s&&s<=48119||48121<=s&&s<=48147||48149<=s&&s<=48175||48177<=s&&s<=48203||48205<=s&&s<=48231||48233<=s&&s<=48259||48261<=s&&s<=48287||48289<=s&&s<=48315||48317<=s&&s<=48343||48345<=s&&s<=48371||48373<=s&&s<=48399||48401<=s&&s<=48427||48429<=s&&s<=48455||48457<=s&&s<=48483||48485<=s&&s<=48511||48513<=s&&s<=48539||48541<=s&&s<=48567||48569<=s&&s<=48595||48597<=s&&s<=48623||48625<=s&&s<=48651||48653<=s&&s<=48679||48681<=s&&s<=48707||48709<=s&&s<=48735||48737<=s&&s<=48763||48765<=s&&s<=48791||48793<=s&&s<=48819||48821<=s&&s<=48847||48849<=s&&s<=48875||48877<=s&&s<=48903||48905<=s&&s<=48931||48933<=s&&s<=48959||48961<=s&&s<=48987||48989<=s&&s<=49015||49017<=s&&s<=49043||49045<=s&&s<=49071||49073<=s&&s<=49099||49101<=s&&s<=49127||49129<=s&&s<=49155||49157<=s&&s<=49183||49185<=s&&s<=49211||49213<=s&&s<=49239||49241<=s&&s<=49267||49269<=s&&s<=49295||49297<=s&&s<=49323||49325<=s&&s<=49351||49353<=s&&s<=49379||49381<=s&&s<=49407||49409<=s&&s<=49435||49437<=s&&s<=49463||49465<=s&&s<=49491||49493<=s&&s<=49519||49521<=s&&s<=49547||49549<=s&&s<=49575||49577<=s&&s<=49603||49605<=s&&s<=49631||49633<=s&&s<=49659||49661<=s&&s<=49687||49689<=s&&s<=49715||49717<=s&&s<=49743||49745<=s&&s<=49771||49773<=s&&s<=49799||49801<=s&&s<=49827||49829<=s&&s<=49855||49857<=s&&s<=49883||49885<=s&&s<=49911||49913<=s&&s<=49939||49941<=s&&s<=49967||49969<=s&&s<=49995||49997<=s&&s<=50023||50025<=s&&s<=50051||50053<=s&&s<=50079||50081<=s&&s<=50107||50109<=s&&s<=50135||50137<=s&&s<=50163||50165<=s&&s<=50191||50193<=s&&s<=50219||50221<=s&&s<=50247||50249<=s&&s<=50275||50277<=s&&s<=50303||50305<=s&&s<=50331||50333<=s&&s<=50359||50361<=s&&s<=50387||50389<=s&&s<=50415||50417<=s&&s<=50443||50445<=s&&s<=50471||50473<=s&&s<=50499||50501<=s&&s<=50527||50529<=s&&s<=50555||50557<=s&&s<=50583||50585<=s&&s<=50611||50613<=s&&s<=50639||50641<=s&&s<=50667||50669<=s&&s<=50695||50697<=s&&s<=50723||50725<=s&&s<=50751||50753<=s&&s<=50779||50781<=s&&s<=50807||50809<=s&&s<=50835||50837<=s&&s<=50863||50865<=s&&s<=50891||50893<=s&&s<=50919||50921<=s&&s<=50947||50949<=s&&s<=50975||50977<=s&&s<=51003||51005<=s&&s<=51031||51033<=s&&s<=51059||51061<=s&&s<=51087||51089<=s&&s<=51115||51117<=s&&s<=51143||51145<=s&&s<=51171||51173<=s&&s<=51199||51201<=s&&s<=51227||51229<=s&&s<=51255||51257<=s&&s<=51283||51285<=s&&s<=51311||51313<=s&&s<=51339||51341<=s&&s<=51367||51369<=s&&s<=51395||51397<=s&&s<=51423||51425<=s&&s<=51451||51453<=s&&s<=51479||51481<=s&&s<=51507||51509<=s&&s<=51535||51537<=s&&s<=51563||51565<=s&&s<=51591||51593<=s&&s<=51619||51621<=s&&s<=51647||51649<=s&&s<=51675||51677<=s&&s<=51703||51705<=s&&s<=51731||51733<=s&&s<=51759||51761<=s&&s<=51787||51789<=s&&s<=51815||51817<=s&&s<=51843||51845<=s&&s<=51871||51873<=s&&s<=51899||51901<=s&&s<=51927||51929<=s&&s<=51955||51957<=s&&s<=51983||51985<=s&&s<=52011||52013<=s&&s<=52039||52041<=s&&s<=52067||52069<=s&&s<=52095||52097<=s&&s<=52123||52125<=s&&s<=52151||52153<=s&&s<=52179||52181<=s&&s<=52207||52209<=s&&s<=52235||52237<=s&&s<=52263||52265<=s&&s<=52291||52293<=s&&s<=52319||52321<=s&&s<=52347||52349<=s&&s<=52375||52377<=s&&s<=52403||52405<=s&&s<=52431||52433<=s&&s<=52459||52461<=s&&s<=52487||52489<=s&&s<=52515||52517<=s&&s<=52543||52545<=s&&s<=52571||52573<=s&&s<=52599||52601<=s&&s<=52627||52629<=s&&s<=52655||52657<=s&&s<=52683||52685<=s&&s<=52711||52713<=s&&s<=52739||52741<=s&&s<=52767||52769<=s&&s<=52795||52797<=s&&s<=52823||52825<=s&&s<=52851||52853<=s&&s<=52879||52881<=s&&s<=52907||52909<=s&&s<=52935||52937<=s&&s<=52963||52965<=s&&s<=52991||52993<=s&&s<=53019||53021<=s&&s<=53047||53049<=s&&s<=53075||53077<=s&&s<=53103||53105<=s&&s<=53131||53133<=s&&s<=53159||53161<=s&&s<=53187||53189<=s&&s<=53215||53217<=s&&s<=53243||53245<=s&&s<=53271||53273<=s&&s<=53299||53301<=s&&s<=53327||53329<=s&&s<=53355||53357<=s&&s<=53383||53385<=s&&s<=53411||53413<=s&&s<=53439||53441<=s&&s<=53467||53469<=s&&s<=53495||53497<=s&&s<=53523||53525<=s&&s<=53551||53553<=s&&s<=53579||53581<=s&&s<=53607||53609<=s&&s<=53635||53637<=s&&s<=53663||53665<=s&&s<=53691||53693<=s&&s<=53719||53721<=s&&s<=53747||53749<=s&&s<=53775||53777<=s&&s<=53803||53805<=s&&s<=53831||53833<=s&&s<=53859||53861<=s&&s<=53887||53889<=s&&s<=53915||53917<=s&&s<=53943||53945<=s&&s<=53971||53973<=s&&s<=53999||54001<=s&&s<=54027||54029<=s&&s<=54055||54057<=s&&s<=54083||54085<=s&&s<=54111||54113<=s&&s<=54139||54141<=s&&s<=54167||54169<=s&&s<=54195||54197<=s&&s<=54223||54225<=s&&s<=54251||54253<=s&&s<=54279||54281<=s&&s<=54307||54309<=s&&s<=54335||54337<=s&&s<=54363||54365<=s&&s<=54391||54393<=s&&s<=54419||54421<=s&&s<=54447||54449<=s&&s<=54475||54477<=s&&s<=54503||54505<=s&&s<=54531||54533<=s&&s<=54559||54561<=s&&s<=54587||54589<=s&&s<=54615||54617<=s&&s<=54643||54645<=s&&s<=54671||54673<=s&&s<=54699||54701<=s&&s<=54727||54729<=s&&s<=54755||54757<=s&&s<=54783||54785<=s&&s<=54811||54813<=s&&s<=54839||54841<=s&&s<=54867||54869<=s&&s<=54895||54897<=s&&s<=54923||54925<=s&&s<=54951||54953<=s&&s<=54979||54981<=s&&s<=55007||55009<=s&&s<=55035||55037<=s&&s<=55063||55065<=s&&s<=55091||55093<=s&&s<=55119||55121<=s&&s<=55147||55149<=s&&s<=55175||55177<=s&&s<=55203?l:p}return o(u,"getGraphemeBreakProperty"),this}o(d,"GraphemeSplitter"),N.exports=d},ppUg:function(N,c,d){"use strict";Object.defineProperty(c,"__esModule",{value:!0});const S=d("r3TB");let h=o(class Nl{id(){return this._id}base(){return this._id?this._id.split(Nl.MODALITY_SEPARATOR)[0]:""}modality(){if(!this._id)return"";const f=this._id.split(Nl.MODALITY_SEPARATOR);return f.length===2?f[1]:""}hasModality(f){return f!==""&&this.modality()===f}withModality(f){const a=new Nl(this.base()+Nl.MODALITY_SEPARATOR+f);return f===""||this.base()===""||new Nl(a._id).modality()!==f?new Nl(this.base()):a}constructor(f){this._id=f}},"DefaultModality");c.default=h,h.MODALITY_SEPARATOR=S.default.Modality[0],h.MODALITY_CONTENT=S.default.Modality.substr(1)},qhdC:function(N,c,d){"use strict";d.d(c,"a",function(){return t});var S=d("9oTK"),h=d.n(S),m=d("m8R6"),f=d("2XU3"),a=d("WCk1"),n=d("s4P+"),i=d("pjW8");const e={},t=Object(a.a)("help.productHelpCard.list generated fetcher",function(){var r=Object(S.coroutine)(function*(l,p,v){try{const g=["reason"],u=Object(m.a)(v,g),s=Object(i.b)(u);return yield l(Object(f.a)({method:"help.productHelpCard.list",args:s,reason:v.reason}))}catch(g){throw Object(n.a)({getState:p}).error(`API call to help.productHelpCard.list
				with reason ${v.reason} failed, initiated by generated fetcher`),g}});return function(l,p,v){return r.apply(this,arguments)}}());t.meta={name:"createFetcher",key:"createFetcherhelpProductHelpCardListFetcher",description:"help.productHelpCard.list generated fetcher"}},qr10:function(N,c,d){"use strict";d.d(c,"a",function(){return t});var S=d("9oTK"),h=d.n(S),m=d("m8R6"),f=d("2XU3"),a=d("WCk1"),n=d("s4P+"),i=d("pjW8");const e={UserNotFound:"user_not_found",AlreadyInCall:"already_in_call",ChannelNotFound:"channel_not_found",HuddleNotFound:"huddle_not_found",InvalidResponse:"invalid_response",InviteNotFound:"invite_not_found",PermissionDenied:"permission_denied",TeamNotFound:"team_not_found"},t=Object(a.a)("rooms.inviteResponse generated fetcher",function(){var r=Object(S.coroutine)(function*(l,p,v){try{const g=["reason"],u=Object(m.a)(v,g),s=Object(i.b)(u);return yield l(Object(f.a)({method:"rooms.inviteResponse",args:s,reason:v.reason}))}catch(g){throw Object(n.a)({getState:p}).error(`API call to rooms.inviteResponse
				with reason ${v.reason} failed, initiated by generated fetcher`),g}});return function(l,p,v){return r.apply(this,arguments)}}());t.meta={name:"createFetcher",key:"createFetcherroomsInviteResponseFetcher",description:"rooms.inviteResponse generated fetcher"}},qvnc:function(N,c,d){"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.TRANSCRIPTION_DATA_MESSAGE_TOPIC=void 0;const S=d("jhQD");c.TRANSCRIPTION_DATA_MESSAGE_TOPIC="aws:chime:transcription";let h=o(class{subscribeToTranscriptEvent(f){this.transcriptEventCallbacks.size===0&&this.realtimeController.realtimeSubscribeToReceiveDataMessage(c.TRANSCRIPTION_DATA_MESSAGE_TOPIC,a=>{for(const n of S.TranscriptEventConverter.from(a))for(const i of this.transcriptEventCallbacks)i(n)}),this.transcriptEventCallbacks.add(f)}unsubscribeFromTranscriptEvent(f){this.transcriptEventCallbacks.delete(f),this.transcriptEventCallbacks.size===0&&this.realtimeController.realtimeUnsubscribeFromReceiveDataMessage(c.TRANSCRIPTION_DATA_MESSAGE_TOPIC)}constructor(f){this.realtimeController=f,this.transcriptEventCallbacks=new Set}},"DefaultTranscriptionController");c.default=h},r3TB:function(N,c,d){"use strict";Object.defineProperty(c,"__esModule",{value:!0});var S;(function(h){h.Modality="#content"})(S||(S={})),c.default=S},r7zX:function(N,c,d){"use strict";var S=this&&this.__awaiter||function(i,e,t,r){function l(p){return p instanceof t?p:new t(function(v){v(p)})}return o(l,"adopt"),new(t||(t=Promise))(function(p,v){function g(I){try{s(r.next(I))}catch(M){v(M)}}o(g,"fulfilled");function u(I){try{s(r.throw(I))}catch(M){v(M)}}o(u,"rejected");function s(I){I.done?p(I.value):l(I.value).then(g,u)}o(s,"step"),s((r=r.apply(i,e||[])).next())})};Object.defineProperty(c,"__esModule",{value:!0});const h=d("KvYa"),m=d("nJ1/"),f={ready:0,enabled:1},a={disabled:0,enabled:1,stopped:2};let n=o(class extends m.VoiceFocusAudioWorkletNode{enable(){return S(this,void 0,void 0,function*(){this.state?(Atomics.store(this.state,f.enabled,a.enabled),Atomics.notify(this.state,f.ready,1)):this.worker.postMessage({message:"enable"})})}disable(){return S(this,void 0,void 0,function*(){this.state?(Atomics.store(this.state,f.enabled,a.disabled),Atomics.notify(this.state,f.ready,1)):this.worker.postMessage({message:"disable"})})}stop(){return S(this,void 0,void 0,function*(){if(this.state)Atomics.store(this.state,f.enabled,a.stopped),Atomics.notify(this.state,f.ready,1);else try{this.worker.postMessage({message:"stop"})}catch{}this.disconnect()})}onWorkerMessage(e){var t;const r=e.data;switch(r.message){case"ready":if(!r.shared)throw new Error("No shared state.");this.state=new Int32Array(r.shared.state),this.port.postMessage(r);break;case"stopped":this.worker.terminate();break;case"module-buffer":case"module":this.port.postMessage(r);break;case"cpu":(t=this.delegate)===null||t===void 0||t.onCPUWarning();break;case"processing":this.port.postMessage(r);break;default:return}}onProcessorMessage(e){var t;const r=e.data;switch(r.message){case"cpu":(t=this.delegate)===null||t===void 0||t.onCPUWarning();break;case"prepare-for-frames":this.worker.postMessage(r);break;default:}}constructor(e,t){super(e,t.processor,t),this.channelCountMode="explicit",this.channelCount=1;const{modelURL:r,resamplerURL:l,worker:p,fetchBehavior:v,delegate:g}=t;this.delegate=g,this.worker=p,this.worker.onmessage=this.onWorkerMessage.bind(this),this.port.onmessage=this.onProcessorMessage.bind(this);const{enabled:u,supportFarendStream:s}=t.processorOptions;this.worker.postMessage({message:"init",approach:"sab",frames:e.sampleRate===16e3?160:480,enabled:u,model:r,supportFarendStream:s});const I=h.supportsWASMPostMessage(globalThis)?"get-module":"get-module-buffer";this.worker.postMessage({message:I,key:"resampler",fetchBehavior:v,path:l})}},"VoiceFocusWorkerBufferNode");c.default=n},r9Lw:function(N,c,d){"use strict";Object.defineProperty(c,"__esModule",{value:!0});let S=o(class{acquireAudioInputStream(){return Promise.reject()}acquireVideoInputStream(){return Promise.reject()}acquireDisplayInputStream(m){return Promise.reject()}muteLocalAudioInputStream(){}unmuteLocalAudioInputStream(){}addMediaStreamBrokerObserver(m){}removeMediaStreamBrokerObserver(m){}},"NoOpMediaStreamBroker");c.default=S},rCkh:function(N,c,d){"use strict";Object.defineProperty(c,"__esModule",{value:!0});const S=d("r3TB"),h=d("h96U"),m=d("T44/"),f=d("5/lR");let a=o(class extends f.default{reset(){super.reset(),super.shouldPauseTiles=!1,this.videoPreferences=void 0}updateIndex(i){super.updateIndex(i);const e=m.VideoPreferences.prepare();let t=!1;const r=i.remoteStreamDescriptions();for(const l of r)e.some(p=>p.attendeeId===l.attendeeId)||(l.attendeeId.endsWith(S.default.Modality)?(e.add(new h.default(l.attendeeId,1)),t=!0):e.add(new h.default(l.attendeeId,2)));t?(this.videoPreferences=e.build(),this.videoPreferencesUpdated=!0):this.videoPreferences=void 0}chooseRemoteVideoSources(i){this.logger.error("chooseRemoteVideoSources should not be called by VideoAdaptiveProbePolicy")}constructor(i){super(i),this.logger=i,super.shouldPauseTiles=!1,this.videoPreferences=void 0}},"VideoAdaptiveProbePolicy");c.default=a},rEUf:function(N,c,d){"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.DEFAULT_VIDEO_SUBSCRIPTION_LIMIT=void 0,c.DEFAULT_VIDEO_SUBSCRIPTION_LIMIT=25;let S=o(class{resetConnectionSpecificState(){this.peer&&this.peer.close(),this.peer=null,this.previousSdpOffer=null,this.sdpOfferInit=null,this.transceiverController!==void 0&&this.transceiverController.reset(),this.indexFrame=null,this.iceCandidates=[],this.iceCandidateHandler=null,this.sdpAnswer=null,this.turnCredentials=null,this.videoDownlinkBandwidthPolicy.reset(),this.videoUplinkBandwidthPolicy.reset&&this.videoUplinkBandwidthPolicy.reset(),this.lastVideosToReceive=null,this.videoSubscriptions=null,this.videoSubscriptionLimit=c.DEFAULT_VIDEO_SUBSCRIPTION_LIMIT,this.previousSdpAnswerAsString="",this.serverSupportsCompression=!1,this.currentVideoSendCodec=void 0,this.meetingSupportedVideoSendCodecPreferences=void 0,this.videoDuplexMode=null}constructor(){this.logger=null,this.browserBehavior=null,this.meetingSessionConfiguration=null,this.signalingClient=null,this.peer=null,this.previousSdpOffer=null,this.sdpOfferInit=null,this.audioVideoController=null,this.realtimeController=null,this.videoTileController=null,this.mediaStreamBroker=null,this.activeAudioInput=void 0,this.activeVideoInput=void 0,this.audioMixController=null,this.transceiverController=null,this.indexFrame=null,this.iceCandidates=[],this.iceCandidateHandler=null,this.iceGatheringStateEventHandler=null,this.sdpAnswer=null,this.turnCredentials=null,this.reconnectController=null,this.removableObservers=[],this.audioProfile=null,this.videoStreamIndex=null,this.videoDownlinkBandwidthPolicy=null,this.videoUplinkBandwidthPolicy=null,this.lastKnownVideoAvailability=null,this.videoCaptureAndEncodeParameter=null,this.videosToReceive=null,this.lastVideosToReceive=null,this.videoSubscriptions=null,this.videoSubscriptionLimit=c.DEFAULT_VIDEO_SUBSCRIPTION_LIMIT,this.previousSdpAnswerAsString="",this.serverSupportsCompression=!1,this.videoSendCodecPreferences=[],this.currentVideoSendCodec=void 0,this.meetingSupportedVideoSendCodecPreferences=void 0,this.videosPaused=null,this.videoDuplexMode=null,this.volumeIndicatorAdapter=null,this.statsCollector=null,this.connectionMonitor=null,this.videoInputAttachedTimestampMs=0,this.audioDeviceInformation={},this.videoDeviceInformation={},this.enableSimulcast=!1,this.eventController=null,this.signalingOpenDurationMs=null,this.iceGatheringDurationMs=null,this.startAudioVideoTimestamp=null,this.attendeePresenceDurationMs=null,this.meetingStartDurationMs=null,this.poorConnectionCount=0,this.maxVideoTileCount=0,this.startTimeMs=null}},"AudioVideoControllerState");c.default=S},rIeS:function(N,c,d){"use strict";var S=c;S.Service=d("DJgg")},rLvK:function(N,c,d){"use strict";var S=this&&this.__awaiter||function(u,s,I,M){function R(B){return B instanceof I?B:new I(function(j){j(B)})}return o(R,"adopt"),new(I||(I=Promise))(function(B,j){function A(O){try{$(M.next(O))}catch(P){j(P)}}o(A,"fulfilled");function D(O){try{$(M.throw(O))}catch(P){j(P)}}o(D,"rejected");function $(O){O.done?B(O.value):R(O.value).then(A,D)}o($,"step"),$((M=M.apply(u,s||[])).next())})};Object.defineProperty(c,"__esModule",{value:!0});const h=d("XEV2"),m=d("GEtQ"),f=d("hlxM"),a=d("Sa54"),n=d("2y31"),i=d("R4Nl"),e=d("59sL"),t=d("KsuK"),r=d("2ede"),l=d("VcdL"),p=d("6qF3"),v=d("EjQB");let g=o(class bc{process(s){return S(this,void 0,void 0,function*(){return s})}fxProcess(s){return S(this,void 0,void 0,function*(){const I=s[0].asCanvasElement();this.didStreamParametersChange(I)&&(yield this.adjustProcessorForNewStreamParameters(I));try{yield this.manageSegmentationMask(I)}catch(M){throw this.logger.error(M),new Error("Video stream could not be processed")}return yield this.renderer.render(I,this.segmentationMask),s[0]=this.canvasVideoFrameBuffer,s})}noOpProcess(s){return S(this,void 0,void 0,function*(){return s})}didStreamParametersChange(s){return s.width!==this.streamParameters.width||s.height!==this.streamParameters.height}adjustProcessorForNewStreamParameters(s){return S(this,void 0,void 0,function*(){this.streamParameters.width=s.width,this.streamParameters.height=s.height,yield this.canvasOpsManager.configureForStreamParameters(this.streamParameters),yield this.renderer.configure(this.streamParameters.width,this.streamParameters.height,this.effectConfig)})}destroy(){return S(this,void 0,void 0,function*(){this.canvasVideoFrameBuffer.destroy(),this.fxLibScript&&this.fxLibScript.parentNode&&this.fxLibScript.parentNode.removeChild(this.fxLibScript),this.engineWorker&&(this.destroyedAssetsPromise=new r.DeferredPromise,this.engineWorker.postMessage({msg:p.WORKER_MSG.DESTROY_ASSETS_REQUEST}),yield this.destroyedAssetsPromise.getPromise(),this.engineWorker.postMessage({msg:p.WORKER_MSG.CLOSE_WORKER_REQUEST})),this.logger.info("VideoFxProcessor destroyed.")})}manageSegmentationMask(s){return S(this,void 0,void 0,function*(){try{if(this.segmentationRateManager.submitFrame(),this.segmentationRateManager.shouldApplySegmentation()){this.segmentationRateManager.startSegmentation();const I=this.canvasOpsManager.getInferenceInputData(s);this.segmentationMask=yield this.generateSegmentationMask(I),this.segmentationRateManager.completeSegmentation()}}catch(I){throw this.logger.error(I.toString()),new Error("Can not properly manage the returned segmentation mask")}})}generateSegmentationMask(s){return S(this,void 0,void 0,function*(){bc.isSharedArrayBufferSupported?(this.sharedImageData.set(s.data),this.engineWorker.postMessage({msg:p.WORKER_MSG.PERFORM_SEGMENTATION_SAB_REQUEST,payload:this.sharedImageBuffer})):this.engineWorker.postMessage({msg:p.WORKER_MSG.PERFORM_SEGMENTATION_REQUEST,payload:s},[s.data.buffer]);try{return yield this.segmentationRequestPromise.getPromise()}catch(I){throw this.logger.error(I.toString()),new Error("Segmentation mask could not be generated")}})}cloneConfigFrom(s){return{backgroundBlur:{isEnabled:s.backgroundBlur.isEnabled,strength:s.backgroundBlur.strength},backgroundReplacement:{isEnabled:s.backgroundReplacement.isEnabled,backgroundImageURL:s.backgroundReplacement.backgroundImageURL,defaultColor:s.backgroundReplacement.defaultColor}}}setEffectConfig(s){return S(this,void 0,void 0,function*(){if(this.sameVideoFxConfig(s,this.effectConfig))return;const I=this.cloneConfigFrom(s);try{yield this.validateEffectConfig(I)}catch(M){throw this.logger.error(M.toString()),new Error("Provided effect config is invalid, not updating VideoFxProcessor")}I.backgroundReplacement.isEnabled&&(yield this.canvasOpsManager.loadReplacementBackground(I),yield this.renderer.setBackgroundReplacementCanvas(this.canvasOpsManager.getBackgroundReplacementCanvas())),yield this.renderer.configure(this.streamParameters.width,this.streamParameters.height,I),this.effectConfig=I,!this.effectConfig.backgroundBlur.isEnabled&&!this.effectConfig.backgroundReplacement.isEnabled?this.process=this.noOpProcess:this.process=this.fxProcess,this.logger.info(`VideoFxProcessor effect configuration updated to: ${JSON.stringify(this.effectConfig)}`),this.eventController&&this.publishVideoFxConfigEvent()})}validateEffectConfig(s){return S(this,void 0,void 0,function*(){if(s.backgroundBlur.isEnabled&&s.backgroundReplacement.isEnabled)throw new Error("Invalid VideoFx configuration: Background Blur and Background Replacement can not both be enabled");s.backgroundReplacement.isEnabled&&(yield this.validateReplacementConfig(s))})}validateReplacementConfig(s){return S(this,void 0,void 0,function*(){if(s.backgroundReplacement.backgroundImageURL&&s.backgroundReplacement.defaultColor)throw new Error("Invalid VideoFx configuration: Background Replacement can not have both an image URL and default color");if(!s.backgroundReplacement.backgroundImageURL&&!s.backgroundReplacement.defaultColor)throw new Error("Invalid VideoFx configuration: Background Replacement image URL and default can not both be null/undefined");try{s.backgroundReplacement.backgroundImageURL&&(yield this.canvasOpsManager.loadImage(s.backgroundReplacement.backgroundImageURL))}catch(M){throw this.logger.error(M.toString()),new Error("Invalid VideoFx configuration: backgroundImageURL failed to load")}const I=s.backgroundReplacement.defaultColor;if(I&&I!=="black"&&I!=="#000000"&&I!=="#000"){if(I.includes("#")&&!new RegExp(/^#([A-Fa-f0-9]{6}|[A-Fa-f0-9]{3})$/).test(I))throw new Error(`Invalid hexadecimal color code for default replacement background: ${I}`);const R=document.createElement("canvas").getContext("2d"),B=R.fillStyle;if(R.fillStyle=I,R.fillStyle===B)throw new Error(`Invalid color for default replacement background: ${I}`)}})}validateProcessingBudgetPerFrame(s){if(s<p.RESOURCE_CONSTRAINTS.MIN_PROCESSING_BUDGET||s>p.RESOURCE_CONSTRAINTS.MAX_PROCESSING_BUDGET)throw new Error(`Invalid resource constraint: cycle percentage must be within range of ${p.RESOURCE_CONSTRAINTS.MIN_PROCESSING_BUDGET} and ${p.RESOURCE_CONSTRAINTS.MAX_PROCESSING_BUDGET}`)}loadAssets(){return S(this,void 0,void 0,function*(){this.logger.info("Loading required assets for the VideoFxProcessor");try{const s=this.getVideoFxAssetParams();yield this.loadEngineWorker(s),yield this.buildEngine(s),yield this.loadFxLib(s),this.renderer=constructRenderer(p.SEGMENTATION_MODEL.WIDTH_IN_PIXELS,p.SEGMENTATION_MODEL.HEIGHT_IN_PIXELS,this.effectConfig,this.outputCanvas)}catch(s){throw this.logger.error(s.toString()),new Error("Failed to load necessary assets for the VideoFxProcessor")}this.logger.info("Finished loading of essential VideoFxProcessor assets.")})}getVideoFxAssetParams(){const s=i.getDefaultAssetSpec();return{assetGroup:s.assetGroup,revisionID:s.revisionID,sdk:encodeURIComponent(e.default.sdkVersion),ua:encodeURIComponent(e.default.sdkUserAgentLowResolution)}}getPathFromVideoFxAssetParams(s,I){const M=new URL(s);for(const[R,B]of Object.entries(I))if(B!==void 0){const j=encodeURIComponent(R),A=encodeURIComponent(B);M.searchParams.set(j,A)}return M.toString()}loadEngineWorker(s){return S(this,void 0,void 0,function*(){try{const I=this.getPathFromVideoFxAssetParams(p.CDN_BASE_PATH+p.WORKER_PATH,s);this.engineWorker=yield m.loadWorker(I,"VideoFxEngineWorker",{},null),this.logger.info("Successfully loaded the VideoFxProcessor's engine worker"),this.engineWorker.addEventListener("message",M=>this.engineWorkerReceiver(M))}catch(I){throw this.logger.error(I.toString()),new Error("Failed to load the VideoFxProcessor's engine worker")}})}buildEngine(s){return S(this,void 0,void 0,function*(){this.buildEnginePromise=new r.DeferredPromise,this.engineWorker.postMessage({msg:p.WORKER_MSG.BUILD_ENGINE_REQUEST,payload:{cdnBasePath:p.CDN_BASE_PATH,sdkVersioningParams:s}});try{yield this.buildEnginePromise.getPromise()}catch(I){throw this.logger.error(I.toString()),new Error("Failed to instantiate the VideoFxEngine")}})}loadFxLib(s){return S(this,void 0,void 0,function*(){const I=this.getPathFromVideoFxAssetParams(p.CDN_BASE_PATH+p.FXLIB_PATH,s),M={method:"GET",mode:"cors",credentials:"omit",redirect:"follow",referrerPolicy:"no-referrer"};try{const R=yield h.fetchWithBehavior(I,M,{});if(!R.ok)throw new Error("Fetch failed.");const B=window.URL.createObjectURL(yield R.blob());yield new Promise((j,A)=>{this.fxLibScript=document.createElement("script"),this.fxLibScript.setAttribute("src",B),this.fxLibScript.setAttribute("type","module"),this.fxLibScript.setAttribute("async","false"),this.fxLibScript.addEventListener("load",j),this.fxLibScript.addEventListener("error",A),document.body.appendChild(this.fxLibScript)})}catch(R){throw this.logger.error(R.toString()),new Error("Failed to load the fxlib")}})}getEffectConfig(){return this.cloneConfigFrom(this.effectConfig)}engineWorkerReceiver(s){const I=s.data;switch(I.msg){case p.WORKER_MSG.BUILD_ENGINE_RESPONSE:this.settleEngineBuildPromise(I.payload);break;case p.WORKER_MSG.PERFORM_SEGMENTATION_RESPONSE:this.settleSegmentationPromise(I.payload.output);break;case p.WORKER_MSG.PERFORM_SEGMENTATION_SAB_RESPONSE:this.settleSegmentationPromiseSAB();break;case p.WORKER_MSG.DESTROY_ASSETS_RESPONSE:this.destroyedAssetsPromise.resolvePromise();break;default:this.logger.info(`VideoFx worker received unknown event msg: ${JSON.stringify(I)}`);break}}settleEngineBuildPromise(s){s!==p.SEGMENTATION_MODEL.LOAD_SUCCESS?this.buildEnginePromise.rejectPromise(new Error("Failed to build VideoFxProcessor's engine")):(this.logger.info("Successfully built the VideoFxEngine"),this.buildEnginePromise.resolvePromise())}settleSegmentationPromise(s){s?this.segmentationRequestPromise.resolveAndReplacePromise(s):this.segmentationRequestPromise.rejectAndReplacePromise(new Error("Failed to perform a segmentation on the input image"))}settleSegmentationPromiseSAB(){try{const s=new ImageData(new Uint8ClampedArray(this.sharedImageData),p.SEGMENTATION_MODEL.WIDTH_IN_PIXELS,p.SEGMENTATION_MODEL.HEIGHT_IN_PIXELS);this.segmentationRequestPromise.resolveAndReplacePromise(s)}catch{this.segmentationRequestPromise.rejectAndReplacePromise(new Error("Failed to perform a segmentation with a shared array buffer on the input image"))}}setToNoOpProcess(){this.process=this.noOpProcess}static isSupported(){let s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:new n.default,I=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return S(this,void 0,void 0,function*(){let M=!0;const R=o((A,D)=>{A&&(s.info(D),M=!1)},"checkEnv");R(typeof globalThis>"u","Browser does not have globalThis."),R(!f.supportsWorker(globalThis,s),"Browser does not support web workers."),R(!f.supportsWASM(globalThis,s),"Browser does not support wasm."),R(!document.createElement("canvas").getContext("webgl2"),"Browser does not support webgl.");const B=new a.default;R(!B.isVideoFxSupportedBrowser(),"Browser is unsupported for VideoFxProcessor");const j=o(()=>S(this,void 0,void 0,function*(){if(I)try{const A=new bc(s);yield A.loadAssets(),yield A.destroy()}catch{return s.info("Browser environment is unable to access the required external assets."),Promise.resolve(!1)}return Promise.resolve(!0)}),"checkProcessor");return Promise.resolve(M?yield j():!1)})}static create(s,I){let M=arguments.length>2&&arguments[2]!==void 0?arguments[2]:p.RESOURCE_CONSTRAINTS.DEFAULT_PROCESSING_BUDGET_PER_FRAME;return S(this,void 0,void 0,function*(){const R=new bc(s,M);try{return yield R.loadAssets(),yield R.setEffectConfig(I),R}catch(B){throw s.error(B.toString()),R.setToNoOpProcess(),new Error("VideoFxProcessor built with support for only NoOp processing")}})}setEventController(s){this.eventController?this.eventController=s:(this.eventController=s,this.publishVideoFxConfigEvent())}publishVideoFxConfigEvent(){const s={backgroundBlurEnabled:this.effectConfig.backgroundBlur.isEnabled.toString(),backgroundBlurStrength:this.effectConfig.backgroundBlur.strength,backgroundReplacementEnabled:this.effectConfig.backgroundReplacement.isEnabled.toString(),backgroundFilterVersion:2};this.eventController.publishEvent("backgroundFilterConfigSelected",s)}sameVideoFxConfig(s,I){return s.backgroundBlur.isEnabled===I.backgroundBlur.isEnabled&&s.backgroundBlur.strength===I.backgroundBlur.strength&&s.backgroundReplacement.backgroundImageURL===I.backgroundReplacement.backgroundImageURL&&s.backgroundReplacement.defaultColor===I.backgroundReplacement.defaultColor&&s.backgroundReplacement.isEnabled===I.backgroundReplacement.isEnabled}constructor(s,I=p.RESOURCE_CONSTRAINTS.DEFAULT_PROCESSING_BUDGET_PER_FRAME,M){this.logger=s,this.outputCanvas=document.createElement("canvas"),this.canvasVideoFrameBuffer=new t.default(this.outputCanvas);try{this.validateProcessingBudgetPerFrame(I)}catch(R){throw this.logger.error(R),new Error(`Cannot instantiate VideoFxProcessor due to invalid processingBudgetPerFrame of ${I}`)}M&&(this.eventController=M),this.effectConfig={backgroundBlur:{isEnabled:!1,strength:"low"},backgroundReplacement:{isEnabled:!1,backgroundImageURL:null,defaultColor:"black"}},this.segmentationRequestPromise=new r.DeferredPromise,this.segmentationRateManager=new v.VideoFxSegmentationRateManager(this.logger,I),this.streamParameters={framerate:p.DEFAULT_STREAM_PARAMETERS.FRAMES_PER_SECOND,width:p.DEFAULT_STREAM_PARAMETERS.WIDTH_IN_PIXEL,height:p.DEFAULT_STREAM_PARAMETERS.HEIGHT_IN_PIXEL,channels:p.DEFAULT_STREAM_PARAMETERS.CHANNEL_COUNT},bc.isSharedArrayBufferSupported&&(this.sharedImageBuffer=new SharedArrayBuffer(p.SEGMENTATION_MODEL.WIDTH_IN_PIXELS*p.SEGMENTATION_MODEL.HEIGHT_IN_PIXELS*this.streamParameters.channels),this.sharedImageData=new Uint8ClampedArray(this.sharedImageBuffer)),this.logger.info(`VideoFx supports Shared Array Buffer: ${bc.isSharedArrayBufferSupported}`),this.canvasOpsManager=new l.VideoFxCanvasOpsManager(this.streamParameters,this.outputCanvas),this.outputCanvas.width=this.streamParameters.width,this.outputCanvas.height=this.streamParameters.height,this.segmentationMask=new ImageData(this.streamParameters.width,this.streamParameters.height),this.logger.info(`VideoFxProcessor instantiated with a processingBudgetPerFrame of ${I}`)}},"VideoFxProcessor");c.default=g,g.isSharedArrayBufferSupported=typeof SharedArrayBuffer<"u"},rU8T:function(N,c,d){"use strict";Object.defineProperty(c,"__esModule",{value:!0})},raQ4:function(N,c,d){"use strict";var S=this&&this.__awaiter||function(a,n,i,e){function t(r){return r instanceof i?r:new i(function(l){l(r)})}return o(t,"adopt"),new(i||(i=Promise))(function(r,l){function p(u){try{g(e.next(u))}catch(s){l(s)}}o(p,"fulfilled");function v(u){try{g(e.throw(u))}catch(s){l(s)}}o(v,"rejected");function g(u){u.done?r(u.value):t(u.value).then(p,v)}o(g,"step"),g((e=e.apply(a,n||[])).next())})};Object.defineProperty(c,"__esModule",{value:!0});const h=d("CmE0"),m=d("3ZJV");let f=o(class Wh extends h.default{setImageBlob(n){return S(this,void 0,void 0,function*(){this.replacementBlob=n,this.replacementImage=yield Wh.loadImage(this.createReplacementObjectUrl())})}initOnFirstExecution(){}drawImageWithMask(n,i){i||(i=new ImageData(this.spec.model.input.width,this.spec.model.input.height)),this.scaledCanvas.getContext("2d").putImageData(i,0,0);const{canvasCtx:t,targetCanvas:r}=this,{width:l,height:p}=r;t.save(),t.clearRect(0,0,l,p),t.drawImage(this.scaledCanvas,0,0,l,p),t.globalCompositeOperation="source-in",t.drawImage(n,0,0,l,p),t.globalCompositeOperation="destination-over",t.drawImage(this.replacementImage,0,0,r.width,r.height),t.restore()}static loadImageExecutor(n,i,e){const t=new Image;t.crossOrigin="Anonymous",t.addEventListener("load",()=>{n(t)},!1),t.addEventListener("error",r=>{i(new Error(`Could not load replacement image ${t.src}: ${r.message}`))},!1),t.src=e}static loadImage(n){return S(this,void 0,void 0,function*(){return new Promise((i,e)=>this.loadImageExecutor(i,e,n))})}revokeReplacementObjectUrl(){this.replacementObjectUrl&&URL.revokeObjectURL(this.replacementObjectUrl)}createReplacementObjectUrl(){return this.revokeReplacementObjectUrl(),this.replacementObjectUrl=URL.createObjectURL(this.replacementBlob),this.replacementObjectUrl}loadAssets(){const n=Object.create(null,{loadAssets:{get:()=>super.loadAssets}});return S(this,void 0,void 0,function*(){this.replacementImage=yield Wh.loadImage(this.createReplacementObjectUrl()),n.loadAssets.call(this)})}addObserver(n){this.delegate.addObserver(n)}removeObserver(n){this.delegate.removeObserver(n)}destroy(){const n=Object.create(null,{destroy:{get:()=>super.destroy}});return S(this,void 0,void 0,function*(){n.destroy.call(this),this.revokeReplacementObjectUrl()})}setEventController(n){this.eventController?this.eventController=n:(this.eventController=n,this.publishBackgroundFilterEvent())}publishBackgroundFilterEvent(){const n={backgroundBlurEnabled:"false",backgroundBlurStrength:"low",backgroundReplacementEnabled:"true",backgroundFilterVersion:1};this.eventController.publishEvent("backgroundFilterConfigSelected",n)}constructor(n,i){super("background replacement",n,i,new m.default),this.replacementBlob=i.imageBlob,this.logger.info("BackgroundReplacement processor successfully created"),this.logger.info(`BackgroundReplacement spec: ${this.stringify(this.spec)}`),this.logger.info(`BackgroundReplacement options: ${this.stringify(i)}`)}},"BackgroundReplacementFilter");c.default=f},rbNI:function(N,c,d){"use strict";Object.defineProperty(c,"__esModule",{value:!0});let S=o(class{constructor(){this.attendeeIndex=null,this.attendeesInFrame=null}},"RealtimeAttendeePositionInFrame");c.default=S},rcF0:function(N,c,d){"use strict";Object.defineProperty(c,"__esModule",{value:!0});const S=d("JTre");let h=o(class{makeTile(f,a,n,i){return new S.default(f,a,n,i)}},"DefaultVideoTileFactory");c.default=h},reWd:function(N,c,d){"use strict";(function(S){var h=this&&this.__awaiter||function(i,e,t,r){function l(p){return p instanceof t?p:new t(function(v){v(p)})}return o(l,"adopt"),new(t||(t=Promise))(function(p,v){function g(I){try{s(r.next(I))}catch(M){v(M)}}o(g,"fulfilled");function u(I){try{s(r.throw(I))}catch(M){v(M)}}o(u,"rejected");function s(I){I.done?p(I.value):l(I.value).then(g,u)}o(s,"step"),s((r=r.apply(i,e||[])).next())})};Object.defineProperty(c,"__esModule",{value:!0});const m=d("BkFD"),f=d("KCGh"),a=d("mlaT");let n=o(class Gh{addEventListener(){!this.eventListener||!("window"in S)||!window.addEventListener||window.addEventListener("unload",this.eventListener)}removeEventListener(){!this.eventListener||!("window"in S)||!window.removeEventListener||window.removeEventListener("unload",this.eventListener)}debug(e){a.default.DEBUG<this.logLevel||(typeof e=="string"?this.log(a.default.DEBUG,e):e?this.log(a.default.DEBUG,e()):this.log(a.default.DEBUG,""+e))}info(e){this.log(a.default.INFO,e)}warn(e){this.log(a.default.WARN,e)}error(e){this.log(a.default.ERROR,e)}setLogLevel(e){this.logLevel=e}getLogLevel(){return this.logLevel}getLogCaptureSize(){return this.logCapture.length}start(){this.addEventListener(),this.intervalScheduler=new m.default(this.intervalMs),this.intervalScheduler.start(()=>h(this,void 0,void 0,function*(){if(this.lock===!0||this.getLogCaptureSize()===0)return;this.lock=!0;const e=this.logCapture.slice(0,this.batchSize),t=this.makeRequestBody(e);try{(yield fetch(this.url,Object.assign({method:"POST",body:t},this.headers?{headers:this.headers}:{}))).status===200&&(this.logCapture=this.logCapture.slice(e.length))}catch(r){console.warn("[POSTLogger] "+r.message)}finally{this.lock=!1}}))}stop(){var e;(e=this.intervalScheduler)===null||e===void 0||e.stop(),this.intervalScheduler=void 0,this.removeEventListener();const t=this.makeRequestBody(this.logCapture);navigator.sendBeacon(this.url,t)}destroy(){return h(this,void 0,void 0,function*(){this.stop(),this.metadata=void 0,this.headers=void 0,this.logCapture=[],this.sequenceNumber=0,this.lock=!1,this.batchSize=0,this.intervalMs=0,this.url=void 0})}makeRequestBody(e){return JSON.stringify(Object.assign(Object.assign({},this.metadata),{logs:e}))}log(e,t){if(e<this.logLevel)return;const r=Date.now();this.logCapture.push(new f.default(this.sequenceNumber,t,r,a.default[e])),this.sequenceNumber+=1}constructor(e){this.logCapture=[],this.lock=!1,this.sequenceNumber=0;const{url:t,batchSize:r=Gh.BATCH_SIZE,intervalMs:l=Gh.INTERVAL_MS,logLevel:p=a.default.WARN,metadata:v,headers:g}=e;this.url=t,this.batchSize=r,this.intervalMs=l,this.logLevel=p,this.metadata=v,this.headers=g,this.start(),this.eventListener=()=>{this.stop()},this.addEventListener()}},"POSTLogger");c.default=n,n.BATCH_SIZE=85,n.INTERVAL_MS=2e3}).call(this,d("yLpj"))},rfXi:function(N,c,d){N.exports={default:d("myGB"),__esModule:!0}},rhlI:function(N,c,d){"use strict";Object.defineProperty(c,"__esModule",{value:!0});let S=o(class Bl{static isTimestampRecent(m,f){return Date.now()<m+f}setConnectionStartTime(){this.connectionStartTimestampMs=Date.now(),this.lastGoodSignalTimestampMs=Date.now()}reset(){this.connectionStartTimestampMs=0,this.consecutiveStatsWithNoPackets=0,this.consecutiveStatsWithNoAudioPacketsSent=0,this.lastPacketLossInboundTimestampMs=0,this.lastGoodSignalTimestampMs=0,this.lastWeakSignalTimestampMs=0,this.lastNoSignalTimestampMs=0,this.consecutiveMissedPongs=0,this.packetsReceivedInLastMinute=[],this.fractionPacketsLostInboundInLastMinute=[],this.audioSpeakerDelayMs=0,this.connectionStartTimestampMs=Date.now(),this.lastGoodSignalTimestampMs=Date.now()}isConnectionStartRecent(m){return Bl.isTimestampRecent(this.connectionStartTimestampMs,m)}isLastPacketLossRecent(m){return Bl.isTimestampRecent(this.lastPacketLossInboundTimestampMs,m)}isGoodSignalRecent(m){return Bl.isTimestampRecent(this.lastGoodSignalTimestampMs,m)}isWeakSignalRecent(m){return Bl.isTimestampRecent(this.lastWeakSignalTimestampMs,m)}isNoSignalRecent(m){return Bl.isTimestampRecent(this.lastNoSignalTimestampMs,m)}clone(){const m=new Bl;return m.connectionStartTimestampMs=this.connectionStartTimestampMs,m.consecutiveStatsWithNoPackets=this.consecutiveStatsWithNoPackets,m.consecutiveStatsWithNoAudioPacketsSent=this.consecutiveStatsWithNoAudioPacketsSent,m.lastPacketLossInboundTimestampMs=this.lastPacketLossInboundTimestampMs,m.lastGoodSignalTimestampMs=this.lastGoodSignalTimestampMs,m.lastWeakSignalTimestampMs=this.lastWeakSignalTimestampMs,m.lastNoSignalTimestampMs=this.lastNoSignalTimestampMs,m.consecutiveMissedPongs=this.consecutiveMissedPongs,m.packetsReceivedInLastMinute=this.packetsReceivedInLastMinute.slice(0),m.fractionPacketsLostInboundInLastMinute=this.fractionPacketsLostInboundInLastMinute.slice(0),m.audioSpeakerDelayMs=this.audioSpeakerDelayMs,m}setConsecutiveMissedPongs(m){this.consecutiveMissedPongs=m}setConsecutiveStatsWithNoPackets(m){this.consecutiveStatsWithNoPackets=m}setConsecutiveStatsWithNoAudioPacketsSent(m){this.consecutiveStatsWithNoAudioPacketsSent=m}setLastPacketLossInboundTimestampMs(m){this.lastPacketLossInboundTimestampMs=m}setLastNoSignalTimestampMs(m){this.lastNoSignalTimestampMs=m}setLastWeakSignalTimestampMs(m){this.lastWeakSignalTimestampMs=m}setLastGoodSignalTimestampMs(m){this.lastGoodSignalTimestampMs=m}setAudioSpeakerDelayMs(m){this.audioSpeakerDelayMs=m}constructor(){this.connectionStartTimestampMs=0,this.consecutiveStatsWithNoPackets=0,this.consecutiveStatsWithNoAudioPacketsSent=0,this.lastPacketLossInboundTimestampMs=0,this.lastGoodSignalTimestampMs=0,this.lastWeakSignalTimestampMs=0,this.lastNoSignalTimestampMs=0,this.consecutiveMissedPongs=0,this.packetsReceivedInLastMinute=[],this.fractionPacketsLostInboundInLastMinute=[],this.audioSpeakerDelayMs=0,this.connectionStartTimestampMs=Date.now(),this.lastGoodSignalTimestampMs=Date.now()}},"ConnectionHealthData");c.default=S},riOr:function(N,c,d){"use strict";var S=this&&this.__awaiter||function(f,a,n,i){function e(t){return t instanceof n?t:new n(function(r){r(t)})}return o(e,"adopt"),new(n||(n=Promise))(function(t,r){function l(g){try{v(i.next(g))}catch(u){r(u)}}o(l,"fulfilled");function p(g){try{v(i.throw(g))}catch(u){r(u)}}o(p,"rejected");function v(g){g.done?t(g.value):e(g.value).then(l,p)}o(v,"step"),v((i=i.apply(f,a||[])).next())})};Object.defineProperty(c,"__esModule",{value:!0});const h=d("OND3");let m=o(class zd extends h.default{setEncodingParameters(a){return S(this,void 0,void 0,function*(){if(!this._localCameraTransceiver||this._localCameraTransceiver.direction!=="sendrecv")return;const n=this._localCameraTransceiver.sender,i=Array.from(a.values());if(i.length<=0)return;const e=n.getParameters();if(!e.encodings)e.encodings=i;else for(let t=0;t<e.encodings.length;t++)e.encodings[t].rid===h.default.LOW_LEVEL_NAME&&this.copyEncodingParams(a.get(h.default.LOW_LEVEL_NAME),e.encodings[t]),e.encodings[t].rid===h.default.HIGH_LEVEL_NAME&&this.copyEncodingParams(a.get(h.default.HIGH_LEVEL_NAME),e.encodings[t]);yield n.setParameters(e),this.logVideoTransceiverParameters()})}constructor(a,n){super(a,n);let i=2;this.videoQualityControlParameterMap=new Map;for(let e=0;e<zd.NAME_ARR_ASCENDING.length;e++){const t=zd.NAME_ARR_ASCENDING[e];this.videoQualityControlParameterMap.set(t,{rid:t,scaleResolutionDownBy:i,maxBitrate:zd.BITRATE_ARR_ASCENDING[e]*1e3}),i=i/2}}},"SimulcastContentShareTransceiverController");c.default=m,m.NAME_ARR_ASCENDING=["low","hi"],m.BITRATE_ARR_ASCENDING=[300,1200]},riVe:function(N,c,d){"use strict";var S=this&&this.__awaiter||function(R,B,j,A){function D($){return $ instanceof j?$:new j(function(O){O($)})}return o(D,"adopt"),new(j||(j=Promise))(function($,O){function P(Z){try{K(A.next(Z))}catch(Y){O(Y)}}o(P,"fulfilled");function k(Z){try{K(A.throw(Z))}catch(Y){O(Y)}}o(k,"rejected");function K(Z){Z.done?$(Z.value):D(Z.value).then(P,k)}o(K,"step"),K((A=A.apply(R,B||[])).next())})};Object.defineProperty(c,"__esModule",{value:!0}),c.decideModel=c.measureAndDecideExecutionApproach=void 0;const h=d("GEtQ"),m=d("hlxM"),f=3,a=2.5,n=2.63,i=.6,e=.65,t=.5,r=.7,l={wasm:{noSupport:.07,inline:{c100:1,c50:.36,c20:.16,c10:.07},worker:{c100:.5,c50:.18,c20:.08,c10:.06}},simd:{noSupport:.1,inline:{c100:1,c50:.43,c20:.3,c10:.2},worker:{c100:.5,c50:.21,c20:.15,c10:.1}}};let p=o(class{roundtrip(B,j,A){return new Promise((D,$)=>{this.worker.then(O=>{let P;P=o(k=>{const{message:K,key:Z}=k.data;K===j&&Z===A&&(O.removeEventListener("message",P),D(k.data))},"listener"),O.addEventListener("message",P),O.postMessage(B)}).catch(O=>{var P;(P=this.logger)===null||P===void 0||P.error("Failed to load worker.",O),$(O)})})}supportsSIMD(B){const j="simd",A=B||`${this.fetchConfig.paths.wasm}simd-v1.wasm`,D={message:"supports-simd",fetchBehavior:this.fetchBehavior,path:A,key:j};return this.roundtrip(D,"simd-support",j).then($=>$.supports)}measure(B,j){const A=`${this.fetchConfig.paths.wasm}bench-v1.wasm`,D=`${this.fetchConfig.paths.wasm}bench-v1_simd.wasm`,$=B?D:A,O=`bench:${B}`,P={message:"measure",fetchBehavior:this.fetchBehavior,budget:j,path:$,key:O};return this.roundtrip(P,"measurement",O).then(k=>{if(k.measurement)return k.measurement;throw new Error("Failed to measure.")})}stop(){this.worker.then(B=>{var j;(j=this.logger)===null||j===void 0||j.debug("Stopping estimator worker."),B.terminate()}).catch(B=>{})}constructor(B,j){this.fetchConfig=B,this.logger=j;const A=`${B.paths.workers}estimator-v1.js`;this.fetchBehavior={headers:B.headers,escapedQueryString:B.escapedQueryString},this.worker=h.loadWorker(A,"VoiceFocusEstimator",this.fetchBehavior,j)}},"Estimator");const v=o((R,B)=>R===1?i:B==="quality"?e*R:t*R,"inlineScoreMultiplier"),g=o(function(R){let{supportsSIMD:B,supportsSAB:j,duration:A,executionPreference:D="auto",simdPreference:$,variantPreference:O="auto",namePreference:P="default",usagePreference:k,executionQuantaPreference:K=f}=R,Z=arguments.length>1&&arguments[1]!==void 0?arguments[1]:l,Y=arguments.length>2?arguments[2]:void 0;const ge=$==="force"||$!=="disable"&&B,Ie=A!==-1,le=Ie?(ge?a:n)/A:0,we=ge?Z.simd:Z.wasm,Be=Ie?v(K,k)*le:0,Re=Ie?r*le:0,Ne=P,_e=o(at=>({supported:!1,reason:at}),"unsupported");if(Ie){if(le<we.noSupport)return _e(`Performance score ${le} worse than threshold ${we.noSupport}.`)}else if(D==="auto"||O==="auto")return _e(`Missing explicit execution (${D}) or variant (${O}) preference, but no scoring performed.`);Y==null||Y.debug(`Bench duration ${A} yields inline score ${Be} and worker score ${Re}.`);const Ze=o((at,lt,ot)=>({supported:!0,useSIMD:ge,processor:at,executionApproach:lt,variant:ot,executionQuanta:lt==="inline"?K:void 0,name:Ne}),"succeed"),tt=o((at,lt,ot)=>lt!=="auto"?!Ie||at>ot[lt]?lt:"failed":at>ot.c100?"c100":at>ot.c50?"c50":at>ot.c20?"c20":at>ot.c10?"c10":"failed","resolveVariant"),$e=o(at=>{switch(at||"auto"){case"auto":{let lt=$e("inline"),ot=$e("worker");return Y==null||Y.debug(`Reducing auto preference: ${JSON.stringify(lt)} vs ${JSON.stringify(ot)}`),lt.supported===!1||ot.supported===!1?ot:lt.variant===ot.variant||lt.variant==="c50"?lt:ot}case"worker":return m.supportsSharedArrayBuffer(globalThis,window,Y)?$e("worker-sab"):$e("worker-postMessage");case"inline":{const lt=tt(Be,O,we.inline);return lt==="failed"?_e(`Performance score ${Be} not sufficient for inline use with variant preference ${O}.`):Ze("voicefocus-inline-processor","inline",lt)}case"worker-sab":{if(!j){const ot="Requested worker-sab but no SharedArrayBuffer support.";return Y==null||Y.warn(ot),{supported:!1,reason:ot}}const lt=tt(Re,O,we.worker);return lt==="failed"?_e(`Performance score ${Re} not sufficient for worker use with variant preference ${O}.`):Ze("voicefocus-worker-sab-processor","worker-sab",lt)}case"worker-postMessage":{const lt=tt(Re,O,we.worker);if(lt==="failed")return _e(`Performance score ${Re} not sufficient for worker use.`);if(Ne==="ns_es"){const ot="Requested echo suppression but postMessage executor does not support it.";return Y==null||Y.warn(ot),{supported:!1,reason:ot}}return Ze("voicefocus-worker-postMessage-processor","worker-postMessage",lt)}}},"reducePreference");return $e(D)},"decideExecutionApproach"),u=o((R,B,j,A)=>S(void 0,void 0,void 0,function*(){const D={supportsSIMD:R,supportsSAB:m.supportsSharedArrayBuffer(globalThis,window,j),duration:-1};if(R)return j==null||j.info("Supports SIMD: true (force)"),D;const $=!A,O=A||new p(B,j);try{const P=!m.isOldChrome(window,j)&&(yield O.supportsSIMD());return j==null||j.info(`Supports SIMD: ${P} (force: ${R})`),D.supportsSIMD=P,D}finally{$&&O.stop()}}),"featureCheck"),s=o((R,B,j,A)=>S(void 0,void 0,void 0,function*(){const D=new p(B,A);try{const $=yield u(R,B,A,D);if($.supportsSIMD)try{return $.duration=yield D.measure(!0,j),A==null||A.info("SIMD timing:",$.duration),$}catch{A==null||A.warn("Failed SIMD estimation; falling back to non-SIMD."),$.supportsSIMD=!1}return $.duration=yield D.measure(!1,j),A==null||A.info("No-SIMD timing:",$.duration),$}catch($){throw A==null||A.error("Could not feature check.",$),$}finally{D.stop()}}),"estimateAndFeatureCheck"),I=o(function(R,B,j){let A=arguments.length>3&&arguments[3]!==void 0?arguments[3]:l;return S(void 0,void 0,void 0,function*(){let D=R.executionPreference;const{usagePreference:$,variantPreference:O,namePreference:P,simdPreference:k,estimatorBudget:K,executionQuantaPreference:Z}=R;$==="interactivity"&&D!=="inline"&&(j==null||j.debug(`Overriding execution preference ${D} to reflect interactivity preference.`),D="inline");const Y=k==="force",ie=O!=="auto",ge=D!=="auto";let Ie;try{ie&&ge?Ie=yield u(Y,B,j):Ie=yield s(Y,B,K,j)}catch(le){throw j==null||j.error("Could not load estimator.",le),new Error("Could not load Voice Focus estimator.")}return g(Object.assign(Object.assign({},Ie),{simdPreference:k,executionPreference:D,variantPreference:O,namePreference:P,usagePreference:$,executionQuantaPreference:Z}),A,j)})},"measureAndDecideExecutionApproach");c.measureAndDecideExecutionApproach=I;const M=o(R=>{let{category:B,name:j,variant:A,simd:D,url:$}=R;return`${B}-${j}-${A}-v1${D?"_simd":""}`},"decideModel");c.decideModel=M},rkwE:function(N,c,d){"use strict";var S=this&&this.__awaiter||function(f,a,n,i){function e(t){return t instanceof n?t:new n(function(r){r(t)})}return o(e,"adopt"),new(n||(n=Promise))(function(t,r){function l(g){try{v(i.next(g))}catch(u){r(u)}}o(l,"fulfilled");function p(g){try{v(i.throw(g))}catch(u){r(u)}}o(p,"rejected");function v(g){g.done?t(g.value):e(g.value).then(l,p)}o(v,"step"),v((i=i.apply(f,a||[])).next())})};Object.defineProperty(c,"__esModule",{value:!0});const h=d("j+uH");let m=o(class extends h.default{run(){var a,n;return S(this,void 0,void 0,function*(){if(!(!((n=(a=this.context.meetingSessionConfiguration)===null||a===void 0?void 0:a.urls)===null||n===void 0)&&n.audioHostURL)){this.context.logger.info("No audio connection: not acquiring audio input");return}if(this.context.activeAudioInput){this.context.logger.info("an active audio input exists");return}let i;try{i=yield this.context.mediaStreamBroker.acquireAudioInputStream()}catch{this.context.logger.warn("could not acquire audio input from current device")}i?this.context.activeAudioInput=i:this.context.logger.warn("an audio input is not available")})}constructor(a){super(a.logger),this.context=a,this.taskName="ReceiveAudioInputTask"}},"ReceiveAudioInputTask");c.default=m},rw3l:function(N,c,d){"use strict";var S=this&&this.__awaiter||function(r,l,p,v){function g(u){return u instanceof p?u:new p(function(s){s(u)})}return o(g,"adopt"),new(p||(p=Promise))(function(u,s){function I(B){try{R(v.next(B))}catch(j){s(j)}}o(I,"fulfilled");function M(B){try{R(v.throw(B))}catch(j){s(j)}}o(M,"rejected");function R(B){B.done?u(B.value):g(B.value).then(I,M)}o(R,"step"),R((v=v.apply(r,l||[])).next())})};Object.defineProperty(c,"__esModule",{value:!0});const h=d("ZS2b"),m=d("ppUg"),f=d("CAce"),a=d("HbHZ"),n=d("XCDq"),i=d("Aplu"),e=d("j+uH");let t=o(class extends e.default{removeObserver(){this.context.signalingClient.removeObserver(this)}run(){return S(this,void 0,void 0,function*(){this.handleIndexFrame(this.context.indexFrame),this.context.signalingClient.registerObserver(this),this.context.removableObservers.push(this)})}handleSignalingClientEvent(l){if(l.type!==a.default.ReceivedSignalFrame||l.message.type!==n.SdkSignalFrame.Type.INDEX)return;const p=l.message.index;this.context.logger.info(`received new index ${JSON.stringify(p)}`),this.handleIndexFrame(p)}pauseIngestion(){this.isIngestionPaused=!0}resumeIngestion(){this.isIngestionPaused&&(this.isIngestionPaused=!1,this.pendingIndex&&(this.context.logger.info("Resuming index ingestion with pending index"),this.handleIndexFrame(this.pendingIndex)))}handleIndexFrame(l){if(!l)return;if(this.isIngestionPaused){this.context.logger.info("Index ingestion is paused, setting most recent index as pending"),this.pendingIndex=l;return}else this.pendingIndex=null;const p=this.context.audioVideoController.configuration.credentials.attendeeId;l.sources=l.sources.filter(M=>{const R=new m.default(M.attendeeId);return!(R.base()===p&&R.hasModality(m.default.MODALITY_CONTENT))});const{videoStreamIndex:v,videoDownlinkBandwidthPolicy:g,videoUplinkBandwidthPolicy:u}=this.context,s=v.allVideoSendingSourcesExcludingSelf(p);v.integrateIndexFrame(l),g.updateIndex(v),u.updateIndex(v),this.resubscribe(g,u),this.updateVideoAvailability(l),this.handleIndexVideosPausedAtSource(),l.supportedReceiveCodecIntersection.length>0&&this.handleSupportedVideoReceiveCodecIntersection(l);const I=v.allVideoSendingSourcesExcludingSelf(p);this.areVideoSourcesEqual(s,I)||this.context.audioVideoController.forEachObserver(M=>{i.Maybe.of(M.remoteVideoSourcesDidChange).map(R=>R.bind(M)(I))})}areVideoSourcesEqual(l,p){if(l.length!==p.length)return!1;const v=o((s,I)=>s.attendee.attendeeId.localeCompare(I.attendee.attendeeId),"compare"),g=[...l].sort(v),u=[...p].sort(v);for(let s=0;s<g.length;s++)if(g[s].attendee.attendeeId!==u[s].attendee.attendeeId)return!1;return!0}resubscribe(l,p){const v=l.wantsResubscribe(),g=(this.context.videoDuplexMode===n.SdkStreamServiceType.TX||this.context.videoDuplexMode===n.SdkStreamServiceType.DUPLEX)&&p.wantsResubscribe(),u=v||g;if(this.logger.info(`should resubscribe: ${u} (downlink: ${v} uplink: ${g})`),!u)return;const s=l.chooseSubscriptions();this.context.videosToReceive=s.truncate(this.context.videoSubscriptionLimit),s.size()>this.context.videosToReceive.size()&&this.logger.warn(`Video receive limit exceeded. Limiting the videos to ${this.context.videosToReceive.size()}. Please consider using AllHighestVideoBandwidthPolicy or VideoPriorityBasedPolicy along with chooseRemoteVideoSources api to select the video sources to be displayed.`),this.context.videoCaptureAndEncodeParameter=p.chooseCaptureAndEncodeParameters(),this.logger.info(`trigger resubscribe for up=${g} down=${v}; videosToReceive=[${this.context.videosToReceive.array()}] captureParams=${JSON.stringify(this.context.videoCaptureAndEncodeParameter)}`),this.context.audioVideoController.update({needsRenegotiation:!1})}updateVideoAvailability(l){if(!this.context.videosToReceive){this.logger.error("videosToReceive must be set in the meeting context.");return}const p=new h.default;p.remoteVideoAvailable=!this.context.videosToReceive.empty(),p.canStartLocalVideo=!l.atCapacity,(!this.context.lastKnownVideoAvailability||!this.context.lastKnownVideoAvailability.equal(p))&&(this.context.lastKnownVideoAvailability=p.clone(),this.context.audioVideoController.forEachObserver(v=>{i.Maybe.of(v.videoAvailabilityDidChange).map(g=>g.bind(v)(p.clone()))}))}handleSupportedVideoReceiveCodecIntersection(l){if(this.context.videoSendCodecPreferences===void 0)return;const p=[];let v=!1;for(const g of this.context.videoSendCodecPreferences){let u=!1;for(const s of l.supportedReceiveCodecIntersection)if(g.equals(f.default.fromSignaled(s))){u=!0,p.push(g);break}this.context.currentVideoSendCodec!==void 0&&!u&&g.equals(this.context.currentVideoSendCodec)&&(v=!0)}p.length>0?this.context.meetingSupportedVideoSendCodecPreferences=p:(this.logger.warn("Interesection of meeting receive codec support and send codec preferences has no overlap, falling back to just values provided in `setVideoCodecSendPreferences`"),this.context.meetingSupportedVideoSendCodecPreferences=void 0),v&&this.context.audioVideoController.update({needsRenegotiation:!0})}handleIndexVideosPausedAtSource(){const l=this.context.videoStreamIndex.streamsPausedAtSource();for(const p of this.context.videoTileController.getAllVideoTiles()){const v=p.state();l.contain(v.streamId)?p.markPoorConnection()&&this.logger.info(`marks the tile ${v.tileId} as having a poor connection`):p.unmarkPoorConnection()&&this.logger.info(`unmarks the tile ${v.tileId} as having a poor connection`)}}constructor(l){super(l.logger),this.context=l,this.taskName="ReceiveVideoStreamIndexTask",this.isIngestionPaused=!1,this.pendingIndex=null}},"ReceiveVideoStreamIndexTask");c.default=t},rwhO:function(N,c,d){"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.isDestroyable=void 0;function S(h){return h&&"destroy"in h}o(S,"isDestroyable"),c.isDestroyable=S},s0Ci:function(N,c,d){"use strict";N.exports=n;var S=d("kU+7"),h,m=S.LongBits,f=S.utf8;function a(p,v){return RangeError("index out of range: "+p.pos+" + "+(v||1)+" > "+p.len)}o(a,"indexOutOfRange");function n(p){this.buf=p,this.pos=0,this.len=p.length}o(n,"Reader");var i=typeof Uint8Array<"u"?o(function(v){if(v instanceof Uint8Array||Array.isArray(v))return new n(v);throw Error("illegal buffer")},"create_typed_array"):o(function(v){if(Array.isArray(v))return new n(v);throw Error("illegal buffer")},"create_array"),e=o(function(){return S.Buffer?o(function(g){return(n.create=o(function(s){return S.Buffer.isBuffer(s)?new h(s):i(s)},"create_buffer"))(g)},"create_buffer_setup"):i},"create");n.create=e(),n.prototype._slice=S.Array.prototype.subarray||S.Array.prototype.slice,n.prototype.uint32=o(function(){var v=4294967295;return o(function(){if(v=(this.buf[this.pos]&127)>>>0,this.buf[this.pos++]<128||(v=(v|(this.buf[this.pos]&127)<<7)>>>0,this.buf[this.pos++]<128)||(v=(v|(this.buf[this.pos]&127)<<14)>>>0,this.buf[this.pos++]<128)||(v=(v|(this.buf[this.pos]&127)<<21)>>>0,this.buf[this.pos++]<128)||(v=(v|(this.buf[this.pos]&15)<<28)>>>0,this.buf[this.pos++]<128))return v;if((this.pos+=5)>this.len)throw this.pos=this.len,a(this,10);return v},"read_uint32")},"read_uint32_setup")(),n.prototype.int32=o(function(){return this.uint32()|0},"read_int32"),n.prototype.sint32=o(function(){var v=this.uint32();return v>>>1^-(v&1)|0},"read_sint32");function t(){var p=new m(0,0),v=0;if(this.len-this.pos>4){for(;v<4;++v)if(p.lo=(p.lo|(this.buf[this.pos]&127)<<v*7)>>>0,this.buf[this.pos++]<128)return p;if(p.lo=(p.lo|(this.buf[this.pos]&127)<<28)>>>0,p.hi=(p.hi|(this.buf[this.pos]&127)>>4)>>>0,this.buf[this.pos++]<128)return p;v=0}else{for(;v<3;++v){if(this.pos>=this.len)throw a(this);if(p.lo=(p.lo|(this.buf[this.pos]&127)<<v*7)>>>0,this.buf[this.pos++]<128)return p}return p.lo=(p.lo|(this.buf[this.pos++]&127)<<v*7)>>>0,p}if(this.len-this.pos>4){for(;v<5;++v)if(p.hi=(p.hi|(this.buf[this.pos]&127)<<v*7+3)>>>0,this.buf[this.pos++]<128)return p}else for(;v<5;++v){if(this.pos>=this.len)throw a(this);if(p.hi=(p.hi|(this.buf[this.pos]&127)<<v*7+3)>>>0,this.buf[this.pos++]<128)return p}throw Error("invalid varint encoding")}o(t,"readLongVarint"),n.prototype.bool=o(function(){return this.uint32()!==0},"read_bool");function r(p,v){return(p[v-4]|p[v-3]<<8|p[v-2]<<16|p[v-1]<<24)>>>0}o(r,"readFixed32_end"),n.prototype.fixed32=o(function(){if(this.pos+4>this.len)throw a(this,4);return r(this.buf,this.pos+=4)},"read_fixed32"),n.prototype.sfixed32=o(function(){if(this.pos+4>this.len)throw a(this,4);return r(this.buf,this.pos+=4)|0},"read_sfixed32");function l(){if(this.pos+8>this.len)throw a(this,8);return new m(r(this.buf,this.pos+=4),r(this.buf,this.pos+=4))}o(l,"readFixed64"),n.prototype.float=o(function(){if(this.pos+4>this.len)throw a(this,4);var v=S.float.readFloatLE(this.buf,this.pos);return this.pos+=4,v},"read_float"),n.prototype.double=o(function(){if(this.pos+8>this.len)throw a(this,4);var v=S.float.readDoubleLE(this.buf,this.pos);return this.pos+=8,v},"read_double"),n.prototype.bytes=o(function(){var v=this.uint32(),g=this.pos,u=this.pos+v;if(u>this.len)throw a(this,v);return this.pos+=v,Array.isArray(this.buf)?this.buf.slice(g,u):g===u?new this.buf.constructor(0):this._slice.call(this.buf,g,u)},"read_bytes"),n.prototype.string=o(function(){var v=this.bytes();return f.read(v,0,v.length)},"read_string"),n.prototype.skip=o(function(v){if(typeof v=="number"){if(this.pos+v>this.len)throw a(this,v);this.pos+=v}else do if(this.pos>=this.len)throw a(this);while(this.buf[this.pos++]&128);return this},"skip"),n.prototype.skipType=function(p){switch(p){case 0:this.skip();break;case 1:this.skip(8);break;case 2:this.skip(this.uint32());break;case 3:for(;(p=this.uint32()&7)!==4;)this.skipType(p);break;case 5:this.skip(4);break;default:throw Error("invalid wire type "+p+" at offset "+this.pos)}return this},n._configure=function(p){h=p,n.create=e(),h._configure();var v=S.Long?"toLong":"toNumber";S.merge(n.prototype,{int64:o(function(){return t.call(this)[v](!1)},"read_int64"),uint64:o(function(){return t.call(this)[v](!0)},"read_uint64"),sint64:o(function(){return t.call(this).zzDecode()[v](!1)},"read_sint64"),fixed64:o(function(){return l.call(this)[v](!0)},"read_fixed64"),sfixed64:o(function(){return l.call(this)[v](!1)},"read_sfixed64")})}},s2er:function(N,c,d){var S=d("VSTI"),h=d("7whZ"),m="__core-js_shared__",f=h[m]||(h[m]={});(N.exports=function(a,n){return f[a]||(f[a]=n!==void 0?n:{})})("versions",[]).push({version:S.version,mode:d("5ETA")?"pure":"global",copyright:"\xA9 2020 Denis Pushkarev (zloirock.ru)"})},s3Gi:function(N,c,d){"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.CheckContentShareConnectivityFeedback=void 0;var S;(function(h){h[h.Succeeded=0]="Succeeded",h[h.Failed=1]="Failed",h[h.PermissionDenied=2]="PermissionDenied",h[h.TimedOut=3]="TimedOut",h[h.ConnectionFailed=4]="ConnectionFailed"})(S=c.CheckContentShareConnectivityFeedback||(c.CheckContentShareConnectivityFeedback={})),c.default=S},s3Ml:function(N,c,d){N.exports={default:d("QRdY"),__esModule:!0}},sINF:function(N,c,d){"use strict";function S(m){return function(f){var a=f.dispatch,n=f.getState;return function(i){return function(e){return typeof e=="function"?e(a,n,m):i(e)}}}}o(S,"createThunkMiddleware");var h=S();h.withExtraArgument=S,c.a=h},sTsL:function(N,c,d){"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.CheckVideoConnectivityFeedback=void 0;var S;(function(h){h[h.Succeeded=0]="Succeeded",h[h.VideoInputRequestFailed=1]="VideoInputRequestFailed",h[h.VideoInputPermissionDenied=2]="VideoInputPermissionDenied",h[h.ConnectionFailed=3]="ConnectionFailed",h[h.VideoNotSent=4]="VideoNotSent"})(S=c.CheckVideoConnectivityFeedback||(c.CheckVideoConnectivityFeedback={})),c.default=S},sbOA:function(N,c,d){var S=d("d+lc"),h=d("I90/");N.exports=d("VSTI").getIterator=function(m){var f=h(m);if(typeof f!="function")throw TypeError(m+" is not iterable!");return S(f.call(m))}},sd34:function(N,c,d){"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.numToUint8=void 0;function S(h){return new Uint8Array([(h&4278190080)>>24,(h&16711680)>>16,(h&65280)>>8,h&255])}o(S,"numToUint8"),c.numToUint8=S},sdHd:function(N,c,d){"use strict";Object.defineProperty(c,"__esModule",{value:!0});let S=o(class{reportEvent(m,f,a){}start(){}stop(){}constructor(){}},"NoOpEventReporter");c.default=S},sf8V:function(N,c,d){"use strict";Object.defineProperty(c,"__esModule",{value:!0});const S=d("KJDN");let h=o(class extends S.default{constructor(f){super(f),this.name="TypeError"}},"TypeError");c.default=h},sfTB:function(N,c,d){"use strict";(function(S){var h=this&&this.__awaiter||function(t,r,l,p){function v(g){return g instanceof l?g:new l(function(u){u(g)})}return o(v,"adopt"),new(l||(l=Promise))(function(g,u){function s(R){try{M(p.next(R))}catch(B){u(B)}}o(s,"fulfilled");function I(R){try{M(p.throw(R))}catch(B){u(B)}}o(I,"rejected");function M(R){R.done?g(R.value):v(R.value).then(s,I)}o(M,"step"),M((p=p.apply(t,r||[])).next())})},m=this&&this.__rest||function(t,r){var l={};for(var p in t)Object.prototype.hasOwnProperty.call(t,p)&&r.indexOf(p)<0&&(l[p]=t[p]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var v=0,p=Object.getOwnPropertySymbols(t);v<p.length;v++)r.indexOf(p[v])<0&&Object.prototype.propertyIsEnumerable.call(t,p[v])&&(l[p[v]]=t[p[v]]);return l};Object.defineProperty(c,"__esModule",{value:!0});const f=d("cKqT"),a=d("BkFD"),n=d("BEtg"),i=d("VCUZ");let e=o(class ol{addEventListeners(){!this.beaconEventListener||!("window"in S)||!window.addEventListener||!("document"in S)||!document.addEventListener||(this.logger.debug("Event Reporting - InMemoryJSONEventBuffer - addEventListeners - adding pagehide and visibility change event listeners"),window.addEventListener("pagehide",this.beaconEventListener),document.addEventListener("visibilitychange",this.beaconEventListener))}beaconEventHandler(r){(r.type==="visibilitychange"&&document.visibilityState==="hidden"||r.type==="pagehide")&&(this.logger.debug("Event Reporting - InMemoryJSONEventBuffer - beaconEventHandler is triggered calling sendBeacon"),this.sendBeacon())}removeEventListeners(){!this.beaconEventListener||!("window"in S)||!window.removeEventListener||!("document"in S)||!document.removeEventListener||(window.removeEventListener("pagehide",this.beaconEventListener),document.removeEventListener("visibilitychange",this.beaconEventListener),this.logger.debug("Event Reporting - InMemoryJSONEventBuffer - removeEventListeners - removing pagehide and visibility change event listeners"))}start(){var r;this.removeEventListeners(),this.addEventListeners(),(r=this.intervalScheduler)===null||r===void 0||r.stop(),this.intervalScheduler=new a.default(this.flushIntervalMs),this.intervalScheduler.start(()=>this.sendEvents())}stop(){var r;(r=this.intervalScheduler)===null||r===void 0||r.stop(),this.intervalScheduler=void 0,this.sendBeacon(),this.removeEventListeners()}addItem(r){return h(this,void 0,void 0,function*(){this.logger.debug(`Event Reporting - InMemoryJSONEventBuffer - addItem - received event ${JSON.stringify(r)}`);const{name:l,ts:p,attributes:v}=r,g=v&&this.filterAttributes(v,this.attributesToFilter),u=Object.assign({name:l,ts:p},g);this.logger.debug(`Event Reporting - InMemoryJSONEventBuffer - addItem - event after filtering attributes ${JSON.stringify(u)}`);const s=this.getSize(u);if(s>ol.MAX_ITEM_SIZE_BYTES_ALLOWED)throw new Error(`Event Reporting - Item to be added has size ${s} bytes. Item cannot exceed max item size allowed of ${ol.MAX_ITEM_SIZE_BYTES_ALLOWED} bytes.`);if(this.importantEvents.has(l)){this.logger.debug(`Event Reporting - InMemoryJSONEventBuffer - addItem - sending important event ${JSON.stringify(u)}`),this.sendEventImmediately({name:l,ts:p,attributes:g});return}if(this.isFull())throw this.logger.warn("Event Reporting - Event buffer is full"),new Error("Buffer full");if(this.currentIngestionEvent.payloads.push(u),this.ingestionEventSize+=s,this.bufferItemThresholdReached(s)){const I=this.deepCopyCurrentIngestionEvent(this.currentIngestionEvent);this.buffer.push(I),this.bufferSize+=this.ingestionEventSize,this.currentIngestionEvent=this.initializeAndGetCurrentIngestionEvent(),this.logger.debug(`Event Reporting - InMemoryJSONEventBuffer - addItem - buffer item threshold reached updated buffer ${JSON.stringify(this.buffer)}`)}})}filterAttributes(r,l){const p=new Set(l);return Object.keys(r).filter(g=>p.has(g)).forEach(g=>delete r[g]),r}initializeAndGetCurrentIngestionEvent(){const r={type:this.type,v:this.v,payloads:[]};return this.ingestionEventSize=this.getSize(r),r}bufferItemThresholdReached(r){return r+this.ingestionEventSize>=this.maxBufferItemCapacityBytes||this.currentIngestionEvent.payloads.length===ol.MAX_PAYLOAD_ITEMS}getSize(r){let l=0;if(typeof r=="object")for(const[p,v]of Object.entries(r))l+=this.getPrimitiveSize(p),l+=this.getSize(v);else l+=this.getPrimitiveSize(r);return l}getPrimitiveSize(r){let l=0;return typeof r=="string"?l+=r.length*2:typeof r=="number"&&(l+=8),l}isFull(){return this.bufferSize===this.maxBufferCapacityBytes||this.buffer.length===this.totalBufferItems}isEmpty(){return this.buffer.length===0||this.bufferSize===0}getItems(r){let l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return this.isEmpty()?[]:(r=Math.min(this.buffer.length,r+1),this.buffer.splice(l,r))}makeBeaconRequestBody(r){const l={metadata:this.metadata,events:r,authorization:this.authenticationToken};return JSON.stringify(l)}makeRequestBody(r){const l={metadata:this.metadata,events:r};return JSON.stringify(l)}sendEventImmediately(r){return h(this,void 0,void 0,function*(){this.logger.debug(`Event Reporting - InMemoryJSONEventBuffer - sendEventImmediately - important event received ${JSON.stringify(r)}`);const{name:l,ts:p,attributes:v}=r,g={type:this.type,v:this.v,payloads:[Object.assign({name:l,ts:p},v)]};let u=!1,s=null;const I=this.makeRequestBody([g]);try{if(s=yield this.send(I),s.ok){try{const M=yield s.json();this.logger.debug(`Event Reporting - InMemoryJSONEventBuffer - sendEventImmediately - send successful event: ${I}, message: ${JSON.stringify(M)}`)}catch(M){this.logger.warn(`Event Reporting - InMemoryJSONEventBuffer - sendEventImmediately - Error reading OK response ${M} for event ${I}`)}return}else this.logger.error(`Event Reporting - InMemoryJSONEventBuffer - sendEventImmediately - Failed to send an important event ${I} with response status ${s.status}`),u=!0}catch(M){this.logger.warn(`Event Reporting - There may be a failure in sending an important event ${I} to the ingestion endpoint ${M}.`),u=!0;try{if(this.metadata.browserName.toLowerCase()==="firefox"){const R=this.makeBeaconRequestBody([g]);this.logger.debug(`Event Reporting - InMemoryJSONEventBuffer - sendEventImmediately - beaconing data out ${R}`),navigator.sendBeacon(`${this.ingestionURL}?beacon=1`,R)?u=!1:u=!0}}catch{this.logger.warn(`Event Reporting - Error sending beacon for an important event ${I}`),u=!0}}u&&(this.logger.debug(`Event Reporting - InMemoryJSONEventBuffer - sendEventImmediately - pushing to failed events ${I}`),this.failedIngestionEvents.push(g))})}send(r){return h(this,void 0,void 0,function*(){const l=new f.default(ol.RETRY_FIXED_BACKOFF_WAIT_MS,ol.RETRY_SHORT_BACKOFF_MS,ol.RETRY_LONG_BACKOFF_MS);try{let p=0;for(;p<this.retryCountLimit;){const v=yield fetch(this.ingestionURL,{method:"POST",headers:{Authorization:`Bearer ${this.authenticationToken}`},body:r});if(v.ok||!ol.SENDING_FAILURE_CODES.has(v.status))return v;if(this.logger.warn(`Will retry sending failure for ${r} due to status code ${v.status}.`),p++,p<this.retryCountLimit){const g=l.nextBackoffAmountMs();yield i.wait(g)}}if(p===this.retryCountLimit)throw new Error(`Retry count limit reached for ${r}`)}catch(p){throw p}})}sendBeacon(){return h(this,void 0,void 0,function*(){const r=this.buffer;if(this.logger.debug(`Event Reporting - InMemoryJSONEventBuffer - sendBeacon - clearing out buffer events ${JSON.stringify(r)}`),this.buffer=[],this.currentIngestionEvent.payloads.length>0){const p=this.deepCopyCurrentIngestionEvent(this.currentIngestionEvent);r.push(p),this.logger.debug(`Event Reporting - InMemoryJSONEventBuffer - sendBeacon - clearing out current ingestion event ${JSON.stringify(p)}`),this.currentIngestionEvent=this.initializeAndGetCurrentIngestionEvent()}if(this.failedIngestionEvents.length>0){const p=this.failedIngestionEvents.map(v=>this.deepCopyCurrentIngestionEvent(v));r.push(...p),this.logger.debug(`Event Reporting - InMemoryJSONEventBuffer - sendBeacon - clearing out any failed ingestion event ${JSON.stringify(p)}`),this.failedIngestionEvents=[]}if(this.cancellableEvents.size>0&&(this.cancellableEvents.forEach(p=>{r.push(...p),this.logger.debug(`Event Reporting - InMemoryJSONEventBuffer - sendBeacon - clearing out each cancellable event ${JSON.stringify(p)}`)}),this.cancellableEvents.clear()),r.length===0)return;const l=this.makeBeaconRequestBody(r);this.logger.debug(`Event Reporting - InMemoryJSONEventBuffer - sendBeacon - beacon data to send ${l}`);try{navigator.sendBeacon(`${this.ingestionURL}?beacon=1`,l)||this.logger.warn(`Event Reporting - Browser failed to queue beacon data ${l}`)}catch(p){this.logger.warn(`Event Reporting - Sending beacon data ${l} failed with error ${p}`)}})}reset(){this.maxBufferCapacityBytes=0,this.totalBufferItems=0,this.buffer=[],this.bufferSize=0,this.maxBufferItemCapacityBytes=0,this.ingestionEventSize=0,this.flushIntervalMs=0,this.flushSize=0,this.failedIngestionEvents=[],this.lock=!1,this.beaconEventListener=void 0,this.cancellableEvents.clear()}destroy(){return h(this,void 0,void 0,function*(){this.stop(),this.reset()})}constructor(r,l,p,v,g){this.buffer=[],this.bufferSize=0,this.maxBufferItemCapacityBytes=0,this.ingestionEventSize=0,this.flushIntervalMs=0,this.flushSize=0,this.failedIngestionEvents=[],this.retryCountLimit=15,this.lock=!1,this.cancellableEvents=new Map,this.attributesToFilter=["externalUserId","externalMeetingId","timestampMs"],this.deepCopyCurrentIngestionEvent=k=>({type:k.type,v:k.v,payloads:[...k.payloads]}),this.sendEvents=()=>h(this,void 0,void 0,function*(){if(this.lock)return;const k=this.getItems(this.flushSize);if(k.length===0)return;this.lock=!0;const K=this.makeRequestBody(k);let Z=!1;const Y=Date.now();this.metadata.browserName.toLowerCase()==="firefox"&&this.cancellableEvents.set(Y,k);try{this.logger.debug(`Event Reporting - InMemoryJSONEventBuffer - sendEvents - sending body ${K}`);const ie=yield this.send(K);if(this.cancellableEvents.delete(Y),!ie.ok)this.logger.error(`Event Reporting - InMemoryJSONEventBuffer - sendEvents - Failed to send events ${K} with response status ${ie.status}`),Z=!0;else try{const ge=yield ie.json();this.logger.debug(`Event Reporting - InMemoryJSONEventBuffer - sendEvents - send successful events: ${K} message: ${JSON.stringify(ge)}`)}catch(ge){this.logger.warn(`Event Reporting - InMemoryJSONEventBuffer - sendEvents error reading OK response ${ge} for events ${K}`)}}catch(ie){Z=!0,this.logger.warn(`Event Reporting - InMemoryJSONEventBuffer - sendEvents - Error in sending events ${K} to the ingestion endpoint ${ie}`)}finally{this.lock=!1}Z&&(this.cancellableEvents.delete(Y),this.failedIngestionEvents.push(...k))});const u=new n.default(g).getParserResult(),{browserMajorVersion:s}=u,I=m(u,["browserMajorVersion"]),M=l.toJSON(),{type:R,v:B}=M,j=m(M,["type","v"]);this.authenticationToken=l.getAuthenticationToken(),this.metadata=Object.assign(Object.assign({},I),j),Object.keys(this.metadata).forEach(k=>this.attributesToFilter.push(k)),this.type=R,this.v=B,this.ingestionURL=p,this.logger=g,this.importantEvents=new Set(v);const{maxBufferCapacityKb:A,totalBufferItems:D,flushSize:$,flushIntervalMs:O,retryCountLimit:P}=r;this.maxBufferCapacityBytes=A*1024,this.totalBufferItems=D,this.maxBufferItemCapacityBytes=Math.round(this.maxBufferCapacityBytes/D),this.flushIntervalMs=O,this.flushSize=$,this.retryCountLimit=P,this.currentIngestionEvent=this.initializeAndGetCurrentIngestionEvent(),this.beaconEventListener=k=>this.beaconEventHandler(k),this.addEventListeners()}},"InMemoryJSONEventBuffer");c.default=e,e.SENDING_FAILURE_CODES=new Set([408,429,500,502,503,504]),e.RETRY_FIXED_BACKOFF_WAIT_MS=0,e.RETRY_SHORT_BACKOFF_MS=1e3,e.RETRY_LONG_BACKOFF_MS=15e3,e.MAX_PAYLOAD_ITEMS=2,e.MAX_ITEM_SIZE_BYTES_ALLOWED=3e3}).call(this,d("yLpj"))},sk9p:function(N,c,d){"use strict";c.__esModule=!0;var S=d("k/8l"),h=a(S),m=d("FyfS"),f=a(m);function a(n){return n&&n.__esModule?n:{default:n}}o(a,"_interopRequireDefault"),c.default=function(){function n(i,e){var t=[],r=!0,l=!1,p=void 0;try{for(var v=(0,f.default)(i),g;!(r=(g=v.next()).done)&&(t.push(g.value),!(e&&t.length===e));r=!0);}catch(u){l=!0,p=u}finally{try{!r&&v.return&&v.return()}finally{if(l)throw p}}return t}return o(n,"sliceIterator"),function(i,e){if(Array.isArray(i))return i;if((0,h.default)(Object(i)))return n(i,e);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}()},sudc:function(N,c,d){"use strict";var S=this&&this.__awaiter||function(O,P,k,K){function Z(Y){return Y instanceof k?Y:new k(function(ie){ie(Y)})}return o(Z,"adopt"),new(k||(k=Promise))(function(Y,ie){function ge(we){try{le(K.next(we))}catch(Be){ie(Be)}}o(ge,"fulfilled");function Ie(we){try{le(K.throw(we))}catch(Be){ie(Be)}}o(Ie,"rejected");function le(we){we.done?Y(we.value):Z(we.value).then(ge,Ie)}o(le,"step"),le((K=K.apply(O,P||[])).next())})};Object.defineProperty(c,"__esModule",{value:!0}),c.getAudioInput=c.createAudioContext=c.VoiceFocus=void 0;const h=d("hxn6"),m=d("o3U+"),f=d("EkyC"),a=d("KvYa"),n=d("tFDz"),i=d("r7zX"),e=d("9AGb"),r={useVoiceFocusAGC:!1,useBuiltInAGC:!0},l="stable-v1",p="https://static.sdkassets.chime.aws",v={processors:`${p}/processors/`,workers:`${p}/workers/`,wasm:`${p}/wasm/`,models:`${p}/wasm/`},g={latencyHint:0},u={channelCount:1,echoCancellation:!0,googEchoCancellation:!0,noiseSuppression:!1,googNoiseSuppression:!1,googHighpassFilter:!1,googTypingNoiseDetection:!1},s=Object.assign(Object.assign({},u),{autoGainControl:!0,googAutoGainControl:!0,googAutoGainControl2:!0}),I=Object.assign(Object.assign({},u),{autoGainControl:!1,googAutoGainControl:!1,googAutoGainControl2:!1}),M={"voicefocus-worker-sab-processor":{file:"worklet-worker-sab-processor-v1.js",node:i.default},"voicefocus-worker-postMessage-processor":{file:"worklet-worker-postMessage-processor-v1.js",node:e.default},"voicefocus-inline-processor":{file:"worklet-inline-processor-v1.js",node:n.default}},R=o((O,P)=>{if(O!==void 0&&!m.isValidAssetGroup(O))throw new Error(`Invalid asset group ${O}`);if(P!==void 0&&!m.isValidRevisionID(P))throw new Error(`Invalid revision ID ${P}`)},"validateAssetSpec"),B=o((O,P)=>{let k;if(P.useBuiltInAGC?k=s:k=I,!O)return{audio:k};if(!O.audio)return O;if(O.video)throw new Error("Not adding Voice Focus to multi-device getUserMedia call.");return Object.assign(Object.assign({},O),{audio:O.audio===!0?k:Object.assign(Object.assign({},O.audio),k)})},"mungeConstraints"),j=o((O,P)=>`${P.models}${h.decideModel(O)}.wasm`,"urlForModel");let A=o(class Sv{static isSupported(P,k){const{fetchBehavior:K,logger:Z}=k||{};if(typeof globalThis>"u")return Z==null||Z.debug("Browser does not have globalThis."),Promise.resolve(!1);if(!a.supportsAudioWorklet(globalThis,Z))return Z==null||Z.debug("Browser does not support Audio Worklet."),Promise.resolve(!1);if(!a.supportsWASM(globalThis,Z))return Z==null||Z.debug("Browser does not support WASM."),Promise.resolve(!1);a.supportsWASMStreaming(globalThis,Z)||Z==null||Z.debug("Browser does not support streaming WASM compilation.");const{assetGroup:Y=l,revisionID:ie,paths:ge=v}=P||{};R(Y,ie);const Ie=ie?{revisionID:ie}:{assetGroup:Y},le=m.addQueryParams(K,Ie),we=Object.assign(Object.assign({},le),{paths:ge});return a.supportsVoiceFocusWorker(globalThis,we,Z)}static mungeExecutionPreference(P,k){const K=P===void 0||P==="auto";if(a.isSafari(globalThis)){if(K||P==="inline")return"inline";if(!K)throw new Error(`Unsupported execution preference ${P}`)}if(P==="worker-sab"&&!a.supportsSharedArrayBuffer(globalThis,globalThis,k))throw new Error(`Unsupported execution preference ${P}`);return P||"auto"}static configure(P,k){return S(this,void 0,void 0,function*(){const{fetchBehavior:K,preResolve:Z,logger:Y}=k||{},{category:ie="voicefocus",name:ge="default",variant:Ie="auto",assetGroup:le=l,revisionID:we,simd:Be="detect",executionPreference:Re="auto",executionQuantaPreference:Ne,usagePreference:_e="interactivity",estimatorBudget:Ze=100,paths:tt=v,thresholds:$e}=P||{};if(Y==null||Y.debug("Configuring Voice Focus with spec",P),ie!==void 0&&ie!=="voicefocus")throw new Error(`Unrecognized category ${ie}`);if(ge!==void 0&&ge!=="default"&&ge!=="ns_es")throw new Error(`Unrecognized feature name ${ge}`);if(Ie!==void 0&&!["auto","c100","c50","c20","c10"].includes(Ie))throw new Error(`Unrecognized feature variant ${Ie}`);if(Ne!==void 0&&![1,2,3].includes(Ne))throw new Error(`Unrecognized execution quanta preference ${Ne}`);if(R(le,we),Be!==void 0&&!["detect","force","disable"].includes(Be))throw new Error(`Unrecognized SIMD option ${Be}`);if(Re!==void 0&&!["auto","inline","worker","worker-sab","worker-postMessage"].includes(Re))throw new Error(`Unrecognized execution preference ${Re}`);if(_e!==void 0&&!["quality","interactivity"].includes(_e))throw new Error(`Unrecognized usage preference ${_e}`);const at={executionPreference:this.mungeExecutionPreference(Re,Y),usagePreference:_e,executionQuantaPreference:Ne,variantPreference:Ie,namePreference:ge,simdPreference:Be,estimatorBudget:Ze},lt=we?{revisionID:we}:{assetGroup:le},ot=m.addQueryParams(K,lt),Gt=Object.assign({paths:tt},ot),Zt=yield h.measureAndDecideExecutionApproach(at,Gt,Y,$e);if(Zt.supported===!1)return{supported:!1,reason:Zt.reason};Y==null||Y.info("Decided execution approach",Zt);const{useSIMD:un,processor:Un,variant:jn,executionQuanta:ci}=Zt,fn={category:ie||"voicefocus",name:ge||"default",variant:jn,simd:un};if(Z){const ri=j(fn,tt);fn.url=yield m.resolveURL(ri,ot)}return{fetchConfig:Gt,model:fn,processor:Un,executionQuanta:ci,supported:!0}})}static init(P,k){let{delegate:K,preload:Z=!0,logger:Y}=k;return S(this,void 0,void 0,function*(){if(P.supported===!1)throw new Error("Voice Focus not supported. Reason: "+P.reason);const{model:ie,processor:ge,fetchConfig:Ie,executionQuanta:le}=P,{simd:we,name:Be}=ie,{paths:Re}=Ie;if(ge!=="voicefocus-inline-processor"&&ge!=="voicefocus-worker-postMessage-processor"&&ge!=="voicefocus-worker-sab-processor")throw new Error(`Unknown processor ${ge}`);const Ne=ie.url||j(ie,Re);Y==null||Y.debug(`Using model URL ${Ne}.`);const _e=`${Re.wasm}audio_buffer-v1${we?"_simd":""}.wasm`,Ze=`${Re.wasm}resampler-v1${we?"_simd":""}.wasm`,tt=`${Re.workers}worker-v1.js`,{file:$e,node:at}=M[ge],lt=`${Re.processors}${$e}`,ot=yield f.loadWorker(tt,"VoiceFocusWorker",Ie,Y);if(Z){Y==null||Y.debug("Preloading",Ne);let Un=a.supportsWASMPostMessage(globalThis)?"get-module":"get-module-buffer";ot.postMessage({message:Un,preload:!0,key:"model",fetchBehavior:Ie,path:Ne})}const Zt={processor:ge,worker:ot,audioBufferURL:_e,resamplerURL:Ze,fetchBehavior:Ie,modelURL:Ne,delegate:K,logger:Y,numberOfInputs:Be==="ns_es"?2:1},un=new Sv(ot,lt,at,Zt,le);return Promise.resolve(un)})}createNode(P,k){var K;if(this.internal.isDestroyed)throw new Error("Unable to create node because VoiceFocus worker has been destroyed.");const{voiceFocusSampleRate:Z=P.sampleRate===16e3?16e3:48e3,enabled:Y=!0,agc:ie=r}=k||{},ge=k==null?void 0:k.es,Ie={voiceFocusSampleRate:Z,enabled:Y,sendBufferCount:10,prefill:6,agc:ie,executionQuanta:this.executionQuanta,supportFarendStream:ge},le=m.withQueryString(this.processorURL,(K=this.nodeOptions)===null||K===void 0?void 0:K.fetchBehavior);return P.audioWorklet.addModule(le).then(()=>new this.nodeConstructor(P,Object.assign(Object.assign({},this.nodeOptions),{processorOptions:Ie})))}applyToStream(P,k,K){return S(this,void 0,void 0,function*(){if(this.internal.isDestroyed)throw new Error("Unable to apply stream because VoiceFocus worker has been destroyed");const Z=k.createMediaStreamSource(P),Y=yield this.applyToSourceNode(Z,k,K),ie=k.createMediaStreamDestination();return Y.connect(ie),{node:Y,source:Z,destination:ie,stream:ie.stream}})}applyToSourceNode(P,k,K){return S(this,void 0,void 0,function*(){const Z=yield this.createNode(k,K);return P.connect(Z),Z})}destroy(){this.internal.worker&&this.internal.worker.terminate(),this.internal.isDestroyed=!0}constructor(P,k,K,Z,Y){this.processorURL=k,this.nodeConstructor=K,this.nodeOptions=Z,this.executionQuanta=Y,this.internal={worker:P,nodeOptions:Z,isDestroyed:!1}}},"VoiceFocus");c.VoiceFocus=A;const D=o(function(){let O=arguments.length>0&&arguments[0]!==void 0?arguments[0]:g;return new(window.AudioContext||window.webkitAudioContext)(O)},"createAudioContext");c.createAudioContext=D;const $=o((O,P,k)=>S(void 0,void 0,void 0,function*(){var K,Z;const{constraints:Y,spec:ie,delegate:ge,preload:Ie=!0,options:le}=P,{logger:we}=k,Be=yield A.configure(ie,k);if(!Be.supported)return(K=k.logger)===null||K===void 0||K.warn("Voice Focus not supported; returning standard stream."),window.navigator.mediaDevices.getUserMedia(Y);const Re=yield A.init(Be,{delegate:ge,preload:Ie,logger:we}),Ne=((Z=P.options)===null||Z===void 0?void 0:Z.agc)||r,_e=yield window.navigator.mediaDevices.getUserMedia(B(Y,Ne));return Re.applyToStream(_e,O,le).then(Ze=>Ze.stream)}),"getAudioInput");c.getAudioInput=$},syoQ:function(N){N.exports=JSON.parse('{"partitions":[{"id":"aws","outputs":{"dnsSuffix":"amazonaws.com","dualStackDnsSuffix":"api.aws","name":"aws","supportsDualStack":true,"supportsFIPS":true},"regionRegex":"^(us|eu|ap|sa|ca|me|af)\\\\-\\\\w+\\\\-\\\\d+$","regions":{"af-south-1":{"description":"Africa (Cape Town)"},"ap-east-1":{"description":"Asia Pacific (Hong Kong)"},"ap-northeast-1":{"description":"Asia Pacific (Tokyo)"},"ap-northeast-2":{"description":"Asia Pacific (Seoul)"},"ap-northeast-3":{"description":"Asia Pacific (Osaka)"},"ap-south-1":{"description":"Asia Pacific (Mumbai)"},"ap-south-2":{"description":"Asia Pacific (Hyderabad)"},"ap-southeast-1":{"description":"Asia Pacific (Singapore)"},"ap-southeast-2":{"description":"Asia Pacific (Sydney)"},"ap-southeast-3":{"description":"Asia Pacific (Jakarta)"},"ap-southeast-4":{"description":"Asia Pacific (Melbourne)"},"aws-global":{"description":"AWS Standard global region"},"ca-central-1":{"description":"Canada (Central)"},"eu-central-1":{"description":"Europe (Frankfurt)"},"eu-central-2":{"description":"Europe (Zurich)"},"eu-north-1":{"description":"Europe (Stockholm)"},"eu-south-1":{"description":"Europe (Milan)"},"eu-south-2":{"description":"Europe (Spain)"},"eu-west-1":{"description":"Europe (Ireland)"},"eu-west-2":{"description":"Europe (London)"},"eu-west-3":{"description":"Europe (Paris)"},"me-central-1":{"description":"Middle East (UAE)"},"me-south-1":{"description":"Middle East (Bahrain)"},"sa-east-1":{"description":"South America (Sao Paulo)"},"us-east-1":{"description":"US East (N. Virginia)"},"us-east-2":{"description":"US East (Ohio)"},"us-west-1":{"description":"US West (N. California)"},"us-west-2":{"description":"US West (Oregon)"}}},{"id":"aws-cn","outputs":{"dnsSuffix":"amazonaws.com.cn","dualStackDnsSuffix":"api.amazonwebservices.com.cn","name":"aws-cn","supportsDualStack":true,"supportsFIPS":true},"regionRegex":"^cn\\\\-\\\\w+\\\\-\\\\d+$","regions":{"aws-cn-global":{"description":"AWS China global region"},"cn-north-1":{"description":"China (Beijing)"},"cn-northwest-1":{"description":"China (Ningxia)"}}},{"id":"aws-us-gov","outputs":{"dnsSuffix":"amazonaws.com","dualStackDnsSuffix":"api.aws","name":"aws-us-gov","supportsDualStack":true,"supportsFIPS":true},"regionRegex":"^us\\\\-gov\\\\-\\\\w+\\\\-\\\\d+$","regions":{"aws-us-gov-global":{"description":"AWS GovCloud (US) global region"},"us-gov-east-1":{"description":"AWS GovCloud (US-East)"},"us-gov-west-1":{"description":"AWS GovCloud (US-West)"}}},{"id":"aws-iso","outputs":{"dnsSuffix":"c2s.ic.gov","dualStackDnsSuffix":"c2s.ic.gov","name":"aws-iso","supportsDualStack":false,"supportsFIPS":true},"regionRegex":"^us\\\\-iso\\\\-\\\\w+\\\\-\\\\d+$","regions":{"aws-iso-global":{"description":"AWS ISO (US) global region"},"us-iso-east-1":{"description":"US ISO East"},"us-iso-west-1":{"description":"US ISO WEST"}}},{"id":"aws-iso-b","outputs":{"dnsSuffix":"sc2s.sgov.gov","dualStackDnsSuffix":"sc2s.sgov.gov","name":"aws-iso-b","supportsDualStack":false,"supportsFIPS":true},"regionRegex":"^us\\\\-isob\\\\-\\\\w+\\\\-\\\\d+$","regions":{"aws-iso-b-global":{"description":"AWS ISOB (US) global region"},"us-isob-east-1":{"description":"US ISOB East (Ohio)"}}},{"id":"aws-iso-e","outputs":{"dnsSuffix":"cloud.adc-e.uk","dualStackDnsSuffix":"cloud.adc-e.uk","name":"aws-iso-e","supportsDualStack":false,"supportsFIPS":true},"regionRegex":"^eu\\\\-isoe\\\\-\\\\w+\\\\-\\\\d+$","regions":{}}],"version":"1.1"}')},t9Fz:function(N,c,d){"use strict";var S=this&&this.__awaiter||function(m,f,a,n){function i(e){return e instanceof a?e:new a(function(t){t(e)})}return o(i,"adopt"),new(a||(a=Promise))(function(e,t){function r(v){try{p(n.next(v))}catch(g){t(g)}}o(r,"fulfilled");function l(v){try{p(n.throw(v))}catch(g){t(g)}}o(l,"rejected");function p(v){v.done?e(v.value):i(v.value).then(r,l)}o(p,"step"),p((n=n.apply(m,f||[])).next())})};Object.defineProperty(c,"__esModule",{value:!0});let h=o(class{destroy(){return S(this,void 0,void 0,function*(){this.mediaQueryList&&(typeof this.mediaQueryList.addEventListener=="function"?this.mediaQueryList.removeEventListener("change",this.mediaQueryListener):this.mediaQueryList.removeListener(this.mediaQueryListener)),delete this.mediaQueryListener,this.observerQueue.clear()})}registerObserver(f){this.observerQueue.add(f),f.devicePixelRatioChanged(this.devicePixelRatioSource.devicePixelRatio())}removeObserver(f){this.observerQueue.delete(f)}constructor(f,a){if(this.devicePixelRatioSource=f,this.observerQueue=new Set,this.mediaQueryListener=()=>{this.observerQueue.forEach(i=>{i.devicePixelRatioChanged(this.devicePixelRatioSource.devicePixelRatio())})},typeof window>"u")return;const n=matchMedia(`(resolution: ${this.devicePixelRatioSource.devicePixelRatio()}dppx)`);typeof n.addEventListener=="function"?(n.addEventListener("change",this.mediaQueryListener),this.mediaQueryList=n):typeof n.addListener=="function"?(n.addListener(this.mediaQueryListener),this.mediaQueryList=n):a.warn("ignoring DefaultDevicePixelRatioMonitor")}},"DefaultDevicePixelRatioMonitor");c.default=h},tA0R:function(N,c,d){"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.DefaultEventController=c.DefaultDevicePixelRatioMonitor=c.DefaultDeviceController=c.DefaultContentShareController=c.DefaultBrowserBehavior=c.DefaultAudioVideoFacade=c.DefaultAudioVideoController=c.DefaultAudioMixController=c.DefaultActiveSpeakerPolicy=c.DefaultActiveSpeakerDetector=c.DataMessage=c.CreateSDPTask=c.CreatePeerConnectionTask=c.ContentShareMediaStreamBroker=c.ContentShareConstants=c.ConsoleLogger=c.ConnectionHealthPolicyConfiguration=c.ConnectionHealthData=c.ClientVideoStreamReceivingReport=c.ClientMetricReportMediaType=c.ClientMetricReportDirection=c.ClientMetricReport=c.CleanStoppedSessionTask=c.CleanRestartedSessionTask=c.CheckVideoInputFeedback=c.CheckVideoConnectivityFeedback=c.CheckNetworkUDPConnectivityFeedback=c.CheckNetworkTCPConnectivityFeedback=c.CheckContentShareConnectivityFeedback=c.CheckCameraResolutionFeedback=c.CheckAudioOutputFeedback=c.CheckAudioInputFeedback=c.CheckAudioConnectivityFeedback=c.CanvasVideoFrameBuffer=c.CSPMonitor=c.BitrateParameters=c.BaseTask=c.BaseConnectionHealthPolicy=c.BackgroundReplacementVideoFrameProcessor=c.BackgroundFilterVideoFrameProcessor=c.BackgroundBlurVideoFrameProcessor=c.BackgroundBlurStrength=c.AudioVideoControllerState=c.AudioProfile=c.AudioLogEvent=c.Attendee=c.AttachMediaInputTask=c.AsyncScheduler=c.ApplicationMetadata=c.AllHighestVideoBandwidthPolicy=void 0,c.MeetingSessionCredentials=c.MeetingSessionConfiguration=c.MeetingReadinessCheckerConfiguration=c.MeetingEventsClientConfiguration=c.MediaDeviceProxyHandler=c.Maybe=c.LogLevel=c.Log=c.ListenForVolumeIndicatorsTask=c.LeaveAndReceiveLeaveAckTask=c.JoinAndReceiveIndexTask=c.IntervalScheduler=c.InMemoryJSONEventBuffer=c.GlobalMetricReport=c.GetUserMediaError=c.FullJitterLimitedBackoff=c.FullJitterBackoffFactory=c.FullJitterBackoff=c.FinishGatheringICECandidatesTask=c.EventIngestionConfiguration=c.EventBufferConfiguration=c.DeviceSelection=c.DevicePixelRatioWindowSource=c.DefaultWebSocketAdapter=c.DefaultVolumeIndicatorAdapter=c.DefaultVideoTransformDevice=c.DefaultVideoTileFactory=c.DefaultVideoTileController=c.DefaultVideoTile=c.DefaultVideoStreamIndex=c.DefaultVideoStreamIdSet=c.DefaultVideoFrameProcessorPipeline=c.DefaultVideoCaptureAndEncodeParameter=c.DefaultUserAgentParser=c.DefaultTranscriptionController=c.DefaultTransceiverController=c.DefaultSimulcastUplinkPolicyForContentShare=c.DefaultSimulcastUplinkPolicy=c.DefaultSignalingClient=c.DefaultSigV4=c.DefaultSessionStateController=c.DefaultReconnectController=c.DefaultRealtimeController=c.DefaultPingPong=c.DefaultModality=c.DefaultMessagingSession=c.DefaultMeetingSession=c.DefaultMeetingReadinessChecker=c.DefaultMeetingEventReporter=c.DefaultMediaDeviceFactory=void 0,c.SDPMediaSection=c.SDPCandidateType=c.SDP=c.RunnableTask=c.ReconnectionHealthPolicy=c.ReceiveVideoStreamIndexTask=c.ReceiveVideoInputTask=c.ReceiveTURNCredentialsTask=c.ReceiveAudioInputTask=c.RealtimeVolumeIndicator=c.RealtimeState=c.RealtimeAttendeePositionInFrame=c.PromoteToPrimaryMeetingTask=c.PromiseQueue=c.PrefetchSortBy=c.PrefetchOn=c.PermissionDeniedError=c.ParallelGroupTask=c.POSTLogger=c.OverconstrainedError=c.OpenSignalingConnectionTask=c.OnceTask=c.NotReadableError=c.NotFoundError=c.None=c.NoVideoUplinkBandwidthPolicy=c.NoVideoDownlinkBandwidthPolicy=c.NoOpVideoFrameProcessor=c.NoOpVideoElementFactory=c.NoOpTask=c.NoOpMediaStreamBroker=c.NoOpLogger=c.NoOpEventReporter=c.NoOpDeviceController=c.NoOpDebugLogger=c.NoOpAudioVideoController=c.NScaleVideoUplinkBandwidthPolicy=c.MutableVideoPreferences=c.MultiLogger=c.MonitorTask=c.ModelSpecBuilder=c.MessagingSessionConfiguration=c.Message=c.MeetingSessionVideoAvailability=c.MeetingSessionURLs=c.MeetingSessionTURNCredentials=c.MeetingSessionStatusCode=c.MeetingSessionStatus=c.MeetingSessionLifecycleEventCondition=c.MeetingSessionLifecycleEvent=void 0,c.VideoPriorityBasedPolicyConfig=c.VideoPriorityBasedPolicy=c.VideoPreferences=c.VideoPreference=c.VideoOnlyTransceiverController=c.VideoLogEvent=c.VideoFxProcessor=c.VideoCodecCapability=c.VideoAdaptiveProbePolicy=c.Versioning=c.UnusableAudioWarningConnectionHealthPolicy=c.TypeError=c.TranscriptionStatusType=c.TranscriptionStatus=c.TranscriptResult=c.TranscriptLanguageWithScore=c.TranscriptItemType=c.TranscriptItem=c.TranscriptEntity=c.TranscriptAlternative=c.Transcript=c.TimeoutTask=c.TimeoutScheduler=c.TaskStatus=c.TargetDisplaySize=c.SubscribeAndReceiveSubscribeAckTask=c.StreamMetricReport=c.Some=c.SingleNodeAudioTransformDevice=c.SimulcastVideoStreamIndex=c.SimulcastTransceiverController=c.SimulcastLayers=c.SimulcastContentShareTransceiverController=c.SignalingClientVideoSubscriptionConfiguration=c.SignalingClientSubscribe=c.SignalingClientJoin=c.SignalingClientEventType=c.SignalingClientEvent=c.SignalingClientConnectionRequest=c.SignalingAndMetricsConnectionMonitor=c.SetRemoteDescriptionTask=c.SetLocalDescriptionTask=c.SessionStateControllerTransitionResult=c.SessionStateControllerState=c.SessionStateControllerDeferPriority=c.SessionStateControllerAction=c.ServerSideNetworkAdaption=c.SerialGroupTask=c.SendingAudioFailureConnectionHealthPolicy=c.SendAndReceiveDataMessagesTask=void 0,c.isVideoTransformDevice=c.isDestroyable=c.isAudioTransformDevice=c.ZLIBTextCompressor=c.WebSocketReadyState=c.WaitForAttendeePresenceTask=c.VoiceFocusTransformDevice=c.VoiceFocusDeviceTransformer=c.VideoTileState=c.VideoStreamDescription=c.VideoSource=c.VideoQualitySettings=void 0;const S=d("uTAD");c.AllHighestVideoBandwidthPolicy=S.default;const h=d("DmQM");c.ApplicationMetadata=h.default;const m=d("F7zz");c.AsyncScheduler=m.default;const f=d("nDuE");c.AttachMediaInputTask=f.default;const a=d("beBF");c.Attendee=a.default;const n=d("PPZC");c.AudioLogEvent=n.default;const i=d("f3u9");c.AudioProfile=i.default;const e=d("1uai");c.AudioVideoControllerState=e.default;const t=d("gLI0");c.BackgroundBlurStrength=t.default;const r=d("Obod");c.BackgroundBlurVideoFrameProcessor=r.default;const l=d("IsLT");c.BackgroundFilterVideoFrameProcessor=l.default;const p=d("ySOd");c.BackgroundReplacementVideoFrameProcessor=p.default;const v=d("oHvd");c.BaseConnectionHealthPolicy=v.default;const g=d("j+uH");c.BaseTask=g.default;const u=d("p5Ac");c.BitrateParameters=u.default;const s=d("p7bP");c.CSPMonitor=s.default;const I=d("Xv43");c.CanvasVideoFrameBuffer=I.default;const M=d("PmG3");c.CheckAudioConnectivityFeedback=M.default;const R=d("ig3o");c.CheckAudioInputFeedback=R.default;const B=d("Rx4Y");c.CheckAudioOutputFeedback=B.default;const j=d("nWLk");c.CheckCameraResolutionFeedback=j.default;const A=d("s3Gi");c.CheckContentShareConnectivityFeedback=A.default;const D=d("VKrp");c.CheckNetworkTCPConnectivityFeedback=D.default;const $=d("M1uR");c.CheckNetworkUDPConnectivityFeedback=$.default;const O=d("sTsL");c.CheckVideoConnectivityFeedback=O.default;const P=d("6k9T");c.CheckVideoInputFeedback=P.default;const k=d("7EAL");c.CleanRestartedSessionTask=k.default;const K=d("wjYw");c.CleanStoppedSessionTask=K.default;const Z=d("6SO8");c.ClientMetricReport=Z.default;const Y=d("bjg3");c.ClientMetricReportDirection=Y.default;const ie=d("x8On");c.ClientMetricReportMediaType=ie.default;const ge=d("7JpI");c.ClientVideoStreamReceivingReport=ge.default;const Ie=d("rhlI");c.ConnectionHealthData=Ie.default;const le=d("U++r");c.ConnectionHealthPolicyConfiguration=le.default;const we=d("zd8f");c.ConsoleLogger=we.default;const Be=d("r3TB");c.ContentShareConstants=Be.default;const Re=d("InPl");c.ContentShareMediaStreamBroker=Re.default;const Ne=d("7UVU");c.CreatePeerConnectionTask=Ne.default;const _e=d("lFzH");c.CreateSDPTask=_e.default;const Ze=d("3i7i");c.DataMessage=Ze.default;const tt=d("HAqy");c.DefaultActiveSpeakerDetector=tt.default;const $e=d("CxCb");c.DefaultActiveSpeakerPolicy=$e.default;const at=d("kUL9");c.DefaultAudioMixController=at.default;const lt=d("a6MJ");c.DefaultAudioVideoController=lt.default;const ot=d("Fm4y");c.DefaultAudioVideoFacade=ot.default;const Gt=d("U9CR");c.DefaultBrowserBehavior=Gt.default;const Zt=d("egzF");c.DefaultContentShareController=Zt.default;const un=d("ZsEg");c.DefaultDeviceController=un.default;const Un=d("+DE9");c.DefaultDevicePixelRatioMonitor=Un.default;const jn=d("KEX5");c.DefaultEventController=jn.default;const ci=d("Gs2/");c.DefaultMediaDeviceFactory=ci.default;const fn=d("pewp");c.DefaultMeetingEventReporter=fn.default;const ri=d("PSPT");c.DefaultMeetingReadinessChecker=ri.default;const gi=d("CWxj");c.DefaultMeetingSession=gi.default;const Nn=d("pacc");c.DefaultMessagingSession=Nn.default;const Ti=d("ppUg");c.DefaultModality=Ti.default;const Bi=d("igcJ");c.DefaultPingPong=Bi.default;const vn=d("iRMv");c.DefaultRealtimeController=vn.default;const Mn=d("l7oq");c.DefaultReconnectController=Mn.default;const Ot=d("on9F");c.DefaultSessionStateController=Ot.default;const Ke=d("dPyZ");c.DefaultSigV4=Ke.default;const gt=d("HG8V");c.DefaultSignalingClient=gt.default;const ht=d("BGMr");c.DefaultSimulcastUplinkPolicy=ht.default;const en=d("VgUL");c.DefaultSimulcastUplinkPolicyForContentShare=en.default;const Kn=d("ZdbB");c.DefaultTransceiverController=Kn.default;const li=d("J5JU");c.DefaultTranscriptionController=li.default;const Ee=d("BEtg");c.DefaultUserAgentParser=Ee.default;const Pe=d("Biyp");c.DefaultVideoCaptureAndEncodeParameter=Pe.default;const Fe=d("eFki");c.DefaultVideoFrameProcessorPipeline=Fe.default;const Dt=d("MpTp");c.DefaultVideoStreamIdSet=Dt.default;const zt=d("0LIx");c.DefaultVideoStreamIndex=zt.default;const Ut=d("Z/hr");c.DefaultVideoTile=Ut.default;const bn=d("yS4C");c.DefaultVideoTileController=bn.default;const wn=d("Wnnr");c.DefaultVideoTileFactory=wn.default;const pn=d("7TH8");c.DefaultVideoTransformDevice=pn.default;const xt=d("kabN");c.DefaultVolumeIndicatorAdapter=xt.default;const Vn=d("3jln");c.DefaultWebSocketAdapter=Vn.default;const on=d("R+jL");c.DevicePixelRatioWindowSource=on.default;const Xn=d("6DYs");c.DeviceSelection=Xn.default;const vi=d("IKDz");c.EventBufferConfiguration=vi.default;const kr=d("HK1f");c.EventIngestionConfiguration=kr.default;const Gr=d("tMH2");c.FinishGatheringICECandidatesTask=Gr.default;const Lr=d("cKqT");c.FullJitterBackoff=Lr.default;const hi=d("o5nl");c.FullJitterBackoffFactory=hi.default;const _r=d("HCbE");c.FullJitterLimitedBackoff=_r.default;const Ii=d("KJDN");c.GetUserMediaError=Ii.default;const Nr=d("U3GI");c.GlobalMetricReport=Nr.default;const or=d("sfTB");c.InMemoryJSONEventBuffer=or.default;const fi=d("BkFD");c.IntervalScheduler=fi.default;const Er=d("Wdtm");c.JoinAndReceiveIndexTask=Er.default;const oi=d("2vi8");c.LeaveAndReceiveLeaveAckTask=oi.default;const tr=d("3taG");c.ListenForVolumeIndicatorsTask=tr.default;const Jn=d("KCGh");c.Log=Jn.default;const sr=d("mlaT");c.LogLevel=sr.default;const $i=d("zH6K");c.MediaDeviceProxyHandler=$i.default;const Tr=d("V2kw");c.MeetingEventsClientConfiguration=Tr.default;const Ir=d("dazq");c.MeetingReadinessCheckerConfiguration=Ir.default;const Ki=d("94P3");c.MeetingSessionConfiguration=Ki.default;const Or=d("/N6y");c.MeetingSessionCredentials=Or.default;const H=d("m/NO");c.MeetingSessionLifecycleEvent=H.default;const te=d("fi20");c.MeetingSessionLifecycleEventCondition=te.default;const Oe=d("aZba");c.MeetingSessionStatus=Oe.default;const ke=d("papz");c.MeetingSessionStatusCode=ke.default;const Ge=d("42jQ");c.MeetingSessionTURNCredentials=Ge.default;const ft=d("GZjp");c.MeetingSessionURLs=ft.default;const pt=d("ZS2b");c.MeetingSessionVideoAvailability=pt.default;const ct=d("HXIC");c.Message=ct.default;const St=d("wSXL");c.MessagingSessionConfiguration=St.default;const Mt=d("DE61");c.ModelSpecBuilder=Mt.default;const kt=d("Hi4k");c.MonitorTask=kt.default;const En=d("N8ne");c.MultiLogger=En.default;const $t=d("P7Xm");c.NScaleVideoUplinkBandwidthPolicy=$t.default;const Hn=d("4w5z");c.NoOpAudioVideoController=Hn.default;const bt=d("ZHiL");c.NoOpDebugLogger=bt.default;const Zn=d("9oOt");c.NoOpDeviceController=Zn.default;const zn=d("sdHd");c.NoOpEventReporter=zn.default;const yi=d("aZJ3");c.NoOpLogger=yi.default;const ei=d("3niY");c.NoOpMediaStreamBroker=ei.default;const $n=d("mZDK");c.NoOpTask=$n.default;const Ei=d("9bRS");c.NoOpVideoElementFactory=Ei.default;const Pi=d("ZZPe");c.NoOpVideoFrameProcessor=Pi.default;const pi=d("1i73");c.NoVideoDownlinkBandwidthPolicy=pi.default;const di=d("VWHd");c.NoVideoUplinkBandwidthPolicy=di.default;const wi=d("QUzi");c.NotFoundError=wi.default;const tn=d("u3ud");c.NotReadableError=tn.default;const si=d("ZnGd");c.OnceTask=si.default;const Qn=d("uB5g");c.OpenSignalingConnectionTask=Qn.default;const Di=d("wJ81");c.OverconstrainedError=Di.default;const io=d("reWd");c.POSTLogger=io.default;const mi=d("W+eo");c.ParallelGroupTask=mi.default;const Br=d("wkYg");c.PermissionDeniedError=Br.default;const Ui=d("18tZ");c.PrefetchOn=Ui.default;const zs=d("aApz");c.PrefetchSortBy=zs.default;const Xi=d("FMuk");c.PromiseQueue=Xi.default;const Ji=d("hspq");c.PromoteToPrimaryMeetingTask=Ji.default;const ti=d("iA6Z");c.RealtimeAttendeePositionInFrame=ti.default;const Jt=d("9Bli");c.RealtimeState=Jt.default;const ar=d("vhVE");c.RealtimeVolumeIndicator=ar.default;const Jo=d("rkwE");c.ReceiveAudioInputTask=Jo.default;const ro=d("uQRK");c.ReceiveTURNCredentialsTask=ro.default;const Hi=d("fxRI");c.ReceiveVideoInputTask=Hi.default;const $r=d("rw3l");c.ReceiveVideoStreamIndexTask=$r.default;const Fr=d("Zful");c.ReconnectionHealthPolicy=Fr.default;const Zi=d("e/M0");c.RunnableTask=Zi.default;const Ss=d("wXa7");c.SDP=Ss.default;const ys=d("JsnC");c.SDPCandidateType=ys.default;const xi=d("2wCG");c.SDPMediaSection=xi.default;const hr=d("D7wJ");c.SendAndReceiveDataMessagesTask=hr.default;const bo=d("1GR6");c.SendingAudioFailureConnectionHealthPolicy=bo.default;const Cs=d("K+bq");c.SerialGroupTask=Cs.default;const Mr=d("/AJg");c.ServerSideNetworkAdaption=Mr.default;const ho=d("K5tc");c.SessionStateControllerAction=ho.default;const oo=d("JOZa");c.SessionStateControllerDeferPriority=oo.default;const Eo=d("AXyi");c.SessionStateControllerState=Eo.default;const Yo=d("Q2ix");c.SessionStateControllerTransitionResult=Yo.default;const Xo=d("XzFx");c.SetLocalDescriptionTask=Xo.default;const Lo=d("fZkv");c.SetRemoteDescriptionTask=Lo.default;const Zo=d("da6e");c.SignalingAndMetricsConnectionMonitor=Zo.default;const fo=d("Sz6V");c.SignalingClientConnectionRequest=fo.default;const Ur=d("0JTw");c.SignalingClientEvent=Ur.default;const Ar=d("HbHZ");c.SignalingClientEventType=Ar.default;const To=d("OV1w");c.SignalingClientJoin=To.default;const po=d("VhCr");c.SignalingClientSubscribe=po.default;const Kr=d("bQ+R");c.SignalingClientVideoSubscriptionConfiguration=Kr.default;const _o=d("wQGL");c.SimulcastContentShareTransceiverController=_o.default;const No=d("ezoW");c.SimulcastLayers=No.default;const Bo=d("VYs+");c.SimulcastTransceiverController=Bo.default;const nr=d("LIUS");c.SimulcastVideoStreamIndex=nr.default;const Fo=d("GW5S");c.SingleNodeAudioTransformDevice=Fo.default;const Qo=d("Tsvd");c.StreamMetricReport=Qo.default;const Uo=d("ZISg");c.SubscribeAndReceiveSubscribeAckTask=Uo.default;const Vr=d("w1x/");c.TargetDisplaySize=Vr.default;const so=d("IGBW");c.TaskStatus=so.default;const fr=d("zcg+");c.TimeoutScheduler=fr.default;const Rr=d("iQPr");c.TimeoutTask=Rr.default;const Vo=d("VPK4");c.Transcript=Vo.default;const Jr=d("Z0UI");c.TranscriptAlternative=Jr.default;const qo=d("XYJD");c.TranscriptEntity=qo.default;const wr=d("epkm");c.TranscriptItem=wr.default;const mo=d("QPT4");c.TranscriptItemType=mo.default;const Io=d("Ka3M");c.TranscriptLanguageWithScore=Io.default;const Pr=d("nXJe");c.TranscriptResult=Pr.default;const Hr=d("PbSJ");c.TranscriptionStatus=Hr.default;const wo=d("HrOX");c.TranscriptionStatusType=wo.default;const Ho=d("sf8V");c.TypeError=Ho.default;const js=d("I/xa");c.UnusableAudioWarningConnectionHealthPolicy=js.default;const Dr=d("ac3q");c.Versioning=Dr.default;const es=d("rCkh");c.VideoAdaptiveProbePolicy=es.default;const zr=d("CAce");c.VideoCodecCapability=zr.default;const bs=d("AtlK");c.VideoFxProcessor=bs.default;const Es=d("10yS");c.VideoLogEvent=Es.default;const lr=d("XJKy");c.VideoOnlyTransceiverController=lr.default;const Yr=d("h96U");c.VideoPreference=Yr.default;const Xr=d("T44/");c.VideoPreferences=Xr.default;const ts=d("5/lR");c.VideoPriorityBasedPolicy=ts.default;const ns=d("BY2i");c.VideoPriorityBasedPolicyConfig=ns.default;const Ws=d("my46");c.VideoQualitySettings=Ws.default;const Oo=d("7p5e");c.VideoSource=Oo.default;const is=d("OEM7");c.VideoStreamDescription=is.default;const Ts=d("uQnq");c.VideoTileState=Ts.default;const rs=d("eWGP");c.VoiceFocusDeviceTransformer=rs.default;const Zr=d("aMTh");c.VoiceFocusTransformDevice=Zr.default;const Is=d("xeHQ");c.WaitForAttendeePresenceTask=Is.default;const Mo=d("z8+u");c.WebSocketReadyState=Mo.default;const Qi=d("aTUL");c.ZLIBTextCompressor=Qi.default;const Ao=d("T44/");Object.defineProperty(c,"MutableVideoPreferences",{enumerable:!0,get:function(){return Ao.MutableVideoPreferences}});const jr=d("Aplu");Object.defineProperty(c,"Some",{enumerable:!0,get:function(){return jr.Some}}),Object.defineProperty(c,"None",{enumerable:!0,get:function(){return jr.None}}),Object.defineProperty(c,"Maybe",{enumerable:!0,get:function(){return jr.Maybe}});const Ro=d("6k+I");Object.defineProperty(c,"isAudioTransformDevice",{enumerable:!0,get:function(){return Ro.isAudioTransformDevice}});const ao=d("crgu");Object.defineProperty(c,"isDestroyable",{enumerable:!0,get:function(){return ao.isDestroyable}});const go=d("0OOd");Object.defineProperty(c,"isVideoTransformDevice",{enumerable:!0,get:function(){return go.isVideoTransformDevice}})},tFDz:function(N,c,d){"use strict";var S=this&&this.__awaiter||function(n,i,e,t){function r(l){return l instanceof e?l:new e(function(p){p(l)})}return o(r,"adopt"),new(e||(e=Promise))(function(l,p){function v(s){try{u(t.next(s))}catch(I){p(I)}}o(v,"fulfilled");function g(s){try{u(t.throw(s))}catch(I){p(I)}}o(g,"rejected");function u(s){s.done?l(s.value):r(s.value).then(v,g)}o(u,"step"),u((t=t.apply(n,i||[])).next())})};Object.defineProperty(c,"__esModule",{value:!0});const h=d("KvYa"),m=d("nJ1/"),f=5*1e3;let a=o(class extends m.VoiceFocusAudioWorkletNode{onModuleBufferLoaded(i,e){this.port.postMessage({message:"module-buffer",buffer:i,key:e})}onModuleLoaded(i,e){this.port.postMessage({message:"module",module:i,key:e})}enable(){return S(this,void 0,void 0,function*(){this.port.postMessage({message:"enable"})})}disable(){return S(this,void 0,void 0,function*(){this.port.postMessage({message:"disable"})})}stop(){var i;return S(this,void 0,void 0,function*(){this.port.postMessage({message:"stop"});try{(i=this.worker)===null||i===void 0||i.terminate()}catch(e){console.error("failed to terminate worker:",e)}this.disconnect()})}onProcessorMessage(i){var e,t,r;const l=i.data;switch(l.message){case"cpu":this.cpuWarningCount++;const p=Date.now(),v=this.cpuWarningLastTriggered||p,g=Math.abs(p-v);(!this.cpuWarningLastTriggered||g>f)&&((e=this.logger)===null||e===void 0||e.warn(`CPU warning (count: ${this.cpuWarningCount}):`,l.message),this.cpuWarningCount=0,this.cpuWarningLastTriggered=p),(t=this.delegate)===null||t===void 0||t.onCPUWarning();break;default:(r=this.logger)===null||r===void 0||r.debug("Ignoring processor message.")}}onWorkerMessage(i){const e=i.data;switch(e.message){case"module-buffer":if(!e.buffer||!e.key)return;this.onModuleBufferLoaded(e.buffer,e.key);break;case"module":if(!e.module||!e.key)return;this.onModuleLoaded(e.module,e.key);break;case"stopped":this.worker&&this.worker.terminate();break;default:return}}constructor(i,e){super(i,e.processor,e),this.cpuWarningCount=0,this.channelCountMode="explicit",this.channelCount=1;const{modelURL:t,worker:r,fetchBehavior:l,logger:p,delegate:v}=e;this.logger=p,this.port.onmessage=this.onProcessorMessage.bind(this),this.delegate=v,p&&p.debug("VoiceFocusInlineNode:",t),this.worker=r,this.worker.onmessage=this.onWorkerMessage.bind(this);const g=h.supportsWASMPostMessage(globalThis)?"get-module":"get-module-buffer";this.worker.postMessage({message:g,key:"model",fetchBehavior:l,path:t})}},"VoiceFocusInlineNode");c.default=a},tK6J:function(N,c,d){"use strict";var S=this&&this.__awaiter||function(a,n,i,e){function t(r){return r instanceof i?r:new i(function(l){l(r)})}return o(t,"adopt"),new(i||(i=Promise))(function(r,l){function p(u){try{g(e.next(u))}catch(s){l(s)}}o(p,"fulfilled");function v(u){try{g(e.throw(u))}catch(s){l(s)}}o(v,"rejected");function g(u){u.done?r(u.value):t(u.value).then(p,v)}o(g,"step"),g((e=e.apply(a,n||[])).next())})};Object.defineProperty(c,"__esModule",{value:!0});const h=d("6/h7"),m=d("8wPz");let f=o(class yv{sortedDeviceList(){return S(this,void 0,void 0,function*(){return(yield navigator.mediaDevices.enumerateDevices()).sort((i,e)=>i.deviceId<e.deviceId?1:i.deviceId>e.deviceId?-1:0)})}handleDeviceChangeEvent(){for(const n of this.deviceChangeListeners)h.default.nextTick(()=>{if(this.deviceChangeListeners.has(n)){const i=new Event("devicechange");typeof n=="function"?n(i):n.handleEvent(i)}})}constructor(){this.scheduler=null,this.devices=null,this.deviceChangeListeners=new Set,this.get=(n,i,e)=>{if(!Reflect.has(n,i))return;if(!("ondevicechange"in navigator.mediaDevices)){if(i==="addEventListener")return this.patchAddEventListener(n,i,e);if(i==="removeEventListener")return this.patchRemoveEventListener(n,i,e)}const t=Reflect.get(n,i,e);return typeof t=="function"?t.bind(n):t},this.patchAddEventListener=(n,i,e)=>{const t=Reflect.get(n,i,e);return(r,l,p)=>{if(r==="devicechange")this.deviceChangeListeners.add(l),this.scheduler||(this.scheduler=new m.default(yv.INTERVAL_MS),this.scheduler.start(this.pollDeviceLists));else return Reflect.apply(t,n,[r,l,p])}},this.patchRemoveEventListener=(n,i,e)=>{const t=Reflect.get(n,i,e);return(r,l,p)=>{if(r==="devicechange")this.deviceChangeListeners.delete(l),this.deviceChangeListeners.size===0&&this.scheduler&&(this.scheduler.stop(),this.scheduler=null);else return Reflect.apply(t,n,[r,l,p])}},this.pollDeviceLists=()=>S(this,void 0,void 0,function*(){const n=yield this.sortedDeviceList();this.devices&&(n.length!==this.devices.length||n.some((e,t)=>e.deviceId!==this.devices[t].deviceId))&&this.handleDeviceChangeEvent(),this.devices=n})}},"MediaDeviceProxyHandler");c.default=f,f.INTERVAL_MS=1e3},tMH2:function(N,c,d){"use strict";var S=this&&this.__awaiter||function(n,i,e,t){function r(l){return l instanceof e?l:new e(function(p){p(l)})}return o(r,"adopt"),new(e||(e=Promise))(function(l,p){function v(s){try{u(t.next(s))}catch(I){p(I)}}o(v,"fulfilled");function g(s){try{u(t.throw(s))}catch(I){p(I)}}o(g,"rejected");function u(s){s.done?l(s.value):r(s.value).then(v,g)}o(u,"step"),u((t=t.apply(n,i||[])).next())})};Object.defineProperty(c,"__esModule",{value:!0});const h=d("papz"),m=d("wXa7"),f=d("j+uH");let a=o(class Cv extends f.default{removeEventListener(){this.context.peer&&(this.context.peer.removeEventListener("icecandidate",this.context.iceCandidateHandler),this.context.turnCredentials||this.context.peer.removeEventListener("icegatheringstatechange",this.context.iceGatheringStateEventHandler))}cancel(){let i;this.context.browserBehavior.requiresIceCandidateGatheringTimeoutWorkaround()&&this.chromeVpnTimeoutMs<this.context.meetingSessionConfiguration.connectionTimeoutMs&&Date.now()-this.startTimestampMs>this.chromeVpnTimeoutMs&&(i=new Error(`canceling ${this.name()} due to the meeting status code: ${h.default.ICEGatheringTimeoutWorkaround}`)),this.cancelPromise&&(i=i||new Error(`canceling ${this.name()}`),this.cancelPromise(i),delete this.cancelPromise)}run(){return S(this,void 0,void 0,function*(){if(this.context.peer||this.logAndThrow("session does not have peer connection; bypass ice gathering"),this.context.browserBehavior.requiresCheckForSdpConnectionAttributes()){if(new m.default(this.context.peer.localDescription.sdp).hasCandidatesForAllMLines()){this.context.logger.info(`ice gathering already complete; bypass gathering, current local description ${this.context.peer.localDescription.sdp}`);return}}else this.context.logger.info(`iOS device does not require checking for connection attributes in SDP, current local description ${this.context.peer.localDescription.sdp}`);if((this.context.browserBehavior.hasFirefoxWebRTC()||this.context.peer.iceGatheringState==="complete")&&new m.default(this.context.peer.localDescription.sdp).hasCandidates()){this.context.logger.info("ice gathering state is complete and candidates are in SDP; bypass gathering");return}try{yield new Promise((i,e)=>{this.cancelPromise=t=>{this.removeEventListener(),e(t)},this.context.turnCredentials||(this.context.iceGatheringStateEventHandler=()=>{if(this.context.peer.iceGatheringState==="complete"){this.removeEventListener(),i(),delete this.cancelPromise;return}},this.context.peer.addEventListener("icegatheringstatechange",this.context.iceGatheringStateEventHandler)),this.context.iceCandidateHandler=t=>{if(this.context.logger.info(`ice candidate: ${t.candidate?t.candidate.candidate:"(null)"} state: ${this.context.peer.iceGatheringState}`),t.candidate&&(m.default.isRTPCandidate(t.candidate.candidate)&&this.context.iceCandidates.push(t.candidate),this.context.turnCredentials&&this.context.iceCandidates.length>=1)){this.context.logger.info("gathered at least one relay candidate"),this.removeEventListener(),i(),delete this.cancelPromise;return}this.context.peer.iceGatheringState==="complete"&&(this.context.logger.info("done gathering ice candidates"),this.removeEventListener(),!new m.default(this.context.peer.localDescription.sdp).hasCandidates()||this.context.iceCandidates.length===0?(e(new Error("no ice candidates were gathered")),delete this.cancelPromise):(i(),delete this.cancelPromise))},this.context.peer.addEventListener("icecandidate",this.context.iceCandidateHandler),this.startTimestampMs=Date.now()})}catch(i){throw i}finally{this.startTimestampMs&&(this.context.iceGatheringDurationMs=Math.round(Date.now()-this.startTimestampMs))}})}constructor(i,e=Cv.CHROME_VPN_TIMEOUT_MS){super(i.logger),this.context=i,this.chromeVpnTimeoutMs=e,this.taskName="FinishGatheringICECandidatesTask"}},"FinishGatheringICECandidatesTask");c.default=a,a.CHROME_VPN_TIMEOUT_MS=5e3},tcc5:function(N,c,d){"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.MeetingSessionLifecycleEvent=void 0;var S;(function(h){h[h.Connecting=0]="Connecting",h[h.Started=1]="Started",h[h.Stopped=2]="Stopped"})(S=c.MeetingSessionLifecycleEvent||(c.MeetingSessionLifecycleEvent={})),c.default=S},teem:function(N,c,d){"use strict";var S=this&&this.__awaiter||function(a,n,i,e){function t(r){return r instanceof i?r:new i(function(l){l(r)})}return o(t,"adopt"),new(i||(i=Promise))(function(r,l){function p(u){try{g(e.next(u))}catch(s){l(s)}}o(p,"fulfilled");function v(u){try{g(e.throw(u))}catch(s){l(s)}}o(v,"rejected");function g(u){u.done?r(u.value):t(u.value).then(p,v)}o(g,"step"),g((e=e.apply(a,n||[])).next())})};Object.defineProperty(c,"__esModule",{value:!0});const h=d("hEYi"),m=d("aVV0");let f=o(class extends m.default{cancel(){this.taskCanceler&&(this.taskCanceler.cancel(),this.taskCanceler=null)}run(){return S(this,void 0,void 0,function*(){try{this.context.signalingClient.ready()&&(this.context.signalingClient.closeConnection(),yield this.receiveWebSocketClosedEvent())}catch(n){throw n}finally{for(const i of this.context.removableObservers)i.removeObserver();this.context.resetConnectionSpecificState(),this.context.statsCollector.stop(),this.context.statsCollector=null,this.context.connectionMonitor.stop(),this.context.connectionMonitor=null,this.context.videoUplinkBandwidthPolicy.setTransceiverController&&this.context.videoUplinkBandwidthPolicy.setTransceiverController(void 0),this.context.videoDownlinkBandwidthPolicy.bindToTileController&&this.context.videoDownlinkBandwidthPolicy.bindToTileController(void 0);const n=this.context.videoTileController.getLocalVideoTile();n&&n.bindVideoStream("",!0,null,null,null,null),this.context.videoTileController.removeAllVideoTiles()}})}receiveWebSocketClosedEvent(){return new Promise((n,i)=>{let e=o(class{cancel(){this.signalingClient.removeObserver(this),i(new Error("CleanStoppedSessionTask got canceled while waiting for the WebSocket closed event"))}handleSignalingClientEvent(l){l.type===h.default.WebSocketClosed&&(this.signalingClient.removeObserver(this),n())}constructor(l){this.signalingClient=l}},"Interceptor");const t=new e(this.context.signalingClient);this.taskCanceler=t,this.context.signalingClient.registerObserver(t)})}constructor(n){super(n.logger),this.context=n,this.taskName="CleanStoppedSessionTask",this.taskCanceler=null}},"CleanStoppedSessionTask");c.default=f},u3ud:function(N,c,d){"use strict";Object.defineProperty(c,"__esModule",{value:!0});const S=d("KJDN");let h=o(class extends S.default{constructor(f){super(f),this.name="NotReadableError"}},"NotReadableError");c.default=h},uB5g:function(N,c,d){"use strict";var S=this&&this.__awaiter||function(n,i,e,t){function r(l){return l instanceof e?l:new e(function(p){p(l)})}return o(r,"adopt"),new(e||(e=Promise))(function(l,p){function v(s){try{u(t.next(s))}catch(I){p(I)}}o(v,"fulfilled");function g(s){try{u(t.throw(s))}catch(I){p(I)}}o(g,"rejected");function u(s){s.done?l(s.value):r(s.value).then(v,g)}o(u,"step"),u((t=t.apply(n,i||[])).next())})};Object.defineProperty(c,"__esModule",{value:!0});const h=d("Sz6V"),m=d("HbHZ"),f=d("j+uH");let a=o(class extends f.default{cancel(){this.taskCanceler&&(this.taskCanceler.cancel(),this.taskCanceler=null)}run(){return S(this,void 0,void 0,function*(){const i=this.context.meetingSessionConfiguration;this.context.signalingClient.openConnection(new h.default(i.urls.signalingURL,i.credentials.joinToken));const e=Date.now();try{yield new Promise((t,r)=>{let l=o(class{cancel(){this.signalingClient.removeObserver(this),r(new Error("OpenSignalingConnectionTask got canceled while waiting to open signaling connection"))}handleSignalingClientEvent(g){switch(g.type){case m.default.WebSocketOpen:this.signalingClient.removeObserver(this),t();break;case m.default.WebSocketFailed:this.signalingClient.removeObserver(this),r(new Error("WebSocket connection failed"));break}}constructor(g){this.signalingClient=g}},"WebSocketOpenInterceptor");const p=new l(this.context.signalingClient);this.context.signalingClient.registerObserver(p),this.taskCanceler=p})}catch(t){throw t}finally{this.context.signalingOpenDurationMs=Math.round(Date.now()-e),this.logger.info(`Opening signaling connection took ${this.context.signalingOpenDurationMs} ms`)}})}constructor(i){super(i.logger),this.context=i,this.taskName="OpenSignalingConnectionTask",this.taskCanceler=null}},"OpenSignalingConnectionTask");c.default=a},uCvS:function(N,c,d){"use strict";Object.defineProperty(c,"__esModule",{value:!0});const S=d("f2XL"),h=d("LmyK"),m=d("mpmV"),f=d("2oFa");let a=o(class bv{getMetricMap(i,e){switch(i){case m.default.AUDIO:switch(e){case h.default.UPSTREAM:return this.audioUpstreamMetricMap;case h.default.DOWNSTREAM:return this.audioDownstreamMetricMap}case m.default.VIDEO:switch(e){case h.default.UPSTREAM:return this.videoUpstreamMetricMap;case h.default.DOWNSTREAM:return this.videoDownstreamMetricMap}default:return this.globalMetricMap}}getStreamDimensionMap(){return this.streamDimensionMap}getObservableMetricValue(i){const e=this.observableMetricSpec[i],r=this.getMetricMap(e.media,e.dir)[e.source],{transform:l,source:p}=r;if(e.hasOwnProperty("media"))for(const v in this.streamMetricReports){const g=this.streamMetricReports[v];if(g.direction===e.dir&&g.mediaType===e.media)return l(p||e.source,Number(v))}else return l(p||e.source);return 0}getObservableVideoMetricValue(i,e){const t=this.observableVideoMetricSpec[i],l=this.getMetricMap(t.media,t.dir)[t.source],{transform:p,source:v}=l;return p(v||t.source,e)}getObservableMetrics(){const i={};for(const e in this.observableMetricSpec)i[e]=this.getObservableMetricValue(e);return i}getObservableVideoMetrics(){const i={};if(!this.videoStreamIndex||!this.selfAttendeeId)return this.logger.error("Need to define VideoStreamIndex and selfAttendeeId if using getObservableVideoMetrics API"),i;for(const e in this.streamMetricReports)if(this.streamMetricReports[e].mediaType===m.default.VIDEO){const t={};for(const p in this.observableVideoMetricSpec)if(this.observableVideoMetricSpec[p].dir===this.streamMetricReports[e].direction){const v=this.getObservableVideoMetricValue(p,Number(e));isNaN(v)||(t[p]=v)}const r=this.streamMetricReports[e].streamId,l=r?this.videoStreamIndex.attendeeIdForStreamId(r):this.selfAttendeeId;i[l]=i[l]?i[l]:{},i[l][e]=t}return i}getRTCStatsReport(){return this.rtcStatsReport}clone(){const i=new bv(this.logger,this.videoStreamIndex,this.selfAttendeeId);return i.globalMetricReport=this.globalMetricReport,i.streamMetricReports=this.streamMetricReports,i.rtcStatsReport=this.rtcStatsReport,i.currentTimestampMs=this.currentTimestampMs,i.previousTimestampMs=this.previousTimestampMs,i}print(){const i={globalMetricReport:this.globalMetricReport,streamMetricReports:this.streamMetricReports,currentTimestampMs:this.currentTimestampMs,previousTimestampMs:this.previousTimestampMs};this.logger.debug(()=>`Client Metric Report: ${JSON.stringify(i)}`)}removeDestroyedSsrcs(){for(const i in this.streamMetricReports)this.currentSsrcs[i]||delete this.streamMetricReports[i]}constructor(i,e,t){this.logger=i,this.videoStreamIndex=e,this.selfAttendeeId=t,this.globalMetricReport=new f.default,this.streamMetricReports={},this.rtcStatsReport={},this.currentTimestampMs=0,this.previousTimestampMs=0,this.currentSsrcs={},this.identityValue=(r,l)=>{const p=l?this.streamMetricReports[l]:this.globalMetricReport;return Number(p.currentMetrics[r])},this.decoderLossPercent=(r,l)=>{const p=this.streamMetricReports[l],v=p.currentMetrics.concealedSamples-(p.previousMetrics.concealedSamples||0),g=p.currentMetrics.totalSamplesReceived-(p.previousMetrics.totalSamplesReceived||0);return g<=0||g-v<=0?0:v/g*100},this.packetLossPercent=(r,l)=>{const p=this.streamMetricReports[l],v=p.currentMetrics[r]-(p.previousMetrics[r]||0),g=p.currentMetrics.packetsLost-(p.previousMetrics.packetsLost||0),u=v+g;return u<=0||g<=0?0:g*100/u},this.jitterBufferMs=(r,l)=>{const p=this.streamMetricReports[l],v=p.currentMetrics.jitterBufferDelay-(p.previousMetrics.jitterBufferDelay||0),g=p.currentMetrics.jitterBufferEmittedCount-(p.previousMetrics.jitterBufferEmittedCount||0);return v<=0||g<=0?0:v/g*1e3},this.countPerSecond=(r,l)=>{const p=l?this.streamMetricReports[l]:this.globalMetricReport;let v=(this.currentTimestampMs-this.previousTimestampMs)/1e3;if(v<=0)return 0;this.previousTimestampMs<=0&&(v=1);const g=p.currentMetrics[r]-(p.previousMetrics[r]||0);return g<=0?0:Math.trunc(g/v)},this.bitsPerSecond=(r,l)=>{const p=l?this.streamMetricReports[l]:this.globalMetricReport;let v=(this.currentTimestampMs-this.previousTimestampMs)/1e3;if(v<=0)return 0;this.previousTimestampMs<=0&&(v=1);const g=(p.currentMetrics[r]-(p.previousMetrics[r]||0))*8;return g<=0?0:Math.trunc(g/v)},this.secondsToMilliseconds=(r,l)=>{const p=l?this.streamMetricReports[l]:this.globalMetricReport;return Number(p.currentMetrics[r]*1e3)},this.averageTimeSpentPerSecondInMilliseconds=(r,l)=>{const p=l?this.streamMetricReports[l]:this.globalMetricReport;let v=(this.currentTimestampMs-this.previousTimestampMs)/1e3;if(v<=0)return 0;this.previousTimestampMs<=0&&(v=1);const g=p.currentMetrics[r]-(p.previousMetrics[r]||0);return g<=0?0:g*1e3/v},this.isHardwareImplementation=(r,l)=>{const p=this.streamMetricReports[l],v=String(p.currentStringMetrics[r]),g=v.includes("ExternalDecoder")||v.includes("ExternalEncoder")||v.includes("EncodeAccelerator")||v.includes("DecodeAccelerator"),u=v.includes("fallback from");return g&&!u?1:0},this.globalMetricMap={retransmittedBytesSent:{transform:this.identityValue,type:S.SdkMetric.Type.VIDEO_RETRANSMIT_BITRATE},totalEncodedBytesTarget:{transform:this.identityValue,type:S.SdkMetric.Type.VIDEO_TARGET_ENCODER_BITRATE},totalPacketSendDelay:{transform:this.identityValue,type:S.SdkMetric.Type.VIDEO_BUCKET_DELAY_MS},packetsDiscardedOnSend:{transform:this.countPerSecond,type:S.SdkMetric.Type.SOCKET_DISCARDED_PPS},availableIncomingBitrate:{transform:this.identityValue,type:S.SdkMetric.Type.VIDEO_AVAILABLE_RECEIVE_BANDWIDTH},availableOutgoingBitrate:{transform:this.identityValue,type:S.SdkMetric.Type.VIDEO_AVAILABLE_SEND_BANDWIDTH},currentRoundTripTime:{transform:this.secondsToMilliseconds,type:S.SdkMetric.Type.STUN_RTT_MS}},this.audioUpstreamMetricMap={jitter:{transform:this.secondsToMilliseconds,type:S.SdkMetric.Type.RTC_MIC_JITTER_MS},packetsSent:{transform:this.countPerSecond,type:S.SdkMetric.Type.RTC_MIC_PPS},bytesSent:{transform:this.bitsPerSecond,type:S.SdkMetric.Type.RTC_MIC_BITRATE},roundTripTime:{transform:this.secondsToMilliseconds,type:S.SdkMetric.Type.RTC_MIC_RTT_MS},packetsLost:{transform:this.packetLossPercent,type:S.SdkMetric.Type.RTC_MIC_FRACTION_PACKET_LOST_PERCENT,source:"packetsSent"}},this.audioDownstreamMetricMap={concealedSamples:{transform:this.countPerSecond},totalSamplesReceived:{transform:this.countPerSecond},decoderLoss:{transform:this.decoderLossPercent,type:S.SdkMetric.Type.RTC_SPK_FRACTION_DECODER_LOSS_PERCENT},packetsReceived:{transform:this.countPerSecond,type:S.SdkMetric.Type.RTC_SPK_PPS},packetsLost:{transform:this.packetLossPercent,type:S.SdkMetric.Type.RTC_SPK_FRACTION_PACKET_LOST_PERCENT,source:"packetsReceived"},jitter:{transform:this.secondsToMilliseconds,type:S.SdkMetric.Type.RTC_SPK_JITTER_MS},jitterBufferDelay:{transform:this.countPerSecond},jitterBufferEmittedCount:{transform:this.countPerSecond},jitterBufferMs:{transform:this.jitterBufferMs,type:S.SdkMetric.Type.RTC_SPK_JITTER_BUFFER_MS},bytesReceived:{transform:this.bitsPerSecond,type:S.SdkMetric.Type.RTC_SPK_BITRATE}},this.videoUpstreamMetricMap={roundTripTime:{transform:this.secondsToMilliseconds,type:S.SdkMetric.Type.VIDEO_SENT_RTT_MS},nackCount:{transform:this.countPerSecond,type:S.SdkMetric.Type.VIDEO_NACKS_RECEIVED},pliCount:{transform:this.countPerSecond,type:S.SdkMetric.Type.VIDEO_PLIS_RECEIVED},firCount:{transform:this.countPerSecond,type:S.SdkMetric.Type.VIDEO_FIRS_RECEIVED},framesPerSecond:{transform:this.identityValue,type:S.SdkMetric.Type.VIDEO_INPUT_FPS},framesEncoded:{transform:this.countPerSecond,type:S.SdkMetric.Type.VIDEO_ENCODE_FPS},packetsSent:{transform:this.countPerSecond,type:S.SdkMetric.Type.VIDEO_SENT_PPS},packetsLost:{transform:this.packetLossPercent,type:S.SdkMetric.Type.VIDEO_SENT_FRACTION_PACKET_LOST_PERCENT,source:"packetsSent"},bytesSent:{transform:this.bitsPerSecond,type:S.SdkMetric.Type.VIDEO_SENT_BITRATE},qpSum:{transform:this.countPerSecond,type:S.SdkMetric.Type.VIDEO_SENT_QP_SUM},frameHeight:{transform:this.identityValue,type:S.SdkMetric.Type.VIDEO_ENCODE_HEIGHT},frameWidth:{transform:this.identityValue,type:S.SdkMetric.Type.VIDEO_ENCODE_WIDTH},jitter:{transform:this.secondsToMilliseconds},totalEncodeTime:{transform:this.averageTimeSpentPerSecondInMilliseconds,type:S.SdkMetric.Type.VIDEO_ENCODE_MS},encoderImplementation:{transform:this.isHardwareImplementation,type:S.SdkMetric.Type.VIDEO_ENCODER_IS_HARDWARE}},this.videoDownstreamMetricMap={packetsReceived:{transform:this.countPerSecond,type:S.SdkMetric.Type.VIDEO_RECEIVED_PPS},packetsLost:{transform:this.packetLossPercent,type:S.SdkMetric.Type.VIDEO_RECEIVED_FRACTION_PACKET_LOST_PERCENT,source:"packetsReceived"},framesReceived:{transform:this.identityValue,type:S.SdkMetric.Type.VIDEO_RECEIVED_FPS},framesDecoded:{transform:this.countPerSecond,type:S.SdkMetric.Type.VIDEO_DECODE_FPS},nackCount:{transform:this.countPerSecond,type:S.SdkMetric.Type.VIDEO_NACKS_SENT},firCount:{transform:this.countPerSecond,type:S.SdkMetric.Type.VIDEO_FIRS_SENT},pliCount:{transform:this.countPerSecond,type:S.SdkMetric.Type.VIDEO_PLIS_SENT},bytesReceived:{transform:this.bitsPerSecond,type:S.SdkMetric.Type.VIDEO_RECEIVED_BITRATE},jitter:{transform:this.secondsToMilliseconds,type:S.SdkMetric.Type.VIDEO_RECEIVED_JITTER_MS},jitterBufferDelay:{transform:this.countPerSecond},jitterBufferEmittedCount:{transform:this.countPerSecond},jitterBufferMs:{transform:this.jitterBufferMs,type:S.SdkMetric.Type.VIDEO_JITTER_BUFFER_MS},qpSum:{transform:this.countPerSecond,type:S.SdkMetric.Type.VIDEO_RECEIVED_QP_SUM},frameHeight:{transform:this.identityValue,type:S.SdkMetric.Type.VIDEO_DECODE_HEIGHT},frameWidth:{transform:this.identityValue,type:S.SdkMetric.Type.VIDEO_DECODE_WIDTH},totalDecodeTime:{transform:this.averageTimeSpentPerSecondInMilliseconds,type:S.SdkMetric.Type.VIDEO_DECODE_MS},decoderImplementation:{transform:this.isHardwareImplementation,type:S.SdkMetric.Type.VIDEO_DECODER_IS_HARDWARE}},this.streamDimensionMap={encoderImplementation:S.SdkStreamDimension.Type.VIDEO_ENCODER_NAME,decoderImplementation:S.SdkStreamDimension.Type.VIDEO_DECODER_NAME},this.observableVideoMetricSpec={videoUpstreamBitrate:{source:"bytesSent",media:m.default.VIDEO,dir:h.default.UPSTREAM},videoUpstreamPacketsSent:{source:"packetsSent",media:m.default.VIDEO,dir:h.default.UPSTREAM},videoUpstreamPacketLossPercent:{source:"packetsLost",media:m.default.VIDEO,dir:h.default.UPSTREAM},videoUpstreamFramesEncodedPerSecond:{source:"framesEncoded",media:m.default.VIDEO,dir:h.default.UPSTREAM},videoUpstreamFrameHeight:{source:"frameHeight",media:m.default.VIDEO,dir:h.default.UPSTREAM},videoUpstreamFrameWidth:{source:"frameWidth",media:m.default.VIDEO,dir:h.default.UPSTREAM},videoUpstreamJitterMs:{source:"jitter",media:m.default.VIDEO,dir:h.default.UPSTREAM},videoUpstreamRoundTripTimeMs:{source:"roundTripTime",media:m.default.VIDEO,dir:h.default.UPSTREAM},videoDownstreamBitrate:{source:"bytesReceived",media:m.default.VIDEO,dir:h.default.DOWNSTREAM},videoDownstreamPacketLossPercent:{source:"packetsLost",media:m.default.VIDEO,dir:h.default.DOWNSTREAM},videoDownstreamPacketsReceived:{source:"packetsReceived",media:m.default.VIDEO,dir:h.default.DOWNSTREAM},videoDownstreamFramesDecodedPerSecond:{source:"framesDecoded",media:m.default.VIDEO,dir:h.default.DOWNSTREAM},videoDownstreamFrameHeight:{source:"frameHeight",media:m.default.VIDEO,dir:h.default.DOWNSTREAM},videoDownstreamFrameWidth:{source:"frameWidth",media:m.default.VIDEO,dir:h.default.DOWNSTREAM},videoDownstreamJitterMs:{source:"jitter",media:m.default.VIDEO,dir:h.default.DOWNSTREAM},videoDownstreamDelayMs:{source:"jitterBufferMs",media:m.default.VIDEO,dir:h.default.DOWNSTREAM}},this.observableMetricSpec={audioPacketsReceived:{source:"packetsReceived",media:m.default.AUDIO,dir:h.default.DOWNSTREAM},audioPacketsReceivedFractionLoss:{source:"packetsLost",media:m.default.AUDIO,dir:h.default.DOWNSTREAM},audioDecoderLoss:{source:"decoderLoss",media:m.default.AUDIO,dir:h.default.DOWNSTREAM},audioPacketsSent:{source:"packetsSent",media:m.default.AUDIO,dir:h.default.UPSTREAM},audioPacketLossPercent:{source:"packetsLost",media:m.default.AUDIO,dir:h.default.UPSTREAM},audioUpstreamRoundTripTimeMs:{source:"roundTripTime",media:m.default.AUDIO,dir:h.default.UPSTREAM},videoUpstreamBitrate:{source:"bytesSent",media:m.default.VIDEO,dir:h.default.UPSTREAM},videoPacketSentPerSecond:{source:"packetsSent",media:m.default.VIDEO,dir:h.default.UPSTREAM},audioSpeakerDelayMs:{source:"jitterBufferMs",media:m.default.AUDIO,dir:h.default.DOWNSTREAM},audioUpstreamJitterMs:{source:"jitter",media:m.default.AUDIO,dir:h.default.UPSTREAM},audioDownstreamJitterMs:{source:"jitter",media:m.default.AUDIO,dir:h.default.DOWNSTREAM},nackCountReceivedPerSecond:{source:"nackCount",media:m.default.VIDEO,dir:h.default.UPSTREAM},availableOutgoingBitrate:{source:"availableOutgoingBitrate"},availableIncomingBitrate:{source:"availableIncomingBitrate"},currentRoundTripTimeMs:{source:"currentRoundTripTime"}}}},"ClientMetricReport");c.default=a},uKXT:function(N,c,d){"use strict";var S=d("YBmv"),h=d("eP7z"),m=d("+Xah");function f(a){return a&&a.length?Object(S.a)(a,m.a,h.a):void 0}o(f,"min"),c.a=f},uQRK:function(N,c,d){"use strict";var S=this&&this.__awaiter||function(e,t,r,l){function p(v){return v instanceof r?v:new r(function(g){g(v)})}return o(p,"adopt"),new(r||(r=Promise))(function(v,g){function u(M){try{I(l.next(M))}catch(R){g(R)}}o(u,"fulfilled");function s(M){try{I(l.throw(M))}catch(R){g(R)}}o(s,"rejected");function I(M){M.done?v(M.value):p(M.value).then(u,s)}o(I,"step"),I((l=l.apply(e,t||[])).next())})};Object.defineProperty(c,"__esModule",{value:!0});const h=d("papz"),m=d("42jQ"),f=d("ppUg"),a=d("ac3q"),n=d("j+uH");let i=o(class extends n.default{cancel(){if(this.cancelPromise){const t=new Error(`canceling ${this.name()}`);this.cancelPromise(t),delete this.cancelPromise}}run(){return S(this,void 0,void 0,function*(){if(this.context.turnCredentials){this.context.logger.info("TURN credentials available, skipping credentials fetch");return}if(this.context.logger.error("missing TURN credentials - falling back to fetch"),!this.url){this.context.logger.info("TURN control url not supplied, skipping credentials fetch");return}const t={method:"POST",mode:"cors",cache:"no-cache",credentials:"omit",headers:{"Content-Type":"application/json","X-Chime-Auth-Token":"_aws_wt_session="+new f.default(this.joinToken).base()},redirect:"follow",referrer:"no-referrer",body:JSON.stringify({meetingId:this.meetingId})};this.context.logger.info(`requesting TURN credentials from ${this.url}`);const r=yield new Promise((l,p)=>S(this,void 0,void 0,function*(){this.cancelPromise=v=>{p(v)};try{const v=yield fetch(a.default.urlWithVersion(this.url),t);if(this.context.logger.info("received TURN credentials"),v.status&&v.status===403){p(new Error(`canceling ${this.name()} due to the meeting status code: ${h.default.TURNCredentialsForbidden}`));return}if(v.status&&v.status===404){p(new Error(`canceling ${this.name()} due to the meeting status code: ${h.default.MeetingEnded}`));return}l(yield v.json())}catch(v){p(v)}finally{delete this.cancelPromise}}));this.context.turnCredentials=new m.default,this.context.turnCredentials.password=r.password,this.context.turnCredentials.ttl=r.ttl,this.context.turnCredentials.uris=r.uris.map(l=>this.context.meetingSessionConfiguration.urls.urlRewriter(l)).filter(l=>!!l),this.context.turnCredentials.username=r.username})}constructor(t){super(t.logger),this.context=t,this.taskName="ReceiveTURNCredentialsTask",this.url=t.meetingSessionConfiguration.urls.turnControlURL,this.meetingId=t.meetingSessionConfiguration.meetingId,this.joinToken=t.meetingSessionConfiguration.credentials.joinToken}},"ReceiveTURNCredentialsTask");c.default=i},uQnq:function(N,c,d){"use strict";Object.defineProperty(c,"__esModule",{value:!0});let S=o(class Ev{clone(){const m=new Ev;return m.tileId=this.tileId,m.localTile=this.localTile,m.isContent=this.isContent,m.active=this.active,m.paused=this.paused,m.poorConnection=this.poorConnection,m.boundAttendeeId=this.boundAttendeeId,m.boundExternalUserId=this.boundExternalUserId,m.boundVideoStream=this.boundVideoStream,m.boundVideoElement=this.boundVideoElement,m.nameplate=this.nameplate,m.videoStreamContentWidth=this.videoStreamContentWidth,m.videoStreamContentHeight=this.videoStreamContentHeight,m.videoElementCSSWidthPixels=this.videoElementCSSWidthPixels,m.videoElementCSSHeightPixels=this.videoElementCSSHeightPixels,m.devicePixelRatio=this.devicePixelRatio,m.videoElementPhysicalWidthPixels=this.videoElementPhysicalWidthPixels,m.videoElementPhysicalHeightPixels=this.videoElementPhysicalHeightPixels,m.streamId=this.streamId,m}constructor(){this.tileId=null,this.localTile=!1,this.localTileStarted=!1,this.isContent=!1,this.active=!1,this.paused=!1,this.poorConnection=!1,this.boundAttendeeId=null,this.boundExternalUserId=null,this.boundVideoStream=null,this.boundVideoElement=null,this.nameplate=null,this.videoStreamContentWidth=null,this.videoStreamContentHeight=null,this.videoElementCSSWidthPixels=null,this.videoElementCSSHeightPixels=null,this.devicePixelRatio=0,this.videoElementPhysicalWidthPixels=null,this.videoElementPhysicalHeightPixels=null,this.streamId=null}},"VideoTileState");c.default=S},uTAD:function(N,c,d){"use strict";Object.defineProperty(c,"__esModule",{value:!0});const S=d("MpTp");let h=o(class{reset(){this.optimalReceiveSet=new S.default,this.subscribedReceiveSet=new S.default,this.videoSources=void 0}updateIndex(f){this.videoIndex=f,this.optimalReceiveSet=this.calculateOptimalReceiveSet(f)}updateMetrics(f){}wantsResubscribe(){return!this.subscribedReceiveSet.equal(this.optimalReceiveSet)}chooseSubscriptions(){return this.subscribedReceiveSet=this.optimalReceiveSet.clone(),this.subscribedReceiveSet.clone()}chooseRemoteVideoSources(f){this.videoSources=f,this.optimalReceiveSet=this.calculateOptimalReceiveSet(this.videoIndex).clone()}calculateOptimalReceiveSet(f){const a=new S.default;if(!this.videoIndex||this.videoIndex.allStreams().empty())return a;const n=f.highestQualityStreamFromEachGroupExcludingSelf(this.selfAttendeeId);if(this.videoSources===void 0)return n;const i=this.videoIndex.remoteStreamDescriptions(),e=new Map;for(const t of i)n.contain(t.streamId)&&e.set(t.attendeeId,t.streamId);for(const t of this.videoSources){const r=t.attendee.attendeeId;e.has(r)&&a.add(e.get(r))}return a}constructor(f){this.selfAttendeeId=f,this.reset()}},"AllHighestVideoBandwidthPolicy");c.default=h},uaNU:function(N,c,d){"use strict";Object.defineProperty(c,"__esModule",{value:!0});const S=d("Lspx");let h=o(class id{partialCompare(f){return this.priority-f.priority}equals(f){return this.attendeeId===f.attendeeId&&this.targetSize===f.targetSize&&this.priority===f.priority}clone(){return new id(this.attendeeId,this.priority,this.targetSize)}targetSizeToBitrateKbps(f){switch(f){case S.default.High:return id.HIGH_BITRATE_KBPS;case S.default.Medium:return id.MID_BITRATE_KBPS;case S.default.Low:return id.LOW_BITRATE_KBPS}}constructor(f,a,n){this.attendeeId=f,this.priority=a,this.targetSize=n!==void 0?n:S.default.High}},"VideoPreference");c.default=h,h.LOW_BITRATE_KBPS=300,h.MID_BITRATE_KBPS=600,h.HIGH_BITRATE_KBPS=1200},uccp:function(N,c,d){d("5Qd4"),N.exports=d("VSTI").Object.assign},uctb:function(N,c,d){"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.LogLevel=void 0;var S;(function(h){h[h.DEBUG=0]="DEBUG",h[h.INFO=1]="INFO",h[h.WARN=2]="WARN",h[h.ERROR=3]="ERROR",h[h.OFF=4]="OFF"})(S=c.LogLevel||(c.LogLevel={})),c.default=S},ugGH:function(N,c,d){N.exports=d("BRsN")},ukM9:function(N,c){N.exports=function(d,S,h,m){if(!(d instanceof S)||m!==void 0&&m in d)throw TypeError(h+": incorrect invocation!");return d}},ukPp:function(N,c,d){"use strict";Object.defineProperty(c,"__esModule",{value:!0});let S=o(class{create(){const m={clientWidth:400,clientHeight:300,width:400,height:300,videoWidth:400,videoHeight:300,style:{transform:""},hasAttribute:()=>!1,removeAttribute:()=>{},setAttribute:()=>{},srcObject:!1,paused:!0,pause:()=>{m.paused=!0},play:()=>(m.paused=!1,Promise.resolve())};return m}},"NoOpVideoElementFactory");c.default=S},v4l7:function(N,c,d){"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.uint32ArrayFrom=c.numToUint8=c.isEmptyData=c.convertToBuffer=void 0;var S=d("AI3F");Object.defineProperty(c,"convertToBuffer",{enumerable:!0,get:function(){return S.convertToBuffer}});var h=d("N7sO");Object.defineProperty(c,"isEmptyData",{enumerable:!0,get:function(){return h.isEmptyData}});var m=d("sd34");Object.defineProperty(c,"numToUint8",{enumerable:!0,get:function(){return m.numToUint8}});var f=d("eeAN");Object.defineProperty(c,"uint32ArrayFrom",{enumerable:!0,get:function(){return f.uint32ArrayFrom}})},v8aG:function(N,c,d){"use strict";Object.defineProperty(c,"__esModule",{value:!0});let S=o(class Tv{equal(m){return this.remoteVideoAvailable===m.remoteVideoAvailable&&this.canStartLocalVideo===m.canStartLocalVideo}clone(){const m=new Tv;return m.remoteVideoAvailable=this.remoteVideoAvailable,m.canStartLocalVideo=this.canStartLocalVideo,m}constructor(){this.remoteVideoAvailable=!1,this.canStartLocalVideo=!1}},"MeetingSessionVideoAvailability");c.default=S},vNbC:function(N,c,d){d("du/1");var S=d("VSTI").Object;N.exports=o(function(m,f){return S.create(m,f)},"create")},vOBO:function(N,c,d){var S=d("nAx8"),h=d("Temt"),m=d("kUGv"),f=d("BfU5"),a=d("7whZ"),n=a.process,i=a.setImmediate,e=a.clearImmediate,t=a.MessageChannel,r=a.Dispatch,l=0,p={},v="onreadystatechange",g,u,s,I=o(function(){var R=+this;if(p.hasOwnProperty(R)){var B=p[R];delete p[R],B()}},"run"),M=o(function(R){I.call(R.data)},"listener");(!i||!e)&&(i=o(function(B){for(var j=[],A=1;arguments.length>A;)j.push(arguments[A++]);return p[++l]=function(){h(typeof B=="function"?B:Function(B),j)},g(l),l},"setImmediate"),e=o(function(B){delete p[B]},"clearImmediate"),d("TYje")(n)=="process"?g=o(function(R){n.nextTick(S(I,R,1))},"defer"):r&&r.now?g=o(function(R){r.now(S(I,R,1))},"defer"):t?(u=new t,s=u.port2,u.port1.onmessage=M,g=S(s.postMessage,s,1)):a.addEventListener&&typeof postMessage=="function"&&!a.importScripts?(g=o(function(R){a.postMessage(R+"","*")},"defer"),a.addEventListener("message",M,!1)):v in f("script")?g=o(function(R){m.appendChild(f("script"))[v]=function(){m.removeChild(this),I.call(R)}},"defer"):g=o(function(R){setTimeout(S(I,R,1),0)},"defer")),N.exports={set:i,clear:e}},va3J:function(N,c,d){"use strict";var S=d("7whZ"),h=d("VSTI"),m=d("GhSp"),f=d("C61u"),a=d("zBWt")("species");N.exports=function(n){var i=typeof h[n]=="function"?h[n]:S[n];f&&i&&!i[a]&&m.f(i,a,{configurable:!0,get:function(){return this}})}},vapa:function(N,c,d){"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.RawSha256=void 0;var S=d("9IN5"),h=function(){function m(){this.state=Int32Array.from(S.INIT),this.temp=new Int32Array(64),this.buffer=new Uint8Array(64),this.bufferLength=0,this.bytesHashed=0,this.finished=!1}return o(m,"RawSha2561"),m.prototype.update=function(f){if(this.finished)throw new Error("Attempted to update an already finished hash.");var a=0,n=f.byteLength;if(this.bytesHashed+=n,this.bytesHashed*8>S.MAX_HASHABLE_LENGTH)throw new Error("Cannot hash more than 2^53 - 1 bits");for(;n>0;)this.buffer[this.bufferLength++]=f[a++],n--,this.bufferLength===S.BLOCK_SIZE&&(this.hashBuffer(),this.bufferLength=0)},m.prototype.digest=function(){if(!this.finished){var f=this.bytesHashed*8,a=new DataView(this.buffer.buffer,this.buffer.byteOffset,this.buffer.byteLength),n=this.bufferLength;if(a.setUint8(this.bufferLength++,128),n%S.BLOCK_SIZE>=S.BLOCK_SIZE-8){for(var i=this.bufferLength;i<S.BLOCK_SIZE;i++)a.setUint8(i,0);this.hashBuffer(),this.bufferLength=0}for(var i=this.bufferLength;i<S.BLOCK_SIZE-8;i++)a.setUint8(i,0);a.setUint32(S.BLOCK_SIZE-8,Math.floor(f/4294967296),!0),a.setUint32(S.BLOCK_SIZE-4,f),this.hashBuffer(),this.finished=!0}for(var e=new Uint8Array(S.DIGEST_LENGTH),i=0;i<8;i++)e[i*4]=this.state[i]>>>24&255,e[i*4+1]=this.state[i]>>>16&255,e[i*4+2]=this.state[i]>>>8&255,e[i*4+3]=this.state[i]>>>0&255;return e},m.prototype.hashBuffer=function(){for(var f=this,a=f.buffer,n=f.state,i=n[0],e=n[1],t=n[2],r=n[3],l=n[4],p=n[5],v=n[6],g=n[7],u=0;u<S.BLOCK_SIZE;u++){if(u<16)this.temp[u]=(a[u*4]&255)<<24|(a[u*4+1]&255)<<16|(a[u*4+2]&255)<<8|a[u*4+3]&255;else{var s=this.temp[u-2],I=(s>>>17|s<<15)^(s>>>19|s<<13)^s>>>10;s=this.temp[u-15];var M=(s>>>7|s<<25)^(s>>>18|s<<14)^s>>>3;this.temp[u]=(I+this.temp[u-7]|0)+(M+this.temp[u-16]|0)}var R=(((l>>>6|l<<26)^(l>>>11|l<<21)^(l>>>25|l<<7))+(l&p^~l&v)|0)+(g+(S.KEY[u]+this.temp[u]|0)|0)|0,B=((i>>>2|i<<30)^(i>>>13|i<<19)^(i>>>22|i<<10))+(i&e^i&t^e&t)|0;g=v,v=p,p=l,l=r+R|0,r=t,t=e,e=i,i=R+B|0}n[0]+=i,n[1]+=e,n[2]+=t,n[3]+=r,n[4]+=l,n[5]+=p,n[6]+=v,n[7]+=g},m}();c.RawSha256=h},vdHl:function(N,c,d){"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.MAX_HASHABLE_LENGTH=c.INIT=c.KEY=c.DIGEST_LENGTH=c.BLOCK_SIZE=void 0,c.BLOCK_SIZE=64,c.DIGEST_LENGTH=32,c.KEY=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),c.INIT=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],c.MAX_HASHABLE_LENGTH=Math.pow(2,53)-1},vhAZ:function(N,c,d){"use strict";N.exports=h;var S=d("j4TH");(h.prototype=Object.create(S.EventEmitter.prototype)).constructor=h;function h(m,f,a){if(typeof m!="function")throw TypeError("rpcImpl must be a function");S.EventEmitter.call(this),this.rpcImpl=m,this.requestDelimited=Boolean(f),this.responseDelimited=Boolean(a)}o(h,"Service"),h.prototype.rpcCall=o(function m(f,a,n,i,e){if(!i)throw TypeError("request must be specified");var t=this;if(!e)return S.asPromise(m,t,f,a,n,i);if(!t.rpcImpl){setTimeout(function(){e(Error("already ended"))},0);return}try{return t.rpcImpl(f,a[t.requestDelimited?"encodeDelimited":"encode"](i).finish(),o(function(l,p){if(l)return t.emit("error",l,f),e(l);if(p===null){t.end(!0);return}if(!(p instanceof n))try{p=n[t.responseDelimited?"decodeDelimited":"decode"](p)}catch(v){return t.emit("error",v,f),e(v)}return t.emit("data",p,f),e(null,p)},"rpcCallback"))}catch(r){t.emit("error",r,f),setTimeout(function(){e(r)},0);return}},"rpcCall"),h.prototype.end=o(function(f){return this.rpcImpl&&(f||this.rpcImpl(null,null,null),this.rpcImpl=null,this.emit("end").off()),this},"end")},vhVE:function(N,c,d){"use strict";Object.defineProperty(c,"__esModule",{value:!0});let S=o(class{constructor(){this.volume=null,this.muted=null,this.signalStrength=null}},"RealtimeVolumeIndicator");c.default=S},viNG:function(N,c,d){"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.WebCryptoSha256=c.Ie11Sha256=void 0;var S=d("D3pN");S.__exportStar(d("ZIxo"),c);var h=d("dFEU");Object.defineProperty(c,"Ie11Sha256",{enumerable:!0,get:function(){return h.Sha256}});var m=d("b4Ml");Object.defineProperty(c,"WebCryptoSha256",{enumerable:!0,get:function(){return m.Sha256}})},vjEy:function(N,c,d){"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.BlurStrengthMapper=void 0;const S={LOW:7,MEDIUM:15,HIGH:30};let h=o(class{static getBlurAmount(f,a){if(f<=0)throw new Error(`invalid value for blur strength: ${f}`);return Math.round(f*a.height/this.BLUR_STRENGTH_DIVISOR)}},"BlurStrengthMapper");c.BlurStrengthMapper=h,h.BLUR_STRENGTH_DIVISOR=540,c.default=S},"w1x/":function(N,c,d){"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.TargetDisplaySize=void 0;var S;(function(h){h[h.Low=0]="Low",h[h.Medium=1]="Medium",h[h.High=2]="High"})(S=c.TargetDisplaySize||(c.TargetDisplaySize={})),c.default=S},wDi9:function(N,c,d){"use strict";N.exports=t;var S=d("j4TH"),h,m=S.LongBits,f=S.base64,a=S.utf8;function n(I,M,R){this.fn=I,this.len=M,this.next=void 0,this.val=R}o(n,"Op");function i(){}o(i,"noop");function e(I){this.head=I.head,this.tail=I.tail,this.len=I.len,this.next=I.states}o(e,"State");function t(){this.len=0,this.head=new n(i,0,0),this.tail=this.head,this.states=null}o(t,"Writer");var r=o(function(){return S.Buffer?o(function(){return(t.create=o(function(){return new h},"create_buffer"))()},"create_buffer_setup"):o(function(){return new t},"create_array")},"create");t.create=r(),t.alloc=o(function(M){return new S.Array(M)},"alloc"),S.Array!==Array&&(t.alloc=S.pool(t.alloc,S.Array.prototype.subarray)),t.prototype._push=o(function(M,R,B){return this.tail=this.tail.next=new n(M,R,B),this.len+=R,this},"push");function l(I,M,R){M[R]=I&255}o(l,"writeByte");function p(I,M,R){for(;I>127;)M[R++]=I&127|128,I>>>=7;M[R]=I}o(p,"writeVarint32");function v(I,M){this.len=I,this.next=void 0,this.val=M}o(v,"VarintOp"),v.prototype=Object.create(n.prototype),v.prototype.fn=p,t.prototype.uint32=o(function(M){return this.len+=(this.tail=this.tail.next=new v((M=M>>>0)<128?1:M<16384?2:M<2097152?3:M<268435456?4:5,M)).len,this},"write_uint32"),t.prototype.int32=o(function(M){return M<0?this._push(g,10,m.fromNumber(M)):this.uint32(M)},"write_int32"),t.prototype.sint32=o(function(M){return this.uint32((M<<1^M>>31)>>>0)},"write_sint32");function g(I,M,R){for(;I.hi;)M[R++]=I.lo&127|128,I.lo=(I.lo>>>7|I.hi<<25)>>>0,I.hi>>>=7;for(;I.lo>127;)M[R++]=I.lo&127|128,I.lo=I.lo>>>7;M[R++]=I.lo}o(g,"writeVarint64"),t.prototype.uint64=o(function(M){var R=m.from(M);return this._push(g,R.length(),R)},"write_uint64"),t.prototype.int64=t.prototype.uint64,t.prototype.sint64=o(function(M){var R=m.from(M).zzEncode();return this._push(g,R.length(),R)},"write_sint64"),t.prototype.bool=o(function(M){return this._push(l,1,M?1:0)},"write_bool");function u(I,M,R){M[R]=I&255,M[R+1]=I>>>8&255,M[R+2]=I>>>16&255,M[R+3]=I>>>24}o(u,"writeFixed32"),t.prototype.fixed32=o(function(M){return this._push(u,4,M>>>0)},"write_fixed32"),t.prototype.sfixed32=t.prototype.fixed32,t.prototype.fixed64=o(function(M){var R=m.from(M);return this._push(u,4,R.lo)._push(u,4,R.hi)},"write_fixed64"),t.prototype.sfixed64=t.prototype.fixed64,t.prototype.float=o(function(M){return this._push(S.float.writeFloatLE,4,M)},"write_float"),t.prototype.double=o(function(M){return this._push(S.float.writeDoubleLE,8,M)},"write_double");var s=S.Array.prototype.set?o(function(M,R,B){R.set(M,B)},"writeBytes_set"):o(function(M,R,B){for(var j=0;j<M.length;++j)R[B+j]=M[j]},"writeBytes_for");t.prototype.bytes=o(function(M){var R=M.length>>>0;if(!R)return this._push(l,1,0);if(S.isString(M)){var B=t.alloc(R=f.length(M));f.decode(M,B,0),M=B}return this.uint32(R)._push(s,R,M)},"write_bytes"),t.prototype.string=o(function(M){var R=a.length(M);return R?this.uint32(R)._push(a.write,R,M):this._push(l,1,0)},"write_string"),t.prototype.fork=o(function(){return this.states=new e(this),this.head=this.tail=new n(i,0,0),this.len=0,this},"fork"),t.prototype.reset=o(function(){return this.states?(this.head=this.states.head,this.tail=this.states.tail,this.len=this.states.len,this.states=this.states.next):(this.head=this.tail=new n(i,0,0),this.len=0),this},"reset"),t.prototype.ldelim=o(function(){var M=this.head,R=this.tail,B=this.len;return this.reset().uint32(B),B&&(this.tail.next=M.next,this.tail=R,this.len+=B),this},"ldelim"),t.prototype.finish=o(function(){for(var M=this.head.next,R=this.constructor.alloc(this.len),B=0;M;)M.fn(M.val,R,B),B+=M.len,M=M.next;return R},"finish"),t._configure=function(I){h=I,t.create=r(),h._configure()}},wJ81:function(N,c,d){"use strict";Object.defineProperty(c,"__esModule",{value:!0});const S=d("KJDN");let h=o(class extends S.default{constructor(f,a){super(f),this.constraint=a,this.name="OverconstrainedError"}},"OverconstrainedError");c.default=h},wQGL:function(N,c,d){"use strict";var S=this&&this.__awaiter||function(f,a,n,i){function e(t){return t instanceof n?t:new n(function(r){r(t)})}return o(e,"adopt"),new(n||(n=Promise))(function(t,r){function l(g){try{v(i.next(g))}catch(u){r(u)}}o(l,"fulfilled");function p(g){try{v(i.throw(g))}catch(u){r(u)}}o(p,"rejected");function v(g){g.done?t(g.value):e(g.value).then(l,p)}o(v,"step"),v((i=i.apply(f,a||[])).next())})};Object.defineProperty(c,"__esModule",{value:!0});const h=d("VYs+");let m=o(class jd extends h.default{setEncodingParameters(a){return S(this,void 0,void 0,function*(){if(!this._localCameraTransceiver||this._localCameraTransceiver.direction!=="sendrecv")return;const n=this._localCameraTransceiver.sender,i=Array.from(a.values());if(i.length<=0)return;const e=n.getParameters();if(!e.encodings)e.encodings=i;else for(let t=0;t<e.encodings.length;t++)e.encodings[t].rid===h.default.LOW_LEVEL_NAME&&this.copyEncodingParams(a.get(h.default.LOW_LEVEL_NAME),e.encodings[t]),e.encodings[t].rid===h.default.HIGH_LEVEL_NAME&&this.copyEncodingParams(a.get(h.default.HIGH_LEVEL_NAME),e.encodings[t]);yield n.setParameters(e),this.logVideoTransceiverParameters()})}constructor(a,n){super(a,n);let i=2;this.videoQualityControlParameterMap=new Map;for(let e=0;e<jd.NAME_ARR_ASCENDING.length;e++){const t=jd.NAME_ARR_ASCENDING[e];this.videoQualityControlParameterMap.set(t,{rid:t,scaleResolutionDownBy:i,maxBitrate:jd.BITRATE_ARR_ASCENDING[e]*1e3}),i=i/2}}},"SimulcastContentShareTransceiverController");c.default=m,m.NAME_ARR_ASCENDING=["low","hi"],m.BITRATE_ARR_ASCENDING=[300,1200]},"wR/T":function(N,c,d){"use strict";Object.defineProperty(c,"__esModule",{value:!0});let S=o(class{constructor(){this.minHealth=0,this.maxHealth=1,this.initialHealth=1,this.connectionUnhealthyThreshold=25,this.noSignalThresholdTimeMs=1e4,this.connectionWaitTimeMs=1e4,this.zeroBarsNoSignalTimeMs=5e3,this.oneBarWeakSignalTimeMs=5e3,this.twoBarsTimeMs=5e3,this.threeBarsTimeMs=1e4,this.fourBarsTimeMs=2e4,this.fiveBarsTimeMs=6e4,this.cooldownTimeMs=6e4,this.pastSamplesToConsider=15,this.goodSignalTimeMs=15e3,this.fractionalLoss=.5,this.packetsExpected=50,this.maximumTimesToWarn=2,this.missedPongsLowerThreshold=1,this.missedPongsUpperThreshold=4,this.maximumAudioDelayMs=6e4,this.maximumAudioDelayDataPoints=10,this.sendingAudioFailureSamplesToConsider=2,this.sendingAudioFailureInitialWaitTimeMs=3e3}},"ConnectionHealthPolicyConfiguration");c.default=S},wSXL:function(N,c,d){"use strict";Object.defineProperty(c,"__esModule",{value:!0});let S=o(class{generateSessionId(){const m=new Uint32Array(1);return window.crypto.getRandomValues(m)[0].toString()}constructor(m,f,a,n){this.userArn=m,this.messagingSessionId=f,this.endpointUrl=a,this.chimeClient=n,this.reconnectTimeoutMs=10*1e3,this.reconnectFixedWaitMs=0,this.reconnectShortBackoffMs=1*1e3,this.reconnectLongBackoffMs=5*1e3,this.prefetchOn=void 0,this.prefetchSortBy=void 0,this.messagingSessionId||(this.messagingSessionId=this.generateSessionId())}},"MessagingSessionConfiguration");c.default=S},wXa7:function(N,c,d){"use strict";Object.defineProperty(c,"__esModule",{value:!0});const S=d("JsnC"),h=d("2wCG"),m=d("CAce");let f=o(class Cn{clone(){return new Cn(this.sdp)}static isRTPCandidate(n){const i=/candidate[:](\S+) (\d+)/g.exec(n);return!(i===null||i[2]!=="1")}static linesToSDP(n){return new Cn(n.join(Cn.CRLF))}static candidateTypeFromString(n){switch(n){case S.default.Host:return S.default.Host;case S.default.ServerReflexive:return S.default.ServerReflexive;case S.default.PeerReflexive:return S.default.PeerReflexive;case S.default.Relay:return S.default.Relay}return null}static candidateType(n){const i=/a[=]candidate[:].* typ ([a-z]+) /g.exec(n);return i===null?null:Cn.candidateTypeFromString(i[1])}static mediaType(n){const i=/m=(audio|video)/g.exec(n);if(i!==null)return i[1]}static mid(n){if(n.includes("a=mid:"))return n.replace(/^(a=mid:)/,"")}static direction(n){const i=/a=(sendrecv|sendonly|recvonly|inactive)/g.exec(n);if(i!==null)return i[1]}static splitLines(n){return n.trim().split(`
`).map(i=>i.trim())}static splitSections(n){return n.split(`
m=`).map((e,t)=>(t>0?"m="+e:e).trim()+Cn.CRLF)}static findActiveCameraSection(n){let i=0,e=!1;for(const t of n){if(/^m=video/.test(t)&&(t.indexOf("sendrecv")>-1||t.indexOf("sendonly")===-1&&t.indexOf("recvonly")===-1&&t.indexOf("inactive")===-1)){e=!0;break}i++}return e===!1&&(i=-1),i}static extractSSRCsFromFIDGroupLine(n){return/^a=ssrc-group:FID\s(.+)/.exec(n)[1]}static matchPrefix(n,i){return Cn.splitLines(n).filter(e=>e.indexOf(i)===0)}lines(){return this.sdp.split(Cn.CRLF)}hasVideo(){return/^m=video/gm.exec(this.sdp)!==null}hasCandidates(){return/a[=]candidate[:]/g.exec(this.sdp)!==null}hasCandidatesForAllMLines(){return!(this.sdp.indexOf("c=IN IP4 0.0.0.0")>-1)}withoutCandidateType(n){return Cn.linesToSDP(this.lines().filter(i=>Cn.candidateType(i)!==n))}withoutServerReflexiveCandidates(){return this.withoutCandidateType(S.default.ServerReflexive)}withAudioMaxAverageBitrate(n){if(!n)return this.clone();n=Math.trunc(Math.min(Math.max(n,Cn.rfc7587LowestBitrate),Cn.rfc7587HighestBitrate));const i=this.lines(),e=Cn.findOpusFmtpAttributes(i),t=Cn.updateOpusFmtpAttributes(i,e,[`maxaveragebitrate=${n}`]);return Cn.linesToSDP(t)}withStereoAudio(){const n=this.lines(),i=Cn.findOpusFmtpAttributes(n),e=Cn.updateOpusFmtpAttributes(n,i,["stereo=1","sprop-stereo=1"]);return Cn.linesToSDP(e)}static findOpusFmtpAttributes(n){const i=/^a=rtpmap:\s*(\d+)\s+opus\/48000/;let e=!1;const t=[];for(const r of n)if(r.startsWith("m=audio")&&(t.push(null),e=!0),r.startsWith("m=video")&&(e=!1),e){const l=i.exec(r);l!==null&&(t[t.length-1]=`a=fmtp:${l[1]} `)}return t}static updateOpusFmtpAttributes(n,i,e){const t=[];let r=0,l=null;for(const p of n)if(p.startsWith("m=audio")&&(l=i[r],r++),p.startsWith("m=video")&&(l=null),l&&p.startsWith(l)){const v=p.slice(l.length).split(";"),g=[];for(const u of v)e.findIndex(I=>I.startsWith(u.split("=")[0]))<0&&g.push(u);for(const u of e)g.push(u);t.push(l+g.join(";"))}else t.push(p);return t}withUnifiedPlanFormat(){let n=this.sdp;return n.includes("mozilla")?this.clone():(n=n.replace("o=-","o=mozilla-chrome"),new Cn(n))}getUniqueRtpHeaderExtensionId(n){const i=[];for(const t of n)if(/^a=extmap:/.test(t.trim())){const l=+t.split("a=extmap:")[1].split(" ")[0];i.includes(l)||i.push(l)}i.sort((t,r)=>t-r);let e=0;for(const t of i){if(t-e>1)return e+1;e=t}return e===14?-1:e+1}withVideoLayersAllocationRtpHeaderExtension(n){const i="http://www.webrtc.org/experiments/rtp-hdrext/video-layers-allocation00",e=n?n.getRtpHeaderExtensionId(i):-1,t=e===-1?this.getUniqueRtpHeaderExtensionId(Cn.splitLines(this.sdp)):e,r=Cn.splitSections(this.sdp),l=[];for(let v of r){if(/^m=video/.test(v)&&Cn.getRtpHeaderExtensionIdInSection(v,i)===-1){const g=Cn.splitLines(v),u=[];if(t===-1||this.hasRtpHeaderExtensionId(t)){l.push(v);continue}for(const s of g)if(u.push(s),/^a=sendrecv/.test(s.trim())){const I="a=extmap:"+t+" "+i;u.push(I)}v=u.join(Cn.CRLF)+Cn.CRLF}else if(e!==-1&&/^m=video/.test(v)&&Cn.getRtpHeaderExtensionIdInSection(v,i)!==e){const g=Cn.splitLines(v),u=[];for(const s of g){if(/^a=extmap:/.test(s.trim())&&s.split("a=extmap:")[1].split(" ")[1]===i){if(!this.hasRtpHeaderExtensionId(e)){const M="a=extmap:"+e+" "+i;u.push(M)}continue}u.push(s)}v=u.join(Cn.CRLF)+Cn.CRLF}l.push(v)}const p=l.join("");return new Cn(p)}ssrcForVideoSendingSection(){const n=this.sdp,i=Cn.splitSections(n);if(i.length<2)return"";const e=Cn.findActiveCameraSection(i);if(e===-1)return"";const t=Cn.matchPrefix(i[e],"a=ssrc-group:FID ");if(t.length<1)return"";const r=Cn.extractSSRCsFromFIDGroupLine(t[0]),[l]=r.split(" ").map(p=>parseInt(p,10));return l.toString()}videoSendSectionHasDifferentSSRC(n){const i=this.ssrcForVideoSendingSection(),e=n.ssrcForVideoSendingSection();if(i===""||e==="")return!1;const t=parseInt(i,10),r=parseInt(e,10);return t!==r}removeH264SupportFromSendSection(){const n=this.sdp,i=Cn.splitSections(n),e=Cn.findActiveCameraSection(i);if(e===-1)return new Cn(this.sdp);const t=i[e],r=Cn.splitLines(t),l=[],p=new Map;r.forEach(s=>{if(/^a=rtpmap:/.test(s)){const I=/^a=rtpmap:([0-9]+)\s/.exec(s);I&&s.toLowerCase().includes("h264")&&l.push(parseInt(I[1],10))}if(/^a=fmtp:/.test(s)){const I=/^a=fmtp:([0-9]+) apt=([0-9]+)/.exec(s);if(I&&I.length===3){const M=parseInt(I[1],10),R=parseInt(I[2],10);p.has(R)?p.get(R).push(M):p.set(R,[M])}}});const v=new Set;for(const s of l){v.add(s);const I=p.get(s);if(I)for(const M of I)v.add(M)}if(l.length>0){const s=r[0].split(" ");r[0]=s.filter(I=>!v.has(parseInt(I))).join(" ")}const g=r.filter(s=>{if(!s.includes("rtpmap")&&!s.includes("rtcp-fb")&&!s.includes("fmtp"))return!0;for(const I of v)if(s.includes(I.toString()))return!1;return!0});i[e]=g.join(Cn.CRLF)+Cn.CRLF;const u=i.join("");return new Cn(u)}mediaSections(){const n=Cn.splitSections(this.sdp);if(n.length<2)return[];const i=[];for(let e=1;e<n.length;e++){const t=new h.default,r=Cn.splitLines(n[e]);for(const l of r){const p=Cn.mediaType(l);if(p!==void 0){t.mediaType=p;continue}const v=Cn.direction(l);if(v!==void 0){t.direction=v;continue}const g=Cn.mid(l);if(g!==void 0){t.mid=g;continue}}i.push(t)}return i}static getRtpHeaderExtensionIdInSection(n,i){const e=Cn.splitLines(n);for(const t of e)if(/^a=extmap:/.test(t.trim())){const r=t.split("a=extmap:")[1].split(" "),l=+r[0];if(r[1]===i)return l}return-1}getRtpHeaderExtensionId(n){const i=Cn.splitSections(this.sdp);for(const e of i)if(/^m=video/.test(e)){const t=Cn.getRtpHeaderExtensionIdInSection(e,n);if(t!==-1)return t}return-1}hasRtpHeaderExtensionId(n){const i=Cn.splitLines(this.sdp);for(const e of i)if(/^a=extmap:/.test(e.trim())&&+e.split("a=extmap:")[1].split(" ")[0]===n)return!0;return!1}withVideoSendCodecPreferences(n){const i=this.sdp,e=Cn.splitSections(i),t=Cn.findActiveCameraSection(e);if(t===-1)return new Cn(this.sdp);e[t]=this.sectionWithCodecPreferences(e[t],n);const r=e.join("");return new Cn(r)}sectionWithCodecPreferences(n,i){const e=new Map,t=Cn.splitLines(n);t.forEach(v=>{if(/^a=rtpmap:/.test(v))for(const g of i){if(!v.includes(`${g.codecName}/${g.codecCapability.clockRate}`))continue;const u=/^a=rtpmap:([0-9]+)\s/.exec(v);let s=!1;if(g.codecCapability.sdpFmtpLine!==void 0){for(const I of t)if(I.startsWith(`a=fmtp:${u[1]} ${g.codecCapability.sdpFmtpLine}`)){s=!0;break}}else s=!0;if(s){e.set(g.codecName,u[1]);break}}});const r=new Set(e.values()),l=t[0].split(" ").filter(v=>!r.has(v)),p=Array.from(e.values()).sort((v,g)=>{const u=i.findIndex(I=>e.get(I.codecName)===v),s=i.findIndex(I=>e.get(I.codecName)===g);return u-s});return l.splice(3,0,...p.values()),t[0]=l.join(" "),t.join(Cn.CRLF)+Cn.CRLF}highestPriorityVideoSendCodec(){const n=this.sdp,i=Cn.splitSections(n),e=Cn.findActiveCameraSection(i);if(e===-1)return;const t=Cn.splitLines(i[e]),r=t[0].split(" ");if(r.length<4)return;const l=r[3];let p,v,g;for(const u of t){const s=/^a=rtpmap:([0-9]+)\s/.exec(u);if(s===null||s.length<2||s[1]!==l)continue;const M=u.split(" ")[1].split("/");if(!(M===void 0||M.length<2)){p=M[0],v=M[1];for(const R of t)if(R.startsWith(`a=fmtp:${l}`)){const B=R.split(" ");if(B===void 0||B.length<2)return;g=B[1];continue}break}}if(p!==void 0)return new m.default(p,{clockRate:parseInt(v),mimeType:`video/${p}`,sdpFmtpLine:g})}constructor(n){this.sdp=n}},"SDP");c.default=f,f.CRLF=`\r
`,f.rfc7587LowestBitrate=6e3,f.rfc7587HighestBitrate=51e4},wYM1:function(N,c,d){var S=d("USwo");S(S.S+S.F*!d("C61u"),"Object",{defineProperty:d("GhSp").f})},wiFD:function(N,c,d){"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.uint32ArrayFrom=void 0;function S(h){if(!Uint32Array.from){for(var m=new Uint32Array(h.length),f=0;f<h.length;)m[f]=h[f],f+=1;return m}return Uint32Array.from(h)}o(S,"uint32ArrayFrom"),c.uint32ArrayFrom=S},wjYw:function(N,c,d){"use strict";var S=this&&this.__awaiter||function(a,n,i,e){function t(r){return r instanceof i?r:new i(function(l){l(r)})}return o(t,"adopt"),new(i||(i=Promise))(function(r,l){function p(u){try{g(e.next(u))}catch(s){l(s)}}o(p,"fulfilled");function v(u){try{g(e.throw(u))}catch(s){l(s)}}o(v,"rejected");function g(u){u.done?r(u.value):t(u.value).then(p,v)}o(g,"step"),g((e=e.apply(a,n||[])).next())})};Object.defineProperty(c,"__esModule",{value:!0});const h=d("HbHZ"),m=d("j+uH");let f=o(class extends m.default{cancel(){this.taskCanceler&&(this.taskCanceler.cancel(),this.taskCanceler=null)}run(){return S(this,void 0,void 0,function*(){try{this.context.signalingClient.ready()&&(this.context.signalingClient.closeConnection(),yield this.receiveWebSocketClosedEvent())}catch(n){throw n}finally{for(const i of this.context.removableObservers)i.removeObserver();this.context.resetConnectionSpecificState(),this.context.statsCollector.stop(),this.context.statsCollector=null,this.context.connectionMonitor.stop(),this.context.connectionMonitor=null,this.context.videoUplinkBandwidthPolicy.setTransceiverController&&this.context.videoUplinkBandwidthPolicy.setTransceiverController(void 0),this.context.videoDownlinkBandwidthPolicy.bindToTileController&&this.context.videoDownlinkBandwidthPolicy.bindToTileController(void 0);const n=this.context.videoTileController.getLocalVideoTile();n&&n.bindVideoStream("",!0,null,null,null,null),this.context.videoTileController.removeAllVideoTiles()}})}receiveWebSocketClosedEvent(){return new Promise((n,i)=>{let e=o(class{cancel(){this.signalingClient.removeObserver(this),i(new Error("CleanStoppedSessionTask got canceled while waiting for the WebSocket closed event"))}handleSignalingClientEvent(l){l.type===h.default.WebSocketClosed&&(this.signalingClient.removeObserver(this),n())}constructor(l){this.signalingClient=l}},"Interceptor");const t=new e(this.context.signalingClient);this.taskCanceler=t,this.context.signalingClient.registerObserver(t)})}constructor(n){super(n.logger),this.context=n,this.taskName="CleanStoppedSessionTask",this.taskCanceler=null}},"CleanStoppedSessionTask");c.default=f},wkYg:function(N,c,d){"use strict";Object.defineProperty(c,"__esModule",{value:!0});const S=d("KJDN");let h=o(class extends S.default{constructor(f,a){super(f,a),this.name="PermissionDeniedError"}},"PermissionDeniedError");c.default=h},wlNh:function(N,t,d){var S=d("nAx8"),h=d("xMGN"),m=d("bS86"),f=d("d+lc"),a=d("0WpP"),n=d("I90/"),i={},e={},t=N.exports=function(r,l,p,v,g){var u=g?function(){return r}:n(r),s=S(p,v,l?2:1),I=0,M,R,B,j;if(typeof u!="function")throw TypeError(r+" is not iterable!");if(m(u)){for(M=a(r.length);M>I;I++)if(j=l?s(f(R=r[I])[0],R[1]):s(r[I]),j===i||j===e)return j}else for(B=u.call(r);!(R=B.next()).done;)if(j=h(B,s,R.value,l),j===i||j===e)return j};t.BREAK=i,t.RETURN=e},wpDl:function(N,c,d){"use strict";var S=d("Ju5/"),h=d("fshX"),m=d("SiRs"),f=d("efZk"),a=S.a.isFinite,n=Math.min;function i(e){var t=Math[e];return function(r,l){if(r=Object(m.a)(r),l=l==null?0:n(Object(h.a)(l),292),l&&a(r)){var p=(Object(f.a)(r)+"e").split("e"),v=t(p[0]+"e"+(+p[1]+l));return p=(Object(f.a)(v)+"e").split("e"),+(p[0]+"e"+(+p[1]-l))}return t(r)}}o(i,"createRound"),c.a=i},wqPz:function(N,c){N.exports=function(d){try{return{e:!1,v:d()}}catch(S){return{e:!0,v:S}}}},x8On:function(N,c,d){"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.ClientMetricReportMediaType=void 0;var S;(function(h){h[h.AUDIO=0]="AUDIO",h[h.VIDEO=1]="VIDEO"})(S=c.ClientMetricReportMediaType||(c.ClientMetricReportMediaType={})),c.default=S},xGEd:function(N,c,d){"use strict";N.exports=h;var S=d("kU+7");function h(n,i){this.lo=n>>>0,this.hi=i>>>0}o(h,"LongBits");var m=h.zero=new h(0,0);m.toNumber=function(){return 0},m.zzEncode=m.zzDecode=function(){return this},m.length=function(){return 1};var f=h.zeroHash="\0\0\0\0\0\0\0\0";h.fromNumber=o(function(i){if(i===0)return m;var e=i<0;e&&(i=-i);var t=i>>>0,r=(i-t)/4294967296>>>0;return e&&(r=~r>>>0,t=~t>>>0,++t>4294967295&&(t=0,++r>4294967295&&(r=0))),new h(t,r)},"fromNumber"),h.from=o(function(i){if(typeof i=="number")return h.fromNumber(i);if(S.isString(i))if(S.Long)i=S.Long.fromString(i);else return h.fromNumber(parseInt(i,10));return i.low||i.high?new h(i.low>>>0,i.high>>>0):m},"from"),h.prototype.toNumber=o(function(i){if(!i&&this.hi>>>31){var e=~this.lo+1>>>0,t=~this.hi>>>0;return e||(t=t+1>>>0),-(e+t*4294967296)}return this.lo+this.hi*4294967296},"toNumber"),h.prototype.toLong=o(function(i){return S.Long?new S.Long(this.lo|0,this.hi|0,Boolean(i)):{low:this.lo|0,high:this.hi|0,unsigned:Boolean(i)}},"toLong");var a=String.prototype.charCodeAt;h.fromHash=o(function(i){return i===f?m:new h((a.call(i,0)|a.call(i,1)<<8|a.call(i,2)<<16|a.call(i,3)<<24)>>>0,(a.call(i,4)|a.call(i,5)<<8|a.call(i,6)<<16|a.call(i,7)<<24)>>>0)},"fromHash"),h.prototype.toHash=o(function(){return String.fromCharCode(this.lo&255,this.lo>>>8&255,this.lo>>>16&255,this.lo>>>24,this.hi&255,this.hi>>>8&255,this.hi>>>16&255,this.hi>>>24)},"toHash"),h.prototype.zzEncode=o(function(){var i=this.hi>>31;return this.hi=((this.hi<<1|this.lo>>>31)^i)>>>0,this.lo=(this.lo<<1^i)>>>0,this},"zzEncode"),h.prototype.zzDecode=o(function(){var i=-(this.lo&1);return this.lo=((this.lo>>>1|this.hi<<31)^i)>>>0,this.hi=(this.hi>>>1^i)>>>0,this},"zzDecode"),h.prototype.length=o(function(){var i=this.lo,e=(this.lo>>>28|this.hi<<4)>>>0,t=this.hi>>>24;return t===0?e===0?i<16384?i<128?1:2:i<2097152?3:4:e<16384?e<128?5:6:e<2097152?7:8:t<128?9:10},"length")},xJ9D:function(N,c,d){"use strict";var S=this&&this.__awaiter||function(l,p,v,g){function u(s){return s instanceof v?s:new v(function(I){I(s)})}return o(u,"adopt"),new(v||(v=Promise))(function(s,I){function M(j){try{B(g.next(j))}catch(A){I(A)}}o(M,"fulfilled");function R(j){try{B(g.throw(j))}catch(A){I(A)}}o(R,"rejected");function B(j){j.done?s(j.value):u(j.value).then(M,R)}o(B,"step"),B((g=g.apply(l,p||[])).next())})};Object.defineProperty(c,"__esModule",{value:!0});const h=d("6Bxv"),m=d("lUhs"),f=d("V5IF"),a=d("DUgj"),n=d("hEYi"),i=d("COTZ"),e=d("f2XL"),t=d("aVV0");let r=o(class extends t.default{cancel(){this.taskCanceler&&(this.taskCanceler.cancel(),this.taskCanceler=null)}run(){return S(this,void 0,void 0,function*(){const p=yield new Promise((v,g)=>{const u=this.context;u.turnCredentials=null;let s=o(class{cancel(){this.signalingClient.removeObserver(this),g(new Error("JoinAndReceiveIndexTask got canceled while waiting for SdkIndexFrame"))}handleSignalingClientEvent(B){if(B.type===n.default.WebSocketClosed){let A=`The signaling connection was closed with code ${B.closeCode} and reason: ${B.closeReason}`;u.logger.warn(A);let D=m.default.SignalingBadRequest;B.closeCode===4410?(A="The meeting already ended.",u.logger.warn(A),D=m.default.MeetingEnded):B.closeCode>=4500&&B.closeCode<4600&&(D=m.default.SignalingInternalServerError),u.audioVideoController.handleMeetingSessionStatus(new h.default(D),new Error(A));return}if(B.type!==n.default.ReceivedSignalFrame)return;if(B.message.type===e.SdkSignalFrame.Type.JOIN_ACK){const A=B.message.joinack;if(A&&A.videoSubscriptionLimit&&(u.videoSubscriptionLimit=A.videoSubscriptionLimit),u.serverSupportsCompression=A==null?void 0:A.wantsCompressedSdp,(A==null?void 0:A.defaultServerSideNetworkAdaption)!==void 0&&A.defaultServerSideNetworkAdaption!==a.default.Default&&u.videoDownlinkBandwidthPolicy.setServerSideNetworkAdaption!==void 0){const D=A.defaultServerSideNetworkAdaption;u.logger.info(`Overriding server side network adaption value to ${D}`),u.videoDownlinkBandwidthPolicy.setServerSideNetworkAdaption(a.convertServerSideNetworkAdaptionEnumFromSignaled(D))}A&&A.turnCredentials?(u.turnCredentials=new f.default,u.turnCredentials.username=A.turnCredentials.username,u.turnCredentials.password=A.turnCredentials.password,u.turnCredentials.ttl=A.turnCredentials.ttl,u.turnCredentials.uris=A.turnCredentials.uris.map(D=>u.meetingSessionConfiguration.urls.urlRewriter(D)).filter(D=>!!D)):u.logger.error("missing TURN credentials in JoinAckFrame");return}if(B.message.type!==e.SdkSignalFrame.Type.INDEX)return;this.signalingClient.removeObserver(this);const j=B.message.index;v(j)}constructor(B){this.signalingClient=B}},"IndexFrameInterceptor");const I=new s(this.context.signalingClient);this.context.signalingClient.registerObserver(I),this.taskCanceler=I,this.context.previousSdpAnswerAsString="",this.context.previousSdpOffer=null,this.context.serverSupportsCompression=!1;const M=new i.default(this.context.meetingSessionConfiguration.applicationMetadata);this.context.videoDownlinkBandwidthPolicy.getServerSideNetworkAdaption!==void 0&&this.context.videoDownlinkBandwidthPolicy.supportedServerSideNetworkAdaptions!==void 0&&(M.serverSideNetworkAdaption=this.context.videoDownlinkBandwidthPolicy.getServerSideNetworkAdaption(),M.supportedServerSideNetworkAdaptions=this.context.videoDownlinkBandwidthPolicy.supportedServerSideNetworkAdaptions()),M.disablePeriodicKeyframeRequestOnContentSender=this.context.meetingSessionConfiguration.disablePeriodicKeyframeRequestOnContentSender,this.context.signalingClient.join(M)});this.context.logger.info(`received first index ${JSON.stringify(p)}`),this.context.indexFrame=p})}constructor(p){super(p.logger),this.context=p,this.taskName="JoinAndReceiveIndexTask",this.taskCanceler=null}},"JoinAndReceiveIndexTask");c.default=r},xMGN:function(N,c,d){var S=d("d+lc");N.exports=function(h,m,f,a){try{return a?m(S(f)[0],f[1]):m(f)}catch(i){var n=h.return;throw n!==void 0&&S(n.call(h)),i}}},xXl2:function(N,c,d){"use strict";var S=d("5ETA"),h=d("7whZ"),m=d("nAx8"),f=d("aqg2"),a=d("USwo"),n=d("ekG2"),i=d("FgkJ"),e=d("ukM9"),t=d("wlNh"),r=d("2zfi"),l=d("vOBO").set,p=d("jssz")(),v=d("8sL3"),g=d("wqPz"),u=d("jlxs"),s=d("JKKi"),I="Promise",M=h.TypeError,R=h.process,B=R&&R.versions,j=B&&B.v8||"",A=h[I],D=f(R)=="process",$=o(function(){},"empty"),O,P,k,K,Z=P=v.f,Y=!!function(){try{var Ne=A.resolve(1),_e=(Ne.constructor={})[d("zBWt")("species")]=function(Ze){Ze($,$)};return(D||typeof PromiseRejectionEvent=="function")&&Ne.then($)instanceof _e&&j.indexOf("6.6")!==0&&u.indexOf("Chrome/66")===-1}catch{}}(),ie=o(function(Ne){var _e;return n(Ne)&&typeof(_e=Ne.then)=="function"?_e:!1},"isThenable"),ge=o(function(Ne,_e){if(!Ne._n){Ne._n=!0;var Ze=Ne._c;p(function(){for(var tt=Ne._v,$e=Ne._s==1,at=0,lt=o(function(ot){var Gt=$e?ot.ok:ot.fail,Zt=ot.resolve,un=ot.reject,Un=ot.domain,jn,ci,fn;try{Gt?($e||(Ne._h==2&&we(Ne),Ne._h=1),Gt===!0?jn=tt:(Un&&Un.enter(),jn=Gt(tt),Un&&(Un.exit(),fn=!0)),jn===ot.promise?un(M("Promise-chain cycle")):(ci=ie(jn))?ci.call(jn,Zt,un):Zt(jn)):un(tt)}catch(ri){Un&&!fn&&Un.exit(),un(ri)}},"run");Ze.length>at;)lt(Ze[at++]);Ne._c=[],Ne._n=!1,_e&&!Ne._h&&Ie(Ne)})}},"notify"),Ie=o(function(Ne){l.call(h,function(){var _e=Ne._v,Ze=le(Ne),tt,$e,at;if(Ze&&(tt=g(function(){D?R.emit("unhandledRejection",_e,Ne):($e=h.onunhandledrejection)?$e({promise:Ne,reason:_e}):(at=h.console)&&at.error&&at.error("Unhandled promise rejection",_e)}),Ne._h=D||le(Ne)?2:1),Ne._a=void 0,Ze&&tt.e)throw tt.v})},"onUnhandled"),le=o(function(Ne){return Ne._h!==1&&(Ne._a||Ne._c).length===0},"isUnhandled"),we=o(function(Ne){l.call(h,function(){var _e;D?R.emit("rejectionHandled",Ne):(_e=h.onrejectionhandled)&&_e({promise:Ne,reason:Ne._v})})},"onHandleUnhandled"),Be=o(function(Ne){var _e=this;_e._d||(_e._d=!0,_e=_e._w||_e,_e._v=Ne,_e._s=2,_e._a||(_e._a=_e._c.slice()),ge(_e,!0))},"$reject"),Re=o(function(Ne){var _e=this,Ze;if(!_e._d){_e._d=!0,_e=_e._w||_e;try{if(_e===Ne)throw M("Promise can't be resolved itself");(Ze=ie(Ne))?p(function(){var tt={_w:_e,_d:!1};try{Ze.call(Ne,m(Re,tt,1),m(Be,tt,1))}catch($e){Be.call(tt,$e)}}):(_e._v=Ne,_e._s=1,ge(_e,!1))}catch(tt){Be.call({_w:_e,_d:!1},tt)}}},"$resolve");Y||(A=o(function(_e){e(this,A,I,"_h"),i(_e),O.call(this);try{_e(m(Re,this,1),m(Be,this,1))}catch(Ze){Be.call(this,Ze)}},"Promise"),O=o(function(_e){this._c=[],this._a=void 0,this._s=0,this._d=!1,this._v=void 0,this._h=0,this._n=!1},"Promise"),O.prototype=d("iZ5/")(A.prototype,{then:o(function(_e,Ze){var tt=Z(r(this,A));return tt.ok=typeof _e=="function"?_e:!0,tt.fail=typeof Ze=="function"&&Ze,tt.domain=D?R.domain:void 0,this._c.push(tt),this._a&&this._a.push(tt),this._s&&ge(this,!1),tt.promise},"then"),catch:function(Ne){return this.then(void 0,Ne)}}),k=o(function(){var Ne=new O;this.promise=Ne,this.resolve=m(Re,Ne,1),this.reject=m(Be,Ne,1)},"OwnPromiseCapability"),v.f=Z=o(function(Ne){return Ne===A||Ne===K?new k(Ne):P(Ne)},"newPromiseCapability")),a(a.G+a.W+a.F*!Y,{Promise:A}),d("kvAF")(A,I),d("va3J")(I),K=d("VSTI")[I],a(a.S+a.F*!Y,I,{reject:o(function(_e){var Ze=Z(this),tt=Ze.reject;return tt(_e),Ze.promise},"reject")}),a(a.S+a.F*(S||!Y),I,{resolve:o(function(_e){return s(S&&this===K?A:this,_e)},"resolve")}),a(a.S+a.F*!(Y&&d("h3Hq")(function(Ne){A.all(Ne).catch($)})),I,{all:o(function(_e){var Ze=this,tt=Z(Ze),$e=tt.resolve,at=tt.reject,lt=g(function(){var ot=[],Gt=0,Zt=1;t(_e,!1,function(un){var Un=Gt++,jn=!1;ot.push(void 0),Zt++,Ze.resolve(un).then(function(ci){jn||(jn=!0,ot[Un]=ci,--Zt||$e(ot))},at)}),--Zt||$e(ot)});return lt.e&&at(lt.v),tt.promise},"all"),race:o(function(_e){var Ze=this,tt=Z(Ze),$e=tt.reject,at=g(function(){t(_e,!1,function(lt){Ze.resolve(lt).then(tt.resolve,$e)})});return at.e&&$e(at.v),tt.promise},"race")})},xeHQ:function(N,c,d){"use strict";var S=this&&this.__awaiter||function(a,n,i,e){function t(r){return r instanceof i?r:new i(function(l){l(r)})}return o(t,"adopt"),new(i||(i=Promise))(function(r,l){function p(u){try{g(e.next(u))}catch(s){l(s)}}o(p,"fulfilled");function v(u){try{g(e.throw(u))}catch(s){l(s)}}o(v,"rejected");function g(u){u.done?r(u.value):t(u.value).then(p,v)}o(g,"step"),g((e=e.apply(a,n||[])).next())})};Object.defineProperty(c,"__esModule",{value:!0});const h=d("papz"),m=d("j+uH");let f=o(class extends m.default{cancel(){if(this.cancelPromise){const n=new Error(`canceling ${this.name()} due to the meeting status code: ${h.default.NoAttendeePresent}`);this.cancelPromise(n),delete this.cancelPromise}}run(){return S(this,void 0,void 0,function*(){const n=this.context.meetingSessionConfiguration.credentials.attendeeId;return new Promise((i,e)=>{const t=o((r,l,p,v,g)=>{n===r&&l&&(this.context.realtimeController.realtimeUnsubscribeToAttendeeIdPresence(t),i(),delete this.cancelPromise)},"handler");this.cancelPromise=r=>{this.context.realtimeController.realtimeUnsubscribeToAttendeeIdPresence(t),e(r)},this.context.realtimeController.realtimeSubscribeToAttendeeIdPresence(t)})})}constructor(n){super(n.logger),this.context=n,this.taskName="WaitForAttendeePresenceTask"}},"WaitForAttendeePresenceTask");c.default=f},xfML:function(N,c,d){var S=d("USwo");S(S.S,"Object",{setPrototypeOf:d("DrT7").set})},xsFo:function(N,c,d){"use strict";(function(S){Object.defineProperty(c,"__esModule",{value:!0}),c.convertToBuffer=void 0;var h=d("f/KM"),m=typeof S<"u"&&S.from?function(a){return S.from(a,"utf8")}:h.fromUtf8;function f(a){return a instanceof Uint8Array?a:typeof a=="string"?m(a):ArrayBuffer.isView(a)?new Uint8Array(a.buffer,a.byteOffset,a.byteLength/Uint8Array.BYTES_PER_ELEMENT):new Uint8Array(a)}o(f,"convertToBuffer"),c.convertToBuffer=f}).call(this,d("HDXh").Buffer)},xxdO:function(N,c,d){"use strict";Object.defineProperty(c,"__esModule",{value:!0});var S=d("7JaV");S.__exportStar(d("je3o"),c)},xzjI:function(N,c,d){"use strict";Object.defineProperty(c,"__esModule",{value:!0});let S=o(class extends Error{constructor(m,f){super(f||"Error fetching device."),this.cause=m,this.name="GetUserMediaError"}},"GetUserMediaError");c.default=S},yMiq:function(N,c,d){"use strict";var S=this&&this.__awaiter||function(f,a,n,i){function e(t){return t instanceof n?t:new n(function(r){r(t)})}return o(e,"adopt"),new(n||(n=Promise))(function(t,r){function l(g){try{v(i.next(g))}catch(u){r(u)}}o(l,"fulfilled");function p(g){try{v(i.throw(g))}catch(u){r(u)}}o(p,"rejected");function v(g){g.done?t(g.value):e(g.value).then(l,p)}o(v,"step"),v((i=i.apply(f,a||[])).next())})};Object.defineProperty(c,"__esModule",{value:!0});const h=d("aVV0");let m=o(class extends h.default{run(){return S(this,void 0,void 0,function*(){this.context.resetConnectionSpecificState()})}constructor(a){super(a.logger),this.context=a,this.taskName="CleanRestartedSessionTask"}},"CleanRestartedSessionTask");c.default=m},yQ3g:function(N,c,d){"use strict";Object.defineProperty(c,"__esModule",{value:!0});let S=o(class{start(m){this.stop(),this.timer=setTimeout(()=>{clearTimeout(this.timer),m()},this.timeoutMs)}stop(){this.timer!==null&&(clearTimeout(this.timer),this.timer=null)}constructor(m){this.timeoutMs=m,this.timer=null}},"TimeoutScheduler");c.default=S},yQFZ:function(N,c){N.exports=function(d){if(d==null)throw TypeError("Can't call method on  "+d);return d}},yS4C:function(N,c,d){"use strict";var S=this&&this.__awaiter||function(i,e,t,r){function l(p){return p instanceof t?p:new t(function(v){v(p)})}return o(l,"adopt"),new(t||(t=Promise))(function(p,v){function g(I){try{s(r.next(I))}catch(M){v(M)}}o(g,"fulfilled");function u(I){try{s(r.throw(I))}catch(M){v(M)}}o(u,"rejected");function s(I){I.done?p(I.value):l(I.value).then(g,u)}o(s,"step"),s((r=r.apply(i,e||[])).next())})};Object.defineProperty(c,"__esModule",{value:!0});const h=d("+DE9"),m=d("R+jL"),f=d("Aplu"),a=d("Z/hr");let n=o(class{createDevicePixelRatioMonitorIfNeeded(){this.devicePixelRatioMonitor||(this.devicePixelRatioMonitor=new h.default(new m.default,this.logger))}discardDevicePixelRatioMonitorIfNotNeeded(){return S(this,void 0,void 0,function*(){if(this.tileMap.size||!this.devicePixelRatioMonitor)return;const e=this.devicePixelRatioMonitor;return this.devicePixelRatioMonitor=void 0,e.destroy()})}bindVideoElement(e,t){const r=this.getVideoTile(e);if(r===null){this.logger.warn(`Ignoring video element binding for unknown tile id ${e}`);return}r.bindVideoElement(t)}unbindVideoElement(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;const r=this.getVideoTile(e);if(r===null){this.logger.warn(`Ignoring video element unbinding for unknown tile id ${e}`);return}this.logger.info("Unbinding the video element");const l=r.stateRef().boundVideoElement;r.bindVideoElement(null),t&&(this.logger.info("Cleaning up the video element"),a.default.disconnectVideoStreamFromVideoElement(l,!1))}startLocalVideoTile(){const e=this.findOrCreateLocalVideoTile();return this.currentLocalTile.stateRef().localTileStarted=!0,this.audioVideoController.update({needsRenegotiation:!0}),e.id()}stopLocalVideoTile(){this.currentLocalTile&&(this.currentLocalTile.stateRef().localTileStarted=!1,this.currentLocalTile.bindVideoStream(this.audioVideoController.configuration.credentials.attendeeId,!0,null,null,null,null,this.audioVideoController.configuration.credentials.externalUserId),this.audioVideoController.update({needsRenegotiation:!0}))}hasStartedLocalVideoTile(){return!!(this.currentLocalTile&&this.currentLocalTile.stateRef().localTileStarted)}removeLocalVideoTile(){this.currentLocalTile&&this.removeVideoTile(this.currentLocalTile.id())}getLocalVideoTile(){return this.currentLocalTile}pauseVideoTile(e){const t=this.getVideoTile(e);t&&(this.currentPausedTilesByIds.has(e)||(this.audioVideoController.pauseReceivingStream(t.stateRef().streamId),this.currentPausedTilesByIds.add(e)),t.pause())}unpauseVideoTile(e){const t=this.getVideoTile(e);t&&(this.currentPausedTilesByIds.has(e)&&(this.audioVideoController.resumeReceivingStream(t.stateRef().streamId),this.currentPausedTilesByIds.delete(e)),t.unpause())}getVideoTile(e){return this.tileMap.has(e)?this.tileMap.get(e):null}getVideoTileArea(e){const t=e.state();let r=0,l=0;return t.boundVideoElement&&(r=t.boundVideoElement.clientHeight*t.devicePixelRatio,l=t.boundVideoElement.clientWidth*t.devicePixelRatio),r*l}getAllRemoteVideoTiles(){const e=new Array;return this.tileMap.forEach((t,r)=>{(!this.currentLocalTile||r!==this.currentLocalTile.id())&&e.push(t)}),e}getAllVideoTiles(){return Array.from(this.tileMap.values())}addVideoTile(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;const t=this.nextTileId;this.nextTileId+=1,this.createDevicePixelRatioMonitorIfNeeded();const r=this.tileFactory.makeTile(t,e,this,this.devicePixelRatioMonitor);return this.tileMap.set(t,r),r}removeVideoTile(e){if(!this.tileMap.has(e))return;const t=this.tileMap.get(e);this.currentLocalTile===t&&(this.currentLocalTile=null),t.destroy(),this.tileMap.delete(e),this.audioVideoController.forEachObserver(r=>{f.Maybe.of(r.videoTileWasRemoved).map(l=>l.bind(r)(e))}),this.discardDevicePixelRatioMonitorIfNotNeeded()}removeVideoTilesByAttendeeId(e){const t=[];for(const r of this.getAllVideoTiles()){const l=r.state();l.boundAttendeeId===e&&(this.removeVideoTile(l.tileId),t.push(l.tileId))}return t}removeAllVideoTiles(){const e=Array.from(this.tileMap.keys());for(const t of e)this.removeVideoTile(t)}sendTileStateUpdate(e){this.audioVideoController.forEachObserver(t=>{f.Maybe.of(t.videoTileDidUpdate).map(r=>r.bind(t)(e))})}haveVideoTilesWithStreams(){for(const e of this.getAllVideoTiles())if(e.state().boundVideoStream)return!0;return!1}haveVideoTileForAttendeeId(e){return!!this.getVideoTileForAttendeeId(e)}getVideoTileForAttendeeId(e){for(const t of this.getAllVideoTiles())if(t.state().boundAttendeeId===e)return t}captureVideoTile(e){const t=this.getVideoTile(e);return t?t.capture():null}findOrCreateLocalVideoTile(){return this.currentLocalTile?this.currentLocalTile:(this.currentLocalTile=this.addVideoTile(!0),this.currentLocalTile.bindVideoStream(this.audioVideoController.configuration.credentials.attendeeId,!0,null,null,null,null,this.audioVideoController.configuration.credentials.externalUserId),this.currentLocalTile)}constructor(e,t,r){this.tileFactory=e,this.audioVideoController=t,this.logger=r,this.tileMap=new Map,this.nextTileId=1,this.currentLocalTile=null,this.currentPausedTilesByIds=new Set,this.keepLastFrameWhenPaused=!1,this.keepLastFrameWhenPaused=t.configuration.keepLastFrameWhenPaused}},"DefaultVideoTileController");c.default=n},ySOd:function(N,c,d){"use strict";var S=this&&this.__awaiter||function(t,r,l,p){function v(g){return g instanceof l?g:new l(function(u){u(g)})}return o(v,"adopt"),new(l||(l=Promise))(function(g,u){function s(R){try{M(p.next(R))}catch(B){u(B)}}o(s,"fulfilled");function I(R){try{M(p.throw(R))}catch(B){u(B)}}o(I,"rejected");function M(R){R.done?g(R.value):v(R.value).then(s,I)}o(M,"step"),M((p=p.apply(t,r||[])).next())})};Object.defineProperty(c,"__esModule",{value:!0});const h=d("IsLT"),m=d("zd8f"),f=d("mlaT"),a=d("ZZPe"),n=d("kud1");let i=o(class extends a.default{loadAssets(){return S(this,void 0,void 0,function*(){})}addObserver(){}removeObserver(){}setImageBlob(){return S(this,void 0,void 0,function*(){})}},"NoOpBackgroundReplacementProcessor"),e=o(class Iv extends h.default{static create(r,l){return S(this,void 0,void 0,function*(){r=this.resolveSpec(r),l=this.resolveOptions(l),yield this.resolveOptionsAsync(l);const{logger:p}=l;if(!(yield Iv.isSupported(r,l)))return p.warn("Using no-op processor because background replacement is not supported"),new i;p.info("Using background replacement filter");const g=new n.default(r,l);return yield g.loadAssets(),g})}static resolveOptions(){let r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const l=Object.assign({},r);return l.logger||(l.logger=new m.default("BackgroundReplacementProcessor",f.default.INFO)),super.resolveOptions(l)}static resolveOptionsAsync(r){return S(this,void 0,void 0,function*(){if(!r.imageBlob){const l=document.createElement("canvas");l.width=100,l.height=100;const p=l.getContext("2d");p.fillStyle="blue",p.fillRect(0,0,100,100);const v=yield new Promise(g=>{l.toBlob(g)});r.imageBlob=v}})}static isSupported(r,l){const p=Object.create(null,{isSupported:{get:()=>super.isSupported}});return S(this,void 0,void 0,function*(){r=this.resolveSpec(r),l=this.resolveOptions(l),yield this.resolveOptionsAsync(l);const v=l.imageBlob,g=URL.createObjectURL(v);try{yield n.default.loadImage(g)}catch(u){return l.logger.info(`Failed to fetch load replacement image ${u.message}`),!1}finally{URL.revokeObjectURL(g)}return p.isSupported.call(this,r,l)})}},"BackgroundReplacementVideoFrameProcessor");c.default=e},ya0l:function(N,c,d){"use strict";Object.defineProperty(c,"__esModule",{value:!0});let S=o(class{},"ClientVideoStreamReceivingReport");c.default=S},yqyw:function(N,c,d){"use strict";var S=this&&this.__awaiter||function(a,n,i,e){function t(r){return r instanceof i?r:new i(function(l){l(r)})}return o(t,"adopt"),new(i||(i=Promise))(function(r,l){function p(u){try{g(e.next(u))}catch(s){l(s)}}o(p,"fulfilled");function v(u){try{g(e.throw(u))}catch(s){l(s)}}o(v,"rejected");function g(u){u.done?r(u.value):t(u.value).then(p,v)}o(g,"step"),g((e=e.apply(a,n||[])).next())})};Object.defineProperty(c,"__esModule",{value:!0});const h=d("lUhs"),m=d("aVV0");let f=o(class extends m.default{cancel(){if(this.cancelPromise){const n=new Error(`canceling ${this.name()} due to the meeting status code: ${h.default.NoAttendeePresent}`);this.cancelPromise(n),delete this.cancelPromise}}run(){return S(this,void 0,void 0,function*(){const n=this.context.meetingSessionConfiguration.credentials.attendeeId;return new Promise((i,e)=>{const t=o((r,l,p,v,g)=>{n===r&&l&&(this.context.realtimeController.realtimeUnsubscribeToAttendeeIdPresence(t),i(),delete this.cancelPromise)},"handler");this.cancelPromise=r=>{this.context.realtimeController.realtimeUnsubscribeToAttendeeIdPresence(t),e(r)},this.context.realtimeController.realtimeSubscribeToAttendeeIdPresence(t)})})}constructor(n){super(n.logger),this.context=n,this.taskName="WaitForAttendeePresenceTask"}},"WaitForAttendeePresenceTask");c.default=f},yvTz:function(N,c,d){"use strict";var S=this&&this.__awaiter||function(g,u,s,I){function M(R){return R instanceof s?R:new s(function(B){B(R)})}return o(M,"adopt"),new(s||(s=Promise))(function(R,B){function j($){try{D(I.next($))}catch(O){B(O)}}o(j,"fulfilled");function A($){try{D(I.throw($))}catch(O){B(O)}}o(A,"rejected");function D($){$.done?R($.value):M($.value).then(j,A)}o(D,"step"),D((I=I.apply(g,u||[])).next())})};Object.defineProperty(c,"__esModule",{value:!0});const h=d("2nae"),m=d("HLgz"),f=d("Np2I"),a=d("Sa54"),n=d("Lrln"),i=d("0NFC"),e=d("Q8+J"),t=d("rwhO"),r=d("eeYi"),l=d("ULlC"),p=d("jHTc");let v=o(class{get configuration(){return this._configuration}get logger(){return this._logger}get audioVideo(){return this.audioVideoFacade}get contentShare(){return this.contentShareController}get deviceController(){return this._deviceController}get eventController(){return this._eventController}destroy(){return S(this,void 0,void 0,function*(){t.isDestroyable(this.contentShareController)&&(yield this.contentShareController.destroy()),t.isDestroyable(this.audioVideoController)&&(yield this.audioVideoController.destroy()),t.isDestroyable(this.eventController)&&(yield this.eventController.destroy()),e.default.removeLogger(this._logger),this._logger=void 0,this._configuration=void 0,this._deviceController=void 0,this.audioVideoFacade=void 0,this.audioVideoController=void 0,this.contentShareController=void 0,this._eventController=void 0})}checkBrowserSupportAndFeatureConfiguration(){const u=new a.default,s=`${u.name()} ${u.majorVersion()} (${u.version()})`;if(this.logger.info(`browser is ${s}`),u.isSupported()||this.logger.warn(`this browser is not currently supported. Stability may suffer. Supported browsers are: ${u.supportString()}.`),this._configuration.videoUplinkBandwidthPolicy)if(this.isSimulcastUplinkPolicy(this._configuration.videoUplinkBandwidthPolicy)){if(!u.hasChromiumWebRTC())throw new Error("Simulcast is only supported on Chromium-based browsers");this._configuration.enableSimulcastForUnifiedPlanChromiumBasedBrowsers=!0}else this._configuration.enableSimulcastForUnifiedPlanChromiumBasedBrowsers=!1;this._configuration.enableSimulcastForUnifiedPlanChromiumBasedBrowsers&&(u.hasChromiumWebRTC()?this.logger.info(`Simulcast is enabled for ${u.name()}`):(this._configuration.enableSimulcastForUnifiedPlanChromiumBasedBrowsers=!1,this.logger.info("Simulcast is only supported on Chromium-based browsers")))}isSimulcastUplinkPolicy(u){return!!(u&&u.addObserver)}constructor(u,s,I,M){this._eventController=M,this._configuration=u,this._logger=s,this.checkBrowserSupportAndFeatureConfiguration(),e.default.addLogger(this._logger),e.default.register(),this._eventController||(this._eventController=new r.default(u,s)),I.eventController||(I.eventController=this.eventController),this.audioVideoController=new h.default(this._configuration,this._logger,new p.default(this._logger),I,new l.default(this._configuration.reconnectTimeoutMs,new f.default(this._configuration.reconnectFixedWaitMs,this._configuration.reconnectShortBackOffMs,this._configuration.reconnectLongBackOffMs)),this.eventController),this._deviceController=I;const R=new n.default(this._logger);this.contentShareController=new i.default(R,new h.default(i.default.createContentShareMeetingSessionConfigure(this._configuration),this._logger,new p.default(this._logger),R,new l.default(this._configuration.reconnectTimeoutMs,new f.default(this._configuration.reconnectFixedWaitMs,this._configuration.reconnectShortBackOffMs,this._configuration.reconnectLongBackOffMs))),this.audioVideoController),this.audioVideoFacade=new m.default(this.audioVideoController,this.audioVideoController.videoTileController,this.audioVideoController.realtimeController,this.audioVideoController.audioMixController,this._deviceController,this.contentShareController)}},"DefaultMeetingSession");c.default=v},ywpn:function(N,c,d){"use strict";var S=this&&this.__awaiter||function(l,p,v,g){function u(s){return s instanceof v?s:new v(function(I){I(s)})}return o(u,"adopt"),new(v||(v=Promise))(function(s,I){function M(j){try{B(g.next(j))}catch(A){I(A)}}o(M,"fulfilled");function R(j){try{B(g.throw(j))}catch(A){I(A)}}o(R,"rejected");function B(j){j.done?s(j.value):u(j.value).then(M,R)}o(B,"step"),B((g=g.apply(l,p||[])).next())})};Object.defineProperty(c,"__esModule",{value:!0});const h=d("GEtQ"),m=d("hlxM"),f=d("J93s"),a=d("Sa54"),n=d("59sL"),i=o(()=>f.default.builder().withSelfieSegmentationDefaults().build(),"CREATE_DEFAULT_MODEL_SPEC"),e="https://static.sdkassets.chime.aws",t={worker:`${e}/bgblur/workers/worker.js`,wasm:`${e}/bgblur/wasm/_cwt-wasm.wasm`,simd:`${e}/bgblur/wasm/_cwt-wasm-simd.wasm`};let r=o(class{static defaultAssetSpec(){const p=n.default.sdkVersionSemVer;return{assetGroup:`sdk-${p.major}.${p.minor}`}}static createUrlWithParams(p,v){const g=new URL(p),u=Object.keys(v);for(const s of u)v[s]!==void 0&&g.searchParams.set(s,v[s]);return g.toString()}static resolveSpec(p){const{paths:v=t,model:g=i(),assetGroup:u=this.defaultAssetSpec().assetGroup,revisionID:s=this.defaultAssetSpec().revisionID}=p||{},I={assetGroup:u,revisionID:s,sdk:encodeURIComponent(n.default.sdkVersion),ua:encodeURIComponent(n.default.sdkUserAgentLowResolution)};return v.worker=this.createUrlWithParams(v.worker,I),v.wasm=this.createUrlWithParams(v.wasm,I),v.simd=this.createUrlWithParams(v.simd,I),g.path=this.createUrlWithParams(g.path,I),{paths:v,model:g,assetGroup:u,revisionID:s}}static resolveOptions(p){p.reportingPeriodMillis||(p.reportingPeriodMillis=1e3);const v=30;return p.filterCPUUtilization?(p.filterCPUUtilization<0||p.filterCPUUtilization>100)&&(p.logger.warn(`filterCPUUtilization must be set to a range between 0 and 100 percent. Falling back to default of ${v} percent`),p.filterCPUUtilization=v):p.filterCPUUtilization=v,p}static isSupported(p,v){const{logger:g}=v;return typeof globalThis>"u"?(g.info("Browser does not have globalThis."),Promise.resolve(!1)):new a.default().supportsBackgroundFilter()?m.supportsWASM(globalThis,g)?this.supportsBackgroundFilter(globalThis,p,g):(g.info("Browser does not support WASM."),Promise.resolve(!1)):(g.info("Browser is not supported."),Promise.resolve(!1))}static supportsBackgroundFilter(){let p=arguments.length>0&&arguments[0]!==void 0?arguments[0]:globalThis,v=arguments.length>1?arguments[1]:void 0,g=arguments.length>2?arguments[2]:void 0;return S(this,void 0,void 0,function*(){if(!m.supportsWorker(p,g))return g.info("Browser does not support web workers."),!1;const u=v.paths.worker;try{const s=yield h.loadWorker(u,"BackgroundFilterWorker",{},null);try{s.terminate()}catch(I){g.info(`Failed to terminate worker. ${I.message}`)}return!0}catch(s){return g.info(`Failed to fetch and instantiate test worker ${s.message}`),!1}})}},"BackgroundFilterVideoFrameProcessor");c.default=r},yx2K:function(N,c,d){"use strict";var S=this&&this.__awaiter||function(R,B,j,A){function D($){return $ instanceof j?$:new j(function(O){O($)})}return o(D,"adopt"),new(j||(j=Promise))(function($,O){function P(Z){try{K(A.next(Z))}catch(Y){O(Y)}}o(P,"fulfilled");function k(Z){try{K(A.throw(Z))}catch(Y){O(Y)}}o(k,"rejected");function K(Z){Z.done?$(Z.value):D(Z.value).then(P,k)}o(K,"step"),K((A=A.apply(R,B||[])).next())})};Object.defineProperty(c,"__esModule",{value:!0});const h=d("WHnE"),m=d("Sa54"),f=d("RUbL"),a=d("V4cD"),n=d("aVV0"),i=d("L+i+"),e=d("Yvks"),t=d("jmx1"),r=d("zN22"),l=d("CPHI"),p=d("2Bsk"),v=d("aSsB"),g=d("kph0"),u=d("SdmA"),s=d("NFcc"),I=d("+7ft");let M=o(class wv{static delay(B){return S(this,void 0,void 0,function*(){return new Promise(j=>setTimeout(j,B))})}checkAudioInput(B){return S(this,void 0,void 0,function*(){try{return yield this.meetingSession.audioVideo.startAudioInput(B),yield this.meetingSession.audioVideo.stopAudioInput(),t.default.Succeeded}catch(j){return this.logger.error(`MeetingReadinessChecker: Audio input check failed with error ${j}`),j instanceof a.default?t.default.PermissionDenied:t.default.Failed}})}checkAudioOutput(B,j){let A=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null;return S(this,void 0,void 0,function*(){try{const D=B?f.default.getIntrinsicDeviceId(B):"";return yield this.playTone(D,this.configuration.audioOutputFrequency,A),(yield j())?r.default.Succeeded:r.default.Failed}catch(D){return this.logger.error(`MeetingReadinessChecker: Audio output check failed with error: ${D}`),r.default.Failed}finally{this.stopTone()}})}playTone(B,j,A){return S(this,void 0,void 0,function*(){const $=this.configuration.audioOutputGain;this.oscillatorNode&&this.stopTone(),this.audioContext=f.default.getAudioContext(),this.gainNode=this.audioContext.createGain(),this.gainNode.gain.value=0,this.oscillatorNode=this.audioContext.createOscillator(),this.oscillatorNode.frequency.value=j,this.oscillatorNode.connect(this.gainNode),this.destinationStream=this.audioContext.createMediaStreamDestination(),this.gainNode.connect(this.destinationStream);const P=this.audioContext.currentTime+.1;this.gainNode.gain.linearRampToValueAtTime(0,P),this.gainNode.gain.linearRampToValueAtTime($,P+.1),this.oscillatorNode.start();const k=new h.default(this.logger);try{this.browserBehavior.supportsSetSinkId()&&(yield k.bindAudioDevice({deviceId:B}))}catch(K){this.logger.error(`Failed to bind audio device: ${K}`)}try{yield k.bindAudioElement(A||new Audio)}catch(K){this.logger.error(`Failed to bind audio element: ${K}`)}yield k.bindAudioStream(this.destinationStream.stream)})}stopTone(){if(!this.audioContext||!this.gainNode||!this.oscillatorNode||!this.destinationStream)return;const B=1,j=.1,A=this.configuration.audioOutputGain,D=this.audioContext.currentTime;this.gainNode.gain.linearRampToValueAtTime(A,D+j+B),this.gainNode.gain.linearRampToValueAtTime(0,D+j*2+B),this.oscillatorNode.stop(),this.oscillatorNode.disconnect(this.gainNode),this.gainNode.disconnect(this.destinationStream),this.oscillatorNode=null,this.gainNode=null,this.destinationStream=null}checkVideoInput(B){return S(this,void 0,void 0,function*(){try{return yield this.meetingSession.audioVideo.startVideoInput(B),yield this.meetingSession.audioVideo.stopVideoInput(),s.default.Succeeded}catch(j){return this.logger.error(`MeetingReadinessChecker: Video check failed with error ${j}`),j instanceof a.default?s.default.PermissionDenied:s.default.Failed}})}checkCameraResolution(B,j,A){return S(this,void 0,void 0,function*(){let D;try{const $=f.default.getIntrinsicDeviceId(B),O={video:this.calculateVideoConstraint($,j,A)};D=yield navigator.mediaDevices.getUserMedia(O)}catch($){return this.logger.error(`MeetingReadinessChecker: Camera resolution check with width: ${j} height ${A} failed with error ${$}`),$&&$.name==="OverconstrainedError"?l.default.ResolutionNotSupported:$&&$.name==="NotAllowedError"?l.default.PermissionDenied:l.default.Failed}finally{D&&D.getTracks().forEach(function($){$.stop()})}return l.default.Succeeded})}calculateVideoConstraint(B,j,A){const D=this.browserBehavior.requiresResolutionAlignment(j,A),$={};return this.browserBehavior.requiresNoExactMediaStreamConstraints()?($.deviceId=B,$.width=j,$.height=A):($.deviceId={exact:B},$.width={exact:D[0]},$.height={exact:D[1]}),$}checkContentShareConnectivity(B){return S(this,void 0,void 0,function*(){let j=!1,A=!1;const D={contentShareDidStart:()=>{j=!0}},$={audioVideoDidStart:()=>{A=!0}};try{return this.meetingSession.audioVideo.addObserver($),this.meetingSession.audioVideo.start(),this.meetingSession.audioVideo.addContentShareObserver(D),yield this.meetingSession.audioVideo.startContentShareFromScreenCapture(B),yield this.executeTimeoutTask(()=>S(this,void 0,void 0,function*(){return A&&j})),A?(yield this.stopMeeting(),j?p.default.Succeeded:p.default.TimedOut):p.default.ConnectionFailed}catch(O){return this.logger.error(`MeetingReadinessChecker: Content share check failed with error ${O}`),O.name==="NotAllowedError"?p.default.PermissionDenied:p.default.Failed}finally{this.meetingSession.audioVideo.removeObserver($),this.meetingSession.audioVideo.stopContentShare(),this.meetingSession.audioVideo.removeContentShareObserver(D)}})}checkAudioConnectivity(B){return S(this,void 0,void 0,function*(){let j=!1;const A={packetsReceived:0},D=this.meetingSession.audioVideo,$={metricsDidReceive(P){P.getRTCStatsReport().forEach(k=>{k.type==="inbound-rtp"&&k.mediaType==="audio"&&(A.packetsReceived=k.packetsReceived)})}},O=o((P,k,K,Z)=>{P===this.meetingSession.configuration.credentials.attendeeId&&k&&(j=!0)},"attendeePresenceHandler");try{yield D.startAudioInput(B)}catch(P){return this.logger.error(`MeetingReadinessChecker: Failed to get audio input device with error ${P}`),P instanceof a.default?e.default.AudioInputPermissionDenied:e.default.AudioInputRequestFailed}return D.realtimeSubscribeToAttendeeIdPresence(O),D.addObserver($),(yield this.startMeeting())?(yield this.executeTimeoutTask(()=>S(this,void 0,void 0,function*(){return this.isAudioConnectionSuccessful(j,A)})),D.removeObserver($),D.realtimeUnsubscribeToAttendeeIdPresence(O),yield this.stopMeeting(),yield this.meetingSession.audioVideo.stopAudioInput(),this.isAudioConnectionSuccessful(j,A)?e.default.Succeeded:e.default.AudioNotReceived):(D.removeObserver($),D.realtimeUnsubscribeToAttendeeIdPresence(O),yield this.meetingSession.audioVideo.stopAudioInput(),e.default.ConnectionFailed)})}checkVideoConnectivity(B){return S(this,void 0,void 0,function*(){const j=this.meetingSession.audioVideo;let A=0;const D={metricsDidReceive($){$.getRTCStatsReport().forEach(P=>{P.type==="outbound-rtp"&&P.mediaType==="video"&&(A=P.packetsSent)})}};try{yield j.startVideoInput(B)}catch($){return this.logger.error(`MeetingReadinessChecker: Failed to get video input device with error ${$}`),$ instanceof a.default?u.default.VideoInputPermissionDenied:u.default.VideoInputRequestFailed}return j.addObserver(D),(yield this.startMeeting())?(j.startLocalVideoTile(),yield this.executeTimeoutTask(()=>S(this,void 0,void 0,function*(){return A>0})),yield j.stopVideoInput(),yield this.stopMeeting(),j.removeObserver(D),A<=0?u.default.VideoNotSent:u.default.Succeeded):u.default.ConnectionFailed})}checkNetworkUDPConnectivity(){return S(this,void 0,void 0,function*(){let B=!1;const j={metricsDidReceive(D){D.getRTCStatsReport().forEach(O=>{O.type==="candidate-pair"&&O.state==="succeeded"&&(B=!0)})}};try{this.originalURLRewriter=this.meetingSession.configuration.urls.urlRewriter}catch(D){return this.logger.error(`MeetingSessionConfiguration.urls doesn't exist. Error: ${D}`),g.default.MeetingSessionURLsNotInitialized}this.meetingSession.configuration.urls.urlRewriter=D=>{const $=this.originalURLRewriter(D);return $.includes("transport=tcp")?"":$};const A=this.meetingSession.audioVideo;return A.addObserver(j),(yield this.startMeeting())?(yield this.executeTimeoutTask(()=>S(this,void 0,void 0,function*(){return B})),this.meetingSession.configuration.urls.urlRewriter=this.originalURLRewriter,yield this.stopMeeting(),A.removeObserver(j),B?g.default.Succeeded:g.default.ICENegotiationFailed):(this.meetingSession.configuration.urls.urlRewriter=this.originalURLRewriter,g.default.ConnectionFailed)})}checkNetworkTCPConnectivity(){return S(this,void 0,void 0,function*(){let B=!1;const j={metricsDidReceive(D){D.getRTCStatsReport().forEach(O=>{O.type==="candidate-pair"&&O.state==="succeeded"&&(B=!0)})}};try{this.originalURLRewriter=this.meetingSession.configuration.urls.urlRewriter}catch(D){return this.logger.error(`MeetingSessionConfiguration.urls doesn't exist. Error: ${D}`),v.default.MeetingSessionURLsNotInitialized}this.meetingSession.configuration.urls.urlRewriter=D=>{const $=this.originalURLRewriter(D);return $.includes("transport=udp")?"":$};const A=this.meetingSession.audioVideo;return A.addObserver(j),(yield this.startMeeting())?(yield this.executeTimeoutTask(()=>S(this,void 0,void 0,function*(){return B})),this.meetingSession.configuration.urls.urlRewriter=this.originalURLRewriter,yield this.stopMeeting(),A.removeObserver(j),B?v.default.Succeeded:v.default.ICENegotiationFailed):(this.meetingSession.configuration.urls.urlRewriter=this.originalURLRewriter,v.default.ConnectionFailed)})}startMeeting(){return S(this,void 0,void 0,function*(){let B=!1;const j={audioVideoDidStart:()=>{B=!0}};return this.meetingSession.audioVideo.addObserver(j),this.meetingSession.audioVideo.start(),yield this.executeTimeoutTask(()=>S(this,void 0,void 0,function*(){return B})),this.meetingSession.audioVideo.removeObserver(j),B})}stopMeeting(){return S(this,void 0,void 0,function*(){let B=!1;const j={audioVideoDidStop:A=>{B=!0}};return this.meetingSession.audioVideo.addObserver(j),this.meetingSession.audioVideo.stop(),yield this.executeTimeoutTask(()=>S(this,void 0,void 0,function*(){return B})),this.meetingSession.audioVideo.removeObserver(j),B})}executeTimeoutTask(B){return S(this,void 0,void 0,function*(){let j=!1,A=o(class extends n.default{cancel(){this.isCancelled=!0}run(){return S(this,void 0,void 0,function*(){for(;!this.isCancelled;){if(yield B()){j=!0;break}yield wv.delay(this.waitDurationMs)}})}constructor(O,P){super(O),this.waitDurationMs=P,this.isCancelled=!1}},"CheckForConditionTask");return yield new i.default(this.logger,new A(this.logger,this.configuration.waitDurationMs),this.configuration.timeoutMs).run(),j})}isAudioConnectionSuccessful(B,j){return B&&j.packetsReceived>0}constructor(B,j,A=new I.default){this.logger=B,this.meetingSession=j,this.configuration=A,this.browserBehavior=new m.default}},"DefaultMeetingReadinessChecker");c.default=M},"z8+u":function(N,c,d){"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.WebSocketReadyState=void 0;var S;(function(h){h[h.None=0]="None",h[h.Connecting=1]="Connecting",h[h.Open=2]="Open",h[h.Closing=3]="Closing",h[h.Closed=4]="Closed"})(S=c.WebSocketReadyState||(c.WebSocketReadyState={})),c.default=S},zBWt:function(N,c,d){var S=d("s2er")("wks"),h=d("ixoo"),m=d("7whZ").Symbol,f=typeof m=="function",a=N.exports=function(n){return S[n]||(S[n]=f&&m[n]||(f?m:h)("Symbol."+n))};a.store=S},zH6K:function(N,c,d){"use strict";var S=this&&this.__awaiter||function(a,n,i,e){function t(r){return r instanceof i?r:new i(function(l){l(r)})}return o(t,"adopt"),new(i||(i=Promise))(function(r,l){function p(u){try{g(e.next(u))}catch(s){l(s)}}o(p,"fulfilled");function v(u){try{g(e.throw(u))}catch(s){l(s)}}o(v,"rejected");function g(u){u.done?r(u.value):t(u.value).then(p,v)}o(g,"step"),g((e=e.apply(a,n||[])).next())})};Object.defineProperty(c,"__esModule",{value:!0});const h=d("F7zz"),m=d("BkFD");let f=o(class Ov{sortedDeviceList(){return S(this,void 0,void 0,function*(){return(yield navigator.mediaDevices.enumerateDevices()).sort((i,e)=>i.deviceId<e.deviceId?1:i.deviceId>e.deviceId?-1:0)})}handleDeviceChangeEvent(){for(const n of this.deviceChangeListeners)h.default.nextTick(()=>{if(this.deviceChangeListeners.has(n)){const i=new Event("devicechange");typeof n=="function"?n(i):n.handleEvent(i)}})}constructor(){this.scheduler=null,this.devices=null,this.deviceChangeListeners=new Set,this.get=(n,i,e)=>{if(!Reflect.has(n,i))return;if(!("ondevicechange"in navigator.mediaDevices)){if(i==="addEventListener")return this.patchAddEventListener(n,i,e);if(i==="removeEventListener")return this.patchRemoveEventListener(n,i,e)}const t=Reflect.get(n,i,e);return typeof t=="function"?t.bind(n):t},this.patchAddEventListener=(n,i,e)=>{const t=Reflect.get(n,i,e);return(r,l,p)=>{if(r==="devicechange")this.deviceChangeListeners.add(l),this.scheduler||(this.scheduler=new m.default(Ov.INTERVAL_MS),this.scheduler.start(this.pollDeviceLists));else return Reflect.apply(t,n,[r,l,p])}},this.patchRemoveEventListener=(n,i,e)=>{const t=Reflect.get(n,i,e);return(r,l,p)=>{if(r==="devicechange")this.deviceChangeListeners.delete(l),this.deviceChangeListeners.size===0&&this.scheduler&&(this.scheduler.stop(),this.scheduler=null);else return Reflect.apply(t,n,[r,l,p])}},this.pollDeviceLists=()=>S(this,void 0,void 0,function*(){const n=yield this.sortedDeviceList();this.devices&&(n.length!==this.devices.length||n.some((e,t)=>e.deviceId!==this.devices[t].deviceId))&&this.handleDeviceChangeEvent(),this.devices=n})}},"MediaDeviceProxyHandler");c.default=f,f.INTERVAL_MS=1e3},zN22:function(N,c,d){"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.CheckAudioOutputFeedback=void 0;var S;(function(h){h[h.Succeeded=0]="Succeeded",h[h.Failed=1]="Failed"})(S=c.CheckAudioOutputFeedback||(c.CheckAudioOutputFeedback={})),c.default=S},zNm1:function(N,c,d){"use strict";var S=this&&this.__awaiter||function(a,n,i,e){function t(r){return r instanceof i?r:new i(function(l){l(r)})}return o(t,"adopt"),new(i||(i=Promise))(function(r,l){function p(u){try{g(e.next(u))}catch(s){l(s)}}o(p,"fulfilled");function v(u){try{g(e.throw(u))}catch(s){l(s)}}o(v,"rejected");function g(u){u.done?r(u.value):t(u.value).then(p,v)}o(g,"step"),g((e=e.apply(a,n||[])).next())})};Object.defineProperty(c,"__esModule",{value:!0}),c.NoOpDeviceControllerWithEventController=void 0;const h=d("r9Lw");let m=o(class extends h.default{destroy(){return S(this,void 0,void 0,function*(){this.destroyed=!0})}listAudioInputDevices(){return Promise.resolve([])}listVideoInputDevices(){return Promise.resolve([])}listAudioOutputDevices(){return Promise.resolve([])}startAudioInput(n){return Promise.reject()}stopAudioInput(){return Promise.resolve()}startVideoInput(n){return Promise.reject()}stopVideoInput(){return Promise.resolve()}chooseAudioOutput(n){return Promise.reject()}addDeviceChangeObserver(n){}removeDeviceChangeObserver(n){}createAnalyserNodeForAudioInput(){return null}startVideoPreviewForVideoInput(n){}stopVideoPreviewForVideoInput(n){}setDeviceLabelTrigger(n){}mixIntoAudioInput(n){return null}chooseVideoInputQuality(n,i,e){}getVideoInputQualitySettings(){return null}constructor(n){super(),this.destroyed=!1}},"NoOpDeviceController");c.default=m;let f=o(class extends m{constructor(n){super(),this.eventController=n}},"NoOpDeviceControllerWithEventController");c.NoOpDeviceControllerWithEventController=f},"zW/2":function(N,c,d){"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.isEmptyData=void 0;function S(h){return typeof h=="string"?h.length===0:h.byteLength===0}o(S,"isEmptyData"),c.isEmptyData=S},"zcg+":function(N,c,d){"use strict";Object.defineProperty(c,"__esModule",{value:!0});let S=o(class{start(m){this.stop(),this.timer=setTimeout(()=>{clearTimeout(this.timer),m()},this.timeoutMs)}stop(){this.timer!==null&&(clearTimeout(this.timer),this.timer=null)}constructor(m){this.timeoutMs=m,this.timer=null}},"TimeoutScheduler");c.default=S},zd8f:function(N,c,d){"use strict";Object.defineProperty(c,"__esModule",{value:!0});const S=d("mlaT");let h=o(class{info(f){this.log(S.default.INFO,f)}warn(f){this.log(S.default.WARN,f)}error(f){this.log(S.default.ERROR,f)}debug(f){S.default.DEBUG<this.level||(typeof f=="string"?this.log(S.default.DEBUG,f):f?this.log(S.default.DEBUG,f()):this.log(S.default.DEBUG,""+f))}setLogLevel(f){this.level=f}getLogLevel(){return this.level}log(f,a){if(f<this.level)return;const i=`${new Date().toISOString()} [${S.default[f]}] ${this.name} - ${a}`;switch(f){case S.default.ERROR:console.error(i);break;case S.default.WARN:console.warn(i);break;case S.default.DEBUG:console.debug(i.replace(/\\r\\n/g,`
`));break;case S.default.INFO:console.info(i);break}}constructor(f,a=S.default.WARN){this.name=f,this.level=a}},"ConsoleLogger");c.default=h},znrX:function(N,c,d){var S=d("nA4W"),h=d("CYMq"),m=d("WpRT")("IE_PROTO"),f=Object.prototype;N.exports=Object.getPrototypeOf||function(a){return a=h(a),S(a,m)?a[m]:typeof a.constructor=="function"&&a instanceof a.constructor?a.constructor.prototype:a instanceof Object?f:null}}}]);})();
